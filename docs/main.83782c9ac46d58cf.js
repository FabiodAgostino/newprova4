(self.webpackChunknewprova4=self.webpackChunknewprova4||[]).push([[179],{6532:(ei,Lt,re)=>{"use strict";var s=re(4650);let ze=null;function oe(){return ze}class vt{}const Ke=new s.OlP("DocumentToken");let Tt=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ut(){return(0,s.LFG)(De)}()},providedIn:"platform"}),n})();const Ee=new s.OlP("Location Initialized");let De=(()=>{class n extends Tt{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return oe().getBaseHref(this._doc)}onPopState(e){const i=oe().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=oe().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){Ge()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){Ge()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ke))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function hn(){return new De((0,s.LFG)(Ke))}()},providedIn:"platform"}),n})();function Ge(){return!!window.history.pushState}function Qt(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function yn(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Nn(n){return n&&"?"!==n[0]?"?"+n:n}let yt=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(St)},providedIn:"root"}),n})();const Ut=new s.OlP("appBaseHref");let St=(()=>{class n extends yt{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(Ke).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Qt(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Nn(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const a=this.prepareExternalUrl(r+Nn(o));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){const a=this.prepareExternalUrl(r+Nn(o));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Tt),s.LFG(Ut,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qt=(()=>{class n extends yt{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Qt(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let a=this.prepareExternalUrl(r+Nn(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){let a=this.prepareExternalUrl(r+Nn(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Tt),s.LFG(Ut,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Jt=(()=>{class n{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=yn(Tn(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Nn(i))}normalize(e){return n.stripTrailingSlash(function en(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Tn(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Nn(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Nn(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Nn,n.joinWithSlash=Qt,n.stripTrailingSlash=yn,n.\u0275fac=function(e){return new(e||n)(s.LFG(yt))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ti(){return new Jt((0,s.LFG)(yt))}()},providedIn:"root"}),n})();function Tn(n){return n.replace(/\/index.html$/,"")}var Zn=(()=>((Zn=Zn||{})[Zn.Decimal=0]="Decimal",Zn[Zn.Percent=1]="Percent",Zn[Zn.Currency=2]="Currency",Zn[Zn.Scientific=3]="Scientific",Zn))(),It=(()=>((It=It||{})[It.Format=0]="Format",It[It.Standalone=1]="Standalone",It))(),dt=(()=>((dt=dt||{})[dt.Narrow=0]="Narrow",dt[dt.Abbreviated=1]="Abbreviated",dt[dt.Wide=2]="Wide",dt[dt.Short=3]="Short",dt))(),Kt=(()=>((Kt=Kt||{})[Kt.Short=0]="Short",Kt[Kt.Medium=1]="Medium",Kt[Kt.Long=2]="Long",Kt[Kt.Full=3]="Full",Kt))(),Nt=(()=>((Nt=Nt||{})[Nt.Decimal=0]="Decimal",Nt[Nt.Group=1]="Group",Nt[Nt.List=2]="List",Nt[Nt.PercentSign=3]="PercentSign",Nt[Nt.PlusSign=4]="PlusSign",Nt[Nt.MinusSign=5]="MinusSign",Nt[Nt.Exponential=6]="Exponential",Nt[Nt.SuperscriptingExponent=7]="SuperscriptingExponent",Nt[Nt.PerMille=8]="PerMille",Nt[Nt.Infinity=9]="Infinity",Nt[Nt.NaN=10]="NaN",Nt[Nt.TimeSeparator=11]="TimeSeparator",Nt[Nt.CurrencyDecimal=12]="CurrencyDecimal",Nt[Nt.CurrencyGroup=13]="CurrencyGroup",Nt))();function xs(n,t){return Mr((0,s.cg1)(n)[s.wAp.DateFormat],t)}function Cl(n,t){return Mr((0,s.cg1)(n)[s.wAp.TimeFormat],t)}function fo(n,t){return Mr((0,s.cg1)(n)[s.wAp.DateTimeFormat],t)}function cr(n,t){const e=(0,s.cg1)(n),i=e[s.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===Nt.CurrencyDecimal)return e[s.wAp.NumberSymbols][Nt.Decimal];if(t===Nt.CurrencyGroup)return e[s.wAp.NumberSymbols][Nt.Group]}return i}function uc(n){if(!n[s.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[s.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Mr(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Us(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Kr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,hc={},$o=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var si=(()=>((si=si||{})[si.Short=0]="Short",si[si.ShortGMT=1]="ShortGMT",si[si.Long=2]="Long",si[si.Extended=3]="Extended",si))(),Hn=(()=>((Hn=Hn||{})[Hn.FullYear=0]="FullYear",Hn[Hn.Month=1]="Month",Hn[Hn.Date=2]="Date",Hn[Hn.Hours=3]="Hours",Hn[Hn.Minutes=4]="Minutes",Hn[Hn.Seconds=5]="Seconds",Hn[Hn.FractionalSeconds=6]="FractionalSeconds",Hn[Hn.Day=7]="Day",Hn))(),vi=(()=>((vi=vi||{})[vi.DayPeriods=0]="DayPeriods",vi[vi.Days=1]="Days",vi[vi.Months=2]="Months",vi[vi.Eras=3]="Eras",vi))();function Il(n,t,e,i){let r=function Qe(n){if(Vn(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,a=1]=n.split("-").map(u=>+u);return Ai(r,o-1,a)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Kr))return function Rn(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const a=Number(n[4]||0)-e,u=Number(n[5]||0)-i,h=Number(n[6]||0),f=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,a,u,h,f),t}(i)}const t=new Date(n);if(!Vn(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Oi(e,t)||t;let u,a=[];for(;t;){if(u=$o.exec(t),!u){a.push(t);break}{a=a.concat(u.slice(1));const _=a.pop();if(!_)break;t=_}}let h=r.getTimezoneOffset();i&&(h=ve(i,h),r=function wt(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function Me(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(ve(t,r)-r))}(r,i,!0));let f="";return a.forEach(_=>{const C=function Ce(n){if(fa[n])return fa[n];let t;switch(n){case"G":case"GG":case"GGG":t=Vi(vi.Eras,dt.Abbreviated);break;case"GGGG":t=Vi(vi.Eras,dt.Wide);break;case"GGGGG":t=Vi(vi.Eras,dt.Narrow);break;case"y":t=Hi(Hn.FullYear,1,0,!1,!0);break;case"yy":t=Hi(Hn.FullYear,2,0,!0,!0);break;case"yyy":t=Hi(Hn.FullYear,3,0,!1,!0);break;case"yyyy":t=Hi(Hn.FullYear,4,0,!1,!0);break;case"Y":t=Es(1);break;case"YY":t=Es(2,!0);break;case"YYY":t=Es(3);break;case"YYYY":t=Es(4);break;case"M":case"L":t=Hi(Hn.Month,1,1);break;case"MM":case"LL":t=Hi(Hn.Month,2,1);break;case"MMM":t=Vi(vi.Months,dt.Abbreviated);break;case"MMMM":t=Vi(vi.Months,dt.Wide);break;case"MMMMM":t=Vi(vi.Months,dt.Narrow);break;case"LLL":t=Vi(vi.Months,dt.Abbreviated,It.Standalone);break;case"LLLL":t=Vi(vi.Months,dt.Wide,It.Standalone);break;case"LLLLL":t=Vi(vi.Months,dt.Narrow,It.Standalone);break;case"w":t=rl(1);break;case"ww":t=rl(2);break;case"W":t=rl(1,!0);break;case"d":t=Hi(Hn.Date,1);break;case"dd":t=Hi(Hn.Date,2);break;case"c":case"cc":t=Hi(Hn.Day,1);break;case"ccc":t=Vi(vi.Days,dt.Abbreviated,It.Standalone);break;case"cccc":t=Vi(vi.Days,dt.Wide,It.Standalone);break;case"ccccc":t=Vi(vi.Days,dt.Narrow,It.Standalone);break;case"cccccc":t=Vi(vi.Days,dt.Short,It.Standalone);break;case"E":case"EE":case"EEE":t=Vi(vi.Days,dt.Abbreviated);break;case"EEEE":t=Vi(vi.Days,dt.Wide);break;case"EEEEE":t=Vi(vi.Days,dt.Narrow);break;case"EEEEEE":t=Vi(vi.Days,dt.Short);break;case"a":case"aa":case"aaa":t=Vi(vi.DayPeriods,dt.Abbreviated);break;case"aaaa":t=Vi(vi.DayPeriods,dt.Wide);break;case"aaaaa":t=Vi(vi.DayPeriods,dt.Narrow);break;case"b":case"bb":case"bbb":t=Vi(vi.DayPeriods,dt.Abbreviated,It.Standalone,!0);break;case"bbbb":t=Vi(vi.DayPeriods,dt.Wide,It.Standalone,!0);break;case"bbbbb":t=Vi(vi.DayPeriods,dt.Narrow,It.Standalone,!0);break;case"B":case"BB":case"BBB":t=Vi(vi.DayPeriods,dt.Abbreviated,It.Format,!0);break;case"BBBB":t=Vi(vi.DayPeriods,dt.Wide,It.Format,!0);break;case"BBBBB":t=Vi(vi.DayPeriods,dt.Narrow,It.Format,!0);break;case"h":t=Hi(Hn.Hours,1,-12);break;case"hh":t=Hi(Hn.Hours,2,-12);break;case"H":t=Hi(Hn.Hours,1);break;case"HH":t=Hi(Hn.Hours,2);break;case"m":t=Hi(Hn.Minutes,1);break;case"mm":t=Hi(Hn.Minutes,2);break;case"s":t=Hi(Hn.Seconds,1);break;case"ss":t=Hi(Hn.Seconds,2);break;case"S":t=Hi(Hn.FractionalSeconds,1);break;case"SS":t=Hi(Hn.FractionalSeconds,2);break;case"SSS":t=Hi(Hn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Wo(si.Short);break;case"ZZZZZ":t=Wo(si.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Wo(si.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Wo(si.Long);break;default:return null}return fa[n]=t,t}(_);f+=C?C(r,e,h):"''"===_?"'":_.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),f}function Ai(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Oi(n,t){const e=function di(n){return(0,s.cg1)(n)[s.wAp.LocaleId]}(n);if(hc[e]=hc[e]||{},hc[e][t])return hc[e][t];let i="";switch(t){case"shortDate":i=xs(n,Kt.Short);break;case"mediumDate":i=xs(n,Kt.Medium);break;case"longDate":i=xs(n,Kt.Long);break;case"fullDate":i=xs(n,Kt.Full);break;case"shortTime":i=Cl(n,Kt.Short);break;case"mediumTime":i=Cl(n,Kt.Medium);break;case"longTime":i=Cl(n,Kt.Long);break;case"fullTime":i=Cl(n,Kt.Full);break;case"short":const r=Oi(n,"shortTime"),o=Oi(n,"shortDate");i=Qs(fo(n,Kt.Short),[r,o]);break;case"medium":const a=Oi(n,"mediumTime"),u=Oi(n,"mediumDate");i=Qs(fo(n,Kt.Medium),[a,u]);break;case"long":const h=Oi(n,"longTime"),f=Oi(n,"longDate");i=Qs(fo(n,Kt.Long),[h,f]);break;case"full":const _=Oi(n,"fullTime"),C=Oi(n,"fullDate");i=Qs(fo(n,Kt.Full),[_,C])}return i&&(hc[e][t]=i),i}function Qs(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Zr(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let a=String(n);for(;a.length<t;)a="0"+a;return i&&(a=a.slice(a.length-t)),o+a}function Hi(n,t,e=0,i=!1,r=!1){return function(o,a){let u=function uu(n,t){switch(n){case Hn.FullYear:return t.getFullYear();case Hn.Month:return t.getMonth();case Hn.Date:return t.getDate();case Hn.Hours:return t.getHours();case Hn.Minutes:return t.getMinutes();case Hn.Seconds:return t.getSeconds();case Hn.FractionalSeconds:return t.getMilliseconds();case Hn.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||u>-e)&&(u+=e),n===Hn.Hours)0===u&&-12===e&&(u=12);else if(n===Hn.FractionalSeconds)return function Yo(n,t){return Zr(n,3).substring(0,t)}(u,t);const h=cr(a,Nt.MinusSign);return Zr(u,t,h,i,r)}}function Vi(n,t,e=It.Format,i=!1){return function(r,o){return function po(n,t,e,i,r,o){switch(e){case vi.Months:return function Mi(n,t,e){const i=(0,s.cg1)(n),o=Mr([i[s.wAp.MonthsFormat],i[s.wAp.MonthsStandalone]],t);return Mr(o,e)}(t,r,i)[n.getMonth()];case vi.Days:return function to(n,t,e){const i=(0,s.cg1)(n),o=Mr([i[s.wAp.DaysFormat],i[s.wAp.DaysStandalone]],t);return Mr(o,e)}(t,r,i)[n.getDay()];case vi.DayPeriods:const a=n.getHours(),u=n.getMinutes();if(o){const f=function Ps(n){const t=(0,s.cg1)(n);return uc(t),(t[s.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Us(i):[Us(i[0]),Us(i[1])])}(t),_=function Sl(n,t,e){const i=(0,s.cg1)(n);uc(i);const o=Mr([i[s.wAp.ExtraData][0],i[s.wAp.ExtraData][1]],t)||[];return Mr(o,e)||[]}(t,r,i),C=f.findIndex(F=>{if(Array.isArray(F)){const[B,U]=F,H=a>=B.hours&&u>=B.minutes,Z=a<U.hours||a===U.hours&&u<U.minutes;if(B.hours<U.hours){if(H&&Z)return!0}else if(H||Z)return!0}else if(F.hours===a&&F.minutes===u)return!0;return!1});if(-1!==C)return _[C]}return function Sr(n,t,e){const i=(0,s.cg1)(n),o=Mr([i[s.wAp.DayPeriodsFormat],i[s.wAp.DayPeriodsStandalone]],t);return Mr(o,e)}(t,r,i)[a<12?0:1];case vi.Eras:return function Ro(n,t){return Mr((0,s.cg1)(n)[s.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function Wo(n){return function(t,e,i){const r=-1*i,o=cr(e,Nt.MinusSign),a=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case si.Short:return(r>=0?"+":"")+Zr(a,2,o)+Zr(Math.abs(r%60),2,o);case si.ShortGMT:return"GMT"+(r>=0?"+":"")+Zr(a,1,o);case si.Long:return"GMT"+(r>=0?"+":"")+Zr(a,2,o)+":"+Zr(Math.abs(r%60),2,o);case si.Extended:return 0===i?"Z":(r>=0?"+":"")+Zr(a,2,o)+":"+Zr(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function Aa(n){return Ai(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function rl(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();r=1+Math.floor((a+o)/7)}else{const o=Aa(e),a=function ha(n){const t=Ai(n,0,1).getDay();return Ai(n,0,1+(t<=4?4:11)-t)}(o.getFullYear()),u=o.getTime()-a.getTime();r=1+Math.round(u/6048e5)}return Zr(r,n,cr(i,Nt.MinusSign))}}function Es(n,t=!1){return function(e,i){return Zr(Aa(e).getFullYear(),n,cr(i,Nt.MinusSign),t)}}const fa={};function ve(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Vn(n){return n instanceof Date&&!isNaN(n.valueOf())}const wi=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function gs(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function Oo(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}let ms=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Dl{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ds=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Dl(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const u=i.get(o);i.move(u,a),jr(u,r)}});for(let r=0,o=i.length;r<o;r++){const u=i.get(r).context;u.index=r,u.count=o,u.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{jr(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function jr(n,t){n.context.$implicit=t.item}let Li=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Lo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){du("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){du("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Lo{constructor(){this.$implicit=null,this.ngIf=null}}function du(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}class Ti{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Vc=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),hu=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Ti(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(Vc,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Ch=(()=>{class n{constructor(e,i,r){r._addDefault(new Ti(e,i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(Vc,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),Jo=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split("."),a=-1===r.indexOf("-")?void 0:s.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,r,a)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.aQg),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();function Gr(n,t){return new s.vHH(2100,!1)}class Yr{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class _g{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Ld=new _g,jc=new Yr;let Nd=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,s.QGY)(e))return Ld;if((0,s.F4k)(e))return jc;throw Gr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const Bl=new s.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Eh=new s.OlP("DATE_PIPE_DEFAULT_OPTIONS");let IA=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(null==e||""===e||e!=e)return null;try{return Il(e,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(a){throw Gr()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.soG,16),s.Y36(Bl,24),s.Y36(Eh,24))},n.\u0275pipe=s.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Qf=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!function Vf(n){return!(null==n||""===n||n!=n)}(e))return null;r=r||this._locale;try{return function $n(n,t,e){return function mt(n,t,e,i,r,o,a=!1){let u="",h=!1;if(isFinite(n)){let f=function br(n){let i,r,o,a,u,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;"0"===t.charAt(o);o++);if(o===(u=t.length))i=[0],r=1;else{for(u--;"0"===t.charAt(u);)u--;for(r-=o,i=[],a=0;o<=u;o++,a++)i[a]=Number(t.charAt(o))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);a&&(f=function Ei(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(f));let _=t.minInt,C=t.minFrac,F=t.maxFrac;if(o){const W=o.match(wi);if(null===W)throw new Error(`${o} is not a valid digit info`);const he=W[1],xe=W[3],Ze=W[5];null!=he&&(_=gs(he)),null!=xe&&(C=gs(xe)),null!=Ze?F=gs(Ze):null!=xe&&C>F&&(F=C)}!function fr(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(t,r),e);let a=o+n.integerLen,u=i[a];if(a>0){i.splice(Math.max(n.integerLen,a));for(let C=a;C<i.length;C++)i[C]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,a=o+1),i[0]=0;for(let C=1;C<a;C++)i[C]=0}if(u>=5)if(a-1<0){for(let C=0;C>a;C--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[a-1]++;for(;r<Math.max(0,o);r++)i.push(0);let h=0!==o;const f=t+n.integerLen,_=i.reduceRight(function(C,F,B,U){return U[B]=(F+=C)<10?F:F-10,h&&(0===U[B]&&B>=f?U.pop():h=!1),F>=10?1:0},0);_&&(i.unshift(_),n.integerLen++)}(f,C,F);let B=f.digits,U=f.integerLen;const H=f.exponent;let Z=[];for(h=B.every(W=>!W);U<_;U++)B.unshift(0);for(;U<0;U++)B.unshift(0);U>0?Z=B.splice(U,B.length):(Z=B,B=[0]);const q=[];for(B.length>=t.lgSize&&q.unshift(B.splice(-t.lgSize,B.length).join(""));B.length>t.gSize;)q.unshift(B.splice(-t.gSize,B.length).join(""));B.length&&q.unshift(B.join("")),u=q.join(cr(e,i)),Z.length&&(u+=cr(e,r)+Z.join("")),H&&(u+=cr(e,Nt.Exponential)+"+"+H)}else u=cr(e,Nt.Infinity);return u=n<0&&!h?t.negPre+u+t.negSuf:t.posPre+u+t.posSuf,u}(n,function ni(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],o=i[1],a=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],u=a[0],h=a[1]||"";e.posPre=u.substring(0,u.indexOf("#"));for(let _=0;_<h.length;_++){const C=h.charAt(_);"0"===C?e.minFrac=e.maxFrac=_+1:"#"===C?e.maxFrac=_+1:e.posSuf+=C}const f=u.split(",");if(e.gSize=f[1]?f[1].length:0,e.lgSize=f[2]||f[1]?(f[2]||f[1]).length:0,o){const _=r.length-e.posPre.length-e.posSuf.length,C=o.indexOf("#");e.negPre=o.substring(0,C).replace(/'/g,""),e.negSuf=o.slice(C+_).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function Kl(n,t){return(0,s.cg1)(n)[s.wAp.NumberFormats][t]}(t,Zn.Decimal),cr(t,Nt.MinusSign)),t,Nt.Group,Nt.Decimal,e)}(function TA(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),r,i)}catch(o){throw Gr()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.soG,16))},n.\u0275pipe=s.Yjl({name:"number",type:n,pure:!0,standalone:!0}),n})();let ea=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Zl="browser";function $l(n){return n===Zl}function Ta(n){return"server"===n}let ta=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Qd((0,s.LFG)(Ke),window)}),n})();class Qd{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function FA(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const a=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Au(this.window.history)||Au(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Au(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Yl{}class ia extends vt{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Oa extends ia{static makeCurrent(){!function lt(n){ze||(ze=n)}(new Oa)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function NA(){return Lr=Lr||document.querySelector("base"),Lr?Lr.getAttribute("href"):null}();return null==e?null:function Mg(n){sd=sd||document.createElement("a"),sd.setAttribute("href",n);const t=sd.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Lr=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Oo(document.cookie,t)}}let sd,Lr=null;const kh=new s.OlP("TRANSITION_ID"),kg=[{provide:s.ip1,useFactory:function Kf(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=oe(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[kh,Ke,s.zs3],multi:!0}];let jd=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const gc=new s.OlP("EventManagerPlugins");let od=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const a=r[o];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gc),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class ad{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=oe().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Rg=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),La=(()=>{class n extends Rg{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const a=this._doc.createElement("style");a.textContent=o,r.push(i.appendChild(a))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Gd),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Gd))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ke))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Gd(n){oe().remove(n)}const ol={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},PA=/%COMP%/g;function ga(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?ga(n,r,e):(r=r.replace(PA,n),e.push(r))}return e}function Rh(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Cu=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new UA(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Oh(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case s.ifc.ShadowDom:return new $f(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=ga(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(od),s.LFG(La),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class UA{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ol[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(c_(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(c_(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=ol[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=ol[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Rh(i)):this.eventManager.addEventListener(t,e,Rh(i))}}function c_(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Oh extends UA{constructor(t,e,i,r){super(t),this.component=i;const o=ga(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function Lg(n){return"_ngcontent-%COMP%".replace(PA,n)}(r+"-"+i.id),this.hostAttr=function Ng(n){return"_nghost-%COMP%".replace(PA,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class $f extends UA{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=ga(r.id,r.styles,[]);for(let a=0;a<o.length;a++){const u=document.createElement("style");u.textContent=o[a],this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let qd=(()=>{class n extends ad{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ke))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const nw=["alt","control","meta","shift"],Yf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ky={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let iw=(()=>{class n extends ad{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),a=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>oe().onAndCancel(e,o.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),nw.forEach(f=>{const _=i.indexOf(f);_>-1&&(i.splice(_,1),a+=f+".")}),a+=o,0!=i.length||0===o.length)return null;const h={};return h.domEventName=r,h.fullKey=a,h}static matchEventFullKeyCode(e,i){let r=Yf[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),nw.forEach(a=>{a!==r&&(0,Ky[a])(e)&&(o+=a+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ke))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Wf=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:Zl},{provide:s.g9A,useValue:function Lh(){Oa.makeCurrent()},multi:!0},{provide:Ke,useFactory:function Zy(){return(0,s.RDi)(document),document},deps:[]}]),Zd=new s.OlP(""),Nh=[{provide:s.rWj,useClass:class wu{addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,a=!1;const u=function(h){a=a||h,o--,0==o&&i(a)};r.forEach(function(h){h.whenStable(u)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?oe().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],QA=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function os(){return new s.qLn},deps:[]},{provide:gc,useClass:qd,multi:!0,deps:[Ke,s.R0b,s.Lbi]},{provide:gc,useClass:iw,multi:!0,deps:[Ke]},{provide:Cu,useClass:Cu,deps:[od,La,s.AFp]},{provide:s.FYo,useExisting:Cu},{provide:Rg,useExisting:La},{provide:La,useClass:La,deps:[Ke]},{provide:od,useClass:od,deps:[gc,s.R0b]},{provide:Yl,useClass:jd,deps:[]},[]];let Xl=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:kh,useExisting:s.AFp},kg]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Zd,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...QA,...Nh],imports:[ea,s.hGG]}),n})(),Yd=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ke))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function HA(){return new Yd((0,s.LFG)(Ke))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Ol=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):s.LFG(tp),i},providedIn:"root"}),n})(),tp=(()=>{class n extends Ol{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${s.JZr})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${s.JZr})`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ke))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Uh(n){return new tp(n.get(Ke))}(s.LFG(s.zs3)),i},providedIn:"root"}),n})();var jn=re(8996),Pa=re(3269);function An(...n){const t=(0,Pa.yG)(n);return(0,jn.D)(n,t)}var nn=re(7579);class gr extends nn.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var Qh=re(3888);const Eu=(0,Qh.d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var mr=re(9751);const{isArray:__}=Array,{getPrototypeOf:y_,prototype:dd,keys:Ua}=Object;function Hh(n){if(1===n.length){const t=n[0];if(__(t))return{args:t,keys:null};if(function ra(n){return n&&"object"==typeof n&&y_(n)===dd}(t)){const e=Ua(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var wn=re(4671),an=re(4004);const{isArray:Qg}=Array;function ec(n){return(0,an.U)(t=>function np(n,t){return Qg(t)?n(...t):n(t)}(n,t))}function Hg(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Nr=re(5403),Su=re(9672);function al(...n){const t=(0,Pa.yG)(n),e=(0,Pa.jO)(n),{args:i,keys:r}=Hh(n);if(0===i.length)return(0,jn.D)([],t);const o=new mr.y(function ip(n,t,e=wn.y){return i=>{Iu(t,()=>{const{length:r}=n,o=new Array(r);let a=r,u=r;for(let h=0;h<r;h++)Iu(t,()=>{const f=(0,jn.D)(n[h],t);let _=!1;f.subscribe(new Nr.Q(i,C=>{o[h]=C,_||(_=!0,u--),u||i.next(e(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,t,r?a=>Hg(r,a):wn.y));return e?o.pipe(ec(e)):o}function Iu(n,t,e){n?(0,Su.f)(e,n,t):t()}var Du=re(8189);function ll(...n){return function Zc(){return(0,Du.J)(1)}()((0,jn.D)(n,(0,Pa.yG)(n)))}var Qa=re(8421);function Jd(n){return new mr.y(t=>{(0,Qa.Xf)(n()).subscribe(t)})}var hd=re(9635),zs=re(576);function ro(n,t){const e=(0,zs.m)(n)?n:()=>n,i=r=>r.error(e());return new mr.y(t?r=>t.schedule(i,0,r):i)}var yc=re(515),Po=re(727),Wr=re(4482);function Ad(){return(0,Wr.e)((n,t)=>{let e=null;n._refCount++;const i=new Nr.Q(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Vh extends mr.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Wr.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Po.w0;const e=this.getSubject();t.add(this.source.subscribe(new Nr.Q(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Po.w0.EMPTY)}return t}refCount(){return Ad()(this)}}function ys(n,t){return(0,Wr.e)((e,i)=>{let r=null,o=0,a=!1;const u=()=>a&&!r&&i.complete();e.subscribe(new Nr.Q(i,h=>{r?.unsubscribe();let f=0;const _=o++;(0,Qa.Xf)(n(h,_)).subscribe(r=new Nr.Q(i,C=>i.next(t?t(h,C,_,f++):C),()=>{r=null,u()}))},()=>{a=!0,u()}))})}var Jr=re(5698);function sa(...n){const t=(0,Pa.yG)(n);return(0,Wr.e)((e,i)=>{(t?ll(n,e,t):ll(n,e)).subscribe(i)})}function _i(n,t){return(0,Wr.e)((e,i)=>{let r=0;e.subscribe(new Nr.Q(i,o=>n.call(t,o,r++)&&i.next(o)))})}var wo=re(5577);function Xd(n){return(0,Wr.e)((t,e)=>{let i=!1;t.subscribe(new Nr.Q(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Vg(n=$c){return(0,Wr.e)((t,e)=>{let i=!1;t.subscribe(new Nr.Q(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function $c(){return new Eu}function Uo(n,t){const e=arguments.length>=2;return i=>i.pipe(n?_i((r,o)=>n(r,o,i)):wn.y,(0,Jr.q)(1),e?Xd(t):Vg(()=>new Eu))}function cl(n,t){return(0,zs.m)(t)?(0,wo.z)(n,t,1):(0,wo.z)(n,1)}var Cr=re(8505);function Qo(n){return(0,Wr.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe(new Nr.Q(e,void 0,void 0,a=>{o=(0,Qa.Xf)(n(a,Qo(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function eh(n,t,e,i,r){return(o,a)=>{let u=e,h=t,f=0;o.subscribe(new Nr.Q(a,_=>{const C=f++;h=u?n(h,_,C):(u=!0,_),i&&a.next(h)},r&&(()=>{u&&a.next(h),a.complete()})))}}function tc(n,t){return(0,Wr.e)(eh(n,t,arguments.length>=2,!0))}function jh(n){return n<=0?()=>yc.E:(0,Wr.e)((t,e)=>{let i=[];t.subscribe(new Nr.Q(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function rp(n,t){const e=arguments.length>=2;return i=>i.pipe(n?_i((r,o)=>n(r,o,i)):wn.y,jh(1),e?Xd(t):Vg(()=>new Eu))}function qA(n,t=!1){return(0,Wr.e)((e,i)=>{let r=0;e.subscribe(new Nr.Q(i,o=>{const a=n(o,r++);(a||t)&&i.next(o),!a&&i.complete()}))})}function fd(n){return(0,an.U)(()=>n)}function th(n){return(0,Wr.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const pi="primary",nh=Symbol("RouteTitle");class v_{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Tu(n){return new v_(n)}function Bu(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const a=i[o],u=n[o];if(a.startsWith(":"))r[a.substring(1)]=u;else if(a!==u.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function bo(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!jg(n[r],t[r]))return!1;return!0}function jg(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function Ha(n){return Array.prototype.concat.apply([],n)}function Fu(n){return n.length>0?n[n.length-1]:null}function qs(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function so(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,jn.D)(Promise.resolve(n)):An(n)}const k=!1,N={exact:function qe(n,t,e){if(!ul(n.segments,t.segments)||!Bn(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!qe(n.children[i],t.children[i],e))return!1;return!0},subset:mn},K={exact:function Ie(n,t){return bo(n,t)},subset:function gt(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>jg(n[e],t[e]))},ignored:()=>!0};function ue(n,t,e){return N[e.paths](n.root,t.root,e.matrixParams)&&K[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function mn(n,t,e){return on(n,t,t.segments,e)}function on(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!ul(r,e)||t.hasChildren()||!Bn(r,e,i))}if(n.segments.length===e.length){if(!ul(n.segments,e)||!Bn(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!mn(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(ul(n.segments,r)&&Bn(n.segments,r,i)&&n.children[pi])&&on(n.children[pi],t,o,i)}}function Bn(n,t,e){return t.every((i,r)=>K[e](n[r].parameters,i.parameters))}class Fn{constructor(t=new Yt([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tu(this.queryParams)),this._queryParamMap}toString(){return Ll.serialize(this)}}class Yt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,qs(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gh(this)}}class Co{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Tu(this.parameters)),this._parameterMap}toString(){return zh(this)}}function ul(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Va=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new ja},providedIn:"root"}),n})();class ja{parse(t){const e=new qg(t);return new Fn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${KA(t.root,!0)}`,i=function ow(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${sp(e)}=${sp(r)}`).join("&"):`${sp(e)}=${sp(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function sw(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Ll=new ja;function Gh(n){return n.segments.map(t=>zh(t)).join("/")}function KA(n,t){if(!n.hasChildren())return Gh(n);if(t){const e=n.children[pi]?KA(n.children[pi],!1):"",i=[];return qs(n.children,(r,o)=>{o!==pi&&i.push(`${o}:${KA(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Zs(n,t){let e=[];return qs(n.children,(i,r)=>{r===pi&&(e=e.concat(t(i,r)))}),qs(n.children,(i,r)=>{r!==pi&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===pi?[KA(n.children[pi],!1)]:[`${r}:${KA(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[pi]?`${Gh(n)}/${e[0]}`:`${Gh(n)}/(${e.join("//")})`}}function Jy(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sp(n){return Jy(n).replace(/%3B/gi,";")}function op(n){return Jy(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ap(n){return decodeURIComponent(n)}function b_(n){return ap(n.replace(/\+/g,"%20"))}function zh(n){return`${op(n.path)}${function lp(n){return Object.keys(n).map(t=>`;${op(t)}=${op(n[t])}`).join("")}(n.parameters)}`}const Xy=/^[^\/()?;=#]+/;function Gg(n){const t=n.match(Xy);return t?t[0]:""}const cp=/^[^=?&#]+/,zg=/^[^&#]+/;class qg{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yt([],{}):new Yt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[pi]=new Yt(t,e)),i}parseSegment(){const t=Gg(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.vHH(4009,k);return this.capture(t),new Co(ap(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Gg(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Gg(this.remaining);r&&(i=r,this.capture(i))}t[ap(e)]=ap(i)}parseQueryParam(t){const e=function up(n){const t=n.match(cp);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=function C_(n){const t=n.match(zg);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=b_(e),o=b_(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Gg(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new s.vHH(4010,k);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=pi);const a=this.parseChildren();e[o]=1===Object.keys(a).length?a[pi]:new Yt([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.vHH(4011,k)}}function ZA(n){return n.segments.length>0?new Yt([],{[pi]:n}):n}function Kg(n){const t={};for(const i of Object.keys(n.children)){const o=Kg(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function pd(n){if(1===n.numberOfChildren&&n.children[pi]){const t=n.children[pi];return new Yt(n.segments.concat(t.segments),t.children)}return n}(new Yt(n.segments,t))}function vc(n){return n instanceof Fn}function aw(n,t,e,i,r){if(0===e.length)return Mu(t.root,t.root,t.root,i,r);const o=function Zh(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Kh(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,a)=>{if("object"==typeof o&&null!=o){if(o.outlets){const u={};return qs(o.outlets,(h,f)=>{u[f]="string"==typeof h?h.split("/"):h}),[...r,{outlets:u}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===a?(o.split("/").forEach((u,h)=>{0==h&&"."===u||(0==h&&""===u?e=!0:".."===u?t++:""!=u&&r.push(u))}),r):[...r,o]},[]);return new Kh(e,t,i)}(e);return o.toRoot()?Mu(t.root,t.root,new Yt([],{}),i,r):function a(h){const f=function lw(n,t,e,i){if(n.isAbsolute)return new ih(t.root,!0,0);if(-1===i)return new ih(e,e===t.root,0);return function E_(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new s.vHH(4005,!1);r=i.segments.length}return new ih(i,!1,r-o)}(e,i+(qh(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,h),_=f.processChildren?wc(f.segmentGroup,f.index,o.commands):hp(f.segmentGroup,f.index,o.commands);return Mu(t.root,f.segmentGroup,_,i,r)}(n.snapshot?._lastPathIndex)}function qh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function $A(n){return"object"==typeof n&&null!=n&&n.outlets}function Mu(n,t,e,i,r){let a,o={};i&&qs(i,(h,f)=>{o[f]=Array.isArray(h)?h.map(_=>`${_}`):`${h}`}),a=n===t?e:YA(n,t,e);const u=ZA(Kg(a));return new Fn(u,o,r)}function YA(n,t,e){const i={};return qs(n.children,(r,o)=>{i[o]=r===t?e:YA(r,t,e)}),new Yt(n.segments,i)}class Kh{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&qh(i[0]))throw new s.vHH(4003,!1);const r=i.find($A);if(r&&r!==Fu(i))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ih{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function hp(n,t,e){if(n||(n=new Yt([],{})),0===n.segments.length&&n.hasChildren())return wc(n,t,e);const i=function Ap(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const a=n.segments[r],u=e[i];if($A(u))break;const h=`${u}`,f=i<e.length-1?e[i+1]:null;if(r>0&&void 0===h)break;if(h&&f&&"object"==typeof f&&void 0===f.outlets){if(!rh(h,f,a))return o;i+=2}else{if(!rh(h,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Yt(n.segments.slice(0,i.pathIndex),{});return o.children[pi]=new Yt(n.segments.slice(i.pathIndex),n.children),wc(o,0,r)}return i.match&&0===r.length?new Yt(n.segments,{}):i.match&&!n.hasChildren()?fp(n,t,e):i.match?wc(n,0,r):fp(n,t,e)}function wc(n,t,e){if(0===e.length)return new Yt(n.segments,{});{const i=function Wg(n){return $A(n[0])?n[0].outlets:{[pi]:n}}(e),r={};return qs(i,(o,a)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[a]=hp(n.children[a],t,o))}),qs(n.children,(o,a)=>{void 0===i[a]&&(r[a]=o)}),new Yt(n.segments,r)}}function fp(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if($A(o)){const h=cw(o.outlets);return new Yt(i,h)}if(0===r&&qh(e[0])){i.push(new Co(n.segments[t].path,$h(e[0]))),r++;continue}const a=$A(o)?o.outlets[pi]:`${o}`,u=r<e.length-1?e[r+1]:null;a&&u&&qh(u)?(i.push(new Co(a,$h(u))),r+=2):(i.push(new Co(a,{})),r++)}return new Yt(i,{})}function cw(n){const t={};return qs(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=fp(new Yt([],{}),0,e))}),t}function $h(n){const t={};return qs(n,(e,i)=>t[i]=`${e}`),t}function rh(n,t,e){return n==e.path&&bo(t,e.parameters)}class bc{constructor(t,e){this.id=t,this.url=e}}class Yh extends bc{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gd extends bc{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Wh extends bc{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pp extends bc{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class S_ extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WA extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jg extends bc{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Jh extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JA extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ts{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class md{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ku{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sh{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _d{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XA{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cc{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Xg{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Xh(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Xh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ru(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Ru(t,this._root).map(e=>e.value)}}function Xh(n,t){if(n===t.value)return t;for(const e of t.children){const i=Xh(n,e);if(i)return i}return null}function Ru(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Ru(n,e);if(i.length)return i.unshift(t),i}return[]}class dl{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function nc(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class ef extends Xg{constructor(t,e){super(t),this.snapshot=e,_p(this,t)}toString(){return this.snapshot.toString()}}function eA(n,t){const e=function AC(n,t){const a=new mp([],{},{},"",{},pi,t,null,n.root,-1,{});return new tA("",new dl(a,[]))}(n,t),i=new gr([new Co("",{})]),r=new gr({}),o=new gr({}),a=new gr({}),u=new gr(""),h=new yd(i,r,a,u,o,pi,t,e.root);return h.snapshot=e.root,new ef(new dl(h,[]),e)}class yd{constructor(t,e,i,r,o,a,u,h){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=u,this.title=this.data?.pipe((0,an.U)(f=>f[nh]))??An(void 0),this._futureSnapshot=h}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,an.U)(t=>Tu(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,an.U)(t=>Tu(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gp(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function uw(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class mp{constructor(t,e,i,r,o,a,u,h,f,_,C){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=u,this.routeConfig=h,this._urlSegment=f,this._lastPathIndex=_,this._resolve=C}get title(){return this.data?.[nh]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Tu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tA extends Xg{constructor(t,e){super(e),this.url=t,_p(this,e)}toString(){return nA(this._root)}}function _p(n,t){t.value._routerState=n,t.children.forEach(e=>_p(n,e))}function nA(n){const t=n.children.length>0?` { ${n.children.map(nA).join(", ")} } `:"";return`${n.value}${t}`}function em(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,bo(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),bo(t.params,e.params)||n.params.next(e.params),function Wy(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!bo(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),bo(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function yp(n,t){const e=bo(n.params,t.params)&&function Ks(n,t){return ul(n,t)&&n.every((e,i)=>bo(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||yp(n.parent,t.parent))}function rA(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function I_(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return rA(n,i,r);return rA(n,i)})}(n,t,e);return new dl(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(u=>rA(n,u)),a}}const i=function tv(n){return new yd(new gr(n.url),new gr(n.params),new gr(n.queryParams),new gr(n.fragment),new gr(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>rA(n,o));return new dl(i,r)}}const tm="ngNavigationCancelingError";function nm(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=vc(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=ic(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function ic(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[tm]=!0,i.cancellationCode=t,e&&(i.url=e),i}function oh(n){return nv(n)&&vc(n.url)}function nv(n){return n&&n[tm]}class D_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new tf,this.attachRef=null}}let tf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new D_,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ga=!1;let vd=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=pi,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.parentContexts=(0,s.f3M)(tf),this.location=(0,s.f3M)(s.s_b),this.changeDetector=(0,s.f3M)(s.sBO),this.environmentInjector=(0,s.f3M)(s.lqb)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,Ga);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,Ga);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,Ga);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new s.vHH(4013,Ga);this._activatedRoute=e;const r=this.location,a=e.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,h=new iv(e,u,r.injector);if(i&&function im(n){return!!n.resolveComponentFactory}(i)){const f=i.resolveComponentFactory(a);this.activated=r.createComponent(f,r.length,h)}else this.activated=r.createComponent(a,{index:r.length,injector:h,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[s.TTD]}),n})();class iv{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===yd?this.route:t===tf?this.childContexts:this.parent.get(t,e)}}let vp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[vd],encapsulation:2}),n})();function bn(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function nf(n){const t=n.children&&n.children.map(nf),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==pi&&(e.component=vp),e}function vs(n){return n.outlet||pi}function rf(n,t){const e=n.filter(i=>vs(i)===t);return e.push(...n.filter(i=>vs(i)!==t)),e}function wd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class bd{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),em(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=nc(e);t.children.forEach(o=>{const a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),qs(r,(o,a)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=nc(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],r);if(i&&i.outlet){const a=i.outlet.detach(),u=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:u})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=nc(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=nc(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new XA(o.value.snapshot))}),t.children.length&&this.forwardEvent(new sh(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(em(r),r===o)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const u=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(u.contexts),a.attachRef=u.componentRef,a.route=u.route.value,a.outlet&&a.outlet.attach(u.componentRef,u.route.value),em(u.route.value),this.activateChildRoutes(t,null,a.children)}else{const u=wd(r.snapshot),h=u?.get(s._Vd)??null;a.attachRef=null,a.route=r,a.resolver=h,a.injector=u,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}class Cp{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class sA{constructor(t,e){this.component=t,this.route=e}}function sv(n,t,e){const i=n._root;return oA(i,t?t._root:null,e,[i.value])}function Cd(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,s.Z0I)(n)?t.get(n):n:i}function oA(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=nc(t);return n.children.forEach(a=>{(function B_(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,a=t?t.value:null,u=e?e.getContext(n.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const h=function sm(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ul(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ul(n.url,t.url)||!bo(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yp(n,t)||!bo(n.queryParams,t.queryParams);default:return!yp(n,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);h?r.canActivateChecks.push(new Cp(i)):(o.data=a.data,o._resolvedData=a._resolvedData),oA(n,t,o.component?u?u.children:null:e,i,r),h&&u&&u.outlet&&u.outlet.isActivated&&r.canDeactivateChecks.push(new sA(u.outlet.component,a))}else a&&aA(t,u,r),r.canActivateChecks.push(new Cp(i)),oA(n,null,o.component?u?u.children:null:e,i,r)})(a,o[a.value.outlet],e,i.concat([a.value]),r),delete o[a.value.outlet]}),qs(o,(a,u)=>aA(a,e.getContext(u),r)),r}function aA(n,t,e){const i=nc(n),r=n.value;qs(i,(o,a)=>{aA(o,r.component?t?t.children.getContext(a):null:t,e)}),e.canDeactivateChecks.push(new sA(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function x(n){return"function"==typeof n}function Ct(n){return n instanceof Eu||"EmptyError"===n?.name}const tn=Symbol("INITIAL_VALUE");function fn(){return ys(n=>al(n.map(t=>t.pipe((0,Jr.q)(1),sa(tn)))).pipe((0,an.U)(t=>{for(const e of t)if(!0!==e){if(e===tn)return tn;if(!1===e||e instanceof Fn)return e}return!0}),_i(t=>t!==tn),(0,Jr.q)(1)))}function am(n){return(0,hd.z)((0,Cr.b)(t=>{if(vc(t))throw nm(0,t)}),(0,an.U)(t=>!0===t))}const af={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dw(n,t,e,i,r){const o=lA(n,t,e);return o.matched?function lm(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?An(r.map(a=>{const u=Cd(a,n);return so(function ge(n){return n&&x(n.canMatch)}(u)?u.canMatch(t,e):n.runInContext(()=>u(t,e)))})).pipe(fn(),am()):An(!0)}(i=bn(t,i),t,e).pipe((0,an.U)(a=>!0===a?o:{...af})):An(o)}function lA(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...af}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Bu)(e,n,t);if(!r)return{...af};const o={};qs(r.posParams,(u,h)=>{o[h]=u.path});const a=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function cm(n,t,e,i){if(e.length>0&&function pC(n,t,e){return e.some(i=>lv(n,t,i)&&vs(i)!==pi)}(n,e,i)){const o=new Yt(t,function fC(n,t,e,i){const r={};r[pi]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&vs(o)!==pi){const a=new Yt([],{});a._sourceSegment=n,a._segmentIndexShift=t.length,r[vs(o)]=a}return r}(n,t,i,new Yt(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function Ep(n,t,e){return e.some(i=>lv(n,t,i))}(n,e,i)){const o=new Yt(n.segments,function hw(n,t,e,i,r){const o={};for(const a of i)if(lv(n,e,a)&&!r[vs(a)]){const u=new Yt([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,o[vs(a)]=u}return{...r,...o}}(n,t,e,i,n.children));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const r=new Yt(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function lv(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function cv(n,t,e,i){return!!(vs(n)===i||i!==pi&&lv(t,e,n))&&("**"===n.path||lA(t,n,e).matched)}function b(n,t,e){return 0===t.length&&!n.children[e]}const w=!1;class S{constructor(t){this.segmentGroup=t||null}}class E{constructor(t){this.urlTree=t}}function L(n){return ro(new S(n))}function j(n){return ro(new E(n))}class Fe{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=cm(this.urlTree.root,[],[],this.config).segmentGroup,e=new Yt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,pi).pipe((0,an.U)(o=>this.createUrlTree(Kg(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Qo(o=>{if(o instanceof E)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof S?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,pi).pipe((0,an.U)(r=>this.createUrlTree(Kg(r),t.queryParams,t.fragment))).pipe(Qo(r=>{throw r instanceof S?this.noMatchError(r):r}))}noMatchError(t){return new s.vHH(4002,w)}createUrlTree(t,e,i){const r=ZA(t);return new Fn(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,an.U)(o=>new Yt([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,jn.D)(r).pipe(cl(o=>{const a=i.children[o],u=rf(e,o);return this.expandSegmentGroup(t,u,a,o).pipe((0,an.U)(h=>({segment:h,outlet:o})))}),tc((o,a)=>(o[a.outlet]=a.segment,o),{}),rp())}expandSegment(t,e,i,r,o,a){return(0,jn.D)(i).pipe(cl(u=>this.expandSegmentAgainstRoute(t,e,i,u,r,o,a).pipe(Qo(f=>{if(f instanceof S)return An(null);throw f}))),Uo(u=>!!u),Qo((u,h)=>{if(Ct(u))return b(e,r,o)?An(new Yt([],{})):L(e);throw u}))}expandSegmentAgainstRoute(t,e,i,r,o,a,u){return cv(r,e,o,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,a):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a):L(e):L(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?j(o):this.lineralizeSegments(i,o).pipe((0,wo.z)(a=>{const u=new Yt(a,{});return this.expandSegment(t,u,e,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a){const{matched:u,consumedSegments:h,remainingSegments:f,positionalParamSegments:_}=lA(e,r,o);if(!u)return L(e);const C=this.applyRedirectCommands(h,r.redirectTo,_);return r.redirectTo.startsWith("/")?j(C):this.lineralizeSegments(r,C).pipe((0,wo.z)(F=>this.expandSegment(t,e,i,F.concat(f),a,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=bn(i,t),i.loadChildren?(i._loadedRoutes?An({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,an.U)(u=>(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,new Yt(r,{})))):An(new Yt(r,{}))):dw(e,i,r,t).pipe(ys(({matched:a,consumedSegments:u,remainingSegments:h})=>a?this.getChildConfig(t=i._injector??t,i,r).pipe((0,wo.z)(_=>{const C=_.injector??t,F=_.routes,{segmentGroup:B,slicedSegments:U}=cm(e,u,h,F),H=new Yt(B.segments,B.children);if(0===U.length&&H.hasChildren())return this.expandChildren(C,F,H).pipe((0,an.U)(he=>new Yt(u,he)));if(0===F.length&&0===U.length)return An(new Yt(u,{}));const Z=vs(i)===o;return this.expandSegment(C,H,F,U,Z?pi:o,!0).pipe((0,an.U)(W=>new Yt(u.concat(W.segments),W.children)))})):L(e)))}getChildConfig(t,e,i){return e.children?An({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?An({routes:e._loadedRoutes,injector:e._loadedInjector}):function av(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?An(!0):An(r.map(a=>{const u=Cd(a,n);return so(function m(n){return n&&x(n.canLoad)}(u)?u.canLoad(t,e):n.runInContext(()=>u(t,e)))})).pipe(fn(),am())}(t,e,i).pipe((0,wo.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,Cr.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function ce(n){return ro(ic(w,3))}())):An({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return An(i);if(r.numberOfChildren>1||!r.children[pi])return ro(new s.vHH(4e3,w));r=r.children[pi]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Fn(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return qs(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const u=r.substring(1);i[o]=e[u]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let a={};return qs(e.children,(u,h)=>{a[h]=this.createSegmentGroup(t,u,i,r)}),new Yt(o,a)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new s.vHH(4001,w);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class Dt{}class En{constructor(t,e,i,r,o,a,u){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=a,this.urlSerializer=u}recognize(){const t=cm(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,pi).pipe((0,an.U)(e=>{if(null===e)return null;const i=new mp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},pi,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new dl(i,e),o=new tA(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=gp(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,jn.D)(Object.keys(i.children)).pipe(cl(r=>{const o=i.children[r],a=rf(e,r);return this.processSegmentGroup(t,a,o,r)}),tc((r,o)=>r&&o?(r.push(...o),r):null),qA(r=>null!==r),Xd(null),rp(),(0,an.U)(r=>{if(null===r)return null;const o=Pr(r);return function Zi(n){n.sort((t,e)=>t.value.outlet===pi?-1:e.value.outlet===pi?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return(0,jn.D)(e).pipe(cl(a=>this.processSegmentAgainstRoute(a._injector??t,a,i,r,o)),Uo(a=>!!a),Qo(a=>{if(Ct(a))return b(i,r,o)?An([]):An(null);throw a}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!cv(e,i,r,o))return An(null);let a;if("**"===e.path){const u=r.length>0?Fu(r).parameters:{},h=Mn(i)+r.length;a=An({snapshot:new mp(r,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sr(e),vs(e),e.component??e._loadedComponent??null,e,gi(i),h,Bi(e)),consumedSegments:[],remainingSegments:[]})}else a=dw(i,e,r,t).pipe((0,an.U)(({matched:u,consumedSegments:h,remainingSegments:f,parameters:_})=>{if(!u)return null;const C=Mn(i)+h.length;return{snapshot:new mp(h,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sr(e),vs(e),e.component??e._loadedComponent??null,e,gi(i),C,Bi(e)),consumedSegments:h,remainingSegments:f}}));return a.pipe(ys(u=>{if(null===u)return An(null);const{snapshot:h,consumedSegments:f,remainingSegments:_}=u;t=e._injector??t;const C=e._loadedInjector??t,F=function ii(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:B,slicedSegments:U}=cm(i,f,_,F.filter(Z=>void 0===Z.redirectTo));if(0===U.length&&B.hasChildren())return this.processChildren(C,F,B).pipe((0,an.U)(Z=>null===Z?null:[new dl(h,Z)]));if(0===F.length&&0===U.length)return An([new dl(h,[])]);const H=vs(e)===o;return this.processSegment(C,F,B,U,H?pi:o).pipe((0,an.U)(Z=>null===Z?null:[new dl(h,Z)]))}))}}function Jn(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Pr(n){const t=[],e=new Set;for(const i of n){if(!Jn(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Pr(i.children);t.push(new dl(i.value,r))}return t.filter(i=>!e.has(i))}function gi(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Mn(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function sr(n){return n.data||{}}function Bi(n){return n.resolve||{}}function Al(n){return"string"==typeof n.title||null===n.title}function qa(n){return ys(t=>{const e=n(t);return e?(0,jn.D)(e).pipe((0,an.U)(()=>t)):An(t)})}const fl=new s.OlP("ROUTES");let uA=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return An(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=so(e.loadComponent()).pipe((0,an.U)(ah),(0,Cr.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),th(()=>{this.componentLoaders.delete(e)})),r=new Vh(i,()=>new nn.x).pipe(Ad());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return An({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,an.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(i);let h,f,_=!1;Array.isArray(u)?f=u:(h=u.create(e).injector,f=Ha(h.get(fl,[],s.XFs.Self|s.XFs.Optional)));return{routes:f.map(nf),injector:h}}),th(()=>{this.childrenLoaders.delete(i)})),a=new Vh(o,()=>new nn.x).pipe(Ad());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(e){return so(e()).pipe((0,an.U)(ah),(0,wo.z)(r=>r instanceof s.YKP||Array.isArray(r)?An(r):(0,jn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3),s.LFG(s.Sil))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ah(n){return function Ip(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let xd=(()=>{class n{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new nn.x,this.configLoader=(0,s.f3M)(uA),this.environmentInjector=(0,s.f3M)(s.lqb),this.urlSerializer=(0,s.f3M)(Va),this.rootContexts=(0,s.f3M)(tf),this.navigationId=0,this.configLoader.onLoadEndListener=r=>this.events.next(new md(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Ts(r))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new gr({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(_i(i=>0!==i.id),(0,an.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),ys(i=>{let r=!1,o=!1;return An(i).pipe((0,Cr.b)(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ys(a=>{const u=e.browserUrlTree.toString(),h=!e.navigated||a.extractedUrl.toString()!==u||u!==e.currentUrlTree.toString();if(("reload"===e.onSameUrlNavigation||h)&&e.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Dp(a.source)&&(e.browserUrlTree=a.extractedUrl),An(a).pipe(ys(_=>{const C=this.transitions?.getValue();return this.events.next(new Yh(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),C!==this.transitions?.getValue()?yc.E:Promise.resolve(_)}),function He(n,t,e,i){return ys(r=>function le(n,t,e,i,r){return new Fe(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,an.U)(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,Cr.b)(_=>{this.currentNavigation={...this.currentNavigation,finalUrl:_.urlAfterRedirects},i.urlAfterRedirects=_.urlAfterRedirects}),function Ho(n,t,e,i,r){return(0,wo.z)(o=>function ln(n,t,e,i,r,o,a="emptyOnly"){return new En(n,t,e,i,r,a,o).recognize().pipe(ys(u=>null===u?function Ln(n){return new mr.y(t=>t.error(n))}(new Dt):An(u)))}(n,t,e,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r).pipe((0,an.U)(a=>({...o,targetSnapshot:a}))))}(this.environmentInjector,e.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,Cr.b)(_=>{if(i.targetSnapshot=_.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!_.extras.skipLocationChange){const F=e.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl);e.setBrowserUrl(F,_)}e.browserUrlTree=_.urlAfterRedirects}const C=new S_(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(C)}));if(h&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:C,extractedUrl:F,source:B,restoredState:U,extras:H}=a,Z=new Yh(C,this.urlSerializer.serialize(F),B,U);this.events.next(Z);const q=eA(F,e.rootComponentType).snapshot;return An(i={...a,targetSnapshot:q,urlAfterRedirects:F,extras:{...H,skipLocationChange:!1,replaceUrl:!1}})}return e.rawUrlTree=a.rawUrl,a.resolve(null),yc.E}),(0,Cr.b)(a=>{const u=new WA(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),(0,an.U)(a=>i={...a,guards:sv(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function Yi(n,t){return(0,wo.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=e;return 0===a.length&&0===o.length?An({...e,guardsResult:!0}):function $s(n,t,e,i){return(0,jn.D)(n).pipe((0,wo.z)(r=>function M_(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?An(o.map(u=>{const h=wd(t)??r,f=Cd(u,h);return so(function z(n){return n&&x(n.canDeactivate)}(f)?f.canDeactivate(n,t,e,i):h.runInContext(()=>f(n,t,e,i))).pipe(Uo())})).pipe(fn()):An(!0)}(r.component,r.route,e,t,i)),Uo(r=>!0!==r,!0))}(a,i,r,n).pipe((0,wo.z)(u=>u&&function g(n){return"boolean"==typeof n}(u)?function xc(n,t,e,i){return(0,jn.D)(t).pipe(cl(r=>ll(function xp(n,t){return null!==n&&t&&t(new ku(n)),An(!0)}(r.route.parent,i),function sf(n,t){return null!==n&&t&&t(new _d(n)),An(!0)}(r.route,i),function om(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>function ov(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(a)).filter(a=>null!==a).map(a=>Jd(()=>An(a.guards.map(h=>{const f=wd(a.node)??e,_=Cd(h,f);return so(function Q(n){return n&&x(n.canActivateChild)}(_)?_.canActivateChild(i,n):f.runInContext(()=>_(i,n))).pipe(Uo())})).pipe(fn())));return An(o).pipe(fn())}(n,r.path,e),function F_(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return An(!0);const r=i.map(o=>Jd(()=>{const a=wd(t)??e,u=Cd(o,a);return so(function D(n){return n&&x(n.canActivate)}(u)?u.canActivate(t,n):a.runInContext(()=>u(t,n))).pipe(Uo())}));return An(r).pipe(fn())}(n,r.route,e))),Uo(r=>!0!==r,!0))}(i,o,n,t):An(u)),(0,an.U)(u=>({...e,guardsResult:u})))})}(this.environmentInjector,a=>this.events.next(a)),(0,Cr.b)(a=>{if(i.guardsResult=a.guardsResult,vc(a.guardsResult))throw nm(0,a.guardsResult);const u=new Jg(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(u)}),_i(a=>!!a.guardsResult||(e.restoreHistory(a),this.cancelNavigationTransition(a,"",3,e),!1)),qa(a=>{if(a.guards.canActivateChecks.length)return An(a).pipe((0,Cr.b)(u=>{const h=new Jh(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),ys(u=>{let h=!1;return An(u).pipe(function Ec(n,t){return(0,wo.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return An(e);let o=0;return(0,jn.D)(r).pipe(cl(a=>function Yc(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!Al(r)&&(o[nh]=r.title),function as(n,t,e,i){const r=function za(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return An({});const o={};return(0,jn.D)(r).pipe((0,wo.z)(a=>function cA(n,t,e,i){const r=wd(t)??i,o=Cd(n,r);return so(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[a],t,e,i).pipe(Uo(),(0,Cr.b)(u=>{o[a]=u}))),jh(1),fd(o),Qo(a=>Ct(a)?yc.E:ro(a)))}(o,n,t,i).pipe((0,an.U)(a=>(n._resolvedData=a,n.data=gp(n,e).resolve,r&&Al(r)&&(n.data[nh]=r.title),null)))}(a.route,i,n,t)),(0,Cr.b)(()=>o++),jh(1),(0,wo.z)(a=>o===r.length?An(e):yc.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,Cr.b)({next:()=>h=!0,complete:()=>{h||(e.restoreHistory(u),this.cancelNavigationTransition(u,"",2,e))}}))}),(0,Cr.b)(u=>{const h=new JA(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),qa(a=>{const u=h=>{const f=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(h.routeConfig).pipe((0,Cr.b)(_=>{h.component=_}),(0,an.U)(()=>{})));for(const _ of h.children)f.push(...u(_));return f};return al(u(a.targetSnapshot.root)).pipe(Xd(),(0,Jr.q)(1))}),qa(()=>e.afterPreactivation()),(0,an.U)(a=>{const u=function iA(n,t,e){const i=rA(n,t._root,e?e._root:void 0);return new ef(i,t)}(e.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:u}}),(0,Cr.b)(a=>{e.currentUrlTree=a.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),e.routerState=a.targetRouterState,"deferred"===e.urlUpdateStrategy&&(a.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,a),e.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>(0,an.U)(i=>(new bd(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,a=>this.events.next(a)),(0,Cr.b)({next:a=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new gd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{r=!0}}),th(()=>{r||o||this.cancelNavigationTransition(i,"",1,e),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Qo(a=>{if(o=!0,nv(a)){oh(a)||(e.navigated=!0,e.restoreHistory(i,!0));const u=new Wh(i.id,this.urlSerializer.serialize(i.extractedUrl),a.message,a.cancellationCode);if(this.events.next(u),oh(a)){const h=e.urlHandlingStrategy.merge(a.url,e.rawUrlTree),f={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||Dp(i.source)};e.scheduleNavigation(h,"imperative",null,f,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const u=new pp(i.id,this.urlSerializer.serialize(i.extractedUrl),a,i.targetSnapshot??void 0);this.events.next(u);try{i.resolve(e.errorHandler(a))}catch(h){i.reject(h)}}return yc.E}))}))}cancelNavigationTransition(e,i,r,o){const a=new Wh(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(a),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Dp(n){return"imperative"!==n}let um=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===pi);return i}getResolvedTitleForRoute(e){return e.data[nh]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(uv)},providedIn:"root"}),n})(),uv=(()=>{class n extends um{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Yd))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(kO)},providedIn:"root"}),n})();class MO{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let kO=(()=>{class n extends MO{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jE=new s.OlP("",{providedIn:"root",factory:()=>({})});let _2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(_Q)},providedIn:"root"}),n})(),_Q=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yQ(n){throw n}function y2(n,t,e){return t.parse("/")}const RO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},v2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function w2(){const n=(0,s.f3M)(Va),t=(0,s.f3M)(tf),e=(0,s.f3M)(Jt),i=(0,s.f3M)(s.zs3),r=(0,s.f3M)(s.Sil),o=(0,s.f3M)(fl,{optional:!0})??[],a=(0,s.f3M)(jE,{optional:!0})??{},u=new Bs(null,n,t,e,i,r,Ha(o));return function OO(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(a,u),u}let Bs=(()=>{class n{constructor(e,i,r,o,a,u,h){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=h,this.disposed=!1,this.currentPageId=0,this.isNgZoneEnabled=!1,this.errorHandler=yQ,this.malformedUriErrorHandler=y2,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>An(void 0),this.urlHandlingStrategy=(0,s.f3M)(_2),this.routeReuseStrategy=(0,s.f3M)(Tp),this.titleStrategy=(0,s.f3M)(um),this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.canceledNavigationResolution="replace",this.navigationTransitions=(0,s.f3M)(xd),this.console=a.get(s.c2e);const f=a.get(s.R0b);this.isNgZoneEnabled=f instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(h),this.currentUrlTree=new Fn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=eA(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe(_=>{this.lastSuccessfulId=_.id,this.currentPageId=_.targetPageId},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)})}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},o=e.state?.navigationId?e.state:null;if(e.state){const u={...e.state};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(r.state=u)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(nf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:h}=i,f=r||this.routerState.root,_=h?this.currentUrlTree.fragment:a;let C=null;switch(u){case"merge":C={...this.currentUrlTree.queryParams,...o};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=o||null}return null!==C&&(C=this.removeEmptyProps(C)),aw(f,this.currentUrlTree,e,C,_??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=vc(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function LO(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new s.vHH(4008,!1)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...RO}:!1===i?{...v2}:i,vc(e))return ue(this.currentUrlTree,e,r);const o=this.parseUrl(e);return ue(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,a){if(this.disposed)return Promise.resolve(!1);let u,h,f,_;return a?(u=a.resolve,h=a.reject,f=a.promise):f=new Promise((C,F)=>{u=C,h=F}),"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),_=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):_=0,this.navigationTransitions.handleNavigationRequest({targetPageId:_,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:u,reject:h,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(C=>Promise.reject(C))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:function(){return w2()},providedIn:"root"}),n})(),dv=(()=>{class n{constructor(e,i,r,o,a,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=a,this.locationStrategy=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new nn.x;const h=a.nativeElement.tagName;this.isAnchorElement="A"===h||"AREA"===h,this.isAnchorElement?this.subscription=e.events.subscribe(f=>{f instanceof gd&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,s.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,s.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,s.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||o||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,s.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Bs),s.Y36(yd),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(yt))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})();class b2{}let QO=(()=>{class n{constructor(e,i,r,o,a){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(_i(e=>e instanceof gd),cl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,s.MMx)(o.providers,e,`Route: ${o.path}`));const a=o._injector??e,u=o._loadedInjector??a;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(a,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(u,o.children??o._loadedRoutes))}return(0,jn.D)(r).pipe((0,Du.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):An(null);const o=r.pipe((0,wo.z)(a=>null===a?An(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(i.loadComponent&&!i._loadedComponent){const a=this.loader.loadComponent(i);return(0,jn.D)([o,a]).pipe((0,Du.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Bs),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(b2),s.LFG(uA))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zE=new s.OlP("");let C2=(()=>{class n{constructor(e,i,r,o,a={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Yh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof gd&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Cc&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Cc(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function k_(n,t){return{\u0275kind:n,\u0275providers:t}}function ZE(){const n=(0,s.f3M)(s.zs3);return t=>{const e=n.get(s.z2F);if(t!==e.components[0])return;const i=n.get(Bs),r=n.get(x2);1===n.get($E)&&i.initialNavigation(),n.get(dm,null,s.XFs.Optional)?.setUpPreloading(),n.get(zE,null,s.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const x2=new s.OlP("",{factory:()=>new nn.x}),$E=new s.OlP("",{providedIn:"root",factory:()=>1});const dm=new s.OlP("");function GO(n){return k_(0,[{provide:dm,useExisting:QO},{provide:b2,useExisting:n}])}const zO=new s.OlP("ROUTER_FORROOT_GUARD"),xQ=[Jt,{provide:Va,useClass:ja},{provide:Bs,useFactory:w2},tf,{provide:yd,useFactory:function qE(n){return n.routerState.root},deps:[Bs]},uA,[]];function EQ(){return new s.PXZ("Router",Bs)}let D2=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[xQ,[],{provide:fl,multi:!0,useValue:e},{provide:zO,useFactory:hv,deps:[[Bs,new s.FiY,new s.tp0]]},{provide:jE,useValue:i||{}},i?.useHash?{provide:yt,useClass:qt}:{provide:yt,useClass:St},{provide:zE,useFactory:()=>{const n=(0,s.f3M)(ta),t=(0,s.f3M)(s.R0b),e=(0,s.f3M)(jE),i=(0,s.f3M)(xd),r=(0,s.f3M)(Va);return e.scrollOffset&&n.setOffset(e.scrollOffset),new C2(r,i,n,t,e)}},i?.preloadingStrategy?GO(i.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:EQ},i?.initialNavigation?KO(i):[],[{provide:YE,useFactory:ZE},{provide:s.tb,multi:!0,useExisting:YE}]]}}static forChild(e){return{ngModule:n,providers:[{provide:fl,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(zO,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vp]}),n})();function hv(n){return"guarded"}function KO(n){return["disabled"===n.initialNavigation?k_(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const t=(0,s.f3M)(Bs);return()=>{t.setUpLocationChangeListener()}}},{provide:$E,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?k_(2,[{provide:$E,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:t=>{const e=t.get(Ee,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const o=t.get(Bs),a=t.get(x2);(function i(r){t.get(Bs).events.pipe(_i(a=>a instanceof gd||a instanceof Wh||a instanceof pp),(0,an.U)(a=>a instanceof gd||a instanceof Wh&&(0===a.code||1===a.code)&&null),_i(a=>null!==a),(0,Jr.q)(1)).subscribe(()=>{r()})})(()=>{r(!0)}),o.afterPreactivation=()=>(r(!0),a.closed?An(void 0):a),o.initialNavigation()}))}}]).\u0275providers:[]]}const YE=new s.OlP("");class Aw{}class WE{}class pl{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof pl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new pl;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof pl?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let a=this.headers.get(e);if(!a)return;a=a.filter(u=>-1===o.indexOf(u)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class ZO{encodeKey(t){return JE(t)}encodeValue(t){return JE(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const B2=/%(\d[a-f0-9])/gi,YO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function JE(n){return encodeURIComponent(n).replace(B2,(t,e)=>YO[e]??t)}function fw(n){return`${n}`}class Jc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new ZO,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function $O(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[a,u]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],h=e.get(a)||[];h.push(u),e.set(a,h)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(fw):[fw(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Jc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(fw(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(fw(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class XE{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function JO(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function O_(n){return typeof Blob<"u"&&n instanceof Blob}function eS(n){return typeof FormData<"u"&&n instanceof FormData}class Av{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function WO(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new pl),this.context||(this.context=new XE),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const u=e.indexOf("?");this.urlWithParams=e+(-1===u?"?":u<e.length-1?"&":"")+a}}else this.params=new Jc,this.urlWithParams=e}serializeBody(){return null===this.body?null:JO(this.body)||O_(this.body)||eS(this.body)||function XO(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Jc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||eS(this.body)?null:O_(this.body)?this.body.type||null:JO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Jc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,u=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let h=t.headers||this.headers,f=t.params||this.params;const _=t.context??this.context;return void 0!==t.setHeaders&&(h=Object.keys(t.setHeaders).reduce((C,F)=>C.set(F,t.setHeaders[F]),h)),t.setParams&&(f=Object.keys(t.setParams).reduce((C,F)=>C.set(F,t.setParams[F]),f)),new Av(e,i,o,{params:f,headers:h,context:_,reportProgress:u,responseType:r,withCredentials:a})}}var Ka=(()=>((Ka=Ka||{})[Ka.Sent=0]="Sent",Ka[Ka.UploadProgress=1]="UploadProgress",Ka[Ka.ResponseHeader=2]="ResponseHeader",Ka[Ka.DownloadProgress=3]="DownloadProgress",Ka[Ka.Response=4]="Response",Ka[Ka.User=5]="User",Ka))();class tS{constructor(t,e=200,i="OK"){this.headers=t.headers||new pl,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class fv extends tS{constructor(t={}){super(t),this.type=Ka.ResponseHeader}clone(t={}){return new fv({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Bp extends tS{constructor(t={}){super(t),this.type=Ka.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Bp({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class mC extends tS{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function L_(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let hm=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Av)o=e;else{let h,f;h=r.headers instanceof pl?r.headers:new pl(r.headers),r.params&&(f=r.params instanceof Jc?r.params:new Jc({fromObject:r.params})),o=new Av(e,i,void 0!==r.body?r.body:null,{headers:h,context:r.context,params:f,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=An(o).pipe(cl(h=>this.handler.handle(h)));if(e instanceof Av||"events"===r.observe)return a;const u=a.pipe(_i(h=>h instanceof Bp));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe((0,an.U)(h=>{if(null!==h.body&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return u.pipe((0,an.U)(h=>{if(null!==h.body&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return u.pipe((0,an.U)(h=>{if(null!==h.body&&"string"!=typeof h.body)throw new Error("Response is not a string.");return h.body}));default:return u.pipe((0,an.U)(h=>h.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Jc).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,L_(r,i))}post(e,i,r={}){return this.request("POST",e,L_(r,i))}put(e,i,r={}){return this.request("PUT",e,L_(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Aw))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function pw(n,t){return t(n)}function F2(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const _C=new s.OlP("HTTP_INTERCEPTORS"),N_=new s.OlP("HTTP_INTERCEPTOR_FNS");function M2(){let n=null;return(t,e)=>(null===n&&(n=((0,s.f3M)(_C,{optional:!0})??[]).reduceRight(F2,pw)),n(t,e))}let yC=(()=>{class n extends Aw{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=Array.from(new Set(this.injector.get(N_)));this.chain=i.reduceRight((r,o)=>function nS(n,t,e){return(i,r)=>e.runInContext(()=>t(i,o=>n(o,r)))}(r,o,this.injector),pw)}return this.chain(e,i=>this.backend.handle(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(WE),s.LFG(s.lqb))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const kQ=/^\)\]\}',?\n/;let rS=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new mr.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((B,U)=>r.setRequestHeader(B,U.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const B=e.detectContentTypeHeader();null!==B&&r.setRequestHeader("Content-Type",B)}if(e.responseType){const B=e.responseType.toLowerCase();r.responseType="json"!==B?B:"text"}const o=e.serializeBody();let a=null;const u=()=>{if(null!==a)return a;const B=r.statusText||"OK",U=new pl(r.getAllResponseHeaders()),H=function iS(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return a=new fv({headers:U,status:r.status,statusText:B,url:H}),a},h=()=>{let{headers:B,status:U,statusText:H,url:Z}=u(),q=null;204!==U&&(q=typeof r.response>"u"?r.responseText:r.response),0===U&&(U=q?200:0);let W=U>=200&&U<300;if("json"===e.responseType&&"string"==typeof q){const he=q;q=q.replace(kQ,"");try{q=""!==q?JSON.parse(q):null}catch(xe){q=he,W&&(W=!1,q={error:xe,text:q})}}W?(i.next(new Bp({body:q,headers:B,status:U,statusText:H,url:Z||void 0})),i.complete()):i.error(new mC({error:q,headers:B,status:U,statusText:H,url:Z||void 0}))},f=B=>{const{url:U}=u(),H=new mC({error:B,status:r.status||0,statusText:r.statusText||"Unknown Error",url:U||void 0});i.error(H)};let _=!1;const C=B=>{_||(i.next(u()),_=!0);let U={type:Ka.DownloadProgress,loaded:B.loaded};B.lengthComputable&&(U.total=B.total),"text"===e.responseType&&!!r.responseText&&(U.partialText=r.responseText),i.next(U)},F=B=>{let U={type:Ka.UploadProgress,loaded:B.loaded};B.lengthComputable&&(U.total=B.total),i.next(U)};return r.addEventListener("load",h),r.addEventListener("error",f),r.addEventListener("timeout",f),r.addEventListener("abort",f),e.reportProgress&&(r.addEventListener("progress",C),null!==o&&r.upload&&r.upload.addEventListener("progress",F)),r.send(o),i.next({type:Ka.Sent}),()=>{r.removeEventListener("error",f),r.removeEventListener("abort",f),r.removeEventListener("load",h),r.removeEventListener("timeout",f),e.reportProgress&&(r.removeEventListener("progress",C),null!==o&&r.upload&&r.upload.removeEventListener("progress",F)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Yl))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const sS=new s.OlP("XSRF_ENABLED"),R2="XSRF-TOKEN",O2=new s.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>R2}),oS="X-XSRF-TOKEN",L2=new s.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>oS});class N2{}let aS=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Oo(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ke),s.LFG(s.Lbi),s.LFG(O2))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function sL(n,t){const e=n.url.toLowerCase();if(!(0,s.f3M)(sS)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=(0,s.f3M)(N2).getToken(),r=(0,s.f3M)(L2);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var _a=(()=>((_a=_a||{})[_a.Interceptors=0]="Interceptors",_a[_a.LegacyInterceptors=1]="LegacyInterceptors",_a[_a.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",_a[_a.NoXsrfProtection=3]="NoXsrfProtection",_a[_a.JsonpSupport=4]="JsonpSupport",_a[_a.RequestsMadeViaParent=5]="RequestsMadeViaParent",_a))();function pv(n,t){return{\u0275kind:n,\u0275providers:t}}function oL(...n){const t=[hm,rS,yC,{provide:Aw,useExisting:yC},{provide:WE,useExisting:rS},{provide:N_,useValue:sL,multi:!0},{provide:sS,useValue:!0},{provide:N2,useClass:aS}];for(const e of n)t.push(...e.\u0275providers);return(0,s.MR2)(t)}const vC=new s.OlP("LEGACY_INTERCEPTOR_FN");function lL({cookieName:n,headerName:t}){const e=[];return void 0!==n&&e.push({provide:O2,useValue:n}),void 0!==t&&e.push({provide:L2,useValue:t}),pv(_a.CustomXsrfConfiguration,e)}let lS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[oL(pv(_a.LegacyInterceptors,[{provide:vC,useFactory:M2},{provide:N_,useExisting:vC,multi:!0}]),lL({cookieName:R2,headerName:oS}))]}),n})();class gv{constructor(){this.guid="",this.author="",this.date=new Date,this.title="",this.like=0,this.tipologia="",this.utenti=new Array,this.delay=0}}class gw{constructor(){this.macro=new gv,this.azione="",this.value="",this.descrizione="",this.tipologia=""}}class mw{constructor(){this.comando="",this.settings=new Array,this.type="",this.code="",this.subCode=""}}class _w extends mw{constructor(){super(...arguments),this.function="",this.index=0}}class wC{constructor(){this.settings=new Array,this.macro=new gv,this.descrizione=""}}class cS{constructor(){this.checked=!0,this.settings=new Array,this.macro=new gw}}let dA;try{dA=typeof Intl<"u"&&Intl.v8BreakIterator}catch{dA=!1}let cf,Fs=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?$l(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!dA)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const P2=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function dS(){if(cf)return cf;if("object"!=typeof document||!document)return cf=new Set(P2),cf;let n=document.createElement("input");return cf=new Set(P2.filter(t=>(n.setAttribute("type",t),n.type===t))),cf}let _v,Am,P_,hS;function yw(n){return function hL(){if(null==_v&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>_v=!0}))}finally{_v=_v||!1}return _v}()?n:!!n.capture}function AL(){if(null==P_){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return P_=!1,P_;if("scrollBehavior"in document.documentElement.style)P_=!0;else{const n=Element.prototype.scrollTo;P_=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return P_}function vw(){if("object"!=typeof document||!document)return 0;if(null==Am){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),Am=0,0===n.scrollLeft&&(n.scrollLeft=1,Am=0===n.scrollLeft?1:2),n.remove()}return Am}function U2(n){if(function fL(){if(null==hS){const n=typeof document<"u"?document.head:null;hS=!(!n||!n.createShadowRoot&&!n.attachShadow)}return hS}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function AS(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function U_(n){return n.composedPath?n.composedPath()[0]:n.target}function fS(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}class uf{constructor(){}xmlToJson(t){let e={};if(1===t.nodeType){if(t.attributes.length>0){e["@attributes"]={};for(let i=0;i<t.attributes.length;i+=1){const r=t.attributes.item(i);e["@attributes"][r.nodeName]=r.nodeValue}}}else 3===t.nodeType&&(e=t.nodeValue);if(t.hasChildNodes()&&1===t.childNodes.length&&3===t.childNodes[0].nodeType)e=t.childNodes[0].nodeValue;else if(t.hasChildNodes())for(let i=0;i<t.childNodes.length;i+=1){const r=t.childNodes.item(i),o=r.nodeName;if(typeof e[o]>"u")e[o]=this.xmlToJson(r);else{if(typeof e[o].push>"u"){const a=e[o];e[o]=[],e[o].push(a)}e[o].push(this.xmlToJson(r))}}return e}}uf.\u0275fac=function(t){return new(t||uf)},uf.\u0275prov=s.Yz7({token:uf,factory:uf.\u0275fac,providedIn:"root"}),uf.ngInjectableDef=(0,s.Ez6)({factory:function(){return new uf},token:uf,providedIn:"root"});var Mp=re(4986),oo=re(4976);function pS(){return(0,Wr.e)((n,t)=>{let e,i=!1;n.subscribe(new Nr.Q(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}function yv(n,t=wn.y){return n=n??pL,(0,Wr.e)((e,i)=>{let r,o=!0;e.subscribe(new Nr.Q(i,a=>{const u=t(a);(o||!n(r,u))&&(o=!1,r=u,i.next(a))}))})}function pL(n,t){return n===t}var Pn,Xc=re(2011),H2=(re(8523),re(3942)),bt=re(5861),lh=re(6881),kp=re(4859),df=re(1877),ae=re(2090),CC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rc={},Q_=Q_||{},Gi=CC||self;function xC(){}function vv(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function ww(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var H_="closure_uid_"+(1e9*Math.random()>>>0),Sc=0;function V_(n,t,e){return n.call.apply(n.bind,arguments)}function EC(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Ms(n,t,e){return(Ms=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?V_:EC).apply(null,arguments)}function wv(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Vo(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,o){for(var a=Array(arguments.length-2),u=2;u<arguments.length;u++)a[u-2]=arguments[u];return t.prototype[r].apply(i,a)}}function Ed(){this.s=this.s,this.o=this.o}Ed.prototype.s=!1,Ed.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function hf(n){Object.prototype.hasOwnProperty.call(n,H_)&&n[H_]||(n[H_]=++Sc)}(this)},Ed.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const j_=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function fm(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function G_(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(vv(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let a=0;a<o;a++)n[r+a]=i[a]}else n.push(i)}}function ya(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}ya.prototype.h=function(){this.defaultPrevented=!0};var Cv=function(){if(!Gi.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Gi.addEventListener("test",xC,t),Gi.removeEventListener("test",xC,t)}catch{}return n}();function Rp(n){return/^[\s\xa0]*$/.test(n)}var gS=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function SC(n,t){return n<t?-1:n>t?1:0}function bw(){var n=Gi.navigator;return n&&(n=n.userAgent)?n:""}function hA(n){return-1!=bw().indexOf(n)}function IC(n){return IC[" "](n),n}function mS(n,t,e){return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}IC[" "]=xC;var Cw,n,V2=hA("Opera"),z_=hA("Trident")||hA("MSIE"),_S=hA("Edge"),yS=_S||z_,j2=hA("Gecko")&&!(-1!=bw().toLowerCase().indexOf("webkit")&&!hA("Edge"))&&!(hA("Trident")||hA("MSIE"))&&!hA("Edge"),G2=-1!=bw().toLowerCase().indexOf("webkit")&&!hA("Edge");function z2(){var n=Gi.document;return n?n.documentMode:void 0}e:{var xw="",Ew=(n=bw(),j2?/rv:([^\);]+)(\)|;)/.exec(n):_S?/Edge\/([\d\.]+)/.exec(n):z_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):G2?/WebKit\/(\S+)/.exec(n):V2?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Ew&&(xw=Ew?Ew[1]:""),z_){var vS=z2();if(null!=vS&&vS>parseFloat(xw)){Cw=String(vS);break e}}Cw=xw}var DC={},BC=Gi.document&&z_&&(z2()||parseInt(Cw,10))||void 0;function pm(n,t){if(ya.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(j2){e:{try{IC(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:wS[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&pm.$.h.call(this)}}Vo(pm,ya);var wS={2:"touch",3:"pen",4:"mouse"};pm.prototype.h=function(){pm.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var xv="closure_listenable_"+(1e6*Math.random()|0),bS=0;function K2(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++bS,this.fa=this.ia=!1}function Iw(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Dw(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function FC(n){const t={};for(const e in n)t[e]=n[e];return t}const Z2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function CS(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<Z2.length;o++)e=Z2[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Tw(n){this.src=n,this.g={},this.h=0}function MC(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=j_(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Iw(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function kC(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==t&&o.capture==!!e&&o.la==i)return r}return-1}Tw.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var a=kC(n,t,i,r);return-1<a?(t=n[a],e||(t.ia=!1)):((t=new K2(t,this.src,o,!!i,r)).ia=e,n.push(t)),t};var xS="closure_lm_"+(1e6*Math.random()|0),RC={};function ES(n,t,e,i,r){if(i&&i.once)return IS(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ES(n,t[o],e,i,r);return null}return e=UC(e),n&&n[xv]?n.O(t,e,ww(i)?!!i.capture:!!i,r):OC(n,t,e,!1,i,r)}function OC(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var a=ww(r)?!!r.capture:!!r,u=NC(n);if(u||(n[xS]=u=new Tw(n)),(e=u.add(t,e,i,a,o)).proxy)return e;if(i=function SS(){const t=$2;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)Cv||(r=a),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(TS(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function IS(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)IS(n,t[o],e,i,r);return null}return e=UC(e),n&&n[xv]?n.P(t,e,ww(i)?!!i.capture:!!i,r):OC(n,t,e,!0,i,r)}function DS(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)DS(n,t[o],e,i,r);else i=ww(i)?!!i.capture:!!i,e=UC(e),n&&n[xv]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=kC(o=n.g[t],e,i,r))&&(Iw(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=NC(n))&&(t=n.g[t.toString()],n=-1,t&&(n=kC(t,e,i,r)),(e=-1<n?t[n]:null)&&LC(e))}function LC(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[xv])MC(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(TS(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=NC(t))?(MC(e,n),0==e.h&&(e.src=null,t[xS]=null)):Iw(n)}}}function TS(n){return n in RC?RC[n]:RC[n]="on"+n}function $2(n,t){if(n.fa)n=!0;else{t=new pm(t,this);var e=n.listener,i=n.la||n.src;n.ia&&LC(n),n=e.call(i,t)}return n}function NC(n){return(n=n[xS])instanceof Tw?n:null}var PC="__closure_events_fn_"+(1e9*Math.random()>>>0);function UC(n){return"function"==typeof n?n:(n[PC]||(n[PC]=function(t){return n.handleEvent(t)}),n[PC])}function va(){Ed.call(this),this.i=new Tw(this),this.S=this,this.J=null}function xo(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new ya(t,n);else if(t instanceof ya)t.target=t.target||n;else{var r=t;CS(t=new ya(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.g=e[o];r=QC(a,i,!0,t)&&r}if(r=QC(a=t.g=n,i,!0,t)&&r,r=QC(a,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=QC(a=t.g=e[o],i,!1,t)&&r}function QC(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.fa&&a.capture==e){var u=a.listener,h=a.la||a.src;a.ia&&MC(n.i,a),r=!1!==u.call(h,i)&&r}}return r&&!i.defaultPrevented}Vo(va,Ed),va.prototype[xv]=!0,va.prototype.removeEventListener=function(n,t,e,i){DS(this,n,t,e,i)},va.prototype.N=function(){if(va.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Iw(e[i]);delete n.g[t],n.h--}}this.J=null},va.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},va.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var BS=Gi.JSON.stringify;function FS(){var n=RS;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var Y2,HC=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new gL,n=>n.reset());class gL{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function MS(n){Gi.setTimeout(()=>{throw n},0)}function mL(n,t){Y2||function _L(){var n=Gi.Promise.resolve(void 0);Y2=function(){n.then(yL)}}(),kS||(Y2(),kS=!0),RS.add(n,t)}var kS=!1,RS=new class q_{constructor(){this.h=this.g=null}add(t,e){const i=HC.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function yL(){for(var n;n=FS();){try{n.h.call(n.g)}catch(e){MS(e)}var t=HC;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}kS=!1}function oa(n,t){va.call(this),this.h=n||1,this.g=t||Gi,this.j=Ms(this.qb,this),this.l=Date.now()}function VC(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function OS(n,t,e){if("function"==typeof n)e&&(n=Ms(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ms(n.handleEvent,n)}return 2147483647<Number(t)?-1:Gi.setTimeout(n,t||0)}function W2(n){n.g=OS(()=>{n.g=null,n.i&&(n.i=!1,W2(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Vo(oa,va),(Pn=oa.prototype).ga=!1,Pn.T=null,Pn.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),xo(this,"tick"),this.ga&&(VC(this),this.start()))}},Pn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Pn.N=function(){oa.$.N.call(this),VC(this),delete this.g};class J2 extends Ed{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:W2(this)}N(){super.N(),this.g&&(Gi.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bw(n){Ed.call(this),this.h=n,this.g={}}Vo(Bw,Ed);var LS=[];function NS(n,t,e,i){Array.isArray(e)||(e&&(LS[0]=e.toString()),e=LS);for(var r=0;r<e.length;r++){var o=ES(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function K_(n){Dw(n.g,function(t,e){this.g.hasOwnProperty(e)&&LC(t)},n),n.g={}}function jC(){this.g=!0}function Ev(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function VQ(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<r.length;a++)r[a]=""}}}return BS(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Bw.prototype.N=function(){Bw.$.N.call(this),K_(this)},Bw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jC.prototype.Ea=function(){this.g=!1},jC.prototype.info=function(){};var Op={},GC=null;function Sd(){return GC=GC||new va}function tB(n){ya.call(this,Op.Ta,n)}function Fw(n){const t=Sd();xo(t,new tB(t))}function AA(n,t){ya.call(this,Op.STAT_EVENT,n),this.stat=t}function ao(n){const t=Sd();xo(t,new AA(t,n))}function ch(n,t){ya.call(this,Op.Ua,n),this.size=t}function Sv(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Gi.setTimeout(function(){n()},t)}Op.Ta="serverreachability",Vo(tB,ya),Op.STAT_EVENT="statevent",Vo(AA,ya),Op.Ua="timingevent",Vo(ch,ya);var Mw={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},nB={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function PS(){}function rB(){}PS.prototype.h=null;var zC,Z_={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function $_(){ya.call(this,"d")}function US(){ya.call(this,"c")}function qC(){}function Iv(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new Bw(this),this.P=KC,this.V=new oa(n=yS?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new QS}function QS(){this.i=null,this.g="",this.h=!1}Vo($_,ya),Vo(US,ya),Vo(qC,PS),qC.prototype.g=function(){return new XMLHttpRequest},qC.prototype.i=function(){return{}},zC=new qC;var KC=45e3,HS={},kw={};function ZC(n,t,e){n.L=1,n.v=e1(Lp(t)),n.s=e,n.S=!0,$C(n,null)}function $C(n,t){n.G=Date.now(),Dv(n),n.A=Lp(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),zS(e.i,"t",i),n.C=0,e=n.l.I,n.h=new QS,n.g=BL(n.l,e?t:null,!n.s),0<n.O&&(n.M=new J2(Ms(n.Pa,n,n.g),n.O)),NS(n.U,n.g,"readystatechange",n.nb),t=n.I?FC(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),Fw(),function vL(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var a="",u=o.split("&"),h=0;h<u.length;h++){var f=u[h].split("=");if(1<f.length){var _=f[0];f=f[1];var C=_.split("_");a=2<=C.length&&"type"==C[1]?a+(_+"=")+f+"&":a+(_+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+a})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Rw(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function YC(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=sB(n,e),r==kw){4==t&&(n.o=4,ao(14),i=!1),Ev(n.j,n.m,null,"[Incomplete Response]");break}if(r==HS){n.o=4,ao(15),Ev(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Ev(n.j,n.m,r,null),WC(n,r)}Rw(n)&&r!=kw&&r!=HS&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,ao(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ca&&(n.ca=!0,(t=n.l).g==n&&t.ca&&!t.L&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),d1(t),t.L=!0,ao(11))):(Ev(n.j,n.m,e,"[Invalid Chunked Response]"),gm(n),Tv(n))}function sB(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?kw:(e=Number(t.substring(e,i)),isNaN(e)?HS:(i+=1)+e>t.length?kw:(t=t.substr(i,e),n.C=i+e,t))}function Dv(n){n.Y=Date.now()+n.P,VS(n,n.P)}function VS(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Sv(Ms(n.lb,n),t)}function Ow(n){n.B&&(Gi.clearTimeout(n.B),n.B=null)}function Tv(n){0==n.l.H||n.J||eI(n.l,n)}function gm(n){Ow(n);var t=n.M;t&&"function"==typeof t.ra&&t.ra(),n.M=null,VC(n.V),K_(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.ra())}function WC(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||mm(e.h,n)))if(!n.K&&mm(e.h,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;h1(e),Hw(e)}u1(e),ao(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.M&&0==e.A&&!e.v&&(e.v=Sv(Ms(e.ib,e),6e3));if(1>=pB(e.h)&&e.na){try{e.na()}catch{}e.na=void 0}}else X_(e,11)}else if((n.K||e.g==n)&&h1(e),!Rp(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let f=r[t];if(e.V=f[0],f=f[1],2==e.H)if("c"==f[0]){e.J=f[1],e.oa=f[2];const _=f[3];null!=_&&(e.qa=_,e.j.info("VER="+e.qa));const C=f[4];null!=C&&(e.Ga=C,e.j.info("SVER="+e.Ga));const F=f[5];null!=F&&"number"==typeof F&&0<F&&(e.K=i=1.5*F,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const B=n.g;if(B){const U=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var o=i.h;o.g||-1==U.indexOf("spdy")&&-1==U.indexOf("quic")&&-1==U.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(gB(o,o.h),o.h=null))}if(i.F){const H=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;H&&(i.Da=H,Eo(i.G,i.F,H))}}e.H=3,e.l&&e.l.Ba(),e.ca&&(e.S=Date.now()-n.G,e.j.info("Handshake RTT: "+e.S+"ms"));var a=n;if((i=e).wa=TL(i,i.I?i.oa:null,i.Y),a.K){n1(i.h,a);var u=a,h=i.K;h&&u.setTimeout(h),u.B&&(Ow(u),Dv(u)),i.g=a}else xB(i);0<e.i.length&&c1(e)}else"stop"!=f[0]&&"close"!=f[0]||X_(e,7);else 3==e.H&&("stop"==f[0]||"close"==f[0]?"stop"==f[0]?X_(e,7):l1(e):"noop"!=f[0]&&e.l&&e.l.Aa(f),e.A=0)}Fw()}catch{}}function aB(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(vv(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function wL(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(vv(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function oB(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(vv(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}(Pn=Iv.prototype).setTimeout=function(n){this.P=n},Pn.nb=function(n){n=n.target;const t=this.M;t&&3==Pp(n)?t.l():this.Pa(n)},Pn.Pa=function(n){try{if(n==this.g)e:{const _=Pp(this.g);var t=this.g.Ia();if(this.g.da(),!(3>_)&&(3!=_||yS||this.g&&(this.h.h||this.g.ja()||Fv(this.g)))){this.J||4!=_||7==t||Fw(),Ow(this);var e=this.g.da();this.aa=e;t:if(Rw(this)){var i=Fv(this.g);n="";var r=i.length,o=4==Pp(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){gm(this),Tv(this);var a="";break t}this.h.i=new Gi.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==e,function X2(n,t,e,i,r,o,a){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+a})}(this.j,this.u,this.A,this.m,this.W,_,e),this.i){if(this.ba&&!this.K){t:{if(this.g){var u,h=this.g;if((u=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rp(u)){var f=u;break t}}f=null}if(!(e=f)){this.i=!1,this.o=3,ao(12),gm(this),Tv(this);break e}Ev(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,WC(this,e)}this.S?(YC(this,_,a),yS&&this.i&&3==_&&(NS(this.U,this.V,"tick",this.mb),this.V.start())):(Ev(this.j,this.m,a,null),WC(this,a)),4==_&&gm(this),this.i&&!this.J&&(4==_?eI(this.l,this):(this.i=!1,Dv(this)))}else 400==e&&0<a.indexOf("Unknown SID")?(this.o=3,ao(12)):(this.o=0,ao(13)),gm(this),Tv(this)}}}catch{}},Pn.mb=function(){if(this.g){var n=Pp(this.g),t=this.g.ja();this.C<t.length&&(Ow(this),YC(this,n,t),this.i&&4!=n&&Dv(this))}},Pn.cancel=function(){this.J=!0,gm(this)},Pn.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function eB(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Fw(),ao(17)),gm(this),this.o=2,Tv(this)):VS(this,this.Y-n)};var lB=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Y_(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Y_){this.h=void 0!==t?t:n.h,JC(this,n.j),this.s=n.s,this.g=n.g,XC(this,n.m),this.l=n.l,t=n.i;var e=new Bv;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),cB(this,e),this.o=n.o}else n&&(e=String(n).match(lB))?(this.h=!!t,JC(this,e[1]||"",!0),this.s=Lw(e[2]||""),this.g=Lw(e[3]||"",!0),XC(this,e[4]),this.l=Lw(e[5]||"",!0),cB(this,e[6]||"",!0),this.o=Lw(e[7]||"")):(this.h=!!t,this.i=new Bv(null,this.h))}function Lp(n){return new Y_(n)}function JC(n,t,e){n.j=e?Lw(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function XC(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function cB(n,t,e){t instanceof Bv?(n.i=t,function AB(n,t){t&&!n.j&&(Np(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(jS(this,i),zS(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=Nw(t,dB)),n.i=new Bv(t,n.h))}function Eo(n,t,e){n.i.set(t,e)}function e1(n){return Eo(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Lw(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Nw(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,CL),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function CL(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Y_.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Nw(t,uB,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Nw(t,uB,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(Nw(e,"/"==e.charAt(0)?EL:xL,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Nw(e,hB)),n.join("")};var uB=/[#\/\?@]/g,xL=/[#\?:]/g,EL=/[#\?]/g,dB=/[#\?@]/g,hB=/#/g;function Bv(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Np(n){n.g||(n.g=new Map,n.h=0,n.i&&function bL(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function jS(n,t){Np(n),t=W_(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function GS(n,t){return Np(n),t=W_(n,t),n.g.has(t)}function zS(n,t,e){jS(n,t),0<e.length&&(n.i=null,n.g.set(W_(n,t),fm(e)),n.h+=e.length)}function W_(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function t1(n){this.l=n||J_,n=Gi.PerformanceNavigationTiming?0<(n=Gi.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Gi.g&&Gi.g.Ka&&Gi.g.Ka()&&Gi.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Pn=Bv.prototype).add=function(n,t){Np(this),this.i=null,n=W_(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},Pn.forEach=function(n,t){Np(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},Pn.sa=function(){Np(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let o=0;o<r.length;o++)e.push(t[i])}return e},Pn.Z=function(n){Np(this);let t=[];if("string"==typeof n)GS(this,n)&&(t=t.concat(this.g.get(W_(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},Pn.set=function(n,t){return Np(this),this.i=null,GS(this,n=W_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},Pn.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},Pn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var r=o;""!==a[i]&&(r+="="+encodeURIComponent(String(a[i]))),n.push(r)}}return this.i=n.join("&")};var J_=10;function fB(n){return!!n.h||!!n.g&&n.g.size>=n.j}function pB(n){return n.h?1:n.g?n.g.size:0}function mm(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function gB(n,t){n.g?n.g.add(t):n.h=t}function n1(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function SL(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return fm(n.i)}function r1(){}function mB(){this.g=new r1}function jQ(n,t,e){const i=e||"";try{aB(n,function(r,o){let a=r;ww(r)&&(a=BS(r)),t.push(i+o+"="+encodeURIComponent(a))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function s1(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Pw(n){this.l=n.fc||null,this.j=n.ob||!1}function o1(n,t){va.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=_m,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}t1.prototype.cancel=function(){if(this.i=SL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},r1.prototype.stringify=function(n){return Gi.JSON.stringify(n,void 0)},r1.prototype.parse=function(n){return Gi.JSON.parse(n,void 0)},Vo(Pw,PS),Pw.prototype.g=function(){return new o1(this.l,this.j)},Pw.prototype.i=function(n){return function(){return n}}({}),Vo(o1,va);var _m=0;function _B(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function ym(n){n.readyState=4,n.l=null,n.j=null,n.A=null,vm(n)}function vm(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Pn=o1.prototype).open=function(n,t){if(this.readyState!=_m)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,vm(this)},Pn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||Gi).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Pn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ym(this)),this.readyState=_m},Pn.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,vm(this)),this.g&&(this.readyState=3,vm(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Gi.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_B(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Pn.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?ym(this):vm(this),3==this.readyState&&_B(this)}},Pn.Za=function(n){this.g&&(this.response=this.responseText=n,ym(this))},Pn.Ya=function(n){this.g&&(this.response=n,ym(this))},Pn.ka=function(){this.g&&ym(this)},Pn.setRequestHeader=function(n,t){this.v.append(n,t)},Pn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Pn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(o1.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var aa=Gi.JSON.parse;function wa(n){va.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=KS,this.L=this.M=!1}Vo(wa,va);var KS="",yB=/^https?$/i,IL=["POST","PUT"];function ZS(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,$S(n),a1(n)}function $S(n){n.F||(n.F=!0,xo(n,"complete"),xo(n,"error"))}function YS(n){if(n.h&&typeof Q_<"u"&&(!n.C[1]||4!=Pp(n)||2!=n.da()))if(n.v&&4==Pp(n))OS(n.La,0,n);else if(xo(n,"readystatechange"),4==Pp(n)){n.h=!1;try{const u=n.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===u){var r=String(n.I).match(lB)[1]||null;if(!r&&Gi.self&&Gi.self.location){var o=Gi.self.location.protocol;r=o.substr(0,o.length-1)}i=!yB.test(r?r.toLowerCase():"")}e=i}if(e)xo(n,"complete"),xo(n,"success");else{n.m=6;try{var a=2<Pp(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",$S(n)}}finally{a1(n)}}}function a1(n,t){if(n.g){wB(n);const e=n.g,i=n.C[0]?xC:null;n.g=null,n.C=null,t||xo(n,"ready");try{e.onreadystatechange=i}catch{}}}function wB(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Gi.clearTimeout(n.A),n.A=null)}function Pp(n){return n.g?n.g.readyState:0}function Fv(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case KS:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function bB(n){let t="";return Dw(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function WS(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=bB(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Eo(n,t,e))}function Uw(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function Qw(n){this.Ga=0,this.i=[],this.j=new jC,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Uw("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Uw("baseRetryDelayMs",5e3,n),this.hb=Uw("retryDelaySeedMs",1e4,n),this.eb=Uw("forwardChannelMaxRetries",2,n),this.xa=Uw("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new t1(n&&n.concurrentRequestLimit),this.Ja=new mB,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function l1(n){if(JS(n),3==n.H){var t=n.W++,e=Lp(n.G);Eo(e,"SID",n.J),Eo(e,"RID",t),Eo(e,"TYPE","terminate"),jw(n,e),(t=new Iv(n,n.j,t,void 0)).L=2,t.v=e1(Lp(e)),e=!1,Gi.navigator&&Gi.navigator.sendBeacon&&(e=Gi.navigator.sendBeacon(t.v.toString(),"")),!e&&Gi.Image&&((new Image).src=t.v,e=!0),e||(t.g=BL(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Dv(t)}DL(n)}function Hw(n){n.g&&(d1(n),n.g.cancel(),n.g=null)}function JS(n){Hw(n),n.u&&(Gi.clearTimeout(n.u),n.u=null),h1(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Gi.clearTimeout(n.m),n.m=null)}function c1(n){fB(n.h)||n.m||(n.m=!0,mL(n.Na,n),n.C=0)}function Mv(n,t){var e;e=t?t.m:n.W++;const i=Lp(n.G);Eo(i,"SID",n.J),Eo(i,"RID",e),Eo(i,"AID",n.V),jw(n,i),n.o&&n.s&&WS(i,n.o,n.s),e=new Iv(n,n.j,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.i=t.F.concat(n.i)),t=CB(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),gB(n.h,e),ZC(e,i,t)}function jw(n,t){n.ma&&Dw(n.ma,function(e,i){Eo(t,i,e)}),n.l&&aB({},function(e,i){Eo(t,i,e)})}function CB(n,t,e){e=Math.min(n.i.length,e);var i=n.l?Ms(n.l.Va,n.l,n):null;e:{var r=n.i;let o=-1;for(;;){const a=["count="+e];-1==o?0<e?(o=r[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);let u=!0;for(let h=0;h<e;h++){let f=r[h].h;const _=r[h].g;if(f-=o,0>f)o=Math.max(0,r[h].h-100),u=!1;else try{jQ(_,a,"req"+f+"_")}catch{i&&i(_)}}if(u){i=a.join("&");break e}}}return n=n.i.splice(0,e),t.F=n,i}function xB(n){n.g||n.u||(n.ba=1,mL(n.Ma,n),n.A=0)}function u1(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Sv(Ms(n.Ma,n),EB(n,n.A)),n.A++,0))}function d1(n){null!=n.B&&(Gi.clearTimeout(n.B),n.B=null)}function XS(n){n.g=new Iv(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=Lp(n.wa);Eo(t,"RID","rpc"),Eo(t,"SID",n.J),Eo(t,"CI",n.M?"0":"1"),Eo(t,"AID",n.V),Eo(t,"TYPE","xmlhttp"),jw(n,t),n.o&&n.s&&WS(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.oa,e.L=1,e.v=e1(Lp(t)),e.s=null,e.S=!0,$C(e,n)}function h1(n){null!=n.v&&(Gi.clearTimeout(n.v),n.v=null)}function eI(n,t){var e=null;if(n.g==t){h1(n),d1(n),n.g=null;var i=2}else{if(!mm(n.h,t))return;e=t.F,n1(n.h,t),i=1}if(0!=n.H)if(n.ta=t.aa,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;xo(i=Sd(),new ch(i,e)),c1(n)}else xB(n);else if(3==(r=t.o)||0==r&&0<n.ta||!(1==i&&function Vw(n,t){return!(pB(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Sv(Ms(n.Na,n,t),EB(n,n.C)),n.C++,0)))}(n,t)||2==i&&u1(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:X_(n,5);break;case 4:X_(n,10);break;case 3:X_(n,6);break;default:X_(n,2)}}function EB(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.l||(e*=2),e*t}function X_(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=Ms(n.pb,n);e||(e=new Y_("//www.google.com/images/cleardot.gif"),Gi.location&&"http"==Gi.location.protocol||JC(e,"https"),e1(e)),function bi(n,t){const e=new jC;if(Gi.Image){const i=new Image;i.onload=wv(s1,e,i,"TestLoadImage: loaded",!0,t),i.onerror=wv(s1,e,i,"TestLoadImage: error",!1,t),i.onabort=wv(s1,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=wv(s1,e,i,"TestLoadImage: timeout",!1,t),Gi.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else ao(2);n.H=0,n.l&&n.l.za(t),DL(n),JS(n)}function DL(n){if(n.H=0,n.pa=[],n.l){const t=SL(n.h);(0!=t.length||0!=n.i.length)&&(G_(n.pa,t),G_(n.pa,n.i),n.h.i.length=0,fm(n.i),n.i.length=0),n.l.ya()}}function TL(n,t,e){var i=e instanceof Y_?Lp(e):new Y_(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),XC(i,i.m);else{var r=Gi.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new Y_(null,void 0);i&&JC(o,i),t&&(o.g=t),r&&XC(o,r),e&&(o.l=e),i=o}return t=n.Da,(e=n.F)&&t&&Eo(i,e,t),Eo(i,"VER",n.qa),jw(n,i),i}function BL(n,t,e){if(t&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new wa(e&&n.Ha&&!n.va?new Pw({ob:!0}):n.va)).Oa(n.I),t}function FL(){}function tI(){if(z_&&!(10<=Number(BC)))throw Error("Environmental error: no available transport.")}function uh(n,t){va.call(this),this.g=new Qw(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!Rp(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Rp(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new kv(this)}function nI(n){$_.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function Gw(){US.call(this),this.status=1}function kv(n){this.g=n}function dh(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ey(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var o=n.g[3],a=(t=n.g[0])+(o^(e=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;a=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=e+(a<<7&4294967295|a>>>25))+((a=o+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^o&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(o^t))+i[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^e&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^o&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(o^t))+i[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^e&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^o&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(o^t))+i[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^e&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^o&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(o^t))+i[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(r^o&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(o^t))+i[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=e+(o^t&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^o&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(o^t))+i[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=e+(o^t&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^o&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(o^t))+i[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=e+(o^t&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^o&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(o^t))+i[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=e+(o^t&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(e^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=r+(o^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^o^t)+i[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=r+(o^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^o^t)+i[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^o)+i[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=r+(o^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^o^t)+i[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=r+(o^t^e)+i[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^o^t)+i[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(r^(e|~o))+i[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(o|~e))+i[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=e+(o^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(e|~o))+i[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(o|~e))+i[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=e+(o^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(e|~o))+i[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(o|~e))+i[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=e+(o^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=e+((a=t+(r^(e|~o))+i[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((r=o+((a=r+(t^(o|~e))+i[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function As(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==t||(e[r]=o,i=!1)}this.g=e}(Pn=wa.prototype).Oa=function(n){this.M=n},Pn.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():zC.g(),this.C=function iB(n){return n.h||(n.h=n.i())}(this.u?this.u:zC),this.g.onreadystatechange=Ms(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(o){return void ZS(this,o)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=Gi.FormData&&n instanceof Gi.FormData,!(0<=j_(IL,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of e)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{wB(this),0<this.B&&((this.L=function vB(n){return z_&&function TC(){return mS(DC,9,function(){let n=0;const t=gS(String(Cw)).split("."),e=gS("9").split("."),i=Math.max(t.length,e.length);for(let a=0;0==n&&a<i;a++){var r=t[a]||"",o=e[a]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=SC(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||SC(0==r[2].length,0==o[2].length)||SC(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ms(this.ua,this)):this.A=OS(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){ZS(this,o)}},Pn.ua=function(){typeof Q_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xo(this,"timeout"),this.abort(8))},Pn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,xo(this,"complete"),xo(this,"abort"),a1(this))},Pn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),a1(this,!0)),wa.$.N.call(this)},Pn.La=function(){this.s||(this.G||this.v||this.l?YS(this):this.kb())},Pn.kb=function(){YS(this)},Pn.da=function(){try{return 2<Pp(this)?this.g.status:-1}catch{return-1}},Pn.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Pn.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),aa(t)}},Pn.Ia=function(){return this.m},Pn.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Pn=Qw.prototype).qa=8,Pn.H=1,Pn.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Iv(this,this.j,n,void 0);let o=this.s;if(this.U&&(o?(o=FC(o),CS(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=CB(this,r,t),Eo(e=Lp(this.G),"RID",n),Eo(e,"CVER",22),this.F&&Eo(e,"X-HTTP-Session-Id",this.F),jw(this,e),o&&(this.O?t="headers="+encodeURIComponent(String(bB(o)))+"&"+t:this.o&&WS(e,this.o,o)),gB(this.h,r),this.bb&&Eo(e,"TYPE","init"),this.P?(Eo(e,"$req",t),Eo(e,"SID","null"),r.ba=!0,ZC(r,e,null)):ZC(r,e,t),this.H=2}}else 3==this.H&&(n?Mv(this,n):0==this.i.length||fB(this.h)||Mv(this))},Pn.Ma=function(){if(this.u=null,XS(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=Sv(Ms(this.jb,this),n)}},Pn.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,ao(10),Hw(this),XS(this))},Pn.ib=function(){null!=this.v&&(this.v=null,Hw(this),u1(this),ao(19))},Pn.pb=function(n){n?(this.j.info("Successfully pinged google.com"),ao(2)):(this.j.info("Failed to ping google.com"),ao(1))},(Pn=FL.prototype).Ba=function(){},Pn.Aa=function(){},Pn.za=function(){},Pn.ya=function(){},Pn.Va=function(){},tI.prototype.g=function(n,t){return new uh(n,t)},Vo(uh,va),uh.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,t=this.l,e=this.h||void 0;ao(0),n.Y=t,n.ma=e||{},n.M=n.aa,n.G=TL(n,null,n.Y),c1(n)},uh.prototype.close=function(){l1(this.g)},uh.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=BS(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.fb++,n)),3==t.H&&c1(t)},uh.prototype.N=function(){this.g.l=null,delete this.j,l1(this.g),delete this.g,uh.$.N.call(this)},Vo(nI,$_),Vo(Gw,US),Vo(kv,FL),kv.prototype.Ba=function(){xo(this.g,"a")},kv.prototype.Aa=function(n){xo(this.g,new nI(n))},kv.prototype.za=function(n){xo(this.g,new Gw)},kv.prototype.ya=function(){xo(this.g,"b")},Vo(dh,function ML(){this.blockSize=-1}),dh.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},dh.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,o=0;o<t;){if(0==r)for(;o<=e;)ey(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<t;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){ey(this,i),r=0;break}}else for(;o<t;)if(i[r++]=n[o++],r==this.blockSize){ey(this,i),r=0;break}}this.h=r,this.i+=t},dh.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var kL={};function iI(n){return-128<=n&&128>n?mS(kL,n,function(t){return new As([0|t],0>t?-1:0)}):new As([0|n],0>n?-1:0)}function Af(n){if(isNaN(n)||!isFinite(n))return Rv;if(0>n)return sc(Af(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=A1;return new As(t,0)}var A1=4294967296,Rv=iI(0),rI=iI(1),Ov=iI(16777216);function Up(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function Id(n){return-1==n.h}function sc(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new As(e,~n.h).add(rI)}function zw(n,t){return n.add(sc(t))}function f1(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function Lv(n,t){this.g=n,this.h=t}function p1(n,t){if(Up(t))throw Error("division by zero");if(Up(n))return new Lv(Rv,Rv);if(Id(n))return t=p1(sc(n),t),new Lv(sc(t.g),sc(t.h));if(Id(t))return t=p1(n,sc(t)),new Lv(sc(t.g),t.h);if(30<n.g.length){if(Id(n)||Id(t))throw Error("slowDivide_ only works with positive integers.");for(var e=rI,i=t;0>=i.X(n);)e=g1(e),i=g1(i);var r=Nv(e,1),o=Nv(i,1);for(i=Nv(i,2),e=Nv(e,2);!Up(i);){var a=o.add(i);0>=a.X(n)&&(r=r.add(e),o=a),i=Nv(i,1),e=Nv(e,1)}return t=zw(n,r.R(t)),new Lv(r,t)}for(r=Rv;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),a=(o=Af(e)).R(t);Id(a)||0<a.X(n);)a=(o=Af(e-=i)).R(t);Up(o)&&(o=rI),r=r.add(o),n=zw(n,a)}return new Lv(r,n)}function g1(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new As(e,n.h)}function Nv(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],o=0;o<i;o++)r[o]=0<t?n.D(o+e)>>>t|n.D(o+e+1)<<32-t:n.D(o+e);return new As(r,n.h)}(Pn=As.prototype).ea=function(){if(Id(this))return-sc(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:A1+i)*t,t*=A1}return n},Pn.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Up(this))return"0";if(Id(this))return"-"+sc(this).toString(n);for(var t=Af(Math.pow(n,6)),e=this,i="";;){var r=p1(e,t).g,o=((0<(e=zw(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(Up(e=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},Pn.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Pn.X=function(n){return Id(n=zw(this,n))?-1:Up(n)?0:1},Pn.abs=function(){return Id(this)?sc(this):this},Pn.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),a=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=a>>>16,e[r]=(a&=65535)<<16|(o&=65535)}return new As(e,-2147483648&e[e.length-1]?-1:0)},Pn.R=function(n){if(Up(this)||Up(n))return Rv;if(Id(this))return Id(n)?sc(this).R(sc(n)):sc(sc(this).R(n));if(Id(n))return sc(this.R(sc(n)));if(0>this.X(Ov)&&0>n.X(Ov))return Af(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,a=65535&this.D(i),u=n.D(r)>>>16,h=65535&n.D(r);e[2*i+2*r]+=a*h,f1(e,2*i+2*r),e[2*i+2*r+1]+=o*h,f1(e,2*i+2*r+1),e[2*i+2*r+1]+=a*u,f1(e,2*i+2*r+1),e[2*i+2*r+2]+=o*u,f1(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new As(e,0)},Pn.gb=function(n){return p1(this,n).h},Pn.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new As(e,this.h&n.h)},Pn.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new As(e,this.h|n.h)},Pn.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new As(e,this.h^n.h)},tI.prototype.createWebChannel=tI.prototype.g,uh.prototype.send=uh.prototype.u,uh.prototype.open=uh.prototype.m,uh.prototype.close=uh.prototype.close,Mw.NO_ERROR=0,Mw.TIMEOUT=8,Mw.HTTP_ERROR=6,nB.COMPLETE="complete",rB.EventType=Z_,Z_.OPEN="a",Z_.CLOSE="b",Z_.ERROR="c",Z_.MESSAGE="d",va.prototype.listen=va.prototype.O,wa.prototype.listenOnce=wa.prototype.P,wa.prototype.getLastError=wa.prototype.Sa,wa.prototype.getLastErrorCode=wa.prototype.Ia,wa.prototype.getStatus=wa.prototype.da,wa.prototype.getResponseJson=wa.prototype.Wa,wa.prototype.getResponseText=wa.prototype.ja,wa.prototype.send=wa.prototype.ha,wa.prototype.setWithCredentials=wa.prototype.Oa,dh.prototype.digest=dh.prototype.l,dh.prototype.reset=dh.prototype.reset,dh.prototype.update=dh.prototype.j,As.prototype.add=As.prototype.add,As.prototype.multiply=As.prototype.R,As.prototype.modulo=As.prototype.gb,As.prototype.compare=As.prototype.X,As.prototype.toNumber=As.prototype.ea,As.prototype.toString=As.prototype.toString,As.prototype.getBits=As.prototype.D,As.fromNumber=Af,As.fromString=function SB(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return sc(SB(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Af(Math.pow(t,8)),i=Rv,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),a=parseInt(n.substring(r,r+o),t);8>o?(o=Af(Math.pow(t,o)),i=i.R(o).add(Af(a))):i=(i=i.R(e)).add(Af(a))}return i};var IB=rc.createWebChannelTransport=function(){return new tI},DB=rc.getStatEventTarget=function(){return Sd()},sI=rc.ErrorCode=Mw,RL=rc.EventType=nB,OL=rc.Event=Op,m1=rc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},LL=rc.FetchXmlHttpFactory=Pw,qw=rc.WebChannel=rB,NL=rc.XhrIo=wa,PL=rc.Md5=dh,Pv=rc.Integer=As;const TB="@firebase/firestore";class Pl{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Pl.UNAUTHENTICATED=new Pl(null),Pl.GOOGLE_CREDENTIALS=new Pl("google-credentials-uid"),Pl.FIRST_PARTY=new Pl("first-party-uid"),Pl.MOCK_USER=new Pl("mock-user");let Uv="9.21.0";const wm=new df.Yd("@firebase/firestore");function oI(){return wm.logLevel}function Xt(n,...t){if(wm.logLevel<=df.in.DEBUG){const e=t.map(_1);wm.debug(`Firestore (${Uv}): ${n}`,...e)}}function ba(n,...t){if(wm.logLevel<=df.in.ERROR){const e=t.map(_1);wm.error(`Firestore (${Uv}): ${n}`,...e)}}function hh(n,...t){if(wm.logLevel<=df.in.WARN){const e=t.map(_1);wm.warn(`Firestore (${Uv}): ${n}`,...e)}}function _1(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Gn(n="Unexpected state"){const t=`FIRESTORE (${Uv}) INTERNAL ASSERTION FAILED: `+n;throw ba(t),new Error(t)}function ai(n,t){n||Gn()}function Cn(n,t){return n}const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class zt extends ae.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ca{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class FB{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class QL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Pl.UNAUTHENTICATED))}shutdown(){}}class aI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class HL{constructor(t){this.t=t,this.currentUser=Pl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=f=>this.i!==r?(r=this.i,e(f)):Promise.resolve();let a=new Ca;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ca,t.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const f=a;t.enqueueRetryable((0,bt.Z)(function*(){yield f.promise,yield o(i.currentUser)}))},h=f=>{Xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(Xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ca)}},0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ai("string"==typeof i.accessToken),new FB(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return ai(null===t||"string"==typeof t),new Pl(t)}}class MB{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=Pl.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Qv{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new MB(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Pl.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lI{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VL{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=o=>{null!=o.error&&Xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.T;return this.T=o.token,Xt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):Xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(ai("string"==typeof e.token),this.T=e.token,new lI(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function kB(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class y1{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=kB(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function Ui(n,t){return n<t?-1:n>t?1:0}function bm(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function RB(n){return n+"\0"}class lo{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new zt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new zt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new zt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new zt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return lo.fromMillis(Date.now())}static fromDate(t){return lo.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new lo(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ui(this.nanoseconds,t.nanoseconds):Ui(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class oi{constructor(t){this.timestamp=t}static fromTimestamp(t){return new oi(t)}static min(){return new oi(new lo(0,0))}static max(){return new oi(new lo(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Hv{constructor(t,e,i){void 0===e?e=0:e>t.length&&Gn(),void 0===i?i=t.length-e:i>t.length-e&&Gn(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Hv.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Hv?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),a=e.get(r);if(o<a)return-1;if(o>a)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Tr extends Hv{construct(t,e,i){return new Tr(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new zt(pt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Tr(e)}static emptyPath(){return new Tr([])}}const OB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jo extends Hv{construct(t,e,i){return new jo(t,e,i)}static isValidIdentifier(t){return OB.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jo.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new jo(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new zt(pt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let a=!1;for(;r<t.length;){const u=t[r];if("\\"===u){if(r+1===t.length)throw new zt(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[r+1];if("\\"!==h&&"."!==h&&"`"!==h)throw new zt(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,r+=2}else"`"===u?(a=!a,r++):"."!==u||a?(i+=u,r++):(o(),r++)}if(o(),a)throw new zt(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new jo(e)}static emptyPath(){return new jo([])}}class xn{constructor(t){this.path=t}static fromPath(t){return new xn(Tr.fromString(t))}static fromName(t){return new xn(Tr.fromString(t).popFirst(5))}static empty(){return new xn(Tr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Tr.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Tr.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new xn(new Tr(t.slice()))}}class v1{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function cI(n){return n.fields.find(t=>2===t.kind)}function ty(n){return n.fields.filter(t=>2!==t.kind)}v1.UNKNOWN_ID=-1;class uI{constructor(t,e){this.fieldPath=t,this.kind=e}}class Kw{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Kw(0,Dd.min())}}function PB(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=oi.fromTimestamp(1e9===i?new lo(e+1,0):new lo(e,i));return new Dd(r,xn.empty(),t)}function jL(n){return new Dd(n.readTime,n.key,-1)}class Dd{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Dd(oi.min(),xn.empty(),-1)}static max(){return new Dd(oi.max(),xn.empty(),-1)}}function dI(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=xn.comparator(n.documentKey,t.documentKey),0!==e?e:Ui(n.largestBatchId,t.largestBatchId))}const hI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Cm(n){return w1.apply(this,arguments)}function w1(){return w1=(0,bt.Z)(function*(n){if(n.code!==pt.FAILED_PRECONDITION||n.message!==hI)throw n;Xt("LocalStore","Unexpectedly lost primary lease")}),w1.apply(this,arguments)}class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Gn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new st((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof st?e:st.resolve(e)}catch(e){return st.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):st.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):st.reject(e)}static resolve(t){return new st((e,i)=>{e(t)})}static reject(t){return new st((e,i)=>{i(t)})}static waitFor(t){return new st((e,i)=>{let r=0,o=0,a=!1;t.forEach(u=>{++r,u.next(()=>{++o,a&&o===r&&e()},h=>i(h))}),a=!0,o===r&&e()})}static or(t){let e=st.resolve(!1);for(const i of t)e=e.next(r=>r?st.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new st((i,r)=>{const o=t.length,a=new Array(o);let u=0;for(let h=0;h<o;h++){const f=h;e(t[f]).next(_=>{a[f]=_,++u,u===o&&i(a)},_=>r(_))}})}static doWhile(t,e){return new st((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class b1{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.R=new Ca,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{e.error?this.R.reject(new Zw(t,e.error)):this.R.resolve()},this.transaction.onerror=i=>{const r=C1(i.target.error);this.R.reject(new Zw(t,r))}}static open(t,e,i,r){try{return new b1(e,t.transaction(r,i))}catch(o){throw new Zw(e,o)}}get v(){return this.R.promise}abort(t){t&&this.R.reject(t),this.aborted||(Xt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new $w(e)}}class fA{constructor(t,e,i){this.name=t,this.version=e,this.V=i,12.2===fA.S((0,ae.z$)())&&ba("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Xt("SimpleDb","Removing database:",t),Em(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,ae.hl)())return!1;if(fA.C())return!0;const t=(0,ae.z$)(),e=fA.S(t),i=0<e&&e<10,r=fA.N(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(t){var e=this;return(0,bt.Z)(function*(){return e.db||(Xt("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=a=>{i(a.target.result)},o.onblocked=()=>{r(new Zw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=a=>{const u=a.target.error;r("VersionError"===u.name?new zt(pt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===u.name?new zt(pt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u):new Zw(t,u))},o.onupgradeneeded=a=>{Xt("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',a.oldVersion),e.V.$(a.target.result,o.transaction,a.oldVersion,e.version).next(()=>{Xt("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=i=>e.F(i)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,bt.Z)(function*(){const a="readonly"===e;let u=0;for(;;){++u;try{o.db=yield o.O(t);const h=b1.open(o.db,t,a?"readonly":"readwrite",i),f=r(h).next(_=>(h.P(),_)).catch(_=>(h.abort(_),st.reject(_))).toPromise();return f.catch(()=>{}),yield h.v,f}catch(h){const f=h,_="FirebaseError"!==f.name&&u<3;if(Xt("SimpleDb","Transaction failed with error:",f.message,"Retrying:",_),o.close(),!_)return Promise.reject(f)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class GL{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return Em(this.L.delete())}}class Zw extends zt{constructor(t,e){super(pt.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function xm(n){return"IndexedDbTransactionError"===n.name}class $w{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Xt("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Xt("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Em(i)}add(t){return Xt("SimpleDb","ADD",this.store.name,t,t),Em(this.store.add(t))}get(t){return Em(this.store.get(t)).next(e=>(void 0===e&&(e=null),Xt("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Xt("SimpleDb","DELETE",this.store.name,t),Em(this.store.delete(t))}count(){return Xt("SimpleDb","COUNT",this.store.name),Em(this.store.count())}j(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.W(r,(a,u)=>{o.push(u)}).next(()=>o)}{const r=this.store.getAll(i.range);return new st((o,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{o(u.target.result)}})}}H(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new st((r,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{r(a.target.result)}})}J(t,e){Xt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const r=this.cursor(i);return this.W(r,(o,a,u)=>u.delete())}X(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Z(t){const e=this.cursor({});return new st((i,r)=>{e.onerror=o=>{const a=C1(o.target.error);r(a)},e.onsuccess=o=>{const a=o.target.result;a?t(a.primaryKey,a.value).next(u=>{u?a.continue():i()}):i()}})}W(t,e){const i=[];return new st((r,o)=>{t.onerror=a=>{o(a.target.error)},t.onsuccess=a=>{const u=a.target.result;if(!u)return void r();const h=new GL(u),f=e(u.primaryKey,u.value,h);if(f instanceof st){const _=f.catch(C=>(h.done(),st.reject(C)));i.push(_)}h.isDone?r():null===h.K?u.continue():u.continue(h.K)}}).next(()=>st.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Em(n){return new st((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=C1(i.target.error);e(r)}})}let fI=!1;function C1(n){const t=fA.S((0,ae.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new zt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return fI||(fI=!0,setTimeout(()=>{throw i},0)),i}}return n}class UB{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;Xt("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,bt.Z)(function*(){e.task=null;try{Xt("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(i){xm(i)?Xt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Cm(i)}yield e.et(6e4)}))}}class QB{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,bt.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.st(i,t))})()}st(t,e){const i=new Set;let r=e,o=!0;return st.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(a=>{if(null!==a&&!i.has(a))return Xt("IndexBackiller",`Processing collection: ${a}`),this.it(t,a,r).next(u=>{r-=u,i.add(a)});o=!1})).next(()=>e-r)}it(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const a=o.changes;return this.localStore.indexManager.updateIndexEntries(t,a).next(()=>this.rt(r,o)).next(u=>(Xt("IndexBackiller",`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(t,e,u))).next(()=>a.size)}))}rt(t,e){let i=t;return e.changes.forEach((r,o)=>{const a=jL(o);dI(a,i)>0&&(i=a)}),new Dd(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Lu=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function Yw(n){return null==n}function x1(n){return 0===n&&1/n==-1/0}function pI(n){return"number"==typeof n&&Number.isInteger(n)&&!x1(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function oc(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=HB(t)),t=zL(n.get(e),t);return HB(t)}function zL(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function HB(n){return n+"\x01\x01"}function ff(n){const t=n.length;if(ai(t>=2),2===t)return ai("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Tr.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const a=n.indexOf("\x01",o);switch((a<0||a>e)&&Gn(),n.charAt(a+1)){case"\x01":const u=n.substring(o,a);let h;0===r.length?h=u:(r+=u,h=r,r=""),i.push(h);break;case"\x10":r+=n.substring(o,a),r+="\0";break;case"\x11":r+=n.substring(o,a+1);break;default:Gn()}o=a+2}return new Tr(i)}const Vv=["userId","batchId"];function E1(n,t){return[n,oc(t)]}function S1(n,t,e){return[n,oc(t),e]}const pf={},qL=["prefixPath","collectionGroup","readTime","documentId"],I1=["prefixPath","collectionGroup","documentId"],Ww=["collectionGroup","readTime","prefixPath","documentId"],KL=["canonicalId","targetId"],ZL=["targetId","path"],$L=["path","targetId"],D1=["collectionId","parent"],T1=["indexId","uid"],YL=["uid","sequenceNumber"],WL=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],VB=["indexId","uid","orderedDocumentKey"],jB=["userId","collectionPath","documentId"],gI=["userId","collectionPath","largestBatchId"],GB=["userId","collectionGroup","largestBatchId"],zB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],JL=[...zB,"documentOverlays"],XL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],B1=XL,mI=[...B1,"indexConfiguration","indexState","indexEntries"];class F1 extends AI{constructor(t,e){super(),this.at=t,this.currentSequenceNumber=e}}function Za(n,t){const e=Cn(n);return fA.M(e.at,t)}function M1(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Sm(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function qB(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Ys{constructor(t,e){this.comparator=t,this.root=e||Ul.EMPTY}insert(t,e){return new Ys(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ul.BLACK,null,null))}remove(t){return new Ys(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ul.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new k1(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new k1(this.root,t,this.comparator,!1)}getReverseIterator(){return new k1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new k1(this.root,t,this.comparator,!0)}}class k1{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ul{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Ul.RED,this.left=r??Ul.EMPTY,this.right=o??Ul.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Ul(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ul.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Ul.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ul.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ul.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Gn();const t=this.left.check();if(t!==this.right.check())throw Gn();return t+(this.isRed()?0:1)}}Ul.EMPTY=null,Ul.RED=!0,Ul.BLACK=!1,Ul.EMPTY=new class{constructor(){this.size=0}get key(){throw Gn()}get value(){throw Gn()}get color(){throw Gn()}get left(){throw Gn()}get right(){throw Gn()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Ul(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ks{constructor(t){this.comparator=t,this.data=new Ys(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new _I(this.data.getIterator())}getIteratorFrom(t){return new _I(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof ks)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new ks(this.comparator);return e.data=t,e}}class _I{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ny(n){return n.hasNext()?n.getNext():void 0}class eu{constructor(t){this.fields=t,t.sort(jo.comparator)}static empty(){return new eu([])}unionWith(t){let e=new ks(jo.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new eu(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return bm(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class yI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $a{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new yI("Invalid base64 string: "+r):r}}(t);return new $a(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new $a(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ui(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$a.EMPTY_BYTE_STRING=new $a("");const KB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Im(n){if(ai(!!n),"string"==typeof n){let t=0;const e=KB.exec(n);if(ai(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Go(n.seconds),nanos:Go(n.nanos)}}function Go(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Qp(n){return"string"==typeof n?$a.fromBase64String(n):$a.fromUint8Array(n)}function Ql(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Hp(n){const t=n.mapValue.fields.__previous_value__;return Ql(t)?Hp(t):t}function Jw(n){const t=Im(n.mapValue.fields.__local_write_time__.timestampValue);return new lo(t.seconds,t.nanos)}class tN{constructor(t,e,i,r,o,a,u,h){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.useFetchStreams=h}}class iy{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new iy("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof iy&&t.projectId===this.projectId&&t.database===this.database}}const ry={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Xw={nullValue:"NULL_VALUE"};function Vp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ql(n)?4:bI(n)?9007199254740991:10:Gn()}function Nu(n,t){if(n===t)return!0;const e=Vp(n);if(e!==Vp(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Jw(n).isEqual(Jw(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Im(i.timestampValue),a=Im(r.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Qp(n.bytesValue).isEqual(Qp(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Go(i.geoPointValue.latitude)===Go(r.geoPointValue.latitude)&&Go(i.geoPointValue.longitude)===Go(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Go(i.integerValue)===Go(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Go(i.doubleValue),a=Go(r.doubleValue);return o===a?x1(o)===x1(a):isNaN(o)&&isNaN(a)}return!1}(n,t);case 9:return bm(n.arrayValue.values||[],t.arrayValue.values||[],Nu);case 10:return function(i,r){const o=i.mapValue.fields||{},a=r.mapValue.fields||{};if(M1(o)!==M1(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===a[u]||!Nu(o[u],a[u])))return!1;return!0}(n,t);default:return Gn()}var r}function eb(n,t){return void 0!==(n.values||[]).find(e=>Nu(e,t))}function gf(n,t){if(n===t)return 0;const e=Vp(n),i=Vp(t);if(e!==i)return Ui(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ui(n.booleanValue,t.booleanValue);case 2:return function(r,o){const a=Go(r.integerValue||r.doubleValue),u=Go(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,t);case 3:return ZB(n.timestampValue,t.timestampValue);case 4:return ZB(Jw(n),Jw(t));case 5:return Ui(n.stringValue,t.stringValue);case 6:return function(r,o){const a=Qp(r),u=Qp(o);return a.compareTo(u)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const a=r.split("/"),u=o.split("/");for(let h=0;h<a.length&&h<u.length;h++){const f=Ui(a[h],u[h]);if(0!==f)return f}return Ui(a.length,u.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const a=Ui(Go(r.latitude),Go(o.latitude));return 0!==a?a:Ui(Go(r.longitude),Go(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const a=r.values||[],u=o.values||[];for(let h=0;h<a.length&&h<u.length;++h){const f=gf(a[h],u[h]);if(f)return f}return Ui(a.length,u.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===ry.mapValue&&o===ry.mapValue)return 0;if(r===ry.mapValue)return 1;if(o===ry.mapValue)return-1;const a=r.fields||{},u=Object.keys(a),h=o.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let _=0;_<u.length&&_<f.length;++_){const C=Ui(u[_],f[_]);if(0!==C)return C;const F=gf(a[u[_]],h[f[_]]);if(0!==F)return F}return Ui(u.length,f.length)}(n.mapValue,t.mapValue);default:throw Gn()}}function ZB(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Ui(n,t);const e=Im(n),i=Im(t),r=Ui(e.seconds,i.seconds);return 0!==r?r:Ui(e.nanos,i.nanos)}function sy(n){return vI(n)}function vI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Im(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Qp(n.bytesValue).toBase64():"referenceValue"in n?xn.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const a of i.values||[])o?o=!1:r+=",",r+=vI(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${vI(i.fields[u])}`;return o+"}"}(n.mapValue):Gn();var t}function oy(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function tb(n){return!!n&&"integerValue"in n}function jv(n){return!!n&&"arrayValue"in n}function wI(n){return!!n&&"nullValue"in n}function nb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gv(n){return!!n&&"mapValue"in n}function O1(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Sm(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=O1(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=O1(n.arrayValue.values[e]);return t}return Object.assign({},n)}function bI(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function nN(n){return"nullValue"in n?Xw:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?oy(iy.empty(),xn.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Gn()}function $B(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?oy(iy.empty(),xn.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?ry:Gn()}function ay(n,t){const e=gf(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function YB(n,t){const e=gf(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Hl{constructor(t){this.value=t}static empty(){return new Hl({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Gv(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=O1(e)}setAll(t){let e=jo.emptyPath(),i={},r=[];t.forEach((a,u)=>{if(!e.isImmediateParentOf(u)){const h=this.getFieldsMap(e);this.applyChanges(h,i,r),i={},r=[],e=u.popLast()}a?i[u.lastSegment()]=O1(a):r.push(u.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());Gv(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Nu(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Gv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Sm(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Hl(O1(this.value))}}function L1(n){const t=[];return Sm(n.fields,(e,i)=>{const r=new jo([e]);if(Gv(i)){const o=L1(i.mapValue).fields;if(0===o.length)t.push(r);else for(const a of o)t.push(r.child(a))}else t.push(r)}),new eu(t)}class So{constructor(t,e,i,r,o,a,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=a,this.documentState=u}static newInvalidDocument(t){return new So(t,0,oi.min(),oi.min(),oi.min(),Hl.empty(),0)}static newFoundDocument(t,e,i,r){return new So(t,1,e,oi.min(),i,r,0)}static newNoDocument(t,e){return new So(t,2,e,oi.min(),oi.min(),Hl.empty(),0)}static newUnknownDocument(t,e){return new So(t,3,e,oi.min(),oi.min(),Hl.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(oi.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Hl.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Hl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oi.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof So&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new So(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Dm{constructor(t,e){this.position=t,this.inclusive=e}}function iN(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],a=n.position[r];if(i=o.field.isKeyField()?xn.comparator(xn.fromName(a.referenceValue),e.key):gf(a,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function WB(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Nu(n.position[e],t.position[e]))return!1;return!0}class zv{constructor(t,e="asc"){this.field=t,this.dir=e}}function rN(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class CI{}class yr extends CI{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new eF(t,e,i):"array-contains"===e?new GQ(t,i):"in"===e?new II(t,i):"not-in"===e?new zQ(t,i):"array-contains-any"===e?new qQ(t,i):new yr(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new tF(t,i):new sN(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(gf(e,this.value)):null!==e&&Vp(this.value)===Vp(e)&&this.matchesComparison(gf(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Gn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class fs extends CI{constructor(t,e){super(),this.filters=t,this.op=e,this.ht=null}static create(t,e){return new fs(t,e)}matches(t){return ly(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(e=>e.isInequality());return null!==t?t.field:null}lt(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function ly(n){return"and"===n.op}function N1(n){return"or"===n.op}function xI(n){return JB(n)&&ly(n)}function JB(n){for(const t of n.filters)if(t instanceof fs)return!1;return!0}function P1(n){if(n instanceof yr)return n.field.canonicalString()+n.op.toString()+sy(n.value);if(xI(n))return n.filters.map(t=>P1(t)).join(",");{const t=n.filters.map(e=>P1(e)).join(",");return`${n.op}(${t})`}}function XB(n,t){return n instanceof yr?(e=n,(i=t)instanceof yr&&e.op===i.op&&e.field.isEqual(i.field)&&Nu(e.value,i.value)):n instanceof fs?function(e,i){return i instanceof fs&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,o,a)=>r&&XB(o,i.filters[a]),!0)}(n,t):void Gn();var e,i}function EI(n,t){const e=n.filters.concat(t);return fs.create(e,n.op)}function SI(n){return n instanceof yr?`${(t=n).field.canonicalString()} ${t.op} ${sy(t.value)}`:n instanceof fs?function(t){return t.op.toString()+" {"+t.getFilters().map(SI).join(" ,")+"}"}(n):"Filter";var t}class eF extends yr{constructor(t,e,i){super(t,e,i),this.key=xn.fromName(i.referenceValue)}matches(t){const e=xn.comparator(t.key,this.key);return this.matchesComparison(e)}}class tF extends yr{constructor(t,e){super(t,"in",e),this.keys=nF(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class sN extends yr{constructor(t,e){super(t,"not-in",e),this.keys=nF(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function nF(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>xn.fromName(i.referenceValue))}class GQ extends yr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return jv(e)&&eb(e.arrayValue,this.value)}}class II extends yr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&eb(this.value.arrayValue,e)}}class zQ extends yr{constructor(t,e){super(t,"not-in",e)}matches(t){if(eb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!eb(this.value.arrayValue,e)}}class qQ extends yr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!jv(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>eb(this.value.arrayValue,i))}}class KQ{constructor(t,e=null,i=[],r=[],o=null,a=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=a,this.endAt=u,this.ft=null}}function iF(n,t=null,e=[],i=[],r=null,o=null,a=null){return new KQ(n,t,e,i,r,o,a)}function qv(n){const t=Cn(n);if(null===t.ft){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>P1(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Yw(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>sy(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>sy(i)).join(",")),t.ft=e}return t.ft}function U1(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!rN(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!XB(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!WB(n.startAt,t.startAt)&&WB(n.endAt,t.endAt)}function DI(n){return xn.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function TI(n,t){return n.filters.filter(e=>e instanceof yr&&e.field.isEqual(t))}function ib(n,t,e){let i=Xw,r=!0;for(const o of TI(n,t)){let a=Xw,u=!0;switch(o.op){case"<":case"<=":a=nN(o.value);break;case"==":case"in":case">=":a=o.value;break;case">":a=o.value,u=!1;break;case"!=":case"not-in":a=Xw}ay({value:i,inclusive:r},{value:a,inclusive:u})<0&&(i=a,r=u)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const a=e.position[o];ay({value:i,inclusive:r},{value:a,inclusive:e.inclusive})<0&&(i=a,r=e.inclusive);break}return{value:i,inclusive:r}}function oN(n,t,e){let i=ry,r=!0;for(const o of TI(n,t)){let a=ry,u=!0;switch(o.op){case">=":case">":a=$B(o.value),u=!1;break;case"==":case"in":case"<=":a=o.value;break;case"<":a=o.value,u=!1;break;case"!=":case"not-in":a=ry}YB({value:i,inclusive:r},{value:a,inclusive:u})>0&&(i=a,r=u)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const a=e.position[o];YB({value:i,inclusive:r},{value:a,inclusive:e.inclusive})>0&&(i=a,r=e.inclusive);break}return{value:i,inclusive:r}}class mf{constructor(t,e=null,i=[],r=[],o=null,a="F",u=null,h=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=a,this.startAt=u,this.endAt=h,this.dt=null,this._t=null}}function rb(n,t,e,i,r,o,a,u){return new mf(n,t,e,i,r,o,a,u)}function cy(n){return new mf(n)}function BI(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function rF(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Kv(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Q1(n){return null!==n.collectionGroup}function uy(n){const t=Cn(n);if(null===t.dt){t.dt=[];const e=Kv(t),i=rF(t);if(null!==e&&null===i)e.isKeyField()||t.dt.push(new zv(e)),t.dt.push(new zv(jo.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.dt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new zv(jo.keyField(),o))}}}return t.dt}function Ic(n){const t=Cn(n);if(!t._t)if("F"===t.limitType)t._t=iF(t.path,t.collectionGroup,uy(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of uy(t))e.push(new zv(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new Dm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Dm(t.startAt.position,t.startAt.inclusive):null;t._t=iF(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function sF(n,t){t.getFirstInequalityField(),Kv(n);const e=n.filters.concat([t]);return new mf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function H1(n,t,e){return new mf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function sb(n,t){return U1(Ic(n),Ic(t))&&n.limitType===t.limitType}function oF(n){return`${qv(Ic(n))}|lt:${n.limitType}`}function Zv(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>SI(i)).join(", ")}]`),Yw(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>sy(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>sy(i)).join(",")),`Target(${e})`}(Ic(n))}; limitType=${n.limitType})`}function ob(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):xn.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of uy(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,a){const u=iN(r,o,a);return r.inclusive?u<=0:u<0}(e.startAt,uy(e),i)||e.endAt&&!function(r,o,a){const u=iN(r,o,a);return r.inclusive?u>=0:u>0}(e.endAt,uy(e),i)));var e,i}function aN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function lN(n){return(t,e)=>{let i=!1;for(const r of uy(n)){const o=ZQ(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function ZQ(n,t,e){const i=n.field.isKeyField()?xn.comparator(t.key,e.key):function(r,o,a){const u=o.data.field(r),h=a.data.field(r);return null!==u&&null!==h?gf(u,h):Gn()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Gn()}}class jp{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Sm(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return qB(this.inner)}size(){return this.innerSize}}const cN=new Ys(xn.comparator);function Pu(){return cN}const uN=new Ys(xn.comparator);function ab(...n){let t=uN;for(const e of n)t=t.insert(e.key,e);return t}function FI(n){let t=uN;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function pA(){return tu()}function dN(){return tu()}function tu(){return new jp(n=>n.toString(),(n,t)=>n.isEqual(t))}const hN=new Ys(xn.comparator),MI=new ks(xn.comparator);function tr(...n){let t=MI;for(const e of n)t=t.add(e);return t}const $Q=new ks(Ui);function Uu(){return $Q}function aF(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:x1(t)?"-0":t}}function V1(n){return{integerValue:""+n}}function lF(n,t){return pI(t)?V1(t):aF(n,t)}class j1{constructor(){this._=void 0}}function kI(n,t,e){return n instanceof $v?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&Ql(r)&&(r=Hp(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof Tm?OI(n,t):n instanceof dy?LI(n,t):function(i,r){const o=RI(i,r),a=G1(o)+G1(i.wt);return tb(o)&&tb(i.wt)?V1(a):aF(i.serializer,a)}(n,t)}function cF(n,t,e){return n instanceof Tm?OI(n,t):n instanceof dy?LI(n,t):e}function RI(n,t){return n instanceof Yv?tb(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class $v extends j1{}class Tm extends j1{constructor(t){super(),this.elements=t}}function OI(n,t){const e=Gp(t);for(const i of n.elements)e.some(r=>Nu(r,i))||e.push(i);return{arrayValue:{values:e}}}class dy extends j1{constructor(t){super(),this.elements=t}}function LI(n,t){let e=Gp(t);for(const i of n.elements)e=e.filter(r=>!Nu(r,i));return{arrayValue:{values:e}}}class Yv extends j1{constructor(t,e){super(),this.serializer=t,this.wt=e}}function G1(n){return Go(n.integerValue||n.doubleValue)}function Gp(n){return jv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Wv{constructor(t,e){this.field=t,this.transform=e}}class zp{constructor(t,e){this.version=t,this.transformResults=e}}class Io{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Io}static exists(t){return new Io(void 0,t)}static updateTime(t){return new Io(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function PI(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class z1{}function uF(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Ay(n.key,Io.none()):new hy(n.key,n.data,Io.none());{const e=n.data,i=Hl.empty();let r=new ks(jo.comparator);for(let o of t.fields)if(!r.has(o)){let a=e.field(o);null===a&&o.length>1&&(o=o.popLast(),a=e.field(o)),null===a?i.delete(o):i.set(o,a),r=r.add(o)}return new qp(n.key,i,new eu(r.toArray()),Io.none())}}function AN(n,t,e){n instanceof hy?function(i,r,o){const a=i.value.clone(),u=pN(i.fieldTransforms,r,o.transformResults);a.setAll(u),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,t,e):n instanceof qp?function(i,r,o){if(!PI(i.precondition,r))return void r.convertToUnknownDocument(o.version);const a=pN(i.fieldTransforms,r,o.transformResults),u=r.data;u.setAll(UI(i)),u.setAll(a),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function lb(n,t,e,i){return n instanceof hy?function(r,o,a,u){if(!PI(r.precondition,o))return a;const h=r.value.clone(),f=q1(r.fieldTransforms,u,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(n,t,e,i):n instanceof qp?function(r,o,a,u){if(!PI(r.precondition,o))return a;const h=q1(r.fieldTransforms,u,o),f=o.data;return f.setAll(UI(r)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null===a?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(_=>_.field))}(n,t,e,i):(a=e,PI(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function dF(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=RI(i.transform,r||null);null!=o&&(null===e&&(e=Hl.empty()),e.set(i.field,o))}return e||null}function fN(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&bm(e,i,(r,o)=>function NI(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Tm&&i instanceof Tm||e instanceof dy&&i instanceof dy?bm(e.elements,i.elements,Nu):e instanceof Yv&&i instanceof Yv?Nu(e.wt,i.wt):e instanceof $v&&i instanceof $v);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class hy extends z1{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class qp extends z1{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function UI(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function pN(n,t,e){const i=new Map;ai(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],a=o.transform,u=t.data.field(o.field);i.set(o.field,cF(a,u,e[r]))}return i}function q1(n,t,e){const i=new Map;for(const r of n){const o=r.transform,a=e.data.field(r.field);i.set(r.field,kI(o,a,t))}return i}class Ay extends z1{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class K1 extends z1{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Z1{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&AN(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=lb(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=lb(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=dN();return this.mutations.forEach(r=>{const o=t.get(r.key),a=o.overlayedDocument;let u=this.applyToLocalView(a,o.mutatedFields);u=e.has(r.key)?null:u;const h=uF(a,u);null!==h&&i.set(r.key,h),a.isValidDocument()||a.convertToNoDocument(oi.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),tr())}isEqual(t){return this.batchId===t.batchId&&bm(this.mutations,t.mutations,(e,i)=>fN(e,i))&&bm(this.baseMutations,t.baseMutations,(e,i)=>fN(e,i))}}class $1{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){ai(t.mutations.length===i.length);let r=hN;const o=t.mutations;for(let a=0;a<o.length;a++)r=r.insert(o[a].key,i[a].version);return new $1(t,e,i,r)}}class Y1{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class J1{constructor(t,e){this.count=t,this.unchangedNames=e}}var xa,Ur;function hF(n){switch(n){default:return Gn();case pt.CANCELLED:case pt.UNKNOWN:case pt.DEADLINE_EXCEEDED:case pt.RESOURCE_EXHAUSTED:case pt.INTERNAL:case pt.UNAVAILABLE:case pt.UNAUTHENTICATED:return!1;case pt.INVALID_ARGUMENT:case pt.NOT_FOUND:case pt.ALREADY_EXISTS:case pt.PERMISSION_DENIED:case pt.FAILED_PRECONDITION:case pt.ABORTED:case pt.OUT_OF_RANGE:case pt.UNIMPLEMENTED:case pt.DATA_LOSS:return!0}}function AF(n){if(void 0===n)return ba("GRPC error has no .code"),pt.UNKNOWN;switch(n){case xa.OK:return pt.OK;case xa.CANCELLED:return pt.CANCELLED;case xa.UNKNOWN:return pt.UNKNOWN;case xa.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case xa.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case xa.INTERNAL:return pt.INTERNAL;case xa.UNAVAILABLE:return pt.UNAVAILABLE;case xa.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case xa.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case xa.NOT_FOUND:return pt.NOT_FOUND;case xa.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case xa.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case xa.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case xa.ABORTED:return pt.ABORTED;case xa.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case xa.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case xa.DATA_LOSS:return pt.DATA_LOSS;default:return Gn()}}(Ur=xa||(xa={}))[Ur.OK=0]="OK",Ur[Ur.CANCELLED=1]="CANCELLED",Ur[Ur.UNKNOWN=2]="UNKNOWN",Ur[Ur.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ur[Ur.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ur[Ur.NOT_FOUND=5]="NOT_FOUND",Ur[Ur.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ur[Ur.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ur[Ur.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ur[Ur.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ur[Ur.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ur[Ur.ABORTED=10]="ABORTED",Ur[Ur.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ur[Ur.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ur[Ur.INTERNAL=13]="INTERNAL",Ur[Ur.UNAVAILABLE=14]="UNAVAILABLE",Ur[Ur.DATA_LOSS=15]="DATA_LOSS";class fF{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return QI}static getOrCreateInstance(){return null===QI&&(QI=new fF),QI}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let QI=null;function HI(){return new TextEncoder}const gN=new Pv([4294967295,4294967295],0);function pF(n){const t=HI().encode(n),e=new PL;return e.update(t),new Uint8Array(e.digest())}function gF(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Pv([e,i],0),new Pv([r,o],0)]}class mF{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new X1(`Invalid padding: ${e}`);if(i<0)throw new X1(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new X1(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new X1(`Invalid padding when bitmap length is 0: ${e}`);this.yt=8*t.length-e,this.It=Pv.fromNumber(this.yt)}Tt(t,e,i){let r=t.add(e.multiply(Pv.fromNumber(i)));return 1===r.compare(gN)&&(r=new Pv([r.getBits(0),r.getBits(1)],0)),r.modulo(this.It).toNumber()}Et(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}At(t){if(0===this.yt)return!1;const e=pF(t),[i,r]=gF(e);for(let o=0;o<this.hashCount;o++){const a=this.Tt(i,r,o);if(!this.Et(a))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),a=new mF(o,r,e);return i.forEach(u=>a.insert(u)),a}insert(t){if(0===this.yt)return;const e=pF(t),[i,r]=gF(e);for(let o=0;o<this.hashCount;o++){const a=this.Tt(i,r,o);this.Rt(a)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class X1 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ex{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,tx.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new ex(oi.min(),r,new Ys(Ui),Pu(),tr())}}class tx{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new tx(i,e,tr(),tr(),tr())}}class VI{constructor(t,e,i,r){this.vt=t,this.removedTargetIds=e,this.key=i,this.Pt=r}}class _F{constructor(t,e){this.targetId=t,this.bt=e}}class cb{constructor(t,e,i=$a.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class yF{constructor(){this.Vt=0,this.St=Bm(),this.Dt=$a.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(t){t.approximateByteSize()>0&&(this.xt=!0,this.Dt=t)}Ot(){let t=tr(),e=tr(),i=tr();return this.St.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Gn()}}),new tx(this.Dt,this.Ct,t,e,i)}$t(){this.xt=!1,this.St=Bm()}Ft(t,e){this.xt=!0,this.St=this.St.insert(t,e)}Bt(t){this.xt=!0,this.St=this.St.remove(t)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class mN{constructor(t){this.Kt=t,this.Gt=new Map,this.Qt=Pu(),this.jt=jI(),this.zt=new Ys(Ui)}Wt(t){for(const e of t.vt)t.Pt&&t.Pt.isFoundDocument()?this.Ht(e,t.Pt):this.Jt(e,t.key,t.Pt);for(const e of t.removedTargetIds)this.Jt(e,t.key,t.Pt)}Yt(t){this.forEachTarget(t,e=>{const i=this.Xt(e);switch(t.state){case 0:this.Zt(e)&&i.Mt(t.resumeToken);break;case 1:i.qt(),i.Nt||i.$t(),i.Mt(t.resumeToken);break;case 2:i.qt(),i.Nt||this.removeTarget(e);break;case 3:this.Zt(e)&&(i.Ut(),i.Mt(t.resumeToken));break;case 4:this.Zt(e)&&(this.te(e),i.Mt(t.resumeToken));break;default:Gn()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Gt.forEach((i,r)=>{this.Zt(r)&&e(r)})}ee(t){var e;const i=t.targetId,r=t.bt.count,o=this.ne(i);if(o){const a=o.target;if(DI(a))if(0===r){const u=new xn(a.path);this.Jt(i,u,So.newNoDocument(u,oi.min()))}else ai(1===r);else{const u=this.se(i);if(u!==r){const h=this.ie(t,u);0!==h&&(this.te(i),this.zt=this.zt.insert(i,2===h?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=fF.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(f,_,C){var F,B,U,H,Z,q;const W={localCacheCount:_,existenceFilterCount:C.count},he=C.unchangedNames;return he&&(W.bloomFilter={applied:0===f,hashCount:null!==(F=he?.hashCount)&&void 0!==F?F:0,bitmapLength:null!==(H=null===(U=null===(B=he?.bits)||void 0===B?void 0:B.bitmap)||void 0===U?void 0:U.length)&&void 0!==H?H:0,padding:null!==(q=null===(Z=he?.bits)||void 0===Z?void 0:Z.padding)&&void 0!==q?q:0}),W}(h,u,t.bt))}}}}ie(t,e){const{unchangedNames:i,count:r}=t.bt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:a=0},hashCount:u=0}=i;let h,f;try{h=Qp(o).toUint8Array()}catch(_){if(_ instanceof yI)return hh("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw _}try{f=new mF(h,a,u)}catch(_){return hh(_ instanceof X1?"BloomFilter error: ":"Applying bloom filter failed: ",_),1}return 0===f.yt?1:r!==e-this.re(t.targetId,f)?2:0}re(t,e){const i=this.Kt.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const a=this.Kt.oe(),u=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.At(u)||(this.Jt(t,o,null),r++)}),r}ue(t){const e=new Map;this.Gt.forEach((o,a)=>{const u=this.ne(a);if(u){if(o.current&&DI(u.target)){const h=new xn(u.target.path);null!==this.Qt.get(h)||this.ce(a,h)||this.Jt(a,h,So.newNoDocument(h,t))}o.kt&&(e.set(a,o.Ot()),o.$t())}});let i=tr();this.jt.forEach((o,a)=>{let u=!0;a.forEachWhile(h=>{const f=this.ne(h);return!f||"TargetPurposeLimboResolution"===f.purpose||(u=!1,!1)}),u&&(i=i.add(o))}),this.Qt.forEach((o,a)=>a.setReadTime(t));const r=new ex(t,e,this.zt,this.Qt,i);return this.Qt=Pu(),this.jt=jI(),this.zt=new Ys(Ui),r}Ht(t,e){if(!this.Zt(t))return;const i=this.ce(t,e.key)?2:0;this.Xt(t).Ft(e.key,i),this.Qt=this.Qt.insert(e.key,e),this.jt=this.jt.insert(e.key,this.ae(e.key).add(t))}Jt(t,e,i){if(!this.Zt(t))return;const r=this.Xt(t);this.ce(t,e)?r.Ft(e,1):r.Bt(e),this.jt=this.jt.insert(e,this.ae(e).delete(t)),i&&(this.Qt=this.Qt.insert(e,i))}removeTarget(t){this.Gt.delete(t)}se(t){const e=this.Xt(t).Ot();return this.Kt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Lt(t){this.Xt(t).Lt()}Xt(t){let e=this.Gt.get(t);return e||(e=new yF,this.Gt.set(t,e)),e}ae(t){let e=this.jt.get(t);return e||(e=new ks(Ui),this.jt=this.jt.insert(t,e)),e}Zt(t){const e=null!==this.ne(t);return e||Xt("WatchChangeAggregator","Detected inactive target",t),e}ne(t){const e=this.Gt.get(t);return e&&e.Nt?null:this.Kt.he(t)}te(t){this.Gt.set(t,new yF),this.Kt.getRemoteKeysForTarget(t).forEach(e=>{this.Jt(t,e,null)})}ce(t,e){return this.Kt.getRemoteKeysForTarget(t).has(e)}}function jI(){return new Ys(xn.comparator)}function Bm(){return new Ys(xn.comparator)}const vF={asc:"ASCENDING",desc:"DESCENDING"},GI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zI={and:"AND",or:"OR"};class _N{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function ub(n,t){return n.useProto3Json||Yw(t)?t:{value:t}}function Fm(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function db(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function YQ(n,t){return Fm(n,t.toTimestamp())}function Ya(n){return ai(!!n),oi.fromTimestamp(function(t){const e=Im(t);return new lo(e.seconds,e.nanos)}(n))}function wF(n,t){return(e=n,new Tr(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function yN(n){const t=Tr.fromString(n);return ai(IN(t)),t}function Jv(n,t){return wF(n.databaseId,t.path)}function _f(n,t){const e=yN(t);if(e.get(1)!==n.databaseId.projectId)throw new zt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new zt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new xn(KI(e))}function qI(n,t){return wF(n.databaseId,t)}function bF(n){const t=yN(n);return 4===t.length?Tr.emptyPath():KI(t)}function hb(n){return new Tr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function KI(n){return ai(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function ZI(n,t,e){return{name:Jv(n,t),fields:e.value.mapValue.fields}}function $I(n,t,e){const i=_f(n,t.name),r=Ya(t.updateTime),o=t.createTime?Ya(t.createTime):oi.min(),a=new Hl({mapValue:{fields:t.fields}}),u=So.newFoundDocument(i,r,o,a);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function Xv(n,t){let e;if(t instanceof hy)e={update:ZI(n,t.key,t.value)};else if(t instanceof Ay)e={delete:Jv(n,t.key)};else if(t instanceof qp)e={update:ZI(n,t.key,t.data),updateMask:XQ(t.fieldMask)};else{if(!(t instanceof K1))return Gn();e={verify:Jv(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const a=o.transform;if(a instanceof $v)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Tm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof dy)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Yv)return{fieldPath:o.field.canonicalString(),increment:a.wt};throw Gn()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:YQ(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Gn()),e;var r}function Ab(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Io.updateTime(Ya(r.updateTime)):void 0!==r.exists?Io.exists(r.exists):Io.none():Io.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,a){let u=null;"setToServerValue"in a?(ai("REQUEST_TIME"===a.setToServerValue),u=new $v):"appendMissingElements"in a?u=new Tm(a.appendMissingElements.values||[]):"removeAllFromArray"in a?u=new dy(a.removeAllFromArray.values||[]):"increment"in a?u=new Yv(o,a.increment):Gn();const h=jo.fromServerFormat(a.fieldPath);return new Wv(h,u)}(n,r)):[];var r;if(t.update){const r=_f(n,t.update.name),o=new Hl({mapValue:{fields:t.update.fields}});if(t.updateMask){const a=new eu((t.updateMask.fieldPaths||[]).map(f=>jo.fromServerFormat(f)));return new qp(r,o,a,e,i)}return new hy(r,o,e,i)}if(t.delete){const r=_f(n,t.delete);return new Ay(r,e)}if(t.verify){const r=_f(n,t.verify);return new K1(r,e)}return Gn()}function YI(n,t){return{documents:[qI(n,t.path)]}}function fb(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=qI(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=qI(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(h){if(0!==h.length)return SN(fs.create(h,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const o=function(h){if(0!==h.length)return h.map(f=>{return{field:Mm((_=f).field),direction:JQ(_.dir)};var _})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const a=ub(n,t.limit);var u,h;return null!==a&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt={before:(u=t.startAt).inclusive,values:u.position}),t.endAt&&(e.structuredQuery.endAt={before:!(h=t.endAt).inclusive,values:h.position}),e}function CF(n){let t=bF(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){ai(1===i);const _=e.from[0];_.allDescendants?r=_.collectionId:t=t.child(_.collectionId)}let o=[];e.where&&(o=function(_){const C=CN(_);return C instanceof fs&&xI(C)?C.getFilters():[C]}(e.where));let a=[];e.orderBy&&(a=e.orderBy.map(_=>{return new zv(pb((C=_).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction));var C}));let u=null;e.limit&&(u=function(_){let C;return C="object"==typeof _?_.value:_,Yw(C)?null:C}(e.limit));let h=null;var _;e.startAt&&(h=new Dm((_=e.startAt).values||[],!!_.before));let f=null;return e.endAt&&(f=function(_){return new Dm(_.values||[],!_.before)}(e.endAt)),rb(t,r,a,o,u,"F",h,f)}function CN(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=pb(t.unaryFilter.field);return yr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=pb(t.unaryFilter.field);return yr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=pb(t.unaryFilter.field);return yr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=pb(t.unaryFilter.field);return yr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Gn()}}(n):void 0!==n.fieldFilter?yr.create(pb((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Gn()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return fs.create(t.compositeFilter.filters.map(e=>CN(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Gn()}}(t.compositeFilter.op))}(n):Gn();var t}function JQ(n){return vF[n]}function xN(n){return GI[n]}function EN(n){return zI[n]}function Mm(n){return{fieldPath:n.canonicalString()}}function pb(n){return jo.fromServerFormat(n.fieldPath)}function SN(n){return n instanceof yr?function(t){if("=="===t.op){if(nb(t.value))return{unaryFilter:{field:Mm(t.field),op:"IS_NAN"}};if(wI(t.value))return{unaryFilter:{field:Mm(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(nb(t.value))return{unaryFilter:{field:Mm(t.field),op:"IS_NOT_NAN"}};if(wI(t.value))return{unaryFilter:{field:Mm(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mm(t.field),op:xN(t.op),value:t.value}}}(n):n instanceof fs?function(t){const e=t.getFilters().map(i=>SN(i));return 1===e.length?e[0]:{compositeFilter:{op:EN(t.op),filters:e}}}(n):Gn()}function XQ(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function IN(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class km{constructor(t,e,i,r,o=oi.min(),a=oi.min(),u=$a.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(t){return new km(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new km(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new km(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new km(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class xF{constructor(t){this.le=t}}function DN(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:WI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:Jv(r=n.le,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:Fm(r,o.version.toTimestamp()),createTime:Fm(r,o.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:e0(t.version)};else{if(!t.isUnknownDocument())return Gn();i.unknownDocument={path:e.path.toArray(),version:e0(t.version)}}var r,o;return i}function WI(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function e0(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function t0(n){const t=new lo(n.seconds,n.nanoseconds);return oi.fromTimestamp(t)}function n0(n,t){const e=(t.baseMutations||[]).map(o=>Ab(n.le,o));for(let o=0;o<t.mutations.length-1;++o){const a=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(a.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>Ab(n.le,o)),r=lo.fromMillis(t.localWriteTimeMs);return new Z1(t.batchId,r,e,i)}function l(n){const t=t0(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?t0(n.lastLimboFreeSnapshotVersion):oi.min();let i;var r;return void 0!==n.query.documents?(ai(1===(r=n.query).documents.length),i=Ic(cy(bF(r.documents[0])))):i=Ic(CF(n.query)),new km(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,$a.fromBase64String(n.resumeToken))}function c(n,t){const e=e0(t.snapshotVersion),i=e0(t.lastLimboFreeSnapshotVersion);let r;r=DI(t.target)?YI(n.le,t.target):fb(n.le,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:qv(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function d(n){const t=CF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?H1(t,t.limit,"L"):t}function A(n,t){return new Y1(t.largestBatchId,Ab(n.le,t.overlayMutation))}function p(n,t){const e=t.path.lastSegment();return[n,oc(t.path.popLast()),e]}function v(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:e0(i.readTime),documentKey:oc(i.documentKey.path),largestBatchId:i.largestBatchId}}class T{getBundleMetadata(t,e){return R(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:t0(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return R(t).put({bundleId:(i=e).id,createTime:e0(Ya(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return P(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:d(r.bundledQuery),readTime:t0(r.readTime)};var r})}saveNamedQuery(t,e){return P(t).put({name:(i=e).name,readTime:e0(Ya(i.readTime)),bundledQuery:i.bundledQuery});var i}}function R(n){return Za(n,"bundles")}function P(n){return Za(n,"namedQueries")}class G{constructor(t,e){this.serializer=t,this.userId=e}static fe(t,e){return new G(t,e.uid||"")}getOverlay(t,e){return ee(t).get(p(this.userId,e)).next(i=>i?A(this.serializer,i):null)}getOverlays(t,e){const i=pA();return st.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,a)=>{const u=new Y1(e,a);r.push(this.de(t,u))}),st.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(a=>r.add(oc(a.getCollectionPath())));const o=[];return r.forEach(a=>{const u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,i+1],!1,!0);o.push(ee(t).J("collectionPathOverlayIndex",u))}),st.waitFor(o)}getOverlaysForCollection(t,e,i){const r=pA(),o=oc(e),a=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return ee(t).j("collectionPathOverlayIndex",a).next(u=>{for(const h of u){const f=A(this.serializer,h);r.set(f.getKey(),f)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=pA();let a;const u=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return ee(t).X({index:"collectionGroupOverlayIndex",range:u},(h,f,_)=>{const C=A(this.serializer,f);o.size()<r||C.largestBatchId===a?(o.set(C.getKey(),C),a=C.largestBatchId):_.done()}).next(()=>o)}de(t,e){return ee(t).put(function(i,r,o){const[a,u,h]=p(r,o.mutation.key);return{userId:r,collectionPath:u,documentId:h,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Xv(i.le,o.mutation)}}(this.serializer,this.userId,e))}}function ee(n){return Za(n,"documentOverlays")}class fe{constructor(){}_e(t,e){this.we(t,e),e.me()}we(t,e){if("nullValue"in t)this.ge(e,5);else if("booleanValue"in t)this.ge(e,10),e.ye(t.booleanValue?1:0);else if("integerValue"in t)this.ge(e,15),e.ye(Go(t.integerValue));else if("doubleValue"in t){const i=Go(t.doubleValue);isNaN(i)?this.ge(e,13):(this.ge(e,15),x1(i)?e.ye(0):e.ye(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ge(e,20),"string"==typeof i?e.pe(i):(e.pe(`${i.seconds||""}`),e.ye(i.nanos||0))}else if("stringValue"in t)this.Ie(t.stringValue,e),this.Te(e);else if("bytesValue"in t)this.ge(e,30),e.Ee(Qp(t.bytesValue)),this.Te(e);else if("referenceValue"in t)this.Ae(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ge(e,45),e.ye(i.latitude||0),e.ye(i.longitude||0)}else"mapValue"in t?bI(t)?this.ge(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Te(e)):"arrayValue"in t?(this.ve(t.arrayValue,e),this.Te(e)):Gn()}Ie(t,e){this.ge(e,25),this.Pe(t,e)}Pe(t,e){e.pe(t)}Re(t,e){const i=t.fields||{};this.ge(e,55);for(const r of Object.keys(i))this.Ie(r,e),this.we(i[r],e)}ve(t,e){const i=t.values||[];this.ge(e,50);for(const r of i)this.we(r,e)}Ae(t,e){this.ge(e,37),xn.fromName(t).path.forEach(i=>{this.ge(e,60),this.Pe(i,e)})}ge(t,e){t.ye(e)}Te(t){t.ye(2)}}function ke(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function tt(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=ke(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}fe.be=new fe;class kt{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Se(i.value),i=e.next();this.De()}Ce(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.xe(i.value),i=e.next();this.Ne()}ke(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Se(i);else if(i<2048)this.Se(960|i>>>6),this.Se(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Se(480|i>>>12),this.Se(128|63&i>>>6),this.Se(128|63&i);else{const r=e.codePointAt(0);this.Se(240|r>>>18),this.Se(128|63&r>>>12),this.Se(128|63&r>>>6),this.Se(128|63&r)}}this.De()}Me(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.xe(i);else if(i<2048)this.xe(960|i>>>6),this.xe(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.xe(480|i>>>12),this.xe(128|63&i>>>6),this.xe(128|63&i);else{const r=e.codePointAt(0);this.xe(240|r>>>18),this.xe(128|63&r>>>12),this.xe(128|63&r>>>6),this.xe(128|63&r)}}this.Ne()}Oe(t){const e=this.$e(t),i=tt(e);this.Fe(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Be(t){const e=this.$e(t),i=tt(e);this.Fe(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(t){this.Fe(t.length),this.buffer.set(t,this.position),this.position+=t.length}Ge(){return this.buffer.slice(0,this.position)}$e(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Se(t){const e=255&t;0===e?(this.qe(0),this.qe(255)):255===e?(this.qe(255),this.qe(0)):this.qe(e)}xe(t){const e=255&t;0===e?(this.Ke(0),this.Ke(255)):255===e?(this.Ke(255),this.Ke(0)):this.Ke(t)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(t){this.Fe(1),this.buffer[this.position++]=t}Ke(t){this.Fe(1),this.buffer[this.position++]=~t}Fe(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class cn{constructor(t){this.Qe=t}Ee(t){this.Qe.Ve(t)}pe(t){this.Qe.ke(t)}ye(t){this.Qe.Oe(t)}me(){this.Qe.Le()}}class Sn{constructor(t){this.Qe=t}Ee(t){this.Qe.Ce(t)}pe(t){this.Qe.Me(t)}ye(t){this.Qe.Be(t)}me(){this.Qe.Ue()}}class zn{constructor(){this.Qe=new kt,this.je=new cn(this.Qe),this.ze=new Sn(this.Qe)}seed(t){this.Qe.seed(t)}We(t){return 0===t?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}class ci{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}He(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new ci(this.indexId,this.documentKey,this.arrayValue,i)}}function jt(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=Qi(n.arrayValue,t.arrayValue),0!==e?e:(e=Qi(n.directionalValue,t.directionalValue),0!==e?e:xn.comparator(n.documentKey,t.documentKey)))}function Qi(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class Do{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Je=t.orderBy,this.Ye=[];for(const e of t.filters){const i=e;i.isInequality()?this.Xe=i:this.Ye.push(i)}}Ze(t){ai(t.collectionGroup===this.collectionId);const e=cI(t);if(void 0!==e&&!this.tn(e))return!1;const i=ty(t);let r=0,o=0;for(;r<i.length&&this.tn(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Xe){const a=i[r];if(!this.en(this.Xe,a)||!this.nn(this.Je[o++],a))return!1;++r}for(;r<i.length;++r){const a=i[r];if(o>=this.Je.length||!this.nn(this.Je[o++],a))return!1}return!0}tn(t){for(const e of this.Ye)if(this.en(e,t))return!0;return!1}en(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}nn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function la(n){var t,e;if(ai(n instanceof yr||n instanceof fs),n instanceof yr){if(n instanceof II){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>yr.create(n.field,"==",o)))||[];return fs.create(r,"or")}return n}const i=n.filters.map(r=>la(r));return fs.create(i,n.op)}function tH(n){if(0===n.getFilters().length)return[];const t=FN(la(n));return ai(nH(t)),TN(t)||BN(t)?[t]:t.getFilters()}function TN(n){return n instanceof yr}function BN(n){return n instanceof fs&&xI(n)}function nH(n){return TN(n)||BN(n)||function(t){if(t instanceof fs&&N1(t)){for(const e of t.getFilters())if(!TN(e)&&!BN(e))return!1;return!0}return!1}(n)}function FN(n){if(ai(n instanceof yr||n instanceof fs),n instanceof yr)return n;if(1===n.filters.length)return FN(n.filters[0]);const t=n.filters.map(i=>FN(i));let e=fs.create(t,n.op);return e=EF(e),nH(e)?e:(ai(e instanceof fs),ai(ly(e)),ai(e.filters.length>1),e.filters.reduce((i,r)=>MN(i,r)))}function MN(n,t){let e;return ai(n instanceof yr||n instanceof fs),ai(t instanceof yr||t instanceof fs),e=n instanceof yr?t instanceof yr?fs.create([n,t],"and"):iH(n,t):t instanceof yr?iH(t,n):function(i,r){if(ai(i.filters.length>0&&r.filters.length>0),ly(i)&&ly(r))return EI(i,r.getFilters());const o=N1(i)?i:r,a=N1(i)?r:i,u=o.filters.map(h=>MN(h,a));return fs.create(u,"or")}(n,t),EF(e)}function iH(n,t){if(ly(t))return EI(t,n.getFilters());{const e=t.filters.map(i=>MN(n,i));return fs.create(e,"or")}}function EF(n){if(ai(n instanceof yr||n instanceof fs),n instanceof yr)return n;const t=n.getFilters();if(1===t.length)return EF(t[0]);if(JB(n))return n;const e=t.map(r=>EF(r)),i=[];return e.forEach(r=>{r instanceof yr?i.push(r):r instanceof fs&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:fs.create(i,n.op)}class j${constructor(){this.sn=new kN}addToCollectionParentIndex(t,e){return this.sn.add(e),st.resolve()}getCollectionParents(t,e){return st.resolve(this.sn.getEntries(e))}addFieldIndex(t,e){return st.resolve()}deleteFieldIndex(t,e){return st.resolve()}getDocumentsMatchingTarget(t,e){return st.resolve(null)}getIndexType(t,e){return st.resolve(0)}getFieldIndexes(t,e){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,e){return st.resolve(Dd.min())}getMinOffsetFromCollectionGroup(t,e){return st.resolve(Dd.min())}updateCollectionGroup(t,e,i){return st.resolve()}updateIndexEntries(t,e){return st.resolve()}}class kN{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new ks(Tr.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new ks(Tr.comparator)).toArray()}}const SF=new Uint8Array(0);class G${constructor(t,e){this.user=t,this.databaseId=e,this.rn=new kN,this.on=new jp(i=>qv(i),(i,r)=>U1(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.rn.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.rn.add(e)});const o={collectionId:i,parent:oc(r)};return rH(t).put(o)}return st.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[RB(e),""],!1,!0);return rH(t).j(r).next(o=>{for(const a of o){if(a.collectionId!==e)break;i.push(ff(a.parent))}return i})}addFieldIndex(t,e){const i=IF(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var a;delete r.indexId;const o=i.add(r);if(e.indexState){const a=XI(t);return o.next(u=>{a.put(v(u,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=IF(t),r=XI(t),o=JI(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=JI(t);let r=!0;const o=new Map;return st.forEach(this.un(e),a=>this.cn(t,a).next(u=>{r&&(r=!!u),o.set(a,u)})).next(()=>{if(r){let a=tr();const u=[];return st.forEach(o,(h,f)=>{var _;Xt("IndexedDbIndexManager",`Using index ${_=h,`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(he=>`${he.fieldPath}:${he.kind}`).join(",")}`} to execute ${qv(e)}`);const C=function(he,xe){const Ze=cI(xe);if(void 0===Ze)return null;for(const ct of TI(he,Ze.fieldPath))switch(ct.op){case"array-contains-any":return ct.value.arrayValue.values||[];case"array-contains":return[ct.value]}return null}(f,h),F=function(he,xe){const Ze=new Map;for(const ct of ty(xe))for(const Ve of TI(he,ct.fieldPath))switch(Ve.op){case"==":case"in":Ze.set(ct.fieldPath.canonicalString(),Ve.value);break;case"not-in":case"!=":return Ze.set(ct.fieldPath.canonicalString(),Ve.value),Array.from(Ze.values())}return null}(f,h),B=function(he,xe){const Ze=[];let ct=!0;for(const Ve of ty(xe)){const we=0===Ve.kind?ib(he,Ve.fieldPath,he.startAt):oN(he,Ve.fieldPath,he.startAt);Ze.push(we.value),ct&&(ct=we.inclusive)}return new Dm(Ze,ct)}(f,h),U=function(he,xe){const Ze=[];let ct=!0;for(const Ve of ty(xe)){const we=0===Ve.kind?oN(he,Ve.fieldPath,he.endAt):ib(he,Ve.fieldPath,he.endAt);Ze.push(we.value),ct&&(ct=we.inclusive)}return new Dm(Ze,ct)}(f,h),H=this.an(h,f,B),Z=this.an(h,f,U),q=this.hn(h,f,F),W=this.ln(h.indexId,C,H,B.inclusive,Z,U.inclusive,q);return st.forEach(W,he=>i.H(he,e.limit).next(xe=>{xe.forEach(Ze=>{const ct=xn.fromSegments(Ze.documentKey);a.has(ct)||(a=a.add(ct),u.push(ct))})}))}).next(()=>u)}return st.resolve(null)})}un(t){let e=this.on.get(t);return e||(e=0===t.filters.length?[t]:tH(fs.create(t.filters,"and")).map(i=>iF(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.on.set(t,e),e)}ln(t,e,i,r,o,a,u){const h=(null!=e?e.length:1)*Math.max(i.length,o.length),f=h/(null!=e?e.length:1),_=[];for(let C=0;C<h;++C){const F=e?this.fn(e[C/f]):SF,B=this.dn(t,F,i[C%f],r),U=this._n(t,F,o[C%f],a),H=u.map(Z=>this.dn(t,F,Z,!0));_.push(...this.createRange(B,U,H))}return _}dn(t,e,i,r){const o=new ci(t,xn.empty(),e,i);return r?o:o.He()}_n(t,e,i,r){const o=new ci(t,xn.empty(),e,i);return r?o.He():o}cn(t,e){const i=new Do(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let a=null;for(const u of o)i.Ze(u)&&(!a||u.fields.length>a.fields.length)&&(a=u);return a})}getIndexType(t,e){let i=2;const r=this.un(e);return st.forEach(r,o=>this.cn(t,o).next(a=>{a?0!==i&&a.fields.length<function(u){let h=new ks(jo.comparator),f=!1;for(const _ of u.filters)for(const C of _.getFlattenedFilters())C.field.isKeyField()||("array-contains"===C.op||"array-contains-any"===C.op?f=!0:h=h.add(C.field));for(const _ of u.orderBy)_.field.isKeyField()||(h=h.add(_.field));return h.size+(f?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}wn(t,e){const i=new zn;for(const r of ty(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const a=i.We(r.kind);fe.be._e(o,a)}return i.Ge()}fn(t){const e=new zn;return fe.be._e(t,e.We(0)),e.Ge()}mn(t,e){const i=new zn;return fe.be._e(oy(this.databaseId,e),i.We(function(r){const o=ty(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Ge()}hn(t,e,i){if(null===i)return[];let r=[];r.push(new zn);let o=0;for(const a of ty(t)){const u=i[o++];for(const h of r)if(this.gn(e,a.fieldPath)&&jv(u))r=this.yn(r,a,u);else{const f=h.We(a.kind);fe.be._e(u,f)}}return this.pn(r)}an(t,e,i){return this.hn(t,e,i.position)}pn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Ge();return e}yn(t,e,i){const r=[...t],o=[];for(const a of i.arrayValue.values||[])for(const u of r){const h=new zn;h.seed(u.Ge()),fe.be._e(a,h.We(e.kind)),o.push(h)}return o}gn(t,e){return!!t.filters.find(i=>i instanceof yr&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=IF(t),r=XI(t);return(e?i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.j()).next(o=>{const a=[];return st.forEach(o,u=>r.get([u.indexId,this.uid]).next(h=>{a.push(function(f,_){const C=_?new Kw(_.sequenceNumber,new Dd(t0(_.readTime),new xn(ff(_.documentKey)),_.largestBatchId)):Kw.empty(),F=f.fields.map(([B,U])=>new uI(jo.fromServerFormat(B),U));return new v1(f.indexId,f.collectionGroup,F,C)}(u,h))})).next(()=>a)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Ui(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=IF(t),o=XI(t);return this.In(t).next(a=>r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(u=>st.forEach(u,h=>o.put(v(h.indexId,this.user,a,i)))))}updateIndexEntries(t,e){const i=new Map;return st.forEach(e,(r,o)=>{const a=i.get(r.collectionGroup);return(a?st.resolve(a):this.getFieldIndexes(t,r.collectionGroup)).next(u=>(i.set(r.collectionGroup,u),st.forEach(u,h=>this.Tn(t,r,h).next(f=>{const _=this.En(o,h);return f.isEqual(_)?st.resolve():this.An(t,o,h,f,_)}))))})}Rn(t,e,i,r){return JI(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(i,e.key),documentKey:e.key.path.toArray()})}vn(t,e,i,r){return JI(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(i,e.key),e.key.path.toArray()])}Tn(t,e,i){const r=JI(t);let o=new ks(jt);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.mn(i,e)])},(a,u)=>{o=o.add(new ci(i.indexId,e,u.arrayValue,u.directionalValue))}).next(()=>o)}En(t,e){let i=new ks(jt);const r=this.wn(e,t);if(null==r)return i;const o=cI(e);if(null!=o){const a=t.data.field(o.fieldPath);if(jv(a))for(const u of a.arrayValue.values||[])i=i.add(new ci(e.indexId,t.key,this.fn(u),r))}else i=i.add(new ci(e.indexId,t.key,SF,r));return i}An(t,e,i,r,o){Xt("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const a=[];return function(u,h,f,_,C){const F=u.getIterator(),B=h.getIterator();let U=ny(F),H=ny(B);for(;U||H;){let Z=!1,q=!1;if(U&&H){const W=f(U,H);W<0?q=!0:W>0&&(Z=!0)}else null!=U?q=!0:Z=!0;Z?(_(H),H=ny(B)):q?(C(U),U=ny(F)):(U=ny(F),H=ny(B))}}(r,o,jt,u=>{a.push(this.Rn(t,e,i,u))},u=>{a.push(this.vn(t,e,i,u))}),st.waitFor(a)}In(t){let e=1;return XI(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((a,u)=>jt(a,u)).filter((a,u,h)=>!u||0!==jt(a,h[u-1]));const r=[];r.push(t);for(const a of i){const u=jt(a,t),h=jt(a,e);if(0===u)r[0]=t.He();else if(u>0&&h<0)r.push(a),r.push(a.He());else if(h>0)break}r.push(e);const o=[];for(let a=0;a<r.length;a+=2){if(this.Pn(r[a],r[a+1]))return[];o.push(IDBKeyRange.bound([r[a].indexId,this.uid,r[a].arrayValue,r[a].directionalValue,SF,[]],[r[a+1].indexId,this.uid,r[a+1].arrayValue,r[a+1].directionalValue,SF,[]]))}return o}Pn(t,e){return jt(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(sH)}getMinOffset(t,e){return st.mapArray(this.un(e),i=>this.cn(t,i).next(r=>r||Gn())).next(sH)}}function rH(n){return Za(n,"collectionParents")}function JI(n){return Za(n,"indexEntries")}function IF(n){return Za(n,"indexConfiguration")}function XI(n){return Za(n,"indexState")}function sH(n){ai(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;dI(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Dd(t.readTime,t.documentKey,e)}const oH={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qu{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Qu(t,Qu.DEFAULT_COLLECTION_PERCENTILE,Qu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function aH(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],a=IDBKeyRange.only(e.batchId);let u=0;const h=i.X({range:a},(_,C,F)=>(u++,F.delete()));o.push(h.next(()=>{ai(1===u)}));const f=[];for(const _ of e.mutations){const C=S1(t,_.key.path,e.batchId);o.push(r.delete(C)),f.push(_.key)}return st.waitFor(o).next(()=>f)}function DF(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Gn();t=n.noDocument}return JSON.stringify(t).length}Qu.DEFAULT_COLLECTION_PERCENTILE=10,Qu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qu.DEFAULT=new Qu(41943040,Qu.DEFAULT_COLLECTION_PERCENTILE,Qu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qu.DISABLED=new Qu(-1,0,0);class TF{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.bn={}}static fe(t,e,i,r){ai(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new TF(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return r0(t).X({index:"userMutationsIndex",range:i},(r,o,a)=>{e=!1,a.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=nx(t),a=r0(t);return a.add({}).next(u=>{ai("number"==typeof u);const h=new Z1(u,e,i,r),f=function(F,B,U){const H=U.baseMutations.map(q=>Xv(F.le,q)),Z=U.mutations.map(q=>Xv(F.le,q));return{userId:B,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:H,mutations:Z}}(this.serializer,this.userId,h),_=[];let C=new ks((F,B)=>Ui(F.canonicalString(),B.canonicalString()));for(const F of r){const B=S1(this.userId,F.key.path,u);C=C.add(F.key.path.popLast()),_.push(a.put(f)),_.push(o.put(B,pf))}return C.forEach(F=>{_.push(this.indexManager.addToCollectionParentIndex(t,F))}),t.addOnCommittedListener(()=>{this.bn[u]=h.keys()}),st.waitFor(_).next(()=>h)})}lookupMutationBatch(t,e){return r0(t).get(e).next(i=>i?(ai(i.userId===this.userId),n0(this.serializer,i)):null)}Vn(t,e){return this.bn[e]?st.resolve(this.bn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.bn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return r0(t).X({index:"userMutationsIndex",range:r},(a,u,h)=>{u.userId===this.userId&&(ai(u.batchId>=i),o=n0(this.serializer,u)),h.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return r0(t).X({index:"userMutationsIndex",range:e,reverse:!0},(r,o,a)=>{i=o.batchId,a.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return r0(t).j("userMutationsIndex",e).next(i=>i.map(r=>n0(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=E1(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return nx(t).X({range:r},(a,u,h)=>{const[f,_,C]=a,F=ff(_);if(f===this.userId&&e.path.isEqual(F))return r0(t).get(C).next(B=>{if(!B)throw Gn();ai(B.userId===this.userId),o.push(n0(this.serializer,B))});h.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ks(Ui);const r=[];return e.forEach(o=>{const a=E1(this.userId,o.path),u=IDBKeyRange.lowerBound(a),h=nx(t).X({range:u},(f,_,C)=>{const[F,B,U]=f,H=ff(B);F===this.userId&&o.path.isEqual(H)?i=i.add(U):C.done()});r.push(h)}),st.waitFor(r).next(()=>this.Sn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=E1(this.userId,i),a=IDBKeyRange.lowerBound(o);let u=new ks(Ui);return nx(t).X({range:a},(h,f,_)=>{const[C,F,B]=h,U=ff(F);C===this.userId&&i.isPrefixOf(U)?U.length===r&&(u=u.add(B)):_.done()}).next(()=>this.Sn(t,u))}Sn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(r0(t).get(o).next(a=>{if(null===a)throw Gn();ai(a.userId===this.userId),i.push(n0(this.serializer,a))}))}),st.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return aH(t.at,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Dn(e.batchId)}),st.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Dn(t){delete this.bn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return st.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return nx(t).X({range:i},(o,a,u)=>{if(o[0]===this.userId){const h=ff(o[1]);r.push(h)}else u.done()}).next(()=>{ai(0===r.length)})})}containsKey(t,e){return lH(t,this.userId,e)}Cn(t){return cH(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function lH(n,t,e){const i=E1(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let a=!1;return nx(n).X({range:o,Y:!0},(u,h,f)=>{const[_,C,F]=u;_===t&&C===r&&(a=!0),f.done()}).next(()=>a)}function r0(n){return Za(n,"mutations")}function nx(n){return Za(n,"documentMutations")}function cH(n){return Za(n,"mutationQueues")}class gb{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static Nn(){return new gb(0)}static kn(){return new gb(-1)}}class z${constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.Mn(t).next(e=>{const i=new gb(e.highestTargetId);return e.highestTargetId=i.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Mn(t).next(e=>oi.fromTimestamp(new lo(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Mn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Mn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.On(t,r)))}addTargetData(t,e){return this.$n(t,e).next(()=>this.Mn(t).next(i=>(i.targetCount+=1,this.Fn(e,i),this.On(t,i))))}updateTargetData(t,e){return this.$n(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>ix(t).delete(e.targetId)).next(()=>this.Mn(t)).next(i=>(ai(i.targetCount>0),i.targetCount-=1,this.On(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return ix(t).X((a,u)=>{const h=l(u);h.sequenceNumber<=e&&null===i.get(h.targetId)&&(r++,o.push(this.removeTargetData(t,h)))}).next(()=>st.waitFor(o)).next(()=>r)}forEachTarget(t,e){return ix(t).X((i,r)=>{const o=l(r);e(o)})}Mn(t){return uH(t).get("targetGlobalKey").next(e=>(ai(null!==e),e))}On(t,e){return uH(t).put("targetGlobalKey",e)}$n(t,e){return ix(t).put(c(this.serializer,e))}Fn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Mn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=qv(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return ix(t).X({range:r,index:"queryTargetsIndex"},(a,u,h)=>{const f=l(u);U1(e,f.target)&&(o=f,h.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=s0(t);return e.forEach(a=>{const u=oc(a.path);r.push(o.put({targetId:i,path:u})),r.push(this.referenceDelegate.addReference(t,i,a))}),st.waitFor(r)}removeMatchingKeys(t,e,i){const r=s0(t);return st.forEach(e,o=>{const a=oc(o.path);return st.waitFor([r.delete([i,a]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=s0(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=s0(t);let o=tr();return r.X({range:i,Y:!0},(a,u,h)=>{const f=ff(a[1]),_=new xn(f);o=o.add(_)}).next(()=>o)}containsKey(t,e){const i=oc(e.path),r=IDBKeyRange.bound([i],[RB(i)],!1,!0);let o=0;return s0(t).X({index:"documentTargetsIndex",Y:!0,range:r},([a,u],h,f)=>{0!==a&&(o++,f.done())}).next(()=>o>0)}he(t,e){return ix(t).get(e).next(i=>i?l(i):null)}}function ix(n){return Za(n,"targets")}function uH(n){return Za(n,"targetGlobal")}function s0(n){return Za(n,"targetDocuments")}function dH([n,t],[e,i]){const r=Ui(n,e);return 0===r?Ui(t,i):r}class q${constructor(t){this.Bn=t,this.buffer=new ks(dH),this.Ln=0}qn(){return++this.Ln}Un(t){const e=[t,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();dH(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class hH{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(t){var e=this;Xt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,bt.Z)(function*(){e.Kn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){xm(i)?Xt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Cm(i)}yield e.Gn(3e5)}))}}class K${constructor(t,e){this.Qn=t,this.params=e}calculateTargetCount(t,e){return this.Qn.jn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return st.resolve(Lu.ct);const i=new q$(e);return this.Qn.forEachTarget(t,r=>i.Un(r.sequenceNumber)).next(()=>this.Qn.zn(t,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Qn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Qn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Xt("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(oH)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Xt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oH):this.Wn(t,e))}getCacheSize(t){return this.Qn.getCacheSize(t)}Wn(t,e){let i,r,o,a,u,h,f;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(Xt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),r=this.params.maximumSequenceNumbersToCollect):r=C,a=Date.now(),this.nthSequenceNumber(t,r))).next(C=>(i=C,u=Date.now(),this.removeTargets(t,i,e))).next(C=>(o=C,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(C=>(f=Date.now(),oI()<=df.in.DEBUG&&Xt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-_}ms\n\tDetermined least recently used ${r} in `+(u-a)+`ms\n\tRemoved ${o} targets in `+(h-u)+`ms\n\tRemoved ${C} documents in `+(f-h)+`ms\nTotal Duration: ${f-_}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:C})))}}class Z${constructor(t,e){this.db=t,this.garbageCollector=function AH(n,t){return new K$(n,t)}(this,e)}jn(t){const e=this.Hn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Hn(t){let e=0;return this.zn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}zn(t,e){return this.Jn(t,(i,r)=>e(r))}addReference(t,e,i){return BF(t,i)}removeReference(t,e,i){return BF(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return BF(t,e)}Yn(t,e){return function(i,r){let o=!1;return cH(i).Z(a=>lH(i,a,r).next(u=>(u&&(o=!0),st.resolve(!u)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Jn(t,(a,u)=>{if(u<=e){const h=this.Yn(t,a).next(f=>{if(!f)return o++,i.getEntry(t,a).next(()=>(i.removeEntry(a,oi.min()),s0(t).delete([0,oc(a.path)])))});r.push(h)}}).next(()=>st.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return BF(t,e)}Jn(t,e){const i=s0(t);let r,o=Lu.ct;return i.X({index:"documentTargetsIndex"},([a,u],{path:h,sequenceNumber:f})=>{0===a?(o!==Lu.ct&&e(new xn(ff(r)),o),o=f,r=h):o=Lu.ct}).next(()=>{o!==Lu.ct&&e(new xn(ff(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function BF(n,t){return s0(n).put((i=n.currentSequenceNumber,{targetId:0,path:oc(t.path),sequenceNumber:i}));var i}class fH{constructor(){this.changes=new jp(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,So.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?st.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class $${constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return mb(t).put(i)}removeEntry(t,e,i){return mb(t).delete(function(r,o){const a=r.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],WI(o),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Xn(t,i)))}getEntry(t,e){let i=So.newInvalidDocument(e);return mb(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(eD(e))},(r,o)=>{i=this.Zn(e,o)}).next(()=>i)}ts(t,e){let i={size:0,document:So.newInvalidDocument(e)};return mb(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(eD(e))},(r,o)=>{i={document:this.Zn(e,o),size:DF(o)}}).next(()=>i)}getEntries(t,e){let i=Pu();return this.es(t,e,(r,o)=>{const a=this.Zn(r,o);i=i.insert(r,a)}).next(()=>i)}ns(t,e){let i=Pu(),r=new Ys(xn.comparator);return this.es(t,e,(o,a)=>{const u=this.Zn(o,a);i=i.insert(o,u),r=r.insert(o,DF(a))}).next(()=>({documents:i,ss:r}))}es(t,e,i){if(e.isEmpty())return st.resolve();let r=new ks(_H);e.forEach(h=>r=r.add(h));const o=IDBKeyRange.bound(eD(r.first()),eD(r.last())),a=r.getIterator();let u=a.getNext();return mb(t).X({index:"documentKeyIndex",range:o},(h,f,_)=>{const C=xn.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;u&&_H(u,C)<0;)i(u,null),u=a.getNext();u&&u.isEqual(C)&&(i(u,f),u=a.hasNext()?a.getNext():null),u?_.G(eD(u)):_.done()}).next(()=>{for(;u;)i(u,null),u=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const o=e.path,a=[o.popLast().toArray(),o.lastSegment(),WI(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return mb(t).j(IDBKeyRange.bound(a,u,!0)).next(h=>{let f=Pu();for(const _ of h){const C=this.Zn(xn.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);C.isFoundDocument()&&(ob(e,C)||r.has(C.key))&&(f=f.insert(C.key,C))}return f})}getAllFromCollectionGroup(t,e,i,r){let o=Pu();const a=mH(e,i),u=mH(e,Dd.max());return mb(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,u,!0)},(h,f,_)=>{const C=this.Zn(xn.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);o=o.insert(C.key,C),o.size===r&&_.done()}).next(()=>o)}newChangeBuffer(t){return new Y$(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return gH(t).get("remoteDocumentGlobalKey").next(e=>(ai(!!e),e))}Xn(t,e){return gH(t).put("remoteDocumentGlobalKey",e)}Zn(t,e){if(e){const i=function eH(n,t){let e;if(t.document)e=$I(n.le,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=xn.fromSegments(t.noDocument.path),r=t0(t.noDocument.readTime);e=So.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return Gn();{const i=xn.fromSegments(t.unknownDocument.path),r=t0(t.unknownDocument.version);e=So.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new lo(i[0],i[1]);return oi.fromTimestamp(r)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(oi.min()))return i}return So.newInvalidDocument(t)}}function pH(n){return new $$(n)}class Y$ extends fH{constructor(t,e){super(),this.rs=t,this.trackRemovals=e,this.os=new jp(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new ks((o,a)=>Ui(o.canonicalString(),a.canonicalString()));return this.changes.forEach((o,a)=>{const u=this.os.get(o);if(e.push(this.rs.removeEntry(t,o,u.readTime)),a.isValidDocument()){const h=DN(this.rs.serializer,a);r=r.add(o.path.popLast());const f=DF(h);i+=f-u.size,e.push(this.rs.addEntry(t,o,h))}else if(i-=u.size,this.trackRemovals){const h=DN(this.rs.serializer,a.convertToNoDocument(oi.min()));e.push(this.rs.addEntry(t,o,h))}}),r.forEach(o=>{e.push(this.rs.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.rs.updateMetadata(t,i)),st.waitFor(e)}getFromCache(t,e){return this.rs.ts(t,e).next(i=>(this.os.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.rs.ns(t,e).next(({documents:i,ss:r})=>(r.forEach((o,a)=>{this.os.set(o,{size:a,readTime:i.get(o).readTime})}),i))}}function gH(n){return Za(n,"remoteDocumentGlobal")}function mb(n){return Za(n,"remoteDocumentsV14")}function eD(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function mH(n,t){const e=t.documentKey.path.toArray();return[n,WI(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function _H(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=Ui(e[o],i[o]),r)return r;return r=Ui(e.length,i.length),r||(r=Ui(e[e.length-2],i[i.length-2]),r||Ui(e[e.length-1],i[i.length-1]))}class W${constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class yH{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&lb(i.mutation,r,eu.empty(),lo.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,tr()).next(()=>i))}getLocalViewOfDocuments(t,e,i=tr()){const r=pA();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let a=ab();return o.forEach((u,h)=>{a=a.insert(u,h.overlayedDocument)}),a}))}getOverlayedDocuments(t,e){const i=pA();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,tr()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((a,u)=>{e.set(a,u)})})}computeViews(t,e,i,r){let o=Pu();const a=tu(),u=tu();return e.forEach((h,f)=>{const _=i.get(f.key);r.has(f.key)&&(void 0===_||_.mutation instanceof qp)?o=o.insert(f.key,f):void 0!==_?(a.set(f.key,_.mutation.getFieldMask()),lb(_.mutation,f,_.mutation.getFieldMask(),lo.now())):a.set(f.key,eu.empty())}),this.recalculateAndSaveOverlays(t,o).next(h=>(h.forEach((f,_)=>a.set(f,_)),e.forEach((f,_)=>{var C;return u.set(f,new W$(_,null!==(C=a.get(f))&&void 0!==C?C:null))}),u))}recalculateAndSaveOverlays(t,e){const i=tu();let r=new Ys((a,u)=>a-u),o=tr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(a=>{for(const u of a)u.keys().forEach(h=>{const f=e.get(h);if(null===f)return;let _=i.get(h)||eu.empty();_=u.applyToLocalView(f,_),i.set(h,_);const C=(r.get(u.batchId)||tr()).add(h);r=r.insert(u.batchId,C)})}).next(()=>{const a=[],u=r.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,_=h.value,C=dN();_.forEach(F=>{if(!o.has(F)){const B=uF(e.get(F),i.get(F));null!==B&&C.set(F,B),o=o.add(F)}}),a.push(this.documentOverlayCache.saveOverlays(t,f,C))}return st.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return xn.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):Q1(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const a=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):st.resolve(pA());let u=-1,h=o;return a.next(f=>st.forEach(f,(_,C)=>(u<C.largestBatchId&&(u=C.largestBatchId),o.get(_)?st.resolve():this.remoteDocumentCache.getEntry(t,_).next(F=>{h=h.insert(_,F)}))).next(()=>this.populateOverlays(t,f,o)).next(()=>this.computeViews(t,h,f,tr())).next(_=>({batchId:u,changes:FI(_)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new xn(e)).next(i=>{let r=ab();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=ab();return this.indexManager.getCollectionParents(t,r).next(a=>st.forEach(a,u=>{const h=(f=e,_=u.child(r),new mf(_,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt));var f,_;return this.getDocumentsMatchingCollectionQuery(t,h,i).next(f=>{f.forEach((_,C)=>{o=o.insert(_,C)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(o=>{r.forEach((u,h)=>{const f=h.getKey();null===o.get(f)&&(o=o.insert(f,So.newInvalidDocument(f)))});let a=ab();return o.forEach((u,h)=>{const f=r.get(u);void 0!==f&&lb(f.mutation,h,eu.empty(),lo.now()),ob(e,h)&&(a=a.insert(u,h))}),a})}}class J${constructor(t){this.serializer=t,this.us=new Map,this.cs=new Map}getBundleMetadata(t,e){return st.resolve(this.us.get(e))}saveBundleMetadata(t,e){var i;return this.us.set(e.id,{id:(i=e).id,version:i.version,createTime:Ya(i.createTime)}),st.resolve()}getNamedQuery(t,e){return st.resolve(this.cs.get(e))}saveNamedQuery(t,e){return this.cs.set(e.name,{name:(i=e).name,query:d(i.bundledQuery),readTime:Ya(i.readTime)}),st.resolve();var i}}class X${constructor(){this.overlays=new Ys(xn.comparator),this.hs=new Map}getOverlay(t,e){return st.resolve(this.overlays.get(e))}getOverlays(t,e){const i=pA();return st.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.de(t,e,o)}),st.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.hs.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hs.delete(i)),st.resolve()}getOverlaysForCollection(t,e,i){const r=pA(),o=e.length+1,a=new xn(e.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!e.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>i&&r.set(h.getKey(),h)}return st.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Ys((f,_)=>f-_);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===e&&f.largestBatchId>i){let _=o.get(f.largestBatchId);null===_&&(_=pA(),o=o.insert(f.largestBatchId,_)),_.set(f.getKey(),f)}}const u=pA(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,_)=>u.set(f,_)),!(u.size()>=r)););return st.resolve(u)}de(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const a=this.hs.get(r.largestBatchId).delete(i.key);this.hs.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new Y1(e,i));let o=this.hs.get(e);void 0===o&&(o=tr(),this.hs.set(e,o)),this.hs.set(e,o.add(i.key))}}class RN{constructor(){this.ls=new ks(Dc.fs),this.ds=new ks(Dc._s)}isEmpty(){return this.ls.isEmpty()}addReference(t,e){const i=new Dc(t,e);this.ls=this.ls.add(i),this.ds=this.ds.add(i)}ws(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.gs(new Dc(t,e))}ys(t,e){t.forEach(i=>this.removeReference(i,e))}ps(t){const e=new xn(new Tr([])),i=new Dc(e,t),r=new Dc(e,t+1),o=[];return this.ds.forEachInRange([i,r],a=>{this.gs(a),o.push(a.key)}),o}Is(){this.ls.forEach(t=>this.gs(t))}gs(t){this.ls=this.ls.delete(t),this.ds=this.ds.delete(t)}Ts(t){const e=new xn(new Tr([])),i=new Dc(e,t),r=new Dc(e,t+1);let o=tr();return this.ds.forEachInRange([i,r],a=>{o=o.add(a.key)}),o}containsKey(t){const e=new Dc(t,0),i=this.ls.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Dc{constructor(t,e){this.key=t,this.Es=e}static fs(t,e){return xn.comparator(t.key,e.key)||Ui(t.Es,e.Es)}static _s(t,e){return Ui(t.Es,e.Es)||xn.comparator(t.key,e.key)}}class eY{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.As=1,this.Rs=new ks(Dc.fs)}checkEmpty(t){return st.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.As;this.As++;const a=new Z1(o,e,i,r);this.mutationQueue.push(a);for(const u of r)this.Rs=this.Rs.add(new Dc(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return st.resolve(a)}lookupMutationBatch(t,e){return st.resolve(this.vs(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Ps(e+1),o=r<0?0:r;return st.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Dc(e,0),r=new Dc(e,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],a=>{const u=this.vs(a.Es);o.push(u)}),st.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ks(Ui);return e.forEach(r=>{const o=new Dc(r,0),a=new Dc(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,a],u=>{i=i.add(u.Es)})}),st.resolve(this.bs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;xn.isDocumentKey(o)||(o=o.child(""));const a=new Dc(new xn(o),0);let u=new ks(Ui);return this.Rs.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(u=u.add(h.Es)),!0)},a),st.resolve(this.bs(u))}bs(t){const e=[];return t.forEach(i=>{const r=this.vs(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){ai(0===this.Vs(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return st.forEach(e.mutations,r=>{const o=new Dc(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Rs=i})}Dn(t){}containsKey(t,e){const i=new Dc(e,0),r=this.Rs.firstAfterOrEqual(i);return st.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return st.resolve()}Vs(t,e){return this.Ps(t)}Ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}vs(t){const e=this.Ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class tY{constructor(t){this.Ss=t,this.docs=new Ys(xn.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,a=this.Ss(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return st.resolve(i?i.document.mutableCopy():So.newInvalidDocument(e))}getEntries(t,e){let i=Pu();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():So.newInvalidDocument(r))}),st.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Pu();const a=e.path,u=new xn(a.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:_}}=h.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||dI(jL(_),i)<=0||(r.has(_.key)||ob(e,_))&&(o=o.insert(_.key,_.mutableCopy()))}return st.resolve(o)}getAllFromCollectionGroup(t,e,i,r){Gn()}Ds(t,e){return st.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new nY(this)}getSize(t){return st.resolve(this.size)}}class nY extends fH{constructor(t){super(),this.rs=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.rs.addEntry(t,r)):this.rs.removeEntry(i)}),st.waitFor(e)}getFromCache(t,e){return this.rs.getEntry(t,e)}getAllFromCache(t,e){return this.rs.getEntries(t,e)}}class iY{constructor(t){this.persistence=t,this.Cs=new jp(e=>qv(e),U1),this.lastRemoteSnapshotVersion=oi.min(),this.highestTargetId=0,this.xs=0,this.Ns=new RN,this.targetCount=0,this.ks=gb.Nn()}forEachTarget(t,e){return this.Cs.forEach((i,r)=>e(r)),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.xs)}allocateTargetId(t){return this.highestTargetId=this.ks.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.xs&&(this.xs=e),st.resolve()}$n(t){this.Cs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ks=new gb(e),this.highestTargetId=e),t.sequenceNumber>this.xs&&(this.xs=t.sequenceNumber)}addTargetData(t,e){return this.$n(e),this.targetCount+=1,st.resolve()}updateTargetData(t,e){return this.$n(e),st.resolve()}removeTargetData(t,e){return this.Cs.delete(e.target),this.Ns.ps(e.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Cs.forEach((a,u)=>{u.sequenceNumber<=e&&null===i.get(u.targetId)&&(this.Cs.delete(a),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)}),st.waitFor(o).next(()=>r)}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,e){const i=this.Cs.get(e)||null;return st.resolve(i)}addMatchingKeys(t,e,i){return this.Ns.ws(e,i),st.resolve()}removeMatchingKeys(t,e,i){this.Ns.ys(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(a=>{o.push(r.markPotentiallyOrphaned(t,a))}),st.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Ns.ps(e),st.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ns.Ts(e);return st.resolve(i)}containsKey(t,e){return st.resolve(this.Ns.containsKey(e))}}class ON{constructor(t,e){this.Ms={},this.overlays={},this.Os=new Lu(0),this.$s=!1,this.$s=!0,this.referenceDelegate=t(this),this.Fs=new iY(this),this.indexManager=new j$,this.remoteDocumentCache=new tY(i=>this.referenceDelegate.Bs(i)),this.serializer=new xF(e),this.Ls=new J$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new X$,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Ms[t.toKey()];return i||(i=new eY(e,this.referenceDelegate),this.Ms[t.toKey()]=i),i}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(t,e,i){Xt("MemoryPersistence","Starting transaction:",t);const r=new rY(this.Os.next());return this.referenceDelegate.qs(),i(r).next(o=>this.referenceDelegate.Us(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ks(t,e){return st.or(Object.values(this.Ms).map(i=>()=>i.containsKey(t,e)))}}class rY extends AI{constructor(t){super(),this.currentSequenceNumber=t}}class FF{constructor(t){this.persistence=t,this.Gs=new RN,this.Qs=null}static js(t){return new FF(t)}get zs(){if(this.Qs)return this.Qs;throw Gn()}addReference(t,e,i){return this.Gs.addReference(i,e),this.zs.delete(i.toString()),st.resolve()}removeReference(t,e,i){return this.Gs.removeReference(i,e),this.zs.add(i.toString()),st.resolve()}markPotentiallyOrphaned(t,e){return this.zs.add(e.toString()),st.resolve()}removeTarget(t,e){this.Gs.ps(e.targetId).forEach(r=>this.zs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.zs.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}qs(){this.Qs=new Set}Us(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.zs,i=>{const r=xn.fromPath(i);return this.Ws(t,r).next(o=>{o||e.removeEntry(r,oi.min())})}).next(()=>(this.Qs=null,e.apply(t)))}updateLimboDocument(t,e){return this.Ws(t,e).next(i=>{i?this.zs.delete(e.toString()):this.zs.add(e.toString())})}Bs(t){return 0}Ws(t,e){return st.or([()=>st.resolve(this.Gs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ks(t,e)])}}class sY{constructor(t){this.serializer=t}$(t,e,i,r){const o=new b1("createOrUpgrade",e);var u;i<1&&r>=1&&(t.createObjectStore("owner"),(u=t).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Vv,{unique:!0}),u.createObjectStore("documentMutations"),vH(t),function(u){u.createObjectStore("remoteDocuments")}(t));let a=st.resolve();return i<3&&r>=3&&(0!==i&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(t),vH(t)),a=a.next(()=>function(u){const h=u.store("targetGlobal"),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:oi.min().toTimestamp(),targetCount:0};return h.put("targetGlobalKey",f)}(o))),i<4&&r>=4&&(0!==i&&(a=a.next(()=>function(u,h){return h.store("mutations").j().next(f=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Vv,{unique:!0});const _=h.store("mutations"),C=f.map(F=>_.put(F));return st.waitFor(C)})}(t,o))),a=a.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(a=a.next(()=>this.Js(o))),i<6&&r>=6&&(a=a.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(t),this.Ys(o)))),i<7&&r>=7&&(a=a.next(()=>this.Xs(o))),i<8&&r>=8&&(a=a.next(()=>this.Zs(t,o))),i<9&&r>=9&&(a=a.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(a=a.next(()=>this.ti(o))),i<11&&r>=11&&(a=a.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(a=a.next(()=>{!function(u){const h=u.createObjectStore("documentOverlays",{keyPath:jB});h.createIndex("collectionPathOverlayIndex",gI,{unique:!1}),h.createIndex("collectionGroupOverlayIndex",GB,{unique:!1})}(t)})),i<13&&r>=13&&(a=a.next(()=>function(u){const h=u.createObjectStore("remoteDocumentsV14",{keyPath:qL});h.createIndex("documentKeyIndex",I1),h.createIndex("collectionGroupIndex",Ww)}(t)).next(()=>this.ei(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(a=a.next(()=>this.ni(t,o))),i<15&&r>=15&&(a=a.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:T1}).createIndex("sequenceNumberIndex",YL,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:WL}).createIndex("documentKeyIndex",VB,{unique:!1})}(t))),a}Ys(t){let e=0;return t.store("remoteDocuments").X((i,r)=>{e+=DF(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Js(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.j().next(r=>st.forEach(r,o=>{const a=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",a).next(u=>st.forEach(u,h=>{ai(h.userId===o.userId);const f=n0(this.serializer,h);return aH(t,o.userId,f).next(()=>{})}))}))}Xs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((a,u)=>{const h=new Tr(a),f=[0,oc(h)];o.push(e.get(f).next(_=>_?st.resolve():e.put({targetId:0,path:oc(h),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>st.waitFor(o))})}Zs(t,e){t.createObjectStore("collectionParents",{keyPath:D1});const i=e.store("collectionParents"),r=new kN,o=a=>{if(r.add(a)){const u=a.lastSegment(),h=a.popLast();return i.put({collectionId:u,parent:oc(h)})}};return e.store("remoteDocuments").X({Y:!0},(a,u)=>{const h=new Tr(a);return o(h.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([a,u,h],f)=>{const _=ff(u);return o(_.popLast())}))}ti(t){const e=t.store("targets");return e.X((i,r)=>{const o=l(r),a=c(this.serializer,o);return e.put(a)})}ei(t,e){const i=e.store("remoteDocuments"),r=[];return i.X((o,a)=>{const u=e.store("remoteDocumentsV14"),h=(f=a,f.document?new xn(Tr.fromString(f.document.name).popFirst(5)):f.noDocument?xn.fromSegments(f.noDocument.path):f.unknownDocument?xn.fromSegments(f.unknownDocument.path):Gn()).path.toArray();var f;const _={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};r.push(u.put(_))}).next(()=>st.waitFor(r))}ni(t,e){const i=e.store("mutations"),r=pH(this.serializer),o=new ON(FF.js,this.serializer.le);return i.j().next(a=>{const u=new Map;return a.forEach(h=>{var f;let _=null!==(f=u.get(h.userId))&&void 0!==f?f:tr();n0(this.serializer,h).keys().forEach(C=>_=_.add(C)),u.set(h.userId,_)}),st.forEach(u,(h,f)=>{const _=new Pl(f),C=G.fe(this.serializer,_),F=o.getIndexManager(_),B=TF.fe(_,this.serializer,F,o.referenceDelegate);return new yH(r,B,C,F).recalculateAndSaveOverlaysForDocumentKeys(new F1(e,Lu.ct),h).next()})})}}function vH(n){n.createObjectStore("targetDocuments",{keyPath:ZL}).createIndex("documentTargetsIndex",$L,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",KL,{unique:!0}),n.createObjectStore("targetGlobal")}const LN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class NN{constructor(t,e,i,r,o,a,u,h,f,_,C=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.si=o,this.window=a,this.document=u,this.ii=f,this.ri=_,this.oi=C,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=F=>Promise.resolve(),!NN.D())throw new zt(pt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Z$(this,r),this.fi=e+"main",this.serializer=new xF(h),this.di=new fA(this.fi,this.oi,new sY(this.serializer)),this.Fs=new z$(this.referenceDelegate,this.serializer),this.remoteDocumentCache=pH(this.serializer),this.Ls=new T,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===_&&ba("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new zt(pt.FAILED_PRECONDITION,LN);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Fs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new Lu(t,this.ii)}).then(()=>{this.$s=!0}).catch(t=>(this.di&&this.di.close(),Promise.reject(t)))}pi(t){var e=this;return this.li=function(){var i=(0,bt.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.di.B(function(){var e=(0,bt.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.si.enqueueAndForget((0,bt.Z)(function*(){e.started&&(yield e.wi())})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>kF(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(t).next(e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(t)).next(e=>this.isPrimary&&!e?this.Ei(t).next(()=>!1):!!e&&this.Ai(t).next(()=>!0))).catch(t=>{if(xm(t))return Xt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Xt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.si.enqueueRetryable(()=>this.li(t)),this.isPrimary=t})}Ii(t){return tD(t).get("owner").next(e=>st.resolve(this.Ri(e)))}vi(t){return kF(t).delete(this.clientId)}Pi(){var t=this;return(0,bt.Z)(function*(){if(t.isPrimary&&!t.bi(t.hi,18e5)){t.hi=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Za(i,"clientMetadata");return r.j().next(o=>{const a=t.Vi(o,18e5),u=o.filter(h=>-1===a.indexOf(h));return st.forEach(u,h=>r.delete(h.clientId)).next(()=>u)})}).catch(()=>[]);if(t._i)for(const i of e)t._i.removeItem(t.Si(i.clientId))}})()}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ti(t){return this.ri?st.resolve(!0):tD(t).get("owner").next(e=>{if(null!==e&&this.bi(e.leaseTimestampMs,5e3)&&!this.Di(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new zt(pt.FAILED_PRECONDITION,LN);return!1}}return!(!this.networkEnabled||!this.inForeground)||kF(t).j().next(i=>void 0===this.Vi(i,5e3).find(r=>{if(this.clientId!==r.clientId){const a=!this.inForeground&&r.inForeground,u=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||a&&u)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Xt("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,bt.Z)(function*(){t.$s=!1,t.Ci(),t.ai&&(t.ai.cancel(),t.ai=null),t.xi(),t.Ni(),yield t.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new F1(e,Lu.ct);return t.Ei(i).next(()=>t.vi(i))}),t.di.close(),t.ki()})()}Vi(t,e){return t.filter(i=>this.bi(i.updateTimeMs,e)&&!this.Di(i.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",t=>kF(t).j().next(e=>this.Vi(e,18e5).map(i=>i.clientId)))}get started(){return this.$s}getMutationQueue(t,e){return TF.fe(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new G$(t,this.serializer.le.databaseId)}getDocumentOverlayCache(t){return G.fe(this.serializer,t)}getBundleCache(){return this.Ls}runTransaction(t,e,i){Xt("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(a=this.oi)?mI:14===a?B1:13===a?XL:12===a?JL:11===a?zB:void Gn();var a;let u;return this.di.runTransaction(t,r,o,h=>(u=new F1(h,this.Os?this.Os.next():Lu.ct),"readwrite-primary"===e?this.Ii(u).next(f=>!!f||this.Ti(u)).next(f=>{if(!f)throw ba(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new zt(pt.FAILED_PRECONDITION,hI);return i(u)}).next(f=>this.Ai(u).next(()=>f)):this.Oi(u).next(()=>i(u)))).then(h=>(u.raiseOnCommittedEvent(),h))}Oi(t){return tD(t).get("owner").next(e=>{if(null!==e&&this.bi(e.leaseTimestampMs,5e3)&&!this.Di(e.ownerId)&&!this.Ri(e)&&!(this.ri||this.allowTabSynchronization&&e.allowTabSynchronization))throw new zt(pt.FAILED_PRECONDITION,LN)})}Ai(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return tD(t).put("owner",e)}static D(){return fA.D()}Ei(t){const e=tD(t);return e.get("owner").next(i=>this.Ri(i)?(Xt("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):st.resolve())}bi(t,e){const i=Date.now();return!(t<i-e||t>i&&(ba(`Detected an update time that is in the future: ${t} > ${i}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ui=()=>{this.Ci();const e=/(?:Version|Mobile)\/1[456]/;(0,ae.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(t){var e;try{const i=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Si(t)));return Xt("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ba("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(t){ba("Failed to set zombie client id.",t)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function tD(n){return Za(n,"owner")}function kF(n){return Za(n,"clientMetadata")}function PN(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class UN{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.$i=i,this.Fi=r}static Bi(t,e){let i=tr(),r=tr();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new UN(t,e.fromCache,i,r)}}class wH{constructor(){this.Li=!1}initialize(t,e){this.qi=t,this.indexManager=e,this.Li=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ui(t,e).next(o=>o||this.Ki(t,e,r,i)).next(o=>o||this.Gi(t,e))}Ui(t,e){if(BI(e))return st.resolve(null);let i=Ic(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=H1(e,null,"F"),i=Ic(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const a=tr(...o);return this.qi.getDocuments(t,a).next(u=>this.indexManager.getMinOffset(t,i).next(h=>{const f=this.Qi(e,u);return this.ji(e,f,a,h.readTime)?this.Ui(t,H1(e,null,"F")):this.zi(t,f,e,h)}))})))}Ki(t,e,i,r){return BI(e)||r.isEqual(oi.min())?this.Gi(t,e):this.qi.getDocuments(t,i).next(o=>{const a=this.Qi(e,o);return this.ji(e,a,i,r)?this.Gi(t,e):(oI()<=df.in.DEBUG&&Xt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Zv(e)),this.zi(t,a,e,PB(r,-1)))})}Qi(t,e){let i=new ks(lN(t));return e.forEach((r,o)=>{ob(t,o)&&(i=i.add(o))}),i}ji(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Gi(t,e){return oI()<=df.in.DEBUG&&Xt("QueryEngine","Using full collection scan to execute query:",Zv(e)),this.qi.getDocumentsMatchingQuery(t,e,Dd.min())}zi(t,e,i,r){return this.qi.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(a=>{o=o.insert(a.key,a)}),o))}}class oY{constructor(t,e,i,r){this.persistence=t,this.Wi=e,this.serializer=r,this.Hi=new Ys(Ui),this.Ji=new jp(o=>qv(o),U1),this.Yi=new Map,this.Xi=t.getRemoteDocumentCache(),this.Fs=t.getTargetCache(),this.Ls=t.getBundleCache(),this.Zi(i)}Zi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new yH(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Hi))}}function bH(n,t,e,i){return new oY(n,t,e,i)}function CH(n,t){return QN.apply(this,arguments)}function QN(){return QN=(0,bt.Z)(function*(n,t){const e=Cn(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Zi(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const a=[],u=[];let h=tr();for(const f of r){a.push(f.batchId);for(const _ of f.mutations)h=h.add(_.key)}for(const f of o){u.push(f.batchId);for(const _ of f.mutations)h=h.add(_.key)}return e.localDocuments.getDocuments(i,h).next(f=>({tr:f,removedBatchIds:a,addedBatchIds:u}))})})}),QN.apply(this,arguments)}function aY(n,t){const e=Cn(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Xi.newChangeBuffer({trackRemovals:!0});return function(a,u,h,f){const _=h.batch,C=_.keys();let F=st.resolve();return C.forEach(B=>{F=F.next(()=>f.getEntry(u,B)).next(U=>{const H=h.docVersions.get(B);ai(null!==H),U.version.compareTo(H)<0&&(_.applyToRemoteDocument(U,h),U.isValidDocument()&&(U.setReadTime(h.commitVersion),f.addEntry(U)))})}),F.next(()=>a.mutationQueue.removeMutationBatch(u,_))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let u=tr();for(let h=0;h<a.mutationResults.length;++h)a.mutationResults[h].transformResults.length>0&&(u=u.add(a.batch.mutations[h].key));return u}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function xH(n){const t=Cn(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Fs.getLastRemoteSnapshotVersion(e))}function lY(n,t){const e=Cn(n),i=t.snapshotVersion;let r=e.Hi;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=e.Xi.newChangeBuffer({trackRemovals:!0});r=e.Hi;const u=[];t.targetChanges.forEach((_,C)=>{const F=r.get(C);if(!F)return;u.push(e.Fs.removeMatchingKeys(o,_.removedDocuments,C).next(()=>e.Fs.addMatchingKeys(o,_.addedDocuments,C)));let B=F.withSequenceNumber(o.currentSequenceNumber);var U,H,Z;null!==t.targetMismatches.get(C)?B=B.withResumeToken($a.EMPTY_BYTE_STRING,oi.min()).withLastLimboFreeSnapshotVersion(oi.min()):_.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(_.resumeToken,i)),r=r.insert(C,B),H=B,Z=_,(0===(U=F).resumeToken.approximateByteSize()||H.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8||Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0)&&u.push(e.Fs.updateTargetData(o,B))});let h=Pu(),f=tr();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(o,_))}),u.push(EH(o,a,t.documentUpdates).next(_=>{h=_.er,f=_.nr})),!i.isEqual(oi.min())){const _=e.Fs.getLastRemoteSnapshotVersion(o).next(C=>e.Fs.setTargetsMetadata(o,o.currentSequenceNumber,i));u.push(_)}return st.waitFor(u).next(()=>a.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,h,f)).next(()=>h)}).then(o=>(e.Hi=r,o))}function EH(n,t,e){let i=tr(),r=tr();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let a=Pu();return e.forEach((u,h)=>{const f=o.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(u)),h.isNoDocument()&&h.version.isEqual(oi.min())?(t.removeEntry(u,h.readTime),a=a.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||0===h.version.compareTo(f.version)&&f.hasPendingWrites?(t.addEntry(h),a=a.insert(u,h)):Xt("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{er:a,nr:r}})}function cY(n,t){const e=Cn(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function rx(n,t){const e=Cn(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Fs.getTargetData(i,t).next(o=>o?(r=o,st.resolve(r)):e.Fs.allocateTargetId(i).next(a=>(r=new km(t,a,"TargetPurposeListen",i.currentSequenceNumber),e.Fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Hi.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Hi=e.Hi.insert(i.targetId,i),e.Ji.set(t,i.targetId)),i})}function sx(n,t,e){return HN.apply(this,arguments)}function HN(){return HN=(0,bt.Z)(function*(n,t,e){const i=Cn(n),r=i.Hi.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!xm(a))throw a;Xt("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}i.Hi=i.Hi.remove(t),i.Ji.delete(r.target)}),HN.apply(this,arguments)}function RF(n,t,e){const i=Cn(n);let r=oi.min(),o=tr();return i.persistence.runTransaction("Execute query","readonly",a=>function(u,h,f){const _=Cn(u),C=_.Ji.get(f);return void 0!==C?st.resolve(_.Hi.get(C)):_.Fs.getTargetData(h,f)}(i,a,Ic(t)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Fs.getMatchingKeysForTargetId(a,u.targetId).next(h=>{o=h})}).next(()=>i.Wi.getDocumentsMatchingQuery(a,t,e?r:oi.min(),e?o:tr())).next(u=>(DH(i,aN(t),u),{documents:u,sr:o})))}function SH(n,t){const e=Cn(n),i=Cn(e.Fs),r=e.Hi.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.he(o,t).next(a=>a?a.target:null))}function IH(n,t){const e=Cn(n),i=e.Yi.get(t)||oi.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Xi.getAllFromCollectionGroup(r,t,PB(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(DH(e,t,r),r))}function DH(n,t,e){let i=n.Yi.get(t)||oi.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Yi.set(t,i)}function VN(){return VN=(0,bt.Z)(function*(n,t,e,i){const r=Cn(n);let o=tr(),a=Pu();for(const f of e){const _=t.ir(f.metadata.name);f.document&&(o=o.add(_));const C=t.rr(f);C.setReadTime(t.ur(f.metadata.readTime)),a=a.insert(_,C)}const u=r.Xi.newChangeBuffer({trackRemovals:!0}),h=yield rx(r,(f=i,Ic(cy(Tr.fromString(`__bundle__/docs/${f}`)))));var f;return r.persistence.runTransaction("Apply bundle documents","readwrite",f=>EH(f,u,a).next(_=>(u.apply(f),_)).next(_=>r.Fs.removeMatchingKeysForTargetId(f,h.targetId).next(()=>r.Fs.addMatchingKeys(f,o,h.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(f,_.er,_.nr)).next(()=>_.er)))}),VN.apply(this,arguments)}function dY(n,t){return jN.apply(this,arguments)}function jN(){return jN=(0,bt.Z)(function*(n,t,e=tr()){const i=yield rx(n,Ic(d(t.bundledQuery))),r=Cn(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const a=Ya(t.readTime);if(i.snapshotVersion.compareTo(a)>=0)return r.Ls.saveNamedQuery(o,t);const u=i.withResumeToken($a.EMPTY_BYTE_STRING,a);return r.Hi=r.Hi.insert(u.targetId,u),r.Fs.updateTargetData(o,u).next(()=>r.Fs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Fs.addMatchingKeys(o,e,i.targetId)).next(()=>r.Ls.saveNamedQuery(o,t))})}),jN.apply(this,arguments)}function TH(n,t){return`firestore_clients_${n}_${t}`}function BH(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function GN(n,t){return`firestore_targets_${n}_${t}`}class OF{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static cr(t,e,i){const r=JSON.parse(i);let o,a="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(o=new zt(r.error.code,r.error.message))),a?new OF(t,e,r.state,o):(ba("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}ar(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class nD{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static cr(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new zt(i.error.code,i.error.message))),o?new nD(t,i.state,r):(ba("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}ar(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class LF{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static cr(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=Uu();for(let a=0;r&&a<i.activeTargetIds.length;++a)r=pI(i.activeTargetIds[a]),o=o.add(i.activeTargetIds[a]);return r?new LF(t,o):(ba("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class zN{constructor(t,e){this.clientId=t,this.onlineState=e}static cr(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new zN(e.clientId,e.onlineState):(ba("SharedClientState",`Failed to parse online state: ${t}`),null)}}class qN{constructor(){this.activeTargetIds=Uu()}hr(t){this.activeTargetIds=this.activeTargetIds.add(t)}lr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ar(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class KN{constructor(t,e,i,r,o){this.window=t,this.si=e,this.persistenceKey=i,this.dr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new Ys(Ui),this.started=!1,this.gr=[];const a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.yr=TH(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new qN),this.Ir=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.Ar=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,bt.Z)(function*(){const e=yield t.syncEngine.Mi();for(const r of e){if(r===t.dr)continue;const o=t.getItem(TH(t.persistenceKey,r));if(o){const a=LF.cr(r,o);a&&(t.mr=t.mr.insert(a.clientId,a))}}t.vr();const i=t.storage.getItem(t.Ar);if(i){const r=t.Pr(i);r&&t.br(r)}for(const r of t.gr)t.wr(r);t.gr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.pr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(t){let e=!1;return this.mr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Sr(t,"pending")}updateMutationState(t,e,i){this.Sr(t,e,i),this.Dr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(GN(this.persistenceKey,t));if(i){const r=nD.cr(t,i);r&&(e=r.state)}}return this.Cr.hr(t),this.vr(),e}removeLocalQueryTarget(t){this.Cr.lr(t),this.vr()}isLocalQueryTarget(t){return this.Cr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(GN(this.persistenceKey,t))}updateQueryState(t,e,i){this.Nr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Dr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.kr(t)}notifyBundleLoaded(t){this.Mr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Xt("SharedClientState","READ",t,e),e}setItem(t,e){Xt("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Xt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}wr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Xt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.yr)return void ba("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,bt.Z)(function*(){if(e.started){if(null!==i.key)if(e.Ir.test(i.key)){if(null==i.newValue){const r=e.Or(i.key);return e.$r(r,null)}{const r=e.Fr(i.key,i.newValue);if(r)return e.$r(r.clientId,r)}}else if(e.Tr.test(i.key)){if(null!==i.newValue){const r=e.Br(i.key,i.newValue);if(r)return e.Lr(r)}}else if(e.Er.test(i.key)){if(null!==i.newValue){const r=e.qr(i.key,i.newValue);if(r)return e.Ur(r)}}else if(i.key===e.Ar){if(null!==i.newValue){const r=e.Pr(i.newValue);if(r)return e.br(r)}}else if(i.key===e.pr){const r=function(o){let a=Lu.ct;if(null!=o)try{const u=JSON.parse(o);ai("number"==typeof u),a=u}catch(u){ba("SharedClientState","Failed to read sequence number from WebStorage",u)}return a}(i.newValue);r!==Lu.ct&&e.sequenceNumberHandler(r)}else if(i.key===e.Rr){const r=e.Kr(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Gr(o)))}}else e.gr.push(i)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(t,e,i){const r=new OF(this.currentUser,t,e,i),o=BH(this.persistenceKey,this.currentUser,t);this.setItem(o,r.ar())}Dr(t){const e=BH(this.persistenceKey,this.currentUser,t);this.removeItem(e)}kr(t){this.storage.setItem(this.Ar,JSON.stringify({clientId:this.dr,onlineState:t}))}Nr(t,e,i){const r=GN(this.persistenceKey,t),o=new nD(t,e,i);this.setItem(r,o.ar())}Mr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Ir.exec(t);return e?e[1]:null}Fr(t,e){const i=this.Or(t);return LF.cr(i,e)}Br(t,e){const i=this.Tr.exec(t),r=Number(i[1]);return OF.cr(new Pl(void 0!==i[2]?i[2]:null),r,e)}qr(t,e){const i=this.Er.exec(t),r=Number(i[1]);return nD.cr(r,e)}Pr(t){return zN.cr(t)}Kr(t){return JSON.parse(t)}Lr(t){var e=this;return(0,bt.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Qr(t.batchId,t.state,t.error);Xt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Ur(t){return this.syncEngine.jr(t.targetId,t.state,t.error)}$r(t,e){const i=e?this.mr.insert(t,e):this.mr.remove(t),r=this.Vr(this.mr),o=this.Vr(i),a=[],u=[];return o.forEach(h=>{r.has(h)||a.push(h)}),r.forEach(h=>{o.has(h)||u.push(h)}),this.syncEngine.zr(a,u).then(()=>{this.mr=i})}br(t){this.mr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Vr(t){let e=Uu();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class FH{constructor(){this.Wr=new qN,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Wr.hr(t),this.Hr[t]||"not-current"}updateQueryState(t,e,i){this.Hr[t]=e}removeLocalQueryTarget(t){this.Wr.lr(t)}isLocalQueryTarget(t){return this.Wr.activeTargetIds.has(t)}clearQueryState(t){delete this.Hr[t]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(t){return this.Wr.activeTargetIds.has(t)}start(){return this.Wr=new qN,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class hY{Jr(t){}shutdown(){}}class MH{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(t){this.no.push(t)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){Xt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.no)t(0)}eo(){Xt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.no)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let NF=null;function ZN(){return null===NF?NF=268435456+Math.round(2147483648*Math.random()):NF++,"0x"+NF.toString(16)}const AY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fY{constructor(t){this.io=t.io,this.ro=t.ro}oo(t){this.uo=t}co(t){this.ao=t}onMessage(t){this.ho=t}close(){this.ro()}send(t){this.io(t)}lo(){this.uo()}fo(t){this.ao(t)}_o(t){this.ho(t)}}const Hu="WebChannelConnection";class pY extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.wo=(t.ssl?"https":"http")+"://"+t.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(t,e,i,r,o){const a=ZN(),u=this.Io(t,e);Xt("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);const h={};return this.To(h,r,o),this.Eo(t,u,h,i).then(f=>(Xt("RestConnection",`Received RPC '${t}' ${a}: `,f),f),f=>{throw hh("RestConnection",`RPC '${t}' ${a} failed with error: `,f,"url: ",u,"request:",i),f})}Ao(t,e,i,r,o,a){return this.po(t,e,i,r,o)}To(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Uv,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}Io(t,e){return`${this.wo}/v1/${e}:${AY[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}Eo(t,e,i,r){const o=ZN();return new Promise((a,u)=>{const h=new NL;h.setWithCredentials(!0),h.listenOnce(RL.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case sI.NO_ERROR:const _=h.getResponseJson();Xt(Hu,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(_)),a(_);break;case sI.TIMEOUT:Xt(Hu,`RPC '${t}' ${o} timed out`),u(new zt(pt.DEADLINE_EXCEEDED,"Request time out"));break;case sI.HTTP_ERROR:const C=h.getStatus();if(Xt(Hu,`RPC '${t}' ${o} failed with status:`,C,"response text:",h.getResponseText()),C>0){let F=h.getResponseJson();Array.isArray(F)&&(F=F[0]);const B=F?.error;if(B&&B.status&&B.message){const U=function(H){const Z=H.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(Z)>=0?Z:pt.UNKNOWN}(B.status);u(new zt(U,B.message))}else u(new zt(pt.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new zt(pt.UNAVAILABLE,"Connection failed."));break;default:Gn()}}finally{Xt(Hu,`RPC '${t}' ${o} completed.`)}});const f=JSON.stringify(r);Xt(Hu,`RPC '${t}' ${o} sending request:`,r),h.send(e,"POST",f,i,15)})}Ro(t,e,i){const r=ZN(),o=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=IB(),u=DB(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new LL({})),this.To(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const f=o.join("");Xt(Hu,`Creating RPC '${t}' stream ${r}: ${f}`,h);const _=a.createWebChannel(f,h);let C=!1,F=!1;const B=new fY({io:H=>{F?Xt(Hu,`Not sending because RPC '${t}' stream ${r} is closed:`,H):(C||(Xt(Hu,`Opening RPC '${t}' stream ${r} transport.`),_.open(),C=!0),Xt(Hu,`RPC '${t}' stream ${r} sending:`,H),_.send(H))},ro:()=>_.close()}),U=(H,Z,q)=>{H.listen(Z,W=>{try{q(W)}catch(he){setTimeout(()=>{throw he},0)}})};return U(_,qw.EventType.OPEN,()=>{F||Xt(Hu,`RPC '${t}' stream ${r} transport opened.`)}),U(_,qw.EventType.CLOSE,()=>{F||(F=!0,Xt(Hu,`RPC '${t}' stream ${r} transport closed`),B.fo())}),U(_,qw.EventType.ERROR,H=>{F||(F=!0,hh(Hu,`RPC '${t}' stream ${r} transport errored:`,H),B.fo(new zt(pt.UNAVAILABLE,"The operation could not be completed")))}),U(_,qw.EventType.MESSAGE,H=>{var Z;if(!F){const q=H.data[0];ai(!!q);const W=q,he=W.error||(null===(Z=W[0])||void 0===Z?void 0:Z.error);if(he){Xt(Hu,`RPC '${t}' stream ${r} received error:`,he);const xe=he.status;let Ze=function(Ve){const we=xa[Ve];if(void 0!==we)return AF(we)}(xe),ct=he.message;void 0===Ze&&(Ze=pt.INTERNAL,ct="Unknown error status: "+xe+" with message "+he.message),F=!0,B.fo(new zt(Ze,ct)),_.close()}else Xt(Hu,`RPC '${t}' stream ${r} received:`,q),B._o(q)}}),U(u,OL.STAT_EVENT,H=>{H.stat===m1.PROXY?Xt(Hu,`RPC '${t}' stream ${r} detected buffering proxy`):H.stat===m1.NOPROXY&&Xt(Hu,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{B.lo()},0),B}}function kH(){return typeof window<"u"?window:null}function PF(){return typeof document<"u"?document:null}function iD(n){return new _N(n,!0)}class $N{constructor(t,e,i=1e3,r=1.5,o=6e4){this.si=t,this.timerId=e,this.vo=i,this.Po=r,this.bo=o,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(t){this.cancel();const e=Math.floor(this.Vo+this.No()),i=Math.max(0,Date.now()-this.Do),r=Math.max(0,e-i);r>0&&Xt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Vo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Do=Date.now(),t())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class RH{constructor(t,e,i,r,o,a,u,h){this.si=t,this.Mo=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new $N(t,e)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var t=this;return(0,bt.Z)(function*(){t.qo()&&(yield t.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(t){this.Wo(),this.stream.send(t)}jo(){var t=this;return(0,bt.Z)(function*(){if(t.Uo())return t.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(t,e){var i=this;return(0,bt.Z)(function*(){i.Wo(),i.Ho(),i.Lo.cancel(),i.$o++,4!==t?i.Lo.reset():e&&e.code===pt.RESOURCE_EXHAUSTED?(ba(e.toString()),ba("Using maximum backoff delay to prevent overloading the backend."),i.Lo.Co()):e&&e.code===pt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Jo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.co(e)})()}Jo(){}auth(){this.state=1;const t=this.Yo(this.$o),e=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.$o===e&&this.Xo(i,r)},i=>{t(()=>{const r=new zt(pt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Zo(r)})})}Xo(t,e){const i=this.Yo(this.$o);this.stream=this.tu(t,e),this.stream.oo(()=>{i(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(r=>{i(()=>this.Zo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Ko(){var t=this;this.state=5,this.Lo.xo((0,bt.Z)(function*(){t.state=0,t.start()}))}Zo(t){return Xt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Yo(t){return e=>{this.si.enqueueAndForget(()=>this.$o===t?e():(Xt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gY extends RH{constructor(t,e,i,r,o,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,a),this.serializer=o}tu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.Lo.reset();const e=function wN(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(h=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===h?1:"REMOVE"===h?2:"CURRENT"===h?3:"RESET"===h?4:Gn(),r=t.targetChange.targetIds||[],o=function(h,f){return h.useProto3Json?(ai(void 0===f||"string"==typeof f),$a.fromBase64String(f||"")):(ai(void 0===f||f instanceof Uint8Array),$a.fromUint8Array(f||new Uint8Array))}(n,t.targetChange.resumeToken),a=t.targetChange.cause,u=a&&function(h){const f=void 0===h.code?pt.UNKNOWN:AF(h.code);return new zt(f,h.message||"")}(a);e=new cb(i,r,o,u||null)}else if("documentChange"in t){const i=t.documentChange,r=_f(n,i.document.name),o=Ya(i.document.updateTime),a=i.document.createTime?Ya(i.document.createTime):oi.min(),u=new Hl({mapValue:{fields:i.document.fields}}),h=So.newFoundDocument(r,o,a,u);e=new VI(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=_f(n,i.document),o=i.readTime?Ya(i.readTime):oi.min(),a=So.newNoDocument(r,o);e=new VI([],i.removedTargetIds||[],a.key,a)}else if("documentRemove"in t){const i=t.documentRemove,r=_f(n,i.document);e=new VI([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return Gn();{const i=t.filter,{count:r=0,unchangedNames:o}=i,a=new J1(r,o);e=new _F(i.targetId,a)}}var h;return e}(this.serializer,t),i=function(r){if(!("targetChange"in r))return oi.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?oi.min():o.readTime?Ya(o.readTime):oi.min()}(t);return this.listener.eu(e,i)}nu(t){const e={};e.database=hb(this.serializer),e.addTarget=function(r,o){let a;const u=o.target;if(a=DI(u)?{documents:YI(r,u)}:{query:fb(r,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=db(r,o.resumeToken);const h=ub(r,o.expectedCount);null!==h&&(a.expectedCount=h)}else if(o.snapshotVersion.compareTo(oi.min())>0){a.readTime=Fm(r,o.snapshotVersion.toTimestamp());const h=ub(r,o.expectedCount);null!==h&&(a.expectedCount=h)}return a}(this.serializer,t);const i=function bN(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Gn()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.zo(e)}su(t){const e={};e.database=hb(this.serializer),e.removeTarget=t,this.zo(e)}}class mY extends RH{constructor(t,e,i,r,o,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,a),this.serializer=o,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(ai(!!t.streamToken),this.lastStreamToken=t.streamToken,this.iu){this.Lo.reset();const e=function WQ(n,t){return n&&n.length>0?(ai(void 0!==t),n.map(e=>function(i,r){let o=Ya(i.updateTime?i.updateTime:r);return o.isEqual(oi.min())&&(o=Ya(r)),new zp(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Ya(t.commitTime);return this.listener.uu(i,e)}return ai(!t.writeResults||0===t.writeResults.length),this.iu=!0,this.listener.cu()}au(){const t={};t.database=hb(this.serializer),this.zo(t)}ou(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Xv(this.serializer,i))};this.zo(e)}}class _Y extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.hu=!1}lu(){if(this.hu)throw new zt(pt.FAILED_PRECONDITION,"The client has already been terminated.")}po(t,e,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.po(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new zt(pt.UNKNOWN,r.toString())})}Ao(t,e,i,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ao(t,e,i,o,a,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new zt(pt.UNKNOWN,o.toString())})}terminate(){this.hu=!0}}class vY{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(t){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.gu("Offline")))}set(t){this.Iu(),this.du=0,"Online"===t&&(this.wu=!1),this.gu(t)}gu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}yu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(ba(e),this.wu=!1):Xt("OnlineStateTracker",e)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class wY{constructor(t,e,i,r,o){var a=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=o,this.vu.Jr(u=>{i.enqueueAndForget((0,bt.Z)(function*(){var h;o0(a)&&(Xt("RemoteStore","Restarting streams for network reachability change."),yield(h=(0,bt.Z)(function*(f){const _=Cn(f);_.Au.add(4),yield ox(_),_.Pu.set("Unknown"),_.Au.delete(4),yield rD(_)}),function(f){return h.apply(this,arguments)})(a))}))}),this.Pu=new vY(i,r)}}function rD(n){return WN.apply(this,arguments)}function WN(){return WN=(0,bt.Z)(function*(n){if(o0(n))for(const t of n.Ru)yield t(!0)}),WN.apply(this,arguments)}function ox(n){return JN.apply(this,arguments)}function JN(){return JN=(0,bt.Z)(function*(n){for(const t of n.Ru)yield t(!1)}),JN.apply(this,arguments)}function UF(n,t){const e=Cn(n);e.Eu.has(t.targetId)||(e.Eu.set(t.targetId,t),tP(e)?eP(e):lx(e).Uo()&&XN(e,t))}function sD(n,t){const e=Cn(n),i=lx(e);e.Eu.delete(t),i.Uo()&&OH(e,t),0===e.Eu.size&&(i.Uo()?i.Qo():o0(e)&&e.Pu.set("Unknown"))}function XN(n,t){if(n.bu.Lt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(oi.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}lx(n).nu(t)}function OH(n,t){n.bu.Lt(t),lx(n).su(t)}function eP(n){n.bu=new mN({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),he:t=>n.Eu.get(t)||null,oe:()=>n.datastore.serializer.databaseId}),lx(n).start(),n.Pu.mu()}function tP(n){return o0(n)&&!lx(n).qo()&&n.Eu.size>0}function o0(n){return 0===Cn(n).Au.size}function LH(n){n.bu=void 0}function bY(n){return nP.apply(this,arguments)}function nP(){return nP=(0,bt.Z)(function*(n){n.Eu.forEach((t,e)=>{XN(n,t)})}),nP.apply(this,arguments)}function CY(n,t){return iP.apply(this,arguments)}function iP(){return iP=(0,bt.Z)(function*(n,t){LH(n),tP(n)?(n.Pu.pu(t),eP(n)):n.Pu.set("Unknown")}),iP.apply(this,arguments)}function xY(n,t,e){return rP.apply(this,arguments)}function rP(){return rP=(0,bt.Z)(function*(n,t,e){if(n.Pu.set("Online"),t instanceof cb&&2===t.state&&t.cause)try{yield(i=(0,bt.Z)(function*(r,o){const a=o.cause;for(const u of o.targetIds)r.Eu.has(u)&&(yield r.remoteSyncer.rejectListen(u,a),r.Eu.delete(u),r.bu.removeTarget(u))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){Xt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield QF(n,i)}else if(t instanceof VI?n.bu.Wt(t):t instanceof _F?n.bu.ee(t):n.bu.Yt(t),!e.isEqual(oi.min()))try{const i=yield xH(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const a=r.bu.ue(o);return a.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=r.Eu.get(h);f&&r.Eu.set(h,f.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,h)=>{const f=r.Eu.get(u);if(!f)return;r.Eu.set(u,f.withResumeToken($a.EMPTY_BYTE_STRING,f.snapshotVersion)),OH(r,u);const _=new km(f.target,u,h,f.sequenceNumber);XN(r,_)}),r.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){Xt("RemoteStore","Failed to raise snapshot:",i),yield QF(n,i)}var i}),rP.apply(this,arguments)}function QF(n,t,e){return sP.apply(this,arguments)}function sP(){return sP=(0,bt.Z)(function*(n,t,e){if(!xm(t))throw t;n.Au.add(1),yield ox(n),n.Pu.set("Offline"),e||(e=()=>xH(n.localStore)),n.asyncQueue.enqueueRetryable((0,bt.Z)(function*(){Xt("RemoteStore","Retrying IndexedDB access"),yield e(),n.Au.delete(1),yield rD(n)}))}),sP.apply(this,arguments)}function NH(n,t){return t().catch(e=>QF(n,e,t))}function ax(n){return oP.apply(this,arguments)}function oP(){return oP=(0,bt.Z)(function*(n){const t=Cn(n),e=a0(t);let i=t.Tu.length>0?t.Tu[t.Tu.length-1].batchId:-1;for(;EY(t);)try{const r=yield cY(t.localStore,i);if(null===r){0===t.Tu.length&&e.Qo();break}i=r.batchId,SY(t,r)}catch(r){yield QF(t,r)}PH(t)&&UH(t)}),oP.apply(this,arguments)}function EY(n){return o0(n)&&n.Tu.length<10}function SY(n,t){n.Tu.push(t);const e=a0(n);e.Uo()&&e.ru&&e.ou(t.mutations)}function PH(n){return o0(n)&&!a0(n).qo()&&n.Tu.length>0}function UH(n){a0(n).start()}function IY(n){return aP.apply(this,arguments)}function aP(){return aP=(0,bt.Z)(function*(n){a0(n).au()}),aP.apply(this,arguments)}function DY(n){return lP.apply(this,arguments)}function lP(){return lP=(0,bt.Z)(function*(n){const t=a0(n);for(const e of n.Tu)t.ou(e.mutations)}),lP.apply(this,arguments)}function TY(n,t,e){return cP.apply(this,arguments)}function cP(){return cP=(0,bt.Z)(function*(n,t,e){const i=n.Tu.shift(),r=$1.from(i,t,e);yield NH(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield ax(n)}),cP.apply(this,arguments)}function BY(n,t){return uP.apply(this,arguments)}function uP(){return uP=(0,bt.Z)(function*(n,t){var e;t&&a0(n).ru&&(yield(e=(0,bt.Z)(function*(i,r){if(hF(o=r.code)&&o!==pt.ABORTED){const a=i.Tu.shift();a0(i).Go(),yield NH(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),yield ax(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),PH(n)&&UH(n)}),uP.apply(this,arguments)}function QH(n,t){return dP.apply(this,arguments)}function dP(){return dP=(0,bt.Z)(function*(n,t){const e=Cn(n);e.asyncQueue.verifyOperationInProgress(),Xt("RemoteStore","RemoteStore received new credentials");const i=o0(e);e.Au.add(3),yield ox(e),i&&e.Pu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.Au.delete(3),yield rD(e)}),dP.apply(this,arguments)}function hP(n,t){return AP.apply(this,arguments)}function AP(){return AP=(0,bt.Z)(function*(n,t){const e=Cn(n);t?(e.Au.delete(2),yield rD(e)):t||(e.Au.add(2),yield ox(e),e.Pu.set("Unknown"))}),AP.apply(this,arguments)}function lx(n){return n.Vu||(n.Vu=function(t,e,i){const r=Cn(t);return r.lu(),new gY(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{oo:bY.bind(null,n),co:CY.bind(null,n),eu:xY.bind(null,n)}),n.Ru.push(function(){var t=(0,bt.Z)(function*(e){e?(n.Vu.Go(),tP(n)?eP(n):n.Pu.set("Unknown")):(yield n.Vu.stop(),LH(n))});return function(e){return t.apply(this,arguments)}}())),n.Vu}function a0(n){return n.Su||(n.Su=function(t,e,i){const r=Cn(t);return r.lu(),new mY(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{oo:IY.bind(null,n),co:BY.bind(null,n),cu:DY.bind(null,n),uu:TY.bind(null,n)}),n.Ru.push(function(){var t=(0,bt.Z)(function*(e){e?(n.Su.Go(),yield ax(n)):(yield n.Su.stop(),n.Tu.length>0&&(Xt("RemoteStore",`Stopping write stream with ${n.Tu.length} pending writes`),n.Tu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Su}class fP{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(t,e,i,r,o){const a=Date.now()+i,u=new fP(t,e,a,r,o);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new zt(pt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cx(n,t){if(ba("AsyncQueue",`${t}: ${n}`),xm(n))return new zt(pt.UNAVAILABLE,`${t}: ${n}`);throw n}class ux{constructor(t){this.comparator=t?(e,i)=>t(e,i)||xn.comparator(e.key,i.key):(e,i)=>xn.comparator(e.key,i.key),this.keyedMap=ab(),this.sortedSet=new Ys(this.comparator)}static emptySet(t){return new ux(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof ux)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new ux;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class HH{constructor(){this.Du=new Ys(xn.comparator)}track(t){const e=t.doc.key,i=this.Du.get(e);i?0!==t.type&&3===i.type?this.Du=this.Du.insert(e,t):3===t.type&&1!==i.type?this.Du=this.Du.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Du=this.Du.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Du=this.Du.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Du=this.Du.remove(e):1===t.type&&2===i.type?this.Du=this.Du.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Du=this.Du.insert(e,{type:2,doc:t.doc}):Gn():this.Du=this.Du.insert(e,t)}Cu(){const t=[];return this.Du.inorderTraversal((e,i)=>{t.push(i)}),t}}class dx{constructor(t,e,i,r,o,a,u,h,f){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(t,e,i,r,o){const a=[];return e.forEach(u=>{a.push({type:0,doc:u})}),new dx(t,e,ux.emptySet(e),a,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sb(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class FY{constructor(){this.xu=void 0,this.listeners=[]}}class MY{constructor(){this.queries=new jp(t=>oF(t),sb),this.onlineState="Unknown",this.Nu=new Set}}function pP(n,t){return gP.apply(this,arguments)}function gP(){return gP=(0,bt.Z)(function*(n,t){const e=Cn(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new FY),r)try{o.xu=yield e.onListen(i)}catch(a){const u=cx(a,`Initialization of query '${Zv(t.query)}' failed`);return void t.onError(u)}e.queries.set(i,o),o.listeners.push(t),t.ku(e.onlineState),o.xu&&t.Mu(o.xu)&&yP(e)}),gP.apply(this,arguments)}function mP(n,t){return _P.apply(this,arguments)}function _P(){return _P=(0,bt.Z)(function*(n,t){const e=Cn(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const a=o.listeners.indexOf(t);a>=0&&(o.listeners.splice(a,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),_P.apply(this,arguments)}function kY(n,t){const e=Cn(n);let i=!1;for(const r of t){const a=e.queries.get(r.query);if(a){for(const u of a.listeners)u.Mu(r)&&(i=!0);a.xu=r}}i&&yP(e)}function RY(n,t,e){const i=Cn(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function yP(n){n.Nu.forEach(t=>{t.next()})}class vP{constructor(t,e,i){this.query=t,this.Ou=e,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=i||{}}Mu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new dx(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.$u?this.Bu(t)&&(this.Ou.next(t),e=!0):this.Lu(t,this.onlineState)&&(this.qu(t),e=!0),this.Fu=t,e}onError(t){this.Ou.error(t)}ku(t){this.onlineState=t;let e=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,t)&&(this.qu(this.Fu),e=!0),e}Lu(t,e){return!t.fromCache||(!this.options.Uu||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Bu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(t){t=dx.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.$u=!0,this.Ou.next(t)}}class OY{constructor(t,e){this.Ku=t,this.byteLength=e}Gu(){return"metadata"in this.Ku}}class VH{constructor(t){this.serializer=t}ir(t){return _f(this.serializer,t)}rr(t){return t.metadata.exists?$I(this.serializer,t.document,!1):So.newNoDocument(this.ir(t.metadata.name),this.ur(t.metadata.readTime))}ur(t){return Ya(t)}}class LY{constructor(t,e,i){this.Qu=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=jH(t)}ju(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Ku.namedQuery)this.queries.push(t.Ku.namedQuery);else if(t.Ku.documentMetadata){this.documents.push({metadata:t.Ku.documentMetadata}),t.Ku.documentMetadata.exists||++e;const i=Tr.fromString(t.Ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Ku.document&&(this.documents[this.documents.length-1].document=t.Ku.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}zu(t){const e=new Map,i=new VH(this.serializer);for(const r of t)if(r.metadata.queries){const o=i.ir(r.metadata.name);for(const a of r.metadata.queries){const u=(e.get(a)||tr()).add(o);e.set(a,u)}}return e}complete(){var t=this;return(0,bt.Z)(function*(){const e=yield function uY(n,t,e,i){return VN.apply(this,arguments)}(t.localStore,new VH(t.serializer),t.documents,t.Qu.id),i=t.zu(t.documents);for(const r of t.queries)yield dY(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Wu:t.collectionGroups,Hu:e}})()}}function jH(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class GH{constructor(t){this.key=t}}class zH{constructor(t){this.key=t}}class qH{constructor(t,e){this.query=t,this.Ju=e,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=tr(),this.mutatedKeys=tr(),this.Zu=lN(t),this.tc=new ux(this.Zu)}get ec(){return this.Ju}nc(t,e){const i=e?e.sc:new HH,r=e?e.tc:this.tc;let o=e?e.mutatedKeys:this.mutatedKeys,a=r,u=!1;const h="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,f="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((_,C)=>{const F=r.get(_),B=ob(this.query,C)?C:null,U=!!F&&this.mutatedKeys.has(F.key),H=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Z=!1;F&&B?F.data.isEqual(B.data)?U!==H&&(i.track({type:3,doc:B}),Z=!0):this.ic(F,B)||(i.track({type:2,doc:B}),Z=!0,(h&&this.Zu(B,h)>0||f&&this.Zu(B,f)<0)&&(u=!0)):!F&&B?(i.track({type:0,doc:B}),Z=!0):F&&!B&&(i.track({type:1,doc:F}),Z=!0,(h||f)&&(u=!0)),Z&&(B?(a=a.add(B),o=H?o.add(_):o.delete(_)):(a=a.delete(_),o=o.delete(_)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const _="F"===this.query.limitType?a.last():a.first();a=a.delete(_.key),o=o.delete(_.key),i.track({type:1,doc:_})}return{tc:a,sc:i,ji:u,mutatedKeys:o}}ic(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.tc;this.tc=t.tc,this.mutatedKeys=t.mutatedKeys;const o=t.sc.Cu();o.sort((f,_)=>function(C,F){const B=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Gn()}};return B(C)-B(F)}(f.type,_.type)||this.Zu(f.doc,_.doc)),this.rc(i);const a=e?this.oc():[],u=0===this.Xu.size&&this.current?1:0,h=u!==this.Yu;return this.Yu=u,0!==o.length||h?{snapshot:new dx(this.query,t.tc,r,o,t.mutatedKeys,0===u,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),uc:a}:{uc:a}}ku(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({tc:this.tc,sc:new HH,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(t){return!this.Ju.has(t)&&!!this.tc.has(t)&&!this.tc.get(t).hasLocalMutations}rc(t){t&&(t.addedDocuments.forEach(e=>this.Ju=this.Ju.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ju=this.Ju.delete(e)),this.current=t.current)}oc(){if(!this.current)return[];const t=this.Xu;this.Xu=tr(),this.tc.forEach(i=>{this.cc(i.key)&&(this.Xu=this.Xu.add(i.key))});const e=[];return t.forEach(i=>{this.Xu.has(i)||e.push(new zH(i))}),this.Xu.forEach(i=>{t.has(i)||e.push(new GH(i))}),e}ac(t){this.Ju=t.sr,this.Xu=tr();const e=this.nc(t.documents);return this.applyChanges(e,!0)}hc(){return dx.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class NY{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class PY{constructor(t){this.key=t,this.lc=!1}}class UY{constructor(t,e,i,r,o,a){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.fc={},this.dc=new jp(u=>oF(u),sb),this._c=new Map,this.wc=new Set,this.mc=new Ys(xn.comparator),this.gc=new Map,this.yc=new RN,this.Ic={},this.Tc=new Map,this.Ec=gb.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function QY(n,t){return wP.apply(this,arguments)}function wP(){return wP=(0,bt.Z)(function*(n,t){const e=GP(n);let i,r;const o=e.dc.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.hc();else{const a=yield rx(e.localStore,Ic(t)),u=e.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=yield bP(e,t,i,"current"===u,a.resumeToken),e.isPrimaryClient&&UF(e.remoteStore,a)}return r}),wP.apply(this,arguments)}function bP(n,t,e,i,r){return CP.apply(this,arguments)}function CP(){return CP=(0,bt.Z)(function*(n,t,e,i,r){n.Rc=(C,F,B)=>{return(U=(0,bt.Z)(function*(H,Z,q,W){let he=Z.view.nc(q);he.ji&&(he=yield RF(H.localStore,Z.query,!1).then(({documents:ct})=>Z.view.nc(ct,he)));const xe=W&&W.targetChanges.get(Z.targetId),Ze=Z.view.applyChanges(he,H.isPrimaryClient,xe);return kP(H,Z.targetId,Ze.uc),Ze.snapshot}),function(H,Z,q,W){return U.apply(this,arguments)})(n,C,F,B);var U};const o=yield RF(n.localStore,t,!0),a=new qH(t,o.sr),u=a.nc(o.documents),h=tx.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),f=a.applyChanges(u,n.isPrimaryClient,h);kP(n,e,f.uc);const _=new NY(t,e,a);return n.dc.set(t,_),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),f.snapshot}),CP.apply(this,arguments)}function HY(n,t){return xP.apply(this,arguments)}function xP(){return xP=(0,bt.Z)(function*(n,t){const e=Cn(n),i=e.dc.get(t),r=e._c.get(i.targetId);if(r.length>1)return e._c.set(i.targetId,r.filter(o=>!sb(o,t))),void e.dc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield sx(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),sD(e.remoteStore,i.targetId),hx(e,i.targetId)}).catch(Cm))):(hx(e,i.targetId),yield sx(e.localStore,i.targetId,!0))}),xP.apply(this,arguments)}function EP(){return EP=(0,bt.Z)(function*(n,t,e){const i=zP(n);try{const r=yield function(o,a){const u=Cn(o),h=lo.now(),f=a.reduce((F,B)=>F.add(B.key),tr());let _,C;return u.persistence.runTransaction("Locally write mutations","readwrite",F=>{let B=Pu(),U=tr();return u.Xi.getEntries(F,f).next(H=>{B=H,B.forEach((Z,q)=>{q.isValidDocument()||(U=U.add(Z))})}).next(()=>u.localDocuments.getOverlayedDocuments(F,B)).next(H=>{_=H;const Z=[];for(const q of a){const W=dF(q,_.get(q.key).overlayedDocument);null!=W&&Z.push(new qp(q.key,W,L1(W.value.mapValue),Io.exists(!0)))}return u.mutationQueue.addMutationBatch(F,h,Z,a)}).next(H=>{C=H;const Z=H.applyToLocalDocumentSet(_,U);return u.documentOverlayCache.saveOverlays(F,H.batchId,Z)})}).then(()=>({batchId:C.batchId,changes:FI(_)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,u){let h=o.Ic[o.currentUser.toKey()];h||(h=new Ys(Ui)),h=h.insert(a,u),o.Ic[o.currentUser.toKey()]=h}(i,r.batchId,e),yield fy(i,r.changes),yield ax(i.remoteStore)}catch(r){const o=cx(r,"Failed to persist write");e.reject(o)}}),EP.apply(this,arguments)}function KH(n,t){return SP.apply(this,arguments)}function SP(){return SP=(0,bt.Z)(function*(n,t){const e=Cn(n);try{const i=yield lY(e.localStore,t);t.targetChanges.forEach((r,o)=>{const a=e.gc.get(o);a&&(ai(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.lc=!0:r.modifiedDocuments.size>0?ai(a.lc):r.removedDocuments.size>0&&(ai(a.lc),a.lc=!1))}),yield fy(e,i,t)}catch(i){yield Cm(i)}}),SP.apply(this,arguments)}function ZH(n,t,e){const i=Cn(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.dc.forEach((o,a)=>{const u=a.view.ku(t);u.snapshot&&r.push(u.snapshot)}),function(o,a){const u=Cn(o);u.onlineState=a;let h=!1;u.queries.forEach((f,_)=>{for(const C of _.listeners)C.ku(a)&&(h=!0)}),h&&yP(u)}(i.eventManager,t),r.length&&i.fc.eu(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function jY(n,t,e){return IP.apply(this,arguments)}function IP(){return IP=(0,bt.Z)(function*(n,t,e){const i=Cn(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.gc.get(t),o=r&&r.key;if(o){let a=new Ys(xn.comparator);a=a.insert(o,So.newNoDocument(o,oi.min()));const u=tr().add(o),h=new ex(oi.min(),new Map,new Ys(Ui),a,u);yield KH(i,h),i.mc=i.mc.remove(o),i.gc.delete(t),RP(i)}else yield sx(i.localStore,t,!1).then(()=>hx(i,t,e)).catch(Cm)}),IP.apply(this,arguments)}function GY(n,t){return DP.apply(this,arguments)}function DP(){return DP=(0,bt.Z)(function*(n,t){const e=Cn(n),i=t.batch.batchId;try{const r=yield aY(e.localStore,t);MP(e,i,null),FP(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield fy(e,r)}catch(r){yield Cm(r)}}),DP.apply(this,arguments)}function zY(n,t,e){return TP.apply(this,arguments)}function TP(){return TP=(0,bt.Z)(function*(n,t,e){const i=Cn(n);try{const r=yield function(o,a){const u=Cn(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return u.mutationQueue.lookupMutationBatch(h,a).next(_=>(ai(null!==_),f=_.keys(),u.mutationQueue.removeMutationBatch(h,_))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>u.localDocuments.getDocuments(h,f))})}(i.localStore,t);MP(i,t,e),FP(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield fy(i,r)}catch(r){yield Cm(r)}}),TP.apply(this,arguments)}function BP(){return BP=(0,bt.Z)(function*(n,t){const e=Cn(n);o0(e.remoteStore)||Xt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const a=Cn(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.mutationQueue.getHighestUnacknowledgedBatchId(u))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Tc.get(i)||[];r.push(t),e.Tc.set(i,r)}catch(i){const r=cx(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),BP.apply(this,arguments)}function FP(n,t){(n.Tc.get(t)||[]).forEach(e=>{e.resolve()}),n.Tc.delete(t)}function MP(n,t,e){const i=Cn(n);let r=i.Ic[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Ic[i.currentUser.toKey()]=r}}function hx(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n._c.get(t))n.dc.delete(i),e&&n.fc.vc(i,e);n._c.delete(t),n.isPrimaryClient&&n.yc.ps(t).forEach(i=>{n.yc.containsKey(i)||$H(n,i)})}function $H(n,t){n.wc.delete(t.path.canonicalString());const e=n.mc.get(t);null!==e&&(sD(n.remoteStore,e),n.mc=n.mc.remove(t),n.gc.delete(e),RP(n))}function kP(n,t,e){for(const i of e)i instanceof GH?(n.yc.addReference(i.key,t),KY(n,i)):i instanceof zH?(Xt("SyncEngine","Document no longer in limbo: "+i.key),n.yc.removeReference(i.key,t),n.yc.containsKey(i.key)||$H(n,i.key)):Gn()}function KY(n,t){const e=t.key,i=e.path.canonicalString();n.mc.get(e)||n.wc.has(i)||(Xt("SyncEngine","New document in limbo: "+e),n.wc.add(i),RP(n))}function RP(n){for(;n.wc.size>0&&n.mc.size<n.maxConcurrentLimboResolutions;){const t=n.wc.values().next().value;n.wc.delete(t);const e=new xn(Tr.fromString(t)),i=n.Ec.next();n.gc.set(i,new PY(e)),n.mc=n.mc.insert(e,i),UF(n.remoteStore,new km(Ic(cy(e.path)),i,"TargetPurposeLimboResolution",Lu.ct))}}function fy(n,t,e){return OP.apply(this,arguments)}function OP(){return OP=(0,bt.Z)(function*(n,t,e){const i=Cn(n),r=[],o=[],a=[];var u;i.dc.isEmpty()||(i.dc.forEach((u,h)=>{a.push(i.Rc(h,t,e).then(f=>{if((f||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(h.targetId,f?.fromCache?"not-current":"current"),f){r.push(f);const _=UN.Bi(h.targetId,f);o.push(_)}}))}),yield Promise.all(a),i.fc.eu(r),yield(u=(0,bt.Z)(function*(h,f){const _=Cn(h);try{yield _.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>st.forEach(f,F=>st.forEach(F.$i,B=>_.persistence.referenceDelegate.addReference(C,F.targetId,B)).next(()=>st.forEach(F.Fi,B=>_.persistence.referenceDelegate.removeReference(C,F.targetId,B)))))}catch(C){if(!xm(C))throw C;Xt("LocalStore","Failed to update sequence numbers: "+C)}for(const C of f){const F=C.targetId;if(!C.fromCache){const B=_.Hi.get(F),H=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);_.Hi=_.Hi.insert(F,H)}}}),function(h,f){return u.apply(this,arguments)})(i.localStore,o))}),OP.apply(this,arguments)}function ZY(n,t){return LP.apply(this,arguments)}function LP(){return LP=(0,bt.Z)(function*(n,t){const e=Cn(n);if(!e.currentUser.isEqual(t)){Xt("SyncEngine","User change. New user:",t.toKey());const i=yield CH(e.localStore,t);e.currentUser=t,(r=e).Tc.forEach(a=>{a.forEach(u=>{u.reject(new zt(pt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Tc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield fy(e,i.tr)}var r}),LP.apply(this,arguments)}function $Y(n,t){const e=Cn(n),i=e.gc.get(t);if(i&&i.lc)return tr().add(i.key);{let r=tr();const o=e._c.get(t);if(!o)return r;for(const a of o){const u=e.dc.get(a);r=r.unionWith(u.view.ec)}return r}}function YY(n,t){return NP.apply(this,arguments)}function NP(){return NP=(0,bt.Z)(function*(n,t){const e=Cn(n),i=yield RF(e.localStore,t.query,!0),r=t.view.ac(i);return e.isPrimaryClient&&kP(e,t.targetId,r.uc),r}),NP.apply(this,arguments)}function WY(n,t){return PP.apply(this,arguments)}function PP(){return PP=(0,bt.Z)(function*(n,t){const e=Cn(n);return IH(e.localStore,t).then(i=>fy(e,i))}),PP.apply(this,arguments)}function JY(n,t,e,i){return UP.apply(this,arguments)}function UP(){return UP=(0,bt.Z)(function*(n,t,e,i){const r=Cn(n),o=yield function(a,u){const h=Cn(a),f=Cn(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",_=>f.Vn(_,u).next(C=>C?h.localDocuments.getDocuments(_,C):st.resolve(null)))}(r.localStore,t);var u;null!==o?("pending"===e?yield ax(r.remoteStore):"acknowledged"===e||"rejected"===e?(MP(r,t,i||null),FP(r,t),u=t,Cn(Cn(r.localStore).mutationQueue).Dn(u)):Gn(),yield fy(r,o)):Xt("SyncEngine","Cannot apply mutation batch with id: "+t)}),UP.apply(this,arguments)}function QP(){return QP=(0,bt.Z)(function*(n,t){const e=Cn(n);if(GP(e),zP(e),!0===t&&!0!==e.Ac){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield YH(e,i.toArray());e.Ac=!0,yield hP(e.remoteStore,!0);for(const o of r)UF(e.remoteStore,o)}else if(!1===t&&!1!==e.Ac){const i=[];let r=Promise.resolve();e._c.forEach((o,a)=>{e.sharedClientState.isLocalQueryTarget(a)?i.push(a):r=r.then(()=>(hx(e,a),sx(e.localStore,a,!0))),sD(e.remoteStore,a)}),yield r,yield YH(e,i),function(o){const a=Cn(o);a.gc.forEach((u,h)=>{sD(a.remoteStore,h)}),a.yc.Is(),a.gc=new Map,a.mc=new Ys(xn.comparator)}(e),e.Ac=!1,yield hP(e.remoteStore,!1)}}),QP.apply(this,arguments)}function YH(n,t,e){return HP.apply(this,arguments)}function HP(){return HP=(0,bt.Z)(function*(n,t,e){const i=Cn(n),r=[],o=[];for(const a of t){let u;const h=i._c.get(a);if(h&&0!==h.length){u=yield rx(i.localStore,Ic(h[0]));for(const f of h){const _=i.dc.get(f),C=yield YY(i,_);C.snapshot&&o.push(C.snapshot)}}else{const f=yield SH(i.localStore,a);u=yield rx(i.localStore,f),yield bP(i,WH(f),a,!1,u.resumeToken)}r.push(u)}return i.fc.eu(o),r}),HP.apply(this,arguments)}function WH(n){return rb(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function eW(n){const t=Cn(n);return Cn(Cn(t.localStore).persistence).Mi()}function tW(n,t,e,i){return VP.apply(this,arguments)}function VP(){return VP=(0,bt.Z)(function*(n,t,e,i){const r=Cn(n);if(r.Ac)return void Xt("SyncEngine","Ignoring unexpected query state notification.");const o=r._c.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const a=yield IH(r.localStore,aN(o[0])),u=ex.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,$a.EMPTY_BYTE_STRING);yield fy(r,a,u);break}case"rejected":yield sx(r.localStore,t,!0),hx(r,t,i);break;default:Gn()}}),VP.apply(this,arguments)}function nW(n,t,e){return jP.apply(this,arguments)}function jP(){return jP=(0,bt.Z)(function*(n,t,e){const i=GP(n);if(i.Ac){for(const r of t){if(i._c.has(r)){Xt("SyncEngine","Adding an already active target "+r);continue}const o=yield SH(i.localStore,r),a=yield rx(i.localStore,o);yield bP(i,WH(o),a.targetId,!1,a.resumeToken),UF(i.remoteStore,a)}for(const r of e)i._c.has(r)&&(yield sx(i.localStore,r,!1).then(()=>{sD(i.remoteStore,r),hx(i,r)}).catch(Cm))}}),jP.apply(this,arguments)}function GP(n){const t=Cn(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=KH.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$Y.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jY.bind(null,t),t.fc.eu=kY.bind(null,t.eventManager),t.fc.vc=RY.bind(null,t.eventManager),t}function zP(n){const t=Cn(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=GY.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zY.bind(null,t),t}class oD{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,bt.Z)(function*(){e.serializer=iD(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return bH(this.persistence,new wH,t.initialUser,this.serializer)}createPersistence(t){return new ON(FF.js,this.serializer)}createSharedClientState(t){return new FH}terminate(){var t=this;return(0,bt.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class qP extends oD{constructor(t,e,i){super(),this.bc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,bt.Z)(function*(){yield e().call(i,t),yield i.bc.initialize(i,t),yield zP(i.bc.syncEngine),yield ax(i.bc.remoteStore),yield i.persistence.pi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return bH(this.persistence,new wH,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new hH(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new QB(e,this.persistence);return new UB(t.asyncQueue,i)}createPersistence(t){const e=PN(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Qu.withCacheSize(this.cacheSizeBytes):Qu.DEFAULT;return new NN(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,kH(),PF(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new FH}}class JH extends qP{constructor(t,e){super(t,e,!1),this.bc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,bt.Z)(function*(){yield e().call(i,t);const r=i.bc.syncEngine;i.sharedClientState instanceof KN&&(i.sharedClientState.syncEngine={Qr:JY.bind(null,r),jr:tW.bind(null,r),zr:nW.bind(null,r),Mi:eW.bind(null,r),Gr:WY.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.pi(function(){var o=(0,bt.Z)(function*(a){yield function XY(n,t){return QP.apply(this,arguments)}(i.bc.syncEngine,a),i.gcScheduler&&(a&&!i.gcScheduler.started?i.gcScheduler.start():a||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(a&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():a||i.indexBackfillerScheduler.stop())});return function(a){return o.apply(this,arguments)}}())})()}createSharedClientState(t){const e=kH();if(!KN.D(e))throw new zt(pt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=PN(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new KN(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Ax{initialize(t,e){var i=this;return(0,bt.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>ZH(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=ZY.bind(null,i.syncEngine),yield hP(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new MY}createDatastore(t){const e=iD(t.databaseInfo.databaseId),i=new pY(t.databaseInfo);return new _Y(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=u=>ZH(this.syncEngine,u,0),a=MH.D()?new MH:new hY,new wY(e,i,r,o,a);var e,i,r,o,a}createSyncEngine(t,e){return function(i,r,o,a,u,h,f){const _=new UY(i,r,o,a,u,h);return f&&(_.Ac=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,bt.Z)(function*(e){const i=Cn(e);Xt("RemoteStore","RemoteStore shutting down."),i.Au.add(5),yield ox(i),i.vu.shutdown(),i.Pu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function XH(n,t=10240){let e=0;return{read:()=>(0,bt.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,bt.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class HF{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Vc(this.observer.next,t)}error(t){this.observer.error?this.Vc(this.observer.error,t):ba("Uncaught Error in snapshot listener:",t.toString())}Sc(){this.muted=!0}Vc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class sW{constructor(t,e){this.Dc=t,this.serializer=e,this.metadata=new Ca,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(i=>{i&&i.Gu()?this.metadata.resolve(i.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Ku)}`))},i=>this.metadata.reject(i))}close(){return this.Dc.cancel()}getMetadata(){var t=this;return(0,bt.Z)(function*(){return t.metadata.promise})()}Pc(){var t=this;return(0,bt.Z)(function*(){return yield t.getMetadata(),t.xc()})()}xc(){var t=this;return(0,bt.Z)(function*(){const e=yield t.Nc();if(null===e)return null;const i=t.Cc.decode(e),r=Number(i);isNaN(r)&&t.kc(`length string (${i}) is not valid number`);const o=yield t.Mc(r);return new OY(JSON.parse(o),e.length+r)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Nc(){var t=this;return(0,bt.Z)(function*(){for(;t.Oc()<0&&!(yield t.$c()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.kc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Mc(t){var e=this;return(0,bt.Z)(function*(){for(;e.buffer.length<t;)(yield e.$c())&&e.kc("Reached the end of bundle when more is expected.");const i=e.Cc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}kc(t){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${t}`)}$c(){var t=this;return(0,bt.Z)(function*(){const e=yield t.Dc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class oW{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,bt.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new zt(pt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,bt.Z)(function*(o,a){const u=Cn(o),h=hb(u.serializer)+"/documents",f={documents:a.map(B=>Jv(u.serializer,B))},_=yield u.Ao("BatchGetDocuments",h,f,a.length),C=new Map;_.forEach(B=>{const U=function vN(n,t){return"found"in t?function(e,i){ai(!!i.found);const r=_f(e,i.found.name),o=Ya(i.found.updateTime),a=i.found.createTime?Ya(i.found.createTime):oi.min(),u=new Hl({mapValue:{fields:i.found.fields}});return So.newFoundDocument(r,o,a,u)}(n,t):"missing"in t?function(e,i){ai(!!i.missing),ai(!!i.readTime);const r=_f(e,i.missing),o=Ya(i.readTime);return So.newNoDocument(r,o)}(n,t):Gn()}(u.serializer,B);C.set(U.key.toString(),U)});const F=[];return a.forEach(B=>{const U=C.get(B.toString());ai(!!U),F.push(U)}),F}),function(o,a){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Ay(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,bt.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=xn.fromPath(r);t.mutations.push(new K1(o,t.precondition(o)))}),yield(i=(0,bt.Z)(function*(r,o){const a=Cn(r),u=hb(a.serializer)+"/documents",h={writes:o.map(f=>Xv(a.serializer,f))};yield a.po("Commit",u,h)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Gn();e=oi.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new zt(pt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(oi.min())?Io.exists(!1):Io.updateTime(e):Io.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(oi.min()))throw new zt(pt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Io.updateTime(e)}return Io.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class aW{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.Fc=i.maxAttempts,this.Lo=new $N(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){var t=this;this.Lo.xo((0,bt.Z)(function*(){const e=new oW(t.datastore),i=t.Lc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.qc(o)}))}).catch(r=>{t.qc(r)})}))}Lc(t){try{const e=this.updateFunction(t);return!Yw(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}qc(t){this.Fc>0&&this.Uc(t)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(t)}Uc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!hF(e)}return!1}}class lW{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Pl.UNAUTHENTICATED,this.clientId=y1.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var a=(0,bt.Z)(function*(u){Xt("FirestoreClient","Received user=",u.uid),yield o.authCredentialListener(u),o.user=u});return function(u){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(i,a=>(Xt("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var t=this;return(0,bt.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new zt(pt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,bt.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=cx(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function VF(n,t){return KP.apply(this,arguments)}function KP(){return KP=(0,bt.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Xt("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,bt.Z)(function*(o){i.isEqual(o)||(yield CH(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),KP.apply(this,arguments)}function ZP(n,t){return $P.apply(this,arguments)}function $P(){return $P=(0,bt.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield YP(n);Xt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>QH(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>QH(t.remoteStore,o)),n._onlineComponents=t}),$P.apply(this,arguments)}function eV(n){return"FirebaseError"===n.name?n.code===pt.FAILED_PRECONDITION||n.code===pt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function YP(n){return WP.apply(this,arguments)}function WP(){return WP=(0,bt.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Xt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield VF(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!eV(e))throw e;hh("Error using user provided cache. Falling back to memory cache: "+e),yield VF(n,new oD)}}else Xt("FirestoreClient","Using default OfflineComponentProvider"),yield VF(n,new oD);return n._offlineComponents}),WP.apply(this,arguments)}function jF(n){return JP.apply(this,arguments)}function JP(){return JP=(0,bt.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Xt("FirestoreClient","Using user provided OnlineComponentProvider"),yield ZP(n,n._uninitializedComponentsProvider._online)):(Xt("FirestoreClient","Using default OnlineComponentProvider"),yield ZP(n,new Ax))),n._onlineComponents}),JP.apply(this,arguments)}function tV(n){return YP(n).then(t=>t.persistence)}function GF(n){return YP(n).then(t=>t.localStore)}function nV(n){return jF(n).then(t=>t.remoteStore)}function XP(n){return jF(n).then(t=>t.syncEngine)}function fx(n){return e5.apply(this,arguments)}function e5(){return e5=(0,bt.Z)(function*(n){const t=yield jF(n),e=t.eventManager;return e.onListen=QY.bind(null,t.syncEngine),e.onUnlisten=HY.bind(null,t.syncEngine),e}),e5.apply(this,arguments)}function rV(n,t,e={}){const i=new Ca;return n.asyncQueue.enqueueAndForget((0,bt.Z)(function*(){return function(r,o,a,u,h){const f=new HF({next:C=>{o.enqueueAndForget(()=>mP(r,_));const F=C.docs.has(a);!F&&C.fromCache?h.reject(new zt(pt.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&C.fromCache&&u&&"server"===u.source?h.reject(new zt(pt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(C)},error:C=>h.reject(C)}),_=new vP(cy(a.path),f,{includeMetadataChanges:!0,Uu:!0});return pP(r,_)}(yield fx(n),n.asyncQueue,t,e,i)})),i.promise}function sV(n,t,e={}){const i=new Ca;return n.asyncQueue.enqueueAndForget((0,bt.Z)(function*(){return function(r,o,a,u,h){const f=new HF({next:C=>{o.enqueueAndForget(()=>mP(r,_)),C.fromCache&&"server"===u.source?h.reject(new zt(pt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(C)},error:C=>h.reject(C)}),_=new vP(a,f,{includeMetadataChanges:!0,Uu:!0});return pP(r,_)}(yield fx(n),n.asyncQueue,t,e,i)})),i.promise}const oV=new Map;function t5(n,t,e){if(!e)throw new zt(pt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function aV(n,t,e,i){if(!0===t&&!0===i)throw new zt(pt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function lV(n){if(!xn.isDocumentKey(n))throw new zt(pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cV(n){if(xn.isDocumentKey(n))throw new zt(pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zF(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":Gn()}function Qr(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new zt(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=zF(n);throw new zt(pt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function uV(n,t){if(t<=0)throw new zt(pt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class dV{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new zt(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new zt(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}aV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==t.experimentalAutoDetectLongPolling&&!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class aD{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new zt(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new zt(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dV(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new QL;switch(e.type){case"firstParty":return new Qv(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new zt(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=oV.get(t);e&&(Xt("ComponentProvider","Removing Datastore"),oV.delete(t),e.terminate())}(this),Promise.resolve()}}class zo{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rm(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new zo(this.firestore,t,this._key)}}class nu{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new nu(this.firestore,t,this._query)}}class Rm extends nu{constructor(t,e,i){super(t,e,cy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new zo(this.firestore,null,new xn(t))}withConverter(t){return new Rm(this.firestore,t,this._path)}}function AV(n,t,...e){if(n=(0,ae.m9)(n),t5("collection","path",t),n instanceof aD){const i=Tr.fromString(t,...e);return cV(i),new Rm(n,null,i)}{if(!(n instanceof zo||n instanceof Rm))throw new zt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Tr.fromString(t,...e));return cV(i),new Rm(n.firestore,null,i)}}function qF(n,t,...e){if(n=(0,ae.m9)(n),1===arguments.length&&(t=y1.A()),t5("doc","path",t),n instanceof aD){const i=Tr.fromString(t,...e);return lV(i),new zo(n,null,new xn(i))}{if(!(n instanceof zo||n instanceof Rm))throw new zt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Tr.fromString(t,...e));return lV(i),new zo(n.firestore,n instanceof Rm?n.converter:null,new xn(i))}}function fV(n,t){return n=(0,ae.m9)(n),t=(0,ae.m9)(t),(n instanceof zo||n instanceof Rm)&&(t instanceof zo||t instanceof Rm)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function n5(n,t){return n=(0,ae.m9)(n),t=(0,ae.m9)(t),n instanceof nu&&t instanceof nu&&n.firestore===t.firestore&&sb(n._query,t._query)&&n.converter===t.converter}class _W{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new $N(this,"async_queue_retry"),this.Yc=()=>{const e=PF();e&&Xt("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Lo.ko()};const t=PF();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Xc(),this.Zc(t)}enterRestrictedMode(t){if(!this.Qc){this.Qc=!0,this.Hc=t||!1;const e=PF();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Yc)}}enqueue(t){if(this.Xc(),this.Qc)return new Promise(()=>{});const e=new Ca;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Gc.push(t),this.ta()))}ta(){var t=this;return(0,bt.Z)(function*(){if(0!==t.Gc.length){try{yield t.Gc[0](),t.Gc.shift(),t.Lo.reset()}catch(e){if(!xm(e))throw e;Xt("AsyncQueue","Operation failed with retryable error: "+e)}t.Gc.length>0&&t.Lo.xo(()=>t.ta())}})()}Zc(t){const e=this.Kc.then(()=>(this.Wc=!0,t().catch(i=>{throw this.zc=i,this.Wc=!1,ba("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(i)),i}).then(i=>(this.Wc=!1,i))));return this.Kc=e,e}enqueueAfterDelay(t,e,i){this.Xc(),this.Jc.indexOf(t)>-1&&(e=0);const r=fP.createAndSchedule(this,t,e,i,o=>this.ea(o));return this.jc.push(r),r}Xc(){this.zc&&Gn()}verifyOperationInProgress(){}na(){var t=this;return(0,bt.Z)(function*(){let e;do{e=t.Kc,yield e}while(e!==t.Kc)})()}sa(t){for(const e of this.jc)if(e.timerId===t)return!0;return!1}ia(t){return this.na().then(()=>{this.jc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.jc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.na()})}ra(t){this.Jc.push(t)}ea(t){const e=this.jc.indexOf(t);this.jc.splice(e,1)}}function i5(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class yW{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ca,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class qo extends aD{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new _W,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||pV(this),this._firestoreClient.terminate()}}function gl(n){return n._firestoreClient||pV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function pV(n){var t,e,i;const r=n._freezeSettings(),o=(u=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new tN(n._databaseId,u,n._persistenceKey,(f=r).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var u,f;n._firestoreClient=new lW(n._authCredentials,n._appCheckCredentials,n._queue,o),(null===(e=r.cache)||void 0===e?void 0:e._offlineComponentProvider)&&(null===(i=r.cache)||void 0===i?void 0:i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function gV(n,t,e){const i=new Ca;return n.asyncQueue.enqueue((0,bt.Z)(function*(){try{yield VF(n,e),yield ZP(n,t),i.resolve()}catch(r){const o=r;if(!eV(o))throw o;hh("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function mV(n){if(n._initialized||n._terminated)throw new zt(pt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Om{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Om($a.fromBase64String(t))}catch(e){throw new zt(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Om($a.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class py{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new zt(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jo(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class _b{constructor(t){this._methodName=t}}class KF{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new zt(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new zt(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ui(this._lat,t._lat)||Ui(this._long,t._long)}}const BW=/^__.*__$/;class FW{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new qp(t,this.data,this.fieldMask,e,this.fieldTransforms):new hy(t,this.data,e,this.fieldTransforms)}}class _V{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new qp(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function yV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Gn()}}class ZF{constructor(t,e,i,r,o,a){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.oa(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(t){return new ZF(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ca({path:i,ha:!1});return r.la(t),r}fa(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ca({path:i,ha:!1});return r.oa(),r}da(t){return this.ca({path:void 0,ha:!0})}_a(t){return WF(t,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}oa(){if(this.path)for(let t=0;t<this.path.length;t++)this.la(this.path.get(t))}la(t){if(0===t.length)throw this._a("Document fields must not be empty");if(yV(this.ua)&&BW.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class MW{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||iD(t)}ga(t,e,i,r=!1){return new ZF({ua:t,methodName:e,ma:i,path:jo.emptyPath(),ha:!1,wa:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yb(n){const t=n._freezeSettings(),e=iD(n._databaseId);return new MW(n._databaseId,!!t.ignoreUndefinedProperties,e)}function $F(n,t,e,i,r,o={}){const a=n.ga(o.merge||o.mergeFields?2:0,t,e,r);a5("Data must be an object, but it was:",a,i);const u=bV(i,a);let h,f;if(o.merge)h=new eu(a.fieldMask),f=a.fieldTransforms;else if(o.mergeFields){const _=[];for(const C of o.mergeFields){const F=uD(t,C,e);if(!a.contains(F))throw new zt(pt.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);xV(_,F)||_.push(F)}h=new eu(_),f=a.fieldTransforms.filter(C=>h.covers(C.field))}else h=null,f=a.fieldTransforms;return new FW(new Hl(u),h,f)}class cD extends _b{_toFieldTransform(t){if(2!==t.ua)throw t._a(1===t.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof cD}}function vV(n,t,e){return new ZF({ua:3,ma:t.settings.ma,methodName:n._methodName,ha:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class r5 extends _b{_toFieldTransform(t){return new Wv(t.path,new $v)}isEqual(t){return t instanceof r5}}class kW extends _b{constructor(t,e){super(t),this.ya=e}_toFieldTransform(t){const e=vV(this,t,!0),i=this.ya.map(o=>vb(o,e)),r=new Tm(i);return new Wv(t.path,r)}isEqual(t){return this===t}}class RW extends _b{constructor(t,e){super(t),this.ya=e}_toFieldTransform(t){const e=vV(this,t,!0),i=this.ya.map(o=>vb(o,e)),r=new dy(i);return new Wv(t.path,r)}isEqual(t){return this===t}}class OW extends _b{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=new Yv(t.serializer,lF(t.serializer,this.pa));return new Wv(t.path,e)}isEqual(t){return this===t}}function s5(n,t,e,i){const r=n.ga(1,t,e);a5("Data must be an object, but it was:",r,i);const o=[],a=Hl.empty();Sm(i,(h,f)=>{const _=YF(t,h,e);f=(0,ae.m9)(f);const C=r.fa(_);if(f instanceof cD)o.push(_);else{const F=vb(f,C);null!=F&&(o.push(_),a.set(_,F))}});const u=new eu(o);return new _V(a,u,r.fieldTransforms)}function o5(n,t,e,i,r,o){const a=n.ga(1,t,e),u=[uD(t,i,e)],h=[r];if(o.length%2!=0)throw new zt(pt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<o.length;F+=2)u.push(uD(t,o[F])),h.push(o[F+1]);const f=[],_=Hl.empty();for(let F=u.length-1;F>=0;--F)if(!xV(f,u[F])){const B=u[F];let U=h[F];U=(0,ae.m9)(U);const H=a.fa(B);if(U instanceof cD)f.push(B);else{const Z=vb(U,H);null!=Z&&(f.push(B),_.set(B,Z))}}const C=new eu(f);return new _V(_,C,a.fieldTransforms)}function wV(n,t,e,i=!1){return vb(e,n.ga(i?4:3,t))}function vb(n,t){if(CV(n=(0,ae.m9)(n)))return a5("Unsupported field value:",t,n),bV(n,t);if(n instanceof _b)return function(e,i){if(!yV(i.ua))throw i._a(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ha&&4!==t.ua)throw t._a("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const a of e){let u=vb(a,i.da(o));null==u&&(u={nullValue:"NULL_VALUE"}),r.push(u),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,ae.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return lF(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=lo.fromDate(e);return{timestampValue:Fm(i.serializer,r)}}if(e instanceof lo){const r=new lo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Fm(i.serializer,r)}}if(e instanceof KF)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Om)return{bytesValue:db(i.serializer,e._byteString)};if(e instanceof zo){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:wF(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i._a(`Unsupported field value: ${zF(e)}`)}(n,t)}function bV(n,t){const e={};return qB(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Sm(n,(i,r)=>{const o=vb(r,t.aa(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function CV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof lo||n instanceof KF||n instanceof Om||n instanceof zo||n instanceof _b)}function a5(n,t,e){if(!CV(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=zF(e);throw t._a("an object"===i?n+" a custom object":n+" "+i)}var i}function uD(n,t,e){if((t=(0,ae.m9)(t))instanceof py)return t._internalPath;if("string"==typeof t)return YF(n,t);throw WF("Field path arguments must be of type string or ",n,!1,void 0,e)}const LW=new RegExp("[~\\*/\\[\\]]");function YF(n,t,e){if(t.search(LW)>=0)throw WF(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new py(...t.split("."))._internalPath}catch{throw WF(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function WF(n,t,e,i,r){const o=i&&!i.isEmpty(),a=void 0!==r;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||a)&&(h+=" (found",o&&(h+=` in field ${i}`),a&&(h+=` in document ${r}`),h+=")"),new zt(pt.INVALID_ARGUMENT,u+n+h)}function xV(n,t){return n.some(e=>e.isEqual(t))}class dD{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new zo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new NW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(JF("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class NW extends dD{data(){return super.data()}}function JF(n,t){return"string"==typeof t?YF(n,t):t instanceof py?t._internalPath:t._delegate._internalPath}function EV(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new zt(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class l5{}class hD extends l5{}function l0(n,t,...e){let i=[];t instanceof l5&&i.push(t),i=i.concat(e),function(r){const o=r.filter(u=>u instanceof px).length,a=r.filter(u=>u instanceof AD).length;if(o>1||o>0&&a>0)throw new zt(pt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class AD extends hD{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new AD(t,e,i)}_apply(t){const e=this._parse(t);return TV(t._query,e),new nu(t.firestore,t.converter,sF(t._query,e))}_parse(t){const e=yb(t.firestore);return function(r,o,a,u,h,f,_){let C;if(h.isKeyField()){if("array-contains"===f||"array-contains-any"===f)throw new zt(pt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if("in"===f||"not-in"===f){DV(_,f);const F=[];for(const B of _)F.push(IV(u,r,B));C={arrayValue:{values:F}}}else C=IV(u,r,_)}else"in"!==f&&"not-in"!==f&&"array-contains-any"!==f||DV(_,f),C=wV(a,"where",_,"in"===f||"not-in"===f);return yr.create(h,f,C)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class px extends l5{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new px(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:fs.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let o=i;const a=r.getFlattenedFilters();for(const u of a)TV(o,u),o=sF(o,u)}(t._query,e),new nu(t.firestore,t.converter,sF(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class c5 extends hD{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new c5(t,e)}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new zt(pt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new zt(pt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new zv(r,o);return function(u,h){if(null===rF(u)){const f=Kv(u);null!==f&&BV(0,f,h.field)}}(i,a),a}(t._query,this._field,this._direction);return new nu(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new mf(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class XF extends hD{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new XF(t,e,i)}_apply(t){return new nu(t.firestore,t.converter,H1(t._query,this._limit,this._limitType))}}class eM extends hD{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new eM(t,e,i)}_apply(t){const e=SV(t,this.type,this._docOrFields,this._inclusive);return new nu(t.firestore,t.converter,(r=e,new mf((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class tM extends hD{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new tM(t,e,i)}_apply(t){const e=SV(t,this.type,this._docOrFields,this._inclusive);return new nu(t.firestore,t.converter,(r=e,new mf((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function SV(n,t,e,i){if(e[0]=(0,ae.m9)(e[0]),e[0]instanceof dD)return function(r,o,a,u,h){if(!u)throw new zt(pt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const f=[];for(const _ of uy(r))if(_.field.isKeyField())f.push(oy(o,u.key));else{const C=u.data.field(_.field);if(Ql(C))throw new zt(pt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===C){const F=_.field.canonicalString();throw new zt(pt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}f.push(C)}return new Dm(f,h)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=yb(n.firestore);return function(o,a,u,h,f,_){const C=o.explicitOrderBy;if(f.length>C.length)throw new zt(pt.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let B=0;B<f.length;B++){const U=f[B];if(C[B].field.isKeyField()){if("string"!=typeof U)throw new zt(pt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof U}`);if(!Q1(o)&&-1!==U.indexOf("/"))throw new zt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${U}' contains a slash.`);const H=o.path.child(Tr.fromString(U));if(!xn.isDocumentKey(H))throw new zt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${H}' is not because it contains an odd number of segments.`);const Z=new xn(H);F.push(oy(a,Z))}else{const H=wV(u,h,U);F.push(H)}}return new Dm(F,_)}(n._query,n.firestore._databaseId,r,t,e,i)}}function IV(n,t,e){if("string"==typeof(e=(0,ae.m9)(e))){if(""===e)throw new zt(pt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Q1(t)&&-1!==e.indexOf("/"))throw new zt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Tr.fromString(e));if(!xn.isDocumentKey(i))throw new zt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return oy(n,new xn(i))}if(e instanceof zo)return oy(n,e._key);throw new zt(pt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zF(e)}.`)}function DV(n,t){if(!Array.isArray(n)||0===n.length)throw new zt(pt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function TV(n,t){if(t.isInequality()){const i=Kv(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new zt(pt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=rF(n);null!==o&&BV(0,r,o)}const e=function(i,r){for(const o of i)for(const a of o.getFlattenedFilters())if(r.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new zt(pt.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function BV(n,t,e){if(!e.isEqual(t))throw new zt(pt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class u5{convertValue(t,e="none"){switch(Vp(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Go(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Qp(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Gn()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Sm(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new KF(Go(t.latitude),Go(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Hp(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Jw(t));default:return null}}convertTimestamp(t){const e=Im(t);return new lo(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Tr.fromString(t);ai(IN(i));const r=new iy(i.get(1),i.get(3)),o=new xn(i.popFirst(5));return r.isEqual(e)||ba(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function nM(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class qW extends u5{constructor(t){super(),this.firestore=t}convertBytes(t){return new Om(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new zo(this.firestore,null,e)}}class wb{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class gy extends dD{constructor(t,e,i,r,o,a){super(t,e,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new fD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(JF("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class fD extends gy{data(t={}){return super.data(t)}}class c0{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new wb(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new fD(this._firestore,this._userDataWriter,i.key,i,new wb(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new zt(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new fD(i._firestore,i._userDataWriter,a.doc.key,a.doc,new wb(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>r||3!==a.type).map(a=>{const u=new fD(i._firestore,i._userDataWriter,a.doc.key,a.doc,new wb(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return 0!==a.type&&(h=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:ZW(a.type),doc:u,oldIndex:h,newIndex:f}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ZW(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Gn()}}function MV(n,t){return n instanceof gy&&t instanceof gy?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof c0&&t instanceof c0&&n._firestore===t._firestore&&n5(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class u0 extends u5{constructor(t){super(),this.firestore=t}convertBytes(t){return new Om(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new zo(this.firestore,null,e)}}function kV(n,t,e){n=Qr(n,zo);const i=Qr(n.firestore,qo),r=nM(n.converter,t,e);return gx(i,[$F(yb(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Io.none())])}function RV(n,t,e,...i){n=Qr(n,zo);const r=Qr(n.firestore,qo),o=yb(r);let a;return a="string"==typeof(t=(0,ae.m9)(t))||t instanceof py?o5(o,"updateDoc",n._key,t,e,i):s5(o,"updateDoc",n._key,t),gx(r,[a.toMutation(n._key,Io.exists(!0))])}function OV(n,...t){var e,i,r;n=(0,ae.m9)(n);let o={includeMetadataChanges:!1},a=0;"object"!=typeof t[a]||i5(t[a])||(o=t[a],a++);const u={includeMetadataChanges:o.includeMetadataChanges};if(i5(t[a])){const C=t[a];t[a]=null===(e=C.next)||void 0===e?void 0:e.bind(C),t[a+1]=null===(i=C.error)||void 0===i?void 0:i.bind(C),t[a+2]=null===(r=C.complete)||void 0===r?void 0:r.bind(C)}let h,f,_;if(n instanceof zo)f=Qr(n.firestore,qo),_=cy(n._key.path),h={next:C=>{t[a]&&t[a](d5(f,n,C))},error:t[a+1],complete:t[a+2]};else{const C=Qr(n,nu);f=Qr(C.firestore,qo),_=C._query;const F=new u0(f);h={next:B=>{t[a]&&t[a](new c0(f,F,C,B))},error:t[a+1],complete:t[a+2]},EV(n._query)}return function(C,F,B,U){const H=new HF(U),Z=new vP(F,H,B);return C.asyncQueue.enqueueAndForget((0,bt.Z)(function*(){return pP(yield fx(C),Z)})),()=>{H.Sc(),C.asyncQueue.enqueueAndForget((0,bt.Z)(function*(){return mP(yield fx(C),Z)}))}}(gl(f),_,u,h)}function gx(n,t){return function(e,i){const r=new Ca;return e.asyncQueue.enqueueAndForget((0,bt.Z)(function*(){return function VY(n,t,e){return EP.apply(this,arguments)}(yield XP(e),i,r)})),r.promise}(gl(n),t)}function d5(n,t,e){const i=e.docs.get(t._key),r=new u0(n);return new gy(n,r,t._key,i,new wb(e.hasPendingWrites,e.fromCache),t.converter)}const hJ={maxAttempts:5};class LV{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=yb(t)}set(t,e,i){this._verifyNotCommitted();const r=d0(t,this._firestore),o=nM(r.converter,e,i),a=$F(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(a.toMutation(r._key,Io.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=d0(t,this._firestore);let a;return a="string"==typeof(e=(0,ae.m9)(e))||e instanceof py?o5(this._dataReader,"WriteBatch.update",o._key,e,i,r):s5(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(a.toMutation(o._key,Io.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=d0(t,this._firestore);return this._mutations=this._mutations.concat(new Ay(e._key,Io.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new zt(pt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function d0(n,t){if((n=(0,ae.m9)(n)).firestore!==t)throw new zt(pt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class AJ extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=yb(t)}get(t){const e=d0(t,this._firestore),i=new qW(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return Gn();const o=r[0];if(o.isFoundDocument())return new dD(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new dD(this._firestore,i,e._key,null,e.converter);throw Gn()})}set(t,e,i){const r=d0(t,this._firestore),o=nM(r.converter,e,i),a=$F(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,a),this}update(t,e,i,...r){const o=d0(t,this._firestore);let a;return a="string"==typeof(e=(0,ae.m9)(e))||e instanceof py?o5(this._dataReader,"Transaction.update",o._key,e,i,r):s5(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,a),this}delete(t){const e=d0(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=d0(t,this._firestore),i=new u0(this._firestore);return super.get(t).then(r=>new gy(this._firestore,i,e._key,r._document,new wb(!1,!1),e.converter))}}function h5(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new zt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function PV(){if(typeof Uint8Array>"u")throw new zt("unimplemented","Uint8Arrays are not available in this environment.")}function UV(){if(!function eN(){return typeof atob<"u"}())throw new zt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Uv=lh.SDK_VERSION,(0,lh._registerComponent)(new kp.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const o=e.getProvider("app").getImmediate(),a=new qo(new HL(e.getProvider("auth-internal")),new VL(e.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new zt(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iy(u.options.projectId,h)}(o,i),o);return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),(0,lh.registerVersion)(TB,"3.11.0",n),(0,lh.registerVersion)(TB,"3.11.0","esm2017")}();class pD{constructor(t){this._delegate=t}static fromBase64String(t){return UV(),new pD(Om.fromBase64String(t))}static fromUint8Array(t){return PV(),new pD(Om.fromUint8Array(t))}toBase64(){return UV(),this._delegate.toBase64()}toUint8Array(){return PV(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function A5(n){return function bJ(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class CJ{enableIndexedDbPersistence(t,e){return function wW(n,t){mV(n=Qr(n,qo));const e=gl(n);if(e._uninitializedComponentsProvider)throw new zt(pt.FAILED_PRECONDITION,"SDK cache is already specified.");hh("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Ax;return gV(e,r,new qP(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function bW(n){mV(n=Qr(n,qo));const t=gl(n);if(t._uninitializedComponentsProvider)throw new zt(pt.FAILED_PRECONDITION,"SDK cache is already specified.");hh("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new Ax;return gV(t,i,new JH(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function CW(n){if(n._initialized&&!n._terminated)throw new zt(pt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Ca;return n._queue.enqueueAndForgetEvenWhileRestricted((0,bt.Z)(function*(){try{yield(e=(0,bt.Z)(function*(i){if(!fA.D())return Promise.resolve();const r=i+"main";yield fA.delete(r)}),function(i){return e.apply(this,arguments)})(PN(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class QV{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof iy||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&hh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function hV(n,t,e,i={}){var r;const o=(n=Qr(n,aD))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&hh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let a,u;if("string"==typeof i.mockUserToken)a=i.mockUserToken,u=Pl.MOCK_USER;else{a=(0,ae.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const h=i.mockUserToken.sub||i.mockUserToken.user_id;if(!h)throw new zt(pt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Pl(h)}n._authCredentials=new aI(new FB(a,u))}}(this._delegate,t,e,i)}enableNetwork(){return function EW(n){return function cW(n){return n.asyncQueue.enqueue((0,bt.Z)(function*(){const t=yield tV(n),e=yield nV(n);return t.setNetworkEnabled(!0),function(i){const r=Cn(i);return r.Au.delete(0),rD(r)}(e)}))}(gl(n=Qr(n,qo)))}(this._delegate)}disableNetwork(){return function SW(n){return function uW(n){return n.asyncQueue.enqueue((0,bt.Z)(function*(){const t=yield tV(n),e=yield nV(n);return t.setNetworkEnabled(!1),(i=(0,bt.Z)(function*(r){const o=Cn(r);o.Au.add(0),yield ox(o),o.Pu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(gl(n=Qr(n,qo)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,aV("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function xW(n){return function(t){const e=new Ca;return t.asyncQueue.enqueueAndForget((0,bt.Z)(function*(){return function qY(n,t){return BP.apply(this,arguments)}(yield XP(t),e)})),e.promise}(gl(n=Qr(n,qo)))}(this._delegate)}onSnapshotsInSync(t){return function iJ(n,t){return function AW(n,t){const e=new HF(t);return n.asyncQueue.enqueueAndForget((0,bt.Z)(function*(){return i=yield fx(n),r=e,Cn(i).Nu.add(r),void r.next();var i,r})),()=>{e.Sc(),n.asyncQueue.enqueueAndForget((0,bt.Z)(function*(){return i=yield fx(n),r=e,void Cn(i).Nu.delete(r);var i,r}))}}(gl(n=Qr(n,qo)),i5(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new zt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new mx(this,AV(this._delegate,t))}catch(e){throw Td(e,"collection()","Firestore.collection()")}}doc(t){try{return new yf(this,qF(this._delegate,t))}catch(e){throw Td(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Bd(this,function mW(n,t){if(n=Qr(n,aD),t5("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new zt(pt.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new nu(n,null,(e=t,new mf(Tr.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Td(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function fJ(n,t,e){n=Qr(n,qo);const i=Object.assign(Object.assign({},hJ),e);return function(r){if(r.maxAttempts<1)throw new zt(pt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,a){const u=new Ca;return r.asyncQueue.enqueueAndForget((0,bt.Z)(function*(){const h=yield function iV(n){return jF(n).then(t=>t.datastore)}(r);new aW(r.asyncQueue,h,a,o,u).run()})),u.promise}(gl(n),r=>t(new AJ(n,r)),i)}(this._delegate,e=>t(new HV(this,e)))}batch(){return gl(this._delegate),new VV(new LV(this._delegate,t=>gx(this._delegate,t)))}loadBundle(t){return function IW(n,t){const e=gl(n=Qr(n,qo)),i=new yW;return function fW(n,t,e,i){const r=function(o,a){let u;return u="string"==typeof o?HI().encode(o):o,h=function(h,f){if(h instanceof Uint8Array)return XH(h,f);if(h instanceof ArrayBuffer)return XH(new Uint8Array(h),f);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new sW(h,a);var h}(e,iD(t));n.asyncQueue.enqueueAndForget((0,bt.Z)(function*(){!function iW(n,t,e){const i=Cn(n);var r;(r=(0,bt.Z)(function*(o,a,u){try{const h=yield a.getMetadata();if(yield function(F,B){const U=Cn(F),H=Ya(B.createTime);return U.persistence.runTransaction("hasNewerBundle","readonly",Z=>U.Ls.getBundleMetadata(Z,B.id)).then(Z=>!!Z&&Z.createTime.compareTo(H)>=0)}(o.localStore,h))return yield a.close(),u._completeWith({taskState:"Success",documentsLoaded:(F=h).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);u._updateProgress(jH(h));const f=new LY(h,o.localStore,a.serializer);let _=yield a.Pc();for(;_;){const F=yield f.ju(_);F&&u._updateProgress(F),_=yield a.Pc()}const C=yield f.complete();return yield fy(o,C.Hu,void 0),yield function(F,B){const U=Cn(F);return U.persistence.runTransaction("Save bundle","readwrite",H=>U.Ls.saveBundleMetadata(H,B))}(o.localStore,h),u._completeWith(C.progress),Promise.resolve(C.Wu)}catch(h){return hh("SyncEngine",`Loading bundle failed with ${h}`),u._failWith(h),Promise.resolve(new Set)}var F}),function(o,a,u){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield XP(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function DW(n,t){return function pW(n,t){return n.asyncQueue.enqueue((0,bt.Z)(function*(){return function(e,i){const r=Cn(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.Ls.getNamedQuery(o,i))}(yield GF(n),t)}))}(gl(n=Qr(n,qo)),t).then(e=>e?new nu(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Bd(this,e):null)}}class iM extends u5{constructor(t){super(),this.firestore=t}convertBytes(t){return new pD(new Om(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return yf.forKey(e,this.firestore,null)}}class HV{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new iM(t)}get(t){const e=Cb(t);return this._delegate.get(e).then(i=>new gD(this._firestore,new gy(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Cb(t);return i?(h5("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Cb(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Cb(t);return this._delegate.delete(e),this}}class VV{constructor(t){this._delegate=t}set(t,e,i){const r=Cb(t);return i?(h5("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Cb(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Cb(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class bb{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new fD(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new mD(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=bb.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new bb(t,new iM(t),e),r.set(e,o)),o}}bb.INSTANCES=new WeakMap;class yf{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new iM(t)}static forPath(t,e,i){if(t.length%2!=0)throw new zt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new yf(e,new zo(e._delegate,i,new xn(t)))}static forKey(t,e,i){return new yf(e,new zo(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new mx(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new mx(this.firestore,AV(this._delegate,t))}catch(e){throw Td(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,ae.m9)(t))instanceof zo&&fV(this._delegate,t)}set(t,e){e=h5("DocumentReference.set",e);try{return e?kV(this._delegate,t,e):kV(this._delegate,t)}catch(i){throw Td(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?RV(this._delegate,t):RV(this._delegate,t,e,...i)}catch(r){throw Td(r,"updateDoc()","DocumentReference.update()")}}delete(){return function tJ(n){return gx(Qr(n.firestore,qo),[new Ay(n._key,Io.none())])}(this._delegate)}onSnapshot(...t){const e=jV(t),i=GV(t,r=>new gD(this.firestore,new gy(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return OV(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function YW(n){n=Qr(n,zo);const t=Qr(n.firestore,qo),e=gl(t),i=new u0(t);return function dW(n,t){const e=new Ca;return n.asyncQueue.enqueueAndForget((0,bt.Z)(function*(){return(i=(0,bt.Z)(function*(r,o,a){try{const u=yield function(h,f){const _=Cn(h);return _.persistence.runTransaction("read document","readonly",C=>_.localDocuments.getDocument(C,f))}(r,o);u.isFoundDocument()?a.resolve(u):u.isNoDocument()?a.resolve(null):a.reject(new zt(pt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const h=cx(u,`Failed to get document '${o} from cache`);a.reject(h)}}),function(r,o,a){return i.apply(this,arguments)})(yield GF(n),t,e);var i})),e.promise}(e,n._key).then(r=>new gy(t,i,n._key,r,new wb(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function WW(n){n=Qr(n,zo);const t=Qr(n.firestore,qo);return rV(gl(t),n._key,{source:"server"}).then(e=>d5(t,n,e))}(this._delegate):function $W(n){n=Qr(n,zo);const t=Qr(n.firestore,qo);return rV(gl(t),n._key).then(e=>d5(t,n,e))}(this._delegate),e.then(i=>new gD(this.firestore,new gy(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new yf(this.firestore,this._delegate.withConverter(t?bb.getInstance(this.firestore,t):null))}}function Td(n,t,e){return n.message=n.message.replace(t,e),n}function jV(n){for(const t of n)if("object"==typeof t&&!A5(t))return t;return{}}function GV(n,t){var e,i;let r;return r=A5(n[0])?n[0]:A5(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class gD{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new yf(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return MV(this._delegate,t._delegate)}}class mD extends gD{data(t){const e=this._delegate.data(t);return function UL(n,t){n||Gn()}(void 0!==e),e}}class Bd{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new iM(t)}where(t,e,i){try{return new Bd(this.firestore,l0(this._delegate,function PW(n,t,e){const i=t,r=JF("where",n);return AD._create(r,i,e)}(t,e,i)))}catch(r){throw Td(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Bd(this.firestore,l0(this._delegate,function UW(n,t="asc"){const e=t,i=JF("orderBy",n);return c5._create(i,e)}(t,e)))}catch(i){throw Td(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Bd(this.firestore,l0(this._delegate,function QW(n){return uV("limit",n),XF._create("limit",n,"F")}(t)))}catch(e){throw Td(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Bd(this.firestore,l0(this._delegate,function HW(n){return uV("limitToLast",n),XF._create("limitToLast",n,"L")}(t)))}catch(e){throw Td(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Bd(this.firestore,l0(this._delegate,function VW(...n){return eM._create("startAt",n,!0)}(...t)))}catch(e){throw Td(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Bd(this.firestore,l0(this._delegate,function jW(...n){return eM._create("startAfter",n,!1)}(...t)))}catch(e){throw Td(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Bd(this.firestore,l0(this._delegate,function GW(...n){return tM._create("endBefore",n,!1)}(...t)))}catch(e){throw Td(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Bd(this.firestore,l0(this._delegate,function zW(...n){return tM._create("endAt",n,!0)}(...t)))}catch(e){throw Td(e,"endAt()","Query.endAt()")}}isEqual(t){return n5(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function XW(n){n=Qr(n,nu);const t=Qr(n.firestore,qo),e=gl(t),i=new u0(t);return function hW(n,t){const e=new Ca;return n.asyncQueue.enqueueAndForget((0,bt.Z)(function*(){return(i=(0,bt.Z)(function*(r,o,a){try{const u=yield RF(r,o,!0),h=new qH(o,u.sr),f=h.nc(u.documents),_=h.applyChanges(f,!1);a.resolve(_.snapshot)}catch(u){const h=cx(u,`Failed to execute query '${o} against cache`);a.reject(h)}}),function(r,o,a){return i.apply(this,arguments)})(yield GF(n),t,e);var i})),e.promise}(e,n._query).then(r=>new c0(t,i,n,r))}(this._delegate):"server"===t?.source?function eJ(n){n=Qr(n,nu);const t=Qr(n.firestore,qo),e=gl(t),i=new u0(t);return sV(e,n._query,{source:"server"}).then(r=>new c0(t,i,n,r))}(this._delegate):function JW(n){n=Qr(n,nu);const t=Qr(n.firestore,qo),e=gl(t),i=new u0(t);return EV(n._query),sV(e,n._query).then(r=>new c0(t,i,n,r))}(this._delegate),e.then(i=>new f5(this.firestore,new c0(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=jV(t),i=GV(t,r=>new f5(this.firestore,new c0(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return OV(this._delegate,e,i)}withConverter(t){return new Bd(this.firestore,this._delegate.withConverter(t?bb.getInstance(this.firestore,t):null))}}class EJ{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new mD(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class f5{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Bd(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new mD(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new EJ(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new mD(this._firestore,i))})}isEqual(t){return MV(this._delegate,t._delegate)}}class mx extends Bd{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new yf(this.firestore,t):null}doc(t){try{return new yf(this.firestore,void 0===t?qF(this._delegate):qF(this._delegate,t))}catch(e){throw Td(e,"doc()","CollectionReference.doc()")}}add(t){return function nJ(n,t){const e=Qr(n.firestore,qo),i=qF(n),r=nM(n.converter,t);return gx(e,[$F(yb(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Io.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new yf(this.firestore,e))}isEqual(t){return fV(this._delegate,t._delegate)}withConverter(t){return new mx(this.firestore,this._delegate.withConverter(t?bb.getInstance(this.firestore,t):null))}}function Cb(n){return Qr(n,zo)}class p5{constructor(...t){this._delegate=new py(...t)}static documentId(){return new p5(jo.keyField().canonicalString())}isEqual(t){return(t=(0,ae.m9)(t))instanceof py&&this._delegate._internalPath.isEqual(t._internalPath)}}class xb{constructor(t){this._delegate=t}static serverTimestamp(){const t=function gJ(){return new r5("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new xb(t)}static delete(){const t=function pJ(){return new cD("deleteField")}();return t._methodName="FieldValue.delete",new xb(t)}static arrayUnion(...t){const e=function mJ(...n){return new kW("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new xb(e)}static arrayRemove(...t){const e=function _J(...n){return new RW("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new xb(e)}static increment(t){const e=function yJ(n){return new OW("increment",n)}(t);return e._methodName="FieldValue.increment",new xb(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const SJ={Firestore:QV,GeoPoint:KF,Timestamp:lo,Blob:pD,Transaction:HV,WriteBatch:VV,DocumentReference:yf,DocumentSnapshot:gD,Query:Bd,QueryDocumentSnapshot:mD,QuerySnapshot:f5,CollectionReference:mx,FieldPath:p5,FieldValue:xb,setLogLevel:function xJ(n){!function BB(n){wm.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function DJ(n){(function IJ(n,t){n.INTERNAL.registerComponent(new kp.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},SJ)))})(n,(t,e)=>new QV(t,e,new CJ)),n.registerVersion("@firebase/firestore-compat","0.3.8")}(H2.Z);var iu=re(6451),rM=re(5363),TJ=re(6063);class BJ extends nn.x{constructor(t=1/0,e=1/0,i=TJ.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:a}=this;e||(i.push(t),!r&&i.push(o.now()+a)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let a=0;a<o.length&&!t.closed;a+=i?1:2)t.next(o[a]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const a=e.now();let u=0;for(let h=1;h<i.length&&i[h]<=a;h+=2)u=h;u&&i.splice(0,u+1)}}}var g5=re(3099);function zV(n,t,e){var i,r;let o,a=!1;return n&&"object"==typeof n?(o=null!==(i=n.bufferSize)&&void 0!==i?i:1/0,t=null!==(r=n.windowTime)&&void 0!==r?r:1/0,a=!!n.refCount,e=n.scheduler):o=n??1/0,(0,g5.B)({connector:()=>new BJ(o,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function qV(n,t){return(0,zs.m)(t)?ys(()=>n,t):ys(()=>n)}var m5=re(9468);re(259);const y5=new Map,ZV={activated:!1,tokenObservers:[]},OJ={initialized:!1,enabled:!1};function Wa(n){return y5.get(n)||Object.assign({},ZV)}function oM(){return OJ}class HJ{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,bt.Z)(function*(){e.stop();try{e.pending=new ae.BH,yield function VJ(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new ae.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ru=new ae.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function w5(n){if(!Wa(n).activated)throw ru.create("use-before-activation",{appName:n.name})}function cM(n,t){return C5.apply(this,arguments)}function C5(){return C5=(0,bt.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const C=yield r.getHeartbeatsHeader();C&&(i["X-Firebase-Client"]=C)}const o={method:"POST",body:JSON.stringify(t),headers:i};let a,u;try{a=yield fetch(n,o)}catch(C){throw ru.create("fetch-network-error",{originalErrorMessage:C?.message})}if(200!==a.status)throw ru.create("fetch-status-error",{httpStatus:a.status});try{u=yield a.json()}catch(C){throw ru.create("fetch-parse-error",{originalErrorMessage:C?.message})}const h=u.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw ru.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});const f=1e3*Number(h[1]),_=Date.now();return{token:u.token,expireTimeMillis:_+f,issuedAtTimeMillis:_}}),C5.apply(this,arguments)}function YV(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const _D="firebase-app-check-store";let uM=null;function JV(){return uM||(uM=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(ru.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(_D,{keyPath:"compositeKey"})}}catch(e){t(ru.create("storage-open",{originalErrorMessage:e?.message}))}}),uM)}function x5(){return x5=(0,bt.Z)(function*(n,t){const i=(yield JV()).transaction(_D,"readwrite"),o=i.objectStore(_D).put({compositeKey:n,value:t});return new Promise((a,u)=>{o.onsuccess=h=>{a()},i.onerror=h=>{var f;u(ru.create("storage-set",{originalErrorMessage:null===(f=h.target.error)||void 0===f?void 0:f.message}))}})}),x5.apply(this,arguments)}const yD=new df.Yd("@firebase/app-check");function I5(n,t){return(0,ae.hl)()?function $J(n,t){return function XV(n,t){return x5.apply(this,arguments)}(function t8(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{yD.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function T5(){return oM().enabled}function B5(){return F5.apply(this,arguments)}function F5(){return F5=(0,bt.Z)(function*(){const n=oM();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),F5.apply(this,arguments)}const tX={error:"UNKNOWN_ERROR"};function nX(n){return ae.US.encodeString(JSON.stringify(n),!1)}function dM(n){return M5.apply(this,arguments)}function M5(){return M5=(0,bt.Z)(function*(n,t=!1){const e=n.app;w5(e);const i=Wa(e);let o,r=i.token;if(r&&!_x(r)&&(i.token=void 0,r=void 0),!r){const h=yield i.cachedTokenPromise;h&&(_x(h)?r=h:yield I5(e,void 0))}if(!t&&r&&_x(r))return{token:r.token};let u,a=!1;if(T5()){i.exchangeTokenPromise||(i.exchangeTokenPromise=cM(YV(e,yield B5()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const h=yield i.exchangeTokenPromise;return yield I5(e,h),i.token=h,{token:h.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),r=yield Wa(e).exchangeTokenPromise}catch(h){"appCheck/throttled"===h.code?yD.warn(h.message):yD.error(h),o=h}return r?o?u=_x(r)?{token:r.token,internalError:o}:r8(o):(u={token:r.token},i.token=r,yield I5(e,r)):u=r8(o),a&&i8(e,u),u}),M5.apply(this,arguments)}function O5(n,t){const e=Wa(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function n8(n){const{app:t}=n,e=Wa(t);let i=e.tokenRefresher;i||(i=function rX(n){const{app:t}=n;return new HJ((0,bt.Z)(function*(){let i;if(i=Wa(t).token?yield dM(n,!0):yield dM(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Wa(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function i8(n,t){const e=Wa(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function _x(n){return n.expireTimeMillis-Date.now()>0}function r8(n){return{token:nX(tX),error:n}}class sX{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Wa(this.app);for(const e of t)O5(this.app,e.next);return Promise.resolve()}}const h8="app-check-internal";!function yX(){(0,lh._registerComponent)(new kp.wA("app-check",n=>function oX(n,t){return new sX(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(h8).initialize()})),(0,lh._registerComponent)(new kp.wA(h8,n=>function aX(n){return{getToken:t=>dM(n,t),addTokenListener:t=>function R5(n,t,e,i){const{app:r}=n,o=Wa(r);if(o.tokenObservers=[...o.tokenObservers,{next:e,error:i,type:t}],o.token&&_x(o.token)){const u=o.token;Promise.resolve().then(()=>{e({token:u.token}),n8(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>n8(n))}(n,"INTERNAL",t),removeTokenListener:t=>O5(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,lh.registerVersion)("@firebase/app-check","0.7.0")}();class AM{constructor(){return(0,oo.vb)("app-check")}}typeof window<"u"&&window;var f8=re(9260);const Q5=new s.OlP("angularfire2.auth.use-emulator"),H5=new s.OlP("angularfire2.auth.settings"),V5=new s.OlP("angularfire2.auth.tenant-id"),j5=new s.OlP("angularfire2.auth.langugage-code"),G5=new s.OlP("angularfire2.auth.use-device-language"),z5=new s.OlP("angularfire.auth.persistence"),q5=(n,t,e,i,r,o,a,u)=>(0,Xc.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const h=t.runOutsideAngular(()=>n.auth());if(e&&h.useEmulator(...e),i&&(h.tenantId=i),h.languageCode=r,o&&h.useDeviceLanguage(),a)for(const[f,_]of Object.entries(a))h.settings[f]=_;return u&&h.setPersistence(u),h},[e,i,r,o,a,u]);let fM=(()=>{class n{constructor(e,i,r,o,a,u,h,f,_,C,F,B){const U=new nn.x,H=An(void 0).pipe((0,rM.Q)(a.outsideAngular),ys(()=>o.runOutsideAngular(()=>Promise.resolve().then(re.bind(re,8523)))),(0,an.U)(()=>(0,Xc.on)(e,o,i)),(0,an.U)(Z=>q5(Z,o,u,f,_,C,h,F)),zV({bufferSize:1,refCount:!1}));if(Ta(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=An(null);else{H.pipe(Uo()).subscribe();const q=H.pipe(ys(xe=>xe.getRedirectResult().then(Ze=>Ze,()=>null)),oo.iC,zV({bufferSize:1,refCount:!1})),W=H.pipe(ys(xe=>new mr.y(Ze=>({unsubscribe:o.runOutsideAngular(()=>xe.onAuthStateChanged(ct=>Ze.next(ct),ct=>Ze.error(ct),()=>Ze.complete()))})))),he=H.pipe(ys(xe=>new mr.y(Ze=>({unsubscribe:o.runOutsideAngular(()=>xe.onIdTokenChanged(ct=>Ze.next(ct),ct=>Ze.error(ct),()=>Ze.complete()))}))));this.authState=q.pipe(qV(W),(0,m5.R)(a.outsideAngular),(0,rM.Q)(a.insideAngular)),this.user=q.pipe(qV(he),(0,m5.R)(a.outsideAngular),(0,rM.Q)(a.insideAngular)),this.idToken=this.user.pipe(ys(xe=>xe?(0,jn.D)(xe.getIdToken()):An(null))),this.idTokenResult=this.user.pipe(ys(xe=>xe?(0,jn.D)(xe.getIdTokenResult()):An(null))),this.credential=(0,iu.T)(q,U,this.authState.pipe(_i(xe=>!xe))).pipe((0,an.U)(xe=>xe?.user?xe:null),(0,m5.R)(a.outsideAngular),(0,rM.Q)(a.insideAngular))}return(0,Xc.pX)(this,H,o,{spy:{apply:(Z,q,W)=>{(Z.startsWith("signIn")||Z.startsWith("createUser"))&&W.then(he=>U.next(he))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Xc.Dh),s.LFG(Xc.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(oo.HU),s.LFG(Q5,8),s.LFG(H5,8),s.LFG(V5,8),s.LFG(j5,8),s.LFG(G5,8),s.LFG(z5,8),s.LFG(AM,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),EX=(()=>{class n{constructor(){f8.Z.registerVersion("angularfire",oo.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[fM]}),n})();function p8(n,t){return function SX(n,t=Mp.z){return new mr.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function K5(n,t){return p8(n,t).pipe((0,an.U)(e=>({payload:e,type:"query"})))}function pM(n,t){return K5(n,t).pipe(sa(void 0),pS(),(0,an.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(a=>({type:a.type,payload:a}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,u)=>{const h=r.find(_=>_.doc.ref.isEqual(a.ref)),f=e?.payload.docs.find(_=>_.ref.isEqual(a.ref));h&&JSON.stringify(h.doc.metadata)===JSON.stringify(a.metadata)||!h&&f&&JSON.stringify(f.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:a}})}),o}))}function g8(n,t,e){return pM(n,e).pipe(tc((i,r)=>function DX(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function TX(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return Z5(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return Z5(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Z5(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),yv(),(0,an.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function Z5(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function m8(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class _8{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=pM(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,an.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(sa(void 0),pS(),_i(([i,r])=>r.length>0||!i),(0,an.U)(([i,r])=>r),oo.iC)}auditTrail(t){return this.stateChanges(t).pipe(tc((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=m8(t);return g8(this.query,e,this.afs.schedulers.outsideAngular).pipe(oo.iC)}valueChanges(t={}){return K5(this.query,this.afs.schedulers.outsideAngular).pipe((0,an.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),oo.iC)}get(t){return(0,jn.D)(this.query.get(t)).pipe(oo.iC)}add(t){return this.ref.add(t)}doc(t){return new y8(this.ref.doc(t),this.afs)}}class y8{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=b8(i,e);return new _8(r,o,this.afs)}snapshotChanges(){return function IX(n,t){return p8(n,t).pipe(sa(void 0),pS(),(0,an.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(oo.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,an.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,jn.D)(this.ref.get(t)).pipe(oo.iC)}}class BX{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?pM(this.query,this.afs.schedulers.outsideAngular).pipe((0,an.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),_i(e=>e.length>0),oo.iC):pM(this.query,this.afs.schedulers.outsideAngular).pipe(oo.iC)}auditTrail(t){return this.stateChanges(t).pipe(tc((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=m8(t);return g8(this.query,e,this.afs.schedulers.outsideAngular).pipe(oo.iC)}valueChanges(t={}){return K5(this.query,this.afs.schedulers.outsideAngular).pipe((0,an.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),oo.iC)}get(t){return(0,jn.D)(this.query.get(t)).pipe(oo.iC)}}const v8=new s.OlP("angularfire2.enableFirestorePersistence"),w8=new s.OlP("angularfire2.firestore.persistenceSettings"),FX=new s.OlP("angularfire2.firestore.settings"),MX=new s.OlP("angularfire2.firestore.use-emulator");function b8(n,t=(e=>e)){return{query:t(n),ref:n}}let gM=(()=>{class n{constructor(e,i,r,o,a,u,h,f,_,C,F,B,U,H,Z,q,W){this.schedulers=h;const he=(0,Xc.on)(e,u,i),xe=_;C&&q5(he,u,F,U,H,Z,B,q),[this.firestore,this.persistenceEnabled$]=(0,Xc.cc)(`${he.name}.firestore`,"AngularFirestore",he.name,()=>{const Ze=u.runOutsideAngular(()=>he.firestore());if(o&&Ze.settings(o),xe&&Ze.useEmulator(...xe),r&&!Ta(a)){const ct=()=>{try{return(0,jn.D)(Ze.enablePersistence(f||void 0).then(()=>!0,()=>!1))}catch(Ve){return typeof console<"u"&&console.warn(Ve),An(!1)}};return[Ze,u.runOutsideAngular(ct)]}return[Ze,An(!1)]},[o,xe,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:a}=b8(r,i),u=this.schedulers.ngZone.run(()=>o);return new _8(u,a,this)}collectionGroup(e,i){const r=i||(a=>a),o=this.firestore.collectionGroup(e);return new BX(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new y8(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Xc.Dh),s.LFG(Xc.xv,8),s.LFG(v8,8),s.LFG(FX,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(oo.HU),s.LFG(w8,8),s.LFG(MX,8),s.LFG(fM,8),s.LFG(Q5,8),s.LFG(H5,8),s.LFG(V5,8),s.LFG(j5,8),s.LFG(G5,8),s.LFG(z5,8),s.LFG(AM,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),kX=(()=>{class n{constructor(){f8.Z.registerVersion("angularfire",oo.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:v8,useValue:!0},{provide:w8,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[gM]}),n})();const RX=["Combattiva","Alza skill","Farming risorse","Generica"];let mM=(()=>{class n{constructor(e){this.store=e}GetTipologieMacro(){return RX}capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}getMacro(e){return this.store.collection("MacroUser",r=>r.where("guid","==",e)).valueChanges().pipe((0,an.U)(r=>r.map(o=>{let a=new gw;return a.macro.author=o.author,a.macro.guid=o.guid,a.macro.like=o.like,a.tipologia=o.tipologia,a.macro.title=o.title,a.descrizione=o.descrizione,a.macro.utenti=o.utenti,a.macro.delay=o.delay,a})))}getMacroSettingsUser(e){return this.store.collection("MacroSettingsUser",r=>r.where("guid","==",e)).valueChanges().pipe((0,an.U)(r=>r.map(o=>{let a=new _w;return a.comando=o.comando,a.settings=o.settings,a.type=o.type,a.function=o.function,a.index=o.index,a})))}getMacros(){return this.store.collection("MacroUser").valueChanges().pipe((0,an.U)(i=>i.map(r=>{let o=new gv;return o.author=r.author,o.date=r.dateTimeStamp.toDate(),o.guid=r.guid,o.like=r.like,o.tipologia=r.tipologia,o.title=r.title,o.utenti=r.utenti,o.delay=r.delay,o})))}getMacroSettings(){return this.store.collection("MacroSettings").valueChanges().pipe((0,an.U)(i=>i.map(r=>{let o=new mw;return o.comando=r.comando,o.settings=r.settings,o.type=r.type,o.code=r.code,o.subCode=r.subCode,o})))}addLikeMacro(e,i){var r=new nn.x,o=this.store.collection("MacroUser",a=>a.where("guid","==",e)).valueChanges({idField:"id"}).subscribe(a=>{if(null!=a&&a.length>0&&a[0].author!=i)return a[0].utenti.includes(i)?(a[0].utenti=a[0].utenti.filter(h=>h!=i),a[0].like--):(a[0].utenti.push(i),a[0].like++),this.store.collection("MacroUser").doc(`${a[0].id}`).set({like:a[0].like,utenti:a[0].utenti},{merge:!0}),o.unsubscribe(),r.next(!0)});return r.asObservable()}addMacros(e){this.store.collection("MacroUser").add({author:e.macro.author,title:this.capitalizeFirstLetter(e.macro.title),dateTimeStamp:e.macro.date,descrizione:this.capitalizeFirstLetter(e.descrizione),tipologia:e.macro.tipologia,like:0,guid:e.macro.guid,utenti:e.macro.utenti,delay:e.macro.delay}),e.settings.forEach(i=>{this.store.collection("MacroSettingsUser").add({guid:e.macro.guid,comando:i.comando,settings:i.settings,type:i.type,function:i.function,index:i.index})})}updateMacro(e){var i=this.store.collection("MacroUser",r=>r.where("guid","==",e.macro.guid)).valueChanges({idField:"id"}).subscribe(r=>{if(null!=r&&r.length>0){this.store.collection("MacroUser").doc(`${r[0].id}`).set({title:e.macro.title,descrizione:e.descrizione,tipologia:e.macro.tipologia,delay:e.macro.delay},{merge:!0});const a=this.store.collection("MacroSettingsUser",u=>u.where("guid","==",e.macro.guid)).valueChanges({idField:"id"}).subscribe(u=>{if(u.length>0)for(let h=0;h<u.length;h++)this.store.doc("MacroSettingsUser/"+u[h].id).delete(),h==u.length-1&&e.settings.forEach(f=>{this.store.collection("MacroSettingsUser").add({guid:e.macro.guid,comando:f.comando,settings:f.settings,type:f.type,function:f.function,index:f.index}),a.unsubscribe()})})}i.unsubscribe()},r=>console.error("Error"))}deleteMacro(e){const i=this.store.collection("MacroUser",r=>r.where("guid","==",e)).valueChanges({idField:"id"}).subscribe(r=>{if(r.length>0){this.store.doc("MacroUser/"+r[0].id).delete();const o=this.store.collection("MacroSettingsUser",a=>a.where("guid","==",e)).valueChanges({idField:"id"}).subscribe(a=>{if(a.length>0)for(let u=0;u<a.length;u++)this.store.doc("MacroSettingsUser/"+a[u].id).delete(),u==a.length-1&&(i.unsubscribe(),o.unsubscribe())})}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gM))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const OX=[{macro:"NW",subcode:"1"},{macro:"N",subcode:"2"},{macro:"NE",subcode:"3"},{macro:"E",subcode:"4"},{macro:"SE",subcode:"5"},{macro:"S",subcode:"6"},{macro:"SW",subcode:"7"},{macro:"W",subcode:"8"},{macro:"Anatomia",subcode:"21"},{macro:"Zoologia",subcode:"22"},{macro:"Addomesticare",subcode:"23"},{macro:"OsservareArmi",subcode:"24"},{macro:"Sbirciare",subcode:"25"},{macro:"AdorareTM",subcode:"26"},{macro:"ScovareNascondigli",subcode:"27"},{macro:"Infuriarsi",subcode:"28"},{macro:"PercezioneMagica",subcode:"29"},{macro:"AnalizzareCorpi",subcode:"30"},{macro:"Nascondersi",subcode:"31"},{macro:"GodersiTM",subcode:"32"},{macro:"Religione",subcode:"33"},{macro:"IdentificareOggetti",subcode:"34"},{macro:"Meditare",subcode:"35"},{macro:"Calmare",subcode:"36"},{macro:"Avvelenare",subcode:"37"},{macro:"Istigare",subcode:"38"},{macro:"DisarmareTrappole",subcode:"39"},{macro:"AscoltareSpiriti",subcode:"40"},{macro:"Rubare",subcode:"41"},{macro:"MuoversiSilenziosamente",subcode:"42"},{macro:"RingraziareTM",subcode:"43"},{macro:"SeguireTracce",subcode:"44"},{macro:"LeftHand",subcode:"45"},{macro:"RightHand",subcode:"46"},{macro:"Hostile",subcode:"193"},{macro:"Party",subcode:"194"},{macro:"Mobile",subcode:"195"}];let vf=(()=>{class n{constructor(e,i,r){this._platform=e,this.ngxXml2jsonService=i,this.macroService=r,this.platform=e}isSmartphone(){return this.platform.ANDROID||this.platform.IOS}ConfirmPasswordValidator(e,i){return r=>{let a=r.controls[i];a?.errors&&!a?.errors.confirmPasswordValidator||a?.setErrors(r.controls[e]?.value!==a?.value?{confirmPasswordValidator:!0}:null)}}compareDates(e){const i=new Date(Date.now()),r=Math.floor(e.nanoseconds/1e6);return i>new Date(1e3*e.seconds+r)}addMillisecondsToCurrentDate(e){return new Date(Date.now()+e)}capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}MacrosXmlToObject(e){const r=(new DOMParser).parseFromString(e,"text/xml");var a=this.ngxXml2jsonService.xmlToJson(r).macros.macro;let u=new Array;a.forEach(f=>{let _=new LX;_.name=f["@attributes"].name;let C=f.actions.action;if(void 0===C.length){var F=C["@attributes"];_.action.push(new C8(F.code,F.subcode,F.submenutype,F.text?F.text:null))}else C.forEach(B=>{var U=B["@attributes"];_.action.push(new C8(U.code,U.subcode,U.submenutype,U.text?U.text:null))});u.push(_)});let h=["Paperdoll","Options","Journal","Backpack","Radar","Bow","Salute"];return u.filter(f=>!h.includes(f.name))}getAllMacrosByXml(e){var i=new nn.x,r=this.MacrosXmlToObject(e),o=new Array;return this.macroService.getMacroSettings().subscribe(a=>{let u=a;r.forEach(h=>{let f=new cS;f.macro.macro.title=h.name,h.action.forEach(_=>{let C=new _w,F=u.find(B=>B.code==_.code);if(void 0!==F){F?.settings&&(C.settings=F?.settings),F?.comando&&(C.comando=F?.comando),F?.type&&(C.type=F?.type),"0"!=_.subcode&&(C.function=OX.filter(U=>U.subcode===_.subcode)[0].macro);let B=_.text;B&&(C.function=B),f.settings.push(C)}}),""!=f.macro.macro.title&&o.push(f)}),i.next(o)}),i.asObservable()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fs),s.LFG(uf),s.LFG(mM))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class LX{constructor(){this.action=new Array}}class C8{constructor(t,e,i,r){this.code=t,this.subcode=e,this.subMenuType=i,this.text=r||""}}class NX{static getRuoliFromRoles(t){var e=new Array;return t.forEach(i=>{switch(i){case"511946618682081281":e.push("Cittadino");break;case"511948559902572554":case"709809389766311998":e.push("Regnante");break;case"710160889990348820":e.push("Valinrim");break;case"1079385953765949480":e.push("Ceorita")}}),e}}class PX{constructor(t,e,i,r){this.interno=!1,e?(this.id=e.user.id,this.username=e.user.username,this.ruoli=NX.getRuoliFromRoles(e.roles),this.roles=e.roles):(this.id=i,this.username=r,this.ruoli=[]),this.token=t}}function Ci(n){return null!=n&&"false"!=`${n}`}function su(n,t=0){return x8(n)?Number(n):t}function x8(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function _M(n){return Array.isArray(n)?n:[n]}function Vl(n){return null==n?"":"string"==typeof n?n:`${n}px`}function my(n){return n instanceof s.SBq?n.nativeElement:n}var UX=re(1144);const QX=["addListener","removeListener"],HX=["addEventListener","removeEventListener"],VX=["on","off"];function h0(n,t,e,i){if((0,zs.m)(e)&&(i=e,e=void 0),i)return h0(n,t,e).pipe(ec(i));const[r,o]=function zX(n){return(0,zs.m)(n.addEventListener)&&(0,zs.m)(n.removeEventListener)}(n)?HX.map(a=>u=>n[a](t,u,e)):function jX(n){return(0,zs.m)(n.addListener)&&(0,zs.m)(n.removeListener)}(n)?QX.map(E8(n,t)):function GX(n){return(0,zs.m)(n.on)&&(0,zs.m)(n.off)}(n)?VX.map(E8(n,t)):[];if(!r&&(0,UX.z)(n))return(0,wo.z)(a=>h0(a,t,e))((0,Qa.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new mr.y(a=>{const u=(...h)=>a.next(1<h.length?h:h[0]);return r(u),()=>o(u)})}function E8(n,t){return e=>i=>n[e](t,i)}var S8=re(4408);const vD={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=vD;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new Po.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=vD;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=vD;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var I8=re(7565);new class KX extends I8.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const o=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<o&&(t=e.shift()));if(this._active=!1,i){for(;++r<o&&(t=e.shift());)t.unsubscribe();throw i}}}(class qX extends S8.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=vD.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(vD.cancelAnimationFrame(e),t._scheduled=void 0)}});let $5,$X=1;const yM={};function D8(n){return n in yM&&(delete yM[n],!0)}const YX={setImmediate(n){const t=$X++;return yM[t]=!0,$5||($5=Promise.resolve()),$5.then(()=>D8(t)&&n()),t},clearImmediate(n){D8(n)}},{setImmediate:WX,clearImmediate:JX}=YX,vM={setImmediate(...n){const{delegate:t}=vM;return(t?.setImmediate||WX)(...n)},clearImmediate(n){const{delegate:t}=vM;return(t?.clearImmediate||JX)(n)},delegate:void 0};new class eee extends I8.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const o=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<o&&(t=e.shift()));if(this._active=!1,i){for(;++r<o&&(t=e.shift());)t.unsubscribe();throw i}}}(class XX extends S8.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=vM.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(vM.clearImmediate(e),t._scheduled=void 0)}});var iee=re(3532);function T8(n){return n instanceof Date&&!isNaN(n)}function B8(n=0,t,e=Mp.P){let i=-1;return null!=t&&((0,iee.K)(t)?e=t:i=t),new mr.y(r=>{let o=T8(n)?+n-e.now():n;o<0&&(o=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function Y5(n,t=Mp.P){return function nee(n){return(0,Wr.e)((t,e)=>{let i=!1,r=null,o=null,a=!1;const u=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const f=r;r=null,e.next(f)}a&&e.complete()},h=()=>{o=null,a&&e.complete()};t.subscribe(new Nr.Q(e,f=>{i=!0,r=f,o||(0,Qa.Xf)(n(f)).subscribe(o=new Nr.Q(e,u,h))},()=>{a=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>B8(n,t))}var W5=re(5032);function Wi(n){return(0,Wr.e)((t,e)=>{(0,Qa.Xf)(n).subscribe(new Nr.Q(e,()=>e.complete(),W5.Z)),!e.closed&&t.subscribe(e)})}const ree=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function see(){return(0,s.f3M)(Ke)}}),oee=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let wf=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function aee(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?oee.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ree,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Eb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),wD=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new nn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new mr.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Y5(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):An()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(_i(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=my(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>h0(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Fs),s.LFG(Ke,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bD=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new nn.x,this._elementScrolled=new mr.y(a=>this.ngZone.runOutsideAngular(()=>h0(this.elementRef.nativeElement,"scroll").pipe(Wi(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=vw()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==vw()?e.left=e.right:1==vw()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;AL()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const a=this.dir&&"rtl"==this.dir.value;return"start"==e?e=a?r:i:"end"==e&&(e=a?i:r),a&&2==vw()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:a&&1==vw()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(wD),s.Y36(s.R0b),s.Y36(wf,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),yx=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new nn.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Y5(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fs),s.LFG(s.R0b),s.LFG(Ke,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),J5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Eb,vx,Eb,vx]}),n})();class X5{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class wx extends X5{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class CD extends X5{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class uee extends X5{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class wM{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof wx?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof CD?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof uee?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class dee extends wM{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=a=>{const u=a.element,h=this._document.createComment("dom-portal");u.parentNode.insertBefore(h,u),this.outletElement.appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let bx=(()=>{class n extends wM{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new s.vpe,this.attachDomPortal=o=>{const a=o.element,u=this._document.createComment("dom-portal");o.setAttachedHost(this),a.parentNode.insertBefore(u,a),this._getRootNode().appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(a,u)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(Ke))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),n})(),Sb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function Lm(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}const R8=AL();class Cee{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Vl(-this._previousScrollPosition.left),t.style.top=Vl(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),R8&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),R8&&(i.scrollBehavior=o,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class xee{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class O8{enable(){}disable(){}attach(){}}function nU(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function L8(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Eee{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();nU(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let See=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new O8,this.close=a=>new xee(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new Cee(this._viewportRuler,this._document),this.reposition=a=>new Eee(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(wD),s.LFG(yx),s.LFG(s.R0b),s.LFG(Ke))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class bM{constructor(t){if(this.scrollStrategy=new O8,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class Iee{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let N8=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ke))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Dee=(()=>{class n extends N8{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){const u=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>u.next(r)):u.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ke),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tee=(()=>{class n extends N8{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=U_(o)},this._clickListener=o=>{const a=U_(o),u="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const h=this._attachedOverlays.slice();for(let f=h.length-1;f>-1;f--){const _=h[f];if(_._outsidePointerEvents.observers.length<1||!_.hasAttached())continue;if(_.overlayElement.contains(a)||_.overlayElement.contains(u))break;const C=_._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>C.next(o)):C.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ke),s.LFG(Fs),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CM=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||fS()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),fS()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ke),s.LFG(Fs))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ID{constructor(t,e,i,r,o,a,u,h,f,_=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=a,this._document=u,this._location=h,this._outsideClickDispatcher=f,this._animationsDisabled=_,this._backdropElement=null,this._backdropClick=new nn.x,this._attachments=new nn.x,this._detachments=new nn.x,this._locationChanges=Po.w0.EMPTY,this._backdropClickHandler=C=>this._backdropClick.next(C),this._backdropTransitionendHandler=C=>{this._disposeBackdrop(C.target)},this._keydownEvents=new nn.x,this._outsidePointerEvents=new nn.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Jr.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Vl(this._config.width),t.height=Vl(this._config.height),t.minWidth=Vl(this._config.minWidth),t.minHeight=Vl(this._config.minHeight),t.maxWidth=Vl(this._config.maxWidth),t.maxHeight=Vl(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=_M(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Wi((0,iu.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const P8="cdk-overlay-connected-position-bounding-box",Bee=/([A-Za-z%]+)$/;class Fee{constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new nn.x,this._resizeSubscription=Po.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(P8),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let a;for(let u of this._preferredPositions){let h=this._getOriginPoint(t,r,u),f=this._getOverlayPoint(h,e,u),_=this._getOverlayFit(f,e,i,u);if(_.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,h);this._canFitWithFlexibleDimensions(_,f,i)?o.push({position:u,origin:h,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(h,u)}):(!a||a.overlayFit.visibleArea<_.visibleArea)&&(a={overlayFit:_,overlayPoint:f,originPoint:h,position:u,overlayRect:e})}if(o.length){let u=null,h=-1;for(const f of o){const _=f.boundingBoxRect.width*f.boundingBoxRect.height*(f.position.weight||1);_>h&&(h=_,u=f)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ib(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(P8),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const a=this._isRtl()?t.right:t.left,u=this._isRtl()?t.left:t.right;r="start"==i.originX?a:u}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=Q8(e);let{x:a,y:u}=t,h=this._getOffset(r,"x"),f=this._getOffset(r,"y");h&&(a+=h),f&&(u+=f);let F=0-u,B=u+o.height-i.height,U=this._subtractOverflows(o.width,0-a,a+o.width-i.width),H=this._subtractOverflows(o.height,F,B),Z=U*H;return{visibleArea:Z,isCompletelyWithinViewport:o.width*o.height===Z,fitsInViewportVertically:H===o.height,fitsInViewportHorizontally:U==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,a=U8(this._overlayRef.getConfig().minHeight),u=U8(this._overlayRef.getConfig().minWidth),f=t.fitsInViewportHorizontally||null!=u&&u<=o;return(t.fitsInViewportVertically||null!=a&&a<=r)&&f}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=Q8(e),o=this._viewportRect,a=Math.max(t.x+r.width-o.width,0),u=Math.max(t.y+r.height-o.height,0),h=Math.max(o.top-i.top-t.y,0),f=Math.max(o.left-i.left-t.x,0);let _=0,C=0;return _=r.width<=o.width?f||-a:t.x<this._viewportMargin?o.left-i.left-t.x:0,C=r.height<=o.height?h||-u:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:_,y:C},{x:t.x+_,y:t.y+C}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Iee(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,a,u,_,C,F;if("top"===e.overlayY)a=t.y,o=i.height-a+this._viewportMargin;else if("bottom"===e.overlayY)u=i.height-t.y+2*this._viewportMargin,o=i.height-u+this._viewportMargin;else{const B=Math.min(i.bottom-t.y+i.top,t.y),U=this._lastBoundingBoxSize.height;o=2*B,a=t.y-B,o>U&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-U/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)F=i.width-t.x+this._viewportMargin,_=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)C=t.x,_=i.right-t.x;else{const B=Math.min(i.right-t.x+i.left,t.x),U=this._lastBoundingBoxSize.width;_=2*B,C=t.x-B,_>U&&!this._isInitialRender&&!this._growAfterOpen&&(C=t.x-U/2)}return{top:a,left:C,bottom:u,right:F,width:_,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=Vl(i.height),r.top=Vl(i.top),r.bottom=Vl(i.bottom),r.width=Vl(i.width),r.left=Vl(i.left),r.right=Vl(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Vl(o)),a&&(r.maxWidth=Vl(a))}this._lastBoundingBoxSize=i,Ib(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ib(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ib(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){const _=this._viewportRuler.getViewportScrollPosition();Ib(i,this._getExactOverlayY(e,t,_)),Ib(i,this._getExactOverlayX(e,t,_))}else i.position="static";let u="",h=this._getOffset(e,"x"),f=this._getOffset(e,"y");h&&(u+=`translateX(${h}px) `),f&&(u+=`translateY(${f}px)`),i.transform=u.trim(),a.maxHeight&&(r?i.maxHeight=Vl(a.maxHeight):o&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=Vl(a.maxWidth):o&&(i.maxWidth="")),Ib(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Vl(o.y),r}_getExactOverlayX(t,e,i){let a,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),a=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===a?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Vl(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:L8(t,i),isOriginOutsideView:nU(t,i),isOverlayClipped:L8(e,i),isOverlayOutsideView:nU(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&_M(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Ib(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function U8(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(Bee);return e&&"px"!==e?null:parseFloat(t)}return n||null}function Q8(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const H8="cdk-global-overlay-wrapper";class Mee{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(H8),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:a,maxHeight:u}=i,h=!("100%"!==r&&"100vw"!==r||a&&"100%"!==a&&"100vw"!==a),f=!("100%"!==o&&"100vh"!==o||u&&"100%"!==u&&"100vh"!==u),_=this._xPosition,C=this._xOffset,F="rtl"===this._overlayRef.getConfig().direction;let B="",U="",H="";h?H="flex-start":"center"===_?(H="center",F?U=C:B=C):F?"left"===_||"end"===_?(H="flex-end",B=C):("right"===_||"start"===_)&&(H="flex-start",U=C):"left"===_||"start"===_?(H="flex-start",B=C):("right"===_||"end"===_)&&(H="flex-end",U=C),t.position=this._cssPosition,t.marginLeft=h?"0":B,t.marginTop=f?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=h?"0":U,e.justifyContent=H,e.alignItems=f?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(H8),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let kee=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new Mee}flexibleConnectedTo(e){return new Fee(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(yx),s.LFG(Ke),s.LFG(Fs),s.LFG(CM))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ree=0,bf=(()=>{class n{constructor(e,i,r,o,a,u,h,f,_,C,F,B){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=u,this._ngZone=h,this._document=f,this._directionality=_,this._location=C,this._outsideClickDispatcher=F,this._animationsModuleType=B}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),a=new bM(e);return a.direction=a.direction||this._directionality.value,new ID(o,i,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Ree++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new dee(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(See),s.LFG(CM),s.LFG(s._Vd),s.LFG(kee),s.LFG(Dee),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(Ke),s.LFG(wf),s.LFG(Jt),s.LFG(Tee),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Oee=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],V8=new s.OlP("cdk-connected-overlay-scroll-strategy");let j8=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),G8=(()=>{class n{constructor(e,i,r,o,a){this._overlay=e,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Po.w0.EMPTY,this._attachSubscription=Po.w0.EMPTY,this._detachSubscription=Po.w0.EMPTY,this._positionSubscription=Po.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new s.vpe,this.positionChange=new s.vpe,this.attach=new s.vpe,this.detach=new s.vpe,this.overlayKeydown=new s.vpe,this.overlayOutsideClick=new s.vpe,this._templatePortal=new CD(i,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Ci(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Ci(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Ci(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Ci(e)}get push(){return this._push}set push(e){this._push=Ci(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Oee);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Lm(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new bM({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof j8?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(qA(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(bf),s.Y36(s.Rgc),s.Y36(s.s_b),s.Y36(V8),s.Y36(wf,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[s.TTD]}),n})();const Nee={provide:V8,deps:[bf],useFactory:function Lee(n){return()=>n.scrollStrategies.reposition()}};let Cx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[bf,Nee],imports:[Eb,Sb,J5,J5]}),n})();function DD(n,t=Mp.z){return(0,Wr.e)((e,i)=>{let r=null,o=null,a=null;const u=()=>{if(r){r.unsubscribe(),r=null;const f=o;o=null,i.next(f)}};function h(){const f=a+n,_=t.now();if(_<f)return r=this.schedule(void 0,f-_),void i.add(r);u()}e.subscribe(new Nr.Q(i,f=>{o=f,a=t.now(),r||(r=t.schedule(h,n),i.add(r))},()=>{u(),i.complete()},void 0,()=>{o=r=null}))})}function z8(n){return _i((t,e)=>n<=e)}let q8=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pee=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=my(e);return new mr.y(r=>{const a=this._observeElement(i).subscribe(r);return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new nn.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(q8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iU=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Ci(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=su(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(DD(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Pee),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),xM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[q8]}),n})();const K8=new Set;let xx,Uee=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Hee}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Qee(n){if(!K8.has(n))try{xx||(xx=document.createElement("style"),xx.setAttribute("type","text/css"),document.head.appendChild(xx)),xx.sheet&&(xx.sheet.insertRule(`@media ${n} {body{ }}`,0),K8.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fs))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Hee(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let EM=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new nn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Z8(_M(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=al(Z8(_M(e)).map(a=>this._registerQuery(a).observable));return o=ll(o.pipe((0,Jr.q)(1)),o.pipe(z8(1),DD(0))),o.pipe((0,an.U)(a=>{const u={matches:!1,breakpoints:{}};return a.forEach(({matches:h,query:f})=>{u.matches=u.matches||h,u.breakpoints[f]=h}),u}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new mr.y(a=>{const u=h=>this._zone.run(()=>a.next(h));return i.addListener(u),()=>{i.removeListener(u)}}).pipe(sa(i),(0,an.U)(({matches:a})=>({query:e,matches:a})),Wi(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Uee),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Z8(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function SM(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const W8="cdk-describedby-message",IM="cdk-describedby-host";let rU=0,J8=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+rU++,this._document=e,this._id=(0,s.f3M)(s.AFp)+"-"+rU++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const o=sU(i,r);"string"!=typeof i?(X8(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const o=sU(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof i){const a=this._messageRegistry.get(o);a&&0===a.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${IM}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(IM);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");X8(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(sU(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=SM(e,"aria-describedby").filter(r=>0!=r.indexOf(W8));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function Vee(n,t,e){const i=SM(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(IM,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function jee(n,t,e){const r=SM(n,t).filter(o=>o!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(IM)}_isElementDescribedByMessage(e,i){const r=SM(e,"aria-describedby"),o=this._messageRegistry.get(i),a=o&&o.messageElement.id;return!!a&&-1!=r.indexOf(a)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ke),s.LFG(Fs))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sU(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function X8(n,t){n.id||(n.id=`${W8}-${t}-${rU++}`)}class e7{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new nn.x,this._typeaheadSubscription=Po.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new nn.x,this.change=new nn.x,t instanceof s.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Cr.b)(e=>this._pressedLetters.push(e)),DD(t),_i(()=>this._pressedLetters.length>0),(0,an.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,a=i[o];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Lm(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof s.n_E?this._items.toArray():this._items}}class Gee extends e7{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class zee extends e7{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let TD=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Kee(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function qee(n){try{return n.frameElement}catch{return null}}(function tte(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===n7(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=n7(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Xee(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function ete(n){return!function $ee(n){return function Wee(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Zee(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function Yee(n){return function Jee(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||t7(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fs))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function t7(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function n7(n){if(!t7(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class nte{constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,Jr.q)(1)).subscribe(t)}}let DM=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new nte(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(TD),s.LFG(s.R0b),s.LFG(Ke))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function i7(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function r7(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const ite=new s.OlP("cdk-input-modality-detector-options"),rte={ignoreKeys:[18,17,224,91,16]},Ex=yw({passive:!0,capture:!0});let ste=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new gr(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(u=>u===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=U_(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(i7(a)?"keyboard":"mouse"),this._mostRecentTarget=U_(a))},this._onTouchstart=a=>{r7(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=U_(a))},this._options={...rte,...o},this.modalityDetected=this._modality.pipe(z8(1)),this.modalityChanged=this.modalityDetected.pipe(yv()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Ex),r.addEventListener("mousedown",this._onMousedown,Ex),r.addEventListener("touchstart",this._onTouchstart,Ex)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ex),document.removeEventListener("mousedown",this._onMousedown,Ex),document.removeEventListener("touchstart",this._onTouchstart,Ex))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fs),s.LFG(s.R0b),s.LFG(Ke),s.LFG(ite,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ote=new s.OlP("liveAnnouncerElement",{providedIn:"root",factory:function ate(){return null}}),lte=new s.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let oU=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,a;return 1===i.length&&"number"==typeof i[0]?a=i[0]:[o,a]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==a&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",o),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(u=>this._currentResolve=u)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ote,8),s.LFG(s.R0b),s.LFG(Ke),s.LFG(lte,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cte=new s.OlP("cdk-focus-monitor-default-options"),TM=yw({passive:!0,capture:!0});let Kp=(()=>{class n{constructor(e,i,r,o,a){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new nn.x,this._rootNodeFocusAndBlurListener=u=>{for(let f=U_(u);f;f=f.parentElement)"focus"===u.type?this._onFocus(u,f):this._onBlur(u,f)},this._document=o,this._detectionMode=a?.detectionMode||0}monitor(e,i=!1){const r=my(e);if(!this._platform.isBrowser||1!==r.nodeType)return An(null);const o=U2(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;const u={checkChildren:i,subject:new nn.x,rootNode:o};return this._elementInfo.set(r,u),this._registerGlobalListeners(u),u.subject}stopMonitoring(e){const i=my(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=my(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([u,h])=>this._originChanged(u,i,h)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=U_(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,TM),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,TM)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Wi(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,TM),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,TM),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let a=0;a<o.length;a++)if(o[a].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Fs),s.LFG(ste),s.LFG(Ke,8),s.LFG(cte,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const o7="cdk-high-contrast-black-on-white",a7="cdk-high-contrast-white-on-black",aU="cdk-high-contrast-active";let l7=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,s.f3M)(EM).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(aU,o7,a7),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(aU,o7):2===i&&e.add(aU,a7)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fs),s.LFG(Ke))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),c7=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(l7))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[xM]}),n})();function ute(n,t){if(1&n&&s._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=s.oxw();s.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function dte(n,t){if(1&n&&(s.TgZ(0,"span",5),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.hij("(",e.group.label,")")}}const hte=["*"];let Ate=(()=>{class n{}return n.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",n.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",n.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",n.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",n})(),fte=(()=>{class n{}return n.COMPLEX="375ms",n.ENTERING="225ms",n.EXITING="195ms",n})();const gte=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function pte(){return!0}});let hr=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!fS()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(l7),s.LFG(gte,8),s.LFG(Ke))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Eb,Eb]}),n})();function Db(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Ci(t)}}}function A0(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function BM(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Ci(t)}}}function FM(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?su(e):this.defaultTabIndex}}}function h7(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}}}function A7(n){return class extends n{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new mr.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}const mte=new s.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function _te(){return(0,s.f3M)(s.soG)}});class f7{constructor(){this._localeChanges=new nn.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const yte=new s.OlP("mat-date-formats"),vte=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function lU(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let wte=(()=>{class n extends f7{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return lU(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return lU(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return lU(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let o=this._createDateWithOverflow(e,i,r);return o.getMonth(),o}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(vte.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const o=new Date;return o.setFullYear(e,i,r),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(mte,8),s.LFG(Fs))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const bte={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Cte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:f7,useClass:wte}]}),n})(),xte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:yte,useValue:bte}],imports:[Cte]}),n})(),MM=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ete{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const p7={enterDuration:225,exitDuration:150},cU=yw({passive:!0}),g7=["mousedown","touchstart"],m7=["mouseup","mouseleave","touchend","touchcancel"];class Ite{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=my(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...p7,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const a=i.radius||function Dte(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),u=t-r.left,h=e-r.top,f=o.enterDuration,_=document.createElement("div");_.classList.add("mat-ripple-element"),_.style.left=u-a+"px",_.style.top=h-a+"px",_.style.height=2*a+"px",_.style.width=2*a+"px",null!=i.color&&(_.style.backgroundColor=i.color),_.style.transitionDuration=`${f}ms`,this._containerElement.appendChild(_);const C=window.getComputedStyle(_),B=C.transitionDuration,U="none"===C.transitionProperty||"0s"===B||"0s, 0s"===B,H=new Ete(this,_,i,U);_.style.transform="scale3d(1, 1, 1)",H.state=0,i.persistent||(this._mostRecentTransientRipple=H);let Z=null;return!U&&(f||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const q=()=>this._finishRippleTransition(H),W=()=>this._destroyRipple(H);_.addEventListener("transitionend",q),_.addEventListener("transitioncancel",W),Z={onTransitionEnd:q,onTransitionCancel:W}}),this._activeRipples.set(H,Z),(U||!f)&&this._finishRippleTransition(H),H}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...p7,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=my(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(g7))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(m7),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=i7(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!r7(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,cU)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(g7.forEach(t=>{this._triggerElement.removeEventListener(t,this,cU)}),this._pointerUpEventsRegistered&&m7.forEach(t=>{this._triggerElement.removeEventListener(t,this,cU)}))}}const Tte=new s.OlP("mat-ripple-global-options");let Tb=(()=>{class n{constructor(e,i,r,o,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Ite(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(Fs),s.Y36(Tte,8),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),FD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[hr,hr]}),n})(),Bte=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&s.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),Fte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[hr]}),n})();const _7=new s.OlP("MAT_OPTION_PARENT_COMPONENT"),y7=new s.OlP("MatOptgroup");let Mte=0;class kte{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let Rte=(()=>{class n{constructor(e,i,r,o){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Mte++,this.onSelectionChange=new s.vpe,this._stateChanges=new nn.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Ci(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Lm(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new kte(this,e))}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),Bb=(()=>{class n extends Rte{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(_7,8),s.Y36(y7,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(o){return i._handleKeydown(o)}),2&e&&(s.Ikx("id",i.id),s.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),s.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[s.qOj],ngContentSelectors:hte,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,ute,1,2,"mat-pseudo-checkbox",0),s.TgZ(1,"span",1),s.Hsn(2),s.qZA(),s.YNc(3,dte,2,1,"span",2),s._UZ(4,"div",3)),2&e&&(s.Q6J("ngIf",i.multiple),s.xp6(3),s.Q6J("ngIf",i.group&&i.group._inert),s.xp6(1),s.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[Tb,Li,Bte],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),n})();function v7(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),o=0;for(let a=0;a<n+1;a++)i[a].group&&i[a].group===r[o]&&o++;return o}return 0}let w7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[FD,ea,hr,Fte]}),n})();const b7=["mat-button",""],C7=["*"],Pte=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Ute=A0(Db(BM(class{constructor(n){this._elementRef=n}})));let Ah=(()=>{class n extends Ute{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of Pte)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Kp),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&s.Gf(Tb,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:b7,ngContentSelectors:C7,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1)(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[Tb],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),x7=(()=>{class n extends Ah{constructor(e,i,r,o){super(i,e,r),this._ngZone=o,this._haltDisabledEvents=a=>{this.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone?this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}):this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Kp),s.Y36(s.SBq),s.Y36(s.QbO,8),s.Y36(s.R0b,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("tabindex",i.disabled?-1:i.tabIndex)("disabled",i.disabled||null)("aria-disabled",i.disabled.toString()),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[s.qOj],attrs:b7,ngContentSelectors:C7,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1)(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[Tb],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),kM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[FD,hr,hr]}),n})();class E7{}class Qte{}const _y="*";function Tc(n,t){return{type:7,name:n,definitions:t,options:{}}}function To(n,t=null){return{type:4,styles:t,timings:n}}function S7(n,t=null){return{type:3,steps:n,options:t}}function I7(n,t=null){return{type:2,steps:n,options:t}}function ui(n){return{type:6,styles:n,offset:null}}function Hr(n,t,e){return{type:0,name:n,styles:t,options:e}}function MD(n){return{type:5,steps:n}}function Ws(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function RM(n=null){return{type:9,options:n}}function OM(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function D7(n){Promise.resolve().then(n)}class kD{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){D7(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class T7{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?D7(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==o&&this._onFinish()}),a.onDestroy(()=>{++i==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,u)=>Math.max(a,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function Hte(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2)(1,"button",3),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.action())}),s._uU(2),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(2),s.Oqu(e.data.action)}}function Vte(n,t){}const B7=new s.OlP("MatSnackBarData");class LM{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const jte=Math.pow(2,31)-1;class dU{constructor(t,e){this._overlayRef=e,this._afterDismissed=new nn.x,this._afterOpened=new nn.x,this._onAction=new nn.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,jte))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let Gte=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(dU),s.Y36(B7))},n.\u0275cmp=s.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"span",0),s._uU(1),s.qZA(),s.YNc(2,Hte,3,1,"div",1)),2&e&&(s.xp6(1),s.Oqu(i.data.message),s.xp6(1),s.Q6J("ngIf",i.hasAction))},dependencies:[Li,Ah],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),n})();const zte={snackBarState:Tc("state",[Hr("void, hidden",ui({transform:"scale(0.8)",opacity:0})),Hr("visible",ui({transform:"scale(1)",opacity:1})),Ws("* => visible",To("150ms cubic-bezier(0, 0, 0.2, 1)")),Ws("* => void, * => hidden",To("75ms cubic-bezier(0.4, 0.0, 1, 1)",ui({opacity:0})))])};let qte=(()=>{class n extends wM{constructor(e,i,r,o,a){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=a,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new nn.x,this._onExit=new nn.x,this._onEnter=new nn.x,this._animationState="void",this.attachDomPortal=u=>{this._assertNotAttached();const h=this._portalOutlet.attachDomPortal(u);return this._afterPortalAttached(),h},this._live="assertive"!==a.politeness||a.announcementMessage?"off"===a.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,Jr.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.R0b),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Fs),s.Y36(LM))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&s.Gf(bx,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},features:[s.qOj]}),n})(),Kte=(()=>{class n extends qte{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&s.WFA("@state.done",function(o){return i.onAnimationEnd(o)}),2&e&&s.d8E("@state",i._animationState)},features:[s.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.YNc(1,Vte,0,0,"ng-template",1),s.qZA(),s._UZ(2,"div")),2&e&&(s.xp6(2),s.uIk("aria-live",i._live)("role",i._role))},dependencies:[bx],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[zte.snackBarState]}}),n})(),F7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Cx,Sb,ea,kM,hr,hr]}),n})();const M7=new s.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function Zte(){return new LM}});let $te=(()=>{class n{constructor(e,i,r,o,a,u){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=a,this._defaultConfig=u,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const o={...this._defaultConfig,...r};return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const o=s.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:LM,useValue:i}]}),a=new wx(this.snackBarContainerComponent,i.viewContainerRef,o),u=e.attach(a);return u.instance.snackBarConfig=i,u.instance}_attach(e,i){const r={...new LM,...this._defaultConfig,...i},o=this._createOverlay(r),a=this._attachSnackBarContainer(o,r),u=new dU(a,o);if(e instanceof s.Rgc){const h=new CD(e,null,{$implicit:r.data,snackBarRef:u});u.instance=a.attachTemplatePortal(h)}else{const h=this._createInjector(r,u),f=new wx(e,void 0,h),_=a.attachComponentPortal(f);u.instance=_.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Wi(o.detachments())).subscribe(h=>{o.overlayElement.classList.toggle(this.handsetCssClass,h.matches)}),r.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(u,r),this._openedSnackBarRef=u,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new bM;i.direction=e.direction;let r=this._overlay.position().global();const o="rtl"===e.direction,a="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!o||"end"===e.horizontalPosition&&o,u=!a&&"center"!==e.horizontalPosition;return a?r.left("0"):u?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return s.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:dU,useValue:i},{provide:B7,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(bf),s.LFG(oU),s.LFG(s.zs3),s.LFG(EM),s.LFG(n,12),s.LFG(M7))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),k7=(()=>{class n extends $te{constructor(e,i,r,o,a,u){super(e,i,r,o,a,u),this.simpleSnackBarComponent=Gte,this.snackBarContainerComponent=Kte,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(bf),s.LFG(oU),s.LFG(s.zs3),s.LFG(EM),s.LFG(n,12),s.LFG(M7))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:F7}),n})();const R7="https://fabiodagostino.github.io/rot/",O7="1106594210242625579",L7="74VfRYTw1f-ERkI4rfJGSVGwP3ShCsNe",RD="https://discord.com/api/v10";let Cf=(()=>{class n{constructor(e,i,r,o,a){this.store=e,this._snackBar=i,this.activated=r,this.http=o,this.utils=a,this.isRotinrim=!1,this.develop=!1,this.loggedIn=new gr(!1);const u=re(7986);this.develop=u.develop}get isLoggedInObs(){return this.loggedIn.asObservable()}getGuilds(e){const i=(new pl).set("Authorization",`Bearer ${e}`);return this.http.get(`${RD}/users/@me/guilds`,{headers:i})}getUserGuildInfo(e){const i=(new pl).set("Authorization",`Bearer ${e}`);return this.http.get(`${RD}/users/@me/guilds/511856322141093904/member`,{headers:i})}getUserInfo(e){const i=(new pl).set("Authorization",`Bearer ${e}`);return this.http.get(`${RD}/users/@me`,{headers:i})}logicaLogin(e){var i=new nn.x;return this.getGuilds(e.access_token).subscribe(r=>{r.find(o=>o.id.includes("511856322141093904"))?this.getUserGuildInfo(e.access_token).subscribe(o=>{const a=this.okLogin(e,"Rotiniel",o);i.next(a)},o=>{this.getUserInfo(e.access_token).subscribe(a=>{const u=this.okLogin(e,"Rotiniel",void 0,a.id,a.username);i.next(u)})}):r.find(o=>o.id.includes("608322373057249290"))?this.getUserInfo(e.access_token).subscribe(o=>{i.next(this.okLogin(e,"The Miracle Shard",void 0,o.id,o.username))}):this.openSnackBar("loginFallita")}),i.asObservable()}okLogin(e,i,r,o,a){var u;const h=new PX(e,r,o,a);return h.serverAutenticazione=i,this.checkUser(h).subscribe(),this.openSnackBar("login"),this.loggedIn.next(!0),localStorage.setItem("idUser",h.id),!(null===(u=h.ruoli)||void 0===u)&&u.includes("Cittadino")&&(this.isRotinrim=!0,h.interno=!0),h}loginDiscord(e){var i=new nn.x;return this.getAccessToken(e).subscribe(r=>{this.logicaLogin(r).subscribe(o=>{this.userLoggato=o,this.loggedIn.next(!0),i.next(o)})}),i.asObservable()}getAccessToken(e){var i=new nn.x;let o=new URLSearchParams;return o.append("client_id",O7),o.append("client_secret",L7),o.append("grant_type","authorization_code"),o.append("code",e),o.append("redirect_uri",this.develop?"http://localhost:4200/":R7),this.http.post(`${RD}/oauth2/token`,o,{headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}}).subscribe(a=>{a.expires=this.utils.addMillisecondsToCurrentDate(a.expires_in),i.next(a)}),i.asObservable()}rekoveAccessToken(){let i=new URLSearchParams;i.append("client_id",O7),i.append("client_secret",L7),i.append("redirect_uri",R7),i.append("token",localStorage.getItem("token")),localStorage.getItem("token")&&this.http.post(`${RD}/oauth2/token/revoke`,i,{headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}}).subscribe(r=>{})}getQueryParams(){return this.activated.snapshot.queryParamMap.get("code")}checkUser(e){var i=new nn.x,r=this.store.collection("User",o=>o.where("username","==",e.username)).valueChanges({idField:"id"}).subscribe(o=>{o.length>0?this.store.collection("User").doc(`${o[0].id}`).set({lastExpiresToken:e.token.expires,ruoli:e.ruoli},{merge:!0}):this.registrati(e),r.unsubscribe()});return i.asObservable()}registrati(e){this.store.collection("User").add({username:e.username,roles:e.ruoli,lastExpiresToken:e.token.expires,id:e.id,serverAutenticazione:e.serverAutenticazione})}getUser(){const e=localStorage.getItem("idUser");var i=new nn.x,r=this.store.collection("User",o=>o.where("id","==",e)).valueChanges().subscribe(o=>{1==o.length&&(i.next(o[0]),r.unsubscribe())});return i.asObservable()}SalvaTicket(e){this.store.collection("Ticket").add({user:e.user,messaggio:e.messaggio,tipologia:e.tipologia,tool:e.tool,data:new Date}),this.openSnackBar("segnalazioneInviata")}isLogged(){var e=new nn.x;return localStorage.getItem("idUser")&&this.getUser().subscribe(r=>{var o;if(r){if(this.utils.compareDates(r.lastExpiresToken))return this.logoutPartial(),void this.openSnackBar("sessioneScaduta");this.userLoggato=r,this.loggedIn.next(!0),null!==(o=this.userLoggato.ruoli)&&void 0!==o&&o.includes("Cittadino")&&(this.isRotinrim=!0)}else this.logoutPartial();e.next(!0)}),e.asObservable()}logout(){this.logoutPartial(),this.openSnackBar("logout")}logoutPartial(){this.isRotinrim=!1,this.loggedIn.next(!1),this.userLoggato=void 0,localStorage.removeItem("token"),localStorage.removeItem("idUser")}openSnackBar(e,i="top",r="end",o=""){switch(e){case"login":this.openSnack("Sei loggato correttamente!","blue-snackbar");break;case"logout":this.openSnack("Sei sloggato correttamente!","red-snackbar");break;case"registrazioneAvvenuta":this.openSnack("La registrazione \xe8 avvenuta con successo!","green-snackbar");break;case"registrazioneFallita":this.openSnack(""==o?"Hai sbagliato una o pi\xf9 risposte!":o,"red-snackbar",i,r);break;case"loginFallita":this.openSnack(""==o?"Per poter accedere devi essere presente nel server di Rotiniel o di The Miracle":o,"red-snackbar",i,r);break;case"segnalazioneInviata":this.openSnack("La segnalazione \xe8 stata inviata!","green-snackbar");break;case"infoAggiuntive":this.openSnack("Scarica il pdf per avere tutte le info aggiuntive.","green-snackbar",i,r);break;case"sessioneScaduta":this.openSnack("Sessione scaduta, effettua di nuovo la login!","yellow-snackbar",i,r);break;case"effettuaLogin":this.openSnack("Per poter inviare un ticket effettua la login!","yellow-snackbar",i,r)}}openSnack(e,i,r="top",o="end"){this._snackBar.open(e,"Ok",{duration:2e3,horizontalPosition:o,verticalPosition:r,panelClass:i})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gM),s.LFG(k7),s.LFG(yd),s.LFG(hm),s.LFG(vf))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Sx{constructor(){this.nome="",this.classe=new OD,this.skills=new Array,this.razza=new P7,this.stats=new Q7,this.malusMagico=0,this.religione=new N7,this.guid="",this.utilizzatoNVolte=0}}class Jte{constructor(){this.nome=""}}class Xte{constructor(){this.domanda="",this.risposta="",this.min=0}}class hU{constructor(){this.nome="",this.classe="",this.razza="",this.forza=0,this.destrezza=0,this.intelligenza=0,this.divinita="",this.pantheon="",this.guid="",this.utilizzatoNVolte=0}static Convert(t,e){let i=new Sx;return i.nome=t?.nome,i.stats=new Q7(t?.forza,t?.destrezza,t?.intelligenza),i.religione=new N7(t?.divinita),e.forEach(r=>{let o=new U7;o.nome=r?.nomeSkill,o.value=r?.valueSkill,o.isChecked=!0,o.idTipologiaSkill=r.idTipologiaSkill,o.id=r.idSkill,i.skills.push(o)}),i.guid=t?.guid,i.utilizzatoNVolte=t?.utilizzatoNVolte,i.razza=new P7(t?.razza),i.classe=new OD(0,t?.classe),i}}class ene{constructor(){this.nome="",this.info="",this.procedura=new Array,this.classe=""}}class AU{constructor(){this.id=0,this.religione="",this.spell=Array(),this.aura=""}}class fU{constructor(){this.id=0,this.religione="",this.spell=Array()}}class N7{constructor(t){this.id=0,this.nome="",this.pantheon="",t&&(this.nome=t)}}class P7{constructor(t){this.id=0,this.nome="",t&&(this.nome=t)}}class OD{constructor(t,e){this.id=0,this.nome="",this.notRazze=new Array,this.id=t,this.nome=e}static convertClasse(t){return new tne(t.id,t.nome)}}class LD{constructor(){this.nome="",this.id=0,this.classi=new Array,this.idTipologiaSkill=-1}static ConvertToSkillsChecked(t){let e=new Array;return t.forEach(i=>{let r=new U7;r.id=i.id,r.nome=i.nome,r.idTipologiaSkill=i.idTipologiaSkill,r.classi=i.classi,e.push(r)}),e}}class U7 extends LD{constructor(){super(...arguments),this.isChecked=!1,this.value=0}}class Q7{constructor(t,e,i){this.forza=0,this.destrezza=0,this.intelligenza=0,t&&e&&i&&(this.forza=t,this.destrezza=e,this.intelligenza=i)}}class tne extends OD{constructor(){super(...arguments),this.isChecked=!1}}const H7="@firebase/database";let pU="";function j7(n){pU=n}class rne{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,ae.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,ae.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class sne{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,ae.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const G7=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new rne(t)}}catch{}return new sne},Fb=G7("localStorage"),gU=G7("sessionStorage"),Ix=new df.Yd("@firebase/database"),z7=function(){let n=1;return function(){return n++}}(),q7=function(n){const t=(0,ae.dS)(n),e=new ae.gQ;e.update(t);const i=e.digest();return ae.US.encodeByteArray(i)},ND=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=ND.apply(null,i):t+="object"==typeof i?(0,ae.Wl)(i):i,t+=" "}return t};let Mb=null,K7=!0;const Z7=function(n,t){(0,ae.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Ix.logLevel=df.in.VERBOSE,Mb=Ix.log.bind(Ix),t&&gU.set("logging_enabled",!0)):"function"==typeof n?Mb=n:(Mb=null,gU.remove("logging_enabled"))},Bc=function(...n){if(!0===K7&&(K7=!1,null===Mb&&!0===gU.get("logging_enabled")&&Z7(!0)),Mb){const t=ND.apply(null,n);Mb(t)}},PD=function(n){return function(...t){Bc(n,...t)}},mU=function(...n){const t="FIREBASE INTERNAL ERROR: "+ND(...n);Ix.error(t)},Nm=function(...n){const t=`FIREBASE FATAL ERROR: ${ND(...n)}`;throw Ix.error(t),new Error(t)},Vu=function(...n){const t="FIREBASE WARNING: "+ND(...n);Ix.warn(t)},NM=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},f0="[MIN_NAME]",yy="[MAX_NAME]",kb=function(n,t){if(n===t)return 0;if(n===f0||t===yy)return-1;if(t===f0||n===yy)return 1;{const e=W7(n),i=W7(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},lne=function(n,t){return n===t?0:n<t?-1:1},UD=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,ae.Wl)(t))},_U=function(n){if("object"!=typeof n||null===n)return(0,ae.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,ae.Wl)(t[i]),e+=":",e+=_U(n[t[i]]);return e+="}",e},$7=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Fc(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Y7=function(n){(0,ae.hu)(!NM(n),"Invalid JSON number");const i=1023;let r,o,a,u,h;0===n?(o=0,a=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(u=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=u+i,a=Math.round(n*Math.pow(2,52-u)-Math.pow(2,52))):(o=0,a=Math.round(n/Math.pow(2,-1074))));const f=[];for(h=52;h;h-=1)f.push(a%2?1:0),a=Math.floor(a/2);for(h=11;h;h-=1)f.push(o%2?1:0),o=Math.floor(o/2);f.push(r?1:0),f.reverse();const _=f.join("");let C="";for(h=0;h<64;h+=8){let F=parseInt(_.substr(h,8),2).toString(16);1===F.length&&(F="0"+F),C+=F}return C.toLowerCase()},hne=new RegExp("^-?(0*)\\d{1,10}$"),W7=function(n){if(hne.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Dx=function(n){try{n()}catch(t){setTimeout(()=>{throw Vu("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},QD=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class gne{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Vu(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class mne{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Bc("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Vu(t)}}let HD=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const nj=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,sj="websocket",oj="long_polling";class vU{constructor(t,e,i,r,o=!1,a="",u=!1,h=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=h,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Fb.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Fb.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function aj(n,t,e){let i;if((0,ae.hu)("string"==typeof t,"typeof type must == string"),(0,ae.hu)("object"==typeof e,"typeof params must == object"),t===sj)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==oj)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function _ne(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Fc(e,(o,a)=>{r.push(o+"="+a)}),i+r.join("&")}class yne{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,ae.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,ae.p$)(this.counters_)}}const wU={},bU={};function CU(n){const t=n.toString();return wU[t]||(wU[t]=new yne),wU[t]}class wne{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Dx(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class p0{constructor(t,e,i,r,o,a,u){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=a,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=PD(t),this.stats_=CU(e),this.urlFn=h=>(this.appCheckToken&&(h.ac=this.appCheckToken),aj(e,oj,h))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new wne(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,ae.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new xU((...o)=>{const[a,u,h,f,_]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===a)this.id=u,this.password=h;else{if("close"!==a)throw new Error("Unrecognized command received: "+a);u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[a,u]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(a,u)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&nj.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){p0.forceAllow_=!0}static forceDisallow(){p0.forceDisallow_=!0}static isAvailable(){return!((0,ae.Yr)()||!p0.forceAllow_&&(p0.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,ae.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,ae.h$)(e),r=$7(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,ae.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,ae.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class xU{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ae.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=z7(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=xU.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){Bc("frame writing exception"),u.stack&&Bc(u.stack),Bc(u)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Bc("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const a=this.pendingSegs.shift();i=i+"&seg"+r+"="+a.seg+"&ts"+r+"="+a.ts+"&d"+r+"="+a.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,ae.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Bc("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let UM=null;typeof MozWebSocket<"u"?UM=MozWebSocket:typeof WebSocket<"u"&&(UM=WebSocket);let Tx=(()=>{class n{constructor(e,i,r,o,a,u,h){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=PD(this.connId),this.stats_=CU(i),this.connURL=n.connectionURL_(i,u,h,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,a){const u={v:"5"};return!(0,ae.Yr)()&&typeof location<"u"&&location.hostname&&nj.test(location.hostname)&&(u.r="f"),i&&(u.s=i),r&&(u.ls=r),o&&(u.ac=o),a&&(u.p=a),aj(e,sj,u)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Fb.set("previous_websocket_failure",!0);try{let r;if((0,ae.Yr)()){r={headers:{"User-Agent":`Firebase/5/${pU}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const a=process.env,u=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;u&&(r.proxy={origin:u})}this.mySock=new UM(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==UM&&!n.forceDisallow_}static previouslyFailed(){return Fb.isInMemoryStorage||!0===Fb.get("previous_websocket_failure")}markConnectionHealthy(){Fb.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,ae.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,ae.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,ae.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=$7(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),fj=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[p0,Tx]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Tx&&Tx.isAvailable();let r=i&&!Tx.previouslyFailed();if(e.webSocketOnly&&(i||Vu("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Tx];else{const o=this.transports_=[];for(const a of n.ALL_TRANSPORTS)a&&a.isAvailable()&&o.push(a);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class wj{constructor(t,e,i,r,o,a,u,h,f,_){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=a,this.onReady_=u,this.onDisconnect_=h,this.onKill_=f,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=PD("c:"+this.id+":"),this.transportManager_=new fj(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=QD(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=UD("t",t),i=UD("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=UD("t",t),i=UD("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=UD("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?mU("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):mU("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Vu("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),QD(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):QD(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Fb.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class bj{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class Cj{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,ae.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,ae.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class QM extends Cj{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,ae.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new QM}getInitialEvent(t){return(0,ae.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class ws{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function ls(){return new ws("")}function vr(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function g0(n){return n.pieces_.length-n.pieceNum_}function co(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new ws(n.pieces_,t)}function SU(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function VD(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function Sj(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new ws(t,0)}function ca(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof ws)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new ws(e,0)}function wr(n){return n.pieceNum_>=n.pieces_.length}function Fd(n,t){const e=vr(n),i=vr(t);if(null===e)return t;if(e===i)return Fd(co(n),co(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function jne(n,t){const e=VD(n,0),i=VD(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=kb(e[r],i[r]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function IU(n,t){if(g0(n)!==g0(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function xf(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(g0(n)>g0(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class Gne{constructor(t,e){this.errorPrefix_=e,this.parts_=VD(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,ae.ug)(this.parts_[i]);Ij(this)}}function Ij(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Rb(n))}function Rb(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class DU extends Cj{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new DU}getInitialEvent(t){return(0,ae.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const jD=1e3;let VM,Ob=(()=>{class n extends bj{constructor(e,i,r,o,a,u,h,f){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=a,this.authTokenProvider_=u,this.appCheckTokenProvider_=h,this.authOverride_=f,this.id=n.nextPersistentConnectionId_++,this.log_=PD("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=jD,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f&&!(0,ae.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");DU.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&QM.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,a={r:o,a:e,b:i};this.log_((0,ae.Wl)(a)),(0,ae.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new ae.BH,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const h=u.d;"ok"===u.s?i.resolve(h):i.reject(h)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,o){this.initConnection_();const a=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+a),this.listens.has(u)||this.listens.set(u,new Map),(0,ae.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ae.hu)(!this.listens.get(u).has(a),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(u).set(a,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const a={p:r};e.tag&&(a.q=i._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,h=>{const f=h.d,_=h.s;n.warnOnListenWarnings_(f,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",h),"ok"!==_&&this.removeListen_(r,o),e.onComplete&&e.onComplete(_,f))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,ae.r3)(e,"w")){const r=(0,ae.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',a=i._path.toString();Vu(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,ae.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,ae.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const a=o.s,u=o.d||"error";this.authToken_===e&&("ok"===a?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,ae.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const a={p:e};o&&(a.q=r,a.t=o),this.sendRequest("n",a)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const a={p:i,d:r};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,u=>{o&&setTimeout(()=>{o(u.s,u.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,a){this.initConnection_();const u={p:i,d:r};void 0!==a&&(u.h=a),this.outstandingPuts_.push({action:e,request:u,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,a=>{this.log_(i+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(a.s,a.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,ae.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):mU("Unrecognized action received from server: "+(0,ae.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,ae.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=jD,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=jD,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=jD),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,bt.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),a=e.id+":"+n.nextConnectionId_++,u=e.lastSessionId;let h=!1,f=null;const _=function(){f?f.close():(h=!0,o())};e.realtime_={close:_,sendRequest:function(B){(0,ae.hu)(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(B)}};const F=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[B,U]=yield Promise.all([e.authTokenProvider_.getToken(F),e.appCheckTokenProvider_.getToken(F)]);h?Bc("getToken() completed but was canceled"):(Bc("getToken() completed. Creating connection."),e.authToken_=B&&B.accessToken,e.appCheckToken_=U&&U.token,f=new wj(a,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,H=>{Vu(H+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},u))}catch(B){e.log_("Failed to get token: "+B),h||(e.repoInfo_.nodeAdmin&&Vu(B),_())}}})()}interrupt(e){Bc("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Bc("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,ae.xb)(this.interruptReasons_)&&(this.reconnectDelay_=jD,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(a=>_U(a)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new ws(e).toString();let o;if(this.listens.has(r)){const a=this.listens.get(r);o=a.get(i),a.delete(i),0===a.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){Bc("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Bc("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,ae.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+pU.replace(/\./g,"-")]=1,(0,ae.uI)()?e["framework.cordova"]=1:(0,ae.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=QM.getInstance().currentlyOnline();return(0,ae.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class xr{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new xr(t,e)}}class HM{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new xr(f0,t),r=new xr(f0,e);return 0!==this.compare(i,r)}minPost(){return xr.MIN}}class Bj extends HM{static get __EMPTY_NODE(){return VM}static set __EMPTY_NODE(t){VM=t}compare(t,e){return kb(t.name,e.name)}isDefinedOn(t){throw(0,ae.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return xr.MIN}maxPost(){return new xr(yy,VM)}makePost(t,e){return(0,ae.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new xr(t,VM)}toString(){return".key"}}const Pm=new Bj;class jM{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(a=e?i(t.key,e):1,r&&(a*=-1),a<0)t=this.isReverse_?t.left:t.right;else{if(0===a){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let BU,Zp=(()=>{class n{constructor(e,i,r,o,a){this.key=e,this.value=i,this.color=r??n.RED,this.left=o??fh.EMPTY_NODE,this.right=a??fh.EMPTY_NODE}copy(e,i,r,o,a){return new n(e??this.key,i??this.value,r??this.color,o??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===a?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return fh.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return fh.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class fh{constructor(t,e=fh.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new fh(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Zp.BLACK,null,null))}remove(t){return new fh(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Zp.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new jM(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new jM(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new jM(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new jM(this.root_,null,this.comparator_,!0,t)}}function Jne(n,t){return kb(n.name,t.name)}function TU(n,t){return kb(n,t)}fh.EMPTY_NODE=new class Wne{copy(t,e,i,r,o){return this}insert(t,e,i){return new Zp(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Fj=function(n){return"number"==typeof n?"number:"+Y7(n):"string:"+n},Mj=function(n){if(n.isLeafNode()){const t=n.val();(0,ae.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,ae.r3)(t,".sv"),"Priority must be a string or number.")}else(0,ae.hu)(n===BU||n.isEmpty(),"priority of unexpected type.");(0,ae.hu)(n===BU||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let kj,Rj,Oj,Bx=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,ae.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Mj(this.priorityNode_)}static set __childrenNodeConstructor(e){kj=e}static get __childrenNodeConstructor(){return kj}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return wr(e)?this:".priority"===vr(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=vr(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,ae.hu)(".priority"!==r||1===g0(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(co(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Fj(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Y7(this.value_):this.value_,this.lazyHash_=q7(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,ae.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),a=n.VALUE_TYPE_ORDER.indexOf(r);return(0,ae.hu)(o>=0,"Unknown leaf type: "+i),(0,ae.hu)(a>=0,"Unknown leaf type: "+r),o===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Bo=new class nie extends HM{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?kb(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return xr.MIN}maxPost(){return new xr(yy,new Bx("[PRIORITY-POST]",Oj))}makePost(t,e){const i=Rj(t);return new xr(e,new Bx("[PRIORITY-POST]",i))}toString(){return".priority"}},iie=Math.log(2);class rie{constructor(t){this.count=parseInt(Math.log(t+1)/iie,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const GM=function(n,t,e,i){n.sort(t);const r=function(h,f){const _=f-h;let C,F;if(0===_)return null;if(1===_)return C=n[h],F=e?e(C):C,new Zp(F,C.node,Zp.BLACK,null,null);{const B=parseInt(_/2,10)+h,U=r(h,B),H=r(B+1,f);return C=n[B],F=e?e(C):C,new Zp(F,C.node,Zp.BLACK,U,H)}},u=function(h){let f=null,_=null,C=n.length;const F=function(U,H){const Z=C-U,q=C;C-=U;const W=r(Z+1,q),he=n[Z],xe=e?e(he):he;B(new Zp(xe,he.node,H,null,W))},B=function(U){f?(f.left=U,f=U):(_=U,f=U)};for(let U=0;U<h.count;++U){const H=h.nextBitIsOne(),Z=Math.pow(2,h.count-(U+1));H?F(Z,Zp.BLACK):(F(Z,Zp.BLACK),F(Z,Zp.RED))}return _}(new rie(n.length));return new fh(i||t,u)};let FU;const Fx={};class vy{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,ae.hu)(Fx&&Bo,"ChildrenNode.ts has not been loaded"),FU=FU||new vy({".priority":Fx},{".priority":Bo}),FU}get(t){const e=(0,ae.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof fh?e:null}hasIndex(t){return(0,ae.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,ae.hu)(t!==Pm,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(xr.Wrap);let u,a=o.getNext();for(;a;)r=r||t.isDefinedOn(a.node),i.push(a),a=o.getNext();u=r?GM(i,t.getCompare()):Fx;const h=t.toString(),f=Object.assign({},this.indexSet_);f[h]=t;const _=Object.assign({},this.indexes_);return _[h]=u,new vy(_,f)}addToIndexes(t,e){const i=(0,ae.UI)(this.indexes_,(r,o)=>{const a=(0,ae.DV)(this.indexSet_,o);if((0,ae.hu)(a,"Missing index implementation for "+o),r===Fx){if(a.isDefinedOn(t.node)){const u=[],h=e.getIterator(xr.Wrap);let f=h.getNext();for(;f;)f.name!==t.name&&u.push(f),f=h.getNext();return u.push(t),GM(u,a.getCompare())}return Fx}{const u=e.get(t.name);let h=r;return u&&(h=h.remove(new xr(t.name,u))),h.insert(t,t.node)}});return new vy(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,ae.UI)(this.indexes_,r=>{if(r===Fx)return r;{const o=e.get(t.name);return o?r.remove(new xr(t.name,o)):r}});return new vy(i,this.indexSet_)}}let GD,or=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Mj(this.priorityNode_),this.children_.isEmpty()&&(0,ae.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return GD||(GD=new n(new fh(TU),null,vy.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||GD}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?GD:i}}getChild(e){const i=vr(e);return null===i?this:this.getImmediateChild(i).getChild(co(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,ae.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new xr(e,i);let o,a;i.isEmpty()?(o=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),a=this.indexMap_.addToIndexes(r,this.children_));const u=o.isEmpty()?GD:this.priorityNode_;return new n(o,u,a)}}updateChild(e,i){const r=vr(e);if(null===r)return i;{(0,ae.hu)(".priority"!==vr(e)||1===g0(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(co(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,a=!0;if(this.forEachChild(Bo,(u,h)=>{i[u]=h.val(e),r++,a&&n.INTEGER_REGEXP_.test(u)?o=Math.max(o,Number(u)):a=!1}),!e&&a&&o<2*r){const u=[];for(const h in i)u[h]=i[h];return u}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Fj(this.getPriority().val())+":"),this.forEachChild(Bo,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":q7(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const a=o.getPredecessorKey(new xr(e,i));return a?a.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new xr(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new xr(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,xr.Wrap);let a=o.peek();for(;null!=a&&i.compare(a,e)<0;)o.getNext(),a=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,xr.Wrap);let a=o.peek();for(;null!=a&&i.compare(a,e)>0;)o.getNext(),a=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===zD?-1:0}withIndex(e){if(e===Pm||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Pm||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Bo),o=i.getIterator(Bo);let a=r.getNext(),u=o.getNext();for(;a&&u;){if(a.name!==u.name||!a.node.equals(u.node))return!1;a=r.getNext(),u=o.getNext()}return null===a&&null===u}return!1}return!1}}resolveIndex_(e){return e===Pm?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const zD=new class sie extends or{constructor(){super(new fh(TU),or.EMPTY_NODE,vy.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return or.EMPTY_NODE}isEmpty(){return!1}};function Ea(n,t=null){if(null===n)return or.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,ae.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Bx(n,Ea(t));if(n instanceof Array){let e=or.EMPTY_NODE;return Fc(n,(i,r)=>{if((0,ae.r3)(n,i)&&"."!==i.substring(0,1)){const o=Ea(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(Ea(t))}{const e=[];let i=!1;if(Fc(n,(a,u)=>{if("."!==a.substring(0,1)){const h=Ea(u);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),e.push(new xr(a,h)))}}),0===e.length)return or.EMPTY_NODE;const o=GM(e,Jne,a=>a.name,TU);if(i){const a=GM(e,Bo.getCompare());return new or(o,Ea(t),new vy({".priority":a},{".priority":Bo}))}return new or(o,Ea(t),vy.Default)}}Object.defineProperties(xr,{MIN:{value:new xr(f0,or.EMPTY_NODE)},MAX:{value:new xr(yy,zD)}}),Bj.__EMPTY_NODE=or.EMPTY_NODE,Bx.__childrenNodeConstructor=or,function Xne(n){BU=n}(zD),function tie(n){Oj=n}(zD),function eie(n){Rj=n}(Ea);class MU extends HM{constructor(t){super(),this.indexPath_=t,(0,ae.hu)(!wr(t)&&".priority"!==vr(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?kb(t.name,e.name):o}makePost(t,e){const i=Ea(t),r=or.EMPTY_NODE.updateChild(this.indexPath_,i);return new xr(e,r)}maxPost(){const t=or.EMPTY_NODE.updateChild(this.indexPath_,zD);return new xr(yy,t)}toString(){return VD(this.indexPath_,0).join("/")}}const kU=new class aie extends HM{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?kb(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return xr.MIN}maxPost(){return xr.MAX}makePost(t,e){const i=Ea(t);return new xr(e,i)}toString(){return".value"}};function Lj(n){return{type:"value",snapshotNode:n}}function Mx(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function qD(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function KD(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class RU{constructor(t){this.index_=t}updateChild(t,e,i,r,o,a){(0,ae.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=t.getImmediateChild(e);return u.getChild(r).equals(i.getChild(r))&&u.isEmpty()===i.isEmpty()||(null!=a&&(i.isEmpty()?t.hasChild(e)?a.trackChildChange(qD(e,u)):(0,ae.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?a.trackChildChange(Mx(e,i)):a.trackChildChange(KD(e,i,u))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Bo,(r,o)=>{e.hasChild(r)||i.trackChildChange(qD(r,o))}),e.isLeafNode()||e.forEachChild(Bo,(r,o)=>{if(t.hasChild(r)){const a=t.getImmediateChild(r);a.equals(o)||i.trackChildChange(KD(r,o,a))}else i.trackChildChange(Mx(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?or.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ZD{constructor(t){this.indexedFilter_=new RU(t.getIndex()),this.index_=t.getIndex(),this.startPost_=ZD.getStartPost_(t),this.endPost_=ZD.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,o,a){return this.matches(new xr(e,i))||(i=or.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,a)}updateFullNode(t,e,i){e.isLeafNode()&&(e=or.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(or.EMPTY_NODE);const o=this;return e.forEachChild(Bo,(a,u)=>{o.matches(new xr(a,u))||(r=r.updateImmediateChild(a,or.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class cie{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new ZD(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,o,a){return this.rangedFilter_.matches(new xr(e,i))||(i=or.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,a):this.fullLimitUpdateChild_(t,e,i,o,a)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=or.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=or.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;o.hasNext()&&a<this.limit_;){const u=o.getNext();if(this.withinDirectionalStart(u)){if(!this.withinDirectionalEnd(u))break;r=r.updateImmediateChild(u.name,u.node),a++}}}else{let o;r=e.withIndex(this.index_),r=r.updatePriority(or.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let a=0;for(;o.hasNext();){const u=o.getNext();a<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?a++:r=r.updateImmediateChild(u.name,or.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let a;if(this.reverse_){const C=this.index_.getCompare();a=(F,B)=>C(B,F)}else a=this.index_.getCompare();const u=t;(0,ae.hu)(u.numChildren()===this.limit_,"");const h=new xr(e,i),f=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),_=this.rangedFilter_.matches(h);if(u.hasChild(e)){const C=u.getImmediateChild(e);let F=r.getChildAfterChild(this.index_,f,this.reverse_);for(;null!=F&&(F.name===e||u.hasChild(F.name));)F=r.getChildAfterChild(this.index_,F,this.reverse_);const B=null==F?1:a(F,h);if(_&&!i.isEmpty()&&B>=0)return o?.trackChildChange(KD(e,i,C)),u.updateImmediateChild(e,i);{o?.trackChildChange(qD(e,C));const H=u.updateImmediateChild(e,or.EMPTY_NODE);return null!=F&&this.rangedFilter_.matches(F)?(o?.trackChildChange(Mx(F.name,F.node)),H.updateImmediateChild(F.name,F.node)):H}}return i.isEmpty()?t:_&&a(f,h)>=0?(null!=o&&(o.trackChildChange(qD(f.name,f.node)),o.trackChildChange(Mx(e,i))),u.updateImmediateChild(e,i).updateImmediateChild(f.name,or.EMPTY_NODE)):t}}class zM{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Bo}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ae.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ae.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:f0}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ae.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ae.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:yy}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ae.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Bo}copy(){const t=new zM;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function OU(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function LU(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function qM(n,t){const e=n.copy();return e.index_=t,e}function Nj(n){const t={};if(n.isDefault())return t;let e;if(n.index_===Bo?e="$priority":n.index_===kU?e="$value":n.index_===Pm?e="$key":((0,ae.hu)(n.index_ instanceof MU,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,ae.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,ae.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,ae.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,ae.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,ae.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Pj(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Bo&&(t.i=n.index_.toString()),t}class KM extends bj{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=PD("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,ae.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const a=KM.getListenId_(t,i),u={};this.listens_[a]=u;const h=Nj(t._queryParams);this.restRequest_(o+".json",h,(f,_)=>{let C=_;if(404===f&&(C=null,f=null),null===f&&this.onDataUpdate_(o,C,!1,i),(0,ae.DV)(this.listens_,a)===u){let F;F=f?401===f?"permission_denied":"rest_error:"+f:"ok",r(F,null)}})}unlisten(t,e){const i=KM.getListenId_(t,e);delete this.listens_[i]}get(t){const e=Nj(t._queryParams),i=t._path.toString(),r=new ae.BH;return this.restRequest_(i+".json",e,(o,a)=>{let u=a;404===o&&(u=null,o=null),null===o?(this.onDataUpdate_(i,u,!1,null),r.resolve(u)):r.reject(new Error(u))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,ae.xO)(e);this.log_("Sending REST request for "+a);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(i&&4===u.readyState){this.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);let h=null;if(u.status>=200&&u.status<300){try{h=(0,ae.cI)(u.responseText)}catch{Vu("Failed to parse JSON response for "+a+": "+u.responseText)}i(null,h)}else 401!==u.status&&404!==u.status&&Vu("Got unsuccessful REST response for "+a+" Status: "+u.status),i(u.status);i=null}},u.open("GET",a,!0),u.send()})}}class pie{constructor(){this.rootNode_=or.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function ZM(){return{value:null,children:new Map}}function kx(n,t,e){if(wr(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=vr(t);n.children.has(i)||n.children.set(i,ZM()),kx(n.children.get(i),t=co(t),e)}}function NU(n,t){if(wr(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Bo,(i,r)=>{kx(n,new ws(i),r)}),NU(n,t)}}if(n.children.size>0){const e=vr(t);return t=co(t),n.children.has(e)&&NU(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function PU(n,t,e){null!==n.value?e(t,n.value):function gie(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{PU(r,new ws(t.toString()+"/"+i),e)})}class mie{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Fc(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class vie{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new mie(t);const i=1e4+2e4*Math.random();QD(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Fc(t,(r,o)=>{o>0&&(0,ae.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),QD(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ef=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ef||(Ef={})),Ef))();function HU(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class $M{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Ef.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(wr(this.path)){if(null!=this.affectedTree.value)return(0,ae.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new ws(t));return new $M(ls(),e,this.revert)}}return(0,ae.hu)(vr(this.path)===t,"operationForChild called for unrelated child."),new $M(co(this.path),this.affectedTree,this.revert)}}class $D{constructor(t,e){this.source=t,this.path=e,this.type=Ef.LISTEN_COMPLETE}operationForChild(t){return wr(this.path)?new $D(this.source,ls()):new $D(this.source,co(this.path))}}class Lb{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Ef.OVERWRITE}operationForChild(t){return wr(this.path)?new Lb(this.source,ls(),this.snap.getImmediateChild(t)):new Lb(this.source,co(this.path),this.snap)}}class Rx{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Ef.MERGE}operationForChild(t){if(wr(this.path)){const e=this.children.subtree(new ws(t));return e.isEmpty()?null:e.value?new Lb(this.source,ls(),e.value):new Rx(this.source,ls(),e)}return(0,ae.hu)(vr(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Rx(this.source,co(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class m0{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(wr(t))return this.isFullyInitialized()&&!this.filtered_;const e=vr(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class wie{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function YD(n,t,e,i,r,o){const a=i.filter(u=>u.type===e);a.sort((u,h)=>function xie(n,t,e){if(null==t.childName||null==e.childName)throw(0,ae.g5)("Should only compare child_ events.");const i=new xr(t.childName,t.snapshotNode),r=new xr(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,u,h)),a.forEach(u=>{const h=function Cie(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,u,o);r.forEach(f=>{f.respondsTo(u.type)&&t.push(f.createEvent(h,n.query_))})})}function YM(n,t){return{eventCache:n,serverCache:t}}function WD(n,t,e,i){return YM(new m0(t,e,i),n.serverCache)}function Qj(n,t,e,i){return YM(n.eventCache,new m0(t,e,i))}function WM(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Nb(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let VU;class Fo{constructor(t,e=(()=>(VU||(VU=new fh(lne)),VU))()){this.value=t,this.children=e}static fromObject(t){let e=new Fo(null);return Fc(t,(i,r)=>{e=e.set(new ws(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:ls(),value:this.value};if(wr(t))return null;{const i=vr(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(co(t),e);return null!=o?{path:ca(new ws(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(wr(t))return this;{const e=vr(t),i=this.children.get(e);return null!==i?i.subtree(co(t)):new Fo(null)}}set(t,e){if(wr(t))return new Fo(e,this.children);{const i=vr(t),o=(this.children.get(i)||new Fo(null)).set(co(t),e),a=this.children.insert(i,o);return new Fo(this.value,a)}}remove(t){if(wr(t))return this.children.isEmpty()?new Fo(null):new Fo(null,this.children);{const e=vr(t),i=this.children.get(e);if(i){const r=i.remove(co(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new Fo(null):new Fo(this.value,o)}return this}}get(t){if(wr(t))return this.value;{const e=vr(t),i=this.children.get(e);return i?i.get(co(t)):null}}setTree(t,e){if(wr(t))return e;{const i=vr(t),o=(this.children.get(i)||new Fo(null)).setTree(co(t),e);let a;return a=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new Fo(this.value,a)}}fold(t){return this.fold_(ls(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(ca(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,ls(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(wr(t))return null;{const o=vr(t),a=this.children.get(o);return a?a.findOnPath_(co(t),ca(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,ls(),e)}foreachOnPath_(t,e,i){if(wr(t))return this;{this.value&&i(e,this.value);const r=vr(t),o=this.children.get(r);return o?o.foreachOnPath_(co(t),ca(e,r),i):new Fo(null)}}foreach(t){this.foreach_(ls(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(ca(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class $p{constructor(t){this.writeTree_=t}static empty(){return new $p(new Fo(null))}}function JD(n,t,e){if(wr(t))return new $p(new Fo(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const a=Fd(r,t);return o=o.updateChild(a,e),new $p(n.writeTree_.set(r,o))}{const r=new Fo(e),o=n.writeTree_.setTree(t,r);return new $p(o)}}}function jU(n,t,e){let i=n;return Fc(e,(r,o)=>{i=JD(i,ca(t,r),o)}),i}function Hj(n,t){if(wr(t))return $p.empty();{const e=n.writeTree_.setTree(t,new Fo(null));return new $p(e)}}function GU(n,t){return null!=Pb(n,t)}function Pb(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Fd(e.path,t)):null}function Vj(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Bo,(i,r)=>{t.push(new xr(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new xr(i,r.value))}),t}function _0(n,t){if(wr(t))return n;{const e=Pb(n,t);return new $p(null!=e?new Fo(e):n.writeTree_.subtree(t))}}function zU(n){return n.writeTree_.isEmpty()}function Ox(n,t){return jj(ls(),n.writeTree_,t)}function jj(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,ae.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=jj(ca(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(ca(n,".priority"),i)),e}}function JM(n,t){return Zj(t,n)}function Bie(n,t){if(n.snap)return xf(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&xf(ca(n.path,e),t))return!0;return!1}function Mie(n){return n.visible}function Gj(n,t,e){let i=$p.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const a=o.path;let u;if(o.snap)xf(e,a)?(u=Fd(e,a),i=JD(i,u,o.snap)):xf(a,e)&&(u=Fd(a,e),i=JD(i,ls(),o.snap.getChild(u)));else{if(!o.children)throw(0,ae.g5)("WriteRecord should have .snap or .children");if(xf(e,a))u=Fd(e,a),i=jU(i,u,o.children);else if(xf(a,e))if(u=Fd(a,e),wr(u))i=jU(i,ls(),o.children);else{const h=(0,ae.DV)(o.children,vr(u));if(h){const f=h.getChild(co(u));i=JD(i,ls(),f)}}}}}return i}function zj(n,t,e,i,r){if(i||r){const o=_0(n.visibleWrites,t);return!r&&zU(o)?e:r||null!=e||GU(o,ls())?Ox(Gj(n.allWrites,function(f){return(f.visible||r)&&(!i||!~i.indexOf(f.writeId))&&(xf(f.path,t)||xf(t,f.path))},t),e||or.EMPTY_NODE):null}{const o=Pb(n.visibleWrites,t);if(null!=o)return o;{const a=_0(n.visibleWrites,t);return zU(a)?e:null!=e||GU(a,ls())?Ox(a,e||or.EMPTY_NODE):null}}}function XM(n,t,e,i){return zj(n.writeTree,n.treePath,t,e,i)}function qU(n,t){return function kie(n,t,e){let i=or.EMPTY_NODE;const r=Pb(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Bo,(o,a)=>{i=i.updateImmediateChild(o,a)}),i;if(e){const o=_0(n.visibleWrites,t);return e.forEachChild(Bo,(a,u)=>{const h=Ox(_0(o,new ws(a)),u);i=i.updateImmediateChild(a,h)}),Vj(o).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}return Vj(_0(n.visibleWrites,t)).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}(n.writeTree,n.treePath,t)}function qj(n,t,e,i){return function Rie(n,t,e,i,r){(0,ae.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=ca(t,e);if(GU(n.visibleWrites,o))return null;{const a=_0(n.visibleWrites,o);return zU(a)?r.getChild(e):Ox(a,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function ek(n,t){return function Lie(n,t){return Pb(n.visibleWrites,t)}(n.writeTree,ca(n.treePath,t))}function KU(n,t,e){return function Oie(n,t,e,i){const r=ca(t,e),o=Pb(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?Ox(_0(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function Kj(n,t){return Zj(ca(n.treePath,t),n.writeTree)}function Zj(n,t){return{treePath:n,writeTree:t}}class Qie{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,ae.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,ae.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,KD(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,qD(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,Mx(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,ae.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,KD(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const $j=new class Hie{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class ZU{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new m0(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return KU(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Nb(this.viewCache_),o=function Uie(n,t,e,i,r,o){return function Nie(n,t,e,i,r,o,a){let u;const h=_0(n.visibleWrites,t),f=Pb(h,ls());if(null!=f)u=f;else{if(null==e)return[];u=Ox(h,e)}if(u=u.withIndex(a),u.isEmpty()||u.isLeafNode())return[];{const _=[],C=a.getCompare(),F=o?u.getReverseIteratorFrom(i,a):u.getIteratorFrom(i,a);let B=F.getNext();for(;B&&_.length<r;)0!==C(B,i)&&_.push(B),B=F.getNext();return _}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function Yj(n,t,e,i,r,o){const a=t.eventCache;if(null!=ek(i,e))return t;{let u,h;if(wr(e))if((0,ae.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const f=Nb(t),C=qU(i,f instanceof or?f:or.EMPTY_NODE);u=n.filter.updateFullNode(t.eventCache.getNode(),C,o)}else{const f=XM(i,Nb(t));u=n.filter.updateFullNode(t.eventCache.getNode(),f,o)}else{const f=vr(e);if(".priority"===f){(0,ae.hu)(1===g0(e),"Can't have a priority with additional path components");const _=a.getNode();h=t.serverCache.getNode();const C=qj(i,e,_,h);u=null!=C?n.filter.updatePriority(_,C):a.getNode()}else{const _=co(e);let C;if(a.isCompleteForChild(f)){h=t.serverCache.getNode();const F=qj(i,e,a.getNode(),h);C=null!=F?a.getNode().getImmediateChild(f).updateChild(_,F):a.getNode().getImmediateChild(f)}else C=KU(i,f,t.serverCache);u=null!=C?n.filter.updateChild(a.getNode(),f,C,_,r,o):a.getNode()}}return WD(t,u,a.isFullyInitialized()||wr(e),n.filter.filtersNodes())}}function tk(n,t,e,i,r,o,a,u){const h=t.serverCache;let f;const _=a?n.filter:n.filter.getIndexedFilter();if(wr(e))f=_.updateFullNode(h.getNode(),i,null);else if(_.filtersNodes()&&!h.isFiltered()){const B=h.getNode().updateChild(e,i);f=_.updateFullNode(h.getNode(),B,null)}else{const B=vr(e);if(!h.isCompleteForPath(e)&&g0(e)>1)return t;const U=co(e),Z=h.getNode().getImmediateChild(B).updateChild(U,i);f=".priority"===B?_.updatePriority(h.getNode(),Z):_.updateChild(h.getNode(),B,Z,U,$j,null)}const C=Qj(t,f,h.isFullyInitialized()||wr(e),_.filtersNodes());return Yj(n,C,e,r,new ZU(r,C,o),u)}function $U(n,t,e,i,r,o,a){const u=t.eventCache;let h,f;const _=new ZU(r,t,o);if(wr(e))f=n.filter.updateFullNode(t.eventCache.getNode(),i,a),h=WD(t,f,!0,n.filter.filtersNodes());else{const C=vr(e);if(".priority"===C)f=n.filter.updatePriority(t.eventCache.getNode(),i),h=WD(t,f,u.isFullyInitialized(),u.isFiltered());else{const F=co(e),B=u.getNode().getImmediateChild(C);let U;if(wr(F))U=i;else{const H=_.getCompleteChild(C);U=null!=H?".priority"===SU(F)&&H.getChild(Sj(F)).isEmpty()?H:H.updateChild(F,i):or.EMPTY_NODE}h=B.equals(U)?t:WD(t,n.filter.updateChild(u.getNode(),C,U,F,_,a),u.isFullyInitialized(),n.filter.filtersNodes())}}return h}function Wj(n,t){return n.eventCache.isCompleteForChild(t)}function Jj(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function YU(n,t,e,i,r,o,a,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let f,h=t;f=wr(e)?i:new Fo(null).setTree(e,i);const _=t.serverCache.getNode();return f.children.inorderTraversal((C,F)=>{if(_.hasChild(C)){const U=Jj(0,t.serverCache.getNode().getImmediateChild(C),F);h=tk(n,h,new ws(C),U,r,o,a,u)}}),f.children.inorderTraversal((C,F)=>{const B=!t.serverCache.isCompleteForChild(C)&&null===F.value;if(!_.hasChild(C)&&!B){const H=Jj(0,t.serverCache.getNode().getImmediateChild(C),F);h=tk(n,h,new ws(C),H,r,o,a,u)}}),h}class Yie{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new RU(i.getIndex()),o=function uie(n){return n.loadsAllData()?new RU(n.getIndex()):n.hasLimit()?new cie(n):new ZD(n)}(i);this.processor_=function Vie(n){return{filter:n}}(o);const a=e.serverCache,u=e.eventCache,h=r.updateFullNode(or.EMPTY_NODE,a.getNode(),null),f=o.updateFullNode(or.EMPTY_NODE,u.getNode(),null),_=new m0(h,a.isFullyInitialized(),r.filtersNodes()),C=new m0(f,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=YM(C,_),this.eventGenerator_=new wie(this.query_)}get query(){return this.query_}}function Xie(n,t){const e=Nb(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!wr(t)&&!e.getImmediateChild(vr(t)).isEmpty())?e.getChild(t):null}function Xj(n){return 0===n.eventRegistrations_.length}function eG(n,t,e){const i=[];if(e){(0,ae.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const a=o.createCancelEvent(e,r);a&&i.push(a)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const a=n.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(a)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function tG(n,t,e,i){t.type===Ef.MERGE&&null!==t.source.queryId&&((0,ae.hu)(Nb(n.viewCache_),"We should always have a full cache before handling merges"),(0,ae.hu)(WM(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function Gie(n,t,e,i,r){const o=new Qie;let a,u;if(e.type===Ef.OVERWRITE){const f=e;f.source.fromUser?a=$U(n,t,f.path,f.snap,i,r,o):((0,ae.hu)(f.source.fromServer,"Unknown source."),u=f.source.tagged||t.serverCache.isFiltered()&&!wr(f.path),a=tk(n,t,f.path,f.snap,i,r,u,o))}else if(e.type===Ef.MERGE){const f=e;f.source.fromUser?a=function qie(n,t,e,i,r,o,a){let u=t;return i.foreach((h,f)=>{const _=ca(e,h);Wj(t,vr(_))&&(u=$U(n,u,_,f,r,o,a))}),i.foreach((h,f)=>{const _=ca(e,h);Wj(t,vr(_))||(u=$U(n,u,_,f,r,o,a))}),u}(n,t,f.path,f.children,i,r,o):((0,ae.hu)(f.source.fromServer,"Unknown source."),u=f.source.tagged||t.serverCache.isFiltered(),a=YU(n,t,f.path,f.children,i,r,u,o))}else if(e.type===Ef.ACK_USER_WRITE){const f=e;a=f.revert?function $ie(n,t,e,i,r,o){let a;if(null!=ek(i,e))return t;{const u=new ZU(i,t,r),h=t.eventCache.getNode();let f;if(wr(e)||".priority"===vr(e)){let _;if(t.serverCache.isFullyInitialized())_=XM(i,Nb(t));else{const C=t.serverCache.getNode();(0,ae.hu)(C instanceof or,"serverChildren would be complete if leaf node"),_=qU(i,C)}f=n.filter.updateFullNode(h,_,o)}else{const _=vr(e);let C=KU(i,_,t.serverCache);null==C&&t.serverCache.isCompleteForChild(_)&&(C=h.getImmediateChild(_)),f=null!=C?n.filter.updateChild(h,_,C,co(e),u,o):t.eventCache.getNode().hasChild(_)?n.filter.updateChild(h,_,or.EMPTY_NODE,co(e),u,o):h,f.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=XM(i,Nb(t)),a.isLeafNode()&&(f=n.filter.updateFullNode(f,a,o)))}return a=t.serverCache.isFullyInitialized()||null!=ek(i,ls()),WD(t,f,a,n.filter.filtersNodes())}}(n,t,f.path,i,r,o):function Kie(n,t,e,i,r,o,a){if(null!=ek(r,e))return t;const u=t.serverCache.isFiltered(),h=t.serverCache;if(null!=i.value){if(wr(e)&&h.isFullyInitialized()||h.isCompleteForPath(e))return tk(n,t,e,h.getNode().getChild(e),r,o,u,a);if(wr(e)){let f=new Fo(null);return h.getNode().forEachChild(Pm,(_,C)=>{f=f.set(new ws(_),C)}),YU(n,t,e,f,r,o,u,a)}return t}{let f=new Fo(null);return i.foreach((_,C)=>{const F=ca(e,_);h.isCompleteForPath(F)&&(f=f.set(_,h.getNode().getChild(F)))}),YU(n,t,e,f,r,o,u,a)}}(n,t,f.path,f.affectedTree,i,r,o)}else{if(e.type!==Ef.LISTEN_COMPLETE)throw(0,ae.g5)("Unknown operation type: "+e.type);a=function Zie(n,t,e,i,r){const o=t.serverCache;return Yj(n,Qj(t,o.getNode(),o.isFullyInitialized()||wr(e),o.isFiltered()),e,i,$j,r)}(n,t,e.path,i,o)}const h=o.getChanges();return function zie(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=WM(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(Lj(WM(t)))}}(t,a,h),{viewCache:a,changes:h}}(n.processor_,r,t,e,i);return function jie(n,t){(0,ae.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,ae.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,ae.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,nG(n,o.changes,o.viewCache.eventCache.getNode(),null)}function nG(n,t,e,i){return function bie(n,t,e,i){const r=[],o=[];return t.forEach(a=>{"child_changed"===a.type&&n.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(function lie(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(a.childName,a.snapshotNode))}),YD(n,r,"child_removed",t,i,e),YD(n,r,"child_added",t,i,e),YD(n,r,"child_moved",o,i,e),YD(n,r,"child_changed",t,i,e),YD(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let nk,rk;class iG{constructor(){this.views=new Map}}function WU(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,ae.hu)(null!=o,"SyncTree gave us an op for an invalid query."),tG(o,t,e,i)}{let o=[];for(const a of n.views.values())o=o.concat(tG(a,t,e,i));return o}}function rG(n,t,e,i,r){const a=n.views.get(t._queryIdentifier);if(!a){let u=XM(e,r?i:null),h=!1;u?h=!0:i instanceof or?(u=qU(e,i),h=!1):(u=or.EMPTY_NODE,h=!1);const f=YM(new m0(u,h,!1),new m0(i,r,!1));return new Yie(t,f)}return a}function sG(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function y0(n,t){let e=null;for(const i of n.views.values())e=e||Xie(i,t);return e}function oG(n,t){return t._queryParams.loadsAllData()?ik(n):n.views.get(t._queryIdentifier)}function aG(n,t){return null!=oG(n,t)}function v0(n){return null!=ik(n)}function ik(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let cre=1;class lG{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Fo(null),this.pendingWriteTree_=function Pie(){return{visibleWrites:$p.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function JU(n,t,e,i,r){return function Sie(n,t,e,i,r){(0,ae.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=JD(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Lx(n,new Lb({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function w0(n,t,e=!1){const i=function Die(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function Tie(n,t){const e=n.allWrites.findIndex(u=>u.writeId===t);(0,ae.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,a=n.allWrites.length-1;for(;r&&a>=0;){const u=n.allWrites[a];u.visible&&(a>=e&&Bie(u,i.path)?r=!1:xf(i.path,u.path)&&(o=!0)),a--}return!!r&&(o?(function Fie(n){n.visibleWrites=Gj(n.allWrites,Mie,ls()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=Hj(n.visibleWrites,i.path):Fc(i.children,h=>{n.visibleWrites=Hj(n.visibleWrites,ca(i.path,h))}),!0))}(n.pendingWriteTree_,t)){let o=new Fo(null);return null!=i.snap?o=o.set(ls(),!0):Fc(i.children,a=>{o=o.set(new ws(a),!0)}),Lx(n,new $M(i.path,o,e))}return[]}function XD(n,t,e){return Lx(n,new Lb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function sk(n,t,e,i,r=!1){const o=t._path,a=n.syncPointTree_.get(o);let u=[];if(a&&("default"===t._queryIdentifier||aG(a,t))){const h=function ore(n,t,e,i){const r=t._queryIdentifier,o=[];let a=[];const u=v0(n);if("default"===r)for(const[h,f]of n.views.entries())a=a.concat(eG(f,e,i)),Xj(f)&&(n.views.delete(h),f.query._queryParams.loadsAllData()||o.push(f.query));else{const h=n.views.get(r);h&&(a=a.concat(eG(h,e,i)),Xj(h)&&(n.views.delete(r),h.query._queryParams.loadsAllData()||o.push(h.query)))}return u&&!v0(n)&&o.push(new(function ire(){return(0,ae.hu)(nk,"Reference.ts has not been loaded"),nk}())(t._repo,t._path)),{removed:o,events:a}}(a,t,e,i);(function rre(n){return 0===n.views.size})(a)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const f=h.removed;if(u=h.events,!r){const _=-1!==f.findIndex(F=>F._queryParams.loadsAllData()),C=n.syncPointTree_.findOnPath(o,(F,B)=>v0(B));if(_&&!C){const F=n.syncPointTree_.subtree(o);if(!F.isEmpty()){const B=function gre(n){return n.fold((t,e,i)=>{if(e&&v0(e))return[ik(e)];{let r=[];return e&&(r=sG(e)),Fc(i,(o,a)=>{r=r.concat(a)}),r}})}(F);for(let U=0;U<B.length;++U){const H=B[U],Z=H.query,q=hG(n,H);n.listenProvider_.startListening(tT(Z),eT(n,Z),q.hashFn,q.onComplete)}}}!C&&f.length>0&&!i&&(_?n.listenProvider_.stopListening(tT(t),null):f.forEach(F=>{const B=n.queryToTagMap.get(ak(F));n.listenProvider_.stopListening(tT(F),B)}))}!function mre(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=ak(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,f)}return u}function cG(n,t,e,i){const r=e4(n,i);if(null!=r){const o=t4(r),a=o.path,u=o.queryId,h=Fd(a,t);return n4(n,a,new Lb(HU(u),h,e))}return[]}function XU(n,t,e,i=!1){const r=t._path;let o=null,a=!1;n.syncPointTree_.foreachOnPath(r,(F,B)=>{const U=Fd(F,r);o=o||y0(B,U),a=a||v0(B)});let h,u=n.syncPointTree_.get(r);u?(a=a||v0(u),o=o||y0(u,ls())):(u=new iG,n.syncPointTree_=n.syncPointTree_.set(r,u)),null!=o?h=!0:(h=!1,o=or.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((B,U)=>{const H=y0(U,ls());H&&(o=o.updateImmediateChild(B,H))}));const f=aG(u,t);if(!f&&!t._queryParams.loadsAllData()){const F=ak(t);(0,ae.hu)(!n.queryToTagMap.has(F),"View does not exist, but we have a tag");const B=function _re(){return cre++}();n.queryToTagMap.set(F,B),n.tagToQueryMap.set(B,F)}let C=function sre(n,t,e,i,r,o){const a=rG(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,a),function ere(n,t){n.eventRegistrations_.push(t)}(a,e),function tre(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Bo,(o,a)=>{i.push(Mx(o,a))}),e.isFullyInitialized()&&i.push(Lj(e.getNode())),nG(n,i,e.getNode(),t)}(a,e)}(u,t,e,JM(n.pendingWriteTree_,r),o,h);if(!f&&!a&&!i){const F=oG(u,t);C=C.concat(function yre(n,t,e){const i=t._path,r=eT(n,t),o=hG(n,e),a=n.listenProvider_.startListening(tT(t),r,o.hashFn,o.onComplete),u=n.syncPointTree_.subtree(i);if(r)(0,ae.hu)(!v0(u.value),"If we're adding a query, it shouldn't be shadowed");else{const h=u.fold((f,_,C)=>{if(!wr(f)&&_&&v0(_))return[ik(_).query];{let F=[];return _&&(F=F.concat(sG(_).map(B=>B.query))),Fc(C,(B,U)=>{F=F.concat(U)}),F}});for(let f=0;f<h.length;++f){const _=h[f];n.listenProvider_.stopListening(tT(_),eT(n,_))}}return a}(n,t,F))}return C}function ok(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(a,u)=>{const f=y0(u,Fd(a,t));if(f)return f});return zj(r,t,o,e,!0)}function Lx(n,t){return uG(t,n.syncPointTree_,null,JM(n.pendingWriteTree_,ls()))}function uG(n,t,e,i){if(wr(n.path))return dG(n,t,e,i);{const r=t.get(ls());null==e&&null!=r&&(e=y0(r,ls()));let o=[];const a=vr(n.path),u=n.operationForChild(a),h=t.children.get(a);if(h&&u){const f=e?e.getImmediateChild(a):null,_=Kj(i,a);o=o.concat(uG(u,h,f,_))}return r&&(o=o.concat(WU(r,n,i,e))),o}}function dG(n,t,e,i){const r=t.get(ls());null==e&&null!=r&&(e=y0(r,ls()));let o=[];return t.children.inorderTraversal((a,u)=>{const h=e?e.getImmediateChild(a):null,f=Kj(i,a),_=n.operationForChild(a);_&&(o=o.concat(dG(_,u,h,f)))}),r&&(o=o.concat(WU(r,n,i,e))),o}function hG(n,t){const e=t.query,i=eT(n,e);return{hashFn:()=>(function Wie(n){return n.viewCache_.serverCache.getNode()}(t)||or.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function Are(n,t,e){const i=e4(n,e);if(i){const r=t4(i),o=r.path,a=r.queryId,u=Fd(o,t);return n4(n,o,new $D(HU(a),u))}return[]}(n,e._path,i):function hre(n,t){return Lx(n,new $D({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function dne(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return sk(n,e,null,o)}}}}function eT(n,t){const e=ak(t);return n.queryToTagMap.get(e)}function ak(n){return n._path.toString()+"$"+n._queryIdentifier}function e4(n,t){return n.tagToQueryMap.get(t)}function t4(n){const t=n.indexOf("$");return(0,ae.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new ws(n.substr(0,t))}}function n4(n,t,e){const i=n.syncPointTree_.get(t);return(0,ae.hu)(i,"Missing sync point for query tag that we're tracking"),WU(i,e,JM(n.pendingWriteTree_,t),null)}function tT(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function lre(){return(0,ae.hu)(rk,"Reference.ts has not been loaded"),rk}())(n._repo,n._path):n}class r4{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new r4(e)}node(){return this.node_}}class s4{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=ca(this.path_,t);return new s4(this.syncTree_,e)}node(){return ok(this.syncTree_,this.path_)}}const AG=function(n,t,e){return n&&"object"==typeof n?((0,ae.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?wre(n[".sv"],t,e):"object"==typeof n[".sv"]?bre(n[".sv"],t):void(0,ae.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},wre=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,ae.hu)(!1,"Unexpected server value: "+n)},bre=function(n,t,e){n.hasOwnProperty("increment")||(0,ae.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,ae.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,ae.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const a=r.getValue();return"number"!=typeof a?i:a+i},fG=function(n,t,e,i){return a4(t,new s4(e,n),i)},o4=function(n,t,e){return a4(n,new r4(t),e)};function a4(n,t,e){const i=n.getPriority().val(),r=AG(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const a=n,u=AG(a.getValue(),t,e);return u!==a.getValue()||r!==a.getPriority().val()?new Bx(u,Ea(r)):n}{const a=n;return o=a,r!==a.getPriority().val()&&(o=o.updatePriority(new Bx(r))),a.forEachChild(Bo,(u,h)=>{const f=a4(h,t.getImmediateChild(u),e);f!==h&&(o=o.updateImmediateChild(u,f))}),o}}class l4{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function lk(n,t){let e=t instanceof ws?t:new ws(t),i=n,r=vr(e);for(;null!==r;){const o=(0,ae.DV)(i.node.children,r)||{children:{},childCount:0};i=new l4(r,i,o),e=co(e),r=vr(e)}return i}function Ub(n){return n.node.value}function c4(n,t){n.node.value=t,u4(n)}function pG(n){return n.node.childCount>0}function ck(n,t){Fc(n.node.children,(e,i)=>{t(new l4(e,n,i))})}function gG(n,t,e,i){e&&!i&&t(n),ck(n,r=>{gG(r,t,!0,i)}),e&&i&&t(n)}function nT(n){return new ws(null===n.parent?n.name:nT(n.parent)+"/"+n.name)}function u4(n){null!==n.parent&&function Ere(n,t,e){const i=function Cre(n){return void 0===Ub(n)&&!pG(n)}(e),r=(0,ae.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,u4(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,u4(n))}(n.parent,n.name,n)}const Sre=/[\[\].#$\/\u0000-\u001F\u007F]/,Ire=/[\[\].#$\u0000-\u001F\u007F]/,d4=10485760,uk=function(n){return"string"==typeof n&&0!==n.length&&!Sre.test(n)},mG=function(n){return"string"==typeof n&&0!==n.length&&!Ire.test(n)},iT=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!NM(n)||n&&"object"==typeof n&&(0,ae.r3)(n,".sv")},Um=function(n,t,e,i){i&&void 0===t||rT((0,ae.gK)(n,"value"),t,e)},rT=function(n,t,e){const i=e instanceof ws?new Gne(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Rb(i));if("function"==typeof t)throw new Error(n+"contains a function "+Rb(i)+" with contents = "+t.toString());if(NM(t))throw new Error(n+"contains "+t.toString()+" "+Rb(i));if("string"==typeof t&&t.length>d4/3&&(0,ae.ug)(t)>d4)throw new Error(n+"contains a string greater than "+d4+" utf8 bytes "+Rb(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(Fc(t,(a,u)=>{if(".value"===a)r=!0;else if(".priority"!==a&&".sv"!==a&&(o=!0,!uk(a)))throw new Error(n+" contains an invalid key ("+a+") "+Rb(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function zne(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,ae.ug)(t),Ij(n)})(i,a),rT(n,u,i),function qne(n){const t=n.parts_.pop();n.byteLength_-=(0,ae.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+Rb(i)+" in addition to actual children.")}},_G=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,ae.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];Fc(t,(a,u)=>{const h=new ws(a);if(rT(r,u,ca(e,h)),".priority"===SU(h)&&!iT(u))throw new Error(r+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(h)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=VD(i);for(let a=0;a<o.length;a++)if((".priority"!==o[a]||a!==o.length-1)&&!uk(o[a]))throw new Error(n+"contains an invalid key ("+o[a]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(jne);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&xf(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},h4=function(n,t,e){if(!e||void 0!==t){if(NM(t))throw new Error((0,ae.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!iT(t))throw new Error((0,ae.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},sT=function(n,t,e,i){if(!(i&&void 0===e||uk(e)))throw new Error((0,ae.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},oT=function(n,t,e,i){if(!(i&&void 0===e||mG(e)))throw new Error((0,ae.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Sf=function(n,t){if(".info"===vr(t))throw new Error(n+" failed = Can't modify data under /.info/")},yG=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!uk(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),mG(n)}(e))throw new Error((0,ae.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Fre{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function dk(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!IU(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function vG(n,t,e){dk(n,e),wG(n,i=>IU(i,t))}function gA(n,t,e){dk(n,e),wG(n,i=>xf(i,t)||xf(t,i))}function wG(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(Mre(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Mre(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Mb&&Bc("event: "+e.toString()),Dx(i)}}}const bG="repo_interrupt";class Rre{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Fre,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ZM(),this.transactionQueueTree_=new l4,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function CG(n){const e=n.infoData_.getNode(new ws(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function aT(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:CG(n)})}function xG(n,t,e,i,r){n.dataUpdateCount++;const o=new ws(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let a=[];if(r)if(i){const h=(0,ae.UI)(e,f=>Ea(f));a=function fre(n,t,e,i){const r=e4(n,i);if(r){const o=t4(r),a=o.path,u=o.queryId,h=Fd(a,t),f=Fo.fromObject(e);return n4(n,a,new Rx(HU(u),h,f))}return[]}(n.serverSyncTree_,o,h,r)}else{const h=Ea(e);a=cG(n.serverSyncTree_,o,h,r)}else if(i){const h=(0,ae.UI)(e,f=>Ea(f));a=function dre(n,t,e){const i=Fo.fromObject(e);return Lx(n,new Rx({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,h)}else{const h=Ea(e);a=XD(n.serverSyncTree_,o,h)}let u=o;a.length>0&&(u=Px(n,o)),gA(n.eventQueue_,u,a)}function EG(n,t){A4(n,"connected",t),!1===t&&function Ure(n){Nx(n,"onDisconnectEvents");const t=aT(n),e=ZM();PU(n.onDisconnect_,ls(),(r,o)=>{const a=fG(r,o,n.serverSyncTree_,t);kx(e,r,a)});let i=[];PU(e,ls(),(r,o)=>{i=i.concat(XD(n.serverSyncTree_,r,o));const a=m4(n,r);Px(n,a)}),n.onDisconnect_=ZM(),gA(n.eventQueue_,ls(),i)}(n)}function A4(n,t,e){const i=new ws("/.info/"+t),r=Ea(e);n.infoData_.updateSnapshot(i,r);const o=XD(n.infoSyncTree_,i,r);gA(n.eventQueue_,i,o)}function hk(n){return n.nextWriteId_++}function f4(n,t,e,i,r){Nx(n,"set",{path:t.toString(),value:e,priority:i});const o=aT(n),a=Ea(e,i),u=ok(n.serverSyncTree_,t),h=o4(a,u,o),f=hk(n),_=JU(n.serverSyncTree_,t,h,f,!0);dk(n.eventQueue_,_),n.server_.put(t.toString(),a.val(!0),(F,B)=>{const U="ok"===F;U||Vu("set at "+t+" failed: "+F);const H=w0(n.serverSyncTree_,f,!U);gA(n.eventQueue_,t,H),b0(0,r,F,B)});const C=m4(n,t);Px(n,C),gA(n.eventQueue_,C,[])}function Qre(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&NU(n.onDisconnect_,t),b0(0,e,i,r)})}function SG(n,t,e,i){const r=Ea(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(o,a)=>{"ok"===o&&kx(n.onDisconnect_,t,r),b0(0,i,o,a)})}function p4(n,t,e){let i;i=".info"===vr(t._path)?sk(n.infoSyncTree_,t,e):sk(n.serverSyncTree_,t,e),vG(n.eventQueue_,t._path,i)}function IG(n){n.persistentConnection_&&n.persistentConnection_.interrupt(bG)}function Nx(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Bc(e,...t)}function b0(n,t,e,i){t&&Dx(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const a=new Error(o);a.code=r,t(a)}})}function g4(n,t,e){return ok(n.serverSyncTree_,t,e)||or.EMPTY_NODE}function Ak(n,t=n.transactionQueueTree_){if(t||fk(n,t),Ub(t)){const e=TG(n,t);(0,ae.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function qre(n,t,e){const i=e.map(f=>f.currentWriteId),r=g4(n,t,i);let o=r;const a=r.hash();for(let f=0;f<e.length;f++){const _=e[f];(0,ae.hu)(0===_.status,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const C=Fd(t,_.path);o=o.updateChild(C,_.currentOutputSnapshotRaw)}const u=o.val(!0),h=t;n.server_.put(h.toString(),u,f=>{Nx(n,"transaction put response",{path:h.toString(),status:f});let _=[];if("ok"===f){const C=[];for(let F=0;F<e.length;F++)e[F].status=2,_=_.concat(w0(n.serverSyncTree_,e[F].currentWriteId)),e[F].onComplete&&C.push(()=>e[F].onComplete(null,!0,e[F].currentOutputSnapshotResolved)),e[F].unwatcher();fk(n,lk(n.transactionQueueTree_,t)),Ak(n,n.transactionQueueTree_),gA(n.eventQueue_,t,_);for(let F=0;F<C.length;F++)Dx(C[F])}else{if("datastale"===f)for(let C=0;C<e.length;C++)e[C].status=3===e[C].status?4:0;else{Vu("transaction at "+h.toString()+" failed: "+f);for(let C=0;C<e.length;C++)e[C].status=4,e[C].abortReason=f}Px(n,t)}},a)}(n,nT(t),e)}else pG(t)&&ck(t,e=>{Ak(n,e)})}function Px(n,t){const e=DG(n,t),i=nT(e);return function Kre(n,t,e){if(0===t.length)return;const i=[];let r=[];const a=t.filter(u=>0===u.status).map(u=>u.currentWriteId);for(let u=0;u<t.length;u++){const h=t[u],f=Fd(e,h.path);let C,_=!1;if((0,ae.hu)(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),4===h.status)_=!0,C=h.abortReason,r=r.concat(w0(n.serverSyncTree_,h.currentWriteId,!0));else if(0===h.status)if(h.retryCount>=25)_=!0,C="maxretry",r=r.concat(w0(n.serverSyncTree_,h.currentWriteId,!0));else{const F=g4(n,h.path,a);h.currentInputSnapshot=F;const B=t[u].update(F.val());if(void 0!==B){rT("transaction failed: Data returned ",B,h.path);let U=Ea(B);"object"==typeof B&&null!=B&&(0,ae.r3)(B,".priority")||(U=U.updatePriority(F.getPriority()));const Z=h.currentWriteId,q=aT(n),W=o4(U,F,q);h.currentOutputSnapshotRaw=U,h.currentOutputSnapshotResolved=W,h.currentWriteId=hk(n),a.splice(a.indexOf(Z),1),r=r.concat(JU(n.serverSyncTree_,h.path,W,h.currentWriteId,h.applyLocally)),r=r.concat(w0(n.serverSyncTree_,Z,!0))}else _=!0,C="nodata",r=r.concat(w0(n.serverSyncTree_,h.currentWriteId,!0))}gA(n.eventQueue_,e,r),r=[],_&&(t[u].status=2,setTimeout(t[u].unwatcher,Math.floor(0)),t[u].onComplete&&i.push("nodata"===C?()=>t[u].onComplete(null,!1,t[u].currentInputSnapshot):()=>t[u].onComplete(new Error(C),!1,null)))}fk(n,n.transactionQueueTree_);for(let u=0;u<i.length;u++)Dx(i[u]);Ak(n,n.transactionQueueTree_)}(n,TG(n,e),i),i}function DG(n,t){let e,i=n.transactionQueueTree_;for(e=vr(t);null!==e&&void 0===Ub(i);)i=lk(i,e),e=vr(t=co(t));return i}function TG(n,t){const e=[];return BG(n,t,e),e.sort((i,r)=>i.order-r.order),e}function BG(n,t,e){const i=Ub(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);ck(t,r=>{BG(n,r,e)})}function fk(n,t){const e=Ub(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,c4(t,e.length>0?e:void 0)}ck(t,i=>{fk(n,i)})}function m4(n,t){const e=nT(DG(n,t)),i=lk(n.transactionQueueTree_,t);return function xre(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{_4(n,r)}),_4(n,i),gG(i,r=>{_4(n,r)}),e}function _4(n,t){const e=Ub(t);if(e){const i=[];let r=[],o=-1;for(let a=0;a<e.length;a++)3===e[a].status||(1===e[a].status?((0,ae.hu)(o===a-1,"All SENT items should be at beginning of queue."),o=a,e[a].status=3,e[a].abortReason="set"):((0,ae.hu)(0===e[a].status,"Unexpected transaction status in abort"),e[a].unwatcher(),r=r.concat(w0(n.serverSyncTree_,e[a].currentWriteId,!0)),e[a].onComplete&&i.push(e[a].onComplete.bind(null,new Error("set"),!1,null))));-1===o?c4(t,void 0):e.length=o+1,gA(n.eventQueue_,nT(t),r);for(let a=0;a<i.length;a++)Dx(i[a])}}const y4=function(n,t){const e=Yre(n),i=e.namespace;return"firebase.com"===e.domain&&Nm(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Nm("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Vu("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new vU(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new ws(e.pathString)}},Yre=function(n){let t="",e="",i="",r="",o="",a=!0,u="https",h=443;if("string"==typeof n){let f=n.indexOf("//");f>=0&&(u=n.substring(0,f-1),n=n.substring(f+2));let _=n.indexOf("/");-1===_&&(_=n.length);let C=n.indexOf("?");-1===C&&(C=n.length),t=n.substring(0,Math.min(_,C)),_<C&&(r=function Zre(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(_,C)));const F=function $re(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Vu(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,C)));f=t.indexOf(":"),f>=0?(a="https"===u||"wss"===u,h=parseInt(t.substring(f+1),10)):f=t.length;const B=t.slice(0,f);if("localhost"===B.toLowerCase())e="localhost";else if(B.split(".").length<=2)e=B;else{const U=t.indexOf(".");i=t.substring(0,U).toLowerCase(),e=t.substring(U+1),o=i}"ns"in F&&(o=F.ns)}return{host:t,port:h,domain:e,subdomain:i,secure:a,scheme:u,pathString:r,namespace:o}},FG="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Wre=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=FG.charAt(e%64),e=Math.floor(e/64);(0,ae.hu)(0===e,"Cannot push at time == 0");let a=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)a+=FG.charAt(t[r]);return(0,ae.hu)(20===a.length,"nextPushId: Length should be 20."),a}}();class MG{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,ae.Wl)(this.snapshot.exportVal())}}class kG{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class v4{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,ae.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class RG{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new ae.BH;return Qre(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Sf("OnDisconnect.remove",this._path);const t=new ae.BH;return SG(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Sf("OnDisconnect.set",this._path),Um("OnDisconnect.set",t,this._path,!1);const e=new ae.BH;return SG(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Sf("OnDisconnect.setWithPriority",this._path),Um("OnDisconnect.setWithPriority",t,this._path,!1),h4("OnDisconnect.setWithPriority",e,!1);const i=new ae.BH;return function Hre(n,t,e,i,r){const o=Ea(e,i);n.server_.onDisconnectPut(t.toString(),o.val(!0),(a,u)=>{"ok"===a&&kx(n.onDisconnect_,t,o),b0(0,r,a,u)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Sf("OnDisconnect.update",this._path),_G("OnDisconnect.update",t,this._path,!1);const e=new ae.BH;return function Vre(n,t,e,i){if((0,ae.xb)(e))return Bc("onDisconnect().update() called with empty data.  Don't do anything."),void b0(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&Fc(e,(a,u)=>{const h=Ea(u);kx(n.onDisconnect_,ca(t,a),h)}),b0(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class ph{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return wr(this._path)?null:SU(this._path)}get ref(){return new If(this._repo,this._path)}get _queryIdentifier(){const t=Pj(this._queryParams),e=_U(t);return"{}"===e?"default":e}get _queryObject(){return Pj(this._queryParams)}isEqual(t){if(!((t=(0,ae.m9)(t))instanceof ph))return!1;const e=this._repo===t._repo,i=IU(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Vne(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function pk(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function C0(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Pm){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==f0)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==yy)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===Bo){if(null!=t&&!iT(t)||null!=e&&!iT(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,ae.hu)(n.getIndex()instanceof MU||n.getIndex()===kU,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function gk(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class If extends ph{constructor(t,e){super(t,e,new zM,!1)}get parent(){const t=Sj(this._path);return null===t?null:new If(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Qb{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new ws(t),i=Hb(this.ref,t);return new Qb(this._node.getChild(e),i,Bo)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new Qb(r,Hb(this.ref,i),Bo)))}hasChild(t){const e=new ws(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function OG(n,t){return(n=(0,ae.m9)(n))._checkNotDeleted("ref"),void 0!==t?Hb(n._root,t):n._root}function LG(n,t){(n=(0,ae.m9)(n))._checkNotDeleted("refFromURL");const e=y4(t,n._repo.repoInfo_.nodeAdmin);yG("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Nm("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),OG(n,e.path.toString())}function Hb(n,t){return null===vr((n=(0,ae.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),oT("child","path",e,!1)):oT("child","path",t,!1),new If(n._repo,ca(n._path,t));var e}function w4(n,t){n=(0,ae.m9)(n),Sf("set",n._path),Um("set",t,n._path,!1);const e=new ae.BH;return f4(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function nse(n,t){_G("update",t,n._path,!1);const e=new ae.BH;return function Pre(n,t,e,i){Nx(n,"update",{path:t.toString(),value:e});let r=!0;const o=aT(n),a={};if(Fc(e,(u,h)=>{r=!1,a[u]=fG(ca(t,u),Ea(h),n.serverSyncTree_,o)}),r)Bc("update() called with empty data.  Don't do anything."),b0(0,i,"ok",void 0);else{const u=hk(n),h=function ure(n,t,e,i){!function Iie(n,t,e,i){(0,ae.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=jU(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=Fo.fromObject(e);return Lx(n,new Rx({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,a,u);dk(n.eventQueue_,h),n.server_.merge(t.toString(),e,(f,_)=>{const C="ok"===f;C||Vu("update at "+t+" failed: "+f);const F=w0(n.serverSyncTree_,u,!C),B=F.length>0?Px(n,t):t;gA(n.eventQueue_,B,F),b0(0,i,f,_)}),Fc(e,f=>{const _=m4(n,ca(t,f));Px(n,_)}),gA(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function ise(n){n=(0,ae.m9)(n);const t=new v4(()=>{}),e=new lT(t);return function Nre(n,t,e){const i=function pre(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(f,_)=>{const C=Fd(f,e);i=i||y0(_,C)});let r=n.syncPointTree_.get(e);r?i=i||y0(r,ls()):(r=new iG,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=null!=i,a=o?new m0(i,!0,!1):null;return function Jie(n){return WM(n.viewCache_)}(rG(r,t,JM(n.pendingWriteTree_,t._path),o?a.getNode():or.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const o=Ea(r).withIndex(t._queryParams.getIndex());let a;if(XU(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())a=XD(n.serverSyncTree_,t._path,o);else{const u=eT(n.serverSyncTree_,t);a=cG(n.serverSyncTree_,t._path,o,u)}return gA(n.eventQueue_,t._path,a),sk(n.serverSyncTree_,t,e,null,!0),o},r=>(Nx(n,"get for query "+(0,ae.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new Qb(i,new If(n._repo,n._path),n._queryParams.getIndex()))}class lT{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new MG("value",this,new Qb(t.snapshotNode,new If(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new kG(this,t,e):null}matches(t){return t instanceof lT&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class mk{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new kG(this,t,e):null}createEvent(t,e){(0,ae.hu)(null!=t.childName,"Child events should have a childName.");const i=Hb(new If(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new MG(t.type,this,new Qb(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof mk&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function cT(n,t,e,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const h=e,f=(_,C)=>{p4(n._repo,n,u),h(_,C)};f.userCallback=e.userCallback,f.context=e.context,e=f}const a=new v4(e,o||void 0),u="value"===t?new lT(a):new mk(t,a);return function jre(n,t,e){let i;i=".info"===vr(t._path)?XU(n.infoSyncTree_,t,e):XU(n.serverSyncTree_,t,e),vG(n.eventQueue_,t._path,i)}(n._repo,n,u),()=>p4(n._repo,n,u)}function b4(n,t,e,i){return cT(n,"value",t,e,i)}function NG(n,t,e,i){return cT(n,"child_added",t,e,i)}function PG(n,t,e,i){return cT(n,"child_changed",t,e,i)}function UG(n,t,e,i){return cT(n,"child_moved",t,e,i)}function QG(n,t,e,i){return cT(n,"child_removed",t,e,i)}function HG(n,t,e){let i=null;const r=e?new v4(e):null;"value"===t?i=new lT(r):t&&(i=new mk(t,r)),p4(n._repo,n,i)}class Yp{}class VG extends Yp{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Um("endAt",this._value,t._path,!0);const e=LU(t._queryParams,this._value,this._key);if(gk(e),C0(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ph(t._repo,t._path,e,t._orderByCalled)}}class sse extends Yp{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Um("endBefore",this._value,t._path,!1);const e=function fie(n,t,e){let i;return i=LU(n,t,n.index_===Pm||e?e:f0),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(gk(e),C0(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ph(t._repo,t._path,e,t._orderByCalled)}}class jG extends Yp{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Um("startAt",this._value,t._path,!0);const e=OU(t._queryParams,this._value,this._key);if(gk(e),C0(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ph(t._repo,t._path,e,t._orderByCalled)}}class lse extends Yp{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Um("startAfter",this._value,t._path,!1);const e=function Aie(n,t,e){let i;return i=OU(n,t,n.index_===Pm||e?e:yy),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(gk(e),C0(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ph(t._repo,t._path,e,t._orderByCalled)}}class use extends Yp{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ph(t._repo,t._path,function die(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class hse extends Yp{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ph(t._repo,t._path,function hie(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class fse extends Yp{constructor(t){super(),this._path=t}_apply(t){pk(t,"orderByChild");const e=new ws(this._path);if(wr(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new MU(e),r=qM(t._queryParams,i);return C0(r),new ph(t._repo,t._path,r,!0)}}class gse extends Yp{_apply(t){pk(t,"orderByKey");const e=qM(t._queryParams,Pm);return C0(e),new ph(t._repo,t._path,e,!0)}}class _se extends Yp{_apply(t){pk(t,"orderByPriority");const e=qM(t._queryParams,Bo);return C0(e),new ph(t._repo,t._path,e,!0)}}class vse extends Yp{_apply(t){pk(t,"orderByValue");const e=qM(t._queryParams,kU);return C0(e),new ph(t._repo,t._path,e,!0)}}class bse extends Yp{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Um("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new VG(this._value,this._key)._apply(new jG(this._value,this._key)._apply(t))}}function Wp(n,...t){let e=(0,ae.m9)(n);for(const i of t)e=i._apply(e);return e}(function nre(n){(0,ae.hu)(!nk,"__referenceConstructor has already been defined"),nk=n})(If),function are(n){(0,ae.hu)(!rk,"__referenceConstructor has already been defined"),rk=n}(If);const C4={};function zG(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||Nm("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Bc("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let h,f,a=y4(o,r),u=a.repoInfo;typeof process<"u"&&process.env&&(f=process.env.FIREBASE_DATABASE_EMULATOR_HOST),f?(h=!0,o=`http://${f}?ns=${u.namespace}`,a=y4(o,r),u=a.repoInfo):h=!a.repoInfo.secure;const _=r&&h?new HD(HD.OWNER):new mne(n.name,n.options,t);yG("Invalid Firebase Database URL",a),wr(a.path)||Nm("Database URL must point to the root of a Firebase Database (not including a child path).");const C=function Ise(n,t,e,i){let r=C4[t.name];r||(r={},C4[t.name]=r);let o=r[n.toURLString()];return o&&Nm("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Rre(n,false,e,i),r[n.toURLString()]=o,o}(u,n,_,new gne(n.name,e));return new Tse(C,n)}class Tse{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Ore(n,t,e){if(n.stats_=CU(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new KM(n.repoInfo_,(i,r,o,a)=>{xG(n,i,r,o,a)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>EG(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ae.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Ob(n.repoInfo_,t,(i,r,o,a)=>{xG(n,i,r,o,a)},i=>{EG(n,i)},i=>{!function Lre(n,t){Fc(t,(e,i)=>{A4(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function vne(n,t){const e=n.toString();return bU[e]||(bU[e]=t()),bU[e]}(n.repoInfo_,()=>new vie(n.stats_,n.server_)),n.infoData_=new pie,n.infoSyncTree_=new lG({startListening:(i,r,o,a)=>{let u=[];const h=n.infoData_.getNode(i._path);return h.isEmpty()||(u=XD(n.infoSyncTree_,i._path,h),setTimeout(()=>{a("ok")},0)),u},stopListening:()=>{}}),A4(n,"connected",!1),n.serverSyncTree_=new lG({startListening:(i,r,o,a)=>(n.server_.listen(i,o,r,(u,h)=>{const f=a(u,h);gA(n.eventQueue_,i._path,f)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new If(this._repo,ls())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Sse(n,t){const e=C4[t];(!e||e[n.key]!==n)&&Nm(`Database ${t}(${n.repoInfo_}) has already been deleted.`),IG(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Nm("Cannot call "+t+" on a deleted database.")}}function qG(){fj.IS_TRANSPORT_INITIALIZED&&Vu("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Bse(){qG(),p0.forceDisallow()}function Fse(){qG(),Tx.forceDisallow(),p0.forceAllow()}function Rse(n,t){Z7(n,t)}const Lse={".sv":"timestamp"};class Use{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Ob.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Ob.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function Ose(n){j7(lh.SDK_VERSION),(0,lh._registerComponent)(new kp.wA("database",(t,{instanceIdentifier:e})=>zG(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,lh.registerVersion)(H7,"0.14.4",n),(0,lh.registerVersion)(H7,"0.14.4","esm2017")}();const jse=new df.Yd("@firebase/database-compat"),ZG=function(n){jse.warn("FIREBASE WARNING: "+n)};class qse{constructor(t){this._delegate=t}cancel(t){(0,ae.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,ae.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,ae.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,ae.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,ae.Dv)("OnDisconnect.set",1,2,arguments.length),(0,ae.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,ae.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,ae.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,e){if((0,ae.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,ZG("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,ae.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class Kse{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,ae.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class x0{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,ae.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,ae.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,ae.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,ae.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,ae.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),oT("DataSnapshot.child","path",t,!1),new x0(this._database,this._delegate.child(t))}hasChild(t){return(0,ae.Dv)("DataSnapshot.hasChild",1,1,arguments.length),oT("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,ae.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,ae.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,ae.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new x0(this._database,e)))}hasChildren(){return(0,ae.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,ae.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,ae.Dv)("DataSnapshot.ref",0,0,arguments.length),new mA(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ou{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var o;(0,ae.Dv)("Query.on",2,4,arguments.length),(0,ae.Wj)("Query.on","callback",e,!1);const a=ou.getCancelAndContextArgs_("Query.on",i,r),u=(f,_)=>{e.call(a.context,new x0(this.database,f),_)};u.userCallback=e,u.context=a.context;const h=null===(o=a.cancel)||void 0===o?void 0:o.bind(a.context);switch(t){case"value":return b4(this._delegate,u,h),e;case"child_added":return NG(this._delegate,u,h),e;case"child_removed":return QG(this._delegate,u,h),e;case"child_changed":return PG(this._delegate,u,h),e;case"child_moved":return UG(this._delegate,u,h),e;default:throw new Error((0,ae.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,ae.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,ae.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,ae.Wj)("Query.off","callback",e,!0),(0,ae.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,HG(this._delegate,t,r)}else HG(this._delegate,t)}get(){return ise(this._delegate).then(t=>new x0(this.database,t))}once(t,e,i,r){(0,ae.Dv)("Query.once",1,4,arguments.length),(0,ae.Wj)("Query.once","callback",e,!0);const o=ou.getCancelAndContextArgs_("Query.once",i,r),a=new ae.BH,u=(f,_)=>{const C=new x0(this.database,f);e&&e.call(o.context,C,_),a.resolve(C)};u.userCallback=e,u.context=o.context;const h=f=>{o.cancel&&o.cancel.call(o.context,f),a.reject(f)};switch(t){case"value":b4(this._delegate,u,h,{onlyOnce:!0});break;case"child_added":NG(this._delegate,u,h,{onlyOnce:!0});break;case"child_removed":QG(this._delegate,u,h,{onlyOnce:!0});break;case"child_changed":PG(this._delegate,u,h,{onlyOnce:!0});break;case"child_moved":UG(this._delegate,u,h,{onlyOnce:!0});break;default:throw new Error((0,ae.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise}limitToFirst(t){return(0,ae.Dv)("Query.limitToFirst",1,1,arguments.length),new ou(this.database,Wp(this._delegate,function dse(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new use(n)}(t)))}limitToLast(t){return(0,ae.Dv)("Query.limitToLast",1,1,arguments.length),new ou(this.database,Wp(this._delegate,function Ase(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new hse(n)}(t)))}orderByChild(t){return(0,ae.Dv)("Query.orderByChild",1,1,arguments.length),new ou(this.database,Wp(this._delegate,function pse(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return oT("orderByChild","path",n,!1),new fse(n)}(t)))}orderByKey(){return(0,ae.Dv)("Query.orderByKey",0,0,arguments.length),new ou(this.database,Wp(this._delegate,function mse(){return new gse}()))}orderByPriority(){return(0,ae.Dv)("Query.orderByPriority",0,0,arguments.length),new ou(this.database,Wp(this._delegate,function yse(){return new _se}()))}orderByValue(){return(0,ae.Dv)("Query.orderByValue",0,0,arguments.length),new ou(this.database,Wp(this._delegate,function wse(){return new vse}()))}startAt(t=null,e){return(0,ae.Dv)("Query.startAt",0,2,arguments.length),new ou(this.database,Wp(this._delegate,function ase(n=null,t){return sT("startAt","key",t,!0),new jG(n,t)}(t,e)))}startAfter(t=null,e){return(0,ae.Dv)("Query.startAfter",0,2,arguments.length),new ou(this.database,Wp(this._delegate,function cse(n,t){return sT("startAfter","key",t,!0),new lse(n,t)}(t,e)))}endAt(t=null,e){return(0,ae.Dv)("Query.endAt",0,2,arguments.length),new ou(this.database,Wp(this._delegate,function rse(n,t){return sT("endAt","key",t,!0),new VG(n,t)}(t,e)))}endBefore(t=null,e){return(0,ae.Dv)("Query.endBefore",0,2,arguments.length),new ou(this.database,Wp(this._delegate,function ose(n,t){return sT("endBefore","key",t,!0),new sse(n,t)}(t,e)))}equalTo(t,e){return(0,ae.Dv)("Query.equalTo",1,2,arguments.length),new ou(this.database,Wp(this._delegate,function Cse(n,t){return sT("equalTo","key",t,!0),new bse(n,t)}(t,e)))}toString(){return(0,ae.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,ae.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,ae.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof ou))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,ae.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,ae.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,ae.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new mA(this.database,new If(this._delegate._repo,this._delegate._path))}}class mA extends ou{constructor(t,e){super(t,new ph(e._repo,e._path,new zM,!1)),this.database=t,this._delegate=e}getKey(){return(0,ae.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,ae.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new mA(this.database,Hb(this._delegate,t))}getParent(){(0,ae.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new mA(this.database,t):null}getRoot(){return(0,ae.Dv)("Reference.root",0,0,arguments.length),new mA(this.database,this._delegate.root)}set(t,e){(0,ae.Dv)("Reference.set",1,2,arguments.length),(0,ae.Wj)("Reference.set","onComplete",e,!0);const i=w4(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,ae.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,ZG("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Sf("Reference.update",this._delegate._path),(0,ae.Wj)("Reference.update","onComplete",e,!0);const i=nse(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,ae.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,ae.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function tse(n,t,e){if(Sf("setWithPriority",n._path),Um("setWithPriority",t,n._path,!1),h4("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new ae.BH;return f4(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){(0,ae.Dv)("Reference.remove",0,1,arguments.length),(0,ae.Wj)("Reference.remove","onComplete",t,!0);const e=function Xre(n){return Sf("remove",n._path),w4(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,ae.Dv)("Reference.transaction",1,3,arguments.length),(0,ae.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,ae.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,ae.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function Qse(n,t,e){var i;if(n=(0,ae.m9)(n),Sf("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,o=new ae.BH,u=b4(n,()=>{});return function zre(n,t,e,i,r,o){Nx(n,"transaction on "+t);const a={path:t,update:e,onComplete:i,status:null,order:z7(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=g4(n,t,void 0);a.currentInputSnapshot=u;const h=a.update(u.val());if(void 0===h)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{rT("transaction failed: Data returned ",h,a.path),a.status=0;const f=lk(n.transactionQueueTree_,t),_=Ub(f)||[];let C;_.push(a),c4(f,_),"object"==typeof h&&null!==h&&(0,ae.r3)(h,".priority")?(C=(0,ae.DV)(h,".priority"),(0,ae.hu)(iT(C),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):C=(ok(n.serverSyncTree_,t)||or.EMPTY_NODE).getPriority().val();const F=aT(n),B=Ea(h,C),U=o4(B,u,F);a.currentOutputSnapshotRaw=B,a.currentOutputSnapshotResolved=U,a.currentWriteId=hk(n);const H=JU(n.serverSyncTree_,t,U,a.currentWriteId,a.applyLocally);gA(n.eventQueue_,t,H),Ak(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(h,f,_)=>{let C=null;h?o.reject(h):(C=new Qb(_,new If(n._repo,n._path),Bo),o.resolve(new Use(f,C)))},u,r),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new Kse(o.committed,new x0(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,ae.Dv)("Reference.setPriority",1,2,arguments.length),(0,ae.Wj)("Reference.setPriority","onComplete",e,!0);const i=function ese(n,t){n=(0,ae.m9)(n),Sf("setPriority",n._path),h4("setPriority",t,!1);const e=new ae.BH;return f4(n._repo,ca(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,ae.Dv)("Reference.push",0,2,arguments.length),(0,ae.Wj)("Reference.push","onComplete",e,!0);const i=function Jre(n,t){n=(0,ae.m9)(n),Sf("push",n._path),Um("push",t,n._path,!0);const e=CG(n._repo),i=Wre(e),r=Hb(n,i),o=Hb(n,i);let a;return a=null!=t?w4(o,t).then(()=>o):Promise.resolve(o),r.then=a.then.bind(a),r.catch=a.then.bind(a,void 0),r}(this._delegate,t),r=i.then(a=>new mA(this.database,a));e&&r.then(()=>e(null),a=>e(a));const o=new mA(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return Sf("Reference.onDisconnect",this._delegate._path),new qse(new RG(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class uT{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Bse,forceLongPolling:Fse}}useEmulator(t,e,i={}){!function KG(n,t,e,i={}){(n=(0,ae.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Nm("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Nm('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new HD(HD.OWNER);else if(i.mockUserToken){const a="string"==typeof i.mockUserToken?i.mockUserToken:(0,ae.Sg)(i.mockUserToken,n.app.options.projectId);o=new HD(a)}!function Ese(n,t,e,i){n.repoInfo_=new vU(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(this._delegate,t,e,i)}ref(t){if((0,ae.Dv)("database.ref",0,1,arguments.length),t instanceof mA){const e=LG(this._delegate,t.toString());return new mA(this,e)}{const e=OG(this._delegate,t);return new mA(this,e)}}refFromURL(t){(0,ae.Dv)("database.refFromURL",1,1,arguments.length);const i=LG(this._delegate,t);return new mA(this,i)}goOffline(){return(0,ae.Dv)("database.goOffline",0,0,arguments.length),function Mse(n){(n=(0,ae.m9)(n))._checkNotDeleted("goOffline"),IG(n._repo)}(this._delegate)}goOnline(){return(0,ae.Dv)("database.goOnline",0,0,arguments.length),function kse(n){(n=(0,ae.m9)(n))._checkNotDeleted("goOnline"),function Gre(n){n.persistentConnection_&&n.persistentConnection_.resume(bG)}(n._repo)}(this._delegate)}}uT.ServerValue={TIMESTAMP:function Nse(){return Lse}(),increment:n=>function Pse(n){return{".sv":{increment:n}}}(n)};var $se=Object.freeze({__proto__:null,initStandalone:function Zse({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:o=!1}){j7(e);const a=new kp.zt("auth-internal",new kp.H0("database-standalone"));return a.setComponent(new kp.wA("auth-internal",()=>i,"PRIVATE")),{instance:new uT(zG(n,a,void 0,t,o),n),namespace:r}}});const Yse=uT.ServerValue;function $G(n){return null==n}function YG(n){return"function"==typeof n.set}function WG(n,t){return YG(t)?t:n.ref(t)}function JG(n,t){if(function Jse(n){return"string"==typeof n}(n))return t.stringCase();if(YG(n))return t.firebaseCase();if(function Xse(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function dT(n,t,e="on",i=Mp.z){return new mr.y(r=>{let o=null;return o=n[e](t,(a,u)=>{i.schedule(()=>{r.next({snapshot:a,prevKey:u})}),"once"===e&&i.schedule(()=>r.complete())},a=>{i.schedule(()=>r.error(a))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe((0,an.U)(r=>{const{snapshot:o,prevKey:a}=r;let u=null;return o.exists()&&(u=o.key),{type:t,payload:o,prevKey:a,key:u}}),(0,g5.B)())}function XG(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function noe(n,t){const{payload:e,prevKey:i,key:r}=t,o=XG(n,r),a=function toe(n,t){if($G(t))return 0;{const e=XG(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let u=null;t.payload.forEach(h=>{const f={payload:h,type:"value",prevKey:u,key:h.key};return u=h.key,n=[...n,f],!1})}return n;case"child_added":if(o>-1){const u=n[o-1];(u&&u.key||null)!==i&&(n=n.filter(h=>h.payload.key!==e.key)).splice(a,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(a,0,t)}return n;case"child_removed":return n.filter(u=>u.payload.key!==e.key);case"child_changed":return n.map(u=>u.payload.key===r?t:u);case"child_moved":if(o>-1){const u=n.splice(o,1)[0];return(n=n.slice()).splice(a,0,u),n}return n;default:return n}}function ez(n){return($G(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function tz(n,t,e){return function eoe(n,t,e){return dT(n,"value","once",e).pipe(ys(i=>{const r=[An(i)];return t.forEach(o=>r.push(dT(n,o,"on",e))),(0,iu.T)(...r).pipe(tc(noe,[]))}),yv())}(n,t=ez(t),e)}function nz(n,t,e){const i=(t=ez(t)).map(r=>dT(n,r,"on",e));return(0,iu.T)(...i)}function iz(n,t){return function(i,r){return JG(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function ooe(n){return function(e){return e?JG(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function rz(n,t){return function(){return dT(n,"value","on",t)}}!function Wse(n){n.INTERNAL.registerComponent(new kp.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new uT(r,i)},"PUBLIC").setServiceProps({Reference:mA,Query:ou,Database:uT,DataSnapshot:x0,enableLogging:Rse,INTERNAL:$se,ServerValue:Yse}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(H2.Z);const coe=new s.OlP("angularfire2.realtimeDatabaseURL"),uoe=new s.OlP("angularfire2.database.use-emulator");let doe=(()=>{class n{constructor(e,i,r,o,a,u,h,f,_,C,F,B,U,H,Z){this.schedulers=u;const q=h,W=(0,Xc.on)(e,a,i);f&&q5(W,a,_,F,B,U,C,H),this.database=(0,Xc.cc)(`${W.name}.database.${r}`,"AngularFireDatabase",W.name,()=>{const he=a.runOutsideAngular(()=>W.database(r||void 0));return q&&he.useEmulator(...q),he},[q])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>WG(this.database,e));let o=r;return i&&(o=i(r)),function aoe(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:iz(i,"update"),set:iz(i,"set"),push:r=>i.push(r),remove:ooe(i),snapshotChanges:r=>tz(n,r,e).pipe(oo.iC),stateChanges:r=>nz(n,r,e).pipe(oo.iC),auditTrail:r=>function ioe(n,t,e){return function soe(n,t,e){return function roe(n,t){return dT(n,"value","on",t).pipe((0,an.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function nne(...n){const t=(0,Pa.jO)(n);return(0,Wr.e)((e,i)=>{const r=n.length,o=new Array(r);let a=n.map(()=>!1),u=!1;for(let h=0;h<r;h++)(0,Qa.Xf)(n[h]).subscribe(new Nr.Q(i,f=>{o[h]=f,!u&&!a[h]&&(a[h]=!0,(u=a.every(wn.y))&&(a=null))},W5.Z));e.subscribe(new Nr.Q(i,h=>{if(u){const f=[h,...o];i.next(t?t(...f):f)}}))})}(t),(0,an.U)(([r,o])=>{const a=r.lastKeyToLoad,u=o.map(h=>h.key);return{actions:o,lastKeyToLoad:a,loadedKeys:u}}),function ine(n){return(0,Wr.e)((t,e)=>{let i=!1,r=0;t.subscribe(new Nr.Q(e,o=>(i||(i=!n(o,r++)))&&e.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,an.U)(r=>r.actions))}(n,nz(n,t).pipe(tc((r,o)=>[...r,o],[])),e)}(n,r,e).pipe(oo.iC),valueChanges:(r,o)=>tz(n,r,e).pipe((0,an.U)(u=>u.map(h=>o&&o.idField?Object.assign(Object.assign({},h.payload.val()),{[o.idField]:h.key}):h.payload.val())),oo.iC)}}(o,this)}object(e){return function loe(n,t){return{query:n,snapshotChanges:()=>rz(n,t.schedulers.outsideAngular)().pipe(oo.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>rz(n,t.schedulers.outsideAngular)().pipe(oo.iC,(0,an.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>WG(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Xc.Dh),s.LFG(Xc.xv,8),s.LFG(coe,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(oo.HU),s.LFG(uoe,8),s.LFG(fM,8),s.LFG(Q5,8),s.LFG(H5,8),s.LFG(V5,8),s.LFG(j5,8),s.LFG(G5,8),s.LFG(z5,8),s.LFG(AM,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),E0=(()=>{class n{constructor(e,i){this.store=e,this.angularFire=i,this.getObservable=r=>{const o=new gr([]);return r.valueChanges({idField:"id"}).subscribe(a=>{o.next(a)}),o},this.getObservableSkill=r=>{const o=new gr([]);return r.valueChanges({idField:"id"}).subscribe(a=>{o.next(a)}),o},this.getObservableTipologia=r=>{const o=new gr([]);return r.valueChanges({idField:"id"}).subscribe(a=>{o.next(a)}),o},this.getObservableRazza=r=>{const o=new gr([]);return r.valueChanges({idField:"id"}).subscribe(a=>{o.next(a)}),o},this.getObservableClasseSkills=r=>{const o=new gr([]);return r.valueChanges({idField:"id"}).subscribe(a=>{o.next(a)}),o},this.getObservableReligioni=r=>{const o=new gr([]);return r.valueChanges({idField:"id"}).subscribe(a=>{o.next(a)}),o},this.getObservableSpellPaladino=r=>{const o=new gr([]);return r.valueChanges({idField:"id"}).subscribe(a=>{o.next(a)}),o},this.getObservablePg=r=>{const o=new gr([]);return r.valueChanges({idField:"id"}).subscribe(a=>{o.next(a)}),o},this.getObservableSkillsPg=r=>{const o=new gr([]);return r.valueChanges({idField:"id"}).subscribe(a=>{o.next(a)}),o},this.getObservableSpellChierico=r=>{const o=new gr([]);return r.valueChanges({idField:"id"}).subscribe(a=>{o.next(a)}),o}}getAllClass(){return this.getObservable(this.store.collection("Classe"))}getSpellPaladinoFromDivinita(e){return this.store.collection("SpellPaladino",r=>r.where("religione","==",e)).valueChanges().pipe((0,an.U)(r=>r.map(o=>{let a=new AU;return a.aura=o.aura,a.religione=o.religione,a.id=o.id,a.spell=o.spell,a})))}getSpellChiericoFromDivinita(e){return this.store.collection("SpellChierico",r=>r.where("religione","==",e)).valueChanges().pipe((0,an.U)(r=>r.map(o=>{let a=new fU;return a.religione=o.religione,a.id=o.id,a.spell=o.spell,a})))}getRegni(){return this.store.collection("Regno").valueChanges().pipe((0,an.U)(i=>i.map(r=>{let o=new Jte;return o.nome=r.nome,o})))}getDomandeRisposte(){return this.store.collection("DomandeRisposte").valueChanges().pipe((0,an.U)(i=>i.map(r=>{let o=new Xte;return o.domanda=r.domanda,o.risposta=r.risposta,o.min=r.min,o})))}getInfoSkill(e){return this.store.collection("InfoSkill",r=>r.where("classe","==",e)).valueChanges().pipe((0,an.U)(r=>r.map(o=>{let a=new ene;return a.info=o.info,a.nome=o.nome,a.procedura=o.procedura,a.classe=o.classe,a})))}getAllSkills(e=-1){return this.getObservableSkill(this.store.collection("Skill",-1===e?i=>i.orderBy("idTipologiaSkill"):i=>i.where("idTipologiaSkill","==",e.toString())))}getAllReligioni(e=""){return this.getObservableReligioni(""===e?this.store.collection("Religione"):this.store.collection("Religione",i=>i.where("pantheon","==",e)))}getClasseSkills(e){return this.getObservableClasseSkills(this.store.collection("Skill",i=>i.where("classi","array-contains",e)))}getAllRazze(){return this.getObservableRazza(this.store.collection("Razza"))}getAllTipologieSkill(){return this.getObservableTipologia(this.store.collection("TipologiaSkill"))}AddSkill(e){this.store.collection("Skill").add({nome:e.nome,classi:e.classi,idTipologiaSkill:e.idTipologiaSkill})}AddPg(e,i,r=!1){this.store.collection("Pg").add({nome:e.nome,classe:e.classe.nome,divinita:e.religione.nome,pantheon:e.religione.pantheon,razza:e.razza.nome,forza:e.stats.forza,destrezza:e.stats.destrezza,intelligenza:e.stats.intelligenza,guid:i,utilizzatoNVolte:r?1:0})}addSkillsPg(e,i){this.store.collection("SkillsPg").add({guidPg:i,nomeSkill:e.nome,valueSkill:e.value,idTipologiaSkill:e.idTipologiaSkill,idSkill:e.id})}getPg(e){return this.getObservablePg(this.store.collection("Pg",i=>i.where("guid","==",e)))}getSchedePgByClasse(e){return this.store.collection("Pg",r=>r.where("classe","==",e)).valueChanges().pipe((0,an.U)(r=>r.map(o=>{let a=new hU;return a.nome=o.nome,a.classe=o.classe,a.destrezza=o.destrezza,a.forza=o.forza,a.intelligenza=o.intelligenza,a.guid=o.guid,a.utilizzatoNVolte=o.utilizzatoNVolte,a})))}updateSchedaPg(e,i){var r=this.store.collection("Pg",o=>o.where("guid","==",e)).valueChanges({idField:"id"}).subscribe(o=>{null!=o&&this.store.collection("Pg").doc(`${o[0].id}`).set({utilizzatoNVolte:i},{merge:!0}),r.unsubscribe()},o=>console.error("Error"))}getSkillsPg(e){return this.getObservableSkillsPg(this.store.collection("SkillsPg",i=>i.where("guidPg","==",e)))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gM),s.LFG(doe))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hoe(n,t){}class _k{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let sz=(()=>{class n extends wM{constructor(e,i,r,o,a,u,h,f){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=a,this._ngZone=u,this._overlayRef=h,this._focusMonitor=f,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=_=>{this._portalOutlet.hasAttached();const C=this._portalOutlet.attachDomPortal(_);return this._contentAttached(),C},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=AS(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=AS();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=AS())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(DM),s.Y36(Ke,8),s.Y36(_k),s.Y36(TD),s.Y36(s.R0b),s.Y36(ID),s.Y36(Kp))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&s.Gf(bx,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&s.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,hoe,0,0,"ng-template",0)},dependencies:[bx],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class x4{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new nn.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Lm(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const oz=new s.OlP("DialogScrollStrategy"),Aoe=new s.OlP("DialogData"),foe=new s.OlP("DefaultDialogConfig"),goe={provide:oz,deps:[bf],useFactory:function poe(n){return()=>n.scrollStrategies.block()}};let moe=0,az=(()=>{class n{constructor(e,i,r,o,a,u){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new nn.x,this._afterOpenedAtThisLevel=new nn.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Jd(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(sa(void 0))),this._scrollStrategy=u}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new _k,...i}).id=i.id||"cdk-dialog-"+moe++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),a=this._overlay.create(o),u=new x4(a,i),h=this._attachContainer(a,u,i);return u.containerInstance=h,this._attachDialogContent(e,u,h,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.closed.subscribe(()=>this._removeOpenDialog(u,!0)),this.afterOpened.next(u),u}closeAll(){E4(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){E4(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),E4(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new bM({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector||r.viewContainerRef?.injector,a=[{provide:_k,useValue:r},{provide:x4,useValue:i},{provide:ID,useValue:e}];let u;r.container?"function"==typeof r.container?u=r.container:(u=r.container.type,a.push(...r.container.providers(r))):u=sz;const h=new wx(u,r.viewContainerRef,s.zs3.create({parent:o||this._injector,providers:a}),r.componentFactoryResolver);return e.attach(h).instance}_attachDialogContent(e,i,r,o){if(e instanceof s.Rgc){const a=this._createInjector(o,i,r,void 0);let u={$implicit:o.data,dialogRef:i};o.templateContext&&(u={...u,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new CD(e,null,u,a))}else{const a=this._createInjector(o,i,r,this._injector),u=r.attachComponentPortal(new wx(e,o.viewContainerRef,a,o.componentFactoryResolver));i.componentInstance=u.instance}}_createInjector(e,i,r,o){const a=e.injector||e.viewContainerRef?.injector,u=[{provide:Aoe,useValue:e.data},{provide:x4,useValue:i}];return e.providers&&("function"==typeof e.providers?u.push(...e.providers(i,e,r)):u.push(...e.providers)),e.direction&&(!a||!a.get(wf,null,s.XFs.Optional))&&u.push({provide:wf,useValue:{value:e.direction,change:An()}}),s.zs3.create({parent:a||o,providers:u})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(bf),s.LFG(s.zs3),s.LFG(foe,8),s.LFG(n,12),s.LFG(CM),s.LFG(oz))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function E4(n,t){let e=n.length;for(;e--;)t(n[e])}let _oe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[az,goe],imports:[Cx,Sb,c7,Sb]}),n})();function yoe(n,t){}const Ux={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},voe={dialogContainer:Tc("dialogContainer",[Hr("void, exit",ui({opacity:0,transform:"scale(0.7)"})),Hr("enter",ui({transform:"none"})),Ws("* => enter",S7([To("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",ui({transform:"none",opacity:1})),OM("@*",RM(),{optional:!0})]),Ux),Ws("* => void, * => exit",S7([To("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",ui({opacity:0})),OM("@*",RM(),{optional:!0})]),Ux)])};class yk{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=Ux.params.enterAnimationDuration,this.exitAnimationDuration=Ux.params.exitAnimationDuration}}let woe=(()=>{class n extends sz{constructor(e,i,r,o,a,u,h,f){super(e,i,r,o,a,u,h,f),this._animationStateChanged=new s.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(DM),s.Y36(Ke,8),s.Y36(yk),s.Y36(TD),s.Y36(s.R0b),s.Y36(ID),s.Y36(Kp))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],features:[s.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),boe=(()=>{class n extends woe{constructor(e,i,r,o,a,u,h,f,_){super(e,i,r,o,a,u,h,_),this._changeDetectorRef=f,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||Ux.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||Ux.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(DM),s.Y36(Ke,8),s.Y36(yk),s.Y36(TD),s.Y36(s.R0b),s.Y36(ID),s.Y36(s.sBO),s.Y36(Kp))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&s.WFA("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&e&&(s.Ikx("id",i._config.id),s.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),s.d8E("@dialogContainer",i._getAnimationState()))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,yoe,0,0,"ng-template",0)},dependencies:[bx],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[voe.dialogContainer]}}),n})();class S0{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new nn.x,this._beforeClosed=new nn.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(_i(r=>"opened"===r.state),(0,Jr.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(_i(r=>"closed"===r.state),(0,Jr.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,iu.T)(this.backdropClick(),this.keydownEvents().pipe(_i(r=>27===r.keyCode&&!this.disableClose&&!Lm(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function Coe(n,t,e){n._closeInteractionType=t,n.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(_i(e=>"closing"===e.state),(0,Jr.q)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Qm=new s.OlP("MatDialogData"),xoe=new s.OlP("mat-dialog-default-options"),lz=new s.OlP("mat-dialog-scroll-strategy"),Soe={provide:lz,deps:[bf],useFactory:function Eoe(n){return()=>n.scrollStrategies.block()}};let Ioe=0,Doe=(()=>{class n{constructor(e,i,r,o,a,u,h,f,_,C){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=h,this._dialogContainerType=f,this._dialogDataToken=_,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new nn.x,this._afterOpenedAtThisLevel=new nn.x,this._idPrefix="mat-dialog-",this.afterAllClosed=Jd(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(sa(void 0))),this._scrollStrategy=u,this._dialog=i.get(az)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let r;(i={...this._defaultOptions||new yk,...i}).id=i.id||`${this._idPrefix}${Ioe++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:yk,useValue:i},{provide:_k,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(a,u,h)=>(r=new this._dialogRefConstructor(a,i,h),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:h},{provide:this._dialogDataToken,useValue:u.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),wy=(()=>{class n extends Doe{constructor(e,i,r,o,a,u,h,f){super(e,i,o,u,h,a,S0,boe,Qm,f)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(bf),s.LFG(s.zs3),s.LFG(Jt,8),s.LFG(xoe,8),s.LFG(lz),s.LFG(n,12),s.LFG(CM),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Toe=0,cz=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+Toe++}ngOnInit(){this._dialogRef||(this._dialogRef=function Foe(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(S0,8),s.Y36(s.SBq),s.Y36(wy))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&s.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),Boe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),Moe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[wy,Soe],imports:[_oe,Cx,Sb,hr,hr]}),n})();const koe=["*",[["mat-toolbar-row"]]],Roe=["*","mat-toolbar-row"],Ooe=A0(class{constructor(n){this._elementRef=n}});let S4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),uz=(()=>{class n extends Ooe{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Fs),s.Y36(Ke))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,S4,5),2&e){let o;s.iGM(o=s.CRH())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[s.qOj],ngContentSelectors:Roe,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(koe),s.Hsn(0),s.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),dz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[hr,hr]}),n})();function hz(...n){const t=(0,Pa.jO)(n),{args:e,keys:i}=Hh(n),r=new mr.y(o=>{const{length:a}=e;if(!a)return void o.complete();const u=new Array(a);let h=a,f=a;for(let _=0;_<a;_++){let C=!1;(0,Qa.Xf)(e[_]).subscribe(new Nr.Q(o,F=>{C||(C=!0,f--),u[_]=F},()=>h--,void 0,()=>{(!h||!C)&&(f||o.next(i?Hg(i,u):u),o.complete())}))}});return t?r.pipe(ec(t)):r}const Loe=["*"];let vk;function hT(n){return function Noe(){if(void 0===vk&&(vk=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(vk=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return vk}()?.createHTML(n)||n}function Az(n){return Error(`Unable to find icon with the name "${n}"`)}function fz(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function pz(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Vb{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let wk=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new Vb(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const a=this._sanitizer.sanitize(s.q3G.HTML,r);if(!a)throw pz(r);const u=hT(a);return this._addSvgIconConfig(e,i,new Vb("",u,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Vb(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(s.q3G.HTML,i);if(!o)throw pz(i);const a=hT(o);return this._addSvgIconSetConfig(e,new Vb("",a,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!i)throw fz(e);const r=this._cachedIconsByUrl.get(i);return r?An(bk(r)):this._loadSvgIconFromConfig(new Vb(e,null)).pipe((0,Cr.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,an.U)(o=>bk(o)))}getNamedSvgIcon(e,i=""){const r=gz(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(e,a):ro(Az(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?An(bk(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,an.U)(i=>bk(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?An(r):hz(i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Qo(u=>{const f=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,a.url)} failed: ${u.message}`;return this._errorHandler.handleError(new Error(f)),An(null)})))).pipe((0,an.U)(()=>{const a=this._extractIconWithNameFromAnySet(e,i);if(!a)throw Az(e);return a}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const a=this._svgElementFromConfig(o),u=this._extractSvgIconFromSet(a,e,o.options);if(u)return u}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Cr.b)(i=>e.svgText=i),(0,an.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?An(null):this._fetchIcon(e).pipe((0,Cr.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const a=o.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,r);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),r);const u=this._svgElementFromString(hT("<svg></svg>"));return u.appendChild(a),this._setSvgAttributes(u,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(hT("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:a,value:u}=r[o];"id"!==a&&i.setAttribute(a,u)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function Poe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,i);if(!a)throw fz(i);const u=this._inProgressUrlFetches.get(a);if(u)return u;const h=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe((0,an.U)(f=>hT(f)),th(()=>this._inProgressUrlFetches.delete(a)),(0,g5.B)());return this._inProgressUrlFetches.set(a,h),h}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(gz(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return Qoe(o)?new Vb(o.url,null,o.options):new Vb(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(hm,8),s.LFG(Ol),s.LFG(Ke,8),s.LFG(s.qLn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bk(n){return n.cloneNode(!0)}function gz(n,t){return n+":"+t}function Qoe(n){return!(!n.url||!n.options)}const Hoe=A0(class{constructor(n){this._elementRef=n}}),Voe=new s.OlP("MAT_ICON_DEFAULT_OPTIONS"),joe=new s.OlP("mat-icon-location",{providedIn:"root",factory:function Goe(){const n=(0,s.f3M)(Ke),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),mz=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],zoe=mz.map(n=>`[${n}]`).join(", "),qoe=/^url\(['"]?#(.*?)['"]?\)$/;let Hm=(()=>{class n extends Hoe{constructor(e,i,r,o,a,u){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Po.w0.EMPTY,u&&(u.color&&(this.color=this.defaultColor=u.color),u.fontSet&&(this.fontSet=u.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Ci(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(a=>{o.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(zoe),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)mz.forEach(a=>{const u=i[o],h=u.getAttribute(a),f=h?h.match(qoe):null;if(f){let _=r.get(u);_||(_=[],r.set(u,_)),_.push({name:a,value:f[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,Jr.q)(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(wk),s.$8M("aria-hidden"),s.Y36(joe),s.Y36(s.qLn),s.Y36(Voe,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(s.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),s.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:Loe,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),_z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[hr,hr]}),n})();const Ck=["*"],Koe=["content"];function Zoe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._onBackdropClicked())}),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function $oe(n,t){1&n&&(s.TgZ(0,"mat-drawer-content"),s.Hsn(1,2),s.qZA())}const Yoe=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Woe=["mat-drawer","mat-drawer-content","*"];function Joe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._onBackdropClicked())}),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function Xoe(n,t){1&n&&(s.TgZ(0,"mat-sidenav-content"),s.Hsn(1,2),s.qZA())}const eae=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],tae=["mat-sidenav","mat-sidenav-content","*"],yz={transformDrawer:Tc("transform",[Hr("open, open-instant",ui({transform:"none",visibility:"visible"})),Hr("void",ui({"box-shadow":"none",visibility:"hidden"})),Ws("void => open-instant",To("0ms")),Ws("void <=> open, open-instant => void",To("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},iae=new s.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function rae(){return!1}}),I4=new s.OlP("MAT_DRAWER_CONTAINER");let xk=(()=>{class n extends bD{constructor(e,i,r,o,a){super(r,o,a),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>wz)),s.Y36(s.SBq),s.Y36(wD),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&s.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[s._Bn([{provide:bD,useExisting:n}]),s.qOj],ngContentSelectors:Ck,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),vz=(()=>{class n{constructor(e,i,r,o,a,u,h,f){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=a,this._interactivityChecker=u,this._doc=h,this._container=f,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new nn.x,this._animationEnd=new nn.x,this._animationState="void",this.openedChange=new s.vpe(!0),this._openedStream=this.openedChange.pipe(_i(_=>_),(0,an.U)(()=>{})),this.openedStart=this._animationStarted.pipe(_i(_=>_.fromState!==_.toState&&0===_.toState.indexOf("open")),fd(void 0)),this._closedStream=this.openedChange.pipe(_i(_=>!_),(0,an.U)(()=>{})),this.closedStart=this._animationStarted.pipe(_i(_=>_.fromState!==_.toState&&"void"===_.toState),fd(void 0)),this._destroyed=new nn.x,this.onPositionChanged=new s.vpe,this._modeChanged=new nn.x,this.openedChange.subscribe(_=>{_?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{h0(this._elementRef.nativeElement,"keydown").pipe(_i(_=>27===_.keyCode&&!this.disableClose&&!Lm(_)),Wi(this._destroyed)).subscribe(_=>this._ngZone.run(()=>{this.close(),_.stopPropagation(),_.preventDefault()}))}),this._animationEnd.pipe(yv((_,C)=>_.fromState===C.fromState&&_.toState===C.toState)).subscribe(_=>{const{fromState:C,toState:F}=_;(0===F.indexOf("open")&&"void"===C||"void"===F&&0===C.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Ci(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Ci(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Ci(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe((0,Jr.q)(1)).subscribe(a=>o(a?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(DM),s.Y36(Kp),s.Y36(Fs),s.Y36(s.R0b),s.Y36(TD),s.Y36(Ke,8),s.Y36(I4,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&s.Gf(Koe,5),2&e){let r;s.iGM(r=s.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&s.WFA("@transform.start",function(o){return i._animationStarted.next(o)})("@transform.done",function(o){return i._animationEnd.next(o)}),2&e&&(s.uIk("align",null),s.d8E("@transform",i._animationState),s.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Ck,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA())},dependencies:[bD],encapsulation:2,data:{animation:[yz.transformDrawer]},changeDetection:0}),n})(),wz=(()=>{class n{constructor(e,i,r,o,a,u=!1,h){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=h,this._drawers=new s.n_E,this.backdropClick=new s.vpe,this._destroyed=new nn.x,this._doCheckSubject=new nn.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new nn.x,e&&e.change.pipe(Wi(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),a.change().pipe(Wi(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=u}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Ci(e)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(e){this._backdropOverride=null==e?null:Ci(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(sa(this._allDrawers),Wi(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(sa(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(DD(10),Wi(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(_i(i=>i.fromState!==i.toState),Wi(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Wi(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(Wi(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,Jr.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Wi((0,iu.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wf,8),s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(yx),s.Y36(iae),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,xk,5),s.Suo(r,vz,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._content=o.first),s.iGM(o=s.CRH())&&(i._allDrawers=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(xk,5),2&e){let r;s.iGM(r=s.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[s._Bn([{provide:I4,useExisting:n}])],ngContentSelectors:Woe,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(s.F$t(Yoe),s.YNc(0,Zoe,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,$oe,2,0,"mat-drawer-content",1)),2&e&&(s.Q6J("ngIf",i.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!i._content))},dependencies:[Li,xk],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),D4=(()=>{class n extends xk{constructor(e,i,r,o,a){super(e,i,r,o,a)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>Cz)),s.Y36(s.SBq),s.Y36(wD),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&s.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[s._Bn([{provide:bD,useExisting:n}]),s.qOj],ngContentSelectors:Ck,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),bz=(()=>{class n extends vz{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Ci(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=su(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=su(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(s.uIk("align",null),s.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),s.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[s.qOj],ngContentSelectors:Ck,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA())},dependencies:[bD],encapsulation:2,data:{animation:[yz.transformDrawer]},changeDetection:0}),n})(),Cz=(()=>{class n extends wz{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,D4,5),s.Suo(r,bz,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._content=o.first),s.iGM(o=s.CRH())&&(i._allDrawers=o)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[s._Bn([{provide:I4,useExisting:n}]),s.qOj],ngContentSelectors:tae,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(s.F$t(eae),s.YNc(0,Joe,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,Xoe,2,0,"mat-sidenav-content",1)),2&e&&(s.Q6J("ngIf",i.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!i._content))},dependencies:[Li,D4],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),sae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[ea,hr,vx,vx,hr]}),n})(),AT=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Ci(e)}get inset(){return this._inset}set inset(e){this._inset=Ci(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),s.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),oae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[hr,hr]}),n})();function xz(n){for(let t in n){let e=n[t]??"";switch(t){case"display":n.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+t]=e;break;case"flex-direction":n["-webkit-flex-direction"]=e,n["flex-direction"]=e;break;case"order":n.order=n["-webkit-"+t]=isNaN(+e)?"0":e}}return n}const T4="inline",Ek=["row","column","row-reverse","column-reverse"];function Ez(n){let[t,e,i]=Sz(n);return function lae(n,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":t||null}}(t,e,i)}function Sz(n){n=n?.toLowerCase()??"";let[t,e,i]=n.split(" ");return Ek.find(r=>r===t)||(t=Ek[0]),e===T4&&(e=i!==T4?i:"",i=T4),[t,aae(e),!!i]}function fT(n){let[t]=Sz(n);return t.indexOf("row")>-1}function aae(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function by(n,...t){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}const uae={provide:s.tb,useFactory:function cae(n,t){return()=>{if($l(t)){const e=Array.from(n.querySelectorAll(`[class*=${Iz}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(r=>{r.classList.contains(`${Iz}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[Ke,s.Lbi],multi:!0},Iz="flex-layout-";let B4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[uae]}),n})();class jb{constructor(t=!1,e="all",i="",r="",o=0){this.matches=t,this.mediaQuery=e,this.mqAlias=i,this.suffix=r,this.priority=o,this.property=""}clone(){return new jb(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let dae=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(e,i,r){const o=this.stylesheet.get(e);o?o.set(i,r):this.stylesheet.set(e,new Map([[i,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,i){const r=this.stylesheet.get(e);let o="";if(r){const a=r.get(i);("number"==typeof a||"string"==typeof a)&&(o=a+"")}return o}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const F4={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Jp=new s.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>F4}),Qx=new s.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),M4=new s.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function Dz(n,t){return n=n?.clone()??new jb,t&&(n.mqAlias=t.alias,n.mediaQuery=t.mediaQuery,n.suffix=t.suffix,n.priority=t.priority),n}class Ja{constructor(){this.shouldCache=!0}sideEffect(t,e,i){}}let Ko=(()=>{class n{constructor(e,i,r,o){this._serverStylesheet=e,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=o}applyStyleToElement(e,i,r=null){let o={};"string"==typeof i&&(o[i]=r,i=o),o=this.layoutConfig.disableVendorPrefixes?i:xz(i),this._applyMultiValueStyleToElement(o,e)}applyStyleToElements(e,i=[]){const r=this.layoutConfig.disableVendorPrefixes?e:xz(e);i.forEach(o=>{this._applyMultiValueStyleToElement(r,o)})}getFlowDirection(e){const i="flex-direction";let r=this.lookupStyle(e,i);return[r||"row",this.lookupInlineStyle(e,i)||Ta(this._platformId)&&this._serverModuleLoaded?r:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,i){return e.getAttribute(i)??""}lookupInlineStyle(e,i){return $l(this._platformId)?e.style.getPropertyValue(i):function hae(n,t){return Tz(n)[t]??""}(e,i)}lookupStyle(e,i,r=!1){let o="";return e&&((o=this.lookupInlineStyle(e,i))||($l(this._platformId)?r||(o=getComputedStyle(e).getPropertyValue(i)):this._serverModuleLoaded&&(o=this._serverStylesheet.getStyleForElement(e,i)))),o?o.trim():""}_applyMultiValueStyleToElement(e,i){Object.keys(e).sort().forEach(r=>{const o=e[r],a=Array.isArray(o)?o:[o];a.sort();for(let u of a)u=u?u+"":"",$l(this._platformId)||!this._serverModuleLoaded?$l(this._platformId)?i.style.setProperty(r,u):Aae(i,r,u):this._serverStylesheet.addStyleToElement(i,r,u)})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(dae),s.LFG(Qx),s.LFG(s.Lbi),s.LFG(Jp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Aae(n,t,e){t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=Tz(n);i[t]=e??"",function fae(n,t){let e="";for(const i in t)t[i]&&(e+=`${i}:${t[i]};`);n.setAttribute("style",e)}(n,i)}function Tz(n){const t={},e=n.getAttribute("style");if(e){const i=e.split(/;+/g);for(let r=0;r<i.length;r++){const o=i[r].trim();if(o.length>0){const a=o.indexOf(":");if(-1===a)throw new Error(`Invalid CSS style: ${o}`);t[o.substr(0,a).trim()]=o.substr(a+1).trim()}}}return t}function pT(n,t){return(t&&t.priority||0)-(n&&n.priority||0)}function pae(n,t){return(n.priority||0)-(t.priority||0)}let k4=(()=>{class n{constructor(e,i,r){this._zone=e,this._platformId=i,this._document=r,this.source=new gr(new jb(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((i,r)=>{i.matches&&e.push(r)}),e}isActive(e){return this.registry.get(e)?.matches??this.registerQuery(e).some(r=>r.matches)}observe(e,i=!1){if(e&&e.length){const r=this._observable$.pipe(_i(a=>!i||e.indexOf(a.mediaQuery)>-1)),o=new mr.y(a=>{const u=this.registerQuery(e);if(u.length){const h=u.pop();u.forEach(f=>{a.next(f)}),this.source.next(h)}a.complete()});return(0,iu.T)(o,r)}return this._observable$}registerQuery(e){const i=Array.isArray(e)?e:[e],r=[];return function gae(n,t){const e=n.filter(i=>!Bz[i]);if(e.length>0){const i=e.join(", ");try{const r=t.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),t.head.appendChild(r),e.forEach(o=>Bz[o]=r)}catch(r){console.error(r)}}}(i,this._document),i.forEach(o=>{const a=h=>{this._zone.run(()=>this.source.next(new jb(h.matches,o)))};let u=this.registry.get(o);u||(u=this.buildMQL(o),u.addListener(a),this.pendingRemoveListenerFns.push(()=>u.removeListener(a)),this.registry.set(o,u)),u.matches&&r.push(new jb(!0,o))}),r}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function _ae(n,t){return t&&window.matchMedia("all").addListener?window.matchMedia(n):function mae(n){const t=new EventTarget;return t.matches="all"===n||""===n,t.media=n,t.addListener=()=>{},t.removeListener=()=>{},t.addEventListener=()=>{},t.dispatchEvent=()=>!1,t.onchange=null,t}(n)}(e,$l(this._platformId))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(s.Lbi),s.LFG(Ke))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bz={},yae=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],Fz="(orientation: portrait) and (max-width: 599.98px)",Mz="(orientation: landscape) and (max-width: 959.98px)",kz="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",Rz="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",Oz="(orientation: portrait) and (min-width: 840px)",Lz="(orientation: landscape) and (min-width: 1280px)",Cy={HANDSET:`${Fz}, ${Mz}`,TABLET:`${kz} , ${Rz}`,WEB:`${Oz}, ${Lz} `,HANDSET_PORTRAIT:`${Fz}`,TABLET_PORTRAIT:`${kz} `,WEB_PORTRAIT:`${Oz}`,HANDSET_LANDSCAPE:`${Mz}`,TABLET_LANDSCAPE:`${Rz}`,WEB_LANDSCAPE:`${Lz}`},vae=[{alias:"handset",priority:2e3,mediaQuery:Cy.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:Cy.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:Cy.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:Cy.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:Cy.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:Cy.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:Cy.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:Cy.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:Cy.WEB_PORTRAIT,overlapping:!0}],wae=/(\.|-|_)/g;function bae(n){let t=n.length>0?n.charAt(0):"",e=n.length>1?n.slice(1):"";return t.toUpperCase()+e}const Sae=new s.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=(0,s.f3M)(M4),t=(0,s.f3M)(Jp),e=[].concat.apply([],(n||[]).map(r=>Array.isArray(r)?r:[r]));return function Eae(n,t=[]){const e={};return n.forEach(i=>{e[i.alias]=i}),t.forEach(i=>{e[i.alias]?by(e[i.alias],i):e[i.alias]=i}),function xae(n){return n.forEach(t=>{t.suffix||(t.suffix=function Cae(n){return n.replace(wae,"|").split("|").map(bae).join("")}(t.alias),t.overlapping=!!t.overlapping)}),n}(Object.keys(e).map(i=>e[i]))}((t.disableDefaultBps?[]:yae).concat(t.addOrientationBps?vae:[]),e)}});let R4=(()=>{class n{constructor(e){this.findByMap=new Map,this.items=[...e].sort(pae)}findByAlias(e){return e?this.findWithPredicate(e,i=>i.alias===e):null}findByQuery(e){return this.findWithPredicate(e,i=>i.mediaQuery===e)}get overlappings(){return this.items.filter(e=>e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e?.suffix??"")}findWithPredicate(e,i){let r=this.findByMap.get(e);return r||(r=this.items.find(i)??null,this.findByMap.set(e,r)),r??null}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Sae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Hx="print",Iae={alias:Hx,mediaQuery:Hx,priority:1e3};let Dae=(()=>{class n{constructor(e,i,r){this.breakpoints=e,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new Tae,this.deactivations=[]}withPrintQuery(e){return[...e,Hx]}isPrintEvent(e){return e.mediaQuery.startsWith(Hx)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const i=this.breakpoints.findByQuery(e);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(pT)}updateEvent(e){let i=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(i=this.getEventBreakpoints(e)[0],e.mediaQuery=i?.mediaQuery??""),Dz(e,i)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new jb(!0,Hx))),e.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(r)}interceptEvents(e){return i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(i)),e.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(e,i)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,i){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(e,i){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!i.matches){const r=this.breakpoints.findByQuery(i.mediaQuery);if(r){const o=this.formerActivations&&this.formerActivations.includes(r),a=!this.formerActivations&&e.activatedBreakpoints.includes(r);(o||a)&&(this.deactivations.push(r),this.deactivations.sort(pT))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(R4),s.LFG(Jp),s.LFG(Ke))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Tae{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(Iae),t.sort(pT),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function Bae(n){return n?.mediaQuery.startsWith(Hx)??!1}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}let ua=(()=>{class n{constructor(e,i,r){this.matchMedia=e,this.breakpoints=i,this.hook=r,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new nn.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(e){this._activatedBreakpoints=[...e]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(e){this._useFallbacks=e}onMediaChange(e){const i=this.findByQuery(e.mediaQuery);if(i){e=Dz(e,i);const r=this.activatedBreakpoints.indexOf(i);e.matches&&-1===r?(this._activatedBreakpoints.push(i),this._activatedBreakpoints.sort(pT),this.updateStyles()):!e.matches&&-1!==r&&(this._activatedBreakpoints.splice(r,1),this._activatedBreakpoints.sort(pT),this.updateStyles())}}init(e,i,r,o,a=[]){Nz(this.updateMap,e,i,r),Nz(this.clearMap,e,i,o),this.buildElementKeyMap(e,i),this.watchExtraTriggers(e,i,a)}getValue(e,i,r){const o=this.elementMap.get(e);if(o){const a=void 0!==r?o.get(r):this.getActivatedValues(o,i);if(a)return a.get(i)}}hasValue(e,i){const r=this.elementMap.get(e);if(r){const o=this.getActivatedValues(r,i);if(o)return void 0!==o.get(i)||!1}return!1}setValue(e,i,r,o){let a=this.elementMap.get(e);if(a){const h=(a.get(o)??new Map).set(i,r);a.set(o,h),this.elementMap.set(e,a)}else a=(new Map).set(o,(new Map).set(i,r)),this.elementMap.set(e,a);const u=this.getValue(e,i);void 0!==u&&this.updateElement(e,i,u)}trackValue(e,i){return this.subject.asObservable().pipe(_i(r=>r.element===e&&r.key===i))}updateStyles(){this.elementMap.forEach((e,i)=>{const r=new Set(this.elementKeyMap.get(i));let o=this.getActivatedValues(e);o&&o.forEach((a,u)=>{this.updateElement(i,u,a),r.delete(u)}),r.forEach(a=>{if(o=this.getActivatedValues(e,a),o){const u=o.get(a);this.updateElement(i,a,u)}else this.clearElement(i,a)})})}clearElement(e,i){const r=this.clearMap.get(e);if(r){const o=r.get(i);o&&(o(),this.subject.next({element:e,key:i,value:""}))}}updateElement(e,i,r){const o=this.updateMap.get(e);if(o){const a=o.get(i);a&&(a(r),this.subject.next({element:e,key:i,value:r}))}}releaseElement(e){const i=this.watcherMap.get(e);i&&(i.forEach(o=>o.unsubscribe()),this.watcherMap.delete(e));const r=this.elementMap.get(e);r&&(r.forEach((o,a)=>r.delete(a)),this.elementMap.delete(e))}triggerUpdate(e,i){const r=this.elementMap.get(e);if(r){const o=this.getActivatedValues(r,i);o&&(i?this.updateElement(e,i,o.get(i)):o.forEach((a,u)=>this.updateElement(e,u,a)))}}buildElementKeyMap(e,i){let r=this.elementKeyMap.get(e);r||(r=new Set,this.elementKeyMap.set(e,r)),r.add(i)}watchExtraTriggers(e,i,r){if(r&&r.length){let o=this.watcherMap.get(e);if(o||(o=new Map,this.watcherMap.set(e,o)),!o.get(i)){const u=(0,iu.T)(...r).subscribe(()=>{const h=this.getValue(e,i);this.updateElement(e,i,h)});o.set(i,u)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,i){for(let o=0;o<this.activatedBreakpoints.length;o++){const u=e.get(this.activatedBreakpoints[o].alias);if(u&&(void 0===i||u.has(i)&&null!=u.get(i)))return u}if(!this._useFallbacks)return;const r=e.get("");return void 0===i||r&&r.has(i)?r:void 0}observeActivations(){const e=this.breakpoints.items.map(i=>i.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe((0,Cr.b)(this.hook.interceptEvents(this)),_i(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(k4),s.LFG(R4),s.LFG(Dae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Nz(n,t,e,i){if(void 0!==i){const r=n.get(t)??new Map;r.set(e,i),n.set(t,r)}}let Sa=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.styleBuilder=i,this.styler=r,this.marshal=o,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new nn.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split(".").slice(1).join(".");this.setValue(e[i].currentValue,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,i){const r=this.styleBuilder,o=r.shouldCache;let a=this.styleCache.get(e);(!a||!o)&&(a=r.buildStyles(e,i),o&&this.styleCache.set(e,a)),this.mru={...a},this.applyStyleToElement(a),r.sideEffect(e,a,i)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,i=!1){if(e){const[r,o]=this.styler.getFlowDirection(e);if(!o&&i){const a=Ez(r);this.styler.applyStyleToElements(a,[e])}return r.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,i,r=this.nativeElement){this.styler.applyStyleToElement(r,e,i)}setValue(e,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,i)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Ja),s.Y36(Ko),s.Y36(ua))},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();class Mae extends EventTarget{constructor(t){super(),this._mediaQuery=t,this._isActive=!1,this._listeners=[],this.onchange=null}get matches(){return this._isActive}get media(){return this._mediaQuery}destroy(){this.deactivate(),this._listeners=[]}activate(){return this._isActive||(this._isActive=!0,this._listeners.forEach(t=>{t.call(this,{matches:this.matches,media:this.media})})),this}deactivate(){return this._isActive&&(this._isActive=!1,this._listeners.forEach(t=>{t.call(this,{matches:this.matches,media:this.media})})),this}addListener(t){-1===this._listeners.indexOf(t)&&this._listeners.push(t),this._isActive&&t.call(this,{matches:this.matches,media:this.media})}removeListener(t){}dispatchEvent(t){return!1}}function Pz(n,t="1",e="1"){let i=[t,e,n],r=n.indexOf("calc");if(r>0){i[2]=Uz(n.substring(r).trim());let o=n.substr(0,r).trim().split(" ");2==o.length&&(i[0]=o[0],i[1]=o[1])}else if(0==r)i[2]=Uz(n.trim());else{let o=n.split(" ");i=3===o.length?o:[t,e,n]}return i}function Uz(n){return n.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}let kae=(()=>{class n extends Ja{buildStyles(e,{display:i}){const r=Ez(e);return{...r,display:"none"===i?i:r.display}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Rae=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let Oae=(()=>{class n extends Sa{constructor(e,i,r,o,a){super(e,r,i,o),this._config=a,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(e){const r=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=Hz.get(r)??new Map,Hz.set(r,this.styleCache),this.currentValue!==e&&(this.addStyles(e,{display:r}),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Ko),s.Y36(kae),s.Y36(ua),s.Y36(Jp))},n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})(),ju=(()=>{class n extends Oae{constructor(){super(...arguments),this.inputs=Rae}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[s.qOj]}),n})();const Hz=new Map;let Kae=(()=>{class n extends Ja{constructor(e){super(),this.layoutConfig=e}buildStyles(e,i){let[r,o,...a]=e.split(" "),u=a.join(" ");const h=i.direction.indexOf("column")>-1?"column":"row",f=fT(h)?"max-width":"max-height",_=fT(h)?"min-width":"min-height",C=String(u).indexOf("calc")>-1,F=C||"auto"===u,B=String(u).indexOf("%")>-1&&!C,U=String(u).indexOf("px")>-1||String(u).indexOf("rem")>-1||String(u).indexOf("em")>-1||String(u).indexOf("vw")>-1||String(u).indexOf("vh")>-1;let H=C||U;r="0"==r?0:r,o="0"==o?0:o;const Z=!r&&!o;let q={};const W={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(u||""){case"":const he=!1!==this.layoutConfig.useColumnBasisZero;u="row"===h?"0%":he?"0.000000001px":"auto";break;case"initial":case"nogrow":r=0,u="auto";break;case"grow":u="100%";break;case"noshrink":o=0,u="auto";break;case"auto":break;case"none":r=0,o=0,u="auto";break;default:!H&&!B&&!isNaN(u)&&(u+="%"),"0%"===u&&(H=!0),"0px"===u&&(u="0%"),q=by(W,C?{"flex-grow":r,"flex-shrink":o,"flex-basis":H?u:"100%"}:{flex:`${r} ${o} ${H?u:"100%"}`})}return q.flex||q["flex-grow"]||(q=by(W,C?{"flex-grow":r,"flex-shrink":o,"flex-basis":u}:{flex:`${r} ${o} ${u}`})),"0%"!==u&&"0px"!==u&&"0.000000001px"!==u&&"auto"!==u&&(q[_]=Z||H&&r?u:null,q[f]=Z||!F&&o?u:null),q[_]||q[f]?i.hasWrap&&(q[C?"flex-basis":"flex"]=q[f]?C?q[f]:`${r} ${o} ${q[f]}`:C?q[_]:`${r} ${o} ${q[_]}`):q=by(W,C?{"flex-grow":r,"flex-shrink":o,"flex-basis":u}:{flex:`${r} ${o} ${u}`}),by(q,{"box-sizing":"border-box"})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Jp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Zae=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let $ae=(()=>{class n extends Sa{constructor(e,i,r,o,a){super(e,o,i,a),this.layoutConfig=r,this.marshal=a,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(e){this.flexShrink=e||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(e){this.flexGrow=e||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(Wi(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(Wi(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(e){const r=e.value.split(" ");this.direction=r[0],this.wrap=void 0!==r[1]&&"wrap"===r[1],this.triggerUpdate()}updateWithValue(e){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const r=this.direction,o=r.startsWith("row"),a=this.wrap;o&&a?this.styleCache=Jae:o&&!a?this.styleCache=Yae:!o&&a?this.styleCache=Xae:!o&&!a&&(this.styleCache=Wae);const h=Pz(String(e).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(h.join(" "),{direction:r,hasWrap:a})}triggerReflow(){const e=this.activatedValue;if(void 0!==e){const i=Pz(e+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,i.join(" "))}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Ko),s.Y36(Jp),s.Y36(Kae),s.Y36(ua))},n.\u0275dir=s.lG2({type:n,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[s.qOj]}),n})(),ac=(()=>{class n extends $ae{constructor(){super(...arguments),this.inputs=Zae}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[s.qOj]}),n})();const Yae=new Map,Wae=new Map,Jae=new Map,Xae=new Map;let ble=(()=>{class n extends Ja{buildStyles(e,i){const r={},[o,a]=e.split(" ");switch(o){case"center":r["justify-content"]="center";break;case"space-around":r["justify-content"]="space-around";break;case"space-between":r["justify-content"]="space-between";break;case"space-evenly":r["justify-content"]="space-evenly";break;case"end":case"flex-end":r["justify-content"]="flex-end";break;default:r["justify-content"]="flex-start"}switch(a){case"start":case"flex-start":r["align-items"]=r["align-content"]="flex-start";break;case"center":r["align-items"]=r["align-content"]="center";break;case"end":case"flex-end":r["align-items"]=r["align-content"]="flex-end";break;case"space-between":r["align-content"]="space-between",r["align-items"]="stretch";break;case"space-around":r["align-content"]="space-around",r["align-items"]="stretch";break;case"baseline":r["align-content"]="stretch",r["align-items"]="baseline";break;default:r["align-items"]=r["align-content"]="stretch"}return by(r,{display:i.inline?"inline-flex":"flex","flex-direction":i.layout,"box-sizing":"border-box","max-width":"stretch"===a?fT(i.layout)?null:"100%":null,"max-height":"stretch"===a&&fT(i.layout)?"100%":null})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cle=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let xle=(()=>{class n extends Sa{constructor(e,i,r,o){super(e,r,i,o),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(Wi(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(e){const i=this.layout||"row",r=this.inline;"row"===i&&r?this.styleCache=Tle:"row"!==i||r?"row-reverse"===i&&r?this.styleCache=Fle:"row-reverse"!==i||r?"column"===i&&r?this.styleCache=Ble:"column"!==i||r?"column-reverse"===i&&r?this.styleCache=Mle:"column-reverse"===i&&!r&&(this.styleCache=Dle):this.styleCache=Sle:this.styleCache=Ile:this.styleCache=Ele,this.addStyles(e,{layout:i,inline:r})}onLayoutChange(e){const i=e.value.split(" ");this.layout=i[0],this.inline=e.value.includes("inline"),Ek.find(r=>r===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Ko),s.Y36(ble),s.Y36(ua))},n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})(),_A=(()=>{class n extends xle{constructor(){super(...arguments),this.inputs=Cle}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[s.qOj]}),n})();const Ele=new Map,Sle=new Map,Ile=new Map,Dle=new Map,Tle=new Map,Ble=new Map,Fle=new Map,Mle=new Map;let Gz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[B4,Eb]}),n})();const kle=["tooltip"],zz="tooltip-panel",qz=yw({passive:!0}),Kz=new s.OlP("mat-tooltip-scroll-strategy"),Nle={provide:Kz,deps:[bf],useFactory:function Lle(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},Ple=new s.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function Ule(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let Qle=(()=>{class n{constructor(e,i,r,o,a,u,h,f,_,C,F,B){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=a,this._platform=u,this._ariaDescriber=h,this._focusMonitor=f,this._dir=C,this._defaultOptions=F,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new nn.x,this._scrollStrategy=_,this._document=B,F&&(F.position&&(this.position=F.position),F.touchGestures&&(this.touchGestures=F.touchGestures)),C.change.pipe(Wi(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=Ci(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=su(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=su(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Wi(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,qz)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const i=this._createOverlay();this._detach(),this._portal=this._portal||new wx(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(Wi(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(Wi(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${zz}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Wi(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Wi(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Wi(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&27===r.keyCode&&!Lm(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:a}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:a}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:a}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,Jr.q)(1),Wi(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:o}=e;let a;if(a="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",a!==this._currentPosition){const u=this._overlayRef;if(u){const h=`${this._cssClassPrefix}-${zz}-`;u.removePanelClass(h+this._currentPosition),u.addPanelClass(h+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,qz)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),I0=(()=>{class n extends Qle{constructor(e,i,r,o,a,u,h,f,_,C,F,B){super(e,i,r,o,a,u,h,f,_,C,F,B),this._tooltipComponent=Vle}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(bf),s.Y36(s.SBq),s.Y36(wD),s.Y36(s.s_b),s.Y36(s.R0b),s.Y36(Fs),s.Y36(J8),s.Y36(Kp),s.Y36(Kz),s.Y36(wf,8),s.Y36(Ple,8),s.Y36(Ke))},n.\u0275dir=s.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[s.qOj]}),n})(),Hle=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new nn.x,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const a=getComputedStyle(i);("0s"===a.getPropertyValue("animation-duration")||"none"===a.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n}),n})(),Vle=(()=>{class n extends Hle{constructor(e,i,r){super(e,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(EM),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&s.Gf(kle,7),2&e){let r;s.iGM(r=s.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("mouseleave",function(o){return i._handleMouseLeave(o)}),2&e&&s.Udp("zoom",i.isVisible()?1:null)},features:[s.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0,1),s.NdJ("animationend",function(o){return i._handleAnimationEnd(o)}),s.ALo(2,"async"),s._uU(3),s.qZA()),2&e){let r;s.ekj("mat-tooltip-handset",null==(r=s.lcZ(2,4,i._isHandset))?null:r.matches),s.Q6J("ngClass",i.tooltipClass),s.xp6(3),s.Oqu(i.message)}},dependencies:[ms,Nd],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),n})(),Zz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Nle],imports:[c7,ea,Cx,hr,hr,vx]}),n})(),gT=(()=>{class n{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ol,16))},n.\u0275pipe=s.Yjl({name:"safe",type:n,pure:!0}),n})();function jle(n,t){if(1&n&&(s.O4$(),s._UZ(0,"circle",4)),2&n){const e=s.oxw(),i=s.MAs(1);s.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),s.uIk("r",e._getCircleRadius())}}function Gle(n,t){if(1&n&&(s.O4$(),s._UZ(0,"circle",4)),2&n){const e=s.oxw(),i=s.MAs(1);s.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),s.uIk("r",e._getCircleRadius())}}const qle=A0(class{constructor(n){this._elementRef=n}},"primary"),Kle=new s.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function Zle(){return{diameter:100}}});class xy extends qle{constructor(t,e,i,r,o,a,u,h){super(t),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=Po.w0.EMPTY,this.mode="determinate";const f=xy._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),f.has(i.head)||f.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!o&&!o._forceAnimations,"mat-spinner"===t.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),o&&(o.color&&(this.color=this.defaultColor=o.color),o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth)),e.isBrowser&&e.SAFARI&&u&&a&&h&&(this._resizeSubscription=u.change(150).subscribe(()=>{"indeterminate"===this.mode&&h.run(()=>a.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=su(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=su(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,su(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=U2(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){const e=50*(t.currentScale??1);return`${e}% ${e}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=xy._diameters;let r=i.get(t);if(!r||!r.has(e)){const o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),t.appendChild(o),r||(r=new Set,i.set(t,r)),r.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}xy._diameters=new WeakMap,xy.\u0275fac=function(t){return new(t||xy)(s.Y36(s.SBq),s.Y36(Fs),s.Y36(Ke,8),s.Y36(s.QbO,8),s.Y36(Kle),s.Y36(s.sBO),s.Y36(yx),s.Y36(s.R0b))},xy.\u0275cmp=s.Xpm({type:xy,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(s.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),s.Udp("width",e.diameter,"px")("height",e.diameter,"px"),s.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[s.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(s.O4$(),s.TgZ(0,"svg",0,1),s.YNc(2,jle,1,11,"circle",2),s.YNc(3,Gle,1,9,"circle",3),s.qZA()),2&t&&(s.Udp("width",e.diameter,"px")("height",e.diameter,"px"),s.Q6J("ngSwitch","indeterminate"===e.mode),s.uIk("viewBox",e._getViewBox()),s.xp6(2),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1))},dependencies:[Vc,hu],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let $z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[hr,ea,hr]}),n})(),Yle=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-progress-spinner"]],decls:3,vars:0,consts:[[1,"overlay"],[1,"center"],["diameter","50","mode","indeterminate","color","primary"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s._UZ(2,"mat-progress-spinner",2),s.qZA()())},dependencies:[xy],styles:[".center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}.overlay[_ngcontent-%COMP%]{height:100vh;width:100%;background-color:#00000049;z-index:10;top:0;left:0;position:fixed}"]}),n})();function Wle(n,t){if(1&n&&(s.TgZ(0,"a",5)(1,"mat-icon",6),s._uU(2,"home"),s.qZA()()),2&n){const e=s.oxw();s.s9C("href",e.urlIFrame,s.LSH)}}function Jle(n,t){1&n&&s._UZ(0,"app-progress-spinner")}let Xle=(()=>{class n{constructor(e,i,r){this.sanitizer=e,this._safePipe=i,this.utils=r,this.isLoading=!1,this.safePipe=new gT(this.sanitizer),this.eventsSubscription=new Po.w0,this.events=new mr.y,this.urlIFrame="",this.isSmartphone=!1}ngOnInit(){this.isSmartphone=this.utils.isSmartphone(),this.eventsSubscription=this.events.subscribe(e=>{const i=e.includes("alatar")?2300:1e3;this.urlIFrame=e,""!=e&&(this.isLoading=!0,setTimeout(()=>{this.isLoading=!1},i))})}ngOnDestroy(){this.eventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ol),s.Y36(gT),s.Y36(vf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-iframe-generator"]],inputs:{events:"events"},decls:7,vars:6,consts:[["fxFlex",""],["fxFlex","",1,"content","mat-elevation-z8",2,"overflow","hidden"],["target","_blank","mat-icon-button","","color","primary","class","vaiAlSito",3,"href",4,"ngIf"],[4,"ngIf"],["frameBorder","0",1,"iframe",3,"hidden","src"],["target","_blank","mat-icon-button","","color","primary",1,"vaiAlSito",3,"href"],["matTooltip","Vai al sito"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",0),s.YNc(3,Wle,3,1,"a",2),s.qZA(),s.YNc(4,Jle,1,0,"app-progress-spinner",3),s._UZ(5,"iframe",4),s.ALo(6,"safe"),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngIf",""!==i.urlIFrame&&!i.isLoading),s.xp6(1),s.Q6J("ngIf",i.isLoading),s.xp6(1),s.Q6J("hidden",""!=i.urlIFrame&&i.isLoading)("src",s.lcZ(6,4,i.urlIFrame),s.uOi))},dependencies:[Li,Hm,x7,ac,I0,Yle,gT],styles:[".iframe[_ngcontent-%COMP%]{width:100%;height:100%;border:unset;border:none;border-radius:10px}.content[_ngcontent-%COMP%]{height:calc(100vh - 130px);border-radius:10px;margin:16px 16px 16px 32px;padding:4px;overflow:auto;position:relative}.vaiAlSito[_ngcontent-%COMP%]{position:absolute;bottom:0;margin:20px;max-width:100%;line-height:.4em;padding:1.1em .75em;display:flex;flex-direction:column}"]}),n})(),ece=(()=>{class n{constructor(e,i){this.sanitizer=e,this._safePipe=i,this.eventsSubscription=new Po.w0,this.iFrameEmitter=new nn.x,this.events=new mr.y,this.url=""}ngOnInit(){this.eventsSubscription=this.events.subscribe(e=>{this.url=e,this.iFrameEmitter.next(e)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ol),s.Y36(gT))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-home"]],inputs:{events:"events"},decls:2,vars:1,consts:[[3,"events"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-sidenav-content"),s._UZ(1,"app-iframe-generator",0),s.qZA()),2&e&&(s.xp6(1),s.Q6J("events",i.iFrameEmitter.asObservable()))},dependencies:[D4,Xle]}),n})();function tce(n,t){1&n&&(s.TgZ(0,"mat-icon"),s._uU(1," menu "),s.qZA())}function nce(n,t){1&n&&(s.TgZ(0,"mat-icon"),s._uU(1," close "),s.qZA())}function ice(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",17),s.NdJ("click",function(){s.CHM(e),s.oxw();const r=s.MAs(12);return s.KtG(r.toggle())}),s.YNc(1,tce,2,0,"mat-icon",16),s.YNc(2,nce,2,0,"mat-icon",16),s.qZA()}if(2&n){s.oxw();const e=s.MAs(12);s.xp6(1),s.Q6J("ngIf",!e.opened),s.xp6(1),s.Q6J("ngIf",e.opened)}}function rce(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",18),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.openLogin())}),s.TgZ(1,"span",19),s._uU(2,"discord"),s.qZA()()}}function sce(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",20),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.logOut())}),s.TgZ(1,"span",21),s._uU(2," person_off "),s.qZA()()}}function oce(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",22),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.MAs(12).toggle(),s.KtG(r.boolHome=!1)}),s.TgZ(1,"mat-icon"),s._uU(2,"help"),s.qZA(),s.TgZ(3,"span"),s._uU(4,"Help"),s.qZA()()}}function ace(n,t){if(1&n&&s._UZ(0,"app-home",23),2&n){const e=s.oxw();s.Q6J("events",e.iFrameEmitter.asObservable())}}function lce(n,t){1&n&&s._UZ(0,"router-outlet")}let dce=(()=>{class n{constructor(e,i,r,o){this.service=e,this.UserService=i,this.dialog=r,this.router=o,this.iFrameEmitter=new nn.x,this.boolHome=!1,this.class=new Array,this.develop=!1,this.isLoggedIn=!1}ngOnInit(){const e=re(7986);this.develop=e.develop,this.UserService.isLoggedInObs.subscribe(i=>{this.isLoggedIn=i})}goChild(e){this.boolHome=!0,setTimeout(()=>{this.iFrameEmitter.next(e)},100)}openLogin(){localStorage.setItem("lastUrl",this.router.url),window.location.href=this.develop?"https://discord.com/api/oauth2/authorize?client_id=1106594210242625579&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2F&response_type=code&scope=identify%20connections%20guilds":"https://discord.com/api/oauth2/authorize?client_id=1106594210242625579&redirect_uri=https%3A%2F%2Ffabiodagostino.github.io%2Frot%2F&response_type=code&scope=identify%20connections%20guilds"}logOut(){this.UserService.logout()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(E0),s.Y36(Cf),s.Y36(wy),s.Y36(Bs))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-menu-bar"]],decls:44,vars:6,consts:[[1,"mat-elevation-z8"],["mat-icon-button","",3,"click",4,"ngIf"],["routerLink","/",1,"material-icons","ank",2,"color","rgb(255, 210, 48)","font-size","56px","-webkit-text-stroke-width","0px",3,"click"],["fxFlex","96"],["mat-icon-button","","fxFlex","4","matTooltip","Login",3,"click",4,"ngIf"],["mat-icon-button","","fxFlex","4","matTooltip","Logout",3,"click",4,"ngIf"],["sidenav","matSidenav"],[1,"name"],["mat-raised-button","","routerLink","/",1,"but",3,"click"],["mat-raised-button","","routerLink","/schedaPersonaggio",1,"but",3,"click"],["mat-raised-button","","routerLink","/bacheca",1,"but",3,"click"],["mat-raised-button","","routerLink","/macro",1,"but",3,"click"],["mat-raised-button","","routerLink","/news",1,"menu-button",3,"click"],["mat-raised-button","","class","menu-button","routerLink","/help",3,"click",4,"ngIf"],["mat-raised-button","","routerLink","/credits",1,"menu-button",3,"click"],[3,"events",4,"ngIf"],[4,"ngIf"],["mat-icon-button","",3,"click"],["mat-icon-button","","fxFlex","4","matTooltip","Login",3,"click"],[1,"material-icons"],["mat-icon-button","","fxFlex","4","matTooltip","Logout",3,"click"],[1,"material-symbols-outlined"],["mat-raised-button","","routerLink","/help",1,"menu-button",3,"click"],[3,"events"]],template:function(e,i){if(1&e){const r=s.EpF();s.TgZ(0,"mat-toolbar",0),s.YNc(1,ice,3,2,"button",1),s._uU(2," \xa0\n"),s.TgZ(3,"span",2),s.NdJ("click",function(){return i.boolHome=!1}),s._uU(4,"anchor"),s.qZA(),s._uU(5,"\n\xa0\n"),s.TgZ(6,"div",3),s._uU(7," Rotiniel Tools\n"),s.qZA(),s.YNc(8,rce,3,0,"button",4),s.YNc(9,sce,3,0,"button",5),s.qZA(),s.TgZ(10,"mat-sidenav-container")(11,"mat-sidenav",0,6)(13,"h4",7),s._uU(14,"Tools"),s.qZA(),s._UZ(15,"mat-divider"),s.TgZ(16,"a",8),s.NdJ("click",function(){s.CHM(r);const a=s.MAs(12);return i.goChild("https://bitmed.github.io/tmarmor/"),s.KtG(a.toggle())}),s._uU(17,"Infondere armature"),s.qZA(),s.TgZ(18,"a",8),s.NdJ("click",function(){s.CHM(r);const a=s.MAs(12);return i.goChild("https://bitmed.github.io/tmenchant/"),s.KtG(a.toggle())}),s._uU(19,"TM Enchant"),s.qZA(),s.TgZ(20,"a",8),s.NdJ("click",function(){s.CHM(r);const a=s.MAs(12);return i.goChild("https://alatarl.github.io/CalendarioTM/"),s.KtG(a.toggle())}),s._uU(21,"Calendario TM"),s.qZA(),s.TgZ(22,"a",8),s.NdJ("click",function(){s.CHM(r);const a=s.MAs(12);return i.goChild("https://alatarl.github.io/ElficoTM/"),s.KtG(a.toggle())}),s._uU(23,"Dizionario elfico"),s.qZA(),s.TgZ(24,"a",9),s.NdJ("click",function(){return s.CHM(r),s.MAs(12).toggle(),s.KtG(i.boolHome=!1)}),s._uU(25,"Scheda personaggio"),s.qZA(),s.TgZ(26,"a",10),s.NdJ("click",function(){return s.CHM(r),s.MAs(12).toggle(),s.KtG(i.boolHome=!1)}),s._uU(27,"Paginazione Bacheche"),s.qZA(),s.TgZ(28,"a",11),s.NdJ("click",function(){return s.CHM(r),s.MAs(12).toggle(),s.KtG(i.boolHome=!1)}),s._uU(29,"Macro Utili"),s.qZA(),s._UZ(30,"mat-divider"),s.TgZ(31,"button",12),s.NdJ("click",function(){return s.CHM(r),s.MAs(12).toggle(),s.KtG(i.boolHome=!1)}),s.TgZ(32,"mat-icon"),s._uU(33,"newspaper"),s.qZA(),s.TgZ(34,"span"),s._uU(35,"News"),s.qZA()(),s.YNc(36,oce,5,0,"button",13),s.TgZ(37,"button",14),s.NdJ("click",function(){return s.CHM(r),s.MAs(12).toggle(),s.KtG(i.boolHome=!1)}),s.TgZ(38,"mat-icon"),s._uU(39,"info"),s.qZA(),s.TgZ(40,"span"),s._uU(41,"Credits"),s.qZA()()(),s.YNc(42,ace,1,1,"app-home",15),s.YNc(43,lce,1,0,"router-outlet",16),s.qZA()}if(2&e){const r=s.MAs(12);s.xp6(1),s.Q6J("ngIf","over"===r.mode),s.xp6(7),s.Q6J("ngIf",!i.isLoggedIn),s.xp6(1),s.Q6J("ngIf",i.isLoggedIn),s.xp6(27),s.Q6J("ngIf",i.isLoggedIn),s.xp6(6),s.Q6J("ngIf",i.boolHome),s.xp6(1),s.Q6J("ngIf",!i.boolHome)}},dependencies:[Li,vd,dv,uz,Hm,bz,Cz,AT,Ah,x7,ac,I0,ece],styles:["mat-toolbar[_ngcontent-%COMP%]{background:#004a9f;color:#fff}mat-sidenav[_ngcontent-%COMP%]{width:250px;margin:3px;border-right:none;background:#002b5c;color:#fff;border-radius:10px;padding:16px;text-align:center}.content[_ngcontent-%COMP%]{height:calc(100vh - 130px);border-radius:10px;margin:16px 16px 16px 32px;padding:4px;overflow:auto}mat-sidenav-container[_ngcontent-%COMP%]{height:calc(100vh - 87px)}.menu-button[_ngcontent-%COMP%]{width:90%;margin:7px;display:flex;align-items:center;justify-content:flex-start;font-size:1rem}.avatar[_ngcontent-%COMP%]{margin-top:16px;width:100px;height:100px;border-radius:50%}mat-divider[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:16px;background-color:#ffffff80}.but[_ngcontent-%COMP%]{text-decoration:unset;background-color:#fff;width:90%;margin:7px;display:flex;align-items:center;justify-content:center;font-size:1rem;color:#004a9f;font-weight:700}.ank[_ngcontent-%COMP%]{cursor:pointer}html[_ngcontent-%COMP%]{position:relative;min-height:100%}body[_ngcontent-%COMP%]{margin-bottom:60px}.immagine[_ngcontent-%COMP%]{border:7px solid #004a9f;border-radius:3px}"]}),n})(),hce=(()=>{class n{constructor(){this.version=""}ngOnInit(){const e=re(7986);this.version=e.version}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-footer"]],decls:5,vars:1,consts:[[1,"footer","mat-elevation-z8"],[2,"float","right","margin-right","0.5%","font-size","10px"]],template:function(e,i){1&e&&(s.TgZ(0,"footer",0)(1,"span"),s._uU(2," Rotiniel Inc. "),s.qZA(),s.TgZ(3,"span",1),s._uU(4),s.qZA()()),2&e&&(s.xp6(4),s.hij(" Version: ",i.version," "))},styles:[".footer[_ngcontent-%COMP%]{background-color:#004a9f;width:100%;line-height:22px;text-align:center;color:#fff}"]}),n})(),Yz=(()=>{class n{constructor(e){this.userService=e,this.title="newprova4"}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Cf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-menu-bar")(1,"app-footer")},dependencies:[dce,hce]}),n})();const Ace=["*",[["mat-card-footer"]]],fce=["*","mat-card-footer"],pce=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],gce=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let mT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),Dk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),Wz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),Ey=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:fce,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(Ace),s.Hsn(0),s.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),Tk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:gce,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(e,i){1&e&&(s.F$t(pce),s.Hsn(0),s.TgZ(1,"div",0),s.Hsn(2,1),s.qZA(),s.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),mce=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[hr,hr]}),n})(),_ce=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-credits"]],decls:73,vars:0,consts:[[2,"padding","2%"],["fxLayout","column","fxLayoutAlign","center center"],["fxLayout","column","fxLayoutAlign","center","fxFlex","",2,"margin","4%"],["href","https://bitmed.github.io/tmarmor/","target","_blank"],["href","https://bitmed.github.io/tmenchant/","target","_blank"],["href","https://alatarl.github.io/ElficoTM/","target","_blank"],["href","https://alatarl.github.io/CalendarioTM/","target","_blank"],[1,"material-icons","ank",2,"color","rgb(255, 210, 48)","font-size","25px","position","relative","top","6px","-webkit-text-stroke-width","0px"],["routerLink","/schedaPersonaggio","target","_blank"],["routerLink","/bacheca","target","_blank"],["href","https://themiraclegdr.com/","target","_blank"],[2,"text-align","center"],["src","https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Octicons-mark-github.svg/900px-Octicons-mark-github.svg.png?20180806170715","width","30","height","30"],["src","https://camo.githubusercontent.com/df1439c289b9cb4558e079a9110731e666976c4f2b6ef387b8fee78ca95375dc/68747470733a2f2f696d672e69636f6e73382e636f6d2f636f6c6f722f3435322f66697265626173652e706e67","width","34","height","34"],[2,"text-align","right"],[2,"color","#004a9f"]],template:function(e,i){1&e&&(s._UZ(0,"div",0),s.TgZ(1,"div",1)(2,"mat-card",2)(3,"mat-card-header")(4,"mat-card-title"),s._uU(5," Credits "),s.qZA(),s.TgZ(6,"mat-card-subtitle"),s._uU(7," Ringraziamenti "),s.qZA()(),s.TgZ(8,"mat-card-content")(9,"ul")(10,"li")(11,"p")(12,"b"),s._uU(13,"Paperellion"),s.qZA(),s._uU(14," per "),s.TgZ(15,"a",3),s._uU(16,'"Infondere Armature"'),s.qZA(),s._uU(17," e "),s.TgZ(18,"a",4),s._uU(19,'"TM Enchant"'),s.qZA()()(),s.TgZ(20,"li")(21,"p")(22,"b"),s._uU(23,"Alatar"),s.qZA(),s._uU(24," per "),s.TgZ(25,"a",5),s._uU(26,'"Dizionario elfico"'),s.qZA(),s._uU(27," e "),s.TgZ(28,"a",6),s._uU(29,'"Calendario TM"'),s.qZA()()(),s.TgZ(30,"li")(31,"p")(32,"b"),s._uU(33,"Yoridyon"),s.qZA(),s._uU(34," per "),s.TgZ(35,"span",7),s._uU(36,"anchor"),s.qZA(),s.TgZ(37,"b"),s._uU(38," Rotiniel Tools"),s.qZA(),s._uU(39,", "),s.TgZ(40,"a",8),s._uU(41,'"Scheda Personaggio"'),s.qZA(),s._uU(42," e "),s.TgZ(43,"a",9),s._uU(44,'"Paginazione Bacheche"'),s.qZA()()(),s.TgZ(45,"li")(46,"p"),s._uU(47,"Tutti i membri della community che hanno contribuito allo sviluppo dei tools"),s.qZA()(),s.TgZ(48,"li")(49,"p"),s._uU(50,"Lo Staff di "),s.TgZ(51,"a",10),s._uU(52,"The Miracle Shard"),s.qZA(),s._uU(53," per aver creato il gioco e averlo mantenuto attivo (e in costante aggiornamento) per oltre vent'anni"),s.qZA()(),s.TgZ(54,"li")(55,"p"),s._uU(56,"Tutti i player e gli amici di "),s.TgZ(57,"b"),s._uU(58,"Rotiniel"),s.qZA(),s._uU(59," che rendono piacevoli le ore di gioco passate assieme "),s.qZA()()(),s._UZ(60,"br"),s.TgZ(61,"div",11)(62,"b"),s._uU(63,"Powered by:"),s.qZA(),s._uU(64,"\xa0 "),s._UZ(65,"img",12),s._uU(66," \xa0"),s._UZ(67,"img",13),s.qZA(),s._UZ(68,"br")(69,"br"),s.TgZ(70,"div",14)(71,"b",15),s._uU(72,"Enjoy TM!"),s.qZA()()()()())},dependencies:[dv,ju,_A,ac,Ey,Tk,mT,Dk,Wz],styles:["a[_ngcontent-%COMP%]{color:#004a9f;font-weight:700}a[_ngcontent-%COMP%]:hover{color:#000}mat-card[_ngcontent-%COMP%]{border:7px solid #004a9f;border-radius:3px}mat-card-title[_ngcontent-%COMP%]{color:#004a9f}"]}),n})(),Jz=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),Gb=(()=>{class n extends Jz{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Df=new s.OlP("NgValueAccessor"),vce={provide:Df,useExisting:(0,s.Gpc)(()=>Sy),multi:!0},bce=new s.OlP("CompositionEventMode");let Sy=(()=>{class n extends Jz{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function wce(){const n=oe()?oe().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(bce,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([vce]),s.qOj]}),n})();function D0(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function e9(n){return null!=n&&"number"==typeof n.length}const Mc=new s.OlP("NgValidators"),T0=new s.OlP("NgAsyncValidators"),xce=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ia{static min(t){return t9(t)}static max(t){return function n9(n){return t=>{if(D0(t.value)||D0(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function i9(n){return D0(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function r9(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function s9(n){return D0(n.value)||xce.test(n.value)?null:{email:!0}}(t)}static minLength(t){return o9(t)}static maxLength(t){return function a9(n){return t=>e9(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function l9(n){if(!n)return Bk;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(D0(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return f9(t)}static composeAsync(t){return p9(t)}}function t9(n){return t=>{if(D0(t.value)||D0(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function o9(n){return t=>D0(t.value)||!e9(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}function Bk(n){return null}function c9(n){return null!=n}function u9(n){return(0,s.QGY)(n)?(0,jn.D)(n):n}function d9(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function h9(n,t){return t.map(e=>e(n))}function A9(n){return n.map(t=>function Ece(n){return!n.validate}(t)?t:e=>t.validate(e))}function f9(n){if(!n)return null;const t=n.filter(c9);return 0==t.length?null:function(e){return d9(h9(e,t))}}function L4(n){return null!=n?f9(A9(n)):null}function p9(n){if(!n)return null;const t=n.filter(c9);return 0==t.length?null:function(e){return hz(h9(e,t).map(u9)).pipe((0,an.U)(d9))}}function N4(n){return null!=n?p9(A9(n)):null}function g9(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function m9(n){return n._rawValidators}function _9(n){return n._rawAsyncValidators}function P4(n){return n?Array.isArray(n)?n:[n]:[]}function Fk(n,t){return Array.isArray(n)?n.includes(t):n===t}function y9(n,t){const e=P4(t);return P4(n).forEach(r=>{Fk(e,r)||e.push(r)}),e}function v9(n,t){return P4(t).filter(e=>!Fk(n,e))}class w9{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=L4(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=N4(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Md extends w9{get formDirective(){return null}get path(){return null}}class Vm extends w9{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class b9{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let B0=(()=>{class n extends b9{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Vm,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[s.qOj]}),n})(),C9=(()=>{class n extends b9{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Md,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[s.qOj]}),n})();const _T="VALID",kk="INVALID",Vx="PENDING",yT="DISABLED";function V4(n){return(Rk(n)?n.validators:n)||null}function j4(n,t){return(Rk(t)?t.asyncValidators:n)||null}function Rk(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function E9(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[e])throw new s.vHH(1001,"")}function S9(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new s.vHH(1002,"")})}class Ok{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===_T}get invalid(){return this.status===kk}get pending(){return this.status==Vx}get disabled(){return this.status===yT}get enabled(){return this.status!==yT}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(y9(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(y9(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(v9(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(v9(t,this._rawAsyncValidators))}hasValidator(t){return Fk(this._rawValidators,t)}hasAsyncValidator(t){return Fk(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Vx,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=yT,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=_T,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_T||this.status===Vx)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yT:_T}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Vx,this._hasOwnPendingAsyncValidator=!0;const e=u9(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?yT:this.errors?kk:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vx)?Vx:this._anyControlsHaveStatus(kk)?kk:_T}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Rk(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Mce(n){return Array.isArray(n)?L4(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function kce(n){return Array.isArray(n)?N4(n):n||null}(this._rawAsyncValidators)}}class zb extends Ok{constructor(t,e,i){super(V4(e),j4(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){S9(this,0,t),Object.keys(t).forEach(i=>{E9(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class I9 extends zb{}const jx=new s.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Lk}),Lk="always";function Nk(n,t){return[...t.path,n]}function vT(n,t,e=Lk){G4(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function Oce(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&D9(n,t)})}(n,t),function Nce(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Lce(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&D9(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Rce(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Pk(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Qk(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Uk(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function G4(n,t){const e=m9(n);null!==t.validator?n.setValidators(g9(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=_9(n);null!==t.asyncValidator?n.setAsyncValidators(g9(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Uk(t._rawValidators,r),Uk(t._rawAsyncValidators,r)}function Qk(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=m9(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(a=>a!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=_9(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(a=>a!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return Uk(t._rawValidators,i),Uk(t._rawAsyncValidators,i),e}function D9(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function T9(n,t){G4(n,t)}function q4(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function B9(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function K4(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Sy?e=o:function Qce(n){return Object.getPrototypeOf(n.constructor)===Gb}(o)?i=o:r=o}),r||i||e||null}const Vce={provide:Md,useExisting:(0,s.Gpc)(()=>bT)},wT=(()=>Promise.resolve())();let bT=(()=>{class n extends Md{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new zb({},L4(e),N4(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){wT.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),vT(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){wT.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){wT.then(()=>{const i=this._findContainer(e.path),r=new zb({});T9(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){wT.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){wT.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,B9(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Mc,10),s.Y36(T0,10),s.Y36(jx,8))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([Vce]),s.qOj]}),n})();function F9(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function M9(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Rs=class extends Ok{constructor(t=null,e,i){super(V4(e),j4(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Rk(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=M9(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){F9(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){F9(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){M9(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},zce={provide:Vm,useExisting:(0,s.Gpc)(()=>qb)},O9=(()=>Promise.resolve())();let qb=(()=>{class n extends Vm{constructor(e,i,r,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new Rs,this._registered=!1,this.update=new s.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=K4(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),q4(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){vT(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){O9.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,s.D6c)(i);O9.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Nk(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Md,9),s.Y36(Mc,10),s.Y36(T0,10),s.Y36(Df,10),s.Y36(s.sBO,8),s.Y36(jx,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([zce]),s.qOj,s.TTD]}),n})(),L9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const qce={provide:Df,useExisting:(0,s.Gpc)(()=>CT),multi:!0};let CT=(()=>{class n extends Gb{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[s._Bn([qce]),s.qOj]}),n})(),N9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Z4=new s.OlP("NgModelWithFormControlWarning"),Yce={provide:Vm,useExisting:(0,s.Gpc)(()=>xT)};let xT=(()=>{class n extends Vm{constructor(e,i,r,o,a){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=a,this.update=new s.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=K4(0,r)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&Pk(i,this,!1),vT(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}q4(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Pk(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(Mc,10),s.Y36(T0,10),s.Y36(Df,10),s.Y36(Z4,8),s.Y36(jx,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[s._Bn([Yce]),s.qOj,s.TTD]}),n})();const Wce={provide:Md,useExisting:(0,s.Gpc)(()=>Gx)};let Gx=(()=>{class n extends Md{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qk(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return vT(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Pk(e.control||null,e,!1),function Hce(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,B9(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Pk(i||null,e),(n=>n instanceof Rs)(r)&&(vT(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);T9(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Pce(n,t){return Qk(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){G4(this.form,this),this._oldForm&&Qk(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Mc,10),s.Y36(T0,10),s.Y36(jx,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([Wce]),s.qOj,s.TTD]}),n})();const eue={provide:Vm,useExisting:(0,s.Gpc)(()=>W4)};let W4=(()=>{class n extends Vm{constructor(e,i,r,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=K4(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),q4(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Nk(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(Md,13),s.Y36(Mc,10),s.Y36(T0,10),s.Y36(Df,10),s.Y36(Z4,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([eue]),s.qOj,s.TTD]}),n})();let Kb=(()=>{class n{constructor(){this._validator=Bk}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Bk,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();const lue={provide:Mc,useExisting:(0,s.Gpc)(()=>e3),multi:!0};let e3=(()=>{class n extends Kb{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>function G9(n){return"number"==typeof n?n:parseFloat(n)}(e),this.createValidator=e=>t9(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[s._Bn([lue]),s.qOj]}),n})();const hue={provide:Mc,useExisting:(0,s.Gpc)(()=>n3),multi:!0};let n3=(()=>{class n extends Kb{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>function j9(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>o9(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[s._Bn([hue]),s.qOj]}),n})(),$9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[N9]}),n})(),pue=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:jx,useValue:e.callSetDisabledState??Lk}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$9]}),n})(),Y9=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Z4,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:jx,useValue:e.callSetDisabledState??Lk}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$9]}),n})();class W9 extends Ok{constructor(t,e,i){super(V4(e),j4(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){S9(this,0,t),t.forEach((i,r)=>{E9(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function J9(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let gue=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let o={};return J9(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new zb(r,o)}record(e,i=null){const r=this._reduceControls(e);return new I9(r,i)}control(e,i,r){let o={};return this.useNonNullable?(J9(i)?o=i:(o.validators=i,o.asyncValidators=r),new Rs(e,{...o,nonNullable:!0})):new Rs(e,i,r)}array(e,i,r){const o=e.map(a=>this._createControl(a));return new W9(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof Rs||e instanceof Ok?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:Y9}),n})();const mue=["connectionContainer"],_ue=["inputContainer"],yue=["label"];function vue(n,t){1&n&&(s.ynx(0),s.TgZ(1,"div",14),s._UZ(2,"div",15)(3,"div",16)(4,"div",17),s.qZA(),s.TgZ(5,"div",18),s._UZ(6,"div",15)(7,"div",16)(8,"div",17),s.qZA(),s.BQk())}function wue(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",19),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.updateOutlineGap())}),s.Hsn(1,1),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function bue(n,t){if(1&n&&(s.ynx(0),s.Hsn(1,2),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.BQk()),2&n){const e=s.oxw(2);s.xp6(3),s.Oqu(e._control.placeholder)}}function Cue(n,t){1&n&&s.Hsn(0,3,["*ngSwitchCase","true"])}function xue(n,t){1&n&&(s.TgZ(0,"span",23),s._uU(1," *"),s.qZA())}function Eue(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",20,21),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.updateOutlineGap())}),s.YNc(2,bue,4,1,"ng-container",12),s.YNc(3,Cue,1,0,"ng-content",12),s.YNc(4,xue,2,0,"span",22),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngSwitchCase",!1),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function Sue(n,t){1&n&&(s.TgZ(0,"div",24),s.Hsn(1,4),s.qZA())}function Iue(n,t){if(1&n&&(s.TgZ(0,"div",25),s._UZ(1,"span",26),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function Due(n,t){if(1&n&&(s.TgZ(0,"div"),s.Hsn(1,5),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function Tue(n,t){if(1&n&&(s.TgZ(0,"div",30),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function Bue(n,t){if(1&n&&(s.TgZ(0,"div",27),s.YNc(1,Tue,2,2,"div",28),s.Hsn(2,6),s._UZ(3,"div",29),s.Hsn(4,7),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const Fue=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Mue=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let kue=0;const X9=new s.OlP("MatError");let eq=(()=>{class n{constructor(e,i){this.id="mat-error-"+kue++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(s.$8M("aria-live"),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("id",i.id)},inputs:{id:"id"},features:[s._Bn([{provide:X9,useExisting:n}])]}),n})();const Rue={transitionMessages:Tc("transitionMessages",[Hr("enter",ui({opacity:1,transform:"translateY(0%)"})),Ws("void => enter",[ui({opacity:0,transform:"translateY(-5px)"}),To("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Vk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n}),n})(),Oue=0;const tq=new s.OlP("MatHint");let Lue=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+Oue++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,i){2&e&&(s.uIk("id",i.id)("align",null),s.ekj("mat-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},features:[s._Bn([{provide:tq,useExisting:n}])]}),n})(),Zb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-label"]]}),n})(),Nue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const Pue=new s.OlP("MatPrefix"),nq=new s.OlP("MatSuffix");let Uue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matSuffix",""]],features:[s._Bn([{provide:nq,useExisting:n}])]}),n})(),iq=0;const Hue=A0(class{constructor(n){this._elementRef=n}},"primary"),Vue=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),r3=new s.OlP("MatFormField");let zx=(()=>{class n extends Hue{constructor(e,i,r,o,a,u,h){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=o,this._platform=a,this._ngZone=u,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new nn.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+iq++,this._labelId="mat-form-field-label-"+iq++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==h,this.appearance=o?.appearance||"legacy",o&&(this._hideRequiredMarker=Boolean(o.hideRequiredMarker),o.color&&(this.color=this.defaultColor=o.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Ci(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(sa(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Wi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Wi(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,iu.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(sa(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(sa(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Wi(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,h0(this._label.nativeElement,"transitionend").pipe((0,Jr.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const _=i.querySelectorAll(`${r}, ${o}`);for(let C=0;C<_.length;C++)_[C].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let a=0,u=0;const h=i.querySelectorAll(r),f=i.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const _=i.getBoundingClientRect();if(0===_.width&&0===_.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const C=this._getStartEnd(_),F=e.children,B=this._getStartEnd(F[0].getBoundingClientRect());let U=0;for(let H=0;H<F.length;H++)U+=F[H].offsetWidth;a=Math.abs(B-C)-5,u=U>0?.75*U+10:0}for(let _=0;_<h.length;_++)h[_].style.width=`${a}px`;for(let _=0;_<f.length;_++)f[_].style.width=`${u}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(wf,8),s.Y36(Vue,8),s.Y36(Fs),s.Y36(s.R0b),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Vk,5),s.Suo(r,Vk,7),s.Suo(r,Zb,5),s.Suo(r,Zb,7),s.Suo(r,Nue,5),s.Suo(r,X9,5),s.Suo(r,tq,5),s.Suo(r,Pue,5),s.Suo(r,nq,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._controlNonStatic=o.first),s.iGM(o=s.CRH())&&(i._controlStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildNonStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildStatic=o.first),s.iGM(o=s.CRH())&&(i._placeholderChild=o.first),s.iGM(o=s.CRH())&&(i._errorChildren=o),s.iGM(o=s.CRH())&&(i._hintChildren=o),s.iGM(o=s.CRH())&&(i._prefixChildren=o),s.iGM(o=s.CRH())&&(i._suffixChildren=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(mue,7),s.Gf(_ue,5),s.Gf(yue,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._connectionContainerRef=r.first),s.iGM(r=s.CRH())&&(i._inputContainerRef=r.first),s.iGM(r=s.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&s.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:r3,useExisting:n}]),s.qOj],ngContentSelectors:Mue,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(s.F$t(Fue),s.TgZ(0,"div",0)(1,"div",1,2),s.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),s.YNc(3,vue,9,0,"ng-container",3),s.YNc(4,wue,2,1,"div",4),s.TgZ(5,"div",5,6),s.Hsn(7),s.TgZ(8,"span",7),s.YNc(9,Eue,5,16,"label",8),s.qZA()(),s.YNc(10,Sue,2,0,"div",9),s.qZA(),s.YNc(11,Iue,2,4,"div",10),s.TgZ(12,"div",11),s.YNc(13,Due,2,1,"div",12),s.YNc(14,Bue,5,2,"div",13),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngIf","outline"==i.appearance),s.xp6(1),s.Q6J("ngIf",i._prefixChildren.length),s.xp6(5),s.Q6J("ngIf",i._hasFloatingLabel()),s.xp6(1),s.Q6J("ngIf",i._suffixChildren.length),s.xp6(1),s.Q6J("ngIf","outline"!=i.appearance),s.xp6(1),s.Q6J("ngSwitch",i._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},dependencies:[Li,Vc,hu,iU],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[Rue.transitionMessages]},changeDetection:0}),n})(),jk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[ea,hr,xM,hr]}),n})();class jue{}function s3(n){return n&&"function"==typeof n.connect&&!(n instanceof Vh)}class sq{applyChanges(t,e,i,r,o){t.forEachOperation((a,u,h)=>{let f,_;if(null==a.previousIndex){const C=i(a,u,h);f=e.createEmbeddedView(C.templateRef,C.context,C.index),_=1}else null==h?(e.remove(u),_=3):(f=e.get(u),e.move(f,h),_=2);o&&o({context:f?.context,operation:_,record:a})})}detach(){}}class Gue{constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new nn.x,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(o=>this._markSelected(o)),e.filter(o=>!i.has(o)).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){if(this.compareWith){for(const e of this._selection)if(this.compareWith(e,t))return!0;return!1}return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let aq=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ET=new s.OlP("_ViewRepeater"),zue=["trigger"],que=["panel"];function Kue(n,t){if(1&n&&(s.TgZ(0,"span",8),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.placeholder)}}function Zue(n,t){if(1&n&&(s.TgZ(0,"span",12),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.triggerValue)}}function $ue(n,t){1&n&&s.Hsn(0,0,["*ngSwitchCase","true"])}function Yue(n,t){if(1&n&&(s.TgZ(0,"span",9),s.YNc(1,Zue,2,1,"span",10),s.YNc(2,$ue,1,0,"ng-content",11),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngSwitch",!!e.customTrigger),s.xp6(2),s.Q6J("ngSwitchCase",!0)}}function Wue(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",13)(1,"div",14,15),s.NdJ("@transformPanel.done",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._handleKeydown(r))}),s.Hsn(3,1),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("@transformPanelWrap",void 0),s.xp6(1),s.Gre("mat-select-panel ",e._getPanelTheme(),""),s.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),s.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),s.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Jue=[[["mat-select-trigger"]],"*"],Xue=["mat-select-trigger","*"],lq={transformPanelWrap:Tc("transformPanelWrap",[Ws("* => void",OM("@transformPanel",[RM()],{optional:!0}))]),transformPanel:Tc("transformPanel",[Hr("void",ui({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Hr("showing",ui({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Hr("showing-multiple",ui({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Ws("void => *",To("120ms cubic-bezier(0, 0, 0.2, 1)")),Ws("* => void",To("100ms 25ms linear",ui({opacity:0})))])};let cq=0;const dq=new s.OlP("mat-select-scroll-strategy"),ide=new s.OlP("MAT_SELECT_CONFIG"),rde={provide:dq,deps:[bf],useFactory:function nde(n){return()=>n.scrollStrategies.reposition()}};class sde{constructor(t,e){this.source=t,this.value=e}}const ode=BM(FM(Db(h7(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new nn.x}})))),ade=new s.OlP("MatSelectTrigger");let lde=(()=>{class n extends ode{constructor(e,i,r,o,a,u,h,f,_,C,F,B,U,H){super(a,o,h,f,C),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=u,this._parentFormField=_,this._liveAnnouncer=U,this._defaultOptions=H,this._panelOpen=!1,this._compareWith=(Z,q)=>Z===q,this._uid="mat-select-"+cq++,this._triggerAriaLabelledBy=null,this._destroy=new nn.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+cq++,this._panelDoneAnimatingStream=new nn.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=Jd(()=>{const Z=this.options;return Z?Z.changes.pipe(sa(Z),ys(()=>(0,iu.T)(...Z.map(q=>q.onSelectionChange)))):this._ngZone.onStable.pipe((0,Jr.q)(1),ys(()=>this.optionSelectionChanges))}),this.openedChange=new s.vpe,this._openedStream=this.openedChange.pipe(_i(Z=>Z),(0,an.U)(()=>{})),this._closedStream=this.openedChange.pipe(_i(Z=>!Z),(0,an.U)(()=>{})),this.selectionChange=new s.vpe,this.valueChange=new s.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=H?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=H.typeaheadDebounceInterval),this._scrollStrategyFactory=B,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(F)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Ia.required)??!1}set required(e){this._required=Ci(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Ci(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Ci(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=su(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Gue(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(yv(),Wi(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Wi(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(sa(null),Wi(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,o=13===i||32===i,a=this._keyManager;if(!a.isTyping()&&o&&!Lm(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const u=this.selected;a.onKeydown(e);const h=this.selected;h&&u!==h&&this._liveAnnouncer.announce(h.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,o=40===r||38===r,a=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(a||13!==r&&32!==r||!i.activeItem||Lm(e))if(!a&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const u=this.options.some(h=>!h.disabled&&!h.selected);this.options.forEach(h=>{h.disabled||(u?h.select():h.deselect())})}else{const u=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==u&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Jr.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new Gee(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Wi(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Wi(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,iu.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Wi(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,iu.T)(...this.options.map(i=>i._stateChanges)).pipe(Wi(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(yx),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(MM),s.Y36(s.SBq),s.Y36(wf,8),s.Y36(bT,8),s.Y36(Gx,8),s.Y36(r3,8),s.Y36(Vm,10),s.$8M("tabindex"),s.Y36(dq),s.Y36(oU),s.Y36(ide,8))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&(s.Gf(zue,5),s.Gf(que,5),s.Gf(G8,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.trigger=r.first),s.iGM(r=s.CRH())&&(i.panel=r.first),s.iGM(r=s.CRH())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[s.qOj,s.TTD]}),n})(),Kx=(()=>{class n extends lde{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const o=this._getItemHeight();return Math.min(Math.max(0,o*e-i+o/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Wi(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Jr.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=v7(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function Ote(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new sde(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),o=this.multiple?56:32;let a;if(this.multiple)a=40;else if(this.disableOptionCentering)a=16;else{let f=this._selectionModel.selected[0]||this.options.first;a=f&&f.group?32:16}r||(a*=-1);const u=0-(e.left+a-(r?o:0)),h=e.right+a-i.width+(r?0:o);u>0?a+=u+8:h>0&&(a-=h+8),this._overlayDir.offsetX=Math.round(a),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const o=this._getItemHeight(),a=(o-this._triggerRect.height)/2,u=Math.floor(256/o);let h;return this.disableOptionCentering?0:(h=0===this._scrollTop?e*o:this._scrollTop===r?(e-(this._getItemCount()-u))*o+(o-(this._getItemCount()*o-256)%o):i-o/2,Math.round(-1*h-a))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),o=this._triggerRect.top-8,a=r.height-this._triggerRect.bottom-8,u=Math.abs(this._offsetY),f=Math.min(this._getItemCount()*i,256)-u-this._triggerRect.height;f>a?this._adjustPanelUp(f,a):u>o?this._adjustPanelDown(u,o,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const o=Math.round(e-i);if(this._scrollTop+=o,this._offsetY+=o,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),a=i*e-r;let u;u=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),u+=v7(u,this.options,this.optionGroups);const h=r/2;this._scrollTop=this._calculateOverlayScroll(u,h,a),this._offsetY=this._calculateOverlayOffsetY(u,h,a),this._checkOverlayWithinViewport(a)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,ade,5),s.Suo(r,Bb,5),s.Suo(r,y7,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.customTrigger=o.first),s.iGM(o=s.CRH())&&(i.options=o),s.iGM(o=s.CRH())&&(i.optionGroups=o)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(e,i){1&e&&s.NdJ("keydown",function(o){return i._handleKeydown(o)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(s.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),s.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[s._Bn([{provide:Vk,useExisting:n},{provide:_7,useExisting:n}]),s.qOj],ngContentSelectors:Xue,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(s.F$t(Jue),s.TgZ(0,"div",0,1),s.NdJ("click",function(){return i.toggle()}),s.TgZ(3,"div",2),s.YNc(4,Kue,2,1,"span",3),s.YNc(5,Yue,3,2,"span",4),s.qZA(),s.TgZ(6,"div",5),s._UZ(7,"div",6),s.qZA()(),s.YNc(8,Wue,4,14,"ng-template",7),s.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=s.MAs(1);s.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),s.xp6(3),s.Q6J("ngSwitch",i.empty),s.uIk("id",i._valueId),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1),s.xp6(3),s.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},dependencies:[ms,Vc,hu,Ch,G8,j8],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[lq.transformPanelWrap,lq.transformPanel]},changeDetection:0}),n})(),hq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[rde],imports:[ea,Cx,w7,hr,vx,jk,w7,hr]}),n})();const Aq=yw({passive:!0});let cde=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return yc.E;const i=my(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new nn.x,a="cdk-text-field-autofilled",u=h=>{"cdk-text-field-autofill-start"!==h.animationName||i.classList.contains(a)?"cdk-text-field-autofill-end"===h.animationName&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>o.next({target:h.target,isAutofilled:!1}))):(i.classList.add(a),this._ngZone.run(()=>o.next({target:h.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",u,Aq),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",u,Aq)}}),o}stopMonitoring(e){const i=my(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fs),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ude=(()=>{class n{constructor(e,i,r,o){this._elementRef=e,this._platform=i,this._ngZone=r,this._destroyed=new nn.x,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=a=>{this._hasFocus="focus"===a.type},this._document=o,this._textareaElement=this._elementRef.nativeElement}get minRows(){return this._minRows}set minRows(e){this._minRows=su(e),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(e){this._maxRows=su(e),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(e){e=Ci(e),this._enabled!==e&&((this._enabled=e)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(e){this._cachedPlaceholderHeight=void 0,e?this._textareaElement.setAttribute("placeholder",e):this._textareaElement.removeAttribute("placeholder"),this._cacheTextareaPlaceholderHeight()}_setMinHeight(){const e=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;e&&(this._textareaElement.style.minHeight=e)}_setMaxHeight(){const e=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;e&&(this._textareaElement.style.maxHeight=e)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{h0(this._getWindow(),"resize").pipe(Y5(16),Wi(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let e=this._textareaElement.cloneNode(!1);e.rows=1,e.style.position="absolute",e.style.visibility="hidden",e.style.border="none",e.style.padding="0",e.style.height="",e.style.minHeight="",e.style.maxHeight="",e.style.overflow="hidden",this._textareaElement.parentNode.appendChild(e),this._cachedLineHeight=e.clientHeight,e.remove(),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){const e=this._textareaElement,i=e.style.marginBottom||"",r=this._platform.FIREFOX,o=r&&this._hasFocus,a=r?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";o&&(e.style.marginBottom=`${e.clientHeight}px`),e.classList.add(a);const u=e.scrollHeight-4;return e.classList.remove(a),o&&(e.style.marginBottom=i),u}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||null!=this._cachedPlaceholderHeight)return;if(!this.placeholder)return void(this._cachedPlaceholderHeight=0);const e=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=e}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(e=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight))return;const i=this._elementRef.nativeElement,r=i.value;if(!e&&this._minRows===this._previousMinRows&&r===this._previousValue)return;const o=this._measureScrollHeight(),a=Math.max(o,this._cachedPlaceholderHeight||0);i.style.height=`${a}px`,this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame<"u"?requestAnimationFrame(()=>this._scrollToCaretPosition(i)):setTimeout(()=>this._scrollToCaretPosition(i))}),this._previousValue=r,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(e){const{selectionStart:i,selectionEnd:r}=e;!this._destroyed.isStopped&&this._hasFocus&&e.setSelectionRange(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Fs),s.Y36(s.R0b),s.Y36(Ke,8))},n.\u0275dir=s.lG2({type:n,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(e,i){1&e&&s.NdJ("input",function(){return i._noopInputHandler()})},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"]}),n})(),fq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const dde=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),hde=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Ade=0;const fde=h7(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new nn.x}});let Zx=(()=>{class n extends fde{constructor(e,i,r,o,a,u,h,f,_,C){super(u,o,a,r),this._elementRef=e,this._platform=i,this._autofillMonitor=f,this._formField=C,this._uid="mat-input-"+Ade++,this.focused=!1,this.stateChanges=new nn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(U=>dS().has(U)),this._iOSKeyupListener=U=>{const H=U.target;!H.value&&0===H.selectionStart&&0===H.selectionEnd&&(H.setSelectionRange(1,1),H.setSelectionRange(0,0))};const F=this._elementRef.nativeElement,B=F.nodeName.toLowerCase();this._inputValueAccessor=h||F,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&_.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===B,this._isTextarea="textarea"===B,this._isInFormField=!!C,this._isNativeSelect&&(this.controlType=F.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Ci(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Ia.required)??!1}set required(e){this._required=Ci(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&dS().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Ci(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){hde.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Fs),s.Y36(Vm,10),s.Y36(bT,8),s.Y36(Gx,8),s.Y36(MM),s.Y36(dde,10),s.Y36(cde),s.Y36(s.R0b),s.Y36(r3,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(s.Ikx("disabled",i.disabled)("required",i.required),s.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),s.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[s._Bn([{provide:Vk,useExisting:n}]),s.qOj,s.TTD]}),n})(),pde=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[MM],imports:[fq,jk,hr,fq,jk]}),n})();const gde=["input"],mde=["label"],_de=function(n){return{enterDuration:n}},yde=["*"],vde=new s.OlP("mat-checkbox-default-options",{providedIn:"root",factory:pq});function pq(){return{color:"accent",clickAction:"check-indeterminate"}}let wde=0;const gq=pq(),bde={provide:Df,useExisting:(0,s.Gpc)(()=>IT),multi:!0};class Cde{}const xde=FM(A0(BM(Db(class{constructor(n){this._elementRef=n}}))));let Ede=(()=>{class n extends xde{constructor(e,i,r,o,a,u,h){super(i),this._changeDetectorRef=r,this._ngZone=o,this._animationMode=u,this._options=h,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new s.vpe,this.indeterminateChange=new s.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||gq,this.color=this.defaultColor=this._options.color||gq.color,this.tabIndex=parseInt(a)||0,this.id=this._uniqueId=`${e}${++wde}`}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=Ci(e)}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){const i=Ci(e);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const i=Ci(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=Ci(e),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(i!==e&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const e=this._options?.clickAction;this.disabled||"noop"===e?!this.disabled&&"noop"===e&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==e&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";switch(e){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&(s.Gf(gde,5),s.Gf(mde,5),s.Gf(Tb,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._inputElement=r.first),s.iGM(r=s.CRH())&&(i._labelElement=r.first),s.iGM(r=s.CRH())&&(i.ripple=r.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[s.qOj]}),n})(),IT=(()=>{class n extends Ede{constructor(e,i,r,o,a,u,h){super("mat-checkbox-",e,i,o,a,u,h),this._focusMonitor=r,this._animationClasses={uncheckedToChecked:"mat-checkbox-anim-unchecked-checked",uncheckedToIndeterminate:"mat-checkbox-anim-unchecked-indeterminate",checkedToUnchecked:"mat-checkbox-anim-checked-unchecked",checkedToIndeterminate:"mat-checkbox-anim-checked-indeterminate",indeterminateToChecked:"mat-checkbox-anim-indeterminate-checked",indeterminateToUnchecked:"mat-checkbox-anim-indeterminate-unchecked"}}_createChangeEvent(e){const i=new Cde;return i.source=this,i.checked=e,i}_getAnimationTargetElement(){return this._elementRef.nativeElement}ngAfterViewInit(){super.ngAfterViewInit(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||this._onBlur()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onInputClick(e){e.stopPropagation(),super._handleInputClick()}focus(e,i){e?this._focusMonitor.focusVia(this._inputElement,e,i):this._inputElement.nativeElement.focus(i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Kp),s.Y36(s.R0b),s.$8M("tabindex"),s.Y36(s.QbO,8),s.Y36(vde,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(e,i){2&e&&(s.Ikx("id",i.id),s.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),s.ekj("mat-checkbox-indeterminate",i.indeterminate)("mat-checkbox-checked",i.checked)("mat-checkbox-disabled",i.disabled)("mat-checkbox-label-before","before"==i.labelPosition)("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[s._Bn([bde]),s.qOj],ngContentSelectors:yde,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,i){if(1&e&&(s.F$t(),s.TgZ(0,"label",0,1)(2,"span",2)(3,"input",3,4),s.NdJ("change",function(o){return i._onInteractionEvent(o)})("click",function(o){return i._onInputClick(o)}),s.qZA(),s.TgZ(5,"span",5),s._UZ(6,"span",6),s.qZA(),s._UZ(7,"span",7),s.TgZ(8,"span",8),s.O4$(),s.TgZ(9,"svg",9),s._UZ(10,"path",10),s.qZA(),s.kcU(),s._UZ(11,"span",11),s.qZA()(),s.TgZ(12,"span",12,13),s.NdJ("cdkObserveContent",function(){return i._onLabelTextChange()}),s.TgZ(14,"span",14),s._uU(15,"\xa0"),s.qZA(),s.Hsn(16),s.qZA()()),2&e){const r=s.MAs(1),o=s.MAs(13);s.uIk("for",i.inputId),s.xp6(2),s.ekj("mat-checkbox-inner-container-no-side-margin",!o.textContent||!o.textContent.trim()),s.xp6(1),s.Q6J("id",i.inputId)("required",i.required)("checked",i.checked)("disabled",i.disabled)("tabIndex",i.tabIndex),s.uIk("value",i.value)("name",i.name)("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-checked",i._getAriaChecked())("aria-describedby",i.ariaDescribedby),s.xp6(2),s.Q6J("matRippleTrigger",r)("matRippleDisabled",i._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",s.VKq(19,_de,"NoopAnimations"===i._animationMode?0:150))}},dependencies:[Tb,iU],styles:['@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);position:relative}.mat-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:rgba(0,0,0,0);transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:rgba(0,0,0,0)}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox-input:focus~.mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),mq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),Dde=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[FD,hr,xM,mq,hr,mq]}),n})();function Tde(n,t){if(1&n&&(s.TgZ(0,"mat-option",22),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e.id),s.xp6(1),s.Oqu(e.nome)}}function Bde(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",18)(1,"mat-form-field",19)(2,"mat-label"),s._uU(3,"Tipologia Skill"),s.qZA(),s.TgZ(4,"mat-select",20),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.newSkill.idTipologiaSkill=r)}),s.YNc(5,Tde,2,2,"mat-option",21),s.qZA()()()}if(2&n){const e=s.oxw(2);s.xp6(4),s.Q6J("ngModel",e.newSkill.idTipologiaSkill),s.xp6(1),s.Q6J("ngForOf",e.tipologiaSkills)}}function Fde(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-checkbox",23),s.NdJ("change",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.toggle(o))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.nome)}}function Mde(n,t){if(1&n&&(s.TgZ(0,"ul")(1,"li"),s._uU(2),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e)}}function kde(n,t){if(1&n&&(s.TgZ(0,"li",25)(1,"b"),s._uU(2),s.qZA(),s.YNc(3,Mde,3,1,"ul",26),s.qZA()),2&n){const e=t.$implicit;s.xp6(2),s.hij("*",e.nome,""),s.xp6(1),s.Q6J("ngForOf",e.classi)}}function Rde(n,t){if(1&n&&(s.TgZ(0,"ul"),s.YNc(1,kde,4,2,"li",24),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.skills)}}function Ode(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"div",4)(2,"mat-card",5)(3,"mat-card-header")(4,"mat-card-title"),s._uU(5,"Salva nuova skill"),s.qZA()(),s.TgZ(6,"mat-card-content",6)(7,"div",7)(8,"mat-form-field",8)(9,"mat-label"),s._uU(10,"Nome skill"),s.qZA(),s.TgZ(11,"input",9),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.newSkill.nome=r)}),s.qZA(),s.TgZ(12,"button",10),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.newSkill.nome="")}),s.TgZ(13,"mat-icon"),s._uU(14,"close"),s.qZA()()()(),s.YNc(15,Bde,6,2,"div",11),s.TgZ(16,"div",12)(17,"section"),s.YNc(18,Fde,2,1,"mat-checkbox",13),s.qZA()(),s.TgZ(19,"div",14)(20,"button",15),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.SalvaSkill())}),s._uU(21,"Salva"),s.qZA()()()()(),s.TgZ(22,"div",16)(23,"mat-card",17),s.YNc(24,Rde,2,1,"ul",0),s.qZA()()()}if(2&n){const e=s.oxw();s.xp6(11),s.Q6J("ngModel",e.newSkill.nome),s.xp6(4),s.Q6J("ngIf",e.tipologiaSkills.length>0),s.xp6(3),s.Q6J("ngForOf",e.classi),s.xp6(2),s.Q6J("disabled",""==e.newSkill.nome||-1===e.newSkill.idTipologiaSkill),s.xp6(4),s.Q6J("ngIf",e.skills.length>0)}}let Lde=(()=>{class n{constructor(e,i,r){this.service=e,this.userService=i,this.utils=r,this.skills=new Array,this.newSkill=new LD,this.classi=new Array,this.tipologiaSkills=new Array,this.idsClassiScelte=new Array,this.notChecked=!1,this.develop=!1,this.area=""}ngOnInit(){const e=re(7986);this.develop=e.develop,this.service.getAllSkills().subscribe(i=>this.skills=i),this.service.getAllClass().subscribe(i=>{this.classi=i}),this.service.getAllTipologieSkill().subscribe(i=>this.tipologiaSkills=i),this.discord()}SalvaSkill(){const e=this.newSkill;e.nome=(e.nome.charAt(0).toUpperCase()+e.nome.slice(1)).trim(),this.service.AddSkill(this.newSkill),this.service.getAllClass().subscribe(i=>{this.classi=i}),this.newSkill=new LD}toggle(e){this.newSkill.classi.push(e.nome)}checkSession(){}logout(){this.userService.logout()}registrati(){}login(){}goText(){this.utils.MacrosXmlToObject(this.area)}discord(){var e=this.userService.getQueryParams();e&&this.userService.loginDiscord(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(E0),s.Y36(Cf),s.Y36(vf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-develop"]],decls:19,vars:2,consts:[[4,"ngIf"],[3,"click"],[3,"ngModel","ngModelChange"],["href","https://discord.com/api/oauth2/authorize?client_id=960448858926768148&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fdevelop&response_type=code&scope=identify%20email%20connections%20guilds%20guilds.join%20guilds.members.read%20role_connections.write"],["fxLayout","row",1,"home"],["fxFlex","70","fxLayout","column",1,"container"],["fxFlex","100","fxLayoutAlign","center center",2,"height","300px"],["fxFlex","30","fxLayout","column"],[1,"example-form-field"],["matInput","","type","text","fxFlex","","color","primary",3,"ngModel","ngModelChange"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["fxLayout","column","fxFlex","30",4,"ngIf"],["fxFlex","30","fxLayout","column",2,"margin-left","10%"],["style","padding:4px","color","primary",3,"change",4,"ngFor","ngForOf"],["fxFlex","",2,"margin-left","5%","margin-right","5%"],["mat-raised-button","","color","primary",3,"disabled","click"],["fxLayout","row","fxLayoutAlign","center center",1,"skills"],["fxFlex","","fxLayout","row","fxFlex","",2,"height","300px","overflow-y","auto"],["fxLayout","column","fxFlex","30"],["appearance","fill"],["color","primary",3,"ngModel","ngModelChange"],["color","primary",3,"value",4,"ngFor","ngForOf"],["color","primary",3,"value"],["color","primary",2,"padding","4px",3,"change"],["fxLayout","column","style","padding: 5px;",4,"ngFor","ngForOf"],["fxLayout","column",2,"padding","5px"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(s.YNc(0,Ode,25,5,"div",0),s._UZ(1,"br")(2,"br")(3,"br")(4,"br")(5,"br")(6,"br")(7,"br"),s.TgZ(8,"button",1),s.NdJ("click",function(){return i.checkSession()}),s._uU(9,"Check session"),s.qZA(),s.TgZ(10,"button",1),s.NdJ("click",function(){return i.logout()}),s._uU(11,"logout"),s.qZA(),s._UZ(12,"br"),s.TgZ(13,"textarea",2),s.NdJ("ngModelChange",function(o){return i.area=o}),s._uU(14,"\n"),s.qZA(),s.TgZ(15,"button",1),s.NdJ("click",function(){return i.goText()}),s._uU(16,"Ciao"),s.qZA(),s.TgZ(17,"a",3),s._uU(18,"Redirect"),s.qZA()),2&e&&(s.Q6J("ngIf",i.develop),s.xp6(13),s.Q6J("ngModel",i.area))},dependencies:[ds,Li,Sy,B0,Hm,Ah,ju,_A,ac,qb,zx,Zb,Uue,Kx,Bb,Zx,IT,Ey,Tk,mT,Dk],styles:[".example-form-field[_ngcontent-%COMP%]{width:200px}.container[_ngcontent-%COMP%]{height:100%;padding:15px;display:flex;margin-top:5%}.home[_ngcontent-%COMP%]{height:auto;padding:0;display:flex;justify-content:center;margin-top:5%}.skills[_ngcontent-%COMP%]{width:50%;padding:0;display:flex;justify-content:center;margin-top:5%}"]}),n})();class Nde{constructor(t,e,i){this.tipologia="",this.tool="",this.messaggio="",this.user="",this.tipologia=t,this.tool=e,this.messaggio=i}}function Pde(n,t){1&n&&(s.TgZ(0,"mat-form-field",4)(1,"mat-label"),s._uU(2,"User"),s.qZA(),s._UZ(3,"input",11),s.qZA())}function Ude(n,t){if(1&n&&(s.TgZ(0,"mat-option",12),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.Oqu(e)}}function Qde(n,t){if(1&n&&(s.TgZ(0,"mat-option",12),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.Oqu(e)}}function Hde(n,t){if(1&n&&(s.TgZ(0,"mat-form-field",13)(1,"mat-label"),s._uU(2,"Seleziona tool"),s.qZA(),s.TgZ(3,"mat-select",14),s.YNc(4,Qde,2,2,"mat-option",6),s.qZA()()),2&n){const e=s.oxw();s.xp6(4),s.Q6J("ngForOf",e.tools)}}let Vde=(()=>{class n{constructor(e,i,r){this._formBuilder=e,this._userService=i,this._utils=r,this.tipologiaTicket=["Correzione dati tool","Malfunzionamento","Consigli"],this.tools=["Scheda personaggio","Dizionario Elfico","Enchant TM","Calendario TM","Armature infuse","Macro Utili"],this.firstFormGroup=this._formBuilder.group({user:["",Ia.required],tipologia:["",Ia.required],tool:[""],ticket:["",Ia.compose([Ia.minLength(20),Ia.required])]}),this.isLoggedIn=!1}ngOnInit(){this.isSmartphone(),this._userService.isLoggedInObs.subscribe(e=>{this.isLoggedIn=e,this.isLoggedIn||this._userService.openSnackBar("effettuaLogin")})}salva(){var e,i,r,o;if(this.firstFormGroup.valid){var a=null===(e=this.firstFormGroup.get("tipologia"))||void 0===e?void 0:e.value,u=null===(i=this.firstFormGroup.get("ticket"))||void 0===i?void 0:i.value,h=null===(r=this.firstFormGroup.get("tool"))||void 0===r?void 0:r.value;if(h||(h="Blank"),a&&u&&h){var f=new Nde(a,h,u),_=null===(o=this.firstFormGroup.get("user"))||void 0===o?void 0:o.value,C=localStorage.getItem("user");!this.isLoggedIn&&_&&(f.user=_),this.isLoggedIn&&C&&(f.user=C),this._userService.SalvaTicket(f),this.firstFormGroup.reset()}}}isSmartphone(){return this._utils.isSmartphone()}width(){return this.isSmartphone()?"100":"50"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(gue),s.Y36(Cf),s.Y36(vf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-help"]],decls:23,vars:10,consts:[["fxLayoutAlign","center center",2,"padding-top","2%"],["fxFlex","","fxLayout","column",3,"fxFlex"],["fxFlex","","fxLayout","column","fxLayoutAlign","center",3,"formGroup"],["appearance","fill",4,"ngIf"],["appearance","fill"],["formControlName","tipologia"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill","fxFlex","",4,"ngIf"],["rows","100","cols","100","matInput","","formControlName","ticket","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["autosize","cdkTextareaAutosize"],["mat-raised-button","","color","primary",3,"disabled","click"],["matInput","","type","text","formControlName","user","readonly","true"],[3,"value"],["appearance","fill","fxFlex",""],["formControlName","tool"]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),s._uU(4," Help "),s.qZA(),s.TgZ(5,"mat-card-subtitle"),s._uU(6," Invia ticket (al fuoco... al fuoco...) "),s.qZA()(),s.TgZ(7,"mat-card-content")(8,"form",2),s.YNc(9,Pde,4,0,"mat-form-field",3),s.TgZ(10,"mat-form-field",4)(11,"mat-label"),s._uU(12,"Tipo errore"),s.qZA(),s.TgZ(13,"mat-select",5),s.YNc(14,Ude,2,2,"mat-option",6),s.qZA()(),s.YNc(15,Hde,5,1,"mat-form-field",7),s.TgZ(16,"mat-form-field",4)(17,"mat-label"),s._uU(18,"Ticket"),s.qZA(),s._UZ(19,"textarea",8,9),s.qZA(),s.TgZ(21,"button",10),s.NdJ("click",function(){return i.salva()}),s._uU(22,"Invia"),s.qZA()()()()()),2&e){let r,o,a,u;s.xp6(1),s.Q6J("fxFlex",i.width()),s.xp6(7),s.Q6J("formGroup",i.firstFormGroup),s.xp6(1),s.Q6J("ngIf",!i.isLoggedIn),s.xp6(5),s.Q6J("ngForOf",i.tipologiaTicket),s.xp6(1),s.Q6J("ngIf",(null==(r=i.firstFormGroup.get("tipologia"))?null:r.value)==i.tipologiaTicket[0]),s.xp6(1),s.Udp("visibility",null!=(o=i.firstFormGroup.get("tipologia"))&&o.valid||(null==(o=i.firstFormGroup.get("tipologia"))?null:o.value)===i.tipologiaTicket[1]?"visible":"hidden"),s.xp6(5),s.Udp("visibility",null!=(a=i.firstFormGroup.get("tool"))&&a.valid||(null==(a=i.firstFormGroup.get("tipologia"))?null:a.value)===i.tipologiaTicket[1]?"visible":"hidden"),s.Q6J("disabled",(null==(u=i.firstFormGroup.get("ticket"))?null:u.invalid)||(null==(u=i.firstFormGroup.get("user"))?null:u.invalid))}},dependencies:[ds,Li,L9,Sy,B0,C9,Gx,W4,Ah,ju,_A,ac,zx,Zb,Kx,Bb,ude,Zx,Ey,Tk,mT,Dk,Wz],styles:["mat-card[_ngcontent-%COMP%]{border:2px solid #004a9f;border-radius:3px;margin:3%}mat-card-title[_ngcontent-%COMP%]{color:#004a9f}"]}),n})(),jde=(()=>{class n{constructor(e,i,r){this._utils=e,this.userService=i,this.router=r}ngOnInit(){this.discord()}isSmartphone(){return this._utils.isSmartphone()?"80":"55"}discord(){var e=this.userService.getQueryParams();if(e){this.router.navigate([],{queryParams:{code:null},queryParamsHandling:"merge"});const i=localStorage.getItem("lastUrl");i&&this.router.navigate([i]),this.userService.loginDiscord(e).subscribe(r=>{})}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(vf),s.Y36(Cf),s.Y36(Bs))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-home-view"]],decls:4,vars:1,consts:[["fxLayout","column","fxLayoutAlign","center","fxFlex",""],["fxFlex","50",2,"padding","1%"],["fxLayout","row","fxFlex","","fxLayoutAlign","center"],["src","https://media.discordapp.net/attachments/511856322141093914/916417399123746878/122446285_3745805028787577_1420736271386283273_n-1.png",1,"immagine",3,"fxFlex"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"div",1),s.TgZ(2,"div",2),s._UZ(3,"img",3),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("fxFlex",i.isSmartphone()))},dependencies:[ju,_A,ac],styles:[".immagine[_ngcontent-%COMP%]{border:7px solid #004a9f;border-radius:3px}"]}),n})();function Gde(n,t){1&n&&(s.TgZ(0,"div")(1,"b"),s._uU(2," Scegli un file .txt e caricalo nella piattaforma."),s._UZ(3,"br"),s._uU(4," Il sistema lo elaborer\xe0 e lo render\xe0 adatto alle bacheche del gioco. "),s.qZA(),s._UZ(5,"br")(6,"br"),s.qZA())}function zde(n,t){if(1&n&&(s.TgZ(0,"div")(1,"span"),s._uU(2),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e)}}function qde(n,t){if(1&n&&(s.TgZ(0,"div",9),s.YNc(1,zde,3,1,"div",10),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e)}}function Kde(n,t){if(1&n&&(s.TgZ(0,"mat-card",7)(1,"mat-card-content"),s.YNc(2,qde,2,1,"div",8),s.qZA()()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngForOf",e.bacheche)}}function Zde(n,t){if(1&n&&(s.TgZ(0,"div")(1,"span"),s._uU(2),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e)}}function $de(n,t){if(1&n&&(s.TgZ(0,"div",9),s.YNc(1,Zde,3,1,"div",10),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e)}}function Yde(n,t){if(1&n&&(s.TgZ(0,"div",11),s.YNc(1,$de,2,1,"div",8),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.bacheche)}}let Wde=(()=>{class n{constructor(e,i){this.utils=e,this.service=i,this.bacheche=new Array,this.isSmartphone=!1}ngOnInit(){this.isSmartphone=this.utils.isSmartphone()}onChange(e){var i=this;return(0,bt.Z)(function*(){var r=e.target.files[0];let o=yield r.text();i.elabTextToBachecaMessage(o)})()}elabTextToBachecaMessage(e){var i="",r=new Array,o=new Array;let a=this.cleanArray(e);a.forEach(u=>{i.length+u.length<=32?i+=u+" ":(i=i.substring(0,i.lastIndexOf(" ")),r.push(i),i=u+" "),u==a[a.length-1]&&(i=i.substring(0,i.lastIndexOf(" ")),r.push(i)),39==r.length&&(o.push(r),r=new Array)}),o.push(r),this.bacheche=o}checkWords(e){for(let r=0;r<e.length;r++)if(e[r].includes("\n\r")){var i=e[r].split("\r\n");i=i.filter(o=>""!=o),e.splice(r,i.length,...i)}return e}cleanArray(e){var i,r=(e=e.replace(/[\r\n]/g," ")).split(" ");r=r.filter(u=>""!=u);let o=(new Array).concat(r),a=0;for(;r.filter(u=>u.length>32).length>0;){if((null===(i=o[a])||void 0===i?void 0:i.length)>=32){let u=new Array,h=0;for(let f=0;f<o[a].length/32;f++)u.push(o[a].substring(h,h+31)),h+=31;o=this.mergeArray(o,u,a)}r=o,a++}return r}mergeArray(e,i,r=0){return(e=e.filter(o=>o!==e[r])).slice(0,r).concat(i,e.slice(r))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(vf),s.Y36(Cf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-bacheca"]],decls:7,vars:3,consts:[["fxLayout","column","fxFlex","","fxLayoutAlign","space-evenly center"],["fxFlex","",2,"padding","1%"],[2,"text-align","center"],[4,"ngIf"],["type","file",1,"form-control",3,"change"],["class","pergamene",4,"ngIf"],["class","pergameneSmarth",4,"ngIf"],[1,"pergamene"],["class","pergamena",4,"ngFor","ngForOf"],[1,"pergamena"],[4,"ngFor","ngForOf"],[1,"pergameneSmarth"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2),s.YNc(3,Gde,7,0,"div",3),s.TgZ(4,"input",4),s.NdJ("change",function(o){return i.onChange(o)}),s.qZA()()(),s.YNc(5,Kde,3,1,"mat-card",5),s.YNc(6,Yde,2,1,"div",6),s.qZA()),2&e&&(s.xp6(3),s.Q6J("ngIf",0==i.bacheche.length),s.xp6(2),s.Q6J("ngIf",i.bacheche.length>0&&!i.isSmartphone),s.xp6(1),s.Q6J("ngIf",i.bacheche.length>0&&i.isSmartphone))},dependencies:[ds,Li,ju,_A,ac,Ey,mT],styles:[".pergamena[_ngcontent-%COMP%]{background-image:url(https://img.freepik.com/premium-photo/old-parchment-paper-texture-background-wallpaper_118047-11580.jpg);font-family:Playfair Display,serif;font-size:20px;padding:10px;margin:6px;border-radius:10px;text-align:center}.pergamene[_ngcontent-%COMP%]{width:40%;max-height:65vh;overflow-y:auto}.pergameneSmarth[_ngcontent-%COMP%]{width:80%;max-height:65vh;overflow-y:auto}.font[_ngcontent-%COMP%]{font-family:Playfair Display,serif}"]}),n})();function Jde(n,t){if(1&n&&(s.TgZ(0,"mat-option",19),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" ",e," ")}}function Xde(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-form-field",16)(1,"mat-select",17),s.NdJ("selectionChange",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o._changePageSize(r.value))}),s.YNc(2,Jde,2,2,"mat-option",18),s.qZA()()}if(2&n){const e=s.oxw(2);s.Q6J("appearance",e._formFieldAppearance)("color",e.color),s.xp6(1),s.Q6J("value",e.pageSize)("disabled",e.disabled)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering)("aria-label",e._intl.itemsPerPageLabel),s.xp6(1),s.Q6J("ngForOf",e._displayedPageSizeOptions)}}function ehe(n,t){if(1&n&&(s.TgZ(0,"div",20),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.pageSize)}}function the(n,t){if(1&n&&(s.TgZ(0,"div",12)(1,"div",13),s._uU(2),s.qZA(),s.YNc(3,Xde,3,8,"mat-form-field",14),s.YNc(4,ehe,2,1,"div",15),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.hij(" ",e._intl.itemsPerPageLabel," "),s.xp6(1),s.Q6J("ngIf",e._displayedPageSizeOptions.length>1),s.xp6(1),s.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function nhe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",21),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.firstPage())}),s.O4$(),s.TgZ(1,"svg",7),s._UZ(2,"path",22),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),s.uIk("aria-label",e._intl.firstPageLabel)}}function ihe(n,t){if(1&n){const e=s.EpF();s.O4$(),s.kcU(),s.TgZ(0,"button",23),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.lastPage())}),s.O4$(),s.TgZ(1,"svg",7),s._UZ(2,"path",24),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),s.uIk("aria-label",e._intl.lastPageLabel)}}let zk=(()=>{class n{constructor(){this.changes=new nn.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const o=e*i;return`${o+1} \u2013 ${o<(r=Math.max(r,0))?Math.min(o+i,r):o+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const she={provide:zk,deps:[[new s.FiY,new s.tp0,zk]],useFactory:function rhe(n){return n||new zk}};class ahe{}const lhe=new s.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),che=Db(A7(class{}));let uhe=(()=>{class n extends che{constructor(e,i,r){if(super(),this._intl=e,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new s.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:o,pageSizeOptions:a,hidePageSize:u,showFirstLastButtons:h}=r;null!=o&&(this._pageSize=o),null!=a&&(this._pageSizeOptions=a),null!=u&&(this._hidePageSize=u),null!=h&&(this._showFirstLastButtons=h)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(su(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=su(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(su(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>su(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=Ci(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=Ci(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[s.qOj]}),n})(),o3=(()=>{class n extends uhe{constructor(e,i,r){super(e,i,r),r&&null!=r.formFieldAppearance&&(this._formFieldAppearance=r.formFieldAppearance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(zk),s.Y36(s.sBO),s.Y36(lhe,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[s.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","panelClass","disableOptionCentering","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s.YNc(2,the,5,3,"div",2),s.TgZ(3,"div",3)(4,"div",4),s._uU(5),s.qZA(),s.YNc(6,nhe,3,5,"button",5),s.TgZ(7,"button",6),s.NdJ("click",function(){return i.previousPage()}),s.O4$(),s.TgZ(8,"svg",7),s._UZ(9,"path",8),s.qZA()(),s.kcU(),s.TgZ(10,"button",9),s.NdJ("click",function(){return i.nextPage()}),s.O4$(),s.TgZ(11,"svg",7),s._UZ(12,"path",10),s.qZA()(),s.YNc(13,ihe,3,5,"button",11),s.qZA()()()),2&e&&(s.xp6(2),s.Q6J("ngIf",!i.hidePageSize),s.xp6(3),s.hij(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),s.xp6(1),s.Q6J("ngIf",i.showFirstLastButtons),s.xp6(1),s.Q6J("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),s.uIk("aria-label",i._intl.previousPageLabel),s.xp6(3),s.Q6J("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),s.uIk("aria-label",i._intl.nextPageLabel),s.xp6(3),s.Q6J("ngIf",i.showFirstLastButtons))},dependencies:[ds,Li,Ah,zx,Kx,Bb,I0],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{display:inline-block;width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),dhe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[she],imports:[ea,kM,hq,Zz,hr]}),n})();const hhe=["mat-sort-header",""];function Ahe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3),s.NdJ("@arrowPosition.start",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._disableViewStateAnimation=!1)}),s._UZ(1,"div",4),s.TgZ(2,"div",5),s._UZ(3,"div",6)(4,"div",7)(5,"div",8),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),s.xp6(2),s.Q6J("@indicator",e._getArrowDirectionState()),s.xp6(1),s.Q6J("@leftPointer",e._getArrowDirectionState()),s.xp6(1),s.Q6J("@rightPointer",e._getArrowDirectionState())}}const fhe=["*"],_q=new s.OlP("MAT_SORT_DEFAULT_OPTIONS"),phe=A7(Db(class{}));let a3=(()=>{class n extends phe{constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new nn.x,this.start="asc",this._direction="",this.sortChange=new s.vpe}get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Ci(e)}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let r=function ghe(n,t){let e=["asc","desc"];return"desc"==n&&e.reverse(),t||e.push(""),e}(e.start||this.start,e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),o=r.indexOf(this.direction)+1;return o>=r.length&&(o=0),r[o]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(_q,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[s.qOj,s.TTD]}),n})();const F0=fte.ENTERING+" "+Ate.STANDARD_CURVE,$x={indicator:Tc("indicator",[Hr("active-asc, asc",ui({transform:"translateY(0px)"})),Hr("active-desc, desc",ui({transform:"translateY(10px)"})),Ws("active-asc <=> active-desc",To(F0))]),leftPointer:Tc("leftPointer",[Hr("active-asc, asc",ui({transform:"rotate(-45deg)"})),Hr("active-desc, desc",ui({transform:"rotate(45deg)"})),Ws("active-asc <=> active-desc",To(F0))]),rightPointer:Tc("rightPointer",[Hr("active-asc, asc",ui({transform:"rotate(45deg)"})),Hr("active-desc, desc",ui({transform:"rotate(-45deg)"})),Ws("active-asc <=> active-desc",To(F0))]),arrowOpacity:Tc("arrowOpacity",[Hr("desc-to-active, asc-to-active, active",ui({opacity:1})),Hr("desc-to-hint, asc-to-hint, hint",ui({opacity:.54})),Hr("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",ui({opacity:0})),Ws("* => asc, * => desc, * => active, * => hint, * => void",To("0ms")),Ws("* <=> *",To(F0))]),arrowPosition:Tc("arrowPosition",[Ws("* => desc-to-hint, * => desc-to-active",To(F0,MD([ui({transform:"translateY(-25%)"}),ui({transform:"translateY(0)"})]))),Ws("* => hint-to-desc, * => active-to-desc",To(F0,MD([ui({transform:"translateY(0)"}),ui({transform:"translateY(25%)"})]))),Ws("* => asc-to-hint, * => asc-to-active",To(F0,MD([ui({transform:"translateY(25%)"}),ui({transform:"translateY(0)"})]))),Ws("* => hint-to-asc, * => active-to-asc",To(F0,MD([ui({transform:"translateY(0)"}),ui({transform:"translateY(-25%)"})]))),Hr("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",ui({transform:"translateY(0)"})),Hr("hint-to-desc, active-to-desc, desc",ui({transform:"translateY(-25%)"})),Hr("hint-to-asc, active-to-asc, asc",ui({transform:"translateY(25%)"}))]),allowChildren:Tc("allowChildren",[Ws("* <=> *",[OM("@*",RM(),{optional:!0})])])};let qk=(()=>{class n{constructor(){this.changes=new nn.x}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _he={provide:qk,deps:[[new s.FiY,new s.tp0,qk]],useFactory:function mhe(n){return n||new qk}},yhe=Db(class{});let vhe=(()=>{class n extends yhe{constructor(e,i,r,o,a,u,h,f){super(),this._intl=e,this._changeDetectorRef=i,this._sort=r,this._columnDef=o,this._focusMonitor=a,this._elementRef=u,this._ariaDescriber=h,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",f?.arrowPosition&&(this.arrowPosition=f?.arrowPosition),this._handleStateChanges()}get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Ci(e)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const i=!!e;i!==this._showIndicatorHint&&(this._setIndicatorHintVisible(i),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,e)),this._sortActionDescription=e}_handleStateChanges(){this._rerenderSubscription=(0,iu.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(qk),s.Y36(s.sBO),s.Y36(a3,8),s.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),s.Y36(Kp),s.Y36(s.SBq),s.Y36(J8,8),s.Y36(_q,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i._handleClick()})("keydown",function(o){return i._handleKeydown(o)})("mouseenter",function(){return i._setIndicatorHintVisible(!0)})("mouseleave",function(){return i._setIndicatorHintVisible(!1)}),2&e&&(s.uIk("aria-sort",i._getAriaSortAttribute()),s.ekj("mat-sort-header-disabled",i._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[s.qOj],attrs:hhe,ngContentSelectors:fhe,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0)(1,"div",1),s.Hsn(2),s.qZA(),s.YNc(3,Ahe,6,6,"div",2),s.qZA()),2&e&&(s.ekj("mat-sort-header-sorted",i._isSorted())("mat-sort-header-position-before","before"===i.arrowPosition),s.uIk("tabindex",i._isDisabled()?null:0)("role",i._isDisabled()?null:"button"),s.xp6(3),s.Q6J("ngIf",i._renderArrow()))},dependencies:[Li],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[$x.indicator,$x.leftPointer,$x.rightPointer,$x.arrowOpacity,$x.arrowPosition,$x.allowChildren]},changeDetection:0}),n})(),whe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[_he],imports:[ea,hr]}),n})();const Che=[[["caption"]],[["colgroup"],["col"]]],xhe=["caption","colgroup, col"];function l3(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Ci(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const Yx=new s.OlP("CDK_TABLE");let Wx=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Jx=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),Kk=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class Dhe{}const The=l3(Dhe);let Iy=(()=>{class n extends The{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=Ci(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Yx,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Wx,5),s.Suo(r,Jx,5),s.Suo(r,Kk,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.cell=o.first),s.iGM(o=s.CRH())&&(i.headerCell=o.first),s.iGM(o=s.CRH())&&(i.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[s._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),s.qOj]}),n})();class c3{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let u3=(()=>{class n extends c3{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Iy),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[s.qOj]}),n})(),d3=(()=>{class n extends c3{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Iy),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[s.qOj]}),n})();class vq{constructor(){this.tasks=[],this.endTasks=[]}}const h3=new s.OlP("_COALESCED_STYLE_SCHEDULER");let wq=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new nn.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new vq,this._getScheduleObservable().pipe(Wi(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new vq;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,jn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,Jr.q)(1))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),A3=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof DT?e.headerCell.template:this instanceof TT?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();class Bhe extends A3{}const Fhe=l3(Bhe);let DT=(()=>{class n extends Fhe{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Yx,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),n})();class Mhe extends A3{}const khe=l3(Mhe);let TT=(()=>{class n extends khe{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Yx,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),n})(),Zk=(()=>{class n extends A3{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Yx,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[s.qOj]}),n})(),Dy=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),f3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[Dy],encapsulation:2}),n})(),$k=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const bq=["top","bottom","left","right"];class Rhe{constructor(t,e,i,r,o=!0,a=!0,u){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=o,this._needsPositionStickyOnElement=a,this._positionListener=u,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let o=0;o<r.children.length;o++)i.push(r.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(F=>F)&&!i.some(F=>F))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=t[0],a=o.children.length,u=this._getCellWidths(o,r),h=this._getStickyStartColumnPositions(u,e),f=this._getStickyEndColumnPositions(u,i),_=e.lastIndexOf(!0),C=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const F="rtl"===this.direction,B=F?"right":"left",U=F?"left":"right";for(const H of t)for(let Z=0;Z<a;Z++){const q=H.children[Z];e[Z]&&this._addStickyStyle(q,B,h[Z],Z===_),i[Z]&&this._addStickyStyle(q,U,f[Z],Z===C)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===_?[]:u.slice(0,_+1).map((H,Z)=>e[Z]?H:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===C?[]:u.slice(C).map((H,Z)=>i[Z+C]?H:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,o="bottom"===i?e.slice().reverse():e,a=[],u=[],h=[];for(let _=0,C=0;_<r.length;_++){if(!o[_])continue;a[_]=C;const F=r[_];h[_]=this._isNativeHtmlTable?Array.from(F.children):[F];const B=F.getBoundingClientRect().height;C+=B,u[_]=B}const f=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let _=0;_<r.length;_++){if(!o[_])continue;const C=a[_],F=_===f;for(const B of h[_])this._addStickyStyle(B,i,C,F)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:u,offsets:a,elements:h}):this._positionListener?.stickyFooterRowsUpdated({sizes:u,offsets:a,elements:h})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);bq.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of bq)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let o=0;o<r.length;o++)i.push(r[o].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let o=0;o<t.length;o++)e[o]&&(i[o]=r,r+=t[o]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let o=t.length;o>0;o--)e[o]&&(i[o]=r,r+=t[o]);return i}}const m3=new s.OlP("CDK_SPL");let Yk=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),Wk=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),Jk=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),Xk=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),eR=(()=>{class n{constructor(e,i,r,o,a,u,h,f,_,C,F,B){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=a,this._platform=h,this._viewRepeater=f,this._coalescedStyleScheduler=_,this._viewportRuler=C,this._stickyPositioningListener=F,this._ngZone=B,this._onDestroy=new nn.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new s.vpe,this.viewChange=new gr({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=u,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Ci(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Ci(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Wi(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),s3(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,o,a)=>this._getEmbeddedViewArgs(r.item,a),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&s.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,Jr.q)(1),Wi(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const o=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,o,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const o=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,a)=>{this._addStickyColumnStyles([o],this._headerRowDefs[a])}),this._rowDefs.forEach(o=>{const a=[];for(let u=0;u<i.length;u++)this._renderRows[u].rowDef===o&&a.push(i[u]);this._addStickyColumnStyles(a,o)}),r.forEach((o,a)=>{this._addStickyColumnStyles([o],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let o=this._data[r];const a=this._getRenderRowsForData(o,r,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let u=0;u<a.length;u++){let h=a[u];const f=this._cachedRenderRowsMap.get(h.data);f.has(h.rowDef)?f.get(h.rowDef).push(h):f.set(h.rowDef,[h]),e.push(h)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(a=>{const u=r&&r.has(a)?r.get(a):[];if(u.length){const h=u.shift();return h.dataIndex=i,h}return{data:e,rowDef:a,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),tR(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=tR(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=tR(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=tR(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(a,u)=>a||!!u.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),i||r||o}_switchDataSource(e){this._data=[],s3(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;s3(this.dataSource)?e=this.dataSource.connect(this):function bhe(n){return!!n&&(n instanceof mr.y||(0,zs.m)(n.lift)&&(0,zs.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=An(this.dataSource)),this._renderChangeSubscription=e.pipe(Wi(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(u=>this._columnDefsByName.get(u)),o=r.map(u=>u.sticky),a=r.map(u=>u.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,a,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const o=e.viewContainer.get(r);i.push(o.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(o=>!o.when||o.when(i,e));else{let o=this._rowDefs.find(a=>a.when&&a.when(i,e))||this._defaultRowDef;o&&r.push(o)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,o={}){const a=e.viewContainer.createEmbeddedView(i.template,o,r);return this._renderCellTemplateForItem(i,o),a}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))Dy.mostRecentCellOutlet&&Dy.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const a=e.get(i).context;a.count=r,a.first=0===i,a.last=i===r-1,a.even=i%2==0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[i].dataIndex,a.renderIndex=i):a.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const o=this._document.createElement(r.tag);o.setAttribute("role","rowgroup");for(const a of r.outlets)o.appendChild(a.elementRef.nativeElement);e.appendChild(o)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Rhe(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:An()).pipe(Wi(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const o=r.createEmbeddedView(e.templateRef),a=o.rootNodes[0];1===o.rootNodes.length&&a?.nodeType===this._document.ELEMENT_NODE&&(a.setAttribute("role","row"),a.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.sBO),s.Y36(s.SBq),s.$8M("role"),s.Y36(wf,8),s.Y36(Ke),s.Y36(Fs),s.Y36(ET),s.Y36(h3),s.Y36(yx),s.Y36(m3,12),s.Y36(s.R0b,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,$k,5),s.Suo(r,Iy,5),s.Suo(r,Zk,5),s.Suo(r,DT,5),s.Suo(r,TT,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._noDataRow=o.first),s.iGM(o=s.CRH())&&(i._contentColumnDefs=o),s.iGM(o=s.CRH())&&(i._contentRowDefs=o),s.iGM(o=s.CRH())&&(i._contentHeaderRowDefs=o),s.iGM(o=s.CRH())&&(i._contentFooterRowDefs=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(Yk,7),s.Gf(Wk,7),s.Gf(Jk,7),s.Gf(Xk,7)),2&e){let r;s.iGM(r=s.CRH())&&(i._rowOutlet=r.first),s.iGM(r=s.CRH())&&(i._headerRowOutlet=r.first),s.iGM(r=s.CRH())&&(i._footerRowOutlet=r.first),s.iGM(r=s.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[s._Bn([{provide:Yx,useExisting:n},{provide:ET,useClass:sq},{provide:h3,useClass:wq},{provide:m3,useValue:null}])],ngContentSelectors:xhe,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(s.F$t(Che),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Yk,Wk,Jk,Xk],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function tR(n,t){return n.concat(Array.from(t))}let Lhe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[J5]}),n})();const Nhe=[[["caption"]],[["colgroup"],["col"]]],Phe=["caption","colgroup, col"];let xq=(()=>{class n extends eR{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[s._Bn([{provide:ET,useClass:sq},{provide:eR,useExisting:n},{provide:Yx,useExisting:n},{provide:h3,useClass:wq},{provide:m3,useValue:null}]),s.qOj],ngContentSelectors:Phe,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(s.F$t(Nhe),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Yk,Wk,Jk,Xk],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})(),_3=(()=>{class n extends Wx{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matCellDef",""]],features:[s._Bn([{provide:Wx,useExisting:n}]),s.qOj]}),n})(),y3=(()=>{class n extends Jx{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[s._Bn([{provide:Jx,useExisting:n}]),s.qOj]}),n})(),v3=(()=>{class n extends Iy{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[s._Bn([{provide:Iy,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),s.qOj]}),n})(),w3=(()=>{class n extends u3{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[s.qOj]}),n})(),b3=(()=>{class n extends d3{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[s.qOj]}),n})(),Eq=(()=>{class n extends DT{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[s._Bn([{provide:DT,useExisting:n}]),s.qOj]}),n})(),Sq=(()=>{class n extends Zk{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[s._Bn([{provide:Zk,useExisting:n}]),s.qOj]}),n})(),Iq=(()=>{class n extends f3{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[s._Bn([{provide:f3,useExisting:n}]),s.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[Dy],encapsulation:2}),n})(),$he=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Lhe,hr,hr]}),n})();class Whe extends jue{constructor(t=[]){super(),this._renderData=new gr([]),this._filter=new gr(""),this._internalPageChanges=new nn.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(x8(r)){const o=Number(r);return o<9007199254740991?o:r}return r},this.sortData=(e,i)=>{const r=i.active,o=i.direction;return r&&""!=o?e.sort((a,u)=>{let h=this.sortingDataAccessor(a,r),f=this.sortingDataAccessor(u,r);const _=typeof h,C=typeof f;_!==C&&("number"===_&&(h+=""),"number"===C&&(f+=""));let F=0;return null!=h&&null!=f?h>f?F=1:h<f&&(F=-1):null!=h?F=1:null!=f&&(F=-1),F*("asc"==o?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((a,u)=>a+e[u]+"\u25ec","").toLowerCase(),o=i.trim().toLowerCase();return-1!=r.indexOf(o)},this._data=new gr(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?(0,iu.T)(this._sort.sortChange,this._sort.initialized):An(null),e=this._paginator?(0,iu.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):An(null),r=al([this._data,this._filter]).pipe((0,an.U)(([u])=>this._filterData(u))),o=al([r,t]).pipe((0,an.U)(([u])=>this._orderData(u))),a=al([o,e]).pipe((0,an.U)(([u])=>this._pageData(u)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=a.subscribe(u=>this._renderData.next(u))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class Dq extends Whe{}class Jhe{constructor(t,e){this._document=e;const i=this._textarea=this._document.createElement("textarea"),r=i.style;r.position="fixed",r.top=r.opacity="0",r.left="-999em",i.setAttribute("aria-hidden","true"),i.value=t,i.readOnly=!0,this._document.body.appendChild(i)}copy(){const t=this._textarea;let e=!1;try{if(t){const i=this._document.activeElement;t.select(),t.setSelectionRange(0,t.value.length),e=this._document.execCommand("copy"),i&&i.focus()}}catch{}return e}destroy(){const t=this._textarea;t&&(t.remove(),this._textarea=void 0)}}let Xhe=(()=>{class n{constructor(e){this._document=e}copy(e){const i=this.beginCopy(e),r=i.copy();return i.destroy(),r}beginCopy(e){return new Jhe(e,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ke))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eAe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function tAe(n,t){1&n&&(s.TgZ(0,"mat-icon"),s._uU(1,"content_copy"),s.qZA()),2&n&&s.Q6J("@copyIconTransition","copy")}function nAe(n,t){1&n&&(s.TgZ(0,"mat-icon",11),s._uU(1,"done"),s.qZA()),2&n&&s.Q6J("@copyIconTransition","done")}let iAe=(()=>{class n{constructor(e,i,r,o){this.data=e,this.clipboard=i,this.snackBar=r,this.dialog=o,this.shareLink="",this.copyIcon="content_copy",this.copyTooltipText="Copia il link",this.iconState="initial",this.showCopyIcon=!0,this.shareLink=e.link}ngOnInit(){this.copyLink()}copyLink(){this.clipboard.copy(this.shareLink),this.showCopiedSnackBar(),this.showCopyIcon=!1,setTimeout(()=>{this.showCopyIcon=!0},700)}showCopiedSnackBar(){this.snackBar.open("Link copiato negli appunti","Chiudi",{duration:2e3})}closeModal(){this.copyIcon="content_copy",this.copyTooltipText="Copia il link",this.dialog.closeAll()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Qm),s.Y36(Xhe),s.Y36(k7),s.Y36(wy))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-share-link"]],decls:14,vars:8,consts:[[1,"modal-container"],[1,"modal-title"],[1,"modal-content"],[1,"link-label"],[1,"link-container"],["type","text","readonly","",1,"link-input",3,"value"],["mat-icon-button","",1,"copy-button",3,"matTooltip"],[4,"ngIf"],["class","done-icon",4,"ngIf"],[1,"modal-actions"],["mat-raised-button","","color","primary",3,"click"],[1,"done-icon"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h2",1),s._uU(2,"Link di condivisione"),s.qZA(),s.TgZ(3,"div",2)(4,"p",3),s._uU(5,"Il link di condivisione \xe8:"),s.qZA(),s.TgZ(6,"div",4),s._UZ(7,"input",5),s.TgZ(8,"button",6),s.YNc(9,tAe,2,1,"mat-icon",7),s.YNc(10,nAe,2,1,"mat-icon",8),s.qZA()()(),s.TgZ(11,"div",9)(12,"button",10),s.NdJ("click",function(){return i.closeModal()}),s._uU(13,"Chiudi"),s.qZA()()()),2&e&&(s.xp6(7),s.Q6J("value",i.shareLink),s.xp6(1),s.ekj("copy",i.showCopyIcon)("done",!i.showCopyIcon),s.Q6J("matTooltip",i.copyTooltipText),s.xp6(1),s.Q6J("ngIf",!i.showCopyIcon),s.xp6(1),s.Q6J("ngIf",i.showCopyIcon))},dependencies:[Li,Hm,Ah,I0],styles:[".modal-container[_ngcontent-%COMP%]{background-color:#fff;padding:20px;max-width:400px;width:100%;border-radius:8px;box-shadow:0 2px 10px #00000026}.modal-title[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px;font-size:24px;font-weight:700}.modal-content[_ngcontent-%COMP%]{margin-bottom:20px}.link-label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:10px}.link-container[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#f5f5f5;border-radius:4px;overflow:hidden}.link-input[_ngcontent-%COMP%]{flex:1;padding:10px;border:none;background-color:transparent;font-family:Roboto,sans-serif}.copy-button[_ngcontent-%COMP%]{position:relative;color:#999;margin-right:8px;transition:color .3s,opacity .3s}.copy-button[_ngcontent-%COMP%]:hover{color:#555}.copy-button.done[_ngcontent-%COMP%]   .copy-icon[_ngcontent-%COMP%]{position:absolute;inset:0;opacity:1;transition:opacity .3s}.copy-button.done[_ngcontent-%COMP%]   .done-icon[_ngcontent-%COMP%]{opacity:0;transform:rotate(0);transition:opacity .3s,transform .5s}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.button-done[_ngcontent-%COMP%]{display:inline-block;padding:5px 10px;border-radius:4px;background-color:#4caf50;color:#fff;opacity:0;transition:opacity .3s}.button-done.show[_ngcontent-%COMP%]{opacity:1}.modal-container.show-copy[_ngcontent-%COMP%]   .copy-button.copy[_ngcontent-%COMP%]   .copy-icon[_ngcontent-%COMP%]{opacity:0}.modal-container.show-copy[_ngcontent-%COMP%]   .copy-button.copy[_ngcontent-%COMP%]   .done-icon[_ngcontent-%COMP%]{opacity:1;transform:rotate(360deg);color:#4caf50}.done-icon[_ngcontent-%COMP%]{color:green}"],data:{animation:[Tc("copyIconTransition",[Hr("copy",ui({transform:"rotate(0deg)",opacity:1})),Hr("done",ui({transform:"rotate(0deg)",opacity:1})),Ws("copy => done",[ui({transform:"rotate(0deg)",opacity:0}),To("500ms ease-in",ui({opacity:1}))]),Ws("done => copy",[ui({transform:"rotate(0deg)",opacity:1}),To("500ms ease-out",ui({opacity:0}))])])]}}),n})(),cAe=(()=>{class n extends Sa{constructor(e,i,r,o,a,u,h){super(e,null,i,r),this.ngClassInstance=h,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new ms(o,a,e,u)),this.init(),this.setValue("","")}set klass(e){this.ngClassInstance.klass=e,this.setValue(e,"")}updateWithValue(e){this.ngClassInstance.ngClass=e,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Ko),s.Y36(ua),s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.Qsj),s.Y36(ms,10))},n.\u0275dir=s.lG2({type:n,inputs:{klass:["class","klass"]},features:[s.qOj]}),n})();const uAe=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let nR=(()=>{class n extends cAe{constructor(){super(...arguments),this.inputs=uAe}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[s.qOj]}),n})();class pAe{constructor(t,e,i=!0){this.key=t,this.value=e,this.key=i?t.replace(/['"]/g,"").trim():t.trim(),this.value=i?e.replace(/['"]/g,"").trim():e.trim(),this.value=this.value.replace(/;/,"")}}function Tq(n){let t=typeof n;return"object"===t?n.constructor===Array?"array":n.constructor===Set?"set":"object":t}function Fq(n){const[t,...e]=n.split(":");return new pAe(t,e.join(":"))}function Mq(n,t){return t.key&&(n[t.key]=t.value),n}let _Ae=(()=>{class n extends Sa{constructor(e,i,r,o,a,u,h,f,_){super(e,null,i,r),this.sanitizer=o,this.ngStyleInstance=h,this.DIRECTIVE_KEY="ngStyle",this.ngStyleInstance||(this.ngStyleInstance=new Jo(e,a,u)),this.init();const C=this.nativeElement.getAttribute("style")??"";this.fallbackStyles=this.buildStyleMap(C),this.isServer=f&&Ta(_)}updateWithValue(e){const i=this.buildStyleMap(e);this.ngStyleInstance.ngStyle={...this.fallbackStyles,...i},this.isServer&&this.applyStyleToElement(i),this.ngStyleInstance.ngDoCheck()}clearStyles(){this.ngStyleInstance.ngStyle=this.fallbackStyles,this.ngStyleInstance.ngDoCheck()}buildStyleMap(e){const i=r=>this.sanitizer.sanitize(s.q3G.STYLE,r)??"";if(e)switch(Tq(e)){case"string":return kq(function gAe(n,t=";"){return String(n).trim().split(t).map(e=>e.trim()).filter(e=>""!==e)}(e),i);case"array":return kq(e,i);default:return function Bq(n,t){let e=[];return"set"===Tq(n)?n.forEach(i=>e.push(i)):Object.keys(n).forEach(i=>{e.push(`${i}:${n[i]}`)}),function mAe(n,t){return n.map(Fq).filter(i=>!!i).map(i=>(t&&(i.value=t(i.value)),i)).reduce(Mq,{})}(e,t)}(e,i)}return{}}ngDoCheck(){this.ngStyleInstance.ngDoCheck()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Ko),s.Y36(ua),s.Y36(Ol),s.Y36(s.aQg),s.Y36(s.Qsj),s.Y36(Jo,10),s.Y36(Qx),s.Y36(s.Lbi))},n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const yAe=["ngStyle","ngStyle.xs","ngStyle.sm","ngStyle.md","ngStyle.lg","ngStyle.xl","ngStyle.lt-sm","ngStyle.lt-md","ngStyle.lt-lg","ngStyle.lt-xl","ngStyle.gt-xs","ngStyle.gt-sm","ngStyle.gt-md","ngStyle.gt-lg"];let iR=(()=>{class n extends _Ae{constructor(){super(...arguments),this.inputs=yAe}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","ngStyle",""],["","ngStyle.xs",""],["","ngStyle.sm",""],["","ngStyle.md",""],["","ngStyle.lg",""],["","ngStyle.xl",""],["","ngStyle.lt-sm",""],["","ngStyle.lt-md",""],["","ngStyle.lt-lg",""],["","ngStyle.lt-xl",""],["","ngStyle.gt-xs",""],["","ngStyle.gt-sm",""],["","ngStyle.gt-md",""],["","ngStyle.gt-lg",""]],inputs:{ngStyle:"ngStyle","ngStyle.xs":"ngStyle.xs","ngStyle.sm":"ngStyle.sm","ngStyle.md":"ngStyle.md","ngStyle.lg":"ngStyle.lg","ngStyle.xl":"ngStyle.xl","ngStyle.lt-sm":"ngStyle.lt-sm","ngStyle.lt-md":"ngStyle.lt-md","ngStyle.lt-lg":"ngStyle.lt-lg","ngStyle.lt-xl":"ngStyle.lt-xl","ngStyle.gt-xs":"ngStyle.gt-xs","ngStyle.gt-sm":"ngStyle.gt-sm","ngStyle.gt-md":"ngStyle.gt-md","ngStyle.gt-lg":"ngStyle.gt-lg"},features:[s.qOj]}),n})();function kq(n,t){return n.map(Fq).filter(i=>!!i).map(i=>(t&&(i.value=t(i.value)),i)).reduce(Mq,{})}let Rq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[B4]}),n})();function vAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",15),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return r.edit=!0,s.KtG(r.detail=!1)}),s.TgZ(1,"mat-icon"),s._uU(2,"edit"),s.qZA()()}}function wAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",11)(1,"button",12),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.deleteMacro())}),s.TgZ(2,"mat-icon"),s._uU(3,"delete_forever"),s.qZA()(),s.YNc(4,vAe,3,0,"button",13),s.TgZ(5,"button",14),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.share())}),s.TgZ(6,"mat-icon"),s._uU(7,"share"),s.qZA()()()}if(2&n){const e=s.oxw();s.xp6(4),s.Q6J("ngIf",!e.edit)}}function bAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",11)(1,"button",16),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.likeIt())}),s.TgZ(2,"mat-icon"),s._uU(3,"thumb_up"),s.qZA()(),s.TgZ(4,"button",14),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.share())}),s.TgZ(5,"mat-icon"),s._uU(6,"share"),s.qZA()()()}}function CAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",11)(1,"button",17),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.likeIt())}),s.TgZ(2,"mat-icon"),s._uU(3,"thumb_up"),s.qZA()(),s.TgZ(4,"button",14),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.share())}),s.TgZ(5,"mat-icon"),s._uU(6,"share"),s.qZA()()()}}function xAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",11)(1,"button",14),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.share())}),s.TgZ(2,"mat-icon"),s._uU(3,"share"),s.qZA()()()}}function EAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-option",28),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.editMultiInsert())}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(2);s.Q6J("value",e)("disabled",!(null!=i.macroMultiInsert&&i.macroMultiInsert.checked)),s.xp6(1),s.hij(" ",e," ")}}function SAe(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Seleziona una tipologia "),s.qZA())}function IAe(n,t){if(1&n&&(s.TgZ(0,"li")(1,"b"),s._uU(2),s.qZA(),s._uU(3),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.hij("",e.comando,":"),s.xp6(1),s.hij(" ",e.function,"")}}function DAe(n,t){if(1&n&&(s.TgZ(0,"li")(1,"b"),s._uU(2),s.qZA()()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.Oqu(e.comando)}}function TAe(n,t){if(1&n&&(s.TgZ(0,"ul"),s.YNc(1,IAe,4,2,"li",3),s.YNc(2,DAe,3,1,"li",3),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf",""!=e.function),s.xp6(1),s.Q6J("ngIf",""==e.function)}}function BAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"div",18)(2,"mat-form-field")(3,"mat-label"),s._uU(4,"Autore"),s.qZA(),s.TgZ(5,"input",19),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.macroMultiInsert.macro.macro.author=r)}),s.qZA()(),s.TgZ(6,"mat-form-field")(7,"mat-label"),s._uU(8,"Titolo"),s.qZA(),s.TgZ(9,"input",20),s.NdJ("keyup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.editMultiInsert())}),s.qZA()(),s.TgZ(10,"mat-form-field")(11,"mat-label"),s._uU(12,"Delay MacroUO"),s.qZA(),s.TgZ(13,"input",21),s.NdJ("change",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.editMultiInsert(r))}),s.qZA()(),s.TgZ(14,"textarea",22),s.NdJ("keyup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.editMultiInsert())}),s.qZA(),s.TgZ(15,"mat-form-field",23)(16,"mat-label"),s._uU(17,"Tipologia"),s.qZA(),s.TgZ(18,"mat-select",24),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.macroMultiInsert.macro.tipologia=r)}),s.YNc(19,EAe,2,3,"mat-option",25),s.qZA(),s.YNc(20,SAe,2,0,"mat-error",3),s.qZA()(),s.TgZ(21,"div",26),s.YNc(22,TAe,3,2,"ul",27),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("readonly",!0)("ngModel",e.macroMultiInsert.macro.macro.author),s.xp6(4),s.Q6J("formControl",e.macroFullForm.controls.titolo)("readonly",!(null!=e.macroMultiInsert&&e.macroMultiInsert.checked)),s.xp6(4),s.Q6J("formControl",e.macroFullForm.controls.delay)("readonly",!(null!=e.macroMultiInsert&&e.macroMultiInsert.checked)),s.xp6(1),s.Q6J("formControl",e.macroFullForm.controls.descrizione)("readonly",!(null!=e.macroMultiInsert&&e.macroMultiInsert.checked)),s.xp6(4),s.Q6J("ngModel",e.macroMultiInsert.macro.tipologia),s.xp6(1),s.Q6J("ngForOf",e.tipologieMacro),s.xp6(1),s.Q6J("ngIf",""==e.macroMultiInsert.macro.tipologia),s.xp6(2),s.Q6J("ngForOf",null==e.macroMultiInsert?null:e.macroMultiInsert.settings)}}function FAe(n,t){if(1&n&&(s.TgZ(0,"mat-option",37),s._uU(1),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(2);s.Q6J("value",e)("disabled",!i.edit&&i.detail),s.xp6(1),s.hij(" ",e," ")}}function MAe(n,t){1&n&&(s.TgZ(0,"b",38),s._uU(1,"Crea la tua macro"),s.qZA())}function kAe(n,t){1&n&&(s.TgZ(0,"mat-icon",50),s._uU(1,"remove_circle"),s.qZA())}function RAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-option",51),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw().index,u=s.oxw(3);return s.KtG(u.addMacroToList(o,a))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" ",e.comando," ")}}function OAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-option",51),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2).index,u=s.oxw(3);return s.KtG(u.addMacroToListUpdate(a,o,null))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" ",e," ")}}function LAe(n,t){if(1&n&&(s.TgZ(0,"mat-form-field",45)(1,"mat-label"),s._uU(2),s.qZA(),s.TgZ(3,"mat-select"),s.YNc(4,OAe,2,2,"mat-option",48),s.qZA()()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.Oqu(e.comando),s.xp6(2),s.Q6J("ngForOf",e.settings)}}function NAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-form-field")(1,"mat-label"),s._uU(2),s.qZA(),s.TgZ(3,"input",52),s.NdJ("keyup",function(r){s.CHM(e);const o=s.oxw().index,a=s.oxw(3);return s.KtG(a.addMacroToListUpdate(o,"",r))}),s.qZA()()}if(2&n){const e=s.oxw().$implicit;s.xp6(2),s.Oqu(e.comando)}}function PAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",18),s._UZ(1,"div",7),s.TgZ(2,"div",43)(3,"button",41),s.NdJ("click",function(){const o=s.CHM(e).index,a=s.oxw(3);return s.KtG(a.eliminaMacroEdit(o))}),s.YNc(4,kAe,2,0,"mat-icon",44),s.qZA()(),s.TgZ(5,"mat-form-field",45)(6,"mat-label",46),s._uU(7,"Macro"),s.qZA(),s.TgZ(8,"mat-select",47),s.YNc(9,RAe,2,2,"mat-option",48),s.qZA()(),s.YNc(10,LAe,5,2,"mat-form-field",49),s.YNc(11,NAe,4,1,"mat-form-field",3),s.TgZ(12,"div",7),s._UZ(13,"hr"),s.qZA()()}if(2&n){const e=t.$implicit,i=s.oxw(3);s.xp6(4),s.Q6J("ngIf",!i.detail),s.xp6(4),s.Q6J("compareWith",i.compareSettings)("ngModel",e),s.xp6(1),s.Q6J("ngForOf",i.macroSettings),s.xp6(1),s.Q6J("ngIf",e&&(null==e?null:e.settings).length>0),s.xp6(1),s.Q6J("ngIf",e&&"text"==(null==e?null:e.type))}}function UAe(n,t){1&n&&(s.TgZ(0,"mat-icon",53),s._uU(1,"add_circle"),s.qZA())}function QAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",39),s.YNc(1,PAe,14,6,"div",40),s.TgZ(2,"button",41),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.addMacro())}),s.YNc(3,UAe,2,0,"mat-icon",42),s.qZA()()}if(2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.insertMacroSettings),s.xp6(2),s.Q6J("ngIf",!e.detail)}}function HAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",54),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.saveMacro())}),s._uU(1,"Salva"),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("disabled",e.disabledButton())}}function VAe(n,t){if(1&n&&(s.TgZ(0,"div",18)(1,"mat-form-field")(2,"mat-label"),s._uU(3,"Autore"),s.qZA(),s._UZ(4,"input",29),s.qZA(),s.TgZ(5,"mat-form-field")(6,"mat-label"),s._uU(7,"Titolo"),s.qZA(),s._UZ(8,"input",30),s.qZA(),s.TgZ(9,"mat-form-field")(10,"mat-label"),s._uU(11,"Delay MacroUO"),s.qZA(),s._UZ(12,"input",31),s.qZA(),s._UZ(13,"textarea",32),s.TgZ(14,"mat-form-field",23)(15,"mat-label"),s._uU(16,"Tipologia"),s.qZA(),s.TgZ(17,"mat-select",33),s.YNc(18,FAe,2,3,"mat-option",34),s.qZA()(),s.YNc(19,MAe,2,0,"b",35),s.YNc(20,QAe,4,2,"div",6),s._UZ(21,"div",7),s.YNc(22,HAe,2,1,"button",36),s.qZA()),2&n){const e=s.oxw();s.xp6(4),s.Q6J("readonly",!0)("formControl",e.macroFullForm.controls.author)("ngModel",e.macroFull.macro.author),s.xp6(4),s.Q6J("formControl",e.macroFullForm.controls.titolo)("readonly",!e.edit&&e.detail),s.xp6(4),s.Q6J("formControl",e.macroFullForm.controls.delay)("readonly",!e.edit&&e.detail),s.xp6(1),s.Q6J("formControl",e.macroFullForm.controls.descrizione)("readonly",!e.edit&&e.detail),s.xp6(4),s.Q6J("formControl",e.macroFullForm.controls.tipologia),s.xp6(1),s.Q6J("ngForOf",e.tipologieMacro),s.xp6(1),s.Q6J("ngIf",!e.edit&&!e.detail&&e.insert&&!e.multiInsert),s.xp6(1),s.Q6J("ngIf",!e.edit&&!e.detail&&e.insert),s.xp6(2),s.Q6J("ngIf",!e.detail&&!e.edit)}}function jAe(n,t){1&n&&(s.TgZ(0,"b",55),s._uU(1,"Modifica la tua macro"),s.qZA())}function GAe(n,t){1&n&&(s.TgZ(0,"mat-icon",50),s._uU(1,"remove_circle"),s.qZA())}function zAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-option",57),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw().index,u=s.oxw(2);return s.KtG(u.editSettings(o,a))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(3);s.Q6J("value",e)("disabled",i.detail),s.xp6(1),s.hij(" ",e.comando," ")}}function qAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-option",57),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2).index,u=s.oxw(2);return s.KtG(u.editSubSettings(o,a))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(4);s.Q6J("value",e)("disabled",i.detail),s.xp6(1),s.hij(" ",e," ")}}function KAe(n,t){if(1&n&&(s.TgZ(0,"mat-form-field",45)(1,"mat-label",46),s._uU(2),s.qZA(),s.TgZ(3,"mat-select",47),s.YNc(4,qAe,2,3,"mat-option",56),s.qZA()()),2&n){const e=s.oxw().$implicit,i=s.oxw(2);s.xp6(2),s.Oqu(e.comando),s.xp6(1),s.Q6J("compareWith",i.compareSottoSettings)("ngModel",e.function),s.xp6(1),s.Q6J("ngForOf",e.settings)}}function ZAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-form-field")(1,"mat-label"),s._uU(2),s.qZA(),s.TgZ(3,"input",58),s.NdJ("keyup",function(r){s.CHM(e);const o=s.oxw().index,a=s.oxw(2);return s.KtG(a.editSubSettings(r.target,o))}),s.qZA()()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(2);s.xp6(2),s.Oqu(e.comando),s.xp6(1),s.Q6J("ngModel",e.function)("readonly",i.detail)}}function $Ae(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",18)(1,"div",43)(2,"button",41),s.NdJ("click",function(){const o=s.CHM(e).index,a=s.oxw(2);return s.KtG(a.eliminaMacroEdit(o))}),s.YNc(3,GAe,2,0,"mat-icon",44),s.qZA()(),s.TgZ(4,"mat-form-field",45)(5,"mat-label",46),s._uU(6,"Macro"),s.qZA(),s.TgZ(7,"mat-select",47),s.YNc(8,zAe,2,3,"mat-option",56),s.qZA()(),s.YNc(9,KAe,5,4,"mat-form-field",49),s.YNc(10,ZAe,4,3,"mat-form-field",3),s.TgZ(11,"div",7),s._UZ(12,"hr"),s.qZA()()}if(2&n){const e=t.$implicit,i=s.oxw(2);s.xp6(3),s.Q6J("ngIf",!i.detail),s.xp6(4),s.Q6J("compareWith",i.compareSettings)("ngModel",e),s.xp6(1),s.Q6J("ngForOf",i.macroSettings),s.xp6(1),s.Q6J("ngIf","command"==e.type&&e.settings.length>0),s.xp6(1),s.Q6J("ngIf","text"==e.type&&0==e.settings.length)}}function YAe(n,t){1&n&&(s.TgZ(0,"mat-icon",53),s._uU(1,"add_circle"),s.qZA())}function WAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",39),s.YNc(1,$Ae,13,6,"div",40),s.TgZ(2,"button",41),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.addMacro())}),s.YNc(3,YAe,2,0,"mat-icon",42),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.detailMacroSettings),s.xp6(2),s.Q6J("ngIf",!e.detail)}}function JAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",59),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.saveMacro())}),s._uU(1,"Modifica"),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("disabled",e.disabeldEditButton())}}function XAe(n,t){if(1&n&&(s.TgZ(0,"li")(1,"b"),s._uU(2),s.qZA(),s._uU(3),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.hij("",e.comando,":"),s.xp6(1),s.hij(" ",e.function,"")}}function efe(n,t){if(1&n&&(s.TgZ(0,"li")(1,"b"),s._uU(2),s.qZA()()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.Oqu(e.comando)}}function tfe(n,t){if(1&n&&(s.TgZ(0,"ul"),s.YNc(1,XAe,4,2,"li",3),s.YNc(2,efe,3,1,"li",3),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf",""!=e.function),s.xp6(1),s.Q6J("ngIf",""==e.function)}}function nfe(n,t){if(1&n&&(s.TgZ(0,"div",26),s.YNc(1,tfe,3,2,"ul",27),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.detailMacroSettings)}}const ife=function(n){return{"border-color":n}},rfe=function(n){return{"cont panel":n}};let Oq=(()=>{class n{constructor(e,i,r,o,a,u,h){this.utils=e,this.service=i,this.data=r,this.userService=o,this.dialog=a,this.activated=u,this.router=h,this.editMacro=new s.vpe,this.multiInsert=!1,this.detail=!1,this.insert=!1,this.isUpdateable=!1,this.edit=!1,this.username="",this.macroFull=new gw,this.tipologieMacro=new Array,this.macroSettings=new Array,this.insertMacroSettings=new Array,this.detailMacroSettings=new Array,this.utenteLoggato="",this.macroFullForm=new zb({author:new Rs(""),titolo:new Rs(""),tipologia:new Rs(""),settings:new Rs(""),descrizione:new Rs(""),delay:new Rs("0",Ia.minLength(0))}),r&&(-1!=r.id&&(this.detail=!0),1==r.insert&&(this.insert=r.insert))}ngOnInit(){this.inizializza(),this.removeLink()}removeLink(){this.activated.snapshot.queryParamMap.get("link")&&this.router.navigate([],{queryParams:{link:null},queryParamsHandling:"merge"})}ngOnChanges(e){this.macroMultiInsert&&this.setMultiInsert()}setMultiInsert(){var e,i,r,o,a,u;this.multiInsert=!0,null===(e=this.macroFullForm.get("titolo"))||void 0===e||e.setValue(this.macroMultiInsert.macro.macro.title),null===(i=this.macroFullForm.get("descrizione"))||void 0===i||i.setValue(this.macroMultiInsert.macro.descrizione),null===(r=this.macroFullForm.get("delay"))||void 0===r||r.setValue(this.macroMultiInsert.macro.macro.delay.toString()),""==(null===(o=this.macroFullForm.get("tipologia"))||void 0===o?void 0:o.value)&&(null===(a=this.macroFullForm.get("tipologia"))||void 0===a||a.setValue("")),this.edit=1==(null===(u=this.macroMultiInsert)||void 0===u?void 0:u.checked)}editMultiInsert(e=null){var i,r;const o=null===(i=this.macroFullForm.get("descrizione"))||void 0===i?void 0:i.value;o&&(this.macroMultiInsert.macro.descrizione=o);const a=null===(r=this.macroFullForm.get("titolo"))||void 0===r?void 0:r.value;null!=a&&(this.macroMultiInsert.macro.macro.title=a),e&&null!=e.target.value&&(this.macroMultiInsert.macro.macro.delay=Number(e.target.value)),this.editMacro.emit(this.macroMultiInsert)}inizializza(){this.tipologieMacro=this.service.GetTipologieMacro(),this.macroMultiInsert||(this.getMacroSettings(),this.getMacro(),this.insert&&this.checkUser())}getMacro(){const e=this.service.getMacro(this.data.id).subscribe(i=>{var r;if(null!==(r=i[0])&&void 0!==r&&r.macro.author){e.unsubscribe();const o=this.service.getMacroSettingsUser(this.data.id).subscribe(a=>{a.length>0&&(this.setAllValue(i[0],a),o.unsubscribe())})}})}setAllValue(e,i){var r,o,a,u;this.macroFull.macro.author=e.macro.author,this.macroFull.macro.date=e.macro.date,this.macroFull.macro.like=e.macro.like,this.macroFull.macro.guid=e.macro.guid,this.macroFull.macro.utenti=e.macro.utenti,null===(r=this.macroFullForm.get("titolo"))||void 0===r||r.setValue(e.macro.title),null===(o=this.macroFullForm.get("descrizione"))||void 0===o||o.setValue(e.descrizione),null===(a=this.macroFullForm.get("tipologia"))||void 0===a||a.setValue(e.tipologia),null===(u=this.macroFullForm.get("delay"))||void 0===u||u.setValue(e.macro.delay.toString()),this.detailMacroSettings=i.sort(function(h,f){return h.index>f.index?1:-1}),this.checkUser()}compareSettings(e,i){return e.comando===i.comando}compareSottoSettings(e,i){return e==i}getSubSettings(e){return document.getElementById("targetRed").scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"}),this.macroSettings.filter(i=>i.comando==e)[0].settings}checkUser(){var e;const i=this.userService.userLoggato;i&&(this.utenteLoggato=i.username,(i.username===this.macroFull.macro.author||(null===(e=i.ruoli)||void 0===e?void 0:e.includes("Regnante")))&&(this.isUpdateable=!0),this.insert&&null!=this.utenteLoggato&&(this.macroFull.macro.author=this.utenteLoggato))}getMacroSettings(){this.service.getMacroSettings().subscribe(e=>this.macroSettings=e)}addMacro(){this.insert&&this.insertMacroSettings.push(new _w),this.edit&&this.detailMacroSettings.push(new _w),document.getElementById("targetRed").scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}eliminaMacroEdit(e){e>-1&&this.edit&&this.detailMacroSettings.splice(e,1),e>-1&&this.insert&&this.insertMacroSettings.splice(e,1)}editSettings(e,i){var r;null==(null===(r=this.detailMacroSettings[i])||void 0===r?void 0:r.comando)&&(this.detailMacroSettings[i]=new _w),this.detailMacroSettings[i].comando=e.comando,this.detailMacroSettings[i].type=e.type,this.detailMacroSettings[i].settings=e.settings,this.detailMacroSettings[i].function=""}editSubSettings(e,i){this.detailMacroSettings[i].function="string"==typeof e?e:e.value,document.getElementById("targetRed").scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}addMacroToList(e,i){var r;null==(null===(r=this.insertMacroSettings[i])||void 0===r?void 0:r.comando)&&(this.insertMacroSettings[i]=new _w),this.insertMacroSettings[i].comando=e.comando,this.insertMacroSettings[i].settings=e.settings,this.insertMacroSettings[i].type=e.type}addMacroToListUpdate(e,i="",r){""!=i&&(this.insertMacroSettings[e].function=i),r&&(this.insertMacroSettings[e].function=r.target.value)}disabledButton(){var e,i,r,o;return""==this.macroFull.macro.author||null==this.insertMacroSettings[0]||""==(null===(e=this.insertMacroSettings[0])||void 0===e?void 0:e.comando)||""==(null===(i=this.macroFullForm.get("delay"))||void 0===i?void 0:i.value)||""==(null===(r=this.macroFullForm.get("tipologia"))||void 0===r?void 0:r.value)||""==(null===(o=this.macroFullForm.get("titolo"))||void 0===o?void 0:o.value)}disabeldEditButton(){var e,i,r,o;return""==this.macroFull.macro.author||null==this.detailMacroSettings[0]||""==(null===(e=this.detailMacroSettings[0])||void 0===e?void 0:e.comando)||""==(null===(i=this.macroFullForm.get("delay"))||void 0===i?void 0:i.value)||""==(null===(r=this.macroFullForm.get("tipologia"))||void 0===r?void 0:r.value)||""==(null===(o=this.macroFullForm.get("titolo"))||void 0===o?void 0:o.value)}saveMacro(){var e,i;if(!this.disabledButton()||this.edit&&!this.disabeldEditButton()){let r=new wC;r.macro.author=this.macroFull.macro.author;const o=this.macroFullForm.get("titolo").value;o&&(r.macro.title=o);const a=this.macroFullForm.get("descrizione").value;a&&(r.descrizione=a);const u=null===(e=this.macroFullForm.get("tipologia"))||void 0===e?void 0:e.value;u&&(r.macro.tipologia=u);const h=null===(i=this.macroFullForm.get("delay"))||void 0===i?void 0:i.value;h&&(r.macro.delay=Number(h)),this.insert&&(r.settings=this.orderMacro(this.insertMacroSettings),r.macro.date=new Date,r.macro.like=0,r.macro.guid=crypto.randomUUID(),this.service.addMacros(r)),this.edit&&(r.settings=this.orderMacro(this.detailMacroSettings),r.macro.date=this.macroFull.macro.date,r.macro.like=this.macroFull.macro.like,r.macro.guid=this.macroFull.macro.guid,this.service.updateMacro(r)),this.dialog.closeAll()}}orderMacro(e){for(let i=0;i<e.length;i++)e[i].index=i;return e}deleteMacro(){confirm("Sei sicuro di voler cancellare la macro?")&&(this.service.deleteMacro(this.macroFull.macro.guid),this.dialog.closeAll())}checkThumb(){return this.detail&&!this.macroFull.macro.utenti.includes(this.utenteLoggato)&&""!=this.utenteLoggato}checkIfVote(){return this.macroFull.macro.utenti.includes(this.utenteLoggato)}likeIt(){const e=this.service.addLikeMacro(this.macroFull.macro.guid,this.utenteLoggato).subscribe(i=>{i&&(this.getMacro(),e.unsubscribe())})}share(){const e=this.macroFull.macro,i=window.location.href,r=new URLSearchParams;r.set("link",e.guid);const o=`${i}?${r.toString()}`;this.dialog.open(iAe,{width:"500px",data:{link:o}})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(vf),s.Y36(mM),s.Y36(Qm),s.Y36(Cf),s.Y36(wy),s.Y36(yd),s.Y36(Bs))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-macro-insert-edit"]],inputs:{macroMultiInsert:"macroMultiInsert"},outputs:{editMacro:"editMacro"},features:[s.TTD],decls:15,vars:16,consts:[["fxLayout","column","fxLayoutAlign","space-around stretch"],[1,"cont",3,"ngStyle","ngClass"],["class","edit",4,"ngIf"],[4,"ngIf"],["fxLayout","column",4,"ngIf"],["style","width:100%;text-align: center; ",4,"ngIf"],["class","customTextArea",4,"ngIf"],[2,"padding-top","2vh"],["mat-raised-button","","color","accent","style","width:100%",3,"disabled","click",4,"ngIf"],["class","customTextArea","style","text-align: left;",4,"ngIf"],["id","targetRed",2,"padding-top","1vh","width","100%"],[1,"edit"],["mat-mini-fab","","matTooltip","Elimina","color","warn",2,"margin-right","1vw",3,"click"],["mat-mini-fab","","matTooltip","Modifica",3,"click",4,"ngIf"],["mat-mini-fab","","matTooltip","Condividi","color","primary",2,"margin-left","1vw",3,"click"],["mat-mini-fab","","matTooltip","Modifica",3,"click"],["mat-mini-fab","","matTooltip","Mi piace","color","primary",3,"click"],["mat-mini-fab","","matTooltip","Non mi piace",2,"background-color","grey",3,"click"],["fxLayout","column"],["matInput","",3,"readonly","ngModel","ngModelChange"],["matInput","",3,"formControl","readonly","keyup"],["matInput","","type","number","minlength","0","min","0",3,"formControl","readonly","change"],["appTextareaAutosize","","placeholder","Descrizione...",1,"text-inputSmart",3,"formControl","readonly","keyup"],["appearance","fill",2,"padding-top","2vh"],[3,"ngModel","ngModelChange"],[3,"value","disabled","click",4,"ngFor","ngForOf"],[1,"customTextArea",2,"text-align","left"],[4,"ngFor","ngForOf"],[3,"value","disabled","click"],["matInput","",3,"readonly","formControl","ngModel"],["matInput","",3,"formControl","readonly"],["matInput","","type","number","minlength","0","min","0",3,"formControl","readonly"],["appTextareaAutosize","","placeholder","Descrizione...",1,"text-inputSmart",3,"formControl","readonly"],[3,"formControl"],[3,"value","disabled",4,"ngFor","ngForOf"],["style","text-align: center;",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],[3,"value","disabled"],[2,"text-align","center"],[1,"customTextArea"],["fxLayout","column",4,"ngFor","ngForOf"],["mat-icon-button","",3,"click"],["matTooltip","Aggiungi una nuova macro","class","Custom",4,"ngIf"],[1,"delete"],["matTooltip","Elimina Macro",4,"ngIf"],["appearance","fill"],[1,"label"],[3,"compareWith","ngModel"],["fxFlex","",3,"value","click",4,"ngFor","ngForOf"],["appearance","fill",4,"ngIf"],["matTooltip","Elimina Macro"],["fxFlex","",3,"value","click"],["matInput","","type","text",3,"keyup"],["matTooltip","Aggiungi una nuova macro",1,"Custom"],["mat-raised-button","","color","primary",3,"disabled","click"],[2,"width","100%","text-align","center"],["fxFlex","",3,"value","disabled","click",4,"ngFor","ngForOf"],["fxFlex","",3,"value","disabled","click"],["matInput","","type","text",3,"ngModel","readonly","keyup"],["mat-raised-button","","color","accent",2,"width","100%",3,"disabled","click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"mat-card",1),s.YNc(2,wAe,8,1,"div",2),s.YNc(3,bAe,7,0,"div",2),s.YNc(4,CAe,7,0,"div",2),s.YNc(5,xAe,4,0,"div",2),s.TgZ(6,"mat-card-content"),s.YNc(7,BAe,23,12,"div",3),s.YNc(8,VAe,23,14,"div",4),s.YNc(9,jAe,2,0,"b",5),s.YNc(10,WAe,4,2,"div",6),s._UZ(11,"div",7),s.YNc(12,JAe,2,1,"button",8),s.YNc(13,nfe,2,1,"div",9),s.qZA()()(),s._UZ(14,"div",10)),2&e&&(s.xp6(1),s.Q6J("ngStyle",s.VKq(12,ife,i.macroMultiInsert&&!i.macroMultiInsert.checked?"grey":""))("ngClass",s.VKq(14,rfe,i.multiInsert)),s.xp6(1),s.Q6J("ngIf",i.isUpdateable&&i.detail),s.xp6(1),s.Q6J("ngIf",!i.isUpdateable&&i.detail&&i.checkThumb()),s.xp6(1),s.Q6J("ngIf",!i.isUpdateable&&i.detail&&i.checkIfVote()),s.xp6(1),s.Q6J("ngIf",!i.utenteLoggato&&i.detail&&!i.multiInsert),s.xp6(2),s.Q6J("ngIf",i.multiInsert),s.xp6(1),s.Q6J("ngIf",!i.multiInsert),s.xp6(1),s.Q6J("ngIf",i.edit&&!i.detail&&!i.insert&&!i.multiInsert),s.xp6(1),s.Q6J("ngIf",i.edit&&!i.detail&&!i.insert),s.xp6(2),s.Q6J("ngIf",i.edit&&!i.multiInsert),s.xp6(1),s.Q6J("ngIf",i.detail&&!i.edit&&!i.insert&&!i.multiInsert))},dependencies:[ms,ds,Li,Jo,Sy,CT,B0,n3,e3,xT,Hm,Ah,ju,_A,ac,nR,iR,I0,qb,eq,zx,Zb,Kx,Bb,Zx,Ey,mT],styles:[".cont[_ngcontent-%COMP%]{border:2px solid #004a9f;border-radius:5px}.panel[_ngcontent-%COMP%]{height:45vh;overflow-y:auto}.text-inputSmart[_ngcontent-%COMP%]{resize:none;height:80px}.customTextArea[_ngcontent-%COMP%]{border:1px solid black;width:100%;text-align:center}.Custom[_ngcontent-%COMP%]{color:#004a9f}.miniSelect[_ngcontent-%COMP%]{width:10px}hr[_ngcontent-%COMP%]{border:2px solid #004a9f}.edit[_ngcontent-%COMP%]{text-align:right;width:100%;height:5vh}.delete[_ngcontent-%COMP%]{text-align:right;width:100%;color:red}"]}),n})(),sfe=(()=>{class n{constructor(e,i,r,o){this.data=e,this.userService=i,this.service=r,this.dialog=o,this.macros=new Array,this.macro=new cS,this.index=0,this.checkAll=!0,null!=e.macros&&(this.macros=e.macros)}ngOnInit(){this.macro=this.macros[0],this.checkUser()}changeScheda(e){"right"==e&&this.index<this.macros.length-1?this.index++:"left"==e&&this.index>0&&this.index--,this.macro=this.macros[this.index]}resetMacro(){this.macro.checked||(this.macro.macro.tipologia=""),this.checkAllMacro(),this.checkedMacros()}checkUser(){const e=this.userService.userLoggato;e?this.macros.forEach(i=>i.macro.macro.author=e.username):this.userService.openSnackBar("registrazioneFallita","bottom","center","Effettua prima la login")}setMacro(e){this.macro=e,this.checkAllMacro()}saveAll(){this.checkAllMacro()||this.macros.filter(i=>1==i.checked).forEach(i=>{let r=new wC;r.descrizione=i.macro.descrizione,r.macro.author=i.macro.macro.author,r.macro.delay=i.macro.macro.delay,r.macro.tipologia=i.macro.tipologia,r.macro.title=i.macro.macro.title,r.macro.date=new Date,r.macro.like=0,r.macro.guid=crypto.randomUUID(),r.settings=this.orderMacro(i.settings),this.service.addMacros(r)}),this.dialog.closeAll()}orderMacro(e){for(let i=0;i<e.length;i++)e[i].index=i;return e}checkAllMacro(){let e=!1,i=!1;return this.macros.forEach(r=>{r.checked&&(e=""==r.macro.macro.author||null==r.settings[0]||r.macro.macro.delay<0||""==r.macro.tipologia||0==r.macro.macro.title.length,e&&(i=e))}),0==this.macros.filter(r=>1==r.checked).length&&(i=!0),i}checkedMacros(){return this.macros.filter(e=>1==e.checked).length==this.macros.length?(this.checkAll=!0,"primary"):0!==this.macros.filter(e=>1==e.checked).length?(this.checkAll=!0,"accent"):0==this.macros.filter(e=>1==e.checked).length?"warn":null}setAllChecked(e){e?(this.checkAll=!0,this.macros.forEach(i=>i.checked=!0)):(this.checkAll=!1,this.macros.forEach(i=>i.checked=!1))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Qm),s.Y36(Cf),s.Y36(mM),s.Y36(wy))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-macro-multi-insert"]],decls:27,vars:8,consts:[[3,"color","ngModel","ngModelChange","change"],["fxLayout","row","fxLayoutAlign","space-around center",1,"skipScheda"],["color","primary",3,"ngModel","ngModelChange","change"],["fxFlex",""],["mat-icon-button","",3,"click"],[2,"color","black"],[1,"panel",3,"multiInsert","macroMultiInsert","editMacro"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,i){1&e&&(s.TgZ(0,"section")(1,"mat-checkbox",0),s.NdJ("ngModelChange",function(o){return i.checkAll=o})("change",function(o){return i.setAllChecked(o.checked)}),s.TgZ(2,"b"),s._uU(3,"Seleziona tutto"),s.qZA()()(),s.TgZ(4,"div",1)(5,"section")(6,"mat-checkbox",2),s.NdJ("ngModelChange",function(o){return i.macro.checked=o})("change",function(){return i.resetMacro()}),s.TgZ(7,"b"),s._uU(8,"Inserisci Macro"),s.qZA()()(),s.TgZ(9,"div",3)(10,"button",4),s.NdJ("click",function(){return i.changeScheda("left")}),s.TgZ(11,"mat-icon"),s._uU(12,"keyboard_arrow_left"),s.qZA()(),s.TgZ(13,"b",5),s._uU(14),s.qZA(),s.TgZ(15,"button",4),s.NdJ("click",function(){return i.changeScheda("right")}),s.TgZ(16,"mat-icon"),s._uU(17,"keyboard_arrow_right"),s.qZA()()()(),s.TgZ(18,"app-macro-insert-edit",6),s.NdJ("editMacro",function(o){return i.setMacro(o)}),s.qZA(),s.TgZ(19,"div",7)(20,"h6"),s._uU(21,'*Per salvare le macro selezionate ricorda di valorizzare il campo "tipologia" '),s._UZ(22,"br"),s._uU(23,"\n*Per rendere la tua macro facilmente ricercabile dalle un titolo semplice, esplicativo e breve"),s.qZA(),s.TgZ(24,"div")(25,"button",8),s.NdJ("click",function(){return i.saveAll()}),s._uU(26,"Salva"),s.qZA()()()),2&e&&(s.xp6(1),s.Q6J("color",i.checkedMacros())("ngModel",i.checkAll),s.xp6(5),s.Q6J("ngModel",i.macro.checked),s.xp6(8),s.AsE("",i.index+1,"/",i.macros.length,""),s.xp6(4),s.Q6J("multiInsert",!0)("macroMultiInsert",i.macro),s.xp6(7),s.Q6J("disabled",i.checkAllMacro()))},dependencies:[B0,Hm,Ah,ju,_A,ac,qb,IT,Oq],styles:[".skipScheda[_ngcontent-%COMP%]{width:100%;text-align:right;color:#004a9f}"]}),n})();function ofe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-option",31),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.applyFilter(o,"tipologia"))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" ",e," ")}}function afe(n,t){1&n&&(s.TgZ(0,"mat-header-cell"),s._uU(1," Data "),s.qZA())}function lfe(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.ALo(2,"date"),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",s.xi3(2,1,e.date,"dd.MM.y")," ")}}function cfe(n,t){1&n&&(s.TgZ(0,"mat-header-cell",32),s._uU(1," Autore "),s.qZA())}function ufe(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.author," ")}}function dfe(n,t){1&n&&(s.TgZ(0,"mat-header-cell",33),s._uU(1," Titolo "),s.qZA())}function hfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-cell")(1,"div",34),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.detailMacro(o.guid))}),s._uU(2),s.qZA()()}if(2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.title)}}function Afe(n,t){1&n&&(s.TgZ(0,"mat-header-cell",35),s._uU(1," Like "),s.qZA())}function ffe(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.like," ")}}function pfe(n,t){1&n&&(s.TgZ(0,"mat-header-cell",36),s._uU(1,"Tipologia "),s.qZA())}function gfe(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.tipologia," ")}}function mfe(n,t){1&n&&s._UZ(0,"mat-header-cell")}function _fe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",39),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(2);return s.KtG(o.likeIt(r.guid))}),s.TgZ(1,"mat-icon",40),s._uU(2,"thumb_up"),s.qZA()()}}function yfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",41),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(2);return s.KtG(o.likeIt(r.guid))}),s.TgZ(1,"mat-icon",42),s._uU(2,"thumb_up"),s.qZA()()}}function vfe(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s.YNc(1,_fe,3,0,"button",37),s.YNc(2,yfe,3,0,"button",38),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(2);s.xp6(1),s.Q6J("ngIf",i.checkThumb(e)),s.xp6(1),s.Q6J("ngIf",i.checkIfVote(e))}}function wfe(n,t){1&n&&s._UZ(0,"mat-header-row")}function bfe(n,t){1&n&&s._UZ(0,"mat-header-row")}const Lq=function(){return[5,10]};function Cfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"mat-form-field",4)(4,"mat-label"),s._uU(5,"Autore"),s.qZA(),s.TgZ(6,"input",5),s.NdJ("keyup",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.applyFilter(r.target,"author"))}),s.qZA()(),s.TgZ(7,"mat-form-field",4)(8,"mat-label"),s._uU(9,"Titolo"),s.qZA(),s.TgZ(10,"input",5),s.NdJ("keyup",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.applyFilter(r.target,"macro"))}),s.qZA()(),s.TgZ(11,"mat-form-field",6)(12,"mat-label"),s._uU(13,"Tipologia"),s.qZA(),s.TgZ(14,"mat-select",7),s.YNc(15,ofe,2,2,"mat-option",8),s.qZA()()(),s.TgZ(16,"mat-table",9),s.NdJ("matSortChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.sortData(r))}),s.ynx(17,10),s.YNc(18,afe,2,0,"mat-header-cell",11),s.YNc(19,lfe,3,4,"mat-cell",12),s.BQk(),s.ynx(20,13),s.YNc(21,cfe,2,0,"mat-header-cell",14),s.YNc(22,ufe,2,1,"mat-cell",12),s.BQk(),s.ynx(23,15),s.YNc(24,dfe,2,0,"mat-header-cell",16),s.YNc(25,hfe,3,1,"mat-cell",12),s.BQk(),s.ynx(26,17),s.YNc(27,Afe,2,0,"mat-header-cell",18),s.YNc(28,ffe,2,1,"mat-cell",12),s.BQk(),s.ynx(29,19),s.YNc(30,pfe,2,0,"mat-header-cell",20),s.YNc(31,gfe,2,1,"mat-cell",12),s.BQk(),s.ynx(32,21),s.YNc(33,mfe,1,0,"mat-header-cell",11),s.YNc(34,vfe,3,2,"mat-cell",12),s.BQk(),s.YNc(35,wfe,1,0,"mat-header-row",22),s.YNc(36,bfe,1,0,"mat-header-row",23),s.qZA(),s.TgZ(37,"mat-toolbar",24)(38,"mat-toolbar-row")(39,"button",25),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.insertMacro())}),s.TgZ(40,"mat-icon",26),s._uU(41,"add_circle"),s.qZA()(),s.TgZ(42,"button",25),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.fileInput())}),s.TgZ(43,"mat-icon",27),s._uU(44,"add_to_photos"),s.qZA()(),s.TgZ(45,"input",28),s.NdJ("change",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.openMultiInsert(r))}),s.qZA(),s.TgZ(46,"div",29),s._UZ(47,"mat-paginator",30),s.qZA()()()()()}if(2&n){const e=s.oxw();s.xp6(6),s.Q6J("formControl",e.macroFullForm.controls.author),s.xp6(4),s.Q6J("formControl",e.macroFullForm.controls.macro),s.xp6(4),s.Q6J("formControl",e.macroFullForm.controls.tipologia),s.xp6(1),s.Q6J("ngForOf",e.tipologieMacro),s.xp6(1),s.Q6J("dataSource",e.dataSource),s.xp6(19),s.Q6J("matHeaderRowDef",e.displayedColumns),s.xp6(1),s.Q6J("matRowDefColumns",e.displayedColumns),s.xp6(11),s.Q6J("pageSizeOptions",s.DdM(8,Lq))}}function xfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-option",31),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.applyFilter(o,"tipologia"))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" ",e," ")}}function Efe(n,t){1&n&&(s.TgZ(0,"mat-header-cell"),s._uU(1," Data "),s.qZA())}function Sfe(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.ALo(2,"date"),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",s.xi3(2,1,e.date,"dd.MM.y")," ")}}function Ife(n,t){1&n&&(s.TgZ(0,"mat-header-cell",32),s._uU(1," Autore "),s.qZA())}function Dfe(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.author," ")}}function Tfe(n,t){1&n&&(s.TgZ(0,"mat-header-cell",33),s._uU(1," Titolo "),s.qZA())}function Bfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-cell")(1,"div",34),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.detailMacro(o.guid))}),s._uU(2),s.qZA()()}if(2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.title)}}function Ffe(n,t){1&n&&(s.TgZ(0,"mat-header-cell",35)(1,"mat-icon",40),s._uU(2,"thumb_up"),s.qZA()())}function Mfe(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.like," ")}}function kfe(n,t){1&n&&(s.TgZ(0,"mat-header-cell",36),s._uU(1,"Tipo "),s.qZA())}function Rfe(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.tipologia," ")}}function Ofe(n,t){1&n&&s._UZ(0,"mat-header-row")}function Lfe(n,t){1&n&&s._UZ(0,"mat-header-row")}function Nfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1)(1,"div",43)(2,"div",3)(3,"mat-form-field",4)(4,"mat-label"),s._uU(5,"Autore"),s.qZA(),s.TgZ(6,"input",5),s.NdJ("keyup",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.applyFilter(r.target,"author"))}),s.qZA()(),s.TgZ(7,"mat-form-field",4)(8,"mat-label"),s._uU(9,"Macro"),s.qZA(),s.TgZ(10,"input",5),s.NdJ("keyup",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.applyFilter(r.target,"macro"))}),s.qZA()(),s.TgZ(11,"mat-form-field",6)(12,"mat-label"),s._uU(13,"Tipologia"),s.qZA(),s.TgZ(14,"mat-select",7),s.YNc(15,xfe,2,2,"mat-option",8),s.qZA()()(),s.TgZ(16,"mat-table",9),s.NdJ("matSortChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.sortData(r))}),s.ynx(17,10),s.YNc(18,Efe,2,0,"mat-header-cell",11),s.YNc(19,Sfe,3,4,"mat-cell",12),s.BQk(),s.ynx(20,13),s.YNc(21,Ife,2,0,"mat-header-cell",14),s.YNc(22,Dfe,2,1,"mat-cell",12),s.BQk(),s.ynx(23,15),s.YNc(24,Tfe,2,0,"mat-header-cell",16),s.YNc(25,Bfe,3,1,"mat-cell",12),s.BQk(),s.ynx(26,17),s.YNc(27,Ffe,3,0,"mat-header-cell",18),s.YNc(28,Mfe,2,1,"mat-cell",12),s.BQk(),s.ynx(29,19),s.YNc(30,kfe,2,0,"mat-header-cell",20),s.YNc(31,Rfe,2,1,"mat-cell",12),s.BQk(),s.YNc(32,Ofe,1,0,"mat-header-row",22),s.YNc(33,Lfe,1,0,"mat-header-row",23),s.qZA(),s.TgZ(34,"mat-toolbar",24)(35,"mat-toolbar-row")(36,"button",25),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.insertMacro())}),s.TgZ(37,"mat-icon",26),s._uU(38,"add_circle"),s.qZA()(),s.TgZ(39,"div",29),s._UZ(40,"mat-paginator",30),s.qZA()()()()()}if(2&n){const e=s.oxw();s.xp6(6),s.Q6J("formControl",e.macroFullForm.controls.author),s.xp6(4),s.Q6J("formControl",e.macroFullForm.controls.macro),s.xp6(4),s.Q6J("formControl",e.macroFullForm.controls.tipologia),s.xp6(1),s.Q6J("ngForOf",e.tipologieMacro),s.xp6(1),s.Q6J("dataSource",e.dataSource),s.xp6(16),s.Q6J("matHeaderRowDef",e.getDisplayedColumns()),s.xp6(1),s.Q6J("matRowDefColumns",e.getDisplayedColumns()),s.xp6(7),s.Q6J("pageSizeOptions",s.DdM(8,Lq))}}let Pfe=(()=>{class n{constructor(e,i,r,o,a){this.utils=e,this.service=i,this.dialog=r,this.userService=o,this.activated=a,this.macroFullForm=new zb({author:new Rs(""),macro:new Rs(""),tipologia:new Rs("")}),this.user="",this.filtroData="",this.displayedColumns=["autore","data","like","tipologia","title","likeIt"],this.dataSource=new Dq,this.sortedData=new Array,this.tipologieMacro=new Array,this.isLoggedIn=!1}ngOnInit(){var e;this.getMacros(),this.userService.isLoggedInObs.subscribe(i=>{this.isLoggedIn=i,this.checkUser(),this.getLink()}),this.tipologieMacro=this.service.GetTipologieMacro().slice(),this.tipologieMacro.push("Tutte"),null===(e=this.macroFullForm.get("tipologia"))||void 0===e||e.setValue("Tutte")}getLink(){const e=this.activated.snapshot.queryParamMap.get("link");e&&this.detailMacro(e)}getMacros(){this.service.getMacros().subscribe(e=>{this.dataSource=new Dq(e),this.sortedData=this.dataSource.data.slice(),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(e,i){if("tipologia"!=i){let r=e.value.trim().toLowerCase();this.dataSource.filter=r}else this.dataSource.data="Tutte"!=e?this.sortedData.filter(r=>r.tipologia.includes(e)):this.sortedData}sortData(e){const i=this.dataSource.data.slice();e.active&&""!==e.direction?(this.sortedData=i.sort((r,o)=>{const a="asc"===e.direction;switch(e.active){case"author":return this.compare(r.author,o.author,a);case"like":return this.compare(r.like,o.like,a);case"title":return this.compare(r.title,o.title,a);case"tiplogia":return this.compare(r.tipologia,o.tipologia,a);default:return 0}}),this.dataSource.data=this.sortedData):this.sortedData=i}compare(e,i,r){return(e<i?-1:1)*(r?1:-1)}getDisplayedColumns(){return this.displayedColumns=["autore","tipologia","title","like"]}detailMacro(e){this.dialogInsertEdit(e,!1)}insertMacro(){this.user?this.dialogInsertEdit(-1,!0).afterClosed().subscribe(i=>{this.getMacros()}):this.userService.openSnackBar("registrazioneFallita","bottom","center","Effettua prima la login")}dialogInsertEdit(e=-1,i=!1){return this.dialog.open(Oq,{data:{id:e,insert:i},width:this.utils.isSmartphone()?"100vw":"50vw",height:this.utils.isSmartphone()?"90vh":"70vh"})}checkUser(){const e=this.userService.userLoggato;e&&(this.user=e.username)}checkThumb(e){return this.isLoggedIn&&""!=this.user&&this.user!=e.author&&!e.utenti.includes(this.user)}checkIfVote(e){return e.utenti.includes(this.user)&&this.isLoggedIn}likeIt(e){this.service.addLikeMacro(e,this.user)}fileInput(){var e;""!=this.user&&null!=this.user?null===(e=document.getElementById("fileInput"))||void 0===e||e.click():this.userService.openSnackBar("registrazioneFallita","bottom","center","Effettua prima la login")}openMultiInsert(e){var i=this;return(0,bt.Z)(function*(){var r=e.target.files[0];if("macros.xml"!=r.name)return void alert("Inserisci il file macros.xml! (The Miracle/Data/Profiles/nomeAccount/The Miracle 3/nomePg/macros.xml)");const a=i.utils.getAllMacrosByXml(yield r.text()).subscribe(u=>{u.length>0?(i.dialog.open(sfe,{data:{macros:u},width:i.utils.isSmartphone()?"100vw":"45vw",height:i.utils.isSmartphone()?"90vh":"74vh"}),a.unsubscribe()):alert("Nessuna macro presente nel file macros.xml!")});e.target.value=null})()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(vf),s.Y36(mM),s.Y36(wy),s.Y36(Cf),s.Y36(yd))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-macro-list"]],viewQuery:function(e,i){if(1&e&&(s.Gf(o3,5),s.Gf(a3,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.paginator=r.first),s.iGM(r=s.CRH())&&(i.sort=r.first)}},decls:2,vars:2,consts:[["fxFlex","100","fxLayout","row","fxLayoutAlign","center center",4,"ngIf"],["fxFlex","100","fxLayout","row","fxLayoutAlign","center center"],["fxFlex","","fxLayout","column","fxLayoutAlign","space-around stretch","fxFlex","70",2,"padding-top","3vh"],["fxFlex","100","fxLayout","row wrap","fxLayoutAlign","space-around center",1,"input"],["fxFlex","30"],["matInput","",3,"formControl","keyup"],["appearance","fill","fxFlex","30"],[3,"formControl"],[3,"value","click",4,"ngFor","ngForOf"],["fxFlex","100","fxLayout","column","matSort","",1,"table",3,"dataSource","matSortChange"],["matColumnDef","data"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","autore"],["mat-sort-header","author","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","title"],["mat-sort-header","title","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","like"],["mat-sort-header","like","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","tipologia"],["mat-sort-header","tipologia","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","likeIt"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[2,"background-color","white"],["mat-icon-button","",3,"click"],["matTooltip","Aggiungi una nuova macro",1,"Custom"],["matTooltip","Importa file macros.xml",1,"Custom"],["type","file","hidden","","type","file","id","fileInput","accept",".xml",3,"change"],[2,"width","100%","padding","0"],["showFirstLastButtons","",1,"paginator",3,"pageSizeOptions"],[3,"value","click"],["mat-sort-header","author","mat-header-cell",""],["mat-sort-header","title","mat-header-cell",""],[1,"macro",3,"click"],["mat-sort-header","like","mat-header-cell",""],["mat-sort-header","tipologia","mat-header-cell",""],["mat-button","","matTooltip","Mi piace",3,"click",4,"ngIf"],["mat-button","","matTooltip","Non mi piace",3,"click",4,"ngIf"],["mat-button","","matTooltip","Mi piace",3,"click"],[1,"Custom"],["mat-button","","matTooltip","Non mi piace",3,"click"],[2,"color","grey"],["fxFlex","","fxLayout","column","fxLayoutAlign","space-around stretch","fxFlex","100",2,"padding-top","3vh"]],template:function(e,i){1&e&&(s.YNc(0,Cfe,48,9,"div",0),s.YNc(1,Nfe,41,9,"div",0)),2&e&&(s.Q6J("ngIf",!i.utils.isSmartphone()),s.xp6(1),s.Q6J("ngIf",i.utils.isSmartphone()))},dependencies:[ds,Li,Sy,B0,xT,uz,S4,Hm,Ah,ju,_A,ac,I0,zx,Zb,Kx,Bb,Zx,o3,a3,vhe,xq,y3,Eq,v3,_3,Sq,w3,b3,Iq,IA],styles:[".macro[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;cursor:pointer;font-weight:700;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical}.macro[_ngcontent-%COMP%]:hover{color:#004a9f;font-weight:700}.Custom[_ngcontent-%COMP%]{color:#004a9f}mat-header-cell[_ngcontent-%COMP%]{color:#004a9f;font-weight:700}"]}),n})(),Ufe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-macro"]],decls:2,vars:0,consts:[["fxFlex",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"app-macro-list",0),s.qZA())},dependencies:[ac,Pfe]}),n})();const Qfe=["primaryValueBar"],Hfe=A0(class{constructor(n){this._elementRef=n}},"primary"),Vfe=new s.OlP("mat-progress-bar-location",{providedIn:"root",factory:function jfe(){const n=(0,s.f3M)(Ke),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),Gfe=new s.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let zfe=0,Nq=(()=>{class n extends Hfe{constructor(e,i,r,o,a,u){super(e),this._ngZone=i,this._animationMode=r,this._changeDetectorRef=u,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new s.vpe,this._animationEndSubscription=Po.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+zfe++;const h=o?o.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${h}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===r,a&&(a.color&&(this.color=this.defaultColor=a.color),this.mode=a.mode||this.mode)}get value(){return this._value}set value(e){this._value=Pq(su(e)||0),this._changeDetectorRef?.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(e){this._bufferValue=Pq(e||0),this._changeDetectorRef?.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=h0(e,"transitionend").pipe(_i(i=>i.target===e)).subscribe(()=>{0!==this.animationEnd.observers.length&&("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.QbO,8),s.Y36(Vfe,8),s.Y36(Gfe,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(e,i){if(1&e&&s.Gf(Qfe,5),2&e){let r;s.iGM(r=s.CRH())&&(i._primaryValueBar=r.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,i){2&e&&(s.uIk("aria-valuenow","indeterminate"===i.mode||"query"===i.mode?null:i.value)("mode",i.mode),s.ekj("_mat-animation-noopable",i._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[s.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.O4$(),s.TgZ(1,"svg",1)(2,"defs")(3,"pattern",2),s._UZ(4,"circle",3),s.qZA()(),s._UZ(5,"rect",4),s.qZA(),s.kcU(),s._UZ(6,"div",5)(7,"div",6,7)(9,"div",8),s.qZA()),2&e&&(s.xp6(3),s.Q6J("id",i.progressbarId),s.xp6(2),s.uIk("fill",i._rectangleFillValue),s.xp6(1),s.Q6J("ngStyle",i._bufferTransform()),s.xp6(1),s.Q6J("ngStyle",i._primaryTransform()))},dependencies:[Jo],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}.mat-progress-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}'],encapsulation:2,changeDetection:0}),n})();function Pq(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let qfe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[ea,hr,hr]}),n})();function Kfe(n,t){1&n&&(s.TgZ(0,"span",18),s._uU(1," collections_bookmark "),s.qZA())}function Zfe(n,t){1&n&&(s.TgZ(0,"span",18),s._uU(1," music_note "),s.qZA())}function $fe(n,t){1&n&&(s.TgZ(0,"span",18),s._uU(1," receipt_long "),s.qZA())}function Yfe(n,t){1&n&&(s.TgZ(0,"span",18),s._uU(1," school "),s.qZA())}function Wfe(n,t){1&n&&(s.TgZ(0,"span",18),s._uU(1," auto_fix "),s.qZA())}function Jfe(n,t){1&n&&(s.TgZ(0,"span",18),s._uU(1," swords "),s.qZA())}function Xfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",19),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw().$implicit;return s.KtG(o.value=r)})("keyup",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw();return s.KtG(o.checkNumber(r))}),s.qZA()}if(2&n){const e=s.oxw().$implicit;s.Q6J("ngModel",e.value)}}function epe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li")(1,"div",14)(2,"button",15),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.setSkill(o))}),s.YNc(3,Kfe,2,0,"span",16),s.YNc(4,Zfe,2,0,"span",16),s.YNc(5,$fe,2,0,"span",16),s.YNc(6,Yfe,2,0,"span",16),s.YNc(7,Wfe,2,0,"span",16),s.YNc(8,Jfe,2,0,"span",16),s._uU(9),s.qZA(),s.YNc(10,Xfe,1,1,"input",17),s.qZA()()}if(2&n){const e=t.$implicit;s.xp6(2),s.Q6J("color",e.isChecked?"primary":"white"),s.xp6(1),s.Q6J("ngIf",4==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",5==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",0==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",3==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",2==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",1==e.idTipologiaSkill),s.xp6(1),s.hij(" ",e.nome," "),s.xp6(1),s.Q6J("ngIf",e.isChecked)}}function tpe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",20),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.reset())}),s._uU(1,"Reset "),s.TgZ(2,"mat-icon"),s._uU(3,"undo"),s.qZA()()}}function npe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",21),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.salvaSkills())}),s._uU(1,"Salva "),s.TgZ(2,"mat-icon"),s._uU(3,"done"),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("disabled",e.valueTotale>1200)}}const ipe=function(n){return{content:n}};let rpe=(()=>{class n{constructor(e,i,r,o){this.service=e,this.utils=i,this.dialogRef=r,this.data=o,this.classe=new OD,this.tipologieSkill=new Array,this.skillDiClasse=new Array,this.combattive=new Array,this.miscellanee=new Array,this.musicali=new Array,this.magiche=new Array,this.lavorative=new Array,this.conoscitive=new Array,this.skillsComplessive=new Array,this.skillForm=new Rs(0,[Ia.required]),this.arraySkills=new Array,this.valueTotale=0,this.salva=!1,this.skillScelte=new Array,this.isSmartphone=!1,this.skills=new Array,this.expanded=!0,this.classe=o?.classe,this.skills=o?.skills}ngOnInit(){this.isSmartphone=this.utils.isSmartphone(),this.reload()}setSkill(e){e.isChecked?(e.isChecked=!1,e.value=0,this.removeSkill(e)):(e.isChecked=!0,e.value=100,this.skillScelte.push(e)),this.resultSkills()}checkNumber(e){let i="cercare minerali"==e.nome.toLowerCase()||"fare legna"==e.nome.toLowerCase()||"pescare"==e.nome.toLowerCase()||"erboristeria"==e.nome.toLowerCase()||"agricoltura"==e.nome.toLowerCase();0==e.idTipologiaSkill&&e.value>200&&!i&&(e.value=200),(e.idTipologiaSkill>0||i)&&e.value>100&&(e.value=100),e.value<0&&(e.value=0),this.updateSkill(e),this.resultSkills()}getStandardSkills(e){let i=LD.ConvertToSkillsChecked(e);return i.forEach(r=>{r.value=100,r.isChecked=!0}),i}setStandardSkills(e,i=-1){return this.skillDiClasse.forEach(r=>{let o=e.findIndex(a=>a.id==r.id);-1!=o&&(-1==i?(e[o].isChecked=!0,e[o].value=100):(e[o].isChecked=!1,e[o].value=0))}),e}setAll(e){e.checked?(this.skillsComplessive=this.setStandardSkills(this.skillsComplessive),this.getSkillsChecked()):this.skillsComplessive=this.setStandardSkills(this.skillsComplessive,1),this.resultSkills()}resultSkills(){this.valueTotale=0,this.valueTotale+=this.skillsComplessive.reduce((e,i)=>e+i.value,0)}reload(){this.service.getClasseSkills(this.classe.nome).subscribe(e=>{this.skillDiClasse=this.getStandardSkills(e),this.service.getAllSkills().subscribe(i=>{this.skillsComplessive=LD.ConvertToSkillsChecked(i),this.reloadSkills()})})}removeSkill(e){this.skillScelte=this.skillScelte.filter(i=>i.id!==e.id)}updateSkill(e){var i=this.skillScelte.findIndex(r=>r.id==e.id);this.skillScelte[i].value=e.value}salvaSkills(){this.getSkillsChecked(),this.dialogRef.close({data:this.skillScelte})}reloadSkills(){this.skills.length>0&&(this.skills.forEach(e=>{var i;let r=this.skillsComplessive.findIndex(o=>o.id==e.id);void 0!==(null===(i=this.skillsComplessive[r])||void 0===i?void 0:i.value)&&(this.skillsComplessive[r].value=e.value,this.skillsComplessive[r].isChecked=e.isChecked)}),this.resultSkills())}getSkillsChecked(){this.skillScelte=new Array,this.skillScelte=this.skillScelte.concat(this.skillsComplessive.filter(e=>e.isChecked&&e.value>0))}reset(){this.skillsComplessive.forEach(e=>{e.value=0,e.isChecked=!1}),this.valueTotale=0,this.skillScelte=new Array}spazioSmartphone(){return{"margin-top":this.utils.isSmartphone()?"150em":"135em"}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(E0),s.Y36(vf),s.Y36(S0),s.Y36(Qm))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-modale-skills"]],decls:24,vars:12,consts:[["mat-dialog-title","","fxLayout","column","fxLayoutAlign","space-around"],[2,"margin-top","0.5em"],["mode","determinate",3,"color","value"],["fxFlex","","fxlayout","column",2,"margin-top","0.5em"],["fxFlex","","fxlayout","column",1,"example-section"],["color","primary",1,"example-margin",2,"margin-left","12px",3,"change"],["fxLayout","column","fxLayoutAlign","space-around",3,"ngClass"],["fxFlex","","fxLayout","column",1,"home",3,"ngStyle"],["fxLayout","column",1,"skills"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-around center"],[2,"margin-top","1%"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["fxFlex",""],["mat-raised-button","","fxFlex","",1,"skill",3,"color","click"],["class","material-symbols-outlined",4,"ngIf"],["class","value","matInput","","type","number","fxFlex","30","placeholder","Valore skill",3,"ngModel","ngModelChange","keyup",4,"ngIf"],[1,"material-symbols-outlined"],["matInput","","type","number","fxFlex","30","placeholder","Valore skill",1,"value",3,"ngModel","ngModelChange","keyup"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,i){1&e&&(s.TgZ(0,"div")(1,"div",0)(2,"span"),s._uU(3,"Scegli le skills del tuo pg"),s.qZA(),s.TgZ(4,"div",1),s._UZ(5,"mat-progress-bar",2),s.qZA(),s.TgZ(6,"div",3)(7,"h4"),s._uU(8,"Totale skills selezionate: "),s.TgZ(9,"u"),s._uU(10),s.qZA(),s._uU(11,"/1200"),s.qZA()(),s.TgZ(12,"section",4)(13,"mat-checkbox",5),s.NdJ("change",function(o){return i.setAll(o)}),s._uU(14,"Applica skills consigliate"),s.qZA()()(),s.TgZ(15,"mat-dialog-content",6)(16,"div",7)(17,"div",8),s.YNc(18,epe,11,9,"li",9),s.qZA()()(),s.TgZ(19,"mat-toolbar-row",10)(20,"div",11),s.YNc(21,tpe,4,0,"button",12),s.qZA(),s.TgZ(22,"div",11),s.YNc(23,npe,4,1,"button",13),s.qZA()()()),2&e&&(s.xp6(5),s.Q6J("color",i.valueTotale<=1200?"primary":"warn")("value",i.valueTotale/12),s.xp6(4),s.Udp("color",i.valueTotale>1200?"red":"#004a9f"),s.xp6(1),s.Oqu(i.valueTotale),s.xp6(5),s.Q6J("ngClass",s.VKq(10,ipe,i.utils.isSmartphone())),s.xp6(1),s.Q6J("ngStyle",i.spazioSmartphone()),s.xp6(2),s.Q6J("ngForOf",i.skillsComplessive),s.xp6(3),s.Q6J("ngIf",i.expanded),s.xp6(2),s.Q6J("ngIf",i.expanded))},dependencies:[ms,ds,Li,Jo,Sy,CT,B0,S4,Hm,Ah,ju,_A,ac,nR,iR,qb,Zx,IT,cz,Boe,Nq],styles:['.skill[_ngcontent-%COMP%]{cursor:pointer;padding:2px;margin:4px;height:3em;overflow-y:clip}.value[_ngcontent-%COMP%]{text-align:center;border:2px solid #004a9f;border-radius:7px;margin:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 48}.content[_ngcontent-%COMP%]{max-height:50vh}']}),n})();function spe(n,t){if(1&n&&(s.TgZ(0,"li"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e," ")}}let ope=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.data=i,this.service=r,this.spellsPaladino=new AU,this.religione="",null!=i&&""!==i&&(this.religione=i)}ngOnInit(){this.getSpells()}getSpells(){null!=this.religione&&""!=this.religione&&this.service.getSpellPaladinoFromDivinita(this.religione).subscribe(e=>{e.length>0&&(this.spellsPaladino=e[0])})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(S0),s.Y36(Qm),s.Y36(E0))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-modale-paladino"]],decls:19,vars:3,consts:[["fxFlex","100","fxLayout","column",1,"home"],[1,"title"],[1,"blue"],[1,"li"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-card",0)(1,"div",1)(2,"b",2),s._uU(3,"Info Spell Paladino"),s.qZA()(),s.TgZ(4,"ul")(5,"li",3)(6,"b"),s._uU(7,"Religione:"),s.qZA(),s._uU(8),s.qZA(),s._UZ(9,"br"),s.TgZ(10,"li",3)(11,"b"),s._uU(12,"Aura:"),s.qZA(),s._uU(13),s.qZA(),s._UZ(14,"br"),s.TgZ(15,"b"),s._uU(16,"Spells:"),s.qZA(),s.TgZ(17,"ul"),s.YNc(18,spe,2,1,"li",4),s.qZA()()()),2&e&&(s.xp6(8),s.hij(" ",i.spellsPaladino.religione,""),s.xp6(5),s.hij(" ",i.spellsPaladino.aura,""),s.xp6(5),s.Q6J("ngForOf",null==i.spellsPaladino?null:i.spellsPaladino.spell))},dependencies:[ds,ju,ac,Ey],styles:["mat-card[_ngcontent-%COMP%]{border:2px solid #004a9f;border-radius:3px;margin:3%}mat-card-title[_ngcontent-%COMP%]{color:#004a9f}.blue[_ngcontent-%COMP%]{color:#004a9f}.title[_ngcontent-%COMP%]{font-size:20px}"]}),n})();function Os(n){return(Os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}var Js=Uint8Array,kc=Uint16Array,M0=Uint32Array,Xx=new Js([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),eE=new Js([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),BT=new Js([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Qq=function(n,t){for(var e=new kc(31),i=0;i<31;++i)e[i]=t+=1<<n[i-1];var r=new M0(e[30]);for(i=1;i<30;++i)for(var o=e[i];o<e[i+1];++o)r[o]=o-e[i]<<5|i;return[e,r]},Hq=Qq(Xx,2),x3=Hq[0],rR=Hq[1];x3[28]=258,rR[258]=28;for(var Vq=Qq(eE,0),jq=Vq[0],E3=Vq[1],FT=new kc(32768),Zo=0;Zo<32768;++Zo){var k0=(43690&Zo)>>>1|(21845&Zo)<<1;FT[Zo]=((65280&(k0=(61680&(k0=(52428&k0)>>>2|(13107&k0)<<2))>>>4|(3855&k0)<<4))>>>8|(255&k0)<<8)>>>1}var Tf=function(n,t,e){for(var i=n.length,r=0,o=new kc(t);r<i;++r)++o[n[r]-1];var u,a=new kc(t);for(r=0;r<t;++r)a[r]=a[r-1]+o[r-1]<<1;if(e){u=new kc(1<<t);var h=15-t;for(r=0;r<i;++r)if(n[r])for(var f=r<<4|n[r],_=t-n[r],C=a[n[r]-1]++<<_,F=C|(1<<_)-1;C<=F;++C)u[FT[C]>>>h]=f}else for(u=new kc(i),r=0;r<i;++r)u[r]=FT[a[n[r]-1]++]>>>15-n[r];return u},Ty=new Js(288);for(Zo=0;Zo<144;++Zo)Ty[Zo]=8;for(Zo=144;Zo<256;++Zo)Ty[Zo]=9;for(Zo=256;Zo<280;++Zo)Ty[Zo]=7;for(Zo=280;Zo<288;++Zo)Ty[Zo]=8;var tE=new Js(32);for(Zo=0;Zo<32;++Zo)tE[Zo]=5;var Gq=Tf(Ty,9,0),zq=Tf(Ty,9,1),qq=Tf(tE,5,0),Kq=Tf(tE,5,1),sR=function(n){for(var t=n[0],e=1;e<n.length;++e)n[e]>t&&(t=n[e]);return t},Bf=function(n,t,e){var i=t/8>>0;return(n[i]|n[i+1]<<8)>>>(7&t)&e},oR=function(n,t){var e=t/8>>0;return(n[e]|n[e+1]<<8|n[e+2]<<16)>>>(7&t)},MT=function(n){return(n/8>>0)+(7&n&&1)},$b=function(n,t,e){(null==t||t<0)&&(t=0),(null==e||e>n.length)&&(e=n.length);var i=new(n instanceof kc?kc:n instanceof M0?M0:Js)(e-t);return i.set(n.subarray(t,e)),i},jm=function(n,t,e){var i=t/8>>0;n[i]|=e<<=7&t,n[i+1]|=e>>>8},nE=function(n,t,e){var i=t/8>>0;n[i]|=e<<=7&t,n[i+1]|=e>>>8,n[i+2]|=e>>>16},lR=function(n,t){for(var e=[],i=0;i<n.length;++i)n[i]&&e.push({s:i,f:n[i]});var r=e.length,o=e.slice();if(!r)return[new Js(0),0];if(1==r){var a=new Js(e[0].s+1);return a[e[0].s]=1,[a,1]}e.sort(function(Ze,ct){return Ze.f-ct.f}),e.push({s:-1,f:25001});var u=e[0],h=e[1],f=0,_=1,C=2;for(e[0]={s:-1,f:u.f+h.f,l:u,r:h};_!=r-1;)u=e[e[f].f<e[C].f?f++:C++],h=e[f!=_&&e[f].f<e[C].f?f++:C++],e[_++]={s:-1,f:u.f+h.f,l:u,r:h};var F=o[0].s;for(i=1;i<r;++i)o[i].s>F&&(F=o[i].s);var B=new kc(F+1),U=cR(e[_-1],B,0);if(U>t){i=0;var H=0,Z=U-t,q=1<<Z;for(o.sort(function(ct,Ve){return B[Ve.s]-B[ct.s]||ct.f-Ve.f});i<r;++i){var W=o[i].s;if(!(B[W]>t))break;H+=q-(1<<U-B[W]),B[W]=t}for(H>>>=Z;H>0;){var he=o[i].s;B[he]<t?H-=1<<t-B[he]++-1:++i}for(;i>=0&&H;--i){var xe=o[i].s;B[xe]==t&&(--B[xe],++H)}U=t}return[new Js(B),U]},cR=function(n,t,e){return-1==n.s?Math.max(cR(n.l,t,e+1),cR(n.r,t,e+1)):t[n.s]=e},S3=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new kc(++t),i=0,r=n[0],o=1,a=function(h){e[i++]=h},u=1;u<=t;++u)if(n[u]==r&&u!=t)++o;else{if(!r&&o>2){for(;o>138;o-=138)a(32754);o>2&&(a(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(a(r),--o;o>6;o-=6)a(8304);o>2&&(a(o-3<<5|8208),o=0)}for(;o--;)a(r);o=1,r=n[u]}return[e.subarray(0,i),t]},iE=function(n,t){for(var e=0,i=0;i<t.length;++i)e+=n[i]*t[i];return e},kT=function(n,t,e){var i=e.length,r=MT(t+2);n[r]=255&i,n[r+1]=i>>>8,n[r+2]=255^n[r],n[r+3]=255^n[r+1];for(var o=0;o<i;++o)n[r+o+4]=e[o];return 8*(r+4+i)},I3=function(n,t,e,i,r,o,a,u,h,f,_){jm(t,_++,e),++r[256];for(var C=lR(r,15),F=C[0],B=C[1],U=lR(o,15),H=U[0],Z=U[1],q=S3(F),W=q[0],he=q[1],xe=S3(H),Ze=xe[0],ct=xe[1],Ve=new kc(19),we=0;we<W.length;++we)Ve[31&W[we]]++;for(we=0;we<Ze.length;++we)Ve[31&Ze[we]]++;for(var Ft=lR(Ve,7),Bt=Ft[0],Ae=Ft[1],de=19;de>4&&!Bt[BT[de-1]];--de);var Re,Ye,Ne,ht,Te=f+5<<3,Se=iE(r,Ty)+iE(o,tE)+a,xt=iE(r,F)+iE(o,H)+a+14+3*de+iE(Ve,Bt)+(2*Ve[16]+3*Ve[17]+7*Ve[18]);if(Te<=Se&&Te<=xt)return kT(t,_,n.subarray(h,h+f));if(jm(t,_,1+(xt<Se)),_+=2,xt<Se){Re=Tf(F,B,0),Ye=F,Ne=Tf(H,Z,0),ht=H;var _t=Tf(Bt,Ae,0);for(jm(t,_,he-257),jm(t,_+5,ct-1),jm(t,_+10,de-4),_+=14,we=0;we<de;++we)jm(t,_+3*we,Bt[BT[we]]);_+=3*de;for(var _n=[W,Ze],X=0;X<2;++X){var me=_n[X];for(we=0;we<me.length;++we)jm(t,_,_t[_e=31&me[we]]),_+=Bt[_e],_e>15&&(jm(t,_,me[we]>>>5&127),_+=me[we]>>>12)}}else Re=Gq,Ye=Ty,Ne=qq,ht=tE;for(we=0;we<u;++we)if(i[we]>255){var _e;nE(t,_,Re[257+(_e=i[we]>>>18&31)]),_+=Ye[_e+257],_e>7&&(jm(t,_,i[we]>>>23&31),_+=Xx[_e]);var Pe=31&i[we];nE(t,_,Ne[Pe]),_+=ht[Pe],Pe>3&&(nE(t,_,i[we]>>>5&8191),_+=eE[Pe])}else nE(t,_,Re[i[we]]),_+=Ye[i[we]];return nE(t,_,Re[256]),_+Ye[256]},Zq=new M0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),$q=new Js(0),dR=function(n,t,e,i,r){return function(n,t,e,i,r,o){var a=n.length,u=new Js(i+a+5*(1+Math.floor(a/7e3))+r),h=u.subarray(i,u.length-r),f=0;if(!t||a<8)for(var _=0;_<=a;_+=65535){var C=_+65535;C<a?f=kT(h,f,n.subarray(_,C)):(h[_]=o,f=kT(h,f,n.subarray(_,a)))}else{for(var F=Zq[t-1],B=F>>>13,U=8191&F,H=(1<<e)-1,Z=new kc(32768),q=new kc(H+1),W=Math.ceil(e/3),he=2*W,xe=function(Pi){return(n[Pi]^n[Pi+1]<<W^n[Pi+2]<<he)&H},Ze=new M0(25e3),ct=new kc(288),Ve=new kc(32),we=0,Ft=0,Bt=(_=0,0),Ae=0,de=0;_<a;++_){var Te=xe(_),Se=32767&_,xt=q[Te];if(Z[Se]=xt,q[Te]=Se,Ae<=_){var Re=a-_;if((we>7e3||Bt>24576)&&Re>423){f=I3(n,h,0,Ze,ct,Ve,Ft,Bt,de,_-de,f),Bt=we=Ft=0,de=_;for(var Ye=0;Ye<286;++Ye)ct[Ye]=0;for(Ye=0;Ye<30;++Ye)Ve[Ye]=0}var Ne=2,ht=0,_t=U,_n=Se-xt&32767;if(Re>2&&Te==xe(_-_n))for(var X=Math.min(B,Re)-1,me=Math.min(32767,_),_e=Math.min(258,Re);_n<=me&&--_t&&Se!=xt;){if(n[_+Ne]==n[_+Ne-_n]){for(var Pe=0;Pe<_e&&n[_+Pe]==n[_+Pe-_n];++Pe);if(Pe>Ne){if(Ne=Pe,ht=_n,Pe>X)break;var We=Math.min(_n,Pe-2),nt=0;for(Ye=0;Ye<We;++Ye){var ft=_-_n+Ye+32768&32767,pn=ft-Z[ft]+32768&32767;pn>nt&&(nt=pn,xt=ft)}}}_n+=(Se=xt)-(xt=Z[Se])+32768&32767}if(ht){Ze[Bt++]=268435456|rR[Ne]<<18|E3[ht];var un=31&rR[Ne],qn=31&E3[ht];Ft+=Xx[un]+eE[qn],++ct[257+un],++Ve[qn],Ae=_+Ne,++we}else Ze[Bt++]=n[_],++ct[n[_]]}}f=I3(n,h,o,Ze,ct,Ve,Ft,Bt,de,_-de,f),o||(f=kT(h,f,$q))}return $b(u,0,i+MT(f)+r)}(n,t.level??6,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(n.length)))):12+t.mem,e,i,!r)};function OT(n,t){void 0===t&&(t={});var e=function(){var n=1,t=0;return{p:function(e){for(var i=n,r=t,o=e.length,a=0;a!=o;){for(var u=Math.min(a+5552,o);a<u;++a)r+=i+=e[a];i%=65521,r%=65521}n=i,t=r},d:function(){return(n>>>8<<16|(255&t)<<8|t>>>8)+2*((255&n)<<23)}}}();e.p(n);var i=dR(n,t,2,4);return function(n,t){var e=t.level,i=0==e?0:e<6?1:9==e?3:2;n[0]=120,n[1]=i<<6|(i?32-2*i:1)}(i,t),function(n,t,e){for(;e;++t)n[t]=e,e>>>=8}(i,i.length-4,e.d()),i}function fR(n,t){return function(n,t,e){var i=n.length,r=!t||e,o=!e||e.i;e||(e={}),t||(t=new Js(3*i));var a=function(We){var nt=t.length;if(We>nt){var ft=new Js(Math.max(2*nt,We));ft.set(t),t=ft}},u=e.f||0,h=e.p||0,f=e.b||0,_=e.l,C=e.d,F=e.m,B=e.n,U=8*i;do{if(!_){e.f=u=Bf(n,h,1);var H=Bf(n,h+1,3);if(h+=3,!H){var q=n[(Z=MT(h)+4)-4]|n[Z-3]<<8,W=Z+q;if(W>i){if(o)throw"unexpected EOF";break}r&&a(f+q),t.set(n.subarray(Z,W),f),e.b=f+=q,e.p=h=8*W;continue}if(1==H)_=zq,C=Kq,F=9,B=5;else{if(2!=H)throw"invalid block type";var he=Bf(n,h,31)+257,xe=Bf(n,h+10,15)+4,Ze=he+Bf(n,h+5,31)+1;h+=14;for(var ct=new Js(Ze),Ve=new Js(19),we=0;we<xe;++we)Ve[BT[we]]=Bf(n,h+3*we,7);h+=3*xe;var Ft=sR(Ve),Bt=(1<<Ft)-1;if(!o&&h+Ze*(Ft+7)>U)break;var Ae=Tf(Ve,Ft,1);for(we=0;we<Ze;){var Z,de=Ae[Bf(n,h,Bt)];if(h+=15&de,(Z=de>>>4)<16)ct[we++]=Z;else{var Te=0,Se=0;for(16==Z?(Se=3+Bf(n,h,3),h+=2,Te=ct[we-1]):17==Z?(Se=3+Bf(n,h,7),h+=3):18==Z&&(Se=11+Bf(n,h,127),h+=7);Se--;)ct[we++]=Te}}var xt=ct.subarray(0,he),Re=ct.subarray(he);F=sR(xt),B=sR(Re),_=Tf(xt,F,1),C=Tf(Re,B,1)}if(h>U)throw"unexpected EOF"}r&&a(f+131072);for(var Ye=(1<<F)-1,Ne=(1<<B)-1,ht=F+B+18;o||h+ht<U;){var _t=(Te=_[oR(n,h)&Ye])>>>4;if((h+=15&Te)>U)throw"unexpected EOF";if(!Te)throw"invalid length/literal";if(_t<256)t[f++]=_t;else{if(256==_t){_=null;break}var _n=_t-254;_t>264&&(_n=Bf(n,h,(1<<(X=Xx[we=_t-257]))-1)+x3[we],h+=X);var me=C[oR(n,h)&Ne],_e=me>>>4;if(!me)throw"invalid distance";if(h+=15&me,Re=jq[_e],_e>3){var X=eE[_e];Re+=oR(n,h)&(1<<X)-1,h+=X}if(h>U)throw"unexpected EOF";r&&a(f+131072);for(var Pe=f+_n;f<Pe;f+=4)t[f]=t[f-Re],t[f+1]=t[f+1-Re],t[f+2]=t[f+2-Re],t[f+3]=t[f+3-Re];f=Pe}}e.l=_,e.p=h,e.b=f,_&&(u=1,e.m=F,e.d=C,e.n=B)}while(!u);return f==t.length?t:$b(t,0,f)}((function(n){if(8!=(15&n[0])||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(32&n[1])throw"invalid zlib data: preset dictionaries not supported"}(n),n.subarray(2,-4)),t)}var Ni=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function k3(){Ni.console&&"function"==typeof Ni.console.log&&Ni.console.log.apply(Ni.console,arguments)}var uo={log:k3,warn:function(n){Ni.console&&("function"==typeof Ni.console.warn?Ni.console.warn.apply(Ni.console,arguments):k3.call(null,arguments))},error:function(n){Ni.console&&("function"==typeof Ni.console.error?Ni.console.error.apply(Ni.console,arguments):k3(n))}};function R3(n,t,e){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){Yb(i.response,t,e)},i.onerror=function(){uo.error("could not download file")},i.send()}function fK(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function gR(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var LT,O3,Yb=Ni.saveAs||("object"!==(typeof window>"u"?"undefined":Os(window))||window!==Ni?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var i=Ni.URL||Ni.webkitURL,r=document.createElement("a");r.download=t=t||n.name||"download",r.rel="noopener","string"==typeof n?(r.href=n,r.origin!==location.origin?fK(r.href)?R3(n,t,e):gR(r,r.target="_blank"):gR(r)):(r.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){gR(r)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download","string"==typeof n)if(fK(n))R3(n,t,e);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){gR(i)})}else navigator.msSaveOrOpenBlob((r=n,void 0===(o=e)?o={autoBom:!1}:"object"!==Os(o)&&(uo.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob([String.fromCharCode(65279),r],{type:r.type}):r),t);var r,o}:function(n,t,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof n)return R3(n,t,e);var r="application/octet-stream"===n.type,o=/constructor/i.test(Ni.HTMLElement)||Ni.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||r&&o)&&"object"===(typeof FileReader>"u"?"undefined":Os(FileReader))){var u=new FileReader;u.onloadend=function(){var _=u.result;_=a?_:_.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=_:location=_,i=null},u.readAsDataURL(n)}else{var h=Ni.URL||Ni.webkitURL,f=h.createObjectURL(n);i?i.location=f:location.href=f,i=null,setTimeout(function(){h.revokeObjectURL(f)},4e4)}});function pK(n){var t;n=n||"",this.ok=!1,"#"==n.charAt(0)&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],i=0;i<e.length;i++){var o=e[i].process,a=e[i].re.exec(n);a&&(t=o(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),h=this.g.toString(16),f=this.b.toString(16);return 1==u.length&&(u="0"+u),1==h.length&&(h="0"+h),1==f.length&&(f="0"+f),"#"+u+h+f}}function L3(n,t){var e=n[0],i=n[1],r=n[2],o=n[3];e=Gu(e,i,r,o,t[0],7,-680876936),o=Gu(o,e,i,r,t[1],12,-389564586),r=Gu(r,o,e,i,t[2],17,606105819),i=Gu(i,r,o,e,t[3],22,-1044525330),e=Gu(e,i,r,o,t[4],7,-176418897),o=Gu(o,e,i,r,t[5],12,1200080426),r=Gu(r,o,e,i,t[6],17,-1473231341),i=Gu(i,r,o,e,t[7],22,-45705983),e=Gu(e,i,r,o,t[8],7,1770035416),o=Gu(o,e,i,r,t[9],12,-1958414417),r=Gu(r,o,e,i,t[10],17,-42063),i=Gu(i,r,o,e,t[11],22,-1990404162),e=Gu(e,i,r,o,t[12],7,1804603682),o=Gu(o,e,i,r,t[13],12,-40341101),r=Gu(r,o,e,i,t[14],17,-1502002290),e=zu(e,i=Gu(i,r,o,e,t[15],22,1236535329),r,o,t[1],5,-165796510),o=zu(o,e,i,r,t[6],9,-1069501632),r=zu(r,o,e,i,t[11],14,643717713),i=zu(i,r,o,e,t[0],20,-373897302),e=zu(e,i,r,o,t[5],5,-701558691),o=zu(o,e,i,r,t[10],9,38016083),r=zu(r,o,e,i,t[15],14,-660478335),i=zu(i,r,o,e,t[4],20,-405537848),e=zu(e,i,r,o,t[9],5,568446438),o=zu(o,e,i,r,t[14],9,-1019803690),r=zu(r,o,e,i,t[3],14,-187363961),i=zu(i,r,o,e,t[8],20,1163531501),e=zu(e,i,r,o,t[13],5,-1444681467),o=zu(o,e,i,r,t[2],9,-51403784),r=zu(r,o,e,i,t[7],14,1735328473),e=qu(e,i=zu(i,r,o,e,t[12],20,-1926607734),r,o,t[5],4,-378558),o=qu(o,e,i,r,t[8],11,-2022574463),r=qu(r,o,e,i,t[11],16,1839030562),i=qu(i,r,o,e,t[14],23,-35309556),e=qu(e,i,r,o,t[1],4,-1530992060),o=qu(o,e,i,r,t[4],11,1272893353),r=qu(r,o,e,i,t[7],16,-155497632),i=qu(i,r,o,e,t[10],23,-1094730640),e=qu(e,i,r,o,t[13],4,681279174),o=qu(o,e,i,r,t[0],11,-358537222),r=qu(r,o,e,i,t[3],16,-722521979),i=qu(i,r,o,e,t[6],23,76029189),e=qu(e,i,r,o,t[9],4,-640364487),o=qu(o,e,i,r,t[12],11,-421815835),r=qu(r,o,e,i,t[15],16,530742520),e=Ku(e,i=qu(i,r,o,e,t[2],23,-995338651),r,o,t[0],6,-198630844),o=Ku(o,e,i,r,t[7],10,1126891415),r=Ku(r,o,e,i,t[14],15,-1416354905),i=Ku(i,r,o,e,t[5],21,-57434055),e=Ku(e,i,r,o,t[12],6,1700485571),o=Ku(o,e,i,r,t[3],10,-1894986606),r=Ku(r,o,e,i,t[10],15,-1051523),i=Ku(i,r,o,e,t[1],21,-2054922799),e=Ku(e,i,r,o,t[8],6,1873313359),o=Ku(o,e,i,r,t[15],10,-30611744),r=Ku(r,o,e,i,t[6],15,-1560198380),i=Ku(i,r,o,e,t[13],21,1309151649),e=Ku(e,i,r,o,t[4],6,-145523070),o=Ku(o,e,i,r,t[11],10,-1120210379),r=Ku(r,o,e,i,t[2],15,718787259),i=Ku(i,r,o,e,t[9],21,-343485551),n[0]=O0(e,n[0]),n[1]=O0(i,n[1]),n[2]=O0(r,n[2]),n[3]=O0(o,n[3])}function mR(n,t,e,i,r,o){return t=O0(O0(t,n),O0(i,o)),O0(t<<r|t>>>32-r,e)}function Gu(n,t,e,i,r,o,a){return mR(t&e|~t&i,n,t,r,o,a)}function zu(n,t,e,i,r,o,a){return mR(t&i|e&~i,n,t,r,o,a)}function qu(n,t,e,i,r,o,a){return mR(t^e^i,n,t,r,o,a)}function Ku(n,t,e,i,r,o,a){return mR(e^(t|~i),n,t,r,o,a)}function gK(n){var t,e=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)L3(i,_pe(n.substring(t-64,t)));n=n.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)r[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(L3(i,r),t=0;t<16;t++)r[t]=0;return r[14]=8*e,L3(i,r),i}function _pe(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}LT=Ni.atob.bind(Ni),O3=Ni.btoa.bind(Ni);var mK="0123456789abcdef".split("");function ype(n){for(var t="",e=0;e<4;e++)t+=mK[n>>8*e+4&15]+mK[n>>8*e&15];return t}function vpe(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function N3(n){return gK(n).map(vpe).join("")}var wpe="5d41402abc4b2a76b9719d911017c592"!=function(n){for(var t=0;t<n.length;t++)n[t]=ype(n[t]);return n.join("")}(gK("hello"));function O0(n,t){if(wpe){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}function P3(n,t){var e,i,r;if(n!==e){for(var a=(r=n,new Array(1+(256/n.length>>0)+1).join(r)),u=[],h=0;h<256;h++)u[h]=h;var f=0;for(h=0;h<256;h++){var _=u[h];f=(f+_+a.charCodeAt(h))%256,u[h]=u[f],u[f]=_}e=n,i=u}else u=i;var C=t.length,F=0,B=0,U="";for(h=0;h<C;h++)B=(B+(_=u[F=(F+1)%256]))%256,u[F]=u[B],u[B]=_,a=u[(u[F]+u[B])%256],U+=String.fromCharCode(t.charCodeAt(h)^a);return U}var _K={print:4,modify:8,copy:16,"annot-forms":32};function sE(n,t,e,i){this.v=1,this.r=2;var r=192;n.forEach(function(u){if(void 0!==_K.perm)throw new Error("Invalid permission: "+u);r+=_K[u]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var o=(t+this.padding).substr(0,32),a=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,a),this.P=-(1+(255^r)),this.encryptionKey=N3(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=P3(this.encryptionKey,this.padding)}function oE(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,i=0;i<e;i++){var r=n.charCodeAt(i);t+=r<33||35===r||37===r||40===r||41===r||47===r||60===r||62===r||91===r||93===r||123===r||125===r||r>126?"#"+("0"+r.toString(16)).slice(-2):n[i]}return t}function yK(n){if("object"!==Os(n))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,i,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof i||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var o=Math.random().toString(35);return t[e][o]=[i,!!r],o},this.unsubscribe=function(e){for(var i in t)if(t[i][e])return delete t[i][e],0===Object.keys(t[i]).length&&delete t[i],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var o in t[e]){var a=t[e][o];try{a[0].apply(n,i)}catch(u){Ni.console&&uo.error("jsPDF PubSub Error",u.message,u)}a[1]&&r.push(o)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function _R(n){if(!(this instanceof _R))return new _R(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function vK(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function Wb(n,t,e,i,r){if(!(this instanceof Wb))return new Wb(n,t,e,i,r);this.type="axial"===n?2:3,this.coords=t,this.colors=e,vK.call(this,i,r)}function aE(n,t,e,i,r){if(!(this instanceof aE))return new aE(n,t,e,i,r);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,vK.call(this,i,r)}function ki(n){var t,e="string"==typeof arguments[0]?arguments[0]:"p",i=arguments[1],r=arguments[2],o=arguments[3],a=[],u=1,h=16,f="S",_=null;"object"===Os(n=n||{})&&(e=n.orientation,i=n.unit||i,r=n.format||r,o=n.compress||n.compressPdf||o,null!==(_=n.encryption||null)&&(_.userPassword=_.userPassword||"",_.ownerPassword=_.ownerPassword||"",_.userPermissions=_.userPermissions||[]),u="number"==typeof n.userUnit?Math.abs(n.userUnit):1,void 0!==n.precision&&(t=n.precision),void 0!==n.floatPrecision&&(h=n.floatPrecision),f=n.defaultPathOperation||"S"),a=n.filters||(!0===o?["FlateEncode"]:a),i=i||"mm",e=(""+(e||"P")).toLowerCase();var C=n.putOnlyUsedFonts||!1,F={},B={internal:{},__private__:{}};B.__private__.PubSub=yK;var U="1.3",H=B.__private__.getPdfVersion=function(){return U};B.__private__.setPdfVersion=function(M){U=M};var Z={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};B.__private__.getPageFormats=function(){return Z};var q=B.__private__.getPageFormat=function(M){return Z[M]};r=r||"a4";var W={COMPAT:"compat",ADVANCED:"advanced"},he=W.COMPAT;function xe(){this.saveGraphicsState(),be(new Ri(Qn,0,0,-Qn,0,j0()*Qn).toString()+" cm"),this.setFontSize(this.getFontSize()/Qn),f="n",he=W.ADVANCED}function Ze(){this.restoreGraphicsState(),f="S",he=W.COMPAT}var ct=B.__private__.combineFontStyleAndFontWeight=function(M,Y){if("bold"==M&&"normal"==Y||"bold"==M&&400==Y||"normal"==M&&"italic"==Y||"bold"==M&&"italic"==Y)throw new Error("Invalid Combination of fontweight and fontstyle");return Y&&(M=400==Y||"normal"===Y?"italic"===M?"italic":"normal":700!=Y&&"bold"!==Y||"normal"!==M?(700==Y?"bold":Y)+""+M:"bold"),M};B.advancedAPI=function(M){var Y=he===W.COMPAT;return Y&&xe.call(this),"function"!=typeof M||(M(this),Y&&Ze.call(this)),this},B.compatAPI=function(M){var Y=he===W.ADVANCED;return Y&&Ze.call(this),"function"!=typeof M||(M(this),Y&&xe.call(this)),this},B.isAdvancedAPI=function(){return he===W.ADVANCED};var Ve,we=function(M){if(he!==W.ADVANCED)throw new Error(M+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Ft=B.roundToPrecision=B.__private__.roundToPrecision=function(M,Y){var ye=t||Y;if(isNaN(M)||isNaN(ye))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return M.toFixed(ye).replace(/0+$/,"")};Ve=B.hpf=B.__private__.hpf="number"==typeof h?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return Ft(M,h)}:"smart"===h?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return Ft(M,M>-1&&M<1?16:5)}:function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return Ft(M,16)};var Bt=B.f2=B.__private__.f2=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f2");return Ft(M,2)},Ae=B.__private__.f3=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f3");return Ft(M,3)},de=B.scale=B.__private__.scale=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.scale");return he===W.COMPAT?M*Qn:he===W.ADVANCED?M:void 0},Te=function(M){return he===W.COMPAT?j0()-M:he===W.ADVANCED?M:void 0},Se=function(M){return de(Te(M))};B.__private__.setPrecision=B.setPrecision=function(M){"number"==typeof parseInt(M,10)&&(t=parseInt(M,10))};var xt,Re="00000000000000000000000000000000",Ye=B.__private__.getFileId=function(){return Re},Ne=B.__private__.setFileId=function(M){return Re=void 0!==M&&/^[a-fA-F0-9]{32}$/.test(M)?M.toUpperCase():Re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==_&&($u=new sE(_.userPermissions,_.userPassword,_.ownerPassword,Re)),Re};B.setFileId=function(M){return Ne(M),this},B.getFileId=function(){return Ye()};var ht=B.__private__.convertDateToPDFDate=function(M){var Y=M.getTimezoneOffset(),ye=Y<0?"+":"-",Be=Math.floor(Math.abs(Y/60)),Xe=Math.abs(Y%60),Mt=[ye,_e(Be),"'",_e(Xe),"'"].join("");return["D:",M.getFullYear(),_e(M.getMonth()+1),_e(M.getDate()),_e(M.getHours()),_e(M.getMinutes()),_e(M.getSeconds()),Mt].join("")},_t=B.__private__.convertPDFDateToDate=function(M){var Y=parseInt(M.substr(2,4),10),ye=parseInt(M.substr(6,2),10)-1,Be=parseInt(M.substr(8,2),10),Xe=parseInt(M.substr(10,2),10),Mt=parseInt(M.substr(12,2),10),rn=parseInt(M.substr(14,2),10);return new Date(Y,ye,Be,Xe,Mt,rn,0)},_n=B.__private__.setCreationDate=function(M){var Y;if(void 0===M&&(M=new Date),M instanceof Date)Y=ht(M);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(M))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Y=M}return xt=Y},X=B.__private__.getCreationDate=function(M){var Y=xt;return"jsDate"===M&&(Y=_t(xt)),Y};B.setCreationDate=function(M){return _n(M),this},B.getCreationDate=function(M){return X(M)};var me,_e=B.__private__.padd2=function(M){return("0"+parseInt(M)).slice(-2)},Pe=B.__private__.padd2Hex=function(M){return("00"+(M=M.toString())).substr(M.length)},We=0,nt=[],ft=[],At=0,pn=[],un=[],qn=!1,Xn=ft,Pi=function(){We=0,At=0,ft=[],nt=[],pn=[],ky=jl(),og=jl()};B.__private__.setCustomOutputDestination=function(M){qn=!0,Xn=M};var Ot=function(M){qn||(Xn=M)};B.__private__.resetCustomOutputDestination=function(){qn=!1,Xn=ft};var be=B.__private__.out=function(M){return M=M.toString(),At+=M.length+1,Xn.push(M),Xn},ar=B.__private__.write=function(M){return be(1===arguments.length?M.toString():Array.prototype.join.call(arguments," "))},li=B.__private__.getArrayBuffer=function(M){for(var Y=M.length,ye=new ArrayBuffer(Y),Be=new Uint8Array(ye);Y--;)Be[Y]=M.charCodeAt(Y);return ye},dn=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];B.__private__.getStandardFonts=function(){return dn};var In=n.fontSize||16;B.__private__.setFontSize=B.setFontSize=function(M){return In=he===W.ADVANCED?M/Qn:M,this};var Un,On=B.__private__.getFontSize=B.getFontSize=function(){return he===W.COMPAT?In:In*Qn},yi=n.R2L||!1;B.__private__.setR2L=B.setR2L=function(M){return yi=M,this},B.__private__.getR2L=B.getR2L=function(){return yi};var ir,pr=B.__private__.setZoomMode=function(M){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(M))Un=M;else if(isNaN(M)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(M))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+M+'" is not recognized.');Un=M}else Un=parseInt(M,10)};B.__private__.getZoomMode=function(){return Un};var Er,ns=B.__private__.setPageMode=function(M){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(M))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+M+'" is not recognized.');ir=M};B.__private__.getPageMode=function(){return ir};var Xs=B.__private__.setLayoutMode=function(M){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(M))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+M+'" is not recognized.');Er=M};B.__private__.getLayoutMode=function(){return Er},B.__private__.setDisplayMode=B.setDisplayMode=function(M,Y,ye){return pr(M),Xs(Y),ns(ye),this};var zi={title:"",subject:"",author:"",keywords:"",creator:""};B.__private__.getDocumentProperty=function(M){if(-1===Object.keys(zi).indexOf(M))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return zi[M]},B.__private__.getDocumentProperties=function(){return zi},B.__private__.setDocumentProperties=B.setProperties=B.setDocumentProperties=function(M){for(var Y in zi)zi.hasOwnProperty(Y)&&M[Y]&&(zi[Y]=M[Y]);return this},B.__private__.setDocumentProperty=function(M,Y){if(-1===Object.keys(zi).indexOf(M))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return zi[M]=Y};var Br,Qn,Zu,cs,ig,ho={},da={},$m=[],bs={},iC={},el={},rg={},My=null,tl=0,rr=[],Cs=new yK(B),rC=n.hotfixes||[],au={},Ym={},Wm=[],Ri=function M(Y,ye,Be,Xe,Mt,rn){if(!(this instanceof M))return new M(Y,ye,Be,Xe,Mt,rn);isNaN(Y)&&(Y=1),isNaN(ye)&&(ye=0),isNaN(Be)&&(Be=0),isNaN(Xe)&&(Xe=1),isNaN(Mt)&&(Mt=0),isNaN(rn)&&(rn=0),this._matrix=[Y,ye,Be,Xe,Mt,rn]};Object.defineProperty(Ri.prototype,"sx",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(Ri.prototype,"shy",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(Ri.prototype,"shx",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(Ri.prototype,"sy",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(Ri.prototype,"tx",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(Ri.prototype,"ty",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(Ri.prototype,"a",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(Ri.prototype,"b",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(Ri.prototype,"c",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(Ri.prototype,"d",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(Ri.prototype,"e",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(Ri.prototype,"f",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(Ri.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ri.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ri.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ri.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Ri.prototype.join=function(M){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Ve).join(M)},Ri.prototype.multiply=function(M){return new Ri(M.sx*this.sx+M.shy*this.shx,M.sx*this.shy+M.shy*this.sy,M.shx*this.sx+M.sy*this.shx,M.shx*this.shy+M.sy*this.sy,M.tx*this.sx+M.ty*this.shx+this.tx,M.tx*this.shy+M.ty*this.sy+this.ty)},Ri.prototype.decompose=function(){var M=this.sx,Y=this.shy,ye=this.shx,Be=this.sy,Xe=this.tx,Mt=this.ty,rn=Math.sqrt(M*M+Y*Y),Kn=(M/=rn)*ye+(Y/=rn)*Be;ye-=M*Kn,Be-=Y*Kn;var xi=Math.sqrt(ye*ye+Be*Be);return Kn/=xi,M*(Be/=xi)<Y*(ye/=xi)&&(M=-M,Y=-Y,Kn=-Kn,rn=-rn),{scale:new Ri(rn,0,0,xi,0,0),translate:new Ri(1,0,0,1,Xe,Mt),rotate:new Ri(M,Y,-Y,M,0,0),skew:new Ri(1,0,Kn,1,0,0)}},Ri.prototype.toString=function(M){return this.join(" ")},Ri.prototype.inversed=function(){var M=this.sx,Y=this.shy,ye=this.shx,Be=this.sy,Xe=this.tx,Mt=this.ty,rn=1/(M*Be-Y*ye),Kn=Be*rn,xi=-Y*rn,lr=-ye*rn,_r=M*rn;return new Ri(Kn,xi,lr,_r,-Kn*Xe-lr*Mt,-xi*Xe-_r*Mt)},Ri.prototype.applyToPoint=function(M){return new DE(M.x*this.sx+M.y*this.shx+this.tx,M.x*this.shy+M.y*this.sy+this.ty)},Ri.prototype.applyToRectangle=function(M){var Y=this.applyToPoint(M),ye=this.applyToPoint(new DE(M.x+M.w,M.y+M.h));return new JT(Y.x,Y.y,ye.x-Y.x,ye.y-Y.y)},Ri.prototype.clone=function(){return new Ri(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},B.Matrix=Ri;var sg=B.matrixMult=function(M,Y){return Y.multiply(M)},Jm=new Ri(1,0,0,1,0,0);B.unitMatrix=B.identityMatrix=Jm;var mh=function(M,Y){if(!iC[M]){var ye=(Y instanceof Wb?"Sh":"P")+(Object.keys(bs).length+1).toString(10);Y.id=ye,iC[M]=ye,bs[ye]=Y,Cs.publish("addPattern",Y)}};B.ShadingPattern=Wb,B.TilingPattern=aE,B.addShadingPattern=function(M,Y){return we("addShadingPattern()"),mh(M,Y),this},B.beginTilingPattern=function(M){we("beginTilingPattern()"),cO(M.boundingBox[0],M.boundingBox[1],M.boundingBox[2]-M.boundingBox[0],M.boundingBox[3]-M.boundingBox[1],M.matrix)},B.endTilingPattern=function(M,Y){we("endTilingPattern()"),Y.stream=un[me].join("\n"),mh(M,Y),Cs.publish("endTilingPattern",Y),Wm.pop().restore()};var lc=B.__private__.newObject=function(){var M=jl();return bA(M,!0),M},jl=B.__private__.newObjectDeferred=function(){return We++,nt[We]=function(){return At},We},bA=function(M,Y){return Y="boolean"==typeof Y&&Y,nt[M]=At,Y&&be(M+" 0 obj"),M},pE=B.__private__.newAdditionalObject=function(){var M={objId:jl(),content:""};return pn.push(M),M},ky=jl(),og=jl(),ag=B.__private__.decodeColorString=function(M){var Y=M.split(" ");if(2!==Y.length||"g"!==Y[1]&&"G"!==Y[1])5===Y.length&&("k"===Y[4]||"K"===Y[4])&&(Y=[(1-Y[0])*(1-Y[3]),(1-Y[1])*(1-Y[3]),(1-Y[2])*(1-Y[3]),"r"]);else{var ye=parseFloat(Y[0]);Y=[ye,ye,ye,"r"]}for(var Be="#",Xe=0;Xe<3;Xe++)Be+=("0"+Math.floor(255*parseFloat(Y[Xe])).toString(16)).slice(-2);return Be},lg=B.__private__.encodeColorString=function(M){var Y;"string"==typeof M&&(M={ch1:M});var ye=M.ch1,Be=M.ch2,Xe=M.ch3,Mt=M.ch4,rn="draw"===M.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof ye&&"#"!==ye.charAt(0)){var Kn=new pK(ye);if(Kn.ok)ye=Kn.toHex();else if(!/^\d*\.?\d*$/.test(ye))throw new Error('Invalid color "'+ye+'" passed to jsPDF.encodeColorString.')}if("string"==typeof ye&&/^#[0-9A-Fa-f]{3}$/.test(ye)&&(ye="#"+ye[1]+ye[1]+ye[2]+ye[2]+ye[3]+ye[3]),"string"==typeof ye&&/^#[0-9A-Fa-f]{6}$/.test(ye)){var xi=parseInt(ye.substr(1),16);ye=xi>>16&255,Be=xi>>8&255,Xe=255&xi}if(void 0===Be||void 0===Mt&&ye===Be&&Be===Xe)Y="string"==typeof ye?ye+" "+rn[0]:2===M.precision?Bt(ye/255)+" "+rn[0]:Ae(ye/255)+" "+rn[0];else if(void 0===Mt||"object"===Os(Mt)){if(Mt&&!isNaN(Mt.a)&&0===Mt.a)return["1.","1.","1.",rn[1]].join(" ");Y="string"==typeof ye?[ye,Be,Xe,rn[1]].join(" "):2===M.precision?[Bt(ye/255),Bt(Be/255),Bt(Xe/255),rn[1]].join(" "):[Ae(ye/255),Ae(Be/255),Ae(Xe/255),rn[1]].join(" ")}else Y="string"==typeof ye?[ye,Be,Xe,Mt,rn[2]].join(" "):2===M.precision?[Bt(ye),Bt(Be),Bt(Xe),Bt(Mt),rn[2]].join(" "):[Ae(ye),Ae(Be),Ae(Xe),Ae(Mt),rn[2]].join(" ");return Y},Xm=B.__private__.getFilters=function(){return a},kf=B.__private__.putStream=function(M){var Y=(M=M||{}).data||"",ye=M.filters||Xm(),Be=M.alreadyAppliedFilters||[],Xe=M.addLength1||!1,Mt=Y.length,rn=M.objectId,Kn=function(Yu){return Yu};if(null!==_&&void 0===rn)throw new Error("ObjectId must be passed to putStream for file encryption");null!==_&&(Kn=$u.encryptor(rn,0));var xi={};!0===ye&&(ye=["FlateEncode"]);var lr=M.additionalKeyValues||[],_r=(xi=void 0!==ki.API.processDataByFilters?ki.API.processDataByFilters(Y,ye):{data:Y,reverseChain:[]}).reverseChain+(Array.isArray(Be)?Be.join(" "):Be.toString());if(0!==xi.data.length&&(lr.push({key:"Length",value:xi.data.length}),!0===Xe&&lr.push({key:"Length1",value:Mt})),0!=_r.length)if(_r.split("/").length-1==1)lr.push({key:"Filter",value:_r});else{lr.push({key:"Filter",value:"["+_r+"]"});for(var Xr=0;Xr<lr.length;Xr+=1)if("DecodeParms"===lr[Xr].key){for(var Da=[],nl=0;nl<xi.reverseChain.split("/").length-1;nl+=1)Da.push("null");Da.push(lr[Xr].value),lr[Xr].value="["+Da.join(" ")+"]"}}be("<<");for(var Gl=0;Gl<lr.length;Gl++)be("/"+lr[Gl].key+" "+lr[Gl].value);be(">>"),0!==xi.data.length&&(be("stream"),be(Kn(xi.data)),be("endstream"))},e_=B.__private__.putPage=function(M){var Y=M.number,ye=M.data,Be=M.objId,Xe=M.contentsObjId;bA(Be,!0),be("<</Type /Page"),be("/Parent "+M.rootDictionaryObjId+" 0 R"),be("/Resources "+M.resourceDictionaryObjId+" 0 R"),be("/MediaBox ["+parseFloat(Ve(M.mediaBox.bottomLeftX))+" "+parseFloat(Ve(M.mediaBox.bottomLeftY))+" "+Ve(M.mediaBox.topRightX)+" "+Ve(M.mediaBox.topRightY)+"]"),null!==M.cropBox&&be("/CropBox ["+Ve(M.cropBox.bottomLeftX)+" "+Ve(M.cropBox.bottomLeftY)+" "+Ve(M.cropBox.topRightX)+" "+Ve(M.cropBox.topRightY)+"]"),null!==M.bleedBox&&be("/BleedBox ["+Ve(M.bleedBox.bottomLeftX)+" "+Ve(M.bleedBox.bottomLeftY)+" "+Ve(M.bleedBox.topRightX)+" "+Ve(M.bleedBox.topRightY)+"]"),null!==M.trimBox&&be("/TrimBox ["+Ve(M.trimBox.bottomLeftX)+" "+Ve(M.trimBox.bottomLeftY)+" "+Ve(M.trimBox.topRightX)+" "+Ve(M.trimBox.topRightY)+"]"),null!==M.artBox&&be("/ArtBox ["+Ve(M.artBox.bottomLeftX)+" "+Ve(M.artBox.bottomLeftY)+" "+Ve(M.artBox.topRightX)+" "+Ve(M.artBox.topRightY)+"]"),"number"==typeof M.userUnit&&1!==M.userUnit&&be("/UserUnit "+M.userUnit),Cs.publish("putPage",{objId:Be,pageContext:rr[Y],pageNumber:Y,page:ye}),be("/Contents "+Xe+" 0 R"),be(">>"),be("endobj");var Mt=ye.join("\n");return he===W.ADVANCED&&(Mt+="\nQ"),bA(Xe,!0),kf({data:Mt,filters:Xm(),objectId:Xe}),be("endobj"),Be},sC=B.__private__.putPages=function(){var M,Y,ye=[];for(M=1;M<=tl;M++)rr[M].objId=jl(),rr[M].contentsObjId=jl();for(M=1;M<=tl;M++)ye.push(e_({number:M,data:un[M],objId:rr[M].objId,contentsObjId:rr[M].contentsObjId,mediaBox:rr[M].mediaBox,cropBox:rr[M].cropBox,bleedBox:rr[M].bleedBox,trimBox:rr[M].trimBox,artBox:rr[M].artBox,userUnit:rr[M].userUnit,rootDictionaryObjId:ky,resourceDictionaryObjId:og}));bA(ky,!0),be("<</Type /Pages");var Be="/Kids [";for(Y=0;Y<tl;Y++)Be+=ye[Y]+" 0 R ";be(Be+"]"),be("/Count "+tl),be(">>"),be("endobj"),Cs.publish("postPutPages")},gE=function(M){Cs.publish("putFont",{font:M,out:be,newObject:lc,putStream:kf}),!0!==M.isAlreadyPutted&&(M.objectNumber=lc(),be("<<"),be("/Type /Font"),be("/BaseFont /"+oE(M.postScriptName)),be("/Subtype /Type1"),"string"==typeof M.encoding&&be("/Encoding /"+M.encoding),be("/FirstChar 32"),be("/LastChar 255"),be(">>"),be("endobj"))},mE=function(){for(var M in ho)ho.hasOwnProperty(M)&&(!1===C||!0===C&&F.hasOwnProperty(M))&&gE(ho[M])},_E=function(M){M.objectNumber=lc();var Y=[];Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Form"}),Y.push({key:"BBox",value:"["+[Ve(M.x),Ve(M.y),Ve(M.x+M.width),Ve(M.y+M.height)].join(" ")+"]"}),Y.push({key:"Matrix",value:"["+M.matrix.toString()+"]"});var ye=M.pages[1].join("\n");kf({data:ye,additionalKeyValues:Y,objectId:M.objectNumber}),be("endobj")},yE=function(){for(var M in au)au.hasOwnProperty(M)&&_E(au[M])},zR=function(M,Y){var ye,Be=[],Xe=1/(Y-1);for(ye=0;ye<1;ye+=Xe)Be.push(ye);Be.push(1),0!=M[0].offset&&M.unshift({offset:0,color:M[0].color}),1!=M[M.length-1].offset&&M.push({offset:1,color:M[M.length-1].color});for(var Kn="",xi=0,lr=0;lr<Be.length;lr++){for(ye=Be[lr];ye>M[xi+1].offset;)xi++;var _r=M[xi].offset,Xr=(ye-_r)/(M[xi+1].offset-_r),Da=M[xi].color,nl=M[xi+1].color;Kn+=Pe(Math.round((1-Xr)*Da[0]+Xr*nl[0]).toString(16))+Pe(Math.round((1-Xr)*Da[1]+Xr*nl[1]).toString(16))+Pe(Math.round((1-Xr)*Da[2]+Xr*nl[2]).toString(16))}return Kn.trim()},I6=function(M,Y){Y||(Y=21);var ye=lc(),Be=zR(M.colors,Y),Xe=[];Xe.push({key:"FunctionType",value:"0"}),Xe.push({key:"Domain",value:"[0.0 1.0]"}),Xe.push({key:"Size",value:"["+Y+"]"}),Xe.push({key:"BitsPerSample",value:"8"}),Xe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Xe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),kf({data:Be,additionalKeyValues:Xe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ye}),be("endobj"),M.objectNumber=lc(),be("<< /ShadingType "+M.type),be("/ColorSpace /DeviceRGB");var Mt="/Coords ["+Ve(parseFloat(M.coords[0]))+" "+Ve(parseFloat(M.coords[1]))+" ";Mt+=2===M.type?Ve(parseFloat(M.coords[2]))+" "+Ve(parseFloat(M.coords[3])):Ve(parseFloat(M.coords[2]))+" "+Ve(parseFloat(M.coords[3]))+" "+Ve(parseFloat(M.coords[4]))+" "+Ve(parseFloat(M.coords[5])),be(Mt+="]"),M.matrix&&be("/Matrix ["+M.matrix.toString()+"]"),be("/Function "+ye+" 0 R"),be("/Extend [true true]"),be(">>"),be("endobj")},D6=function(M,Y){var ye=jl(),Be=lc();Y.push({resourcesOid:ye,objectOid:Be}),M.objectNumber=Be;var Xe=[];Xe.push({key:"Type",value:"/Pattern"}),Xe.push({key:"PatternType",value:"1"}),Xe.push({key:"PaintType",value:"1"}),Xe.push({key:"TilingType",value:"1"}),Xe.push({key:"BBox",value:"["+M.boundingBox.map(Ve).join(" ")+"]"}),Xe.push({key:"XStep",value:Ve(M.xStep)}),Xe.push({key:"YStep",value:Ve(M.yStep)}),Xe.push({key:"Resources",value:ye+" 0 R"}),M.matrix&&Xe.push({key:"Matrix",value:"["+M.matrix.toString()+"]"}),kf({data:M.stream,additionalKeyValues:Xe,objectId:M.objectNumber}),be("endobj")},vE=function(M){var Y;for(Y in bs)bs.hasOwnProperty(Y)&&(bs[Y]instanceof Wb?I6(bs[Y]):bs[Y]instanceof aE&&D6(bs[Y],M))},qR=function(M){for(var Y in M.objectNumber=lc(),be("<<"),M)switch(Y){case"opacity":be("/ca "+Bt(M[Y]));break;case"stroke-opacity":be("/CA "+Bt(M[Y]))}be(">>"),be("endobj")},T6=function(){var M;for(M in el)el.hasOwnProperty(M)&&qR(el[M])},VT=function(){for(var M in be("/XObject <<"),au)au.hasOwnProperty(M)&&au[M].objectNumber>=0&&be("/"+M+" "+au[M].objectNumber+" 0 R");Cs.publish("putXobjectDict"),be(">>")},B6=function(){$u.oid=lc(),be("<<"),be("/Filter /Standard"),be("/V "+$u.v),be("/R "+$u.r),be("/U <"+$u.toHexString($u.U)+">"),be("/O <"+$u.toHexString($u.O)+">"),be("/P "+$u.P),be(">>"),be("endobj")},KR=function(){for(var M in be("/Font <<"),ho)ho.hasOwnProperty(M)&&(!1===C||!0===C&&F.hasOwnProperty(M))&&be("/"+M+" "+ho[M].objectNumber+" 0 R");be(">>")},F6=function(){if(Object.keys(bs).length>0){for(var M in be("/Shading <<"),bs)bs.hasOwnProperty(M)&&bs[M]instanceof Wb&&bs[M].objectNumber>=0&&be("/"+M+" "+bs[M].objectNumber+" 0 R");Cs.publish("putShadingPatternDict"),be(">>")}},wE=function(M){if(Object.keys(bs).length>0){for(var Y in be("/Pattern <<"),bs)bs.hasOwnProperty(Y)&&bs[Y]instanceof B.TilingPattern&&bs[Y].objectNumber>=0&&bs[Y].objectNumber<M&&be("/"+Y+" "+bs[Y].objectNumber+" 0 R");Cs.publish("putTilingPatternDict"),be(">>")}},M6=function(){if(Object.keys(el).length>0){var M;for(M in be("/ExtGState <<"),el)el.hasOwnProperty(M)&&el[M].objectNumber>=0&&be("/"+M+" "+el[M].objectNumber+" 0 R");Cs.publish("putGStateDict"),be(">>")}},wl=function(M){bA(M.resourcesOid,!0),be("<<"),be("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),KR(),F6(),wE(M.objectOid),M6(),VT(),be(">>"),be("endobj")},ZR=function(){var M=[];mE(),T6(),yE(),vE(M),Cs.publish("putResources"),M.forEach(wl),wl({resourcesOid:og,objectOid:Number.MAX_SAFE_INTEGER}),Cs.publish("postPutResources")},$R=function(){Cs.publish("putAdditionalObjects");for(var M=0;M<pn.length;M++){var Y=pn[M];bA(Y.objId,!0),be(Y.content),be("endobj")}Cs.publish("postPutAdditionalObjects")},YR=function(M){da[M.fontName]=da[M.fontName]||{},da[M.fontName][M.fontStyle]=M.id},jT=function(M,Y,ye,Be,Xe){var Mt={id:"F"+(Object.keys(ho).length+1).toString(10),postScriptName:M,fontName:Y,fontStyle:ye,encoding:Be,isStandardFont:Xe||!1,metadata:{}};return Cs.publish("addFont",{font:Mt,instance:this}),ho[Mt.id]=Mt,YR(Mt),Mt.id},k6=function(M){for(var Y=0,ye=dn.length;Y<ye;Y++){var Be=jT.call(this,M[Y][0],M[Y][1],M[Y][2],dn[Y][3],!0);!1===C&&(F[Be]=!0);var Xe=M[Y][0].split("-");YR({id:Be,fontName:Xe[0],fontStyle:Xe[1]||""})}Cs.publish("addFonts",{fonts:ho,dictionary:da})},cg=function(M){return M.foo=function(){try{return M.apply(this,arguments)}catch(Be){var Y=Be.stack||"";~Y.indexOf(" at ")&&(Y=Y.split(" at ")[1]);var ye="Error in function "+Y.split("\n")[0].split("<")[0]+": "+Be.message;if(!Ni.console)throw new Error(ye);Ni.console.error(ye,Be),Ni.alert&&alert(ye)}},M.foo.bar=M,M.foo},bE=function(M,Y){var ye,Be,Xe,Mt,rn,Kn,xi,lr,_r;if(Xe=(Y=Y||{}).sourceEncoding||"Unicode",rn=Y.outputEncoding,(Y.autoencode||rn)&&ho[Br].metadata&&ho[Br].metadata[Xe]&&ho[Br].metadata[Xe].encoding&&(Mt=ho[Br].metadata[Xe].encoding,!rn&&ho[Br].encoding&&(rn=ho[Br].encoding),!rn&&Mt.codePages&&(rn=Mt.codePages[0]),"string"==typeof rn&&(rn=Mt[rn]),rn)){for(xi=!1,Kn=[],ye=0,Be=M.length;ye<Be;ye++)(lr=rn[M.charCodeAt(ye)])?Kn.push(String.fromCharCode(lr)):Kn.push(M[ye]),Kn[ye].charCodeAt(0)>>8&&(xi=!0);M=Kn.join("")}for(ye=M.length;void 0===xi&&0!==ye;)M.charCodeAt(ye-1)>>8&&(xi=!0),ye--;if(!xi)return M;for(Kn=Y.noBOM?[]:[254,255],ye=0,Be=M.length;ye<Be;ye++){if((_r=(lr=M.charCodeAt(ye))>>8)>>8)throw new Error("Character at position "+ye+" of string '"+M+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Kn.push(_r),Kn.push(lr-(_r<<8))}return String.fromCharCode.apply(void 0,Kn)},_h=B.__private__.pdfEscape=B.pdfEscape=function(M,Y){return bE(M,Y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},GT=B.__private__.beginPage=function(M){un[++tl]=[],rr[tl]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(M[0]),topRightY:Number(M[1])}},JR(tl),Ot(un[me])},WR=function(M,Y){var ye,Be,Xe;switch(e=Y||e,"string"==typeof M&&(ye=q(M.toLowerCase()),Array.isArray(ye)&&(Be=ye[0],Xe=ye[1])),Array.isArray(M)&&(Be=M[0]*Qn,Xe=M[1]*Qn),isNaN(Be)&&(Be=r[0],Xe=r[1]),(Be>14400||Xe>14400)&&(uo.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Be=Math.min(14400,Be),Xe=Math.min(14400,Xe)),r=[Be,Xe],e.substr(0,1)){case"l":Xe>Be&&(r=[Xe,Be]);break;case"p":Be>Xe&&(r=[Xe,Be])}GT(r),rO(ZT),be(ug),0!==YT&&be(YT+" J"),0!==WT&&be(WT+" j"),Cs.publish("addPage",{pageNumber:tl})},R6=function(M){M>0&&M<=tl&&(un.splice(M,1),rr.splice(M,1),tl--,me>tl&&(me=tl),this.setPage(me))},JR=function(M){M>0&&M<=tl&&(me=M)},O6=B.__private__.getNumberOfPages=B.getNumberOfPages=function(){return un.length-1},XR=function(M,Y,ye){var Be,Xe=void 0;return ye=ye||{},Y=void 0!==Y?Y:ho[Br].fontStyle,Be=(M=void 0!==M?M:ho[Br].fontName).toLowerCase(),void 0!==da[Be]&&void 0!==da[Be][Y]?Xe=da[Be][Y]:void 0!==da[M]&&void 0!==da[M][Y]?Xe=da[M][Y]:!1===ye.disableWarning&&uo.warn("Unable to look up font label for font '"+M+"', '"+Y+"'. Refer to getFontList() for available fonts."),Xe||ye.noFallback||null==(Xe=da.times[Y])&&(Xe=da.times.normal),Xe},L6=B.__private__.putInfo=function(){var M=lc(),Y=function(Be){return Be};for(var ye in null!==_&&(Y=$u.encryptor(M,0)),be("<<"),be("/Producer ("+_h(Y("jsPDF "+ki.version))+")"),zi)zi.hasOwnProperty(ye)&&zi[ye]&&be("/"+ye.substr(0,1).toUpperCase()+ye.substr(1)+" ("+_h(Y(zi[ye]))+")");be("/CreationDate ("+_h(Y(xt))+")"),be(">>"),be("endobj")},zT=B.__private__.putCatalog=function(M){var Y=(M=M||{}).rootDictionaryObjId||ky;switch(lc(),be("<<"),be("/Type /Catalog"),be("/Pages "+Y+" 0 R"),Un||(Un="fullwidth"),Un){case"fullwidth":be("/OpenAction [3 0 R /FitH null]");break;case"fullheight":be("/OpenAction [3 0 R /FitV null]");break;case"fullpage":be("/OpenAction [3 0 R /Fit]");break;case"original":be("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ye=""+Un;"%"===ye.substr(ye.length-1)&&(Un=parseInt(Un)/100),"number"==typeof Un&&be("/OpenAction [3 0 R /XYZ null null "+Bt(Un)+"]")}switch(Er||(Er="continuous"),Er){case"continuous":be("/PageLayout /OneColumn");break;case"single":be("/PageLayout /SinglePage");break;case"two":case"twoleft":be("/PageLayout /TwoColumnLeft");break;case"tworight":be("/PageLayout /TwoColumnRight")}ir&&be("/PageMode /"+ir),Cs.publish("putCatalog"),be(">>"),be("endobj")},N6=B.__private__.putTrailer=function(){be("trailer"),be("<<"),be("/Size "+(We+1)),be("/Root "+We+" 0 R"),be("/Info "+(We-1)+" 0 R"),null!==_&&be("/Encrypt "+$u.oid+" 0 R"),be("/ID [ <"+Re+"> <"+Re+"> ]"),be(">>")},P6=B.__private__.putHeader=function(){be("%PDF-"+U),be("%\xba\xdf\xac\xe0")},U6=B.__private__.putXRef=function(){var M="0000000000";be("xref"),be("0 "+(We+1)),be("0000000000 65535 f ");for(var Y=1;Y<=We;Y++)be("function"==typeof nt[Y]?(M+nt[Y]()).slice(-10)+" 00000 n ":void 0!==nt[Y]?(M+nt[Y]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},Ry=B.__private__.buildDocument=function(){Pi(),Ot(ft),Cs.publish("buildDocument"),P6(),sC(),$R(),ZR(),null!==_&&B6(),L6(),zT();var M=At;return U6(),N6(),be("startxref"),be(""+M),be("%%EOF"),Ot(un[me]),ft.join("\n")},CE=B.__private__.getBlob=function(M){return new Blob([li(M)],{type:"application/pdf"})},xE=B.output=B.__private__.output=cg(function(M,Y){switch("string"==typeof(Y=Y||{})?Y={filename:Y}:Y.filename=Y.filename||"generated.pdf",M){case void 0:return Ry();case"save":B.save(Y.filename);break;case"arraybuffer":return li(Ry());case"blob":return CE(Ry());case"bloburi":case"bloburl":if(void 0!==Ni.URL&&"function"==typeof Ni.URL.createObjectURL)return Ni.URL&&Ni.URL.createObjectURL(CE(Ry()))||void 0;uo.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ye="",Be=Ry();try{ye=O3(Be)}catch{ye=O3(unescape(encodeURIComponent(Be)))}return"data:application/pdf;filename="+Y.filename+";base64,"+ye;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Ni)){var Xe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Mt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Y.pdfObjectUrl&&(Xe=Y.pdfObjectUrl,Mt="");var rn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Xe+'"'+Mt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Y)+");<\/script></body></html>",Kn=Ni.open();return null!==Kn&&Kn.document.write(rn),Kn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Ni)){var xi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Y.filename+'" width="500px" height="400px" /></body></html>',lr=Ni.open();if(null!==lr){lr.document.write(xi);var _r=this;lr.document.documentElement.querySelector("#pdfViewer").onload=function(){lr.document.title=Y.filename,lr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(_r.output("bloburl"))}}return lr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Ni))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Xr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Y)+'"></iframe></body></html>',Da=Ni.open();if(null!==Da&&(Da.document.write(Xr),Da.document.title=Y.filename),Da||typeof safari>"u")return Da;break;case"datauri":case"dataurl":return Ni.document.location.href=this.output("datauristring",Y);default:return null}}),eO=function(M){return!0===Array.isArray(rC)&&rC.indexOf(M)>-1};switch(i){case"pt":Qn=1;break;case"mm":Qn=72/25.4;break;case"cm":Qn=72/2.54;break;case"in":Qn=72;break;case"px":Qn=1==eO("px_scaling")?.75:96/72;break;case"pc":case"em":Qn=12;break;case"ex":Qn=6;break;default:if("number"!=typeof i)throw new Error("Invalid unit: "+i);Qn=i}var $u=null;_n(),Ne();var Q6=function(M){return null!==_?$u.encryptor(M,0):function(Y){return Y}},tO=B.__private__.getPageInfo=B.getPageInfo=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:rr[M].objId,pageNumber:M,pageContext:rr[M]}},Ji=B.__private__.getPageInfoByObjId=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Y in rr)if(rr[Y].objId===M)break;return tO(Y)},H6=B.__private__.getCurrentPageInfo=B.getCurrentPageInfo=function(){return{objId:rr[me].objId,pageNumber:me,pageContext:rr[me]}};B.addPage=function(){return WR.apply(this,arguments),this},B.setPage=function(){return JR.apply(this,arguments),Ot.call(this,un[me]),this},B.insertPage=function(M){return this.addPage(),this.movePage(me,M),this},B.movePage=function(M,Y){var ye,Be;if(M>Y){ye=un[M],Be=rr[M];for(var Xe=M;Xe>Y;Xe--)un[Xe]=un[Xe-1],rr[Xe]=rr[Xe-1];un[Y]=ye,rr[Y]=Be,this.setPage(Y)}else if(M<Y){ye=un[M],Be=rr[M];for(var Mt=M;Mt<Y;Mt++)un[Mt]=un[Mt+1],rr[Mt]=rr[Mt+1];un[Y]=ye,rr[Y]=Be,this.setPage(Y)}return this},B.deletePage=function(){return R6.apply(this,arguments),this},B.__private__.text=B.text=function(M,Y,ye,Be,Xe){var Mt,rn,Kn,xi,lr,_r,Xr,Da,nl,Gl=(Be=Be||{}).scope||this;if("number"==typeof M&&"number"==typeof Y&&("string"==typeof ye||Array.isArray(ye))){var Yu=ye;ye=Y,Y=M,M=Yu}if(arguments[3]instanceof Ri?(we("The transform parameter of text() with a Matrix value"),nl=Xe):(Kn=arguments[4],xi=arguments[5],"object"===Os(Xr=arguments[3])&&null!==Xr||("string"==typeof Kn&&(xi=Kn,Kn=null),"string"==typeof Xr&&(xi=Xr,Xr=null),"number"==typeof Xr&&(Kn=Xr,Xr=null),Be={flags:Xr,angle:Kn,align:xi})),isNaN(Y)||isNaN(ye)||null==M)throw new Error("Invalid arguments passed to jsPDF.text");if(0===M.length)return Gl;var Nc="",dg=!1,CA="number"==typeof Be.lineHeightFactor?Be.lineHeightFactor:aC,Ly=Gl.internal.scaleFactor;function uO(Mo){return Mo=Mo.split("\t").join(Array(Be.TabLen||9).join(" ")),_h(Mo,Xr)}function n2(Mo){for(var ko,bl=Mo.concat(),cc=[],Qy=bl.length;Qy--;)"string"==typeof(ko=bl.shift())?cc.push(ko):Array.isArray(Mo)&&(1===ko.length||void 0===ko[1]&&void 0===ko[2])?cc.push(ko[0]):cc.push([ko[0],ko[1],ko[2]]);return cc}function r2(Mo,ko){var bl;if("string"==typeof Mo)bl=ko(Mo)[0];else if(Array.isArray(Mo)){for(var cc,Qy,Z0=Mo.concat(),PE=[],hO=Z0.length;hO--;)"string"==typeof(cc=Z0.shift())?PE.push(ko(cc)[0]):Array.isArray(cc)&&"string"==typeof cc[0]&&(Qy=ko(cc[0],cc[1],cc[2]),PE.push([Qy[0],Qy[1],Qy[2]]));bl=PE}return bl}var BE=!1,s2=!0;if("string"==typeof M)BE=!0;else if(Array.isArray(M)){var o2=M.concat();rn=[];for(var FE,yh=o2.length;yh--;)("string"!=typeof(FE=o2.shift())||Array.isArray(FE)&&"string"!=typeof FE[0])&&(s2=!1);BE=s2}if(!1===BE)throw new Error('Type of text must be string or Array. "'+M+'" is not recognized.');"string"==typeof M&&(M=M.match(/[\r?\n]/)?M.split(/\r\n|\r|\n/g):[M]);var ME=In/Gl.internal.scaleFactor,kE=ME*(CA-1);switch(Be.baseline){case"bottom":ye-=kE;break;case"top":ye+=ME-kE;break;case"hanging":ye+=ME-2*kE;break;case"middle":ye+=ME/2-kE}if((_r=Be.maxWidth||0)>0&&("string"==typeof M?M=Gl.splitTextToSize(M,_r):"[object Array]"===Object.prototype.toString.call(M)&&(M=M.reduce(function(Mo,ko){return Mo.concat(Gl.splitTextToSize(ko,_r))},[]))),Cs.publish("preProcessText",Mt={text:M,x:Y,y:ye,options:Be,mutex:{pdfEscape:_h,activeFontKey:Br,fonts:ho,activeFontSize:In}}),M=Mt.text,Kn=(Be=Mt.options).angle,nl instanceof Ri||!Kn||"number"!=typeof Kn)Kn&&Kn instanceof Ri&&(nl=Kn);else{Kn*=Math.PI/180,0===Be.rotationDirection&&(Kn=-Kn),he===W.ADVANCED&&(Kn=-Kn);var RE=Math.cos(Kn),a2=Math.sin(Kn);nl=new Ri(RE,a2,-a2,RE,0,0)}he!==W.ADVANCED||nl||(nl=Jm),void 0!==(lr=Be.charSpace||IE)&&(Nc+=Ve(de(lr))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(Da=Be.horizontalScale)&&(Nc+=Ve(100*Da)+" Tz\n");var vh=-1,W6=void 0!==Be.renderingMode?Be.renderingMode:Be.stroke,l2=Gl.internal.getCurrentPageInfo().pageContext;switch(W6){case 0:case!1:case"fill":vh=0;break;case 1:case!0:case"stroke":vh=1;break;case 2:case"fillThenStroke":vh=2;break;case 3:case"invisible":vh=3;break;case 4:case"fillAndAddForClipping":vh=4;break;case 5:case"strokeAndAddPathForClipping":vh=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":vh=6;break;case 7:case"addToPathForClipping":vh=7}var dO=void 0!==l2.usedRenderingMode?l2.usedRenderingMode:-1;-1!==vh?Nc+=vh+" Tr\n":-1!==dO&&(Nc+="0 Tr\n"),-1!==vh&&(l2.usedRenderingMode=vh),xi=Be.align||"left";var hg,c2=In*CA,J6=Gl.internal.pageSize.getWidth(),X6=ho[Br];lr=Be.charSpace||IE,_r=Be.maxWidth||0,Xr=Object.assign({autoencode:!0,noBOM:!0},Be.flags);var G0=[];if("[object Array]"===Object.prototype.toString.call(M)){var Rf;rn=n2(M),"left"!==xi&&(hg=rn.map(function(Mo){return Gl.getStringUnitWidth(Mo,{font:X6,charSpace:lr,fontSize:In,doKerning:!1})*In/Ly}));var Ag,z0=0;if("right"===xi){Y-=hg[0],M=[],yh=rn.length;for(var n_=0;n_<yh;n_++)0===n_?(Ag=Oy(Y),Rf=H0(ye)):(Ag=de(z0-hg[n_]),Rf=-c2),M.push([rn[n_],Ag,Rf]),z0=hg[n_]}else if("center"===xi){Y-=hg[0]/2,M=[],yh=rn.length;for(var Ny=0;Ny<yh;Ny++)0===Ny?(Ag=Oy(Y),Rf=H0(ye)):(Ag=de((z0-hg[Ny])/2),Rf=-c2),M.push([rn[Ny],Ag,Rf]),z0=hg[Ny]}else if("left"===xi){M=[],yh=rn.length;for(var OE=0;OE<yh;OE++)M.push(rn[OE])}else{if("justify"!==xi)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');M=[],yh=rn.length,_r=0!==_r?_r:J6;for(var fg=0;fg<yh;fg++)Rf=0===fg?H0(ye):-c2,Ag=0===fg?Oy(Y):0,G0.push(fg<yh-1?Ve(de((_r-hg[fg])/(rn[fg].split(" ").length-1))):0),M.push([rn[fg],Ag,Rf])}}var LE="boolean"==typeof Be.R2L?Be.R2L:yi;!0===LE&&(M=r2(M,function(Mo,ko,bl){return[Mo.split("").reverse().join(""),ko,bl]})),Cs.publish("postProcessText",Mt={text:M,x:Y,y:ye,options:Be,mutex:{pdfEscape:_h,activeFontKey:Br,fonts:ho,activeFontSize:In}}),M=Mt.text,dg=Mt.mutex.isHex||!1;var u2=ho[Br].encoding;"WinAnsiEncoding"!==u2&&"StandardEncoding"!==u2||(M=r2(M,function(Mo,ko,bl){return[uO(Mo),ko,bl]})),rn=n2(M),M=[];for(var q0,pg,Py,uC=0,NE=1,dC=Array.isArray(rn[0])?NE:uC,K0="",d2=function(Mo,ko,bl){var cc="";return bl instanceof Ri?(bl="number"==typeof Be.angle?sg(bl,new Ri(1,0,0,1,Mo,ko)):sg(new Ri(1,0,0,1,Mo,ko),bl),he===W.ADVANCED&&(bl=sg(new Ri(1,0,0,-1,0,0),bl)),cc=bl.join(" ")+" Tm\n"):cc=Ve(Mo)+" "+Ve(ko)+" Td\n",cc},Of=0;Of<rn.length;Of++){switch(K0="",dC){case NE:Py=(dg?"<":"(")+rn[Of][0]+(dg?">":")"),q0=parseFloat(rn[Of][1]),pg=parseFloat(rn[Of][2]);break;case uC:Py=(dg?"<":"(")+rn[Of]+(dg?">":")"),q0=Oy(Y),pg=H0(ye)}void 0!==G0&&void 0!==G0[Of]&&(K0=G0[Of]+" Tw\n"),0===Of?M.push(K0+d2(q0,pg,nl)+Py):dC===uC?M.push(K0+Py):dC===NE&&M.push(K0+d2(q0,pg,nl)+Py)}M=M.join(dC===uC?" Tj\nT* ":" Tj\n"),M+=" Tj\n";var Uy="BT\n/";return Uy+=Br+" "+In+" Tf\n",Uy+=Ve(In*CA)+" TL\n",Uy+=lC+"\n",Uy+=Nc,Uy+=M,be(Uy+="ET"),F[Br]=!0,Gl};var V6=B.__private__.clip=B.clip=function(M){return be("evenodd"===M?"W*":"W"),this};B.clipEvenOdd=function(){return V6("evenodd")},B.__private__.discardPath=B.discardPath=function(){return be("n"),this};var t_=B.__private__.isValidStyle=function(M){var Y=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(M)&&(Y=!0),Y};B.__private__.setDefaultPathOperation=B.setDefaultPathOperation=function(M){return t_(M)&&(f=M),this};var nO=B.__private__.getStyle=B.getStyle=function(M){var Y=f;switch(M){case"D":case"S":Y="S";break;case"F":Y="f";break;case"FD":case"DF":Y="B";break;case"f":case"f*":case"B":case"B*":Y=M}return Y},iO=B.close=function(){return be("h"),this};B.stroke=function(){return be("S"),this},B.fill=function(M){return EE("f",M),this},B.fillEvenOdd=function(M){return EE("f*",M),this},B.fillStroke=function(M){return EE("B",M),this},B.fillStrokeEvenOdd=function(M){return EE("B*",M),this};var EE=function(M,Y){"object"===Os(Y)?G6(Y,M):be(M)},qT=function(M){null===M||he===W.ADVANCED&&void 0===M||(M=nO(M),be(M))};function j6(M,Y,ye,Be,Xe){var Mt=new aE(Y||this.boundingBox,ye||this.xStep,Be||this.yStep,this.gState,Xe||this.matrix);Mt.stream=this.stream;var rn=M+"$$"+this.cloneIndex+++"$$";return mh(rn,Mt),Mt}var G6=function(M,Y){var ye=iC[M.key],Be=bs[ye];if(Be instanceof Wb)be("q"),be(z6(Y)),Be.gState&&B.setGState(Be.gState),be(M.matrix.toString()+" cm"),be("/"+ye+" sh"),be("Q");else if(Be instanceof aE){var Xe=new Ri(1,0,0,-1,0,j0());M.matrix&&(Xe=Xe.multiply(M.matrix||Jm),ye=j6.call(Be,M.key,M.boundingBox,M.xStep,M.yStep,Xe).id),be("q"),be("/Pattern cs"),be("/"+ye+" scn"),Be.gState&&B.setGState(Be.gState),be(Y),be("Q")}},z6=function(M){switch(M){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},KT=B.moveTo=function(M,Y){return be(Ve(de(M))+" "+Ve(Se(Y))+" m"),this},oC=B.lineTo=function(M,Y){return be(Ve(de(M))+" "+Ve(Se(Y))+" l"),this},Q0=B.curveTo=function(M,Y,ye,Be,Xe,Mt){return be([Ve(de(M)),Ve(Se(Y)),Ve(de(ye)),Ve(Se(Be)),Ve(de(Xe)),Ve(Se(Mt)),"c"].join(" ")),this};B.__private__.line=B.line=function(M,Y,ye,Be,Xe){if(isNaN(M)||isNaN(Y)||isNaN(ye)||isNaN(Be)||!t_(Xe))throw new Error("Invalid arguments passed to jsPDF.line");return he===W.COMPAT?this.lines([[ye-M,Be-Y]],M,Y,[1,1],Xe||"S"):this.lines([[ye-M,Be-Y]],M,Y,[1,1]).stroke()},B.__private__.lines=B.lines=function(M,Y,ye,Be,Xe,Mt){var rn,Kn,xi,lr,_r,Yu,Nc,dg;if("number"==typeof M&&(dg=ye,ye=Y,Y=M,M=dg),Be=Be||[1,1],Mt=Mt||!1,isNaN(Y)||isNaN(ye)||!Array.isArray(M)||!Array.isArray(Be)||!t_(Xe)||"boolean"!=typeof Mt)throw new Error("Invalid arguments passed to jsPDF.lines");for(KT(Y,ye),rn=Be[0],Kn=Be[1],lr=M.length,Yu=Y,Nc=ye,xi=0;xi<lr;xi++)2===(_r=M[xi]).length?oC(Yu=_r[0]*rn+Yu,Nc=_r[1]*Kn+Nc):Q0(_r[0]*rn+Yu,_r[1]*Kn+Nc,_r[2]*rn+Yu,_r[3]*Kn+Nc,Yu=_r[4]*rn+Yu,Nc=_r[5]*Kn+Nc);return Mt&&iO(),qT(Xe),this},B.path=function(M){for(var Y=0;Y<M.length;Y++){var ye=M[Y],Be=ye.c;switch(ye.op){case"m":KT(Be[0],Be[1]);break;case"l":oC(Be[0],Be[1]);break;case"c":Q0.apply(this,Be);break;case"h":iO()}}return this},B.__private__.rect=B.rect=function(M,Y,ye,Be,Xe){if(isNaN(M)||isNaN(Y)||isNaN(ye)||isNaN(Be)||!t_(Xe))throw new Error("Invalid arguments passed to jsPDF.rect");return he===W.COMPAT&&(Be=-Be),be([Ve(de(M)),Ve(Se(Y)),Ve(de(ye)),Ve(de(Be)),"re"].join(" ")),qT(Xe),this},B.__private__.triangle=B.triangle=function(M,Y,ye,Be,Xe,Mt,rn){if(isNaN(M)||isNaN(Y)||isNaN(ye)||isNaN(Be)||isNaN(Xe)||isNaN(Mt)||!t_(rn))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ye-M,Be-Y],[Xe-ye,Mt-Be],[M-Xe,Y-Mt]],M,Y,[1,1],rn,!0),this},B.__private__.roundedRect=B.roundedRect=function(M,Y,ye,Be,Xe,Mt,rn){if(isNaN(M)||isNaN(Y)||isNaN(ye)||isNaN(Be)||isNaN(Xe)||isNaN(Mt)||!t_(rn))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Kn=4/3*(Math.SQRT2-1);return Xe=Math.min(Xe,.5*ye),Mt=Math.min(Mt,.5*Be),this.lines([[ye-2*Xe,0],[Xe*Kn,0,Xe,Mt-Mt*Kn,Xe,Mt],[0,Be-2*Mt],[0,Mt*Kn,-Xe*Kn,Mt,-Xe,Mt],[2*Xe-ye,0],[-Xe*Kn,0,-Xe,-Mt*Kn,-Xe,-Mt],[0,2*Mt-Be],[0,-Mt*Kn,Xe*Kn,-Mt,Xe,-Mt]],M+Xe,Y,[1,1],rn,!0),this},B.__private__.ellipse=B.ellipse=function(M,Y,ye,Be,Xe){if(isNaN(M)||isNaN(Y)||isNaN(ye)||isNaN(Be)||!t_(Xe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Mt=4/3*(Math.SQRT2-1)*ye,rn=4/3*(Math.SQRT2-1)*Be;return KT(M+ye,Y),Q0(M+ye,Y-rn,M+Mt,Y-Be,M,Y-Be),Q0(M-Mt,Y-Be,M-ye,Y-rn,M-ye,Y),Q0(M-ye,Y+rn,M-Mt,Y+Be,M,Y+Be),Q0(M+Mt,Y+Be,M+ye,Y+rn,M+ye,Y),qT(Xe),this},B.__private__.circle=B.circle=function(M,Y,ye,Be){if(isNaN(M)||isNaN(Y)||isNaN(ye)||!t_(Be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(M,Y,ye,ye,Be)},B.setFont=function(M,Y,ye){return ye&&(Y=ct(Y,ye)),Br=XR(M,Y,{disableWarning:!1}),this};var q6=B.__private__.getFont=B.getFont=function(){return ho[XR.apply(B,arguments)]};B.__private__.getFontList=B.getFontList=function(){var M,Y,ye={};for(M in da)if(da.hasOwnProperty(M))for(Y in ye[M]=[],da[M])da[M].hasOwnProperty(Y)&&ye[M].push(Y);return ye},B.addFont=function(M,Y,ye,Be,Xe){var Mt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==Mt.indexOf(arguments[3])?Xe=arguments[3]:arguments[3]&&-1==Mt.indexOf(arguments[3])&&(ye=ct(ye,Be)),jT.call(this,M,Y,ye,Xe=Xe||"Identity-H")};var aC,ZT=n.lineWidth||.200025,SE=B.__private__.getLineWidth=B.getLineWidth=function(){return ZT},rO=B.__private__.setLineWidth=B.setLineWidth=function(M){return ZT=M,be(Ve(de(M))+" w"),this};B.__private__.setLineDash=ki.API.setLineDash=ki.API.setLineDashPattern=function(M,Y){if(M=M||[],Y=Y||0,isNaN(Y)||!Array.isArray(M))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return M=M.map(function(ye){return Ve(de(ye))}).join(" "),Y=Ve(de(Y)),be("["+M+"] "+Y+" d"),this};var sO=B.__private__.getLineHeight=B.getLineHeight=function(){return In*aC};B.__private__.getLineHeight=B.getLineHeight=function(){return In*aC};var oO=B.__private__.setLineHeightFactor=B.setLineHeightFactor=function(M){return"number"==typeof(M=M||1.15)&&(aC=M),this},aO=B.__private__.getLineHeightFactor=B.getLineHeightFactor=function(){return aC};oO(n.lineHeight);var Oy=B.__private__.getHorizontalCoordinate=function(M){return de(M)},H0=B.__private__.getVerticalCoordinate=function(M){return he===W.ADVANCED?M:rr[me].mediaBox.topRightY-rr[me].mediaBox.bottomLeftY-de(M)},K6=B.__private__.getHorizontalCoordinateString=B.getHorizontalCoordinateString=function(M){return Ve(Oy(M))},V0=B.__private__.getVerticalCoordinateString=B.getVerticalCoordinateString=function(M){return Ve(H0(M))},ug=n.strokeColor||"0 G";B.__private__.getStrokeColor=B.getDrawColor=function(){return ag(ug)},B.__private__.setStrokeColor=B.setDrawColor=function(M,Y,ye,Be){return ug=lg({ch1:M,ch2:Y,ch3:ye,ch4:Be,pdfColorType:"draw",precision:2}),be(ug),this};var $T=n.fillColor||"0 g";B.__private__.getFillColor=B.getFillColor=function(){return ag($T)},B.__private__.setFillColor=B.setFillColor=function(M,Y,ye,Be){return $T=lg({ch1:M,ch2:Y,ch3:ye,ch4:Be,pdfColorType:"fill",precision:2}),be($T),this};var lC=n.textColor||"0 g",Z6=B.__private__.getTextColor=B.getTextColor=function(){return ag(lC)};B.__private__.setTextColor=B.setTextColor=function(M,Y,ye,Be){return lC=lg({ch1:M,ch2:Y,ch3:ye,ch4:Be,pdfColorType:"text",precision:3}),this};var IE=n.charSpace,$6=B.__private__.getCharSpace=B.getCharSpace=function(){return parseFloat(IE||0)};B.__private__.setCharSpace=B.setCharSpace=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return IE=M,this};var YT=0;B.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},B.__private__.setLineCap=B.setLineCap=function(M){var Y=B.CapJoinStyles[M];if(void 0===Y)throw new Error("Line cap style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return YT=Y,be(Y+" J"),this};var WT=0;B.__private__.setLineJoin=B.setLineJoin=function(M){var Y=B.CapJoinStyles[M];if(void 0===Y)throw new Error("Line join style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return WT=Y,be(Y+" j"),this},B.__private__.setLineMiterLimit=B.__private__.setMiterLimit=B.setLineMiterLimit=B.setMiterLimit=function(M){if(M=M||0,isNaN(M))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return be(Ve(de(M))+" M"),this},B.GState=_R,B.setGState=function(M){(M="string"==typeof M?el[rg[M]]:lO(null,M)).equals(My)||(be("/"+M.id+" gs"),My=M)};var lO=function(M,Y){if(!M||!rg[M]){var ye=!1;for(var Be in el)if(el.hasOwnProperty(Be)&&el[Be].equals(Y)){ye=!0;break}if(ye)Y=el[Be];else{var Xe="GS"+(Object.keys(el).length+1).toString(10);el[Xe]=Y,Y.id=Xe}return M&&(rg[M]=Y.id),Cs.publish("addGState",Y),Y}};B.addGState=function(M,Y){return lO(M,Y),this},B.saveGraphicsState=function(){return be("q"),$m.push({key:Br,size:In,color:lC}),this},B.restoreGraphicsState=function(){be("Q");var M=$m.pop();return Br=M.key,In=M.size,lC=M.color,My=null,this},B.setCurrentTransformationMatrix=function(M){return be(M.toString()+" cm"),this},B.comment=function(M){return be("#"+M),this};var DE=function(M,Y){var ye=M||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ye},set:function(Mt){isNaN(Mt)||(ye=parseFloat(Mt))}});var Be=Y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Be},set:function(Mt){isNaN(Mt)||(Be=parseFloat(Mt))}});var Xe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Xe},set:function(Mt){Xe=Mt.toString()}}),this},JT=function(M,Y,ye,Be){DE.call(this,M,Y),this.type="rect";var Xe=ye||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Xe},set:function(rn){isNaN(rn)||(Xe=parseFloat(rn))}});var Mt=Be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Mt},set:function(rn){isNaN(rn)||(Mt=parseFloat(rn))}}),this},XT=function(){this.page=tl,this.currentPage=me,this.pages=un.slice(0),this.pagesContext=rr.slice(0),this.x=Zu,this.y=cs,this.matrix=ig,this.width=cC(me),this.height=j0(me),this.outputDestination=Xn,this.id="",this.objectNumber=-1};XT.prototype.restore=function(){tl=this.page,rr=this.pagesContext,un=this.pages,Zu=this.x,cs=this.y,ig=this.matrix,e2(me=this.currentPage,this.width),t2(me,this.height),Xn=this.outputDestination};var cO=function(M,Y,ye,Be,Xe){Wm.push(new XT),tl=me=0,un=[],Zu=M,cs=Y,ig=Xe,GT([ye,Be])},Y6=function(M){if(Ym[M])Wm.pop().restore();else{var Y=new XT,ye="Xo"+(Object.keys(au).length+1).toString(10);Y.id=ye,Ym[M]=ye,au[ye]=Y,Cs.publish("addFormObject",Y),Wm.pop().restore()}};for(var TE in B.beginFormObject=function(M,Y,ye,Be,Xe){return cO(M,Y,ye,Be,Xe),this},B.endFormObject=function(M){return Y6(M),this},B.doFormObject=function(M,Y){var ye=au[Ym[M]];return be("q"),be(Y.toString()+" cm"),be("/"+ye.id+" Do"),be("Q"),this},B.getFormObject=function(M){var Y=au[Ym[M]];return{x:Y.x,y:Y.y,width:Y.width,height:Y.height,matrix:Y.matrix}},B.save=function(M,Y){return M=M||"generated.pdf",(Y=Y||{}).returnPromise=Y.returnPromise||!1,!1===Y.returnPromise?(Yb(CE(Ry()),M),"function"==typeof Yb.unload&&Ni.setTimeout&&setTimeout(Yb.unload,911),this):new Promise(function(ye,Be){try{var Xe=Yb(CE(Ry()),M);"function"==typeof Yb.unload&&Ni.setTimeout&&setTimeout(Yb.unload,911),ye(Xe)}catch(Mt){Be(Mt.message)}})},ki.API)ki.API.hasOwnProperty(TE)&&("events"===TE&&ki.API.events.length?function(M,Y){var Be,Xe;for(Xe=Y.length-1;-1!==Xe;Xe--)M.subscribe.apply(M,[Y[Xe][0]].concat("function"==typeof(Be=Y[Xe][1])?[Be]:Be))}(Cs,ki.API.events):B[TE]=ki.API[TE]);var cC=B.getPageWidth=function(M){return(rr[M=M||me].mediaBox.topRightX-rr[M].mediaBox.bottomLeftX)/Qn},e2=B.setPageWidth=function(M,Y){rr[M].mediaBox.topRightX=Y*Qn+rr[M].mediaBox.bottomLeftX},j0=B.getPageHeight=function(M){return(rr[M=M||me].mediaBox.topRightY-rr[M].mediaBox.bottomLeftY)/Qn},t2=B.setPageHeight=function(M,Y){rr[M].mediaBox.topRightY=Y*Qn+rr[M].mediaBox.bottomLeftY};return B.internal={pdfEscape:_h,getStyle:nO,getFont:q6,getFontSize:On,getCharSpace:$6,getTextColor:Z6,getLineHeight:sO,getLineHeightFactor:aO,getLineWidth:SE,write:ar,getHorizontalCoordinate:Oy,getVerticalCoordinate:H0,getCoordinateString:K6,getVerticalCoordinateString:V0,collections:{},newObject:lc,newAdditionalObject:pE,newObjectDeferred:jl,newObjectDeferredBegin:bA,getFilters:Xm,putStream:kf,events:Cs,scaleFactor:Qn,pageSize:{getWidth:function(){return cC(me)},setWidth:function(M){e2(me,M)},getHeight:function(){return j0(me)},setHeight:function(M){t2(me,M)}},encryptionOptions:_,encryption:$u,getEncryptor:Q6,output:xE,getNumberOfPages:O6,pages:un,out:be,f2:Bt,f3:Ae,getPageInfo:tO,getPageInfoByObjId:Ji,getCurrentPageInfo:H6,getPDFVersion:H,Point:DE,Rectangle:JT,Matrix:Ri,hasHotfix:eO},Object.defineProperty(B.internal.pageSize,"width",{get:function(){return cC(me)},set:function(M){e2(me,M)},enumerable:!0,configurable:!0}),Object.defineProperty(B.internal.pageSize,"height",{get:function(){return j0(me)},set:function(M){t2(me,M)},enumerable:!0,configurable:!0}),k6.call(B,dn),Br="F1",WR(r,e),Cs.publish("initialized"),B}sE.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},sE.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},sE.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},sE.prototype.processOwnerPassword=function(n,t){return P3(N3(t).substr(0,5),n)},sE.prototype.encryptor=function(n,t){var e=N3(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return P3(e,i)}},_R.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||Os(n)!==Os(this))return!1;var i=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;i++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&i--;return 0===i},ki.API={events:[]},ki.version="2.5.1";var Xa=ki.API,U3=1,Jb=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},lE=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},nr=function(n){return n.toFixed(2)},L0=function(n){return n.toFixed(5)};Xa.__acroform__={};var gh=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},wK=function(n){return n*U3},Gm=function(n){var t=new CK,e=ri.internal.getHeight(n)||0,i=ri.internal.getWidth(n)||0;return t.BBox=[0,0,Number(nr(i)),Number(nr(e))],t},bpe=Xa.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<t},Cpe=Xa.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<t)},xpe=Xa.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(n&1<<t)?0:1},ml=Xa.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return xpe(n,t-1)},_l=Xa.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return bpe(n,t-1)},yl=Xa.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Cpe(n,t-1)},Epe=Xa.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,r=n[0],o=n[1],a=n[2],u=n[3],h={};return h.lowerLeft_X=e(r)||0,h.lowerLeft_Y=i(o+u)||0,h.upperRight_X=e(r+a)||0,h.upperRight_Y=i(o)||0,[Number(nr(h.lowerLeft_X)),Number(nr(h.lowerLeft_Y)),Number(nr(h.upperRight_X)),Number(nr(h.upperRight_Y))]},Spe=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],i=Q3(n,n._V||n.DV),r=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+r+" "+nr(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=Gm(n);return o.scope=n.scope,o.stream=t.join("\n"),o}},Q3=function(n,t){var e=0===n.fontSize?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},r=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");r=r.map(n.multiline?function(Ae){return Ae.split("\n")}:function(Ae){return[Ae]});var o=e,a=ri.internal.getHeight(n)||0;a=a<0?-a:a;var Ae,u=ri.internal.getWidth(n)||0;u=u<0?-u:u,o++;e:for(;o>0;){t="",o--;var f,_,C=yR("3",n,o).height,F=n.multiline?a-o:(a-C)/2,B=F+=2,U=0,H=0,Z=0;if(o<=0){t="(...) Tj\n",t+="% Width of Text: "+yR(t,n,o=12).width+", FieldWidth:"+u+"\n";break}for(var q="",W=0,he=0;he<r.length;he++)if(r.hasOwnProperty(he)){var xe=!1;if(1!==r[he].length&&Z!==r[he].length-1){if((C+2)*(W+2)+2>a)continue e;q+=r[he][Z],xe=!0,H=he,he--}else{q=" "==(q+=r[he][Z]+" ").substr(q.length-1)?q.substr(0,q.length-1):q;var Ze=parseInt(he),ct=(Ae=Ze)+1<r.length&&yR(q+" "+r[Ae+1][0],n,o).width<=u-4,Ve=he>=r.length-1;if(ct&&!Ve){q+=" ",Z=0;continue}if(ct||Ve){if(Ve)H=Ze;else if(n.multiline&&(C+2)*(W+2)+2>a)continue e}else{if(!n.multiline||(C+2)*(W+2)+2>a)continue e;H=Ze}}for(var we="",Ft=U;Ft<=H;Ft++){var Bt=r[Ft];if(n.multiline){if(Ft===H){we+=Bt[Z]+" ",Z=(Z+1)%Bt.length;continue}if(Ft===U){we+=Bt[Bt.length-1]+" ";continue}}we+=Bt[0]+" "}switch(we=" "==we.substr(we.length-1)?we.substr(0,we.length-1):we,_=yR(we,n,o).width,n.textAlign){case"right":f=u-_-2;break;case"center":f=(u-_)/2;break;default:f=2}t+=nr(f)+" "+nr(B)+" Td\n",t+="("+Jb(we)+") Tj\n",t+=-nr(f)+" 0 Td\n",B=-(o+2),_=0,U=xe?H:H+1,W++,q=""}break}return i.text=t,i.fontSize=o,i},yR=function(n,t,e){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:r}},Ipe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Dpe=function(n,t){var e={type:"reference",object:n};void 0===t.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===e.type&&i.object===e.object})&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},bK=Xa.__acroform__.arrayToPdfArray=function(n,t,e){var i=function(a){return a};if(Array.isArray(n)){for(var r="[",o=0;o<n.length;o++)switch(0!==o&&(r+=" "),Os(n[o])){case"boolean":case"number":case"object":r+=n[o].toString();break;case"string":"/"!==n[o].substr(0,1)?(void 0!==t&&e&&(i=e.internal.getEncryptor(t)),r+="("+Jb(i(n[o].toString()))+")"):r+=n[o].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},H3=function(n,t,e){var i=function(r){return r};return void 0!==t&&e&&(i=e.internal.getEncryptor(t)),(n=n||"").toString(),"("+Jb(i(n))+")"},zm=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};zm.prototype.toString=function(){return this.objId+" 0 R"},zm.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},zm.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(o){return"content"!=o&&"appearanceStreamContent"!=o&&"scope"!=o&&"objId"!=o&&"_"!=o.substring(0,1)});for(var e in t)if(!1===Object.getOwnPropertyDescriptor(this,t[e]).configurable){var i=t[e],r=this[i];r&&(Array.isArray(r)?n.push({key:i,value:bK(r,this.objId,this.scope)}):r instanceof zm?(r.scope=this.scope,n.push({key:i,value:r.objId+" 0 R"})):"function"!=typeof r&&n.push({key:i,value:r}))}return n};var CK=function(){zm.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};gh(CK,zm);var xK=function(){zm.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Jb(e(n))+")"}},set:function(e){n=e}})};gh(xK,zm);var eg=function n(){zm.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(q){if(isNaN(q))throw new Error('Invalid value "'+q+'" for attribute F supplied.');t=q}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(t,3))},set:function(q){this.F=!0===Boolean(q)?_l(t,3):yl(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(q){if(isNaN(q))throw new Error('Invalid value "'+q+'" for attribute Ff supplied.');e=q}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==i.length)return i},set:function(q){i=void 0!==q?q:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(q){i[0]=q}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(q){i[1]=q}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(q){i[2]=q}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(q){i[3]=q}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(q){switch(q){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=q;break;default:throw new Error('Invalid value "'+q+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof bR)return;o="FieldObject"+n.FieldNum++}var q=function(W){return W};return this.scope&&(q=this.scope.internal.getEncryptor(this.objId)),"("+Jb(q(o))+")"},set:function(q){o=q.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(q){o=q}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(q){a=q}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(q){u=q}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(q){h=q}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===f?50/U3:f},set:function(q){f=q}});var _="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return _},set:function(q){_=q}});var C="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!C||this instanceof bR||this instanceof Xb))return H3(C,this.objId,this.scope)},set:function(q){q=q.toString(),C=q}});var F=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(F)return this instanceof Lc?F:H3(F,this.objId,this.scope)},set:function(q){q=q.toString(),F=this instanceof Lc?q:"("===q.substr(0,1)?lE(q.substr(1,q.length-2)):lE(q)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Lc?lE(F.substr(1,F.length-1)):F},set:function(q){q=q.toString(),F=this instanceof Lc?"/"+q:q}});var B=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(B)return B},set:function(q){this.V=q}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(B)return this instanceof Lc?B:H3(B,this.objId,this.scope)},set:function(q){q=q.toString(),B=this instanceof Lc?q:"("===q.substr(0,1)?lE(q.substr(1,q.length-2)):lE(q)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Lc?lE(B.substr(1,B.length-1)):B},set:function(q){q=q.toString(),B=this instanceof Lc?"/"+q:q}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var U,H=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return H},set:function(q){q=Boolean(q),H=q}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(U)return U},set:function(q){U=q}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,1))},set:function(q){this.Ff=!0===Boolean(q)?_l(this.Ff,1):yl(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,2))},set:function(q){this.Ff=!0===Boolean(q)?_l(this.Ff,2):yl(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,3))},set:function(q){this.Ff=!0===Boolean(q)?_l(this.Ff,3):yl(this.Ff,3)}});var Z=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==Z)return Z},set:function(q){if(-1===[0,1,2].indexOf(q))throw new Error('Invalid value "'+q+'" for attribute Q supplied.');Z=q}}),Object.defineProperty(this,"textAlign",{get:function(){var q;switch(Z){case 0:default:q="left";break;case 1:q="center";break;case 2:q="right"}return q},configurable:!0,enumerable:!0,set:function(q){switch(q){case"right":case 2:Z=2;break;case"center":case 1:Z=1;break;default:Z=0}}})};gh(eg,zm);var cE=function(){eg.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return bK(t,this.objId,this.scope)},set:function(e){var i,r;r=[],"string"==typeof(i=e)&&(r=function(o,a,u){u||(u=1);for(var h,f=[];h=a.exec(o);)f.push(h[u]);return f}(i,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==i););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,18))},set:function(e){this.Ff=!0===Boolean(e)?_l(this.Ff,18):yl(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,19))},set:function(e){!0===this.combo&&(this.Ff=!0===Boolean(e)?_l(this.Ff,19):yl(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=_l(this.Ff,20),t.sort()):this.Ff=yl(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,22))},set:function(e){this.Ff=!0===Boolean(e)?_l(this.Ff,22):yl(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,23))},set:function(e){this.Ff=!0===Boolean(e)?_l(this.Ff,23):yl(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,27))},set:function(e){this.Ff=!0===Boolean(e)?_l(this.Ff,27):yl(this.Ff,27)}}),this.hasAppearanceStream=!1};gh(cE,eg);var uE=function(){cE.call(this),this.fontName="helvetica",this.combo=!1};gh(uE,cE);var dE=function(){uE.call(this),this.combo=!0};gh(dE,uE);var vR=function(){dE.call(this),this.edit=!0};gh(vR,dE);var Lc=function(){eg.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,15))},set:function(e){this.Ff=!0===Boolean(e)?_l(this.Ff,15):yl(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,16))},set:function(e){this.Ff=!0===Boolean(e)?_l(this.Ff,16):yl(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,17))},set:function(e){this.Ff=!0===Boolean(e)?_l(this.Ff,17):yl(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,26))},set:function(e){this.Ff=!0===Boolean(e)?_l(this.Ff,26):yl(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(o){return o};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var i,r=[];for(i in r.push("<<"),t)r.push("/"+i+" ("+Jb(e(t[i]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===Os(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};gh(Lc,eg);var wR=function(){Lc.call(this),this.pushButton=!0};gh(wR,Lc);var hE=function(){Lc.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=void 0!==t?t:[]}})};gh(hE,Lc);var bR=function(){var n,t;eg.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(u){return u};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var o,a=[];for(o in a.push("<<"),i)a.push("/"+o+" ("+Jb(r(i[o]))+")");return a.push(">>"),a.join("\n")},set:function(r){"object"===Os(r)&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){"string"==typeof r&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ri.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};gh(bR,eg),hE.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},hE.prototype.createOption=function(n){var t=new bR;return t.Parent=this,t.optionName=n,this.Kids.push(t),Fpe.call(this.scope,t),t};var CR=function(){Lc.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ri.CheckBox.createAppearanceStream()};gh(CR,Lc);var Xb=function(){eg.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,13))},set:function(t){this.Ff=!0===Boolean(t)?_l(this.Ff,13):yl(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,21))},set:function(t){this.Ff=!0===Boolean(t)?_l(this.Ff,21):yl(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,23))},set:function(t){this.Ff=!0===Boolean(t)?_l(this.Ff,23):yl(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,24))},set:function(t){this.Ff=!0===Boolean(t)?_l(this.Ff,24):yl(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,25))},set:function(t){this.Ff=!0===Boolean(t)?_l(this.Ff,25):yl(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,26))},set:function(t){this.Ff=!0===Boolean(t)?_l(this.Ff,26):yl(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};gh(Xb,eg);var xR=function(){Xb.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,14))},set:function(n){this.Ff=!0===Boolean(n)?_l(this.Ff,14):yl(this.Ff,14)}}),this.password=!0};gh(xR,Xb);var ri={CheckBox:{createAppearanceStream:function(){return{N:{On:ri.CheckBox.YesNormal},D:{On:ri.CheckBox.YesPushDown,Off:ri.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=Gm(n);t.scope=n.scope;var e=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),o=Q3(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+nr(ri.internal.getWidth(n))+" "+nr(ri.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+nr(o.fontSize)+" Tf "+r),e.push("BT"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join("\n"),t},YesNormal:function(n){var t=Gm(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),r=[],o=ri.internal.getHeight(n),a=ri.internal.getWidth(n),u=Q3(n,n.caption);return r.push("1 g"),r.push("0 0 "+nr(a)+" "+nr(o)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+nr(a-1)+" "+nr(o-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+e+" "+nr(u.fontSize)+" Tf "+i),r.push(u.text),r.push("ET"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(n){var t=Gm(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+nr(ri.internal.getWidth(n))+" "+nr(ri.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:ri.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=ri.RadioButton.Circle.YesNormal,t.D[n]=ri.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=Gm(n);t.scope=n.scope;var e=[],i=ri.internal.getWidth(n)<=ri.internal.getHeight(n)?ri.internal.getWidth(n)/4:ri.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var o=Number((i*ri.internal.Bezier_C).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+L0(ri.internal.getWidth(n)/2)+" "+L0(ri.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),e.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),e.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),e.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join("\n"),t},YesPushDown:function(n){var t=Gm(n);t.scope=n.scope;var e=[],i=ri.internal.getWidth(n)<=ri.internal.getHeight(n)?ri.internal.getWidth(n)/4:ri.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),o=Number((r*ri.internal.Bezier_C).toFixed(5)),a=Number((i*ri.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+L0(ri.internal.getWidth(n)/2)+" "+L0(ri.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+L0(ri.internal.getWidth(n)/2)+" "+L0(ri.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),e.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),e.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),e.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join("\n"),t},OffPushDown:function(n){var t=Gm(n);t.scope=n.scope;var e=[],i=ri.internal.getWidth(n)<=ri.internal.getHeight(n)?ri.internal.getWidth(n)/4:ri.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),o=Number((r*ri.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+L0(ri.internal.getWidth(n)/2)+" "+L0(ri.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join("\n"),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:ri.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=ri.RadioButton.Cross.YesNormal,t.D[n]=ri.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=Gm(n);t.scope=n.scope;var e=[],i=ri.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+nr(ri.internal.getWidth(n)-2)+" "+nr(ri.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(nr(i.x1.x)+" "+nr(i.x1.y)+" m"),e.push(nr(i.x2.x)+" "+nr(i.x2.y)+" l"),e.push(nr(i.x4.x)+" "+nr(i.x4.y)+" m"),e.push(nr(i.x3.x)+" "+nr(i.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join("\n"),t},YesPushDown:function(n){var t=Gm(n);t.scope=n.scope;var e=ri.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+nr(ri.internal.getWidth(n))+" "+nr(ri.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+nr(ri.internal.getWidth(n)-2)+" "+nr(ri.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(nr(e.x1.x)+" "+nr(e.x1.y)+" m"),i.push(nr(e.x2.x)+" "+nr(e.x2.y)+" l"),i.push(nr(e.x4.x)+" "+nr(e.x4.y)+" m"),i.push(nr(e.x3.x)+" "+nr(e.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(n){var t=Gm(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+nr(ri.internal.getWidth(n))+" "+nr(ri.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join("\n"),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};ri.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=ri.internal.getWidth(n),e=ri.internal.getHeight(n),i=Math.min(t,e);return{x1:{x:(t-i)/2,y:(e-i)/2+i},x2:{x:(t-i)/2+i,y:(e-i)/2},x3:{x:(t-i)/2,y:(e-i)/2},x4:{x:(t-i)/2+i,y:(e-i)/2+i}}}},ri.internal.getWidth=function(n){var t=0;return"object"===Os(n)&&(t=wK(n.Rect[2])),t},ri.internal.getHeight=function(n){var t=0;return"object"===Os(n)&&(t=wK(n.Rect[3])),t};var Fpe=Xa.addField=function(n){if(function(n,t){if(t.scope=n,void 0!==n.internal&&(void 0===n.internal.acroformPlugin||!1===n.internal.acroformPlugin.isInitialized)){if(eg.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(Ipe)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");U3=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new xK,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){var e;(e=n).internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0}),n.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var o=i[r];o.objId=void 0,o.hasAnnotation&&Dpe(o,e)}}(n)}),n.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(n)}),n.internal.events.subscribe("postPutPages",function(e){!function(i,r){var o=!i;for(var a in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(a)){var u=i[a],h=[],f=u.Rect;if(u.Rect&&(u.Rect=Epe(u.Rect,r)),r.internal.newObjectDeferredBegin(u.objId,!0),u.DA=ri.createDefaultAppearanceStream(u),"object"===Os(u)&&"function"==typeof u.getKeyValueListForStream&&(h=u.getKeyValueListForStream()),u.Rect=f,u.hasAppearanceStream&&!u.appearanceStreamContent){var _=Spe(u);h.push({key:"AP",value:"<</N "+_+">>"}),r.internal.acroformPlugin.xForms.push(_)}if(u.appearanceStreamContent){var C="";for(var F in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(F)){var B=u.appearanceStreamContent[F];if(C+="/"+F+" ",C+="<<",Object.keys(B).length>=1||Array.isArray(B)){for(var a in B)if(B.hasOwnProperty(a)){var U=B[a];"function"==typeof U&&(U=U.call(r,u)),C+="/"+a+" "+U+" ",r.internal.acroformPlugin.xForms.indexOf(U)>=0||r.internal.acroformPlugin.xForms.push(U)}}else"function"==typeof(U=B)&&(U=U.call(r,u)),C+="/"+a+" "+U,r.internal.acroformPlugin.xForms.indexOf(U)>=0||r.internal.acroformPlugin.xForms.push(U);C+=">>"}h.push({key:"AP",value:"<<\n"+C+">>"})}r.internal.putStream({additionalKeyValues:h,objectId:u.objId}),r.internal.out("endobj")}o&&function(n,t){for(var e in n)if(n.hasOwnProperty(e)){var i=e,r=n[e];t.internal.newObjectDeferredBegin(r.objId,!0),"object"===Os(r)&&"function"==typeof r.putStream&&r.putStream(),delete n[i]}}(r.internal.acroformPlugin.xForms,r)}(e,n)}),n.internal.acroformPlugin.isInitialized=!0}}(this,n),!(n instanceof eg))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};function EK(n){return n.reduce(function(t,e,i){return t[e]=i,t},{})}Xa.AcroFormChoiceField=cE,Xa.AcroFormListBox=uE,Xa.AcroFormComboBox=dE,Xa.AcroFormEditBox=vR,Xa.AcroFormButton=Lc,Xa.AcroFormPushButton=wR,Xa.AcroFormRadioButton=hE,Xa.AcroFormCheckBox=CR,Xa.AcroFormTextField=Xb,Xa.AcroFormPasswordField=xR,Xa.AcroFormAppearance=ri,Xa.AcroForm={ChoiceField:cE,ListBox:uE,ComboBox:dE,EditBox:vR,Button:Lc,PushButton:wR,RadioButton:hE,CheckBox:CR,TextField:Xb,PasswordField:xR,Appearance:ri},ki.AcroForm={ChoiceField:cE,ListBox:uE,ComboBox:dE,EditBox:vR,Button:Lc,PushButton:wR,RadioButton:hE,CheckBox:CR,TextField:Xb,PasswordField:xR,Appearance:ri},function(n){n.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(Ae,de){var Te,Se,xt,Re,Ye,Ne=t;if("RGBA"===(de=de||t)||void 0!==Ae.data&&Ae.data instanceof Uint8ClampedArray&&"height"in Ae&&"width"in Ae)return"RGBA";if(ct(Ae))for(Ye in e)for(xt=e[Ye],Te=0;Te<xt.length;Te+=1){for(Re=!0,Se=0;Se<xt[Te].length;Se+=1)if(void 0!==xt[Te][Se]&&xt[Te][Se]!==Ae[Se]){Re=!1;break}if(!0===Re){Ne=Ye;break}}else for(Ye in e)for(xt=e[Ye],Te=0;Te<xt.length;Te+=1){for(Re=!0,Se=0;Se<xt[Te].length;Se+=1)if(void 0!==xt[Te][Se]&&xt[Te][Se]!==Ae.charCodeAt(Se)){Re=!1;break}if(!0===Re){Ne=Ye;break}}return Ne===t&&de!==t&&(Ne=de),Ne},r=function Ae(de){for(var Te=this.internal.write,Se=this.internal.putStream,xt=(0,this.internal.getFilters)();-1!==xt.indexOf("FlateEncode");)xt.splice(xt.indexOf("FlateEncode"),1);de.objectId=this.internal.newObject();var Re=[];if(Re.push({key:"Type",value:"/XObject"}),Re.push({key:"Subtype",value:"/Image"}),Re.push({key:"Width",value:de.width}),Re.push({key:"Height",value:de.height}),de.colorSpace===Z.INDEXED?Re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(de.palette.length/3-1)+" "+("sMask"in de&&void 0!==de.sMask?de.objectId+2:de.objectId+1)+" 0 R]"}):(Re.push({key:"ColorSpace",value:"/"+de.colorSpace}),de.colorSpace===Z.DEVICE_CMYK&&Re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Re.push({key:"BitsPerComponent",value:de.bitsPerComponent}),"decodeParameters"in de&&void 0!==de.decodeParameters&&Re.push({key:"DecodeParms",value:"<<"+de.decodeParameters+">>"}),"transparency"in de&&Array.isArray(de.transparency)){for(var Ye="",Ne=0,ht=de.transparency.length;Ne<ht;Ne++)Ye+=de.transparency[Ne]+" "+de.transparency[Ne]+" ";Re.push({key:"Mask",value:"["+Ye+"]"})}if(void 0!==de.sMask&&Re.push({key:"SMask",value:de.objectId+1+" 0 R"}),Se({data:de.data,additionalKeyValues:Re,alreadyAppliedFilters:void 0!==de.filter?["/"+de.filter]:void 0,objectId:de.objectId}),Te("endobj"),"sMask"in de&&void 0!==de.sMask){var X={width:de.width,height:de.height,colorSpace:"DeviceGray",bitsPerComponent:de.bitsPerComponent,decodeParameters:"/Predictor "+de.predictor+" /Colors 1 /BitsPerComponent "+de.bitsPerComponent+" /Columns "+de.width,data:de.sMask};"filter"in de&&(X.filter=de.filter),Ae.call(this,X)}if(de.colorSpace===Z.INDEXED){var me=this.internal.newObject();Se({data:we(new Uint8Array(de.palette)),objectId:me}),Te("endobj")}},o=function(){var Ae=this.internal.collections.addImage_images;for(var de in Ae)r.call(this,Ae[de])},a=function(){var Ae,de=this.internal.collections.addImage_images,Te=this.internal.write;for(var Se in de)Te("/I"+(Ae=de[Se]).index,Ae.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},h=function(){var Ae=this.internal.collections.addImage_images;return u.call(this),Ae},f=function(){return Object.keys(this.internal.collections.addImage_images).length},_=function(Ae){return"function"==typeof n["process"+Ae.toUpperCase()]},C=function(Ae){return"object"===Os(Ae)&&1===Ae.nodeType},F=function(Ae,de){if("IMG"===Ae.nodeName&&Ae.hasAttribute("src")){var Te=""+Ae.getAttribute("src");if(0===Te.indexOf("data:image/"))return LT(unescape(Te).split("base64,").pop());var Se=n.loadFile(Te,!0);if(void 0!==Se)return Se}if("CANVAS"===Ae.nodeName){if(0===Ae.width||0===Ae.height)throw new Error("Given canvas must have data. Canvas width: "+Ae.width+", height: "+Ae.height);var xt;switch(de){case"PNG":xt="image/png";break;case"WEBP":xt="image/webp";break;default:xt="image/jpeg"}return LT(Ae.toDataURL(xt,1).split("base64,").pop())}},B=function(Ae){var de=this.internal.collections.addImage_images;if(de)for(var Te in de)if(Ae===de[Te].alias)return de[Te]},U=function(Ae,de,Te){return Ae||de||(Ae=-96,de=-96),Ae<0&&(Ae=-1*Te.width*72/Ae/this.internal.scaleFactor),de<0&&(de=-1*Te.height*72/de/this.internal.scaleFactor),0===Ae&&(Ae=de*Te.width/Te.height),0===de&&(de=Ae*Te.height/Te.width),[Ae,de]},H=function(Ae,de,Te,Se,xt,Re){var Ye=U.call(this,Te,Se,xt),Ne=this.internal.getCoordinateString,ht=this.internal.getVerticalCoordinateString,_t=h.call(this);if(Te=Ye[0],Se=Ye[1],_t[xt.index]=xt,Re){Re*=Math.PI/180;var _n=Math.cos(Re),X=Math.sin(Re),me=function(Pe){return Pe.toFixed(4)},_e=[me(_n),me(X),me(-1*X),me(_n),0,0,"cm"]}this.internal.write("q"),Re?(this.internal.write([1,"0","0",1,Ne(Ae),ht(de+Se),"cm"].join(" ")),this.internal.write(_e.join(" ")),this.internal.write([Ne(Te),"0","0",Ne(Se),"0","0","cm"].join(" "))):this.internal.write([Ne(Te),"0","0",Ne(Se),Ne(Ae),ht(de+Se),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+xt.index+" Do"),this.internal.write("Q")},Z=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var q=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},W=n.__addimage__.sHashCode=function(Ae){var de,Te,Se=0;if("string"==typeof Ae)for(Te=Ae.length,de=0;de<Te;de++)Se=(Se<<5)-Se+Ae.charCodeAt(de),Se|=0;else if(ct(Ae))for(Te=Ae.byteLength/2,de=0;de<Te;de++)Se=(Se<<5)-Se+Ae[de],Se|=0;return Se},he=n.__addimage__.validateStringAsBase64=function(Ae){(Ae=Ae||"").toString().trim();var de=!0;return 0===Ae.length&&(de=!1),Ae.length%4!=0&&(de=!1),!1===/^[A-Za-z0-9+/]+$/.test(Ae.substr(0,Ae.length-2))&&(de=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Ae.substr(-2))&&(de=!1),de},xe=n.__addimage__.extractImageFromDataUrl=function(Ae){var de=(Ae=Ae||"").split("base64,"),Te=null;if(2===de.length){var Se=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(de[0]);Array.isArray(Se)&&(Te={mimeType:Se[1],charset:Se[2],data:de[1]})}return Te},Ze=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(Ae){return Ze()&&Ae instanceof ArrayBuffer};var ct=n.__addimage__.isArrayBufferView=function(Ae){return Ze()&&typeof Uint32Array<"u"&&(Ae instanceof Int8Array||Ae instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&Ae instanceof Uint8ClampedArray||Ae instanceof Int16Array||Ae instanceof Uint16Array||Ae instanceof Int32Array||Ae instanceof Uint32Array||Ae instanceof Float32Array||Ae instanceof Float64Array)},Ve=n.__addimage__.binaryStringToUint8Array=function(Ae){for(var de=Ae.length,Te=new Uint8Array(de),Se=0;Se<de;Se++)Te[Se]=Ae.charCodeAt(Se);return Te},we=n.__addimage__.arrayBufferToBinaryString=function(Ae){for(var de="",Te=ct(Ae)?Ae:new Uint8Array(Ae),Se=0;Se<Te.length;Se+=8192)de+=String.fromCharCode.apply(null,Te.subarray(Se,Se+8192));return de};n.addImage=function(){var Ae,de,Te,Se,xt,Re,Ye,Ne,ht;if("number"==typeof arguments[1]?(de=t,Te=arguments[1],Se=arguments[2],xt=arguments[3],Re=arguments[4],Ye=arguments[5],Ne=arguments[6],ht=arguments[7]):(de=arguments[1],Te=arguments[2],Se=arguments[3],xt=arguments[4],Re=arguments[5],Ye=arguments[6],Ne=arguments[7],ht=arguments[8]),"object"===Os(Ae=arguments[0])&&!C(Ae)&&"imageData"in Ae){var _t=Ae;Ae=_t.imageData,de=_t.format||de||t,Te=_t.x||Te||0,Se=_t.y||Se||0,xt=_t.w||_t.width||xt,Re=_t.h||_t.height||Re,Ye=_t.alias||Ye,Ne=_t.compression||Ne,ht=_t.rotation||_t.angle||ht}var _n=this.internal.getFilters();if(void 0===Ne&&-1!==_n.indexOf("FlateEncode")&&(Ne="SLOW"),isNaN(Te)||isNaN(Se))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var X=Ft.call(this,Ae,de,Ye,Ne);return H.call(this,Te,Se,xt,Re,X,ht),this};var Ft=function(Ae,de,Te,Se){var xt,Re,Ye,ht;if("string"==typeof Ae&&i(Ae)===t){Ae=unescape(Ae);var Ne=Bt(Ae,!1);(""!==Ne||void 0!==(Ne=n.loadFile(Ae,!0)))&&(Ae=Ne)}if(C(Ae)&&(Ae=F(Ae,de)),de=i(Ae,de),!_(de))throw new Error("addImage does not support files of type '"+de+"', please ensure that a plugin for '"+de+"' support is added.");if((null==(Ye=Te)||0===Ye.length)&&(Te="string"==typeof(ht=Ae)||ct(ht)?W(ht):ct(ht.data)?W(ht.data):null),(xt=B.call(this,Te))||(Ze()&&(Ae instanceof Uint8Array||"RGBA"===de||(Re=Ae,Ae=Ve(Ae))),xt=this["process"+de.toUpperCase()](Ae,f.call(this),Te,function(ht){return ht&&"string"==typeof ht&&(ht=ht.toUpperCase()),ht in n.image_compression?ht:q.NONE}(Se),Re)),!xt)throw new Error("An unknown error occurred whilst processing the image.");return xt},Bt=n.__addimage__.convertBase64ToBinaryString=function(Ae,de){var Te;de="boolean"!=typeof de||de;var Se,xt="";if("string"==typeof Ae){Se=null!==(Te=xe(Ae))?Te.data:Ae;try{xt=LT(Se)}catch(Re){if(de)throw he(Se)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return xt};n.getImageProperties=function(Ae){var de,Te,Se="";if(C(Ae)&&(Ae=F(Ae)),"string"==typeof Ae&&i(Ae)===t&&(""===(Se=Bt(Ae,!1))&&(Se=n.loadFile(Ae)||""),Ae=Se),Te=i(Ae),!_(Te))throw new Error("addImage does not support files of type '"+Te+"', please ensure that a plugin for '"+Te+"' support is added.");if(!Ze()||Ae instanceof Uint8Array||(Ae=Ve(Ae)),!(de=this["process"+Te.toUpperCase()](Ae)))throw new Error("An unknown error occurred whilst processing the image");return de.fileType=Te,de}}(ki.API),function(n){var t=function(e){if(void 0!==e&&""!=e)return!0};ki.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var i,r,o,a=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(e.objId),f=e.pageContext.annotations,_=!1,C=0;C<f.length&&!_;C++)switch((i=f[C]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(_=!0);break;case"reference":case"text":case"freetext":_=!0}if(0!=_){this.internal.write("/Annots [");for(var F=0;F<f.length;F++){i=f[F];var B=this.internal.pdfEscape,U=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var H=this.internal.newAdditionalObject(),Z=this.internal.newAdditionalObject(),q=this.internal.getEncryptor(H.objId),W=i.title||"Note";o="<</Type /Annot /Subtype /Text "+(r="/Rect ["+a(i.bounds.x)+" "+u(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y)+"] ")+"/Contents ("+B(q(i.contents))+")",o+=" /Popup "+Z.objId+" 0 R",o+=" /P "+h.objId+" 0 R",o+=" /T ("+B(q(W))+") >>",H.content=o;var he=H.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+a(i.bounds.x+30)+" "+u(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w+30)+" "+u(i.bounds.y)+"] ")+" /Parent "+he,i.open&&(o+=" /Open true"),Z.content=o+=" >>",this.internal.write(H.objId,"0 R",Z.objId,"0 R");break;case"freetext":r="/Rect ["+a(i.bounds.x)+" "+u(i.bounds.y)+" "+a(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y+i.bounds.h)+"] ";var xe=i.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+B(U(i.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+xe+")",o+=" /Border [0 0 0]",this.internal.write(o+=" >>");break;case"link":if(i.options.name){var Ze=this.annotations._nameMap[i.options.name];i.options.pageNumber=Ze.page,i.options.top=Ze.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",o="",i.options.url)o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+B(U(i.options.url))+") >>";else if(i.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,o+=" /FitV "+i.options.left+"]";break;default:var ct=u(i.options.top);i.options.left=i.options.left||0,void 0===i.options.zoom&&(i.options.zoom=0),o+=" /XYZ "+i.options.left+" "+ct+" "+i.options.zoom+"]"}""!=o&&this.internal.write(o+=" >>")}}this.internal.write("]")}}]),n.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},n.link=function(e,i,r,o,a){var u=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:h(e),y:f(i),w:h(e+r),h:f(i+o)},options:a,type:"link"})},n.textWithLink=function(e,i,r,o){var a,u,h=this.getTextWidth(e),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==o.maxWidth){var _=this.splitTextToSize(e,u=o.maxWidth).length;a=Math.ceil(f*_)}else u=h,a=f;return this.text(e,i,r,o),"center"===o.align&&(i-=h/2),"right"===o.align&&(i-=h),this.link(i,(r+=.2*f)-f,u,a,o),h},n.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor}}(ki.API),function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(H){return void 0!==t[H.charCodeAt(0)]},a=n.__arabicParser__.isArabicLetter=function(H){return"string"==typeof H&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(H)},u=n.__arabicParser__.isArabicEndLetter=function(H){return a(H)&&o(H)&&t[H.charCodeAt(0)].length<=2},h=n.__arabicParser__.isArabicAlfLetter=function(H){return a(H)&&r.indexOf(H.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(H){return a(H)&&o(H)&&t[H.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(H){return a(H)&&o(H)&&t[H.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(H){return a(H)&&o(H)&&t[H.charCodeAt(0)].length>=3};var _=n.__arabicParser__.arabicLetterHasMedialForm=function(H){return a(H)&&o(H)&&4==t[H.charCodeAt(0)].length},C=n.__arabicParser__.resolveLigatures=function(H){var Z=0,q=e,W="",he=0;for(Z=0;Z<H.length;Z+=1)void 0!==q[H.charCodeAt(Z)]?(he++,"number"==typeof(q=q[H.charCodeAt(Z)])&&(W+=String.fromCharCode(q),q=e,he=0),Z===H.length-1&&(q=e,W+=H.charAt(Z-(he-1)),Z-=he-1,he=0)):(q=e,W+=H.charAt(Z-he),Z-=he,he=0);return W};n.__arabicParser__.isArabicDiacritic=function(H){return void 0!==H&&void 0!==i[H.charCodeAt(0)]};var F=n.__arabicParser__.getCorrectForm=function(H,Z,q){return a(H)?!1===o(H)?-1:!f(H)||!a(Z)&&!a(q)||!a(q)&&u(Z)||u(H)&&!a(Z)||u(H)&&h(Z)||u(H)&&u(Z)?0:_(H)&&a(Z)&&!u(Z)&&a(q)&&f(q)?3:u(H)||!a(q)?1:2:-1},B=function(H){var Z=0,q=0,W=0,he="",xe="",Ze="",ct=(H=H||"").split("\\s+"),Ve=[];for(Z=0;Z<ct.length;Z+=1){for(Ve.push(""),q=0;q<ct[Z].length;q+=1)xe=ct[Z][q-1],Ze=ct[Z][q+1],a(he=ct[Z][q])?(W=F(he,xe,Ze),Ve[Z]+=-1!==W?String.fromCharCode(t[he.charCodeAt(0)][W]):he):Ve[Z]+=he;Ve[Z]=C(Ve[Z])}return Ve.join(" ")},U=n.__arabicParser__.processArabic=n.processArabic=function(){var H,Z="string"==typeof arguments[0]?arguments[0]:arguments[0].text,q=[];if(Array.isArray(Z)){var W=0;for(q=[],W=0;W<Z.length;W+=1)Array.isArray(Z[W])?q.push([B(Z[W][0]),Z[W][1],Z[W][2]]):q.push([B(Z[W])]);H=q}else H=B(Z);return"string"==typeof arguments[0]?H:(arguments[0].text=H,arguments[0])};n.events.push(["preProcessText",U])}(ki.API),ki.API.autoPrint=function(n){var t;return"javascript"===((n=n||{}).variant=n.variant||"non-conform",n.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(u){e=u}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(u){i=isNaN(u)||!1===Number.isInteger(u)||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(u){r=isNaN(u)||!1===Number.isInteger(u)||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(u){o=u}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(u){a=u}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,i){var r;if("2d"!==(e=e||"2d"))return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ki.API),function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,i=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(H){h=H}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(H){f=H}});var _=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return _},set:function(H){_=H}});var C=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return C},set:function(H){C=H}});var F=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return F},set:function(H){F=H}});var B=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return B},set:function(H){B=H}});var U=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return U},set:function(H){U=H}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(h){return i.call(this),this.internal.__cell__.headerFunction="function"==typeof h?h:void 0,this},n.getTextDimensions=function(h,f){i.call(this);var _=(f=f||{}).fontSize||this.getFontSize(),C=f.font||this.getFont(),F=f.scaleFactor||this.internal.scaleFactor,B=0,U=0,H=0,Z=this;if(!Array.isArray(h)&&"string"!=typeof h){if("number"!=typeof h)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var q=f.maxWidth;q>0?"string"==typeof h?h=this.splitTextToSize(h,q):"[object Array]"===Object.prototype.toString.call(h)&&(h=h.reduce(function(he,xe){return he.concat(Z.splitTextToSize(xe,q))},[])):h=Array.isArray(h)?h:[h];for(var W=0;W<h.length;W++)B<(H=this.getStringUnitWidth(h[W],{font:C})*_)&&(B=H);return 0!==B&&(U=h.length),{w:B/=F,h:Math.max((U*_*this.getLineHeightFactor()-_*(this.getLineHeightFactor()-1))/F,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var h=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=n.cell=function(){var h;h=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var f=this.internal.__cell__.lastCell,_=this.internal.__cell__.padding,C=this.internal.__cell__.margins||t,F=this.internal.__cell__.tableHeaderRow,B=this.internal.__cell__.printHeaders;return void 0!==f.lineNumber&&(f.lineNumber===h.lineNumber?(h.x=(f.x||0)+(f.width||0),h.y=f.y||0):f.y+f.height+h.height+C.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=C.top,B&&F&&(this.printHeaderRow(h.lineNumber,!0),h.y+=F[0].height)):h.y=f.y+f.height||h.y),void 0!==h.text[0]&&(this.rect(h.x,h.y,h.width,h.height,!0===e?"FD":void 0),"right"===h.align?this.text(h.text,h.x+h.width-_,h.y+_,{align:"right",baseline:"top"}):"center"===h.align?this.text(h.text,h.x+h.width/2,h.y+_,{align:"center",baseline:"top",maxWidth:h.width-_-_}):this.text(h.text,h.x+_,h.y+_,{align:"left",baseline:"top",maxWidth:h.width-_-_})),this.internal.__cell__.lastCell=h,this};n.table=function(h,f,_,C,F){if(i.call(this),!_)throw new Error("No data for PDF table.");var B,U,H,Z,q=[],W=[],he=[],xe={},Ze={},ct=[],Ve=[],we=(F=F||{}).autoSize||!1,Ft=!1!==F.printHeaders,Bt=F.css&&void 0!==F.css["font-size"]?16*F.css["font-size"]:F.fontSize||12,Ae=F.margins||Object.assign({width:this.getPageWidth()},t),de="number"==typeof F.padding?F.padding:3,Te=F.headerBackgroundColor||"#c8c8c8",Se=F.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=Ft,this.internal.__cell__.margins=Ae,this.internal.__cell__.table_font_size=Bt,this.internal.__cell__.padding=de,this.internal.__cell__.headerBackgroundColor=Te,this.internal.__cell__.headerTextColor=Se,this.setFontSize(Bt),null==C)W=q=Object.keys(_[0]),he=q.map(function(){return"left"});else if(Array.isArray(C)&&"object"===Os(C[0]))for(q=C.map(function(_t){return _t.name}),W=C.map(function(_t){return _t.prompt||_t.name||""}),he=C.map(function(_t){return _t.align||"left"}),B=0;B<C.length;B+=1)Ze[C[B].name]=C[B].width*(19.049976/25.4);else Array.isArray(C)&&"string"==typeof C[0]&&(W=q=C,he=q.map(function(){return"left"}));if(we||Array.isArray(C)&&"string"==typeof C[0])for(B=0;B<q.length;B+=1){for(xe[Z=q[B]]=_.map(function(_t){return _t[Z]}),this.setFont(void 0,"bold"),ct.push(this.getTextDimensions(W[B],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),U=xe[Z],this.setFont(void 0,"normal"),H=0;H<U.length;H+=1)ct.push(this.getTextDimensions(U[H],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Ze[Z]=Math.max.apply(null,ct)+de+de,ct=[]}if(Ft){var xt={};for(B=0;B<q.length;B+=1)xt[q[B]]={},xt[q[B]].text=W[B],xt[q[B]].align=he[B];var Re=u.call(this,xt,Ze);Ve=q.map(function(_t){return new o(h,f,Ze[_t],Re,xt[_t].text,void 0,xt[_t].align)}),this.setTableHeaderRow(Ve),this.printHeaderRow(1,!1)}var Ye=C.reduce(function(_t,_n){return _t[_n.name]=_n.align,_t},{});for(B=0;B<_.length;B+=1){"rowStart"in F&&F.rowStart instanceof Function&&F.rowStart({row:B,data:_[B]},this);var Ne=u.call(this,_[B],Ze);for(H=0;H<q.length;H+=1){var ht=_[B][q[H]];"cellStart"in F&&F.cellStart instanceof Function&&F.cellStart({row:B,col:H,data:ht},this),a.call(this,new o(h,f,Ze[q[H]],Ne,ht,B+2,Ye[q[H]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=f,this};var u=function(h,f){var _=this.internal.__cell__.padding,C=this.internal.__cell__.table_font_size,F=this.internal.scaleFactor;return Object.keys(h).map(function(B){var U=h[B];return this.splitTextToSize(U.hasOwnProperty("text")?U.text:U,f[B]-_-_)},this).map(function(B){return this.getLineHeightFactor()*B.length*C/F+_+_},this).reduce(function(B,U){return Math.max(B,U)},0)};n.setTableHeaderRow=function(h){i.call(this),this.internal.__cell__.tableHeaderRow=h},n.printHeaderRow=function(h,f){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var _;if(e=!0,"function"==typeof this.internal.__cell__.headerFunction){var C=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(C[0],C[1],C[2],C[3],void 0,-1)}this.setFont(void 0,"bold");for(var F=[],B=0;B<this.internal.__cell__.tableHeaderRow.length;B+=1){_=this.internal.__cell__.tableHeaderRow[B].clone(),f&&(_.y=this.internal.__cell__.margins.top||0,F.push(_)),_.lineNumber=h;var U=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,_),this.setTextColor(U)}F.length>0&&this.setTableHeaderRow(F),this.setFont(void 0,"normal"),e=!1}}(ki.API);var SK={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},IK=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],V3=EK(IK),DK=[100,200,300,400,500,600,700,800,900],Mpe=EK(DK);function j3(n){var o,t=n.family.replace(/"|'/g,"").toLowerCase(),e=SK[o=(o=n.style)||"normal"]?o:"normal",i=function(o){return o?"number"==typeof o?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):"bold"===o?700:400:400}(n.weight),r=function(o){return"number"==typeof V3[o=o||"normal"]?o:"normal"}(n.stretch);return{family:t,style:e,weight:i,stretch:r,src:n.src||[],ref:n.ref||{name:t,style:[r,e,i].join(" ")}}}function TK(n,t,e,i){var r;for(r=e;r>=0&&r<t.length;r+=i)if(n[t[r]])return n[t[r]];for(r=e;r>=0&&r<t.length;r-=i)if(n[t[r]])return n[t[r]]}var kpe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},BK={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function FK(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function MK(n){return n.trimLeft()}function Ope(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function Lpe(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],n.substring(t[0].length)]}var ER,kK,RK,G3=["times"];(function(n){var t,e,i,r,o,a,u,h,f,_=function(X){return this.isStrokeTransparent=(X=X||{}).isStrokeTransparent||!1,this.strokeOpacity=X.strokeOpacity||1,this.strokeStyle=X.strokeStyle||"#000000",this.fillStyle=X.fillStyle||"#000000",this.isFillTransparent=X.isFillTransparent||!1,this.fillOpacity=X.fillOpacity||1,this.font=X.font||"10px sans-serif",this.textBaseline=X.textBaseline||"alphabetic",this.textAlign=X.textAlign||"left",this.lineWidth=X.lineWidth||1,this.lineJoin=X.lineJoin||"miter",this.lineCap=X.lineCap||"butt",this.path=X.path||[],this.transform=void 0!==X.transform?X.transform.clone():new h,this.globalCompositeOperation=X.globalCompositeOperation||"normal",this.globalAlpha=X.globalAlpha||1,this.clip_path=X.clip_path||[],this.currentPoint=X.currentPoint||new a,this.miterLimit=X.miterLimit||10,this.lastPoint=X.lastPoint||new a,this.lineDashOffset=X.lineDashOffset||0,this.lineDash=X.lineDash||[],this.margin=X.margin||[0,0,0,0],this.prevPageLastElemOffset=X.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof X.ignoreClearRect||X.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new C(this),t=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,a=this.internal.Point,u=this.internal.Rectangle,h=this.internal.Matrix,f=new _}]);var C=function(X){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var me=X;Object.defineProperty(this,"pdf",{get:function(){return me}});var _e=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return _e},set:function(Ot){_e=Boolean(Ot)}});var Pe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Pe},set:function(Ot){Pe=Boolean(Ot)}});var We=0;Object.defineProperty(this,"posX",{get:function(){return We},set:function(Ot){isNaN(Ot)||(We=Ot)}});var nt=0;Object.defineProperty(this,"posY",{get:function(){return nt},set:function(Ot){isNaN(Ot)||(nt=Ot)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Ot){var be;"number"==typeof Ot?be=[Ot,Ot,Ot,Ot]:((be=new Array(4))[0]=Ot[0],be[1]=Ot.length>=2?Ot[1]:be[0],be[2]=Ot.length>=3?Ot[2]:be[0],be[3]=Ot.length>=4?Ot[3]:be[1]),f.margin=be}});var ft=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ft},set:function(Ot){ft=Ot}});var At=0;Object.defineProperty(this,"lastBreak",{get:function(){return At},set:function(Ot){At=Ot}});var pn=[];Object.defineProperty(this,"pageBreaks",{get:function(){return pn},set:function(Ot){pn=Ot}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Ot){Ot instanceof _&&(f=Ot)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Ot){f.path=Ot}});var un=[];Object.defineProperty(this,"ctxStack",{get:function(){return un},set:function(Ot){un=Ot}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ot){var be;be=F(Ot),this.ctx.fillStyle=be.style,this.ctx.isFillTransparent=0===be.a,this.ctx.fillOpacity=be.a,this.pdf.setFillColor(be.r,be.g,be.b,{a:be.a}),this.pdf.setTextColor(be.r,be.g,be.b,{a:be.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ot){var be=F(Ot);this.ctx.strokeStyle=be.style,this.ctx.isStrokeTransparent=0===be.a,this.ctx.strokeOpacity=be.a,0===be.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(be.r,be.g,be.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ot){-1!==["butt","round","square"].indexOf(Ot)&&(this.ctx.lineCap=Ot,this.pdf.setLineCap(Ot))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ot){isNaN(Ot)||(this.ctx.lineWidth=Ot,this.pdf.setLineWidth(Ot))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ot){-1!==["bevel","round","miter"].indexOf(Ot)&&(this.ctx.lineJoin=Ot,this.pdf.setLineJoin(Ot))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ot){isNaN(Ot)||(this.ctx.miterLimit=Ot,this.pdf.setMiterLimit(Ot))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ot){this.ctx.textBaseline=Ot}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ot){-1!==["right","end","center","left","start"].indexOf(Ot)&&(this.ctx.textAlign=Ot)}});var qn=null,Pi=null;Object.defineProperty(this,"fontFaces",{get:function(){return Pi},set:function(Ot){qn=null,Pi=Ot}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ot){var be;if(this.ctx.font=Ot,null!==(be=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ot))){var ar=be[1],li=be[3],dn=be[4],In=be[6],Un=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(dn)[2];dn=Math.floor("px"===Un?parseFloat(dn)*this.pdf.internal.scaleFactor:"em"===Un?parseFloat(dn)*this.pdf.getFontSize():parseFloat(dn)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(dn);var On=function(zi){var Br,Qn,Zu=[],cs=zi.trim();if(""===cs)return G3;if(cs in BK)return[BK[cs]];for(;""!==cs;){switch(Qn=null,Br=(cs=MK(cs)).charAt(0)){case'"':case"'":Qn=Ope(cs.substring(1),Br);break;default:Qn=Lpe(cs)}if(null===Qn||(Zu.push(Qn[0]),""!==(cs=MK(Qn[1]))&&","!==cs.charAt(0)))return G3;cs=cs.replace(/^,/,"")}return Zu}(In);if(this.fontFaces){var yi=function Rpe(n,t,e){for(var i=(e=e||{}).defaultFontFamily||"times",r=Object.assign({},kpe,e.genericFontFamilies||{}),o=null,a=null,u=0;u<t.length;++u)if(r[(o=j3(t[u])).family]&&(o.family=r[o.family]),n.hasOwnProperty(o.family)){a=n[o.family];break}if(!(a=a||n[i]))throw new Error("Could not find a font-family for the rule '"+FK(o)+"' and default family '"+i+"'.");if(a=function(h,f){if(f[h])return f[h];var _=V3[h],F=TK(f,IK,_,_<=V3.normal?-1:1);if(!F)throw new Error("Could not find a matching font-stretch value for "+h);return F}(o.stretch,a),a=function(h,f){if(f[h])return f[h];for(var _=SK[h],C=0;C<_.length;++C)if(f[_[C]])return f[_[C]];throw new Error("Could not find a matching font-style for "+h)}(o.style,a),!(a=function(h,f){if(f[h])return f[h];if(400===h&&f[500])return f[500];if(500===h&&f[400])return f[400];var C=TK(f,DK,Mpe[h],h<400?-1:1);if(!C)throw new Error("Could not find a matching font-weight for value "+h);return C}(o.weight,a)))throw new Error("Failed to resolve a font for the rule '"+FK(o)+"'.");return a}(function Xn(Ot,be){if(null===qn){var ar=(li=Ot.getFontList(),dn=[],Object.keys(li).forEach(function(In){li[In].forEach(function(Un){var On=null;switch(Un){case"bold":On={family:In,weight:"bold"};break;case"italic":On={family:In,style:"italic"};break;case"bolditalic":On={family:In,weight:"bold",style:"italic"};break;case"":case"normal":On={family:In}}null!==On&&(On.ref={name:In,style:Un},dn.push(On))})}),dn);qn=function(li){for(var dn={},In=0;In<li.length;++In){var Un=j3(li[In]),On=Un.family,yi=Un.stretch,ir=Un.style,pr=Un.weight;dn[On]=dn[On]||{},dn[On][yi]=dn[On][yi]||{},dn[On][yi][ir]=dn[On][yi][ir]||{},dn[On][yi][ir][pr]=Un}return dn}(ar.concat(be))}var li,dn;return qn}(this.pdf,this.fontFaces),On.map(function(zi){return{family:zi,stretch:"normal",weight:li,style:ar}}));this.pdf.setFont(yi.ref.name,yi.ref.style)}else{var ir="";("bold"===li||parseInt(li,10)>=700||"bold"===ar)&&(ir="bold"),"italic"===ar&&(ir+="italic"),0===ir.length&&(ir="normal");for(var pr="",Er={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ns=0;ns<On.length;ns++){if(void 0!==this.pdf.internal.getFont(On[ns],ir,{noFallback:!0,disableWarning:!0})){pr=On[ns];break}if("bolditalic"===ir&&void 0!==this.pdf.internal.getFont(On[ns],"bold",{noFallback:!0,disableWarning:!0}))pr=On[ns],ir="bold";else if(void 0!==this.pdf.internal.getFont(On[ns],"normal",{noFallback:!0,disableWarning:!0})){pr=On[ns],ir="normal";break}}if(""===pr)for(var Xs=0;Xs<On.length;Xs++)if(Er[On[Xs]]){pr=Er[On[Xs]];break}this.pdf.setFont(pr=""===pr?"Times":pr,ir)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ot){this.ctx.globalCompositeOperation=Ot}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ot){this.ctx.globalAlpha=Ot}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ot){this.ctx.lineDashOffset=Ot,_n.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ot){this.ctx.lineDash=Ot,_n.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ot){this.ctx.ignoreClearRect=Boolean(Ot)}})};C.prototype.setLineDash=function(X){this.lineDash=X},C.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},C.prototype.fill=function(){xe.call(this,"fill",!1)},C.prototype.stroke=function(){xe.call(this,"stroke",!1)},C.prototype.beginPath=function(){this.path=[{type:"begin"}]},C.prototype.moveTo=function(X,me){if(isNaN(X)||isNaN(me))throw uo.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var _e=this.ctx.transform.applyToPoint(new a(X,me));this.path.push({type:"mt",x:_e.x,y:_e.y}),this.ctx.lastPoint=new a(X,me)},C.prototype.closePath=function(){var X=new a(0,0),me=0;for(me=this.path.length-1;-1!==me;me--)if("begin"===this.path[me].type&&"object"===Os(this.path[me+1])&&"number"==typeof this.path[me+1].x){X=new a(this.path[me+1].x,this.path[me+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(X.x,X.y)},C.prototype.lineTo=function(X,me){if(isNaN(X)||isNaN(me))throw uo.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var _e=this.ctx.transform.applyToPoint(new a(X,me));this.path.push({type:"lt",x:_e.x,y:_e.y}),this.ctx.lastPoint=new a(_e.x,_e.y)},C.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),xe.call(this,null,!0)},C.prototype.quadraticCurveTo=function(X,me,_e,Pe){if(isNaN(_e)||isNaN(Pe)||isNaN(X)||isNaN(me))throw uo.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var We=this.ctx.transform.applyToPoint(new a(_e,Pe)),nt=this.ctx.transform.applyToPoint(new a(X,me));this.path.push({type:"qct",x1:nt.x,y1:nt.y,x:We.x,y:We.y}),this.ctx.lastPoint=new a(We.x,We.y)},C.prototype.bezierCurveTo=function(X,me,_e,Pe,We,nt){if(isNaN(We)||isNaN(nt)||isNaN(X)||isNaN(me)||isNaN(_e)||isNaN(Pe))throw uo.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ft=this.ctx.transform.applyToPoint(new a(We,nt)),At=this.ctx.transform.applyToPoint(new a(X,me)),pn=this.ctx.transform.applyToPoint(new a(_e,Pe));this.path.push({type:"bct",x1:At.x,y1:At.y,x2:pn.x,y2:pn.y,x:ft.x,y:ft.y}),this.ctx.lastPoint=new a(ft.x,ft.y)},C.prototype.arc=function(X,me,_e,Pe,We,nt){if(isNaN(X)||isNaN(me)||isNaN(_e)||isNaN(Pe)||isNaN(We))throw uo.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(nt=Boolean(nt),!this.ctx.transform.isIdentity){var ft=this.ctx.transform.applyToPoint(new a(X,me));X=ft.x,me=ft.y;var At=this.ctx.transform.applyToPoint(new a(0,_e)),pn=this.ctx.transform.applyToPoint(new a(0,0));_e=Math.sqrt(Math.pow(At.x-pn.x,2)+Math.pow(At.y-pn.y,2))}Math.abs(We-Pe)>=2*Math.PI&&(Pe=0,We=2*Math.PI),this.path.push({type:"arc",x:X,y:me,radius:_e,startAngle:Pe,endAngle:We,counterclockwise:nt})},C.prototype.arcTo=function(X,me,_e,Pe,We){throw new Error("arcTo not implemented.")},C.prototype.rect=function(X,me,_e,Pe){if(isNaN(X)||isNaN(me)||isNaN(_e)||isNaN(Pe))throw uo.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(X,me),this.lineTo(X+_e,me),this.lineTo(X+_e,me+Pe),this.lineTo(X,me+Pe),this.lineTo(X,me),this.lineTo(X+_e,me),this.lineTo(X,me)},C.prototype.fillRect=function(X,me,_e,Pe){if(isNaN(X)||isNaN(me)||isNaN(_e)||isNaN(Pe))throw uo.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!B.call(this)){var We={};"butt"!==this.lineCap&&(We.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(We.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(X,me,_e,Pe),this.fill(),We.hasOwnProperty("lineCap")&&(this.lineCap=We.lineCap),We.hasOwnProperty("lineJoin")&&(this.lineJoin=We.lineJoin)}},C.prototype.strokeRect=function(X,me,_e,Pe){if(isNaN(X)||isNaN(me)||isNaN(_e)||isNaN(Pe))throw uo.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");U.call(this)||(this.beginPath(),this.rect(X,me,_e,Pe),this.stroke())},C.prototype.clearRect=function(X,me,_e,Pe){if(isNaN(X)||isNaN(me)||isNaN(_e)||isNaN(Pe))throw uo.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(X,me,_e,Pe))},C.prototype.save=function(X){X="boolean"!=typeof X||X;for(var me=this.pdf.internal.getCurrentPageInfo().pageNumber,_e=0;_e<this.pdf.internal.getNumberOfPages();_e++)this.pdf.setPage(_e+1),this.pdf.internal.out("q");if(this.pdf.setPage(me),X){this.ctx.fontSize=this.pdf.internal.getFontSize();var Pe=new _(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Pe}},C.prototype.restore=function(X){X="boolean"!=typeof X||X;for(var me=this.pdf.internal.getCurrentPageInfo().pageNumber,_e=0;_e<this.pdf.internal.getNumberOfPages();_e++)this.pdf.setPage(_e+1),this.pdf.internal.out("Q");this.pdf.setPage(me),X&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},C.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var F=function(X){var me,_e,Pe,We;if(!0===X.isCanvasGradient&&(X=X.getColor()),!X)return{r:0,g:0,b:0,a:0,style:X};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(X))me=0,_e=0,Pe=0,We=0;else{var nt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(X);if(null!==nt)me=parseInt(nt[1]),_e=parseInt(nt[2]),Pe=parseInt(nt[3]),We=1;else if(null!==(nt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(X)))me=parseInt(nt[1]),_e=parseInt(nt[2]),Pe=parseInt(nt[3]),We=parseFloat(nt[4]);else{if(We=1,"string"==typeof X&&"#"!==X.charAt(0)){var ft=new pK(X);X=ft.ok?ft.toHex():"#000000"}4===X.length?(me=X.substring(1,2),me+=me,_e=X.substring(2,3),_e+=_e,Pe=X.substring(3,4),Pe+=Pe):(me=X.substring(1,3),_e=X.substring(3,5),Pe=X.substring(5,7)),me=parseInt(me,16),_e=parseInt(_e,16),Pe=parseInt(Pe,16)}}return{r:me,g:_e,b:Pe,a:We,style:X}},B=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},U=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};C.prototype.fillText=function(X,me,_e,Pe){if(isNaN(me)||isNaN(_e)||"string"!=typeof X)throw uo.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Pe=isNaN(Pe)?void 0:Pe,!B.call(this)){var We=Ne(this.ctx.transform.rotation),nt=this.ctx.transform.scaleX;de.call(this,{text:X,x:me,y:_e,scale:nt,angle:We,align:this.textAlign,maxWidth:Pe})}},C.prototype.strokeText=function(X,me,_e,Pe){if(isNaN(me)||isNaN(_e)||"string"!=typeof X)throw uo.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!U.call(this)){Pe=isNaN(Pe)?void 0:Pe;var We=Ne(this.ctx.transform.rotation),nt=this.ctx.transform.scaleX;de.call(this,{text:X,x:me,y:_e,scale:nt,renderingMode:"stroke",angle:We,align:this.textAlign,maxWidth:Pe})}},C.prototype.measureText=function(X){if("string"!=typeof X)throw uo.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var me=this.pdf,_e=this.pdf.internal.scaleFactor,Pe=me.internal.getFontSize(),We=me.getStringUnitWidth(X)*Pe/me.internal.scaleFactor,nt=function(ft){var At=(ft=ft||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return At}}),this};return new nt({width:We*=Math.round(96*_e/72*1e4)/1e4})},C.prototype.scale=function(X,me){if(isNaN(X)||isNaN(me))throw uo.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var _e=new h(X,0,0,me,0,0);this.ctx.transform=this.ctx.transform.multiply(_e)},C.prototype.rotate=function(X){if(isNaN(X))throw uo.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var me=new h(Math.cos(X),Math.sin(X),-Math.sin(X),Math.cos(X),0,0);this.ctx.transform=this.ctx.transform.multiply(me)},C.prototype.translate=function(X,me){if(isNaN(X)||isNaN(me))throw uo.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var _e=new h(1,0,0,1,X,me);this.ctx.transform=this.ctx.transform.multiply(_e)},C.prototype.transform=function(X,me,_e,Pe,We,nt){if(isNaN(X)||isNaN(me)||isNaN(_e)||isNaN(Pe)||isNaN(We)||isNaN(nt))throw uo.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ft=new h(X,me,_e,Pe,We,nt);this.ctx.transform=this.ctx.transform.multiply(ft)},C.prototype.setTransform=function(X,me,_e,Pe,We,nt){X=isNaN(X)?1:X,me=isNaN(me)?0:me,_e=isNaN(_e)?0:_e,Pe=isNaN(Pe)?1:Pe,We=isNaN(We)?0:We,nt=isNaN(nt)?0:nt,this.ctx.transform=new h(X,me,_e,Pe,We,nt)};var H=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};C.prototype.drawImage=function(X,me,_e,Pe,We,nt,ft,At,pn){var un=this.pdf.getImageProperties(X),qn=1,Xn=1,Pi=1,Ot=1;void 0!==Pe&&void 0!==At&&(Pi=At/Pe,Ot=pn/We,qn=un.width/Pe*At/Pe,Xn=un.height/We*pn/We),void 0===nt&&(nt=me,ft=_e,me=0,_e=0),void 0!==Pe&&void 0===At&&(At=Pe,pn=We),void 0===Pe&&void 0===At&&(At=un.width,pn=un.height);for(var be,ar=this.ctx.transform.decompose(),li=Ne(ar.rotate.shx),dn=new h,In=(dn=(dn=(dn=dn.multiply(ar.translate)).multiply(ar.skew)).multiply(ar.scale)).applyToRectangle(new u(nt-me*Pi,ft-_e*Ot,Pe*qn,We*Xn)),Un=Z.call(this,In),On=[],yi=0;yi<Un.length;yi+=1)-1===On.indexOf(Un[yi])&&On.push(Un[yi]);if(he(On),this.autoPaging)for(var ir=On[0],pr=On[On.length-1],Er=ir;Er<pr+1;Er++){this.pdf.setPage(Er);var ns=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xs=1===Er?this.posY+this.margin[0]:this.margin[0],Br=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qn=1===Er?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Er-2)*Br;if(0!==this.ctx.clip_path.length){var Zu=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(be,this.posX+this.margin[3],-Qn+Xs+this.ctx.prevPageLastElemOffset),Ze.call(this,"fill",!0),this.path=Zu}var cs=JSON.parse(JSON.stringify(In));cs=W([cs],this.posX+this.margin[3],-Qn+Xs+this.ctx.prevPageLastElemOffset)[0];var ig=(Er>ir||Er<pr)&&H.call(this);ig&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ns,Br,null).clip().discardPath()),this.pdf.addImage(X,"JPEG",cs.x,cs.y,cs.w,cs.h,null,null,li),ig&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(X,"JPEG",In.x,In.y,In.w,In.h,null,null,li)};var Z=function(X,me,_e){var Pe=[];me=me||this.pdf.internal.pageSize.width,_e=_e||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var We=this.posY+this.ctx.prevPageLastElemOffset;switch(X.type){default:case"mt":case"lt":Pe.push(Math.floor((X.y+We)/_e)+1);break;case"arc":Pe.push(Math.floor((X.y+We-X.radius)/_e)+1),Pe.push(Math.floor((X.y+We+X.radius)/_e)+1);break;case"qct":var nt=ht(this.ctx.lastPoint.x,this.ctx.lastPoint.y,X.x1,X.y1,X.x,X.y);Pe.push(Math.floor((nt.y+We)/_e)+1),Pe.push(Math.floor((nt.y+nt.h+We)/_e)+1);break;case"bct":var ft=_t(this.ctx.lastPoint.x,this.ctx.lastPoint.y,X.x1,X.y1,X.x2,X.y2,X.x,X.y);Pe.push(Math.floor((ft.y+We)/_e)+1),Pe.push(Math.floor((ft.y+ft.h+We)/_e)+1);break;case"rect":Pe.push(Math.floor((X.y+We)/_e)+1),Pe.push(Math.floor((X.y+X.h+We)/_e)+1)}for(var At=0;At<Pe.length;At+=1)for(;this.pdf.internal.getNumberOfPages()<Pe[At];)q.call(this);return Pe},q=function(){var X=this.fillStyle,me=this.strokeStyle,_e=this.font,Pe=this.lineCap,We=this.lineWidth,nt=this.lineJoin;this.pdf.addPage(),this.fillStyle=X,this.strokeStyle=me,this.font=_e,this.lineCap=Pe,this.lineWidth=We,this.lineJoin=nt},W=function(X,me,_e){for(var Pe=0;Pe<X.length;Pe++)switch(X[Pe].type){case"bct":X[Pe].x2+=me,X[Pe].y2+=_e;case"qct":X[Pe].x1+=me,X[Pe].y1+=_e;default:X[Pe].x+=me,X[Pe].y+=_e}return X},he=function(X){return X.sort(function(me,_e){return me-_e})},xe=function(X,me){for(var _e,Pe,We=this.fillStyle,nt=this.strokeStyle,ft=this.lineCap,At=this.lineWidth,pn=Math.abs(At*this.ctx.transform.scaleX),un=this.lineJoin,qn=JSON.parse(JSON.stringify(this.path)),Xn=JSON.parse(JSON.stringify(this.path)),Pi=[],Ot=0;Ot<Xn.length;Ot++)if(void 0!==Xn[Ot].x)for(var be=Z.call(this,Xn[Ot]),ar=0;ar<be.length;ar+=1)-1===Pi.indexOf(be[ar])&&Pi.push(be[ar]);for(var li=0;li<Pi.length;li++)for(;this.pdf.internal.getNumberOfPages()<Pi[li];)q.call(this);if(he(Pi),this.autoPaging)for(var dn=Pi[0],In=Pi[Pi.length-1],Un=dn;Un<In+1;Un++){this.pdf.setPage(Un),this.fillStyle=We,this.strokeStyle=nt,this.lineCap=ft,this.lineWidth=pn,this.lineJoin=un;var On=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],yi=1===Un?this.posY+this.margin[0]:this.margin[0],pr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Er=1===Un?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Un-2)*pr;if(0!==this.ctx.clip_path.length){var ns=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(_e,this.posX+this.margin[3],-Er+yi+this.ctx.prevPageLastElemOffset),Ze.call(this,X,!0),this.path=ns}if(Pe=JSON.parse(JSON.stringify(qn)),this.path=W(Pe,this.posX+this.margin[3],-Er+yi+this.ctx.prevPageLastElemOffset),!1===me||0===Un){var Xs=(Un>dn||Un<In)&&H.call(this);Xs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],On,pr,null).clip().discardPath()),Ze.call(this,X,me),Xs&&this.pdf.restoreGraphicsState()}this.lineWidth=At}else this.lineWidth=pn,Ze.call(this,X,me),this.lineWidth=At;this.path=qn},Ze=function(X,me){if(("stroke"!==X||me||!U.call(this))&&("stroke"===X||me||!B.call(this))){for(var _e,Pe,We=[],nt=this.path,ft=0;ft<nt.length;ft++){var At=nt[ft];switch(At.type){case"begin":We.push({begin:!0});break;case"close":We.push({close:!0});break;case"mt":We.push({start:At,deltas:[],abs:[]});break;case"lt":var pn=We.length;if(nt[ft-1]&&!isNaN(nt[ft-1].x)&&(_e=[At.x-nt[ft-1].x,At.y-nt[ft-1].y],pn>0))for(;pn>=0;pn--)if(!0!==We[pn-1].close&&!0!==We[pn-1].begin){We[pn-1].deltas.push(_e),We[pn-1].abs.push(At);break}break;case"bct":We[We.length-1].deltas.push(_e=[At.x1-nt[ft-1].x,At.y1-nt[ft-1].y,At.x2-nt[ft-1].x,At.y2-nt[ft-1].y,At.x-nt[ft-1].x,At.y-nt[ft-1].y]);break;case"qct":We[We.length-1].deltas.push(_e=[nt[ft-1].x+2/3*(At.x1-nt[ft-1].x)-nt[ft-1].x,nt[ft-1].y+2/3*(At.y1-nt[ft-1].y)-nt[ft-1].y,At.x+2/3*(At.x1-At.x)-nt[ft-1].x,At.y+2/3*(At.y1-At.y)-nt[ft-1].y,At.x-nt[ft-1].x,At.y-nt[ft-1].y]);break;case"arc":We.push({deltas:[],abs:[],arc:!0}),Array.isArray(We[We.length-1].abs)&&We[We.length-1].abs.push(At)}}Pe=me?null:"stroke"===X?"stroke":"fill";for(var ar=!1,li=0;li<We.length;li++)if(We[li].arc)for(var dn=We[li].abs,In=0;In<dn.length;In++){var Un=dn[In];"arc"===Un.type?we.call(this,Un.x,Un.y,Un.radius,Un.startAngle,Un.endAngle,Un.counterclockwise,void 0,me,!ar):Te.call(this,Un.x,Un.y),ar=!0}else!0===We[li].close?(this.pdf.internal.out("h"),ar=!1):!0!==We[li].begin&&(Se.call(this,We[li].deltas,We[li].start.x,We[li].start.y),ar=!0);Pe&&Ft.call(this,Pe),me&&Bt.call(this)}},ct=function(X){var me=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,_e=me*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return X-_e;case"top":return X+me-_e;case"hanging":return X+me-2*_e;case"middle":return X+me/2-_e;default:return X}},Ve=function(X){return X+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};C.prototype.createLinearGradient=function(){var X=function(){};return X.colorStops=[],X.addColorStop=function(me,_e){this.colorStops.push([me,_e])},X.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},X.isCanvasGradient=!0,X},C.prototype.createPattern=function(){return this.createLinearGradient()},C.prototype.createRadialGradient=function(){return this.createLinearGradient()};var we=function(X,me,_e,Pe,We,nt,ft,At,pn){for(var un=Re.call(this,_e,Pe,We,nt),qn=0;qn<un.length;qn++){var Xn=un[qn];0===qn&&(pn?Ae.call(this,Xn.x1+X,Xn.y1+me):Te.call(this,Xn.x1+X,Xn.y1+me)),xt.call(this,X,me,Xn.x2,Xn.y2,Xn.x3,Xn.y3,Xn.x4,Xn.y4)}At?Bt.call(this):Ft.call(this,ft)},Ft=function(X){switch(X){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Bt=function(){this.pdf.clip(),this.pdf.discardPath()},Ae=function(X,me){this.pdf.internal.out(e(X)+" "+i(me)+" m")},de=function(X){var me;switch(X.align){case"right":case"end":me="right";break;case"center":me="center";break;default:me="left"}var _e=this.pdf.getTextDimensions(X.text),Pe=ct.call(this,X.y),We=Ve.call(this,Pe)-_e.h,nt=this.ctx.transform.applyToPoint(new a(X.x,Pe)),ft=this.ctx.transform.decompose(),At=new h;At=(At=(At=At.multiply(ft.translate)).multiply(ft.skew)).multiply(ft.scale);for(var pn,un,qn,Xn=this.ctx.transform.applyToRectangle(new u(X.x,Pe,_e.w,_e.h)),Pi=At.applyToRectangle(new u(X.x,We,_e.w,_e.h)),Ot=Z.call(this,Pi),be=[],ar=0;ar<Ot.length;ar+=1)-1===be.indexOf(Ot[ar])&&be.push(Ot[ar]);if(he(be),this.autoPaging)for(var li=be[0],dn=be[be.length-1],In=li;In<dn+1;In++){this.pdf.setPage(In);var Un=1===In?this.posY+this.margin[0]:this.margin[0],yi=this.pdf.internal.pageSize.height-this.margin[2],ir=yi-this.margin[0],pr=this.pdf.internal.pageSize.width-this.margin[1],Er=pr-this.margin[3],ns=1===In?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(In-2)*ir;if(0!==this.ctx.clip_path.length){var Xs=this.path;pn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(pn,this.posX+this.margin[3],-1*ns+Un),Ze.call(this,"fill",!0),this.path=Xs}var zi=W([JSON.parse(JSON.stringify(Pi))],this.posX+this.margin[3],-ns+Un+this.ctx.prevPageLastElemOffset)[0];X.scale>=.01&&(un=this.pdf.internal.getFontSize(),this.pdf.setFontSize(un*X.scale),this.lineWidth=(qn=this.lineWidth)*X.scale);var Br="text"!==this.autoPaging;if(Br||zi.y+zi.h<=yi){if(Br||zi.y>=Un&&zi.x<=pr){var Qn=Br?X.text:this.pdf.splitTextToSize(X.text,X.maxWidth||pr-zi.x)[0],Zu=W([JSON.parse(JSON.stringify(Xn))],this.posX+this.margin[3],-ns+Un+this.ctx.prevPageLastElemOffset)[0],cs=Br&&(In>li||In<dn)&&H.call(this);cs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Er,ir,null).clip().discardPath()),this.pdf.text(Qn,Zu.x,Zu.y,{angle:X.angle,align:me,renderingMode:X.renderingMode}),cs&&this.pdf.restoreGraphicsState()}}else zi.y<yi&&(this.ctx.prevPageLastElemOffset+=yi-zi.y);X.scale>=.01&&(this.pdf.setFontSize(un),this.lineWidth=qn)}else X.scale>=.01&&(un=this.pdf.internal.getFontSize(),this.pdf.setFontSize(un*X.scale),this.lineWidth=(qn=this.lineWidth)*X.scale),this.pdf.text(X.text,nt.x+this.posX,nt.y+this.posY,{angle:X.angle,align:me,renderingMode:X.renderingMode,maxWidth:X.maxWidth}),X.scale>=.01&&(this.pdf.setFontSize(un),this.lineWidth=qn)},Te=function(X,me,_e,Pe){Pe=Pe||0,this.pdf.internal.out(e(X+(_e=_e||0))+" "+i(me+Pe)+" l")},Se=function(X,me,_e){return this.pdf.lines(X,me,_e,null,null)},xt=function(X,me,_e,Pe,We,nt,ft,At){this.pdf.internal.out([t(r(_e+X)),t(o(Pe+me)),t(r(We+X)),t(o(nt+me)),t(r(ft+X)),t(o(At+me)),"c"].join(" "))},Re=function(X,me,_e,Pe){for(var We=2*Math.PI,nt=Math.PI/2;me>_e;)me-=We;var ft=Math.abs(_e-me);ft<We&&Pe&&(ft=We-ft);for(var At=[],pn=Pe?-1:1,un=me;ft>1e-5;){var qn=un+pn*Math.min(ft,nt);At.push(Ye.call(this,X,un,qn)),ft-=Math.abs(qn-un),un=qn}return At},Ye=function(X,me,_e){var Pe=(_e-me)/2,We=X*Math.cos(Pe),nt=X*Math.sin(Pe),ft=We,At=-nt,pn=ft*ft+At*At,un=pn+ft*We+At*nt,qn=4/3*(Math.sqrt(2*pn*un)-un)/(ft*nt-At*We),Xn=ft-qn*At,Pi=At+qn*ft,Ot=Xn,be=-Pi,ar=Pe+me,li=Math.cos(ar),dn=Math.sin(ar);return{x1:X*Math.cos(me),y1:X*Math.sin(me),x2:Xn*li-Pi*dn,y2:Xn*dn+Pi*li,x3:Ot*li-be*dn,y3:Ot*dn+be*li,x4:X*Math.cos(_e),y4:X*Math.sin(_e)}},Ne=function(X){return 180*X/Math.PI},ht=function(X,me,_e,Pe,We,nt){var ft=X+.5*(_e-X),At=me+.5*(Pe-me),pn=We+.5*(_e-We),un=nt+.5*(Pe-nt),qn=Math.min(X,We,ft,pn),Xn=Math.max(X,We,ft,pn),Pi=Math.min(me,nt,At,un),Ot=Math.max(me,nt,At,un);return new u(qn,Pi,Xn-qn,Ot-Pi)},_t=function(X,me,_e,Pe,We,nt,ft,At){var pn,un,qn,Xn,Pi,Ot,be,ar,li,dn,In,Un,On,yi,ir=_e-X,pr=Pe-me,Er=We-_e,ns=nt-Pe,Xs=ft-We,zi=At-nt;for(un=0;un<41;un++)li=(be=(qn=X+(pn=un/40)*ir)+pn*((Pi=_e+pn*Er)-qn))+pn*(Pi+pn*(We+pn*Xs-Pi)-be),dn=(ar=(Xn=me+pn*pr)+pn*((Ot=Pe+pn*ns)-Xn))+pn*(Ot+pn*(nt+pn*zi-Ot)-ar),0==un?(In=li,Un=dn,On=li,yi=dn):(In=Math.min(In,li),Un=Math.min(Un,dn),On=Math.max(On,li),yi=Math.max(yi,dn));return new u(Math.round(In),Math.round(Un),Math.round(On-In),Math.round(yi-Un))},_n=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var _e=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==_e&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=_e)}}})(ki.API),function(n){var t=function(o){var a,u,h,f,_,C,F,B,U,H;for(/[^\x00-\xFF]/.test(o),u=[],h=0,f=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;f>h;h+=4)0!==(_=(o.charCodeAt(h)<<24)+(o.charCodeAt(h+1)<<16)+(o.charCodeAt(h+2)<<8)+o.charCodeAt(h+3))?(C=(_=((_=((_=((_=(_-(H=_%85))/85)-(U=_%85))/85)-(B=_%85))/85)-(F=_%85))/85)%85,u.push(C+33,F+33,B+33,U+33,H+33)):u.push(122);return function(Z,q){for(var W=q;W>0;W--)Z.pop()}(u,a.length),String.fromCharCode.apply(String,u)+"~>"},e=function(o){var a,u,h,f,_,C=String,F="length",B=255,U="charCodeAt",H="slice",Z="replace";for(o[H](-2),o=o[H](0,-2)[Z](/\s/g,"")[Z]("z","!!!!!"),h=[],f=0,_=(o+=a="uuuuu"[H](o[F]%5||5))[F];_>f;f+=5)u=52200625*(o[U](f)-33)+614125*(o[U](f+1)-33)+7225*(o[U](f+2)-33)+85*(o[U](f+3)-33)+(o[U](f+4)-33),h.push(B&u>>24,B&u>>16,B&u>>8,B&u);return function(q,W){for(var he=W;he>0;he--)q.pop()}(h,a[F]),C.fromCharCode.apply(C,h)},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(o=o.replace(/\s/g,"")).indexOf(">")&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),!1===a.test(o))return"";for(var u="",h=0;h<o.length;h+=2)u+=String.fromCharCode("0x"+(o[h]+o[h+1]));return u},r=function(o){for(var a=new Uint8Array(o.length),u=o.length;u--;)a[u]=o.charCodeAt(u);return(a=OT(a)).reduce(function(h,f){return h+String.fromCharCode(f)},"")};n.processDataByFilters=function(o,a){var u=0,h=o||"",f=[];for("string"==typeof(a=a||[])&&(a=[a]),u=0;u<a.length;u+=1)switch(a[u]){case"ASCII85Decode":case"/ASCII85Decode":h=e(h),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=t(h),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=h.split("").map(function(_){return("0"+_.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=r(h),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[u]+'" is not implemented')}return{data:h,reverseChain:f.reverse().join(" ")}}}(ki.API),function(n){n.loadFile=function(t,e,i){return function(r,o,a){o=!1!==o,a="function"==typeof a?a:function(){};var u=void 0;try{u=function(h,f,_){var C=new XMLHttpRequest,F=0,B=function(U){var H=U.length,Z=[],q=String.fromCharCode;for(F=0;F<H;F+=1)Z.push(q(255&U.charCodeAt(F)));return Z.join("")};if(C.open("GET",h,!f),C.overrideMimeType("text/plain; charset=x-user-defined"),!1===f&&(C.onload=function(){_(200===C.status?B(this.responseText):void 0)}),C.send(null),f&&200===C.status)return B(C.responseText)}(r,o,a)}catch{}return u}(t,e,i)},n.loadImageFile=n.loadFile}(ki.API),function(n){function t(){return(Ni.html2canvas?Promise.resolve(Ni.html2canvas):Promise.resolve().then(re.t.bind(re,4159,23))).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function e(){return(Ni.DOMPurify?Promise.resolve(Ni.DOMPurify):re.e(735).then(re.t.bind(re,2735,23))).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var i=function(a){var u=Os(a);return"undefined"===u?"undefined":"string"===u||a instanceof String?"string":"number"===u||a instanceof Number?"number":"function"===u||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&1===a.nodeType?"element":"object"===u?"object":"unknown"},r=function(a,u){var h=document.createElement(a);for(var f in u.className&&(h.className=u.className),u.innerHTML&&u.dompurify&&(h.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)h.style[f]=u.style[f];return h},o=function a(u){var h=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),f=a.convert(Promise.resolve(),h);return(f=f.setProgress(1,a,1,[a])).set(u)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,u){return a.__proto__=u||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,u){return this.then(function(){switch(u=u||function(h){switch(i(h)){case"string":return"string";case"element":return"canvas"===h.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(e).then(function(h){return this.set({src:r("div",{innerHTML:a,dompurify:h})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function h(f,_){for(var C=3===f.nodeType?document.createTextNode(f.nodeValue):f.cloneNode(!1),F=f.firstChild;F;F=F.nextSibling)!0!==_&&1===F.nodeType&&"SCRIPT"===F.nodeName||C.appendChild(h(F,_));return 1===f.nodeType&&("CANVAS"===f.nodeName?(C.width=f.width,C.height=f.height,C.getContext("2d").drawImage(f,0,0)):"TEXTAREA"!==f.nodeName&&"SELECT"!==f.nodeName||(C.value=f.value),C.addEventListener("load",function(){C.scrollTop=f.scrollTop,C.scrollLeft=f.scrollLeft},!0)),C}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===u.tagName&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(t).then(function(u){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,u(this.prop.container,h)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(t).then(function(u){var h=this.opt.jsPDF,f=this.opt.fontFaces,_="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,C=Object.assign({async:!0,allowTaint:!0,scale:_,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete C.onrendered,h.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=f,f)for(var F=0;F<f.length;++F){var B=f[F],U=B.src.find(function(H){return"truetype"===H.format});U&&h.addFont(U.url,B.ref.name,B.ref.style)}return C.windowHeight=C.windowHeight||0,C.windowHeight=0==C.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):C.windowHeight,h.context2d.save(!0),u(this.prop.container,C)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,u,h){return"img"===(h=h||"pdf").toLowerCase()||"image"===h.toLowerCase()?this.outputImg(a,u):this.outputPdf(a,u)},o.prototype.outputPdf=function(a,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,u)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if("object"!==i(a))return this;var u=Object.keys(a||{}).map(function(h){if(h in o.template.prop)return function(){this.prop[h]=a[h]};switch(h){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[h]=a[h]}}},this);return this.then(function(){return this.thenList(u)})},o.prototype.get=function(a,u){return this.then(function(){var h=a in o.template.prop?this.prop[a]:this.opt[a];return u?u(h):h})},o.prototype.setMargin=function(a){return this.then(function(){switch(i(a)){case"number":a=[a,a,a,a];case"array":if(2===a.length&&(a=[a[0],a[1],a[0],a[1]]),4===a.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function u(h,f){return Math.floor(h*f/72*96)}return this.then(function(){(a=a||ki.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:u(a.inner.width,a.k),height:u(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,u,h,f){return null!=a&&(this.progress.val=a),null!=u&&(this.progress.state=u),null!=h&&(this.progress.n=h),null!=f&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,u,h,f){return this.setProgress(a?this.progress.val+a:null,u||null,h?this.progress.n+h:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(a,u){var h=this;return this.thenCore(a,u,function(f,_){return h.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(C){return h.updateProgress(null,f),C}).then(f,_).then(function(C){return h.updateProgress(1),C})})},o.prototype.thenCore=function(a,u,h){h=h||Promise.prototype.then,a&&(a=a.bind(this)),u&&(u=u.bind(this));var f=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:o.convert(Object.assign({},this),Promise.prototype),_=h.call(f,a,u);return o.convert(_,this.__proto__)},o.prototype.thenExternal=function(a,u){return Promise.prototype.then.call(this,a,u)},o.prototype.thenList=function(a){var u=this;return a.forEach(function(h){u=u.thenCore(h)}),u},o.prototype.catch=function(a){a&&(a=a.bind(this));var u=Promise.prototype.catch.call(this,a);return o.convert(u,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ki.getPageSize=function(a,u,h){if("object"===Os(a)){var f=a;a=f.orientation,u=f.unit||u,h=f.format||h}u=u||"mm",h=h||"a4",a=(""+(a||"P")).toLowerCase();var _,C=(""+h).toLowerCase(),F={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":_=1;break;case"mm":_=72/25.4;break;case"cm":_=72/2.54;break;case"in":_=72;break;case"px":_=.75;break;case"pc":case"em":_=12;break;case"ex":_=6;break;default:throw"Invalid unit: "+u}var B,U=0,H=0;if(F.hasOwnProperty(C))U=F[C][1]/_,H=F[C][0]/_;else try{U=h[1],H=h[0]}catch{throw new Error("Invalid format: "+h)}if("p"===a||"portrait"===a)a="p",H>U&&(B=H,H=U,U=B);else{if("l"!==a&&"landscape"!==a)throw"Invalid orientation: "+a;a="l",U>H&&(B=H,H=U,U=B)}return{width:H,height:U,unit:u,k:_,orientation:a}},n.html=function(a,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(j3):null;var h=new o(u);return u.worker?h:h.from(a).doCallback()}}(ki.API),ki.API.addJS=function(n){return RK=n,this.internal.events.subscribe("postPutResources",function(){ER=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ER+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),kK=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+RK+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==ER&&void 0!==kK&&this.internal.out("/Names <</JavaScript "+ER+" 0 R>>")}),this},function(n){var t;n.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),o=0;o<r.length;o++){var a=r[o],u=i.exec(a);null!=u&&e.internal.newObjectDeferredBegin(u[1],!1),e.internal.write(a)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,_=[];for(o=0;o<f;o++){var C=e.internal.newObject();_.push(C);var F=e.internal.getPageInfo(o+1);e.internal.write("<< /D["+F.objId+" 0 R /XYZ null null null]>> endobj")}var B=e.internal.newObject();for(e.internal.write("<< /Names [ "),o=0;o<_.length;o++)e.internal.write("(page_"+(o+1)+")"+_[o]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+B+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,r,o){var a={title:r,options:o,children:[]};return null==i&&(i=this.root),i.children.push(a),a},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<i.children.length;o++){var a=i.children[o];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(i)),o>0&&this.line("/Prev "+this.makeRef(i.children[o-1])),o<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[o+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var u=this.count=this.count_r({count:0},a);if(u>0&&this.line("/Count "+u),a.options&&a.options.pageNumber){var h=e.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var f=0;f<i.children.length;f++)this.renderItems(i.children[f])},e.outline.line=function(i){this.ctx.val+=i+"\r\n"},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+="\r\n"+i.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(i,r){for(var o=0;o<r.children.length;o++)i.count++,this.count_r(i,r.children[o]);return i.count}}])}(ki.API),function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,i,r,o,a,u){var h,f=this.decode.DCT_DECODE,_=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=this.__addimage__.isArrayBuffer(e=a||e)?new Uint8Array(e):e,(h=function(C){for(var F,B=256*C.charCodeAt(4)+C.charCodeAt(5),U=C.length,H={width:0,height:0,numcomponents:1},Z=4;Z<U;Z+=2){if(-1!==t.indexOf(C.charCodeAt((Z+=B)+1))){F=256*C.charCodeAt(Z+5)+C.charCodeAt(Z+6),H={width:256*C.charCodeAt(Z+7)+C.charCodeAt(Z+8),height:F,numcomponents:C.charCodeAt(Z+9)};break}B=256*C.charCodeAt(Z+2)+C.charCodeAt(Z+3)}return H}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}_={data:e,width:h.width,height:h.height,colorSpace:u,bitsPerComponent:8,filter:f,index:i,alias:r}}return _}}(ki.API);var AE,SR,OK,LK,NK,Npe=function(){var n,t,e;function i(o){var a,h,f,_,C,F,B,U,H,Z,q,W,he;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},C=null;;){switch(a=this.readUInt32(),U=function(){var xe,Ze;for(Ze=[],xe=0;xe<4;++xe)Ze.push(String.fromCharCode(this.data[this.pos++]));return Ze}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":C&&this.animation.frames.push(C),this.pos+=4,C={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},_=this.readUInt16(),f=this.readUInt16()||100,C.delay=1e3*_/f,C.disposeOp=this.data[this.pos++],C.blendOp=this.data[this.pos++],C.data=[];break;case"IDAT":case"fdAT":for("fdAT"===U&&(this.pos+=4,a-=4),o=C?.data||this.imgData,q=0;0<=a?q<a:q>a;0<=a?++q:--q)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(h=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>h)throw new Error("More transparent colors than palette size");if((H=h-this.transparency.indexed.length)>0)for(W=0;0<=H?W<H:W>H;0<=H?++W:--W)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":F=(Z=this.read(a)).indexOf(0),B=String.fromCharCode.apply(String,Z.slice(0,F)),this.text[B]=String.fromCharCode.apply(String,Z.slice(F+1));break;case"IEND":return C&&this.animation.frames.push(C),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(he=this.colorType)||6===he,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(o){var a,u;for(u=[],a=0;0<=o?a<o:a>o;0<=o?++a:--a)u.push(this.data[this.pos++]);return u},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(o){var a=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*a),h=0,f=this;if(null==o&&(o=this.imgData),0===o.length)return new Uint8Array(0);function _(C,F,B,U){var H,Z,q,W,he,xe,Ze,ct,we,Ft,Bt,Ae,de,Te,Se,xt,Re,Ye,Ne,ht,_t=Math.ceil((f.width-C)/B),_n=Math.ceil((f.height-F)/U),X=f.width==_t&&f.height==_n;for(de=a*_t,Bt=X?u:new Uint8Array(de*_n),xe=o.length,Ae=0,Z=0;Ae<_n&&h<xe;){switch(o[h++]){case 0:for(W=xt=0;xt<de;W=xt+=1)Bt[Z++]=o[h++];break;case 1:for(W=Re=0;Re<de;W=Re+=1)H=o[h++],he=W<a?0:Bt[Z-a],Bt[Z++]=(H+he)%256;break;case 2:for(W=Ye=0;Ye<de;W=Ye+=1)H=o[h++],q=(W-W%a)/a,Bt[Z++]=((Te=Ae&&Bt[(Ae-1)*de+q*a+W%a])+H)%256;break;case 3:for(W=Ne=0;Ne<de;W=Ne+=1)H=o[h++],q=(W-W%a)/a,he=W<a?0:Bt[Z-a],Te=Ae&&Bt[(Ae-1)*de+q*a+W%a],Bt[Z++]=(H+Math.floor((he+Te)/2))%256;break;case 4:for(W=ht=0;ht<de;W=ht+=1)H=o[h++],q=(W-W%a)/a,0===Ae?Te=Se=0:(Te=Bt[(Ae-1)*de+q*a+W%a],Se=q&&Bt[(Ae-1)*de+(q-1)*a+W%a]),Ze=(he=W<a?0:Bt[Z-a])+Te-Se,ct=Math.abs(Ze-he),we=Math.abs(Ze-Te),Ft=Math.abs(Ze-Se),Bt[Z++]=(H+(ct<=we&&ct<=Ft?he:we<=Ft?Te:Se))%256;break;default:throw new Error("Invalid filter algorithm: "+o[h-1])}if(!X){var me=((F+Ae*U)*f.width+C)*a,_e=Ae*de;for(W=0;W<_t;W+=1){for(var Pe=0;Pe<a;Pe+=1)u[me++]=Bt[_e++];me+=(B-1)*a}}Ae++}}return o=fR(o),1==f.interlaceMethod?(_(0,0,8,8),_(4,0,8,8),_(0,4,4,8),_(2,0,4,4),_(0,2,2,4),_(1,0,2,2),_(0,1,1,2)):_(0,0,1,1),u},i.prototype.decodePalette=function(){var o,a,u,h,f,_,C,F,B;for(u=this.palette,_=this.transparency.indexed||[],f=new Uint8Array((_.length||0)+u.length),h=0,o=0,a=C=0,F=u.length;C<F;a=C+=3)f[h++]=u[a],f[h++]=u[a+1],f[h++]=u[a+2],f[h++]=null!=(B=_[o++])?B:255;return f},i.prototype.copyToImageData=function(o,a){var u,h,f,_,C,F,B,U,H,Z,q;if(h=this.colors,H=null,u=this.hasAlphaChannel,this.palette.length&&(H=null!=(q=this._decodedPalette)?q:this._decodedPalette=this.decodePalette(),h=4,u=!0),U=(f=o.data||o).length,C=H||a,_=F=0,1===h)for(;_<U;)B=H?4*a[_/4]:F,Z=C[B++],f[_++]=Z,f[_++]=Z,f[_++]=Z,f[_++]=u?C[B++]:255,F=B;else for(;_<U;)B=H?4*a[_/4]:F,f[_++]=C[B++],f[_++]=C[B++],f[_++]=C[B++],f[_++]=u?C[B++]:255,F=B},i.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var r=function(){if("[object Window]"===Object.prototype.toString.call(Ni)){try{t=Ni.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return r(),n=function(o){var a;if(!0===r())return e.width=o.width,e.height=o.height,e.clearRect(0,0,o.width,o.height),e.putImageData(o,0,0),(a=new Image).src=t.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(o){var a,u,h,f,_,C,F,B;if(this.animation){for(B=[],u=_=0,C=(F=this.animation.frames).length;_<C;u=++_)h=o.createImageData((a=F[u]).width,a.height),f=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(h,f),a.imageData=h,B.push(a.image=n(h));return B}},i.prototype.renderFrame=function(o,a){var u,h,f;return u=(h=this.animation.frames)[a],f=h[a-1],0===a&&o.clearRect(0,0,this.width,this.height),1===f?.disposeOp?o.clearRect(f.xOffset,f.yOffset,f.width,f.height):2===f?.disposeOp&&o.putImageData(f.imageData,f.xOffset,f.yOffset),0===u.blendOp&&o.clearRect(u.xOffset,u.yOffset,u.width,u.height),o.drawImage(u.image,u.xOffset,u.yOffset)},i.prototype.animate=function(o){var a,u,h,f,_,C,F=this;return u=0,f=(C=this.animation).numFrames,h=C.frames,_=C.numPlays,(a=function(){var B,U;if(B=u++%f,U=h[B],F.renderFrame(o,B),f>1&&u/f<_)return F.animation._timeout=setTimeout(a,U.delay)})()},i.prototype.stopAnimation=function(){var o;return clearTimeout(null!=(o=this.animation)?o._timeout:void 0)},i.prototype.render=function(o){var a,u;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,a=o.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(u=a.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),a.putImageData(u,0,0))},i}();function Ppe(n){var t=0;if(71!==n[t++]||73!==n[t++]||70!==n[t++]||56!==n[t++]||56!=(n[t++]+1&253)||97!==n[t++])throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,i=n[t++]|n[t++]<<8,r=n[t++],a=1<<1+(7&r);t++,t++;var u=null,h=null;r>>7&&(u=t,h=a,t+=3*a);var f=!0,_=[],C=0,F=null,B=0,U=null;for(this.width=e,this.height=i;f&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(11!==n[t]||78==n[t+1]&&69==n[t+2]&&84==n[t+3]&&83==n[t+4]&&67==n[t+5]&&65==n[t+6]&&80==n[t+7]&&69==n[t+8]&&50==n[t+9]&&46==n[t+10]&&48==n[t+11]&&3==n[t+12]&&1==n[t+13]&&0==n[t+16])t+=14,U=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((Ae=n[t++])>=0))throw Error("Invalid block size");if(0===Ae)break;t+=Ae}break;case 249:if(4!==n[t++]||0!==n[t+4])throw new Error("Invalid graphics extension block.");var H=n[t++];C=n[t++]|n[t++]<<8,F=n[t++],0==(1&H)&&(F=null),B=H>>2&7,t++;break;case 254:for(;;){if(!((Ae=n[t++])>=0))throw Error("Invalid block size");if(0===Ae)break;t+=Ae}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var Z=n[t++]|n[t++]<<8,q=n[t++]|n[t++]<<8,W=n[t++]|n[t++]<<8,he=n[t++]|n[t++]<<8,xe=n[t++],Ze=xe>>6&1,ct=1<<1+(7&xe),Ve=u,we=h,Ft=!1;xe>>7&&(Ft=!0,Ve=t,we=ct,t+=3*ct);var Bt=t;for(t++;;){var Ae;if(!((Ae=n[t++])>=0))throw Error("Invalid block size");if(0===Ae)break;t+=Ae}_.push({x:Z,y:q,width:W,height:he,has_local_palette:Ft,palette_offset:Ve,palette_size:we,data_offset:Bt,data_length:t-Bt,transparent_index:F,interlaced:!!Ze,delay:C,disposal:B});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return _.length},this.loopCount=function(){return U},this.frameInfo=function(de){if(de<0||de>=_.length)throw new Error("Frame index out of range.");return _[de]},this.decodeAndBlitFrameBGRA=function(de,Te){var Se=this.frameInfo(de),xt=Se.width*Se.height,Re=new Uint8Array(xt);PK(n,Se.data_offset,Re,xt);var Ye=Se.palette_offset,Ne=Se.transparent_index;null===Ne&&(Ne=256);var ht=Se.width,_t=e-ht,_n=ht,X=4*(Se.y*e+Se.x),me=4*((Se.y+Se.height)*e+Se.x),_e=X,Pe=4*_t;!0===Se.interlaced&&(Pe+=4*e*7);for(var We=8,nt=0,ft=Re.length;nt<ft;++nt){var At=Re[nt];if(0===_n&&(_n=ht,(_e+=Pe)>=me&&(Pe=4*_t+4*e*(We-1),_e=X+(ht+_t)*(We<<1),We>>=1)),At===Ne)_e+=4;else{var pn=n[Ye+3*At],un=n[Ye+3*At+1];Te[_e++]=n[Ye+3*At+2],Te[_e++]=un,Te[_e++]=pn,Te[_e++]=255}--_n}},this.decodeAndBlitFrameRGBA=function(de,Te){var Se=this.frameInfo(de),xt=Se.width*Se.height,Re=new Uint8Array(xt);PK(n,Se.data_offset,Re,xt);var Ye=Se.palette_offset,Ne=Se.transparent_index;null===Ne&&(Ne=256);var ht=Se.width,_t=e-ht,_n=ht,X=4*(Se.y*e+Se.x),me=4*((Se.y+Se.height)*e+Se.x),_e=X,Pe=4*_t;!0===Se.interlaced&&(Pe+=4*e*7);for(var We=8,nt=0,ft=Re.length;nt<ft;++nt){var At=Re[nt];if(0===_n&&(_n=ht,(_e+=Pe)>=me&&(Pe=4*_t+4*e*(We-1),_e=X+(ht+_t)*(We<<1),We>>=1)),At===Ne)_e+=4;else{var un=n[Ye+3*At+1],qn=n[Ye+3*At+2];Te[_e++]=n[Ye+3*At],Te[_e++]=un,Te[_e++]=qn,Te[_e++]=255}--_n}}}function PK(n,t,e,i){for(var r=n[t++],o=1<<r,a=o+1,u=a+1,h=r+1,f=(1<<h)-1,_=0,C=0,F=0,B=n[t++],U=new Int32Array(4096),H=null;;){for(;_<16&&0!==B;)C|=n[t++]<<_,_+=8,1===B?B=n[t++]:--B;if(_<h)break;var Z=C&f;if(C>>=h,_-=h,Z!==o){if(Z===a)break;for(var q=Z<u?Z:H,W=0,he=q;he>o;)he=U[he]>>8,++W;var xe=he;if(F+W+(q!==Z?1:0)>i)return void uo.log("Warning, gif stream longer than expected.");e[F++]=xe;var Ze=F+=W;for(q!==Z&&(e[F++]=xe),he=q;W--;)e[--Ze]=255&(he=U[he]),he>>=8;null!==H&&u<4096&&(U[u++]=H<<8|xe,u>=f+1&&h<12&&(++h,f=f<<1|1)),H=Z}else u=a+1,f=(1<<(h=r+1))-1,H=null}return F!==i&&uo.log("Warning, gif stream shorter than expected."),e}function z3(n){var t,e,i,r,o,a=Math.floor,u=new Array(64),h=new Array(64),f=new Array(64),_=new Array(64),C=new Array(65535),F=new Array(65535),B=new Array(64),U=new Array(64),H=[],Z=0,q=7,W=new Array(64),he=new Array(64),xe=new Array(64),Ze=new Array(256),ct=new Array(2048),Ve=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],we=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Ft=[0,1,2,3,4,5,6,7,8,9,10,11],Bt=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Ae=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],de=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Te=[0,1,2,3,4,5,6,7,8,9,10,11],Se=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],xt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Re(X,me){for(var _e=0,Pe=0,We=new Array,nt=1;nt<=16;nt++){for(var ft=1;ft<=X[nt];ft++)We[me[Pe]]=[],We[me[Pe]][0]=_e,We[me[Pe]][1]=nt,Pe++,_e++;_e*=2}return We}function Ye(X){for(var me=X[0],_e=X[1]-1;_e>=0;)me&1<<_e&&(Z|=1<<q),_e--,--q<0&&(255==Z?(Ne(255),Ne(0)):Ne(Z),q=7,Z=0)}function Ne(X){H.push(X)}function ht(X){Ne(X>>8&255),Ne(255&X)}function _t(X,me,_e,Pe,We){for(var nt,ft=We[0],At=We[240],pn=function(dn,In){var Un,On,yi,ir,pr,Er,ns,Xs,zi,Br,Qn=0;for(zi=0;zi<8;++zi){var Zu=(Un=dn[Qn])+(Xs=dn[Qn+7]),cs=Un-Xs,ig=(On=dn[Qn+1])+(ns=dn[Qn+6]),ho=On-ns,da=(yi=dn[Qn+2])+(Er=dn[Qn+5]),$m=yi-Er,bs=(ir=dn[Qn+3])+(pr=dn[Qn+4]),iC=ir-pr,el=Zu+bs,rg=Zu-bs,My=ig+da,tl=ig-da;dn[Qn]=el+My,dn[Qn+4]=el-My;var rr=.707106781*(tl+rg);dn[Qn+2]=rg+rr,dn[Qn+6]=rg-rr;var Cs=.382683433*((el=iC+$m)-(tl=ho+cs)),rC=.5411961*el+Cs,au=1.306562965*tl+Cs,Ym=.707106781*(My=$m+ho),Wm=cs+Ym,Ri=cs-Ym;dn[Qn+5]=Ri+rC,dn[Qn+3]=Ri-rC,dn[Qn+1]=Wm+au,dn[Qn+7]=Wm-au,Qn+=8}for(Qn=0,zi=0;zi<8;++zi){var sg=(Un=dn[Qn])+(Xs=dn[Qn+56]),Jm=Un-Xs,mh=(On=dn[Qn+8])+(ns=dn[Qn+48]),lc=On-ns,jl=(yi=dn[Qn+16])+(Er=dn[Qn+40]),bA=yi-Er,pE=(ir=dn[Qn+24])+(pr=dn[Qn+32]),ky=ir-pr,og=sg+pE,ag=sg-pE,lg=mh+jl,Xm=mh-jl;dn[Qn]=og+lg,dn[Qn+32]=og-lg;var kf=.707106781*(Xm+ag);dn[Qn+16]=ag+kf,dn[Qn+48]=ag-kf;var e_=.382683433*((og=ky+bA)-(Xm=lc+Jm)),sC=.5411961*og+e_,gE=1.306562965*Xm+e_,mE=.707106781*(lg=bA+lc),_E=Jm+mE,yE=Jm-mE;dn[Qn+40]=yE+sC,dn[Qn+24]=yE-sC,dn[Qn+8]=_E+gE,dn[Qn+56]=_E-gE,Qn++}for(zi=0;zi<64;++zi)B[zi]=(Br=dn[zi]*In[zi])>0?Br+.5|0:Br-.5|0;return B}(X,me),un=0;un<64;++un)U[Ve[un]]=pn[un];var qn=U[0]-_e;_e=U[0],0==qn?Ye(Pe[0]):(Ye(Pe[F[nt=32767+qn]]),Ye(C[nt]));for(var Xn=63;Xn>0&&0==U[Xn];)Xn--;if(0==Xn)return Ye(ft),_e;for(var Pi,Ot=1;Ot<=Xn;){for(var be=Ot;0==U[Ot]&&Ot<=Xn;)++Ot;var ar=Ot-be;if(ar>=16){Pi=ar>>4;for(var li=1;li<=Pi;++li)Ye(At);ar&=15}Ye(We[(ar<<4)+F[nt=32767+U[Ot]]]),Ye(C[nt]),Ot++}return 63!=Xn&&Ye(ft),_e}function _n(X){X=Math.min(Math.max(X,1),100),o!=X&&(function(me){for(var _e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Pe=0;Pe<64;Pe++){var We=a((_e[Pe]*me+50)/100);We=Math.min(Math.max(We,1),255),u[Ve[Pe]]=We}for(var nt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ft=0;ft<64;ft++){var At=a((nt[ft]*me+50)/100);At=Math.min(Math.max(At,1),255),h[Ve[ft]]=At}for(var pn=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],un=0,qn=0;qn<8;qn++)for(var Xn=0;Xn<8;Xn++)f[un]=1/(u[Ve[un]]*pn[qn]*pn[Xn]*8),_[un]=1/(h[Ve[un]]*pn[qn]*pn[Xn]*8),un++}(X<50?Math.floor(5e3/X):Math.floor(200-2*X)),o=X)}this.encode=function(X,me){var On,yi;me&&_n(me),H=new Array,Z=0,q=7,ht(65496),ht(65504),ht(16),Ne(74),Ne(70),Ne(73),Ne(70),Ne(0),Ne(1),Ne(1),Ne(0),ht(1),ht(1),Ne(0),Ne(0),function(){ht(65499),ht(132),Ne(0);for(var On=0;On<64;On++)Ne(u[On]);Ne(1);for(var yi=0;yi<64;yi++)Ne(h[yi])}(),On=X.width,yi=X.height,ht(65472),ht(17),Ne(8),ht(yi),ht(On),Ne(3),Ne(1),Ne(17),Ne(0),Ne(2),Ne(17),Ne(1),Ne(3),Ne(17),Ne(1),function(){ht(65476),ht(418),Ne(0);for(var On=0;On<16;On++)Ne(we[On+1]);for(var yi=0;yi<=11;yi++)Ne(Ft[yi]);Ne(16);for(var ir=0;ir<16;ir++)Ne(Bt[ir+1]);for(var pr=0;pr<=161;pr++)Ne(Ae[pr]);Ne(1);for(var Er=0;Er<16;Er++)Ne(de[Er+1]);for(var ns=0;ns<=11;ns++)Ne(Te[ns]);Ne(17);for(var Xs=0;Xs<16;Xs++)Ne(Se[Xs+1]);for(var zi=0;zi<=161;zi++)Ne(xt[zi])}(),ht(65498),ht(12),Ne(3),Ne(1),Ne(0),Ne(2),Ne(17),Ne(3),Ne(17),Ne(0),Ne(63),Ne(0);var _e=0,Pe=0,We=0;Z=0,q=7,this.encode.displayName="_encode_";for(var nt,ft,At,pn,un,qn,Xn,Pi,Ot,be=X.data,li=X.height,dn=4*X.width,In=0;In<li;){for(nt=0;nt<dn;){for(un=dn*In+nt,Xn=-1,Pi=0,Ot=0;Ot<64;Ot++)qn=un+(Pi=Ot>>3)*dn+(Xn=4*(7&Ot)),In+Pi>=li&&(qn-=dn*(In+1+Pi-li)),nt+Xn>=dn&&(qn-=nt+Xn-dn+4),ft=be[qn++],At=be[qn++],pn=be[qn++],W[Ot]=(ct[ft]+ct[At+256>>0]+ct[pn+512>>0]>>16)-128,he[Ot]=(ct[ft+768>>0]+ct[At+1024>>0]+ct[pn+1280>>0]>>16)-128,xe[Ot]=(ct[ft+1280>>0]+ct[At+1536>>0]+ct[pn+1792>>0]>>16)-128;_e=_t(W,f,_e,t,i),Pe=_t(he,_,Pe,e,r),We=_t(xe,_,We,e,r),nt+=32}In+=8}if(q>=0){var Un=[];Un[1]=q+1,Un[0]=(1<<q+1)-1,Ye(Un)}return ht(65497),new Uint8Array(H)},n=n||50,function(){for(var X=String.fromCharCode,me=0;me<256;me++)Ze[me]=X(me)}(),t=Re(we,Ft),e=Re(de,Te),i=Re(Bt,Ae),r=Re(Se,xt),function(){for(var X=1,me=2,_e=1;_e<=15;_e++){for(var Pe=X;Pe<me;Pe++)F[32767+Pe]=_e,C[32767+Pe]=[],C[32767+Pe][1]=_e,C[32767+Pe][0]=Pe;for(var We=-(me-1);We<=-X;We++)F[32767+We]=_e,C[32767+We]=[],C[32767+We][1]=_e,C[32767+We][0]=me-1+We;X<<=1,me<<=1}}(),function(){for(var X=0;X<256;X++)ct[X]=19595*X,ct[X+256>>0]=38470*X,ct[X+512>>0]=7471*X+32768,ct[X+768>>0]=-11059*X,ct[X+1024>>0]=-21709*X,ct[X+1280>>0]=32768*X+8421375,ct[X+1536>>0]=-27439*X,ct[X+1792>>0]=-5329*X}(),_n(n)}function tg(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function UK(n){function t(we){if(!we)throw Error("assert :P")}function e(we,Ft,Bt){for(var Ae=0;4>Ae;Ae++)if(we[Ft+Ae]!=Bt.charCodeAt(Ae))return!0;return!1}function i(we,Ft,Bt,Ae,de){for(var Te=0;Te<de;Te++)we[Ft+Te]=Bt[Ae+Te]}function r(we,Ft,Bt,Ae){for(var de=0;de<Ae;de++)we[Ft+de]=Bt}function o(we){return new Int32Array(we)}function a(we,Ft){for(var Bt=[],Ae=0;Ae<we;Ae++)Bt.push(new Ft);return Bt}function u(we,Ft){var Bt=[];return function Ae(de,Te,Se){for(var xt=Se[Te],Re=0;Re<xt&&(de.push(Se.length>Te+1?[]:new Ft),!(Se.length<Te+1));Re++)Ae(de[Re],Te+1,Se)}(Bt,0,we),Bt}var h=function(){var we=this;function Ft(y,I){for(var O=1<<I-1>>>0;y&O;)O>>>=1;return O?(y&O-1)+O:y}function Bt(y,I,O,V,$){t(!(V%O));do{y[I+(V-=O)]=$}while(0<V)}function Ae(y,I,O,V,$){if(t(2328>=$),512>=$)var te=o(512);else if(null==(te=o($)))return 0;return function(ne,ie,se,pe,Oe,ot){var at,$e,Gt=ie,Et=1<<se,Ue=o(16),je=o(16);for(t(0!=Oe),t(null!=pe),t(null!=ne),t(0<se),$e=0;$e<Oe;++$e){if(15<pe[$e])return 0;++Ue[pe[$e]]}if(Ue[0]==Oe)return 0;for(je[1]=0,at=1;15>at;++at){if(Ue[at]>1<<at)return 0;je[at+1]=je[at]+Ue[at]}for($e=0;$e<Oe;++$e)at=pe[$e],0<pe[$e]&&(ot[je[at]++]=$e);if(1==je[15])return(pe=new de).g=0,pe.value=ot[0],Bt(ne,Gt,1,Et,pe),Et;var Ht,Wt=-1,Vt=Et-1,Yn=0,Dn=1,Ii=1,kn=1<<se;for($e=0,at=1,Oe=2;at<=se;++at,Oe<<=1){if(Dn+=Ii<<=1,0>(Ii-=Ue[at]))return 0;for(;0<Ue[at];--Ue[at])(pe=new de).g=at,pe.value=ot[$e++],Bt(ne,Gt+Yn,Oe,kn,pe),Yn=Ft(Yn,at)}for(at=se+1,Oe=2;15>=at;++at,Oe<<=1){if(Dn+=Ii<<=1,0>(Ii-=Ue[at]))return 0;for(;0<Ue[at];--Ue[at]){if(pe=new de,(Yn&Vt)!=Wt){for(Gt+=kn,Ht=1<<(Wt=at)-se;15>Wt&&!(0>=(Ht-=Ue[Wt]));)++Wt,Ht<<=1;Et+=kn=1<<(Ht=Wt-se),ne[ie+(Wt=Yn&Vt)].g=Ht+se,ne[ie+Wt].value=Gt-ie-Wt}pe.g=at-se,pe.value=ot[$e++],Bt(ne,Gt+(Yn>>se),Oe,kn,pe),Yn=Ft(Yn,at)}}return Dn!=2*je[15]-1?0:Et}(y,I,O,V,$,te)}function de(){this.value=this.g=0}function Te(){this.value=this.g=0}function Se(){this.G=a(5,de),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(yh,Te)}function xt(y,I,O,V){t(null!=y),t(null!=I),t(2147483648>V),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=I,y.pa=O,y.Jd=I,y.Yc=O+V,y.Zc=4<=V?O+V-4+1:O,nt(y)}function Re(y,I){for(var O=0;0<I--;)O|=At(y,128)<<I;return O}function Ye(y,I){var O=Re(y,I);return ft(y)?-O:O}function Ne(y,I,O,V){var $,te=0;for(t(null!=y),t(null!=I),t(4294967288>V),y.Sb=V,y.Ra=0,y.u=0,y.h=0,4<V&&(V=4),$=0;$<V;++$)te+=I[O+$]<<8*$;y.Ra=te,y.bb=V,y.oa=I,y.pa=O}function ht(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<RE-8>>>0,++y.bb,y.u-=8;_e(y)&&(y.h=1,y.u=0)}function _t(y,I){if(t(0<=I),!y.h&&I<=kE){var O=me(y)&ME[I];return y.u+=I,ht(y),O}return y.h=1,y.u=0}function _n(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function X(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function me(y){return y.Ra>>>(y.u&RE-1)>>>0}function _e(y){return t(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>RE}function Pe(y,I){y.u=I,y.h=_e(y)}function We(y){y.u>=a2&&(t(y.u>=a2),ht(y))}function nt(y){t(null!=y&&null!=y.oa),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(t(null!=y&&null!=y.oa),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function ft(y){return Re(y,1)}function At(y,I){var O=y.Ca;0>y.b&&nt(y);var V=y.b,$=O*I>>>8,te=(y.I>>>V>$)+0;for(te?(O-=$,y.I-=$+1<<V>>>0):O=$+1,V=O,$=0;256<=V;)$+=8,V>>=8;return y.b-=V=7^$+vh[V],y.Ca=(O<<V)-1,te}function pn(y,I,O){y[I+0]=O>>24&255,y[I+1]=O>>16&255,y[I+2]=O>>8&255,y[I+3]=O>>0&255}function un(y,I){return y[I+0]<<0|y[I+1]<<8}function qn(y,I){return un(y,I)|y[I+2]<<16}function Xn(y,I){return un(y,I)|un(y,I+2)<<16}function Pi(y,I){var O=1<<I;return t(null!=y),t(0<I),y.X=o(O),null==y.X?0:(y.Mb=32-I,y.Xa=I,1)}function Ot(y,I){t(null!=y),t(null!=I),t(y.Xa==I.Xa),i(I.X,0,y.X,0,1<<I.Xa)}function be(){this.X=[],this.Xa=this.Mb=0}function ar(y,I,O,V){t(null!=O),t(null!=V);var $=O[0],te=V[0];return 0==$&&($=(y*te+I/2)/I),0==te&&(te=(I*$+y/2)/y),0>=$||0>=te?0:(O[0]=$,V[0]=te,1)}function li(y,I){return y+(1<<I)-1>>>I}function dn(y,I){return((4278255360&y)+(4278255360&I)>>>0&4278255360)+((16711935&y)+(16711935&I)>>>0&16711935)>>>0}function In(y,I){we[I]=function(O,V,$,te,ne,ie,se){var pe;for(pe=0;pe<ne;++pe){var Oe=we[y](ie[se+pe-1],$,te+pe);ie[se+pe]=dn(O[V+pe],Oe)}}}function Un(){this.ud=this.hd=this.jd=0}function On(y,I){return((4278124286&(y^I))>>>1)+(y&I)>>>0}function yi(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function ir(y,I){return yi(y+(y-I+.5>>1))}function pr(y,I,O){return Math.abs(I-O)-Math.abs(y-O)}function Er(y,I,O,V,$,te,ne){for(V=te[ne-1],O=0;O<$;++O)te[ne+O]=V=dn(y[I+O],V)}function ns(y,I,O,V,$){var te;for(te=0;te<O;++te){var ne=y[I+te],ie=ne>>8&255,se=16711935&(se=(se=16711935&ne)+((ie<<16)+ie));V[$+te]=(4278255360&ne)+se>>>0}}function Xs(y,I){I.jd=y>>0&255,I.hd=y>>8&255,I.ud=y>>16&255}function zi(y,I,O,V,$,te){var ne;for(ne=0;ne<V;++ne){var ie=I[O+ne],se=ie>>>8,pe=ie,Oe=255&(Oe=(Oe=ie>>>16)+((y.jd<<24>>24)*(se<<24>>24)>>>5));pe=255&(pe=(pe+=(y.hd<<24>>24)*(se<<24>>24)>>>5)+((y.ud<<24>>24)*(Oe<<24>>24)>>>5)),$[te+ne]=(4278255360&ie)+(Oe<<16)+pe}}function Br(y,I,O,V,$){we[I]=function(te,ne,ie,se,pe,Oe,ot,at,$e){for(se=ot;se<at;++se)for(ot=0;ot<$e;++ot)pe[Oe++]=$(ie[V(te[ne++])])},we[y]=function(te,ne,ie,se,pe,Oe,ot){var at=8>>te.b,$e=te.Ea,Gt=te.K[0],Et=te.w;if(8>at)for(te=(1<<te.b)-1,Et=(1<<at)-1;ne<ie;++ne){var Ue,je=0;for(Ue=0;Ue<$e;++Ue)Ue&te||(je=V(se[pe++])),Oe[ot++]=$(Gt[je&Et]),je>>=at}else we["VP8LMapColor"+O](se,pe,Gt,Et,Oe,ot,ne,ie,$e)}}function Qn(y,I,O,V,$){for(O=I+O;I<O;){var te=y[I++];V[$++]=te>>16&255,V[$++]=te>>8&255,V[$++]=te>>0&255}}function Zu(y,I,O,V,$){for(O=I+O;I<O;){var te=y[I++];V[$++]=te>>16&255,V[$++]=te>>8&255,V[$++]=te>>0&255,V[$++]=te>>24&255}}function cs(y,I,O,V,$){for(O=I+O;I<O;){var te=(ne=y[I++])>>16&240|ne>>12&15,ne=ne>>0&240|ne>>28&15;V[$++]=te,V[$++]=ne}}function ig(y,I,O,V,$){for(O=I+O;I<O;){var te=(ne=y[I++])>>16&248|ne>>13&7,ne=ne>>5&224|ne>>3&31;V[$++]=te,V[$++]=ne}}function ho(y,I,O,V,$){for(O=I+O;I<O;){var te=y[I++];V[$++]=te>>0&255,V[$++]=te>>8&255,V[$++]=te>>16&255}}function da(y,I,O,V,$,te){if(0==te)for(O=I+O;I<O;)pn(V,((te=y[I++])[0]>>24|te[1]>>8&65280|te[2]<<8&16711680|te[3]<<24)>>>0),$+=32;else i(V,$,y,I,O)}function $m(y,I){we[I][0]=we[y+"0"],we[I][1]=we[y+"1"],we[I][2]=we[y+"2"],we[I][3]=we[y+"3"],we[I][4]=we[y+"4"],we[I][5]=we[y+"5"],we[I][6]=we[y+"6"],we[I][7]=we[y+"7"],we[I][8]=we[y+"8"],we[I][9]=we[y+"9"],we[I][10]=we[y+"10"],we[I][11]=we[y+"11"],we[I][12]=we[y+"12"],we[I][13]=we[y+"13"],we[I][14]=we[y+"0"],we[I][15]=we[y+"0"]}function bs(y){return y==nQ||y==iQ||y==_O||y==rQ}function iC(){this.eb=[],this.size=this.A=this.fb=0}function el(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function rg(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new iC,this.f.kb=new el,this.sd=null}function My(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function tl(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function rr(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function Cs(y,I){var O=y.T,V=I.ba.f.RGBA,$=V.eb,te=V.fb+y.ka*V.A,ne=Nf[I.ba.S],ie=y.y,se=y.O,pe=y.f,Oe=y.N,ot=y.ea,at=y.W,$e=I.cc,Gt=I.dc,Et=I.Mc,Ue=I.Nc,je=y.ka,Ht=y.ka+y.T,Wt=y.U,Vt=Wt+1>>1;for(0==je?ne(ie,se,null,null,pe,Oe,ot,at,pe,Oe,ot,at,$,te,null,null,Wt):(ne(I.ec,I.fc,ie,se,$e,Gt,Et,Ue,pe,Oe,ot,at,$,te-V.A,$,te,Wt),++O);je+2<Ht;je+=2)ne(ie,(se+=2*y.fa)-y.fa,ie,se,$e=pe,Gt=Oe,Et=ot,Ue=at,pe,Oe+=y.Rc,ot,at+=y.Rc,$,(te+=2*V.A)-V.A,$,te,Wt);return se+=y.fa,y.j+Ht<y.o?(i(I.ec,I.fc,ie,se,Wt),i(I.cc,I.dc,pe,Oe,Vt),i(I.Mc,I.Nc,ot,at,Vt),O--):1&Ht||ne(ie,se,null,null,pe,Oe,ot,at,pe,Oe,ot,at,$,te+V.A,null,null,Wt),O}function rC(y,I,O){var V=y.F,$=[y.J];if(null!=V){var te=y.U,ne=I.ba.S,ie=ne==mO||ne==_O;I=I.ba.f.RGBA;var se=[0],pe=y.ka;se[0]=y.T,y.Kb&&(0==pe?--se[0]:(--pe,$[0]-=y.width),y.j+y.ka+y.T==y.o&&(se[0]=y.o-y.j-pe));var Oe=I.eb;y=hO(V,$[0],y.width,te,se,Oe,(pe=I.fb+pe*I.A)+(ie?0:3),I.A),t(O==se),y&&bs(ne)&&Z0(Oe,pe,ie,te,se,I.A)}return 0}function au(y){var I=y.ma,O=I.ba.S,V=11>O,$=O==pO||O==gO||O==mO||O==tQ||12==O||bs(O);if(I.memory=null,I.Ib=null,I.Jb=null,I.Nd=null,!s2(I.Oa,y,$?11:12))return 0;if($&&bs(O)&&rn(),y.da)alert("todo:use_scaling");else{if(V){if(I.Ib=rr,y.Kb){if(I.memory=o(y.U+2*(O=y.U+1>>1)),null==I.memory)return 0;I.ec=I.memory,I.fc=0,I.cc=I.ec,I.dc=I.fc+y.U,I.Mc=I.cc,I.Nc=I.dc+O,I.Ib=Cs,rn()}}else alert("todo:EmitYUV");$&&(I.Jb=rC,V&&Xe())}if(V&&!b$){for(y=0;256>y;++y)Iwe[y]=89858*(y-128)+vO>>yO,Bwe[y]=-22014*(y-128)+vO,Twe[y]=-45773*(y-128),Dwe[y]=113618*(y-128)+vO>>yO;for(y=A2;y<aQ;++y)Fwe[y-A2]=CA(I=76283*(y-16)+vO>>yO,255),Mwe[y-A2]=CA(I+8>>4,15);b$=1}return 1}function Ym(y){var I=y.ma,O=y.U,V=y.T;return t(!(1&y.ka)),0>=O||0>=V?0:(O=I.Ib(y,I),null!=I.Jb&&I.Jb(y,I,O),I.Dc+=O,1)}function Wm(y){y.ma.memory=null}function Ri(y,I,O,V){return 47!=_t(y,8)?0:(I[0]=_t(y,14)+1,O[0]=_t(y,14)+1,V[0]=_t(y,1),0!=_t(y,3)?0:!y.h)}function sg(y,I){if(4>y)return y+1;var O=y-2>>1;return(2+(1&y)<<O)+_t(I,O)+1}function Jm(y,I){return 120<I?I-120:1<=(O=((O=Awe[I-1])>>4)*y+(8-(15&O)))?O:1;var O}function mh(y,I,O){var V=me(O),$=y[I+=255&V].g-8;return 0<$&&(Pe(O,O.u+8),V=me(O),I+=y[I].value,I+=V&(1<<$)-1),Pe(O,O.u+y[I].g),y[I].value}function lc(y,I,O){return O.g+=y.g,O.value+=y.value<<I>>>0,t(8>=O.g),y.g}function jl(y,I,O){var V=y.xc;return t((I=0==V?0:y.vc[y.md*(O>>V)+(I>>V)])<y.Wb),y.Ya[I]}function bA(y,I,O,V){var $=y.ab,te=y.c*I,ne=y.C;I=ne+I;var ie=O,se=V;for(V=y.Ta,O=y.Ua;0<$--;){var pe=y.gc[$],Oe=ne,ot=I,at=ie,$e=se,Gt=(se=V,ie=O,pe.Ea);switch(t(Oe<ot),t(ot<=pe.nc),pe.hc){case 2:dO(at,$e,(ot-Oe)*Gt,se,ie);break;case 0:var Et=Oe,Ue=ot,je=se,Ht=ie,Wt=(kn=pe).Ea;0==Et&&(W6(at,$e,null,null,1,je,Ht),Er(at,$e+1,0,0,Wt-1,je,Ht+1),$e+=Wt,Ht+=Wt,++Et);for(var Vt=1<<kn.b,Yn=Vt-1,Dn=li(Wt,kn.b),Ii=kn.K,kn=kn.w+(Et>>kn.b)*Dn;Et<Ue;){var ps=Ii,Ls=kn,is=1;for(l2(at,$e,je,Ht-Wt,1,je,Ht);is<Wt;){var Vr=(is&~Yn)+Vt;Vr>Wt&&(Vr=Wt),(0,G0[ps[Ls++]>>8&15])(at,$e+ +is,je,Ht+is-Wt,Vr-is,je,Ht+is),is=Vr}$e+=Wt,Ht+=Wt,++Et&Yn||(kn+=Dn)}ot!=pe.nc&&i(se,ie-Gt,se,ie+(ot-Oe-1)*Gt,Gt);break;case 1:for(Gt=at,Ue=$e,Wt=(at=pe.Ea)-(Ht=at&~(je=($e=1<<pe.b)-1)),Et=li(at,pe.b),Vt=pe.K,pe=pe.w+(Oe>>pe.b)*Et;Oe<ot;){for(Yn=Vt,Dn=pe,Ii=new Un,kn=Ue+Ht,ps=Ue+at;Ue<kn;)Xs(Yn[Dn++],Ii),Rf(Ii,Gt,Ue,$e,se,ie),Ue+=$e,ie+=$e;Ue<ps&&(Xs(Yn[Dn++],Ii),Rf(Ii,Gt,Ue,Wt,se,ie),Ue+=Wt,ie+=Wt),++Oe&je||(pe+=Et)}break;case 3:if(at==se&&$e==ie&&0<pe.b){for(Ue=se,at=Gt=ie+(ot-Oe)*Gt-(Ht=(ot-Oe)*li(pe.Ea,pe.b)),$e=se,je=ie,Et=[],Ht=(Wt=Ht)-1;0<=Ht;--Ht)Et[Ht]=$e[je+Ht];for(Ht=Wt-1;0<=Ht;--Ht)Ue[at+Ht]=Et[Ht];hg(pe,Oe,ot,se,Gt,se,ie)}else hg(pe,Oe,ot,at,$e,se,ie)}ie=V,se=O}se!=O&&i(V,O,ie,se,te)}function pE(y,I){var O=y.V,V=y.Ba+y.c*y.C,$=I-y.C;if(t(I<=y.l.o),t(16>=$),0<$){var te=y.l,ne=y.Ta,ie=y.Ua,se=te.width;if(bA(y,$,O,V),$=ie=[ie],t((O=y.C)<(V=I)),t(te.v<te.va),V>te.o&&(V=te.o),O<te.j){var pe=te.j-O;O=te.j,$[0]+=pe*se}if(O>=V?O=0:($[0]+=4*te.v,te.ka=O-te.j,te.U=te.va-te.v,te.T=V-O,O=1),O){if(ie=ie[0],11>(O=y.ca).S){var Oe=O.f.RGBA,ot=(V=O.S,$=te.U,te=te.T,pe=Oe.eb,Oe.A),at=te;for(Oe=Oe.fb+y.Ma*Oe.A;0<at--;){var $e=ne,Gt=ie,Et=$,Ue=pe,je=Oe;switch(V){case fO:Ag($e,Gt,Et,Ue,je);break;case pO:z0($e,Gt,Et,Ue,je);break;case nQ:z0($e,Gt,Et,Ue,je),Z0(Ue,je,0,Et,1,0);break;case h$:OE($e,Gt,Et,Ue,je);break;case gO:da($e,Gt,Et,Ue,je,1);break;case iQ:da($e,Gt,Et,Ue,je,1),Z0(Ue,je,0,Et,1,0);break;case mO:da($e,Gt,Et,Ue,je,0);break;case _O:da($e,Gt,Et,Ue,je,0),Z0(Ue,je,1,Et,1,0);break;case tQ:n_($e,Gt,Et,Ue,je);break;case rQ:n_($e,Gt,Et,Ue,je),PE(Ue,je,Et,1,0);break;case A$:Ny($e,Gt,Et,Ue,je);break;default:t(0)}ie+=se,Oe+=ot}y.Ma+=te}else alert("todo:EmitRescaledRowsYUVA");t(y.Ma<=O.height)}}y.C=I,t(y.C<=y.i)}function ky(y){var I;if(0<y.ua)return 0;for(I=0;I<y.Wb;++I){var O=y.Ya[I].G,V=y.Ya[I].H;if(0<O[1][V[1]+0].g||0<O[2][V[2]+0].g||0<O[3][V[3]+0].g)return 0}return 1}function og(y,I,O,V,$,te){if(0!=y.Z){var ne=y.qd,ie=y.rd;for(t(null!=Y0[y.Z]);I<O;++I)Y0[y.Z](ne,ie,V,$,V,$,te),ne=V,ie=$,$+=te;y.qd=ne,y.rd=ie}}function ag(y,I){var O=y.l.ma,V=0==O.Z||1==O.Z?y.l.j:y.C;if(V=y.C<V?V:y.C,t(I<=y.l.o),I>V){var $=y.l.width,te=O.ca,ne=O.tb+$*V,ie=y.V,se=y.Ba+y.c*V,pe=y.gc;t(1==y.ab),t(3==pe[0].hc),J6(pe[0],V,I,ie,se,te,ne),og(O,V,I,te,ne,$)}y.C=y.Ma=I}function lg(y,I,O,V,$,te,ne){var ie=y.$/V,se=y.$%V,pe=y.m,Oe=y.s,ot=O+y.$,at=ot;$=O+V*$;var $e=O+V*te,Gt=280+Oe.ua,Et=y.Pb?ie:16777216,Ue=0<Oe.ua?Oe.Wa:null,je=Oe.wc,Ht=ot<$e?jl(Oe,se,ie):null;t(y.C<te),t($e<=$);var Wt=!1;e:for(;;){for(;Wt||ot<$e;){var Vt=0;if(ie>=Et){var Yn=ot-O;t((Et=y).Pb),Et.wd=Et.m,Et.xd=Yn,0<Et.s.ua&&Ot(Et.s.Wa,Et.s.vb),Et=ie+pwe}if(se&je||(Ht=jl(Oe,se,ie)),t(null!=Ht),Ht.Qb&&(I[ot]=Ht.qb,Wt=!0),!Wt)if(We(pe),Ht.jc){Yn=I;var Dn=ot,Ii=Ht.pd[me(Vt=pe)&yh-1];t(Ht.jc),256>Ii.g?(Pe(Vt,Vt.u+Ii.g),Yn[Dn]=Ii.value,Vt=0):(Pe(Vt,Vt.u+Ii.g-256),t(256<=Ii.value),Vt=Ii.value),0==Vt&&(Wt=!0)}else Vt=mh(Ht.G[0],Ht.H[0],pe);if(pe.h)break;if(Wt||256>Vt){if(!Wt)if(Ht.nd)I[ot]=(Ht.qb|Vt<<8)>>>0;else{if(We(pe),Wt=mh(Ht.G[1],Ht.H[1],pe),We(pe),Yn=mh(Ht.G[2],Ht.H[2],pe),Dn=mh(Ht.G[3],Ht.H[3],pe),pe.h)break;I[ot]=(Dn<<24|Wt<<16|Vt<<8|Yn)>>>0}if(Wt=!1,++ot,++se>=V&&(se=0,++ie,null!=ne&&ie<=te&&!(ie%16)&&ne(y,ie),null!=Ue))for(;at<ot;)Vt=I[at++],Ue.X[(506832829*Vt&4294967295)>>>Ue.Mb]=Vt}else if(280>Vt){if(Vt=sg(Vt-256,pe),Yn=mh(Ht.G[4],Ht.H[4],pe),We(pe),Yn=Jm(V,Yn=sg(Yn,pe)),pe.h)break;if(ot-O<Yn||$-ot<Vt)break e;for(Dn=0;Dn<Vt;++Dn)I[ot+Dn]=I[ot+Dn-Yn];for(ot+=Vt,se+=Vt;se>=V;)se-=V,++ie,null!=ne&&ie<=te&&!(ie%16)&&ne(y,ie);if(t(ot<=$),se&je&&(Ht=jl(Oe,se,ie)),null!=Ue)for(;at<ot;)Vt=I[at++],Ue.X[(506832829*Vt&4294967295)>>>Ue.Mb]=Vt}else{if(!(Vt<Gt))break e;for(Wt=Vt-280,t(null!=Ue);at<ot;)Vt=I[at++],Ue.X[(506832829*Vt&4294967295)>>>Ue.Mb]=Vt;Vt=ot,t(!(Wt>>>(Yn=Ue).Xa)),I[Vt]=Yn.X[Wt],Wt=!0}Wt||t(pe.h==_e(pe))}if(y.Pb&&pe.h&&ot<$)t(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&Ot(y.s.vb,y.s.Wa);else{if(pe.h)break e;ne?.(y,ie>te?te:ie),y.a=0,y.$=ot-O}return 1}return y.a=3,0}function Xm(y){t(null!=y),y.vc=null,y.yc=null,y.Ya=null;var I=y.Wa;null!=I&&(I.X=null),y.vb=null,t(null!=y)}function kf(){var y=new Y6;return null==y?null:(y.a=0,y.xb=g$,$m("Predictor","VP8LPredictors"),$m("Predictor","VP8LPredictors_C"),$m("PredictorAdd","VP8LPredictorsAdd"),$m("PredictorAdd","VP8LPredictorsAdd_C"),dO=ns,Rf=zi,Ag=Qn,z0=Zu,n_=cs,Ny=ig,OE=ho,we.VP8LMapColor32b=c2,we.VP8LMapColor8b=X6,y)}function e_(y,I,O,V,$){var te=1,ne=[y],ie=[I],se=V.m,pe=V.s,Oe=null,ot=0;e:for(;;){if(O)for(;te&&_t(se,1);){var at=ne,$e=ie,Gt=V,Et=1,Ue=Gt.m,je=Gt.gc[Gt.ab],Ht=_t(Ue,2);if(Gt.Oc&1<<Ht)te=0;else{switch(Gt.Oc|=1<<Ht,je.hc=Ht,je.Ea=at[0],je.nc=$e[0],je.K=[null],++Gt.ab,t(4>=Gt.ab),Ht){case 0:case 1:je.b=_t(Ue,3)+2,Et=e_(li(je.Ea,je.b),li(je.nc,je.b),0,Gt,je.K),je.K=je.K[0];break;case 3:var Wt,Vt=_t(Ue,8)+1,Yn=16<Vt?0:4<Vt?1:2<Vt?2:3;if(at[0]=li(je.Ea,Yn),je.b=Yn,Wt=Et=e_(Vt,1,0,Gt,je.K)){var Dn,Ii=Vt,kn=je,ps=1<<(8>>kn.b),Ls=o(ps);if(null==Ls)Wt=0;else{var is=kn.K[0],Vr=kn.w;for(Ls[0]=kn.K[0][0],Dn=1;Dn<1*Ii;++Dn)Ls[Dn]=dn(is[Vr+Dn],Ls[Dn-1]);for(;Dn<4*ps;++Dn)Ls[Dn]=0;kn.K[0]=null,kn.K[0]=Ls,Wt=1}}Et=Wt;break;case 2:break;default:t(0)}te=Et}}if(ne=ne[0],ie=ie[0],te&&_t(se,1)&&!(te=1<=(ot=_t(se,4))&&11>=ot)){V.a=3;break e}var Ao;if(Ao=te)t:{var eo,Ar,zl,wh=V,ql=ne,bh=ie,Ns=ot,EA=O,SA=wh.m,Pc=wh.s,lu=[null],kd=1,Pf=0,i_=fwe[Ns];n:for(;;){if(EA&&_t(SA,1)){var Uc=_t(SA,3)+2,Vy=li(ql,Uc),hC=li(bh,Uc),UE=Vy*hC;if(!e_(Vy,hC,0,wh,lu))break n;for(lu=lu[0],Pc.xc=Uc,eo=0;eo<UE;++eo){var W0=lu[eo]>>8&65535;lu[eo]=W0,W0>=kd&&(kd=W0+1)}}if(SA.h)break n;for(Ar=0;5>Ar;++Ar){var il=f$[Ar];!Ar&&0<Ns&&(il+=1<<Ns),Pf<il&&(Pf=il)}var lQ=a(kd*i_,de),E$=kd,S$=a(E$,Se);if(null==S$)var bO=null;else t(65536>=E$),bO=S$;var f2=o(Pf);if(null==bO||null==f2||null==lQ){wh.a=1;break n}var CO=lQ;for(eo=zl=0;eo<kd;++eo){var mg=bO[eo],QE=mg.G,HE=mg.H,I$=0,xO=1,D$=0;for(Ar=0;5>Ar;++Ar){il=f$[Ar],QE[Ar]=CO,HE[Ar]=zl,!Ar&&0<Ns&&(il+=1<<Ns);r:{var EO,cQ=il,SO=wh,p2=f2,Owe=CO,Lwe=zl,uQ=0,J0=SO.m,Nwe=_t(J0,1);if(r(p2,0,0,cQ),Nwe){var Pwe=_t(J0,1)+1,Uwe=_t(J0,1),T$=_t(J0,0==Uwe?1:8);p2[T$]=1,2==Pwe&&(p2[T$=_t(J0,8)]=1);var IO=1}else{var B$=o(19),F$=_t(J0,4)+4;if(19<F$){SO.a=3;var DO=0;break r}for(EO=0;EO<F$;++EO)B$[hwe[EO]]=_t(J0,3);var dQ=void 0,g2=void 0,M$=SO,Qwe=B$,TO=cQ,k$=p2,hQ=0,X0=M$.m,R$=8,O$=a(128,de);i:for(;Ae(O$,0,7,Qwe,19);){if(_t(X0,1)){var Hwe=2+2*_t(X0,3);if((dQ=2+_t(X0,Hwe))>TO)break i}else dQ=TO;for(g2=0;g2<TO&&dQ--;){We(X0);var L$=O$[0+(127&me(X0))];Pe(X0,X0.u+L$.g);var VE=L$.value;if(16>VE)k$[g2++]=VE,0!=VE&&(R$=VE);else{var Vwe=16==VE,N$=VE-16,jwe=uwe[N$],P$=_t(X0,cwe[N$])+jwe;if(g2+P$>TO)break i;for(var Gwe=Vwe?R$:0;0<P$--;)k$[g2++]=Gwe}}hQ=1;break i}hQ||(M$.a=3),IO=hQ}(IO=IO&&!J0.h)&&(uQ=Ae(Owe,Lwe,8,p2,cQ)),IO&&0!=uQ?DO=uQ:(SO.a=3,DO=0)}if(0==DO)break n;if(xO&&1==dwe[Ar]&&(xO=0==CO[zl].g),I$+=CO[zl].g,zl+=DO,3>=Ar){var m2,AQ=f2[0];for(m2=1;m2<il;++m2)f2[m2]>AQ&&(AQ=f2[m2]);D$+=AQ}}if(mg.nd=xO,mg.Qb=0,xO&&(mg.qb=(QE[3][HE[3]+0].value<<24|QE[1][HE[1]+0].value<<16|QE[2][HE[2]+0].value)>>>0,0==I$&&256>QE[0][HE[0]+0].value&&(mg.Qb=1,mg.qb+=QE[0][HE[0]+0].value<<8)),mg.jc=!mg.Qb&&6>D$,mg.jc){var BO,jy=mg;for(BO=0;BO<yh;++BO){var ew=BO,tw=jy.pd[ew],FO=jy.G[0][jy.H[0]+ew];256<=FO.value?(tw.g=FO.g+256,tw.value=FO.value):(tw.g=0,tw.value=0,ew>>=lc(FO,8,tw),ew>>=lc(jy.G[1][jy.H[1]+ew],16,tw),ew>>=lc(jy.G[2][jy.H[2]+ew],0,tw),lc(jy.G[3][jy.H[3]+ew],24,tw))}}}Pc.vc=lu,Pc.Wb=kd,Pc.Ya=bO,Pc.yc=lQ,Ao=1;break t}Ao=0}if(!(te=Ao)){V.a=3;break e}if(0<ot){if(pe.ua=1<<ot,!Pi(pe.Wa,ot)){V.a=1,te=0;break e}}else pe.ua=0;var fQ=V,U$=ne,zwe=ie,pQ=fQ.s,gQ=pQ.xc;if(fQ.c=U$,fQ.i=zwe,pQ.md=li(U$,gQ),pQ.wc=0==gQ?-1:(1<<gQ)-1,O){V.xb=bwe;break e}if(null==(Oe=o(ne*ie))){V.a=1,te=0;break e}te=(te=lg(V,Oe,0,ne,ie,ie,null))&&!se.h;break e}return te?(null!=$?$[0]=Oe:(t(null==Oe),t(O)),V.$=0,O||Xm(pe)):Xm(pe),te}function sC(y,I){var O=y.c*y.i,V=O+I+16*I;return t(y.c<=I),y.V=o(V),null==y.V?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+O+I,1)}function gE(y,I){var O=y.C,V=I-O,$=y.V,te=y.Ba+y.c*O;for(t(I<=y.l.o);0<V;){var ne=16<V?16:V,ie=y.l.ma,se=y.l.width,pe=se*ne,Oe=ie.ca,ot=ie.tb+se*O,at=y.Ta,$e=y.Ua;bA(y,ne,$,te),o$(at,$e,Oe,ot,pe),og(ie,O,O+ne,Oe,ot,se),V-=ne,$+=ne*y.c,O+=ne}t(O==I),y.C=y.Ma=I}function mE(){this.ub=this.yd=this.td=this.Rb=0}function _E(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function yE(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function zR(){var y;this.Yb=(function I(O,V,$){for(var te=$[V],ne=0;ne<te&&(O.push($.length>V+1?[]:0),!($.length<V+1));ne++)I(O[ne],V+1,$)}(y=[],0,[3,11]),y)}function I6(){this.jb=o(3),this.Wc=u([4,8],zR),this.Xc=u([4,17],zR)}function D6(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function vE(){this.ld=this.La=this.dd=this.tc=0}function qR(){this.Na=this.la=0}function T6(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function VT(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function B6(){this.uc=this.M=this.Nb=0,this.wa=Array(new vE),this.Y=0,this.ya=Array(new VT),this.aa=0,this.l=new wE}function KR(){this.y=o(16),this.f=o(8),this.ea=o(8)}function F6(){this.cb=this.a=0,this.sc="",this.m=new _n,this.Od=new mE,this.Kc=new _E,this.ed=new D6,this.Qa=new yE,this.Ic=this.$c=this.Aa=0,this.D=new B6,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,_n),this.ia=0,this.pb=a(4,T6),this.Pa=new I6,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new KR),this.Hd=0,this.rb=Array(new qR),this.sb=0,this.wa=Array(new vE),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new VT),this.L=this.aa=0,this.gd=u([4,2],vE),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function wE(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function M6(){var y=new F6;return null!=y&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,h2||(h2=YR)),y}function wl(y,I,O){return 0==y.a&&(y.a=I,y.sc=O,y.cb=0),0}function ZR(y,I,O){return 3<=O&&157==y[I+0]&&1==y[I+1]&&42==y[I+2]}function $R(y,I){if(null==y)return 0;if(y.a=0,y.sc="OK",null==I)return wl(y,2,"null VP8Io passed to VP8GetHeaders()");var O=I.data,V=I.w,$=I.ha;if(4>$)return wl(y,7,"Truncated header.");var te=O[V+0]|O[V+1]<<8|O[V+2]<<16,ne=y.Od;if(ne.Rb=!(1&te),ne.td=te>>1&7,ne.yd=te>>4&1,ne.ub=te>>5,3<ne.td)return wl(y,3,"Incorrect keyframe parameters.");if(!ne.yd)return wl(y,4,"Frame not displayable.");V+=3,$-=3;var ie=y.Kc;if(ne.Rb){if(7>$)return wl(y,7,"cannot parse picture header");if(!ZR(O,V,$))return wl(y,3,"Bad code word");ie.c=16383&(O[V+4]<<8|O[V+3]),ie.Td=O[V+4]>>6,ie.i=16383&(O[V+6]<<8|O[V+5]),ie.Ud=O[V+6]>>6,V+=7,$-=7,y.za=ie.c+15>>4,y.Ub=ie.i+15>>4,I.width=ie.c,I.height=ie.i,I.Da=0,I.j=0,I.v=0,I.va=I.width,I.o=I.height,I.da=0,I.ib=I.width,I.hb=I.height,I.U=I.width,I.T=I.height,r((te=y.Pa).jb,0,255,te.jb.length),t(null!=(te=y.Qa)),te.Cb=0,te.Bb=0,te.Fb=1,r(te.Zb,0,0,te.Zb.length),r(te.Lb,0,0,te.Lb)}if(ne.ub>$)return wl(y,7,"bad partition length");xt(te=y.m,O,V,ne.ub),V+=ne.ub,$-=ne.ub,ne.Rb&&(ie.Ld=ft(te),ie.Kd=ft(te)),ie=y.Qa;var se,pe=y.Pa;if(t(null!=te),t(null!=ie),ie.Cb=ft(te),ie.Cb){if(ie.Bb=ft(te),ft(te)){for(ie.Fb=ft(te),se=0;4>se;++se)ie.Zb[se]=ft(te)?Ye(te,7):0;for(se=0;4>se;++se)ie.Lb[se]=ft(te)?Ye(te,6):0}if(ie.Bb)for(se=0;3>se;++se)pe.jb[se]=ft(te)?Re(te,8):255}else ie.Bb=0;if(te.Ka)return wl(y,3,"cannot parse segment header");if((ie=y.ed).zd=ft(te),ie.Tb=Re(te,6),ie.wb=Re(te,3),ie.Pc=ft(te),ie.Pc&&ft(te)){for(pe=0;4>pe;++pe)ft(te)&&(ie.vd[pe]=Ye(te,6));for(pe=0;4>pe;++pe)ft(te)&&(ie.od[pe]=Ye(te,6))}if(y.L=0==ie.Tb?0:ie.zd?1:2,te.Ka)return wl(y,3,"cannot parse filter header");var Oe=$;if($=se=V,V=se+Oe,ie=Oe,y.Xb=(1<<Re(y.m,2))-1,Oe<3*(pe=y.Xb))O=7;else{for(se+=3*pe,ie-=3*pe,Oe=0;Oe<pe;++Oe){var ot=O[$+0]|O[$+1]<<8|O[$+2]<<16;ot>ie&&(ot=ie),xt(y.Jc[+Oe],O,se,ot),se+=ot,ie-=ot,$+=3}xt(y.Jc[+pe],O,se,ie),O=se<V?0:5}if(0!=O)return wl(y,O,"cannot parse partitions");for(O=Re(se=y.m,7),$=ft(se)?Ye(se,4):0,V=ft(se)?Ye(se,4):0,ie=ft(se)?Ye(se,4):0,pe=ft(se)?Ye(se,4):0,se=ft(se)?Ye(se,4):0,Oe=y.Qa,ot=0;4>ot;++ot){if(Oe.Cb){var at=Oe.Zb[ot];Oe.Fb||(at+=O)}else{if(0<ot){y.pb[ot]=y.pb[0];continue}at=O}var $e=y.pb[ot];$e.Sc[0]=sQ[CA(at+$,127)],$e.Sc[1]=oQ[CA(at+0,127)],$e.Eb[0]=2*sQ[CA(at+V,127)],$e.Eb[1]=101581*oQ[CA(at+ie,127)]>>16,8>$e.Eb[1]&&($e.Eb[1]=8),$e.Qc[0]=sQ[CA(at+pe,117)],$e.Qc[1]=oQ[CA(at+se,127)],$e.lc=at+se}if(!ne.Rb)return wl(y,4,"Not a key frame.");for(ft(te),ne=y.Pa,O=0;4>O;++O){for($=0;8>$;++$)for(V=0;3>V;++V)for(ie=0;11>ie;++ie)pe=At(te,vwe[O][$][V][ie])?Re(te,8):_we[O][$][V][ie],ne.Wc[O][$].Yb[V][ie]=pe;for($=0;17>$;++$)ne.Xc[O][$]=ne.Wc[O][wwe[$]]}return y.kc=ft(te),y.kc&&(y.Bd=Re(te,8)),y.cb=1}function YR(y,I,O,V,$,te,ne){var ie=I[$].Yb[O];for(O=0;16>$;++$){if(!At(y,ie[O+0]))return $;for(;!At(y,ie[O+1]);)if(ie=I[++$].Yb[0],O=0,16==$)return 16;var se=I[$+1].Yb;if(At(y,ie[O+2])){var pe=y,Oe=0;if(At(pe,(at=ie)[(ot=O)+3]))if(At(pe,at[ot+6])){for(ie=0,ot=2*(Oe=At(pe,at[ot+8]))+(at=At(pe,at[ot+9+Oe])),Oe=0,at=gwe[ot];at[ie];++ie)Oe+=Oe+At(pe,at[ie]);Oe+=3+(8<<ot)}else At(pe,at[ot+7])?(Oe=7+2*At(pe,165),Oe+=At(pe,145)):Oe=5+At(pe,159);else Oe=At(pe,at[ot+4])?3+At(pe,at[ot+5]):2;ie=se[2]}else Oe=1,ie=se[1];se=ne+mwe[$],0>(pe=y).b&&nt(pe);var ot,at=pe.b,$e=(ot=pe.Ca>>1)-(pe.I>>at)>>31;--pe.b,pe.Ca+=$e,pe.Ca|=1,pe.I-=(ot+1&$e)<<at,te[se]=((Oe^$e)-$e)*V[(0<$)+0]}return 16}function jT(y){var I=y.rb[y.sb-1];I.la=0,I.Na=0,r(y.zc,0,0,y.zc.length),y.ja=0}function cg(y,I,O,V,$){y[I+O+32*V]=-256&($=y[I+O+32*V]+($>>3))?0>$?0:255:$}function bE(y,I,O,V,$,te){cg(y,I,0,O,V+$),cg(y,I,1,O,V+te),cg(y,I,2,O,V-te),cg(y,I,3,O,V-$)}function _h(y){return(20091*y>>16)+y}function GT(y,I,O,V){var $,te=0,ne=o(16);for($=0;4>$;++$){var ie=y[I+0]+y[I+8],se=y[I+0]-y[I+8],pe=(35468*y[I+4]>>16)-_h(y[I+12]),Oe=_h(y[I+4])+(35468*y[I+12]>>16);ne[te+0]=ie+Oe,ne[te+1]=se+pe,ne[te+2]=se-pe,ne[te+3]=ie-Oe,te+=4,I++}for($=te=0;4>$;++$)ie=(y=ne[te+0]+4)+ne[te+8],se=y-ne[te+8],pe=(35468*ne[te+4]>>16)-_h(ne[te+12]),cg(O,V,0,0,ie+(Oe=_h(ne[te+4])+(35468*ne[te+12]>>16))),cg(O,V,1,0,se+pe),cg(O,V,2,0,se-pe),cg(O,V,3,0,ie-Oe),te++,V+=32}function WR(y,I,O,V){var $=y[I+0]+4,te=35468*y[I+4]>>16,ne=_h(y[I+4]),ie=35468*y[I+1]>>16;bE(O,V,0,$+ne,y=_h(y[I+1]),ie),bE(O,V,1,$+te,y,ie),bE(O,V,2,$-te,y,ie),bE(O,V,3,$-ne,y,ie)}function R6(y,I,O,V,$){GT(y,I,O,V),$&&GT(y,I+16,O,V+4)}function JR(y,I,O,V){LE(y,I+0,O,V,1),LE(y,I+32,O,V+128,1)}function O6(y,I,O,V){var $;for(y=y[I+0]+4,$=0;4>$;++$)for(I=0;4>I;++I)cg(O,V,I,$,y)}function XR(y,I,O,V){y[I+0]&&pg(y,I+0,O,V),y[I+16]&&pg(y,I+16,O,V+4),y[I+32]&&pg(y,I+32,O,V+128),y[I+48]&&pg(y,I+48,O,V+128+4)}function L6(y,I,O,V){var $,te=o(16);for($=0;4>$;++$){var ne=y[I+0+$]+y[I+12+$],ie=y[I+4+$]+y[I+8+$],se=y[I+4+$]-y[I+8+$],pe=y[I+0+$]-y[I+12+$];te[0+$]=ne+ie,te[8+$]=ne-ie,te[4+$]=pe+se,te[12+$]=pe-se}for($=0;4>$;++$)ne=(y=te[0+4*$]+3)+te[3+4*$],se=te[1+4*$]-te[2+4*$],pe=y-te[3+4*$],O[V+0]=ne+(ie=te[1+4*$]+te[2+4*$])>>3,O[V+16]=pe+se>>3,O[V+32]=ne-ie>>3,O[V+48]=pe-se>>3,V+=64}function zT(y,I,O){var V,$=I-32,te=xA,ne=255-y[$-1];for(V=0;V<O;++V){var ie,se=te,pe=ne+y[I-1];for(ie=0;ie<O;++ie)y[I+ie]=se[pe+y[$+ie]];I+=32}}function N6(y,I){zT(y,I,4)}function P6(y,I){zT(y,I,8)}function U6(y,I){zT(y,I,16)}function Ry(y,I){var O;for(O=0;16>O;++O)i(y,I+32*O,y,I-32,16)}function CE(y,I){var O;for(O=16;0<O;--O)r(y,I,y[I-1],16),I+=32}function xE(y,I,O){var V;for(V=0;16>V;++V)r(I,O+32*V,y,16)}function eO(y,I){var O,V=16;for(O=0;16>O;++O)V+=y[I-1+32*O]+y[I+O-32];xE(V>>5,y,I)}function $u(y,I){var O,V=8;for(O=0;16>O;++O)V+=y[I-1+32*O];xE(V>>4,y,I)}function Q6(y,I){var O,V=8;for(O=0;16>O;++O)V+=y[I+O-32];xE(V>>4,y,I)}function tO(y,I){xE(128,y,I)}function Ji(y,I,O){return y+2*I+O+2>>2}function H6(y,I){var O,V=I-32;for(V=new Uint8Array([Ji(y[V-1],y[V+0],y[V+1]),Ji(y[V+0],y[V+1],y[V+2]),Ji(y[V+1],y[V+2],y[V+3]),Ji(y[V+2],y[V+3],y[V+4])]),O=0;4>O;++O)i(y,I+32*O,V,0,V.length)}function V6(y,I){var O=y[I-1],V=y[I-1+32],$=y[I-1+64],te=y[I-1+96];pn(y,I+0,16843009*Ji(y[I-1-32],O,V)),pn(y,I+32,16843009*Ji(O,V,$)),pn(y,I+64,16843009*Ji(V,$,te)),pn(y,I+96,16843009*Ji($,te,te))}function t_(y,I){var O,V=4;for(O=0;4>O;++O)V+=y[I+O-32]+y[I-1+32*O];for(V>>=3,O=0;4>O;++O)r(y,I+32*O,V,4)}function nO(y,I){var O=y[I-1+0],V=y[I-1+32],$=y[I-1+64],te=y[I-1-32],ne=y[I+0-32],ie=y[I+1-32],se=y[I+2-32],pe=y[I+3-32];y[I+0+96]=Ji(V,$,y[I-1+96]),y[I+1+96]=y[I+0+64]=Ji(O,V,$),y[I+2+96]=y[I+1+64]=y[I+0+32]=Ji(te,O,V),y[I+3+96]=y[I+2+64]=y[I+1+32]=y[I+0+0]=Ji(ne,te,O),y[I+3+64]=y[I+2+32]=y[I+1+0]=Ji(ie,ne,te),y[I+3+32]=y[I+2+0]=Ji(se,ie,ne),y[I+3+0]=Ji(pe,se,ie)}function iO(y,I){var O=y[I+1-32],V=y[I+2-32],$=y[I+3-32],te=y[I+4-32],ne=y[I+5-32],ie=y[I+6-32],se=y[I+7-32];y[I+0+0]=Ji(y[I+0-32],O,V),y[I+1+0]=y[I+0+32]=Ji(O,V,$),y[I+2+0]=y[I+1+32]=y[I+0+64]=Ji(V,$,te),y[I+3+0]=y[I+2+32]=y[I+1+64]=y[I+0+96]=Ji($,te,ne),y[I+3+32]=y[I+2+64]=y[I+1+96]=Ji(te,ne,ie),y[I+3+64]=y[I+2+96]=Ji(ne,ie,se),y[I+3+96]=Ji(ie,se,se)}function EE(y,I){var O=y[I-1+0],V=y[I-1+32],$=y[I-1+64],te=y[I-1-32],ne=y[I+0-32],ie=y[I+1-32],se=y[I+2-32],pe=y[I+3-32];y[I+0+0]=y[I+1+64]=te+ne+1>>1,y[I+1+0]=y[I+2+64]=ne+ie+1>>1,y[I+2+0]=y[I+3+64]=ie+se+1>>1,y[I+3+0]=se+pe+1>>1,y[I+0+96]=Ji($,V,O),y[I+0+64]=Ji(V,O,te),y[I+0+32]=y[I+1+96]=Ji(O,te,ne),y[I+1+32]=y[I+2+96]=Ji(te,ne,ie),y[I+2+32]=y[I+3+96]=Ji(ne,ie,se),y[I+3+32]=Ji(ie,se,pe)}function qT(y,I){var O=y[I+0-32],V=y[I+1-32],$=y[I+2-32],te=y[I+3-32],ne=y[I+4-32],ie=y[I+5-32],se=y[I+6-32],pe=y[I+7-32];y[I+0+0]=O+V+1>>1,y[I+1+0]=y[I+0+64]=V+$+1>>1,y[I+2+0]=y[I+1+64]=$+te+1>>1,y[I+3+0]=y[I+2+64]=te+ne+1>>1,y[I+0+32]=Ji(O,V,$),y[I+1+32]=y[I+0+96]=Ji(V,$,te),y[I+2+32]=y[I+1+96]=Ji($,te,ne),y[I+3+32]=y[I+2+96]=Ji(te,ne,ie),y[I+3+64]=Ji(ne,ie,se),y[I+3+96]=Ji(ie,se,pe)}function j6(y,I){var O=y[I-1+0],V=y[I-1+32],$=y[I-1+64],te=y[I-1+96];y[I+0+0]=O+V+1>>1,y[I+2+0]=y[I+0+32]=V+$+1>>1,y[I+2+32]=y[I+0+64]=$+te+1>>1,y[I+1+0]=Ji(O,V,$),y[I+3+0]=y[I+1+32]=Ji(V,$,te),y[I+3+32]=y[I+1+64]=Ji($,te,te),y[I+3+64]=y[I+2+64]=y[I+0+96]=y[I+1+96]=y[I+2+96]=y[I+3+96]=te}function G6(y,I){var O=y[I-1+0],V=y[I-1+32],$=y[I-1+64],te=y[I-1+96],ne=y[I-1-32],ie=y[I+0-32],se=y[I+1-32],pe=y[I+2-32];y[I+0+0]=y[I+2+32]=O+ne+1>>1,y[I+0+32]=y[I+2+64]=V+O+1>>1,y[I+0+64]=y[I+2+96]=$+V+1>>1,y[I+0+96]=te+$+1>>1,y[I+3+0]=Ji(ie,se,pe),y[I+2+0]=Ji(ne,ie,se),y[I+1+0]=y[I+3+32]=Ji(O,ne,ie),y[I+1+32]=y[I+3+64]=Ji(V,O,ne),y[I+1+64]=y[I+3+96]=Ji($,V,O),y[I+1+96]=Ji(te,$,V)}function z6(y,I){var O;for(O=0;8>O;++O)i(y,I+32*O,y,I-32,8)}function KT(y,I){var O;for(O=0;8>O;++O)r(y,I,y[I-1],8),I+=32}function oC(y,I,O){var V;for(V=0;8>V;++V)r(I,O+32*V,y,8)}function Q0(y,I){var O,V=8;for(O=0;8>O;++O)V+=y[I+O-32]+y[I-1+32*O];oC(V>>4,y,I)}function q6(y,I){var O,V=4;for(O=0;8>O;++O)V+=y[I+O-32];oC(V>>3,y,I)}function aC(y,I){var O,V=4;for(O=0;8>O;++O)V+=y[I-1+32*O];oC(V>>3,y,I)}function ZT(y,I){oC(128,y,I)}function SE(y,I,O){var V=y[I-O],$=y[I+0],te=3*($-V)+eQ[1020+y[I-2*O]-y[I+O]],ne=AO[112+(te+4>>3)];y[I-O]=xA[255+V+AO[112+(te+3>>3)]],y[I+0]=xA[255+$-ne]}function rO(y,I,O,V){return Lf[255+y[I-2*O]-y[I-O]]>V||Lf[255+y[I+O]-y[I+0]]>V}function sO(y,I,O,V){return 4*Lf[255+y[I-O]-y[I+0]]+Lf[255+y[I-2*O]-y[I+O]]<=V}function oO(y,I,O,V,$){var te=y[I-3*O],ne=y[I-2*O],ie=y[I-O],se=y[I+0],pe=y[I+O],Oe=y[I+2*O];return 4*Lf[255+ie-se]+Lf[255+ne-pe]>V?0:Lf[255+y[I-4*O]-te]<=$&&Lf[255+te-ne]<=$&&Lf[255+ne-ie]<=$&&Lf[255+y[I+3*O]-Oe]<=$&&Lf[255+Oe-pe]<=$&&Lf[255+pe-se]<=$}function aO(y,I,O,V){var $=2*V+1;for(V=0;16>V;++V)sO(y,I+V,O,$)&&SE(y,I+V,O)}function Oy(y,I,O,V){var $=2*V+1;for(V=0;16>V;++V)sO(y,I+V*O,1,$)&&SE(y,I+V*O,1)}function H0(y,I,O,V){var $;for($=3;0<$;--$)aO(y,I+=4*O,O,V)}function K6(y,I,O,V){var $;for($=3;0<$;--$)Oy(y,I+=4,O,V)}function V0(y,I,O,V,$,te,ne,ie){for(te=2*te+1;0<$--;){if(oO(y,I,O,te,ne))if(rO(y,I,O,ie))SE(y,I,O);else{var se=y,pe=I,Oe=O,ot=se[pe-2*Oe],at=se[pe-Oe],$e=se[pe+0],Gt=se[pe+Oe],Et=se[pe+2*Oe],Ue=27*(Ht=eQ[1020+3*($e-at)+eQ[1020+ot-Gt]])+63>>7,je=18*Ht+63>>7,Ht=9*Ht+63>>7;se[pe-3*Oe]=xA[255+se[pe-3*Oe]+Ht],se[pe-2*Oe]=xA[255+ot+je],se[pe-Oe]=xA[255+at+Ue],se[pe+0]=xA[255+$e-Ue],se[pe+Oe]=xA[255+Gt-je],se[pe+2*Oe]=xA[255+Et-Ht]}I+=V}}function ug(y,I,O,V,$,te,ne,ie){for(te=2*te+1;0<$--;){if(oO(y,I,O,te,ne))if(rO(y,I,O,ie))SE(y,I,O);else{var se=y,pe=I,Oe=O,ot=se[pe-Oe],at=se[pe+0],$e=se[pe+Oe],Gt=AO[112+(4+(Et=3*(at-ot))>>3)],Et=AO[112+(Et+3>>3)],Ue=Gt+1>>1;se[pe-2*Oe]=xA[255+se[pe-2*Oe]+Ue],se[pe-Oe]=xA[255+ot+Et],se[pe+0]=xA[255+at-Gt],se[pe+Oe]=xA[255+$e-Ue]}I+=V}}function $T(y,I,O,V,$,te){V0(y,I,O,1,16,V,$,te)}function lC(y,I,O,V,$,te){V0(y,I,1,O,16,V,$,te)}function Z6(y,I,O,V,$,te){var ne;for(ne=3;0<ne;--ne)ug(y,I+=4*O,O,1,16,V,$,te)}function IE(y,I,O,V,$,te){var ne;for(ne=3;0<ne;--ne)ug(y,I+=4,1,O,16,V,$,te)}function $6(y,I,O,V,$,te,ne,ie){V0(y,I,$,1,8,te,ne,ie),V0(O,V,$,1,8,te,ne,ie)}function YT(y,I,O,V,$,te,ne,ie){V0(y,I,1,$,8,te,ne,ie),V0(O,V,1,$,8,te,ne,ie)}function WT(y,I,O,V,$,te,ne,ie){ug(y,I+4*$,$,1,8,te,ne,ie),ug(O,V+4*$,$,1,8,te,ne,ie)}function lO(y,I,O,V,$,te,ne,ie){ug(y,I+4,1,$,8,te,ne,ie),ug(O,V+4,1,$,8,te,ne,ie)}function DE(){this.ba=new rg,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new tl,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function JT(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function XT(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function cO(){this.ua=0,this.Wa=new be,this.vb=new be,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Se,this.yc=new de}function Y6(){this.xb=this.a=0,this.l=new wE,this.ca=new rg,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new X,this.Pb=0,this.wd=new X,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new cO,this.ab=0,this.gc=a(4,XT),this.Oc=0}function TE(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new wE,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cC(y,I,O,V,$,te,ne){for(y=null==y?0:y[I+0],I=0;I<ne;++I)$[te+I]=y+O[V+I]&255,y=$[te+I]}function e2(y,I,O,V,$,te,ne){var ie;if(null==y)cC(null,null,O,V,$,te,ne);else for(ie=0;ie<ne;++ie)$[te+ie]=y[I+ie]+O[V+ie]&255}function j0(y,I,O,V,$,te,ne){if(null==y)cC(null,null,O,V,$,te,ne);else{var ie,se=y[I+0],pe=se,Oe=se;for(ie=0;ie<ne;++ie)pe=Oe+(se=y[I+ie])-pe,Oe=O[V+ie]+(-256&pe?0>pe?0:255:pe)&255,pe=se,$[te+ie]=Oe}}function t2(y,I,O,V){var $=I.width,te=I.o;if(t(null!=y&&null!=I),0>O||0>=V||O+V>te)return null;if(!y.Cc){if(null==y.ga){var ne;if(y.ga=new TE,(ne=null==y.ga)||(ne=I.width*I.o,t(0==y.Gb.length),y.Gb=o(ne),y.Uc=0,null==y.Gb?ne=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,ne=1),ne=!ne),!ne){var ie=y.Fa,se=y.P,pe=y.qc,Oe=y.mb,ot=y.nb,at=se+1,$e=pe-1,Gt=(ne=y.ga).l;if(t(null!=ie&&null!=Oe&&null!=I),Y0[0]=null,Y0[1]=cC,Y0[2]=e2,Y0[3]=j0,ne.ca=Oe,ne.tb=ot,ne.c=I.width,ne.i=I.height,t(0<ne.c&&0<ne.i),1>=pe)I=0;else if(ne.$a=ie[se+0]>>0&3,ne.Z=ie[se+0]>>2&3,ne.Lc=ie[se+0]>>4&3,se=ie[se+0]>>6&3,0>ne.$a||1<ne.$a||4<=ne.Z||1<ne.Lc||se)I=0;else if(Gt.put=Ym,Gt.ac=au,Gt.bc=Wm,Gt.ma=ne,Gt.width=I.width,Gt.height=I.height,Gt.Da=I.Da,Gt.v=I.v,Gt.va=I.va,Gt.j=I.j,Gt.o=I.o,ne.$a)e:{t(1==ne.$a),I=kf();t:for(;;){if(null==I){I=0;break e}if(t(null!=ne),ne.mc=I,I.c=ne.c,I.i=ne.i,I.l=ne.l,I.l.ma=ne,I.l.width=ne.c,I.l.height=ne.i,I.a=0,Ne(I.m,ie,at,$e),!e_(ne.c,ne.i,1,I,null)||(1==I.ab&&3==I.gc[0].hc&&ky(I.s)?(ne.ic=1,ie=I.c*I.i,I.Ta=null,I.Ua=0,I.V=o(ie),I.Ba=0,null==I.V?(I.a=1,I=0):I=1):(ne.ic=0,I=sC(I,ne.c)),!I))break t;I=1;break e}ne.mc=null,I=0}else I=$e>=ne.c*ne.i;ne=!I}if(ne)return null;1!=y.ga.Lc?y.Ga=0:V=te-O}t(null!=y.ga),t(O+V<=te);e:{if(I=(ie=y.ga).c,te=ie.l.o,0==ie.$a){if(at=y.rc,$e=y.Vc,Gt=y.Fa,pe=y.mb,Oe=y.nb+O*I,t((se=y.P+1+O*I)<=y.P+y.qc),0!=ie.Z)for(t(null!=Y0[ie.Z]),ne=0;ne<V;++ne)Y0[ie.Z](at,$e,Gt,se,pe,Oe,I),at=pe,$e=Oe,Oe+=I,se+=I;else for(ne=0;ne<V;++ne)i(pe,Oe,Gt,se,I),at=pe,$e=Oe,Oe+=I,se+=I;y.rc=at,y.Vc=$e}else{if(t(null!=ie.mc),I=O+V,t(null!=(ne=ie.mc)),t(I<=ne.i),ne.C>=I)I=1;else if(ie.ic||Xe(),ie.ic){ie=ne.V,at=ne.Ba;var Et=ne.i,Ue=(Gt=1,se=ne.$/($e=ne.c),pe=ne.$%$e,Oe=ne.m,ot=ne.s,ne.$),je=$e*Et,Ht=$e*I,Wt=ot.wc,Vt=Ue<Ht?jl(ot,pe,se):null;t(Ue<=je),t(I<=Et),t(ky(ot));t:for(;;){for(;!Oe.h&&Ue<Ht;){if(pe&Wt||(Vt=jl(ot,pe,se)),t(null!=Vt),We(Oe),256>(Et=mh(Vt.G[0],Vt.H[0],Oe)))ie[at+Ue]=Et,++Ue,++pe>=$e&&(pe=0,++se<=I&&!(se%16)&&ag(ne,se));else{if(!(280>Et)){Gt=0;break t}Et=sg(Et-256,Oe);var Yn,Dn=mh(Vt.G[4],Vt.H[4],Oe);if(We(Oe),!(Ue>=(Dn=Jm($e,Dn=sg(Dn,Oe)))&&je-Ue>=Et)){Gt=0;break t}for(Yn=0;Yn<Et;++Yn)ie[at+Ue+Yn]=ie[at+Ue+Yn-Dn];for(Ue+=Et,pe+=Et;pe>=$e;)pe-=$e,++se<=I&&!(se%16)&&ag(ne,se);Ue<Ht&&pe&Wt&&(Vt=jl(ot,pe,se))}t(Oe.h==_e(Oe))}ag(ne,se>I?I:se);break t}!Gt||Oe.h&&Ue<je?(Gt=0,ne.a=Oe.h?5:3):ne.$=Ue,I=Gt}else I=lg(ne,ne.V,ne.Ba,ne.c,ne.i,I,gE);if(!I){V=0;break e}}O+V>=te&&(y.Cc=1),V=1}if(!V)return null;if(y.Cc&&(null!=(V=y.ga)&&(V.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+O*$}function M(y,I,O,V,$,te){for(;0<$--;){var ne,ie=y,se=I+(O?1:0),pe=y,Oe=I+(O?0:3);for(ne=0;ne<V;++ne){var ot=pe[Oe+4*ne];255!=ot&&(ie[se+4*ne+0]=ie[se+4*ne+0]*(ot*=32897)>>23,ie[se+4*ne+1]=ie[se+4*ne+1]*ot>>23,ie[se+4*ne+2]=ie[se+4*ne+2]*ot>>23)}I+=te}}function Y(y,I,O,V,$){for(;0<V--;){var te;for(te=0;te<O;++te){var ne=y[I+2*te+0],ie=15&(pe=y[I+2*te+1]),se=4369*ie,pe=(240&pe|pe>>4)*se>>16;y[I+2*te+0]=(240&ne|ne>>4)*se>>16&240|(15&ne|ne<<4)*se>>16>>4&15,y[I+2*te+1]=240&pe|ie}I+=$}}function ye(y,I,O,V,$,te,ne,ie){var se,pe,Oe=255;for(pe=0;pe<$;++pe){for(se=0;se<V;++se){var ot=y[I+se];te[ne+4*se]=ot,Oe&=ot}I+=O,ne+=ie}return 255!=Oe}function Be(y,I,O,V,$){var te;for(te=0;te<$;++te)O[V+te]=y[I+te]>>8}function Xe(){Z0=M,PE=Y,hO=ye,o$=Be}function Mt(y,I,O){we[y]=function(V,$,te,ne,ie,se,pe,Oe,ot,at,$e,Gt,Et,Ue,je,Ht,Wt){var Vt,Yn=Wt-1>>1,Dn=ie[se+0]|pe[Oe+0]<<16,Ii=ot[at+0]|$e[Gt+0]<<16;t(null!=V);var kn=3*Dn+Ii+131074>>2;for(I(V[$+0],255&kn,kn>>16,Et,Ue),null!=te&&I(te[ne+0],255&(kn=3*Ii+Dn+131074>>2),kn>>16,je,Ht),Vt=1;Vt<=Yn;++Vt){var ps=ie[se+Vt]|pe[Oe+Vt]<<16,Ls=ot[at+Vt]|$e[Gt+Vt]<<16,is=Dn+ps+Ii+Ls+524296,Vr=is+2*(ps+Ii)>>3;kn=Vr+Dn>>1,Dn=(is=is+2*(Dn+Ls)>>3)+ps>>1,I(V[$+2*Vt-1],255&kn,kn>>16,Et,Ue+(2*Vt-1)*O),I(V[$+2*Vt-0],255&Dn,Dn>>16,Et,Ue+(2*Vt-0)*O),null!=te&&(Dn=Vr+Ls>>1,I(te[ne+2*Vt-1],255&(kn=is+Ii>>1),kn>>16,je,Ht+(2*Vt-1)*O),I(te[ne+2*Vt+0],255&Dn,Dn>>16,je,Ht+(2*Vt+0)*O)),Dn=ps,Ii=Ls}1&Wt||(I(V[$+Wt-1],255&(kn=3*Dn+Ii+131074>>2),kn>>16,Et,Ue+(Wt-1)*O),null!=te&&I(te[ne+Wt-1],255&(kn=3*Ii+Dn+131074>>2),kn>>16,je,Ht+(Wt-1)*O))}}function rn(){Nf[fO]=Cwe,Nf[pO]=m$,Nf[h$]=xwe,Nf[gO]=_$,Nf[mO]=y$,Nf[tQ]=v$,Nf[A$]=Ewe,Nf[nQ]=m$,Nf[iQ]=_$,Nf[_O]=y$,Nf[rQ]=v$}function Kn(y){return y&~Swe?0>y?0:255:y>>w$}function xi(y,I){return Kn((19077*y>>8)+(26149*I>>8)-14234)}function lr(y,I,O){return Kn((19077*y>>8)-(6419*I>>8)-(13320*O>>8)+8708)}function _r(y,I){return Kn((19077*y>>8)+(33050*I>>8)-17685)}function Xr(y,I,O,V,$){V[$+0]=xi(y,O),V[$+1]=lr(y,I,O),V[$+2]=_r(y,I)}function Da(y,I,O,V,$){V[$+0]=_r(y,I),V[$+1]=lr(y,I,O),V[$+2]=xi(y,O)}function nl(y,I,O,V,$){var te=lr(y,I,O);I=te<<3&224|_r(y,I)>>3,V[$+0]=248&xi(y,O)|te>>5,V[$+1]=I}function Gl(y,I,O,V,$){var te=240&_r(y,I)|15;V[$+0]=240&xi(y,O)|lr(y,I,O)>>4,V[$+1]=te}function Yu(y,I,O,V,$){V[$+0]=255,Xr(y,I,O,V,$+1)}function Nc(y,I,O,V,$){Da(y,I,O,V,$),V[$+3]=255}function dg(y,I,O,V,$){Xr(y,I,O,V,$),V[$+3]=255}function CA(y,I){return 0>y?0:y>I?I:y}function Ly(y,I,O){we[y]=function(V,$,te,ne,ie,se,pe,Oe,ot){for(var at=Oe+(-2&ot)*O;Oe!=at;)I(V[$+0],te[ne+0],ie[se+0],pe,Oe),I(V[$+1],te[ne+0],ie[se+0],pe,Oe+O),$+=2,++ne,++se,Oe+=2*O;1&ot&&I(V[$+0],te[ne+0],ie[se+0],pe,Oe)}}function uO(y,I,O){return 0==O?0==y?0==I?6:5:0==I?4:0:O}function n2(y,I,O,V,$){switch(y>>>30){case 3:LE(I,O,V,$,0);break;case 2:u2(I,O,V,$);break;case 1:pg(I,O,V,$)}}function r2(y,I){var O,V,$=I.M,te=I.Nb,ne=y.oc,ie=y.pc+40,se=y.oc,pe=y.pc+584,Oe=y.oc,ot=y.pc+600;for(O=0;16>O;++O)ne[ie+32*O-1]=129;for(O=0;8>O;++O)se[pe+32*O-1]=129,Oe[ot+32*O-1]=129;for(0<$?ne[ie-1-32]=se[pe-1-32]=Oe[ot-1-32]=129:(r(ne,ie-32-1,127,21),r(se,pe-32-1,127,9),r(Oe,ot-32-1,127,9)),V=0;V<y.za;++V){var at=I.ya[I.aa+V];if(0<V){for(O=-1;16>O;++O)i(ne,ie+32*O-4,ne,ie+32*O+12,4);for(O=-1;8>O;++O)i(se,pe+32*O-4,se,pe+32*O+4,4),i(Oe,ot+32*O-4,Oe,ot+32*O+4,4)}var $e=y.Gd,Gt=y.Hd+V,Et=at.ad,Ue=at.Hc;if(0<$&&(i(ne,ie-32,$e[Gt].y,0,16),i(se,pe-32,$e[Gt].f,0,8),i(Oe,ot-32,$e[Gt].ea,0,8)),at.Za){var je=ne,Ht=ie-32+16;for(0<$&&(V>=y.za-1?r(je,Ht,$e[Gt].y[15],4):i(je,Ht,$e[Gt+1].y,0,4)),O=0;4>O;O++)je[Ht+128+O]=je[Ht+256+O]=je[Ht+384+O]=je[Ht+0+O];for(O=0;16>O;++O,Ue<<=2)gg[at.Ob[O]](je=ne,Ht=ie+C$[O]),n2(Ue,Et,16*+O,je,Ht)}else if(je=uO(V,$,at.Ob[0]),$0[je](ne,ie),0!=Ue)for(O=0;16>O;++O,Ue<<=2)n2(Ue,Et,16*+O,ne,ie+C$[O]);for(O=at.Gc,je=uO(V,$,at.Dd),Hy[je](se,pe),Hy[je](Oe,ot),Ue=Et,je=se,Ht=pe,255&(at=O>>0)&&(170&at?q0(Ue,256,je,Ht):Py(Ue,256,je,Ht)),at=Oe,Ue=ot,255&(O>>=8)&&(170&O?q0(Et,320,at,Ue):Py(Et,320,at,Ue)),$<y.Ub-1&&(i($e[Gt].y,0,ne,ie+480,16),i($e[Gt].f,0,se,pe+224,8),i($e[Gt].ea,0,Oe,ot+224,8)),$e=y.sa,Gt=y.ta+16*V+16*te*y.R,Et=y.qa,at=y.ra+8*V+(O=8*te*y.B),Ue=y.Ha,je=y.Ia+8*V+O,O=0;16>O;++O)i($e,Gt+O*y.R,ne,ie+32*O,16);for(O=0;8>O;++O)i(Et,at+O*y.B,se,pe+32*O,8),i(Ue,je+O*y.B,Oe,ot+32*O,8)}}function BE(y,I,O,V,$,te,ne,ie,se){var pe=[0],Oe=[0],ot=0,at=null!=se?se.kd:0,$e=se??new JT;if(null==y||12>O)return 7;$e.data=y,$e.w=I,$e.ha=O,I=[I],O=[O],$e.gb=[$e.gb];e:{var Gt=I,Et=O,Ue=$e.gb;if(t(null!=y),t(null!=Et),t(null!=Ue),Ue[0]=0,12<=Et[0]&&!e(y,Gt[0],"RIFF")){if(e(y,Gt[0]+8,"WEBP")){Ue=3;break e}var je=Xn(y,Gt[0]+4);if(12>je||4294967286<je){Ue=3;break e}if(at&&je>Et[0]-8){Ue=7;break e}Ue[0]=je,Gt[0]+=12,Et[0]-=12}Ue=0}if(0!=Ue)return Ue;for(je=0<$e.gb[0],O=O[0];;){e:{var Ht=y;Et=I,Ue=O;var Wt=pe,Vt=Oe,Yn=Gt=[0];if((kn=ot=[ot])[0]=0,8>Ue[0])Ue=7;else{if(!e(Ht,Et[0],"VP8X")){if(10!=Xn(Ht,Et[0]+4)){Ue=3;break e}if(18>Ue[0]){Ue=7;break e}var Dn=Xn(Ht,Et[0]+8),Ii=1+qn(Ht,Et[0]+12);if(2147483648<=Ii*(Ht=1+qn(Ht,Et[0]+15))){Ue=3;break e}null!=Yn&&(Yn[0]=Dn),null!=Wt&&(Wt[0]=Ii),null!=Vt&&(Vt[0]=Ht),Et[0]+=18,Ue[0]-=18,kn[0]=1}Ue=0}}if(ot=ot[0],0!=Ue)return Ue;if(Et=!!(2&(Gt=Gt[0])),!je&&ot)return 3;if(null!=te&&(te[0]=!!(16&Gt)),null!=ne&&(ne[0]=Et),null!=ie&&(ie[0]=0),ne=pe[0],Gt=Oe[0],ot&&Et&&null==se){Ue=0;break}if(4>O){Ue=7;break}if(je&&ot||!je&&!ot&&!e(y,I[0],"ALPH")){O=[O],$e.na=[$e.na],$e.P=[$e.P],$e.Sa=[$e.Sa];e:{Ue=I,je=O;var kn=$e.gb;Wt=$e.na,Vt=$e.P,Yn=$e.Sa,Ii=22,t(null!=(Dn=y)),t(null!=je),Ht=Ue[0];var ps=je[0];for(t(null!=Wt),t(null!=Yn),Wt[0]=null,Vt[0]=null,Yn[0]=0;;){if(Ue[0]=Ht,je[0]=ps,8>ps){Ue=7;break e}var Ls=Xn(Dn,Ht+4);if(4294967286<Ls){Ue=3;break e}var is=8+Ls+1&-2;if(Ii+=is,0<kn&&Ii>kn){Ue=3;break e}if(!e(Dn,Ht,"VP8 ")||!e(Dn,Ht,"VP8L")){Ue=0;break e}if(ps[0]<is){Ue=7;break e}e(Dn,Ht,"ALPH")||(Wt[0]=Dn,Vt[0]=Ht+8,Yn[0]=Ls),Ht+=is,ps-=is}}if(O=O[0],$e.na=$e.na[0],$e.P=$e.P[0],$e.Sa=$e.Sa[0],0!=Ue)break}O=[O],$e.Ja=[$e.Ja],$e.xa=[$e.xa];e:if(kn=y,Ue=I,je=O,Wt=$e.gb[0],Vt=$e.Ja,Yn=$e.xa,Dn=Ue[0],Ht=!e(kn,Dn,"VP8 "),Ii=!e(kn,Dn,"VP8L"),t(null!=kn),t(null!=je),t(null!=Vt),t(null!=Yn),8>je[0])Ue=7;else{if(Ht||Ii){if(kn=Xn(kn,Dn+4),12<=Wt&&kn>Wt-12){Ue=3;break e}if(at&&kn>je[0]-8){Ue=7;break e}Vt[0]=kn,Ue[0]+=8,je[0]-=8,Yn[0]=Ii}else Yn[0]=5<=je[0]&&47==kn[Dn+0]&&!(kn[Dn+4]>>5),Vt[0]=je[0];Ue=0}if(O=O[0],$e.Ja=$e.Ja[0],$e.xa=$e.xa[0],I=I[0],0!=Ue)break;if(4294967286<$e.Ja)return 3;if(null==ie||Et||(ie[0]=$e.xa?2:1),ne=[ne],Gt=[Gt],$e.xa){if(5>O){Ue=7;break}ie=ne,at=Gt,Et=te,null==y||5>O?y=0:5<=O&&47==y[I+0]&&!(y[I+4]>>5)?(je=[0],kn=[0],Wt=[0],Ne(Vt=new X,y,I,O),Ri(Vt,je,kn,Wt)?(null!=ie&&(ie[0]=je[0]),null!=at&&(at[0]=kn[0]),null!=Et&&(Et[0]=Wt[0]),y=1):y=0):y=0}else{if(10>O){Ue=7;break}ie=Gt,null==y||10>O||!ZR(y,I+3,O-3)?y=0:(at=y[I+0]|y[I+1]<<8|y[I+2]<<16,Et=16383&(y[I+7]<<8|y[I+6]),y=16383&(y[I+9]<<8|y[I+8]),1&at||3<(at>>1&7)||!(at>>4&1)||at>>5>=$e.Ja||!Et||!y?y=0:(ne&&(ne[0]=Et),ie&&(ie[0]=y),y=1))}if(!y||(ne=ne[0],Gt=Gt[0],ot&&(pe[0]!=ne||Oe[0]!=Gt)))return 3;null!=se&&(se[0]=$e,se.offset=I-se.w,t(4294967286>I-se.w),t(se.offset==se.ha-O));break}return 0==Ue||7==Ue&&ot&&null==se?(null!=te&&(te[0]|=null!=$e.na&&0<$e.na.length),null!=V&&(V[0]=ne),null!=$&&($[0]=Gt),0):Ue}function s2(y,I,O){var V=I.width,$=I.height,te=0,ne=0,ie=V,se=$;if(I.Da=null!=y&&0<y.Da,I.Da&&(ie=y.cd,se=y.bd,te=y.v,ne=y.j,11>O||(te&=-2,ne&=-2),0>te||0>ne||0>=ie||0>=se||te+ie>V||ne+se>$))return 0;if(I.v=te,I.j=ne,I.va=te+ie,I.o=ne+se,I.U=ie,I.T=se,I.da=null!=y&&0<y.da,I.da){if(!ar(ie,se,O=[y.ib],te=[y.hb]))return 0;I.ib=O[0],I.hb=te[0]}return I.ob=null!=y&&y.ob,I.Kb=null==y||!y.Sd,I.da&&(I.ob=I.ib<3*V/4&&I.hb<3*$/4,I.Kb=0),1}function o2(y){if(null==y)return 2;if(11>y.S){var I=y.f.RGBA;I.fb+=(y.height-1)*I.A,I.A=-I.A}else(I=y.f.kb).O+=((y=y.height)-1)*I.fa,I.fa=-I.fa,I.N+=(y-1>>1)*I.Ab,I.Ab=-I.Ab,I.W+=(y-1>>1)*I.Db,I.Db=-I.Db,null!=I.F&&(I.J+=(y-1)*I.lb,I.lb=-I.lb);return 0}function FE(y,I,O,V){if(null==V||0>=y||0>=I)return 2;if(null!=O){if(O.Da){var $=O.cd,te=O.bd,ne=-2&O.v,ie=-2&O.j;if(0>ne||0>ie||0>=$||0>=te||ne+$>y||ie+te>I)return 2;y=$,I=te}if(O.da){if(!ar(y,I,$=[O.ib],te=[O.hb]))return 2;y=$[0],I=te[0]}}V.width=y,V.height=I;e:{var se=V.width,pe=V.height;if(y=V.S,0>=se||0>=pe||!(y>=fO&&13>y))y=2;else{if(0>=V.Rd&&null==V.sd){ne=te=$=I=0;var Oe=(ie=se*x$[y])*pe;if(11>y||(te=(pe+1)/2*(I=(se+1)/2),12==y&&(ne=($=se)*pe)),null==(pe=o(Oe+2*te+ne))){y=1;break e}V.sd=pe,11>y?((se=V.f.RGBA).eb=pe,se.fb=0,se.A=ie,se.size=Oe):((se=V.f.kb).y=pe,se.O=0,se.fa=ie,se.Fd=Oe,se.f=pe,se.N=0+Oe,se.Ab=I,se.Cd=te,se.ea=pe,se.W=0+Oe+te,se.Db=I,se.Ed=te,12==y&&(se.F=pe,se.J=0+Oe+2*te),se.Tc=ne,se.lb=$)}if(I=1,te=V.width,ne=V.height,($=V.S)>=fO&&13>$)if(11>$)y=V.f.RGBA,I&=(ie=Math.abs(y.A))*(ne-1)+te<=y.size,I&=ie>=te*x$[$],I&=null!=y.eb;else{y=V.f.kb,ie=(te+1)/2,Oe=(ne+1)/2,se=Math.abs(y.fa),pe=Math.abs(y.Ab);var ot=Math.abs(y.Db),at=Math.abs(y.lb);I&=se*(ne-1)+te<=y.Fd,I&=pe*(Oe-1)+ie<=y.Cd,I=(I&=ot*(Oe-1)+ie<=y.Ed)&se>=te&pe>=ie&ot>=ie,I&=null!=y.y,I&=null!=y.f,I&=null!=y.ea,12==$&&(I&=at>=te,I&=at*(ne-1)+te<=y.Tc,I&=null!=y.F)}else I=0;y=I?0:2}}return 0!=y||null!=O&&O.fd&&(y=o2(V)),y}var yh=64,ME=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],kE=24,RE=32,a2=8,vh=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];In("Predictor0","PredictorAdd0"),we.Predictor0=function(){return 4278190080},we.Predictor1=function(y){return y},we.Predictor2=function(y,I,O){return I[O+0]},we.Predictor3=function(y,I,O){return I[O+1]},we.Predictor4=function(y,I,O){return I[O-1]},we.Predictor5=function(y,I,O){return On(On(y,I[O+1]),I[O+0])},we.Predictor6=function(y,I,O){return On(y,I[O-1])},we.Predictor7=function(y,I,O){return On(y,I[O+0])},we.Predictor8=function(y,I,O){return On(I[O-1],I[O+0])},we.Predictor9=function(y,I,O){return On(I[O+0],I[O+1])},we.Predictor10=function(y,I,O){return On(On(y,I[O-1]),On(I[O+0],I[O+1]))},we.Predictor11=function(y,I,O){var V=I[O+0];return 0>=pr(V>>24&255,y>>24&255,(I=I[O-1])>>24&255)+pr(V>>16&255,y>>16&255,I>>16&255)+pr(V>>8&255,y>>8&255,I>>8&255)+pr(255&V,255&y,255&I)?V:y},we.Predictor12=function(y,I,O){var V=I[O+0];return(yi((y>>24&255)+(V>>24&255)-((I=I[O-1])>>24&255))<<24|yi((y>>16&255)+(V>>16&255)-(I>>16&255))<<16|yi((y>>8&255)+(V>>8&255)-(I>>8&255))<<8|yi((255&y)+(255&V)-(255&I)))>>>0},we.Predictor13=function(y,I,O){var V=I[O-1];return(ir((y=On(y,I[O+0]))>>24&255,V>>24&255)<<24|ir(y>>16&255,V>>16&255)<<16|ir(y>>8&255,V>>8&255)<<8|ir(y>>0&255,V>>0&255))>>>0};var W6=we.PredictorAdd0;we.PredictorAdd1=Er,In("Predictor2","PredictorAdd2"),In("Predictor3","PredictorAdd3"),In("Predictor4","PredictorAdd4"),In("Predictor5","PredictorAdd5"),In("Predictor6","PredictorAdd6"),In("Predictor7","PredictorAdd7"),In("Predictor8","PredictorAdd8"),In("Predictor9","PredictorAdd9"),In("Predictor10","PredictorAdd10"),In("Predictor11","PredictorAdd11"),In("Predictor12","PredictorAdd12"),In("Predictor13","PredictorAdd13");var l2=we.PredictorAdd2;Br("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),Br("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var dO,hg=we.ColorIndexInverseTransform,c2=we.MapARGB,J6=we.VP8LColorIndexInverseTransformAlpha,X6=we.MapAlpha,G0=we.VP8LPredictorsAdd=[];G0.length=16,(we.VP8LPredictors=[]).length=16,(we.VP8LPredictorsAdd_C=[]).length=16,(we.VP8LPredictors_C=[]).length=16;var Rf,Ag,z0,n_,Ny,OE,fg,LE,u2,q0,pg,Py,uC,NE,dC,K0,d2,Of,Uy,Mo,ko,bl,cc,Qy,Z0,PE,hO,o$,a$=o(511),l$=o(2041),c$=o(225),u$=o(767),d$=0,eQ=l$,AO=c$,xA=u$,Lf=a$,fO=0,pO=1,h$=2,gO=3,mO=4,tQ=5,A$=6,nQ=7,iQ=8,_O=9,rQ=10,cwe=[2,3,7],uwe=[3,3,11],f$=[280,256,256,256,40],dwe=[0,1,1,1,0],hwe=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Awe=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],fwe=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],pwe=8,sQ=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],oQ=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],h2=null,gwe=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],mwe=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],p$=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],_we=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ywe=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],vwe=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],wwe=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],$0=[],gg=[],Hy=[],bwe=1,g$=2,Y0=[],Nf=[];Mt("UpsampleRgbLinePair",Xr,3),Mt("UpsampleBgrLinePair",Da,3),Mt("UpsampleRgbaLinePair",dg,4),Mt("UpsampleBgraLinePair",Nc,4),Mt("UpsampleArgbLinePair",Yu,4),Mt("UpsampleRgba4444LinePair",Gl,2),Mt("UpsampleRgb565LinePair",nl,2);var Cwe=we.UpsampleRgbLinePair,xwe=we.UpsampleBgrLinePair,m$=we.UpsampleRgbaLinePair,_$=we.UpsampleBgraLinePair,y$=we.UpsampleArgbLinePair,v$=we.UpsampleRgba4444LinePair,Ewe=we.UpsampleRgb565LinePair,yO=16,vO=1<<yO-1,A2=-227,aQ=482,w$=6,Swe=(256<<w$)-1,b$=0,Iwe=o(256),Dwe=o(256),Twe=o(256),Bwe=o(256),Fwe=o(aQ-A2),Mwe=o(aQ-A2);Ly("YuvToRgbRow",Xr,3),Ly("YuvToBgrRow",Da,3),Ly("YuvToRgbaRow",dg,4),Ly("YuvToBgraRow",Nc,4),Ly("YuvToArgbRow",Yu,4),Ly("YuvToRgba4444Row",Gl,2),Ly("YuvToRgb565Row",nl,2);var C$=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],wO=[0,2,8],kwe=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(y,I,O,V,$){var te=pO,ne=new DE,ie=new rg;ne.ba=ie,ie.S=te,ie.width=[ie.width],ie.height=[ie.height];var se=ie.width,pe=ie.height,Oe=new My;if(null==Oe||null==y)var ot=2;else t(null!=Oe),ot=BE(y,I,O,Oe.width,Oe.height,Oe.Pd,Oe.Qd,Oe.format,null);if(0!=ot?se=0:(null!=se&&(se[0]=Oe.width[0]),null!=pe&&(pe[0]=Oe.height[0]),se=1),se){ie.width=ie.width[0],ie.height=ie.height[0],null!=V&&(V[0]=ie.width),null!=$&&($[0]=ie.height);e:{if(V=new wE,($=new JT).data=y,$.w=I,$.ha=O,$.kd=1,I=[0],t(null!=$),(0==(y=BE($.data,$.w,$.ha,null,null,null,I,null,$))||7==y)&&I[0]&&(y=4),0==(I=y)){if(t(null!=ne),V.data=$.data,V.w=$.w+$.offset,V.ha=$.ha-$.offset,V.put=Ym,V.ac=au,V.bc=Wm,V.ma=ne,$.xa){if(null==(y=kf())){ne=1;break e}if(function(at,$e){var Gt=[0],Et=[0],Ue=[0];t:for(;;){if(null==at)return 0;if(null==$e)return at.a=2,0;if(at.l=$e,at.a=0,Ne(at.m,$e.data,$e.w,$e.ha),!Ri(at.m,Gt,Et,Ue)){at.a=3;break t}if(at.xb=g$,$e.width=Gt[0],$e.height=Et[0],!e_(Gt[0],Et[0],1,at,null))break t;return 1}return t(0!=at.a),0}(y,V)){if(V=0==(I=FE(V.width,V.height,ne.Oa,ne.ba))){t:{V=y;n:for(;;){if(null==V){V=0;break t}if(t(null!=V.s.yc),t(null!=V.s.Ya),t(0<V.s.Wb),t(null!=(O=V.l)),t(null!=($=O.ma)),0!=V.xb){if(V.ca=$.ba,V.tb=$.tb,t(null!=V.ca),!s2($.Oa,O,gO)){V.a=2;break n}if(!sC(V,O.width)||O.da)break n;if((O.da||bs(V.ca.S))&&Xe(),11>V.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=V.ca.f.kb.F&&Xe()),V.Pb&&0<V.s.ua&&null==V.s.vb.X&&!Pi(V.s.vb,V.s.Wa.Xa)){V.a=1;break n}V.xb=0}if(!lg(V,V.V,V.Ba,V.c,V.i,O.o,pE))break n;$.Dc=V.Ma,V=1;break t}t(0!=V.a),V=0}V=!V}V&&(I=y.a)}else I=y.a}else{if(null==(y=new M6)){ne=1;break e}if(y.Fa=$.na,y.P=$.P,y.qc=$.Sa,$R(y,V)){if(0==(I=FE(V.width,V.height,ne.Oa,ne.ba))){if(y.Aa=0,O=ne.Oa,t(null!=($=y)),null!=O){if(0<(se=0>(se=O.Md)?0:100<se?255:255*se/100)){for(pe=Oe=0;4>pe;++pe)12>(ot=$.pb[pe]).lc&&(ot.ia=se*kwe[0>ot.lc?0:ot.lc]>>3),Oe|=ot.ia;Oe&&(alert("todo:VP8InitRandom"),$.ia=1)}$.Ga=O.Id,100<$.Ga?$.Ga=100:0>$.Ga&&($.Ga=0)}(function k6(y,I){if(null==y)return 0;if(null==I)return wl(y,2,"NULL VP8Io parameter in VP8Decode().");if(!y.cb&&!$R(y,I))return 0;if(t(y.cb),null==I.ac||I.ac(I)){I.ob&&(y.L=0);var O=wO[y.L];if(2==y.L?(y.yb=0,y.zb=0):(y.yb=I.v-O>>4,y.zb=I.j-O>>4,0>y.yb&&(y.yb=0),0>y.zb&&(y.zb=0)),y.Va=I.o+15+O>>4,y.Hb=I.va+15+O>>4,y.Hb>y.za&&(y.Hb=y.za),y.Va>y.Ub&&(y.Va=y.Ub),0<y.L){var V=y.ed;for(O=0;4>O;++O){var $;if(y.Qa.Cb){var te=y.Qa.Lb[O];y.Qa.Fb||(te+=V.Tb)}else te=V.Tb;for($=0;1>=$;++$){var ne=y.gd[O][$],ie=te;if(V.Pc&&(ie+=V.vd[0],$&&(ie+=V.od[0])),0<(ie=0>ie?0:63<ie?63:ie)){var se=ie;0<V.wb&&(se=4<V.wb?se>>2:se>>1)>9-V.wb&&(se=9-V.wb),1>se&&(se=1),ne.dd=se,ne.tc=2*ie+se,ne.ld=40<=ie?2:15<=ie?1:0}else ne.tc=0;ne.La=$}}}O=0}else wl(y,6,"Frame setup failed"),O=y.a;if(O=0==O){if(O){y.$c=0,0<y.Aa||(y.Ic=1);e:{V=4*(se=y.za);var pe=32*se,Oe=se+1,ot=0<y.L?se*(0<y.Aa?2:1):0,at=(2==y.Aa?2:1)*se;if((ne=V+832+($=3*(16*(O=y.Ic)+wO[y.L])/2*pe)+(te=null!=y.Fa&&0<y.Fa.length?y.Kc.c*y.Kc.i:0))!=ne)O=0;else{if(ne>y.Vb){if(y.Vb=0,y.Ec=o(ne),y.Fc=0,null==y.Ec){O=wl(y,1,"no memory during frame initialization.");break e}y.Vb=ne}ie=y.Fc,y.Ac=ne=y.Ec,y.Bc=ie,ie+=V,y.Gd=a(pe,KR),y.Hd=0,y.rb=a(Oe+1,qR),y.sb=1,y.wa=ot?a(ot,vE):null,y.Y=0,y.D.Nb=0,y.D.wa=y.wa,y.D.Y=y.Y,0<y.Aa&&(y.D.Y+=se),t(!0),y.oc=ne,y.pc=ie,ie+=832,y.ya=a(at,VT),y.aa=0,y.D.ya=y.ya,y.D.aa=y.aa,2==y.Aa&&(y.D.aa+=se),y.R=16*se,y.B=8*se,se=(pe=wO[y.L])*y.R,pe=pe/2*y.B,y.sa=ne,y.ta=ie+se,y.qa=y.sa,y.ra=y.ta+16*O*y.R+pe,y.Ha=y.qa,y.Ia=y.ra+8*O*y.B+pe,y.$c=0,ie+=$,y.mb=te?ne:null,y.nb=te?ie:null,t(ie+te<=y.Fc+y.Vb),jT(y),r(y.Ac,y.Bc,0,V),O=1}}if(O){if(I.ka=0,I.y=y.sa,I.O=y.ta,I.f=y.qa,I.N=y.ra,I.ea=y.Ha,I.Vd=y.Ia,I.fa=y.R,I.Rc=y.B,I.F=null,I.J=0,!d$){for(O=-255;255>=O;++O)a$[255+O]=0>O?-O:O;for(O=-1020;1020>=O;++O)l$[1020+O]=-128>O?-128:127<O?127:O;for(O=-112;112>=O;++O)c$[112+O]=-16>O?-16:15<O?15:O;for(O=-255;510>=O;++O)u$[255+O]=0>O?0:255<O?255:O;d$=1}fg=L6,LE=R6,q0=JR,pg=O6,Py=XR,u2=WR,uC=$T,NE=lC,dC=$6,K0=YT,d2=Z6,Of=IE,Uy=WT,Mo=lO,ko=aO,bl=Oy,cc=H0,Qy=K6,gg[0]=t_,gg[1]=N6,gg[2]=H6,gg[3]=V6,gg[4]=nO,gg[5]=EE,gg[6]=iO,gg[7]=qT,gg[8]=G6,gg[9]=j6,$0[0]=eO,$0[1]=U6,$0[2]=Ry,$0[3]=CE,$0[4]=$u,$0[5]=Q6,$0[6]=tO,Hy[0]=Q0,Hy[1]=P6,Hy[2]=z6,Hy[3]=KT,Hy[4]=aC,Hy[5]=q6,Hy[6]=ZT,O=1}else O=0}O&&(O=function($e,Gt){for($e.M=0;$e.M<$e.Va;++$e.M){var Et,Ue=$e.Jc[$e.M&$e.Xb],je=$e.m,Ht=$e;for(Et=0;Et<Ht.za;++Et){var Wt=je,Vt=Ht,Yn=Vt.Ac,Dn=Vt.Bc+4*Et,Ii=Vt.zc,kn=Vt.ya[Vt.aa+Et];if(kn.$b=Vt.Qa.Bb?At(Wt,Vt.Pa.jb[0])?2+At(Wt,Vt.Pa.jb[2]):At(Wt,Vt.Pa.jb[1]):0,Vt.kc&&(kn.Ad=At(Wt,Vt.Bd)),kn.Za=!At(Wt,145)+0,kn.Za){var ps=kn.Ob,Ls=0;for(Vt=0;4>Vt;++Vt){var is,Vr=Ii[0+Vt];for(is=0;4>is;++is){for(var Ao=p$[At(Wt,(Vr=ywe[Yn[Dn+is]][Vr])[0])];0<Ao;)Ao=p$[2*Ao+At(Wt,Vr[Ao])];Yn[Dn+is]=Vr=-Ao}i(ps,Ls,Yn,Dn,4),Ls+=4,Ii[0+Vt]=Vr}}else Vr=At(Wt,156)?At(Wt,128)?1:3:At(Wt,163)?2:0,kn.Ob[0]=Vr,r(Yn,Dn,Vr,4),r(Ii,0,Vr,4);kn.Dd=At(Wt,142)?At(Wt,114)?At(Wt,183)?1:3:2:0}if(Ht.m.Ka)return wl($e,7,"Premature end-of-partition0 encountered.");for(;$e.ja<$e.za;++$e.ja){if(Ht=Ue,Wt=(je=$e).rb[je.sb-1],Yn=je.rb[je.sb+je.ja],Et=je.ya[je.aa+je.ja],Dn=je.kc?Et.Ad:0)Wt.la=Yn.la=0,Et.Za||(Wt.Na=Yn.Na=0),Et.Hc=0,Et.Gc=0,Et.ia=0;else{var eo,Ar;if(Wt=Yn,Yn=Ht,Dn=je.Pa.Xc,kn=je.pb[(Ii=je.ya[je.aa+je.ja]).$b],Ls=je.rb[je.sb-1],Vr=is=0,r(Vt=Ii.ad,ps=0,0,384),Ii.Za)var zl=0,wh=Dn[3];else{Ao=o(16);var ql=Wt.Na+Ls.Na;if(ql=h2(Yn,Dn[1],ql,kn.Eb,0,Ao,0),Wt.Na=Ls.Na=(0<ql)+0,1<ql)fg(Ao,0,Vt,ps);else{var bh=Ao[0]+3>>3;for(Ao=0;256>Ao;Ao+=16)Vt[ps+Ao]=bh}zl=1,wh=Dn[0]}var Ns=15&Wt.la,EA=15&Ls.la;for(Ao=0;4>Ao;++Ao){var SA=1&EA;for(bh=Ar=0;4>bh;++bh)Ns=Ns>>1|(SA=(ql=h2(Yn,wh,ql=SA+(1&Ns),kn.Sc,zl,Vt,ps))>zl)<<7,Ar=Ar<<2|(3<ql?3:1<ql?2:0!=Vt[ps+0]),ps+=16;Ns>>=4,EA=EA>>1|SA<<7,is=(is<<8|Ar)>>>0}for(wh=Ns,zl=EA>>4,eo=0;4>eo;eo+=2){for(Ar=0,Ns=Wt.la>>4+eo,EA=Ls.la>>4+eo,Ao=0;2>Ao;++Ao){for(SA=1&EA,bh=0;2>bh;++bh)Ns=Ns>>1|(SA=0<(ql=h2(Yn,Dn[2],ql=SA+(1&Ns),kn.Qc,0,Vt,ps)))<<3,Ar=Ar<<2|(3<ql?3:1<ql?2:0!=Vt[ps+0]),ps+=16;Ns>>=2,EA=EA>>1|SA<<5}Vr|=Ar<<4*eo,wh|=Ns<<4<<eo,zl|=(240&EA)<<eo}Wt.la=wh,Ls.la=zl,Ii.Hc=is,Ii.Gc=Vr,Ii.ia=43690&Vr?0:kn.ia,Dn=!(is|Vr)}if(0<je.L&&(je.wa[je.Y+je.ja]=je.gd[Et.$b][Et.Za],je.wa[je.Y+je.ja].La|=!Dn),Ht.Ka)return wl($e,7,"Premature end-of-file encountered.")}if(jT($e),je=Gt,Ht=1,Et=(Ue=$e).D,Wt=0<Ue.L&&Ue.M>=Ue.zb&&Ue.M<=Ue.Va,0==Ue.Aa)e:{if(Et.M=Ue.M,Et.uc=Wt,r2(Ue,Et),Ht=1,Et=(Ar=Ue.D).Nb,Wt=(Vr=wO[Ue.L])*Ue.R,Dn=Ue.sa,Ii=Ue.ta-Wt+(Ao=16*Et*Ue.R),kn=Ue.qa,Vt=Ue.ra-(Yn=Vr/2*Ue.B)+(bh=8*Et*Ue.B),ps=Ue.Ha,Ls=Ue.Ia-Yn+bh,EA=0==(Ns=Ar.M),is=Ns>=Ue.Va-1,2==Ue.Aa&&r2(Ue,Ar),Ar.uc)for(SA=(ql=Ue).D.M,t(ql.D.uc),Ar=ql.yb;Ar<ql.Hb;++Ar){wh=SA;var Pc=(lu=(il=ql).D).Nb,lu=lu.wa[lu.Y+(zl=Ar)],kd=il.sa,Pf=il.ta+16*Pc*(eo=il.R)+16*zl,i_=lu.dd,Uc=lu.tc;if(0!=Uc)if(t(3<=Uc),1==il.L)0<zl&&bl(kd,Pf,eo,Uc+4),lu.La&&Qy(kd,Pf,eo,Uc),0<wh&&ko(kd,Pf,eo,Uc+4),lu.La&&cc(kd,Pf,eo,Uc);else{var Vy=il.B,hC=il.qa,UE=il.ra+8*Pc*Vy+8*zl,W0=il.Ha,il=il.Ia+8*Pc*Vy+8*zl;Pc=lu.ld,0<zl&&(NE(kd,Pf,eo,Uc+4,i_,Pc),K0(hC,UE,W0,il,Vy,Uc+4,i_,Pc)),lu.La&&(Of(kd,Pf,eo,Uc,i_,Pc),Mo(hC,UE,W0,il,Vy,Uc,i_,Pc)),0<wh&&(uC(kd,Pf,eo,Uc+4,i_,Pc),dC(hC,UE,W0,il,Vy,Uc+4,i_,Pc)),lu.La&&(d2(kd,Pf,eo,Uc,i_,Pc),Uy(hC,UE,W0,il,Vy,Uc,i_,Pc))}}if(Ue.ia&&alert("todo:DitherRow"),null!=je.put){if(Ar=16*Ns,Ns=16*(Ns+1),EA?(je.y=Ue.sa,je.O=Ue.ta+Ao,je.f=Ue.qa,je.N=Ue.ra+bh,je.ea=Ue.Ha,je.W=Ue.Ia+bh):(Ar-=Vr,je.y=Dn,je.O=Ii,je.f=kn,je.N=Vt,je.ea=ps,je.W=Ls),is||(Ns-=Vr),Ns>je.o&&(Ns=je.o),je.F=null,je.J=null,null!=Ue.Fa&&0<Ue.Fa.length&&Ar<Ns&&(je.J=t2(Ue,je,Ar,Ns-Ar),je.F=Ue.mb,null==je.F&&0==je.F.length)){Ht=wl(Ue,3,"Could not decode alpha data.");break e}Ar<je.j&&(Vr=je.j-Ar,Ar=je.j,t(!(1&Vr)),je.O+=Ue.R*Vr,je.N+=Ue.B*(Vr>>1),je.W+=Ue.B*(Vr>>1),null!=je.F&&(je.J+=je.width*Vr)),Ar<Ns&&(je.O+=je.v,je.N+=je.v>>1,je.W+=je.v>>1,null!=je.F&&(je.J+=je.v),je.ka=Ar-je.j,je.U=je.va-je.v,je.T=Ns-Ar,Ht=je.put(je))}Et+1!=Ue.Ic||is||(i(Ue.sa,Ue.ta-Wt,Dn,Ii+16*Ue.R,Wt),i(Ue.qa,Ue.ra-Yn,kn,Vt+8*Ue.B,Yn),i(Ue.Ha,Ue.Ia-Yn,ps,Ls+8*Ue.B,Yn))}if(!Ht)return wl($e,6,"Output aborted.")}return 1}(y,I)),null!=I.bc&&I.bc(I),O&=1}return O?(y.cb=0,O):0})(y,V)||(I=y.a)}}else I=y.a}0==I&&null!=ne.Oa&&ne.Oa.fd&&(I=o2(ne.ba))}ne=I}te=0!=ne?null:11>te?ie.f.RGBA.eb:ie.f.kb.y}else te=null;return te};var x$=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(we,Ft){for(var Bt="",Ae=0;Ae<4;Ae++)Bt+=String.fromCharCode(we[Ft++]);return Bt}function _(we,Ft){return(we[Ft+0]<<0|we[Ft+1]<<8|we[Ft+2]<<16)>>>0}function C(we,Ft){return(we[Ft+0]<<0|we[Ft+1]<<8|we[Ft+2]<<16|we[Ft+3]<<24)>>>0}new h;var F=[0],B=[0],U=[],H=new h,Z=n,q=function(we,Ft){var Bt={},Ae=0,de=!1,Te=0,Se=0;if(Bt.frames=[],!function(me,_e,Pe,We){for(var nt=0;nt<4;nt++)if(me[_e+nt]!="RIFF".charCodeAt(nt))return!0;return!1}(we,Ft)){var xt,Re;for(C(we,Ft+=4),Ft+=8;Ft<we.length;){var Ye=f(we,Ft),Ne=C(we,Ft+=4);Ft+=4;var ht=Ne+(1&Ne);switch(Ye){case"VP8 ":case"VP8L":void 0===Bt.frames[Ae]&&(Bt.frames[Ae]={}),(X=Bt.frames[Ae]).src_off=de?Se:Ft-8,X.src_size=Te+Ne+8,Ae++,de&&(de=!1,Te=0,Se=0);break;case"VP8X":(X=Bt.header={}).feature_flags=we[Ft];var _t=Ft+4;X.canvas_width=1+_(we,_t),X.canvas_height=1+_(we,_t+=3),_t+=3;break;case"ALPH":de=!0,Te=ht+8,Se=Ft-8;break;case"ANIM":(X=Bt.header).bgcolor=C(we,Ft),X.loop_count=(xt=we)[(Re=_t=Ft+4)+0]<<0|xt[Re+1]<<8,_t+=2;break;case"ANMF":var _n,X;(X=Bt.frames[Ae]={}).offset_x=2*_(we,Ft),X.offset_y=2*_(we,Ft+=3),X.width=1+_(we,Ft+=3),X.height=1+_(we,Ft+=3),X.duration=_(we,Ft+=3),Ft+=3,_n=we[Ft++],X.dispose=1&_n,X.blend=_n>>1&1}"ANMF"!=Ye&&(Ft+=ht)}return Bt}}(Z,0);q.response=Z,q.rgbaoutput=!0,q.dataurl=!1;var W=q.header?q.header:null,he=q.frames?q.frames:null;if(W){W.loop_counter=W.loop_count,F=[W.canvas_height],B=[W.canvas_width];for(var xe=0;xe<he.length&&0!=he[xe].blend;xe++);}var Ze=he[0],ct=H.WebPDecodeRGBA(Z,Ze.src_off,Ze.src_size,B,F);Ze.rgba=ct,Ze.imgwidth=B[0],Ze.imgheight=F[0];for(var Ve=0;Ve<B[0]*F[0]*4;Ve++)U[Ve]=ct[Ve];return this.width=B,this.height=F,this.data=U,this}(function(n){var e=function(F,B,U,H){var Z=4,q=a;switch(H){case n.image_compression.FAST:Z=1,q=o;break;case n.image_compression.MEDIUM:Z=6,q=u;break;case n.image_compression.SLOW:Z=9,q=h}var W=OT(F=i(F,B,U,q),{level:Z});return n.__addimage__.arrayBufferToBinaryString(W)},i=function(F,B,U,H){for(var Z,q,W,he=F.length/B,xe=new Uint8Array(F.length+he),Ze=_(),ct=0;ct<he;ct+=1){if(Z=F.subarray(W=ct*B,W+B),H)xe.set(H(Z,U,q),W+ct);else{for(var Ve,we=Ze.length,Ft=[];Ve<we;Ve+=1)Ft[Ve]=Ze[Ve](Z,U,q);var Bt=C(Ft.concat());xe.set(Ft[Bt],W+ct)}q=Z}return xe},r=function(F){var B=Array.apply([],F);return B.unshift(0),B},o=function(F,B){var H=[],Z=F.length;H[0]=1;for(var q=0;q<Z;q+=1)H[q+1]=F[q]-(F[q-B]||0)+256&255;return H},a=function(F,B,U){var Z=[],q=F.length;Z[0]=2;for(var W=0;W<q;W+=1)Z[W+1]=F[W]-(U&&U[W]||0)+256&255;return Z},u=function(F,B,U){var q=[],W=F.length;q[0]=3;for(var he=0;he<W;he+=1)q[he+1]=F[he]+256-((F[he-B]||0)+(U&&U[he]||0)>>>1)&255;return q},h=function(F,B,U){var W,he=[],xe=F.length;he[0]=4;for(var Ze=0;Ze<xe;Ze+=1)W=f(F[Ze-B]||0,U&&U[Ze]||0,U&&U[Ze-B]||0),he[Ze+1]=F[Ze]-W+256&255;return he},f=function(F,B,U){if(F===B&&B===U)return F;var H=Math.abs(B-U),Z=Math.abs(F-U),q=Math.abs(F+B-U-U);return H<=Z&&H<=q?F:Z<=q?B:U},_=function(){return[r,o,a,u,h]},C=function(F){var B=F.map(function(U){return U.reduce(function(H,Z){return H+Math.abs(Z)},0)});return B.indexOf(Math.min.apply(null,B))};n.processPNG=function(F,B,U,H){var Z,q,W,he,xe,Ze,ct,Ve,we,Ft,Bt,Ae,de,Te,Se,xt=this.decode.FLATE_DECODE,Re="";if(this.__addimage__.isArrayBuffer(F)&&(F=new Uint8Array(F)),this.__addimage__.isArrayBufferView(F)){if(F=(W=new Npe(F)).imgData,q=W.bits,Z=W.colorSpace,xe=W.colors,-1!==[4,6].indexOf(W.colorType)){if(8===W.bits){we=(Ve=32==W.pixelBitlength?new Uint32Array(W.decodePixels().buffer):16==W.pixelBitlength?new Uint16Array(W.decodePixels().buffer):new Uint8Array(W.decodePixels().buffer)).length,Bt=new Uint8Array(we*W.colors),Ft=new Uint8Array(we);var Ye,Ne=W.pixelBitlength-W.bits;for(Te=0,Se=0;Te<we;Te++){for(de=Ve[Te],Ye=0;Ye<Ne;)Bt[Se++]=de>>>Ye&255,Ye+=W.bits;Ft[Te]=de>>>Ye&255}}if(16===W.bits){we=(Ve=new Uint32Array(W.decodePixels().buffer)).length,Bt=new Uint8Array(we*(32/W.pixelBitlength)*W.colors),Ft=new Uint8Array(we*(32/W.pixelBitlength)),Ae=W.colors>1,Te=0,Se=0;for(var ht=0;Te<we;)de=Ve[Te++],Bt[Se++]=de>>>0&255,Ae&&(Bt[Se++]=de>>>16&255,de=Ve[Te++],Bt[Se++]=de>>>0&255),Ft[ht++]=de>>>16&255;q=8}H!==n.image_compression.NONE?(F=e(Bt,W.width*W.colors,W.colors,H),ct=e(Ft,W.width,1,H)):(F=Bt,ct=Ft,xt=void 0)}if(3===W.colorType&&(Z=this.color_spaces.INDEXED,Ze=W.palette,W.transparency.indexed)){var _t=W.transparency.indexed,_n=0;for(Te=0,we=_t.length;Te<we;++Te)_n+=_t[Te];if((_n/=255)==we-1&&-1!==_t.indexOf(0))he=[_t.indexOf(0)];else if(_n!==we){for(Ve=W.decodePixels(),Ft=new Uint8Array(Ve.length),Te=0,we=Ve.length;Te<we;Te++)Ft[Te]=_t[Ve[Te]];ct=e(Ft,W.width,1)}}var X=function(me){var _e;switch(me){case n.image_compression.FAST:_e=11;break;case n.image_compression.MEDIUM:_e=13;break;case n.image_compression.SLOW:_e=14;break;default:_e=12}return _e}(H);return xt===this.decode.FLATE_DECODE&&(Re="/Predictor "+X+" "),Re+="/Colors "+xe+" /BitsPerComponent "+q+" /Columns "+W.width,(this.__addimage__.isArrayBuffer(F)||this.__addimage__.isArrayBufferView(F))&&(F=this.__addimage__.arrayBufferToBinaryString(F)),(ct&&this.__addimage__.isArrayBuffer(ct)||this.__addimage__.isArrayBufferView(ct))&&(ct=this.__addimage__.arrayBufferToBinaryString(ct)),{alias:U,data:F,index:B,filter:xt,decodeParameters:Re,transparency:he,palette:Ze,sMask:ct,predictor:X,width:W.width,height:W.height,bitsPerComponent:q,colorSpace:Z}}}})(ki.API),function(n){n.processGIF89A=function(t,e,i,r){var o=new Ppe(t),a=o.width,u=o.height,h=[];o.decodeAndBlitFrameRGBA(0,h);var f={data:h,width:a,height:u},_=new z3(100).encode(f,100);return n.processJPEG.call(this,_,e,i,r)},n.processGIF87A=n.processGIF89A}(ki.API),tg.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:i,blue:e,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},tg.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[n]()}catch(e){uo.log("bit decode error:"+e)}},tg.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<t;r++)for(var o=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+8*r*4,u=0;u<8&&8*r+u<this.width;u++){var h=this.palette[o>>7-u&1];this.data[a+4*u]=h.blue,this.data[a+4*u+1]=h.green,this.data[a+4*u+2]=h.red,this.data[a+4*u+3]=255}0!==e&&(this.pos+=4-e)}},tg.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<n;r++){var o=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+2*r*4,h=15&o,f=this.palette[o>>4];if(this.data[a]=f.blue,this.data[a+1]=f.green,this.data[a+2]=f.red,this.data[a+3]=255,2*r+1>=this.width)break;this.data[a+4]=(f=this.palette[h]).blue,this.data[a+4+1]=f.green,this.data[a+4+2]=f.red,this.data[a+4+3]=255}0!==t&&(this.pos+=4-t)}},tg.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*i;if(r<this.palette.length){var a=this.palette[r];this.data[o]=a.red,this.data[o+1]=a.green,this.data[o+2]=a.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}0!==n&&(this.pos+=4-n)}},tg.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,u=(o>>5&t)/t*255|0,f=o>>15?255:0,_=i*this.width*4+4*r;this.data[_]=(o>>10&t)/t*255|0,this.data[_+1]=u,this.data[_+2]=a,this.data[_+3]=f}this.pos+=n}},tg.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(a&t)/t*255|0,h=(a>>5&e)/e*255|0,_=r*this.width*4+4*o;this.data[_]=(a>>11)/t*255|0,this.data[_+1]=h,this.data[_+2]=u,this.data[_+3]=255}this.pos+=n}},tg.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*e;this.data[a]=o,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=255}this.pos+=this.width%4}},tg.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*e;this.data[u]=o,this.data[u+1]=r,this.data[u+2]=i,this.data[u+3]=a}},tg.prototype.getData=function(){return this.data},function(n){n.processBMP=function(t,e,i,r){var o=new tg(t,!1),a=o.width,u=o.height,h={data:o.getData(),width:a,height:u},f=new z3(100).encode(h,100);return n.processJPEG.call(this,f,e,i,r)}}(ki.API),UK.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(t,e,i,r){var o=new UK(t,!1),a=o.width,u=o.height,h={data:o.getData(),width:a,height:u},f=new z3(100).encode(h,100);return n.processJPEG.call(this,f,e,i,r)}}(ki.API),ki.API.processRGBA=function(n,t,e){for(var i=n.data,r=i.length,o=new Uint8Array(r/4*3),a=new Uint8Array(r/4),u=0,h=0,f=0;f<r;f+=4){var C=i[f+1],F=i[f+2],B=i[f+3];o[u++]=i[f],o[u++]=C,o[u++]=F,a[h++]=B}var U=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:U,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},ki.API.setLanguage=function(n){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]&&(this.internal.languageSettings.languageCode=n,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},SR=(AE=ki.API).getCharWidthsArray=function(n,t){var e,i,r=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),u=t.widths?t.widths:r.metadata.Unicode.widths,h=u.fof?u.fof:1,f=t.kerning?t.kerning:r.metadata.Unicode.kerning,_=f.fof?f.fof:1,C=!1!==t.doKerning,F=0,B=n.length,U=0,H=u[0]||h,Z=[];for(e=0;e<B;e++)i=n.charCodeAt(e),"function"==typeof r.metadata.widthOfString?Z.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+a*(1e3/o)||0)/1e3):(F=C&&"object"===Os(f[i])&&!isNaN(parseInt(f[i][U],10))?f[i][U]/_:0,Z.push((u[i]||H)/h+F)),U=i;return Z},OK=AE.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return AE.processArabic&&(n=AE.processArabic(n)),"function"==typeof i.metadata.widthOfString?i.metadata.widthOfString(n,e,r)/e:SR.apply(this,arguments).reduce(function(o,a){return o+a},0)},LK=function(n,t,e,i){for(var r=[],o=0,a=n.length,u=0;o!==a&&u+t[o]<e;)u+=t[o],o++;r.push(n.slice(0,o));var h=o;for(u=0;o!==a;)u+t[o]>i&&(r.push(n.slice(h,o)),u=0,h=o),u+=t[o],o++;return h!==o&&r.push(n.slice(h,o)),r},NK=function(n,t,e){e||(e={});var i,r,o,a,u,h,_=[],C=[_],F=e.textIndent||0,B=0,U=0,H=n.split(" "),Z=SR.apply(this,[" ",e])[0];if(h=-1===e.lineIndent?H[0].length+2:e.lineIndent||0){var q=Array(h).join(" "),W=[];H.map(function(xe){(xe=xe.split(/\s*\n/)).length>1?W=W.concat(xe.map(function(Ze,ct){return(ct&&Ze.length?"\n":"")+Ze})):W.push(xe[0])}),H=W,h=OK.apply(this,[q,e])}for(o=0,a=H.length;o<a;o++){var he=0;if(i=H[o],h&&"\n"==i[0]&&(i=i.substr(1),he=1),F+B+(U=(r=SR.apply(this,[i,e])).reduce(function(xe,Ze){return xe+Ze},0))>t||he){if(U>t){for(u=LK.apply(this,[i,r,t-(F+B),t]),_.push(u.shift()),_=[u.pop()];u.length;)C.push([u.shift()]);U=r.slice(i.length-(_[0]?_[0].length:0)).reduce(function(xe,Ze){return xe+Ze},0)}else _=[i];C.push(_),F=U+h,B=Z}else _.push(i),F+=B+U,B=Z}return C.map(h?function(xe,Ze){return(Ze?q:"")+xe.join(" ")}:function(xe){return xe.join(" ")})},AE.splitTextToSize=function(n,t,e){var i,r=(e=e||{}).fontSize||this.internal.getFontSize(),o=function(_){if(_.widths&&_.kerning)return{widths:_.widths,kerning:_.kerning};var C=this.internal.getFont(_.fontName,_.fontStyle);return C.metadata.Unicode?{widths:C.metadata.Unicode.widths||{0:1},kerning:C.metadata.Unicode.kerning||{}}:{font:C.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,e);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/r;o.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/r:0,o.lineIndent=e.lineIndent;var u,h,f=[];for(u=0,h=i.length;u<h;u++)f=f.concat(NK.apply(this,[i[u],a,o]));return f},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},i={},r=0;r<t.length;r++)e[t[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=t[r];var o=function(C){return"0x"+parseInt(C,10).toString(16)},a=n.__fontmetrics__.compress=function(C){var F,B,U,H,Z=["{"];for(var q in C){if(F=C[q],isNaN(parseInt(q,10))?B="'"+q+"'":(q=parseInt(q,10),B=(B=o(q).slice(2)).slice(0,-1)+i[B.slice(-1)]),"number"==typeof F)F<0?(U=o(F).slice(3),H="-"):(U=o(F).slice(2),H=""),U=H+U.slice(0,-1)+i[U.slice(-1)];else{if("object"!==Os(F))throw new Error("Don't know what to do with value type "+Os(F)+".");U=a(F)}Z.push(B+U)}return Z.push("}"),Z.join("")},u=n.__fontmetrics__.uncompress=function(C){if("string"!=typeof C)throw new Error("Invalid argument passed to uncompress.");for(var F,B,U,H,Z={},q=1,W=Z,he=[],xe="",Ze="",ct=C.length-1,Ve=1;Ve<ct;Ve+=1)"'"==(H=C[Ve])?F?(U=F.join(""),F=void 0):F=[]:F?F.push(H):"{"==H?(he.push([W,U]),W={},U=void 0):"}"==H?((B=he.pop())[0][B[1]]=W,U=void 0,W=B[0]):"-"==H?q=-1:void 0===U?e.hasOwnProperty(H)?(xe+=e[H],U=parseInt(xe,16)*q,q=1,xe=""):xe+=H:e.hasOwnProperty(H)?(Ze+=e[H],W[U]=parseInt(Ze,16)*q,q=1,U=void 0,Ze=""):Ze+=H;return Z},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},_={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(C){var F=C.font,B=_.Unicode[F.postScriptName];B&&(F.metadata.Unicode={},F.metadata.Unicode.widths=B.widths,F.metadata.Unicode.kerning=B.kerning);var U=f.Unicode[F.postScriptName];U&&(F.metadata.Unicode.encoding=U,F.encoding=U.codePages[0])}])}(ki.API),function(n){var t=function(e){for(var i=e.length,r=new Uint8Array(i),o=0;o<i;o++)r[o]=e.charCodeAt(o);return r};n.API.events.push(["addFont",function(e){var a,u,i=void 0,r=e.font,o=e.instance;if(!r.isStandardFont){if(void 0===o)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if("string"!=typeof(i=!1===o.existsFileInVFS(r.postScriptName)?o.loadFile(r.postScriptName):o.getFileFromVFS(r.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");a=r,u=/^\x00\x01\x00\x00/.test(u=i)?t(u):t(LT(u)),a.metadata=n.API.TTFFont.open(u),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]}}])}(ki),function(n){function t(){return(Ni.canvg?Promise.resolve(Ni.canvg):re.e(489).then(re.bind(re,6489))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}ki.API.addSvgAsImage=function(e,i,r,o,a,u,h,f){if(isNaN(i)||isNaN(r))throw uo.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(a))throw uo.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var _=document.createElement("canvas");_.width=o,_.height=a;var C=_.getContext("2d");C.fillStyle="#fff",C.fillRect(0,0,_.width,_.height);var F={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},B=this;return t().then(function(U){return U.fromString(C,e,F)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(U){return U.render(F)}).then(function(){B.addImage(_.toDataURL("image/jpeg",1),i,r,o,a,h,f)})}}(),ki.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(t,e);return this},ki.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var i,r,o,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(a),h=[],f=0,_=0,C=0;function F(U,H){var Z,q=!1;for(Z=0;Z<U.length;Z+=1)U[Z]===H&&(q=!0);return q}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,"reset"===n||!0===t){var B=u.length;for(C=0;C<B;C+=1)e[u[C]].value=e[u[C]].defaultValue,e[u[C]].explicitSet=!1}if("object"===Os(n))for(r in n)if(o=n[r],F(u,r)&&void 0!==o){if("boolean"===e[r].type&&"boolean"==typeof o)e[r].value=o;else if("name"===e[r].type&&F(e[r].valueSet,o))e[r].value=o;else if("integer"===e[r].type&&Number.isInteger(o))e[r].value=o;else if("array"===e[r].type){for(f=0;f<o.length;f+=1)if(i=!0,1===o[f].length&&"number"==typeof o[f][0])h.push(String(o[f]-1));else if(o[f].length>1){for(_=0;_<o[f].length;_+=1)"number"!=typeof o[f][_]&&(i=!1);!0===i&&h.push([o[f][0]-1,o[f][1]-1].join(" "))}e[r].value="["+h.join(" ")+"]"}else e[r].value=e[r].defaultValue;e[r].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var U,H=[];for(U in e)!0===e[U].explicitSet&&H.push("name"===e[U].type?"/"+U+" /"+e[U].value:"/"+U+" "+e[U].value);0!==H.length&&this.internal.write("/ViewerPreferences\n<<\n"+H.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(n){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(i)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),f=o.length+a.length+u.length+r.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(r+o+a+u+h),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(ki.API),function(n){var t=n.API,e=t.pdfEscape16=function(o,a){for(var u,h=a.metadata.Unicode.widths,f=["","0","00","000","0000"],_=[""],C=0,F=o.length;C<F;++C){if(u=a.metadata.characterToGlyph(o.charCodeAt(C)),a.metadata.glyIdsUsed.push(u),a.metadata.toUnicode[u]=o.charCodeAt(C),-1==h.indexOf(u)&&(h.push(u),h.push([parseInt(a.metadata.widthOfGlyph(u),10)])),"0"==u)return _.join("");u=u.toString(16),_.push(f[4-u.length],u)}return _.join("")},i=function(o){var a,u,h,f,_,C,F;for(_="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",h=[],C=0,F=(u=Object.keys(o).sort(function(B,U){return B-U})).length;C<F;C++)a=u[C],h.length>=100&&(_+="\n"+h.length+" beginbfchar\n"+h.join("\n")+"\nendbfchar",h=[]),null!=o[a]&&"function"==typeof o[a].toString&&(f=("0000"+o[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),h.push("<"+a+"><"+f+">"));return h.length&&(_+="\n"+h.length+" beginbfchar\n"+h.join("\n")+"\nendbfchar\n"),_+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(o){!function(a){var u=a.font,h=a.out,f=a.newObject,_=a.putStream;if(u.metadata instanceof n.API.TTFFont&&"Identity-H"===u.encoding){for(var C=u.metadata.Unicode.widths,F=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),B="",U=0;U<F.length;U++)B+=String.fromCharCode(F[U]);var H=f();_({data:B,addLength1:!0,objectId:H}),h("endobj");var Z=f();_({data:i(u.metadata.toUnicode),addLength1:!0,objectId:Z}),h("endobj");var q=f();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+oE(u.fontName)),h("/FontFile2 "+H+" 0 R"),h("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),h("/Flags "+u.metadata.flags),h("/StemV "+u.metadata.stemV),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h(">>"),h("endobj");var W=f();h("<<"),h("/Type /Font"),h("/BaseFont /"+oE(u.fontName)),h("/FontDescriptor "+q+" 0 R"),h("/W "+n.API.PDFObject.convert(C)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+u.encoding+")"),h(">>"),h(">>"),h("endobj"),u.objectNumber=f(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+Z+" 0 R"),h("/BaseFont /"+oE(u.fontName)),h("/Encoding /"+u.encoding),h("/DescendantFonts ["+W+" 0 R]"),h(">>"),h("endobj"),u.isAlreadyPutted=!0}}(o)}]),t.events.push(["putFont",function(o){!function(a){var u=a.font,h=a.out,f=a.newObject,_=a.putStream;if(u.metadata instanceof n.API.TTFFont&&"WinAnsiEncoding"===u.encoding){for(var C=u.metadata.rawData,F="",B=0;B<C.length;B++)F+=String.fromCharCode(C[B]);var U=f();_({data:F,addLength1:!0,objectId:U}),h("endobj");var H=f();_({data:i(u.metadata.toUnicode),addLength1:!0,objectId:H}),h("endobj");var Z=f();h("<<"),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h("/StemV "+u.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+U+" 0 R"),h("/Flags 96"),h("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),h("/FontName /"+oE(u.fontName)),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h(">>"),h("endobj"),u.objectNumber=f();for(var q=0;q<u.metadata.hmtx.widths.length;q++)u.metadata.hmtx.widths[q]=parseInt(u.metadata.hmtx.widths[q]*(1e3/u.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+H+" 0 R/BaseFont/"+oE(u.fontName)+"/FontDescriptor "+Z+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),h("endobj"),u.isAlreadyPutted=!0}}(o)}]);var r=function(o){var a,u=o.text||"",h=o.x,f=o.y,_=o.options||{},C=o.mutex||{},F=C.pdfEscape,B=C.activeFontKey,U=C.fonts,H=B,Z="",q=0,W="",he=U[H].encoding;if("Identity-H"!==U[H].encoding)return{text:u,x:h,y:f,options:_,mutex:C};for(W=u,H=B,Array.isArray(u)&&(W=u[0]),q=0;q<W.length;q+=1)U[H].metadata.hasOwnProperty("cmap")&&(a=U[H].metadata.cmap.unicode.codeMap[W[q].charCodeAt(0)]),a||W[q].charCodeAt(0)<256&&U[H].metadata.hasOwnProperty("Unicode")?Z+=W[q]:Z+="";var xe="";return parseInt(H.slice(1))<14||"WinAnsiEncoding"===he?xe=F(Z,H).split("").map(function(Ze){return Ze.charCodeAt(0).toString(16)}).join(""):"Identity-H"===he&&(xe=e(Z,U[H])),C.isHex=!0,{text:xe,x:h,y:f,options:_,mutex:C}};t.events.push(["postProcessText",function(o){var a=o.text||"",u=[],h={text:a,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(a)){var f=0;for(f=0;f<a.length;f+=1)Array.isArray(a[f])&&3===a[f].length?u.push([r(Object.assign({},h,{text:a[f][0]})).text,a[f][1],a[f][2]]):u.push(r(Object.assign({},h,{text:a[f]})).text);o.text=u}else o.text=r(Object.assign({},h,{text:a})).text}])}(ki),function(n){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},n.addFileToVFS=function(e,i){return t.call(this),this.internal.vFS[e]=i,this},n.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(ki.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var r,o,a,u,h,f,_,C=t,F=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],B=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],U={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},H={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Z=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],q=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),W=!1,he=0;this.__bidiEngine__={};var xe=function(Ae){var de=Ae.charCodeAt(),Te=de>>8,Se=H[Te];return void 0!==Se?C[256*Se+(255&de)]:252===Te||253===Te?"AL":q.test(Te)?"L":8===Te?"R":"N"},Ze=function(Ae){for(var de,Te=0;Te<Ae.length;Te++){if("L"===(de=xe(Ae.charAt(Te))))return!1;if("R"===de)return!0}return!1},ct=function(Ae,de,Te,Se){var xt,Re,Ye,Ne,ht=de[Se];switch(ht){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":W=!1;break;case"N":case"AN":break;case"EN":W&&(ht="AN");break;case"AL":W=!0,ht="R";break;case"WS":case"BN":ht="N";break;case"CS":Se<1||Se+1>=de.length||"EN"!==(xt=Te[Se-1])&&"AN"!==xt||"EN"!==(Re=de[Se+1])&&"AN"!==Re?ht="N":W&&(Re="AN"),ht=Re===xt?Re:"N";break;case"ES":ht="EN"===(xt=Se>0?Te[Se-1]:"B")&&Se+1<de.length&&"EN"===de[Se+1]?"EN":"N";break;case"ET":if(Se>0&&"EN"===Te[Se-1]){ht="EN";break}if(W){ht="N";break}for(Ye=Se+1,Ne=de.length;Ye<Ne&&"ET"===de[Ye];)Ye++;ht=Ye<Ne&&"EN"===de[Ye]?"EN":"N";break;case"NSM":if(a&&!u){for(Ne=de.length,Ye=Se+1;Ye<Ne&&"NSM"===de[Ye];)Ye++;if(Ye<Ne){var _t=Ae[Se];if(xt=de[Ye],(_t>=1425&&_t<=2303||64286===_t)&&("R"===xt||"AL"===xt)){ht="R";break}}}ht=Se<1||"B"===(xt=de[Se-1])?"N":Te[Se-1];break;case"B":W=!1,r=!0,ht=he;break;case"S":o=!0,ht="N"}return ht},Ve=function(Ae,de,Te){var Se=Ae.split("");return Te&&we(Se,Te,{hiLevel:he}),Se.reverse(),de&&de.reverse(),Se.join("")},we=function(Ae,de,Te){var Se,xt,Re,Ye,Ne,ht=-1,_t=Ae.length,_n=0,X=[],me=he?B:F,_e=[];for(W=!1,r=!1,o=!1,xt=0;xt<_t;xt++)_e[xt]=xe(Ae[xt]);for(Re=0;Re<_t;Re++){if(Ne=_n,X[Re]=ct(Ae,_e,X,Re),Se=240&(_n=me[Ne][U[X[Re]]]),de[Re]=Ye=me[_n&=15][5],Se>0)if(16===Se){for(xt=ht;xt<Re;xt++)de[xt]=1;ht=-1}else ht=-1;if(me[_n][6])-1===ht&&(ht=Re);else if(ht>-1){for(xt=ht;xt<Re;xt++)de[xt]=Ye;ht=-1}"B"===_e[Re]&&(de[Re]=0),Te.hiLevel|=Ye}o&&function(Pe,We,nt){for(var ft=0;ft<nt;ft++)if("S"===Pe[ft]){We[ft]=he;for(var At=ft-1;At>=0&&"WS"===Pe[At];At--)We[At]=he}}(_e,de,_t)},Ft=function(Ae,de,Te,Se,xt){if(!(xt.hiLevel<Ae)){if(1===Ae&&1===he&&!r)return de.reverse(),void(Te&&Te.reverse());for(var Re,Ye,Ne,ht,_t=de.length,_n=0;_n<_t;){if(Se[_n]>=Ae){for(Ne=_n+1;Ne<_t&&Se[Ne]>=Ae;)Ne++;for(ht=_n,Ye=Ne-1;ht<Ye;ht++,Ye--)Re=de[ht],de[ht]=de[Ye],de[Ye]=Re,Te&&(Re=Te[ht],Te[ht]=Te[Ye],Te[Ye]=Re);_n=Ne}_n++}}},Bt=function(Ae,de,Te){var Se=Ae.split(""),xt={hiLevel:he};return Te||(Te=[]),we(Se,Te,xt),function(Re,Ye,Ne){if(0!==Ne.hiLevel&&_)for(var ht,_t=0;_t<Re.length;_t++)1===Ye[_t]&&(ht=Z.indexOf(Re[_t]))>=0&&(Re[_t]=Z[ht+1])}(Se,Te,xt),Ft(2,Se,de,Te,xt),Ft(1,Se,de,Te,xt),Se.join("")};return this.__bidiEngine__.doBidiReorder=function(Ae,de,Te){if(function(xt,Re){if(Re)for(var Ye=0;Ye<xt.length;Ye++)Re[Ye]=Ye;void 0===u&&(u=Ze(xt)),void 0===f&&(f=Ze(xt))}(Ae,de),a||!h||f)if(a&&h&&u^f)he=u?1:0,Ae=Ve(Ae,de,Te);else if(!a&&h&&f)he=u?1:0,Ae=Bt(Ae,de,Te),Ae=Ve(Ae,de);else if(!a||u||h||f){if(a&&!h&&u^f)Ae=Ve(Ae,de),u?(he=0,Ae=Bt(Ae,de,Te)):(he=1,Ae=Bt(Ae,de,Te),Ae=Ve(Ae,de));else if(a&&u&&!h&&f)he=1,Ae=Bt(Ae,de,Te),Ae=Ve(Ae,de);else if(!a&&!h&&u^f){var Se=_;u?(he=1,Ae=Bt(Ae,de,Te),he=0,_=!1,Ae=Bt(Ae,de,Te),_=Se):(he=0,Ae=Bt(Ae,de,Te),Ae=Ve(Ae,de),he=1,_=!1,Ae=Bt(Ae,de,Te),_=Se,Ae=Ve(Ae,de))}}else he=0,Ae=Bt(Ae,de,Te);else he=u?1:0,Ae=Bt(Ae,de,Te);return Ae},this.__bidiEngine__.setOptions=function(Ae){Ae&&(a=Ae.isInputVisual,h=Ae.isOutputVisual,u=Ae.isInputRtl,f=Ae.isOutputRtl,_=Ae.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var r=i.text,o=i.options||{},a=[];if(o.isInputVisual="boolean"!=typeof o.isInputVisual||o.isInputVisual,e.setOptions(o),"[object Array]"===Object.prototype.toString.call(r)){var u=0;for(a=[],u=0;u<r.length;u+=1)"[object Array]"===Object.prototype.toString.call(r[u])?a.push([e.doBidiReorder(r[u][0]),r[u][1],r[u][2]]):a.push([e.doBidiReorder(r[u])]);i.text=a}else i.text=e.doBidiReorder(r);e.setOptions({isInputVisual:!0})}])}(ki),ki.API.TTFFont=function(){function n(t){var e;if(this.rawData=t,e=this.contents=new N0(t),this.contents.pos=4,"ttcf"===e.readString(4))throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new Xpe(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new Upe(this.contents),this.head=new Hpe(this),this.name=new qpe(this),this.cmap=new HK(this),this.toUnicode={},this.hhea=new Vpe(this),this.maxp=new Kpe(this),this.hmtx=new Zpe(this),this.post=new Gpe(this),this.os2=new jpe(this),this.loca=new Jpe(this),this.glyf=new $pe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,i,r,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var a,u,h,f;for(f=[],a=0,u=(h=this.bbox).length;a<u;a++)f.push(Math.round(h[a]*this.scaleFactor));return f}.call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),0!=(32768&(e=r>>16))&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(o=this.familyClass)||2===o||3===o||4===o||5===o||7===o,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return(null!=(e=this.cmap.unicode)?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,i){var r,o,a,u;for(a=0,o=0,u=(t=""+t).length;0<=u?o<u:o>u;o=0<=u?++o:--o)r=t.charCodeAt(o),a+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/e)||0;return a*(e/1e3)},n.prototype.lineHeight=function(t,e){return null==e&&(e=!1),(this.ascender+(e?this.lineGap:0)-this.decender)/1e3*t},n}();var ng,N0=function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(t){var e,i,r;for(r=[],e=0,i=t.length;0<=i?e<i:e>i;e=0<=i?++e:--e)r.push(this.writeByte(t.charCodeAt(e)));return r},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,i,r,o,a,u,h;return t=this.readByte(),e=this.readByte(),i=this.readByte(),r=this.readByte(),o=this.readByte(),a=this.readByte(),u=this.readByte(),h=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^o)+65536*(255^a)+256*(255^u)+(255^h)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*r+16777216*o+65536*a+256*u+h},n.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)e.push(this.readByte());return e},n.prototype.write=function(t){var i,r,o;for(o=[],i=0,r=t.length;i<r;i++)o.push(this.writeByte(t[i]));return o},n}(),Upe=function(){var n;function t(e){var i,r,o;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,o=this.tableCount;0<=o?r<o:r>o;r=0<=o?++r:--r)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(e){var i,r,a,u,h,f,_,C,F,B,U,H;for(H in B=Object.keys(e).length,h=Math.log(2),C=16*Math.floor(Math.log(B)/h),a=Math.floor(C/h),_=16*B-C,(r=new N0).writeInt(this.scalarType),r.writeShort(B),r.writeShort(C),r.writeShort(a),r.writeShort(_),f=r.pos+16*B,u=null,U=[],e)for(F=e[H],r.writeString(H),r.writeInt(n(F)),r.writeInt(f),r.writeInt(F.length),U=U.concat(F),"head"===H&&(u=f),f+=F.length;f%4;)U.push(0),f++;return r.write(U),i=2981146554-n(r.data),r.pos=u+8,r.writeUInt32(i),r.data},n=function(e){var i,r,o,a;for(e=VK.call(e);e.length%4;)e.push(0);for(o=new N0(e),r=0,i=0,a=e.length;i<a;i=i+=4)r+=o.readUInt32();return 4294967295&r},t}(),Qpe={}.hasOwnProperty,qm=function(n,t){for(var e in t)Qpe.call(t,e)&&(n[e]=t[e]);function i(){this.constructor=n}return i.prototype=t.prototype,n.prototype=new i,n.__super__=t.prototype,n};ng=function(){function n(t){var e;this.file=t,this.exists=!!(e=this.file.directory.tables[this.tag]),e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var Hpe=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return qm(t,ng),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var i;return(i=new N0).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(e),i.writeShort(this.glyphDataFormat),i.data},t}(),QK=function(){function n(t,e){var i,r,o,a,u,h,f,_,C,F,B,U,H,Z,q,W,he;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),C=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=t.readByte();break;case 4:for(B=t.readUInt16(),F=B/2,t.pos+=6,o=function(){var xe,Ze;for(Ze=[],h=xe=0;0<=F?xe<F:xe>F;h=0<=F?++xe:--xe)Ze.push(t.readUInt16());return Ze}(),t.pos+=2,H=function(){var xe,Ze;for(Ze=[],h=xe=0;0<=F?xe<F:xe>F;h=0<=F?++xe:--xe)Ze.push(t.readUInt16());return Ze}(),f=function(){var xe,Ze;for(Ze=[],h=xe=0;0<=F?xe<F:xe>F;h=0<=F?++xe:--xe)Ze.push(t.readUInt16());return Ze}(),_=function(){var xe,Ze;for(Ze=[],h=xe=0;0<=F?xe<F:xe>F;h=0<=F?++xe:--xe)Ze.push(t.readUInt16());return Ze}(),r=(this.length-t.pos+this.offset)/2,u=function(){var xe,Ze;for(Ze=[],h=xe=0;0<=r?xe<r:xe>r;h=0<=r?++xe:--xe)Ze.push(t.readUInt16());return Ze}(),h=q=0,he=o.length;q<he;h=++q)for(Z=o[h],i=W=U=H[h];U<=Z?W<=Z:W>=Z;i=U<=Z?++W:--W)0===_[h]?a=i+f[h]:0!==(a=u[_[h]/2+(i-U)-(F-h)]||0)&&(a+=f[h]),this.codeMap[i]=65535&a}t.pos=C}return n.encode=function(t,e){var i,r,o,a,u,h,f,_,C,F,B,U,H,Z,q,W,he,Ze,ct,Ve,we,Ft,Bt,Ae,de,Te,Se,xt,Re,Ye,Ne,ht,_t,_n,X,me,_e,Pe,We,nt,ft,At,pn,un,qn;switch(Se=new N0,a=Object.keys(t).sort(function(Xn,Pi){return Xn-Pi}),e){case"macroman":for(H=0,Z=function(){var Xn=[];for(U=0;U<256;++U)Xn.push(0);return Xn}(),W={0:0},o={},xt=0,ht=a.length;xt<ht;xt++)null==W[At=t[r=a[xt]]]&&(W[At]=++H),o[r]={old:t[r],new:W[t[r]]},Z[r]=W[t[r]];return Se.writeUInt16(1),Se.writeUInt16(0),Se.writeUInt32(12),Se.writeUInt16(0),Se.writeUInt16(262),Se.writeUInt16(0),Se.write(Z),{charMap:o,subtable:Se.data,maxGlyphID:H+1};case"unicode":for(de=[],C=[],he=0,W={},i={},q=f=null,Re=0,_t=a.length;Re<_t;Re++)null==W[Ze=t[r=a[Re]]]&&(W[Ze]=++he),i[r]={old:Ze,new:W[Ze]},u=W[Ze]-r,null!=q&&u===f||(q&&C.push(q),de.push(r),f=u),q=r;for(q&&C.push(q),C.push(65535),de.push(65535),Bt=2*(Ft=de.length),we=2*Math.pow(Math.log(Ft)/Math.LN2,2),F=Math.log(we/2)/Math.LN2,Ve=2*Ft-we,h=[],ct=[],B=[],U=Ye=0,_n=de.length;Ye<_n;U=++Ye){if(_=C[U],65535===(Ae=de[U])){h.push(0),ct.push(0);break}if(Ae-(Te=i[Ae].new)>=32768)for(h.push(0),ct.push(2*(B.length+Ft-U)),r=Ne=Ae;Ae<=_?Ne<=_:Ne>=_;r=Ae<=_?++Ne:--Ne)B.push(i[r].new);else h.push(Te-Ae),ct.push(0)}for(Se.writeUInt16(3),Se.writeUInt16(1),Se.writeUInt32(12),Se.writeUInt16(4),Se.writeUInt16(16+8*Ft+2*B.length),Se.writeUInt16(0),Se.writeUInt16(Bt),Se.writeUInt16(we),Se.writeUInt16(F),Se.writeUInt16(Ve),nt=0,X=C.length;nt<X;nt++)Se.writeUInt16(r=C[nt]);for(Se.writeUInt16(0),ft=0,me=de.length;ft<me;ft++)Se.writeUInt16(r=de[ft]);for(pn=0,_e=h.length;pn<_e;pn++)Se.writeUInt16(u=h[pn]);for(un=0,Pe=ct.length;un<Pe;un++)Se.writeUInt16(ct[un]);for(qn=0,We=B.length;qn<We;qn++)Se.writeUInt16(H=B[qn]);return{charMap:i,subtable:Se.data,maxGlyphID:he+1}}},n}(),HK=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return qm(t,ng),t.prototype.tag="cmap",t.prototype.parse=function(e){var i,r,o;for(e.pos=this.offset,this.version=e.readUInt16(),o=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=o?r<o:r>o;r=0<=o?++r:--r)i=new QK(e,this.offset),this.tables.push(i),i.isUnicode&&null==this.unicode&&(this.unicode=i);return!0},t.encode=function(e,i){var r,o;return null==i&&(i="macroman"),r=QK.encode(e,i),(o=new N0).writeUInt16(0),o.writeUInt16(1),r.table=o.data.concat(r.subtable),r},t}(),Vpe=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return qm(t,ng),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),jpe=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return qm(t,ng),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var i,r;for(r=[],i=0;i<10;++i)r.push(e.readByte());return r}(),this.charRange=function(){var i,r;for(r=[],i=0;i<4;++i)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var i,r;for(r=[],i=0;i<2;i=++i)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),Gpe=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return qm(t,ng),t.prototype.tag="post",t.prototype.parse=function(e){var i,r,o;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],o=[];e.pos<this.offset+this.length;)i=e.readByte(),o.push(this.names.push(e.readString(i)));return o;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=function(){var u,h,f;for(f=[],a=u=0,h=this.file.maxp.numGlyphs;0<=h?u<h:u>h;a=0<=h?++u:--u)f.push(e.readUInt32());return f}.call(this)}},t}(),zpe=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},qpe=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return qm(t,ng),t.prototype.tag="name",t.prototype.parse=function(e){var i,r,o,a,u,h,f,_,C,F,B;for(e.pos=this.offset,e.readShort(),i=e.readShort(),h=e.readShort(),r=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(f={},a=C=0,F=r.length;C<F;a=++C)e.pos=(o=r[a]).offset,_=e.readString(o.length),u=new zpe(_,o),null==f[B=o.nameID]&&(f[B]=[]),f[o.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},t}(),Kpe=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return qm(t,ng),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),Zpe=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return qm(t,ng),t.prototype.tag="hmtx",t.prototype.parse=function(e){var i,r,o,u,h,f;for(e.pos=this.offset,this.metrics=[],i=0,h=this.file.hhea.numberOfMetrics;0<=h?i<h:i>h;i=0<=h?++i:--i)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var _,C;for(C=[],i=_=0;0<=o?_<o:_>o;i=0<=o?++_:--_)C.push(e.readInt16());return C}(),this.widths=function(){var _,C,F,B;for(B=[],_=0,C=(F=this.metrics).length;_<C;_++)B.push(F[_].advance);return B}.call(this),r=this.widths[this.widths.length-1],f=[],i=u=0;0<=o?u<o:u>o;i=0<=o?++u:--u)f.push(this.widths.push(r));return f},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),VK=[].slice,$pe=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return qm(t,ng),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var i,r,o,a,u,h,f,_,C,F;return e in this.cache?this.cache[e]:(i=this.file.contents,r=(a=this.file.loca).indexOf(e),0===(o=a.lengthOf(e))?this.cache[e]=null:(i.pos=this.offset+r,u=(h=new N0(i.read(o))).readShort(),_=h.readShort(),F=h.readShort(),f=h.readShort(),C=h.readShort(),this.cache[e]=-1===u?new Wpe(h,_,F,f,C):new Ype(h,u,_,F,f,C),this.cache[e]))},t.prototype.encode=function(e,i,r){var o,a,u,h,f;for(u=[],a=[],h=0,f=i.length;h<f;h++)o=e[i[h]],a.push(u.length),o&&(u=u.concat(o.encode(r)));return a.push(u.length),{table:u,offsets:a}},t}(),Ype=function(){function n(t,e,i,r,o,a){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=r,this.xMax=o,this.yMax=a,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),Wpe=function(){function n(t,e,i,r,o){var a,u;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=r,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;u=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&u;)a.pos+=1&u?4:2,128&u?a.pos+=8:64&u?a.pos+=4:8&u&&(a.pos+=2)}return n.prototype.encode=function(){var t,e,i;for(e=new N0(VK.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)e.pos=this.glyphOffsets[t];return e.data},n}(),Jpe=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return qm(t,ng),t.prototype.tag="loca",t.prototype.parse=function(e){var r;return e.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var o,a;for(a=[],r=0,o=this.length;r<o;r+=2)a.push(2*e.readUInt16());return a}.call(this):function(){var o,a;for(a=[],r=0,o=this.length;r<o;r+=4)a.push(e.readUInt32());return a}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,i){for(var r=new Uint32Array(this.offsets.length),o=0,a=0,u=0;u<r.length;++u)if(r[u]=o,a<i.length&&i[a]==u){++a,r[u]=o;var f=this.offsets[u+1]-this.offsets[u];f>0&&(o+=f)}for(var _=new Array(4*r.length),C=0;C<r.length;++C)_[4*C+3]=255&r[C],_[4*C+2]=(65280&r[C])>>8,_[4*C+1]=(16711680&r[C])>>16,_[4*C]=(4278190080&r[C])>>24;return _},t}(),Xpe=function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,r,o;for(e in r=this.font.cmap.tables[0].codeMap,t={},o=this.subset)t[e]=r[o[e]];return t},n.prototype.glyphsFor=function(t){var e,i,r,o,a,u,h;for(r={},a=0,u=t.length;a<u;a++)r[o=t[a]]=this.font.glyf.glyphFor(o);for(o in e=[],r)null!=(i=r[o])&&i.compound&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(o in h=this.glyphsFor(e))r[o]=i=h[o];return r},n.prototype.encode=function(t,e){var i,r,o,a,h,f,_,C,F,B,U,H,Z,q;for(r in i=HK.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),B={0:0},q=i.charMap)B[(h=q[r]).old]=h.new;for(U in F=i.maxGlyphID,a)U in B||(B[U]=F++);return _=function(W){var he,xe;for(he in xe={},W)xe[W[he]]=he;return xe}(B),C=Object.keys(_).sort(function(W,he){return W-he}),H=function(){var W,he,xe;for(xe=[],W=0,he=C.length;W<he;W++)xe.push(_[C[W]]);return xe}(),o=this.font.glyf.encode(a,H,B),f=this.font.loca.encode(o.offsets,H),Z={cmap:this.font.cmap.raw(),glyf:o.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(Z["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Z)},n}();ki.API.PDFObject=function(){var n;function t(){}return n=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},t.convert=function(e){var r,o;if(Array.isArray(e))return"["+function(){var u,h,f;for(f=[],u=0,h=e.length;u<h;u++)f.push(t.convert(e[u]));return f}().join(" ")+"]";if("string"==typeof e)return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(e)){for(r in o=["<<"],e)o.push("/"+r+" "+t.convert(e[r]));return o.push(">>"),o.join("\n")}return""+e},t}();const ege=ki;var tge=re(4159),jK=re.n(tge);function nge(n,t){1&n&&(s.TgZ(0,"span",10),s._uU(1," collections_bookmark "),s.qZA())}function ige(n,t){1&n&&(s.TgZ(0,"span",10),s._uU(1," music_note "),s.qZA())}function rge(n,t){1&n&&(s.TgZ(0,"span",10),s._uU(1," receipt_long "),s.qZA())}function sge(n,t){1&n&&(s.TgZ(0,"span",10),s._uU(1," school "),s.qZA())}function oge(n,t){1&n&&(s.TgZ(0,"span",10),s._uU(1," auto_fix "),s.qZA())}function age(n,t){1&n&&(s.TgZ(0,"span",10),s._uU(1," swords "),s.qZA())}function lge(n,t){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,nge,2,0,"span",20),s.YNc(2,ige,2,0,"span",20),s.YNc(3,rge,2,0,"span",20),s.YNc(4,sge,2,0,"span",20),s.YNc(5,oge,2,0,"span",20),s.YNc(6,age,2,0,"span",20),s.TgZ(7,"span",7),s._uU(8),s.qZA(),s._uU(9),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf",4==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",5==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",0==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",3==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",2==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",1==e.idTipologiaSkill),s.xp6(2),s.hij("",e.nome," "),s.xp6(1),s.Oqu(e.value)}}function cge(n,t){1&n&&(s.TgZ(0,"div",21)(1,"b"),s._uU(2,"Scarica il pdf per avere tutte le info aggiuntive"),s.qZA()())}function uge(n,t){if(1&n&&(s.TgZ(0,"li"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e," ")}}function dge(n,t){if(1&n&&(s.TgZ(0,"div")(1,"b",24),s._uU(2,"Spells:"),s.qZA(),s.TgZ(3,"ul"),s.YNc(4,uge,2,1,"li",12),s.qZA()()),2&n){const e=s.oxw(2);s.xp6(4),s.Q6J("ngForOf",null==e.spellsChierico?null:e.spellsChierico.spell)}}function hge(n,t){if(1&n&&(s.TgZ(0,"li"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e," ")}}function Age(n,t){if(1&n&&(s.TgZ(0,"div")(1,"b",25),s._uU(2,"Aura:"),s.qZA(),s._uU(3),s._UZ(4,"br")(5,"br"),s.TgZ(6,"b",26),s._uU(7,"Spells:"),s.qZA(),s.TgZ(8,"ul"),s.YNc(9,hge,2,1,"li",12),s.qZA()()),2&n){const e=s.oxw(2);s.xp6(3),s.hij(" ",e.spellsPaladino.aura,""),s.xp6(6),s.Q6J("ngForOf",null==e.spellsPaladino?null:e.spellsPaladino.spell)}}function fge(n,t){if(1&n&&(s.TgZ(0,"div",22),s._UZ(1,"br"),s.TgZ(2,"div")(3,"div",6),s._uU(4,"Info aggiuntive chierico/paladino"),s.qZA(),s._UZ(5,"br")(6,"br"),s.YNc(7,dge,5,1,"div",23),s.YNc(8,Age,10,2,"div",23),s.qZA()()),2&n){const e=s.oxw();s.xp6(7),s.Q6J("ngIf","Chierico"===e.schedaPg.classe.nome),s.xp6(1),s.Q6J("ngIf","Paladino"===e.schedaPg.classe.nome)}}function pge(n,t){if(1&n&&(s.TgZ(0,"div")(1,"b"),s._uU(2,"Info:"),s.qZA(),s.TgZ(3,"span",32),s._uU(4),s.qZA(),s._UZ(5,"br")(6,"br"),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(4),s.hij(" ",e.info,"")}}function gge(n,t){if(1&n&&(s.TgZ(0,"ul")(1,"li",33),s._uU(2),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.hij(" ",e,"")}}function mge(n,t){if(1&n&&(s.TgZ(0,"ul")(1,"li",31)(2,"b"),s._uU(3,"Skill:"),s.qZA(),s._uU(4),s.qZA(),s._UZ(5,"br"),s.YNc(6,pge,7,1,"div",23),s._UZ(7,"br"),s.TgZ(8,"b"),s._uU(9,"Procedura:"),s.qZA(),s._UZ(10,"br"),s.YNc(11,gge,3,1,"ul",12),s._UZ(12,"br"),s.qZA()),2&n){const e=t.$implicit;s.xp6(4),s.hij(" ",e.nome,""),s.xp6(2),s.Q6J("ngIf",e.info.length>0),s.xp6(5),s.Q6J("ngForOf",e.procedura)}}function _ge(n,t){if(1&n&&(s.TgZ(0,"div")(1,"div",28),s._uU(2,"Info Skills"),s.qZA(),s._UZ(3,"br")(4,"br"),s.TgZ(5,"div",29)(6,"b"),s._uU(7,"Classe: "),s.qZA(),s.TgZ(8,"b",30),s._uU(9),s.qZA()(),s.YNc(10,mge,13,3,"ul",12),s.qZA()),2&n){const e=s.oxw(2);s.xp6(9),s.Oqu(e.infoSkills[0].classe),s.xp6(1),s.Q6J("ngForOf",e.infoSkills)}}function yge(n,t){if(1&n&&(s.TgZ(0,"div",27),s._UZ(1,"br"),s.YNc(2,_ge,11,2,"div",23),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngIf",e.infoSkills.length>0)}}function vge(n,t){if(1&n&&(s.TgZ(0,"li"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e," ")}}function wge(n,t){if(1&n&&(s.TgZ(0,"div")(1,"b",36),s._uU(2,"Spells:"),s.qZA(),s.TgZ(3,"ul"),s.YNc(4,vge,2,1,"li",12),s.qZA()()),2&n){const e=s.oxw(2);s.xp6(4),s.Q6J("ngForOf",null==e.spellsChierico?null:e.spellsChierico.spell)}}function bge(n,t){if(1&n&&(s.TgZ(0,"li"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e," ")}}function Cge(n,t){if(1&n&&(s.TgZ(0,"div")(1,"b"),s._uU(2,"Aura:"),s.qZA(),s._uU(3),s._UZ(4,"br")(5,"br"),s.TgZ(6,"b",36),s._uU(7,"Spells:"),s.qZA(),s.TgZ(8,"ul"),s.YNc(9,bge,2,1,"li",12),s.qZA()()),2&n){const e=s.oxw(2);s.xp6(3),s.hij(" ",e.spellsPaladino.aura,""),s.xp6(6),s.Q6J("ngForOf",null==e.spellsPaladino?null:e.spellsPaladino.spell)}}function xge(n,t){if(1&n&&(s.TgZ(0,"div",34),s._UZ(1,"br"),s.TgZ(2,"div")(3,"div",35),s._uU(4,"Info aggiuntive chierico/paladino"),s.qZA(),s._UZ(5,"br")(6,"br"),s.YNc(7,wge,5,1,"div",23),s.YNc(8,Cge,10,2,"div",23),s.qZA()()),2&n){const e=s.oxw();s.xp6(7),s.Q6J("ngIf","Chierico"===e.schedaPg.classe.nome),s.xp6(1),s.Q6J("ngIf","Paladino"===e.schedaPg.classe.nome)}}function Ege(n,t){if(1&n&&(s.TgZ(0,"div")(1,"b"),s._uU(2,"Info:"),s.qZA(),s.TgZ(3,"span",32),s._uU(4),s.qZA(),s._UZ(5,"br")(6,"br"),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(4),s.hij(" ",e.info,"")}}function Sge(n,t){if(1&n&&(s.TgZ(0,"ul")(1,"li"),s._uU(2),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.hij(" ",e,"")}}function Ige(n,t){if(1&n&&(s.TgZ(0,"ul")(1,"li")(2,"b"),s._uU(3,"Skill:"),s.qZA(),s._uU(4),s.qZA(),s._UZ(5,"br"),s.YNc(6,Ege,7,1,"div",23),s.TgZ(7,"b"),s._uU(8,"Procedura:"),s.qZA(),s._UZ(9,"br"),s.YNc(10,Sge,3,1,"ul",12),s._UZ(11,"br"),s.qZA()),2&n){const e=t.$implicit;s.xp6(4),s.hij(" ",e.nome,""),s.xp6(2),s.Q6J("ngIf",e.info.length>0),s.xp6(4),s.Q6J("ngForOf",e.procedura)}}function Dge(n,t){if(1&n&&(s.TgZ(0,"div")(1,"div",35),s._uU(2,"Info Skills"),s.qZA(),s._UZ(3,"br")(4,"br"),s.TgZ(5,"div")(6,"b"),s._uU(7,"Classe: "),s.qZA(),s.TgZ(8,"b",30),s._uU(9),s.qZA()(),s.YNc(10,Ige,12,3,"ul",12),s.qZA()),2&n){const e=s.oxw(2);s.xp6(9),s.Oqu(e.infoSkills[0].classe),s.xp6(1),s.Q6J("ngForOf",e.infoSkills)}}function Tge(n,t){if(1&n&&(s.TgZ(0,"div",37),s._UZ(1,"br"),s.YNc(2,Dge,11,2,"div",23),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngIf",e.infoSkills.length>0)}}let Bge=(()=>{class n{constructor(e,i,r,o,a,u,h){this.dialogRef=e,this.cdr=i,this.renderer=r,this.service=o,this.data=a,this.userService=u,this._utils=h,this.schedaPg=new Sx,this.guid="",this.spellsPaladino=new AU,this.spellsChierico=new fU,this.infoSkills=new Array,this.schedaPg=a.pg,this.guid=a.guid,this.infoSkills=a.infoSkills}ngOnInit(){this.schedaPg.skills=this.schedaPg.skills.sort(e=>e.idTipologiaSkill),this.getInfoAggiuntive(),this.userService.openSnackBar("infoAggiuntive","bottom","center")}getInfoAggiuntive(){switch(this.schedaPg.classe.nome){case"Paladino":this.service.getSpellPaladinoFromDivinita(this.schedaPg.religione.nome).subscribe(e=>this.spellsPaladino=e[0]);break;case"Chierico":this.service.getSpellChiericoFromDivinita(this.schedaPg.religione.nome).subscribe(e=>this.spellsChierico=e[0])}}exportAsPDF(){let e=document.getElementById("MyPdf"),i=(this.spellsChierico.spell.length>0||this.spellsPaladino.spell.length>0)&&this.isRotinrim()?document.getElementById("MyPdf2"):null,r=this.infoSkills.length>0&&this.isRotinrim()?document.getElementById("MyPdf3"):null;null!=e&&jK()(e).then(o=>{const a=o.toDataURL("image/png");let u=new ege("p","cm","a4");u.addImage(a,"PNG",5.5,1,11,15.5),null!=i&&null==r?this.canvas(i,u).subscribe(h=>{u=h,this.pdfSave(u)}):null!=r&&null==i?this.canvas(r,u).subscribe(h=>{u=h,this.pdfSave(u)}):r&&i?this.canvas(i,u).subscribe(h=>{u=h,this.canvas(r,u).subscribe(f=>{u=f,this.pdfSave(u)})}):this.pdfSave(u)})}canvas(e,i){let r=new nn.x;return jK()(e).then(o=>{i.addPage();const a=i.getImageProperties(o),u=i.internal.pageSize.getWidth(),h=a.height*u/a.width,f=o.toDataURL("image/png");i.addImage(f,"PNG",.1,.5,u-1.1,h),r.next(i)}),r.asObservable()}pdfSave(e){e.save("RT "+this.schedaPg.nome+" schedaPersonaggio.pdf")}isSmartphone(){return this._utils.isSmartphone()}isRotinrim(){return this.userService.isRotinrim}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(S0),s.Y36(s.sBO),s.Y36(s.Qsj),s.Y36(E0),s.Y36(Qm),s.Y36(Cf),s.Y36(vf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-finish-wizard"]],decls:92,vars:22,consts:[["fxLayoutAlign","","fxLayout","column",1,"external"],["fxFlex","2","mat-dialog-title","",1,"title"],["fxFlex",""],["fxLayout","row wrap","fxLayoutAlign","space-around  stretch","fxFlex","100","id","MyPdf"],["fxLayout","column","fxFlex","40",1,"generic","yBar"],["fxFlex","25"],[1,"subtitle"],[1,"nome"],["fxFlex","15"],["fxFlex","30",1,"stats"],[1,"material-symbols-outlined"],["fxLayout","column","fxFlex","60",1,"generic"],[4,"ngFor","ngForOf"],["fxFlex","10","style","text-align:center",4,"ngIf"],["fxLayoutAlign","space-around center","fxFlex","10"],["mat-raised-button","","color","primary","matTooltip","Download pdf",3,"click"],["id","MyPdf2","style","font-size:20px; position: absolute; bottom:1000px; width: 50%;",4,"ngIf"],["id","MyPdf3","style","font-size:25px; position: absolute; bottom:900px;",4,"ngIf"],["id","MyPdf2","style"," position: absolute; bottom:1000px; width:200%; height:1000px",4,"ngIf"],["id","MyPdf3","style"," position: absolute; bottom:2000px; width:200%; height:2000px",4,"ngIf"],["class","material-symbols-outlined",4,"ngIf"],["fxFlex","10",2,"text-align","center"],["id","MyPdf2",2,"font-size","20px","position","absolute","bottom","1000px","width","50%"],[4,"ngIf"],[2,"text-align","center","font-size","17px"],[1,"classe"],[1,"classe",2,"text-align","center","font-size","17px"],["id","MyPdf3",2,"font-size","25px","position","absolute","bottom","900px"],[1,"subtitle",2,"font-size","30px"],[2,"font-size","27px"],[1,"blue"],[1,"li","skill"],[2,"line-height","1"],[1,"li"],["id","MyPdf2",2,"position","absolute","bottom","1000px","width","200%","height","1000px"],[1,"titleSmartphone"],[2,"text-align","center"],["id","MyPdf3",2,"position","absolute","bottom","2000px","width","200%","height","2000px"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s._uU(2,"Scheda Personaggio "),s._UZ(3,"mat-divider"),s.qZA(),s.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6),s._uU(9,"Info generiche "),s._UZ(10,"br"),s.qZA(),s.TgZ(11,"div")(12,"span",7),s._uU(13,"Nome: "),s.qZA(),s._uU(14),s.qZA(),s.TgZ(15,"div")(16,"span",7),s._uU(17,"Razza: "),s.qZA(),s._uU(18),s.qZA(),s.TgZ(19,"div")(20,"span",7),s._uU(21,"Classe: "),s.qZA(),s._uU(22),s.qZA(),s.TgZ(23,"div")(24,"span",7),s._uU(25,"Divinit\xe0: "),s.qZA(),s._uU(26),s.qZA()(),s.TgZ(27,"div",8)(28,"div",6),s._uU(29,"Guid"),s.qZA(),s._uU(30),s.qZA(),s.TgZ(31,"div",9)(32,"div",6),s._uU(33,"Stats "),s._UZ(34,"br"),s.qZA(),s.TgZ(35,"div")(36,"span",10),s._uU(37," fitness_center "),s.qZA(),s.TgZ(38,"span",7),s._uU(39,"Forza: "),s.qZA(),s._uU(40),s.qZA(),s.TgZ(41,"div")(42,"span",10),s._uU(43," sprint "),s.qZA(),s.TgZ(44,"span",7),s._uU(45,"Destrezza: "),s.qZA(),s._uU(46),s.qZA(),s.TgZ(47,"div")(48,"span",10),s._uU(49," psychology "),s.qZA(),s.TgZ(50,"span",7),s._uU(51,"Intelligenza: "),s.qZA(),s._uU(52),s.qZA()(),s.TgZ(53,"div",9)(54,"div",6),s._uU(55,"Info "),s._UZ(56,"br"),s.qZA(),s.TgZ(57,"div")(58,"span",10),s._uU(59," favorite "),s.qZA(),s.TgZ(60,"span",7),s._uU(61,"HP: "),s.qZA(),s._uU(62,"?"),s.qZA(),s.TgZ(63,"div")(64,"span",10),s._uU(65," bolt "),s.qZA(),s.TgZ(66,"span",7),s._uU(67,"Stamina: "),s.qZA(),s._uU(68),s.ALo(69,"number"),s.qZA(),s.TgZ(70,"div")(71,"span",10),s._uU(72," backpack "),s.qZA(),s.TgZ(73,"span",7),s._uU(74,"Stone: "),s.qZA(),s._uU(75),s.ALo(76,"number"),s.qZA()()(),s.TgZ(77,"div",11)(78,"div",2)(79,"div",6),s._uU(80,"Skills"),s.qZA(),s.YNc(81,lge,10,8,"div",12),s.qZA(),s.YNc(82,cge,3,0,"div",13),s.qZA()()(),s._UZ(83,"mat-divider"),s.TgZ(84,"div",14)(85,"button",15),s.NdJ("click",function(){return i.exportAsPDF()}),s.TgZ(86,"span",10),s._uU(87," download "),s.qZA()()()(),s.YNc(88,fge,9,2,"div",16),s.YNc(89,yge,3,1,"div",17),s.YNc(90,xge,9,2,"div",18),s.YNc(91,Tge,3,1,"div",19)),2&e&&(s.xp6(14),s.Oqu(i.schedaPg.nome),s.xp6(4),s.Oqu(i.schedaPg.razza.nome),s.xp6(4),s.Oqu(i.schedaPg.classe.nome),s.xp6(4),s.Oqu(i.schedaPg.religione.nome),s.xp6(4),s.hij(" ",i.guid," "),s.xp6(10),s.Oqu(i.schedaPg.stats.forza),s.xp6(6),s.Oqu(i.schedaPg.stats.destrezza),s.xp6(6),s.Oqu(i.schedaPg.stats.intelligenza),s.xp6(16),s.Oqu(s.xi3(69,16,.75*i.schedaPg.stats.destrezza+.25*i.schedaPg.stats.forza,"1.0-0")),s.xp6(7),s.Oqu(s.xi3(76,19,40+3.5*i.schedaPg.stats.forza,"1.0-0")),s.xp6(6),s.Q6J("ngForOf",i.schedaPg.skills),s.xp6(1),s.Q6J("ngIf",!i.isSmartphone()&&i.isRotinrim()),s.xp6(6),s.Q6J("ngIf",!i.isSmartphone()),s.xp6(1),s.Q6J("ngIf",!i.isSmartphone()),s.xp6(1),s.Q6J("ngIf",i.isSmartphone()),s.xp6(1),s.Q6J("ngIf",i.isSmartphone()))},dependencies:[ds,Li,AT,Ah,ju,_A,ac,I0,cz,Qf],styles:[".generic[_ngcontent-%COMP%]{overflow:auto}.yBar[_ngcontent-%COMP%]{border-right:2px solid #004a9f}.stats[_ngcontent-%COMP%]{height:100%}.external[_ngcontent-%COMP%]{height:calc(100vh - 100px);width:calc(100vh - 300px);border:3px solid #004a9f;border-radius:10px;margin:0;padding:0;overflow-y:auto}.subtitle[_ngcontent-%COMP%]{color:#004a9f;font-weight:700;font-family:Playfair Display,serif;text-align:center;width:100%;padding-bottom:3%}mat-divider[_ngcontent-%COMP%]{border-top-color:#004a9f;border-top-width:2px}.nome[_ngcontent-%COMP%]{font-size:medium;font-weight:700;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;color:#000;padding:2%}.title[_ngcontent-%COMP%]{text-align:center;color:#000;font-family:Playfair Display,serif;font-weight:700}.classe[_ngcontent-%COMP%]{font-size:15px}.skill[_ngcontent-%COMP%]{font-size:30px}li[_ngcontent-%COMP%]{padding:10px;line-height:1}.titleSmartphone[_ngcontent-%COMP%]{font-size:15px;color:#004a9f;text-align:center;font-weight:700}element.style[_ngcontent-%COMP%]{overflow:unset}"]}),n})();function Fge(n,t){if(1&n&&(s.TgZ(0,"li"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e," ")}}let Mge=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.data=i,this.service=r,this.spellChierico=new fU,this.religione="",null!=i&&""!==i&&(this.religione=i)}ngOnInit(){this.getSpells()}getSpells(){this.spellChierico.religione="",null!=this.religione&&""!=this.religione&&this.service.getSpellChiericoFromDivinita(this.religione).subscribe(e=>{e.length>0&&(this.spellChierico=e[0])})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(S0),s.Y36(Qm),s.Y36(E0))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-modale-chierico"]],decls:14,vars:2,consts:[["fxFlex","100","fxLayout","column",1,"home"],[1,"title"],[1,"blue"],[1,"li"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-card",0)(1,"div",1)(2,"b",2),s._uU(3,"Info Spell Chierico"),s.qZA()(),s.TgZ(4,"ul")(5,"li",3)(6,"b"),s._uU(7,"Religione:"),s.qZA(),s._uU(8),s.qZA(),s._UZ(9,"br"),s.TgZ(10,"b"),s._uU(11,"Spells:"),s.qZA(),s.TgZ(12,"ul"),s.YNc(13,Fge,2,1,"li",4),s.qZA()()()),2&e&&(s.xp6(8),s.hij(" ",i.spellChierico.religione,""),s.xp6(5),s.Q6J("ngForOf",null==i.spellChierico?null:i.spellChierico.spell))},dependencies:[ds,ju,ac,Ey],styles:["mat-card[_ngcontent-%COMP%]{border:2px solid #004a9f;border-radius:3px;margin:3%}mat-card-title[_ngcontent-%COMP%]{color:#004a9f}.blue[_ngcontent-%COMP%]{color:#004a9f}.title[_ngcontent-%COMP%]{font-size:20px}"]}),n})();function kge(n,t){if(1&n&&(s.TgZ(0,"div")(1,"b"),s._uU(2,"Info:"),s.qZA(),s._uU(3),s._UZ(4,"br")(5,"br"),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(3),s.hij(" ",e.info," ")}}function Rge(n,t){if(1&n&&(s.TgZ(0,"ul")(1,"li",4),s._uU(2),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.hij(" ",e,"")}}function Oge(n,t){if(1&n&&(s.TgZ(0,"ul")(1,"li",4)(2,"b"),s._uU(3,"Skill:"),s.qZA(),s._uU(4),s.qZA(),s._UZ(5,"br"),s.YNc(6,kge,6,1,"div",5),s.TgZ(7,"b"),s._uU(8,"Procedura:"),s.qZA(),s.YNc(9,Rge,3,1,"ul",3),s._UZ(10,"br")(11,"mat-divider"),s.qZA()),2&n){const e=t.$implicit;s.xp6(4),s.hij(" ",e.nome,""),s.xp6(2),s.Q6J("ngIf",e.info.length>0),s.xp6(3),s.Q6J("ngForOf",e.procedura)}}let Lge=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i,this.infoSkills=new Array,this.infoSkills=i}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(S0),s.Y36(Qm))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-info-skills"]],decls:7,vars:2,consts:[["fxFlex","","fxLayout","column",1,"home"],[1,"title"],[1,"blue"],[4,"ngFor","ngForOf"],[1,"li"],[4,"ngIf"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-card",0)(1,"div",1)(2,"b"),s._uU(3,"Classe: "),s.qZA(),s.TgZ(4,"b",2),s._uU(5),s.qZA()(),s.YNc(6,Oge,12,3,"ul",3),s.qZA()),2&e&&(s.xp6(5),s.Oqu(i.infoSkills[0].classe),s.xp6(1),s.Q6J("ngForOf",i.infoSkills))},dependencies:[ds,Li,AT,ju,ac,Ey],styles:["mat-card[_ngcontent-%COMP%]{border:2px solid #004a9f;border-radius:3px;margin:3%}mat-card-title[_ngcontent-%COMP%]{color:#004a9f}.blue[_ngcontent-%COMP%]{color:#004a9f}.title[_ngcontent-%COMP%]{font-size:20px}"]}),n})(),Nge=0;const q3=new s.OlP("CdkAccordion");let Pge=(()=>{class n{constructor(){this._stateChanges=new nn.x,this._openCloseAllActions=new nn.x,this.id="cdk-accordion-"+Nge++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=Ci(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[s._Bn([{provide:q3,useExisting:n}]),s.TTD]}),n})(),Uge=0,Qge=(()=>{class n{constructor(e,i,r){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=Po.w0.EMPTY,this.closed=new s.vpe,this.opened=new s.vpe,this.destroyed=new s.vpe,this.expandedChange=new s.vpe,this.id="cdk-accordion-child-"+Uge++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((o,a)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===a&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(e){e=Ci(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=Ci(e)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(q3,12),s.Y36(s.sBO),s.Y36(aq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[s._Bn([{provide:q3,useValue:void 0}])]}),n})(),Hge=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Vge=["body"];function jge(n,t){}const Gge=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],zge=["mat-expansion-panel-header","*","mat-action-row"];function qge(n,t){if(1&n&&s._UZ(0,"span",2),2&n){const e=s.oxw();s.Q6J("@indicatorRotate",e._getExpandedState())}}const Kge=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Zge=["mat-panel-title","mat-panel-description","*"],K3=new s.OlP("MAT_ACCORDION"),GK="225ms cubic-bezier(0.4,0.0,0.2,1)",zK={indicatorRotate:Tc("indicatorRotate",[Hr("collapsed, void",ui({transform:"rotate(0deg)"})),Hr("expanded",ui({transform:"rotate(180deg)"})),Ws("expanded <=> collapsed, void => collapsed",To(GK))]),bodyExpansion:Tc("bodyExpansion",[Hr("collapsed, void",ui({height:"0px",visibility:"hidden"})),Hr("expanded",ui({height:"*",visibility:"visible"})),Ws("expanded <=> collapsed, void => collapsed",To(GK))])},qK=new s.OlP("MAT_EXPANSION_PANEL");let $ge=(()=>{class n{constructor(e,i){this._template=e,this._expansionPanel=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(qK,8))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),Yge=0;const KK=new s.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let ZK=(()=>{class n extends Qge{constructor(e,i,r,o,a,u,h){super(e,i,r),this._viewContainerRef=o,this._animationMode=u,this._hideToggle=!1,this.afterExpand=new s.vpe,this.afterCollapse=new s.vpe,this._inputChanges=new nn.x,this._headerId="mat-expansion-panel-header-"+Yge++,this._bodyAnimationDone=new nn.x,this.accordion=e,this._document=a,this._bodyAnimationDone.pipe(yv((f,_)=>f.fromState===_.fromState&&f.toState===_.toState)).subscribe(f=>{"void"!==f.fromState&&("expanded"===f.toState?this.afterExpand.emit():"collapsed"===f.toState&&this.afterCollapse.emit())}),h&&(this.hideToggle=h.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=Ci(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(sa(null),_i(()=>this.expanded&&!this._portal),(0,Jr.q)(1)).subscribe(()=>{this._portal=new CD(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(K3,12),s.Y36(s.sBO),s.Y36(aq),s.Y36(s.s_b),s.Y36(Ke),s.Y36(s.QbO,8),s.Y36(KK,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,$ge,5),2&e){let o;s.iGM(o=s.CRH())&&(i._lazyContent=o.first)}},viewQuery:function(e,i){if(1&e&&s.Gf(Vge,5),2&e){let r;s.iGM(r=s.CRH())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[s._Bn([{provide:K3,useValue:void 0},{provide:qK,useExisting:n}]),s.qOj,s.TTD],ngContentSelectors:zge,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(s.F$t(Gge),s.Hsn(0),s.TgZ(1,"div",0,1),s.NdJ("@bodyExpansion.done",function(o){return i._bodyAnimationDone.next(o)}),s.TgZ(3,"div",2),s.Hsn(4,1),s.YNc(5,jge,0,0,"ng-template",3),s.qZA(),s.Hsn(6,2),s.qZA()),2&e&&(s.xp6(1),s.Q6J("@bodyExpansion",i._getExpandedState())("id",i.id),s.uIk("aria-labelledby",i._headerId),s.xp6(4),s.Q6J("cdkPortalOutlet",i._portal))},dependencies:[bx],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[zK.bodyExpansion]},changeDetection:0}),n})();class Wge{}const Jge=FM(Wge);let $K=(()=>{class n extends Jge{constructor(e,i,r,o,a,u,h){super(),this.panel=e,this._element=i,this._focusMonitor=r,this._changeDetectorRef=o,this._animationMode=u,this._parentChangeSubscription=Po.w0.EMPTY;const f=e.accordion?e.accordion._stateChanges.pipe(_i(_=>!(!_.hideToggle&&!_.togglePosition))):yc.E;this.tabIndex=parseInt(h||"")||0,this._parentChangeSubscription=(0,iu.T)(e.opened,e.closed,f,e._inputChanges.pipe(_i(_=>!!(_.hideToggle||_.disabled||_.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(_i(()=>e._containsFocus())).subscribe(()=>r.focusVia(i,"program")),a&&(this.expandedHeight=a.expandedHeight,this.collapsedHeight=a.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Lm(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ZK,1),s.Y36(s.SBq),s.Y36(Kp),s.Y36(s.sBO),s.Y36(KK,8),s.Y36(s.QbO,8),s.$8M("tabindex"))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i._toggle()})("keydown",function(o){return i._keydown(o)}),2&e&&(s.uIk("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),s.Udp("height",i._getHeaderHeight()),s.ekj("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[s.qOj],ngContentSelectors:Zge,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,i){1&e&&(s.F$t(Kge),s.TgZ(0,"span",0),s.Hsn(1),s.Hsn(2,1),s.Hsn(3,2),s.qZA(),s.YNc(4,qge,1,1,"span",1)),2&e&&(s.ekj("mat-content-hide-toggle",!i._showToggle()),s.xp6(4),s.Q6J("ngIf",i._showToggle()))},dependencies:[Li],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[zK.indicatorRotate]},changeDetection:0}),n})(),Xge=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),eme=(()=>{class n extends Pge{constructor(){super(...arguments),this._ownHeaders=new s.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=Ci(e)}ngAfterContentInit(){this._headers.changes.pipe(sa(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new zee(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-accordion"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,$K,5),2&e){let o;s.iGM(o=s.CRH())&&(i._headers=o)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[s._Bn([{provide:K3,useExisting:n}]),s.qOj]}),n})(),tme=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[ea,hr,Hge,Sb]}),n})();function nme(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," collections_bookmark "),s.qZA())}function ime(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," music_note "),s.qZA())}function rme(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," receipt_long "),s.qZA())}function sme(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," school "),s.qZA())}function ome(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," auto_fix "),s.qZA())}function ame(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," swords "),s.qZA())}function lme(n,t){if(1&n&&(s.TgZ(0,"div",13),s.YNc(1,nme,2,0,"span",14),s.YNc(2,ime,2,0,"span",14),s.YNc(3,rme,2,0,"span",14),s.YNc(4,sme,2,0,"span",14),s.YNc(5,ome,2,0,"span",14),s.YNc(6,ame,2,0,"span",14),s.TgZ(7,"span"),s._uU(8),s.TgZ(9,"b"),s._uU(10),s.qZA()()()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf",4==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",5==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",0==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",3==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",2==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",1==e.idTipologiaSkill),s.xp6(2),s.hij("",e.nome,": "),s.xp6(2),s.Oqu(e.value)}}const cme=function(n,t,e){return{"":n,selected:t,notSelected:e}};function ume(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-accordion",9)(1,"mat-expansion-panel",10),s.NdJ("opened",function(){const r=s.CHM(e),o=r.$implicit,a=r.index,u=s.oxw(2);return s.KtG(u.select(o,a))}),s.TgZ(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"b"),s._uU(5,"Nome:\xa0"),s.qZA(),s._uU(6),s.TgZ(7,"b"),s._uU(8,"Classe:\xa0"),s.qZA(),s._uU(9),s.TgZ(10,"span",11),s._uU(11," fitness_center "),s.qZA(),s._uU(12,"\xa0"),s.TgZ(13,"b"),s._uU(14),s.TgZ(15,"b"),s._uU(16,"\xa0 "),s.TgZ(17,"span",11),s._uU(18," sprint "),s.qZA(),s._uU(19," \xa0"),s.qZA(),s._uU(20),s.qZA(),s._uU(21,"\xa0 "),s.TgZ(22,"span",11),s._uU(23," psychology "),s.qZA(),s._uU(24,"\xa0"),s.TgZ(25,"b"),s._uU(26),s.qZA(),s._uU(27," \xa0\xa0\xa0\xa0 Utilizzata \xa0"),s.TgZ(28,"b"),s._uU(29),s.qZA(),s._uU(30,"\xa0 volta/e "),s.qZA()(),s.YNc(31,lme,11,8,"div",12),s._UZ(32,"br"),s.qZA(),s._UZ(33,"mat-divider")(34,"div"),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.xp6(1),s.Q6J("ngClass",s.kEZ(9,cme,-1==r.selezionato,r.selezionato===i,r.selezionato!==i&&-1!==r.selezionato))("expanded",r.selezionato==i),s.xp6(5),s.hij("",e.nome," \xa0\xa0\xa0\xa0 "),s.xp6(3),s.hij("",e.classe.nome," \xa0\xa0\xa0\xa0 "),s.xp6(5),s.hij("",e.stats.forza,"\xa0"),s.xp6(6),s.hij("",e.stats.destrezza,"\xa0"),s.xp6(6),s.Oqu(e.stats.intelligenza),s.xp6(3),s.Oqu(e.utilizzatoNVolte),s.xp6(2),s.Q6J("ngForOf",e.skills)}}const dme=function(){return[5]};function hme(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2)(1,"div",3)(2,"u")(3,"b"),s._uU(4,"Seleziona un template cliccando su una scheda personaggio"),s.qZA()()(),s.TgZ(5,"div",4),s.YNc(6,ume,35,13,"mat-accordion",5),s.TgZ(7,"mat-paginator",6),s.NdJ("page",function(r){s.CHM(e);const o=s.oxw();return o.pageEvent=r,s.KtG(o.onPaginateChange(r))}),s.qZA()(),s.TgZ(8,"div",7)(9,"button",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.selectTemplate())}),s._uU(10,"Seleziona il Template "),s.TgZ(11,"mat-icon"),s._uU(12,"done"),s.qZA()()()()}if(2&n){const e=s.oxw();s.xp6(6),s.Q6J("ngForOf",e.pgPaginati),s.xp6(1),s.Q6J("length",e.schedePg.length)("pageSize",e.pageSize)("pageSizeOptions",s.DdM(5,dme)),s.xp6(2),s.Q6J("disabled",-1==e.selezionato)}}function Ame(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," collections_bookmark "),s.qZA())}function fme(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," music_note "),s.qZA())}function pme(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," receipt_long "),s.qZA())}function gme(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," school "),s.qZA())}function mme(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," auto_fix "),s.qZA())}function _me(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," swords "),s.qZA())}function yme(n,t){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,Ame,2,0,"span",14),s.YNc(2,fme,2,0,"span",14),s.YNc(3,pme,2,0,"span",14),s.YNc(4,gme,2,0,"span",14),s.YNc(5,mme,2,0,"span",14),s.YNc(6,_me,2,0,"span",14),s.TgZ(7,"span"),s._uU(8),s.TgZ(9,"b"),s._uU(10),s.qZA()()()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf",4==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",5==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",0==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",3==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",2==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",1==e.idTipologiaSkill),s.xp6(2),s.hij("",e.nome,": "),s.xp6(2),s.Oqu(e.value)}}function vme(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-accordion")(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"b"),s._uU(5),s.qZA(),s._UZ(6,"br"),s.qZA()(),s.TgZ(7,"b"),s._uU(8,"F:"),s.qZA(),s._uU(9),s.TgZ(10,"b"),s._uU(11,"D:"),s.qZA(),s._uU(12),s.TgZ(13,"b"),s._uU(14,"I:"),s.qZA(),s._uU(15),s._UZ(16,"br")(17,"br"),s._uU(18," Utilizzata "),s.TgZ(19,"b"),s._uU(20),s.qZA(),s._uU(21," volta/e "),s._UZ(22,"br")(23,"br"),s.YNc(24,yme,11,8,"div",16),s._UZ(25,"br"),s.TgZ(26,"div",17)(27,"button",18),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.selectTemplate(o))}),s._uU(28,"Seleziona il Template "),s.TgZ(29,"mat-icon"),s._uU(30,"done"),s.qZA()()()(),s._UZ(31,"mat-divider")(32,"div"),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(5),s.Oqu(e.nome),s.xp6(4),s.hij("",e.stats.forza," - "),s.xp6(3),s.hij(" ",e.stats.destrezza," - "),s.xp6(3),s.hij(" ",e.stats.intelligenza,""),s.xp6(5),s.Oqu(e.utilizzatoNVolte),s.xp6(4),s.Q6J("ngForOf",e.skills)}}const wme=function(){return[5,10]};function bme(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",15)(1,"div"),s.YNc(2,vme,33,6,"mat-accordion",16),s.TgZ(3,"mat-paginator",6),s.NdJ("page",function(r){s.CHM(e);const o=s.oxw();return o.pageEvent=r,s.KtG(o.onPaginateChange(r))}),s.qZA()()()}if(2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngForOf",e.pgPaginati),s.xp6(1),s.Q6J("length",e.schedePg.length)("pageSize",e.pageSize)("pageSizeOptions",s.DdM(4,wme))}}let Cme=(()=>{class n{constructor(e,i,r,o){this.service=e,this.dialogRef=i,this.data=r,this.utils=o,this.pgToSave=new Sx,this.schedePg=new Array,this.pgPaginati=new Array,this.pageEvent=new ahe,this.pageSize=5,this.isSmartphone=!1,this.isOpened=!0,this.selezionato=-1,this.classe=new OD,r&&(this.selezionato=r.Selezionato,this.classe=r.Classe)}ngOnInit(){this.isSmartphone=this.utils.isSmartphone(),null!=this.classe.nome&&this.service.getSchedePgByClasse(this.classe.nome).subscribe(e=>{var i;void 0!==(null===(i=e[0])||void 0===i?void 0:i.nome)&&this.elabSkills(e)})}elabSkills(e){this.schedePg=new Array,e.forEach(i=>{null!=i.guid&&this.service.getSkillsPg(i.guid).subscribe(r=>{i.utilizzatoNVolte>0&&this.schedePg.push(hU.Convert(i,r))})}),this.getPaginate()}getPaginate(){setTimeout(()=>{this.schedePg=[...new Map(this.schedePg.map(e=>[e.guid,e])).values()],this.pgPaginati=this.schedePg.slice(0,this.pageSize),this.pgPaginati=this.pgPaginati.sort(e=>e.utilizzatoNVolte).reverse(),this.pgPaginati.forEach(e=>{e.skills=e.skills.sort(function(i,r){return i.idTipologiaSkill>r.idTipologiaSkill?1:-1})})},500)}onPaginateChange(e){this.pgPaginati=this.schedePg.slice(e.pageIndex*e.pageSize,e.pageIndex*e.pageSize+e.pageSize)}selectTemplate(e=new Sx){this.dialogRef.close(e.nome?{Pg:e,Selezionato:this.selezionato}:{Pg:this.pgToSave,Selezionato:this.selezionato})}select(e,i){this.selezionato=i,this.pgToSave=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(E0),s.Y36(S0),s.Y36(Qm),s.Y36(vf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-template-stat-skills"]],decls:2,vars:2,consts:[["class","row",4,"ngIf"],["class","row","class","containerSmart",4,"ngIf"],[1,"row"],[2,"padding-bottom","3vh","text-align","center"],[1,"container"],["multi","false",4,"ngFor","ngForOf"],[3,"length","pageSize","pageSizeOptions","page"],["fxLayout","column","fxLayoutAlign","space-around start",2,"padding-top","3vh"],["mat-raised-button","","color","primary","fxLayout","row","fxFlex","",3,"disabled","click"],["multi","false"],[3,"ngClass","expanded","opened"],[1,"material-symbols-outlined"],["fxLayout","row",4,"ngFor","ngForOf"],["fxLayout","row"],["class","material-symbols-outlined",4,"ngIf"],[1,"containerSmart"],[4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutAlign","center center",2,"padding-top","3vh"],["mat-raised-button","","fxLayout","row","fxFlex","","color","primary",3,"click"]],template:function(e,i){1&e&&(s.YNc(0,hme,13,6,"div",0),s.YNc(1,bme,4,5,"div",1)),2&e&&(s.Q6J("ngIf",!i.isSmartphone),s.xp6(1),s.Q6J("ngIf",i.isSmartphone))},dependencies:[ms,ds,Li,Hm,AT,Ah,ju,_A,ac,nR,eme,ZK,$K,Xge,o3],styles:[".selected[_ngcontent-%COMP%]{border:3px outset #004a9f}.notSelected[_ngcontent-%COMP%]{border:2px outset red}.container[_ngcontent-%COMP%]{max-height:80vh}.containerSmart[_ngcontent-%COMP%]{max-height:60vh}"]}),n})();function xme(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Aggiungi il nome del PG "),s.qZA())}function Eme(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Nome troppo breve "),s.qZA())}function Sme(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-option",39),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return r.changeRazza="changed",r.getReligioni(),s.KtG(r.getClassi())}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.Q6J("value",e.nome),s.xp6(1),s.Oqu(e.nome)}}function Ime(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Seleziona una razza "),s.qZA())}function Dme(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-option",40),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return r.getReligioni(),r.autoSetStat(),r.getInfoSkill(),s.KtG(r.enableButtonTemplate())}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("disabled",i.classi.length<1)("value",e.nome),s.xp6(1),s.Oqu(e.nome)}}function Tme(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Seleziona una classe "),s.qZA())}function Bme(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Seleziona prima una razza "),s.qZA())}function Fme(n,t){if(1&n&&(s.TgZ(0,"mat-option",41),s._uU(1),s.qZA()),2&n){const e=t.$implicit,i=s.oxw();s.Q6J("value",e.nome)("disabled",void 0===i.schedaPg.classe.nome||0==i.religioni.length),s.xp6(1),s.Oqu(e.nome)}}function Mme(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Seleziona una religione "),s.qZA())}function kme(n,t){1&n&&(s.TgZ(0,"mat-hint"),s._uU(1," Seleziona prima una razza e una classe "),s.qZA())}function Rme(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Aggiungi la forza del pg "),s.qZA())}function Ome(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Aggiungi la destrezza del pg "),s.qZA())}function Lme(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Aggiungi l'intelligenza del pg "),s.qZA())}function Nme(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",38),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.selectSkills())}),s._uU(1,"Scegli skills "),s.TgZ(2,"mat-icon"),s._uU(3,"assignment"),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("disabled",void 0===e.schedaPg.classe.nome)}}function Pme(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",42),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.selectSkills())}),s._uU(1,"Skills selezionate "),s.TgZ(2,"mat-icon"),s._uU(3,"done"),s.qZA()()}}const Ume=function(n){return{color:n}},Vme=[{path:"test",component:Yz},{path:"help",component:Vde},{path:"credits",component:_ce},{path:"develop",component:Lde},{path:"schedaPersonaggio",component:(()=>{class n{constructor(e,i,r,o){this.service=e,this.dialog=i,this.userService=r,this.utils=o,this.nomeForm=new Rs,this.classeForm=new Rs,this.razzaForm=new Rs,this.religioneForm=new Rs,this.forzaForm=new Rs,this.destrezzaForm=new Rs,this.intelligenzaForm=new Rs,this.statsChecked=!1,this.colorBar="primary",this.schedaPg=new Sx,this.classi=new Array,this.razze=new Array,this.religioni=new Array,this.skills=new Array,this.skillConsigliate=new Array,this.changeRazza="",this.isDruido=!1,this.infoSkills=new Array,this.totaleStat=0,this.fromTemplate=!1,this.buttonTemplate=!1,this.selezionato=-1}ngOnInit(){this.resetFormControl(),this.service.getAllRazze().subscribe(e=>this.razze=e)}getReligioni(){if("Druido"==this.schedaPg.classe.nome)return this.service.getAllReligioni("Druidi").subscribe(e=>this.religioni=e),void(this.isDruido=!0);if("Druido"!==this.schedaPg.classe.nome&&("changed"==this.changeRazza||""==this.changeRazza)||this.isDruido){switch(this.schedaPg.razza.nome){case"Quenya":case"Telero":case"Sindar":this.service.getAllReligioni("Elfico").subscribe(e=>this.religioni=e);break;case"Umano comune":this.service.getAllReligioni("Umano").subscribe(e=>this.religioni=e);break;case"Nordico":this.service.getAllReligioni("Nordico").subscribe(e=>this.religioni=e);break;case"Nano":this.service.getAllReligioni("Nanico").subscribe(e=>this.religioni=e);break;case"Tremecciano":this.service.getAllReligioni("Tremecciano").subscribe(e=>this.religioni=e);break;case"Qwaylar":this.service.getAllReligioni("Qwaylar").subscribe(e=>this.religioni=e);break;case"Mezz'elfo":this.service.getAllReligioni().subscribe(e=>this.religioni=e)}this.isDruido=!1,this.changeRazza="notChanged"}}selectSkills(){this.dialog.open(rpe,{width:this.utils.isSmartphone()?"80%":"40%",data:this.schedaPg}).afterClosed().subscribe(i=>{void 0!==i?.data&&(this.schedaPg.skills=i?.data)})}filterClassi(e){return e.filter(r=>null==r?.notRazze||!r.notRazze.includes(this.schedaPg.razza.nome))}getClassi(){this.service.getAllClass().subscribe(e=>this.classi=this.filterClassi(e))}getInfoSkill(){this.service.getInfoSkill(this.schedaPg.classe.nome).subscribe(e=>{this.infoSkills=e.length>0?e:new Array})}openInfoSkills(){this.dialog.open(Lge,{data:this.infoSkills,height:this.utils.isSmartphone()?"60%":""})}checkForza(){this.schedaPg.stats.forza>120&&(this.schedaPg.stats.forza=120),this.schedaPg.stats.forza<0&&(this.schedaPg.stats.forza=1),this.totStat()}checkDestrezza(){this.schedaPg.stats.destrezza>120&&(this.schedaPg.stats.destrezza=120),this.schedaPg.stats.destrezza<0&&(this.schedaPg.stats.destrezza=1),this.totStat()}checkIntelligenza(){this.schedaPg.stats.intelligenza>120&&(this.schedaPg.stats.intelligenza=120),this.schedaPg.stats.intelligenza<0&&(this.schedaPg.stats.intelligenza=1),this.totStat()}autoSetStat(){if(this.statsChecked)switch(this.schedaPg.classe.nome){case"Guerriero":case"Berserker":this.schedaPg.stats.forza=120,this.schedaPg.stats.destrezza=79,this.schedaPg.stats.intelligenza=1;break;case"Mago":case"Chierico":this.schedaPg.stats.forza=70,this.schedaPg.stats.destrezza=10,this.schedaPg.stats.intelligenza=120;break;case"Paladino":this.schedaPg.stats.forza=100,this.schedaPg.stats.destrezza=70,this.schedaPg.stats.intelligenza=30;break;case"Ranger":case"Geniere":this.schedaPg.stats.forza=79,this.schedaPg.stats.destrezza=120,this.schedaPg.stats.intelligenza=1;break;case"Bardo":this.schedaPg.stats.forza=99,this.schedaPg.stats.destrezza=100,this.schedaPg.stats.intelligenza=1;break;default:this.schedaPg.stats.forza=0,this.schedaPg.stats.intelligenza=0,this.schedaPg.stats.destrezza=0}else this.schedaPg.stats.forza=0,this.schedaPg.stats.intelligenza=0,this.schedaPg.stats.destrezza=0;this.totStat()}totStat(){this.totaleStat=this.schedaPg.stats.forza+this.schedaPg.stats.destrezza+this.schedaPg.stats.intelligenza,this.colorBar=this.totaleStat>200&&this.totaleStat<215?"accent":this.totaleStat>215?"warn":"primary"}openPaladino(){this.dialog.open(ope,{data:this.schedaPg.religione.nome})}openChierico(){this.dialog.open(Mge,{data:this.schedaPg.religione.nome})}checkSalva(){const e=this.schedaPg.stats;return 0!==e.forza&&0!==e.destrezza&&0!==e.intelligenza&&this.nomeForm.valid&&""!==this.schedaPg.religione.nome&&this.classeForm.valid&&this.razzaForm.valid&&this.schedaPg.skills.length>0}savePg(){let e=crypto.randomUUID();var i=confirm("Vuoi salvare la scheda pg in modo da poterla recuperare con il codice guid o utilizzarla come template di stat-skills?");i&&(this.service.AddPg(this.schedaPg,e,i),this.schedaPg.skills.forEach(r=>{this.service.addSkillsPg(r,e)})),this.fromTemplate&&(this.checkSalva(),this.service.updateSchedaPg(this.schedaPg.guid,this.schedaPg.utilizzatoNVolte+1)),this.openFinishWizard(e),this.reset()}reset(){this.totaleStat=0,this.schedaPg=new Sx,this.resetFormControl()}openFinishWizard(e){this.dialog.open(Bge,{data:{pg:this.schedaPg,guid:e,infoSkills:this.infoSkills}}).afterOpened().subscribe(r=>this.infoSkills=new Array)}resetFormControl(){this.nomeForm=new Rs("",[Ia.required,Ia.minLength(3)]),this.classeForm=new Rs(null,[Ia.required]),this.razzaForm=new Rs(null,[Ia.required]),this.religioneForm=new Rs(null,[Ia.required]),this.forzaForm=new Rs(0,[Ia.required,Ia.minLength(1),Ia.maxLength(3)]),this.destrezzaForm=new Rs(0,[Ia.required,Ia.minLength(1),Ia.maxLength(3)]),this.intelligenzaForm=new Rs(0,[Ia.required,Ia.minLength(1),Ia.maxLength(3)])}recuperaScheda(){let e=prompt("Inserisci il guid per recuperare una scheda gi\xe0 compilata");36==e?.length?(this.getClassi(),this.service.getPg(e).subscribe(i=>{var r;void 0!==(null===(r=i[0])||void 0===r?void 0:r.nome)&&(e?this.service.getSkillsPg(e).subscribe(o=>{this.schedaPg=hU.Convert(i[0],o)}):alert("Nessuna scheda pg presente col guid inserito."))})):e&&alert("Formato guid non valido"),setTimeout(()=>{this.getReligioni()},500)}compareWith(e){return e===this.schedaPg.religione.nome}isChierico(){return"Chierico"===this.schedaPg.classe.nome}isRotinrim(){return this.userService.isRotinrim}spazioSmartphone(){return{margin:this.utils.isSmartphone()?"4%":"1%"}}openTemplate(){this.dialog.open(Cme,{width:this.utils.isSmartphone()?"100%":"50%",data:{Classe:this.schedaPg.classe,Selezionato:this.selezionato}}).afterClosed().subscribe(i=>{null!=i.Pg&&(this.selezionato=i.Selezionato,this.setTemplate(i.Pg))})}setTemplate(e){this.schedaPg.skills=e.skills,this.schedaPg.stats=e.stats,this.schedaPg.guid=e.guid,this.schedaPg.utilizzatoNVolte=e.utilizzatoNVolte,this.fromTemplate=!0,this.totStat()}enableButtonTemplate(){this.service.getSchedePgByClasse(this.schedaPg.classe.nome).subscribe(e=>{var i;if(void 0!==(null===(i=e[0])||void 0===i?void 0:i.nome)){var r=e.filter(o=>o.utilizzatoNVolte>0&&null!=o.utilizzatoNVolte);this.buttonTemplate=r.length>0}else this.buttonTemplate=!1})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(E0),s.Y36(wy),s.Y36(Cf),s.Y36(vf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-scheda-personaggio"]],decls:94,vars:48,consts:[["fxLayout","column","fxFlex",""],["fxLayout","row","fxLayoutAlign","center center",1,"title"],["mat-icon-button","","matTooltip","Recupera una scheda gi\xe0 compilata",3,"click"],[1,"material-symbols-outlined",2,"color","green"],["fxLayout","row","fxLayoutAlign","space-around center",2,"text-align","center","margin-bottom","10px"],["fxLayout","row",2,"border-top-color","#004a9f"],[2,"padding","8px"],["fxLayout","column","fxFlex","100",1,"firstForm"],["fxLayout","row","fxLayoutAlign","end center"],["mat-icon-button","","color","primary",3,"matTooltip","click"],[2,"color","green"],["mat-icon-button","","color","primary","matTooltip","Info macraggio skills",3,"click"],[2,"color","#004a9f"],["fxLayout","row wrap","fxLayoutAlign","space-evenly center","fxFlex",""],["fxFlex.xs","100","fxFlex.sm","60","fxFlex.md","70","fxFlex.lg","100","fxFlex.xl","100"],["type","text","matInput","","placeholder","Nome pg","fxFlex","",3,"ngModel","formControl","ngModelChange"],[4,"ngIf"],["color","primary","fxFlex","",3,"ngModel","formControl","ngModelChange"],["color","primary",3,"value","click",4,"ngFor","ngForOf"],["color","primary",3,"disabled","value","click",4,"ngFor","ngForOf"],["color","primary",3,"value","disabled",4,"ngFor","ngForOf"],[3,"ngStyle"],["fxLayout","column","fxFlex","100",1,"firstForm",2,"margin-top","2%"],["mat-icon-button","","matTooltip","Seleziona un template stat/skills predefinito",1,"bottoneTemplate",3,"disabled","click"],[2,"color","#004a9f",3,"ngStyle"],["fxFlex","","fxlayout","column",1,"example-section",2,"padding-bottom","2%"],["color","primary",1,"example-margin",3,"ngModel","ngModelChange","change"],["type","number","matInput","","placeholder","Forza","fxFlex","",3,"ngModel","formControl","ngModelChange","keyup"],["type","number","matInput","","placeholder","Destrezza","fxFlex","",3,"ngModel","formControl","ngModelChange","keyup"],["type","number","matInput","","placeholder","Intelligenza","fxFlex","",3,"ngModel","formControl","ngModelChange","keyup"],[3,"color","value","ngStyle"],["div","","fxLayout","row wrap","fxLayoutAlign","center center"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","","class","green",3,"click",4,"ngIf"],["fxLayout","row",2,"margin","5px","border-top-color","#004a9f"],["fxLayout","row wrap","fxLayoutAlign","space-around center","fxFlex",""],[2,"margin-top","1%"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],["color","primary",3,"value","click"],["color","primary",3,"disabled","value","click"],["color","primary",3,"value","disabled"],["mat-raised-button","",1,"green",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s._uU(2," Scheda Personaggio "),s.TgZ(3,"button",2),s.NdJ("click",function(){return i.recuperaScheda()}),s.TgZ(4,"span",3),s._uU(5," downloading "),s.qZA()()(),s.TgZ(6,"div",4)(7,"b"),s._uU(8,"Compila il form e scarica il pdf con tutte le caratteristiche del tuo pg!"),s.qZA()(),s._UZ(9,"mat-divider",5)(10,"div",6),s.TgZ(11,"mat-card",7)(12,"mat-card-header")(13,"mat-card-title"),s._uU(14," Info generiche "),s.qZA()(),s.TgZ(15,"div",8)(16,"button",9),s.NdJ("click",function(){return i.isChierico()?i.openChierico():i.openPaladino()}),s.TgZ(17,"mat-icon",10),s._uU(18,"info"),s.qZA()(),s.TgZ(19,"button",11),s.NdJ("click",function(){return i.openInfoSkills()}),s.TgZ(20,"mat-icon",12),s._uU(21,"info"),s.qZA()()(),s.TgZ(22,"div",13)(23,"div")(24,"mat-form-field",14)(25,"input",15),s.NdJ("ngModelChange",function(o){return i.schedaPg.nome=o}),s.qZA(),s.YNc(26,xme,2,0,"mat-error",16),s.YNc(27,Eme,2,0,"mat-error",16),s.qZA()(),s.TgZ(28,"div")(29,"mat-form-field",14)(30,"mat-label"),s._uU(31,"Razza"),s.qZA(),s.TgZ(32,"mat-select",17),s.NdJ("ngModelChange",function(o){return i.schedaPg.razza.nome=o}),s.YNc(33,Sme,2,2,"mat-option",18),s.qZA(),s.YNc(34,Ime,2,0,"mat-error",16),s.qZA()()(),s.TgZ(35,"div",13)(36,"div")(37,"mat-form-field",14)(38,"mat-label"),s._uU(39,"Classe"),s.qZA(),s.TgZ(40,"mat-select",17),s.NdJ("ngModelChange",function(o){return i.schedaPg.classe.nome=o}),s.YNc(41,Dme,2,3,"mat-option",19),s.qZA(),s.YNc(42,Tme,2,0,"mat-error",16),s.YNc(43,Bme,2,0,"mat-error",16),s.qZA()(),s.TgZ(44,"div")(45,"mat-form-field",14)(46,"mat-label"),s._uU(47,"Religione"),s.qZA(),s.TgZ(48,"mat-select",17),s.NdJ("ngModelChange",function(o){return i.schedaPg.religione.nome=o}),s.YNc(49,Fme,2,3,"mat-option",20),s.qZA(),s.YNc(50,Mme,2,0,"mat-error",16),s.YNc(51,kme,2,0,"mat-hint",16),s.qZA()()(),s._UZ(52,"div",21),s.qZA(),s.TgZ(53,"mat-card",22)(54,"mat-card-title"),s._uU(55," Stats"),s.TgZ(56,"button",23),s.NdJ("click",function(){return i.openTemplate()}),s.TgZ(57,"mat-icon",24),s._uU(58,"search"),s.qZA()()(),s.TgZ(59,"div")(60,"section",25)(61,"mat-checkbox",26),s.NdJ("ngModelChange",function(o){return i.statsChecked=o})("change",function(){return i.autoSetStat()}),s._uU(62,"Applica stats consigliate"),s.qZA()()(),s.TgZ(63,"div",13)(64,"div")(65,"mat-form-field",14)(66,"input",27),s.NdJ("ngModelChange",function(o){return i.schedaPg.stats.forza=o})("keyup",function(){return i.checkForza()}),s.qZA(),s.YNc(67,Rme,2,0,"mat-error",16),s.qZA()(),s.TgZ(68,"div")(69,"mat-form-field",14)(70,"input",28),s.NdJ("ngModelChange",function(o){return i.schedaPg.stats.destrezza=o})("keyup",function(){return i.checkDestrezza()}),s.qZA(),s.YNc(71,Ome,2,0,"mat-error",16),s.qZA()(),s.TgZ(72,"div")(73,"mat-form-field",14)(74,"input",29),s.NdJ("ngModelChange",function(o){return i.schedaPg.stats.intelligenza=o})("keyup",function(){return i.checkIntelligenza()}),s.qZA(),s.YNc(75,Lme,2,0,"mat-error",16),s.qZA()(),s._UZ(76,"mat-progress-bar",30),s.qZA()(),s.TgZ(77,"div",31)(78,"div",21),s.YNc(79,Nme,4,1,"button",32),s.YNc(80,Pme,4,0,"button",33),s.qZA()(),s._UZ(81,"mat-divider",34),s.TgZ(82,"div",35)(83,"div",36)(84,"button",37),s.NdJ("click",function(){return i.reset()}),s._uU(85,"Reset "),s.TgZ(86,"mat-icon"),s._uU(87,"undo"),s.qZA()()(),s.TgZ(88,"div",36)(89,"button",38),s.NdJ("click",function(){return i.savePg()}),s._uU(90,"Salva "),s.TgZ(91,"mat-icon"),s._uU(92,"done"),s.qZA()()()(),s._UZ(93,"div",21),s.qZA()),2&e&&(s.xp6(16),s.Udp("visibility","Paladino"!==i.schedaPg.classe.nome&&"Chierico"!==i.schedaPg.classe.nome||""===i.schedaPg.religione.nome||!i.isRotinrim()?"hidden":"visible"),s.Q6J("matTooltip",i.isChierico()?"Info spell chierico":"Info spell paladino"),s.xp6(3),s.Udp("visibility",i.infoSkills.length>0&&i.isRotinrim()?"visible":"hidden"),s.xp6(6),s.Q6J("ngModel",i.schedaPg.nome)("formControl",i.nomeForm),s.xp6(1),s.Q6J("ngIf",i.nomeForm.hasError("required")),s.xp6(1),s.Q6J("ngIf",i.nomeForm.hasError("minlength")),s.xp6(5),s.Q6J("ngModel",i.schedaPg.razza.nome)("formControl",i.razzaForm),s.xp6(1),s.Q6J("ngForOf",i.razze),s.xp6(1),s.Q6J("ngIf",i.classeForm.hasError("required")&&null==i.schedaPg.razza),s.xp6(6),s.Q6J("ngModel",i.schedaPg.classe.nome)("formControl",i.classeForm),s.xp6(1),s.Q6J("ngForOf",i.classi),s.xp6(1),s.Q6J("ngIf",i.classeForm.hasError("required")&&null==i.schedaPg.classe),s.xp6(1),s.Q6J("ngIf",i.classeForm.hasError("required")&&""==i.schedaPg.razza.nome),s.xp6(5),s.Q6J("ngModel",i.schedaPg.religione.nome)("formControl",i.religioneForm),s.xp6(1),s.Q6J("ngForOf",i.religioni),s.xp6(1),s.Q6J("ngIf",i.classeForm.hasError("required")&&null==i.schedaPg.religione.nome),s.xp6(1),s.Q6J("ngIf",void 0===i.schedaPg.classe.nome||void 0===i.schedaPg.classe.nome),s.xp6(1),s.Q6J("ngStyle",i.spazioSmartphone()),s.xp6(4),s.Q6J("disabled",null==i.schedaPg.classe.nome||0==i.buttonTemplate),s.xp6(1),s.Q6J("ngStyle",s.VKq(46,Ume,null==i.schedaPg.classe.nome||0==i.buttonTemplate?"grey":"#004a9f")),s.xp6(3),s.Udp("visibility",void 0===i.schedaPg.classe.nome?"hidden":"visible"),s.xp6(1),s.Q6J("ngModel",i.statsChecked),s.xp6(5),s.Q6J("ngModel",i.schedaPg.stats.forza)("formControl",i.forzaForm),s.xp6(1),s.Q6J("ngIf",i.forzaForm.hasError("required")),s.xp6(3),s.Q6J("ngModel",i.schedaPg.stats.destrezza)("formControl",i.destrezzaForm),s.xp6(1),s.Q6J("ngIf",i.destrezzaForm.hasError("required")),s.xp6(3),s.Q6J("ngModel",i.schedaPg.stats.intelligenza)("formControl",i.intelligenzaForm),s.xp6(1),s.Q6J("ngIf",i.intelligenzaForm.hasError("required")),s.xp6(1),s.Q6J("color",i.colorBar)("value",i.totaleStat/2)("ngStyle",i.spazioSmartphone()),s.xp6(2),s.Q6J("ngStyle",i.spazioSmartphone()),s.xp6(1),s.Q6J("ngIf",0==i.schedaPg.skills.length),s.xp6(1),s.Q6J("ngIf",i.schedaPg.skills.length>0),s.xp6(9),s.Q6J("disabled",!i.checkSalva()),s.xp6(4),s.Q6J("ngStyle",i.spazioSmartphone()))},dependencies:[ds,Li,Jo,Sy,CT,B0,xT,Hm,AT,Ah,ju,_A,ac,iR,I0,qb,eq,zx,Lue,Zb,Kx,Bb,Zx,IT,Ey,Tk,Dk,Nq],styles:['.content[_ngcontent-%COMP%]{height:calc(100vh - 130px);border-radius:10px;margin:16px 16px 16px 32px;padding:4px;overflow:auto}.home[_ngcontent-%COMP%]{border:2px solid black}.title[_ngcontent-%COMP%]{padding:5px;font-size:x-large;font-weight:700;font-family:Playfair Display,serif;color:#004a9f}.form[_ngcontent-%COMP%]{padding:10px;margin:10px}.firstForm[_ngcontent-%COMP%]{border:2px solid #004a9f;border-radius:10px;padding-left:3%;padding-right:3%;padding-bottom:3%;margin-right:15%;margin-left:15%}.green[_ngcontent-%COMP%]{background-color:#388e3c;color:#fff}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}.bottoneTemplate[_ngcontent-%COMP%]{position:relative;bottom:2px}']}),n})()},{path:"bacheca",component:Wde},{path:"macro",component:Ufe},{path:"news",component:(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-news"]],decls:29,vars:0,consts:[[1,"container"],[1,"page-title"],[1,"news-list"],[1,"news-item"],[1,"news-title"],[1,"news-content"],[1,"news-content",2,"text-align","center","font-weight","bold"],[1,"news-date"],["href","https://docs.google.com/document/d/15-PV85hLet-2kS6gHf3xknh2TMRppxMHiUyPJ-m4CJ0/edit?usp=share_link","target","_blank",1,"news-link"],[1,"news-bug-report"],["href","/help",1,"news-bug-link"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h1",1),s._uU(2,"Ultime News"),s.qZA(),s.TgZ(3,"div",2)(4,"div",3)(5,"h2",4),s._uU(6,"Nuove funzionalit\xe0 di accesso tramite Discord e tool di salvataggio macro (1.4.0)"),s.qZA(),s.TgZ(7,"p",5),s._uU(8,'Siamo entusiasti di annunciare i recenti miglioramenti apportati al nostro sito web. Abbiamo introdotto un nuovo sistema di accesso tramite Discord, che semplifica il processo di login e registrazione. Ora gli utenti possono accedere al sito utilizzando come provider Discord per rendere l\'accesso pi\xf9 rapido e sicuro. Ma non \xe8 tutto: abbiamo anche implementato features speciali per offrire una assistenza maggiore agli utenti che partecipano al server di Rotiniel con il ruolo "Cittadino". Questi utenti avranno accesso a funzionalit\xe0 esclusive e potranno godere di vantaggi aggiuntivi rispetto agli altri utenti.'),s._UZ(9,"br"),s._uU(10," Inoltre, siamo lieti di presentare il nuovo strumento di salvataggio macro. Ora gli utenti possono salvare e fruire delle macro inserite dagli altri membri direttamente dal nostro sito."),s._UZ(11,"br"),s._uU(12," Apprezziamo molto il feedback della nostra community e vogliamo assicurarci che il sito funzioni al meglio. Se riscontri bug o anomalie durante l'utilizzo del sito, ti incoraggiamo a segnalarli nella sezione apposita. Il tuo contributo ci aiuter\xe0 a identificare e risolvere tempestivamente eventuali problemi, offrendo un'esperienza di utilizzo ancora migliore a tutti gli utenti."),s._UZ(13,"br"),s._uU(14," Continueremo a lavorare per offrire ulteriori miglioramenti e nuove funzionalit\xe0 in futuro."),s._UZ(15,"br"),s._uU(16," Grazie a tutti per il vostro supporto costante!"),s.qZA(),s.TgZ(17,"p",6),s._uU(18,"(si ma mo nun t'allarg\xe0 chatgpt)"),s.qZA(),s.TgZ(19,"p",7),s._uU(20,"Pubblicato il 13/05/2023"),s.qZA(),s.TgZ(21,"div",5)(22,"a",8),s._uU(23,"Guida all'utilizzo"),s.qZA()()()(),s.TgZ(24,"div",9)(25,"p"),s._uU(26,"Hai riscontrato un bug o un'anomalia?"),s.qZA(),s.TgZ(27,"a",10),s._uU(28,"Segnala il bug qui"),s.qZA()()())},styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.page-title[_ngcontent-%COMP%]{color:#004a9f;font-size:24px;font-weight:700;margin-bottom:20px}.news-list[_ngcontent-%COMP%]{background-color:#fff}.news-item[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;box-shadow:0 2px 4px #0000001a;margin-bottom:20px;padding:20px}.news-title[_ngcontent-%COMP%]{color:#004a9f;font-size:20px;font-weight:700;margin-bottom:10px}.news-content[_ngcontent-%COMP%]{color:#000;font-size:16px;margin-bottom:10px}.news-date[_ngcontent-%COMP%]{color:#000;font-size:14px}.news-bug-report[_ngcontent-%COMP%]{margin-top:20px;font-size:14px;font-weight:700}.news-bug-link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;color:#004a9f}.news-bug-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.news-link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:700;color:#004a9f}.news-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),n})()},{path:"",component:jde}];let jme=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[D2.forRoot(Vme),D2]}),n})();function WK(n){return new s.vHH(3e3,!1)}function x_e(){return typeof window<"u"&&typeof window.document<"u"}function Z3(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function P0(n){switch(n.length){case 0:return new kD;case 1:return n[0];default:return new T7(n)}}function JK(n,t,e,i,r=new Map,o=new Map){const a=[],u=[];let h=-1,f=null;if(i.forEach(_=>{const C=_.get("offset"),F=C==h,B=F&&f||new Map;_.forEach((U,H)=>{let Z=H,q=U;if("offset"!==H)switch(Z=t.normalizePropertyName(Z,a),q){case"!":q=r.get(H);break;case _y:q=o.get(H);break;default:q=t.normalizeStyleValue(H,Z,q,a)}B.set(Z,q)}),F||u.push(B),f=B,h=C}),a.length)throw function h_e(n){return new s.vHH(3502,!1)}();return u}function $3(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Y3(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Y3(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Y3(e,"destroy",n)))}}function Y3(n,t,e){const o=W3(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),a=n._data;return null!=a&&(o._data=a),o}function W3(n,t,e,i,r="",o=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function yA(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function XK(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let J3=(n,t)=>!1,eZ=(n,t,e)=>[],tZ=null;function X3(n){const t=n.parentNode||n.host;return t===tZ?null:t}(Z3()||typeof Element<"u")&&(x_e()?(tZ=(()=>document.documentElement)(),J3=(n,t)=>{for(;t;){if(t===n)return!0;t=X3(t)}return!1}):J3=(n,t)=>n.contains(t),eZ=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let eC=null,nZ=!1;const iZ=J3,rZ=eZ;let sZ=(()=>{class n{validateStyleProperty(e){return function S_e(n){eC||(eC=function I_e(){return typeof document<"u"?document.body:null}()||{},nZ=!!eC.style&&"WebkitAppearance"in eC.style);let t=!0;return eC.style&&!function E_e(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in eC.style,!t&&nZ&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in eC.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return iZ(e,i)}getParentElement(e){return X3(e)}query(e,i,r){return rZ(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,a,u=[],h){return new kD(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),e6=(()=>{class n{}return n.NOOP=new sZ,n})();const t6="ng-enter",IR="ng-leave",DR="ng-trigger",TR=".ng-trigger",aZ="ng-animating",n6=".ng-animating";function By(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:i6(parseFloat(t[1]),t[2])}function i6(n,t){return"s"===t?1e3*n:n}function BR(n,t,e){return n.hasOwnProperty("duration")?n:function B_e(n,t,e){let r,o=0,a="";if("string"==typeof n){const u=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return t.push(WK()),{duration:0,delay:0,easing:""};r=i6(parseFloat(u[1]),u[2]);const h=u[3];null!=h&&(o=i6(parseFloat(h),u[4]));const f=u[5];f&&(a=f)}else r=n;if(!e){let u=!1,h=t.length;r<0&&(t.push(function Gme(){return new s.vHH(3100,!1)}()),u=!0),o<0&&(t.push(function zme(){return new s.vHH(3101,!1)}()),u=!0),u&&t.splice(h,0,WK())}return{duration:r,delay:o,easing:a}}(n,t,e)}function NT(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function lZ(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function U0(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function uZ(n,t,e){return e?t+":"+e+";":""}function dZ(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=uZ(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=uZ(0,R_e(e),n.style[e]));n.setAttribute("style",t)}function Km(n,t,e){n.style&&(t.forEach((i,r)=>{const o=s6(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),Z3()&&dZ(n))}function tC(n,t){n.style&&(t.forEach((e,i)=>{const r=s6(i);n.style[r]=""}),Z3()&&dZ(n))}function PT(n){return Array.isArray(n)?1==n.length?n[0]:I7(n):n}const r6=new RegExp("{{\\s*(.+?)\\s*}}","g");function hZ(n){let t=[];if("string"==typeof n){let e;for(;e=r6.exec(n);)t.push(e[1]);r6.lastIndex=0}return t}function UT(n,t,e){const i=n.toString(),r=i.replace(r6,(o,a)=>{let u=t[a];return null==u&&(e.push(function Kme(n){return new s.vHH(3003,!1)}()),u=""),u.toString()});return r==i?n:r}function FR(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const k_e=/-+([a-z0-9])/g;function s6(n){return n.replace(k_e,(...t)=>t[1].toUpperCase())}function R_e(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function vA(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Zme(n){return new s.vHH(3004,!1)}()}}function AZ(n,t){return window.getComputedStyle(n)[t]}function Q_e(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function H_e(n,t,e){if(":"==n[0]){const h=function V_e(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function l_e(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof h)return void t.push(h);n=h}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function a_e(n){return new s.vHH(3015,!1)}()),t;const r=i[1],o=i[2],a=i[3];t.push(fZ(r,a));"<"==o[0]&&!("*"==r&&"*"==a)&&t.push(fZ(a,r))}(i,e,t)):e.push(n),e}const OR=new Set(["true","1"]),LR=new Set(["false","0"]);function fZ(n,t){const e=OR.has(n)||LR.has(n),i=OR.has(t)||LR.has(t);return(r,o)=>{let a="*"==n||n==r,u="*"==t||t==o;return!a&&e&&"boolean"==typeof r&&(a=r?OR.has(n):LR.has(n)),!u&&i&&"boolean"==typeof o&&(u=o?OR.has(t):LR.has(t)),a&&u}}const j_e=new RegExp("s*:selfs*,?","g");function o6(n,t,e,i){return new G_e(n).build(t,e,i)}class G_e{constructor(t){this._driver=t}build(t,e,i){const r=new K_e(e);return this._resetContextStyleTimingState(r),vA(this,PT(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push(function Yme(){return new s.vHH(3006,!1)}()),t.definitions.forEach(u=>{if(this._resetContextStyleTimingState(e),0==u.type){const h=u,f=h.name;f.toString().split(/\s*,\s*/).forEach(_=>{h.name=_,o.push(this.visitState(h,e))}),h.name=f}else if(1==u.type){const h=this.visitTransition(u,e);i+=h.queryCount,r+=h.depCount,a.push(h)}else e.errors.push(function Wme(){return new s.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,a=r||{};i.styles.forEach(u=>{u instanceof Map&&u.forEach(h=>{hZ(h).forEach(f=>{a.hasOwnProperty(f)||o.add(f)})})}),o.size&&(FR(o.values()),e.errors.push(function Jme(n,t){return new s.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=vA(this,PT(t.animation),e);return{type:1,matchers:Q_e(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:nC(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>vA(this,i,e)),options:nC(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(a=>{e.currentTime=i;const u=vA(this,a,e);return r=Math.max(r,e.currentTime),u});return e.currentTime=r,{type:3,steps:o,options:nC(t.options)}}visitAnimate(t,e){const i=function $_e(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return a6(BR(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=a6(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=BR(e,t);return a6(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:ui({});if(5==o.type)r=this.visitKeyframes(o,e);else{let a=t.styles,u=!1;if(!a){u=!0;const f={};i.easing&&(f.easing=i.easing),a=ui(f)}e.currentTime+=i.duration+i.delay;const h=this.visitStyle(a,e);h.isEmptyStep=u,r=h}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let u of r)"string"==typeof u?u===_y?i.push(u):e.errors.push(new s.vHH(3002,!1)):i.push(lZ(u));let o=!1,a=null;return i.forEach(u=>{if(u instanceof Map&&(u.has("easing")&&(a=u.get("easing"),u.delete("easing")),!o))for(let h of u.values())if(h.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:a,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,h)=>{const f=e.collectedStyles.get(e.currentQuerySelector),_=f.get(h);let C=!0;_&&(o!=r&&o>=_.startTime&&r<=_.endTime&&(e.errors.push(function e_e(n,t,e,i,r){return new s.vHH(3010,!1)}()),C=!1),o=_.startTime),C&&f.set(h,{startTime:o,endTime:r}),e.options&&function M_e(n,t,e){const i=t.params||{},r=hZ(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function qme(n){return new s.vHH(3001,!1)}())})}(u,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function t_e(){return new s.vHH(3011,!1)}()),i;let o=0;const a=[];let u=!1,h=!1,f=0;const _=t.steps.map(q=>{const W=this._makeStyleAst(q,e);let he=null!=W.offset?W.offset:function Z_e(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(W.styles),xe=0;return null!=he&&(o++,xe=W.offset=he),h=h||xe<0||xe>1,u=u||xe<f,f=xe,a.push(xe),W});h&&e.errors.push(function n_e(){return new s.vHH(3012,!1)}()),u&&e.errors.push(function i_e(){return new s.vHH(3200,!1)}());const C=t.steps.length;let F=0;o>0&&o<C?e.errors.push(function r_e(){return new s.vHH(3202,!1)}()):0==o&&(F=1/(C-1));const B=C-1,U=e.currentTime,H=e.currentAnimateTimings,Z=H.duration;return _.forEach((q,W)=>{const he=F>0?W==B?1:F*W:a[W],xe=he*Z;e.currentTime=U+H.delay+xe,H.duration=xe,this._validateStyleAst(q,e),q.offset=he,i.styles.push(q)}),i}visitReference(t,e){return{type:8,animation:vA(this,PT(t.animation),e),options:nC(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:nC(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:nC(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,a]=function z_e(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(j_e,"")),n=n.replace(/@\*/g,TR).replace(/@\w+/g,e=>TR+"-"+e.slice(1)).replace(/:animating/g,n6),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,yA(e.collectedStyles,e.currentQuerySelector,new Map);const u=vA(this,PT(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:u,originalSelector:t.selector,options:nC(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function s_e(){return new s.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:BR(t.timings,e.errors,!0);return{type:12,animation:vA(this,PT(t.animation),e),timings:i,options:null}}}class K_e{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function nC(n){return n?(n=NT(n)).params&&(n.params=function q_e(n){return n?NT(n):null}(n.params)):n={},n}function a6(n,t,e){return{duration:n,delay:t,easing:e}}function l6(n,t,e,i,r,o,a=null,u=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:u}}class NR{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const J_e=new RegExp(":enter","g"),eye=new RegExp(":leave","g");function c6(n,t,e,i,r,o=new Map,a=new Map,u,h,f=[]){return(new tye).buildKeyframes(n,t,e,i,r,o,a,u,h,f)}class tye{buildKeyframes(t,e,i,r,o,a,u,h,f,_=[]){f=f||new NR;const C=new u6(t,e,f,r,o,_,[]);C.options=h;const F=h.delay?By(h.delay):0;C.currentTimeline.delayNextStep(F),C.currentTimeline.setStyles([a],null,C.errors,h),vA(this,i,C);const B=C.timelines.filter(U=>U.containsAnimation());if(B.length&&u.size){let U;for(let H=B.length-1;H>=0;H--){const Z=B[H];if(Z.element===e){U=Z;break}}U&&!U.allowOnlyTimelineStyles()&&U.setStyles([u],null,C.errors,h)}return B.length?B.map(U=>U.buildKeyframes()):[l6(e,[],[],[],0,F,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);o!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const a="number"==typeof o?o:By(UT(o,r?.params??{},e.errors));i.delayNextStep(a)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const a=null!=i.duration?By(i.duration):null,u=null!=i.delay?By(i.delay):null;return 0!==a&&t.forEach(h=>{const f=e.appendInstructionToTimeline(h,a,u);o=Math.max(o,f.duration+f.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),vA(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=PR);const a=By(o.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>vA(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?By(t.options.delay):0;t.steps.forEach(a=>{const u=e.createSubContext(t.options);o&&u.delayNextStep(o),vA(this,a,u),r=Math.max(r,u.currentTimeline.currentTime),i.push(u.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return BR(e.params?UT(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,u=e.createSubContext().currentTimeline;u.easing=i.easing,t.styles.forEach(h=>{u.forwardTime((h.offset||0)*o),u.setStyles(h.styles,h.easing,e.errors,e.options),u.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(u),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?By(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=PR);let a=i;const u=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=u.length;let h=null;u.forEach((f,_)=>{e.currentQueryIndex=_;const C=e.createSubContext(t.options,f);o&&C.delayNextStep(o),f===e.element&&(h=C.currentTimeline),vA(this,t.animation,C),C.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,C.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),h&&(e.currentTimeline.mergeTimelineCollectedStyles(h),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,a=Math.abs(o.duration),u=a*(e.currentQueryTotal-1);let h=a*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":h=u-h;break;case"full":h=i.currentStaggerTime}const _=e.currentTimeline;h&&_.delayNextStep(h);const C=_.currentTime;vA(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-C+(r.startTime-i.currentTimeline.startTime)}}const PR={};class u6{constructor(t,e,i,r,o,a,u,h){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=PR,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=h||new UR(this._driver,e,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=By(i.duration)),null!=i.delay&&(r.delay=By(i.delay));const o=i.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(u=>{(!e||!a.hasOwnProperty(u))&&(a[u]=UT(o[u],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new u6(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=PR,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new nye(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,a){let u=[];if(r&&u.push(this.element),t.length>0){t=(t=t.replace(J_e,"."+this._enterClassName)).replace(eye,"."+this._leaveClassName);let f=this._driver.query(this.element,t,1!=i);0!==i&&(f=i<0?f.slice(f.length+i,f.length):f.slice(0,i)),u.push(...f)}return!o&&0==u.length&&a.push(function o_e(n){return new s.vHH(3014,!1)}()),u}}class UR{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new UR(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||_y),this._currentKeyframe.set(e,_y);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},a=function iye(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,_y)}else U0(r,e)}),e}(t,this._globalTimelineStyles);for(let[u,h]of a){const f=UT(h,o,i);this._pendingStyles.set(u,f),this._localTimelineStyles.has(u)||this._backFill.set(u,this._globalTimelineStyles.get(u)??_y),this._updateStyle(u,f)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((u,h)=>{const f=U0(u,new Map,this._backFill);f.forEach((_,C)=>{"!"===_?t.add(C):_===_y&&e.add(C)}),i||f.set("offset",h/this.duration),r.push(f)});const o=t.size?FR(t.values()):[],a=e.size?FR(e.values()):[];if(i){const u=r[0],h=new Map(u);u.set("offset",0),h.set("offset",1),r=[u,h]}return l6(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}}class nye extends UR{constructor(t,e,i,r,o,a,u=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=u,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],a=i+e,u=e/a,h=U0(t[0]);h.set("offset",0),o.push(h);const f=U0(t[0]);f.set("offset",mZ(u)),o.push(f);const _=t.length-1;for(let C=1;C<=_;C++){let F=U0(t[C]);const B=F.get("offset");F.set("offset",mZ((e+B*i)/a)),o.push(F)}i=a,e=0,r="",t=o}return l6(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function mZ(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class d6{}const rye=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class sye extends d6{normalizePropertyName(t,e){return s6(t)}normalizeStyleValue(t,e,i,r){let o="";const a=i.toString().trim();if(rye.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const u=i.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&r.push(function $me(n,t){return new s.vHH(3005,!1)}())}return a+o}}function _Z(n,t,e,i,r,o,a,u,h,f,_,C,F){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:a,timelines:u,queriedElements:h,preStyleProps:f,postStyleProps:_,totalTime:C,errors:F}}const h6={};class yZ{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function oye(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,a,u,h,f,_){const C=[],F=this.ast.options&&this.ast.options.params||h6,U=this.buildStyles(i,u&&u.params||h6,C),H=h&&h.params||h6,Z=this.buildStyles(r,H,C),q=new Set,W=new Map,he=new Map,xe="void"===r,Ze={params:aye(H,F),delay:this.ast.options?.delay},ct=_?[]:c6(t,e,this.ast.animation,o,a,U,Z,Ze,f,C);let Ve=0;if(ct.forEach(Ft=>{Ve=Math.max(Ft.duration+Ft.delay,Ve)}),C.length)return _Z(e,this._triggerName,i,r,xe,U,Z,[],[],W,he,Ve,C);ct.forEach(Ft=>{const Bt=Ft.element,Ae=yA(W,Bt,new Set);Ft.preStyleProps.forEach(Te=>Ae.add(Te));const de=yA(he,Bt,new Set);Ft.postStyleProps.forEach(Te=>de.add(Te)),Bt!==e&&q.add(Bt)});const we=FR(q.values());return _Z(e,this._triggerName,i,r,xe,U,Z,ct,we,W,he,Ve)}}function aye(n,t){const e=NT(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class lye{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=NT(this.defaultParams);return Object.keys(t).forEach(o=>{const a=t[o];null!==a&&(r[o]=a)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{a&&(a=UT(a,r,e));const h=this.normalizer.normalizePropertyName(u,e);a=this.normalizer.normalizeStyleValue(u,h,a,e),i.set(h,a)})}),i}}class uye{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new lye(r.style,r.options&&r.options.params||{},i))}),vZ(this.states,"true","1"),vZ(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new yZ(t,r,this.states))}),this.fallbackTransition=function dye(n,t,e){return new yZ(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,u)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function vZ(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const hye=new NR;class Aye{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=o6(this._driver,e,i,[]);if(i.length)throw function A_e(n){return new s.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=JK(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let a;const u=new Map;if(o?(a=c6(this._driver,e,o,t6,IR,new Map,new Map,i,hye,r),a.forEach(_=>{const C=yA(u,_.element,new Map);_.postStyleProps.forEach(F=>C.set(F,null))})):(r.push(function f_e(){return new s.vHH(3300,!1)}()),a=[]),r.length)throw function p_e(n){return new s.vHH(3504,!1)}();u.forEach((_,C)=>{_.forEach((F,B)=>{_.set(B,this._driver.computeStyle(C,B,_y))})});const f=P0(a.map(_=>{const C=u.get(_.element);return this._buildPlayer(_,new Map,C)}));return this._playersById.set(t,f),f.onDestroy(()=>this.destroy(t)),this.players.push(f),f}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function g_e(n){return new s.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=W3(e,"","","");return $3(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const wZ="ng-animate-queued",A6="ng-animate-disabled",_ye=[],bZ={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},yye={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ff="__ng_removed";class f6{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function Cye(n){return n??null}(i?t.value:t),i){const o=NT(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const QT="void",p6=new f6(QT);class vye{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Mf(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function m_e(n,t){return new s.vHH(3302,!1)}();if(null==i||0==i.length)throw function __e(n){return new s.vHH(3303,!1)}();if(!function xye(n){return"start"==n||"done"==n}(i))throw function y_e(n,t){return new s.vHH(3400,!1)}();const o=yA(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};o.push(a);const u=yA(this._engine.statesByElement,t,new Map);return u.has(e)||(Mf(t,DR),Mf(t,DR+"-"+e),u.set(e,p6)),()=>{this._engine.afterFlush(()=>{const h=o.indexOf(a);h>=0&&o.splice(h,1),this._triggers.has(e)||u.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function v_e(n){return new s.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),a=new g6(this.id,e,t);let u=this._engine.statesByElement.get(t);u||(Mf(t,DR),Mf(t,DR+"-"+e),this._engine.statesByElement.set(t,u=new Map));let h=u.get(e);const f=new f6(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&h&&f.absorbOptions(h.options),u.set(e,f),h||(h=p6),f.value!==QT&&h.value===f.value){if(!function Iye(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(h.params,f.params)){const H=[],Z=o.matchStyles(h.value,h.params,H),q=o.matchStyles(f.value,f.params,H);H.length?this._engine.reportError(H):this._engine.afterFlush(()=>{tC(t,Z),Km(t,q)})}return}const F=yA(this._engine.playersByElement,t,[]);F.forEach(H=>{H.namespaceId==this.id&&H.triggerName==e&&H.queued&&H.destroy()});let B=o.matchTransition(h.value,f.value,t,f.params),U=!1;if(!B){if(!r)return;B=o.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:B,fromState:h,toState:f,player:a,isFallbackTransition:U}),U||(Mf(t,wZ),a.onStart(()=>{fE(t,wZ)})),a.onDone(()=>{let H=this.players.indexOf(a);H>=0&&this.players.splice(H,1);const Z=this._engine.playersByElement.get(t);if(Z){let q=Z.indexOf(a);q>=0&&Z.splice(q,1)}}),this.players.push(a),F.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,TR,!0);i.forEach(r=>{if(r[Ff])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),a=new Map;if(o){const u=[];if(o.forEach((h,f)=>{if(a.set(f,h.value),this._triggers.has(f)){const _=this.trigger(t,f,QT,r);_&&u.push(_)}}),u.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&P0(u).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const a=o.name;if(r.has(a))return;r.add(a);const h=this._triggers.get(a).fallbackTransition,f=i.get(a)||p6,_=new f6(QT),C=new g6(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:h,fromState:f,toState:_,player:C,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Ff];(!o||o===bZ)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Mf(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,a=this._elementListeners.get(o);a&&a.forEach(u=>{if(u.name==i.triggerName){const h=W3(o,i.triggerName,i.fromState.value,i.toState.value);h._data=t,$3(i.player,u.phase,h,u.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==o||0==a?o-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class wye{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new vye(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,u=this.driver.getParentElement(e);for(;u;){const h=r.get(u);if(h){const f=i.indexOf(h);i.splice(f+1,0,t),a=!0;break}u=this.driver.getParentElement(u)}a||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(QR(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!QR(e))return;const o=e[Ff];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Mf(t,A6)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),fE(t,A6))}removeNode(t,e,i,r){if(QR(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Ff]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return QR(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,TR,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,n6,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return P0(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ff];if(e&&e.setForRemoval){if(t[Ff]=bZ,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(A6)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Mf(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?P0(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function w_e(n){return new s.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new NR,r=[],o=new Map,a=[],u=new Map,h=new Map,f=new Map,_=new Set;this.disabledNodes.forEach(Re=>{_.add(Re);const Ye=this.driver.query(Re,".ng-animate-queued",!0);for(let Ne=0;Ne<Ye.length;Ne++)_.add(Ye[Ne])});const C=this.bodyNode,F=Array.from(this.statesByElement.keys()),B=EZ(F,this.collectedEnterElements),U=new Map;let H=0;B.forEach((Re,Ye)=>{const Ne=t6+H++;U.set(Ye,Ne),Re.forEach(ht=>Mf(ht,Ne))});const Z=[],q=new Set,W=new Set;for(let Re=0;Re<this.collectedLeaveElements.length;Re++){const Ye=this.collectedLeaveElements[Re],Ne=Ye[Ff];Ne&&Ne.setForRemoval&&(Z.push(Ye),q.add(Ye),Ne.hasAnimation?this.driver.query(Ye,".ng-star-inserted",!0).forEach(ht=>q.add(ht)):W.add(Ye))}const he=new Map,xe=EZ(F,Array.from(q));xe.forEach((Re,Ye)=>{const Ne=IR+H++;he.set(Ye,Ne),Re.forEach(ht=>Mf(ht,Ne))}),t.push(()=>{B.forEach((Re,Ye)=>{const Ne=U.get(Ye);Re.forEach(ht=>fE(ht,Ne))}),xe.forEach((Re,Ye)=>{const Ne=he.get(Ye);Re.forEach(ht=>fE(ht,Ne))}),Z.forEach(Re=>{this.processLeaveNode(Re)})});const Ze=[],ct=[];for(let Re=this._namespaceList.length-1;Re>=0;Re--)this._namespaceList[Re].drainQueuedTransitions(e).forEach(Ne=>{const ht=Ne.player,_t=Ne.element;if(Ze.push(ht),this.collectedEnterElements.length){const nt=_t[Ff];if(nt&&nt.setForMove){if(nt.previousTriggersValues&&nt.previousTriggersValues.has(Ne.triggerName)){const ft=nt.previousTriggersValues.get(Ne.triggerName),At=this.statesByElement.get(Ne.element);if(At&&At.has(Ne.triggerName)){const pn=At.get(Ne.triggerName);pn.value=ft,At.set(Ne.triggerName,pn)}}return void ht.destroy()}}const _n=!C||!this.driver.containsElement(C,_t),X=he.get(_t),me=U.get(_t),_e=this._buildInstruction(Ne,i,me,X,_n);if(_e.errors&&_e.errors.length)return void ct.push(_e);if(_n)return ht.onStart(()=>tC(_t,_e.fromStyles)),ht.onDestroy(()=>Km(_t,_e.toStyles)),void r.push(ht);if(Ne.isFallbackTransition)return ht.onStart(()=>tC(_t,_e.fromStyles)),ht.onDestroy(()=>Km(_t,_e.toStyles)),void r.push(ht);const Pe=[];_e.timelines.forEach(nt=>{nt.stretchStartingKeyframe=!0,this.disabledNodes.has(nt.element)||Pe.push(nt)}),_e.timelines=Pe,i.append(_t,_e.timelines),a.push({instruction:_e,player:ht,element:_t}),_e.queriedElements.forEach(nt=>yA(u,nt,[]).push(ht)),_e.preStyleProps.forEach((nt,ft)=>{if(nt.size){let At=h.get(ft);At||h.set(ft,At=new Set),nt.forEach((pn,un)=>At.add(un))}}),_e.postStyleProps.forEach((nt,ft)=>{let At=f.get(ft);At||f.set(ft,At=new Set),nt.forEach((pn,un)=>At.add(un))})});if(ct.length){const Re=[];ct.forEach(Ye=>{Re.push(function b_e(n,t){return new s.vHH(3505,!1)}())}),Ze.forEach(Ye=>Ye.destroy()),this.reportError(Re)}const Ve=new Map,we=new Map;a.forEach(Re=>{const Ye=Re.element;i.has(Ye)&&(we.set(Ye,Ye),this._beforeAnimationBuild(Re.player.namespaceId,Re.instruction,Ve))}),r.forEach(Re=>{const Ye=Re.element;this._getPreviousPlayers(Ye,!1,Re.namespaceId,Re.triggerName,null).forEach(ht=>{yA(Ve,Ye,[]).push(ht),ht.destroy()})});const Ft=Z.filter(Re=>IZ(Re,h,f)),Bt=new Map;xZ(Bt,this.driver,W,f,_y).forEach(Re=>{IZ(Re,h,f)&&Ft.push(Re)});const de=new Map;B.forEach((Re,Ye)=>{xZ(de,this.driver,new Set(Re),h,"!")}),Ft.forEach(Re=>{const Ye=Bt.get(Re),Ne=de.get(Re);Bt.set(Re,new Map([...Array.from(Ye?.entries()??[]),...Array.from(Ne?.entries()??[])]))});const Te=[],Se=[],xt={};a.forEach(Re=>{const{element:Ye,player:Ne,instruction:ht}=Re;if(i.has(Ye)){if(_.has(Ye))return Ne.onDestroy(()=>Km(Ye,ht.toStyles)),Ne.disabled=!0,Ne.overrideTotalTime(ht.totalTime),void r.push(Ne);let _t=xt;if(we.size>1){let X=Ye;const me=[];for(;X=X.parentNode;){const _e=we.get(X);if(_e){_t=_e;break}me.push(X)}me.forEach(_e=>we.set(_e,_t))}const _n=this._buildAnimation(Ne.namespaceId,ht,Ve,o,de,Bt);if(Ne.setRealPlayer(_n),_t===xt)Te.push(Ne);else{const X=this.playersByElement.get(_t);X&&X.length&&(Ne.parentPlayer=P0(X)),r.push(Ne)}}else tC(Ye,ht.fromStyles),Ne.onDestroy(()=>Km(Ye,ht.toStyles)),Se.push(Ne),_.has(Ye)&&r.push(Ne)}),Se.forEach(Re=>{const Ye=o.get(Re.element);if(Ye&&Ye.length){const Ne=P0(Ye);Re.setRealPlayer(Ne)}}),r.forEach(Re=>{Re.parentPlayer?Re.syncPlayerEvents(Re.parentPlayer):Re.destroy()});for(let Re=0;Re<Z.length;Re++){const Ye=Z[Re],Ne=Ye[Ff];if(fE(Ye,IR),Ne&&Ne.hasAnimation)continue;let ht=[];if(u.size){let _n=u.get(Ye);_n&&_n.length&&ht.push(..._n);let X=this.driver.query(Ye,n6,!0);for(let me=0;me<X.length;me++){let _e=u.get(X[me]);_e&&_e.length&&ht.push(..._e)}}const _t=ht.filter(_n=>!_n.destroyed);_t.length?Eye(this,Ye,_t):this.processLeaveNode(Ye)}return Z.length=0,Te.forEach(Re=>{this.players.push(Re),Re.onDone(()=>{Re.destroy();const Ye=this.players.indexOf(Re);this.players.splice(Ye,1)}),Re.play()}),Te}elementContainsData(t,e){let i=!1;const r=e[Ff];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let a=[];if(e){const u=this.playersByQueriedElement.get(t);u&&(a=u)}else{const u=this.playersByElement.get(t);if(u){const h=!o||o==QT;u.forEach(f=>{f.queued||!h&&f.triggerName!=r||a.push(f)})}}return(i||r)&&(a=a.filter(u=>!(i&&i!=u.namespaceId||r&&r!=u.triggerName))),a}_beforeAnimationBuild(t,e,i){const o=e.element,a=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName;for(const h of e.timelines){const f=h.element,_=f!==o,C=yA(i,f,[]);this._getPreviousPlayers(f,_,a,u,e.toState).forEach(B=>{const U=B.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),B.destroy(),C.push(B)})}tC(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,a){const u=e.triggerName,h=e.element,f=[],_=new Set,C=new Set,F=e.timelines.map(U=>{const H=U.element;_.add(H);const Z=H[Ff];if(Z&&Z.removedBeforeQueried)return new kD(U.duration,U.delay);const q=H!==h,W=function Sye(n){const t=[];return SZ(n,t),t}((i.get(H)||_ye).map(Ve=>Ve.getRealPlayer())).filter(Ve=>!!Ve.element&&Ve.element===H),he=o.get(H),xe=a.get(H),Ze=JK(0,this._normalizer,0,U.keyframes,he,xe),ct=this._buildPlayer(U,Ze,W);if(U.subTimeline&&r&&C.add(H),q){const Ve=new g6(t,u,H);Ve.setRealPlayer(ct),f.push(Ve)}return ct});f.forEach(U=>{yA(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function bye(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,U.element,U))}),_.forEach(U=>Mf(U,aZ));const B=P0(F);return B.onDestroy(()=>{_.forEach(U=>fE(U,aZ)),Km(h,e.toStyles)}),C.forEach(U=>{yA(r,U,[]).push(B)}),B}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new kD(t.duration,t.delay)}}class g6{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new kD,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>$3(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){yA(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function QR(n){return n&&1===n.nodeType}function CZ(n,t){const e=n.style.display;return n.style.display=t??"none",e}function xZ(n,t,e,i,r){const o=[];e.forEach(h=>o.push(CZ(h)));const a=[];i.forEach((h,f)=>{const _=new Map;h.forEach(C=>{const F=t.computeStyle(f,C,r);_.set(C,F),(!F||0==F.length)&&(f[Ff]=yye,a.push(f))}),n.set(f,_)});let u=0;return e.forEach(h=>CZ(h,o[u++])),a}function EZ(n,t){const e=new Map;if(n.forEach(u=>e.set(u,[])),0==t.length)return e;const r=new Set(t),o=new Map;function a(u){if(!u)return 1;let h=o.get(u);if(h)return h;const f=u.parentNode;return h=e.has(f)?f:r.has(f)?1:a(f),o.set(u,h),h}return t.forEach(u=>{const h=a(u);1!==h&&e.get(h).push(u)}),e}function Mf(n,t){n.classList?.add(t)}function fE(n,t){n.classList?.remove(t)}function Eye(n,t,e){P0(e).onDone(()=>n.processLeaveNode(t))}function SZ(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof T7?SZ(i.players,t):t.push(i)}}function IZ(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class HR{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new wye(t,e,i),this._timelineEngine=new Aye(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const a=t+"-"+r;let u=this._triggerCache[a];if(!u){const h=[],_=o6(this._driver,o,h,[]);if(h.length)throw function d_e(n,t){return new s.vHH(3404,!1)}();u=function cye(n,t,e){return new uye(n,t,e)}(r,_,this._normalizer),this._triggerCache[a]=u}this._transitionEngine.registerTrigger(e,r,u)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,a]=XK(i);this._timelineEngine.command(o,e,a,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[a,u]=XK(i);return this._timelineEngine.listen(a,e,u,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Tye=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Km(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Km(this._element,this._initialStyles),this._endStyles&&(Km(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(tC(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(tC(this._element,this._endStyles),this._endStyles=null),Km(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function m6(n){let t=null;return n.forEach((e,i)=>{(function Bye(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class DZ{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:AZ(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Fye{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return iZ(t,e)}getParentElement(t){return X3(t)}query(t,e,i){return rZ(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,a=[]){const h={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(h.easing=o);const f=new Map,_=a.filter(B=>B instanceof DZ);(function O_e(n,t){return 0===n||0===t})(i,r)&&_.forEach(B=>{B.currentSnapshot.forEach((U,H)=>f.set(H,U))});let C=function F_e(n){return n.length?n[0]instanceof Map?n:n.map(t=>lZ(t)):[]}(e).map(B=>U0(B));C=function L_e(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,a)=>{i.has(a)||r.push(a),i.set(a,o)}),r.length)for(let o=1;o<t.length;o++){let a=t[o];r.forEach(u=>a.set(u,AZ(n,u)))}}return t}(t,C,f);const F=function Dye(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=m6(t[0]),t.length>1&&(i=m6(t[t.length-1]))):t instanceof Map&&(e=m6(t)),e||i?new Tye(n,e,i):null}(t,C);return new DZ(t,C,h,F)}}let Mye=(()=>{class n extends E7{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?I7(e):e;return TZ(this._renderer,null,i,"register",[r]),new kye(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(Ke))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class kye extends Qte{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Rye(this._id,t,e||{},this._renderer)}}class Rye{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return TZ(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function TZ(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const BZ="@.disabled";let Oye=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,a)=>{const u=a?.parentNode(o);u&&a.removeChild(u,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let _=this._rendererCache.get(o);return _||(_=new FZ("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,_)),_}const a=i.id,u=i.id+"-"+this._currentId;this._currentId++,this.engine.register(u,e);const h=_=>{Array.isArray(_)?_.forEach(h):this.engine.registerTrigger(a,u,e,_.name,_)};return i.data.animation.forEach(h),new Lye(this,u,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[a,u]=o;a(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(HR),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class FZ{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==BZ?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Lye extends FZ{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==BZ?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function Nye(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),a="";return"@"!=o.charAt(0)&&([o,a]=function Pye(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,a,u=>{this.factory.scheduleListenerCallback(u._data||-1,i,u)})}return this.delegate.listen(t,e,i)}}let Uye=(()=>{class n extends HR{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ke),s.LFG(e6),s.LFG(d6),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const MZ=[{provide:E7,useClass:Mye},{provide:d6,useFactory:function Qye(){return new sye}},{provide:HR,useClass:Uye},{provide:s.FYo,useFactory:function Hye(n,t,e){return new Oye(n,t,e)},deps:[Cu,HR,s.R0b]}],_6=[{provide:e6,useFactory:()=>new Fye},{provide:s.QbO,useValue:"BrowserAnimations"},...MZ],kZ=[{provide:e6,useClass:sZ},{provide:s.QbO,useValue:"NoopAnimations"},...MZ];let RZ=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?kZ:_6}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:_6,imports:[Xl]}),n})(),OZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),eve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[OZ,FD,hr,xM,OZ,hr]}),n})(),jZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[B4]}),n})(),b0e=(()=>{class n{constructor(e,i){Ta(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:Jp,useValue:{...F4,...e}},{provide:M4,useValue:i,multi:!0},{provide:Qx,useValue:!0}]:[{provide:Jp,useValue:{...F4,...e}},{provide:M4,useValue:i,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Qx),s.LFG(s.Lbi))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Gz,Rq,jZ,Gz,Rq,jZ]}),n})();const GZ_firebaseConfig={apiKey:"AIzaSyBNWbqdAaq44dWHELm2m1jU0xY6graA9uo",authDomain:"rotiniel-35c5b.firebaseapp.com",projectId:"rotiniel-35c5b",storageBucket:"rotiniel-35c5b.appspot.com",messagingSenderId:"546264380520",appId:"1:546264380520:web:b09f4bc5e62c611818f7dd",measurementId:"G-VXQ0LYQVDB"};let C0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Eb]}),n})(),y6=(()=>{class n{constructor(){this.changes=new nn.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const R0e={provide:y6,deps:[[new s.FiY,new s.tp0,y6]],useFactory:function k0e(n){return n||new y6}};let O0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[R0e,MM],imports:[hr,ea,Sb,kM,C0e,_z,FD,hr]}),n})();const{isArray:L0e}=Array;function ZZ(n,t){return t?e=>ll(t.pipe((0,Jr.q)(1),function Q0e(){return(0,Wr.e)((n,t)=>{n.subscribe(new Nr.Q(t,W5.Z))})}()),e.pipe(ZZ(n))):(0,wo.z)((e,i)=>n(e,i).pipe((0,Jr.q)(1),fd(e)))}function v6(n,t=Mp.z){const e=B8(n,t);return ZZ(()=>e)}const H0e=(0,Qh.d)(n=>function(e=null){n(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e});function j0e(n){throw new H0e(n)}class $Z{validateSignature(t){return Promise.resolve(null)}validateAtHash(t){return Promise.resolve(!0)}}class YZ{}class w6{}let G0e=(()=>{class n extends w6{now(){return Date.now()}new(){return new Date}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class WZ{}class b6{}let z0e=(()=>{class n{constructor(){this.data=new Map}getItem(e){return this.data.get(e)}removeItem(e){this.data.delete(e)}setItem(e,i){this.data.set(e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class C6{constructor(t){this.type=t}}class wA extends C6{constructor(t,e=null){super(t),this.info=e}}class Fy extends C6{constructor(t,e=null){super(t),this.info=e}}class vl extends C6{constructor(t,e,i=null){super(t),this.reason=e,this.params=i}}function JZ(n){const t=n.replace(/\-/g,"+").replace(/\_/g,"/");return decodeURIComponent(atob(t).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function x6(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}class jR{constructor(t){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=2e4,this.silentRefreshTimeout=2e4,this.dummyClientSecret="",this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.decreaseExpirationBySec=0,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.disableIdTokenTimer=!1,this.checkOrigin=!1,this.openUri=e=>{location.href=e},t&&Object.assign(this,t)}}class HT{encodeKey(t){return encodeURIComponent(t)}encodeValue(t){return encodeURIComponent(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}class XZ{}let e$=(()=>{class n{getHashFragmentParams(e){let i=e||window.location.hash;if(i=decodeURIComponent(i),0!==i.indexOf("#"))return{};const r=i.indexOf("?");return i=i.substr(r>-1?r+1:1),this.parseQueryString(i)}parseQueryString(e){const i={};let r,o,a,u,h,f,_;if(null===e)return i;r=e.split("&");for(let C=0;C<r.length;C++)o=r[C],a=o.indexOf("="),-1===a?(u=o,h=null):(u=o.substr(0,a),h=o.substr(a+1)),f=decodeURIComponent(u),_=decodeURIComponent(h),"/"===f.substr(0,1)&&(f=f.substr(1)),i[f]=_;return i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const K0e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function E6(n,t,e,i,r){let o,a,u,h,f,_,C,F,B,U,H,Z,q;for(;r>=64;){for(o=t[0],a=t[1],u=t[2],h=t[3],f=t[4],_=t[5],C=t[6],F=t[7],U=0;U<16;U++)H=i+4*U,n[U]=(255&e[H])<<24|(255&e[H+1])<<16|(255&e[H+2])<<8|255&e[H+3];for(U=16;U<64;U++)B=n[U-2],Z=(B>>>17|B<<15)^(B>>>19|B<<13)^B>>>10,B=n[U-15],q=(B>>>7|B<<25)^(B>>>18|B<<14)^B>>>3,n[U]=(Z+n[U-7]|0)+(q+n[U-16]|0);for(U=0;U<64;U++)Z=(((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&_^~f&C)|0)+(F+(K0e[U]+n[U]|0)|0)|0,q=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&a^o&u^a&u)|0,F=C,C=_,_=f,f=h+Z|0,h=u,u=a,a=o,o=Z+q|0;t[0]+=o,t[1]+=a,t[2]+=u,t[3]+=h,t[4]+=f,t[5]+=_,t[6]+=C,t[7]+=F,i+=64,r-=64}return i}class GR{constructor(){this.digestLength=32,this.blockSize=64,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let t=0;t<this.buffer.length;t++)this.buffer[t]=0;for(let t=0;t<this.temp.length;t++)this.temp[t]=0;this.reset()}update(t,e=t.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let i=0;if(this.bytesHashed+=e,this.bufferLength>0){for(;this.bufferLength<64&&e>0;)this.buffer[this.bufferLength++]=t[i++],e--;64===this.bufferLength&&(E6(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(e>=64&&(i=E6(this.temp,this.state,t,i,e),e%=64);e>0;)this.buffer[this.bufferLength++]=t[i++],e--;return this}finish(t){if(!this.finished){const e=this.bytesHashed,i=this.bufferLength,r=e/536870912|0,o=e<<3,a=e%64<56?64:128;this.buffer[i]=128;for(let u=i+1;u<a-8;u++)this.buffer[u]=0;this.buffer[a-8]=r>>>24&255,this.buffer[a-7]=r>>>16&255,this.buffer[a-6]=r>>>8&255,this.buffer[a-5]=r>>>0&255,this.buffer[a-4]=o>>>24&255,this.buffer[a-3]=o>>>16&255,this.buffer[a-2]=o>>>8&255,this.buffer[a-1]=o>>>0&255,E6(this.temp,this.state,this.buffer,0,a),this.finished=!0}for(let e=0;e<8;e++)t[4*e+0]=this.state[e]>>>24&255,t[4*e+1]=this.state[e]>>>16&255,t[4*e+2]=this.state[e]>>>8&255,t[4*e+3]=this.state[e]>>>0&255;return this}digest(){const t=new Uint8Array(this.digestLength);return this.finish(t),t}_saveState(t){for(let e=0;e<this.state.length;e++)t[e]=this.state[e]}_restoreState(t,e){for(let i=0;i<this.state.length;i++)this.state[i]=t[i];this.bytesHashed=e,this.finished=!1,this.bufferLength=0}}new Uint8Array(32);class n${}let ewe=(()=>{class n{calcHash(e,i){return(0,bt.Z)(function*(){return function X0e(n){var t,e=[];for(t=0;t<n.length;t++)e.push(String.fromCharCode(n[t]));return e.join("")}(function Z0e(n){const t=(new GR).update(n),e=t.digest();return t.clean(),e}(function J0e(n){if("string"!=typeof n)throw new TypeError("expected string");var t,e=n,i=new Uint8Array(e.length);for(t=0;t<e.length;t++)i[t]=e.charCodeAt(t);return i}(e)))})()}toHashString2(e){let i="";for(let r of e)i+=String.fromCharCode(r);return i}toHashString(e){const i=new Uint8Array(e);let r="";for(let o of i)r+=String.fromCharCode(o);return r}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),i$=(()=>{class n extends jR{constructor(e,i,r,o,a,u,h,f,_,C){super(),this.ngZone=e,this.http=i,this.config=a,this.urlHelper=u,this.logger=h,this.crypto=f,this.dateTimeService=C,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new nn.x,this.discoveryDocumentLoadedSubject=new nn.x,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=_,a||(a={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),o&&(this.tokenValidationHandler=o),a&&this.configure(a);try{r?this.setStorage(r):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch(F){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",F)}if(this.checkLocalStorageAccessable()){const F=window?.navigator?.userAgent;(F?.includes("MSIE ")||F?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;const e="test";try{return!(typeof window.localStorage>"u"||(localStorage.setItem(e,e),localStorage.removeItem(e),0))}catch{return!1}}configure(e){Object.assign(this,new jR,e),this.config=Object.assign({},new jR,e),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe(_i(e=>"token_received"===e.type)).subscribe(e=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(e={},i,r=!0){let o=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe((0,Cr.b)(a=>{"token_received"===a.type?o=!0:"logout"===a.type&&(o=!1)}),_i(a=>"token_expires"===a.type&&(null==i||"any"===i||a.info===i)),DD(1e3)).subscribe(a=>{o&&this.refreshInternal(e,r).catch(u=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(e,i){return this.useSilentRefresh||"code"!==this.responseType?this.silentRefresh(e,i):this.refreshToken()}loadDiscoveryDocumentAndTryLogin(e=null){return this.loadDiscoveryDocument().then(i=>this.tryLogin(e))}loadDiscoveryDocumentAndLogin(e=null){return this.loadDiscoveryDocumentAndTryLogin(e=e||{}).then(i=>!(!this.hasValidIdToken()||!this.hasValidAccessToken())||(this.initLoginFlow("string"==typeof e.state?e.state:""),!1))}debug(...e){this.showDebugInformation&&this.logger.debug.apply(this.logger,e)}validateUrlFromDiscoveryDocument(e){const i=[],r=this.validateUrlForHttps(e),o=this.validateUrlAgainstIssuer(e);return r||i.push("https for all urls required. Also for urls received by discovery."),o||i.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),i}validateUrlForHttps(e){if(!e)return!0;const i=e.toLowerCase();return!(!1!==this.requireHttps&&(!i.match(/^http:\/\/localhost($|[:\/])/)&&!i.match(/^http:\/\/localhost($|[:\/])/)||"remoteOnly"!==this.requireHttps))||i.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(e,i){if(!e)throw new Error(`'${i}' should not be null`);if(!this.validateUrlForHttps(e))throw new Error(`'${i}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(e){return!this.strictDiscoveryDocumentValidation||!e||e.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){typeof window>"u"?this.debug("timer not supported on this plattform"):((this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe(_i(e=>"token_received"===e.type)).subscribe(e=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()}))}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),!this.disableIdTokenTimer&&this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){const e=this.getAccessTokenExpiration(),i=this.getAccessTokenStoredAt(),r=this.calcTimeout(i,e);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=An(new Fy("token_expires","access_token")).pipe(v6(r)).subscribe(o=>{this.ngZone.run(()=>{this.eventsSubject.next(o)})})})}setupIdTokenTimer(){const e=this.getIdTokenExpiration(),i=this.getIdTokenStoredAt(),r=this.calcTimeout(i,e);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=An(new Fy("token_expires","id_token")).pipe(v6(r)).subscribe(o=>{this.ngZone.run(()=>{this.eventsSubject.next(o)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(e,i){const r=this.dateTimeService.now(),a=Math.max(0,(i-e)*this.timeoutFactor-(r-e)),u=2147483647;return a>u?u:a}setStorage(e){this._storage=e,this.configChanged()}loadDiscoveryDocument(e=null){return new Promise((i,r)=>{e||((e=this.issuer||"").endsWith("/")||(e+="/"),e+=".well-known/openid-configuration"),this.validateUrlForHttps(e)?this.http.get(e).subscribe(o=>{if(!this.validateDiscoveryDocument(o))return this.eventsSubject.next(new vl("discovery_document_validation_error",null)),void r("discovery_document_validation_error");this.loginUrl=o.authorization_endpoint,this.logoutUrl=o.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=o.grant_types_supported,this.issuer=o.issuer,this.tokenEndpoint=o.token_endpoint,this.userinfoEndpoint=o.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=o.jwks_uri,this.sessionCheckIFrameUrl=o.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(o),this.revocationEndpoint=o.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(a=>{const h=new wA("discovery_document_loaded",{discoveryDocument:o,jwks:a});this.eventsSubject.next(h),i(h)}).catch(a=>{this.eventsSubject.next(new vl("discovery_document_load_error",a)),r(a)})},o=>{this.logger.error("error loading discovery document",o),this.eventsSubject.next(new vl("discovery_document_load_error",o)),r(o)}):r("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).")})}loadJwks(){return new Promise((e,i)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(r=>{this.jwks=r,e(r)},r=>{this.logger.error("error loading jwks",r),this.eventsSubject.next(new vl("jwks_load_error",r)),i(r)}):e(null)})}validateDiscoveryDocument(e){let i;return this.skipIssuerCheck||e.issuer===this.issuer?(i=this.validateUrlFromDiscoveryDocument(e.authorization_endpoint),i.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",i),!1):(i=this.validateUrlFromDiscoveryDocument(e.end_session_endpoint),i.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",i),!1):(i=this.validateUrlFromDiscoveryDocument(e.token_endpoint),i.length>0&&this.logger.error("error validating token_endpoint in discovery document",i),i=this.validateUrlFromDiscoveryDocument(e.revocation_endpoint),i.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",i),i=this.validateUrlFromDiscoveryDocument(e.userinfo_endpoint),i.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",i),!1):(i=this.validateUrlFromDiscoveryDocument(e.jwks_uri),i.length>0?(this.logger.error("error validating jwks_uri in discovery document",i),!1):(this.sessionChecksEnabled&&!e.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0))))):(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+e.issuer),!1)}fetchTokenUsingPasswordFlowAndLoadUserProfile(e,i,r=new pl){return this.fetchTokenUsingPasswordFlow(e,i,r).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((e,i)=>{const r=(new pl).set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:r,observe:"response",responseType:"text"}).subscribe(o=>{if(this.debug("userinfo received",JSON.stringify(o)),o.headers.get("content-type").startsWith("application/json")){let a=JSON.parse(o.body);const u=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!u.sub||a.sub!==u.sub))return void i("if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.\nif you are not using oidc but just oauth2 password flow set oidc to false");a=Object.assign({},u,a),this._storage.setItem("id_token_claims_obj",JSON.stringify(a)),this.eventsSubject.next(new wA("user_profile_loaded")),e({info:a})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new wA("user_profile_loaded")),e(JSON.parse(o.body))},o=>{this.logger.error("error loading user info",o),this.eventsSubject.next(new vl("user_profile_load_error",o)),i(o)})})}fetchTokenUsingPasswordFlow(e,i,r=new pl){return this.fetchTokenUsingGrant("password",{username:e,password:i},r)}fetchTokenUsingGrant(e,i,r=new pl){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let o=new Jc({encoder:new HT}).set("grant_type",e).set("scope",this.scope);if(this.useHttpBasicAuth){const a=btoa(`${this.clientId}:${this.dummyClientSecret}`);r=r.set("Authorization","Basic "+a)}if(this.useHttpBasicAuth||(o=o.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(o=o.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const a of Object.getOwnPropertyNames(this.customQueryParams))o=o.set(a,this.customQueryParams[a]);for(const a of Object.keys(i))o=o.set(a,i[a]);return r=r.set("Content-Type","application/x-www-form-urlencoded"),new Promise((a,u)=>{this.http.post(this.tokenEndpoint,o,{headers:r}).subscribe(h=>{this.debug("tokenResponse",h),this.storeAccessTokenResponse(h.access_token,h.refresh_token,h.expires_in||this.fallbackAccessTokenExpirationTimeInSec,h.scope,this.extractRecognizedCustomParameters(h)),this.oidc&&h.id_token&&this.processIdToken(h.id_token,h.access_token).then(f=>{this.storeIdToken(f),a(h)}),this.eventsSubject.next(new wA("token_received")),a(h)},h=>{this.logger.error("Error performing ${grantType} flow",h),this.eventsSubject.next(new vl("token_error",h)),u(h)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((e,i)=>{let r=new Jc({encoder:new HT}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),o=(new pl).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const a=btoa(`${this.clientId}:${this.dummyClientSecret}`);o=o.set("Authorization","Basic "+a)}if(this.useHttpBasicAuth||(r=r.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(r=r.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const a of Object.getOwnPropertyNames(this.customQueryParams))r=r.set(a,this.customQueryParams[a]);this.http.post(this.tokenEndpoint,r,{headers:o}).pipe(ys(a=>this.oidc&&a.id_token?(0,jn.D)(this.processIdToken(a.id_token,a.access_token,!0)).pipe((0,Cr.b)(u=>this.storeIdToken(u)),(0,an.U)(u=>a)):An(a))).subscribe(a=>{this.debug("refresh tokenResponse",a),this.storeAccessTokenResponse(a.access_token,a.refresh_token,a.expires_in||this.fallbackAccessTokenExpirationTimeInSec,a.scope,this.extractRecognizedCustomParameters(a)),this.eventsSubject.next(new wA("token_received")),this.eventsSubject.next(new wA("token_refreshed")),e(a)},a=>{this.logger.error("Error refreshing token",a),this.eventsSubject.next(new vl("token_refresh_error",a)),i(a)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=e=>{const i=this.processMessageEventMessage(e);this.checkOrigin&&e.origin!==location.origin&&console.error("wrong origin requested silent refresh!"),this.tryLogin({customHashFragment:i,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(r=>this.debug("tryLogin during silent refresh failed",r))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(e={},i=!0){const r=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(e.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");const o=this.document.getElementById(this.silentRefreshIFrameName);o&&this.document.body.removeChild(o),this.silentRefreshSubject=r.sub;const a=this.document.createElement("iframe");return a.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener(),this.createLoginUrl(null,null,this.silentRefreshRedirectUri||this.redirectUri,i,e).then(C=>{a.setAttribute("src",C),this.silentRefreshShowIFrame||(a.style.display="none"),this.document.body.appendChild(a)}),function P0e(...n){return 1===(n=function N0e(n){return 1===n.length&&L0e(n[0])?n[0]:n}(n)).length?(0,Qa.Xf)(n[0]):new mr.y(function U0e(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push((0,Qa.Xf)(n[i]).subscribe(new Nr.Q(t,r=>{if(e){for(let o=0;o<e.length;o++)o!==i&&e[o].unsubscribe();e=null}t.next(r)})))}}(n))}([this.events.pipe(_i(C=>C instanceof vl),Uo()),this.events.pipe(_i(C=>"token_received"===C.type),Uo()),An(new vl("silent_refresh_timeout",null)).pipe(v6(this.silentRefreshTimeout))]).pipe((0,an.U)(C=>{if(C instanceof vl)throw"silent_refresh_timeout"===C.type||(C=new vl("silent_refresh_error",C)),this.eventsSubject.next(C),C;return"token_received"===C.type&&(C=new wA("silently_refreshed"),this.eventsSubject.next(C)),C})).toPromise()}initImplicitFlowInPopup(e){return this.initLoginFlowInPopup(e)}initLoginFlowInPopup(e){return e=e||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(i=>new Promise((r,o)=>{let h,u=null;e.windowRef?e.windowRef&&!e.windowRef.closed&&(u=e.windowRef,u.location.href=i):u=window.open(i,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(e));const f=U=>{this.tryLogin({customHashFragment:U,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{C(),r(!0)},H=>{C(),o(H)})};u?h=window.setInterval(()=>{(!u||u.closed)&&(C(),o(new vl("popup_closed",{})))},500):o(new vl("popup_blocked",{}));const C=()=>{window.clearInterval(h),window.removeEventListener("storage",B),window.removeEventListener("message",F),null!==u&&u.close(),u=null},F=U=>{const H=this.processMessageEventMessage(U);H&&null!==H?(window.removeEventListener("storage",B),f(H)):console.log("false event firing")},B=U=>{"auth_hash"===U.key&&(window.removeEventListener("message",F),f(U.newValue))};window.addEventListener("message",F),window.addEventListener("storage",B)}))}calculatePopupFeatures(e){const i=e.height||470,r=e.width||500,o=window.screenLeft+(window.outerWidth-r)/2;return`location=no,toolbar=no,width=${r},height=${i},top=${window.screenTop+(window.outerHeight-i)/2},left=${o}`}processMessageEventMessage(e){let i="#";if(this.silentRefreshMessagePrefix&&(i+=this.silentRefreshMessagePrefix),!e||!e.data||"string"!=typeof e.data)return;const r=e.data;return r.startsWith(i)?"#"+r.substr(i.length):void 0}canPerformSessionCheck(){return!(!this.sessionChecksEnabled||(this.sessionCheckIFrameUrl?this.getSessionState()?typeof this.document>"u":(console.warn("sessionChecksEnabled is activated but there is no session_state"),1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),1)))}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=e=>{const i=e.origin.toLowerCase(),r=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),r.startsWith(i)){switch(e.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()})}this.debug("got info from session check inframe",e)}else this.debug("sessionCheckEventListener","wrong origin",i,"expected",r,"event",e)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new Fy("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new Fy("session_changed")),this.stopSessionCheckTimer(),this.useSilentRefresh||"code"!==this.responseType?this.silentRefreshRedirectUri?(this.silentRefresh().catch(e=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new Fy("session_terminated")),this.logOut(!0)):this.refreshToken().then(e=>{this.debug("token refresh after session change worked")}).catch(e=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new Fy("session_terminated")),this.logOut(!0)})}waitForSilentRefreshAfterSessionChange(){this.events.pipe(_i(e=>"silently_refreshed"===e.type||"silent_refresh_timeout"===e.type||"silent_refresh_error"===e.type),Uo()).subscribe(e=>{"silently_refreshed"!==e.type&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new Fy("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new Fy("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;const e=this.document.getElementById(this.sessionCheckIFrameName);e&&this.document.body.removeChild(e);const i=this.document.createElement("iframe");i.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener(),i.setAttribute("src",this.sessionCheckIFrameUrl),i.style.display="none",this.document.body.appendChild(i),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){const e=this.document.getElementById(this.sessionCheckIFrameName);e||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);const i=this.getSessionState();i||this.stopSessionCheckTimer(),e.contentWindow.postMessage(this.clientId+" "+i,this.issuer)}createLoginUrl(e="",i="",r="",o=!1,a={}){var u=this;return(0,bt.Z)(function*(){const h=u;let f;f=r||u.redirectUri;const _=yield u.createAndSaveNonce();if(e=e?_+u.config.nonceStateSeparator+encodeURIComponent(e):_,!u.requestAccessToken&&!u.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");u.responseType=u.config.responseType?u.config.responseType:u.oidc&&u.requestAccessToken?"id_token token":u.oidc&&!u.requestAccessToken?"id_token":"token";const C=h.loginUrl.indexOf("?")>-1?"&":"?";let F=h.scope;u.oidc&&!F.match(/(^|\s)openid($|\s)/)&&(F="openid "+F);let B=h.loginUrl+C+"response_type="+encodeURIComponent(h.responseType)+"&client_id="+encodeURIComponent(h.clientId)+"&state="+encodeURIComponent(e)+"&redirect_uri="+encodeURIComponent(f)+"&scope="+encodeURIComponent(F);if(u.responseType.includes("code")&&!u.disablePKCE){const[U,H]=yield u.createChallangeVerifierPairForPKCE();u.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",H):u._storage.setItem("PKCE_verifier",H),B+="&code_challenge="+U,B+="&code_challenge_method=S256"}i&&(B+="&login_hint="+encodeURIComponent(i)),h.resource&&(B+="&resource="+encodeURIComponent(h.resource)),h.oidc&&(B+="&nonce="+encodeURIComponent(_)),o&&(B+="&prompt=none");for(const U of Object.keys(a))B+="&"+encodeURIComponent(U)+"="+encodeURIComponent(a[U]);if(u.customQueryParams)for(const U of Object.getOwnPropertyNames(u.customQueryParams))B+="&"+U+"="+encodeURIComponent(u.customQueryParams[U]);return B})()}initImplicitFlowInternal(e="",i=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let r={},o=null;"string"==typeof i?o=i:"object"==typeof i&&(r=i),this.createLoginUrl(e,o,null,!1,r).then(this.config.openUri).catch(a=>{console.error("Error in initImplicitFlow",a),this.inImplicitFlow=!1})}initImplicitFlow(e="",i=""){""!==this.loginUrl?this.initImplicitFlowInternal(e,i):this.events.pipe(_i(r=>"discovery_document_loaded"===r.type)).subscribe(r=>this.initImplicitFlowInternal(e,i))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(e){const i=this;if(e.onTokenReceived){const r={idClaims:i.getIdentityClaims(),idToken:i.getIdToken(),accessToken:i.getAccessToken(),state:i.state};e.onTokenReceived(r)}}storeAccessTokenResponse(e,i,r,o,a){if(this._storage.setItem("access_token",e),o&&!Array.isArray(o)?this._storage.setItem("granted_scopes",JSON.stringify(o.split(" "))):o&&Array.isArray(o)&&this._storage.setItem("granted_scopes",JSON.stringify(o)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),r){const u=1e3*r,f=this.dateTimeService.new().getTime()+u;this._storage.setItem("expires_at",""+f)}i&&this._storage.setItem("refresh_token",i),a&&a.forEach((u,h)=>{this._storage.setItem(h,u)})}tryLogin(e=null){return"code"===this.config.responseType?this.tryLoginCodeFlow(e).then(i=>!0):this.tryLoginImplicitFlow(e)}parseQueryString(e){return e&&0!==e.length?("?"===e.charAt(0)&&(e=e.substr(1)),this.urlHelper.parseQueryString(e)):{}}tryLoginCodeFlow(e=null){var i=this;return(0,bt.Z)(function*(){const r=(e=e||{}).customHashFragment?e.customHashFragment.substring(1):window.location.search,o=i.getCodePartsFromUrl(r),a=o.code,u=o.state,h=o.session_state;if(!e.preventClearHashAfterLogin){const C=location.origin+location.pathname+location.search.replace(/code=[^&\$]*/,"").replace(/scope=[^&\$]*/,"").replace(/state=[^&\$]*/,"").replace(/session_state=[^&\$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,C)}let[f,_]=i.parseState(u);if(i.state=_,o.error){i.debug("error trying to login"),i.handleLoginError(e,o);const C=new vl("code_error",{},o);return i.eventsSubject.next(C),Promise.reject(C)}if(!e.disableNonceCheck){if(!f)return i.saveRequestedRoute(),Promise.resolve();if(!e.disableOAuth2StateCheck&&!i.validateNonce(f)){const F=new vl("invalid_nonce_in_state",null);return i.eventsSubject.next(F),Promise.reject(F)}}return i.storeSessionState(h),a&&(yield i.getTokenFromCode(a,e),i.restoreRequestedRoute()),Promise.resolve()})()}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){const e=this._storage.getItem("requested_route");e&&history.replaceState(null,"",window.location.origin+e)}getCodePartsFromUrl(e){return e&&0!==e.length?("?"===e.charAt(0)&&(e=e.substr(1)),this.urlHelper.parseQueryString(e)):this.urlHelper.getHashFragmentParams()}getTokenFromCode(e,i){let r=new Jc({encoder:new HT}).set("grant_type","authorization_code").set("code",e).set("redirect_uri",i.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let o;o=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("PKCE_verifier"):this._storage.getItem("PKCE_verifier"),o?r=r.set("code_verifier",o):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(r,i)}fetchAndProcessToken(e,i){i=i||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let r=(new pl).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const o=btoa(`${this.clientId}:${this.dummyClientSecret}`);r=r.set("Authorization","Basic "+o)}return this.useHttpBasicAuth||(e=e.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(e=e.set("client_secret",this.dummyClientSecret)),new Promise((o,a)=>{if(this.customQueryParams)for(let u of Object.getOwnPropertyNames(this.customQueryParams))e=e.set(u,this.customQueryParams[u]);this.http.post(this.tokenEndpoint,e,{headers:r}).subscribe(u=>{this.debug("refresh tokenResponse",u),this.storeAccessTokenResponse(u.access_token,u.refresh_token,u.expires_in||this.fallbackAccessTokenExpirationTimeInSec,u.scope,this.extractRecognizedCustomParameters(u)),this.oidc&&u.id_token?this.processIdToken(u.id_token,u.access_token,i.disableNonceCheck).then(h=>{this.storeIdToken(h),this.eventsSubject.next(new wA("token_received")),this.eventsSubject.next(new wA("token_refreshed")),o(u)}).catch(h=>{this.eventsSubject.next(new vl("token_validation_error",h)),console.error("Error validating tokens"),console.error(h),a(h)}):(this.eventsSubject.next(new wA("token_received")),this.eventsSubject.next(new wA("token_refreshed")),o(u))},u=>{console.error("Error getting token",u),this.eventsSubject.next(new vl("token_refresh_error",u)),a(u)})})}tryLoginImplicitFlow(e=null){let i;i=(e=e||{}).customHashFragment?this.urlHelper.getHashFragmentParams(e.customHashFragment):this.urlHelper.getHashFragmentParams(),this.debug("parsed url",i);const r=i.state;let[o,a]=this.parseState(r);if(this.state=a,i.error){this.debug("error trying to login"),this.handleLoginError(e,i);const C=new vl("token_error",{},i);return this.eventsSubject.next(C),Promise.reject(C)}const u=i.access_token,h=i.id_token,f=i.session_state,_=i.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!u||this.requestAccessToken&&!e.disableOAuth2StateCheck&&!r||this.oidc&&!h)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!f&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!e.disableNonceCheck&&!this.validateNonce(o)){const F=new vl("invalid_nonce_in_state",null);return this.eventsSubject.next(F),Promise.reject(F)}return this.requestAccessToken&&this.storeAccessTokenResponse(u,null,i.expires_in||this.fallbackAccessTokenExpirationTimeInSec,_),this.oidc?this.processIdToken(h,u,e.disableNonceCheck).then(C=>e.validationHandler?e.validationHandler({accessToken:u,idClaims:C.idTokenClaims,idToken:C.idToken,state:r}).then(F=>C):C).then(C=>(this.storeIdToken(C),this.storeSessionState(f),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new wA("token_received")),this.callOnTokenReceivedIfExists(e),this.inImplicitFlow=!1,!0)).catch(C=>(this.eventsSubject.next(new vl("token_validation_error",C)),this.logger.error("Error validating tokens"),this.logger.error(C),Promise.reject(C))):(this.eventsSubject.next(new wA("token_received")),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(e),Promise.resolve(!0))}parseState(e){let i=e,r="";if(e){const o=e.indexOf(this.config.nonceStateSeparator);o>-1&&(i=e.substr(0,o),r=e.substr(o+this.config.nonceStateSeparator.length))}return[i,r]}validateNonce(e){let i;return i=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("nonce"):this._storage.getItem("nonce"),i===e||(console.error("Validating access_token failed, wrong state/nonce.",i,e),!1)}storeIdToken(e){this._storage.setItem("id_token",e.idToken),this._storage.setItem("id_token_claims_obj",e.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+e.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(e){this._storage.setItem("session_state",e)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(e,i){e.onLoginError&&e.onLoginError(i),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(e=6e5){return this.clockSkewInSec||0===this.clockSkewInSec?1e3*this.clockSkewInSec:e}processIdToken(e,i,r=!1){const o=e.split("."),u=JZ(this.padBase64(o[0])),h=JSON.parse(u),_=JZ(this.padBase64(o[1])),C=JSON.parse(_);let F;if(F=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("nonce"):this._storage.getItem("nonce"),Array.isArray(C.aud)){if(C.aud.every(W=>W!==this.clientId)){const W="Wrong audience: "+C.aud.join(",");return this.logger.warn(W),Promise.reject(W)}}else if(C.aud!==this.clientId){const W="Wrong audience: "+C.aud;return this.logger.warn(W),Promise.reject(W)}if(!C.sub){const W="No sub claim in id_token";return this.logger.warn(W),Promise.reject(W)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==C.sub){const W=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${C.sub}`;return this.logger.warn(W),Promise.reject(W)}if(!C.iat){const W="No iat claim in id_token";return this.logger.warn(W),Promise.reject(W)}if(!this.skipIssuerCheck&&C.iss!==this.issuer){const W="Wrong issuer: "+C.iss;return this.logger.warn(W),Promise.reject(W)}if(!r&&C.nonce!==F){const W="Wrong nonce: "+C.nonce;return this.logger.warn(W),Promise.reject(W)}if(this.hasOwnProperty("responseType")&&("code"===this.responseType||"id_token"===this.responseType)&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!C.at_hash){const W="An at_hash is needed!";return this.logger.warn(W),Promise.reject(W)}const B=this.dateTimeService.now(),U=1e3*C.iat,H=1e3*C.exp,Z=this.getClockSkewInMsec();if(U-Z>=B||H+Z-this.decreaseExpirationBySec<=B){const W="Token has expired";return console.error(W),console.error({now:B,issuedAtMSec:U,expiresAtMSec:H}),Promise.reject(W)}const q={accessToken:i,idToken:e,jwks:this.jwks,idTokenClaims:C,idTokenHeader:h,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(q).then(W=>({idToken:e,idTokenClaims:C,idTokenClaimsJson:_,idTokenHeader:h,idTokenHeaderJson:u,idTokenExpiresAt:H})):this.checkAtHash(q).then(W=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!W){const he="Wrong at_hash";return this.logger.warn(he),Promise.reject(he)}return this.checkSignature(q).then(he=>{const Ze={idToken:e,idTokenClaims:C,idTokenClaimsJson:_,idTokenHeader:h,idTokenHeaderJson:u,idTokenExpiresAt:H};return this.disableAtHashCheck?Ze:this.checkAtHash(q).then(ct=>{if(this.requestAccessToken&&!ct){const Ve="Wrong at_hash";return this.logger.warn(Ve),Promise.reject(Ve)}return Ze})})})}getIdentityClaims(){const e=this._storage.getItem("id_token_claims_obj");return e?JSON.parse(e):null}getGrantedScopes(){const e=this._storage.getItem("granted_scopes");return e?JSON.parse(e):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(e){for(;e.length%4!=0;)e+="=";return e}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){const e=this._storage.getItem("expires_at"),i=this.dateTimeService.new();return!(e&&parseInt(e,10)-this.decreaseExpirationBySec<i.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){const e=this._storage.getItem("id_token_expires_at"),i=this.dateTimeService.new();return!(e&&parseInt(e,10)-this.decreaseExpirationBySec<i.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(e){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(e)>=0&&null!==this._storage.getItem(e)?JSON.parse(this._storage.getItem(e)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(e={},i=""){let r=!1;"boolean"==typeof e&&(r=e,e={});const o=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(u=>this._storage.removeItem(u)),this.silentRefreshSubject=null,this.eventsSubject.next(new Fy("logout")),!this.logoutUrl||r)return;let a;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)a=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(o)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let u=new Jc({encoder:new HT});o&&(u=u.set("id_token_hint",o));const h=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";h&&(u=u.set("post_logout_redirect_uri",h),i&&(u=u.set("state",i)));for(let f in e)u=u.set(f,e[f]);a=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+u.toString()}this.config.openUri(a)}createAndSaveNonce(){const e=this;return this.createNonce().then(function(i){return e.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",i):e._storage.setItem("nonce",i),i})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();const e=this.document.getElementById(this.silentRefreshIFrameName);e&&e.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();const i=this.document.getElementById(this.sessionCheckIFrameName);i&&i.remove()}createNonce(){return new Promise(e=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~";let r=45,o="";const a=typeof self>"u"?null:self.crypto||self.msCrypto;if(a){let u=new Uint8Array(r);a.getRandomValues(u),u.map||(u.map=Array.prototype.map),u=u.map(h=>i.charCodeAt(h%i.length)),o=String.fromCharCode.apply(null,u)}else for(;0<r--;)o+=i[Math.random()*i.length|0];e(x6(o))})}checkAtHash(e){var i=this;return(0,bt.Z)(function*(){return i.tokenValidationHandler?i.tokenValidationHandler.validateAtHash(e):(i.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})()}checkSignature(e){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(e):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(e="",i={}){return"code"===this.responseType?this.initCodeFlow(e,i):this.initImplicitFlow(e,i)}initCodeFlow(e="",i={}){""!==this.loginUrl?this.initCodeFlowInternal(e,i):this.events.pipe(_i(r=>"discovery_document_loaded"===r.type)).subscribe(r=>this.initCodeFlowInternal(e,i))}initCodeFlowInternal(e="",i={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let r={},o=null;"string"==typeof i?o=i:"object"==typeof i&&(r=i),this.createLoginUrl(e,o,null,!1,r).then(this.config.openUri).catch(a=>{console.error("Error in initAuthorizationCodeFlow"),console.error(a)})}createChallangeVerifierPairForPKCE(){var e=this;return(0,bt.Z)(function*(){if(!e.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");const i=yield e.createNonce();return[x6(yield e.crypto.calcHash(i,"sha-256")),i]})()}extractRecognizedCustomParameters(e){let i=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(r=>{e[r]&&i.set(r,JSON.stringify(e[r]))}),i}revokeTokenAndLogout(e={},i=!1){let r=this.revocationEndpoint,o=this.getAccessToken(),a=this.getRefreshToken();if(!o)return Promise.resolve();let u=new Jc({encoder:new HT}),h=(new pl).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const f=btoa(`${this.clientId}:${this.dummyClientSecret}`);h=h.set("Authorization","Basic "+f)}if(this.useHttpBasicAuth||(u=u.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(u=u.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const f of Object.getOwnPropertyNames(this.customQueryParams))u=u.set(f,this.customQueryParams[f]);return new Promise((f,_)=>{let C,F;if(o){let B=u.set("token",o).set("token_type_hint","access_token");C=this.http.post(r,B,{headers:h})}else C=An(null);if(a){let B=u.set("token",a).set("token_type_hint","refresh_token");F=this.http.post(r,B,{headers:h})}else F=An(null);i&&(C=C.pipe(Qo(B=>0===B.status?An(null):ro(B))),F=F.pipe(Qo(B=>0===B.status?An(null):ro(B)))),al([C,F]).subscribe(B=>{this.logOut(e),f(B),this.logger.info("Token successfully revoked")},B=>{this.logger.error("Error revoking token",B),this.eventsSubject.next(new vl("token_revoke_error",B)),_(B)})})}clearLocationHash(){""!=location.hash&&(location.hash="")}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(hm),s.LFG(b6,8),s.LFG(XZ,8),s.LFG(jR,8),s.LFG(e$),s.LFG(WZ),s.LFG(n$,8),s.LFG(Ke),s.LFG(w6))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class r${}class twe{handleError(t){return ro(t)}}let nwe=(()=>{class n{constructor(e,i,r){this.oAuthService=e,this.errorHandler=i,this.moduleConfig=r}checkUrl(e){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(e):!this.moduleConfig.resourceServer.allowedUrls||!!this.moduleConfig.resourceServer.allowedUrls.find(i=>e.toLowerCase().startsWith(i.toLowerCase()))}intercept(e,i){const r=e.url.toLowerCase();return this.moduleConfig&&this.moduleConfig.resourceServer&&this.checkUrl(r)?this.moduleConfig.resourceServer.sendAccessToken?(0,iu.T)(An(this.oAuthService.getAccessToken()).pipe(_i(a=>!!a)),this.oAuthService.events.pipe(_i(a=>"token_received"===a.type),function V0e(n,t){const{first:e,each:i,with:r=j0e,scheduler:o=t??Mp.z,meta:a=null}=T8(n)?{first:n}:"number"==typeof n?{each:n}:n;if(null==e&&null==i)throw new TypeError("No timeout provided.");return(0,Wr.e)((u,h)=>{let f,_,C=null,F=0;const B=U=>{_=(0,Su.f)(h,o,()=>{try{f.unsubscribe(),(0,Qa.Xf)(r({meta:a,lastValue:C,seen:F})).subscribe(h)}catch(H){h.error(H)}},U)};f=u.subscribe(new Nr.Q(h,U=>{_?.unsubscribe(),F++,h.next(C=U),i>0&&B(i)},void 0,void 0,()=>{_?.closed||_?.unsubscribe(),C=null})),B(null!=e?"number"==typeof e?e:+e-o.now():i)})}(this.oAuthService.waitForTokenInMsec||0),Qo(a=>An(null)),(0,an.U)(a=>this.oAuthService.getAccessToken()))).pipe((0,Jr.q)(1),(0,wo.z)(a=>{if(a){const h=e.headers.set("Authorization","Bearer "+a);e=e.clone({headers:h})}return i.handle(e).pipe(Qo(u=>this.errorHandler.handleError(u)))})):i.handle(e).pipe(Qo(a=>this.errorHandler.handleError(a))):i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(i$),s.LFG(r$),s.LFG(YZ,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function iwe(){return console}function rwe(){return typeof sessionStorage<"u"?sessionStorage:new z0e}function swe(n=null,t=$Z){return(0,s.MR2)([i$,e$,{provide:WZ,useFactory:iwe},{provide:b6,useFactory:rwe},{provide:XZ,useClass:t},{provide:n$,useClass:ewe},{provide:r$,useClass:twe},{provide:YZ,useValue:n},{provide:_C,useClass:nwe,multi:!0},{provide:w6,useClass:G0e}])}let owe=(()=>{class n{static forRoot(e=null,i=$Z){return{ngModule:n,providers:[swe(e,i)]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[ea]}),n})();new s.OlP("AUTH_CONFIG");class Zm{constructor(t,e){this.document=t,this.platformId=e,this.documentIsAccessible=$l(this.platformId)}static getCookieRegExp(t){const e=t.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+e+"|;\\s*"+e+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(t){try{return decodeURIComponent(t)}catch{return t}}check(t){return!!this.documentIsAccessible&&(t=encodeURIComponent(t),Zm.getCookieRegExp(t).test(this.document.cookie))}get(t){if(this.documentIsAccessible&&this.check(t)){t=encodeURIComponent(t);const i=Zm.getCookieRegExp(t).exec(this.document.cookie);return i[1]?Zm.safeDecodeURIComponent(i[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const t={},e=this.document;return e.cookie&&""!==e.cookie&&e.cookie.split(";").forEach(i=>{const[r,o]=i.split("=");t[Zm.safeDecodeURIComponent(r.replace(/^ /,""))]=Zm.safeDecodeURIComponent(o)}),t}set(t,e,i,r,o,a,u){if(!this.documentIsAccessible)return;if("number"==typeof i||i instanceof Date||r||o||a||u)return void this.set(t,e,{expires:i,path:r,domain:o,secure:a,sameSite:u||"Lax"});let h=encodeURIComponent(t)+"="+encodeURIComponent(e)+";";const f=i||{};f.expires&&(h+="number"==typeof f.expires?"expires="+new Date((new Date).getTime()+1e3*f.expires*60*60*24).toUTCString()+";":"expires="+f.expires.toUTCString()+";"),f.path&&(h+="path="+f.path+";"),f.domain&&(h+="domain="+f.domain+";"),!1===f.secure&&"None"===f.sameSite&&(f.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${t} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),f.secure&&(h+="secure;"),f.sameSite||(f.sameSite="Lax"),h+="sameSite="+f.sameSite+";",this.document.cookie=h}delete(t,e,i,r,o="Lax"){if(!this.documentIsAccessible)return;const a=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(t,"",{expires:a,path:e,domain:i,secure:r,sameSite:o})}deleteAll(t,e,i,r="Lax"){if(!this.documentIsAccessible)return;const o=this.getAll();for(const a in o)o.hasOwnProperty(a)&&this.delete(a,t,e,i,r)}static#e=this.\u0275fac=function(e){return new(e||Zm)(s.LFG(Ke),s.LFG(s.Lbi))};static#t=this.\u0275prov=s.Yz7({token:Zm,factory:Zm.\u0275fac,providedIn:"root"})}let s$=(()=>{class n{constructor(e){this.userService=e}initializeApp(){var e=this.userService.isLogged();return new Promise((i,r)=>{setTimeout(()=>{i(e)},2e3)})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Cf))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),lwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[Yz]}),n.\u0275inj=s.cJS({providers:[gT,wy,hm,Zm,{provide:b6,useValue:localStorage},s$,{provide:s.ip1,useFactory:t=>()=>t.initializeApp(),deps:[s$],multi:!0}],imports:[Xl,jme,RZ,eve,xte,Y9,dz,_z,dz,sae,oae,kM,$z,Cx,$z,b0e,bC,Zz,Xc.hO.initializeApp(GZ_firebaseConfig),EX,kX,pue,hq,pde,Dde,mce,Moe,tme,qfe,F7,O0e,jk,dhe,whe,$he,owe.forRoot({resourceServer:{allowedUrls:["https://discord.com/api"],sendAccessToken:!0}}),lS,eAe,RZ]}),n})();(0,s.G48)(),Wf().bootstrapModule(lwe).catch(n=>console.error(n))},2011:(ei,Lt,re)=>{"use strict";re.d(Lt,{Dh:()=>Tt,GT:()=>vt,cc:()=>Qt,hO:()=>hn,on:()=>Ee,pX:()=>lt,xv:()=>ut});var s=re(4650),ze=re(9260),oe=re(4976);ei=re.hmd(ei);const rt=["ngOnDestroy"],lt=(Ut,St,qt,Jt={})=>new Proxy(Ut,{get:(ti,en)=>qt.runOutsideAngular(()=>{var Tn;if(Ut[en])return!(null===(Tn=Jt?.spy)||void 0===Tn)&&Tn.get&&Jt.spy.get(en,Ut[en]),Ut[en];if(rt.indexOf(en)>-1)return()=>{};const sn=St.toPromise().then(Zn=>{const et=Zn&&Zn[en];return"function"==typeof et?et.bind(Zn):et&&et.then?et.then(It=>qt.run(()=>It)):qt.run(()=>et)});return new Proxy(()=>{},{get:(Zn,et)=>sn[et],apply:(Zn,et,It)=>sn.then(dt=>{var Kt;const Nt=dt&&dt(...It);return!(null===(Kt=Jt?.spy)||void 0===Kt)&&Kt.apply&&Jt.spy.apply(en,It,Nt),Nt})})})}),vt=(Ut,St)=>{St.forEach(qt=>{Object.getOwnPropertyNames(qt.prototype||qt).forEach(Jt=>{Object.defineProperty(Ut.prototype,Jt,Object.getOwnPropertyDescriptor(qt.prototype||qt,Jt))})})};class Ke{constructor(St){return St}}const Tt=new s.OlP("angularfire2.app.options"),ut=new s.OlP("angularfire2.app.name");function Ee(Ut,St,qt){const ti="object"==typeof qt&&qt||{};ti.name=ti.name||"string"==typeof qt&&qt||"[DEFAULT]";const Tn=ze.Z.apps.filter(sn=>sn&&sn.name===ti.name)[0]||St.runOutsideAngular(()=>ze.Z.initializeApp(Ut,ti));try{JSON.stringify(Ut)!==JSON.stringify(Tn.options)&&De("error",`${Tn.name} Firebase App already initialized with different options${ei.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ke(Tn)}const De=(Ut,...St)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Ut](...St)},Ge={provide:Ke,useFactory:Ee,deps:[Tt,s.R0b,[new s.FiY,ut]]};let hn=(()=>{class Ut{constructor(qt){ze.Z.registerVersion("angularfire",oe.q4.full,"core"),ze.Z.registerVersion("angularfire",oe.q4.full,"app-compat"),ze.Z.registerVersion("angular",s.q4F.full,qt.toString())}static initializeApp(qt,Jt){return{ngModule:Ut,providers:[{provide:Tt,useValue:qt},{provide:ut,useValue:Jt}]}}}return Ut.\u0275fac=function(qt){return new(qt||Ut)(s.LFG(s.Lbi))},Ut.\u0275mod=s.oAB({type:Ut}),Ut.\u0275inj=s.cJS({providers:[Ge]}),Ut})();function Qt(Ut,St,qt,Jt,ti){const[,en,Tn]=globalThis.\u0275AngularfireInstanceCache.find(sn=>sn[0]===Ut)||[];if(en)return function yn(Ut,St){try{return Ut.toString()===St.toString()}catch{return Ut===St}}(ti,Tn)||(yt("error",`${St} was already initialized on the ${qt} Firebase App with different settings.${Nn?" You may need to reload as Firebase is not HMR aware.":""}`),yt("warn",{is:ti,was:Tn})),en;{const sn=Jt();return globalThis.\u0275AngularfireInstanceCache.push([Ut,sn,ti]),sn}}const Nn=!!ei.hot,yt=(Ut,...St)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Ut](...St)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(ei,Lt,re)=>{"use strict";re.d(Lt,{q4:()=>Vg,iC:()=>Fu,HU:()=>Tu,vb:()=>th,JM:()=>fd});var s=re(4650),ze=re(259),oe=re(5861),rt=re(6881),lt=re(2090),vt=re(4859),Ke=re(1877);let ut,Ee;const hn=new WeakMap,Qt=new WeakMap,yn=new WeakMap,Nn=new WeakMap,yt=new WeakMap;let qt={get(k,N,K){if(k instanceof IDBTransaction){if("done"===N)return Qt.get(k);if("objectStoreNames"===N)return k.objectStoreNames||yn.get(k);if("store"===N)return K.objectStoreNames[1]?void 0:K.objectStore(K.objectStoreNames[0])}return Tn(k[N])},set:(k,N,K)=>(k[N]=K,!0),has:(k,N)=>k instanceof IDBTransaction&&("done"===N||"store"===N)||N in k};function en(k){return"function"==typeof k?function ti(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ge(){return Ee||(Ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...N){return k.apply(sn(this),N),Tn(hn.get(this))}:function(...N){return Tn(k.apply(sn(this),N))}:function(N,...K){const ue=k.call(sn(this),N,...K);return yn.set(ue,N.sort?N.sort():[N]),Tn(ue)}}(k):(k instanceof IDBTransaction&&function St(k){if(Qt.has(k))return;const N=new Promise((K,ue)=>{const Ie=()=>{k.removeEventListener("complete",qe),k.removeEventListener("error",gt),k.removeEventListener("abort",gt)},qe=()=>{K(),Ie()},gt=()=>{ue(k.error||new DOMException("AbortError","AbortError")),Ie()};k.addEventListener("complete",qe),k.addEventListener("error",gt),k.addEventListener("abort",gt)});Qt.set(k,N)}(k),((k,N)=>N.some(K=>k instanceof K))(k,function De(){return ut||(ut=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,qt):k)}function Tn(k){if(k instanceof IDBRequest)return function Ut(k){const N=new Promise((K,ue)=>{const Ie=()=>{k.removeEventListener("success",qe),k.removeEventListener("error",gt)},qe=()=>{K(Tn(k.result)),Ie()},gt=()=>{ue(k.error),Ie()};k.addEventListener("success",qe),k.addEventListener("error",gt)});return N.then(K=>{K instanceof IDBCursor&&hn.set(K,k)}).catch(()=>{}),yt.set(N,k),N}(k);if(Nn.has(k))return Nn.get(k);const N=en(k);return N!==k&&(Nn.set(k,N),yt.set(N,k)),N}const sn=k=>yt.get(k),It=["get","getKey","getAll","getAllKeys","count"],dt=["put","add","delete","clear"],Kt=new Map;function Nt(k,N){if(!(k instanceof IDBDatabase)||N in k||"string"!=typeof N)return;if(Kt.get(N))return Kt.get(N);const K=N.replace(/FromIndex$/,""),ue=N!==K,Ie=dt.includes(K);if(!(K in(ue?IDBIndex:IDBObjectStore).prototype)||!Ie&&!It.includes(K))return;const qe=function(){var gt=(0,oe.Z)(function*(mn,...on){const Bn=this.transaction(mn,Ie?"readwrite":"readonly");let Fn=Bn.store;return ue&&(Fn=Fn.index(on.shift())),(yield Promise.all([Fn[K](...on),Ie&&Bn.done]))[0]});return function(on){return gt.apply(this,arguments)}}();return Kt.set(N,qe),qe}!function Jt(k){qt=k(qt)}(k=>({...k,get:(N,K,ue)=>Nt(N,K)||k.get(N,K,ue),has:(N,K)=>!!Nt(N,K)||k.has(N,K)}));const gn="@firebase/installations",to="w:0.6.4",Mi="FIS_v2",fo=new lt.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function cr(k){return k instanceof lt.ZR&&k.code.includes("request-failed")}function Kl({projectId:k}){return`https://firebaseinstallations.googleapis.com/v1/projects/${k}/installations`}function xl(k){return{token:k.token,requestStatus:2,expiresIn:Sl(k.expiresIn),creationTime:Date.now()}}function El(k,N){return cu.apply(this,arguments)}function cu(){return(cu=(0,oe.Z)(function*(k,N){const ue=(yield N.json()).error;return fo.create("request-failed",{requestName:k,serverCode:ue.code,serverMessage:ue.message,serverStatus:ue.status})})).apply(this,arguments)}function rs({apiKey:k}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k})}function us(k,{refreshToken:N}){const K=rs(k);return K.append("Authorization",function Zt(k){return`${Mi} ${k}`}(N)),K}function uc(k){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,oe.Z)(function*(k){const N=yield k();return N.status>=500&&N.status<600?k():N})).apply(this,arguments)}function Sl(k){return Number(k.replace("s","000"))}function Mr(k,N){return Us.apply(this,arguments)}function Us(){return(Us=(0,oe.Z)(function*({appConfig:k,heartbeatServiceProvider:N},{fid:K}){const ue=Kl(k),Ie=rs(k),qe=N.getImmediate({optional:!0});if(qe){const Bn=yield qe.getHeartbeatsHeader();Bn&&Ie.append("x-firebase-client",Bn)}const mn={method:"POST",headers:Ie,body:JSON.stringify({fid:K,authVersion:Mi,appId:k.appId,sdkVersion:to})},on=yield uc(()=>fetch(ue,mn));if(on.ok){const Bn=yield on.json();return{fid:Bn.fid||K,registrationStatus:2,refreshToken:Bn.refreshToken,authToken:xl(Bn.authToken)}}throw yield El("Create Installation",on)})).apply(this,arguments)}function Wn(k){return new Promise(N=>{setTimeout(N,k)})}const Qc=/^[cdef][\w-]{21}$/;function hc(){try{const k=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(k),k[0]=112+k[0]%16;const K=function $o(k){return function dc(k){return btoa(String.fromCharCode(...k)).replace(/\+/g,"-").replace(/\//g,"_")}(k).substr(0,22)}(k);return Qc.test(K)?K:""}catch{return""}}function si(k){return`${k.appName}!${k.appId}`}const Hn=new Map;function vi(k,N){const K=si(k);Oi(K,N),function Qs(k,N){const K=function Yo(){return!Zr&&"BroadcastChannel"in self&&(Zr=new BroadcastChannel("[Firebase] FID Change"),Zr.onmessage=k=>{Oi(k.data.key,k.data.fid)}),Zr}();K&&K.postMessage({key:k,fid:N}),function Hi(){0===Hn.size&&Zr&&(Zr.close(),Zr=null)}()}(K,N)}function Oi(k,N){const K=Hn.get(k);if(K)for(const ue of K)ue(N)}let Zr=null;const po="firebase-installations-store";let Wo=null;function kr(){return Wo||(Wo=function Zn(k,N,{blocked:K,upgrade:ue,blocking:Ie,terminated:qe}={}){const gt=indexedDB.open(k,N),mn=Tn(gt);return ue&&gt.addEventListener("upgradeneeded",on=>{ue(Tn(gt.result),on.oldVersion,on.newVersion,Tn(gt.transaction))}),K&&gt.addEventListener("blocked",()=>K()),mn.then(on=>{qe&&on.addEventListener("close",()=>qe()),Ie&&on.addEventListener("versionchange",()=>Ie())}).catch(()=>{}),mn}("firebase-installations-database",1,{upgrade:(k,N)=>{0===N&&k.createObjectStore(po)}})),Wo}function go(k,N){return ha.apply(this,arguments)}function ha(){return(ha=(0,oe.Z)(function*(k,N){const K=si(k),Ie=(yield kr()).transaction(po,"readwrite"),qe=Ie.objectStore(po),gt=yield qe.get(K);return yield qe.put(N,K),yield Ie.done,(!gt||gt.fid!==N.fid)&&vi(k,N.fid),N})).apply(this,arguments)}function Aa(k){return rl.apply(this,arguments)}function rl(){return(rl=(0,oe.Z)(function*(k){const N=si(k),ue=(yield kr()).transaction(po,"readwrite");yield ue.objectStore(po).delete(N),yield ue.done})).apply(this,arguments)}function Es(k,N){return fa.apply(this,arguments)}function fa(){return(fa=(0,oe.Z)(function*(k,N){const K=si(k),Ie=(yield kr()).transaction(po,"readwrite"),qe=Ie.objectStore(po),gt=yield qe.get(K),mn=N(gt);return void 0===mn?yield qe.delete(K):yield qe.put(mn,K),yield Ie.done,mn&&(!gt||gt.fid!==mn.fid)&&vi(k,mn.fid),mn})).apply(this,arguments)}function Ce(k){return ve.apply(this,arguments)}function ve(){return(ve=(0,oe.Z)(function*(k){let N;const K=yield Es(k.appConfig,ue=>{const Ie=Me(ue),qe=wt(k,Ie);return N=qe.registrationPromise,qe.installationEntry});return""===K.fid?{installationEntry:yield N}:{installationEntry:K,registrationPromise:N}})).apply(this,arguments)}function Me(k){return es(k||{fid:hc(),registrationStatus:0})}function wt(k,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(fo.create("app-offline"))};const K={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},ue=function Qe(k,N){return Rn.apply(this,arguments)}(k,K);return{installationEntry:K,registrationPromise:ue}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:Vn(k)}:{installationEntry:N}}function Rn(){return(Rn=(0,oe.Z)(function*(k,N){try{const K=yield Mr(k,N);return go(k.appConfig,K)}catch(K){throw cr(K)&&409===K.customData.serverCode?yield Aa(k.appConfig):yield go(k.appConfig,{fid:N.fid,registrationStatus:0}),K}})).apply(this,arguments)}function Vn(k){return wi.apply(this,arguments)}function wi(){return(wi=(0,oe.Z)(function*(k){let N=yield fi(k.appConfig);for(;1===N.registrationStatus;)yield Wn(100),N=yield fi(k.appConfig);if(0===N.registrationStatus){const{installationEntry:K,registrationPromise:ue}=yield Ce(k);return ue||K}return N})).apply(this,arguments)}function fi(k){return Es(k,N=>{if(!N)throw fo.create("installation-not-found");return es(N)})}function es(k){return function Hs(k){return 1===k.registrationStatus&&k.registrationTime+1e4<Date.now()}(k)?{fid:k.fid,registrationStatus:0}:k}function ji(k,N){return no.apply(this,arguments)}function no(){return(no=(0,oe.Z)(function*({appConfig:k,heartbeatServiceProvider:N},K){const ue=mo(k,K),Ie=us(k,K),qe=N.getImmediate({optional:!0});if(qe){const Bn=yield qe.getHeartbeatsHeader();Bn&&Ie.append("x-firebase-client",Bn)}const mn={method:"POST",headers:Ie,body:JSON.stringify({installation:{sdkVersion:to,appId:k.appId}})},on=yield uc(()=>fetch(ue,mn));if(on.ok)return xl(yield on.json());throw yield El("Generate Auth Token",on)})).apply(this,arguments)}function mo(k,{fid:N}){return`${Kl(k)}/${N}/authTokens:generate`}function pa(k){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,oe.Z)(function*(k,N=!1){let K;const ue=yield Es(k.appConfig,qe=>{if(!Ei(qe))throw fo.create("not-registered");const gt=qe.authToken;if(!N&&br(gt))return qe;if(1===gt.requestStatus)return K=mt(k,N),qe;{if(!navigator.onLine)throw fo.create("app-offline");const mn=gs(qe);return K=$n(k,mn),mn}});return K?yield K:ue.authToken})).apply(this,arguments)}function mt(k,N){return it.apply(this,arguments)}function it(){return(it=(0,oe.Z)(function*(k,N){let K=yield $t(k.appConfig);for(;1===K.authToken.requestStatus;)yield Wn(100),K=yield $t(k.appConfig);const ue=K.authToken;return 0===ue.requestStatus?pa(k,N):ue})).apply(this,arguments)}function $t(k){return Es(k,N=>{if(!Ei(N))throw fo.create("not-registered");return function mi(k){return 1===k.requestStatus&&k.requestTime+1e4<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function $n(k,N){return ni.apply(this,arguments)}function ni(){return(ni=(0,oe.Z)(function*(k,N){try{const K=yield ji(k,N),ue=Object.assign(Object.assign({},N),{authToken:K});return yield go(k.appConfig,ue),K}catch(K){if(!cr(K)||401!==K.customData.serverCode&&404!==K.customData.serverCode){const ue=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield go(k.appConfig,ue)}else yield Aa(k.appConfig);throw K}})).apply(this,arguments)}function Ei(k){return void 0!==k&&2===k.registrationStatus}function br(k){return 2===k.requestStatus&&!function fr(k){const N=Date.now();return N<k.creationTime||k.creationTime+k.expiresIn<N+36e5}(k)}function gs(k){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},k),{authToken:N})}function $r(){return($r=(0,oe.Z)(function*(k){const N=k,{installationEntry:K,registrationPromise:ue}=yield Ce(N);return ue?ue.catch(console.error):pa(N).catch(console.error),K.fid})).apply(this,arguments)}function Oo(){return(Oo=(0,oe.Z)(function*(k,N=!1){const K=k;return yield ms(K),(yield pa(K,N)).token})).apply(this,arguments)}function ms(k){return vn.apply(this,arguments)}function vn(){return(vn=(0,oe.Z)(function*(k){const{registrationPromise:N}=yield Ce(k);N&&(yield N)})).apply(this,arguments)}function du(k){return fo.create("missing-app-config-values",{valueName:k})}const Ti="installations",hu=k=>{const N=k.getProvider("app").getImmediate(),K=function Lo(k){if(!k||!k.options)throw du("App Configuration");if(!k.name)throw du("App Name");const N=["projectId","apiKey","appId"];for(const K of N)if(!k.options[K])throw du(K);return{appName:k.name,projectId:k.options.projectId,apiKey:k.options.apiKey,appId:k.options.appId}}(N);return{app:N,appConfig:K,heartbeatServiceProvider:(0,rt._getProvider)(N,"heartbeat"),_delete:()=>Promise.resolve()}},Ch=k=>{const N=k.getProvider("app").getImmediate(),K=(0,rt._getProvider)(N,Ti).getImmediate();return{getId:()=>function Rr(k){return $r.apply(this,arguments)}(K),getToken:Ie=>function Rd(k){return Oo.apply(this,arguments)}(K,Ie)}};(function Od(){(0,rt._registerComponent)(new vt.wA(Ti,hu,"PUBLIC")),(0,rt._registerComponent)(new vt.wA("installations-internal",Ch,"PRIVATE"))})(),(0,rt.registerVersion)(gn,"0.6.4"),(0,rt.registerVersion)(gn,"0.6.4","esm2017");const Ss="@firebase/remote-config",Gr=new lt.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class yg{constructor(N,K,ue,Ie){this.client=N,this.storage=K,this.storageCache=ue,this.logger=Ie}isCachedDataFresh(N,K){if(!K)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ue=Date.now()-K,Ie=ue<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ue}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${Ie}.`),Ie}fetch(N){var K=this;return(0,oe.Z)(function*(){const[ue,Ie]=yield Promise.all([K.storage.getLastSuccessfulFetchTimestampMillis(),K.storage.getLastSuccessfulFetchResponse()]);if(Ie&&K.isCachedDataFresh(N.cacheMaxAgeMillis,ue))return Ie;N.eTag=Ie&&Ie.eTag;const qe=yield K.client.fetch(N),gt=[K.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===qe.status&&gt.push(K.storage.setLastSuccessfulFetchResponse(qe)),yield Promise.all(gt),qe})()}}function Qf(k=navigator){return k.languages&&k.languages[0]||k.language}class vg{constructor(N,K,ue,Ie,qe,gt){this.firebaseInstallations=N,this.sdkVersion=K,this.namespace=ue,this.projectId=Ie,this.apiKey=qe,this.appId=gt}fetch(N){var K=this;return(0,oe.Z)(function*(){const[ue,Ie]=yield Promise.all([K.firebaseInstallations.getId(),K.firebaseInstallations.getToken()]),gt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${K.projectId}/namespaces/${K.namespace}:fetch?key=${K.apiKey}`,mn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},on={sdk_version:K.sdkVersion,app_instance_id:ue,app_instance_id_token:Ie,app_id:K.appId,language_code:Qf()},Bn={method:"POST",headers:mn,body:JSON.stringify(on)},Fn=fetch(gt,Bn),Yt=new Promise((ja,Ll)=>{N.signal.addEventListener(()=>{const Gh=new Error("The operation was aborted.");Gh.name="AbortError",Ll(Gh)})});let Co;try{yield Promise.race([Fn,Yt]),Co=yield Fn}catch(ja){let Ll="fetch-client-network";throw"AbortError"===ja?.name&&(Ll="fetch-timeout"),Gr.create(Ll,{originalErrorMessage:ja?.message})}let Ks=Co.status;const ul=Co.headers.get("ETag")||void 0;let Zs,Va;if(200===Co.status){let ja;try{ja=yield Co.json()}catch(Ll){throw Gr.create("fetch-client-parse",{originalErrorMessage:Ll?.message})}Zs=ja.entries,Va=ja.state}if("INSTANCE_STATE_UNSPECIFIED"===Va?Ks=500:"NO_CHANGE"===Va?Ks=304:("NO_TEMPLATE"===Va||"EMPTY_CONFIG"===Va)&&(Zs={}),304!==Ks&&200!==Ks)throw Gr.create("fetch-status",{httpStatus:Ks});return{status:Ks,eTag:ul,config:Zs}})()}}class TA{constructor(N,K){this.client=N,this.storage=K}fetch(N){var K=this;return(0,oe.Z)(function*(){const ue=(yield K.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return K.attemptFetch(N,ue)})()}attemptFetch(N,{throttleEndTimeMillis:K,backoffCount:ue}){var Ie=this;return(0,oe.Z)(function*(){yield function Hf(k,N){return new Promise((K,ue)=>{const Ie=Math.max(N-Date.now(),0),qe=setTimeout(K,Ie);k.addEventListener(()=>{clearTimeout(qe),ue(Gr.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,K);try{const qe=yield Ie.client.fetch(N);return yield Ie.storage.deleteThrottleMetadata(),qe}catch(qe){if(!function Vf(k){if(!(k instanceof lt.ZR&&k.customData))return!1;const N=Number(k.customData.httpStatus);return 429===N||500===N||503===N||504===N}(qe))throw qe;const gt={throttleEndTimeMillis:Date.now()+(0,lt.$s)(ue),backoffCount:ue+1};return yield Ie.storage.setThrottleMetadata(gt),Ie.attemptFetch(N,gt)}})()}}class ea{constructor(N,K,ue,Ie,qe){this.app=N,this._client=K,this._storageCache=ue,this._storage=Ie,this._logger=qe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Zl(k,N){const K=k.target.error||void 0;return Gr.create(N,{originalErrorMessage:K&&K?.message})}const Ud="app_namespace_store";class Ta{constructor(N,K,ue,Ie=function $l(){return new Promise((k,N)=>{try{const K=indexedDB.open("firebase_remote_config",1);K.onerror=ue=>{N(Zl(ue,"storage-open"))},K.onsuccess=ue=>{k(ue.target.result)},K.onupgradeneeded=ue=>{0===ue.oldVersion&&ue.target.result.createObjectStore(Ud,{keyPath:"compositeKey"})}}catch(K){N(Gr.create("storage-open",{originalErrorMessage:K?.message}))}})}()){this.appId=N,this.appName=K,this.namespace=ue,this.openDbPromise=Ie}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var K=this;return(0,oe.Z)(function*(){const ue=yield K.openDbPromise;return new Promise((Ie,qe)=>{const mn=ue.transaction([Ud],"readonly").objectStore(Ud),on=K.createCompositeKey(N);try{const Bn=mn.get(on);Bn.onerror=Fn=>{qe(Zl(Fn,"storage-get"))},Bn.onsuccess=Fn=>{const Yt=Fn.target.result;Ie(Yt?Yt.value:void 0)}}catch(Bn){qe(Gr.create("storage-get",{originalErrorMessage:Bn?.message}))}})})()}set(N,K){var ue=this;return(0,oe.Z)(function*(){const Ie=yield ue.openDbPromise;return new Promise((qe,gt)=>{const on=Ie.transaction([Ud],"readwrite").objectStore(Ud),Bn=ue.createCompositeKey(N);try{const Fn=on.put({compositeKey:Bn,value:K});Fn.onerror=Yt=>{gt(Zl(Yt,"storage-set"))},Fn.onsuccess=()=>{qe()}}catch(Fn){gt(Gr.create("storage-set",{originalErrorMessage:Fn?.message}))}})})()}delete(N){var K=this;return(0,oe.Z)(function*(){const ue=yield K.openDbPromise;return new Promise((Ie,qe)=>{const mn=ue.transaction([Ud],"readwrite").objectStore(Ud),on=K.createCompositeKey(N);try{const Bn=mn.delete(on);Bn.onerror=Fn=>{qe(Zl(Fn,"storage-delete"))},Bn.onsuccess=()=>{Ie()}}catch(Bn){qe(Gr.create("storage-delete",{originalErrorMessage:Bn?.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class BA{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,oe.Z)(function*(){const K=N.storage.getLastFetchStatus(),ue=N.storage.getLastSuccessfulFetchTimestampMillis(),Ie=N.storage.getActiveConfig(),qe=yield K;qe&&(N.lastFetchStatus=qe);const gt=yield ue;gt&&(N.lastSuccessfulFetchTimestampMillis=gt);const mn=yield Ie;mn&&(N.activeConfig=mn)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function Qd(){return Au.apply(this,arguments)}function Au(){return(Au=(0,oe.Z)(function*(){if(!(0,lt.hl)())return!1;try{return yield(0,lt.eu)()}catch{return!1}})).apply(this,arguments)}let Ih,Yl;!function Gy(){(0,rt._registerComponent)(new vt.wA("remote-config",function k(N,{instanceIdentifier:K}){const ue=N.getProvider("app").getImmediate(),Ie=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Gr.create("registration-window");if(!(0,lt.hl)())throw Gr.create("indexed-db-unavailable");const{projectId:qe,apiKey:gt,appId:mn}=ue.options;if(!qe)throw Gr.create("registration-project-id");if(!gt)throw Gr.create("registration-api-key");if(!mn)throw Gr.create("registration-app-id");const on=new Ta(mn,ue.name,K=K||"firebase"),Bn=new BA(on),Fn=new Ke.Yd(Ss);Fn.logLevel=Ke.in.ERROR;const Yt=new vg(Ie,rt.SDK_VERSION,K,qe,gt,mn),Co=new TA(Yt,on),Ks=new yg(Co,on,Bn,Fn),ul=new ea(ue,Ks,Bn,on,Fn);return function ur(k){const N=(0,lt.m9)(k);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(ul),ul},"PUBLIC").setMultipleInstances(!0)),(0,rt.registerVersion)(Ss,"0.4.4"),(0,rt.registerVersion)(Ss,"0.4.4","esm2017")}();const Ac=new WeakMap,Dh=new WeakMap,kA=new WeakMap,Ba=new WeakMap,fu=new WeakMap;let Hd={get(k,N,K){if(k instanceof IDBTransaction){if("done"===N)return Dh.get(k);if("objectStoreNames"===N)return k.objectStoreNames||kA.get(k);if("store"===N)return K.objectStoreNames[1]?void 0:K.objectStore(K.objectStoreNames[0])}return gu(k[N])},set:(k,N,K)=>(k[N]=K,!0),has:(k,N)=>k instanceof IDBTransaction&&("done"===N||"store"===N)||N in k};function ed(k){return"function"==typeof k?function _o(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function MA(){return Yl||(Yl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...N){return k.apply(Vd(this),N),gu(Ac.get(this))}:function(...N){return gu(k.apply(Vd(this),N))}:function(N,...K){const ue=k.call(Vd(this),N,...K);return kA.set(ue,N.sort?N.sort():[N]),gu(ue)}}(k):(k instanceof IDBTransaction&&function pu(k){if(Dh.has(k))return;const N=new Promise((K,ue)=>{const Ie=()=>{k.removeEventListener("complete",qe),k.removeEventListener("error",gt),k.removeEventListener("abort",gt)},qe=()=>{K(),Ie()},gt=()=>{ue(k.error||new DOMException("AbortError","AbortError")),Ie()};k.addEventListener("complete",qe),k.addEventListener("error",gt),k.addEventListener("abort",gt)});Dh.set(k,N)}(k),((k,N)=>N.some(K=>k instanceof K))(k,function jf(){return Ih||(Ih=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,Hd):k)}function gu(k){if(k instanceof IDBRequest)return function o_(k){const N=new Promise((K,ue)=>{const Ie=()=>{k.removeEventListener("success",qe),k.removeEventListener("error",gt)},qe=()=>{K(gu(k.result)),Ie()},gt=()=>{ue(k.error),Ie()};k.addEventListener("success",qe),k.addEventListener("error",gt)});return N.then(K=>{K instanceof IDBCursor&&Ac.set(K,k)}).catch(()=>{}),fu.set(N,k),N}(k);if(Ba.has(k))return Ba.get(k);const N=ed(k);return N!==k&&(Ba.set(k,N),fu.set(N,k)),N}const Vd=k=>fu.get(k);function yo(k,N,{blocked:K,upgrade:ue,blocking:Ie,terminated:qe}={}){const gt=indexedDB.open(k,N),mn=gu(gt);return ue&&gt.addEventListener("upgradeneeded",on=>{ue(gu(gt.result),on.oldVersion,on.newVersion,gu(gt.transaction))}),K&&gt.addEventListener("blocked",()=>K()),mn.then(on=>{qe&&on.addEventListener("close",()=>qe()),Ie&&on.addEventListener("versionchange",()=>Ie())}).catch(()=>{}),mn}function a_(k,{blocked:N}={}){const K=indexedDB.deleteDatabase(k);return N&&K.addEventListener("blocked",()=>N()),gu(K).then(()=>{})}const RA=["get","getKey","getAll","getAllKeys","count"],na=["put","add","delete","clear"],Is=new Map;function mu(k,N){if(!(k instanceof IDBDatabase)||N in k||"string"!=typeof N)return;if(Is.get(N))return Is.get(N);const K=N.replace(/FromIndex$/,""),ue=N!==K,Ie=na.includes(K);if(!(K in(ue?IDBIndex:IDBObjectStore).prototype)||!Ie&&!RA.includes(K))return;const qe=function(){var gt=(0,oe.Z)(function*(mn,...on){const Bn=this.transaction(mn,Ie?"readwrite":"readonly");let Fn=Bn.store;return ue&&(Fn=Fn.index(on.shift())),(yield Promise.all([Fn[K](...on),Ie&&Bn.done]))[0]});return function(on){return gt.apply(this,arguments)}}();return Is.set(N,qe),qe}!function qy(k){Hd=k(Hd)}(k=>({...k,get:(N,K,ue)=>mu(N,K)||k.get(N,K,ue),has:(N,K)=>!!mu(N,K)||k.has(N,K)}));const _u="/firebase-messaging-sw.js",td="/firebase-cloud-messaging-push-scope",$i="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Wl="google.c.a.c_id",Si="google.c.a.c_l",fc="google.c.a.ts",Or="google.c.a.e";var Fa=(()=>{return(k=Fa||(Fa={})).PUSH_RECEIVED="push-received",k.NOTIFICATION_CLICKED="notification-clicked",Fa;var k})();function qi(k){const N=new Uint8Array(k);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Gf(k){const K=(k+"=".repeat((4-k.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ue=atob(K),Ie=new Uint8Array(ue.length);for(let qe=0;qe<ue.length;++qe)Ie[qe]=ue.charCodeAt(qe);return Ie}const vo="fcm_token_details_db",Rt="fcm_token_object_Store";function Ki(k){return Dr.apply(this,arguments)}function Dr(){return Dr=(0,oe.Z)(function*(k){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(qe=>qe.name).includes(vo))return null;let N=null;return(yield yo(vo,5,{upgrade:(ue=(0,oe.Z)(function*(Ie,qe,gt,mn){var on;if(qe<2||!Ie.objectStoreNames.contains(Rt))return;const Bn=mn.objectStore(Rt),Fn=yield Bn.index("fcmSenderId").get(k);if(yield Bn.clear(),Fn)if(2===qe){const Yt=Fn;if(!Yt.auth||!Yt.p256dh||!Yt.endpoint)return;N={token:Yt.fcmToken,createTime:null!==(on=Yt.createTime)&&void 0!==on?on:Date.now(),subscriptionOptions:{auth:Yt.auth,p256dh:Yt.p256dh,endpoint:Yt.endpoint,swScope:Yt.swScope,vapidKey:"string"==typeof Yt.vapidKey?Yt.vapidKey:qi(Yt.vapidKey)}}}else if(3===qe){const Yt=Fn;N={token:Yt.fcmToken,createTime:Yt.createTime,subscriptionOptions:{auth:qi(Yt.auth),p256dh:qi(Yt.p256dh),endpoint:Yt.endpoint,swScope:Yt.swScope,vapidKey:qi(Yt.vapidKey)}}}else if(4===qe){const Yt=Fn;N={token:Yt.fcmToken,createTime:Yt.createTime,subscriptionOptions:{auth:qi(Yt.auth),p256dh:qi(Yt.p256dh),endpoint:Yt.endpoint,swScope:Yt.swScope,vapidKey:qi(Yt.vapidKey)}}}}),function(qe,gt,mn,on){return ue.apply(this,arguments)})})).close(),yield a_(vo),yield a_("fcm_vapid_details_db"),yield a_("undefined"),Sg(N)?N:null;var ue}),Dr.apply(this,arguments)}function Sg(k){if(!k||!k.subscriptionOptions)return!1;const{subscriptionOptions:N}=k;return"number"==typeof k.createTime&&k.createTime>0&&"string"==typeof k.token&&k.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}const Ma="firebase-messaging-store";let js=null;function Fl(){return js||(js=yo("firebase-messaging-database",1,{upgrade:(k,N)=>{0===N&&k.createObjectStore(Ma)}})),js}function Bh(k){return ka.apply(this,arguments)}function ka(){return(ka=(0,oe.Z)(function*(k){const N=Rl(k),ue=yield(yield Fl()).transaction(Ma).objectStore(Ma).get(N);if(ue)return ue;{const Ie=yield Ki(k.appConfig.senderId);if(Ie)return yield Ml(k,Ie),Ie}})).apply(this,arguments)}function Ml(k,N){return kl.apply(this,arguments)}function kl(){return(kl=(0,oe.Z)(function*(k,N){const K=Rl(k),Ie=(yield Fl()).transaction(Ma,"readwrite");return yield Ie.objectStore(Ma).put(N,K),yield Ie.done,N})).apply(this,arguments)}function _s(k){return zr.apply(this,arguments)}function zr(){return(zr=(0,oe.Z)(function*(k){const N=Rl(k),ue=(yield Fl()).transaction(Ma,"readwrite");yield ue.objectStore(Ma).delete(N),yield ue.done})).apply(this,arguments)}function Rl({appConfig:k}){return k.appId}const ss=new lt.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Jl(k,N){return Ig.apply(this,arguments)}function Ig(){return(Ig=(0,oe.Z)(function*(k,N){const K=yield id(k),ue=Dg(N),Ie={method:"POST",headers:K,body:JSON.stringify(ue)};let qe;try{qe=yield(yield fetch(Gc(k.appConfig),Ie)).json()}catch(gt){throw ss.create("token-subscribe-failed",{errorInfo:gt?.toString()})}if(qe.error)throw ss.create("token-subscribe-failed",{errorInfo:qe.error.message});if(!qe.token)throw ss.create("token-subscribe-no-token");return qe.token})).apply(this,arguments)}function nd(k,N){return pc.apply(this,arguments)}function pc(){return(pc=(0,oe.Z)(function*(k,N){const K=yield id(k),ue=Dg(N.subscriptionOptions),Ie={method:"PATCH",headers:K,body:JSON.stringify(ue)};let qe;try{qe=yield(yield fetch(`${Gc(k.appConfig)}/${N.token}`,Ie)).json()}catch(gt){throw ss.create("token-update-failed",{errorInfo:gt?.toString()})}if(qe.error)throw ss.create("token-update-failed",{errorInfo:qe.error.message});if(!qe.token)throw ss.create("token-update-no-token");return qe.token})).apply(this,arguments)}function zf(k,N){return yu.apply(this,arguments)}function yu(){return(yu=(0,oe.Z)(function*(k,N){const ue={method:"DELETE",headers:yield id(k)};try{const qe=yield(yield fetch(`${Gc(k.appConfig)}/${N}`,ue)).json();if(qe.error)throw ss.create("token-unsubscribe-failed",{errorInfo:qe.error.message})}catch(Ie){throw ss.create("token-unsubscribe-failed",{errorInfo:Ie?.toString()})}})).apply(this,arguments)}function Gc({projectId:k}){return`https://fcmregistrations.googleapis.com/v1/projects/${k}/registrations`}function id(k){return zc.apply(this,arguments)}function zc(){return(zc=(0,oe.Z)(function*({appConfig:k,installations:N}){const K=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k.apiKey,"x-goog-firebase-installations-auth":`FIS ${K}`})})).apply(this,arguments)}function Dg({p256dh:k,auth:N,endpoint:K,vapidKey:ue}){const Ie={web:{endpoint:K,auth:N,p256dh:k}};return ue!==$i&&(Ie.web.applicationPubKey=ue),Ie}const Ra=6048e5;function qf(k){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,oe.Z)(function*(k){const N=yield ia(k.swRegistration,k.vapidKey),K={vapidKey:k.vapidKey,swScope:k.swRegistration.scope,endpoint:N.endpoint,auth:qi(N.getKey("auth")),p256dh:qi(N.getKey("p256dh"))},ue=yield Bh(k.firebaseDependencies);if(ue){if(Lr(ue.subscriptionOptions,K))return Date.now()>=ue.createTime+Ra?Bg(k,{token:ue.token,createTime:Date.now(),subscriptionOptions:K}):ue.token;try{yield zf(k.firebaseDependencies,ue.token)}catch(Ie){console.warn(Ie)}return Fg(k.firebaseDependencies,K)}return Fg(k.firebaseDependencies,K)})).apply(this,arguments)}function Tg(k){return vu.apply(this,arguments)}function vu(){return(vu=(0,oe.Z)(function*(k){const N=yield Bh(k.firebaseDependencies);N&&(yield zf(k.firebaseDependencies,N.token),yield _s(k.firebaseDependencies));const K=yield k.swRegistration.pushManager.getSubscription();return!K||K.unsubscribe()})).apply(this,arguments)}function Bg(k,N){return rd.apply(this,arguments)}function rd(){return(rd=(0,oe.Z)(function*(k,N){try{const K=yield nd(k.firebaseDependencies,N),ue=Object.assign(Object.assign({},N),{token:K,createTime:Date.now()});return yield Ml(k.firebaseDependencies,ue),K}catch(K){throw yield Tg(k),K}})).apply(this,arguments)}function Fg(k,N){return Mh.apply(this,arguments)}function Mh(){return(Mh=(0,oe.Z)(function*(k,N){const ue={token:yield Jl(k,N),createTime:Date.now(),subscriptionOptions:N};return yield Ml(k,ue),ue.token})).apply(this,arguments)}function ia(k,N){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,oe.Z)(function*(k,N){return(yield k.pushManager.getSubscription())||k.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Gf(N)})})).apply(this,arguments)}function Lr(k,N){return N.vapidKey===k.vapidKey&&N.endpoint===k.endpoint&&N.auth===k.auth&&N.p256dh===k.p256dh}function NA(k){const N={from:k.from,collapseKey:k.collapse_key,messageId:k.fcmMessageId};return function sd(k,N){if(!N.notification)return;k.notification={};const K=N.notification.title;K&&(k.notification.title=K);const ue=N.notification.body;ue&&(k.notification.body=ue);const Ie=N.notification.image;Ie&&(k.notification.image=Ie);const qe=N.notification.icon;qe&&(k.notification.icon=qe)}(N,k),function Mg(k,N){!N.data||(k.data=N.data)}(N,k),function kh(k,N){var K,ue,Ie,qe,gt;if(!(N.fcmOptions||null!==(K=N.notification)&&void 0!==K&&K.click_action))return;k.fcmOptions={};const mn=null!==(Ie=null===(ue=N.fcmOptions)||void 0===ue?void 0:ue.link)&&void 0!==Ie?Ie:null===(qe=N.notification)||void 0===qe?void 0:qe.click_action;mn&&(k.fcmOptions.link=mn);const on=null===(gt=N.fcmOptions)||void 0===gt?void 0:gt.analytics_label;on&&(k.fcmOptions.analyticsLabel=on)}(N,k),N}function Kf(k){return"object"==typeof k&&!!k&&Wl in k}function kg(k,N){const K=[];for(let ue=0;ue<k.length;ue++)K.push(k.charAt(ue)),ue<N.length&&K.push(N.charAt(ue));return K.join("")}function jd(k){return ss.create("missing-app-config-values",{valueName:k})}kg("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),kg("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class gc{constructor(N,K,ue){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ie=function wu(k){if(!k||!k.options)throw jd("App Configuration Object");if(!k.name)throw jd("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:K}=k;for(const ue of N)if(!K[ue])throw jd(ue);return{appName:k.name,projectId:K.projectId,apiKey:K.apiKey,appId:K.appId,senderId:K.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:Ie,installations:K,analyticsProvider:ue}}_delete(){return Promise.resolve()}}function od(k){return ad.apply(this,arguments)}function ad(){return(ad=(0,oe.Z)(function*(k){try{k.swRegistration=yield navigator.serviceWorker.register(_u,{scope:td}),k.swRegistration.update().catch(()=>{})}catch(N){throw ss.create("failed-service-worker-registration",{browserErrorMessage:N?.message})}})).apply(this,arguments)}function Rg(k,N){return La.apply(this,arguments)}function La(){return(La=(0,oe.Z)(function*(k,N){if(!N&&!k.swRegistration&&(yield od(k)),N||!k.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw ss.create("invalid-sw-registration");k.swRegistration=N}})).apply(this,arguments)}function Gd(k,N){return ol.apply(this,arguments)}function ol(){return(ol=(0,oe.Z)(function*(k,N){N?k.vapidKey=N:k.vapidKey||(k.vapidKey=$i)})).apply(this,arguments)}function bu(){return(bu=(0,oe.Z)(function*(k,N){if(!navigator)throw ss.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ss.create("permission-blocked");return yield Gd(k,N?.vapidKey),yield Rg(k,N?.serviceWorkerRegistration),qf(k)})).apply(this,arguments)}function ld(k,N,K){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,oe.Z)(function*(k,N,K){const ue=Og(N);(yield k.firebaseDependencies.analyticsProvider.get()).logEvent(ue,{message_id:K[Wl],message_name:K[Si],message_time:K[fc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Og(k){switch(k){case Fa.NOTIFICATION_CLICKED:return"notification_open";case Fa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ng(){return(Ng=(0,oe.Z)(function*(k,N){const K=N.data;if(!K.isFirebaseMessaging)return;k.onMessageHandler&&K.messageType===Fa.PUSH_RECEIVED&&("function"==typeof k.onMessageHandler?k.onMessageHandler(NA(K)):k.onMessageHandler.next(NA(K)));const ue=K.data;Kf(ue)&&"1"===ue[Or]&&(yield ld(k,K.messageType,ue))})).apply(this,arguments)}const ga="@firebase/messaging",l_=k=>{const N=new gc(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),k.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",K=>function Lg(k,N){return Ng.apply(this,arguments)}(N,K)),N},Cu=k=>{const N=k.getProvider("messaging").getImmediate();return{getToken:ue=>function PA(k,N){return bu.apply(this,arguments)}(N,ue)}};function zd(){return cd.apply(this,arguments)}function cd(){return(cd=(0,oe.Z)(function*(){try{yield(0,lt.eu)()}catch{return!1}return typeof window<"u"&&(0,lt.hl)()&&(0,lt.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function UA(){(0,rt._registerComponent)(new vt.wA("messaging",l_,"PUBLIC")),(0,rt._registerComponent)(new vt.wA("messaging-internal",Cu,"PRIVATE")),(0,rt.registerVersion)(ga,"0.12.4"),(0,rt.registerVersion)(ga,"0.12.4","esm2017")}();const Na="analytics",Pg="firebase_id",u_="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Lh="https://www.googletagmanager.com/gtag/js",os=new Ke.Yd("@firebase/analytics"),No=new lt.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Wf(k){if(!k.startsWith(Lh)){const N=No.create("invalid-gtag-resource",{gtagURL:k});return os.warn(N.message),""}return k}function Zd(k){return Promise.all(k.map(N=>N.catch(K=>K)))}function QA(k,N){const K=function Nh(k,N){let K;return window.trustedTypes&&(K=window.trustedTypes.createPolicy(k,N)),K}("firebase-js-sdk-policy",{createScriptURL:Wf}),ue=document.createElement("script"),Ie=`${Lh}?l=${k}&id=${N}`;ue.src=K?K?.createScriptURL(Ie):Ie,ue.async=!0,document.head.appendChild(ue)}function $d(k,N,K,ue,Ie,qe){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,oe.Z)(function*(k,N,K,ue,Ie,qe){const gt=ue[Ie];try{if(gt)yield N[gt];else{const on=(yield Zd(K)).find(Bn=>Bn.measurementId===Ie);on&&(yield N[on.appId])}}catch(mn){os.error(mn)}k("config",Ie,qe)})).apply(this,arguments)}function d_(k,N,K,ue,Ie){return HA.apply(this,arguments)}function HA(){return(HA=(0,oe.Z)(function*(k,N,K,ue,Ie){try{let qe=[];if(Ie&&Ie.send_to){let gt=Ie.send_to;Array.isArray(gt)||(gt=[gt]);const mn=yield Zd(K);for(const on of gt){const Bn=mn.find(Yt=>Yt.measurementId===on),Fn=Bn&&N[Bn.appId];if(!Fn){qe=[];break}qe.push(Fn)}}0===qe.length&&(qe=Object.values(N)),yield Promise.all(qe),k("event",ue,Ie||{})}catch(qe){os.error(qe)}})).apply(this,arguments)}function jA(k){const N=window.document.getElementsByTagName("script");for(const K of Object.values(N))if(K.src&&K.src.includes(Lh)&&K.src.includes(k))return K;return null}const ma=new class Xf{constructor(N={},K=1e3){this.throttleMetadata=N,this.intervalMillis=K}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,K){this.throttleMetadata[N]=K}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function Wd(k){return new Headers({Accept:"application/json","x-goog-api-key":k})}function ts(k){return mc.apply(this,arguments)}function mc(){return(mc=(0,oe.Z)(function*(k){var N;const{appId:K,apiKey:ue}=k,Ie={method:"GET",headers:Wd(ue)},qe=u_.replace("{app-id}",K),gt=yield fetch(qe,Ie);if(200!==gt.status&&304!==gt.status){let mn="";try{const on=yield gt.json();null!==(N=on.error)&&void 0!==N&&N.message&&(mn=on.error.message)}catch{}throw No.create("config-fetch-failed",{httpStatus:gt.status,responseMessage:mn})}return gt.json()})).apply(this,arguments)}function Ph(k){return GA.apply(this,arguments)}function GA(){return(GA=(0,oe.Z)(function*(k,N=ma,K){const{appId:ue,apiKey:Ie,measurementId:qe}=k.options;if(!ue)throw No.create("no-app-id");if(!Ie){if(qe)return{measurementId:qe,appId:ue};throw No.create("no-api-key")}const gt=N.getThrottleMetadata(ue)||{backoffCount:0,throttleEndTimeMillis:Date.now()},mn=new rw;return setTimeout((0,oe.Z)(function*(){mn.abort()}),void 0!==K?K:6e4),xu({appId:ue,apiKey:Ie,measurementId:qe},gt,mn,N)})).apply(this,arguments)}function xu(k,N,K){return h_.apply(this,arguments)}function h_(){return(h_=(0,oe.Z)(function*(k,{throttleEndTimeMillis:N,backoffCount:K},ue,Ie=ma){var qe;const{appId:gt,measurementId:mn}=k;try{yield A_(ue,N)}catch(on){if(mn)return os.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${mn} provided in the "measurementId" field in the local Firebase config. [${on?.message}]`),{appId:gt,measurementId:mn};throw on}try{const on=yield ts(k);return Ie.deleteThrottleMetadata(gt),on}catch(on){const Bn=on;if(!qr(Bn)){if(Ie.deleteThrottleMetadata(gt),mn)return os.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${mn} provided in the "measurementId" field in the local Firebase config. [${Bn?.message}]`),{appId:gt,measurementId:mn};throw on}const Fn=503===Number(null===(qe=Bn?.customData)||void 0===qe?void 0:qe.httpStatus)?(0,lt.$s)(K,Ie.intervalMillis,30):(0,lt.$s)(K,Ie.intervalMillis),Yt={throttleEndTimeMillis:Date.now()+Fn,backoffCount:K+1};return Ie.setThrottleMetadata(gt,Yt),os.debug(`Calling attemptFetch again in ${Fn} millis`),xu(k,Yt,ue,Ie)}})).apply(this,arguments)}function A_(k,N){return new Promise((K,ue)=>{const Ie=Math.max(N-Date.now(),0),qe=setTimeout(K,Ie);k.addEventListener(()=>{clearTimeout(qe),ue(No.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}function qr(k){if(!(k instanceof lt.ZR&&k.customData))return!1;const N=Number(k.customData.httpStatus);return 429===N||500===N||503===N||504===N}class rw{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let zA,m_;function _c(){return(_c=(0,oe.Z)(function*(k,N,K,ue,Ie){if(Ie&&Ie.global)k("event",K,ue);else{const qe=yield N;k("event",K,Object.assign(Object.assign({},ue),{send_to:qe}))}})).apply(this,arguments)}function jn(k){m_=k}function Pa(k){zA=k}function An(){return nn.apply(this,arguments)}function nn(){return(nn=(0,oe.Z)(function*(){if(!(0,lt.hl)())return os.warn(No.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,lt.eu)()}catch(k){return os.warn(No.create("indexeddb-unavailable",{errorInfo:k?.toString()}).message),!1}return!0})).apply(this,arguments)}function Qh(){return(Qh=(0,oe.Z)(function*(k,N,K,ue,Ie,qe,gt){var mn;const on=Ph(k);on.then(Ks=>{K[Ks.measurementId]=Ks.appId,k.options.measurementId&&Ks.measurementId!==k.options.measurementId&&os.warn(`The measurement ID in the local Firebase config (${k.options.measurementId}) does not match the measurement ID fetched from the server (${Ks.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ks=>os.error(Ks)),N.push(on);const Bn=An().then(Ks=>{if(Ks)return ue.getId()}),[Fn,Yt]=yield Promise.all([on,Bn]);jA(qe)||QA(qe,Fn.measurementId),m_&&(Ie("consent","default",m_),jn(void 0)),Ie("js",new Date);const Co=null!==(mn=gt?.config)&&void 0!==mn?mn:{};return Co.origin="firebase",Co.update=!0,null!=Yt&&(Co[Pg]=Yt),Ie("config",Fn.measurementId,Co),zA&&(Ie("set",zA),Pa(void 0)),Fn.measurementId})).apply(this,arguments)}class Eu{constructor(N){this.app=N}_delete(){return delete mr[this.app.options.appId],Promise.resolve()}}let mr={},__=[];const y_={};let Hh,ra,dd="dataLayer",wn=!1;function np(k,N,K){!function Qg(){const k=[];if((0,lt.ru)()&&k.push("This is a browser extension environment."),(0,lt.zI)()||k.push("Cookies are not available."),k.length>0){const N=k.map((ue,Ie)=>`(${Ie+1}) ${ue}`).join(" "),K=No.create("invalid-analytics-context",{errorInfo:N});os.warn(K.message)}}();const ue=k.options.appId;if(!ue)throw No.create("no-app-id");if(!k.options.apiKey){if(!k.options.measurementId)throw No.create("no-api-key");os.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${k.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=mr[ue])throw No.create("already-exists",{id:ue});if(!wn){!function Xl(k){let N=[];Array.isArray(window[k])?N=window[k]:window[k]=N}(dd);const{wrappedGtag:qe,gtagCore:gt}=function VA(k,N,K,ue,Ie){let qe=function(...gt){window[ue].push(arguments)};return window[Ie]&&"function"==typeof window[Ie]&&(qe=window[Ie]),window[Ie]=function Yd(k,N,K,ue){function qe(){return(qe=(0,oe.Z)(function*(gt,...mn){try{if("event"===gt){const[on,Bn]=mn;yield d_(k,N,K,on,Bn)}else if("config"===gt){const[on,Bn]=mn;yield $d(k,N,K,ue,on,Bn)}else if("consent"===gt){const[on]=mn;k("consent","update",on)}else if("get"===gt){const[on,Bn,Fn]=mn;k("get",on,Bn,Fn)}else if("set"===gt){const[on]=mn;k("set",on)}else k(gt,...mn)}catch(on){os.error(on)}})).apply(this,arguments)}return function Ie(gt){return qe.apply(this,arguments)}}(qe,k,N,K),{gtagCore:qe,wrappedGtag:window[Ie]}}(mr,__,y_,dd,"gtag");ra=qe,Hh=gt,wn=!0}return mr[ue]=function gr(k,N,K,ue,Ie,qe,gt){return Qh.apply(this,arguments)}(k,__,y_,N,Hh,dd,K),new Eu(k)}function Nr(){return Su.apply(this,arguments)}function Su(){return(Su=(0,oe.Z)(function*(){if((0,lt.ru)()||!(0,lt.zI)()||!(0,lt.hl)())return!1;try{return yield(0,lt.eu)()}catch{return!1}})).apply(this,arguments)}const zs="@firebase/analytics";!function yc(){(0,rt._registerComponent)(new vt.wA(Na,(N,{options:K})=>np(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),K),"PUBLIC")),(0,rt._registerComponent)(new vt.wA("analytics-internal",function k(N){try{const K=N.getProvider(Na).getImmediate();return{logEvent:(ue,Ie,qe)=>function Jd(k,N,K,ue){k=(0,lt.m9)(k),function Yy(k,N,K,ue,Ie){return _c.apply(this,arguments)}(ra,mr[k.app.options.appId],N,K,ue).catch(Ie=>os.error(Ie))}(K,ue,Ie,qe)}}catch(K){throw No.create("interop-component-reg-failed",{reason:K})}},"PRIVATE")),(0,rt.registerVersion)(zs,"0.10.0"),(0,rt.registerVersion)(zs,"0.10.0","esm2017")}();var Po=re(4408),Ad=re(7565);const ys=new class Vh extends Ad.v{}(class Wr extends Po.o{constructor(N,K){super(N,K),this.scheduler=N,this.work=K}schedule(N,K=0){return K>0?super.schedule(N,K):(this.delay=K,this.state=N,this.scheduler.flush(this),this)}execute(N,K){return K>0||this.closed?super.execute(N,K):this._execute(N,K)}requestAsyncId(N,K,ue=0){return null!=ue&&ue>0||null==ue&&this.delay>0?super.requestAsyncId(N,K,ue):N.flush(this)}});var sa=re(4986),_i=re(8505),wo=re(9468),Xd=re(5363);const Vg=new s.GfV("7.5.0"),$c="__angularfire_symbol__analyticsIsSupportedValue",Uo="__angularfire_symbol__analyticsIsSupported",cl="__angularfire_symbol__remoteConfigIsSupportedValue",Cr="__angularfire_symbol__remoteConfigIsSupported",Qo="__angularfire_symbol__messagingIsSupportedValue",eh="__angularfire_symbol__messagingIsSupported";function fd(k,N,K){if(N){if(1===N.length)return N[0];const qe=N.filter(gt=>gt.app===K);if(1===qe.length)return qe[0]}return K.container.getProvider(k).getImmediate({optional:!0})}globalThis[Uo]||(globalThis[Uo]=Nr().then(k=>globalThis[$c]=k).catch(()=>globalThis[$c]=!1)),globalThis[eh]||(globalThis[eh]=zd().then(k=>globalThis[Qo]=k).catch(()=>globalThis[Qo]=!1)),globalThis[Cr]||(globalThis[Cr]=Qd().then(k=>globalThis[cl]=k).catch(()=>globalThis[cl]=!1));const th=(k,N)=>{const K=N?[N]:(0,ze.C6)(),ue=[];return K.forEach(Ie=>{Ie.container.getProvider(k).instances.forEach(gt=>{ue.includes(gt)||ue.push(gt)})}),ue};function pi(){}class nh{constructor(N,K=ys){this.zone=N,this.delegate=K}now(){return this.delegate.now()}schedule(N,K,ue){const Ie=this.zone;return this.delegate.schedule(function(gt){Ie.runGuarded(()=>{N.apply(this,[gt])})},K,ue)}}class v_{constructor(N){this.zone=N,this.task=null}call(N,K){const ue=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pi,{},pi,pi)),K.pipe((0,_i.b)({next:ue,complete:ue,error:ue})).subscribe(N).add(ue)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Tu=(()=>{class k{constructor(K){this.ngZone=K,this.outsideAngular=K.runOutsideAngular(()=>new nh(Zone.current)),this.insideAngular=K.run(()=>new nh(Zone.current,sa.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return k.\u0275fac=function(K){return new(K||k)(s.LFG(s.R0b))},k.\u0275prov=s.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();function Bu(){const k=globalThis.\u0275AngularFireScheduler;if(!k)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return k}function Fu(k){return Bu(),function w_(k){return function(K){return(K=K.lift(new v_(k.ngZone))).pipe((0,wo.R)(k.outsideAngular),(0,Xd.Q)(k.insideAngular))}}(Bu())(k)}},2090:(ei,Lt,re)=>{"use strict";re.d(Lt,{$s:()=>Aa,BH:()=>en,DV:()=>Sl,Dv:()=>Oi,G6:()=>to,GJ:()=>uc,L:()=>ut,LL:()=>Cl,Pz:()=>ti,Sg:()=>Tn,UG:()=>et,UI:()=>Mr,US:()=>vt,Wj:()=>Yo,Wl:()=>xl,Yr:()=>Sr,ZB:()=>Ge,ZR:()=>xs,aH:()=>Jt,b$:()=>Kt,cI:()=>Kl,dS:()=>uu,eu:()=>Ro,g5:()=>oe,gK:()=>Qs,gQ:()=>$o,h$:()=>Tt,hl:()=>Mi,hu:()=>ze,jU:()=>It,lb:()=>Hi,m9:()=>fa,ne:()=>si,p$:()=>De,pd:()=>hc,r3:()=>Ps,ru:()=>dt,tV:()=>Ee,uI:()=>Zn,ug:()=>Vi,vZ:()=>Us,w1:()=>gn,w9:()=>us,xO:()=>Qc,xb:()=>Zt,z$:()=>sn,zI:()=>Fr,zd:()=>Kr});const ze=function(Ce,ve){if(!Ce)throw oe(ve)},oe=function(Ce){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Ce)},rt=function(Ce){const ve=[];let Me=0;for(let wt=0;wt<Ce.length;wt++){let Qe=Ce.charCodeAt(wt);Qe<128?ve[Me++]=Qe:Qe<2048?(ve[Me++]=Qe>>6|192,ve[Me++]=63&Qe|128):55296==(64512&Qe)&&wt+1<Ce.length&&56320==(64512&Ce.charCodeAt(wt+1))?(Qe=65536+((1023&Qe)<<10)+(1023&Ce.charCodeAt(++wt)),ve[Me++]=Qe>>18|240,ve[Me++]=Qe>>12&63|128,ve[Me++]=Qe>>6&63|128,ve[Me++]=63&Qe|128):(ve[Me++]=Qe>>12|224,ve[Me++]=Qe>>6&63|128,ve[Me++]=63&Qe|128)}return ve},vt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ce,ve){if(!Array.isArray(Ce))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Me=ve?this.byteToCharMapWebSafe_:this.byteToCharMap_,wt=[];for(let Qe=0;Qe<Ce.length;Qe+=3){const Rn=Ce[Qe],Vn=Qe+1<Ce.length,wi=Vn?Ce[Qe+1]:0,fi=Qe+2<Ce.length,es=fi?Ce[Qe+2]:0;let no=(15&wi)<<2|es>>6,mo=63&es;fi||(mo=64,Vn||(no=64)),wt.push(Me[Rn>>2],Me[(3&Rn)<<4|wi>>4],Me[no],Me[mo])}return wt.join("")},encodeString(Ce,ve){return this.HAS_NATIVE_SUPPORT&&!ve?btoa(Ce):this.encodeByteArray(rt(Ce),ve)},decodeString(Ce,ve){return this.HAS_NATIVE_SUPPORT&&!ve?atob(Ce):function(Ce){const ve=[];let Me=0,wt=0;for(;Me<Ce.length;){const Qe=Ce[Me++];if(Qe<128)ve[wt++]=String.fromCharCode(Qe);else if(Qe>191&&Qe<224){const Rn=Ce[Me++];ve[wt++]=String.fromCharCode((31&Qe)<<6|63&Rn)}else if(Qe>239&&Qe<365){const fi=((7&Qe)<<18|(63&Ce[Me++])<<12|(63&Ce[Me++])<<6|63&Ce[Me++])-65536;ve[wt++]=String.fromCharCode(55296+(fi>>10)),ve[wt++]=String.fromCharCode(56320+(1023&fi))}else{const Rn=Ce[Me++],Vn=Ce[Me++];ve[wt++]=String.fromCharCode((15&Qe)<<12|(63&Rn)<<6|63&Vn)}}return ve.join("")}(this.decodeStringToByteArray(Ce,ve))},decodeStringToByteArray(Ce,ve){this.init_();const Me=ve?this.charToByteMapWebSafe_:this.charToByteMap_,wt=[];for(let Qe=0;Qe<Ce.length;){const Rn=Me[Ce.charAt(Qe++)],wi=Qe<Ce.length?Me[Ce.charAt(Qe)]:0;++Qe;const es=Qe<Ce.length?Me[Ce.charAt(Qe)]:64;++Qe;const ji=Qe<Ce.length?Me[Ce.charAt(Qe)]:64;if(++Qe,null==Rn||null==wi||null==es||null==ji)throw new Ke;wt.push(Rn<<2|wi>>4),64!==es&&(wt.push(wi<<4&240|es>>2),64!==ji&&wt.push(es<<6&192|ji))}return wt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ce=0;Ce<this.ENCODED_VALS.length;Ce++)this.byteToCharMap_[Ce]=this.ENCODED_VALS.charAt(Ce),this.charToByteMap_[this.byteToCharMap_[Ce]]=Ce,this.byteToCharMapWebSafe_[Ce]=this.ENCODED_VALS_WEBSAFE.charAt(Ce),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ce]]=Ce,Ce>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ce)]=Ce,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ce)]=Ce)}}};class Ke extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tt=function(Ce){const ve=rt(Ce);return vt.encodeByteArray(ve,!0)},ut=function(Ce){return Tt(Ce).replace(/\./g,"")},Ee=function(Ce){try{return vt.decodeString(Ce,!0)}catch(ve){console.error("base64Decode failed: ",ve)}return null};function De(Ce){return Ge(void 0,Ce)}function Ge(Ce,ve){if(!(ve instanceof Object))return ve;switch(ve.constructor){case Date:return new Date(ve.getTime());case Object:void 0===Ce&&(Ce={});break;case Array:Ce=[];break;default:return ve}for(const Me in ve)!ve.hasOwnProperty(Me)||!hn(Me)||(Ce[Me]=Ge(Ce[Me],ve[Me]));return Ce}function hn(Ce){return"__proto__"!==Ce}const Ut=()=>{try{return function Qt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ce=process.env.__FIREBASE_DEFAULTS__;return Ce?JSON.parse(Ce):void 0})()||(()=>{if(typeof document>"u")return;let Ce;try{Ce=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ve=Ce&&Ee(Ce[1]);return ve&&JSON.parse(ve)})()}catch(Ce){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ce}`)}},Jt=()=>{var Ce;return null===(Ce=Ut())||void 0===Ce?void 0:Ce.config},ti=Ce=>{var ve;return null===(ve=Ut())||void 0===ve?void 0:ve[`_${Ce}`]};class en{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ve,Me)=>{this.resolve=ve,this.reject=Me})}wrapCallback(ve){return(Me,wt)=>{Me?this.reject(Me):this.resolve(wt),"function"==typeof ve&&(this.promise.catch(()=>{}),1===ve.length?ve(Me):ve(Me,wt))}}}function Tn(Ce,ve){if(Ce.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const wt=ve||"demo-project",Qe=Ce.iat||0,Rn=Ce.sub||Ce.user_id;if(!Rn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Vn=Object.assign({iss:`https://securetoken.google.com/${wt}`,aud:wt,iat:Qe,exp:Qe+3600,auth_time:Qe,sub:Rn,user_id:Rn,firebase:{sign_in_provider:"custom",identities:{}}},Ce);return[ut(JSON.stringify({alg:"none",type:"JWT"})),ut(JSON.stringify(Vn)),""].join(".")}function sn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Zn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function et(){var Ce;const ve=null===(Ce=Ut())||void 0===Ce?void 0:Ce.forceEnvironment;if("node"===ve)return!0;if("browser"===ve)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function It(){return"object"==typeof self&&self.self===self}function dt(){const Ce="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ce&&void 0!==Ce.id}function Kt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function gn(){const Ce=sn();return Ce.indexOf("MSIE ")>=0||Ce.indexOf("Trident/")>=0}function Sr(){return!1}function to(){return!et()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mi(){try{return"object"==typeof indexedDB}catch{return!1}}function Ro(){return new Promise((Ce,ve)=>{try{let Me=!0;const wt="validate-browser-context-for-indexeddb-analytics-module",Qe=self.indexedDB.open(wt);Qe.onsuccess=()=>{Qe.result.close(),Me||self.indexedDB.deleteDatabase(wt),Ce(!0)},Qe.onupgradeneeded=()=>{Me=!1},Qe.onerror=()=>{var Rn;ve((null===(Rn=Qe.error)||void 0===Rn?void 0:Rn.message)||"")}}catch(Me){ve(Me)}})}function Fr(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class xs extends Error{constructor(ve,Me,wt){super(Me),this.code=ve,this.customData=wt,this.name="FirebaseError",Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cl.prototype.create)}}class Cl{constructor(ve,Me,wt){this.service=ve,this.serviceName=Me,this.errors=wt}create(ve,...Me){const wt=Me[0]||{},Qe=`${this.service}/${ve}`,Rn=this.errors[ve],Vn=Rn?function fo(Ce,ve){return Ce.replace(cr,(Me,wt)=>{const Qe=ve[wt];return null!=Qe?String(Qe):`<${wt}?>`})}(Rn,wt):"Error";return new xs(Qe,`${this.serviceName}: ${Vn} (${Qe}).`,wt)}}const cr=/\{\$([^}]+)}/g;function Kl(Ce){return JSON.parse(Ce)}function xl(Ce){return JSON.stringify(Ce)}const El=function(Ce){let ve={},Me={},wt={},Qe="";try{const Rn=Ce.split(".");ve=Kl(Ee(Rn[0])||""),Me=Kl(Ee(Rn[1])||""),Qe=Rn[2],wt=Me.d||{},delete Me.d}catch{}return{header:ve,claims:Me,data:wt,signature:Qe}},us=function(Ce){const Me=El(Ce).claims;return!!Me&&"object"==typeof Me&&Me.hasOwnProperty("iat")},uc=function(Ce){const ve=El(Ce).claims;return"object"==typeof ve&&!0===ve.admin};function Ps(Ce,ve){return Object.prototype.hasOwnProperty.call(Ce,ve)}function Sl(Ce,ve){if(Object.prototype.hasOwnProperty.call(Ce,ve))return Ce[ve]}function Zt(Ce){for(const ve in Ce)if(Object.prototype.hasOwnProperty.call(Ce,ve))return!1;return!0}function Mr(Ce,ve,Me){const wt={};for(const Qe in Ce)Object.prototype.hasOwnProperty.call(Ce,Qe)&&(wt[Qe]=ve.call(Me,Ce[Qe],Qe,Ce));return wt}function Us(Ce,ve){if(Ce===ve)return!0;const Me=Object.keys(Ce),wt=Object.keys(ve);for(const Qe of Me){if(!wt.includes(Qe))return!1;const Rn=Ce[Qe],Vn=ve[Qe];if(Wn(Rn)&&Wn(Vn)){if(!Us(Rn,Vn))return!1}else if(Rn!==Vn)return!1}for(const Qe of wt)if(!Me.includes(Qe))return!1;return!0}function Wn(Ce){return null!==Ce&&"object"==typeof Ce}function Qc(Ce){const ve=[];for(const[Me,wt]of Object.entries(Ce))Array.isArray(wt)?wt.forEach(Qe=>{ve.push(encodeURIComponent(Me)+"="+encodeURIComponent(Qe))}):ve.push(encodeURIComponent(Me)+"="+encodeURIComponent(wt));return ve.length?"&"+ve.join("&"):""}function Kr(Ce){const ve={};return Ce.replace(/^\?/,"").split("&").forEach(wt=>{if(wt){const[Qe,Rn]=wt.split("=");ve[decodeURIComponent(Qe)]=decodeURIComponent(Rn)}}),ve}function hc(Ce){const ve=Ce.indexOf("?");if(!ve)return"";const Me=Ce.indexOf("#",ve);return Ce.substring(ve,Me>0?Me:void 0)}class $o{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ve=1;ve<this.blockSize;++ve)this.pad_[ve]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ve,Me){Me||(Me=0);const wt=this.W_;if("string"==typeof ve)for(let ji=0;ji<16;ji++)wt[ji]=ve.charCodeAt(Me)<<24|ve.charCodeAt(Me+1)<<16|ve.charCodeAt(Me+2)<<8|ve.charCodeAt(Me+3),Me+=4;else for(let ji=0;ji<16;ji++)wt[ji]=ve[Me]<<24|ve[Me+1]<<16|ve[Me+2]<<8|ve[Me+3],Me+=4;for(let ji=16;ji<80;ji++){const no=wt[ji-3]^wt[ji-8]^wt[ji-14]^wt[ji-16];wt[ji]=4294967295&(no<<1|no>>>31)}let es,Hs,Qe=this.chain_[0],Rn=this.chain_[1],Vn=this.chain_[2],wi=this.chain_[3],fi=this.chain_[4];for(let ji=0;ji<80;ji++){ji<40?ji<20?(es=wi^Rn&(Vn^wi),Hs=1518500249):(es=Rn^Vn^wi,Hs=1859775393):ji<60?(es=Rn&Vn|wi&(Rn|Vn),Hs=2400959708):(es=Rn^Vn^wi,Hs=3395469782);const no=(Qe<<5|Qe>>>27)+es+fi+Hs+wt[ji]&4294967295;fi=wi,wi=Vn,Vn=4294967295&(Rn<<30|Rn>>>2),Rn=Qe,Qe=no}this.chain_[0]=this.chain_[0]+Qe&4294967295,this.chain_[1]=this.chain_[1]+Rn&4294967295,this.chain_[2]=this.chain_[2]+Vn&4294967295,this.chain_[3]=this.chain_[3]+wi&4294967295,this.chain_[4]=this.chain_[4]+fi&4294967295}update(ve,Me){if(null==ve)return;void 0===Me&&(Me=ve.length);const wt=Me-this.blockSize;let Qe=0;const Rn=this.buf_;let Vn=this.inbuf_;for(;Qe<Me;){if(0===Vn)for(;Qe<=wt;)this.compress_(ve,Qe),Qe+=this.blockSize;if("string"==typeof ve){for(;Qe<Me;)if(Rn[Vn]=ve.charCodeAt(Qe),++Vn,++Qe,Vn===this.blockSize){this.compress_(Rn),Vn=0;break}}else for(;Qe<Me;)if(Rn[Vn]=ve[Qe],++Vn,++Qe,Vn===this.blockSize){this.compress_(Rn),Vn=0;break}}this.inbuf_=Vn,this.total_+=Me}digest(){const ve=[];let Me=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Qe=this.blockSize-1;Qe>=56;Qe--)this.buf_[Qe]=255&Me,Me/=256;this.compress_(this.buf_);let wt=0;for(let Qe=0;Qe<5;Qe++)for(let Rn=24;Rn>=0;Rn-=8)ve[wt]=this.chain_[Qe]>>Rn&255,++wt;return ve}}function si(Ce,ve){const Me=new Hn(Ce,ve);return Me.subscribe.bind(Me)}class Hn{constructor(ve,Me){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Me,this.task.then(()=>{ve(this)}).catch(wt=>{this.error(wt)})}next(ve){this.forEachObserver(Me=>{Me.next(ve)})}error(ve){this.forEachObserver(Me=>{Me.error(ve)}),this.close(ve)}complete(){this.forEachObserver(ve=>{ve.complete()}),this.close()}subscribe(ve,Me,wt){let Qe;if(void 0===ve&&void 0===Me&&void 0===wt)throw new Error("Missing Observer.");Qe=function Il(Ce,ve){if("object"!=typeof Ce||null===Ce)return!1;for(const Me of ve)if(Me in Ce&&"function"==typeof Ce[Me])return!0;return!1}(ve,["next","error","complete"])?ve:{next:ve,error:Me,complete:wt},void 0===Qe.next&&(Qe.next=Ai),void 0===Qe.error&&(Qe.error=Ai),void 0===Qe.complete&&(Qe.complete=Ai);const Rn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Qe.error(this.finalError):Qe.complete()}catch{}}),this.observers.push(Qe),Rn}unsubscribeOne(ve){void 0===this.observers||void 0===this.observers[ve]||(delete this.observers[ve],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ve){if(!this.finalized)for(let Me=0;Me<this.observers.length;Me++)this.sendOne(Me,ve)}sendOne(ve,Me){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ve])try{Me(this.observers[ve])}catch(wt){typeof console<"u"&&console.error&&console.error(wt)}})}close(ve){this.finalized||(this.finalized=!0,void 0!==ve&&(this.finalError=ve),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ai(){}const Oi=function(Ce,ve,Me,wt){let Qe;if(wt<ve?Qe="at least "+ve:wt>Me&&(Qe=0===Me?"none":"no more than "+Me),Qe)throw new Error(Ce+" failed: Was called with "+wt+(1===wt?" argument.":" arguments.")+" Expects "+Qe+".")};function Qs(Ce,ve){return`${Ce} failed: ${ve} argument `}function Yo(Ce,ve,Me,wt){if((!wt||Me)&&"function"!=typeof Me)throw new Error(Qs(Ce,ve)+"must be a valid function.")}function Hi(Ce,ve,Me,wt){if((!wt||Me)&&("object"!=typeof Me||null===Me))throw new Error(Qs(Ce,ve)+"must be a valid context object.")}const uu=function(Ce){const ve=[];let Me=0;for(let wt=0;wt<Ce.length;wt++){let Qe=Ce.charCodeAt(wt);if(Qe>=55296&&Qe<=56319){const Rn=Qe-55296;wt++,ze(wt<Ce.length,"Surrogate pair missing trail surrogate."),Qe=65536+(Rn<<10)+(Ce.charCodeAt(wt)-56320)}Qe<128?ve[Me++]=Qe:Qe<2048?(ve[Me++]=Qe>>6|192,ve[Me++]=63&Qe|128):Qe<65536?(ve[Me++]=Qe>>12|224,ve[Me++]=Qe>>6&63|128,ve[Me++]=63&Qe|128):(ve[Me++]=Qe>>18|240,ve[Me++]=Qe>>12&63|128,ve[Me++]=Qe>>6&63|128,ve[Me++]=63&Qe|128)}return ve},Vi=function(Ce){let ve=0;for(let Me=0;Me<Ce.length;Me++){const wt=Ce.charCodeAt(Me);wt<128?ve++:wt<2048?ve+=2:wt>=55296&&wt<=56319?(ve+=4,Me++):ve+=3}return ve};function Aa(Ce,ve=1e3,Me=2){const wt=ve*Math.pow(Me,Ce),Qe=Math.round(.5*wt*(Math.random()-.5)*2);return Math.min(144e5,wt+Qe)}function fa(Ce){return Ce&&Ce._delegate?Ce._delegate:Ce}},4159:function(ei){ei.exports=function(){"use strict";var Lt=function(b,w){return(Lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,E){S.__proto__=E}||function(S,E){for(var L in E)Object.prototype.hasOwnProperty.call(E,L)&&(S[L]=E[L])})(b,w)};function re(b,w){if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function S(){this.constructor=b}Lt(b,w),b.prototype=null===w?Object.create(w):(S.prototype=w.prototype,new S)}var s=function(){return s=Object.assign||function(w){for(var S,E=1,L=arguments.length;E<L;E++)for(var j in S=arguments[E])Object.prototype.hasOwnProperty.call(S,j)&&(w[j]=S[j]);return w},s.apply(this,arguments)};function ze(b,w,S,E){return new(S||(S=Promise))(function(j,J){function ce(He){try{Fe(E.next(He))}catch(Je){J(Je)}}function le(He){try{Fe(E.throw(He))}catch(Je){J(Je)}}function Fe(He){He.done?j(He.value):function L(j){return j instanceof S?j:new S(function(J){J(j)})}(He.value).then(ce,le)}Fe((E=E.apply(b,w||[])).next())})}function oe(b,w){var E,L,j,J,S={label:0,sent:function(){if(1&j[0])throw j[1];return j[1]},trys:[],ops:[]};return J={next:ce(0),throw:ce(1),return:ce(2)},"function"==typeof Symbol&&(J[Symbol.iterator]=function(){return this}),J;function ce(Fe){return function(He){return function le(Fe){if(E)throw new TypeError("Generator is already executing.");for(;S;)try{if(E=1,L&&(j=2&Fe[0]?L.return:Fe[0]?L.throw||((j=L.return)&&j.call(L),0):L.next)&&!(j=j.call(L,Fe[1])).done)return j;switch(L=0,j&&(Fe=[2&Fe[0],j.value]),Fe[0]){case 0:case 1:j=Fe;break;case 4:return S.label++,{value:Fe[1],done:!1};case 5:S.label++,L=Fe[1],Fe=[0];continue;case 7:Fe=S.ops.pop(),S.trys.pop();continue;default:if(!(j=(j=S.trys).length>0&&j[j.length-1])&&(6===Fe[0]||2===Fe[0])){S=0;continue}if(3===Fe[0]&&(!j||Fe[1]>j[0]&&Fe[1]<j[3])){S.label=Fe[1];break}if(6===Fe[0]&&S.label<j[1]){S.label=j[1],j=Fe;break}if(j&&S.label<j[2]){S.label=j[2],S.ops.push(Fe);break}j[2]&&S.ops.pop(),S.trys.pop();continue}Fe=w.call(b,S)}catch(He){Fe=[6,He],L=0}finally{E=j=0}if(5&Fe[0])throw Fe[1];return{value:Fe[0]?Fe[1]:void 0,done:!0}}([Fe,He])}}}function rt(b,w,S){if(S||2===arguments.length)for(var j,E=0,L=w.length;E<L;E++)(j||!(E in w))&&(j||(j=Array.prototype.slice.call(w,0,E)),j[E]=w[E]);return b.concat(j||w)}for(var lt=function(){function b(w,S,E,L){this.left=w,this.top=S,this.width=E,this.height=L}return b.prototype.add=function(w,S,E,L){return new b(this.left+w,this.top+S,this.width+E,this.height+L)},b.fromClientRect=function(w,S){return new b(S.left+w.windowBounds.left,S.top+w.windowBounds.top,S.width,S.height)},b.fromDOMRectList=function(w,S){var E=Array.from(S).find(function(L){return 0!==L.width});return E?new b(E.left+w.windowBounds.left,E.top+w.windowBounds.top,E.width,E.height):b.EMPTY},b.EMPTY=new b(0,0,0,0),b}(),vt=function(b,w){return lt.fromClientRect(b,w.getBoundingClientRect())},Tt=function(b){for(var w=[],S=0,E=b.length;S<E;){var L=b.charCodeAt(S++);if(L>=55296&&L<=56319&&S<E){var j=b.charCodeAt(S++);56320==(64512&j)?w.push(((1023&L)<<10)+(1023&j)+65536):(w.push(L),S--)}else w.push(L)}return w},ut=function(){for(var b=[],w=0;w<arguments.length;w++)b[w]=arguments[w];if(String.fromCodePoint)return String.fromCodePoint.apply(String,b);var S=b.length;if(!S)return"";for(var E=[],L=-1,j="";++L<S;){var J=b[L];J<=65535?E.push(J):E.push(55296+((J-=65536)>>10),J%1024+56320),(L+1===S||E.length>16384)&&(j+=String.fromCharCode.apply(String,E),E.length=0)}return j},Ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",De=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ge=0;Ge<Ee.length;Ge++)De[Ee.charCodeAt(Ge)]=Ge;for(var hn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qt=typeof Uint8Array>"u"?[]:new Uint8Array(256),yn=0;yn<hn.length;yn++)Qt[hn.charCodeAt(yn)]=yn;for(var Sr=function(b,w,S){return b.slice?b.slice(w,S):new Uint16Array(Array.prototype.slice.call(b,w,S))},Ro=function(){function b(w,S,E,L,j,J){this.initialValue=w,this.errorValue=S,this.highStart=E,this.highValueIndex=L,this.index=j,this.data=J}return b.prototype.get=function(w){var S;if(w>=0){if(w<55296||w>56319&&w<=65535)return this.data[S=((S=this.index[w>>5])<<2)+(31&w)];if(w<=65535)return this.data[S=((S=this.index[2048+(w-55296>>5)])<<2)+(31&w)];if(w<this.highStart)return S=this.index[S=2080+(w>>11)],this.data[S=((S=this.index[S+=w>>5&63])<<2)+(31&w)];if(w<=1114111)return this.data[this.highValueIndex]}return this.errorValue},b}(),Fr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hi=typeof Uint8Array>"u"?[]:new Uint8Array(256),xs=0;xs<Fr.length;xs++)hi[Fr.charCodeAt(xs)]=xs;var S,E,L,J,ce,Ps=10,Mr=13,Wn=15,Qc=17,Kr=18,hc=19,$o=20,si=21,Hn=22,Il=24,Ai=25,Oi=26,Qs=27,Zr=28,Hi=30,Vi=32,po=33,Wo=34,kr=35,ha=37,Aa=38,rl=39,Es=40,Ce=42,Me=[9001,65288],Qe="\xd7",Vn=(S=function(b){var E,j,J,ce,le,w=.75*b.length,S=b.length,L=0;"="===b[b.length-1]&&(w--,"="===b[b.length-2]&&w--);var Fe=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(w):new Array(w),He=Array.isArray(Fe)?Fe:new Uint8Array(Fe);for(E=0;E<S;E+=4)j=Qt[b.charCodeAt(E)],J=Qt[b.charCodeAt(E+1)],ce=Qt[b.charCodeAt(E+2)],le=Qt[b.charCodeAt(E+3)],He[L++]=j<<2|J>>4,He[L++]=(15&J)<<4|ce>>2,He[L++]=(3&ce)<<6|63&le;return Fe}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),E=Array.isArray(S)?function(b){for(var w=b.length,S=[],E=0;E<w;E+=4)S.push(b[E+3]<<24|b[E+2]<<16|b[E+1]<<8|b[E]);return S}(S):new Uint32Array(S),L=Array.isArray(S)?function(b){for(var w=b.length,S=[],E=0;E<w;E+=2)S.push(b[E+1]<<8|b[E]);return S}(S):new Uint16Array(S),J=Sr(L,12,E[4]/2),ce=2===E[5]?Sr(L,(24+E[4])/2):function(b,w,S){return b.slice?b.slice(w,S):new Uint32Array(Array.prototype.slice.call(b,w,S))}(E,Math.ceil((24+E[4])/4)),new Ro(E[0],E[1],E[2],E[3],J,ce)),wi=[Hi,36],fi=[1,2,3,5],es=[Ps,8],Hs=[Qs,Oi],ji=fi.concat(es),no=[Aa,rl,Es,Wo,kr],mo=[Wn,Mr],Wu=function(b,w,S,E){var L=E[S];if(Array.isArray(b)?-1!==b.indexOf(L):b===L)for(var j=S;j<=E.length;){if((J=E[++j])===w)return!0;if(J!==Ps)break}if(L===Ps)for(j=S;j>0;){var ce=E[--j];if(Array.isArray(b)?-1!==b.indexOf(ce):b===ce)for(var le=S;le<=E.length;){var J;if((J=E[++le])===w)return!0;if(J!==Ps)break}if(ce!==Ps)break}return!1},mt=function(b,w){for(var S=b;S>=0;){var E=w[S];if(E!==Ps)return E;S--}return 0},it=function(b,w,S,E,L){if(0===S[E])return Qe;var j=E-1;if(Array.isArray(L)&&!0===L[j])return Qe;var J=j-1,ce=j+1,le=w[j],Fe=J>=0?w[J]:0,He=w[ce];if(2===le&&3===He)return Qe;if(-1!==fi.indexOf(le))return"!";if(-1!==fi.indexOf(He)||-1!==es.indexOf(He))return Qe;if(8===mt(j,w))return"\xf7";if(11===Vn.get(b[j])||(le===Vi||le===po)&&11===Vn.get(b[ce])||7===le||7===He||9===le||-1===[Ps,Mr,Wn].indexOf(le)&&9===He||-1!==[Qc,Kr,hc,Il,Zr].indexOf(He)||mt(j,w)===Hn||Wu(23,Hn,j,w)||Wu([Qc,Kr],si,j,w)||Wu(12,12,j,w))return Qe;if(le===Ps)return"\xf7";if(23===le||23===He)return Qe;if(16===He||16===le)return"\xf7";if(-1!==[Mr,Wn,si].indexOf(He)||14===le||36===Fe&&-1!==mo.indexOf(le)||le===Zr&&36===He||He===$o||-1!==wi.indexOf(He)&&le===Ai||-1!==wi.indexOf(le)&&He===Ai||le===Qs&&-1!==[ha,Vi,po].indexOf(He)||-1!==[ha,Vi,po].indexOf(le)&&He===Oi||-1!==wi.indexOf(le)&&-1!==Hs.indexOf(He)||-1!==Hs.indexOf(le)&&-1!==wi.indexOf(He)||-1!==[Qs,Oi].indexOf(le)&&(He===Ai||-1!==[Hn,Wn].indexOf(He)&&w[ce+1]===Ai)||-1!==[Hn,Wn].indexOf(le)&&He===Ai||le===Ai&&-1!==[Ai,Zr,Il].indexOf(He))return Qe;if(-1!==[Ai,Zr,Il,Qc,Kr].indexOf(He))for(var Je=j;Je>=0;){if((Dt=w[Je])===Ai)return Qe;if(-1===[Zr,Il].indexOf(Dt))break;Je--}if(-1!==[Qs,Oi].indexOf(He))for(Je=-1!==[Qc,Kr].indexOf(le)?J:j;Je>=0;){var Dt;if((Dt=w[Je])===Ai)return Qe;if(-1===[Zr,Il].indexOf(Dt))break;Je--}if(Aa===le&&-1!==[Aa,rl,Wo,kr].indexOf(He)||-1!==[rl,Wo].indexOf(le)&&-1!==[rl,Es].indexOf(He)||-1!==[Es,kr].indexOf(le)&&He===Es||-1!==no.indexOf(le)&&-1!==[$o,Oi].indexOf(He)||-1!==no.indexOf(He)&&le===Qs||-1!==wi.indexOf(le)&&-1!==wi.indexOf(He)||le===Il&&-1!==wi.indexOf(He)||-1!==wi.concat(Ai).indexOf(le)&&He===Hn&&-1===Me.indexOf(b[ce])||-1!==wi.concat(Ai).indexOf(He)&&le===Kr)return Qe;if(41===le&&41===He){for(var Ln=S[j],ln=1;Ln>0&&41===w[--Ln];)ln++;if(ln%2!=0)return Qe}return le===Vi&&He===po?Qe:"\xf7"},$t=function(b,w){w||(w={lineBreak:"normal",wordBreak:"normal"});var S=function(b,w){void 0===w&&(w="strict");var S=[],E=[],L=[];return b.forEach(function(j,J){var ce=Vn.get(j);if(ce>50?(L.push(!0),ce-=50):L.push(!1),-1!==["normal","auto","loose"].indexOf(w)&&-1!==[8208,8211,12316,12448].indexOf(j))return E.push(J),S.push(16);if(4===ce||11===ce){if(0===J)return E.push(J),S.push(Hi);var le=S[J-1];return-1===ji.indexOf(le)?(E.push(E[J-1]),S.push(le)):(E.push(J),S.push(Hi))}return E.push(J),31===ce?S.push("strict"===w?si:ha):ce===Ce||29===ce?S.push(Hi):43===ce?S.push(j>=131072&&j<=196605||j>=196608&&j<=262141?ha:Hi):void S.push(ce)}),[E,S,L]}(b,w.lineBreak),E=S[0],L=S[1],j=S[2];return("break-all"===w.wordBreak||"break-word"===w.wordBreak)&&(L=L.map(function(ce){return-1!==[Ai,Hi,Ce].indexOf(ce)?ha:ce})),[E,L,"keep-all"===w.wordBreak?j.map(function(ce,le){return ce&&b[le]>=19968&&b[le]<=40959}):void 0]},$n=function(){function b(w,S,E,L){this.codePoints=w,this.required="!"===S,this.start=E,this.end=L}return b.prototype.slice=function(){return ut.apply(void 0,this.codePoints.slice(this.start,this.end))},b}(),Xo=function(b){return b>=48&&b<=57},Zl=function(b){return Xo(b)||b>=65&&b<=70||b>=97&&b<=102},Ta=function(b){return 10===b||9===b||32===b},BA=function(b){return function(b){return function(b){return b>=97&&b<=122}(b)||function(b){return b>=65&&b<=90}(b)}(b)||function(b){return b>=128}(b)||95===b},Gy=function(b){return BA(b)||Xo(b)||45===b},zy=function(b){return b>=0&&b<=8||11===b||b>=14&&b<=31||127===b},ta=function(b,w){return 92===b&&10!==w},Qd=function(b,w,S){return 45===b?BA(w)||ta(w,S):!!BA(b)||!(92!==b||!ta(b,w))},Au=function(b,w,S){return 43===b||45===b?!!Xo(w)||46===w&&Xo(S):Xo(46===b?w:b)},FA=function(b){var w=0,S=1;(43===b[w]||45===b[w])&&(45===b[w]&&(S=-1),w++);for(var E=[];Xo(b[w]);)E.push(b[w++]);var L=E.length?parseInt(ut.apply(void 0,E),10):0;46===b[w]&&w++;for(var j=[];Xo(b[w]);)j.push(b[w++]);var J=j.length,ce=J?parseInt(ut.apply(void 0,j),10):0;(69===b[w]||101===b[w])&&w++;var le=1;(43===b[w]||45===b[w])&&(45===b[w]&&(le=-1),w++);for(var Fe=[];Xo(b[w]);)Fe.push(b[w++]);var He=Fe.length?parseInt(ut.apply(void 0,Fe),10):0;return S*(L+ce*Math.pow(10,-J))*Math.pow(10,le*He)},Ih={type:2},Yl={type:3},jf={type:4},MA={type:13},Ac={type:8},Dh={type:21},kA={type:9},Ba={type:10},fu={type:11},o_={type:12},pu={type:14},Hd={type:23},qy={type:1},_o={type:25},ed={type:24},gu={type:26},Vd={type:27},yo={type:28},a_={type:29},RA={type:31},na={type:32},Is=function(){function b(){this._value=[]}return b.prototype.write=function(w){this._value=this._value.concat(Tt(w))},b.prototype.read=function(){for(var w=[],S=this.consumeToken();S!==na;)w.push(S),S=this.consumeToken();return w},b.prototype.consumeToken=function(){var w=this.consumeCodePoint();switch(w){case 34:return this.consumeStringToken(34);case 35:var S=this.peekCodePoint(0),E=this.peekCodePoint(1),L=this.peekCodePoint(2);if(Gy(S)||ta(E,L)){var j=Qd(S,E,L)?2:1;return{type:5,value:this.consumeName(),flags:j}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),MA;break;case 39:return this.consumeStringToken(39);case 40:return Ih;case 41:return Yl;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),pu;break;case 43:if(Au(w,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(w),this.consumeNumericToken();break;case 44:return jf;case 45:var ce=w,le=this.peekCodePoint(0),Fe=this.peekCodePoint(1);if(Au(ce,le,Fe))return this.reconsumeCodePoint(w),this.consumeNumericToken();if(Qd(ce,le,Fe))return this.reconsumeCodePoint(w),this.consumeIdentLikeToken();if(45===le&&62===Fe)return this.consumeCodePoint(),this.consumeCodePoint(),ed;break;case 46:if(Au(w,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(w),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var He=this.consumeCodePoint();if(42===He&&47===(He=this.consumeCodePoint()))return this.consumeToken();if(-1===He)return this.consumeToken()}break;case 58:return gu;case 59:return Vd;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),_o;break;case 64:var Je=this.peekCodePoint(0),Dt=this.peekCodePoint(1),Ln=this.peekCodePoint(2);if(Qd(Je,Dt,Ln))return{type:7,value:this.consumeName()};break;case 91:return yo;case 92:if(ta(w,this.peekCodePoint(0)))return this.reconsumeCodePoint(w),this.consumeIdentLikeToken();break;case 93:return a_;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ac;break;case 123:return fu;case 125:return o_;case 117:case 85:var ln=this.peekCodePoint(0),En=this.peekCodePoint(1);return 43===ln&&(Zl(En)||63===En)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(w),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),kA;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),Dh;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ba;break;case-1:return na}return Ta(w)?(this.consumeWhiteSpace(),RA):Xo(w)?(this.reconsumeCodePoint(w),this.consumeNumericToken()):BA(w)?(this.reconsumeCodePoint(w),this.consumeIdentLikeToken()):{type:6,value:ut(w)}},b.prototype.consumeCodePoint=function(){var w=this._value.shift();return typeof w>"u"?-1:w},b.prototype.reconsumeCodePoint=function(w){this._value.unshift(w)},b.prototype.peekCodePoint=function(w){return w>=this._value.length?-1:this._value[w]},b.prototype.consumeUnicodeRangeToken=function(){for(var w=[],S=this.consumeCodePoint();Zl(S)&&w.length<6;)w.push(S),S=this.consumeCodePoint();for(var E=!1;63===S&&w.length<6;)w.push(S),S=this.consumeCodePoint(),E=!0;if(E)return{type:30,start:parseInt(ut.apply(void 0,w.map(function(le){return 63===le?48:le})),16),end:parseInt(ut.apply(void 0,w.map(function(le){return 63===le?70:le})),16)};var J=parseInt(ut.apply(void 0,w),16);if(45===this.peekCodePoint(0)&&Zl(this.peekCodePoint(1))){this.consumeCodePoint(),S=this.consumeCodePoint();for(var ce=[];Zl(S)&&ce.length<6;)ce.push(S),S=this.consumeCodePoint();return{type:30,start:J,end:parseInt(ut.apply(void 0,ce),16)}}return{type:30,start:J,end:J}},b.prototype.consumeIdentLikeToken=function(){var w=this.consumeName();return"url"===w.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:w}):{type:20,value:w}},b.prototype.consumeUrlToken=function(){var w=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var S=this.peekCodePoint(0);if(39===S||34===S){var E=this.consumeStringToken(this.consumeCodePoint());return 0===E.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:E.value}):(this.consumeBadUrlRemnants(),Hd)}for(;;){var L=this.consumeCodePoint();if(-1===L||41===L)return{type:22,value:ut.apply(void 0,w)};if(Ta(L))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:ut.apply(void 0,w)}):(this.consumeBadUrlRemnants(),Hd);if(34===L||39===L||40===L||zy(L))return this.consumeBadUrlRemnants(),Hd;if(92===L){if(!ta(L,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),Hd;w.push(this.consumeEscapedCodePoint())}else w.push(L)}},b.prototype.consumeWhiteSpace=function(){for(;Ta(this.peekCodePoint(0));)this.consumeCodePoint()},b.prototype.consumeBadUrlRemnants=function(){for(;;){var w=this.consumeCodePoint();if(41===w||-1===w)return;ta(w,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},b.prototype.consumeStringSlice=function(w){for(var E="";w>0;){var L=Math.min(5e4,w);E+=ut.apply(void 0,this._value.splice(0,L)),w-=L}return this._value.shift(),E},b.prototype.consumeStringToken=function(w){for(var S="",E=0;;){var L=this._value[E];if(-1===L||void 0===L||L===w)return{type:0,value:S+=this.consumeStringSlice(E)};if(10===L)return this._value.splice(0,E),qy;if(92===L){var j=this._value[E+1];-1!==j&&void 0!==j&&(10===j?(S+=this.consumeStringSlice(E),E=-1,this._value.shift()):ta(L,j)&&(S+=this.consumeStringSlice(E),S+=ut(this.consumeEscapedCodePoint()),E=-1))}E++}},b.prototype.consumeNumber=function(){var w=[],S=4,E=this.peekCodePoint(0);for((43===E||45===E)&&w.push(this.consumeCodePoint());Xo(this.peekCodePoint(0));)w.push(this.consumeCodePoint());E=this.peekCodePoint(0);var L=this.peekCodePoint(1);if(46===E&&Xo(L))for(w.push(this.consumeCodePoint(),this.consumeCodePoint()),S=8;Xo(this.peekCodePoint(0));)w.push(this.consumeCodePoint());E=this.peekCodePoint(0),L=this.peekCodePoint(1);var j=this.peekCodePoint(2);if((69===E||101===E)&&((43===L||45===L)&&Xo(j)||Xo(L)))for(w.push(this.consumeCodePoint(),this.consumeCodePoint()),S=8;Xo(this.peekCodePoint(0));)w.push(this.consumeCodePoint());return[FA(w),S]},b.prototype.consumeNumericToken=function(){var w=this.consumeNumber(),S=w[0],E=w[1],L=this.peekCodePoint(0),j=this.peekCodePoint(1),J=this.peekCodePoint(2);return Qd(L,j,J)?{type:15,number:S,flags:E,unit:this.consumeName()}:37===L?(this.consumeCodePoint(),{type:16,number:S,flags:E}):{type:17,number:S,flags:E}},b.prototype.consumeEscapedCodePoint=function(){var w=this.consumeCodePoint();if(Zl(w)){for(var S=ut(w);Zl(this.peekCodePoint(0))&&S.length<6;)S+=ut(this.consumeCodePoint());Ta(this.peekCodePoint(0))&&this.consumeCodePoint();var E=parseInt(S,16);return 0===E||function(b){return b>=55296&&b<=57343}(E)||E>1114111?65533:E}return-1===w?65533:w},b.prototype.consumeName=function(){for(var w="";;){var S=this.consumeCodePoint();if(Gy(S))w+=ut(S);else{if(!ta(S,this.peekCodePoint(0)))return this.reconsumeCodePoint(S),w;w+=ut(this.consumeEscapedCodePoint())}}},b}(),mu=function(){function b(w){this._tokens=w}return b.create=function(w){var S=new Is;return S.write(w),new b(S.read())},b.parseValue=function(w){return b.create(w).parseComponentValue()},b.parseValues=function(w){return b.create(w).parseComponentValues()},b.prototype.parseComponentValue=function(){for(var w=this.consumeToken();31===w.type;)w=this.consumeToken();if(32===w.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(w);var S=this.consumeComponentValue();do{w=this.consumeToken()}while(31===w.type);if(32===w.type)return S;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},b.prototype.parseComponentValues=function(){for(var w=[];;){var S=this.consumeComponentValue();if(32===S.type)return w;w.push(S),w.push()}},b.prototype.consumeComponentValue=function(){var w=this.consumeToken();switch(w.type){case 11:case 28:case 2:return this.consumeSimpleBlock(w.type);case 19:return this.consumeFunction(w)}return w},b.prototype.consumeSimpleBlock=function(w){for(var S={type:w,values:[]},E=this.consumeToken();;){if(32===E.type||Eg(E,w))return S;this.reconsumeToken(E),S.values.push(this.consumeComponentValue()),E=this.consumeToken()}},b.prototype.consumeFunction=function(w){for(var S={name:w.value,values:[],type:18};;){var E=this.consumeToken();if(32===E.type||3===E.type)return S;this.reconsumeToken(E),S.values.push(this.consumeComponentValue())}},b.prototype.consumeToken=function(){var w=this._tokens.shift();return typeof w>"u"?na:w},b.prototype.reconsumeToken=function(w){this._tokens.unshift(w)},b}(),_u=function(b){return 15===b.type},td=function(b){return 17===b.type},$i=function(b){return 20===b.type},xg=function(b){return 0===b.type},Wl=function(b,w){return $i(b)&&b.value===w},Si=function(b){return 31!==b.type},fc=function(b){return 31!==b.type&&4!==b.type},Or=function(b){var w=[],S=[];return b.forEach(function(E){if(4===E.type){if(0===S.length)throw new Error("Error parsing function args, zero tokens for arg");return w.push(S),void(S=[])}31!==E.type&&S.push(E)}),S.length&&w.push(S),w},Eg=function(b,w){return 11===w&&12===b.type||28===w&&29===b.type||2===w&&3===b.type},Fa=function(b){return 17===b.type||15===b.type},qi=function(b){return 16===b.type||Fa(b)},Gf=function(b){return b.length>1?[b[0],b[1]]:[b[0]]},vo={type:17,number:0,flags:4},OA={type:16,number:50,flags:4},Rt={type:16,number:100,flags:4},Ki=function(b,w,S){var E=b[0],L=b[1];return[Dr(E,w),Dr(typeof L<"u"?L:E,S)]},Dr=function(b,w){if(16===b.type)return b.number/100*w;if(_u(b))switch(b.unit){case"rem":case"em":return 16*b.number;default:return b.number}return b.number},js_parse=function(b,w){if(15===w.type)switch(w.unit){case"deg":return Math.PI*w.number/180;case"grad":return Math.PI/200*w.number;case"rad":return w.number;case"turn":return 2*Math.PI*w.number}throw new Error("Unsupported angle type")},Fl=function(b){return 15===b.type&&("deg"===b.unit||"grad"===b.unit||"rad"===b.unit||"turn"===b.unit)},Bh=function(b){switch(b.filter($i).map(function(S){return S.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[vo,vo];case"to top":case"bottom":return ka(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[vo,Rt];case"to right":case"left":return ka(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Rt,Rt];case"to bottom":case"top":return ka(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Rt,vo];case"to left":case"right":return ka(270)}return 0},ka=function(b){return Math.PI*b/180},Ml_parse=function(b,w){if(18===w.type){var S=Ig[w.name];if(typeof S>"u")throw new Error('Attempting to parse an unsupported color function "'+w.name+'"');return S(b,w.values)}if(5===w.type){if(3===w.value.length){var E=w.value.substring(0,1),L=w.value.substring(1,2),j=w.value.substring(2,3);return zr(parseInt(E+E,16),parseInt(L+L,16),parseInt(j+j,16),1)}if(4===w.value.length){E=w.value.substring(0,1),L=w.value.substring(1,2),j=w.value.substring(2,3);var J=w.value.substring(3,4);return zr(parseInt(E+E,16),parseInt(L+L,16),parseInt(j+j,16),parseInt(J+J,16)/255)}if(6===w.value.length)return E=w.value.substring(0,2),L=w.value.substring(2,4),j=w.value.substring(4,6),zr(parseInt(E,16),parseInt(L,16),parseInt(j,16),1);if(8===w.value.length)return E=w.value.substring(0,2),L=w.value.substring(2,4),j=w.value.substring(4,6),J=w.value.substring(6,8),zr(parseInt(E,16),parseInt(L,16),parseInt(j,16),parseInt(J,16)/255)}if(20===w.type){var ce=pc[w.value.toUpperCase()];if(typeof ce<"u")return ce}return pc.TRANSPARENT},kl=function(b){return 0==(255&b)},_s=function(b){var w=255&b,S=255&b>>8,E=255&b>>16,L=255&b>>24;return w<255?"rgba("+L+","+E+","+S+","+w/255+")":"rgb("+L+","+E+","+S+")"},zr=function(b,w,S,E){return(b<<24|w<<16|S<<8|Math.round(255*E)<<0)>>>0},Rl=function(b,w){if(17===b.type)return b.number;if(16===b.type){var S=3===w?1:255;return 3===w?b.number/100*S:Math.round(b.number/100*S)}return 0},LA=function(b,w){var S=w.filter(fc);if(3===S.length){var E=S.map(Rl);return zr(E[0],E[1],E[2],1)}if(4===S.length){var ce=S.map(Rl);return zr(ce[0],ce[1],ce[2],ce[3])}return 0};function ss(b,w,S){return S<0&&(S+=1),S>=1&&(S-=1),S<1/6?(w-b)*S*6+b:S<.5?w:S<2/3?6*(w-b)*(2/3-S)+b:b}var Jl=function(b,w){var S=w.filter(fc),E=S[0],L=S[1],j=S[2],J=S[3],ce=(17===E.type?ka(E.number):js_parse(b,E))/(2*Math.PI),le=qi(L)?L.number/100:0,Fe=qi(j)?j.number/100:0,He=typeof J<"u"&&qi(J)?Dr(J,1):1;if(0===le)return zr(255*Fe,255*Fe,255*Fe,1);var Je=Fe<=.5?Fe*(le+1):Fe+le-Fe*le,Dt=2*Fe-Je,Ln=ss(Dt,Je,ce+1/3),ln=ss(Dt,Je,ce),En=ss(Dt,Je,ce-1/3);return zr(255*Ln,255*ln,255*En,He)},Ig={hsl:Jl,hsla:Jl,rgb:LA,rgba:LA},nd=function(b,w){return Ml_parse(b,mu.create(w).parseComponentValue())},pc={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},zf={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(b,w){return w.map(function(S){if($i(S))switch(S.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},yu={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Gc=function(b,w){var S=Ml_parse(b,w[0]),E=w[1];return E&&qi(E)?{color:S,stop:E}:{color:S,stop:null}},id=function(b,w){var S=b[0],E=b[b.length-1];null===S.stop&&(S.stop=vo),null===E.stop&&(E.stop=Rt);for(var L=[],j=0,J=0;J<b.length;J++){var ce=b[J].stop;if(null!==ce){var le=Dr(ce,w);L.push(le>j?le:j),j=le}else L.push(null)}var Fe=null;for(J=0;J<L.length;J++){var He=L[J];if(null===He)null===Fe&&(Fe=J);else if(null!==Fe){for(var Je=J-Fe,Ln=(He-L[Fe-1])/(Je+1),ln=1;ln<=Je;ln++)L[Fe+ln-1]=Ln*ln;Fe=null}}return b.map(function(En,Zi){return{color:En.color,stop:Math.max(Math.min(1,L[Zi]/w),0)}})},Dg=function(b,w,S){var E="number"==typeof b?b:function(b,w,S){var E=w/2,L=S/2,j=Dr(b[0],w)-E,J=L-Dr(b[1],S);return(Math.atan2(J,j)+2*Math.PI)%(2*Math.PI)}(b,w,S),L=Math.abs(w*Math.sin(E))+Math.abs(S*Math.cos(E)),j=w/2,J=S/2,ce=L/2,le=Math.sin(E-Math.PI/2)*ce,Fe=Math.cos(E-Math.PI/2)*ce;return[L,j-Fe,j+Fe,J-le,J+le]},Ra=function(b,w){return Math.sqrt(b*b+w*w)},qf=function(b,w,S,E,L){return[[0,0],[0,w],[b,0],[b,w]].reduce(function(J,ce){var He=Ra(S-ce[0],E-ce[1]);return(L?He<J.optimumDistance:He>J.optimumDistance)?{optimumCorner:ce,optimumDistance:He}:J},{optimumDistance:L?1/0:-1/0,optimumCorner:null}).optimumCorner},vu=function(b,w){var S=ka(180),E=[];return Or(w).forEach(function(L,j){if(0===j){var J=L[0];if(20===J.type&&-1!==["top","left","right","bottom"].indexOf(J.value))return void(S=Bh(L));if(Fl(J))return void(S=(js_parse(b,J)+ka(270))%ka(360))}var ce=Gc(b,L);E.push(ce)}),{angle:S,stops:E,type:1}},rd="closest-side",Fg="farthest-side",Mh="closest-corner",ia="farthest-corner",Lr="ellipse",sd="contain",kh=function(b,w){var S=0,E=3,L=[],j=[];return Or(w).forEach(function(J,ce){var le=!0;if(0===ce?le=J.reduce(function(He,Je){if($i(Je))switch(Je.value){case"center":return j.push(OA),!1;case"top":case"left":return j.push(vo),!1;case"right":case"bottom":return j.push(Rt),!1}else if(qi(Je)||Fa(Je))return j.push(Je),!1;return He},le):1===ce&&(le=J.reduce(function(He,Je){if($i(Je))switch(Je.value){case"circle":return S=0,!1;case Lr:return S=1,!1;case sd:case rd:return E=0,!1;case Fg:return E=1,!1;case Mh:return E=2,!1;case"cover":case ia:return E=3,!1}else if(Fa(Je)||qi(Je))return Array.isArray(E)||(E=[]),E.push(Je),!1;return He},le)),le){var Fe=Gc(b,J);L.push(Fe)}}),{size:E,shape:S,stops:L,position:j,type:2}},wu_parse=function(b,w){if(22===w.type){var S={url:w.value,type:0};return b.cache.addImage(w.value),S}if(18===w.type){var E=gc[w.name];if(typeof E>"u")throw new Error('Attempting to parse an unsupported image function "'+w.name+'"');return E(b,w.values)}throw new Error("Unsupported image type "+w.type)};for(var gc={"linear-gradient":function(b,w){var S=ka(180),E=[];return Or(w).forEach(function(L,j){if(0===j){var J=L[0];if(20===J.type&&"to"===J.value)return void(S=Bh(L));if(Fl(J))return void(S=js_parse(b,J))}var ce=Gc(b,L);E.push(ce)}),{angle:S,stops:E,type:1}},"-moz-linear-gradient":vu,"-ms-linear-gradient":vu,"-o-linear-gradient":vu,"-webkit-linear-gradient":vu,"radial-gradient":function(b,w){var S=0,E=3,L=[],j=[];return Or(w).forEach(function(J,ce){var le=!0;if(0===ce){var Fe=!1;le=J.reduce(function(Je,Dt){if(Fe)if($i(Dt))switch(Dt.value){case"center":return j.push(OA),Je;case"top":case"left":return j.push(vo),Je;case"right":case"bottom":return j.push(Rt),Je}else(qi(Dt)||Fa(Dt))&&j.push(Dt);else if($i(Dt))switch(Dt.value){case"circle":return S=0,!1;case Lr:return S=1,!1;case"at":return Fe=!0,!1;case rd:return E=0,!1;case"cover":case Fg:return E=1,!1;case sd:case Mh:return E=2,!1;case ia:return E=3,!1}else if(Fa(Dt)||qi(Dt))return Array.isArray(E)||(E=[]),E.push(Dt),!1;return Je},le)}if(le){var He=Gc(b,J);L.push(He)}}),{size:E,shape:S,stops:L,position:j,type:2}},"-moz-radial-gradient":kh,"-ms-radial-gradient":kh,"-o-radial-gradient":kh,"-webkit-radial-gradient":kh,"-webkit-gradient":function(b,w){var S=ka(180),E=[],L=1;return Or(w).forEach(function(le,Fe){var He=le[0];if(0===Fe){if($i(He)&&"linear"===He.value)return void(L=1);if($i(He)&&"radial"===He.value)return void(L=2)}if(18===He.type)if("from"===He.name){var Je=Ml_parse(b,He.values[0]);E.push({stop:vo,color:Je})}else if("to"===He.name)Je=Ml_parse(b,He.values[0]),E.push({stop:Rt,color:Je});else if("color-stop"===He.name){var Dt=He.values.filter(fc);if(2===Dt.length){Je=Ml_parse(b,Dt[1]);var Ln=Dt[0];td(Ln)&&E.push({stop:{type:16,number:100*Ln.number,flags:Ln.flags},color:Je})}}}),1===L?{angle:(S+ka(180))%ka(360),stops:E,type:L}:{size:3,shape:0,stops:E,position:[],type:L}}},od={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(b,w){if(0===w.length)return[];var S=w[0];return 20===S.type&&"none"===S.value?[]:w.filter(function(E){return fc(E)&&function jd(b){return!(20===b.type&&"none"===b.value||18===b.type&&!gc[b.name])}(E)}).map(function(E){return wu_parse(b,E)})}},ad={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(b,w){return w.map(function(S){if($i(S))switch(S.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Rg={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(b,w){return Or(w).map(function(S){return S.filter(qi)}).map(Gf)}},La={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(b,w){return Or(w).map(function(S){return S.filter($i).map(function(E){return E.value}).join(" ")}).map(Gd)}},Gd=function(b){switch(b){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},ol=(()=>{return(b=ol||(ol={})).AUTO="auto",b.CONTAIN="contain",b.COVER="cover",ol;var b})(),PA={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(b,w){return Or(w).map(function(S){return S.filter(bu)})}},bu=function(b){return $i(b)||qi(b)},ld=function(b){return{name:"border-"+b+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Zf=ld("top"),Og=ld("right"),Lg=ld("bottom"),Ng=ld("left"),ga=function(b){return{name:"border-radius-"+b,initialValue:"0 0",prefix:!1,type:1,parse:function(w,S){return Gf(S.filter(qi))}}},Rh=ga("top-left"),l_=ga("top-right"),Cu=ga("bottom-right"),UA=ga("bottom-left"),zd=function(b){return{name:"border-"+b+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(w,S){switch(S){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},cd=zd("top"),c_=zd("right"),Oh=zd("bottom"),$f=zd("left"),qd=function(b){return{name:"border-"+b+"-width",initialValue:"0",type:0,prefix:!1,parse:function(w,S){return _u(S)?S.number:0}}},nw=qd("top"),Yf=qd("right"),Ky=qd("bottom"),iw=qd("left"),Na={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Pg={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(b,w){return"rtl"===w?1:0}},qc={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(b,w){return w.filter($i).reduce(function(S,E){return S|Kd(E.value)},0)}},Kd=function(b){switch(b){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},u_={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(b,w){switch(w){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Lh={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(b,w){return 20===w.type&&"normal"===w.value?0:17===w.type||15===w.type?w.number:0}},os=(()=>{return(b=os||(os={})).NORMAL="normal",b.STRICT="strict",os;var b})(),Zy={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(b,w){return"strict"===w?os.STRICT:os.NORMAL}},No={name:"line-height",initialValue:"normal",prefix:!1,type:4},Wf=function(b,w){return $i(b)&&"normal"===b.value?1.2*w:17===b.type?w*b.number:qi(b)?Dr(b,w):w},Zd={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(b,w){return 20===w.type&&"none"===w.value?null:wu_parse(b,w)}},Nh={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(b,w){return"inside"===w?0:1}},QA={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(b,w){switch(w){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Xl=function(b){return{name:"margin-"+b,initialValue:"0",prefix:!1,type:4}},$d=Xl("top"),Jf=Xl("right"),d_=Xl("bottom"),HA=Xl("left"),Yd={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(b,w){return w.filter($i).map(function(S){switch(S.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},VA={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(b,w){return"break-word"===w?"break-word":"normal"}},jA=function(b){return{name:"padding-"+b,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Kc=jA("top"),$y=jA("right"),Xf=jA("bottom"),ma=jA("left"),Wd={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(b,w){switch(w){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},ts={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(b,w){switch(w){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},mc={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(b,w){return 1===w.length&&Wl(w[0],"none")?[]:Or(w).map(function(S){for(var E={color:pc.TRANSPARENT,offsetX:vo,offsetY:vo,blur:vo},L=0,j=0;j<S.length;j++){var J=S[j];Fa(J)?(0===L?E.offsetX=J:1===L?E.offsetY=J:E.blur=J,L++):E.color=Ml_parse(b,J)}return E})}},Ph={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(b,w){switch(w){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},GA={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(b,w){if(20===w.type&&"none"===w.value)return null;if(18===w.type){var S=A_[w.name];if(typeof S>"u")throw new Error('Attempting to parse an unsupported transform function "'+w.name+'"');return S(w.values)}return null}},A_={matrix:function(b){var w=b.filter(function(S){return 17===S.type}).map(function(S){return S.number});return 6===w.length?w:null},matrix3d:function(b){var w=b.filter(function(le){return 17===le.type}).map(function(le){return le.number});return 16===w.length?[w[0],w[1],w[4],w[5],w[12],w[13]]:null}},qr={type:16,number:50,flags:4},rw=[qr,qr],zA={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(b,w){var S=w.filter(qi);return 2!==S.length?rw:[S[0],S[1]]}},Yy={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(b,w){switch(w){case"hidden":return 1;case"collapse":return 2;default:return 0}}},_c=(()=>{return(b=_c||(_c={})).NORMAL="normal",b.BREAK_ALL="break-all",b.KEEP_ALL="keep-all",_c;var b})(),ep={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(b,w){switch(w){case"break-all":return _c.BREAK_ALL;case"keep-all":return _c.KEEP_ALL;default:return _c.NORMAL}}},f_={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(b,w){if(20===w.type)return{auto:!0,order:0};if(td(w))return{auto:!1,order:w.number};throw new Error("Invalid z-index number parsed")}},Ug={name:"time",parse:function(b,w){if(15===w.type)switch(w.unit.toLowerCase()){case"s":return 1e3*w.number;case"ms":return w.number}throw new Error("Unsupported time type")}},ud={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(b,w){return td(w)?w.number:1}},p_={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},g_={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(b,w){return w.filter($i).map(function(S){switch(S.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(S){return 0!==S})}},Gs={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(b,w){var S=[],E=[];return w.forEach(function(L){switch(L.type){case 20:case 0:S.push(L.value);break;case 17:S.push(L.number.toString());break;case 4:E.push(S.join(" ")),S.length=0}}),S.length&&E.push(S.join(" ")),E.map(function(L){return-1===L.indexOf(" ")?L:"'"+L+"'"})}},Ol={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Uh={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(b,w){return td(w)?w.number:$i(w)&&"bold"===w.value?700:400}},tp={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(b,w){return w.filter($i).map(function(S){return S.value})}},m_={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(b,w){switch(w){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},jn=function(b,w){return 0!=(b&w)},Pa={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(b,w){if(0===w.length)return[];var S=w[0];return 20===S.type&&"none"===S.value?[]:w}},An={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(b,w){if(0===w.length)return null;var S=w[0];if(20===S.type&&"none"===S.value)return null;for(var E=[],L=w.filter(Si),j=0;j<L.length;j++){var J=L[j],ce=L[j+1];if(20===J.type){var le=ce&&td(ce)?ce.number:1;E.push({counter:J.value,increment:le})}}return E}},nn={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(b,w){if(0===w.length)return[];for(var S=[],E=w.filter(Si),L=0;L<E.length;L++){var j=E[L],J=E[L+1];if($i(j)&&"none"!==j.value){var ce=J&&td(J)?J.number:0;S.push({counter:j.value,reset:ce})}}return S}},gr={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(b,w){return w.filter(_u).map(function(S){return Ug.parse(b,S)})}},Qh={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(b,w){if(0===w.length)return null;var S=w[0];if(20===S.type&&"none"===S.value)return null;var E=[],L=w.filter(xg);if(L.length%2!=0)return null;for(var j=0;j<L.length;j+=2)E.push({open:L[j].value,close:L[j+1].value});return E}},Eu=function(b,w,S){if(!b)return"";var E=b[Math.min(w,b.length-1)];return E?S?E.open:E.close:""},mr={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(b,w){return 1===w.length&&Wl(w[0],"none")?[]:Or(w).map(function(S){for(var E={color:255,offsetX:vo,offsetY:vo,blur:vo,spread:vo,inset:!1},L=0,j=0;j<S.length;j++){var J=S[j];Wl(J,"inset")?E.inset=!0:Fa(J)?(0===L?E.offsetX=J:1===L?E.offsetY=J:2===L?E.blur=J:E.spread=J,L++):E.color=Ml_parse(b,J)}return E})}},__={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(b,w){var E=[];return w.filter($i).forEach(function(L){switch(L.value){case"stroke":E.push(1);break;case"fill":E.push(0);break;case"markers":E.push(2)}}),[0,1,2].forEach(function(L){-1===E.indexOf(L)&&E.push(L)}),E}},y_={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},dd={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(b,w){return _u(w)?w.number:0}},Ua=function(){function b(w,S){var E,L;this.animationDuration=wn(w,gr,S.animationDuration),this.backgroundClip=wn(w,zf,S.backgroundClip),this.backgroundColor=wn(w,yu,S.backgroundColor),this.backgroundImage=wn(w,od,S.backgroundImage),this.backgroundOrigin=wn(w,ad,S.backgroundOrigin),this.backgroundPosition=wn(w,Rg,S.backgroundPosition),this.backgroundRepeat=wn(w,La,S.backgroundRepeat),this.backgroundSize=wn(w,PA,S.backgroundSize),this.borderTopColor=wn(w,Zf,S.borderTopColor),this.borderRightColor=wn(w,Og,S.borderRightColor),this.borderBottomColor=wn(w,Lg,S.borderBottomColor),this.borderLeftColor=wn(w,Ng,S.borderLeftColor),this.borderTopLeftRadius=wn(w,Rh,S.borderTopLeftRadius),this.borderTopRightRadius=wn(w,l_,S.borderTopRightRadius),this.borderBottomRightRadius=wn(w,Cu,S.borderBottomRightRadius),this.borderBottomLeftRadius=wn(w,UA,S.borderBottomLeftRadius),this.borderTopStyle=wn(w,cd,S.borderTopStyle),this.borderRightStyle=wn(w,c_,S.borderRightStyle),this.borderBottomStyle=wn(w,Oh,S.borderBottomStyle),this.borderLeftStyle=wn(w,$f,S.borderLeftStyle),this.borderTopWidth=wn(w,nw,S.borderTopWidth),this.borderRightWidth=wn(w,Yf,S.borderRightWidth),this.borderBottomWidth=wn(w,Ky,S.borderBottomWidth),this.borderLeftWidth=wn(w,iw,S.borderLeftWidth),this.boxShadow=wn(w,mr,S.boxShadow),this.color=wn(w,Na,S.color),this.direction=wn(w,Pg,S.direction),this.display=wn(w,qc,S.display),this.float=wn(w,u_,S.cssFloat),this.fontFamily=wn(w,Gs,S.fontFamily),this.fontSize=wn(w,Ol,S.fontSize),this.fontStyle=wn(w,m_,S.fontStyle),this.fontVariant=wn(w,tp,S.fontVariant),this.fontWeight=wn(w,Uh,S.fontWeight),this.letterSpacing=wn(w,Lh,S.letterSpacing),this.lineBreak=wn(w,Zy,S.lineBreak),this.lineHeight=wn(w,No,S.lineHeight),this.listStyleImage=wn(w,Zd,S.listStyleImage),this.listStylePosition=wn(w,Nh,S.listStylePosition),this.listStyleType=wn(w,QA,S.listStyleType),this.marginTop=wn(w,$d,S.marginTop),this.marginRight=wn(w,Jf,S.marginRight),this.marginBottom=wn(w,d_,S.marginBottom),this.marginLeft=wn(w,HA,S.marginLeft),this.opacity=wn(w,ud,S.opacity);var j=wn(w,Yd,S.overflow);this.overflowX=j[0],this.overflowY=j[j.length>1?1:0],this.overflowWrap=wn(w,VA,S.overflowWrap),this.paddingTop=wn(w,Kc,S.paddingTop),this.paddingRight=wn(w,$y,S.paddingRight),this.paddingBottom=wn(w,Xf,S.paddingBottom),this.paddingLeft=wn(w,ma,S.paddingLeft),this.paintOrder=wn(w,__,S.paintOrder),this.position=wn(w,ts,S.position),this.textAlign=wn(w,Wd,S.textAlign),this.textDecorationColor=wn(w,p_,null!==(E=S.textDecorationColor)&&void 0!==E?E:S.color),this.textDecorationLine=wn(w,g_,null!==(L=S.textDecorationLine)&&void 0!==L?L:S.textDecoration),this.textShadow=wn(w,mc,S.textShadow),this.textTransform=wn(w,Ph,S.textTransform),this.transform=wn(w,GA,S.transform),this.transformOrigin=wn(w,zA,S.transformOrigin),this.visibility=wn(w,Yy,S.visibility),this.webkitTextStrokeColor=wn(w,y_,S.webkitTextStrokeColor),this.webkitTextStrokeWidth=wn(w,dd,S.webkitTextStrokeWidth),this.wordBreak=wn(w,ep,S.wordBreak),this.zIndex=wn(w,f_,S.zIndex)}return b.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},b.prototype.isTransparent=function(){return kl(this.backgroundColor)},b.prototype.isTransformed=function(){return null!==this.transform},b.prototype.isPositioned=function(){return 0!==this.position},b.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},b.prototype.isFloating=function(){return 0!==this.float},b.prototype.isInlineLevel=function(){return jn(this.display,4)||jn(this.display,33554432)||jn(this.display,268435456)||jn(this.display,536870912)||jn(this.display,67108864)||jn(this.display,134217728)},b}(),Hh=function b(w,S){this.content=wn(w,Pa,S.content),this.quotes=wn(w,Qh,S.quotes)},ra=function b(w,S){this.counterIncrement=wn(w,An,S.counterIncrement),this.counterReset=wn(w,nn,S.counterReset)},wn=function(b,w,S){var E=new Is,L=null!==S&&typeof S<"u"?S.toString():w.initialValue;E.write(L);var j=new mu(E.read());switch(w.type){case 2:var J=j.parseComponentValue();return w.parse(b,$i(J)?J.value:w.initialValue);case 0:return w.parse(b,j.parseComponentValue());case 1:return w.parse(b,j.parseComponentValues());case 4:return j.parseComponentValue();case 3:switch(w.format){case"angle":return js_parse(b,j.parseComponentValue());case"color":return Ml_parse(b,j.parseComponentValue());case"image":return wu_parse(b,j.parseComponentValue());case"length":var ce=j.parseComponentValue();return Fa(ce)?ce:vo;case"length-percentage":var le=j.parseComponentValue();return qi(le)?le:vo;case"time":return Ug.parse(b,j.parseComponentValue())}}},np=function(b,w){var S=function(b){switch(b.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(b);return 1===S||w===S},ec=function b(w,S){this.context=w,this.textNodes=[],this.elements=[],this.flags=0,np(S,3),this.styles=new Ua(w,window.getComputedStyle(S,null)),YA(S)&&(this.styles.animationDuration.some(function(E){return E>0})&&(S.style.animationDuration="0s"),null!==this.styles.transform&&(S.style.transform="none")),this.bounds=vt(this.context,S),np(S,4)&&(this.flags|=16)},Nr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Su=typeof Uint8Array>"u"?[]:new Uint8Array(256),al=0;al<Nr.length;al++)Su[Nr.charCodeAt(al)]=al;for(var _i=function(b,w,S){return b.slice?b.slice(w,S):new Uint16Array(Array.prototype.slice.call(b,w,S))},Vg=function(){function b(w,S,E,L,j,J){this.initialValue=w,this.errorValue=S,this.highStart=E,this.highValueIndex=L,this.index=j,this.data=J}return b.prototype.get=function(w){var S;if(w>=0){if(w<55296||w>56319&&w<=65535)return this.data[S=((S=this.index[w>>5])<<2)+(31&w)];if(w<=65535)return this.data[S=((S=this.index[2048+(w-55296>>5)])<<2)+(31&w)];if(w<this.highStart)return S=this.index[S=2080+(w>>11)],this.data[S=((S=this.index[S+=w>>5&63])<<2)+(31&w)];if(w<=1114111)return this.data[this.highValueIndex]}return this.errorValue},b}(),$c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Uo=typeof Uint8Array>"u"?[]:new Uint8Array(256),cl=0;cl<$c.length;cl++)Uo[$c.charCodeAt(cl)]=cl;var qA=8,fd=9,pi=11,nh=12,bo=function(){for(var b=[],w=0;w<arguments.length;w++)b[w]=arguments[w];if(String.fromCodePoint)return String.fromCodePoint.apply(String,b);var S=b.length;if(!S)return"";for(var E=[],L=-1,j="";++L<S;){var J=b[L];J<=65535?E.push(J):E.push(55296+((J-=65536)>>10),J%1024+56320),(L+1===S||E.length>16384)&&(j+=String.fromCharCode.apply(String,E),E.length=0)}return j},jg=function(b,w){var S=function(b){var E,j,J,ce,le,w=.75*b.length,S=b.length,L=0;"="===b[b.length-1]&&(w--,"="===b[b.length-2]&&w--);var Fe=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(w):new Array(w),He=Array.isArray(Fe)?Fe:new Uint8Array(Fe);for(E=0;E<S;E+=4)j=Su[b.charCodeAt(E)],J=Su[b.charCodeAt(E+1)],ce=Su[b.charCodeAt(E+2)],le=Su[b.charCodeAt(E+3)],He[L++]=j<<2|J>>4,He[L++]=(15&J)<<4|ce>>2,He[L++]=(3&ce)<<6|63&le;return Fe}(b),E=Array.isArray(S)?function(b){for(var w=b.length,S=[],E=0;E<w;E+=4)S.push(b[E+3]<<24|b[E+2]<<16|b[E+1]<<8|b[E]);return S}(S):new Uint32Array(S),L=Array.isArray(S)?function(b){for(var w=b.length,S=[],E=0;E<w;E+=2)S.push(b[E+1]<<8|b[E]);return S}(S):new Uint16Array(S),J=_i(L,12,E[4]/2),ce=2===E[5]?_i(L,(24+E[4])/2):function(b,w,S){return b.slice?b.slice(w,S):new Uint32Array(Array.prototype.slice.call(b,w,S))}(E,Math.ceil((24+E[4])/4));return new Vg(E[0],E[1],E[2],E[3],J,ce)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),w_=function(b){return jg.get(b)},qs=function(b,w,S){var E=S-2,L=w[E],j=w[S-1],J=w[S];if(2===j&&3===J)return"\xd7";if(2===j||3===j||4===j||2===J||3===J||4===J)return"\xf7";if(j===qA&&-1!==[qA,fd,pi,nh].indexOf(J)||(j===pi||j===fd)&&(J===fd||10===J)||(j===nh||10===j)&&10===J||13===J||5===J||7===J||1===j)return"\xd7";if(13===j&&14===J){for(;5===L;)L=w[--E];if(14===L)return"\xd7"}if(15===j&&15===J){for(var ce=0;15===L;)ce++,L=w[--E];if(ce%2==0)return"\xd7"}return"\xf7"},so=function(b){var w=function(b){for(var w=[],S=0,E=b.length;S<E;){var L=b.charCodeAt(S++);if(L>=55296&&L<=56319&&S<E){var j=b.charCodeAt(S++);56320==(64512&j)?w.push(((1023&L)<<10)+(1023&j)+65536):(w.push(L),S--)}else w.push(L)}return w}(b),S=w.length,E=0,L=0,j=w.map(w_);return{next:function(){if(E>=S)return{done:!0,value:null};for(var J="\xd7";E<S&&"\xd7"===(J=qs(0,j,++E)););if("\xd7"!==J||E===S){var ce=bo.apply(null,w.slice(L,E));return L=E,{value:ce,done:!1}}return{done:!0,value:null}}}},gt=function(b){return 0===b[0]&&255===b[1]&&0===b[2]&&255===b[3]},on=function(b,w,S,E,L){var j="http://www.w3.org/2000/svg",J=document.createElementNS(j,"svg"),ce=document.createElementNS(j,"foreignObject");return J.setAttributeNS(null,"width",b.toString()),J.setAttributeNS(null,"height",w.toString()),ce.setAttributeNS(null,"width","100%"),ce.setAttributeNS(null,"height","100%"),ce.setAttributeNS(null,"x",S.toString()),ce.setAttributeNS(null,"y",E.toString()),ce.setAttributeNS(null,"externalResourcesRequired","true"),J.appendChild(ce),ce.appendChild(L),J},Bn=function(b){return new Promise(function(w,S){var E=new Image;E.onload=function(){return w(E)},E.onerror=S,E.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(b))})},Fn={get SUPPORT_RANGE_BOUNDS(){var b=function(b){if(b.createRange){var S=b.createRange();if(S.getBoundingClientRect){var E=b.createElement("boundtest");E.style.height="123px",E.style.display="block",b.body.appendChild(E),S.selectNode(E);var L=S.getBoundingClientRect(),j=Math.round(L.height);if(b.body.removeChild(E),123===j)return!0}}return!1}(document);return Object.defineProperty(Fn,"SUPPORT_RANGE_BOUNDS",{value:b}),b},get SUPPORT_WORD_BREAKING(){var b=Fn.SUPPORT_RANGE_BOUNDS&&function(b){var w=b.createElement("boundtest");w.style.width="50px",w.style.display="block",w.style.fontSize="12px",w.style.letterSpacing="0px",w.style.wordSpacing="0px",b.body.appendChild(w);var S=b.createRange();w.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var E=w.firstChild,L=Tt(E.data).map(function(le){return ut(le)}),j=0,J={},ce=L.every(function(le,Fe){S.setStart(E,j),S.setEnd(E,j+le.length);var He=S.getBoundingClientRect();j+=le.length;var Je=He.x>J.x||He.y>J.y;return J=He,0===Fe||Je});return b.body.removeChild(w),ce}(document);return Object.defineProperty(Fn,"SUPPORT_WORD_BREAKING",{value:b}),b},get SUPPORT_SVG_DRAWING(){var b=function(b){var w=new Image,S=b.createElement("canvas"),E=S.getContext("2d");if(!E)return!1;w.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{E.drawImage(w,0,0),S.toDataURL()}catch{return!1}return!0}(document);return Object.defineProperty(Fn,"SUPPORT_SVG_DRAWING",{value:b}),b},get SUPPORT_FOREIGNOBJECT_DRAWING(){var b="function"==typeof Array.from&&"function"==typeof window.fetch?function(b){var w=b.createElement("canvas"),S=100;w.width=S,w.height=S;var E=w.getContext("2d");if(!E)return Promise.reject(!1);E.fillStyle="rgb(0, 255, 0)",E.fillRect(0,0,S,S);var L=new Image,j=w.toDataURL();L.src=j;var J=on(S,S,0,0,L);return E.fillStyle="red",E.fillRect(0,0,S,S),Bn(J).then(function(ce){E.drawImage(ce,0,0);var le=E.getImageData(0,0,S,S).data;E.fillStyle="red",E.fillRect(0,0,S,S);var Fe=b.createElement("div");return Fe.style.backgroundImage="url("+j+")",Fe.style.height=S+"px",gt(le)?Bn(on(S,S,0,0,Fe)):Promise.reject(!1)}).then(function(ce){return E.drawImage(ce,0,0),gt(E.getImageData(0,0,S,S).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(Fn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:b}),b},get SUPPORT_CORS_IMAGES(){var b=typeof(new Image).crossOrigin<"u";return Object.defineProperty(Fn,"SUPPORT_CORS_IMAGES",{value:b}),b},get SUPPORT_RESPONSE_TYPE(){var b="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Fn,"SUPPORT_RESPONSE_TYPE",{value:b}),b},get SUPPORT_CORS_XHR(){var b="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Fn,"SUPPORT_CORS_XHR",{value:b}),b},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var b=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Fn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:b}),b}},Yt=function b(w,S){this.text=w,this.bounds=S},Ks=function(b,w){var S=w.ownerDocument;if(S){var E=S.createElement("html2canvaswrapper");E.appendChild(w.cloneNode(!0));var L=w.parentNode;if(L){L.replaceChild(E,w);var j=vt(b,E);return E.firstChild&&L.replaceChild(E.firstChild,E),j}}return lt.EMPTY},ul=function(b,w,S){var E=b.ownerDocument;if(!E)throw new Error("Node has no owner document");var L=E.createRange();return L.setStart(b,w),L.setEnd(b,w+S),L},Zs=function(b){if(Fn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var w=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(w.segment(b)).map(function(S){return S.segment})}return function(b){for(var E,w=so(b),S=[];!(E=w.next()).done;)E.value&&S.push(E.value.slice());return S}(b)},ja=function(b,w){return 0!==w.letterSpacing?Zs(b):function(b,w){if(Fn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var S=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(S.segment(b)).map(function(E){return E.segment})}return Gh(b,w)}(b,w)},Ll=[32,160,4961,65792,65793,4153,4241],Gh=function(b,w){for(var L,S=function(b,w){var S=Tt(b),E=$t(S,w),L=E[0],j=E[1],J=E[2],ce=S.length,le=0,Fe=0;return{next:function(){if(Fe>=ce)return{done:!0,value:null};for(var He=Qe;Fe<ce&&(He=it(S,j,L,++Fe,J))===Qe;);if(He!==Qe||Fe===ce){var Je=new $n(S,He,le,Fe);return le=Fe,{value:Je,done:!1}}return{done:!0,value:null}}}}(b,{lineBreak:w.lineBreak,wordBreak:"break-word"===w.overflowWrap?"break-word":w.wordBreak}),E=[],j=function(){if(L.value){var J=L.value.slice(),ce=Tt(J),le="";ce.forEach(function(Fe){-1===Ll.indexOf(Fe)?le+=ut(Fe):(le.length&&E.push(le),E.push(ut(Fe)),le="")}),le.length&&E.push(le)}};!(L=S.next()).done;)j();return E},KA=function b(w,S,E){this.text=Jy(S.data,E.textTransform),this.textBounds=function(b,w,S,E){var L=ja(w,S),j=[],J=0;return L.forEach(function(ce){if(S.textDecorationLine.length||ce.trim().length>0)if(Fn.SUPPORT_RANGE_BOUNDS){var le=ul(E,J,ce.length).getClientRects();if(le.length>1){var Fe=Zs(ce),He=0;Fe.forEach(function(Dt){j.push(new Yt(Dt,lt.fromDOMRectList(b,ul(E,He+J,Dt.length).getClientRects()))),He+=Dt.length})}else j.push(new Yt(ce,lt.fromDOMRectList(b,le)))}else{var Je=E.splitText(ce.length);j.push(new Yt(ce,Ks(b,E))),E=Je}else Fn.SUPPORT_RANGE_BOUNDS||(E=E.splitText(ce.length));J+=ce.length}),j}(w,this.text,E,S)},Jy=function(b,w){switch(w){case 1:return b.toLowerCase();case 3:return b.replace(sp,sw);case 2:return b.toUpperCase();default:return b}},sp=/(^|\s|:|-|\(|\))([a-z])/g,sw=function(b,w,S){return b.length>0?w+S.toUpperCase():b},op=function(b){function w(S,E){var L=b.call(this,S,E)||this;return L.src=E.currentSrc||E.src,L.intrinsicWidth=E.naturalWidth,L.intrinsicHeight=E.naturalHeight,L.context.cache.addImage(L.src),L}return re(w,b),w}(ec),ap=function(b){function w(S,E){var L=b.call(this,S,E)||this;return L.canvas=E,L.intrinsicWidth=E.width,L.intrinsicHeight=E.height,L}return re(w,b),w}(ec),b_=function(b){function w(S,E){var L=b.call(this,S,E)||this,j=new XMLSerializer,J=vt(S,E);return E.setAttribute("width",J.width+"px"),E.setAttribute("height",J.height+"px"),L.svg="data:image/svg+xml,"+encodeURIComponent(j.serializeToString(E)),L.intrinsicWidth=E.width.baseVal.value,L.intrinsicHeight=E.height.baseVal.value,L.context.cache.addImage(L.svg),L}return re(w,b),w}(ec),zh=function(b){function w(S,E){var L=b.call(this,S,E)||this;return L.value=E.value,L}return re(w,b),w}(ec),lp=function(b){function w(S,E){var L=b.call(this,S,E)||this;return L.start=E.start,L.reversed="boolean"==typeof E.reversed&&!0===E.reversed,L}return re(w,b),w}(ec),ow=[{type:15,flags:0,unit:"px",number:3}],Xy=[{type:16,flags:0,number:50}],up="checkbox",zg="radio",C_="password",qg=707406591,ZA=function(b){function w(S,E){var L=b.call(this,S,E)||this;switch(L.type=E.type.toLowerCase(),L.checked=E.checked,L.value=function(b){var w=b.type===C_?new Array(b.value.length+1).join("\u2022"):b.value;return 0===w.length?b.placeholder||"":w}(E),(L.type===up||L.type===zg)&&(L.styles.backgroundColor=3739148031,L.styles.borderTopColor=L.styles.borderRightColor=L.styles.borderBottomColor=L.styles.borderLeftColor=2779096575,L.styles.borderTopWidth=L.styles.borderRightWidth=L.styles.borderBottomWidth=L.styles.borderLeftWidth=1,L.styles.borderTopStyle=L.styles.borderRightStyle=L.styles.borderBottomStyle=L.styles.borderLeftStyle=1,L.styles.backgroundClip=[0],L.styles.backgroundOrigin=[0],L.bounds=function(b){return b.width>b.height?new lt(b.left+(b.width-b.height)/2,b.top,b.height,b.height):b.width<b.height?new lt(b.left,b.top+(b.height-b.width)/2,b.width,b.width):b}(L.bounds)),L.type){case up:L.styles.borderTopRightRadius=L.styles.borderTopLeftRadius=L.styles.borderBottomRightRadius=L.styles.borderBottomLeftRadius=ow;break;case zg:L.styles.borderTopRightRadius=L.styles.borderTopLeftRadius=L.styles.borderBottomRightRadius=L.styles.borderBottomLeftRadius=Xy}return L}return re(w,b),w}(ec),Kg=function(b){function w(S,E){var L=b.call(this,S,E)||this,j=E.options[E.selectedIndex||0];return L.value=j&&j.text||"",L}return re(w,b),w}(ec),pd=function(b){function w(S,E){var L=b.call(this,S,E)||this;return L.value=E.value,L}return re(w,b),w}(ec),vc=function(b){function w(S,E){var L=b.call(this,S,E)||this;L.src=E.src,L.width=parseInt(E.width,10)||0,L.height=parseInt(E.height,10)||0,L.backgroundColor=L.styles.backgroundColor;try{if(E.contentWindow&&E.contentWindow.document&&E.contentWindow.document.documentElement){L.tree=x_(S,E.contentWindow.document.documentElement);var j=E.contentWindow.document.documentElement?nd(S,getComputedStyle(E.contentWindow.document.documentElement).backgroundColor):pc.TRANSPARENT,J=E.contentWindow.document.body?nd(S,getComputedStyle(E.contentWindow.document.body).backgroundColor):pc.TRANSPARENT;L.backgroundColor=kl(j)?kl(J)?L.styles.backgroundColor:J:j}}catch{}return L}return re(w,b),w}(ec),Zg=["OL","UL","MENU"],dp=function(b,w,S,E){for(var L=w.firstChild,j=void 0;L;L=j)if(j=L.nextSibling,$A(L)&&L.data.trim().length>0)S.textNodes.push(new KA(b,L,S.styles));else if(Mu(L))if(Yh(L)&&L.assignedNodes)L.assignedNodes().forEach(function(ce){return dp(b,ce,S,E)});else{var J=$g(b,L);J.styles.isVisible()&&(aw(L,J,E)?J.flags|=4:qh(J.styles)&&(J.flags|=2),-1!==Zg.indexOf(L.tagName)&&(J.flags|=8),S.elements.push(J),L.shadowRoot?dp(b,L.shadowRoot,J,E):!rh(L)&&!E_(L)&&!bc(L)&&dp(b,L,J,E))}},$g=function(b,w){return Ap(w)?new op(b,w):hp(w)?new ap(b,w):E_(w)?new b_(b,w):Zh(w)?new zh(b,w):ih(w)?new lp(b,w):Yg(w)?new ZA(b,w):bc(w)?new Kg(b,w):rh(w)?new pd(b,w):fp(w)?new vc(b,w):new ec(b,w)},x_=function(b,w){var S=$g(b,w);return S.flags|=4,dp(b,w,S,S),S},aw=function(b,w,S){return w.styles.isPositionedWithZIndex()||w.styles.opacity<1||w.styles.isTransformed()||Wg(b)&&S.styles.isTransparent()},qh=function(b){return b.isPositioned()||b.isFloating()},$A=function(b){return b.nodeType===Node.TEXT_NODE},Mu=function(b){return b.nodeType===Node.ELEMENT_NODE},YA=function(b){return Mu(b)&&typeof b.style<"u"&&!Kh(b)},Kh=function(b){return"object"==typeof b.className},Zh=function(b){return"LI"===b.tagName},ih=function(b){return"OL"===b.tagName},Yg=function(b){return"INPUT"===b.tagName},E_=function(b){return"svg"===b.tagName},Wg=function(b){return"BODY"===b.tagName},hp=function(b){return"CANVAS"===b.tagName},wc=function(b){return"VIDEO"===b.tagName},Ap=function(b){return"IMG"===b.tagName},fp=function(b){return"IFRAME"===b.tagName},cw=function(b){return"STYLE"===b.tagName},rh=function(b){return"TEXTAREA"===b.tagName},bc=function(b){return"SELECT"===b.tagName},Yh=function(b){return"SLOT"===b.tagName},gd=function(b){return b.tagName.indexOf("-")>0},Wh=function(){function b(){this.counters={}}return b.prototype.getCounterValue=function(w){var S=this.counters[w];return S&&S.length?S[S.length-1]:1},b.prototype.getCounterValues=function(w){return this.counters[w]||[]},b.prototype.pop=function(w){var S=this;w.forEach(function(E){return S.counters[E].pop()})},b.prototype.parse=function(w){var S=this,E=w.counterIncrement,L=w.counterReset,j=!0;null!==E&&E.forEach(function(ce){var le=S.counters[ce.counter];le&&0!==ce.increment&&(j=!1,le.length||le.push(1),le[Math.max(0,le.length-1)]+=ce.increment)});var J=[];return j&&L.forEach(function(ce){var le=S.counters[ce.counter];J.push(ce.counter),le||(le=S.counters[ce.counter]=[]),le.push(ce.reset)}),J},b}(),pp={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},S_={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},WA={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},Jg={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},Jh=function(b,w,S,E,L,j){return b<w||b>S?dl(b,L,j.length>0):E.integers.reduce(function(J,ce,le){for(;b>=ce;)b-=ce,J+=E.values[le];return J},"")+j},JA=function(b,w,S,E){var L="";do{S||b--,L=E(b)+L,b/=w}while(b*w>=w);return L},Ts=function(b,w,S,E,L){var j=S-w+1;return(b<0?"-":"")+(JA(Math.abs(b),j,E,function(J){return ut(Math.floor(J%j)+w)})+L)},md=function(b,w,S){void 0===S&&(S=". ");var E=w.length;return JA(Math.abs(b),E,!1,function(L){return w[Math.floor(L%E)]})+S},Cc=function(b,w,S,E,L,j){if(b<-9999||b>9999)return dl(b,4,L.length>0);var J=Math.abs(b),ce=L;if(0===J)return w[0]+ce;for(var le=0;J>0&&le<=4;le++){var Fe=J%10;0===Fe&&jn(j,1)&&""!==ce?ce=w[Fe]+ce:Fe>1||1===Fe&&0===le||1===Fe&&1===le&&jn(j,2)||1===Fe&&1===le&&jn(j,4)&&b>100||1===Fe&&le>1&&jn(j,8)?ce=w[Fe]+(le>0?S[le-1]:"")+ce:1===Fe&&le>0&&(ce=S[le-1]+ce),J=Math.floor(J/10)}return(b<0?E:"")+ce},Ru="\ub9c8\uc774\ub108\uc2a4",dl=function(b,w,S){var E=S?". ":"",L=S?"\u3001":"",j=S?", ":"",J=S?" ":"";switch(w){case 0:return"\u2022"+J;case 1:return"\u25e6"+J;case 2:return"\u25fe"+J;case 5:var ce=Ts(b,48,57,!0,E);return ce.length<4?"0"+ce:ce;case 4:return md(b,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",L);case 6:return Jh(b,1,3999,pp,3,E).toLowerCase();case 7:return Jh(b,1,3999,pp,3,E);case 8:return Ts(b,945,969,!1,E);case 9:return Ts(b,97,122,!1,E);case 10:return Ts(b,65,90,!1,E);case 11:return Ts(b,1632,1641,!0,E);case 12:case 49:return Jh(b,1,9999,S_,3,E);case 35:return Jh(b,1,9999,S_,3,E).toLowerCase();case 13:return Ts(b,2534,2543,!0,E);case 14:case 30:return Ts(b,6112,6121,!0,E);case 15:return md(b,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",L);case 16:return md(b,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",L);case 17:case 48:return Cc(b,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8ca0",L,14);case 47:return Cc(b,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8ca0",L,15);case 42:return Cc(b,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8d1f",L,14);case 41:return Cc(b,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8d1f",L,15);case 26:return Cc(b,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",L,0);case 25:return Cc(b,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",L,7);case 31:return Cc(b,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",Ru,j,7);case 33:return Cc(b,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",Ru,j,0);case 32:return Cc(b,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",Ru,j,7);case 18:return Ts(b,2406,2415,!0,E);case 20:return Jh(b,1,19999,Jg,3,E);case 21:return Ts(b,2790,2799,!0,E);case 22:return Ts(b,2662,2671,!0,E);case 22:return Jh(b,1,10999,WA,3,E);case 23:return md(b,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return md(b,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Ts(b,3302,3311,!0,E);case 28:return md(b,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",L);case 29:return md(b,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",L);case 34:return Ts(b,3792,3801,!0,E);case 37:return Ts(b,6160,6169,!0,E);case 38:return Ts(b,4160,4169,!0,E);case 39:return Ts(b,2918,2927,!0,E);case 40:return Ts(b,1776,1785,!0,E);case 43:return Ts(b,3046,3055,!0,E);case 44:return Ts(b,3174,3183,!0,E);case 45:return Ts(b,3664,3673,!0,E);case 46:return Ts(b,3872,3881,!0,E);default:return Ts(b,48,57,!0,E)}},nc="data-html2canvas-ignore",ef=function(){function b(w,S,E){if(this.context=w,this.options=E,this.scrolledElements=[],this.referenceElement=S,this.counters=new Wh,this.quoteDepth=0,!S.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(S.ownerDocument.documentElement,!1)}return b.prototype.toIFrame=function(w,S){var E=this,L=AC(w,S);if(!L.contentWindow)return Promise.reject("Unable to find iframe window");var j=w.defaultView.pageXOffset,J=w.defaultView.pageYOffset,ce=L.contentWindow,le=ce.document,Fe=uw(L).then(function(){return ze(E,void 0,void 0,function(){var He,Je;return oe(this,function(Dt){switch(Dt.label){case 0:return this.scrolledElements.forEach(em),ce&&(ce.scrollTo(S.left,S.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(ce.scrollY!==S.top||ce.scrollX!==S.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(ce.scrollX-S.left,ce.scrollY-S.top,0,0))),He=this.options.onclone,typeof(Je=this.clonedReferenceElement)>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:le.fonts&&le.fonts.ready?[4,le.fonts.ready]:[3,2];case 1:Dt.sent(),Dt.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,gp(le)]:[3,4];case 3:Dt.sent(),Dt.label=4;case 4:return"function"==typeof He?[2,Promise.resolve().then(function(){return He(le,Je)}).then(function(){return L})]:[2,L]}})})});return le.open(),le.write(_p(document.doctype)+"<html></html>"),nA(this.referenceElement.ownerDocument,j,J),le.replaceChild(le.adoptNode(this.documentElement),le.documentElement),le.close(),Fe},b.prototype.createElementClone=function(w){if(np(w,2),hp(w))return this.createCanvasClone(w);if(wc(w))return this.createVideoClone(w);if(cw(w))return this.createStyleClone(w);var S=w.cloneNode(!1);return Ap(S)&&(Ap(w)&&w.currentSrc&&w.currentSrc!==w.src&&(S.src=w.currentSrc,S.srcset=""),"lazy"===S.loading&&(S.loading="eager")),gd(S)?this.createCustomElementClone(S):S},b.prototype.createCustomElementClone=function(w){var S=document.createElement("html2canvascustomelement");return tA(w.style,S),S},b.prototype.createStyleClone=function(w){try{var S=w.sheet;if(S&&S.cssRules){var E=[].slice.call(S.cssRules,0).reduce(function(j,J){return J&&"string"==typeof J.cssText?j+J.cssText:j},""),L=w.cloneNode(!1);return L.textContent=E,L}}catch(j){if(this.context.logger.error("Unable to access cssRules property",j),"SecurityError"!==j.name)throw j}return w.cloneNode(!1)},b.prototype.createCanvasClone=function(w){var S;if(this.options.inlineImages&&w.ownerDocument){var E=w.ownerDocument.createElement("img");try{return E.src=w.toDataURL(),E}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",w)}}var L=w.cloneNode(!1);try{L.width=w.width,L.height=w.height;var j=w.getContext("2d"),J=L.getContext("2d");if(J)if(!this.options.allowTaint&&j)J.putImageData(j.getImageData(0,0,w.width,w.height),0,0);else{var ce=null!==(S=w.getContext("webgl2"))&&void 0!==S?S:w.getContext("webgl");ce&&!1===ce.getContextAttributes()?.preserveDrawingBuffer&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",w),J.drawImage(w,0,0)}return L}catch{this.context.logger.info("Unable to clone canvas as it is tainted",w)}return L},b.prototype.createVideoClone=function(w){var S=w.ownerDocument.createElement("canvas");S.width=w.offsetWidth,S.height=w.offsetHeight;var E=S.getContext("2d");try{return E&&(E.drawImage(w,0,0,S.width,S.height),this.options.allowTaint||E.getImageData(0,0,S.width,S.height)),S}catch{this.context.logger.info("Unable to clone video as it is tainted",w)}var L=w.ownerDocument.createElement("canvas");return L.width=w.offsetWidth,L.height=w.offsetHeight,L},b.prototype.appendChildNode=function(w,S,E){(!Mu(S)||!function(b){return"SCRIPT"===b.tagName}(S)&&!S.hasAttribute(nc)&&("function"!=typeof this.options.ignoreElements||!this.options.ignoreElements(S)))&&(!this.options.copyStyles||!Mu(S)||!cw(S))&&w.appendChild(this.cloneNode(S,E))},b.prototype.cloneChildNodes=function(w,S,E){for(var L=this,j=w.shadowRoot?w.shadowRoot.firstChild:w.firstChild;j;j=j.nextSibling)if(Mu(j)&&Yh(j)&&"function"==typeof j.assignedNodes){var J=j.assignedNodes();J.length&&J.forEach(function(ce){return L.appendChildNode(S,ce,E)})}else this.appendChildNode(S,j,E)},b.prototype.cloneNode=function(w,S){if($A(w))return document.createTextNode(w.data);if(!w.ownerDocument)return w.cloneNode(!1);var E=w.ownerDocument.defaultView;if(E&&Mu(w)&&(YA(w)||Kh(w))){var L=this.createElementClone(w);L.style.transitionProperty="none";var j=E.getComputedStyle(w),J=E.getComputedStyle(w,":before"),ce=E.getComputedStyle(w,":after");this.referenceElement===w&&YA(L)&&(this.clonedReferenceElement=L),Wg(L)&&tm(L);var le=this.counters.parse(new ra(this.context,j)),Fe=this.resolvePseudoContent(w,L,J,eA.BEFORE);gd(w)&&(S=!0),wc(w)||this.cloneChildNodes(w,L,S),Fe&&L.insertBefore(Fe,L.firstChild);var He=this.resolvePseudoContent(w,L,ce,eA.AFTER);return He&&L.appendChild(He),this.counters.pop(le),(j&&(this.options.copyStyles||Kh(w))&&!fp(w)||S)&&tA(j,L),(0!==w.scrollTop||0!==w.scrollLeft)&&this.scrolledElements.push([L,w.scrollLeft,w.scrollTop]),(rh(w)||bc(w))&&(rh(L)||bc(L))&&(L.value=w.value),L}return w.cloneNode(!1)},b.prototype.resolvePseudoContent=function(w,S,E,L){var j=this;if(E){var J=E.content,ce=S.ownerDocument;if(ce&&J&&"none"!==J&&"-moz-alt-content"!==J&&"none"!==E.display){this.counters.parse(new ra(this.context,E));var le=new Hh(this.context,E),Fe=ce.createElement("html2canvaspseudoelement");tA(E,Fe),le.content.forEach(function(Je){if(0===Je.type)Fe.appendChild(ce.createTextNode(Je.value));else if(22===Je.type){var Dt=ce.createElement("img");Dt.src=Je.value,Dt.style.opacity="1",Fe.appendChild(Dt)}else if(18===Je.type){if("attr"===Je.name){var Ln=Je.values.filter($i);Ln.length&&Fe.appendChild(ce.createTextNode(w.getAttribute(Ln[0].value)||""))}else if("counter"===Je.name){var ln=Je.values.filter(fc),Zi=ln[1];if((En=ln[0])&&$i(En)){var ii=j.counters.getCounterValue(En.value),Jn=Zi&&$i(Zi)?QA.parse(j.context,Zi.value):3;Fe.appendChild(ce.createTextNode(dl(ii,Jn,!1)))}}else if("counters"===Je.name){var En,Pr=Je.values.filter(fc),er=Pr[1];if(Zi=Pr[2],(En=Pr[0])&&$i(En)){var gi=j.counters.getCounterValues(En.value),Mn=Zi&&$i(Zi)?QA.parse(j.context,Zi.value):3,dr=er&&0===er.type?er.value:"",sr=gi.map(function(Ec){return dl(Ec,Mn,!1)}).join(dr);Fe.appendChild(ce.createTextNode(sr))}}}else if(20===Je.type)switch(Je.value){case"open-quote":Fe.appendChild(ce.createTextNode(Eu(le.quotes,j.quoteDepth++,!0)));break;case"close-quote":Fe.appendChild(ce.createTextNode(Eu(le.quotes,--j.quoteDepth,!1)));break;default:Fe.appendChild(ce.createTextNode(Je.value))}}),Fe.className=rA+" "+I_;var He=L===eA.BEFORE?" "+rA:" "+I_;return Kh(S)?S.className.baseValue+=He:S.className+=He,Fe}}},b.destroy=function(w){return!!w.parentNode&&(w.parentNode.removeChild(w),!0)},b}(),eA=(()=>{return(b=eA||(eA={}))[b.BEFORE=0]="BEFORE",b[b.AFTER=1]="AFTER",eA;var b})(),AC=function(b,w){var S=b.createElement("iframe");return S.className="html2canvas-container",S.style.visibility="hidden",S.style.position="fixed",S.style.left="-10000px",S.style.top="0px",S.style.border="0",S.width=w.width.toString(),S.height=w.height.toString(),S.scrolling="no",S.setAttribute(nc,"true"),b.body.appendChild(S),S},yd=function(b){return new Promise(function(w){b.complete?w():b.src?(b.onload=w,b.onerror=w):w()})},gp=function(b){return Promise.all([].slice.call(b.images,0).map(yd))},uw=function(b){return new Promise(function(w,S){var E=b.contentWindow;if(!E)return S("No window assigned for iframe");var L=E.document;E.onload=b.onload=function(){E.onload=b.onload=null;var j=setInterval(function(){L.body.childNodes.length>0&&"complete"===L.readyState&&(clearInterval(j),w(b))},50)}})},mp=["all","d","content"],tA=function(b,w){for(var S=b.length-1;S>=0;S--){var E=b.item(S);-1===mp.indexOf(E)&&w.style.setProperty(E,b.getPropertyValue(E))}return w},_p=function(b){var w="";return b&&(w+="<!DOCTYPE ",b.name&&(w+=b.name),b.internalSubset&&(w+=b.internalSubset),b.publicId&&(w+='"'+b.publicId+'"'),b.systemId&&(w+='"'+b.systemId+'"'),w+=">"),w},nA=function(b,w,S){b&&b.defaultView&&(w!==b.defaultView.pageXOffset||S!==b.defaultView.pageYOffset)&&b.defaultView.scrollTo(w,S)},em=function(b){var w=b[0],E=b[2];w.scrollLeft=b[1],w.scrollTop=E},rA="___html2canvas___pseudoelement_before",I_="___html2canvas___pseudoelement_after",tv='{\n    content: "" !important;\n    display: none !important;\n}',tm=function(b){nm(b,"."+rA+":before"+tv+"\n         ."+I_+":after"+tv)},nm=function(b,w){var S=b.ownerDocument;if(S){var E=S.createElement("style");E.textContent=w,b.appendChild(E)}},ic=function(){function b(){}return b.getOrigin=function(w){var S=b._link;return S?(S.href=w,S.href=S.href,S.protocol+S.hostname+S.port):"about:blank"},b.isSameOrigin=function(w){return b.getOrigin(w)===b._origin},b.setContext=function(w){b._link=w.document.createElement("a"),b._origin=b.getOrigin(w.location.href)},b._origin="about:blank",b}(),oh=function(){function b(w,S){this.context=w,this._options=S,this._cache={}}return b.prototype.addImage=function(w){var S=Promise.resolve();return this.has(w)||(im(w)||Ga(w))&&(this._cache[w]=this.loadImage(w)).catch(function(){}),S},b.prototype.match=function(w){return this._cache[w]},b.prototype.loadImage=function(w){return ze(this,void 0,void 0,function(){var S,E,L,j,J=this;return oe(this,function(ce){switch(ce.label){case 0:return S=ic.isSameOrigin(w),E=!vd(w)&&!0===this._options.useCORS&&Fn.SUPPORT_CORS_IMAGES&&!S,L=!vd(w)&&!S&&!im(w)&&"string"==typeof this._options.proxy&&Fn.SUPPORT_CORS_XHR&&!E,S||!1!==this._options.allowTaint||vd(w)||im(w)||L||E?(j=w,L?[4,this.proxy(j)]:[3,2]):[2];case 1:j=ce.sent(),ce.label=2;case 2:return this.context.logger.debug("Added image "+w.substring(0,256)),[4,new Promise(function(le,Fe){var He=new Image;He.onload=function(){return le(He)},He.onerror=Fe,(iv(j)||E)&&(He.crossOrigin="anonymous"),He.src=j,!0===He.complete&&setTimeout(function(){return le(He)},500),J._options.imageTimeout>0&&setTimeout(function(){return Fe("Timed out ("+J._options.imageTimeout+"ms) loading image")},J._options.imageTimeout)})];case 3:return[2,ce.sent()]}})})},b.prototype.has=function(w){return typeof this._cache[w]<"u"},b.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},b.prototype.proxy=function(w){var S=this,E=this._options.proxy;if(!E)throw new Error("No proxy defined");var L=w.substring(0,256);return new Promise(function(j,J){var ce=Fn.SUPPORT_RESPONSE_TYPE?"blob":"text",le=new XMLHttpRequest;le.onload=function(){if(200===le.status)if("text"===ce)j(le.response);else{var Je=new FileReader;Je.addEventListener("load",function(){return j(Je.result)},!1),Je.addEventListener("error",function(Dt){return J(Dt)},!1),Je.readAsDataURL(le.response)}else J("Failed to proxy resource "+L+" with status code "+le.status)},le.onerror=J;var Fe=E.indexOf("?")>-1?"&":"?";if(le.open("GET",""+E+Fe+"url="+encodeURIComponent(w)+"&responseType="+ce),"text"!==ce&&le instanceof XMLHttpRequest&&(le.responseType=ce),S._options.imageTimeout){var He=S._options.imageTimeout;le.timeout=He,le.ontimeout=function(){return J("Timed out ("+He+"ms) proxying "+L)}}le.send()})},b}(),nv=/^data:image\/svg\+xml/i,D_=/^data:image\/.*;base64,/i,tf=/^data:image\/.*/i,Ga=function(b){return Fn.SUPPORT_SVG_DRAWING||!vp(b)},vd=function(b){return tf.test(b)},iv=function(b){return D_.test(b)},im=function(b){return"blob"===b.substr(0,4)},vp=function(b){return"svg"===b.substr(-3).toLowerCase()||nv.test(b)},bn=function(){function b(w,S){this.type=0,this.x=w,this.y=S}return b.prototype.add=function(w,S){return new b(this.x+w,this.y+S)},b}(),wp=function(b,w,S){return new bn(b.x+(w.x-b.x)*S,b.y+(w.y-b.y)*S)},rm=function(){function b(w,S,E,L){this.type=1,this.start=w,this.startControl=S,this.endControl=E,this.end=L}return b.prototype.subdivide=function(w,S){var E=wp(this.start,this.startControl,w),L=wp(this.startControl,this.endControl,w),j=wp(this.endControl,this.end,w),J=wp(E,L,w),ce=wp(L,j,w),le=wp(J,ce,w);return S?new b(this.start,E,J,le):new b(le,ce,j,this.end)},b.prototype.add=function(w,S){return new b(this.start.add(w,S),this.startControl.add(w,S),this.endControl.add(w,S),this.end.add(w,S))},b.prototype.reverse=function(){return new b(this.end,this.endControl,this.startControl,this.start)},b}(),Nl=function(b){return 1===b.type},hl=function b(w){var S=w.styles,E=w.bounds,L=Ki(S.borderTopLeftRadius,E.width,E.height),j=L[0],J=L[1],ce=Ki(S.borderTopRightRadius,E.width,E.height),le=ce[0],Fe=ce[1],He=Ki(S.borderBottomRightRadius,E.width,E.height),Je=He[0],Dt=He[1],Ln=Ki(S.borderBottomLeftRadius,E.width,E.height),ln=Ln[0],En=Ln[1],Zi=[];Zi.push((j+le)/E.width),Zi.push((ln+Je)/E.width),Zi.push((J+En)/E.height),Zi.push((Fe+Dt)/E.height);var ii=Math.max.apply(Math,Zi);ii>1&&(j/=ii,J/=ii,le/=ii,Fe/=ii,Je/=ii,Dt/=ii,ln/=ii,En/=ii);var Jn=E.width-le,Pr=E.height-Dt,er=E.width-Je,gi=E.height-En,Mn=S.borderTopWidth,dr=S.borderRightWidth,sr=S.borderBottomWidth,Bi=S.borderLeftWidth,Ho=Dr(S.paddingTop,w.bounds.width),Ec=Dr(S.paddingRight,w.bounds.width),Yc=Dr(S.paddingBottom,w.bounds.width),as=Dr(S.paddingLeft,w.bounds.width);this.topLeftBorderDoubleOuterBox=j>0||J>0?hs(E.left+Bi/3,E.top+Mn/3,j-Bi/3,J-Mn/3,Xi.TOP_LEFT):new bn(E.left+Bi/3,E.top+Mn/3),this.topRightBorderDoubleOuterBox=j>0||J>0?hs(E.left+Jn,E.top+Mn/3,le-dr/3,Fe-Mn/3,Xi.TOP_RIGHT):new bn(E.left+E.width-dr/3,E.top+Mn/3),this.bottomRightBorderDoubleOuterBox=Je>0||Dt>0?hs(E.left+er,E.top+Pr,Je-dr/3,Dt-sr/3,Xi.BOTTOM_RIGHT):new bn(E.left+E.width-dr/3,E.top+E.height-sr/3),this.bottomLeftBorderDoubleOuterBox=ln>0||En>0?hs(E.left+Bi/3,E.top+gi,ln-Bi/3,En-sr/3,Xi.BOTTOM_LEFT):new bn(E.left+Bi/3,E.top+E.height-sr/3),this.topLeftBorderDoubleInnerBox=j>0||J>0?hs(E.left+2*Bi/3,E.top+2*Mn/3,j-2*Bi/3,J-2*Mn/3,Xi.TOP_LEFT):new bn(E.left+2*Bi/3,E.top+2*Mn/3),this.topRightBorderDoubleInnerBox=j>0||J>0?hs(E.left+Jn,E.top+2*Mn/3,le-2*dr/3,Fe-2*Mn/3,Xi.TOP_RIGHT):new bn(E.left+E.width-2*dr/3,E.top+2*Mn/3),this.bottomRightBorderDoubleInnerBox=Je>0||Dt>0?hs(E.left+er,E.top+Pr,Je-2*dr/3,Dt-2*sr/3,Xi.BOTTOM_RIGHT):new bn(E.left+E.width-2*dr/3,E.top+E.height-2*sr/3),this.bottomLeftBorderDoubleInnerBox=ln>0||En>0?hs(E.left+2*Bi/3,E.top+gi,ln-2*Bi/3,En-2*sr/3,Xi.BOTTOM_LEFT):new bn(E.left+2*Bi/3,E.top+E.height-2*sr/3),this.topLeftBorderStroke=j>0||J>0?hs(E.left+Bi/2,E.top+Mn/2,j-Bi/2,J-Mn/2,Xi.TOP_LEFT):new bn(E.left+Bi/2,E.top+Mn/2),this.topRightBorderStroke=j>0||J>0?hs(E.left+Jn,E.top+Mn/2,le-dr/2,Fe-Mn/2,Xi.TOP_RIGHT):new bn(E.left+E.width-dr/2,E.top+Mn/2),this.bottomRightBorderStroke=Je>0||Dt>0?hs(E.left+er,E.top+Pr,Je-dr/2,Dt-sr/2,Xi.BOTTOM_RIGHT):new bn(E.left+E.width-dr/2,E.top+E.height-sr/2),this.bottomLeftBorderStroke=ln>0||En>0?hs(E.left+Bi/2,E.top+gi,ln-Bi/2,En-sr/2,Xi.BOTTOM_LEFT):new bn(E.left+Bi/2,E.top+E.height-sr/2),this.topLeftBorderBox=j>0||J>0?hs(E.left,E.top,j,J,Xi.TOP_LEFT):new bn(E.left,E.top),this.topRightBorderBox=le>0||Fe>0?hs(E.left+Jn,E.top,le,Fe,Xi.TOP_RIGHT):new bn(E.left+E.width,E.top),this.bottomRightBorderBox=Je>0||Dt>0?hs(E.left+er,E.top+Pr,Je,Dt,Xi.BOTTOM_RIGHT):new bn(E.left+E.width,E.top+E.height),this.bottomLeftBorderBox=ln>0||En>0?hs(E.left,E.top+gi,ln,En,Xi.BOTTOM_LEFT):new bn(E.left,E.top+E.height),this.topLeftPaddingBox=j>0||J>0?hs(E.left+Bi,E.top+Mn,Math.max(0,j-Bi),Math.max(0,J-Mn),Xi.TOP_LEFT):new bn(E.left+Bi,E.top+Mn),this.topRightPaddingBox=le>0||Fe>0?hs(E.left+Math.min(Jn,E.width-dr),E.top+Mn,Jn>E.width+dr?0:Math.max(0,le-dr),Math.max(0,Fe-Mn),Xi.TOP_RIGHT):new bn(E.left+E.width-dr,E.top+Mn),this.bottomRightPaddingBox=Je>0||Dt>0?hs(E.left+Math.min(er,E.width-Bi),E.top+Math.min(Pr,E.height-sr),Math.max(0,Je-dr),Math.max(0,Dt-sr),Xi.BOTTOM_RIGHT):new bn(E.left+E.width-dr,E.top+E.height-sr),this.bottomLeftPaddingBox=ln>0||En>0?hs(E.left+Bi,E.top+Math.min(gi,E.height-sr),Math.max(0,ln-Bi),Math.max(0,En-sr),Xi.BOTTOM_LEFT):new bn(E.left+Bi,E.top+E.height-sr),this.topLeftContentBox=j>0||J>0?hs(E.left+Bi+as,E.top+Mn+Ho,Math.max(0,j-(Bi+as)),Math.max(0,J-(Mn+Ho)),Xi.TOP_LEFT):new bn(E.left+Bi+as,E.top+Mn+Ho),this.topRightContentBox=le>0||Fe>0?hs(E.left+Math.min(Jn,E.width+Bi+as),E.top+Mn+Ho,Jn>E.width+Bi+as?0:le-Bi+as,Fe-(Mn+Ho),Xi.TOP_RIGHT):new bn(E.left+E.width-(dr+Ec),E.top+Mn+Ho),this.bottomRightContentBox=Je>0||Dt>0?hs(E.left+Math.min(er,E.width-(Bi+as)),E.top+Math.min(Pr,E.height+Mn+Ho),Math.max(0,Je-(dr+Ec)),Dt-(sr+Yc),Xi.BOTTOM_RIGHT):new bn(E.left+E.width-(dr+Ec),E.top+E.height-(sr+Yc)),this.bottomLeftContentBox=ln>0||En>0?hs(E.left+Bi+as,E.top+gi,Math.max(0,ln-(Bi+as)),En-(sr+Yc),Xi.BOTTOM_LEFT):new bn(E.left+Bi+as,E.top+E.height-(sr+Yc))},Xi=(()=>{return(b=Xi||(Xi={}))[b.TOP_LEFT=0]="TOP_LEFT",b[b.TOP_RIGHT=1]="TOP_RIGHT",b[b.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",b[b.BOTTOM_LEFT=3]="BOTTOM_LEFT",Xi;var b})(),hs=function(b,w,S,E,L){var j=(Math.sqrt(2)-1)/3*4,J=S*j,ce=E*j,le=b+S,Fe=w+E;switch(L){case Xi.TOP_LEFT:return new rm(new bn(b,Fe),new bn(b,Fe-ce),new bn(le-J,w),new bn(le,w));case Xi.TOP_RIGHT:return new rm(new bn(b,w),new bn(b+J,w),new bn(le,Fe-ce),new bn(le,Fe));case Xi.BOTTOM_RIGHT:return new rm(new bn(le,w),new bn(le,w+ce),new bn(b+J,Fe),new bn(b,Fe));default:return new rm(new bn(le,Fe),new bn(le-J,Fe),new bn(b,w+ce),new bn(b,w))}},bp=function(b){return[b.topLeftBorderBox,b.topRightBorderBox,b.bottomRightBorderBox,b.bottomLeftBorderBox]},nf=function(b){return[b.topLeftPaddingBox,b.topRightPaddingBox,b.bottomRightPaddingBox,b.bottomLeftPaddingBox]},vs=function b(w,S,E){this.offsetX=w,this.offsetY=S,this.matrix=E,this.type=0,this.target=6},rf=function b(w,S){this.path=w,this.target=S,this.type=1},wd=function b(w){this.opacity=w,this.type=2,this.target=6},bd=function(b){return 1===b.type},sA=function(b,w){return b.length===w.length&&b.some(function(S,E){return S===w[E]})},ov=function b(w){this.element=w,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},Cd=function(){function b(w,S){if(this.container=w,this.parent=S,this.effects=[],this.curves=new hl(this.container),this.container.styles.opacity<1&&this.effects.push(new wd(this.container.styles.opacity)),null!==this.container.styles.transform&&this.effects.push(new vs(this.container.bounds.left+this.container.styles.transformOrigin[0].number,this.container.bounds.top+this.container.styles.transformOrigin[1].number,this.container.styles.transform)),0!==this.container.styles.overflowX){var J=bp(this.curves),ce=nf(this.curves);sA(J,ce)?this.effects.push(new rf(J,6)):(this.effects.push(new rf(J,2)),this.effects.push(new rf(ce,4)))}}return b.prototype.getEffects=function(w){for(var S=-1===[2,3].indexOf(this.container.styles.position),E=this.parent,L=this.effects.slice(0);E;){var j=E.effects.filter(function(le){return!bd(le)});if(S||0!==E.container.styles.position||!E.parent){if(L.unshift.apply(L,j),S=-1===[2,3].indexOf(E.container.styles.position),0!==E.container.styles.overflowX){var J=bp(E.curves),ce=nf(E.curves);sA(J,ce)||L.unshift(new rf(ce,6))}}else L.unshift.apply(L,j);E=E.parent}return L.filter(function(le){return jn(le.target,w)})},b}(),oA=function(b,w,S,E){b.container.elements.forEach(function(L){var j=jn(L.flags,4),J=jn(L.flags,2),ce=new Cd(L,b);jn(L.styles.display,2048)&&E.push(ce);var le=jn(L.flags,8)?[]:E;if(j||J){var Fe=j||L.styles.isPositioned()?S:w,He=new ov(ce);if(L.styles.isPositioned()||L.styles.opacity<1||L.styles.isTransformed()){var Je=L.styles.zIndex.order;if(Je<0){var Dt=0;Fe.negativeZIndex.some(function(ln,En){return Je>ln.element.container.styles.zIndex.order?(Dt=En,!1):Dt>0}),Fe.negativeZIndex.splice(Dt,0,He)}else if(Je>0){var Ln=0;Fe.positiveZIndex.some(function(ln,En){return Je>=ln.element.container.styles.zIndex.order?(Ln=En+1,!1):Ln>0}),Fe.positiveZIndex.splice(Ln,0,He)}else Fe.zeroOrAutoZIndexOrTransformedOrOpacity.push(He)}else L.styles.isFloating()?Fe.nonPositionedFloats.push(He):Fe.nonPositionedInlineLevel.push(He);oA(ce,He,j?He:S,le)}else L.styles.isInlineLevel()?w.inlineLevel.push(ce):w.nonInlineLevel.push(ce),oA(ce,w,S,le);jn(L.flags,8)&&B_(L,le)})},B_=function(b,w){for(var S=b instanceof lp?b.start:1,E=b instanceof lp&&b.reversed,L=0;L<w.length;L++){var j=w[L];j.container instanceof zh&&"number"==typeof j.container.value&&0!==j.container.value&&(S=j.container.value),j.listValue=dl(S,j.container.styles.listStyleType,!0),S+=E?-1:1}},aA=function(b,w){switch(w){case 0:return Q(b.topLeftBorderBox,b.topLeftPaddingBox,b.topRightBorderBox,b.topRightPaddingBox);case 1:return Q(b.topRightBorderBox,b.topRightPaddingBox,b.bottomRightBorderBox,b.bottomRightPaddingBox);case 2:return Q(b.bottomRightBorderBox,b.bottomRightPaddingBox,b.bottomLeftBorderBox,b.bottomLeftPaddingBox);default:return Q(b.bottomLeftBorderBox,b.bottomLeftPaddingBox,b.topLeftBorderBox,b.topLeftPaddingBox)}},D=function(b,w){var S=[];return Nl(b)?S.push(b.subdivide(.5,!1)):S.push(b),Nl(w)?S.push(w.subdivide(.5,!0)):S.push(w),S},Q=function(b,w,S,E){var L=[];return Nl(b)?L.push(b.subdivide(.5,!1)):L.push(b),Nl(S)?L.push(S.subdivide(.5,!0)):L.push(S),Nl(E)?L.push(E.subdivide(.5,!0).reverse()):L.push(E),Nl(w)?L.push(w.subdivide(.5,!1).reverse()):L.push(w),L},z=function(b){var S=b.styles;return b.bounds.add(S.borderLeftWidth,S.borderTopWidth,-(S.borderRightWidth+S.borderLeftWidth),-(S.borderTopWidth+S.borderBottomWidth))},ge=function(b){var w=b.styles,S=b.bounds,E=Dr(w.paddingLeft,S.width),L=Dr(w.paddingRight,S.width),j=Dr(w.paddingTop,S.width),J=Dr(w.paddingBottom,S.width);return S.add(E+w.borderLeftWidth,j+w.borderTopWidth,-(w.borderRightWidth+w.borderLeftWidth+E+L),-(w.borderTopWidth+w.borderBottomWidth+j+J))},Ct=function(b,w,S){var E=function(b,w){return 0===b?w.bounds:2===b?ge(w):z(w)}($s(b.styles.backgroundOrigin,w),b),L=function(b,w){return 0===b?w.bounds:2===b?ge(w):z(w)}($s(b.styles.backgroundClip,w),b),j=Yi($s(b.styles.backgroundSize,w),S,E),J=j[0],ce=j[1],le=Ki($s(b.styles.backgroundPosition,w),E.width-J,E.height-ce);return[xc($s(b.styles.backgroundRepeat,w),le,j,E,L),Math.round(E.left+le[0]),Math.round(E.top+le[1]),J,ce]},tn=function(b){return $i(b)&&b.value===ol.AUTO},fn=function(b){return"number"==typeof b},Yi=function(b,w,S){var E=w[0],L=w[1],j=w[2],J=b[0],ce=b[1];if(!J)return[0,0];if(qi(J)&&ce&&qi(ce))return[Dr(J,S.width),Dr(ce,S.height)];var le=fn(j);if($i(J)&&(J.value===ol.CONTAIN||J.value===ol.COVER))return fn(j)?S.width/S.height<j!=(J.value===ol.COVER)?[S.width,S.width/j]:[S.height*j,S.height]:[S.width,S.height];var He=fn(E),Je=fn(L),Dt=He||Je;if(tn(J)&&(!ce||tn(ce)))return He&&Je?[E,L]:le||Dt?Dt&&le?[He?E:L*j,Je?L:E/j]:[He?E:S.width,Je?L:S.height]:[S.width,S.height];if(le){var ii=0,Jn=0;return qi(J)?ii=Dr(J,S.width):qi(ce)&&(Jn=Dr(ce,S.height)),tn(J)?ii=Jn*j:(!ce||tn(ce))&&(Jn=ii/j),[ii,Jn]}var Pr=null,er=null;if(qi(J)?Pr=Dr(J,S.width):ce&&qi(ce)&&(er=Dr(ce,S.height)),null!==Pr&&(!ce||tn(ce))&&(er=He&&Je?Pr/E*L:S.height),null!==er&&tn(J)&&(Pr=He&&Je?er/L*E:S.width),null!==Pr&&null!==er)return[Pr,er];throw new Error("Unable to calculate background-size for element")},$s=function(b,w){var S=b[w];return typeof S>"u"?b[0]:S},xc=function(b,w,S,E,L){var j=w[0],J=w[1],ce=S[0],le=S[1];switch(b){case 2:return[new bn(Math.round(E.left),Math.round(E.top+J)),new bn(Math.round(E.left+E.width),Math.round(E.top+J)),new bn(Math.round(E.left+E.width),Math.round(le+E.top+J)),new bn(Math.round(E.left),Math.round(le+E.top+J))];case 3:return[new bn(Math.round(E.left+j),Math.round(E.top)),new bn(Math.round(E.left+j+ce),Math.round(E.top)),new bn(Math.round(E.left+j+ce),Math.round(E.height+E.top)),new bn(Math.round(E.left+j),Math.round(E.height+E.top))];case 1:return[new bn(Math.round(E.left+j),Math.round(E.top+J)),new bn(Math.round(E.left+j+ce),Math.round(E.top+J)),new bn(Math.round(E.left+j+ce),Math.round(E.top+J+le)),new bn(Math.round(E.left+j),Math.round(E.top+J+le))];default:return[new bn(Math.round(L.left),Math.round(L.top)),new bn(Math.round(L.left+L.width),Math.round(L.top)),new bn(Math.round(L.left+L.width),Math.round(L.height+L.top)),new bn(Math.round(L.left),Math.round(L.height+L.top))]}},xp="Hidden Text",F_=function(){function b(w){this._data={},this._document=w}return b.prototype.parseMetrics=function(w,S){var E=this._document.createElement("div"),L=this._document.createElement("img"),j=this._document.createElement("span"),J=this._document.body;E.style.visibility="hidden",E.style.fontFamily=w,E.style.fontSize=S,E.style.margin="0",E.style.padding="0",E.style.whiteSpace="nowrap",J.appendChild(E),L.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",L.width=1,L.height=1,L.style.margin="0",L.style.padding="0",L.style.verticalAlign="baseline",j.style.fontFamily=w,j.style.fontSize=S,j.style.margin="0",j.style.padding="0",j.appendChild(this._document.createTextNode(xp)),E.appendChild(j),E.appendChild(L);var ce=L.offsetTop-j.offsetTop+2;E.removeChild(j),E.appendChild(this._document.createTextNode(xp)),E.style.lineHeight="normal",L.style.verticalAlign="super";var le=L.offsetTop-E.offsetTop+2;return J.removeChild(E),{baseline:ce,middle:le}},b.prototype.getMetrics=function(w,S){var E=w+" "+S;return typeof this._data[E]>"u"&&(this._data[E]=this.parseMetrics(w,S)),this._data[E]},b}(),om=function b(w,S){this.context=w,this.options=S},av=function(b){function w(S,E){var L=b.call(this,S,E)||this;return L._activeEffects=[],L.canvas=E.canvas?E.canvas:document.createElement("canvas"),L.ctx=L.canvas.getContext("2d"),E.canvas||(L.canvas.width=Math.floor(E.width*E.scale),L.canvas.height=Math.floor(E.height*E.scale),L.canvas.style.width=E.width+"px",L.canvas.style.height=E.height+"px"),L.fontMetrics=new F_(document),L.ctx.scale(L.options.scale,L.options.scale),L.ctx.translate(-E.x,-E.y),L.ctx.textBaseline="bottom",L._activeEffects=[],L.context.logger.debug("Canvas renderer initialized ("+E.width+"x"+E.height+") with scale "+E.scale),L}return re(w,b),w.prototype.applyEffects=function(S){for(var E=this;this._activeEffects.length;)this.popEffect();S.forEach(function(L){return E.applyEffect(L)})},w.prototype.applyEffect=function(S){this.ctx.save(),function(b){return 2===b.type}(S)&&(this.ctx.globalAlpha=S.opacity),function(b){return 0===b.type}(S)&&(this.ctx.translate(S.offsetX,S.offsetY),this.ctx.transform(S.matrix[0],S.matrix[1],S.matrix[2],S.matrix[3],S.matrix[4],S.matrix[5]),this.ctx.translate(-S.offsetX,-S.offsetY)),bd(S)&&(this.path(S.path),this.ctx.clip()),this._activeEffects.push(S)},w.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},w.prototype.renderStack=function(S){return ze(this,void 0,void 0,function(){return oe(this,function(L){switch(L.label){case 0:return S.element.container.styles.isVisible()?[4,this.renderStackContent(S)]:[3,2];case 1:L.sent(),L.label=2;case 2:return[2]}})})},w.prototype.renderNode=function(S){return ze(this,void 0,void 0,function(){return oe(this,function(E){switch(E.label){case 0:return jn(S.container.flags,16),S.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(S)]:[3,3];case 1:return E.sent(),[4,this.renderNodeContent(S)];case 2:E.sent(),E.label=3;case 3:return[2]}})})},w.prototype.renderTextWithLetterSpacing=function(S,E,L){var j=this;0===E?this.ctx.fillText(S.text,S.bounds.left,S.bounds.top+L):Zs(S.text).reduce(function(ce,le){return j.ctx.fillText(le,ce,S.bounds.top+L),ce+j.ctx.measureText(le).width},S.bounds.left)},w.prototype.createFontStyle=function(S){var E=S.fontVariant.filter(function(J){return"normal"===J||"small-caps"===J}).join(""),L=lA(S.fontFamily).join(", "),j=_u(S.fontSize)?""+S.fontSize.number+S.fontSize.unit:S.fontSize.number+"px";return[[S.fontStyle,E,S.fontWeight,j,L].join(" "),L,j]},w.prototype.renderTextNode=function(S,E){return ze(this,void 0,void 0,function(){var L,J,ce,le,Fe,He,Je,Dt=this;return oe(this,function(Ln){return L=this.createFontStyle(E),J=L[1],ce=L[2],this.ctx.font=L[0],this.ctx.direction=1===E.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",le=this.fontMetrics.getMetrics(J,ce),Fe=le.baseline,He=le.middle,Je=E.paintOrder,S.textBounds.forEach(function(ln){Je.forEach(function(En){switch(En){case 0:Dt.ctx.fillStyle=_s(E.color),Dt.renderTextWithLetterSpacing(ln,E.letterSpacing,Fe);var Zi=E.textShadow;Zi.length&&ln.text.trim().length&&(Zi.slice(0).reverse().forEach(function(ii){Dt.ctx.shadowColor=_s(ii.color),Dt.ctx.shadowOffsetX=ii.offsetX.number*Dt.options.scale,Dt.ctx.shadowOffsetY=ii.offsetY.number*Dt.options.scale,Dt.ctx.shadowBlur=ii.blur.number,Dt.renderTextWithLetterSpacing(ln,E.letterSpacing,Fe)}),Dt.ctx.shadowColor="",Dt.ctx.shadowOffsetX=0,Dt.ctx.shadowOffsetY=0,Dt.ctx.shadowBlur=0),E.textDecorationLine.length&&(Dt.ctx.fillStyle=_s(E.textDecorationColor||E.color),E.textDecorationLine.forEach(function(ii){switch(ii){case 1:Dt.ctx.fillRect(ln.bounds.left,Math.round(ln.bounds.top+Fe),ln.bounds.width,1);break;case 2:Dt.ctx.fillRect(ln.bounds.left,Math.round(ln.bounds.top),ln.bounds.width,1);break;case 3:Dt.ctx.fillRect(ln.bounds.left,Math.ceil(ln.bounds.top+He),ln.bounds.width,1)}}));break;case 1:E.webkitTextStrokeWidth&&ln.text.trim().length&&(Dt.ctx.strokeStyle=_s(E.webkitTextStrokeColor),Dt.ctx.lineWidth=E.webkitTextStrokeWidth,Dt.ctx.lineJoin=window.chrome?"miter":"round",Dt.ctx.strokeText(ln.text,ln.bounds.left,ln.bounds.top+Fe)),Dt.ctx.strokeStyle="",Dt.ctx.lineWidth=0,Dt.ctx.lineJoin="miter"}})}),[2]})})},w.prototype.renderReplacedElement=function(S,E,L){if(L&&S.intrinsicWidth>0&&S.intrinsicHeight>0){var j=ge(S),J=nf(E);this.path(J),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(L,0,0,S.intrinsicWidth,S.intrinsicHeight,j.left,j.top,j.width,j.height),this.ctx.restore()}},w.prototype.renderNodeContent=function(S){return ze(this,void 0,void 0,function(){var E,L,j,J,ce,He,Je,Dt,ln,En,Zi,ii,Jn,Pr,er,gi;return oe(this,function(Mn){switch(Mn.label){case 0:this.applyEffects(S.getEffects(4)),L=S.curves,j=(E=S.container).styles,J=0,ce=E.textNodes,Mn.label=1;case 1:return J<ce.length?[4,this.renderTextNode(ce[J],j)]:[3,4];case 2:Mn.sent(),Mn.label=3;case 3:return J++,[3,1];case 4:if(!(E instanceof op))return[3,8];Mn.label=5;case 5:return Mn.trys.push([5,7,,8]),[4,this.context.cache.match(E.src)];case 6:return Jn=Mn.sent(),this.renderReplacedElement(E,L,Jn),[3,8];case 7:return Mn.sent(),this.context.logger.error("Error loading image "+E.src),[3,8];case 8:if(E instanceof ap&&this.renderReplacedElement(E,L,E.canvas),!(E instanceof b_))return[3,12];Mn.label=9;case 9:return Mn.trys.push([9,11,,12]),[4,this.context.cache.match(E.svg)];case 10:return Jn=Mn.sent(),this.renderReplacedElement(E,L,Jn),[3,12];case 11:return Mn.sent(),this.context.logger.error("Error loading svg "+E.svg.substring(0,255)),[3,12];case 12:return E instanceof vc&&E.tree?[4,new w(this.context,{scale:this.options.scale,backgroundColor:E.backgroundColor,x:0,y:0,width:E.width,height:E.height}).render(E.tree)]:[3,14];case 13:He=Mn.sent(),E.width&&E.height&&this.ctx.drawImage(He,0,0,E.width,E.height,E.bounds.left,E.bounds.top,E.bounds.width,E.bounds.height),Mn.label=14;case 14:if(E instanceof ZA&&(Je=Math.min(E.bounds.width,E.bounds.height),E.type===up?E.checked&&(this.ctx.save(),this.path([new bn(E.bounds.left+.39363*Je,E.bounds.top+.79*Je),new bn(E.bounds.left+.16*Je,E.bounds.top+.5549*Je),new bn(E.bounds.left+.27347*Je,E.bounds.top+.44071*Je),new bn(E.bounds.left+.39694*Je,E.bounds.top+.5649*Je),new bn(E.bounds.left+.72983*Je,E.bounds.top+.23*Je),new bn(E.bounds.left+.84*Je,E.bounds.top+.34085*Je),new bn(E.bounds.left+.39363*Je,E.bounds.top+.79*Je)]),this.ctx.fillStyle=_s(qg),this.ctx.fill(),this.ctx.restore()):E.type===zg&&E.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(E.bounds.left+Je/2,E.bounds.top+Je/2,Je/4,0,2*Math.PI,!0),this.ctx.fillStyle=_s(qg),this.ctx.fill(),this.ctx.restore())),am(E)&&E.value.length){switch(Dt=this.createFontStyle(j),ln=this.fontMetrics.getMetrics(er=Dt[0],Dt[1]).baseline,this.ctx.font=er,this.ctx.fillStyle=_s(j.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=af(E.styles.textAlign),gi=ge(E),En=0,E.styles.textAlign){case 1:En+=gi.width/2;break;case 2:En+=gi.width}Zi=gi.add(En,0,0,-gi.height/2+1),this.ctx.save(),this.path([new bn(gi.left,gi.top),new bn(gi.left+gi.width,gi.top),new bn(gi.left+gi.width,gi.top+gi.height),new bn(gi.left,gi.top+gi.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Yt(E.value,Zi),j.letterSpacing,ln),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!jn(E.styles.display,2048))return[3,20];if(null===E.styles.listStyleImage)return[3,19];if(0!==(ii=E.styles.listStyleImage).type)return[3,18];Jn=void 0,Pr=ii.url,Mn.label=15;case 15:return Mn.trys.push([15,17,,18]),[4,this.context.cache.match(Pr)];case 16:return Jn=Mn.sent(),this.ctx.drawImage(Jn,E.bounds.left-(Jn.width+10),E.bounds.top),[3,18];case 17:return Mn.sent(),this.context.logger.error("Error loading list-style-image "+Pr),[3,18];case 18:return[3,20];case 19:S.listValue&&-1!==E.styles.listStyleType&&(er=this.createFontStyle(j)[0],this.ctx.font=er,this.ctx.fillStyle=_s(j.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",gi=new lt(E.bounds.left,E.bounds.top+Dr(E.styles.paddingTop,E.bounds.width),E.bounds.width,Wf(j.lineHeight,j.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Yt(S.listValue,gi),j.letterSpacing,Wf(j.lineHeight,j.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Mn.label=20;case 20:return[2]}})})},w.prototype.renderStackContent=function(S){return ze(this,void 0,void 0,function(){var E,L,j,J,ce,le,Fe,He,Je,Dt,Ln,ln,En,Zi;return oe(this,function(Jn){switch(Jn.label){case 0:return jn(S.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(S.element)];case 1:Jn.sent(),E=0,L=S.negativeZIndex,Jn.label=2;case 2:return E<L.length?[4,this.renderStack(L[E])]:[3,5];case 3:Jn.sent(),Jn.label=4;case 4:return E++,[3,2];case 5:return[4,this.renderNodeContent(S.element)];case 6:Jn.sent(),j=0,J=S.nonInlineLevel,Jn.label=7;case 7:return j<J.length?[4,this.renderNode(J[j])]:[3,10];case 8:Jn.sent(),Jn.label=9;case 9:return j++,[3,7];case 10:ce=0,le=S.nonPositionedFloats,Jn.label=11;case 11:return ce<le.length?[4,this.renderStack(le[ce])]:[3,14];case 12:Jn.sent(),Jn.label=13;case 13:return ce++,[3,11];case 14:Fe=0,He=S.nonPositionedInlineLevel,Jn.label=15;case 15:return Fe<He.length?[4,this.renderStack(He[Fe])]:[3,18];case 16:Jn.sent(),Jn.label=17;case 17:return Fe++,[3,15];case 18:Je=0,Dt=S.inlineLevel,Jn.label=19;case 19:return Je<Dt.length?[4,this.renderNode(Dt[Je])]:[3,22];case 20:Jn.sent(),Jn.label=21;case 21:return Je++,[3,19];case 22:Ln=0,ln=S.zeroOrAutoZIndexOrTransformedOrOpacity,Jn.label=23;case 23:return Ln<ln.length?[4,this.renderStack(ln[Ln])]:[3,26];case 24:Jn.sent(),Jn.label=25;case 25:return Ln++,[3,23];case 26:En=0,Zi=S.positiveZIndex,Jn.label=27;case 27:return En<Zi.length?[4,this.renderStack(Zi[En])]:[3,30];case 28:Jn.sent(),Jn.label=29;case 29:return En++,[3,27];case 30:return[2]}})})},w.prototype.mask=function(S){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(S.slice(0).reverse()),this.ctx.closePath()},w.prototype.path=function(S){this.ctx.beginPath(),this.formatPath(S),this.ctx.closePath()},w.prototype.formatPath=function(S){var E=this;S.forEach(function(L,j){var J=Nl(L)?L.start:L;0===j?E.ctx.moveTo(J.x,J.y):E.ctx.lineTo(J.x,J.y),Nl(L)&&E.ctx.bezierCurveTo(L.startControl.x,L.startControl.y,L.endControl.x,L.endControl.y,L.end.x,L.end.y)})},w.prototype.renderRepeat=function(S,E,L,j){this.path(S),this.ctx.fillStyle=E,this.ctx.translate(L,j),this.ctx.fill(),this.ctx.translate(-L,-j)},w.prototype.resizeImage=function(S,E,L){var j;if(S.width===E&&S.height===L)return S;var ce=(null!==(j=this.canvas.ownerDocument)&&void 0!==j?j:document).createElement("canvas");return ce.width=Math.max(1,E),ce.height=Math.max(1,L),ce.getContext("2d").drawImage(S,0,0,S.width,S.height,0,0,E,L),ce},w.prototype.renderBackgroundImage=function(S){return ze(this,void 0,void 0,function(){var E,L,j,J,ce;return oe(this,function(Fe){switch(Fe.label){case 0:E=S.styles.backgroundImage.length-1,L=function(He){var Je,Dt,Ln,ln,En,Zi,ii,Jn,Pr,er,gi,Mn,dr,sr,Bi,Ho,Ec,Yc,as,za,cA,Al,qa,Sp,Wc,fl,uA,Ip,ah,lf,xd;return oe(this,function(Dp){switch(Dp.label){case 0:if(0!==He.type)return[3,5];Je=void 0,Dt=He.url,Dp.label=1;case 1:return Dp.trys.push([1,3,,4]),[4,j.context.cache.match(Dt)];case 2:return Je=Dp.sent(),[3,4];case 3:return Dp.sent(),j.context.logger.error("Error loading background-image "+Dt),[3,4];case 4:return Je&&(Ln=Ct(S,E,[Je.width,Je.height,Je.width/Je.height]),Ho=Ln[0],Al=Ln[1],qa=Ln[2],sr=j.ctx.createPattern(j.resizeImage(Je,as=Ln[3],za=Ln[4]),"repeat"),j.renderRepeat(Ho,sr,Al,qa)),[3,6];case 5:!function(b){return 1===b.type}(He)?function(b){return 2===b.type}(He)&&(Bi=Ct(S,E,[null,null,null]),Ho=Bi[0],Ec=Bi[1],Yc=Bi[2],za=Bi[4],Al=Dr((cA=0===He.position.length?[OA]:He.position)[0],as=Bi[3]),qa=Dr(cA[cA.length-1],za),Sp=function(b,w,S,E,L){var j=0,J=0;switch(b.size){case 0:0===b.shape?j=J=Math.min(Math.abs(w),Math.abs(w-E),Math.abs(S),Math.abs(S-L)):1===b.shape&&(j=Math.min(Math.abs(w),Math.abs(w-E)),J=Math.min(Math.abs(S),Math.abs(S-L)));break;case 2:if(0===b.shape)j=J=Math.min(Ra(w,S),Ra(w,S-L),Ra(w-E,S),Ra(w-E,S-L));else if(1===b.shape){var ce=Math.min(Math.abs(S),Math.abs(S-L))/Math.min(Math.abs(w),Math.abs(w-E)),le=qf(E,L,w,S,!0);J=ce*(j=Ra(le[0]-w,(le[1]-S)/ce))}break;case 1:0===b.shape?j=J=Math.max(Math.abs(w),Math.abs(w-E),Math.abs(S),Math.abs(S-L)):1===b.shape&&(j=Math.max(Math.abs(w),Math.abs(w-E)),J=Math.max(Math.abs(S),Math.abs(S-L)));break;case 3:if(0===b.shape)j=J=Math.max(Ra(w,S),Ra(w,S-L),Ra(w-E,S),Ra(w-E,S-L));else if(1===b.shape){ce=Math.max(Math.abs(S),Math.abs(S-L))/Math.max(Math.abs(w),Math.abs(w-E));var Je=qf(E,L,w,S,!1);J=ce*(j=Ra(Je[0]-w,(Je[1]-S)/ce))}}return Array.isArray(b.size)&&(j=Dr(b.size[0],E),J=2===b.size.length?Dr(b.size[1],L):j),[j,J]}(He,Al,qa,as,za),fl=Sp[1],(Wc=Sp[0])>0&&fl>0&&(uA=j.ctx.createRadialGradient(Ec+Al,Yc+qa,0,Ec+Al,Yc+qa,Wc),id(He.stops,2*Wc).forEach(function(um){return uA.addColorStop(um.stop,_s(um.color))}),j.path(Ho),j.ctx.fillStyle=uA,Wc!==fl?(Ip=S.bounds.left+.5*S.bounds.width,ah=S.bounds.top+.5*S.bounds.height,xd=1/(lf=fl/Wc),j.ctx.save(),j.ctx.translate(Ip,ah),j.ctx.transform(1,0,0,lf,0,0),j.ctx.translate(-Ip,-ah),j.ctx.fillRect(Ec,xd*(Yc-ah)+ah,as,za*xd),j.ctx.restore()):j.ctx.fill())):(ln=Ct(S,E,[null,null,null]),Ho=ln[0],Al=ln[1],qa=ln[2],En=Dg(He.angle,as=ln[3],za=ln[4]),Zi=En[0],ii=En[1],Jn=En[2],Pr=En[3],er=En[4],(gi=document.createElement("canvas")).width=as,gi.height=za,Mn=gi.getContext("2d"),dr=Mn.createLinearGradient(ii,Pr,Jn,er),id(He.stops,Zi).forEach(function(um){return dr.addColorStop(um.stop,_s(um.color))}),Mn.fillStyle=dr,Mn.fillRect(0,0,as,za),as>0&&za>0&&(sr=j.ctx.createPattern(gi,"repeat"),j.renderRepeat(Ho,sr,Al,qa))),Dp.label=6;case 6:return E--,[2]}})},j=this,J=0,ce=S.styles.backgroundImage.slice(0).reverse(),Fe.label=1;case 1:return J<ce.length?[5,L(ce[J])]:[3,4];case 2:Fe.sent(),Fe.label=3;case 3:return J++,[3,1];case 4:return[2]}})})},w.prototype.renderSolidBorder=function(S,E,L){return ze(this,void 0,void 0,function(){return oe(this,function(j){return this.path(aA(L,E)),this.ctx.fillStyle=_s(S),this.ctx.fill(),[2]})})},w.prototype.renderDoubleBorder=function(S,E,L,j){return ze(this,void 0,void 0,function(){var J,ce;return oe(this,function(le){switch(le.label){case 0:return E<3?[4,this.renderSolidBorder(S,L,j)]:[3,2];case 1:return le.sent(),[2];case 2:return J=function(b,w){switch(w){case 0:return Q(b.topLeftBorderBox,b.topLeftBorderDoubleOuterBox,b.topRightBorderBox,b.topRightBorderDoubleOuterBox);case 1:return Q(b.topRightBorderBox,b.topRightBorderDoubleOuterBox,b.bottomRightBorderBox,b.bottomRightBorderDoubleOuterBox);case 2:return Q(b.bottomRightBorderBox,b.bottomRightBorderDoubleOuterBox,b.bottomLeftBorderBox,b.bottomLeftBorderDoubleOuterBox);default:return Q(b.bottomLeftBorderBox,b.bottomLeftBorderDoubleOuterBox,b.topLeftBorderBox,b.topLeftBorderDoubleOuterBox)}}(j,L),this.path(J),this.ctx.fillStyle=_s(S),this.ctx.fill(),ce=function(b,w){switch(w){case 0:return Q(b.topLeftBorderDoubleInnerBox,b.topLeftPaddingBox,b.topRightBorderDoubleInnerBox,b.topRightPaddingBox);case 1:return Q(b.topRightBorderDoubleInnerBox,b.topRightPaddingBox,b.bottomRightBorderDoubleInnerBox,b.bottomRightPaddingBox);case 2:return Q(b.bottomRightBorderDoubleInnerBox,b.bottomRightPaddingBox,b.bottomLeftBorderDoubleInnerBox,b.bottomLeftPaddingBox);default:return Q(b.bottomLeftBorderDoubleInnerBox,b.bottomLeftPaddingBox,b.topLeftBorderDoubleInnerBox,b.topLeftPaddingBox)}}(j,L),this.path(ce),this.ctx.fill(),[2]}})})},w.prototype.renderNodeBackgroundAndBorders=function(S){return ze(this,void 0,void 0,function(){var E,L,j,J,ce,le,Fe,He,Je=this;return oe(this,function(Dt){switch(Dt.label){case 0:return this.applyEffects(S.getEffects(2)),L=!kl((E=S.container.styles).backgroundColor)||E.backgroundImage.length,j=[{style:E.borderTopStyle,color:E.borderTopColor,width:E.borderTopWidth},{style:E.borderRightStyle,color:E.borderRightColor,width:E.borderRightWidth},{style:E.borderBottomStyle,color:E.borderBottomColor,width:E.borderBottomWidth},{style:E.borderLeftStyle,color:E.borderLeftColor,width:E.borderLeftWidth}],J=lm($s(E.backgroundClip,0),S.curves),L||E.boxShadow.length?(this.ctx.save(),this.path(J),this.ctx.clip(),kl(E.backgroundColor)||(this.ctx.fillStyle=_s(E.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(S.container)]):[3,2];case 1:Dt.sent(),this.ctx.restore(),E.boxShadow.slice(0).reverse().forEach(function(Ln){Je.ctx.save();var ln=bp(S.curves),En=Ln.inset?0:1e4,Zi=function(b,w,S,E,L){return b.map(function(j,J){switch(J){case 0:return j.add(w,S);case 1:return j.add(w+E,S);case 2:return j.add(w+E,S+L);case 3:return j.add(w,S+L)}return j})}(ln,(Ln.inset?1:-1)*Ln.spread.number-En,(Ln.inset?1:-1)*Ln.spread.number,Ln.spread.number*(Ln.inset?-2:2),Ln.spread.number*(Ln.inset?-2:2));Ln.inset?(Je.path(ln),Je.ctx.clip(),Je.mask(Zi)):(Je.mask(ln),Je.ctx.clip(),Je.path(Zi)),Je.ctx.shadowOffsetX=Ln.offsetX.number+En,Je.ctx.shadowOffsetY=Ln.offsetY.number,Je.ctx.shadowColor=_s(Ln.color),Je.ctx.shadowBlur=Ln.blur.number,Je.ctx.fillStyle=Ln.inset?_s(Ln.color):"rgba(0,0,0,1)",Je.ctx.fill(),Je.ctx.restore()}),Dt.label=2;case 2:ce=0,le=0,Fe=j,Dt.label=3;case 3:return le<Fe.length?0!==(He=Fe[le]).style&&!kl(He.color)&&He.width>0?2!==He.style?[3,5]:[4,this.renderDashedDottedBorder(He.color,He.width,ce,S.curves,2)]:[3,11]:[3,13];case 4:return Dt.sent(),[3,11];case 5:return 3!==He.style?[3,7]:[4,this.renderDashedDottedBorder(He.color,He.width,ce,S.curves,3)];case 6:return Dt.sent(),[3,11];case 7:return 4!==He.style?[3,9]:[4,this.renderDoubleBorder(He.color,He.width,ce,S.curves)];case 8:return Dt.sent(),[3,11];case 9:return[4,this.renderSolidBorder(He.color,ce,S.curves)];case 10:Dt.sent(),Dt.label=11;case 11:ce++,Dt.label=12;case 12:return le++,[3,3];case 13:return[2]}})})},w.prototype.renderDashedDottedBorder=function(S,E,L,j,J){return ze(this,void 0,void 0,function(){var ce,le,Fe,He,Je,Dt,Ln,ln,En,Zi,ii,Jn,Pr,er,gi,Mn;return oe(this,function(dr){return this.ctx.save(),ce=function(b,w){switch(w){case 0:return D(b.topLeftBorderStroke,b.topRightBorderStroke);case 1:return D(b.topRightBorderStroke,b.bottomRightBorderStroke);case 2:return D(b.bottomRightBorderStroke,b.bottomLeftBorderStroke);default:return D(b.bottomLeftBorderStroke,b.topLeftBorderStroke)}}(j,L),le=aA(j,L),2===J&&(this.path(le),this.ctx.clip()),Nl(le[0])?(Fe=le[0].start.x,He=le[0].start.y):(Fe=le[0].x,He=le[0].y),Nl(le[1])?(Je=le[1].end.x,Dt=le[1].end.y):(Je=le[1].x,Dt=le[1].y),Ln=0===L||2===L?Math.abs(Fe-Je):Math.abs(He-Dt),this.ctx.beginPath(),this.formatPath(3===J?ce:le.slice(0,2)),ln=E<3?3*E:2*E,En=E<3?2*E:E,3===J&&(ln=E,En=E),Zi=!0,Ln<=2*ln?Zi=!1:Ln<=2*ln+En?(ln*=ii=Ln/(2*ln+En),En*=ii):(Jn=Math.floor((Ln+En)/(ln+En)),Pr=(Ln-Jn*ln)/(Jn-1),En=(er=(Ln-(Jn+1)*ln)/Jn)<=0||Math.abs(En-Pr)<Math.abs(En-er)?Pr:er),Zi&&this.ctx.setLineDash(3===J?[0,ln+En]:[ln,En]),3===J?(this.ctx.lineCap="round",this.ctx.lineWidth=E):this.ctx.lineWidth=2*E+1.1,this.ctx.strokeStyle=_s(S),this.ctx.stroke(),this.ctx.setLineDash([]),2===J&&(Nl(le[0])&&(gi=le[3],Mn=le[0],this.ctx.beginPath(),this.formatPath([new bn(gi.end.x,gi.end.y),new bn(Mn.start.x,Mn.start.y)]),this.ctx.stroke()),Nl(le[1])&&(gi=le[1],Mn=le[2],this.ctx.beginPath(),this.formatPath([new bn(gi.end.x,gi.end.y),new bn(Mn.start.x,Mn.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},w.prototype.render=function(S){return ze(this,void 0,void 0,function(){var E;return oe(this,function(L){switch(L.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=_s(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),E=function(b){var w=new Cd(b,null),S=new ov(w),E=[];return oA(w,S,S,E),B_(w.container,E),S}(S),[4,this.renderStack(E)];case 1:return L.sent(),this.applyEffects([]),[2,this.canvas]}})})},w}(om),am=function(b){return b instanceof pd||b instanceof Kg||b instanceof ZA&&b.type!==zg&&b.type!==up},lm=function(b,w){switch(b){case 0:return bp(w);case 2:return function(b){return[b.topLeftContentBox,b.topRightContentBox,b.bottomRightContentBox,b.bottomLeftContentBox]}(w);default:return nf(w)}},af=function(b){switch(b){case 1:return"center";case 2:return"right";default:return"left"}},dw=["-apple-system","system-ui"],lA=function(b){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?b.filter(function(w){return-1===dw.indexOf(w)}):b},cm=function(b){function w(S,E){var L=b.call(this,S,E)||this;return L.canvas=E.canvas?E.canvas:document.createElement("canvas"),L.ctx=L.canvas.getContext("2d"),L.options=E,L.canvas.width=Math.floor(E.width*E.scale),L.canvas.height=Math.floor(E.height*E.scale),L.canvas.style.width=E.width+"px",L.canvas.style.height=E.height+"px",L.ctx.scale(L.options.scale,L.options.scale),L.ctx.translate(-E.x,-E.y),L.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+E.width+"x"+E.height+" at "+E.x+","+E.y+") with scale "+E.scale),L}return re(w,b),w.prototype.render=function(S){return ze(this,void 0,void 0,function(){var E,L;return oe(this,function(j){switch(j.label){case 0:return E=on(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,S),[4,hw(E)];case 1:return L=j.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=_s(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(L,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},w}(om),hw=function(b){return new Promise(function(w,S){var E=new Image;E.onload=function(){w(E)},E.onerror=S,E.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(b))})},fC=function(){function b(w){var E=w.enabled;this.id=w.id,this.enabled=E,this.start=Date.now()}return b.prototype.debug=function(){for(var w=[],S=0;S<arguments.length;S++)w[S]=arguments[S];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.debug?console.debug.apply(console,rt([this.id,this.getTime()+"ms"],w)):this.info.apply(this,w))},b.prototype.getTime=function(){return Date.now()-this.start},b.prototype.info=function(){for(var w=[],S=0;S<arguments.length;S++)w[S]=arguments[S];this.enabled&&typeof window<"u"&&window.console&&"function"==typeof console.info&&console.info.apply(console,rt([this.id,this.getTime()+"ms"],w))},b.prototype.warn=function(){for(var w=[],S=0;S<arguments.length;S++)w[S]=arguments[S];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.warn?console.warn.apply(console,rt([this.id,this.getTime()+"ms"],w)):this.info.apply(this,w))},b.prototype.error=function(){for(var w=[],S=0;S<arguments.length;S++)w[S]=arguments[S];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.error?console.error.apply(console,rt([this.id,this.getTime()+"ms"],w)):this.info.apply(this,w))},b.instances={},b}(),pC=function(){function b(w,S){var E;this.windowBounds=S,this.instanceName="#"+b.instanceCount++,this.logger=new fC({id:this.instanceName,enabled:w.logging}),this.cache=null!==(E=w.cache)&&void 0!==E?E:new oh(this,w)}return b.instanceCount=1,b}();typeof window<"u"&&ic.setContext(window);var lv=function(b,w){return ze(void 0,void 0,void 0,function(){var S,E,L,j,J,ce,le,Fe,He,Je,Dt,Ln,ln,En,Zi,ii,Jn,Pr,er,gi,Mn,sr,Bi,Ho,Ec,Yc,as,za,cA,Al,qa,Sp,Wc,fl,uA,Ip,ah,lf;return oe(this,function(xd){switch(xd.label){case 0:if(!b||"object"!=typeof b)return[2,Promise.reject("Invalid element provided as first argument")];if(!(S=b.ownerDocument))throw new Error("Element is not attached to a Document");if(!(E=S.defaultView))throw new Error("Document is not attached to a Window");return L={allowTaint:null!==(sr=w.allowTaint)&&void 0!==sr&&sr,imageTimeout:null!==(Bi=w.imageTimeout)&&void 0!==Bi?Bi:15e3,proxy:w.proxy,useCORS:null!==(Ho=w.useCORS)&&void 0!==Ho&&Ho},j=s({logging:null===(Ec=w.logging)||void 0===Ec||Ec,cache:w.cache},L),J={windowWidth:null!==(Yc=w.windowWidth)&&void 0!==Yc?Yc:E.innerWidth,windowHeight:null!==(as=w.windowHeight)&&void 0!==as?as:E.innerHeight,scrollX:null!==(za=w.scrollX)&&void 0!==za?za:E.pageXOffset,scrollY:null!==(cA=w.scrollY)&&void 0!==cA?cA:E.pageYOffset},ce=new lt(J.scrollX,J.scrollY,J.windowWidth,J.windowHeight),le=new pC(j,ce),Fe=null!==(Al=w.foreignObjectRendering)&&void 0!==Al&&Al,He={allowTaint:null!==(qa=w.allowTaint)&&void 0!==qa&&qa,onclone:w.onclone,ignoreElements:w.ignoreElements,inlineImages:Fe,copyStyles:Fe},le.logger.debug("Starting document clone with size "+ce.width+"x"+ce.height+" scrolled to "+-ce.left+","+-ce.top),Je=new ef(le,b,He),(Dt=Je.clonedReferenceElement)?[4,Je.toIFrame(S,ce)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Ln=xd.sent(),ln=Wg(Dt)||function(b){return"HTML"===b.tagName}(Dt)?function(b){var w=b.body,S=b.documentElement;if(!w||!S)throw new Error("Unable to get document size");var E=Math.max(Math.max(w.scrollWidth,S.scrollWidth),Math.max(w.offsetWidth,S.offsetWidth),Math.max(w.clientWidth,S.clientWidth)),L=Math.max(Math.max(w.scrollHeight,S.scrollHeight),Math.max(w.offsetHeight,S.offsetHeight),Math.max(w.clientHeight,S.clientHeight));return new lt(0,0,E,L)}(Dt.ownerDocument):vt(le,Dt),En=ln.width,Zi=ln.height,ii=ln.left,Jn=ln.top,Pr=cv(le,Dt,w.backgroundColor),er={canvas:w.canvas,backgroundColor:Pr,scale:null!==(Wc=null!==(Sp=w.scale)&&void 0!==Sp?Sp:E.devicePixelRatio)&&void 0!==Wc?Wc:1,x:(null!==(fl=w.x)&&void 0!==fl?fl:0)+ii,y:(null!==(uA=w.y)&&void 0!==uA?uA:0)+Jn,width:null!==(Ip=w.width)&&void 0!==Ip?Ip:Math.ceil(En),height:null!==(ah=w.height)&&void 0!==ah?ah:Math.ceil(Zi)},Fe?(le.logger.debug("Document cloned, using foreign object rendering"),[4,new cm(le,er).render(Dt)]):[3,3];case 2:return gi=xd.sent(),[3,5];case 3:return le.logger.debug("Document cloned, element located at "+ii+","+Jn+" with size "+En+"x"+Zi+" using computed rendering"),le.logger.debug("Starting DOM parsing"),Mn=x_(le,Dt),Pr===Mn.styles.backgroundColor&&(Mn.styles.backgroundColor=pc.TRANSPARENT),le.logger.debug("Starting renderer for element at "+er.x+","+er.y+" with size "+er.width+"x"+er.height),[4,new av(le,er).render(Mn)];case 4:gi=xd.sent(),xd.label=5;case 5:return(!(null!==(lf=w.removeContainer)&&void 0!==lf)||lf)&&(ef.destroy(Ln)||le.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),le.logger.debug("Finished rendering"),[2,gi]}})})},cv=function(b,w,S){var E=w.ownerDocument,L=E.documentElement?nd(b,getComputedStyle(E.documentElement).backgroundColor):pc.TRANSPARENT,j=E.body?nd(b,getComputedStyle(E.body).backgroundColor):pc.TRANSPARENT,J="string"==typeof S?nd(b,S):null===S?pc.TRANSPARENT:4294967295;return w===E.documentElement?kl(L)?kl(j)?J:j:L:J};return function(b,w){return void 0===w&&(w={}),lv(b,w)}}()},9751:(ei,Lt,re)=>{"use strict";re.d(Lt,{y:()=>Tt});var s=re(930),ze=re(727),oe=re(8822),rt=re(9635),lt=re(2416),vt=re(576),Ke=re(2806);let Tt=(()=>{class Ge{constructor(Qt){Qt&&(this._subscribe=Qt)}lift(Qt){const yn=new Ge;return yn.source=this,yn.operator=Qt,yn}subscribe(Qt,yn,Nn){const yt=function De(Ge){return Ge&&Ge instanceof s.Lv||function Ee(Ge){return Ge&&(0,vt.m)(Ge.next)&&(0,vt.m)(Ge.error)&&(0,vt.m)(Ge.complete)}(Ge)&&(0,ze.Nn)(Ge)}(Qt)?Qt:new s.Hp(Qt,yn,Nn);return(0,Ke.x)(()=>{const{operator:Ut,source:St}=this;yt.add(Ut?Ut.call(yt,St):St?this._subscribe(yt):this._trySubscribe(yt))}),yt}_trySubscribe(Qt){try{return this._subscribe(Qt)}catch(yn){Qt.error(yn)}}forEach(Qt,yn){return new(yn=ut(yn))((Nn,yt)=>{let Ut;Ut=this.subscribe(St=>{try{Qt(St)}catch(qt){yt(qt),Ut?.unsubscribe()}},yt,Nn)})}_subscribe(Qt){var yn;return null===(yn=this.source)||void 0===yn?void 0:yn.subscribe(Qt)}[oe.L](){return this}pipe(...Qt){return(0,rt.U)(Qt)(this)}toPromise(Qt){return new(Qt=ut(Qt))((yn,Nn)=>{let yt;this.subscribe(Ut=>yt=Ut,Ut=>Nn(Ut),()=>yn(yt))})}}return Ge.create=hn=>new Ge(hn),Ge})();function ut(Ge){var hn;return null!==(hn=Ge??lt.v.Promise)&&void 0!==hn?hn:Promise}},7579:(ei,Lt,re)=>{"use strict";re.d(Lt,{x:()=>Ke});var s=re(9751),ze=re(727);const rt=(0,re(3888).d)(ut=>function(){ut(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var lt=re(8737),vt=re(2806);let Ke=(()=>{class ut extends s.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(De){const Ge=new Tt(this,this);return Ge.operator=De,Ge}_throwIfClosed(){if(this.closed)throw new rt}next(De){(0,vt.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const Ge=this.observers.slice();for(const hn of Ge)hn.next(De)}})}error(De){(0,vt.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=De;const{observers:Ge}=this;for(;Ge.length;)Ge.shift().error(De)}})}complete(){(0,vt.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:De}=this;for(;De.length;)De.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var De;return(null===(De=this.observers)||void 0===De?void 0:De.length)>0}_trySubscribe(De){return this._throwIfClosed(),super._trySubscribe(De)}_subscribe(De){return this._throwIfClosed(),this._checkFinalizedStatuses(De),this._innerSubscribe(De)}_innerSubscribe(De){const{hasError:Ge,isStopped:hn,observers:Qt}=this;return Ge||hn?ze.Lc:(Qt.push(De),new ze.w0(()=>(0,lt.P)(Qt,De)))}_checkFinalizedStatuses(De){const{hasError:Ge,thrownError:hn,isStopped:Qt}=this;Ge?De.error(hn):Qt&&De.complete()}asObservable(){const De=new s.y;return De.source=this,De}}return ut.create=(Ee,De)=>new Tt(Ee,De),ut})();class Tt extends Ke{constructor(Ee,De){super(),this.destination=Ee,this.source=De}next(Ee){var De,Ge;null===(Ge=null===(De=this.destination)||void 0===De?void 0:De.next)||void 0===Ge||Ge.call(De,Ee)}error(Ee){var De,Ge;null===(Ge=null===(De=this.destination)||void 0===De?void 0:De.error)||void 0===Ge||Ge.call(De,Ee)}complete(){var Ee,De;null===(De=null===(Ee=this.destination)||void 0===Ee?void 0:Ee.complete)||void 0===De||De.call(Ee)}_subscribe(Ee){var De,Ge;return null!==(Ge=null===(De=this.source)||void 0===De?void 0:De.subscribe(Ee))&&void 0!==Ge?Ge:ze.Lc}}},930:(ei,Lt,re)=>{"use strict";re.d(Lt,{Hp:()=>hn,Lv:()=>Ge});var s=re(576),ze=re(727),oe=re(2416),rt=re(7849),lt=re(5032);const vt=ut("C",void 0,void 0);function ut(Ut,St,qt){return{kind:Ut,value:St,error:qt}}var Ee=re(3410),De=re(2806);class Ge extends ze.w0{constructor(St){super(),this.isStopped=!1,St?(this.destination=St,(0,ze.Nn)(St)&&St.add(this)):this.destination=yt}static create(St,qt,Jt){return new hn(St,qt,Jt)}next(St){this.isStopped?Nn(function Tt(Ut){return ut("N",Ut,void 0)}(St),this):this._next(St)}error(St){this.isStopped?Nn(function Ke(Ut){return ut("E",void 0,Ut)}(St),this):(this.isStopped=!0,this._error(St))}complete(){this.isStopped?Nn(vt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(St){this.destination.next(St)}_error(St){try{this.destination.error(St)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class hn extends Ge{constructor(St,qt,Jt){let ti;if(super(),(0,s.m)(St))ti=St;else if(St){let en;({next:ti,error:qt,complete:Jt}=St),this&&oe.v.useDeprecatedNextContext?(en=Object.create(St),en.unsubscribe=()=>this.unsubscribe()):en=St,ti=ti?.bind(en),qt=qt?.bind(en),Jt=Jt?.bind(en)}this.destination={next:ti?Qt(ti):lt.Z,error:Qt(qt??yn),complete:Jt?Qt(Jt):lt.Z}}}function Qt(Ut,St){return(...qt)=>{try{Ut(...qt)}catch(Jt){oe.v.useDeprecatedSynchronousErrorHandling?(0,De.O)(Jt):(0,rt.h)(Jt)}}}function yn(Ut){throw Ut}function Nn(Ut,St){const{onStoppedNotification:qt}=oe.v;qt&&Ee.z.setTimeout(()=>qt(Ut,St))}const yt={closed:!0,next:lt.Z,error:yn,complete:lt.Z}},727:(ei,Lt,re)=>{"use strict";re.d(Lt,{Lc:()=>vt,w0:()=>lt,Nn:()=>Ke});var s=re(576);const oe=(0,re(3888).d)(ut=>function(De){ut(this),this.message=De?`${De.length} errors occurred during unsubscription:\n${De.map((Ge,hn)=>`${hn+1}) ${Ge.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=De});var rt=re(8737);class lt{constructor(Ee){this.initialTeardown=Ee,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let Ee;if(!this.closed){this.closed=!0;const{_parentage:De}=this;if(De)if(this._parentage=null,Array.isArray(De))for(const Qt of De)Qt.remove(this);else De.remove(this);const{initialTeardown:Ge}=this;if((0,s.m)(Ge))try{Ge()}catch(Qt){Ee=Qt instanceof oe?Qt.errors:[Qt]}const{_teardowns:hn}=this;if(hn){this._teardowns=null;for(const Qt of hn)try{Tt(Qt)}catch(yn){Ee=Ee??[],yn instanceof oe?Ee=[...Ee,...yn.errors]:Ee.push(yn)}}if(Ee)throw new oe(Ee)}}add(Ee){var De;if(Ee&&Ee!==this)if(this.closed)Tt(Ee);else{if(Ee instanceof lt){if(Ee.closed||Ee._hasParent(this))return;Ee._addParent(this)}(this._teardowns=null!==(De=this._teardowns)&&void 0!==De?De:[]).push(Ee)}}_hasParent(Ee){const{_parentage:De}=this;return De===Ee||Array.isArray(De)&&De.includes(Ee)}_addParent(Ee){const{_parentage:De}=this;this._parentage=Array.isArray(De)?(De.push(Ee),De):De?[De,Ee]:Ee}_removeParent(Ee){const{_parentage:De}=this;De===Ee?this._parentage=null:Array.isArray(De)&&(0,rt.P)(De,Ee)}remove(Ee){const{_teardowns:De}=this;De&&(0,rt.P)(De,Ee),Ee instanceof lt&&Ee._removeParent(this)}}lt.EMPTY=(()=>{const ut=new lt;return ut.closed=!0,ut})();const vt=lt.EMPTY;function Ke(ut){return ut instanceof lt||ut&&"closed"in ut&&(0,s.m)(ut.remove)&&(0,s.m)(ut.add)&&(0,s.m)(ut.unsubscribe)}function Tt(ut){(0,s.m)(ut)?ut():ut.unsubscribe()}},2416:(ei,Lt,re)=>{"use strict";re.d(Lt,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ei,Lt,re)=>{"use strict";re.d(Lt,{E:()=>ze});const ze=new(re(9751).y)(lt=>lt.complete())},8996:(ei,Lt,re)=>{"use strict";re.d(Lt,{D:()=>ti});var s=re(8421),ze=re(5363),oe=re(9468),vt=re(9751),Tt=re(2202),ut=re(576),Ee=re(9672);function Ge(en,Tn){if(!en)throw new Error("Iterable cannot be null");return new vt.y(sn=>{(0,Ee.f)(sn,Tn,()=>{const Zn=en[Symbol.asyncIterator]();(0,Ee.f)(sn,Tn,()=>{Zn.next().then(et=>{et.done?sn.complete():sn.next(et.value)})},0,!0)})})}var hn=re(3670),Qt=re(8239),yn=re(1144),Nn=re(6495),yt=re(2206),Ut=re(4532),St=re(3260);function ti(en,Tn){return Tn?function Jt(en,Tn){if(null!=en){if((0,hn.c)(en))return function rt(en,Tn){return(0,s.Xf)(en).pipe((0,oe.R)(Tn),(0,ze.Q)(Tn))}(en,Tn);if((0,yn.z)(en))return function Ke(en,Tn){return new vt.y(sn=>{let Zn=0;return Tn.schedule(function(){Zn===en.length?sn.complete():(sn.next(en[Zn++]),sn.closed||this.schedule())})})}(en,Tn);if((0,Qt.t)(en))return function lt(en,Tn){return(0,s.Xf)(en).pipe((0,oe.R)(Tn),(0,ze.Q)(Tn))}(en,Tn);if((0,yt.D)(en))return Ge(en,Tn);if((0,Nn.T)(en))return function De(en,Tn){return new vt.y(sn=>{let Zn;return(0,Ee.f)(sn,Tn,()=>{Zn=en[Tt.h](),(0,Ee.f)(sn,Tn,()=>{let et,It;try{({value:et,done:It}=Zn.next())}catch(dt){return void sn.error(dt)}It?sn.complete():sn.next(et)},0,!0)}),()=>(0,ut.m)(Zn?.return)&&Zn.return()})}(en,Tn);if((0,St.L)(en))return function qt(en,Tn){return Ge((0,St.Q)(en),Tn)}(en,Tn)}throw(0,Ut.z)(en)}(en,Tn):(0,s.Xf)(en)}},8421:(ei,Lt,re)=>{"use strict";re.d(Lt,{Xf:()=>hn});var s=re(5987),ze=re(1144),oe=re(8239),rt=re(9751),lt=re(3670),vt=re(2206),Ke=re(4532),Tt=re(6495),ut=re(3260),Ee=re(576),De=re(7849),Ge=re(8822);function hn(Jt){if(Jt instanceof rt.y)return Jt;if(null!=Jt){if((0,lt.c)(Jt))return function Qt(Jt){return new rt.y(ti=>{const en=Jt[Ge.L]();if((0,Ee.m)(en.subscribe))return en.subscribe(ti);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Jt);if((0,ze.z)(Jt))return function yn(Jt){return new rt.y(ti=>{for(let en=0;en<Jt.length&&!ti.closed;en++)ti.next(Jt[en]);ti.complete()})}(Jt);if((0,oe.t)(Jt))return function Nn(Jt){return new rt.y(ti=>{Jt.then(en=>{ti.closed||(ti.next(en),ti.complete())},en=>ti.error(en)).then(null,De.h)})}(Jt);if((0,vt.D)(Jt))return Ut(Jt);if((0,Tt.T)(Jt))return function yt(Jt){return new rt.y(ti=>{for(const en of Jt)if(ti.next(en),ti.closed)return;ti.complete()})}(Jt);if((0,ut.L)(Jt))return function St(Jt){return Ut((0,ut.Q)(Jt))}(Jt)}throw(0,Ke.z)(Jt)}function Ut(Jt){return new rt.y(ti=>{(function qt(Jt,ti){var en,Tn,sn,Zn;return(0,s.mG)(this,void 0,void 0,function*(){try{for(en=(0,s.KL)(Jt);!(Tn=yield en.next()).done;)if(ti.next(Tn.value),ti.closed)return}catch(et){sn={error:et}}finally{try{Tn&&!Tn.done&&(Zn=en.return)&&(yield Zn.call(en))}finally{if(sn)throw sn.error}}ti.complete()})})(Jt,ti).catch(en=>ti.error(en))})}},6451:(ei,Lt,re)=>{"use strict";re.d(Lt,{T:()=>vt});var s=re(8189),ze=re(8421),oe=re(515),rt=re(3269),lt=re(8996);function vt(...Ke){const Tt=(0,rt.yG)(Ke),ut=(0,rt._6)(Ke,1/0),Ee=Ke;return Ee.length?1===Ee.length?(0,ze.Xf)(Ee[0]):(0,s.J)(ut)((0,lt.D)(Ee,Tt)):oe.E}},5403:(ei,Lt,re)=>{"use strict";re.d(Lt,{Q:()=>ze});var s=re(930);class ze extends s.Lv{constructor(rt,lt,vt,Ke,Tt){super(rt),this.onFinalize=Tt,this._next=lt?function(ut){try{lt(ut)}catch(Ee){rt.error(Ee)}}:super._next,this._error=Ke?function(ut){try{Ke(ut)}catch(Ee){rt.error(Ee)}finally{this.unsubscribe()}}:super._error,this._complete=vt?function(){try{vt()}catch(ut){rt.error(ut)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var rt;const{closed:lt}=this;super.unsubscribe(),!lt&&(null===(rt=this.onFinalize)||void 0===rt||rt.call(this))}}},4004:(ei,Lt,re)=>{"use strict";re.d(Lt,{U:()=>oe});var s=re(4482),ze=re(5403);function oe(rt,lt){return(0,s.e)((vt,Ke)=>{let Tt=0;vt.subscribe(new ze.Q(Ke,ut=>{Ke.next(rt.call(lt,ut,Tt++))}))})}},8189:(ei,Lt,re)=>{"use strict";re.d(Lt,{J:()=>oe});var s=re(5577),ze=re(4671);function oe(rt=1/0){return(0,s.z)(ze.y,rt)}},5577:(ei,Lt,re)=>{"use strict";re.d(Lt,{z:()=>Tt});var s=re(4004),ze=re(8421),oe=re(4482),rt=re(9672),lt=re(5403),Ke=re(576);function Tt(ut,Ee,De=1/0){return(0,Ke.m)(Ee)?Tt((Ge,hn)=>(0,s.U)((Qt,yn)=>Ee(Ge,Qt,hn,yn))((0,ze.Xf)(ut(Ge,hn))),De):("number"==typeof Ee&&(De=Ee),(0,oe.e)((Ge,hn)=>function vt(ut,Ee,De,Ge,hn,Qt,yn,Nn){const yt=[];let Ut=0,St=0,qt=!1;const Jt=()=>{qt&&!yt.length&&!Ut&&Ee.complete()},ti=Tn=>Ut<Ge?en(Tn):yt.push(Tn),en=Tn=>{Qt&&Ee.next(Tn),Ut++;let sn=!1;(0,ze.Xf)(De(Tn,St++)).subscribe(new lt.Q(Ee,Zn=>{hn?.(Zn),Qt?ti(Zn):Ee.next(Zn)},()=>{sn=!0},void 0,()=>{if(sn)try{for(Ut--;yt.length&&Ut<Ge;){const Zn=yt.shift();yn?(0,rt.f)(Ee,yn,()=>en(Zn)):en(Zn)}Jt()}catch(Zn){Ee.error(Zn)}}))};return ut.subscribe(new lt.Q(Ee,ti,()=>{qt=!0,Jt()})),()=>{Nn?.()}}(Ge,hn,ut,De)))}},5363:(ei,Lt,re)=>{"use strict";re.d(Lt,{Q:()=>rt});var s=re(9672),ze=re(4482),oe=re(5403);function rt(lt,vt=0){return(0,ze.e)((Ke,Tt)=>{Ke.subscribe(new oe.Q(Tt,ut=>(0,s.f)(Tt,lt,()=>Tt.next(ut),vt),()=>(0,s.f)(Tt,lt,()=>Tt.complete(),vt),ut=>(0,s.f)(Tt,lt,()=>Tt.error(ut),vt)))})}},3099:(ei,Lt,re)=>{"use strict";re.d(Lt,{B:()=>vt});var s=re(8996),ze=re(5698),oe=re(7579),rt=re(930),lt=re(4482);function vt(Tt={}){const{connector:ut=(()=>new oe.x),resetOnError:Ee=!0,resetOnComplete:De=!0,resetOnRefCountZero:Ge=!0}=Tt;return hn=>{let Qt=null,yn=null,Nn=null,yt=0,Ut=!1,St=!1;const qt=()=>{yn?.unsubscribe(),yn=null},Jt=()=>{qt(),Qt=Nn=null,Ut=St=!1},ti=()=>{const en=Qt;Jt(),en?.unsubscribe()};return(0,lt.e)((en,Tn)=>{yt++,!St&&!Ut&&qt();const sn=Nn=Nn??ut();Tn.add(()=>{yt--,0===yt&&!St&&!Ut&&(yn=Ke(ti,Ge))}),sn.subscribe(Tn),Qt||(Qt=new rt.Hp({next:Zn=>sn.next(Zn),error:Zn=>{St=!0,qt(),yn=Ke(Jt,Ee,Zn),sn.error(Zn)},complete:()=>{Ut=!0,qt(),yn=Ke(Jt,De),sn.complete()}}),(0,s.D)(en).subscribe(Qt))})(hn)}}function Ke(Tt,ut,...Ee){return!0===ut?(Tt(),null):!1===ut?null:ut(...Ee).pipe((0,ze.q)(1)).subscribe(()=>Tt())}},9468:(ei,Lt,re)=>{"use strict";re.d(Lt,{R:()=>ze});var s=re(4482);function ze(oe,rt=0){return(0,s.e)((lt,vt)=>{vt.add(oe.schedule(()=>lt.subscribe(vt),rt))})}},5698:(ei,Lt,re)=>{"use strict";re.d(Lt,{q:()=>rt});var s=re(515),ze=re(4482),oe=re(5403);function rt(lt){return lt<=0?()=>s.E:(0,ze.e)((vt,Ke)=>{let Tt=0;vt.subscribe(new oe.Q(Ke,ut=>{++Tt<=lt&&(Ke.next(ut),lt<=Tt&&Ke.complete())}))})}},8505:(ei,Lt,re)=>{"use strict";re.d(Lt,{b:()=>lt});var s=re(576),ze=re(4482),oe=re(5403),rt=re(4671);function lt(vt,Ke,Tt){const ut=(0,s.m)(vt)||Ke||Tt?{next:vt,error:Ke,complete:Tt}:vt;return ut?(0,ze.e)((Ee,De)=>{var Ge;null===(Ge=ut.subscribe)||void 0===Ge||Ge.call(ut);let hn=!0;Ee.subscribe(new oe.Q(De,Qt=>{var yn;null===(yn=ut.next)||void 0===yn||yn.call(ut,Qt),De.next(Qt)},()=>{var Qt;hn=!1,null===(Qt=ut.complete)||void 0===Qt||Qt.call(ut),De.complete()},Qt=>{var yn;hn=!1,null===(yn=ut.error)||void 0===yn||yn.call(ut,Qt),De.error(Qt)},()=>{var Qt,yn;hn&&(null===(Qt=ut.unsubscribe)||void 0===Qt||Qt.call(ut)),null===(yn=ut.finalize)||void 0===yn||yn.call(ut)}))}):rt.y}},4408:(ei,Lt,re)=>{"use strict";re.d(Lt,{o:()=>lt});var s=re(727);class ze extends s.w0{constructor(Ke,Tt){super()}schedule(Ke,Tt=0){return this}}const oe={setInterval(...vt){const{delegate:Ke}=oe;return(Ke?.setInterval||setInterval)(...vt)},clearInterval(vt){const{delegate:Ke}=oe;return(Ke?.clearInterval||clearInterval)(vt)},delegate:void 0};var rt=re(8737);class lt extends ze{constructor(Ke,Tt){super(Ke,Tt),this.scheduler=Ke,this.work=Tt,this.pending=!1}schedule(Ke,Tt=0){if(this.closed)return this;this.state=Ke;const ut=this.id,Ee=this.scheduler;return null!=ut&&(this.id=this.recycleAsyncId(Ee,ut,Tt)),this.pending=!0,this.delay=Tt,this.id=this.id||this.requestAsyncId(Ee,this.id,Tt),this}requestAsyncId(Ke,Tt,ut=0){return oe.setInterval(Ke.flush.bind(Ke,this),ut)}recycleAsyncId(Ke,Tt,ut=0){if(null!=ut&&this.delay===ut&&!1===this.pending)return Tt;oe.clearInterval(Tt)}execute(Ke,Tt){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ut=this._execute(Ke,Tt);if(ut)return ut;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ke,Tt){let Ee,ut=!1;try{this.work(Ke)}catch(De){ut=!0,Ee=De||new Error("Scheduled action threw falsy error")}if(ut)return this.unsubscribe(),Ee}unsubscribe(){if(!this.closed){const{id:Ke,scheduler:Tt}=this,{actions:ut}=Tt;this.work=this.state=this.scheduler=null,this.pending=!1,(0,rt.P)(ut,this),null!=Ke&&(this.id=this.recycleAsyncId(Tt,Ke,null)),this.delay=null,super.unsubscribe()}}}},7565:(ei,Lt,re)=>{"use strict";re.d(Lt,{v:()=>oe});var s=re(6063);class ze{constructor(lt,vt=ze.now){this.schedulerActionCtor=lt,this.now=vt}schedule(lt,vt=0,Ke){return new this.schedulerActionCtor(this,lt).schedule(Ke,vt)}}ze.now=s.l.now;class oe extends ze{constructor(lt,vt=ze.now){super(lt,vt),this.actions=[],this._active=!1,this._scheduled=void 0}flush(lt){const{actions:vt}=this;if(this._active)return void vt.push(lt);let Ke;this._active=!0;do{if(Ke=lt.execute(lt.state,lt.delay))break}while(lt=vt.shift());if(this._active=!1,Ke){for(;lt=vt.shift();)lt.unsubscribe();throw Ke}}}},4986:(ei,Lt,re)=>{"use strict";re.d(Lt,{P:()=>rt,z:()=>oe});var s=re(4408);const oe=new(re(7565).v)(s.o),rt=oe},6063:(ei,Lt,re)=>{"use strict";re.d(Lt,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(ei,Lt,re)=>{"use strict";re.d(Lt,{z:()=>s});const s={setTimeout(...ze){const{delegate:oe}=s;return(oe?.setTimeout||setTimeout)(...ze)},clearTimeout(ze){const{delegate:oe}=s;return(oe?.clearTimeout||clearTimeout)(ze)},delegate:void 0}},2202:(ei,Lt,re)=>{"use strict";re.d(Lt,{h:()=>ze});const ze=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ei,Lt,re)=>{"use strict";re.d(Lt,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ei,Lt,re)=>{"use strict";re.d(Lt,{_6:()=>vt,jO:()=>rt,yG:()=>lt});var s=re(576),ze=re(3532);function oe(Ke){return Ke[Ke.length-1]}function rt(Ke){return(0,s.m)(oe(Ke))?Ke.pop():void 0}function lt(Ke){return(0,ze.K)(oe(Ke))?Ke.pop():void 0}function vt(Ke,Tt){return"number"==typeof oe(Ke)?Ke.pop():Tt}},8737:(ei,Lt,re)=>{"use strict";function s(ze,oe){if(ze){const rt=ze.indexOf(oe);0<=rt&&ze.splice(rt,1)}}re.d(Lt,{P:()=>s})},3888:(ei,Lt,re)=>{"use strict";function s(ze){const rt=ze(lt=>{Error.call(lt),lt.stack=(new Error).stack});return rt.prototype=Object.create(Error.prototype),rt.prototype.constructor=rt,rt}re.d(Lt,{d:()=>s})},2806:(ei,Lt,re)=>{"use strict";re.d(Lt,{O:()=>rt,x:()=>oe});var s=re(2416);let ze=null;function oe(lt){if(s.v.useDeprecatedSynchronousErrorHandling){const vt=!ze;if(vt&&(ze={errorThrown:!1,error:null}),lt(),vt){const{errorThrown:Ke,error:Tt}=ze;if(ze=null,Ke)throw Tt}}else lt()}function rt(lt){s.v.useDeprecatedSynchronousErrorHandling&&ze&&(ze.errorThrown=!0,ze.error=lt)}},9672:(ei,Lt,re)=>{"use strict";function s(ze,oe,rt,lt=0,vt=!1){const Ke=oe.schedule(function(){rt(),vt?ze.add(this.schedule(null,lt)):this.unsubscribe()},lt);if(ze.add(Ke),!vt)return Ke}re.d(Lt,{f:()=>s})},4671:(ei,Lt,re)=>{"use strict";function s(ze){return ze}re.d(Lt,{y:()=>s})},1144:(ei,Lt,re)=>{"use strict";re.d(Lt,{z:()=>s});const s=ze=>ze&&"number"==typeof ze.length&&"function"!=typeof ze},2206:(ei,Lt,re)=>{"use strict";re.d(Lt,{D:()=>ze});var s=re(576);function ze(oe){return Symbol.asyncIterator&&(0,s.m)(oe?.[Symbol.asyncIterator])}},576:(ei,Lt,re)=>{"use strict";function s(ze){return"function"==typeof ze}re.d(Lt,{m:()=>s})},3670:(ei,Lt,re)=>{"use strict";re.d(Lt,{c:()=>oe});var s=re(8822),ze=re(576);function oe(rt){return(0,ze.m)(rt[s.L])}},6495:(ei,Lt,re)=>{"use strict";re.d(Lt,{T:()=>oe});var s=re(2202),ze=re(576);function oe(rt){return(0,ze.m)(rt?.[s.h])}},8239:(ei,Lt,re)=>{"use strict";re.d(Lt,{t:()=>ze});var s=re(576);function ze(oe){return(0,s.m)(oe?.then)}},3260:(ei,Lt,re)=>{"use strict";re.d(Lt,{L:()=>rt,Q:()=>oe});var s=re(5987),ze=re(576);function oe(lt){return(0,s.FC)(this,arguments,function*(){const Ke=lt.getReader();try{for(;;){const{value:Tt,done:ut}=yield(0,s.qq)(Ke.read());if(ut)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(Tt)}}finally{Ke.releaseLock()}})}function rt(lt){return(0,ze.m)(lt?.getReader)}},3532:(ei,Lt,re)=>{"use strict";re.d(Lt,{K:()=>ze});var s=re(576);function ze(oe){return oe&&(0,s.m)(oe.schedule)}},4482:(ei,Lt,re)=>{"use strict";re.d(Lt,{A:()=>ze,e:()=>oe});var s=re(576);function ze(rt){return(0,s.m)(rt?.lift)}function oe(rt){return lt=>{if(ze(lt))return lt.lift(function(vt){try{return rt(vt,this)}catch(Ke){this.error(Ke)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ei,Lt,re)=>{"use strict";function s(){}re.d(Lt,{Z:()=>s})},9635:(ei,Lt,re)=>{"use strict";re.d(Lt,{U:()=>oe,z:()=>ze});var s=re(4671);function ze(...rt){return oe(rt)}function oe(rt){return 0===rt.length?s.y:1===rt.length?rt[0]:function(vt){return rt.reduce((Ke,Tt)=>Tt(Ke),vt)}}},7849:(ei,Lt,re)=>{"use strict";re.d(Lt,{h:()=>oe});var s=re(2416),ze=re(3410);function oe(rt){ze.z.setTimeout(()=>{const{onUnhandledError:lt}=s.v;if(!lt)throw rt;lt(rt)})}},4532:(ei,Lt,re)=>{"use strict";function s(ze){return new TypeError(`You provided ${null!==ze&&"object"==typeof ze?"an invalid object":`'${ze}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}re.d(Lt,{z:()=>s})},5987:(ei,Lt,re)=>{"use strict";function Tt(et,It,dt,Kt){return new(dt||(dt=Promise))(function(gn,di){function Sr(Ro){try{Mi(Kt.next(Ro))}catch(Fr){di(Fr)}}function to(Ro){try{Mi(Kt.throw(Ro))}catch(Fr){di(Fr)}}function Mi(Ro){Ro.done?gn(Ro.value):function Nt(gn){return gn instanceof dt?gn:new dt(function(di){di(gn)})}(Ro.value).then(Sr,to)}Mi((Kt=Kt.apply(et,It||[])).next())})}function yt(et){return this instanceof yt?(this.v=et,this):new yt(et)}function Ut(et,It,dt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Nt,Kt=dt.apply(et,It||[]),gn=[];return Nt={},di("next"),di("throw"),di("return"),Nt[Symbol.asyncIterator]=function(){return this},Nt;function di(hi){Kt[hi]&&(Nt[hi]=function(xs){return new Promise(function(Cl,fo){gn.push([hi,xs,Cl,fo])>1||Sr(hi,xs)})})}function Sr(hi,xs){try{!function to(hi){hi.value instanceof yt?Promise.resolve(hi.value.v).then(Mi,Ro):Fr(gn[0][2],hi)}(Kt[hi](xs))}catch(Cl){Fr(gn[0][3],Cl)}}function Mi(hi){Sr("next",hi)}function Ro(hi){Sr("throw",hi)}function Fr(hi,xs){hi(xs),gn.shift(),gn.length&&Sr(gn[0][0],gn[0][1])}}function qt(et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var dt,It=et[Symbol.asyncIterator];return It?It.call(et):(et=function Ge(et){var It="function"==typeof Symbol&&Symbol.iterator,dt=It&&et[It],Kt=0;if(dt)return dt.call(et);if(et&&"number"==typeof et.length)return{next:function(){return et&&Kt>=et.length&&(et=void 0),{value:et&&et[Kt++],done:!et}}};throw new TypeError(It?"Object is not iterable.":"Symbol.iterator is not defined.")}(et),dt={},Kt("next"),Kt("throw"),Kt("return"),dt[Symbol.asyncIterator]=function(){return this},dt);function Kt(gn){dt[gn]=et[gn]&&function(di){return new Promise(function(Sr,to){!function Nt(gn,di,Sr,to){Promise.resolve(to).then(function(Mi){gn({value:Mi,done:Sr})},di)}(Sr,to,(di=et[gn](di)).done,di.value)})}}}re.d(Lt,{FC:()=>Ut,KL:()=>qt,mG:()=>Tt,qq:()=>yt})},4650:(ei,Lt,re)=>{"use strict";re.d(Lt,{$8M:()=>ma,$Z:()=>eS,AFp:()=>cy,ALo:()=>Lu,AaK:()=>Tt,AsE:()=>YC,BQk:()=>pm,CHM:()=>Dr,CRH:()=>yI,CZH:()=>rb,CqO:()=>Iw,D6c:()=>Mm,DdM:()=>hI,EJc:()=>ob,EiD:()=>aA,EpF:()=>xv,Ez6:()=>Kl,F$t:()=>RC,F4k:()=>K2,FYo:()=>Ho,FiY:()=>Du,G48:()=>AF,Gf:()=>ny,GfV:()=>za,GkF:()=>wS,Gpc:()=>De,Gre:()=>oB,Hsn:()=>ES,Ikx:()=>qS,JOm:()=>so,JVY:()=>D_,JZr:()=>Nn,KtG:()=>Sg,L6k:()=>tf,LAX:()=>vd,LFG:()=>kr,LSH:()=>z,Lbi:()=>uy,Lck:()=>VL,MAs:()=>Cw,MMx:()=>bm,MR2:()=>M_,NdJ:()=>Dw,O4$:()=>NA,OlP:()=>qr,Oqu:()=>$C,P3R:()=>fn,PXZ:()=>uF,Q6J:()=>xw,QGY:()=>bS,QP$:()=>Rd,QbO:()=>H1,Qsj:()=>Ec,R0b:()=>Uu,RDi:()=>uw,Rgc:()=>Ww,SBq:()=>sr,Sil:()=>cN,Suo:()=>eu,TTD:()=>Au,TgZ:()=>DC,Udp:()=>Op,VKq:()=>AI,WFA:()=>FC,X6Q:()=>hF,XFs:()=>Wn,Xpm:()=>mt,Xts:()=>sf,Y36:()=>O_,YKP:()=>lI,YNc:()=>G2,Yjl:()=>gs,Yz7:()=>cr,Z0I:()=>cu,ZZ4:()=>Ab,_Bn:()=>MB,_UZ:()=>Sw,_Vd:()=>gi,_c5:()=>xN,_uU:()=>ZC,aQg:()=>fb,c2e:()=>sb,cJS:()=>xl,cg1:()=>n1,d8E:()=>t1,dDg:()=>dy,dqk:()=>si,eBb:()=>Ga,eFA:()=>hy,ekj:()=>GC,eoX:()=>LI,f3M:()=>ha,g9A:()=>Q1,h0i:()=>Qv,hGG:()=>EN,hij:()=>Rw,iGM:()=>_I,ifc:()=>Vn,ip1:()=>mf,jDz:()=>lo,kEZ:()=>w1,kL8:()=>r1,kYT:()=>Ei,kcU:()=>Mg,lG2:()=>fr,lcZ:()=>pI,lqb:()=>L,lri:()=>Tm,mCW:()=>Nl,n5z:()=>jA,n_E:()=>I1,oAB:()=>ni,oxw:()=>kC,pB0:()=>iv,q3G:()=>m,q4F:()=>cA,qLn:()=>fl,qOj:()=>Q2,qZA:()=>TC,qzn:()=>oh,rWj:()=>OI,s9C:()=>OC,sBO:()=>gN,sIi:()=>Q_,s_b:()=>T1,soG:()=>Zv,tb:()=>Ic,tp0:()=>ll,uIk:()=>wv,uOi:()=>ge,vHH:()=>yt,vpe:()=>pf,wAp:()=>bi,xi3:()=>oc,xp6:()=>HO,ynx:()=>BC,z2F:()=>W1,z3N:()=>ic,zSh:()=>cv,zs3:()=>dm});var s=re(7579),ze=re(727),oe=re(9751),rt=re(6451),lt=re(3099);function vt(l){for(let c in l)if(l[c]===vt)return c;throw Error("Could not find renamed property on target object.")}function Ke(l,c){for(const d in c)c.hasOwnProperty(d)&&!l.hasOwnProperty(d)&&(l[d]=c[d])}function Tt(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(Tt).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const c=l.toString();if(null==c)return""+c;const d=c.indexOf("\n");return-1===d?c:c.substring(0,d)}function ut(l,c){return null==l||""===l?null===c?"":c:null==c||""===c?l:l+" "+c}const Ee=vt({__forward_ref__:vt});function De(l){return l.__forward_ref__=De,l.toString=function(){return Tt(this())},l}function Ge(l){return hn(l)?l():l}function hn(l){return"function"==typeof l&&l.hasOwnProperty(Ee)&&l.__forward_ref__===De}function Qt(l){return l&&!!l.\u0275providers}const Nn="https://g.co/ng/security#xss";class yt extends Error{constructor(c,d){super(function Ut(l,c){return`NG0${Math.abs(l)}${c?": "+c.trim():""}`}(c,d)),this.code=c}}function St(l){return"string"==typeof l?l:null==l?"":String(l)}function Tn(l,c){throw new yt(-201,!1)}function Fr(l,c){null==l&&function hi(l,c,d,A){throw new Error(`ASSERTION ERROR: ${l}`+(null==A?"":` [Expected=> ${d} ${A} ${c} <=Actual]`))}(c,l,null,"!=")}function cr(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}const Kl=cr;function xl(l){return{providers:l.providers||[],imports:l.imports||[]}}function El(l){return rs(l,Sl)||rs(l,Mr)}function cu(l){return null!==El(l)}function rs(l,c){return l.hasOwnProperty(c)?l[c]:null}function Ps(l){return l&&(l.hasOwnProperty(Zt)||l.hasOwnProperty(Us))?l[Zt]:null}const Sl=vt({\u0275prov:vt}),Zt=vt({\u0275inj:vt}),Mr=vt({ngInjectableDef:vt}),Us=vt({ngInjectorDef:vt});var Wn=(()=>((Wn=Wn||{})[Wn.Default=0]="Default",Wn[Wn.Host=1]="Host",Wn[Wn.Self=2]="Self",Wn[Wn.SkipSelf=4]="SkipSelf",Wn[Wn.Optional=8]="Optional",Wn))();let dc;function Kr(l){const c=dc;return dc=l,c}function hc(l,c,d){const A=El(l);return A&&"root"==A.providedIn?void 0===A.value?A.value=A.factory():A.value:d&Wn.Optional?null:void 0!==c?c:void Tn(Tt(l))}const si=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ai={},Oi="__NG_DI_FLAG__",Qs="ngTempTokenPath",Yo=/\n/gm,uu="__source";let Vi;function po(l){const c=Vi;return Vi=l,c}function Wo(l,c=Wn.Default){if(void 0===Vi)throw new yt(-203,!1);return null===Vi?hc(l,void 0,c):Vi.get(l,c&Wn.Optional?null:void 0,c)}function kr(l,c=Wn.Default){return(function Qc(){return dc}()||Wo)(Ge(l),c)}function ha(l,c=Wn.Default){return kr(l,Aa(c))}function Aa(l){return typeof l>"u"||"number"==typeof l?l:0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)}function rl(l){const c=[];for(let d=0;d<l.length;d++){const A=Ge(l[d]);if(Array.isArray(A)){if(0===A.length)throw new yt(900,!1);let p,v=Wn.Default;for(let T=0;T<A.length;T++){const R=A[T],P=fa(R);"number"==typeof P?-1===P?p=R.token:v|=P:p=R}c.push(kr(p,v))}else c.push(kr(A))}return c}function Es(l,c){return l[Oi]=c,l.prototype[Oi]=c,l}function fa(l){return l[Oi]}function Me(l){return{toString:l}.toString()}var wt=(()=>((wt=wt||{})[wt.OnPush=0]="OnPush",wt[wt.Default=1]="Default",wt))(),Vn=(()=>{return(l=Vn||(Vn={}))[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",Vn;var l})();const wi={},fi=[],es=vt({\u0275cmp:vt}),Hs=vt({\u0275dir:vt}),ji=vt({\u0275pipe:vt}),no=vt({\u0275mod:vt}),mo=vt({\u0275fac:vt}),pa=vt({__NG_ELEMENT_ID__:vt});let Wu=0;function mt(l){return Me(()=>{const d=!0===l.standalone,A={},p={type:l.type,providersResolver:null,decls:l.decls,vars:l.vars,factory:null,template:l.template||null,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:A,inputs:null,outputs:null,exportAs:l.exportAs||null,onPush:l.changeDetection===wt.OnPush,directiveDefs:null,pipeDefs:null,standalone:d,dependencies:d&&l.dependencies||null,getStandaloneInjector:null,selectors:l.selectors||fi,viewQuery:l.viewQuery||null,features:l.features||null,data:l.data||{},encapsulation:l.encapsulation||Vn.Emulated,id:"c"+Wu++,styles:l.styles||fi,_:null,setInput:null,schemas:l.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},v=l.dependencies,T=l.features;return p.inputs=br(l.inputs,A),p.outputs=br(l.outputs),T&&T.forEach(R=>R(p)),p.directiveDefs=v?()=>("function"==typeof v?v():v).map($t).filter($n):null,p.pipeDefs=v?()=>("function"==typeof v?v():v).map($r).filter($n):null,p})}function $t(l){return mi(l)||Rr(l)}function $n(l){return null!==l}function ni(l){return Me(()=>({type:l.type,bootstrap:l.bootstrap||fi,declarations:l.declarations||fi,imports:l.imports||fi,exports:l.exports||fi,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null}))}function Ei(l,c){return Me(()=>{const d=Oo(l,!0);d.declarations=c.declarations||fi,d.imports=c.imports||fi,d.exports=c.exports||fi})}function br(l,c){if(null==l)return wi;const d={};for(const A in l)if(l.hasOwnProperty(A)){let p=l[A],v=p;Array.isArray(p)&&(v=p[1],p=p[0]),d[p]=A,c&&(c[p]=v)}return d}const fr=mt;function gs(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,standalone:!0===l.standalone,onDestroy:l.type.prototype.ngOnDestroy||null}}function mi(l){return l[es]||null}function Rr(l){return l[Hs]||null}function $r(l){return l[ji]||null}function Rd(l){const c=mi(l)||Rr(l)||$r(l);return null!==c&&c.standalone}function Oo(l,c){const d=l[no]||null;if(!d&&!0===c)throw new Error(`Type ${Tt(l)} does not have '\u0275mod' property.`);return d}function ur(l){return Array.isArray(l)&&"object"==typeof l[1]}function Bl(l){return Array.isArray(l)&&!0===l[1]}function Eh(l){return 0!=(4&l.flags)}function IA(l){return l.componentOffset>-1}function DA(l){return 1==(1&l.flags)}function Vs(l){return null!==l.template}function r_(l){return 0!=(256&l[2])}function ta(l,c){return l.hasOwnProperty(mo)?l[mo]:null}class Qd{constructor(c,d,A){this.previousValue=c,this.currentValue=d,this.firstChange=A}isFirstChange(){return this.firstChange}}function Au(){return FA}function FA(l){return l.type.prototype.ngOnChanges&&(l.setInput=Yl),Ih}function Ih(){const l=MA(this),c=l?.current;if(c){const d=l.previous;if(d===wi)l.previous=c;else for(let A in c)d[A]=c[A];l.current=null,this.ngOnChanges(c)}}function Yl(l,c,d,A){const p=this.declaredInputs[d],v=MA(l)||function Ac(l,c){return l[jf]=c}(l,{previous:wi,current:null}),T=v.current||(v.current={}),R=v.previous,P=R[p];T[p]=new Qd(P&&P.currentValue,c,R===wi),l[A]=c}Au.ngInherit=!0;const jf="__ngSimpleChanges__";function MA(l){return l[jf]||null}function _o(l){for(;Array.isArray(l);)l=l[0];return l}function Vd(l,c){return _o(c[l])}function yo(l,c){return _o(c[l.index])}function RA(l,c){return l.data[c]}function na(l,c){return l[c]}function Is(l,c){const d=c[l];return ur(d)?d:d[0]}function _u(l){return 64==(64&l[2])}function $i(l,c){return null==c?null:l[c]}function xg(l){l[18]=0}function Wl(l,c){l[5]+=c;let d=l,A=l[3];for(;null!==A&&(1===c&&1===d[5]||-1===c&&0===d[5]);)A[5]+=c,d=A,A=A[3]}const Si={lFrame:Tg(null),bindingsEnabled:!0};function Gf(){return Si.bindingsEnabled}function Rt(){return Si.lFrame.lView}function Ki(){return Si.lFrame.tView}function Dr(l){return Si.lFrame.contextLView=l,l[8]}function Sg(l){return Si.lFrame.contextLView=null,l}function Ds(){let l=Th();for(;null!==l&&64===l.type;)l=l.parent;return l}function Th(){return Si.lFrame.currentTNode}function js(l,c){const d=Si.lFrame;d.currentTNode=l,d.isParent=c}function Fl(){return Si.lFrame.isParent}function Bh(){Si.lFrame.isParent=!1}function zr(){const l=Si.lFrame;let c=l.bindingRootIndex;return-1===c&&(c=l.bindingRootIndex=l.tView.bindingStartIndex),c}function ss(){return Si.lFrame.bindingIndex++}function Jl(l){const c=Si.lFrame,d=c.bindingIndex;return c.bindingIndex=c.bindingIndex+l,d}function pc(l,c){const d=Si.lFrame;d.bindingIndex=d.bindingRootIndex=l,yu(c)}function yu(l){Si.lFrame.currentDirectiveIndex=l}function Gc(l){const c=Si.lFrame.currentDirectiveIndex;return-1===c?null:l[c]}function id(){return Si.lFrame.currentQueryIndex}function zc(l){Si.lFrame.currentQueryIndex=l}function Dg(l){const c=l[1];return 2===c.type?c.declTNode:1===c.type?l[6]:null}function Ra(l,c,d){if(d&Wn.SkipSelf){let p=c,v=l;for(;!(p=p.parent,null!==p||d&Wn.Host||(p=Dg(v),null===p||(v=v[15],10&p.type))););if(null===p)return!1;c=p,l=v}const A=Si.lFrame=Fh();return A.currentTNode=c,A.lView=l,!0}function qf(l){const c=Fh(),d=l[1];Si.lFrame=c,c.currentTNode=d.firstChild,c.lView=l,c.tView=d,c.contextLView=l,c.bindingIndex=d.bindingStartIndex,c.inI18n=!1}function Fh(){const l=Si.lFrame,c=null===l?null:l.child;return null===c?Tg(l):c}function Tg(l){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=c),c}function vu(){const l=Si.lFrame;return Si.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const Bg=vu;function rd(){const l=vu();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function ia(){return Si.lFrame.selectedIndex}function Oa(l){Si.lFrame.selectedIndex=l}function Lr(){const l=Si.lFrame;return RA(l.tView,l.selectedIndex)}function NA(){Si.lFrame.currentNamespace="svg"}function Mg(){!function kh(){Si.lFrame.currentNamespace=null}()}function wu(l,c){for(let d=c.directiveStart,A=c.directiveEnd;d<A;d++){const v=l.data[d].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:R,ngAfterViewInit:P,ngAfterViewChecked:G,ngOnDestroy:ee}=v;T&&(l.contentHooks||(l.contentHooks=[])).push(-d,T),R&&((l.contentHooks||(l.contentHooks=[])).push(d,R),(l.contentCheckHooks||(l.contentCheckHooks=[])).push(d,R)),P&&(l.viewHooks||(l.viewHooks=[])).push(-d,P),G&&((l.viewHooks||(l.viewHooks=[])).push(d,G),(l.viewCheckHooks||(l.viewCheckHooks=[])).push(d,G)),null!=ee&&(l.destroyHooks||(l.destroyHooks=[])).push(d,ee)}}function jd(l,c,d){ad(l,c,3,d)}function gc(l,c,d,A){(3&l[2])===d&&ad(l,c,d,A)}function od(l,c){let d=l[2];(3&d)===c&&(d&=2047,d+=1,l[2]=d)}function ad(l,c,d,A){const v=A??-1,T=c.length-1;let R=0;for(let P=void 0!==A?65535&l[18]:0;P<T;P++)if("number"==typeof c[P+1]){if(R=c[P],null!=A&&R>=A)break}else c[P]<0&&(l[18]+=65536),(R<v||-1==v)&&(Rg(l,d,c,P),l[18]=(4294901760&l[18])+P+2),P++}function Rg(l,c,d,A){const p=d[A]<0,v=d[A+1],R=l[p?-d[A]:d[A]];if(p){if(l[2]>>11<l[18]>>16&&(3&l[2])===c){l[2]+=2048;try{v.call(R)}finally{}}}else try{v.call(R)}finally{}}class Gd{constructor(c,d,A){this.factory=c,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=A}}function ga(l,c,d){let A=0;for(;A<d.length;){const p=d[A];if("number"==typeof p){if(0!==p)break;A++;const v=d[A++],T=d[A++],R=d[A++];l.setAttribute(c,T,R,v)}else{const v=p,T=d[++A];l_(v)?l.setProperty(c,v,T):l.setAttribute(c,v,T),A++}}return A}function Rh(l){return 3===l||4===l||6===l}function l_(l){return 64===l.charCodeAt(0)}function Cu(l,c){if(null!==c&&0!==c.length)if(null===l||0===l.length)l=c.slice();else{let d=-1;for(let A=0;A<c.length;A++){const p=c[A];"number"==typeof p?d=p:0===d||UA(l,d,p,null,-1===d||2===d?c[++A]:null)}}return l}function UA(l,c,d,A,p){let v=0,T=l.length;if(-1===c)T=-1;else for(;v<l.length;){const R=l[v++];if("number"==typeof R){if(R===c){T=-1;break}if(R>c){T=v-1;break}}}for(;v<l.length;){const R=l[v];if("number"==typeof R)break;if(R===d){if(null===A)return void(null!==p&&(l[v+1]=p));if(A===l[v+1])return void(l[v+2]=p)}v++,null!==A&&v++,null!==p&&v++}-1!==T&&(l.splice(T,0,c),v=T+1),l.splice(v++,0,d),null!==A&&l.splice(v++,0,A),null!==p&&l.splice(v++,0,p)}function zd(l){return-1!==l}function cd(l){return 32767&l}function Oh(l,c){let d=function c_(l){return l>>16}(l),A=c;for(;d>0;)A=A[15],d--;return A}let $f=!0;function qd(l){const c=$f;return $f=l,c}let iw=0;const Na={};function qc(l,c){const d=u_(l,c);if(-1!==d)return d;const A=c[1];A.firstCreatePass&&(l.injectorIndex=c.length,Kd(A.data,l),Kd(c,null),Kd(A.blueprint,null));const p=Lh(l,c),v=l.injectorIndex;if(zd(p)){const T=cd(p),R=Oh(p,c),P=R[1].data;for(let G=0;G<8;G++)c[v+G]=R[T+G]|P[T+G]}return c[v+8]=p,v}function Kd(l,c){l.push(0,0,0,0,0,0,0,0,c)}function u_(l,c){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===c[l.injectorIndex+8]?-1:l.injectorIndex}function Lh(l,c){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let d=0,A=null,p=c;for(;null!==p;){if(A=Xf(p),null===A)return-1;if(d++,p=p[15],-1!==A.injectorIndex)return A.injectorIndex|d<<16}return-1}function os(l,c,d){!function Pg(l,c,d){let A;"string"==typeof d?A=d.charCodeAt(0)||0:d.hasOwnProperty(pa)&&(A=d[pa]),null==A&&(A=d[pa]=iw++);const p=255&A;c.data[l+(p>>5)]|=1<<p}(l,c,d)}function No(l,c,d){if(d&Wn.Optional||void 0!==l)return l;Tn()}function Wf(l,c,d,A){if(d&Wn.Optional&&void 0===A&&(A=null),0==(d&(Wn.Self|Wn.Host))){const p=l[9],v=Kr(void 0);try{return p?p.get(c,A,d&Wn.Optional):hc(c,A,d&Wn.Optional)}finally{Kr(v)}}return No(A,0,d)}function Zd(l,c,d,A=Wn.Default,p){if(null!==l){if(1024&c[2]){const T=function $y(l,c,d,A,p){let v=l,T=c;for(;null!==v&&null!==T&&1024&T[2]&&!(256&T[2]);){const R=Nh(v,T,d,A|Wn.Self,Na);if(R!==Na)return R;let P=v.parent;if(!P){const G=T[21];if(G){const ee=G.get(d,Na,A);if(ee!==Na)return ee}P=Xf(T),T=T[15]}v=P}return p}(l,c,d,A,Na);if(T!==Na)return T}const v=Nh(l,c,d,A,Na);if(v!==Na)return v}return Wf(c,d,A,p)}function Nh(l,c,d,A,p){const v=function Jf(l){if("string"==typeof l)return l.charCodeAt(0)||0;const c=l.hasOwnProperty(pa)?l[pa]:void 0;return"number"==typeof c?c>=0?255&c:VA:c}(d);if("function"==typeof v){if(!Ra(c,l,A))return A&Wn.Host?No(p,0,A):Wf(c,d,A,p);try{const T=v(A);if(null!=T||A&Wn.Optional)return T;Tn()}finally{Bg()}}else if("number"==typeof v){let T=null,R=u_(l,c),P=-1,G=A&Wn.Host?c[16][6]:null;for((-1===R||A&Wn.SkipSelf)&&(P=-1===R?Lh(l,c):c[R+8],-1!==P&&HA(A,!1)?(T=c[1],R=cd(P),c=Oh(P,c)):R=-1);-1!==R;){const ee=c[1];if(d_(v,R,ee.data)){const fe=QA(R,c,d,T,A,G);if(fe!==Na)return fe}P=c[R+8],-1!==P&&HA(A,c[1].data[R+8]===G)&&d_(v,R,c)?(T=ee,R=cd(P),c=Oh(P,c)):R=-1}}return p}function QA(l,c,d,A,p,v){const T=c[1],R=T.data[l+8],ee=Xl(R,T,d,null==A?IA(R)&&$f:A!=T&&0!=(3&R.type),p&Wn.Host&&v===R);return null!==ee?$d(c,T,ee,R):Na}function Xl(l,c,d,A,p){const v=l.providerIndexes,T=c.data,R=1048575&v,P=l.directiveStart,ee=v>>20,ke=p?R+ee:l.directiveEnd;for(let tt=A?R:R+ee;tt<ke;tt++){const kt=T[tt];if(tt<P&&d===kt||tt>=P&&kt.type===d)return tt}if(p){const tt=T[P];if(tt&&Vs(tt)&&tt.type===d)return P}return null}function $d(l,c,d,A){let p=l[d];const v=c.data;if(function ol(l){return l instanceof Gd}(p)){const T=p;T.resolving&&function Jt(l,c){const d=c?`. Dependency path: ${c.join(" > ")} > ${l}`:"";throw new yt(-200,`Circular dependency in DI detected for ${l}${d}`)}(function qt(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():St(l)}(v[d]));const R=qd(T.canSeeViewProviders);T.resolving=!0;const P=T.injectImpl?Kr(T.injectImpl):null;Ra(l,A,Wn.Default);try{p=l[d]=T.factory(void 0,v,l,A),c.firstCreatePass&&d>=A.directiveStart&&function kg(l,c,d){const{ngOnChanges:A,ngOnInit:p,ngDoCheck:v}=c.type.prototype;if(A){const T=FA(c);(d.preOrderHooks||(d.preOrderHooks=[])).push(l,T),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(l,T)}p&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-l,p),v&&((d.preOrderHooks||(d.preOrderHooks=[])).push(l,v),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(l,v))}(d,v[d],c)}finally{null!==P&&Kr(P),qd(R),T.resolving=!1,Bg()}}return p}function d_(l,c,d){return!!(d[c+(l>>5)]&1<<l)}function HA(l,c){return!(l&Wn.Self||l&Wn.Host&&c)}class Yd{constructor(c,d){this._tNode=c,this._lView=d}get(c,d,A){return Zd(this._tNode,this._lView,c,Aa(A),d)}}function VA(){return new Yd(Ds(),Rt())}function jA(l){return Me(()=>{const c=l.prototype.constructor,d=c[mo]||Kc(c),A=Object.prototype;let p=Object.getPrototypeOf(l.prototype).constructor;for(;p&&p!==A;){const v=p[mo]||Kc(p);if(v&&v!==d)return v;p=Object.getPrototypeOf(p)}return v=>new v})}function Kc(l){return hn(l)?()=>{const c=Kc(Ge(l));return c&&c()}:ta(l)}function Xf(l){const c=l[1],d=c.type;return 2===d?c.declTNode:1===d?l[6]:null}function ma(l){return function Zy(l,c){if("class"===c)return l.classes;if("style"===c)return l.styles;const d=l.attrs;if(d){const A=d.length;let p=0;for(;p<A;){const v=d[p];if(Rh(v))break;if(0===v)p+=2;else if("number"==typeof v)for(p++;p<A&&"string"==typeof d[p];)p++;else{if(v===c)return d[p+1];p+=2}}}return null}(Ds(),l)}const ts="__parameters__";function xu(l,c,d){return Me(()=>{const A=function GA(l){return function(...d){if(l){const A=l(...d);for(const p in A)this[p]=A[p]}}}(c);function p(...v){if(this instanceof p)return A.apply(this,v),this;const T=new p(...v);return R.annotation=T,R;function R(P,G,ee){const fe=P.hasOwnProperty(ts)?P[ts]:Object.defineProperty(P,ts,{value:[]})[ts];for(;fe.length<=ee;)fe.push(null);return(fe[ee]=fe[ee]||[]).push(T),P}}return d&&(p.prototype=Object.create(d.prototype)),p.prototype.ngMetadataName=l,p.annotationCls=p,p})}class qr{constructor(c,d){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=cr({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function jn(l,c){void 0===c&&(c=l);for(let d=0;d<l.length;d++){let A=l[d];Array.isArray(A)?(c===l&&(c=l.slice(0,d)),jn(A,c)):c!==l&&c.push(A)}return c}function Pa(l,c){l.forEach(d=>Array.isArray(d)?Pa(d,c):c(d))}function An(l,c,d){c>=l.length?l.push(d):l.splice(c,0,d)}function nn(l,c){return c>=l.length-1?l.pop():l.splice(c,1)[0]}function gr(l,c){const d=[];for(let A=0;A<l;A++)d.push(c);return d}function Ua(l,c,d){let A=ra(l,c);return A>=0?l[1|A]=d:(A=~A,function mr(l,c,d,A){let p=l.length;if(p==c)l.push(d,A);else if(1===p)l.push(A,l[0]),l[0]=d;else{for(p--,l.push(l[p-1],l[p]);p>c;)l[p]=l[p-2],p--;l[c]=d,l[c+1]=A}}(l,A,c,d)),A}function Hh(l,c){const d=ra(l,c);if(d>=0)return l[1|d]}function ra(l,c){return function an(l,c,d){let A=0,p=l.length>>d;for(;p!==A;){const v=A+(p-A>>1),T=l[v<<d];if(c===T)return v<<d;T>c?p=v:A=v+1}return~(p<<d)}(l,c,1)}const Du=Es(xu("Optional"),8),ll=Es(xu("SkipSelf"),4);var so=(()=>((so=so||{})[so.Important=1]="Important",so[so.DashCase=2]="DashCase",so))();const Ie=new Map;let qe=0;const ul="__ngContext__";function Zs(l,c){ur(c)?(l[ul]=c[20],function mn(l){Ie.set(l[20],l)}(c)):l[ul]=c}function lp(l,c){return undefined(l,c)}function cp(l){const c=l[3];return Bl(c)?c[3]:c}function C_(l){return ZA(l[13])}function qg(l){return ZA(l[4])}function ZA(l){for(;null!==l&&!Bl(l);)l=l[4];return l}function pd(l,c,d,A,p){if(null!=A){let v,T=!1;Bl(A)?v=A:ur(A)&&(T=!0,A=A[0]);const R=_o(A);0===l&&null!==d?null==p?Ap(c,d,R):wc(c,d,R,p||null,!0):1===l&&null!==d?wc(c,d,R,p||null,!0):2===l?function Ts(l,c,d){const A=rh(l,c);A&&function cw(l,c,d,A){l.removeChild(c,d,A)}(l,A,c,d)}(c,R,T):3===l&&c.destroyNode(R),null!=v&&function XA(l,c,d,A,p){const v=d[7];v!==_o(d)&&pd(c,l,A,v,p);for(let R=10;R<d.length;R++){const P=d[R];ku(P[1],P,l,c,A,v)}}(c,l,v,d,p)}}function $g(l,c,d){return l.createElement(c,d)}function Kh(l,c){const d=l[9],A=d.indexOf(c),p=c[3];512&c[2]&&(c[2]&=-513,Wl(p,-1)),d.splice(A,1)}function Zh(l,c){if(l.length<=10)return;const d=10+c,A=l[d];if(A){const p=A[17];null!==p&&p!==l&&Kh(p,A),c>0&&(l[d-1][4]=A[4]);const v=nn(l,10+c);!function x_(l,c){ku(l,c,c[11],2,null,null),c[0]=null,c[6]=null}(A[1],A);const T=v[19];null!==T&&T.detachView(v[1]),A[3]=null,A[4]=null,A[2]&=-65}return A}function ih(l,c){if(!(128&c[2])){const d=c[11];d.destroyNode&&ku(l,c,d,3,null,null),function $A(l){let c=l[13];if(!c)return Yg(l[1],l);for(;c;){let d=null;if(ur(c))d=c[13];else{const A=c[10];A&&(d=A)}if(!d){for(;c&&!c[4]&&c!==l;)ur(c)&&Yg(c[1],c),c=c[3];null===c&&(c=l),ur(c)&&Yg(c[1],c),d=c&&c[4]}c=d}}(c)}}function Yg(l,c){if(!(128&c[2])){c[2]&=-65,c[2]|=128,function E_(l,c){let d;if(null!=l&&null!=(d=l.destroyHooks))for(let A=0;A<d.length;A+=2){const p=c[d[A]];if(!(p instanceof Gd)){const v=d[A+1];if(Array.isArray(v))for(let T=0;T<v.length;T+=2){const R=p[v[T]],P=v[T+1];try{P.call(R)}finally{}}else try{v.call(p)}finally{}}}}(l,c),function lw(l,c){const d=l.cleanup,A=c[7];let p=-1;if(null!==d)for(let v=0;v<d.length-1;v+=2)if("string"==typeof d[v]){const T=d[v+3];T>=0?A[p=T]():A[p=-T].unsubscribe(),v+=2}else{const T=A[p=d[v+1]];d[v].call(T)}if(null!==A){for(let v=p+1;v<A.length;v++)(0,A[v])();c[7]=null}}(l,c),1===c[1].type&&c[11].destroy();const d=c[17];if(null!==d&&Bl(c[3])){d!==c[3]&&Kh(d,c);const A=c[19];null!==A&&A.detachView(l)}!function Bn(l){Ie.delete(l[20])}(c)}}function Wg(l,c,d){return function hp(l,c,d){let A=c;for(;null!==A&&40&A.type;)A=(c=A).parent;if(null===A)return d[0];{const{componentOffset:p}=A;if(p>-1){const{encapsulation:v}=l.data[A.directiveStart+p];if(v===Vn.None||v===Vn.Emulated)return null}return yo(A,d)}}(l,c.parent,d)}function wc(l,c,d,A,p){l.insertBefore(c,d,A,p)}function Ap(l,c,d){l.appendChild(c,d)}function fp(l,c,d,A,p){null!==A?wc(l,c,d,A,p):Ap(l,c,d)}function rh(l,c){return l.parentNode(c)}function Yh(l,c,d){return Wh(l,c,d)}let Ru,gp,tA,Wh=function gd(l,c,d){return 40&l.type?yo(l,d):null};function WA(l,c,d,A){const p=Wg(l,A,c),v=c[11],R=Yh(A.parent||c[6],A,c);if(null!=p)if(Array.isArray(d))for(let P=0;P<d.length;P++)fp(v,p,d[P],R,!1);else fp(v,p,d,R,!1)}function Jg(l,c){if(null!==c){const d=c.type;if(3&d)return yo(c,l);if(4&d)return JA(-1,l[c.index]);if(8&d){const A=c.child;if(null!==A)return Jg(l,A);{const p=l[c.index];return Bl(p)?JA(-1,p):_o(p)}}if(32&d)return lp(c,l)()||_o(l[c.index]);{const A=Jh(l,c);return null!==A?Array.isArray(A)?A[0]:Jg(cp(l[16]),A):Jg(l,c.next)}}return null}function Jh(l,c){return null!==c?l[16][6].projection[c.projection]:null}function JA(l,c){const d=10+l+1;if(d<c.length){const A=c[d],p=A[1].firstChild;if(null!==p)return Jg(A,p)}return c[7]}function md(l,c,d,A,p,v,T){for(;null!=d;){const R=A[d.index],P=d.type;if(T&&0===c&&(R&&Zs(_o(R),A),d.flags|=2),32!=(32&d.flags))if(8&P)md(l,c,d.child,A,p,v,!1),pd(c,l,p,R,v);else if(32&P){const G=lp(d,A);let ee;for(;ee=G();)pd(c,l,p,ee,v);pd(c,l,p,R,v)}else 16&P?_d(l,c,A,d,p,v):pd(c,l,p,R,v);d=T?d.projectionNext:d.next}}function ku(l,c,d,A,p,v){md(d,A,l.firstChild,c,p,v,!1)}function _d(l,c,d,A,p,v){const T=d[16],P=T[6].projection[A.projection];if(Array.isArray(P))for(let G=0;G<P.length;G++)pd(c,l,p,P[G],v);else md(l,c,P,T[3],p,v,!0)}function Xg(l,c,d){""===d?l.removeAttribute(c,"class"):l.setAttribute(c,"class",d)}function Xh(l,c,d){const{mergedAttrs:A,classes:p,styles:v}=d;null!==A&&ga(l,c,A),null!==p&&Xg(l,c,p),null!==v&&function ev(l,c,d){l.setAttribute(c,"style",d)}(l,c,v)}function nc(l){return function dl(){if(void 0===Ru&&(Ru=null,si.trustedTypes))try{Ru=si.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return Ru}()?.createHTML(l)||l}function uw(l){gp=l}function yp(l){return function _p(){if(void 0===tA&&(tA=null,si.trustedTypes))try{tA=si.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return tA}()?.createScriptURL(l)||l}class iA{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Nn})`}}class rA extends iA{getTypeName(){return"HTML"}}class I_ extends iA{getTypeName(){return"Style"}}class tv extends iA{getTypeName(){return"Script"}}class tm extends iA{getTypeName(){return"URL"}}class nm extends iA{getTypeName(){return"ResourceURL"}}function ic(l){return l instanceof iA?l.changingThisBreaksApplicationSecurity:l}function oh(l,c){const d=function nv(l){return l instanceof iA&&l.getTypeName()||null}(l);if(null!=d&&d!==c){if("ResourceURL"===d&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${d} (see ${Nn})`)}return d===c}function D_(l){return new rA(l)}function tf(l){return new I_(l)}function Ga(l){return new tv(l)}function vd(l){return new tm(l)}function iv(l){return new nm(l)}class vp{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const d=(new window.DOMParser).parseFromString(nc(c),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(c):(d.removeChild(d.firstChild),d)}catch{return null}}}class bn{constructor(c){if(this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const A=this.inertDocument.createElement("body");d.appendChild(A)}}getInertBodyElement(c){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=nc(c),d;const A=this.inertDocument.createElement("body");return A.innerHTML=nc(c),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(A),A}stripCustomNsAttrs(c){const d=c.attributes;for(let p=d.length-1;0<p;p--){const T=d.item(p).name;("xmlns:ns1"===T||0===T.indexOf("ns1:"))&&c.removeAttribute(T)}let A=c.firstChild;for(;A;)A.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(A),A=A.nextSibling}}const rm=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Nl(l){return(l=String(l)).match(rm)?l:"unsafe:"+l}function hl(l){const c={};for(const d of l.split(","))c[d]=!0;return c}function Xi(...l){const c={};for(const d of l)for(const A in d)d.hasOwnProperty(A)&&(c[A]=!0);return c}const hs=hl("area,br,col,hr,img,wbr"),bp=hl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rv=hl("rp,rt"),wd=Xi(hs,Xi(bp,hl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xi(rv,hl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xi(rv,bp)),T_=hl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),sA=Xi(T_,hl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),hl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sv=hl("script,style,template");class ov{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let d=c.firstChild,A=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?A=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,A&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let p=this.checkClobberedElement(d,d.nextSibling);if(p){d=p;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(c){const d=c.nodeName.toLowerCase();if(!wd.hasOwnProperty(d))return this.sanitizedSomething=!0,!sv.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const A=c.attributes;for(let p=0;p<A.length;p++){const v=A.item(p),T=v.name,R=T.toLowerCase();if(!sA.hasOwnProperty(R)){this.sanitizedSomething=!0;continue}let P=v.value;T_[R]&&(P=Nl(P)),this.buf.push(" ",T,'="',B_(P),'"')}return this.buf.push(">"),!0}endElement(c){const d=c.nodeName.toLowerCase();wd.hasOwnProperty(d)&&!hs.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(c){this.buf.push(B_(c))}checkClobberedElement(c,d){if(d&&(c.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return d}}const Cd=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,oA=/([^\#-~ |!])/g;function B_(l){return l.replace(/&/g,"&amp;").replace(Cd,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(oA,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let sm;function aA(l,c){let d=null;try{sm=sm||function im(l){const c=new bn(l);return function wp(){try{return!!(new window.DOMParser).parseFromString(nc(""),"text/html")}catch{return!1}}()?new vp(c):c}(l);let A=c?String(c):"";d=sm.getInertBodyElement(A);let p=5,v=A;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,A=v,v=d.innerHTML,d=sm.getInertBodyElement(A)}while(A!==v);return nc((new ov).sanitizeChildren(x(d)||d))}finally{if(d){const A=x(d)||d;for(;A.firstChild;)A.removeChild(A.firstChild)}}}function x(l){return"content"in l&&function g(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var m=(()=>((m=m||{})[m.NONE=0]="NONE",m[m.HTML=1]="HTML",m[m.STYLE=2]="STYLE",m[m.SCRIPT=3]="SCRIPT",m[m.URL=4]="URL",m[m.RESOURCE_URL=5]="RESOURCE_URL",m))();function z(l){const c=xc();return c?c.sanitize(m.URL,l)||"":oh(l,"URL")?ic(l):Nl(St(l))}function ge(l){const c=xc();if(c)return yp(c.sanitize(m.RESOURCE_URL,l)||"");if(oh(l,"ResourceURL"))return yp(ic(l));throw new yt(904,!1)}function fn(l,c,d){return function tn(l,c){return"src"===c&&("embed"===l||"frame"===l||"iframe"===l||"media"===l||"script"===l)||"href"===c&&("base"===l||"link"===l)?ge:z}(c,d)(l)}function xc(){const l=Rt();return l&&l[12]}const sf=new qr("ENVIRONMENT_INITIALIZER"),xp=new qr("INJECTOR",-1),F_=new qr("INJECTOR_DEF_TYPES");class om{get(c,d=Ai){if(d===Ai){const A=new Error(`NullInjectorError: No provider for ${Tt(c)}!`);throw A.name="NullInjectorError",A}return d}}function M_(l){return{\u0275providers:l}}function av(...l){return{\u0275providers:am(0,l),\u0275fromNgModule:!0}}function am(l,...c){const d=[],A=new Set;let p;return Pa(c,v=>{const T=v;af(T,d,[],A)&&(p||(p=[]),p.push(T))}),void 0!==p&&lm(p,d),d}function lm(l,c){for(let d=0;d<l.length;d++){const{providers:p}=l[d];lA(p,v=>{c.push(v)})}}function af(l,c,d,A){if(!(l=Ge(l)))return!1;let p=null,v=Ps(l);const T=!v&&mi(l);if(v||T){if(T&&!T.standalone)return!1;p=l}else{const P=l.ngModule;if(v=Ps(P),!v)return!1;p=P}const R=A.has(p);if(T){if(R)return!1;if(A.add(p),T.dependencies){const P="function"==typeof T.dependencies?T.dependencies():T.dependencies;for(const G of P)af(G,c,d,A)}}else{if(!v)return!1;{if(null!=v.imports&&!R){let G;A.add(p);try{Pa(v.imports,ee=>{af(ee,c,d,A)&&(G||(G=[]),G.push(ee))})}finally{}void 0!==G&&lm(G,c)}if(!R){const G=ta(p)||(()=>new p);c.push({provide:p,useFactory:G,deps:fi},{provide:F_,useValue:p,multi:!0},{provide:sf,useValue:()=>kr(p),multi:!0})}const P=v.providers;null==P||R||lA(P,ee=>{c.push(ee)})}}return p!==l&&void 0!==l.providers}function lA(l,c){for(let d of l)Qt(d)&&(d=d.\u0275providers),Array.isArray(d)?lA(d,c):c(d)}const cm=vt({provide:String,useValue:vt});function hw(l){return null!==l&&"object"==typeof l&&cm in l}function Ep(l){return"function"==typeof l}const cv=new qr("Set Injector scope."),b={},w={};let S;function E(){return void 0===S&&(S=new om),S}class L{}class j extends L{constructor(c,d,A,p){super(),this.parent=d,this.source=A,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ln(c,T=>this.processProvider(T)),this.records.set(xp,He(void 0,this)),p.has("environment")&&this.records.set(L,He(void 0,this));const v=this.records.get(cv);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(F_.multi,fi,Wn.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const d=po(this),A=Kr(void 0);try{return c()}finally{po(d),Kr(A)}}get(c,d=Ai,A=Wn.Default){this.assertNotDestroyed(),A=Aa(A);const p=po(this),v=Kr(void 0);try{if(!(A&Wn.SkipSelf)){let R=this.records.get(c);if(void 0===R){const P=function Ln(l){return"function"==typeof l||"object"==typeof l&&l instanceof qr}(c)&&El(c);R=P&&this.injectableDefInScope(P)?He(J(c),b):null,this.records.set(c,R)}if(null!=R)return this.hydrate(c,R)}return(A&Wn.Self?E():this.parent).get(c,d=A&Wn.Optional&&d===Ai?null:d)}catch(T){if("NullInjectorError"===T.name){if((T[Qs]=T[Qs]||[]).unshift(Tt(c)),p)throw T;return function Ce(l,c,d,A){const p=l[Qs];throw c[uu]&&p.unshift(c[uu]),l.message=function ve(l,c,d,A=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.slice(2):l;let p=Tt(c);if(Array.isArray(c))p=c.map(Tt).join(" -> ");else if("object"==typeof c){let v=[];for(let T in c)if(c.hasOwnProperty(T)){let R=c[T];v.push(T+":"+("string"==typeof R?JSON.stringify(R):Tt(R)))}p=`{${v.join(", ")}}`}return`${d}${A?"("+A+")":""}[${p}]: ${l.replace(Yo,"\n  ")}`}("\n"+l.message,p,d,A),l.ngTokenPath=p,l[Qs]=null,l}(T,c,"R3InjectorError",this.source)}throw T}finally{Kr(v),po(p)}}resolveInjectorInitializers(){const c=po(this),d=Kr(void 0);try{const A=this.get(sf.multi,fi,Wn.Self);for(const p of A)p()}finally{po(c),Kr(d)}}toString(){const c=[],d=this.records;for(const A of d.keys())c.push(Tt(A));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new yt(205,!1)}processProvider(c){let d=Ep(c=Ge(c))?c:Ge(c&&c.provide);const A=function le(l){return hw(l)?He(void 0,l.useValue):He(Fe(l),b)}(c);if(Ep(c)||!0!==c.multi)this.records.get(d);else{let p=this.records.get(d);p||(p=He(void 0,b,!0),p.factory=()=>rl(p.multi),this.records.set(d,p)),d=c,p.multi.push(c)}this.records.set(d,A)}hydrate(c,d){return d.value===b&&(d.value=w,d.value=d.factory()),"object"==typeof d.value&&d.value&&function Dt(l){return null!==l&&"object"==typeof l&&"function"==typeof l.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(c){if(!c.providedIn)return!1;const d=Ge(c.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}}function J(l){const c=El(l),d=null!==c?c.factory:ta(l);if(null!==d)return d;if(l instanceof qr)throw new yt(204,!1);if(l instanceof Function)return function ce(l){const c=l.length;if(c>0)throw gr(c,"?"),new yt(204,!1);const d=function us(l){const c=l&&(l[Sl]||l[Mr]);if(c){const d=function uc(l){if(l.hasOwnProperty("name"))return l.name;const c=(""+l).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(l);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),c}return null}(l);return null!==d?()=>d.factory(l):()=>new l}(l);throw new yt(204,!1)}function Fe(l,c,d){let A;if(Ep(l)){const p=Ge(l);return ta(p)||J(p)}if(hw(l))A=()=>Ge(l.useValue);else if(function pC(l){return!(!l||!l.useFactory)}(l))A=()=>l.useFactory(...rl(l.deps||[]));else if(function fC(l){return!(!l||!l.useExisting)}(l))A=()=>kr(Ge(l.useExisting));else{const p=Ge(l&&(l.useClass||l.provide));if(!function Je(l){return!!l.deps}(l))return ta(p)||J(p);A=()=>new p(...rl(l.deps))}return A}function He(l,c,d=!1){return{factory:l,value:c,multi:d?[]:void 0}}function ln(l,c){for(const d of l)Array.isArray(d)?ln(d,c):d&&Qt(d)?ln(d.\u0275providers,c):c(d)}class En{}class Zi{}class er{resolveComponentFactory(c){throw function ii(l){const c=Error(`No component factory found for ${Tt(l)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=l,c}(c)}}let gi=(()=>{class l{}return l.NULL=new er,l})();function Mn(){return dr(Ds(),Rt())}function dr(l,c){return new sr(yo(l,c))}let sr=(()=>{class l{constructor(d){this.nativeElement=d}}return l.__NG_ELEMENT_ID__=Mn,l})();function Bi(l){return l instanceof sr?l.nativeElement:l}class Ho{}let Ec=(()=>{class l{}return l.__NG_ELEMENT_ID__=()=>function Yc(){const l=Rt(),d=Is(Ds().index,l);return(ur(d)?d:l)[11]}(),l})(),as=(()=>{class l{}return l.\u0275prov=cr({token:l,providedIn:"root",factory:()=>null}),l})();class za{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const cA=new za("15.0.2"),Al={};function Wc(l){return l.ngOriginalError}class fl{constructor(){this._console=console}handleError(c){const d=this._findOriginalError(c);this._console.error("ERROR",c),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(c){let d=c&&Wc(c);for(;d&&Wc(d);)d=Wc(d);return d||null}}function Tp(l){return l instanceof Function?l():l}function GE(l,c,d){let A=l.length;for(;;){const p=l.indexOf(c,d);if(-1===p)return p;if(0===p||l.charCodeAt(p-1)<=32){const v=c.length;if(p+v===A||l.charCodeAt(p+v)<=32)return p}d=p+1}}const y2="ng-template";function RO(l,c,d){let A=0;for(;A<l.length;){let p=l[A++];if(d&&"class"===p){if(p=l[A],-1!==GE(p.toLowerCase(),c,0))return!0}else if(1===p){for(;A<l.length&&"string"==typeof(p=l[A++]);)if(p.toLowerCase()===c)return!0;return!1}}return!1}function v2(l){return 4===l.type&&l.value!==y2}function OO(l,c,d){return c===(4!==l.type||d?l.value:y2)}function w2(l,c,d){let A=4;const p=l.attrs||[],v=function PO(l){for(let c=0;c<l.length;c++)if(Rh(l[c]))return c;return l.length}(p);let T=!1;for(let R=0;R<c.length;R++){const P=c[R];if("number"!=typeof P){if(!T)if(4&A){if(A=2|1&A,""!==P&&!OO(l,P,d)||""===P&&1===c.length){if(Bs(A))return!1;T=!0}}else{const G=8&A?P:c[++R];if(8&A&&null!==l.attrs){if(!RO(l.attrs,G,d)){if(Bs(A))return!1;T=!0}continue}const fe=LO(8&A?"class":P,p,v2(l),d);if(-1===fe){if(Bs(A))return!1;T=!0;continue}if(""!==G){let ke;ke=fe>v?"":p[fe+1].toLowerCase();const tt=8&A?ke:null;if(tt&&-1!==GE(tt,G,0)||2&A&&G!==ke){if(Bs(A))return!1;T=!0}}}}else{if(!T&&!Bs(A)&&!Bs(P))return!1;if(T&&Bs(P))continue;T=!1,A=P|1&A}}return Bs(A)||T}function Bs(l){return 0==(1&l)}function LO(l,c,d,A){if(null===c)return-1;let p=0;if(A||!d){let v=!1;for(;p<c.length;){const T=c[p];if(T===l)return p;if(3===T||6===T)v=!0;else{if(1===T||2===T){let R=c[++p];for(;"string"==typeof R;)R=c[++p];continue}if(4===T)break;if(0===T){p+=4;continue}}p+=v?1:2}return-1}return function b2(l,c){let d=l.indexOf(4);if(d>-1)for(d++;d<l.length;){const A=l[d];if("number"==typeof A)return-1;if(A===c)return d;d++}return-1}(c,l)}function dv(l,c,d=!1){for(let A=0;A<c.length;A++)if(w2(l,c[A],d))return!0;return!1}function vQ(l,c){e:for(let d=0;d<c.length;d++){const A=c[d];if(l.length===A.length){for(let p=0;p<l.length;p++)if(l[p]!==A[p])continue e;return!0}}return!1}function UO(l,c){return l?":not("+c.trim()+")":c}function QO(l){let c=l[0],d=1,A=2,p="",v=!1;for(;d<l.length;){let T=l[d];if("string"==typeof T)if(2&A){const R=l[++d];p+="["+T+(R.length>0?'="'+R+'"':"")+"]"}else 8&A?p+="."+T:4&A&&(p+=" "+T);else""!==p&&!Bs(T)&&(c+=UO(v,p),p=""),A=T,v=v||!Bs(A);d++}return""!==p&&(c+=UO(v,p)),c}const Fi={};function HO(l){qE(Ki(),Rt(),ia()+l,!1)}function qE(l,c,d,A){if(!A)if(3==(3&c[2])){const v=l.preOrderCheckHooks;null!==v&&jd(c,v,d)}else{const v=l.preOrderHooks;null!==v&&gc(c,v,0,d)}Oa(d)}function E2(l,c=null,d=null,A){const p=S2(l,c,d,A);return p.resolveInjectorInitializers(),p}function S2(l,c=null,d=null,A,p=new Set){const v=[d||fi,av(l)];return A=A||("object"==typeof l?void 0:Tt(l)),new j(v,c||E(),A||null,p)}let dm=(()=>{class l{static create(d,A){if(Array.isArray(d))return E2({name:""},A,d,"");{const p=d.name??"";return E2({name:p},d.parent,d.providers,p)}}}return l.THROW_IF_NOT_FOUND=Ai,l.NULL=new om,l.\u0275prov=cr({token:l,providedIn:"any",factory:()=>kr(xp)}),l.__NG_ELEMENT_ID__=-1,l})();function O_(l,c=Wn.Default){const d=Rt();return null===d?kr(l,c):Zd(Ds(),d,Ge(l),c)}function eS(){throw new Error("invalid")}function Av(l,c){const d=l.contentQueries;if(null!==d)for(let A=0;A<d.length;A+=2){const p=d[A],v=d[A+1];if(-1!==v){const T=l.data[v];zc(p),T.contentQueries(2,c[v],v)}}}function fv(l,c,d,A,p,v,T,R,P,G,ee){const fe=c.blueprint.slice();return fe[0]=p,fe[2]=76|A,(null!==ee||l&&1024&l[2])&&(fe[2]|=1024),xg(fe),fe[3]=fe[15]=l,fe[8]=d,fe[10]=T||l&&l[10],fe[11]=R||l&&l[11],fe[12]=P||l&&l[12]||null,fe[9]=G||l&&l[9]||null,fe[6]=v,fe[20]=function gt(){return qe++}(),fe[21]=ee,fe[16]=2==c.type?l[16]:fe,fe}function Bp(l,c,d,A,p){let v=l.data[c];if(null===v)v=function mC(l,c,d,A,p){const v=Th(),T=Fl(),P=l.data[c]=function FQ(l,c,d,A,p,v){return{type:d,index:A,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?v:v&&v.parent,d,c,A,p);return null===l.firstChild&&(l.firstChild=P),null!==v&&(T?null==v.child&&null!==P.parent&&(v.child=P):null===v.next&&(v.next=P)),P}(l,c,d,A,p),function Ig(){return Si.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=d,v.value=A,v.attrs=p;const T=function Ma(){const l=Si.lFrame,c=l.currentTNode;return l.isParent?c:c.parent}();v.injectorIndex=null===T?-1:T.injectorIndex}return js(v,!0),v}function L_(l,c,d,A){if(0===d)return-1;const p=c.length;for(let v=0;v<d;v++)c.push(A),l.blueprint.push(A),l.data.push(null);return p}function hm(l,c,d){qf(c);try{const A=l.viewQuery;null!==A&&wC(1,A,d);const p=l.template;null!==p&&F2(l,c,p,1,d),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&Av(l,c),l.staticViewQueries&&wC(2,l.viewQuery,d);const v=l.components;null!==v&&function tS(l,c){for(let d=0;d<c.length;d++)PQ(l,c[d])}(c,v)}catch(A){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),A}finally{c[2]&=-5,rd()}}function pw(l,c,d,A){const p=c[2];if(128!=(128&p)){qf(c);try{xg(c),function LA(l){return Si.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==d&&F2(l,c,d,2,A);const T=3==(3&p);if(T){const G=l.preOrderCheckHooks;null!==G&&jd(c,G,null)}else{const G=l.preOrderHooks;null!==G&&gc(c,G,0,null),od(c,0)}if(function LQ(l){for(let c=C_(l);null!==c;c=qg(c)){if(!c[2])continue;const d=c[9];for(let A=0;A<d.length;A++){const p=d[A],v=p[3];0==(512&p[2])&&Wl(v,1),p[2]|=512}}}(c),function OQ(l){for(let c=C_(l);null!==c;c=qg(c))for(let d=10;d<c.length;d++){const A=c[d],p=A[1];_u(A)&&pw(p,A,p.template,A[8])}}(c),null!==l.contentQueries&&Av(l,c),T){const G=l.contentCheckHooks;null!==G&&jd(c,G)}else{const G=l.contentHooks;null!==G&&gc(c,G,1),od(c,1)}!function XO(l,c){const d=l.hostBindingOpCodes;if(null!==d)try{for(let A=0;A<d.length;A++){const p=d[A];if(p<0)Oa(~p);else{const v=p,T=d[++A],R=d[++A];pc(T,v),R(2,c[v])}}}finally{Oa(-1)}}(l,c);const R=l.components;null!==R&&function Ka(l,c){for(let d=0;d<c.length;d++)NQ(l,c[d])}(c,R);const P=l.viewQuery;if(null!==P&&wC(2,P,A),T){const G=l.viewCheckHooks;null!==G&&jd(c,G)}else{const G=l.viewHooks;null!==G&&gc(c,G,2),od(c,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),c[2]&=-41,512&c[2]&&(c[2]&=-513,Wl(c[3],-1))}finally{rd()}}}function F2(l,c,d,A,p){const v=ia(),T=2&A;try{Oa(-1),T&&c.length>22&&qE(l,c,22,!1),d(A,p)}finally{Oa(v)}}function nS(l,c,d){if(Eh(c)){const p=c.directiveEnd;for(let v=c.directiveStart;v<p;v++){const T=l.data[v];T.contentQueries&&T.contentQueries(1,d[v],v)}}}function _C(l,c,d){!Gf()||(function O2(l,c,d,A){const p=d.directiveStart,v=d.directiveEnd;l.firstCreatePass||qc(d,c),Zs(A,c);const T=d.initialInputs;for(let R=p;R<v;R++){const P=l.data[R],G=Vs(P);G&&oL(c,d,P);const ee=$d(c,l,R,d);Zs(ee,c),null!==T&&aL(0,R-p,ee,P,0,T),G&&(Is(d.index,c)[8]=ee)}}(l,c,d,yo(d,c)),64==(64&d.flags)&&oS(l,c,d))}function N_(l,c,d=yo){const A=c.localNames;if(null!==A){let p=c.index+1;for(let v=0;v<A.length;v+=2){const T=A[v+1],R=-1===T?d(c,l):l[T];l[p++]=R}}}function M2(l){const c=l.tView;return null===c||c.incompleteFirstPass?l.tView=yC(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts):c}function yC(l,c,d,A,p,v,T,R,P,G){const ee=22+A,fe=ee+p,ke=function TQ(l,c){const d=[];for(let A=0;A<c;A++)d.push(A<l?null:Fi);return d}(ee,fe),tt="function"==typeof G?G():G;return ke[1]={type:l,blueprint:ke,template:d,queries:null,viewQuery:R,declTNode:c,data:ke.slice().fill(null,ee),bindingStartIndex:ee,expandoStartIndex:fe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:P,consts:tt,incompleteFirstPass:!1}}function eL(l,c,d,A){const p=uL(c);null===d?p.push(A):(p.push(d),l.firstCreatePass&&cS(l).push(A,p.length-1))}function tL(l,c,d,A){for(let p in l)if(l.hasOwnProperty(p)){d=null===d?{}:d;const v=l[p];null===A?nL(d,c,p,v):A.hasOwnProperty(p)&&nL(d,c,A[p],v)}return d}function nL(l,c,d,A){l.hasOwnProperty(d)?l[d].push(c,A):l[d]=[c,A]}function Ou(l,c,d,A,p,v,T,R){const P=yo(c,d);let ee,G=c.inputs;!R&&null!=G&&(ee=G[A])?(uS(l,d,ee,A,p),IA(c)&&k2(d,c.index)):3&c.type&&(A=function rL(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(A),p=null!=T?T(p,c.value||"",A):p,v.setProperty(P,A,p))}function k2(l,c){const d=Is(c,l);16&d[2]||(d[2]|=32)}function iS(l,c,d,A){let p=!1;if(Gf()){const v=null===A?null:{"":-1},T=function N2(l,c){const d=l.directiveRegistry;let A=null,p=null;if(d)for(let v=0;v<d.length;v++){const T=d[v];if(dv(c,T.selectors,!1))if(A||(A=[]),Vs(T))if(null!==T.findHostDirectiveDefs){const R=[];p=p||new Map,T.findHostDirectiveDefs(T,R,p),A.unshift(...R,T),aS(l,c,R.length)}else A.unshift(T),aS(l,c,0);else p=p||new Map,T.findHostDirectiveDefs?.(T,A,p),A.push(T)}return null===A?null:[A,p]}(l,d);let R,P;null===T?R=P=null:[R,P]=T,null!==R&&(p=!0,rS(l,c,d,R,v,P)),v&&function sL(l,c,d){if(c){const A=l.localNames=[];for(let p=0;p<c.length;p+=2){const v=d[c[p+1]];if(null==v)throw new yt(-301,!1);A.push(c[p],v)}}}(d,A,v)}return d.mergedAttrs=Cu(d.mergedAttrs,d.attrs),p}function rS(l,c,d,A,p,v){for(let G=0;G<A.length;G++)os(qc(d,c),l,A[G].type);!function _a(l,c,d){l.flags|=1,l.directiveStart=c,l.directiveEnd=c+d,l.providerIndexes=c}(d,l.data.length,A.length);for(let G=0;G<A.length;G++){const ee=A[G];ee.providersResolver&&ee.providersResolver(ee)}let T=!1,R=!1,P=L_(l,c,A.length,null);for(let G=0;G<A.length;G++){const ee=A[G];d.mergedAttrs=Cu(d.mergedAttrs,ee.hostAttrs),pv(l,d,c,P,ee),RQ(P,ee,p),null!==ee.contentQueries&&(d.flags|=4),(null!==ee.hostBindings||null!==ee.hostAttrs||0!==ee.hostVars)&&(d.flags|=64);const fe=ee.type.prototype;!T&&(fe.ngOnChanges||fe.ngOnInit||fe.ngDoCheck)&&((l.preOrderHooks||(l.preOrderHooks=[])).push(d.index),T=!0),!R&&(fe.ngOnChanges||fe.ngDoCheck)&&((l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(d.index),R=!0),P++}!function iL(l,c,d){const p=c.directiveEnd,v=l.data,T=c.attrs,R=[];let P=null,G=null;for(let ee=c.directiveStart;ee<p;ee++){const fe=v[ee],ke=d?d.get(fe):null,kt=ke?ke.outputs:null;P=tL(fe.inputs,ee,P,ke?ke.inputs:null),G=tL(fe.outputs,ee,G,kt);const cn=null===P||null===T||v2(c)?null:lL(P,ee,T);R.push(cn)}null!==P&&(P.hasOwnProperty("class")&&(c.flags|=8),P.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=R,c.inputs=P,c.outputs=G}(l,d,v)}function oS(l,c,d){const A=d.directiveStart,p=d.directiveEnd,v=d.index,T=function zf(){return Si.lFrame.currentDirectiveIndex}();try{Oa(v);for(let R=A;R<p;R++){const P=l.data[R],G=c[R];yu(R),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&L2(P,G)}}finally{Oa(-1),yu(T)}}function L2(l,c){null!==l.hostBindings&&l.hostBindings(1,c)}function aS(l,c,d){c.componentOffset=d,(l.components||(l.components=[])).push(c.index)}function RQ(l,c,d){if(d){if(c.exportAs)for(let A=0;A<c.exportAs.length;A++)d[c.exportAs[A]]=l;Vs(c)&&(d[""]=l)}}function pv(l,c,d,A,p){l.data[A]=p;const v=p.factory||(p.factory=ta(p.type)),T=new Gd(v,Vs(p),O_);l.blueprint[A]=T,d[A]=T,function sS(l,c,d,A,p){const v=p.hostBindings;if(v){let T=l.hostBindingOpCodes;null===T&&(T=l.hostBindingOpCodes=[]);const R=~c.index;(function R2(l){let c=l.length;for(;c>0;){const d=l[--c];if("number"==typeof d&&d<0)return d}return 0})(T)!=R&&T.push(R),T.push(d,A,v)}}(l,c,A,L_(l,d,p.hostVars,Fi),p)}function oL(l,c,d){const A=yo(c,l),p=M2(d),v=l[10],T=gv(l,fv(l,p,null,d.onPush?32:16,A,c,v,v.createRenderer(A,d),null,null,null));l[c.index]=T}function Fp(l,c,d,A,p,v){const T=yo(l,c);!function vC(l,c,d,A,p,v,T){if(null==v)l.removeAttribute(c,p,d);else{const R=null==T?St(v):T(v,A||"",p);l.setAttribute(c,p,R,d)}}(c[11],T,v,l.value,d,A,p)}function aL(l,c,d,A,p,v){const T=v[c];if(null!==T){const R=A.setInput;for(let P=0;P<T.length;){const G=T[P++],ee=T[P++],fe=T[P++];null!==R?A.setInput(d,fe,G,ee):d[ee]=fe}}}function lL(l,c,d){let A=null,p=0;for(;p<d.length;){const v=d[p];if(0!==v)if(5!==v){if("number"==typeof v)break;if(l.hasOwnProperty(v)){null===A&&(A=[]);const T=l[v];for(let R=0;R<T.length;R+=2)if(T[R]===c){A.push(v,T[R+1],d[p+1]);break}}p+=2}else p+=2;else p+=4}return A}function cL(l,c,d,A){return[l,!0,!1,c,null,0,A,d,null,null]}function NQ(l,c){const d=Is(c,l);if(_u(d)){const A=d[1];48&d[2]?pw(A,d,A.template,d[8]):d[5]>0&&lS(d)}}function lS(l){for(let A=C_(l);null!==A;A=qg(A))for(let p=10;p<A.length;p++){const v=A[p];if(_u(v))if(512&v[2]){const T=v[1];pw(T,v,T.template,v[8])}else v[5]>0&&lS(v)}const d=l[1].components;if(null!==d)for(let A=0;A<d.length;A++){const p=Is(d[A],l);_u(p)&&p[5]>0&&lS(p)}}function PQ(l,c){const d=Is(c,l),A=d[1];(function UQ(l,c){for(let d=c.length;d<l.blueprint.length;d++)c.push(l.blueprint[d])})(A,d),hm(A,d,d[8])}function gv(l,c){return l[13]?l[14][4]=c:l[13]=c,l[14]=c,c}function gw(l){for(;l;){l[2]|=32;const c=cp(l);if(r_(l)&&!c)return l;l=c}return null}function mw(l,c,d,A=!0){const p=c[10];p.begin&&p.begin();try{pw(l,c,l.template,d)}catch(T){throw A&&mv(c,T),T}finally{p.end&&p.end()}}function wC(l,c,d){zc(0),c(l,d)}function uL(l){return l[7]||(l[7]=[])}function cS(l){return l.cleanup||(l.cleanup=[])}function dL(l,c,d){return(null===l||Vs(l))&&(d=function ed(l){for(;Array.isArray(l);){if("object"==typeof l[1])return l;l=l[0]}return null}(d[c.index])),d[11]}function mv(l,c){const d=l[9],A=d?d.get(fl,null):null;A&&A.handleError(c)}function uS(l,c,d,A,p){for(let v=0;v<d.length;){const T=d[v++],R=d[v++],P=c[T],G=l.data[T];null!==G.setInput?G.setInput(P,p,A,R):P[R]=p}}function dA(l,c,d){const A=Vd(c,l);!function Zg(l,c,d){l.setValue(c,d)}(l[11],A,d)}function Fs(l,c,d){let A=d?l.styles:null,p=d?l.classes:null,v=0;if(null!==c)for(let T=0;T<c.length;T++){const R=c[T];"number"==typeof R?v=R:1==v?p=ut(p,R):2==v&&(A=ut(A,R+": "+c[++T]+";"))}d?l.styles=A:l.stylesWithoutHost=A,d?l.classes=p:l.classesWithoutHost=p}function bC(l,c,d,A,p=!1){for(;null!==d;){const v=c[d.index];if(null!==v&&A.push(_o(v)),Bl(v))for(let R=10;R<v.length;R++){const P=v[R],G=P[1].firstChild;null!==G&&bC(P[1],P,G,A)}const T=d.type;if(8&T)bC(l,c,d.child,A);else if(32&T){const R=lp(d,c);let P;for(;P=R();)A.push(P)}else if(16&T){const R=Jh(c,d);if(Array.isArray(R))A.push(...R);else{const P=cp(c[16]);bC(P[1],P,R,A,!0)}}d=p?d.projectionNext:d.next}return A}class cf{constructor(c,d){this._lView=c,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,d=c[1];return bC(d,c,d.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(Bl(c)){const d=c[8],A=d?d.indexOf(this):-1;A>-1&&(Zh(c,A),nn(d,A))}this._attachedToViewContainer=!1}ih(this._lView[1],this._lView)}onDestroy(c){eL(this._lView[1],this._lView,null,c)}markForCheck(){gw(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){mw(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new yt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qh(l,c){ku(l,c,c[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new yt(902,!1);this._appRef=c}}class P2 extends cf{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;mw(c[1],c,c[8],!1)}checkNoChanges(){}get context(){return null}}class dS extends gi{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const d=mi(c);return new Am(d,this.ngModule)}}function _v(l){const c=[];for(let d in l)l.hasOwnProperty(d)&&c.push({propName:l[d],templateName:d});return c}class yw{constructor(c,d){this.injector=c,this.parentInjector=d}get(c,d,A){A=Aa(A);const p=this.injector.get(c,Al,A);return p!==Al||d===Al?p:this.parentInjector.get(c,d,A)}}class Am extends Zi{constructor(c,d){super(),this.componentDef=c,this.ngModule=d,this.componentType=c.type,this.selector=function zE(l){return l.map(QO).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return _v(this.componentDef.inputs)}get outputs(){return _v(this.componentDef.outputs)}create(c,d,A,p){let v=(p=p||this.ngModule)instanceof L?p:p?.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const T=v?new yw(c,v):c,R=T.get(Ho,null);if(null===R)throw new yt(407,!1);const P=T.get(as,null),G=R.createRenderer(null,this.componentDef),ee=this.componentDef.selectors[0][0]||"div",fe=A?function BQ(l,c,d){return l.selectRootElement(c,d===Vn.ShadowDom)}(G,A,this.componentDef.encapsulation):$g(G,ee,function hL(l){const c=l.toLowerCase();return"svg"===c?"svg":"math"===c?"math":null}(ee)),ke=this.componentDef.onPush?288:272,tt=yC(0,null,null,1,0,null,null,null,null,null),kt=fv(null,tt,null,ke,null,null,R,G,P,T,null);let cn,Sn;qf(kt);try{const zn=this.componentDef;let ci,jt=null;zn.findHostDirectiveDefs?(ci=[],jt=new Map,zn.findHostDirectiveDefs(zn,ci,jt),ci.push(zn)):ci=[zn];const Qi=function vw(l,c){const d=l[1];return l[22]=c,Bp(d,22,2,"#host",null)}(kt,fe),Do=function hS(l,c,d,A,p,v,T,R){const P=p[1];!function fL(l,c,d,A){for(const p of l)c.mergedAttrs=Cu(c.mergedAttrs,p.hostAttrs);null!==c.mergedAttrs&&(Fs(c,c.mergedAttrs,!0),null!==d&&Xh(A,d,c))}(A,l,c,T);const G=v.createRenderer(c,d),ee=fv(p,M2(d),null,d.onPush?32:16,p[l.index],l,v,G,R||null,null,null);return P.firstCreatePass&&aS(P,l,A.length-1),gv(p,ee),p[l.index]=ee}(Qi,fe,zn,ci,kt,R,G);Sn=RA(tt,22),fe&&function AS(l,c,d,A){if(A)ga(l,d,["ng-version",cA.full]);else{const{attrs:p,classes:v}=function C2(l){const c=[],d=[];let A=1,p=2;for(;A<l.length;){let v=l[A];if("string"==typeof v)2===p?""!==v&&c.push(v,l[++A]):8===p&&d.push(v);else{if(!Bs(p))break;p=v}A++}return{attrs:c,classes:d}}(c.selectors[0]);p&&ga(l,d,p),v&&v.length>0&&Xg(l,d,v.join(" "))}}(G,zn,fe,A),void 0!==d&&function U_(l,c,d){const A=l.projection=[];for(let p=0;p<c.length;p++){const v=d[p];A.push(null!=v?Array.from(v):null)}}(Sn,this.ngContentSelectors,d),cn=function U2(l,c,d,A,p,v){const T=Ds(),R=p[1],P=yo(T,p);rS(R,p,T,d,null,A);for(let ee=0;ee<d.length;ee++)Zs($d(p,R,T.directiveStart+ee,T),p);oS(R,p,T),P&&Zs(P,p);const G=$d(p,R,T.directiveStart+T.componentOffset,T);if(l[8]=p[8]=G,null!==v)for(const ee of v)ee(G,c);return nS(R,T,l),G}(Do,zn,ci,jt,kt,[fS]),hm(tt,kt,null)}finally{rd()}return new P_(this.componentType,cn,dr(Sn,kt),kt,Sn)}}class P_ extends En{constructor(c,d,A,p,v){super(),this.location=A,this._rootLView=p,this._tNode=v,this.instance=d,this.hostView=this.changeDetectorRef=new P2(p),this.componentType=c}setInput(c,d){const A=this._tNode.inputs;let p;if(null!==A&&(p=A[c])){const v=this._rootLView;uS(v[1],v,p,c,d),k2(v,this._tNode.index)}}get injector(){return new Yd(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function fS(){const l=Ds();wu(Rt()[1],l)}function Q2(l){let c=function uf(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),d=!0;const A=[l];for(;c;){let p;if(Vs(l))p=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new yt(903,!1);p=c.\u0275dir}if(p){if(d){A.push(p);const T=l;T.inputs=Mp(l.inputs),T.declaredInputs=Mp(l.declaredInputs),T.outputs=Mp(l.outputs);const R=p.hostBindings;R&&yv(l,R);const P=p.viewQuery,G=p.contentQueries;if(P&&oo(l,P),G&&pS(l,G),Ke(l.inputs,p.inputs),Ke(l.declaredInputs,p.declaredInputs),Ke(l.outputs,p.outputs),Vs(p)&&p.data.animation){const ee=l.data;ee.animation=(ee.animation||[]).concat(p.data.animation)}}const v=p.features;if(v)for(let T=0;T<v.length;T++){const R=v[T];R&&R.ngInherit&&R(l),R===Q2&&(d=!1)}}c=Object.getPrototypeOf(c)}!function QQ(l){let c=0,d=null;for(let A=l.length-1;A>=0;A--){const p=l[A];p.hostVars=c+=p.hostVars,p.hostAttrs=Cu(p.hostAttrs,d=Cu(d,p.hostAttrs))}}(A)}function Mp(l){return l===wi?{}:l===fi?[]:l}function oo(l,c){const d=l.viewQuery;l.viewQuery=d?(A,p)=>{c(A,p),d(A,p)}:c}function pS(l,c){const d=l.contentQueries;l.contentQueries=d?(A,p,v)=>{c(A,p,v),d(A,p,v)}:c}function yv(l,c){const d=l.hostBindings;l.hostBindings=d?(A,p)=>{c(A,p),d(A,p)}:c}let CC=null;function rc(){if(!CC){const l=si.Symbol;if(l&&l.iterator)CC=l.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<c.length;++d){const A=c[d];"entries"!==A&&"size"!==A&&Map.prototype[A]===Map.prototype.entries&&(CC=A)}}}return CC}function Q_(l){return!!vv(l)&&(Array.isArray(l)||!(l instanceof Map)&&rc()in l)}function vv(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function hf(l,c,d){return l[c]=d}function Sc(l,c,d){return!Object.is(l[c],d)&&(l[c]=d,!0)}function V_(l,c,d,A){const p=Sc(l,c,d);return Sc(l,c+1,A)||p}function wv(l,c,d,A){const p=Rt();return Sc(p,ss(),c)&&(Ki(),Fp(Lr(),p,l,c,d,A)),wv}function Ed(l,c,d,A){return Sc(l,ss(),d)?c+St(d)+A:Fi}function bv(l,c,d,A,p,v){const R=V_(l,function Rl(){return Si.lFrame.bindingIndex}(),d,p);return Jl(2),R?c+St(d)+A+St(p)+v:Fi}function G2(l,c,d,A,p,v,T,R){const P=Rt(),G=Ki(),ee=l+22,fe=G.firstCreatePass?function j2(l,c,d,A,p,v,T,R,P){const G=c.consts,ee=Bp(c,l,4,T||null,$i(G,R));iS(c,d,ee,$i(G,P)),wu(c,ee);const fe=ee.tViews=yC(2,ee,A,p,v,c.directiveRegistry,c.pipeRegistry,null,c.schemas,G);return null!==c.queries&&(c.queries.template(c,ee),fe.queries=c.queries.embeddedTView(ee)),ee}(ee,G,P,c,d,A,p,v,T):G.data[ee];js(fe,!1);const ke=P[11].createComment("");WA(G,P,ke,fe),Zs(ke,P),gv(P,P[ee]=cL(ke,P,ke,fe)),DA(fe)&&_C(G,P,fe),null!=T&&N_(P,fe,R)}function Cw(l){return na(function Ml(){return Si.lFrame.contextLView}(),22+l)}function xw(l,c,d){const A=Rt();return Sc(A,ss(),c)&&Ou(Ki(),Lr(),A,l,c,A[11],d,!1),xw}function Ew(l,c,d,A,p){const T=p?"class":"style";uS(l,d,c.inputs[T],T,A)}function DC(l,c,d,A){const p=Rt(),v=Ki(),T=22+l,R=p[11],P=p[T]=$g(R,c,function Kf(){return Si.lFrame.currentNamespace}()),G=v.firstCreatePass?function vS(l,c,d,A,p,v,T){const R=c.consts,G=Bp(c,l,2,p,$i(R,v));return iS(c,d,G,$i(R,T)),null!==G.attrs&&Fs(G,G.attrs,!1),null!==G.mergedAttrs&&Fs(G,G.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,G),G}(T,v,p,0,c,d,A):v.data[T];return js(G,!0),Xh(R,P,G),32!=(32&G.flags)&&WA(v,p,P,G),0===function Eg(){return Si.lFrame.elementDepthCount}()&&Zs(P,p),function Fa(){Si.lFrame.elementDepthCount++}(),DA(G)&&(_C(v,p,G),nS(v,G,p)),null!==A&&N_(p,G),DC}function TC(){let l=Ds();Fl()?Bh():(l=l.parent,js(l,!1));const c=l;!function qi(){Si.lFrame.elementDepthCount--}();const d=Ki();return d.firstCreatePass&&(wu(d,l),Eh(l)&&d.queries.elementEnd(l)),null!=c.classesWithoutHost&&function Zf(l){return 0!=(8&l.flags)}(c)&&Ew(d,c,Rt(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function Og(l){return 0!=(16&l.flags)}(c)&&Ew(d,c,Rt(),c.stylesWithoutHost,!1),TC}function Sw(l,c,d,A){return DC(l,c,d,A),TC(),Sw}function BC(l,c,d){const A=Rt(),p=Ki(),v=l+22,T=p.firstCreatePass?function q2(l,c,d,A,p){const v=c.consts,T=$i(v,A),R=Bp(c,l,8,"ng-container",T);return null!==T&&Fs(R,T,!0),iS(c,d,R,$i(v,p)),null!==c.queries&&c.queries.elementStart(c,R),R}(v,p,A,c,d):p.data[v];js(T,!0);const R=A[v]=A[11].createComment("");return WA(p,A,R,T),Zs(R,A),DA(T)&&(_C(p,A,T),nS(p,T,A)),null!=d&&N_(A,T),BC}function pm(){let l=Ds();const c=Ki();return Fl()?Bh():(l=l.parent,js(l,!1)),c.firstCreatePass&&(wu(c,l),Eh(l)&&c.queries.elementEnd(l)),pm}function wS(l,c,d){return BC(l,c,d),pm(),wS}function xv(){return Rt()}function bS(l){return!!l&&"function"==typeof l.then}function K2(l){return!!l&&"function"==typeof l.subscribe}const Iw=K2;function Dw(l,c,d,A){const p=Rt(),v=Ki(),T=Ds();return CS(v,p,p[11],T,l,c,A),Dw}function FC(l,c){const d=Ds(),A=Rt(),p=Ki();return CS(p,A,dL(Gc(p.data),d,A),d,l,c),FC}function CS(l,c,d,A,p,v,T){const R=DA(A),G=l.firstCreatePass&&cS(l),ee=c[8],fe=uL(c);let ke=!0;if(3&A.type||T){const cn=yo(A,c),Sn=T?T(cn):cn,zn=fe.length,ci=T?Qi=>T(_o(Qi[A.index])):A.index;let jt=null;if(!T&&R&&(jt=function Z2(l,c,d,A){const p=l.cleanup;if(null!=p)for(let v=0;v<p.length-1;v+=2){const T=p[v];if(T===d&&p[v+1]===A){const R=c[7],P=p[v+2];return R.length>P?R[P]:null}"string"==typeof T&&(v+=2)}return null}(l,c,p,A.index)),null!==jt)(jt.__ngLastListenerFn__||jt).__ngNextListenerFn__=v,jt.__ngLastListenerFn__=v,ke=!1;else{v=MC(A,c,ee,v,!1);const Qi=d.listen(Sn,p,v);fe.push(v,Qi),G&&G.push(p,ci,zn,zn+1)}}else v=MC(A,c,ee,v,!1);const tt=A.outputs;let kt;if(ke&&null!==tt&&(kt=tt[p])){const cn=kt.length;if(cn)for(let Sn=0;Sn<cn;Sn+=2){const Do=c[kt[Sn]][kt[Sn+1]].subscribe(v),la=fe.length;fe.push(v,Do),G&&G.push(p,A.index,la,-(la+1))}}}function Tw(l,c,d,A){try{return!1!==d(A)}catch(p){return mv(l,p),!1}}function MC(l,c,d,A,p){return function v(T){if(T===Function)return A;gw(l.componentOffset>-1?Is(l.index,c):c);let P=Tw(c,0,A,T),G=v.__ngNextListenerFn__;for(;G;)P=Tw(c,0,G,T)&&P,G=G.__ngNextListenerFn__;return p&&!1===P&&(T.preventDefault(),T.returnValue=!1),P}}function kC(l=1){return function Fg(l){return(Si.lFrame.contextLView=function Mh(l,c){for(;l>0;)c=c[15],l--;return c}(l,Si.lFrame.contextLView))[8]}(l)}function xS(l,c){let d=null;const A=function NO(l){const c=l.attrs;if(null!=c){const d=c.indexOf(5);if(0==(1&d))return c[d+1]}return null}(l);for(let p=0;p<c.length;p++){const v=c[p];if("*"!==v){if(null===A?dv(l,v,!0):vQ(A,v))return p}else d=p}return d}function RC(l){const c=Rt()[16][6];if(!c.projection){const A=c.projection=gr(l?l.length:1,null),p=A.slice();let v=c.child;for(;null!==v;){const T=l?xS(v,l):0;null!==T&&(p[T]?p[T].projectionNext=v:A[T]=v,p[T]=v),v=v.next}}}function ES(l,c=0,d){const A=Rt(),p=Ki(),v=Bp(p,22+l,16,null,d||null);null===v.projection&&(v.projection=c),Bh(),32!=(32&v.flags)&&function sh(l,c,d){_d(c[11],0,c,d,Wg(l,d,c),Yh(d.parent||c[6],d,c))}(p,A,v)}function OC(l,c,d){return SS(l,"",c,"",d),OC}function SS(l,c,d,A,p){const v=Rt(),T=Ed(v,c,d,A);return T!==Fi&&Ou(Ki(),Lr(),v,l,T,v[11],p,!1),SS}function va(l,c){return l<<17|c<<2}function xo(l){return l>>17&32767}function FS(l){return 2|l}function q_(l){return(131068&l)>>2}function HC(l,c){return-131069&l|c<<2}function MS(l){return 1|l}function RS(l,c,d,A,p){const v=l[d+1],T=null===c;let R=A?xo(v):q_(v),P=!1;for(;0!==R&&(!1===P||T);){const ee=l[R+1];yL(l[R],c)&&(P=!0,l[R+1]=A?MS(ee):FS(ee)),R=A?xo(ee):q_(ee)}P&&(l[d+1]=A?FS(v):MS(v))}function yL(l,c){return null===l||null==c||(Array.isArray(l)?l[1]:l)===c||!(!Array.isArray(l)||"string"!=typeof c)&&ra(l,c)>=0}const oa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function VC(l){return l.substring(oa.key,oa.keyEnd)}function J2(l,c){const d=oa.textEnd;return d===c?-1:(c=oa.keyEnd=function jC(l,c,d){for(;c<d&&l.charCodeAt(c)>32;)c++;return c}(l,oa.key=c,d),K_(l,c,d))}function K_(l,c,d){for(;c<d&&l.charCodeAt(c)<=32;)c++;return c}function Op(l,c,d){return ao(l,c,d,!1),Op}function GC(l,c){return ao(l,c,null,!0),GC}function AA(l,c){for(let d=function W2(l){return function NS(l){oa.key=0,oa.keyEnd=0,oa.value=0,oa.valueEnd=0,oa.textEnd=l.length}(l),J2(l,K_(l,0,oa.textEnd))}(c);d>=0;d=J2(c,d))Ua(l,VC(c),!0)}function ao(l,c,d,A){const p=Rt(),v=Ki(),T=Jl(2);v.firstUpdatePass&&Mw(v,l,T,A),c!==Fi&&Sc(p,T,c)&&Iv(v,v.data[ia()],p,p[11],l,p[T+1]=function HS(l,c){return null==l||("string"==typeof c?l+=c:"object"==typeof l&&(l=Tt(ic(l)))),l}(c,d),A,T)}function Sv(l,c){return c>=l.expandoStartIndex}function Mw(l,c,d,A){const p=l.data;if(null===p[d+1]){const v=p[ia()],T=Sv(l,d);kw(v,A)&&null===c&&!T&&(c=!1),c=function nB(l,c,d,A){const p=Gc(l);let v=A?c.residualClasses:c.residualStyles;if(null===p)0===(A?c.classBindings:c.styleBindings)&&(d=$_(d=Z_(null,l,c,d,A),c.attrs,A),v=null);else{const T=c.directiveStylingLast;if(-1===T||l[T]!==p)if(d=Z_(p,l,c,d,A),null===v){let P=function PS(l,c,d){const A=d?c.classBindings:c.styleBindings;if(0!==q_(A))return l[xo(A)]}(l,c,A);void 0!==P&&Array.isArray(P)&&(P=Z_(null,l,c,P[1],A),P=$_(P,c.attrs,A),function iB(l,c,d,A){l[xo(d?c.classBindings:c.styleBindings)]=A}(l,c,A,P))}else v=function rB(l,c,d){let A;const p=c.directiveEnd;for(let v=1+c.directiveStylingLast;v<p;v++)A=$_(A,l[v].hostAttrs,d);return $_(A,c.attrs,d)}(l,c,A)}return void 0!==v&&(A?c.residualClasses=v:c.residualStyles=v),d}(p,v,c,A),function _L(l,c,d,A,p,v){let T=v?c.classBindings:c.styleBindings,R=xo(T),P=q_(T);l[A]=d;let ee,G=!1;if(Array.isArray(d)){const fe=d;ee=fe[1],(null===ee||ra(fe,ee)>0)&&(G=!0)}else ee=d;if(p)if(0!==P){const ke=xo(l[R+1]);l[A+1]=va(ke,R),0!==ke&&(l[ke+1]=HC(l[ke+1],A)),l[R+1]=function BS(l,c){return 131071&l|c<<17}(l[R+1],A)}else l[A+1]=va(R,0),0!==R&&(l[R+1]=HC(l[R+1],A)),R=A;else l[A+1]=va(P,0),0===R?R=A:l[P+1]=HC(l[P+1],A),P=A;G&&(l[A+1]=FS(l[A+1])),RS(l,ee,A,!0),RS(l,ee,A,!1),function kS(l,c,d,A,p){const v=p?l.residualClasses:l.residualStyles;null!=v&&"string"==typeof c&&ra(v,c)>=0&&(d[A+1]=MS(d[A+1]))}(c,ee,l,A,v),T=va(R,P),v?c.classBindings=T:c.styleBindings=T}(p,v,c,d,T,A)}}function Z_(l,c,d,A,p){let v=null;const T=d.directiveEnd;let R=d.directiveStylingLast;for(-1===R?R=d.directiveStart:R++;R<T&&(v=c[R],A=$_(A,v.hostAttrs,p),v!==l);)R++;return null!==l&&(d.directiveStylingLast=R),A}function $_(l,c,d){const A=d?1:2;let p=-1;if(null!==c)for(let v=0;v<c.length;v++){const T=c[v];"number"==typeof T?p=T:p===A&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),Ua(l,T,!!d||c[++v]))}return void 0===l?null:l}function Iv(l,c,d,A,p,v,T,R){if(!(3&c.type))return;const P=l.data,G=P[R+1],ee=function gL(l){return 1==(1&l)}(G)?QS(P,c,d,p,q_(G),T):void 0;KC(ee)||(KC(v)||function QC(l){return 2==(2&l)}(G)&&(v=QS(P,null,d,p,R,T)),function Cc(l,c,d,A,p){if(c)p?l.addClass(d,A):l.removeClass(d,A);else{let v=-1===A.indexOf("-")?void 0:so.DashCase;null==p?l.removeStyle(d,A,v):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),v|=so.Important),l.setStyle(d,A,p,v))}}(A,T,Vd(ia(),d),p,v))}function QS(l,c,d,A,p,v){const T=null===c;let R;for(;p>0;){const P=l[p],G=Array.isArray(P),ee=G?P[1]:P,fe=null===ee;let ke=d[p+1];ke===Fi&&(ke=fe?fi:void 0);let tt=fe?Hh(ke,A):ee===A?ke:void 0;if(G&&!KC(tt)&&(tt=Hh(P,A)),KC(tt)&&(R=tt,T))return R;const kt=l[p+1];p=T?xo(kt):q_(kt)}if(null!==c){let P=v?c.residualClasses:c.residualStyles;null!=P&&(R=Hh(P,A))}return R}function KC(l){return void 0!==l}function kw(l,c){return 0!=(l.flags&(c?8:16))}function ZC(l,c=""){const d=Rt(),A=Ki(),p=l+22,v=A.firstCreatePass?Bp(A,p,1,c,null):A.data[p],T=d[p]=function vc(l,c){return l.createText(c)}(d[11],c);WA(A,d,T,v),js(v,!1)}function $C(l){return Rw("",l,""),$C}function Rw(l,c,d){const A=Rt(),p=Ed(A,l,c,d);return p!==Fi&&dA(A,ia(),p),Rw}function YC(l,c,d,A,p){const v=Rt(),T=bv(v,l,c,d,A,p);return T!==Fi&&dA(v,ia(),T),YC}function oB(l,c,d){!function ch(l,c,d,A){const p=Ki(),v=Jl(2);p.firstUpdatePass&&Mw(p,null,v,A);const T=Rt();if(d!==Fi&&Sc(T,v,d)){const R=p.data[ia()];if(kw(R,A)&&!Sv(p,v)){let P=A?R.classesWithoutHost:R.stylesWithoutHost;null!==P&&(d=ut(P,d||"")),Ew(p,R,T,d,A)}else!function qC(l,c,d,A,p,v,T,R){p===Fi&&(p=fi);let P=0,G=0,ee=0<p.length?p[0]:null,fe=0<v.length?v[0]:null;for(;null!==ee||null!==fe;){const ke=P<p.length?p[P+1]:void 0,tt=G<v.length?v[G+1]:void 0;let cn,kt=null;ee===fe?(P+=2,G+=2,ke!==tt&&(kt=fe,cn=tt)):null===fe||null!==ee&&ee<fe?(P+=2,kt=ee):(G+=2,kt=fe,cn=tt),null!==kt&&Iv(l,c,d,A,kt,cn,T,R),ee=P<p.length?p[P]:null,fe=G<v.length?v[G]:null}}(p,R,T,T[11],T[v+1],T[v+1]=function US(l,c,d){if(null==d||""===d)return fi;const A=[],p=ic(d);if(Array.isArray(p))for(let v=0;v<p.length;v++)l(A,p[v],!0);else if("object"==typeof p)for(const v in p)p.hasOwnProperty(v)&&l(A,v,p[v]);else"string"==typeof p&&c(A,p);return A}(l,c,d),A,v)}}(Ua,AA,Ed(Rt(),l,c,d),!0)}function qS(l,c,d){const A=Rt();return Sc(A,ss(),c)&&Ou(Ki(),Lr(),A,l,c,A[11],d,!0),qS}function t1(l,c,d){const A=Rt();if(Sc(A,ss(),c)){const v=Ki(),T=Lr();Ou(v,T,A,l,c,dL(Gc(v.data),T,A),d,!0)}return t1}const J_=void 0;var pB=["en",[["a","p"],["AM","PM"],J_],[["AM","PM"],J_,J_],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],J_,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],J_,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",J_,"{1} 'at' {0}",J_],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function fB(l){const d=Math.floor(Math.abs(l)),A=l.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===A?1:5}];let mm={};function n1(l){const c=function s1(l){return l.toLowerCase().replace(/_/g,"-")}(l);let d=mB(c);if(d)return d;const A=c.split("-")[0];if(d=mB(A),d)return d;if("en"===A)return pB;throw new yt(701,!1)}function r1(l){return n1(l)[bi.PluralCase]}function mB(l){return l in mm||(mm[l]=si.ng&&si.ng.common&&si.ng.common.locales&&si.ng.common.locales[l]),mm[l]}var bi=(()=>((bi=bi||{})[bi.LocaleId=0]="LocaleId",bi[bi.DayPeriodsFormat=1]="DayPeriodsFormat",bi[bi.DayPeriodsStandalone=2]="DayPeriodsStandalone",bi[bi.DaysFormat=3]="DaysFormat",bi[bi.DaysStandalone=4]="DaysStandalone",bi[bi.MonthsFormat=5]="MonthsFormat",bi[bi.MonthsStandalone=6]="MonthsStandalone",bi[bi.Eras=7]="Eras",bi[bi.FirstDayOfWeek=8]="FirstDayOfWeek",bi[bi.WeekendRange=9]="WeekendRange",bi[bi.DateFormat=10]="DateFormat",bi[bi.TimeFormat=11]="TimeFormat",bi[bi.DateTimeFormat=12]="DateTimeFormat",bi[bi.NumberSymbols=13]="NumberSymbols",bi[bi.NumberFormats=14]="NumberFormats",bi[bi.CurrencyCode=15]="CurrencyCode",bi[bi.CurrencySymbol=16]="CurrencySymbol",bi[bi.CurrencyName=17]="CurrencyName",bi[bi.Currencies=18]="Currencies",bi[bi.Directionality=19]="Directionality",bi[bi.PluralCase=20]="PluralCase",bi[bi.ExtraData=21]="ExtraData",bi))();const _m="en-US";let KS=_m;function Cn(l,c,d,A,p){if(l=Ge(l),Array.isArray(l))for(let v=0;v<l.length;v++)Cn(l[v],c,d,A,p);else{const v=Ki(),T=Rt();let R=Ep(l)?l:Ge(l.provide),P=Fe(l);const G=Ds(),ee=1048575&G.providerIndexes,fe=G.directiveStart,ke=G.providerIndexes>>20;if(Ep(l)||!l.multi){const tt=new Gd(P,p,O_),kt=Ca(R,c,p?ee:ee+ke,fe);-1===kt?(os(qc(G,T),v,R),pt(v,l,c.length),c.push(R),G.directiveStart++,G.directiveEnd++,p&&(G.providerIndexes+=1048576),d.push(tt),T.push(tt)):(d[kt]=tt,T[kt]=tt)}else{const tt=Ca(R,c,ee+ke,fe),kt=Ca(R,c,ee,ee+ke),cn=tt>=0&&d[tt],Sn=kt>=0&&d[kt];if(p&&!Sn||!p&&!cn){os(qc(G,T),v,R);const zn=function HL(l,c,d,A,p){const v=new Gd(l,d,O_);return v.multi=[],v.index=c,v.componentProviders=0,zt(v,p,A&&!d),v}(p?QL:FB,d.length,p,A,P);!p&&Sn&&(d[kt].providerFactory=zn),pt(v,l,c.length,0),c.push(R),G.directiveStart++,G.directiveEnd++,p&&(G.providerIndexes+=1048576),d.push(zn),T.push(zn)}else pt(v,l,tt>-1?tt:kt,zt(d[p?kt:tt],P,!p&&A));!p&&A&&Sn&&d[kt].componentProviders++}}}function pt(l,c,d,A){const p=Ep(c),v=function lv(l){return!!l.useClass}(c);if(p||v){const P=(v?Ge(c.useClass):c).prototype.ngOnDestroy;if(P){const G=l.destroyHooks||(l.destroyHooks=[]);if(!p&&c.multi){const ee=G.indexOf(d);-1===ee?G.push(d,[A,P]):G[ee+1].push(A,P)}else G.push(d,P)}}}function zt(l,c,d){return d&&l.componentProviders++,l.multi.push(c)-1}function Ca(l,c,d,A){for(let p=d;p<A;p++)if(c[p]===l)return p;return-1}function FB(l,c,d,A){return aI(this.multi,[])}function QL(l,c,d,A){const p=this.multi;let v;if(this.providerFactory){const T=this.providerFactory.componentProviders,R=$d(d,d[1],this.providerFactory.index,A);v=R.slice(0,T),aI(p,v);for(let P=T;P<R.length;P++)v.push(R[P])}else v=[],aI(p,v);return v}function aI(l,c){for(let d=0;d<l.length;d++)c.push((0,l[d])());return c}function MB(l,c=[]){return d=>{d.providersResolver=(A,p)=>function UL(l,c,d){const A=Ki();if(A.firstCreatePass){const p=Vs(l);Cn(d,A.data,A.blueprint,p,!0),Cn(c,A.data,A.blueprint,p,!1)}}(A,p?p(l):l,c)}}class Qv{}class lI{}function VL(l,c){return new kB(l,c??null)}class kB extends Qv{constructor(c,d){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dS(this);const A=Oo(c);this._bootstrapComponents=Tp(A.bootstrap),this._r3Injector=S2(c,d,[{provide:Qv,useValue:this},{provide:gi,useValue:this.componentFactoryResolver}],Tt(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class y1 extends lI{constructor(c){super(),this.moduleType=c}create(c){return new kB(this.moduleType,c)}}class Ui extends Qv{constructor(c,d,A){super(),this.componentFactoryResolver=new dS(this),this.instance=null;const p=new j([...c,{provide:Qv,useValue:this},{provide:gi,useValue:this.componentFactoryResolver}],d||E(),A,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function bm(l,c,d=null){return new Ui(l,c,d).injector}let RB=(()=>{class l{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d.id)){const A=am(0,d.type),p=A.length>0?bm([A],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d.id,p)}return this.cachedInjectors.get(d.id)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return l.\u0275prov=cr({token:l,providedIn:"environment",factory:()=>new l(kr(L))}),l})();function lo(l){l.getStandaloneInjector=c=>c.get(RB).getOrCreateStandaloneInjector(l)}function hI(l,c,d){const A=zr()+l,p=Rt();return p[A]===Fi?hf(p,A,d?c.call(d):c()):function H_(l,c){return l[c]}(p,A)}function AI(l,c,d,A){return Em(Rt(),zr(),l,c,d,A)}function w1(l,c,d,A,p,v){return function C1(l,c,d,A,p,v,T,R){const P=c+d;return function EC(l,c,d,A,p){const v=V_(l,c,d,A);return Sc(l,c+2,p)||v}(l,P,p,v,T)?hf(l,P+3,R?A.call(R,p,v,T):A(p,v,T)):$w(l,P+3)}(Rt(),zr(),l,c,d,A,p,v)}function $w(l,c){const d=l[c];return d===Fi?void 0:d}function Em(l,c,d,A,p,v){const T=c+d;return Sc(l,T,p)?hf(l,T+1,v?A.call(v,p):A(p)):$w(l,T+1)}function Lu(l,c){const d=Ki();let A;const p=l+22;d.firstCreatePass?(A=function Yw(l,c){if(c)for(let d=c.length-1;d>=0;d--){const A=c[d];if(l===A.name)return A}}(c,d.pipeRegistry),d.data[p]=A,A.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(p,A.onDestroy)):A=d.data[p];const v=A.factory||(A.factory=ta(A.type)),T=Kr(O_);try{const R=qd(!1),P=v();return qd(R),function z2(l,c,d,A){d>=l.data.length&&(l.data[d]=null,l.blueprint[d]=null),c[d]=A}(d,Rt(),p,P),P}finally{Kr(T)}}function pI(l,c,d){const A=l+22,p=Rt(),v=na(p,A);return Vv(p,A)?Em(p,zr(),c,v.transform,d,v):v.transform(d)}function oc(l,c,d,A){const p=l+22,v=Rt(),T=na(v,p);return Vv(v,p)?function fI(l,c,d,A,p,v,T){const R=c+d;return V_(l,R,p,v)?hf(l,R+2,T?A.call(T,p,v):A(p,v)):$w(l,R+2)}(v,zr(),c,T.transform,d,A,T):T.transform(d,A)}function Vv(l,c){return l[1].data[c].pure}function S1(l){return c=>{setTimeout(l,void 0,c)}}const pf=class E1 extends s.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,d,A){let p=c,v=d||(()=>null),T=A;if(c&&"object"==typeof c){const P=c;p=P.next?.bind(P),v=P.error?.bind(P),T=P.complete?.bind(P)}this.__isAsync&&(v=S1(v),p&&(p=S1(p)),T&&(T=S1(T)));const R=super.subscribe({next:p,error:v,complete:T});return c instanceof ze.w0&&c.add(R),R}};function qL(){return this._results[rc()]()}class I1{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=rc(),A=I1.prototype;A[d]||(A[d]=qL)}get changes(){return this._changes||(this._changes=new pf)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,d){return this._results.reduce(c,d)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,d){const A=this;A.dirty=!1;const p=jn(c);(this._changesDetected=!function m_(l,c,d){if(l.length!==c.length)return!1;for(let A=0;A<l.length;A++){let p=l[A],v=c[A];if(d&&(p=d(p),v=d(v)),v!==p)return!1}return!0}(A._results,p,d))&&(A._results=p,A.length=p.length,A.last=p[this.length-1],A.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ww=(()=>{class l{}return l.__NG_ELEMENT_ID__=$L,l})();const KL=Ww,ZL=class extends KL{constructor(c,d,A){super(),this._declarationLView=c,this._declarationTContainer=d,this.elementRef=A}createEmbeddedView(c,d){const A=this._declarationTContainer.tViews,p=fv(this._declarationLView,A,c,16,null,A.declTNode,null,null,null,null,d||null);p[17]=this._declarationLView[this._declarationTContainer.index];const T=this._declarationLView[19];return null!==T&&(p[19]=T.createEmbeddedView(A)),hm(A,p,c),new cf(p)}};function $L(){return D1(Ds(),Rt())}function D1(l,c){return 4&l.type?new ZL(c,l,dr(l,c)):null}let T1=(()=>{class l{}return l.__NG_ELEMENT_ID__=YL,l})();function YL(){return GB(Ds(),Rt())}const WL=T1,VB=class extends WL{constructor(c,d,A){super(),this._lContainer=c,this._hostTNode=d,this._hostLView=A}get element(){return dr(this._hostTNode,this._hostLView)}get injector(){return new Yd(this._hostTNode,this._hostLView)}get parentInjector(){const c=Lh(this._hostTNode,this._hostLView);if(zd(c)){const d=Oh(c,this._hostLView),A=cd(c);return new Yd(d[1].data[A+8],d)}return new Yd(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const d=jB(this._lContainer);return null!==d&&d[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,d,A){let p,v;"number"==typeof A?p=A:null!=A&&(p=A.index,v=A.injector);const T=c.createEmbeddedView(d||{},v);return this.insert(T,p),T}createComponent(c,d,A,p,v){const T=c&&!function Uh(l){return"function"==typeof l}(c);let R;if(T)R=d;else{const fe=d||{};R=fe.index,A=fe.injector,p=fe.projectableNodes,v=fe.environmentInjector||fe.ngModuleRef}const P=T?c:new Am(mi(c)),G=A||this.parentInjector;if(!v&&null==P.ngModule){const ke=(T?G:this.parentInjector).get(L,null);ke&&(v=ke)}const ee=P.create(G,p,void 0,v);return this.insert(ee.hostView,R),ee}insert(c,d){const A=c._lView,p=A[1];if(function td(l){return Bl(l[3])}(A)){const ee=this.indexOf(c);if(-1!==ee)this.detach(ee);else{const fe=A[3],ke=new VB(fe,fe[6],fe[3]);ke.detach(ke.indexOf(c))}}const v=this._adjustIndex(d),T=this._lContainer;!function Mu(l,c,d,A){const p=10+A,v=d.length;A>0&&(d[p-1][4]=c),A<v-10?(c[4]=d[p],An(d,10+A,c)):(d.push(c),c[4]=null),c[3]=d;const T=c[17];null!==T&&d!==T&&function YA(l,c){const d=l[9];c[16]!==c[3][3][16]&&(l[2]=!0),null===d?l[9]=[c]:d.push(c)}(T,c);const R=c[19];null!==R&&R.insertView(l),c[2]|=64}(p,A,T,v);const R=JA(v,T),P=A[11],G=rh(P,T[7]);return null!==G&&function aw(l,c,d,A,p,v){A[0]=p,A[6]=c,ku(l,A,d,1,p,v)}(p,T[6],P,A,G,R),c.attachToViewContainerRef(),An(gI(T),v,c),c}move(c,d){return this.insert(c,d)}indexOf(c){const d=jB(this._lContainer);return null!==d?d.indexOf(c):-1}remove(c){const d=this._adjustIndex(c,-1),A=Zh(this._lContainer,d);A&&(nn(gI(this._lContainer),d),ih(A[1],A))}detach(c){const d=this._adjustIndex(c,-1),A=Zh(this._lContainer,d);return A&&null!=nn(gI(this._lContainer),d)?new cf(A):null}_adjustIndex(c,d=0){return c??this.length+d}};function jB(l){return l[8]}function gI(l){return l[8]||(l[8]=[])}function GB(l,c){let d;const A=c[l.index];if(Bl(A))d=A;else{let p;if(8&l.type)p=_o(A);else{const v=c[11];p=v.createComment("");const T=yo(l,c);wc(v,rh(v,T),p,function bc(l,c){return l.nextSibling(c)}(v,T),!1)}c[l.index]=d=cL(A,c,p,l),gv(c,d)}return new VB(d,l,c)}class B1{constructor(c){this.queryList=c,this.matches=null}clone(){return new B1(this.queryList)}setDirty(){this.queryList.setDirty()}}class mI{constructor(c=[]){this.queries=c}createEmbeddedView(c){const d=c.queries;if(null!==d){const A=null!==c.contentQueries?c.contentQueries[0]:d.length,p=[];for(let v=0;v<A;v++){const T=d.getByIndex(v);p.push(this.queries[T.indexInDeclarationView].clone())}return new mI(p)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let d=0;d<this.queries.length;d++)null!==Go(c,d).matches&&this.queries[d].setDirty()}}class F1{constructor(c,d,A=null){this.predicate=c,this.flags=d,this.read=A}}class Za{constructor(c=[]){this.queries=c}elementStart(c,d){for(let A=0;A<this.queries.length;A++)this.queries[A].elementStart(c,d)}elementEnd(c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(c)}embeddedTView(c){let d=null;for(let A=0;A<this.length;A++){const p=null!==d?d.length:0,v=this.getByIndex(A).embeddedTView(c,p);v&&(v.indexInDeclarationView=A,null!==d?d.push(v):d=[v])}return null!==d?new Za(d):null}template(c,d){for(let A=0;A<this.queries.length;A++)this.queries[A].template(c,d)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class M1{constructor(c,d=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(c,d){this.isApplyingToNode(d)&&this.matchTNode(c,d)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,d){this.elementStart(c,d)}embeddedTView(c,d){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,d),new M1(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let A=c.parent;for(;null!==A&&8&A.type&&A.index!==d;)A=A.parent;return d===(null!==A?A.index:-1)}return this._appliesToNextNode}matchTNode(c,d){const A=this.metadata.predicate;if(Array.isArray(A))for(let p=0;p<A.length;p++){const v=A[p];this.matchTNodeWithReadOption(c,d,Sm(d,v)),this.matchTNodeWithReadOption(c,d,Xl(d,c,v,!1,!1))}else A===Ww?4&d.type&&this.matchTNodeWithReadOption(c,d,-1):this.matchTNodeWithReadOption(c,d,Xl(d,c,A,!1,!1))}matchTNodeWithReadOption(c,d,A){if(null!==A){const p=this.metadata.read;if(null!==p)if(p===sr||p===T1||p===Ww&&4&d.type)this.addMatch(d.index,-2);else{const v=Xl(d,c,p,!1,!1);null!==v&&this.addMatch(d.index,v)}else this.addMatch(d.index,A)}}addMatch(c,d){null===this.matches?this.matches=[c,d]:this.matches.push(c,d)}}function Sm(l,c){const d=l.localNames;if(null!==d)for(let A=0;A<d.length;A+=2)if(d[A]===c)return d[A+1];return null}function Ys(l,c,d,A){return-1===d?function qB(l,c){return 11&l.type?dr(l,c):4&l.type?D1(l,c):null}(c,l):-2===d?function k1(l,c,d){return d===sr?dr(c,l):d===Ww?D1(c,l):d===T1?GB(c,l):void 0}(l,c,A):$d(l,l[1],d,c)}function Ul(l,c,d,A){const p=c[19].queries[A];if(null===p.matches){const v=l.data,T=d.matches,R=[];for(let P=0;P<T.length;P+=2){const G=T[P];R.push(G<0?null:Ys(c,v[G],T[P+1],d.metadata.read))}p.matches=R}return p.matches}function ks(l,c,d,A){const p=l.queries.getByIndex(d),v=p.matches;if(null!==v){const T=Ul(l,c,p,d);for(let R=0;R<v.length;R+=2){const P=v[R];if(P>0)A.push(T[R/2]);else{const G=v[R+1],ee=c[-P];for(let fe=10;fe<ee.length;fe++){const ke=ee[fe];ke[17]===ke[3]&&ks(ke[1],ke,G,A)}if(null!==ee[9]){const fe=ee[9];for(let ke=0;ke<fe.length;ke++){const tt=fe[ke];ks(tt[1],tt,G,A)}}}}}return A}function _I(l){const c=Rt(),d=Ki(),A=id();zc(A+1);const p=Go(d,A);if(l.dirty&&function mu(l){return 4==(4&l[2])}(c)===(2==(2&p.metadata.flags))){if(null===p.matches)l.reset([]);else{const v=p.crossesNgTemplate?ks(d,c,A,[]):Ul(d,c,p,A);l.reset(v,Bi),l.notifyOnChanges()}return!0}return!1}function ny(l,c,d){const A=Ki();A.firstCreatePass&&(KB(A,new F1(l,c,d),-1),2==(2&c)&&(A.staticViewQueries=!0)),$a(A,Rt(),c)}function eu(l,c,d,A){const p=Ki();if(p.firstCreatePass){const v=Ds();KB(p,new F1(c,d,A),v.index),function Im(l,c){const d=l.contentQueries||(l.contentQueries=[]);c!==(d.length?d[d.length-1]:-1)&&d.push(l.queries.length-1,c)}(p,l),2==(2&d)&&(p.staticContentQueries=!0)}$a(p,Rt(),d)}function yI(){return function eN(l,c){return l[19].queries[c].queryList}(Rt(),id())}function $a(l,c,d){const A=new I1(4==(4&d));eL(l,c,A,A.destroy),null===c[19]&&(c[19]=new mI),c[19].queries.push(new B1(A))}function KB(l,c,d){null===l.queries&&(l.queries=new Za),l.queries.track(new M1(c,d))}function Go(l,c){return l.queries.getByIndex(c)}function ib(...l){}const mf=new qr("Application Initializer");let rb=(()=>{class l{constructor(d){this.appInits=d,this.resolve=ib,this.reject=ib,this.initialized=!1,this.done=!1,this.donePromise=new Promise((A,p)=>{this.resolve=A,this.reject=p})}runInitializers(){if(this.initialized)return;const d=[],A=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const v=this.appInits[p]();if(bS(v))d.push(v);else if(Iw(v)){const T=new Promise((R,P)=>{v.subscribe({complete:R,error:P})});d.push(T)}}Promise.all(d).then(()=>{A()}).catch(p=>{this.reject(p)}),0===d.length&&A(),this.initialized=!0}}return l.\u0275fac=function(d){return new(d||l)(kr(mf,8))},l.\u0275prov=cr({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const cy=new qr("AppId",{providedIn:"root",factory:function BI(){return`${Kv()}${Kv()}${Kv()}`}});function Kv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Q1=new qr("Platform Initializer"),uy=new qr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ic=new qr("appBootstrapListener"),H1=new qr("AnimationModuleType");let sb=(()=>{class l{log(d){console.log(d)}warn(d){console.warn(d)}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=cr({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();const Zv=new qr("LocaleId",{providedIn:"root",factory:()=>ha(Zv,Wn.Optional|Wn.SkipSelf)||function oF(){return typeof $localize<"u"&&$localize.locale||_m}()}),ob=new qr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class jp{constructor(c,d){this.ngModuleFactory=c,this.componentFactories=d}}let cN=(()=>{class l{compileModuleSync(d){return new y1(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const A=this.compileModuleSync(d),v=Tp(Oo(d).declarations).reduce((T,R)=>{const P=mi(R);return P&&T.push(new Am(P)),T},[]);return new jp(A,v)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=cr({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const hN=(()=>Promise.resolve(0))();function MI(l){typeof Zone>"u"?hN.then(()=>{l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}class Uu{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:A=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pf(!1),this.onMicrotaskEmpty=new pf(!1),this.onStable=new pf(!1),this.onError=new pf(!1),typeof Zone>"u")throw new yt(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!A&&d,p.shouldCoalesceRunChangeDetection=A,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function tr(){let l=si.requestAnimationFrame,c=si.cancelAnimationFrame;if(typeof Zone<"u"&&l&&c){const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d);const A=c[Zone.__symbol__("OriginalDelegate")];A&&(c=A)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function j1(l){const c=()=>{!function lF(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(si,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,kI(l),l.isCheckStableRunning=!0,V1(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),kI(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,A,p,v,T,R)=>{try{return cF(l),d.invokeTask(p,v,T,R)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||l.shouldCoalesceRunChangeDetection)&&c(),RI(l)}},onInvoke:(d,A,p,v,T,R,P)=>{try{return cF(l),d.invoke(p,v,T,R,P)}finally{l.shouldCoalesceRunChangeDetection&&c(),RI(l)}},onHasTask:(d,A,p,v)=>{d.hasTask(p,v),A===p&&("microTask"==v.change?(l._hasPendingMicrotasks=v.microTask,kI(l),V1(l)):"macroTask"==v.change&&(l.hasPendingMacrotasks=v.macroTask))},onHandleError:(d,A,p,v)=>(d.handleError(p,v),l.runOutsideAngular(()=>l.onError.emit(v)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Uu.isInAngularZone())throw new yt(909,!1)}static assertNotInAngularZone(){if(Uu.isInAngularZone())throw new yt(909,!1)}run(c,d,A){return this._inner.run(c,d,A)}runTask(c,d,A,p){const v=this._inner,T=v.scheduleEventTask("NgZoneEvent: "+p,c,aF,ib,ib);try{return v.runTask(T,d,A)}finally{v.cancelTask(T)}}runGuarded(c,d,A){return this._inner.runGuarded(c,d,A)}runOutsideAngular(c){return this._outer.run(c)}}const aF={};function V1(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function kI(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function cF(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function RI(l){l._nesting--,V1(l)}class $v{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pf,this.onMicrotaskEmpty=new pf,this.onStable=new pf,this.onError=new pf}run(c,d,A){return c.apply(d,A)}runGuarded(c,d,A){return c.apply(d,A)}runOutsideAngular(c){return c()}runTask(c,d,A,p){return c.apply(d,A)}}const Tm=new qr(""),OI=new qr("");let G1,dy=(()=>{class l{constructor(d,A,p){this._ngZone=d,this.registry=A,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,G1||(function Yv(l){G1=l}(p),p.addToWindow(A)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Uu.assertNotInAngularZone(),MI(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())MI(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(A=>!A.updateCb||!A.updateCb(d)||(clearTimeout(A.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,A,p){let v=-1;A&&A>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==v),d(this._didWork,this.getPendingTasks())},A)),this._callbacks.push({doneCb:d,timeoutId:v,updateCb:p})}whenStable(d,A,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,A,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,A,p){return[]}}return l.\u0275fac=function(d){return new(d||l)(kr(Uu),kr(LI),kr(OI))},l.\u0275prov=cr({token:l,factory:l.\u0275fac}),l})(),LI=(()=>{class l{constructor(){this._applications=new Map}registerApplication(d,A){this._applications.set(d,A)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,A=!0){return G1?.findTestabilityInTree(this,d,A)??null}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=cr({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})(),Gp=null;const Wv=new qr("AllowMultipleToken"),NI=new qr("PlatformDestroyListeners");class uF{constructor(c,d){this.name=c,this.token=d}}function hy(l,c,d=[]){const A=`Platform: ${c}`,p=new qr(A);return(v=[])=>{let T=q1();if(!T||T.injector.get(Wv,!1)){const R=[...d,...v,{provide:p,useValue:!0}];l?l(R):function AN(l){if(Gp&&!Gp.get(Wv,!1))throw new yt(400,!1);Gp=l;const c=l.get(Ay);(function dF(l){const c=l.get(Q1,null);c&&c.forEach(d=>d())})(l)}(function UI(l=[],c){return dm.create({name:c,providers:[{provide:cv,useValue:"platform"},{provide:NI,useValue:new Set([()=>Gp=null])},...l]})}(R,A))}return function qp(l){const c=q1();if(!c)throw new yt(401,!1);return c}()}}function q1(){return Gp?.get(Ay)??null}let Ay=(()=>{class l{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,A){const p=function Z1(l,c){let d;return d="noop"===l?new $v:("zone.js"===l?void 0:l)||new Uu(c),d}(A?.ngZone,function K1(l){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!l||!l.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!l||!l.ngZoneRunCoalescing)||!1}}(A)),v=[{provide:Uu,useValue:p}];return p.run(()=>{const T=dm.create({providers:v,parent:this.injector,name:d.moduleType.name}),R=d.create(T),P=R.injector.get(fl,null);if(!P)throw new yt(402,!1);return p.runOutsideAngular(()=>{const G=p.onError.subscribe({next:ee=>{P.handleError(ee)}});R.onDestroy(()=>{J1(this._modules,R),G.unsubscribe()})}),function $1(l,c,d){try{const A=d();return bS(A)?A.catch(p=>{throw c.runOutsideAngular(()=>l.handleError(p)),p}):A}catch(A){throw c.runOutsideAngular(()=>l.handleError(A)),A}}(P,p,()=>{const G=R.injector.get(rb);return G.runInitializers(),G.donePromise.then(()=>(function yB(l){Fr(l,"Expected localeId to be defined"),"string"==typeof l&&(KS=l.toLowerCase().replace(/_/g,"-"))}(R.injector.get(Zv,_m)||_m),this._moduleDoBootstrap(R),R))})})}bootstrapModule(d,A=[]){const p=Y1({},A);return function Io(l,c,d){const A=new y1(d);return Promise.resolve(A)}(0,0,d).then(v=>this.bootstrapModuleFactory(v,p))}_moduleDoBootstrap(d){const A=d.injector.get(W1);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(p=>A.bootstrap(p));else{if(!d.instance.ngDoBootstrap)throw new yt(403,!1);d.instance.ngDoBootstrap(A)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new yt(404,!1);this._modules.slice().forEach(A=>A.destroy()),this._destroyListeners.forEach(A=>A());const d=this._injector.get(NI,null);d&&(d.forEach(A=>A()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return l.\u0275fac=function(d){return new(d||l)(kr(dm))},l.\u0275prov=cr({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();function Y1(l,c){return Array.isArray(c)?c.reduce(Y1,l):{...l,...c}}let W1=(()=>{class l{constructor(d,A,p){this._zone=d,this._injector=A,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new oe.y(R=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{R.next(this._stable),R.complete()})}),T=new oe.y(R=>{let P;this._zone.runOutsideAngular(()=>{P=this._zone.onStable.subscribe(()=>{Uu.assertNotInAngularZone(),MI(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,R.next(!0))})})});const G=this._zone.onUnstable.subscribe(()=>{Uu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{R.next(!1)}))});return()=>{P.unsubscribe(),G.unsubscribe()}});this.isStable=(0,rt.T)(v,T.pipe((0,lt.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,A){const p=d instanceof Zi;if(!this._injector.get(rb).done)throw!p&&Rd(d),new yt(405,false);let T;T=p?d:this._injector.get(gi).resolveComponentFactory(d),this.componentTypes.push(T.componentType);const R=function z1(l){return l.isBoundToModule}(T)?void 0:this._injector.get(Qv),G=T.create(dm.NULL,[],A||T.selector,R),ee=G.location.nativeElement,fe=G.injector.get(Tm,null);return fe?.registerApplication(ee),G.onDestroy(()=>{this.detachView(G.hostView),J1(this.components,G),fe?.unregisterApplication(ee)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new yt(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const A=d;this._views.push(A),A.attachToAppRef(this)}detachView(d){const A=d;J1(this._views,A),A.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(Ic,[]).concat(this._bootstrapListeners).forEach(p=>p(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>J1(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new yt(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return l.\u0275fac=function(d){return new(d||l)(kr(Uu),kr(L),kr(fl))},l.\u0275prov=cr({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();function J1(l,c){const d=l.indexOf(c);d>-1&&l.splice(d,1)}function hF(){return!1}function AF(){}let gN=(()=>{class l{}return l.__NG_ELEMENT_ID__=pF,l})();function pF(l){return function gF(l,c,d){if(IA(l)&&!d){const A=Is(l.index,c);return new cf(A,A)}return 47&l.type?new cf(c[16],c):null}(Ds(),Rt(),16==(16&l))}class Jv{constructor(){}supports(c){return Q_(c)}create(c){return new qI(c)}}const _f=(l,c)=>c;class qI{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||_f}forEachItem(c){let d;for(d=this._itHead;null!==d;d=d._next)c(d)}forEachOperation(c){let d=this._itHead,A=this._removalsHead,p=0,v=null;for(;d||A;){const T=!A||d&&d.currentIndex<ZI(A,p,v)?d:A,R=ZI(T,p,v),P=T.currentIndex;if(T===A)p--,A=A._nextRemoved;else if(d=d._next,null==T.previousIndex)p++;else{v||(v=[]);const G=R-p,ee=P-p;if(G!=ee){for(let ke=0;ke<G;ke++){const tt=ke<v.length?v[ke]:v[ke]=0,kt=tt+ke;ee<=kt&&kt<G&&(v[ke]=tt+1)}v[T.previousIndex]=ee-G}}R!==P&&c(T,R,P)}}forEachPreviousItem(c){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachMovedItem(c){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}forEachIdentityChange(c){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)c(d)}diff(c){if(null==c&&(c=[]),!Q_(c))throw new yt(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let p,v,T,d=this._itHead,A=!1;if(Array.isArray(c)){this.length=c.length;for(let R=0;R<this.length;R++)v=c[R],T=this._trackByFn(R,v),null!==d&&Object.is(d.trackById,T)?(A&&(d=this._verifyReinsertion(d,v,T,R)),Object.is(d.item,v)||this._addIdentityChange(d,v)):(d=this._mismatch(d,v,T,R),A=!0),d=d._next}else p=0,function xC(l,c){if(Array.isArray(l))for(let d=0;d<l.length;d++)c(l[d]);else{const d=l[rc()]();let A;for(;!(A=d.next()).done;)c(A.value)}}(c,R=>{T=this._trackByFn(p,R),null!==d&&Object.is(d.trackById,T)?(A&&(d=this._verifyReinsertion(d,R,T,p)),Object.is(d.item,R)||this._addIdentityChange(d,R)):(d=this._mismatch(d,R,T,p),A=!0),d=d._next,p++}),this.length=p;return this._truncate(d),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,d,A,p){let v;return null===c?v=this._itTail:(v=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(A,null))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._reinsertAfter(c,v,p)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(A,p))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._moveAfter(c,v,p)):c=this._addAfter(new bF(d,A),v,p),c}_verifyReinsertion(c,d,A,p){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(A,null);return null!==v?c=this._reinsertAfter(v,c._prev,p):c.currentIndex!=p&&(c.currentIndex=p,this._addToMoves(c,p)),c}_truncate(c){for(;null!==c;){const d=c._next;this._addToRemovals(this._unlink(c)),c=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,d,A){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const p=c._prevRemoved,v=c._nextRemoved;return null===p?this._removalsHead=v:p._nextRemoved=v,null===v?this._removalsTail=p:v._prevRemoved=p,this._insertAfter(c,d,A),this._addToMoves(c,A),c}_moveAfter(c,d,A){return this._unlink(c),this._insertAfter(c,d,A),this._addToMoves(c,A),c}_addAfter(c,d,A){return this._insertAfter(c,d,A),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,d,A){const p=null===d?this._itHead:d._next;return c._next=p,c._prev=d,null===p?this._itTail=c:p._prev=c,null===d?this._itHead=c:d._next=c,null===this._linkedRecords&&(this._linkedRecords=new KI),this._linkedRecords.put(c),c.currentIndex=A,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const d=c._prev,A=c._next;return null===d?this._itHead=A:d._next=A,null===A?this._itTail=d:A._prev=d,c}_addToMoves(c,d){return c.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new KI),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,d){return c.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class bF{constructor(c,d){this.item=c,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class hb{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,d){let A;for(A=this._head;null!==A;A=A._nextDup)if((null===d||d<=A.currentIndex)&&Object.is(A.trackById,c))return A;return null}remove(c){const d=c._prevDup,A=c._nextDup;return null===d?this._head=A:d._nextDup=A,null===A?this._tail=d:A._prevDup=d,null===this._head}}class KI{constructor(){this.map=new Map}put(c){const d=c.trackById;let A=this.map.get(d);A||(A=new hb,this.map.set(d,A)),A.add(c)}get(c,d){const p=this.map.get(c);return p?p.get(c,d):null}remove(c){const d=c.trackById;return this.map.get(d).remove(c)&&this.map.delete(d),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ZI(l,c,d){const A=l.previousIndex;if(null===A)return A;let p=0;return d&&A<d.length&&(p=d[A]),A+c+p}class $I{constructor(){}supports(c){return c instanceof Map||vv(c)}create(){return new vN}}class vN{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let d;for(d=this._mapHead;null!==d;d=d._next)c(d)}forEachPreviousItem(c){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)c(d)}forEachChangedItem(c){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}diff(c){if(c){if(!(c instanceof Map||vv(c)))throw new yt(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(c,(A,p)=>{if(d&&d.key===p)this._maybeAddToChanges(d,A),this._appendAfter=d,d=d._next;else{const v=this._getOrCreateRecordForKey(p,A);d=this._insertBeforeOrAppend(d,v)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let A=d;null!==A;A=A._nextRemoved)A===this._mapHead&&(this._mapHead=null),this._records.delete(A.key),A._nextRemoved=A._next,A.previousValue=A.currentValue,A.currentValue=null,A._prev=null,A._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,d){if(c){const A=c._prev;return d._next=c,d._prev=A,c._prev=d,A&&(A._next=d),c===this._mapHead&&(this._mapHead=d),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(c,d){if(this._records.has(c)){const p=this._records.get(c);this._maybeAddToChanges(p,d);const v=p._prev,T=p._next;return v&&(v._next=T),T&&(T._prev=v),p._next=null,p._prev=null,p}const A=new wN(c);return this._records.set(c,A),A.currentValue=d,this._addToAdditions(A),A}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,d){Object.is(d,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=d,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,d){c instanceof Map?c.forEach(d):Object.keys(c).forEach(A=>d(c[A],A))}}class wN{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Xv(){return new Ab([new Jv])}let Ab=(()=>{class l{constructor(d){this.factories=d}static create(d,A){if(null!=A){const p=A.factories.slice();d=d.concat(p)}return new l(d)}static extend(d){return{provide:l,useFactory:A=>l.create(d,A||Xv()),deps:[[l,new ll,new Du]]}}find(d){const A=this.factories.find(p=>p.supports(d));if(null!=A)return A;throw new yt(901,!1)}}return l.\u0275prov=cr({token:l,providedIn:"root",factory:Xv}),l})();function YI(){return new fb([new $I])}let fb=(()=>{class l{constructor(d){this.factories=d}static create(d,A){if(A){const p=A.factories.slice();d=d.concat(p)}return new l(d)}static extend(d){return{provide:l,useFactory:A=>l.create(d,A||YI()),deps:[[l,new ll,new Du]]}}find(d){const A=this.factories.find(p=>p.supports(d));if(A)return A;throw new yt(901,!1)}}return l.\u0275prov=cr({token:l,providedIn:"root",factory:YI}),l})();const xN=hy(null,"core",[]);let EN=(()=>{class l{constructor(d){}}return l.\u0275fac=function(d){return new(d||l)(kr(W1))},l.\u0275mod=ni({type:l}),l.\u0275inj=xl({}),l})();function Mm(l){return"boolean"==typeof l?l:null!=l&&"false"!==l}},3942:(ei,Lt,re)=>{"use strict";re.d(Lt,{Z:()=>yn});var s=re(2090),ze=re(4859),oe=re(6881),rt=re(1877);class lt{constructor(yt,Ut){this._delegate=yt,this.firebase=Ut,(0,oe._addComponent)(yt,new ze.wA("app-compat",()=>this,"PUBLIC")),this.container=yt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(yt){this._delegate.automaticDataCollectionEnabled=yt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(yt=>{this._delegate.checkDestroyed(),yt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,oe.deleteApp)(this._delegate)))}_getService(yt,Ut=oe._DEFAULT_ENTRY_NAME){var St;this._delegate.checkDestroyed();const qt=this._delegate.container.getProvider(yt);return!qt.isInitialized()&&"EXPLICIT"===(null===(St=qt.getComponent())||void 0===St?void 0:St.instantiationMode)&&qt.initialize(),qt.getImmediate({identifier:Ut})}_removeServiceInstance(yt,Ut=oe._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(yt).clearInstance(Ut)}_addComponent(yt){(0,oe._addComponent)(this._delegate,yt)}_addOrOverwriteComponent(yt){(0,oe._addOrOverwriteComponent)(this._delegate,yt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ke=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Ee=function ut(){const Nn=function Tt(Nn){const yt={},Ut={__esModule:!0,initializeApp:function Jt(sn,Zn={}){const et=oe.initializeApp(sn,Zn);if((0,s.r3)(yt,et.name))return yt[et.name];const It=new Nn(et,Ut);return yt[et.name]=It,It},app:qt,registerVersion:oe.registerVersion,setLogLevel:oe.setLogLevel,onLog:oe.onLog,apps:null,SDK_VERSION:oe.SDK_VERSION,INTERNAL:{registerComponent:function en(sn){const Zn=sn.name,et=Zn.replace("-compat","");if(oe._registerComponent(sn)&&"PUBLIC"===sn.type){const It=(dt=qt())=>{if("function"!=typeof dt[et])throw Ke.create("invalid-app-argument",{appName:Zn});return dt[et]()};void 0!==sn.serviceProps&&(0,s.ZB)(It,sn.serviceProps),Ut[et]=It,Nn.prototype[et]=function(...dt){return this._getService.bind(this,Zn).apply(this,sn.multipleInstances?dt:[])}}return"PUBLIC"===sn.type?Ut[et]:null},removeApp:function St(sn){delete yt[sn]},useAsService:function Tn(sn,Zn){return"serverAuth"===Zn?null:Zn},modularAPIs:oe}};function qt(sn){if(!(0,s.r3)(yt,sn=sn||oe._DEFAULT_ENTRY_NAME))throw Ke.create("no-app",{appName:sn});return yt[sn]}return Ut.default=Ut,Object.defineProperty(Ut,"apps",{get:function ti(){return Object.keys(yt).map(sn=>yt[sn])}}),qt.App=Nn,Ut}(lt);return Nn.INTERNAL=Object.assign(Object.assign({},Nn.INTERNAL),{createFirebaseNamespace:ut,extendNamespace:function yt(Ut){(0,s.ZB)(Nn,Ut)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),Nn}(),De=new rt.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){De.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Nn=self.firebase.SDK_VERSION;Nn&&Nn.indexOf("LITE")>=0&&De.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const yn=Ee;!function Qt(Nn){(0,oe.registerVersion)("@firebase/app-compat","0.2.9",Nn)}()},6881:(ei,Lt,re)=>{"use strict";re.r(Lt),re.d(Lt,{FirebaseError:()=>rt.ZR,SDK_VERSION:()=>uu,_DEFAULT_ENTRY_NAME:()=>Kr,_addComponent:()=>Hn,_addOrOverwriteComponent:()=>vi,_apps:()=>$o,_clearComponents:()=>Qs,_components:()=>si,_getProvider:()=>Ai,_registerComponent:()=>Il,_removeServiceInstance:()=>Oi,deleteApp:()=>kr,getApp:()=>po,getApps:()=>Wo,initializeApp:()=>Vi,onLog:()=>Aa,registerVersion:()=>ha,setLogLevel:()=>rl});var s=re(5861),ze=re(4859),oe=re(1877),rt=re(2090);let vt,Ke;const Ee=new WeakMap,De=new WeakMap,Ge=new WeakMap,hn=new WeakMap,Qt=new WeakMap;let yt={get(mt,it,$t){if(mt instanceof IDBTransaction){if("done"===it)return De.get(mt);if("objectStoreNames"===it)return mt.objectStoreNames||Ge.get(mt);if("store"===it)return $t.objectStoreNames[1]?void 0:$t.objectStore($t.objectStoreNames[0])}return Jt(mt[it])},set:(mt,it,$t)=>(mt[it]=$t,!0),has:(mt,it)=>mt instanceof IDBTransaction&&("done"===it||"store"===it)||it in mt};function qt(mt){return"function"==typeof mt?function St(mt){return mt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ut(){return Ke||(Ke=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(mt)?function(...it){return mt.apply(ti(this),it),Jt(Ee.get(this))}:function(...it){return Jt(mt.apply(ti(this),it))}:function(it,...$t){const $n=mt.call(ti(this),it,...$t);return Ge.set($n,it.sort?it.sort():[it]),Jt($n)}}(mt):(mt instanceof IDBTransaction&&function Nn(mt){if(De.has(mt))return;const it=new Promise(($t,$n)=>{const ni=()=>{mt.removeEventListener("complete",Ei),mt.removeEventListener("error",br),mt.removeEventListener("abort",br)},Ei=()=>{$t(),ni()},br=()=>{$n(mt.error||new DOMException("AbortError","AbortError")),ni()};mt.addEventListener("complete",Ei),mt.addEventListener("error",br),mt.addEventListener("abort",br)});De.set(mt,it)}(mt),((mt,it)=>it.some($t=>mt instanceof $t))(mt,function Tt(){return vt||(vt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(mt,yt):mt)}function Jt(mt){if(mt instanceof IDBRequest)return function yn(mt){const it=new Promise(($t,$n)=>{const ni=()=>{mt.removeEventListener("success",Ei),mt.removeEventListener("error",br)},Ei=()=>{$t(Jt(mt.result)),ni()},br=()=>{$n(mt.error),ni()};mt.addEventListener("success",Ei),mt.addEventListener("error",br)});return it.then($t=>{$t instanceof IDBCursor&&Ee.set($t,mt)}).catch(()=>{}),Qt.set(it,mt),it}(mt);if(hn.has(mt))return hn.get(mt);const it=qt(mt);return it!==mt&&(hn.set(mt,it),Qt.set(it,mt)),it}const ti=mt=>Qt.get(mt),sn=["get","getKey","getAll","getAllKeys","count"],Zn=["put","add","delete","clear"],et=new Map;function It(mt,it){if(!(mt instanceof IDBDatabase)||it in mt||"string"!=typeof it)return;if(et.get(it))return et.get(it);const $t=it.replace(/FromIndex$/,""),$n=it!==$t,ni=Zn.includes($t);if(!($t in($n?IDBIndex:IDBObjectStore).prototype)||!ni&&!sn.includes($t))return;const Ei=function(){var br=(0,s.Z)(function*(fr,...gs){const mi=this.transaction(fr,ni?"readwrite":"readonly");let Rr=mi.store;return $n&&(Rr=Rr.index(gs.shift())),(yield Promise.all([Rr[$t](...gs),ni&&mi.done]))[0]});return function(gs){return br.apply(this,arguments)}}();return et.set(it,Ei),Ei}!function Ut(mt){yt=mt(yt)}(mt=>({...mt,get:(it,$t,$n)=>It(it,$t)||mt.get(it,$t,$n),has:(it,$t)=>!!It(it,$t)||mt.has(it,$t)}));class dt{constructor(it){this.container=it}getPlatformInfoString(){return this.container.getProviders().map($t=>{if(function Kt(mt){return"VERSION"===mt.getComponent()?.type}($t)){const $n=$t.getImmediate();return`${$n.library}/${$n.version}`}return null}).filter($t=>$t).join(" ")}}const Nt="@firebase/app",di=new oe.Yd("@firebase/app"),Kr="[DEFAULT]",hc={[Nt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},$o=new Map,si=new Map;function Hn(mt,it){try{mt.container.addComponent(it)}catch($t){di.debug(`Component ${it.name} failed to register with FirebaseApp ${mt.name}`,$t)}}function vi(mt,it){mt.container.addOrOverwriteComponent(it)}function Il(mt){const it=mt.name;if(si.has(it))return di.debug(`There were multiple attempts to register component ${it}.`),!1;si.set(it,mt);for(const $t of $o.values())Hn($t,mt);return!0}function Ai(mt,it){const $t=mt.container.getProvider("heartbeat").getImmediate({optional:!0});return $t&&$t.triggerHeartbeat(),mt.container.getProvider(it)}function Oi(mt,it,$t=Kr){Ai(mt,it).clearInstance($t)}function Qs(){si.clear()}const Yo=new rt.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Hi{constructor(it,$t,$n){this._isDeleted=!1,this._options=Object.assign({},it),this._config=Object.assign({},$t),this._name=$t.name,this._automaticDataCollectionEnabled=$t.automaticDataCollectionEnabled,this._container=$n,this.container.addComponent(new ze.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(it){this.checkDestroyed(),this._automaticDataCollectionEnabled=it}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(it){this._isDeleted=it}checkDestroyed(){if(this.isDeleted)throw Yo.create("app-deleted",{appName:this._name})}}const uu="9.21.0";function Vi(mt,it={}){let $t=mt;"object"!=typeof it&&(it={name:it});const $n=Object.assign({name:Kr,automaticDataCollectionEnabled:!1},it),ni=$n.name;if("string"!=typeof ni||!ni)throw Yo.create("bad-app-name",{appName:String(ni)});if($t||($t=(0,rt.aH)()),!$t)throw Yo.create("no-options");const Ei=$o.get(ni);if(Ei){if((0,rt.vZ)($t,Ei.options)&&(0,rt.vZ)($n,Ei.config))return Ei;throw Yo.create("duplicate-app",{appName:ni})}const br=new ze.H0(ni);for(const gs of si.values())br.addComponent(gs);const fr=new Hi($t,$n,br);return $o.set(ni,fr),fr}function po(mt=Kr){const it=$o.get(mt);if(!it&&mt===Kr)return Vi();if(!it)throw Yo.create("no-app",{appName:mt});return it}function Wo(){return Array.from($o.values())}function kr(mt){return go.apply(this,arguments)}function go(){return(go=(0,s.Z)(function*(mt){const it=mt.name;$o.has(it)&&($o.delete(it),yield Promise.all(mt.container.getProviders().map($t=>$t.delete())),mt.isDeleted=!0)})).apply(this,arguments)}function ha(mt,it,$t){var $n;let ni=null!==($n=hc[mt])&&void 0!==$n?$n:mt;$t&&(ni+=`-${$t}`);const Ei=ni.match(/\s|\//),br=it.match(/\s|\//);if(Ei||br){const fr=[`Unable to register library "${ni}" with version "${it}":`];return Ei&&fr.push(`library name "${ni}" contains illegal characters (whitespace or "/")`),Ei&&br&&fr.push("and"),br&&fr.push(`version name "${it}" contains illegal characters (whitespace or "/")`),void di.warn(fr.join(" "))}Il(new ze.wA(`${ni}-version`,()=>({library:ni,version:it}),"VERSION"))}function Aa(mt,it){if(null!==mt&&"function"!=typeof mt)throw Yo.create("invalid-log-argument");(0,oe.Am)(mt,it)}function rl(mt){(0,oe.Ub)(mt)}const Ce="firebase-heartbeat-store";let ve=null;function Me(){return ve||(ve=function en(mt,it,{blocked:$t,upgrade:$n,blocking:ni,terminated:Ei}={}){const br=indexedDB.open(mt,it),fr=Jt(br);return $n&&br.addEventListener("upgradeneeded",gs=>{$n(Jt(br.result),gs.oldVersion,gs.newVersion,Jt(br.transaction),gs)}),$t&&br.addEventListener("blocked",gs=>$t(gs.oldVersion,gs.newVersion,gs)),fr.then(gs=>{Ei&&gs.addEventListener("close",()=>Ei()),ni&&gs.addEventListener("versionchange",mi=>ni(mi.oldVersion,mi.newVersion,mi))}).catch(()=>{}),fr}("firebase-heartbeat-database",1,{upgrade:(mt,it)=>{0===it&&mt.createObjectStore(Ce)}}).catch(mt=>{throw Yo.create("idb-open",{originalErrorMessage:mt.message})})),ve}function Qe(){return(Qe=(0,s.Z)(function*(mt){try{return(yield Me()).transaction(Ce).objectStore(Ce).get(wi(mt))}catch(it){if(it instanceof rt.ZR)di.warn(it.message);else{const $t=Yo.create("idb-get",{originalErrorMessage:it?.message});di.warn($t.message)}}})).apply(this,arguments)}function Rn(mt,it){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,s.Z)(function*(mt,it){try{const $n=(yield Me()).transaction(Ce,"readwrite");return yield $n.objectStore(Ce).put(it,wi(mt)),$n.done}catch($t){if($t instanceof rt.ZR)di.warn($t.message);else{const $n=Yo.create("idb-set",{originalErrorMessage:$t?.message});di.warn($n.message)}}})).apply(this,arguments)}function wi(mt){return`${mt.name}!${mt.options.appId}`}class Hs{constructor(it){this.container=it,this._heartbeatsCache=null;const $t=this.container.getProvider("app").getImmediate();this._storage=new mo($t),this._heartbeatsCachePromise=this._storage.read().then($n=>(this._heartbeatsCache=$n,$n))}triggerHeartbeat(){var it=this;return(0,s.Z)(function*(){const $n=it.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ni=ji();if(null===it._heartbeatsCache&&(it._heartbeatsCache=yield it._heartbeatsCachePromise),it._heartbeatsCache.lastSentHeartbeatDate!==ni&&!it._heartbeatsCache.heartbeats.some(Ei=>Ei.date===ni))return it._heartbeatsCache.heartbeats.push({date:ni,agent:$n}),it._heartbeatsCache.heartbeats=it._heartbeatsCache.heartbeats.filter(Ei=>{const br=new Date(Ei.date).valueOf();return Date.now()-br<=2592e6}),it._storage.overwrite(it._heartbeatsCache)})()}getHeartbeatsHeader(){var it=this;return(0,s.Z)(function*(){if(null===it._heartbeatsCache&&(yield it._heartbeatsCachePromise),null===it._heartbeatsCache||0===it._heartbeatsCache.heartbeats.length)return"";const $t=ji(),{heartbeatsToSend:$n,unsentEntries:ni}=function no(mt,it=1024){const $t=[];let $n=mt.slice();for(const ni of mt){const Ei=$t.find(br=>br.agent===ni.agent);if(Ei){if(Ei.dates.push(ni.date),pa($t)>it){Ei.dates.pop();break}}else if($t.push({agent:ni.agent,dates:[ni.date]}),pa($t)>it){$t.pop();break}$n=$n.slice(1)}return{heartbeatsToSend:$t,unsentEntries:$n}}(it._heartbeatsCache.heartbeats),Ei=(0,rt.L)(JSON.stringify({version:2,heartbeats:$n}));return it._heartbeatsCache.lastSentHeartbeatDate=$t,ni.length>0?(it._heartbeatsCache.heartbeats=ni,yield it._storage.overwrite(it._heartbeatsCache)):(it._heartbeatsCache.heartbeats=[],it._storage.overwrite(it._heartbeatsCache)),Ei})()}}function ji(){return(new Date).toISOString().substring(0,10)}class mo{constructor(it){this.app=it,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,rt.hl)()&&(0,rt.eu)().then(()=>!0).catch(()=>!1)})()}read(){var it=this;return(0,s.Z)(function*(){return(yield it._canUseIndexedDBPromise)&&(yield function wt(mt){return Qe.apply(this,arguments)}(it.app))||{heartbeats:[]}})()}overwrite(it){var $t=this;return(0,s.Z)(function*(){var $n;if(yield $t._canUseIndexedDBPromise){const Ei=yield $t.read();return Rn($t.app,{lastSentHeartbeatDate:null!==($n=it.lastSentHeartbeatDate)&&void 0!==$n?$n:Ei.lastSentHeartbeatDate,heartbeats:it.heartbeats})}})()}add(it){var $t=this;return(0,s.Z)(function*(){var $n;if(yield $t._canUseIndexedDBPromise){const Ei=yield $t.read();return Rn($t.app,{lastSentHeartbeatDate:null!==($n=it.lastSentHeartbeatDate)&&void 0!==$n?$n:Ei.lastSentHeartbeatDate,heartbeats:[...Ei.heartbeats,...it.heartbeats]})}})()}}function pa(mt){return(0,rt.L)(JSON.stringify({version:2,heartbeats:mt})).length}!function Wu(mt){Il(new ze.wA("platform-logger",it=>new dt(it),"PRIVATE")),Il(new ze.wA("heartbeat",it=>new Hs(it),"PRIVATE")),ha(Nt,"0.9.9",mt),ha(Nt,"0.9.9","esm2017"),ha("fire-js","")}("")},4859:(ei,Lt,re)=>{"use strict";re.d(Lt,{H0:()=>Tt,wA:()=>oe,zt:()=>lt});var s=re(5861),ze=re(2090);class oe{constructor(Ee,De,Ge){this.name=Ee,this.instanceFactory=De,this.type=Ge,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ee){return this.instantiationMode=Ee,this}setMultipleInstances(Ee){return this.multipleInstances=Ee,this}setServiceProps(Ee){return this.serviceProps=Ee,this}setInstanceCreatedCallback(Ee){return this.onInstanceCreated=Ee,this}}const rt="[DEFAULT]";class lt{constructor(Ee,De){this.name=Ee,this.container=De,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ee){const De=this.normalizeInstanceIdentifier(Ee);if(!this.instancesDeferred.has(De)){const Ge=new ze.BH;if(this.instancesDeferred.set(De,Ge),this.isInitialized(De)||this.shouldAutoInitialize())try{const hn=this.getOrInitializeService({instanceIdentifier:De});hn&&Ge.resolve(hn)}catch{}}return this.instancesDeferred.get(De).promise}getImmediate(Ee){var De;const Ge=this.normalizeInstanceIdentifier(Ee?.identifier),hn=null!==(De=Ee?.optional)&&void 0!==De&&De;if(!this.isInitialized(Ge)&&!this.shouldAutoInitialize()){if(hn)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ge})}catch(Qt){if(hn)return null;throw Qt}}getComponent(){return this.component}setComponent(Ee){if(Ee.name!==this.name)throw Error(`Mismatching Component ${Ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ee,this.shouldAutoInitialize()){if(function Ke(ut){return"EAGER"===ut.instantiationMode}(Ee))try{this.getOrInitializeService({instanceIdentifier:rt})}catch{}for(const[De,Ge]of this.instancesDeferred.entries()){const hn=this.normalizeInstanceIdentifier(De);try{const Qt=this.getOrInitializeService({instanceIdentifier:hn});Ge.resolve(Qt)}catch{}}}}clearInstance(Ee=rt){this.instancesDeferred.delete(Ee),this.instancesOptions.delete(Ee),this.instances.delete(Ee)}delete(){var Ee=this;return(0,s.Z)(function*(){const De=Array.from(Ee.instances.values());yield Promise.all([...De.filter(Ge=>"INTERNAL"in Ge).map(Ge=>Ge.INTERNAL.delete()),...De.filter(Ge=>"_delete"in Ge).map(Ge=>Ge._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ee=rt){return this.instances.has(Ee)}getOptions(Ee=rt){return this.instancesOptions.get(Ee)||{}}initialize(Ee={}){const{options:De={}}=Ee,Ge=this.normalizeInstanceIdentifier(Ee.instanceIdentifier);if(this.isInitialized(Ge))throw Error(`${this.name}(${Ge}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const hn=this.getOrInitializeService({instanceIdentifier:Ge,options:De});for(const[Qt,yn]of this.instancesDeferred.entries())Ge===this.normalizeInstanceIdentifier(Qt)&&yn.resolve(hn);return hn}onInit(Ee,De){var Ge;const hn=this.normalizeInstanceIdentifier(De),Qt=null!==(Ge=this.onInitCallbacks.get(hn))&&void 0!==Ge?Ge:new Set;Qt.add(Ee),this.onInitCallbacks.set(hn,Qt);const yn=this.instances.get(hn);return yn&&Ee(yn,hn),()=>{Qt.delete(Ee)}}invokeOnInitCallbacks(Ee,De){const Ge=this.onInitCallbacks.get(De);if(Ge)for(const hn of Ge)try{hn(Ee,De)}catch{}}getOrInitializeService({instanceIdentifier:Ee,options:De={}}){let Ge=this.instances.get(Ee);if(!Ge&&this.component&&(Ge=this.component.instanceFactory(this.container,{instanceIdentifier:(ut=Ee,ut===rt?void 0:ut),options:De}),this.instances.set(Ee,Ge),this.instancesOptions.set(Ee,De),this.invokeOnInitCallbacks(Ge,Ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ee,Ge)}catch{}var ut;return Ge||null}normalizeInstanceIdentifier(Ee=rt){return this.component?this.component.multipleInstances?Ee:rt:Ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Tt{constructor(Ee){this.name=Ee,this.providers=new Map}addComponent(Ee){const De=this.getProvider(Ee.name);if(De.isComponentSet())throw new Error(`Component ${Ee.name} has already been registered with ${this.name}`);De.setComponent(Ee)}addOrOverwriteComponent(Ee){this.getProvider(Ee.name).isComponentSet()&&this.providers.delete(Ee.name),this.addComponent(Ee)}getProvider(Ee){if(this.providers.has(Ee))return this.providers.get(Ee);const De=new lt(Ee,this);return this.providers.set(Ee,De),De}getProviders(){return Array.from(this.providers.values())}}},1877:(ei,Lt,re)=>{"use strict";re.d(Lt,{Am:()=>ut,Ub:()=>Tt,Yd:()=>Ke,in:()=>ze});const s=[];var ze=(()=>{return(Ee=ze||(ze={}))[Ee.DEBUG=0]="DEBUG",Ee[Ee.VERBOSE=1]="VERBOSE",Ee[Ee.INFO=2]="INFO",Ee[Ee.WARN=3]="WARN",Ee[Ee.ERROR=4]="ERROR",Ee[Ee.SILENT=5]="SILENT",ze;var Ee})();const oe={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},rt=ze.INFO,lt={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},vt=(Ee,De,...Ge)=>{if(De<Ee.logLevel)return;const hn=(new Date).toISOString(),Qt=lt[De];if(!Qt)throw new Error(`Attempted to log a message with an invalid logType (value: ${De})`);console[Qt](`[${hn}]  ${Ee.name}:`,...Ge)};class Ke{constructor(De){this.name=De,this._logLevel=rt,this._logHandler=vt,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(De){if(!(De in ze))throw new TypeError(`Invalid value "${De}" assigned to \`logLevel\``);this._logLevel=De}setLogLevel(De){this._logLevel="string"==typeof De?oe[De]:De}get logHandler(){return this._logHandler}set logHandler(De){if("function"!=typeof De)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=De}get userLogHandler(){return this._userLogHandler}set userLogHandler(De){this._userLogHandler=De}debug(...De){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...De),this._logHandler(this,ze.DEBUG,...De)}log(...De){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...De),this._logHandler(this,ze.VERBOSE,...De)}info(...De){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...De),this._logHandler(this,ze.INFO,...De)}warn(...De){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...De),this._logHandler(this,ze.WARN,...De)}error(...De){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...De),this._logHandler(this,ze.ERROR,...De)}}function Tt(Ee){s.forEach(De=>{De.setLogLevel(Ee)})}function ut(Ee,De){for(const Ge of s){let hn=null;De&&De.level&&(hn=oe[De.level]),Ge.userLogHandler=null===Ee?null:(Qt,yn,...Nn)=>{const yt=Nn.map(Ut=>{if(null==Ut)return null;if("string"==typeof Ut)return Ut;if("number"==typeof Ut||"boolean"==typeof Ut)return Ut.toString();if(Ut instanceof Error)return Ut.message;try{return JSON.stringify(Ut)}catch{return null}}).filter(Ut=>Ut).join(" ");yn>=(hn??Qt.logLevel)&&Ee({level:ze[yn].toLowerCase(),message:yt,args:Nn,type:Qt.name})}}}},259:(ei,Lt,re)=>{"use strict";re.d(Lt,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=re(6881);(0,s.registerVersion)("firebase","9.21.0","app")},9260:(ei,Lt,re)=>{"use strict";re.d(Lt,{Z:()=>s.Z});var s=re(3942);s.Z.registerVersion("firebase","9.21.0","app-compat")},8523:(ei,Lt,re)=>{"use strict";re.r(Lt);var s=re(5861),ze=re(3942),oe=re(2090),rt=re(6881);function Tt(x,g){var m={};for(var D in x)Object.prototype.hasOwnProperty.call(x,D)&&g.indexOf(D)<0&&(m[D]=x[D]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var Q=0;for(D=Object.getOwnPropertySymbols(x);Q<D.length;Q++)g.indexOf(D[Q])<0&&Object.prototype.propertyIsEnumerable.call(x,D[Q])&&(m[D[Q]]=x[D[Q]])}return m}var gn=re(1877),di=re(4859);const Cl=function hi(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},fo=function xs(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},cr=new oe.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xl=new gn.Yd("@firebase/auth");function cu(x,...g){xl.logLevel<=gn.in.ERROR&&xl.error(`Auth (${rt.SDK_VERSION}): ${x}`,...g)}function rs(x,...g){throw Sl(x,...g)}function us(x,...g){return Sl(x,...g)}function uc(x,g,m){const D=Object.assign(Object.assign({},fo()),{[g]:m});return new oe.LL("auth","Firebase",D).create(g,{appName:x.name})}function Ps(x,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&rs(x,"argument-error"),uc(x,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sl(x,...g){if("string"!=typeof x){const m=g[0],D=[...g.slice(1)];return D[0]&&(D[0].appName=x.name),x._errorFactory.create(m,...D)}return cr.create(x,...g)}function Zt(x,g,...m){if(!x)throw Sl(g,...m)}function Mr(x){const g="INTERNAL ASSERTION FAILED: "+x;throw cu(g),new Error(g)}function Us(x,g){x||Mr(g)}function Wn(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.href)||""}function dc(){return"http:"===Qc()||"https:"===Qc()}function Qc(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.protocol)||null}class $o{constructor(g,m){this.shortDelay=g,this.longDelay=m,Us(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,oe.uI)()||(0,oe.b$)()}get(){return function Kr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(dc()||(0,oe.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function si(x,g){Us(x.emulator,"Emulator should always be set here");const{url:m}=x.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class Hn{static initialize(g,m,D){this.fetchImpl=g,m&&(this.headersImpl=m),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Il=new $o(3e4,6e4);function Ai(x,g){return x.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:x.tenantId}):g}function Oi(x,g,m,D){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,s.Z)(function*(x,g,m,D,Q={}){return Zr(x,Q,(0,s.Z)(function*(){let z={},ge={};D&&("GET"===g?ge=D:z={body:JSON.stringify(D)});const Le=(0,oe.xO)(Object.assign({key:x.config.apiKey},ge)).slice(1),Pt=yield x._getAdditionalHeaders();return Pt["Content-Type"]="application/json",x.languageCode&&(Pt["X-Firebase-Locale"]=x.languageCode),Hn.fetch()(Vi(x,x.config.apiHost,m,Le),Object.assign({method:g,headers:Pt,referrerPolicy:"no-referrer"},z))}))})).apply(this,arguments)}function Zr(x,g,m){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,s.Z)(function*(x,g,m){x._canInitEmulator=!1;const D=Object.assign(Object.assign({},vi),g);try{const Q=new po(x),z=yield Promise.race([m(),Q.promise]);Q.clearNetworkTimeout();const ge=yield z.json();if("needConfirmation"in ge)throw Wo(x,"account-exists-with-different-credential",ge);if(z.ok&&!("errorMessage"in ge))return ge;{const Le=z.ok?ge.errorMessage:ge.error.message,[Pt,Ct]=Le.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pt)throw Wo(x,"credential-already-in-use",ge);if("EMAIL_EXISTS"===Pt)throw Wo(x,"email-already-in-use",ge);if("USER_DISABLED"===Pt)throw Wo(x,"user-disabled",ge);const tn=D[Pt]||Pt.toLowerCase().replace(/[_\s]+/g,"-");if(Ct)throw uc(x,tn,Ct);rs(x,tn)}}catch(Q){if(Q instanceof oe.ZR)throw Q;rs(x,"network-request-failed",{message:String(Q)})}})).apply(this,arguments)}function Hi(x,g,m,D){return uu.apply(this,arguments)}function uu(){return(uu=(0,s.Z)(function*(x,g,m,D,Q={}){const z=yield Oi(x,g,m,D,Q);return"mfaPendingCredential"in z&&rs(x,"multi-factor-auth-required",{_serverResponse:z}),z})).apply(this,arguments)}function Vi(x,g,m,D){const Q=`${g}${m}?${D}`;return x.config.emulator?si(x.config,Q):`${x.config.apiScheme}://${Q}`}class po{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,D)=>{this.timer=setTimeout(()=>D(us(this.auth,"network-request-failed")),Il.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wo(x,g,m){const D={appName:x.name};m.email&&(D.email=m.email),m.phoneNumber&&(D.phoneNumber=m.phoneNumber);const Q=us(x,g,D);return Q.customData._tokenResponse=m,Q}function go(){return(go=(0,s.Z)(function*(x,g){return Oi(x,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function ha(x,g){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,s.Z)(function*(x,g){return Oi(x,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function rl(x,g){return Es.apply(this,arguments)}function Es(){return(Es=(0,s.Z)(function*(x,g){return Oi(x,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function fa(x){if(x)try{const g=new Date(Number(x));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Me(){return(Me=(0,s.Z)(function*(x,g=!1){const m=(0,oe.m9)(x),D=yield m.getIdToken(g),Q=Qe(D);Zt(Q&&Q.exp&&Q.auth_time&&Q.iat,m.auth,"internal-error");const z="object"==typeof Q.firebase?Q.firebase:void 0,ge=z?.sign_in_provider;return{claims:Q,token:D,authTime:fa(wt(Q.auth_time)),issuedAtTime:fa(wt(Q.iat)),expirationTime:fa(wt(Q.exp)),signInProvider:ge||null,signInSecondFactor:z?.sign_in_second_factor||null}})).apply(this,arguments)}function wt(x){return 1e3*Number(x)}function Qe(x){const[g,m,D]=x.split(".");if(void 0===g||void 0===m||void 0===D)return cu("JWT malformed, contained fewer than 3 sections"),null;try{const Q=(0,oe.tV)(m);return Q?JSON.parse(Q):(cu("Failed to decode base64 JWT payload"),null)}catch(Q){return cu("Caught error parsing JWT payload as JSON",Q?.toString()),null}}function Vn(x,g){return wi.apply(this,arguments)}function wi(){return(wi=(0,s.Z)(function*(x,g,m=!1){if(m)return g;try{return yield g}catch(D){throw D instanceof oe.ZR&&fi(D)&&x.auth.currentUser===x&&(yield x.auth.signOut()),D}})).apply(this,arguments)}function fi({code:x}){return"auth/user-disabled"===x||"auth/user-token-expired"===x}class es{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const Q=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,Q)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const D=this.getInterval(g);this.timerId=setTimeout((0,s.Z)(function*(){yield m.iteration()}),D)}iteration(){var g=this;return(0,s.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&g.schedule(!0))}g.schedule()})()}}class Hs{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=fa(this.lastLoginAt),this.creationTime=fa(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ji(x){return no.apply(this,arguments)}function no(){return(no=(0,s.Z)(function*(x){var g;const m=x.auth,D=yield x.getIdToken(),Q=yield Vn(x,rl(m,{idToken:D}));Zt(Q?.users.length,m,"internal-error");const z=Q.users[0];x._notifyReloadListener(z);const ge=null!==(g=z.providerUserInfo)&&void 0!==g&&g.length?mt(z.providerUserInfo):[],Le=Wu(x.providerData,ge),tn=!!x.isAnonymous&&!(x.email&&z.passwordHash||Le?.length),fn={uid:z.localId,displayName:z.displayName||null,photoURL:z.photoUrl||null,email:z.email||null,emailVerified:z.emailVerified||!1,phoneNumber:z.phoneNumber||null,tenantId:z.tenantId||null,providerData:Le,metadata:new Hs(z.createdAt,z.lastLoginAt),isAnonymous:tn};Object.assign(x,fn)})).apply(this,arguments)}function pa(){return(pa=(0,s.Z)(function*(x){const g=(0,oe.m9)(x);yield ji(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Wu(x,g){return[...x.filter(D=>!g.some(Q=>Q.providerId===D.providerId)),...g]}function mt(x){return x.map(g=>{var{providerId:m}=g,D=Tt(g,["providerId"]);return{providerId:m,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function $t(){return($t=(0,s.Z)(function*(x,g){const m=yield Zr(x,{},(0,s.Z)(function*(){const D=(0,oe.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:Q,apiKey:z}=x.config,ge=Vi(x,Q,"/v1/token",`key=${z}`),Le=yield x._getAdditionalHeaders();return Le["Content-Type"]="application/x-www-form-urlencoded",Hn.fetch()(ge,{method:"POST",headers:Le,body:D})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class $n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Zt(g.idToken,"internal-error"),Zt(typeof g.idToken<"u","internal-error"),Zt(typeof g.refreshToken<"u","internal-error");const m="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Rn(x){const g=Qe(x);return Zt(g,"internal-error"),Zt(typeof g.exp<"u","internal-error"),Zt(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var D=this;return(0,s.Z)(function*(){return Zt(!D.accessToken||D.refreshToken,g,"user-token-expired"),m||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(g,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var D=this;return(0,s.Z)(function*(){const{accessToken:Q,refreshToken:z,expiresIn:ge}=yield function it(x,g){return $t.apply(this,arguments)}(g,m);D.updateTokensAndExpiration(Q,z,Number(ge))})()}updateTokensAndExpiration(g,m,D){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(g,m){const{refreshToken:D,accessToken:Q,expirationTime:z}=m,ge=new $n;return D&&(Zt("string"==typeof D,"internal-error",{appName:g}),ge.refreshToken=D),Q&&(Zt("string"==typeof Q,"internal-error",{appName:g}),ge.accessToken=Q),z&&(Zt("number"==typeof z,"internal-error",{appName:g}),ge.expirationTime=z),ge}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new $n,this.toJSON())}_performRefresh(){return Mr("not implemented")}}function ni(x,g){Zt("string"==typeof x||typeof x>"u","internal-error",{appName:g})}class Ei{constructor(g){var{uid:m,auth:D,stsTokenManager:Q}=g,z=Tt(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new es(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=D,this.stsTokenManager=Q,this.accessToken=Q.accessToken,this.displayName=z.displayName||null,this.email=z.email||null,this.emailVerified=z.emailVerified||!1,this.phoneNumber=z.phoneNumber||null,this.photoURL=z.photoURL||null,this.isAnonymous=z.isAnonymous||!1,this.tenantId=z.tenantId||null,this.providerData=z.providerData?[...z.providerData]:[],this.metadata=new Hs(z.createdAt||void 0,z.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,s.Z)(function*(){const D=yield Vn(m,m.stsTokenManager.getToken(m.auth,g));return Zt(D,m.auth,"internal-error"),m.accessToken!==D&&(m.accessToken=D,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),D})()}getIdTokenResult(g){return function ve(x){return Me.apply(this,arguments)}(this,g)}reload(){return function mo(x){return pa.apply(this,arguments)}(this)}_assign(g){this!==g&&(Zt(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const m=new Ei(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(g){Zt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var D=this;return(0,s.Z)(function*(){let Q=!1;g.idToken&&g.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(g),Q=!0),m&&(yield ji(D)),yield D.auth._persistUserIfCurrent(D),Q&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var g=this;return(0,s.Z)(function*(){const m=yield g.getIdToken();return yield Vn(g,function kr(x,g){return go.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var D,Q,z,ge,Le,Pt,Ct,tn;const fn=null!==(D=m.displayName)&&void 0!==D?D:void 0,Yi=null!==(Q=m.email)&&void 0!==Q?Q:void 0,$s=null!==(z=m.phoneNumber)&&void 0!==z?z:void 0,xc=null!==(ge=m.photoURL)&&void 0!==ge?ge:void 0,sf=null!==(Le=m.tenantId)&&void 0!==Le?Le:void 0,xp=null!==(Pt=m._redirectEventId)&&void 0!==Pt?Pt:void 0,F_=null!==(Ct=m.createdAt)&&void 0!==Ct?Ct:void 0,om=null!==(tn=m.lastLoginAt)&&void 0!==tn?tn:void 0,{uid:M_,emailVerified:av,isAnonymous:am,providerData:lm,stsTokenManager:af}=m;Zt(M_&&af,g,"internal-error");const dw=$n.fromJSON(this.name,af);Zt("string"==typeof M_,g,"internal-error"),ni(fn,g.name),ni(Yi,g.name),Zt("boolean"==typeof av,g,"internal-error"),Zt("boolean"==typeof am,g,"internal-error"),ni($s,g.name),ni(xc,g.name),ni(sf,g.name),ni(xp,g.name),ni(F_,g.name),ni(om,g.name);const lA=new Ei({uid:M_,auth:g,email:Yi,emailVerified:av,displayName:fn,isAnonymous:am,photoURL:xc,phoneNumber:$s,tenantId:sf,stsTokenManager:dw,createdAt:F_,lastLoginAt:om});return lm&&Array.isArray(lm)&&(lA.providerData=lm.map(cm=>Object.assign({},cm))),xp&&(lA._redirectEventId=xp),lA}static _fromIdTokenResponse(g,m,D=!1){return(0,s.Z)(function*(){const Q=new $n;Q.updateFromServerResponse(m);const z=new Ei({uid:m.localId,auth:g,stsTokenManager:Q,isAnonymous:D});return yield ji(z),z})()}}const br=new Map;function fr(x){Us(x instanceof Function,"Expected a class definition");let g=br.get(x);return g?(Us(g instanceof x,"Instance stored in cache mismatched with class"),g):(g=new x,br.set(x,g),g)}const mi=(()=>{class x{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(m,D){var Q=this;return(0,s.Z)(function*(){Q.storage[m]=D})()}_get(m){var D=this;return(0,s.Z)(function*(){const Q=D.storage[m];return void 0===Q?null:Q})()}_remove(m){var D=this;return(0,s.Z)(function*(){delete D.storage[m]})()}_addListener(m,D){}_removeListener(m,D){}}return x.type="NONE",x})();function Rr(x,g,m){return`firebase:${x}:${g}:${m}`}class $r{constructor(g,m,D){this.persistence=g,this.auth=m,this.userKey=D;const{config:Q,name:z}=this.auth;this.fullUserKey=Rr(this.userKey,Q.apiKey,z),this.fullPersistenceKey=Rr("persistence",Q.apiKey,z),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,s.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?Ei._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,s.Z)(function*(){if(m.persistence===g)return;const D=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,D?m.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,D="authUser"){return(0,s.Z)(function*(){if(!m.length)return new $r(fr(mi),g,D);const Q=(yield Promise.all(m.map(function(){var Ct=(0,s.Z)(function*(tn){if(yield tn._isAvailable())return tn});return function(tn){return Ct.apply(this,arguments)}}()))).filter(Ct=>Ct);let z=Q[0]||fr(mi);const ge=Rr(D,g.config.apiKey,g.name);let Le=null;for(const Ct of m)try{const tn=yield Ct._get(ge);if(tn){const fn=Ei._fromJSON(g,tn);Ct!==z&&(Le=fn),z=Ct;break}}catch{}const Pt=Q.filter(Ct=>Ct._shouldAllowMigration);return z._shouldAllowMigration&&Pt.length?(z=Pt[0],Le&&(yield z._set(ge,Le.toJSON())),yield Promise.all(m.map(function(){var Ct=(0,s.Z)(function*(tn){if(tn!==z)try{yield tn._remove(ge)}catch{}});return function(tn){return Ct.apply(this,arguments)}}())),new $r(z,g,D)):new $r(z,g,D)})()}}function Rd(x){const g=x.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Di(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Oo(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Dl(g))return"Blackberry";if(ds(g))return"Webos";if(ms(g))return"Safari";if((g.includes("chrome/")||vn(g))&&!g.includes("edge/"))return"Chrome";if(Ir(g))return"Android";{const D=x.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function Oo(x=(0,oe.z$)()){return/firefox\//i.test(x)}function ms(x=(0,oe.z$)()){const g=x.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function vn(x=(0,oe.z$)()){return/crios\//i.test(x)}function Di(x=(0,oe.z$)()){return/iemobile/i.test(x)}function Ir(x=(0,oe.z$)()){return/android/i.test(x)}function Dl(x=(0,oe.z$)()){return/blackberry/i.test(x)}function ds(x=(0,oe.z$)()){return/webos/i.test(x)}function jr(x=(0,oe.z$)()){return/iphone|ipad|ipod/i.test(x)||/macintosh/i.test(x)&&/mobile/i.test(x)}function du(x=(0,oe.z$)()){return jr(x)||Ir(x)||ds(x)||Dl(x)||/windows phone/i.test(x)||Di(x)}function Vc(x,g=[]){let m;switch(x){case"Browser":m=Rd((0,oe.z$)());break;case"Worker":m=`${Rd((0,oe.z$)())}-${x}`;break;default:m=x}const D=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${rt.SDK_VERSION}/${D}`}function Ch(){return(Ch=(0,s.Z)(function*(x){return(yield Oi(x,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Od(x,g){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,s.Z)(function*(x,g){return Oi(x,"GET","/v2/recaptchaConfig",Ai(x,g))})).apply(this,arguments)}function Ju(x){return void 0!==x&&void 0!==x.getResponse}function Jo(x){return void 0!==x&&void 0!==x.enterprise}class Tl{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function Gr(x){return new Promise((g,m)=>{const D=document.createElement("script");D.setAttribute("src",x),D.onload=g,D.onerror=Q=>{const z=us("internal-error");z.customData=Q,m(z)},D.type="text/javascript",D.charset="UTF-8",function xh(){var x,g;return null!==(g=null===(x=document.getElementsByTagName("head"))||void 0===x?void 0:x[0])&&void 0!==g?g:document}().appendChild(D)})}function Yr(x){return`__${x}${Math.floor(1e6*Math.random())}`}class Nd{constructor(g){this.type="recaptcha-enterprise",this.auth=ur(g)}verify(g="verify",m=!1){var D=this;return(0,s.Z)(function*(){function z(){return z=(0,s.Z)(function*(Le){if(!m){if(null==Le.tenantId&&null!=Le._agentRecaptchaConfig)return Le._agentRecaptchaConfig.siteKey;if(null!=Le.tenantId&&void 0!==Le._tenantRecaptchaConfigs[Le.tenantId])return Le._tenantRecaptchaConfigs[Le.tenantId].siteKey}return new Promise(function(){var Pt=(0,s.Z)(function*(Ct,tn){Od(Le,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(fn=>{if(void 0!==fn.recaptchaKey){const Yi=new Tl(fn);return null==Le.tenantId?Le._agentRecaptchaConfig=Yi:Le._tenantRecaptchaConfigs[Le.tenantId]=Yi,Ct(Yi.siteKey)}tn(new Error("recaptcha Enterprise site key undefined"))}).catch(fn=>{tn(fn)})});return function(Ct,tn){return Pt.apply(this,arguments)}}())}),z.apply(this,arguments)}function ge(Le,Pt,Ct){const tn=window.grecaptcha;Jo(tn)?tn.enterprise.ready(()=>{tn.enterprise.execute(Le,{action:g}).then(fn=>{Pt(fn)}).catch(()=>{Pt("NO_RECAPTCHA")})}):Ct(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Le,Pt)=>{(function Q(Le){return z.apply(this,arguments)})(D.auth).then(Ct=>{if(!m&&Jo(window.grecaptcha))ge(Ct,Le,Pt);else{if(typeof window>"u")return void Pt(new Error("RecaptchaVerifier is only supported in browser"));Gr("https://www.google.com/recaptcha/enterprise.js?render="+Ct).then(()=>{ge(Ct,Le,Pt)}).catch(tn=>{Pt(tn)})}}).catch(Ct=>{Pt(Ct)})})})()}}function sl(x,g,m){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,s.Z)(function*(x,g,m,D=!1){const Q=new Nd(x);let z;try{z=yield Q.verify(m)}catch{z=yield Q.verify(m,!0)}const ge=Object.assign({},g);return Object.assign(ge,D?{captchaResp:z}:{captchaResponse:z}),Object.assign(ge,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ge,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ge})).apply(this,arguments)}class io{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const D=z=>new Promise((ge,Le)=>{try{ge(g(z))}catch(Pt){Le(Pt)}});D.onAbort=m,this.queue.push(D);const Q=this.queue.length-1;return()=>{this.queue[Q]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,s.Z)(function*(){if(m.auth.currentUser===g)return;const D=[];try{for(const Q of m.queue)yield Q(g),Q.onAbort&&D.push(Q.onAbort)}catch(Q){D.reverse();for(const z of D)try{z()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:Q?.message})}})()}}class Uf{constructor(g,m,D,Q){this.app=g,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=D,this.config=Q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bl(this),this.idTokenSubscription=new Bl(this),this.beforeStateQueue=new io(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=Q.sdkClientVersion}_initializeWithPersistence(g,m){var D=this;return m&&(this._popupRedirectResolver=fr(m)),this._initializationPromise=this.queue((0,s.Z)(function*(){var Q,z;if(!D._deleted&&(D.persistenceManager=yield $r.create(D,g),!D._deleted)){if(null!==(Q=D._popupRedirectResolver)&&void 0!==Q&&Q._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(m),D.lastNotifiedUid=(null===(z=D.currentUser)||void 0===z?void 0:z.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,s.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,s.Z)(function*(){var D;const Q=yield m.assertedPersistence.getCurrentUser();let z=Q,ge=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Le=null===(D=m.redirectUser)||void 0===D?void 0:D._redirectEventId,Pt=z?._redirectEventId,Ct=yield m.tryRedirectSignIn(g);(!Le||Le===Pt)&&Ct?.user&&(z=Ct.user,ge=!0)}if(!z)return m.directlySetCurrentUser(null);if(!z._redirectEventId){if(ge)try{yield m.beforeStateQueue.runMiddleware(z)}catch(Le){z=Q,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Le))}return z?m.reloadAndSetCurrentUserOrClear(z):m.directlySetCurrentUser(null)}return Zt(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===z._redirectEventId?m.directlySetCurrentUser(z):m.reloadAndSetCurrentUserOrClear(z)})()}tryRedirectSignIn(g){var m=this;return(0,s.Z)(function*(){let D=null;try{D=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch{yield m._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,s.Z)(function*(){try{yield ji(g)}catch(D){if("auth/network-request-failed"!==D?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function hc(){if(typeof navigator>"u")return null;const x=navigator;return x.languages&&x.languages[0]||x.language||null}()}_delete(){var g=this;return(0,s.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,s.Z)(function*(){const D=g?(0,oe.m9)(g):null;return D&&Zt(D.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(D&&D._clone(m))})()}_updateCurrentUser(g,m=!1){var D=this;return(0,s.Z)(function*(){if(!D._deleted)return g&&Zt(D.tenantId===g.tenantId,D,"tenant-id-mismatch"),m||(yield D.beforeStateQueue.runMiddleware(g)),D.queue((0,s.Z)(function*(){yield D.directlySetCurrentUser(g),D.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,s.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,s.Z)(function*(){yield m.assertedPersistence.setPersistence(fr(g))}))}initializeRecaptchaConfig(){var g=this;return(0,s.Z)(function*(){const m=yield Od(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),D=new Tl(m);null==g.tenantId?g._agentRecaptchaConfig=D:g._tenantRecaptchaConfigs[g.tenantId]=D,D.emailPasswordEnabled&&new Nd(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new oe.LL("auth","Firebase",g())}onAuthStateChanged(g,m,D){return this.registerStateListener(this.authStateSubscription,g,m,D)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,D){return this.registerStateListener(this.idTokenSubscription,g,m,D)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var D=this;return(0,s.Z)(function*(){const Q=yield D.getOrInitRedirectPersistenceManager(m);return null===g?Q.removeCurrentUser():Q.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,s.Z)(function*(){if(!m.redirectPersistenceManager){const D=g&&fr(g)||m._popupRedirectResolver;Zt(D,m,"argument-error"),m.redirectPersistenceManager=yield $r.create(m,[fr(D._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,s.Z)(function*(){var D,Q;return m._isInitialized&&(yield m.queue((0,s.Z)(function*(){}))),(null===(D=m._currentUser)||void 0===D?void 0:D._redirectEventId)===g?m._currentUser:(null===(Q=m.redirectUser)||void 0===Q?void 0:Q._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,s.Z)(function*(){if(g===m.currentUser)return m.queue((0,s.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,D,Q){if(this._deleted)return()=>{};const z="function"==typeof m?m:m.next.bind(m),ge=this._isInitialized?Promise.resolve():this._initializationPromise;return Zt(ge,this,"internal-error"),ge.then(()=>z(this.currentUser)),"function"==typeof m?g.addObserver(m,D,Q):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,s.Z)(function*(){m.currentUser&&m.currentUser!==g&&m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh(),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Zt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Vc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,s.Z)(function*(){var m;const D={"X-Client-Version":g.clientVersion};g.app.options.appId&&(D["X-Firebase-gmpid"]=g.app.options.appId);const Q=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();Q&&(D["X-Firebase-Client"]=Q);const z=yield g._getAppCheckToken();return z&&(D["X-Firebase-AppCheck"]=z),D})()}_getAppCheckToken(){var g=this;return(0,s.Z)(function*(){var m;const D=yield null===(m=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return D?.error&&function El(x,...g){xl.logLevel<=gn.in.WARN&&xl.warn(`Auth (${rt.SDK_VERSION}): ${x}`,...g)}(`Error while retrieving App Check token: ${D.error}`),D?.token})()}}function ur(x){return(0,oe.m9)(x)}class Bl{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,oe.ne)(m=>this.observer=m)}get next(){return Zt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Vs(x){const g=x.indexOf(":");return g<0?"":x.substr(0,g+1)}function Sh(x){if(!x)return null;const g=Number(x);return isNaN(g)?null:g}class Pd{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return Mr("not implemented")}_getIdTokenResponse(g){return Mr("not implemented")}_linkToIdToken(g,m){return Mr("not implemented")}_getReauthenticationResolver(g){return Mr("not implemented")}}function yg(x,g){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,s.Z)(function*(x,g){return Oi(x,"POST","/v1/accounts:resetPassword",Ai(x,g))})).apply(this,arguments)}function vg(x,g){return Hf.apply(this,arguments)}function Hf(){return(Hf=(0,s.Z)(function*(x,g){return Oi(x,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Vf(x,g){return TA.apply(this,arguments)}function TA(){return(TA=(0,s.Z)(function*(x,g){return Oi(x,"POST","/v1/accounts:update",Ai(x,g))})).apply(this,arguments)}function wg(x,g){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,s.Z)(function*(x,g){return Hi(x,"POST","/v1/accounts:signInWithPassword",Ai(x,g))})).apply(this,arguments)}function ea(x,g){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,s.Z)(function*(x,g){return Oi(x,"POST","/v1/accounts:sendOobCode",Ai(x,g))})).apply(this,arguments)}function Ud(x,g){return bg.apply(this,arguments)}function bg(){return(bg=(0,s.Z)(function*(x,g){return ea(x,g)})).apply(this,arguments)}function Cg(x,g){return $l.apply(this,arguments)}function $l(){return($l=(0,s.Z)(function*(x,g){return ea(x,g)})).apply(this,arguments)}function Ta(x,g){return BA.apply(this,arguments)}function BA(){return(BA=(0,s.Z)(function*(x,g){return ea(x,g)})).apply(this,arguments)}function Gy(x,g){return zy.apply(this,arguments)}function zy(){return(zy=(0,s.Z)(function*(x,g){return ea(x,g)})).apply(this,arguments)}function Qd(){return(Qd=(0,s.Z)(function*(x,g){return Hi(x,"POST","/v1/accounts:signInWithEmailLink",Ai(x,g))})).apply(this,arguments)}function FA(){return(FA=(0,s.Z)(function*(x,g){return Hi(x,"POST","/v1/accounts:signInWithEmailLink",Ai(x,g))})).apply(this,arguments)}class Ih extends Pd{constructor(g,m,D,Q=null){super("password",D),this._email=g,this._password=m,this._tenantId=Q}static _fromEmailAndPassword(g,m){return new Ih(g,m,"password")}static _fromEmailAndCode(g,m,D=null){return new Ih(g,m,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,s.Z)(function*(){var D;switch(m.signInMethod){case"password":const Q={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(D=g._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const z=yield sl(g,Q,"signInWithPassword");return wg(g,z)}return wg(g,Q).catch(function(){var z=(0,s.Z)(function*(ge){if("auth/missing-recaptcha-token"===ge.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Le=yield sl(g,Q,"signInWithPassword");return wg(g,Le)}return Promise.reject(ge)});return function(ge){return z.apply(this,arguments)}}());case"emailLink":return function ta(x,g){return Qd.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:rs(g,"internal-error")}})()}_linkToIdToken(g,m){var D=this;return(0,s.Z)(function*(){switch(D.signInMethod){case"password":return vg(g,{idToken:m,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function Au(x,g){return FA.apply(this,arguments)}(g,{idToken:m,email:D._email,oobCode:D._password});default:rs(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Yl(x,g){return jf.apply(this,arguments)}function jf(){return(jf=(0,s.Z)(function*(x,g){return Hi(x,"POST","/v1/accounts:signInWithIdp",Ai(x,g))})).apply(this,arguments)}class Ac extends Pd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new Ac(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):rs("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:Q}=m,z=Tt(m,["providerId","signInMethod"]);if(!D||!Q)return null;const ge=new Ac(D,Q);return ge.idToken=z.idToken||void 0,ge.accessToken=z.accessToken||void 0,ge.secret=z.secret,ge.nonce=z.nonce,ge.pendingToken=z.pendingToken||null,ge}_getIdTokenResponse(g){return Yl(g,this.buildRequest())}_linkToIdToken(g,m){const D=this.buildRequest();return D.idToken=m,Yl(g,D)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Yl(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,oe.xO)(m)}return g}}function Dh(x,g){return kA.apply(this,arguments)}function kA(){return(kA=(0,s.Z)(function*(x,g){return Oi(x,"POST","/v1/accounts:sendVerificationCode",Ai(x,g))})).apply(this,arguments)}function fu(){return(fu=(0,s.Z)(function*(x,g){return Hi(x,"POST","/v1/accounts:signInWithPhoneNumber",Ai(x,g))})).apply(this,arguments)}function pu(){return(pu=(0,s.Z)(function*(x,g){const m=yield Hi(x,"POST","/v1/accounts:signInWithPhoneNumber",Ai(x,g));if(m.temporaryProof)throw Wo(x,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Hd={USER_NOT_FOUND:"user-not-found"};function _o(){return(_o=(0,s.Z)(function*(x,g){return Hi(x,"POST","/v1/accounts:signInWithPhoneNumber",Ai(x,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Hd)})).apply(this,arguments)}class ed extends Pd{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new ed({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new ed({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function Ba(x,g){return fu.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function o_(x,g){return pu.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function qy(x,g){return _o.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:D,verificationCode:Q}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:D,code:Q}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:D,phoneNumber:Q,temporaryProof:z}=g;return D||m||Q||z?new ed({verificationId:m,verificationCode:D,phoneNumber:Q,temporaryProof:z}):null}}class yo{constructor(g){var m,D,Q,z,ge,Le;const Pt=(0,oe.zd)((0,oe.pd)(g)),Ct=null!==(m=Pt.apiKey)&&void 0!==m?m:null,tn=null!==(D=Pt.oobCode)&&void 0!==D?D:null,fn=function gu(x){switch(x){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Q=Pt.mode)&&void 0!==Q?Q:null);Zt(Ct&&tn&&fn,"argument-error"),this.apiKey=Ct,this.operation=fn,this.code=tn,this.continueUrl=null!==(z=Pt.continueUrl)&&void 0!==z?z:null,this.languageCode=null!==(ge=Pt.languageCode)&&void 0!==ge?ge:null,this.tenantId=null!==(Le=Pt.tenantId)&&void 0!==Le?Le:null}static parseLink(g){const m=function Vd(x){const g=(0,oe.zd)((0,oe.pd)(x)).link,m=g?(0,oe.zd)((0,oe.pd)(g)).deep_link_id:null,D=(0,oe.zd)((0,oe.pd)(x)).deep_link_id;return(D?(0,oe.zd)((0,oe.pd)(D)).link:null)||D||m||g||x}(g);try{return new yo(m)}catch{return null}}}let RA=(()=>{class x{constructor(){this.providerId=x.PROVIDER_ID}static credential(m,D){return Ih._fromEmailAndPassword(m,D)}static credentialWithLink(m,D){const Q=yo.parseLink(D);return Zt(Q,"argument-error"),Ih._fromEmailAndCode(m,Q.code,Q.tenantId)}}return x.PROVIDER_ID="password",x.EMAIL_PASSWORD_SIGN_IN_METHOD="password",x.EMAIL_LINK_SIGN_IN_METHOD="emailLink",x})();class na{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Is extends na{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class mu extends Is{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return Zt("providerId"in m&&"signInMethod"in m,"argument-error"),Ac._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Zt(g.idToken||g.accessToken,"argument-error"),Ac._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return mu.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return mu.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:D,oauthTokenSecret:Q,pendingToken:z,nonce:ge,providerId:Le}=g;if(!D&&!Q&&!m&&!z||!Le)return null;try{return new mu(Le)._credential({idToken:m,accessToken:D,nonce:ge,pendingToken:z})}catch{return null}}}let _u=(()=>{class x extends Is{constructor(){super("facebook.com")}static credential(m){return Ac._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return x.credentialFromTaggedObject(m)}static credentialFromError(m){return x.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return x.credential(m.oauthAccessToken)}catch{return null}}}return x.FACEBOOK_SIGN_IN_METHOD="facebook.com",x.PROVIDER_ID="facebook.com",x})(),td=(()=>{class x extends Is{constructor(){super("google.com"),this.addScope("profile")}static credential(m,D){return Ac._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:D})}static credentialFromResult(m){return x.credentialFromTaggedObject(m)}static credentialFromError(m){return x.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:D,oauthAccessToken:Q}=m;if(!D&&!Q)return null;try{return x.credential(D,Q)}catch{return null}}}return x.GOOGLE_SIGN_IN_METHOD="google.com",x.PROVIDER_ID="google.com",x})(),$i=(()=>{class x extends Is{constructor(){super("github.com")}static credential(m){return Ac._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return x.credentialFromTaggedObject(m)}static credentialFromError(m){return x.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return x.credential(m.oauthAccessToken)}catch{return null}}}return x.GITHUB_SIGN_IN_METHOD="github.com",x.PROVIDER_ID="github.com",x})();class Wl extends Pd{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return Yl(g,this.buildRequest())}_linkToIdToken(g,m){const D=this.buildRequest();return D.idToken=m,Yl(g,D)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Yl(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:Q,pendingToken:z}=m;return D&&Q&&z&&D===Q?new Wl(D,z):null}static _create(g,m){return new Wl(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class fc extends na{constructor(g){Zt(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return fc.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return fc.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=Wl.fromJSON(g);return Zt(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:D}=g;if(!m||!D)return null;try{return Wl._create(D,m)}catch{return null}}}let Or=(()=>{class x extends Is{constructor(){super("twitter.com")}static credential(m,D){return Ac._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:D})}static credentialFromResult(m){return x.credentialFromTaggedObject(m)}static credentialFromError(m){return x.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:D,oauthTokenSecret:Q}=m;if(!D||!Q)return null;try{return x.credential(D,Q)}catch{return null}}}return x.TWITTER_SIGN_IN_METHOD="twitter.com",x.PROVIDER_ID="twitter.com",x})();function Eg(x,g){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,s.Z)(function*(x,g){return Hi(x,"POST","/v1/accounts:signUp",Ai(x,g))})).apply(this,arguments)}class qi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,D,Q=!1){return(0,s.Z)(function*(){const z=yield Ei._fromIdTokenResponse(g,D,Q),ge=Gf(D);return new qi({user:z,providerId:ge,_tokenResponse:D,operationType:m})})()}static _forOperation(g,m,D){return(0,s.Z)(function*(){yield g._updateTokensIfNecessary(D,!0);const Q=Gf(D);return new qi({user:g,providerId:Q,_tokenResponse:D,operationType:m})})()}}function Gf(x){return x.providerId?x.providerId:"phoneNumber"in x?"phone":null}function OA(){return(OA=(0,s.Z)(function*(x){var g;const m=ur(x);if(yield m._initializationPromise,null!==(g=m.currentUser)&&void 0!==g&&g.isAnonymous)return new qi({user:m.currentUser,providerId:null,operationType:"signIn"});const D=yield Eg(m,{returnSecureToken:!0}),Q=yield qi._fromIdTokenResponse(m,"signIn",D,!0);return yield m._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class Rt extends oe.ZR{constructor(g,m,D,Q){var z;super(m.code,m.message),this.operationType=D,this.user=Q,Object.setPrototypeOf(this,Rt.prototype),this.customData={appName:g.name,tenantId:null!==(z=g.tenantId)&&void 0!==z?z:void 0,_serverResponse:m.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(g,m,D,Q){return new Rt(g,m,D,Q)}}function Ki(x,g,m,D){return("reauthenticate"===g?m._getReauthenticationResolver(x):m._getIdTokenResponse(x)).catch(z=>{throw"auth/multi-factor-auth-required"===z.code?Rt._fromErrorAndOperation(x,z,g,D):z})}function Dr(x){return new Set(x.map(({providerId:g})=>g).filter(g=>!!g))}function Ds(){return(Ds=(0,s.Z)(function*(x,g){const m=(0,oe.m9)(x);yield js(!0,m,g);const{providerUserInfo:D}=yield ha(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),Q=Dr(D||[]);return m.providerData=m.providerData.filter(z=>Q.has(z.providerId)),Q.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Th(x,g){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,s.Z)(function*(x,g,m=!1){const D=yield Vn(x,g._linkToIdToken(x.auth,yield x.getIdToken()),m);return qi._forOperation(x,"link",D)})).apply(this,arguments)}function js(x,g,m){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,s.Z)(function*(x,g,m){yield ji(g);const Q=!1===x?"provider-already-linked":"no-such-provider";Zt(Dr(g.providerData).has(m)===x,g.auth,Q)})).apply(this,arguments)}function Bh(x,g){return ka.apply(this,arguments)}function ka(){return(ka=(0,s.Z)(function*(x,g,m=!1){const{auth:D}=x,Q="reauthenticate";try{const z=yield Vn(x,Ki(D,Q,g,x),m);Zt(z.idToken,D,"internal-error");const ge=Qe(z.idToken);Zt(ge,D,"internal-error");const{sub:Le}=ge;return Zt(x.uid===Le,D,"user-mismatch"),qi._forOperation(x,Q,z)}catch(z){throw"auth/user-not-found"===z?.code&&rs(D,"user-mismatch"),z}})).apply(this,arguments)}function Ml(x,g){return kl.apply(this,arguments)}function kl(){return(kl=(0,s.Z)(function*(x,g,m=!1){const D="signIn",Q=yield Ki(x,D,g),z=yield qi._fromIdTokenResponse(x,D,Q);return m||(yield x._updateCurrentUser(z.user)),z})).apply(this,arguments)}function _s(x,g){return zr.apply(this,arguments)}function zr(){return(zr=(0,s.Z)(function*(x,g){return Ml(ur(x),g)})).apply(this,arguments)}function Rl(x,g){return LA.apply(this,arguments)}function LA(){return(LA=(0,s.Z)(function*(x,g){const m=(0,oe.m9)(x);return yield js(!1,m,g.providerId),Th(m,g)})).apply(this,arguments)}function ss(x,g){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,s.Z)(function*(x,g){return Bh((0,oe.m9)(x),g)})).apply(this,arguments)}function Ig(x,g){return nd.apply(this,arguments)}function nd(){return(nd=(0,s.Z)(function*(x,g){return Hi(x,"POST","/v1/accounts:signInWithCustomToken",Ai(x,g))})).apply(this,arguments)}function zf(){return(zf=(0,s.Z)(function*(x,g){const m=ur(x),D=yield Ig(m,{token:g,returnSecureToken:!0}),Q=yield qi._fromIdTokenResponse(m,"signIn",D);return yield m._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class yu{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?Gc._fromServerResponse(g,m):"totpInfo"in m?id._fromServerResponse(g,m):rs(g,"internal-error")}}class Gc extends yu{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new Gc(m)}}class id extends yu{constructor(g){super("totp",g)}static _fromServerResponse(g,m){return new id(m)}}function zc(x,g,m){var D;Zt((null===(D=m.url)||void 0===D?void 0:D.length)>0,x,"invalid-continue-uri"),Zt(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,x,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Zt(m.iOS.bundleId.length>0,x,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(Zt(m.android.packageName.length>0,x,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function Ra(){return Ra=(0,s.Z)(function*(x,g,m){var D;const Q=ur(x),z={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(D=Q._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const ge=yield sl(Q,z,"getOobCode",!0);m&&zc(Q,ge,m),yield Cg(Q,ge)}else m&&zc(Q,z,m),yield Cg(Q,z).catch(function(){var ge=(0,s.Z)(function*(Le){if("auth/missing-recaptcha-token"!==Le.code)return Promise.reject(Le);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Pt=yield sl(Q,z,"getOobCode",!0);m&&zc(Q,Pt,m),yield Cg(Q,Pt)}});return function(Le){return ge.apply(this,arguments)}}())}),Ra.apply(this,arguments)}function Fh(){return(Fh=(0,s.Z)(function*(x,g,m){yield yg((0,oe.m9)(x),{oobCode:g,newPassword:m})})).apply(this,arguments)}function vu(){return(vu=(0,s.Z)(function*(x,g){yield Vf((0,oe.m9)(x),{oobCode:g})})).apply(this,arguments)}function Bg(x,g){return rd.apply(this,arguments)}function rd(){return(rd=(0,s.Z)(function*(x,g){const m=(0,oe.m9)(x),D=yield yg(m,{oobCode:g}),Q=D.requestType;switch(Zt(Q,m,"internal-error"),Q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Zt(D.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Zt(D.mfaInfo,m,"internal-error");default:Zt(D.email,m,"internal-error")}let z=null;return D.mfaInfo&&(z=yu._fromServerResponse(ur(m),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:z},operation:Q}})).apply(this,arguments)}function Mh(){return(Mh=(0,s.Z)(function*(x,g){const{data:m}=yield Bg((0,oe.m9)(x),g);return m.email})).apply(this,arguments)}function Oa(){return Oa=(0,s.Z)(function*(x,g,m){var D;const Q=ur(x),z={returnSecureToken:!0,email:g,password:m,clientType:"CLIENT_TYPE_WEB"};let ge;if(null!==(D=Q._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const Ct=yield sl(Q,z,"signUpPassword");ge=Eg(Q,Ct)}else ge=Eg(Q,z).catch(function(){var Ct=(0,s.Z)(function*(tn){if("auth/missing-recaptcha-token"===tn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const fn=yield sl(Q,z,"signUpPassword");return Eg(Q,fn)}return Promise.reject(tn)});return function(tn){return Ct.apply(this,arguments)}}());const Le=yield ge.catch(Ct=>Promise.reject(Ct)),Pt=yield qi._fromIdTokenResponse(Q,"signIn",Le);return yield Q._updateCurrentUser(Pt.user),Pt}),Oa.apply(this,arguments)}function sd(){return sd=(0,s.Z)(function*(x,g,m){var D;const Q=ur(x),z={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function ge(Le,Pt){Zt(Pt.handleCodeInApp,Q,"argument-error"),Pt&&zc(Q,Le,Pt)}if(null!==(D=Q._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const Le=yield sl(Q,z,"getOobCode",!0);ge(Le,m),yield Ta(Q,Le)}else ge(z,m),yield Ta(Q,z).catch(function(){var Le=(0,s.Z)(function*(Pt){if("auth/missing-recaptcha-token"!==Pt.code)return Promise.reject(Pt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ct=yield sl(Q,z,"getOobCode",!0);ge(Ct,m),yield Ta(Q,Ct)}});return function(Pt){return Le.apply(this,arguments)}}())}),sd.apply(this,arguments)}function Kf(){return(Kf=(0,s.Z)(function*(x,g,m){const D=(0,oe.m9)(x),Q=RA.credentialWithLink(g,m||Wn());return Zt(Q._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),_s(D,Q)})).apply(this,arguments)}function kg(x,g){return wu.apply(this,arguments)}function wu(){return(wu=(0,s.Z)(function*(x,g){return Oi(x,"POST","/v1/accounts:createAuthUri",Ai(x,g))})).apply(this,arguments)}function gc(){return(gc=(0,s.Z)(function*(x,g){const D={identifier:g,continueUri:dc()?Wn():"http://localhost"},{signinMethods:Q}=yield kg((0,oe.m9)(x),D);return Q||[]})).apply(this,arguments)}function ad(){return(ad=(0,s.Z)(function*(x,g){const m=(0,oe.m9)(x),Q={requestType:"VERIFY_EMAIL",idToken:yield x.getIdToken()};g&&zc(m.auth,Q,g);const{email:z}=yield Ud(m.auth,Q);z!==x.email&&(yield x.reload())})).apply(this,arguments)}function La(){return(La=(0,s.Z)(function*(x,g,m){const D=(0,oe.m9)(x),z={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield x.getIdToken(),newEmail:g};m&&zc(D.auth,z,m);const{email:ge}=yield Gy(D.auth,z);ge!==x.email&&(yield x.reload())})).apply(this,arguments)}function Gd(x,g){return ol.apply(this,arguments)}function ol(){return(ol=(0,s.Z)(function*(x,g){return Oi(x,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function bu(){return(bu=(0,s.Z)(function*(x,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const D=(0,oe.m9)(x),z={idToken:yield D.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},ge=yield Vn(D,Gd(D.auth,z));D.displayName=ge.displayName||null,D.photoURL=ge.photoUrl||null;const Le=D.providerData.find(({providerId:Pt})=>"password"===Pt);Le&&(Le.displayName=D.displayName,Le.photoURL=D.photoURL),yield D._updateTokensIfNecessary(ge)})).apply(this,arguments)}function Og(x,g,m){return Lg.apply(this,arguments)}function Lg(){return(Lg=(0,s.Z)(function*(x,g,m){const{auth:D}=x,z={idToken:yield x.getIdToken(),returnSecureToken:!0};g&&(z.email=g),m&&(z.password=m);const ge=yield Vn(x,vg(D,z));yield x._updateTokensIfNecessary(ge,!0)})).apply(this,arguments)}class ga{constructor(g,m,D={}){this.isNewUser=g,this.providerId=m,this.profile=D}}class Rh extends ga{constructor(g,m,D,Q){super(g,m,D),this.username=Q}}class l_ extends ga{constructor(g,m){super(g,"facebook.com",m)}}class Cu extends Rh{constructor(g,m){super(g,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class UA extends ga{constructor(g,m){super(g,"google.com",m)}}class zd extends Rh{constructor(g,m,D){super(g,"twitter.com",m,D)}}function cd(x){const{user:g,_tokenResponse:m}=x;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Ng(x){var g,m;if(!x)return null;const{providerId:D}=x,Q=x.rawUserInfo?JSON.parse(x.rawUserInfo):{},z=x.isNewUser||"identitytoolkit#SignupNewUserResponse"===x.kind;if(!D&&x?.idToken){const ge=null===(m=null===(g=Qe(x.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(ge)return new ga(z,"anonymous"!==ge&&"custom"!==ge?ge:null)}if(!D)return null;switch(D){case"facebook.com":return new l_(z,Q);case"github.com":return new Cu(z,Q);case"google.com":return new UA(z,Q);case"twitter.com":return new zd(z,Q,x.screenName||null);case"custom":case"anonymous":return new ga(z,null);default:return new ga(z,D,Q)}}(m)}class qc{constructor(g,m,D){this.type=g,this.credential=m,this.auth=D}static _fromIdtoken(g,m){return new qc("enroll",g,m)}static _fromMfaPendingCredential(g){return new qc("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,D;if(g?.multiFactorSession){if(null!==(m=g.multiFactorSession)&&void 0!==m&&m.pendingCredential)return qc._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(D=g.multiFactorSession)&&void 0!==D&&D.idToken)return qc._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Kd{constructor(g,m,D){this.session=g,this.hints=m,this.signInResolver=D}static _fromError(g,m){const D=ur(g),Q=m.customData._serverResponse,z=(Q.mfaInfo||[]).map(Le=>yu._fromServerResponse(D,Le));Zt(Q.mfaPendingCredential,D,"internal-error");const ge=qc._fromMfaPendingCredential(Q.mfaPendingCredential);return new Kd(ge,z,function(){var Le=(0,s.Z)(function*(Pt){const Ct=yield Pt._process(D,ge);delete Q.mfaInfo,delete Q.mfaPendingCredential;const tn=Object.assign(Object.assign({},Q),{idToken:Ct.idToken,refreshToken:Ct.refreshToken});switch(m.operationType){case"signIn":const fn=yield qi._fromIdTokenResponse(D,m.operationType,tn);return yield D._updateCurrentUser(fn.user),fn;case"reauthenticate":return Zt(m.user,D,"internal-error"),qi._forOperation(m.user,m.operationType,tn);default:rs(D,"internal-error")}});return function(Pt){return Le.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,s.Z)(function*(){return m.signInResolver(g)})()}}function Lh(x,g){return Oi(x,"POST","/v2/accounts/mfaEnrollment:start",Ai(x,g))}class Zd{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(D=>yu._fromServerResponse(g.auth,D)))})}static _fromUser(g){return new Zd(g)}getSession(){var g=this;return(0,s.Z)(function*(){return qc._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,m){var D=this;return(0,s.Z)(function*(){const Q=g,z=yield D.getSession(),ge=yield Vn(D.user,Q._process(D.user.auth,z,m));return yield D.user._updateTokensIfNecessary(ge),D.user.reload()})()}unenroll(g){var m=this;return(0,s.Z)(function*(){const D="string"==typeof g?g:g.uid,Q=yield m.user.getIdToken();try{const z=yield Vn(m.user,function Wf(x,g){return Oi(x,"POST","/v2/accounts/mfaEnrollment:withdraw",Ai(x,g))}(m.user.auth,{idToken:Q,mfaEnrollmentId:D}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ge})=>ge!==D),yield m.user._updateTokensIfNecessary(z),yield m.user.reload()}catch(z){throw z}})()}}const Nh=new WeakMap,Xl="__sak";class $d{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Xl,"1"),this.storage.removeItem(Xl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const VA=(()=>{class x extends $d{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,D)=>this.onStorageEvent(m,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Jf(){const x=(0,oe.z$)();return ms(x)||jr(x)}()&&function Ti(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=du(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const D of Object.keys(this.listeners)){const Q=this.storage.getItem(D),z=this.localCache[D];Q!==z&&m(D,z,Q)}}onStorageEvent(m,D=!1){if(!m.key)return void this.forAllChangedKeys((Le,Pt,Ct)=>{this.notifyListeners(Le,Ct)});const Q=m.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Le=this.storage.getItem(Q);if(m.newValue!==Le)null!==m.newValue?this.storage.setItem(Q,m.newValue):this.storage.removeItem(Q);else if(this.localCache[Q]===m.newValue&&!D)return}const z=()=>{const Le=this.storage.getItem(Q);!D&&this.localCache[Q]===Le||this.notifyListeners(Q,Le)},ge=this.storage.getItem(Q);!function Lo(){return(0,oe.w1)()&&10===document.documentMode}()||ge===m.newValue||m.newValue===m.oldValue?z():setTimeout(z,10)}notifyListeners(m,D){this.localCache[m]=D;const Q=this.listeners[m];if(Q)for(const z of Array.from(Q))z(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,D,Q)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:D,newValue:Q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(D)}_removeListener(m,D){this.listeners[m]&&(this.listeners[m].delete(D),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,D){var Q=()=>super._set,z=this;return(0,s.Z)(function*(){yield Q().call(z,m,D),z.localCache[m]=JSON.stringify(D)})()}_get(m){var D=()=>super._get,Q=this;return(0,s.Z)(function*(){const z=yield D().call(Q,m);return Q.localCache[m]=JSON.stringify(z),z})()}_remove(m){var D=()=>super._remove,Q=this;return(0,s.Z)(function*(){yield D().call(Q,m),delete Q.localCache[m]})()}}return x.type="LOCAL",x})(),Kc=(()=>{class x extends $d{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,D){}_removeListener(m,D){}}return x.type="SESSION",x})();let Xf=(()=>{class x{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const D=this.receivers.find(z=>z.isListeningto(m));if(D)return D;const Q=new x(m);return this.receivers.push(Q),Q}isListeningto(m){return this.eventTarget===m}handleEvent(m){var D=this;return(0,s.Z)(function*(){const Q=m,{eventId:z,eventType:ge,data:Le}=Q.data,Pt=D.handlersMap[ge];if(!Pt?.size)return;Q.ports[0].postMessage({status:"ack",eventId:z,eventType:ge});const Ct=Array.from(Pt).map(function(){var fn=(0,s.Z)(function*(Yi){return Yi(Q.origin,Le)});return function(Yi){return fn.apply(this,arguments)}}()),tn=yield function $y(x){return Promise.all(x.map(function(){var g=(0,s.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(D){return{fulfilled:!1,reason:D}}});return function(m){return g.apply(this,arguments)}}()))}(Ct);Q.ports[0].postMessage({status:"done",eventId:z,eventType:ge,response:tn})})()}_subscribe(m,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(D)}_unsubscribe(m,D){this.handlersMap[m]&&D&&this.handlersMap[m].delete(D),(!D||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return x.receivers=[],x})();function ma(x="",g=10){let m="";for(let D=0;D<g;D++)m+=Math.floor(10*Math.random());return x+m}class Wd{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,D=50){var Q=this;return(0,s.Z)(function*(){const z=typeof MessageChannel<"u"?new MessageChannel:null;if(!z)throw new Error("connection_unavailable");let ge,Le;return new Promise((Pt,Ct)=>{const tn=ma("",20);z.port1.start();const fn=setTimeout(()=>{Ct(new Error("unsupported_event"))},D);Le={messageChannel:z,onMessage(Yi){const $s=Yi;if($s.data.eventId===tn)switch($s.data.status){case"ack":clearTimeout(fn),ge=setTimeout(()=>{Ct(new Error("timeout"))},3e3);break;case"done":clearTimeout(ge),Pt($s.data.response);break;default:clearTimeout(fn),clearTimeout(ge),Ct(new Error("invalid_response"))}}},Q.handlers.add(Le),z.port1.addEventListener("message",Le.onMessage),Q.target.postMessage({eventType:g,eventId:tn,data:m},[z.port2])}).finally(()=>{Le&&Q.removeMessageHandler(Le)})})()}}function ts(){return window}function Ph(){return typeof ts().WorkerGlobalScope<"u"&&"function"==typeof ts().importScripts}function xu(){return(xu=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const qr="firebaseLocalStorageDb",zA="firebaseLocalStorage",Yy="fbase_key";class _c{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ep(x,g){return x.transaction([zA],g?"readwrite":"readonly").objectStore(zA)}function Ug(){const x=indexedDB.open(qr,1);return new Promise((g,m)=>{x.addEventListener("error",()=>{m(x.error)}),x.addEventListener("upgradeneeded",()=>{const D=x.result;try{D.createObjectStore(zA,{keyPath:Yy})}catch(Q){m(Q)}}),x.addEventListener("success",(0,s.Z)(function*(){const D=x.result;D.objectStoreNames.contains(zA)?g(D):(D.close(),yield function f_(){const x=indexedDB.deleteDatabase(qr);return new _c(x).toPromise()}(),g(yield Ug()))}))})}function ud(x,g,m){return p_.apply(this,arguments)}function p_(){return(p_=(0,s.Z)(function*(x,g,m){const D=ep(x,!0).put({[Yy]:g,value:m});return new _c(D).toPromise()})).apply(this,arguments)}function Gs(){return(Gs=(0,s.Z)(function*(x,g){const m=ep(x,!1).get(g),D=yield new _c(m).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function Ol(x,g){const m=ep(x,!0).delete(g);return new _c(m).toPromise()}const jn=(()=>{class x{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,s.Z)(function*(){return m.db||(m.db=yield Ug()),m.db})()}_withRetries(m){var D=this;return(0,s.Z)(function*(){let Q=0;for(;;)try{const z=yield D._openDb();return yield m(z)}catch(z){if(Q++>3)throw z;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,s.Z)(function*(){return Ph()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,s.Z)(function*(){m.receiver=Xf._getInstance(function A_(){return Ph()?self:null}()),m.receiver._subscribe("keyChanged",function(){var D=(0,s.Z)(function*(Q,z){return{keyProcessed:(yield m._poll()).includes(z.key)}});return function(Q,z){return D.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var D=(0,s.Z)(function*(Q,z){return["keyChanged"]});return function(Q,z){return D.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,s.Z)(function*(){var D,Q;if(m.activeServiceWorker=yield function GA(){return xu.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Wd(m.activeServiceWorker);const z=yield m.sender._send("ping",{},800);!z||(null===(D=z[0])||void 0===D?void 0:D.fulfilled)&&(null===(Q=z[0])||void 0===Q?void 0:Q.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var D=this;return(0,s.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function h_(){var x;return(null===(x=navigator?.serviceWorker)||void 0===x?void 0:x.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:m},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Ug();return yield ud(m,Xl,"1"),yield Ol(m,Xl),!0}catch{}return!1})()}_withPendingWrite(m){var D=this;return(0,s.Z)(function*(){D.pendingWrites++;try{yield m()}finally{D.pendingWrites--}})()}_set(m,D){var Q=this;return(0,s.Z)(function*(){return Q._withPendingWrite((0,s.Z)(function*(){return yield Q._withRetries(z=>ud(z,m,D)),Q.localCache[m]=D,Q.notifyServiceWorker(m)}))})()}_get(m){var D=this;return(0,s.Z)(function*(){const Q=yield D._withRetries(z=>function g_(x,g){return Gs.apply(this,arguments)}(z,m));return D.localCache[m]=Q,Q})()}_remove(m){var D=this;return(0,s.Z)(function*(){return D._withPendingWrite((0,s.Z)(function*(){return yield D._withRetries(Q=>Ol(Q,m)),delete D.localCache[m],D.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,s.Z)(function*(){const D=yield m._withRetries(ge=>{const Le=ep(ge,!1).getAll();return new _c(Le).toPromise()});if(!D)return[];if(0!==m.pendingWrites)return[];const Q=[],z=new Set;for(const{fbase_key:ge,value:Le}of D)z.add(ge),JSON.stringify(m.localCache[ge])!==JSON.stringify(Le)&&(m.notifyListeners(ge,Le),Q.push(ge));for(const ge of Object.keys(m.localCache))m.localCache[ge]&&!z.has(ge)&&(m.notifyListeners(ge,null),Q.push(ge));return Q})()}notifyListeners(m,D){this.localCache[m]=D;const Q=this.listeners[m];if(Q)for(const z of Array.from(Q))z(D)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(D)}_removeListener(m,D){this.listeners[m]&&(this.listeners[m].delete(D),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return x.type="LOCAL",x})();function Pa(x,g){return Oi(x,"POST","/v2/accounts/mfaSignIn:start",Ai(x,g))}const Eu=1e12;class mr{constructor(g){this.auth=g,this.counter=Eu,this._widgets=new Map}render(g,m){const D=this.counter;return this._widgets.set(D,new __(g,this.auth.name,m||{})),this.counter++,D}reset(g){var m;const D=g||Eu;null===(m=this._widgets.get(D))||void 0===m||m.delete(),this._widgets.delete(D)}getResponse(g){var m;return(null===(m=this._widgets.get(g||Eu))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,s.Z)(function*(){var D;return null===(D=m._widgets.get(g||Eu))||void 0===D||D.execute(),""})()}}class __{constructor(g,m,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Q="string"==typeof g?document.getElementById(g):g;Zt(Q,"argument-error",{appName:m}),this.container=Q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function y_(x){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<x;D++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const dd=Yr("rcb"),Ua=new $o(3e4,6e4);class ra{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=ts().grecaptcha)||void 0===g||!g.render)}load(g,m=""){return Zt(function wn(x){return x.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(x)}(m),g,"argument-error"),this.shouldResolveImmediately(m)&&Ju(ts().grecaptcha)?Promise.resolve(ts().grecaptcha):new Promise((D,Q)=>{const z=ts().setTimeout(()=>{Q(us(g,"network-request-failed"))},Ua.get());ts()[dd]=()=>{ts().clearTimeout(z),delete ts()[dd];const Le=ts().grecaptcha;if(!Le||!Ju(Le))return void Q(us(g,"internal-error"));const Pt=Le.render;Le.render=(Ct,tn)=>{const fn=Pt(Ct,tn);return this.counter++,fn},this.hostLanguage=m,D(Le)},Gr(`https://www.google.com/recaptcha/api.js??${(0,oe.xO)({onload:dd,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(z),Q(us(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var m;return!(null===(m=ts().grecaptcha)||void 0===m||!m.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class an{load(g){return(0,s.Z)(function*(){return new mr(g)})()}clearedOneInstance(){}}const Qg="recaptcha",np={theme:"light",type:"image"};class ec{constructor(g,m=Object.assign({},np),D){this.parameters=m,this.type=Qg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ur(D),this.isInvisible="invisible"===this.parameters.size,Zt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Q="string"==typeof g?document.getElementById(g):g;Zt(Q,this.auth,"argument-error"),this.container=Q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new an:new ra,this.validateStartingState()}verify(){var g=this;return(0,s.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),D=g.getAssertedRecaptcha();return D.getResponse(m)||new Promise(z=>{const ge=Le=>{!Le||(g.tokenChangeListeners.delete(ge),z(Le))};g.tokenChangeListeners.add(ge),g.isInvisible&&D.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Zt(!this.parameters.sitekey,this.auth,"argument-error"),Zt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Zt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(D=>D(m)),"function"==typeof g)g(m);else if("string"==typeof g){const D=ts()[g];"function"==typeof D&&D(m)}}}assertNotDestroyed(){Zt(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,s.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const D=document.createElement("div");m.appendChild(D),m=D}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,s.Z)(function*(){Zt(dc()&&!Ph(),g.auth,"internal-error"),yield function Hg(){let x=null;return new Promise(g=>{"complete"!==document.readyState?(x=()=>g(),window.addEventListener("load",x)):g()}).catch(g=>{throw x&&window.removeEventListener("load",x),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function hu(x){return Ch.apply(this,arguments)}(g.auth);Zt(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return Zt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Nr{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=ed._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function al(){return(al=(0,s.Z)(function*(x,g,m){const D=ur(x),Q=yield ll(D,g,(0,oe.m9)(m));return new Nr(Q,z=>_s(D,z))})).apply(this,arguments)}function Iu(){return(Iu=(0,s.Z)(function*(x,g,m){const D=(0,oe.m9)(x);yield js(!1,D,"phone");const Q=yield ll(D.auth,g,(0,oe.m9)(m));return new Nr(Q,z=>Rl(D,z))})).apply(this,arguments)}function Zc(){return(Zc=(0,s.Z)(function*(x,g,m){const D=(0,oe.m9)(x),Q=yield ll(D.auth,g,(0,oe.m9)(m));return new Nr(Q,z=>ss(D,z))})).apply(this,arguments)}function ll(x,g,m){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,s.Z)(function*(x,g,m){var D;const Q=yield m.verify();try{let z;if(Zt("string"==typeof Q,x,"argument-error"),Zt(m.type===Qg,x,"argument-error"),z="string"==typeof g?{phoneNumber:g}:g,"session"in z){const ge=z.session;if("phoneNumber"in z)return Zt("enroll"===ge.type,x,"internal-error"),(yield Lh(x,{idToken:ge.credential,phoneEnrollmentInfo:{phoneNumber:z.phoneNumber,recaptchaToken:Q}})).phoneSessionInfo.sessionInfo;{Zt("signin"===ge.type,x,"internal-error");const Le=(null===(D=z.multiFactorHint)||void 0===D?void 0:D.uid)||z.multiFactorUid;return Zt(Le,x,"missing-multi-factor-info"),(yield Pa(x,{mfaPendingCredential:ge.credential,mfaEnrollmentId:Le,phoneSignInInfo:{recaptchaToken:Q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ge}=yield Dh(x,{phoneNumber:z.phoneNumber,recaptchaToken:Q});return ge}}finally{m._reset()}})).apply(this,arguments)}function hd(){return(hd=(0,s.Z)(function*(x,g){yield Th((0,oe.m9)(x),g)})).apply(this,arguments)}let zs=(()=>{class x{constructor(m){this.providerId=x.PROVIDER_ID,this.auth=ur(m)}verifyPhoneNumber(m,D){return ll(this.auth,m,(0,oe.m9)(D))}static credential(m,D){return ed._fromVerification(m,D)}static credentialFromResult(m){return x.credentialFromTaggedObject(m)}static credentialFromError(m){return x.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:D,temporaryProof:Q}=m;return D&&Q?ed._fromTokenResponse(D,Q):null}}return x.PROVIDER_ID="phone",x.PHONE_SIGN_IN_METHOD="phone",x})();function ro(x,g){return g?fr(g):(Zt(x._popupRedirectResolver,x,"argument-error"),x._popupRedirectResolver)}class yc extends Pd{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Yl(g,this._buildIdpRequest())}_linkToIdToken(g,m){return Yl(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return Yl(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function Po(x){return Ml(x.auth,new yc(x),x.bypassAuthState)}function Wr(x){const{auth:g,user:m}=x;return Zt(m,g,"internal-error"),Bh(m,new yc(x),x.bypassAuthState)}function Ad(x){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,s.Z)(function*(x){const{auth:g,user:m}=x;return Zt(m,g,"internal-error"),Th(m,new yc(x),x.bypassAuthState)})).apply(this,arguments)}class ys{constructor(g,m,D,Q,z=!1){this.auth=g,this.resolver=D,this.user=Q,this.bypassAuthState=z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,s.Z)(function*(D,Q){g.pendingPromise={resolve:D,reject:Q};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(z){g.reject(z)}});return function(D,Q){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,s.Z)(function*(){const{urlResponse:D,sessionId:Q,postBody:z,tenantId:ge,error:Le,type:Pt}=g;if(Le)return void m.reject(Le);const Ct={auth:m.auth,requestUri:D,sessionId:Q,tenantId:ge||void 0,postBody:z||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Pt)(Ct))}catch(tn){m.reject(tn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Po;case"linkViaPopup":case"linkViaRedirect":return Ad;case"reauthViaPopup":case"reauthViaRedirect":return Wr;default:rs(this.auth,"internal-error")}}resolve(g){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Jr=new $o(2e3,1e4);function _i(){return(_i=(0,s.Z)(function*(x,g,m){const D=ur(x);Ps(x,g,na);const Q=ro(D,m);return new Uo(D,"signInViaPopup",g,Q).executeNotNull()})).apply(this,arguments)}function Xd(){return(Xd=(0,s.Z)(function*(x,g,m){const D=(0,oe.m9)(x);Ps(D.auth,g,na);const Q=ro(D.auth,m);return new Uo(D.auth,"reauthViaPopup",g,Q,D).executeNotNull()})).apply(this,arguments)}function $c(){return($c=(0,s.Z)(function*(x,g,m){const D=(0,oe.m9)(x);Ps(D.auth,g,na);const Q=ro(D.auth,m);return new Uo(D.auth,"linkViaPopup",g,Q,D).executeNotNull()})).apply(this,arguments)}let Uo=(()=>{class x extends ys{constructor(m,D,Q,z,ge){super(m,D,z,ge),this.provider=Q,this.authWindow=null,this.pollId=null,x.currentPopupAction&&x.currentPopupAction.cancel(),x.currentPopupAction=this}executeNotNull(){var m=this;return(0,s.Z)(function*(){const D=yield m.execute();return Zt(D,m.auth,"internal-error"),D})()}onExecution(){var m=this;return(0,s.Z)(function*(){Us(1===m.filter.length,"Popup operations only handle one event");const D=ma();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],D),m.authWindow.associatedEvent=D,m.resolver._originValidation(m.auth).catch(Q=>{m.reject(Q)}),m.resolver._isIframeWebStorageSupported(m.auth,Q=>{Q||m.reject(us(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(us(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,x.currentPopupAction=null}pollUserCancellation(){const m=()=>{var D,Q;this.pollId=null!==(Q=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==Q&&Q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(us(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Jr.get())};m()}}return x.currentPopupAction=null,x})();const Cr=new Map;class Qo extends ys{constructor(g,m,D=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,D),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,s.Z)(function*(){let D=Cr.get(m.auth._key());if(!D){try{const z=(yield function eh(x,g){return tc.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;D=()=>Promise.resolve(z)}catch(Q){D=()=>Promise.reject(Q)}Cr.set(m.auth._key(),D)}return m.bypassAuthState||Cr.set(m.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,D=this;return(0,s.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(D,g);if("unknown"!==g.type){if(g.eventId){const Q=yield D.auth._redirectUserForId(g.eventId);if(Q)return D.user=Q,m().call(D,g);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function tc(){return(tc=(0,s.Z)(function*(x,g){const m=pi(g),D=th(x);if(!(yield D._isAvailable()))return!1;const Q="true"===(yield D._get(m));return yield D._remove(m),Q})).apply(this,arguments)}function jh(x,g){return rp.apply(this,arguments)}function rp(){return(rp=(0,s.Z)(function*(x,g){return th(x)._set(pi(g),"true")})).apply(this,arguments)}function fd(x,g){Cr.set(x._key(),g)}function th(x){return fr(x._redirectPersistence)}function pi(x){return Rr("pendingRedirect",x.config.apiKey,x.name)}function Tu(){return(Tu=(0,s.Z)(function*(x,g,m){const D=ur(x);Ps(x,g,na),yield D._initializationPromise;const Q=ro(D,m);return yield jh(Q,D),Q._openRedirect(D,g,"signInViaRedirect")})).apply(this,arguments)}function bo(){return(bo=(0,s.Z)(function*(x,g,m){const D=(0,oe.m9)(x);Ps(D.auth,g,na),yield D.auth._initializationPromise;const Q=ro(D.auth,m);yield jh(Q,D.auth);const z=yield N(D);return Q._openRedirect(D.auth,g,"reauthViaRedirect",z)})).apply(this,arguments)}function Fu(){return(Fu=(0,s.Z)(function*(x,g,m){const D=(0,oe.m9)(x);Ps(D.auth,g,na),yield D.auth._initializationPromise;const Q=ro(D.auth,m);yield js(!1,D,g.providerId),yield jh(Q,D.auth);const z=yield N(D);return Q._openRedirect(D.auth,g,"linkViaRedirect",z)})).apply(this,arguments)}function qs(){return(qs=(0,s.Z)(function*(x,g){return yield ur(x)._initializationPromise,so(x,g,!1)})).apply(this,arguments)}function so(x,g){return k.apply(this,arguments)}function k(){return(k=(0,s.Z)(function*(x,g,m=!1){const D=ur(x),Q=ro(D,g),ge=yield new Qo(D,Q,m).execute();return ge&&!m&&(delete ge.user._redirectEventId,yield D._persistUserIfCurrent(ge.user),yield D._setRedirectUser(null,g)),ge})).apply(this,arguments)}function N(x){return K.apply(this,arguments)}function K(){return(K=(0,s.Z)(function*(x){const g=ma(`${x.uid}:::`);return x._redirectEventId=g,yield x.auth._setRedirectUser(x),yield x.auth._persistUserIfCurrent(x),g})).apply(this,arguments)}class Ie{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(g,D)&&(m=!0,this.sendToConsumer(g,D),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function mn(x){switch(x.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gt(x);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var D;if(g.error&&!gt(g)){const Q=(null===(D=g.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";m.onError(us(this.auth,Q))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const D=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&D}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qe(g))}saveEventToCache(g){this.cachedEventUids.add(qe(g)),this.lastProcessedEventTime=Date.now()}}function qe(x){return[x.type,x.eventId,x.sessionId,x.tenantId].filter(g=>g).join("-")}function gt({type:x,error:g}){return"unknown"===x&&"auth/no-auth-event"===g?.code}function on(x){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,s.Z)(function*(x,g={}){return Oi(x,"GET","/v1/projects",g)})).apply(this,arguments)}const Fn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yt=/^https?/;function Ks(){return(Ks=(0,s.Z)(function*(x){if(x.config.emulator)return;const{authorizedDomains:g}=yield on(x);for(const m of g)try{if(ul(m))return}catch{}rs(x,"unauthorized-domain")})).apply(this,arguments)}function ul(x){const g=Wn(),{protocol:m,hostname:D}=new URL(g);if(x.startsWith("chrome-extension://")){const ge=new URL(x);return""===ge.hostname&&""===D?"chrome-extension:"===m&&x.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&ge.hostname===D}if(!Yt.test(m))return!1;if(Fn.test(x))return D===x;const Q=x.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Q+"|"+Q+")$","i").test(D)}const Zs=new $o(3e4,6e4);function Va(){const x=ts().___jsl;if(x?.H)for(const g of Object.keys(x.H))if(x.H[g].r=x.H[g].r||[],x.H[g].L=x.H[g].L||[],x.H[g].r=[...x.H[g].L],x.CP)for(let m=0;m<x.CP.length;m++)x.CP[m]=null}let Ll=null;function Gh(x){return Ll=Ll||function ja(x){return new Promise((g,m)=>{var D,Q,z;function ge(){Va(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Va(),m(us(x,"network-request-failed"))},timeout:Zs.get()})}if(null!==(Q=null===(D=ts().gapi)||void 0===D?void 0:D.iframes)&&void 0!==Q&&Q.Iframe)g(gapi.iframes.getContext());else{if(null===(z=ts().gapi)||void 0===z||!z.load){const Le=Yr("iframefcb");return ts()[Le]=()=>{gapi.load?ge():m(us(x,"network-request-failed"))},Gr(`https://apis.google.com/js/api.js?onload=${Le}`).catch(Pt=>m(Pt))}ge()}}).catch(g=>{throw Ll=null,g})}(x),Ll}const KA=new $o(5e3,15e3),sw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},op=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ap(x){const g=x.config;Zt(g.authDomain,x,"auth-domain-config-required");const m=g.emulator?si(g,"emulator/auth/iframe"):`https://${x.config.authDomain}/__/auth/iframe`,D={apiKey:g.apiKey,appName:x.name,v:rt.SDK_VERSION},Q=op.get(x.config.apiHost);Q&&(D.eid=Q);const z=x._getFrameworks();return z.length&&(D.fw=z.join(",")),`${m}?${(0,oe.xO)(D).slice(1)}`}function zh(){return zh=(0,s.Z)(function*(x){const g=yield Gh(x),m=ts().gapi;return Zt(m,x,"internal-error"),g.open({where:document.body,url:ap(x),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sw,dontclear:!0},D=>new Promise(function(){var Q=(0,s.Z)(function*(z,ge){yield D.restyle({setHideOnLeave:!1});const Le=us(x,"network-request-failed"),Pt=ts().setTimeout(()=>{ge(Le)},KA.get());function Ct(){ts().clearTimeout(Pt),z(D)}D.ping(Ct).then(Ct,()=>{ge(Le)})});return function(z,ge){return Q.apply(this,arguments)}}()))}),zh.apply(this,arguments)}const lp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class up{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Kg=encodeURIComponent("fac");function pd(x,g,m,D,Q,z){return vc.apply(this,arguments)}function vc(){return(vc=(0,s.Z)(function*(x,g,m,D,Q,z){Zt(x.config.authDomain,x,"auth-domain-config-required"),Zt(x.config.apiKey,x,"invalid-api-key");const ge={apiKey:x.config.apiKey,appName:x.name,authType:m,redirectUrl:D,v:rt.SDK_VERSION,eventId:Q};if(g instanceof na){g.setDefaultLanguage(x.languageCode),ge.providerId=g.providerId||"",(0,oe.xb)(g.getCustomParameters())||(ge.customParameters=JSON.stringify(g.getCustomParameters()));for(const[tn,fn]of Object.entries(z||{}))ge[tn]=fn}if(g instanceof Is){const tn=g.getScopes().filter(fn=>""!==fn);tn.length>0&&(ge.scopes=tn.join(","))}x.tenantId&&(ge.tid=x.tenantId);const Le=ge;for(const tn of Object.keys(Le))void 0===Le[tn]&&delete Le[tn];const Pt=yield x._getAppCheckToken(),Ct=Pt?`#${Kg}=${encodeURIComponent(Pt)}`:"";return`${Zg(x)}?${(0,oe.xO)(Le).slice(1)}${Ct}`})).apply(this,arguments)}function Zg({config:x}){return x.emulator?si(x,"emulator/auth/handler"):`https://${x.authDomain}/__/auth/handler`}const dp="webStorageSupport",x_=class $g{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kc,this._completeRedirectFn=so,this._overrideRedirectResult=fd}_openPopup(g,m,D,Q){var z=this;return(0,s.Z)(function*(){var ge;Us(null===(ge=z.eventManagers[g._key()])||void 0===ge?void 0:ge.manager,"_initialize() not called before _openPopup()");const Le=yield pd(g,m,D,Wn(),Q);return function zg(x,g,m,D=500,Q=600){const z=Math.max((window.screen.availHeight-Q)/2,0).toString(),ge=Math.max((window.screen.availWidth-D)/2,0).toString();let Le="";const Pt=Object.assign(Object.assign({},lp),{width:D.toString(),height:Q.toString(),top:z,left:ge}),Ct=(0,oe.z$)().toLowerCase();m&&(Le=vn(Ct)?"_blank":m),Oo(Ct)&&(g=g||"http://localhost",Pt.scrollbars="yes");const tn=Object.entries(Pt).reduce((Yi,[$s,xc])=>`${Yi}${$s}=${xc},`,"");if(function Li(x=(0,oe.z$)()){var g;return jr(x)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Ct)&&"_self"!==Le)return function C_(x,g){const m=document.createElement("a");m.href=x,m.target=g;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(D)}(g||"",Le),new up(null);const fn=window.open(g||"",Le,tn);Zt(fn,x,"popup-blocked");try{fn.focus()}catch{}return new up(fn)}(g,Le,ma())})()}_openRedirect(g,m,D,Q){var z=this;return(0,s.Z)(function*(){return yield z._originValidation(g),function mc(x){ts().location.href=x}(yield pd(g,m,D,Wn(),Q)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:Q,promise:z}=this.eventManagers[m];return Q?Promise.resolve(Q):(Us(z,"If manager is not set, promise should be"),z)}const D=this.initAndGetManager(g);return this.eventManagers[m]={promise:D},D.catch(()=>{delete this.eventManagers[m]}),D}initAndGetManager(g){var m=this;return(0,s.Z)(function*(){const D=yield function b_(x){return zh.apply(this,arguments)}(g),Q=new Ie(g);return D.register("authEvent",z=>(Zt(z?.authEvent,g,"invalid-auth-event"),{status:Q.onEvent(z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:Q},m.iframes[g._key()]=D,Q})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(dp,{type:dp},Q=>{var z;const ge=null===(z=Q?.[0])||void 0===z?void 0:z[dp];void 0!==ge&&m(!!ge),rs(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Co(x){return Ks.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return du()||ms()||jr()}};class aw{constructor(g){this.factorId=g}_process(g,m,D){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,D);case"signin":return this._finalizeSignIn(g,m.credential);default:return Mr("unexpected MultiFactorSessionType")}}}class qh extends aw{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new qh(g)}_finalizeEnroll(g,m,D){return function os(x,g){return Oi(x,"POST","/v2/accounts/mfaEnrollment:finalize",Ai(x,g))}(g,{idToken:m,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function An(x,g){return Oi(x,"POST","/v2/accounts/mfaSignIn:finalize",Ai(x,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $A=(()=>{class x{constructor(){}static assertion(m){return qh._fromCredential(m)}}return x.FACTOR_ID="phone",x})();var ih="@firebase/auth";class lw{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,s.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(D=>{g(D?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Zt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function $h(){return window}function Yh(){return(Yh=(0,s.Z)(function*(x,g,m){var D;const{BuildInfo:Q}=$h();Us(g.sessionId,"AuthEvent did not contain a session ID");const z=yield Jh(g.sessionId),ge={};return jr()?ge.ibi=Q.packageName:Ir()?ge.apn=Q.packageName:rs(x,"operation-not-supported-in-this-environment"),Q.displayName&&(ge.appDisplayName=Q.displayName),ge.sessionId=z,pd(x,m,g.type,void 0,null!==(D=g.eventId)&&void 0!==D?D:void 0,ge)})).apply(this,arguments)}function Wh(){return(Wh=(0,s.Z)(function*(x){const{BuildInfo:g}=$h(),m={};jr()?m.iosBundleId=g.packageName:Ir()?m.androidPackageName=g.packageName:rs(x,"operation-not-supported-in-this-environment"),yield on(x,m)})).apply(this,arguments)}function WA(){return(WA=(0,s.Z)(function*(x,g,m){const{cordova:D}=$h();let Q=()=>{};try{yield new Promise((z,ge)=>{let Le=null;function Pt(){var fn;z();const Yi=null===(fn=D.plugins.browsertab)||void 0===fn?void 0:fn.close;"function"==typeof Yi&&Yi(),"function"==typeof m?.close&&m.close()}function Ct(){Le||(Le=window.setTimeout(()=>{ge(us(x,"redirect-cancelled-by-user"))},2e3))}function tn(){"visible"===document?.visibilityState&&Ct()}g.addPassiveListener(Pt),document.addEventListener("resume",Ct,!1),Ir()&&document.addEventListener("visibilitychange",tn,!1),Q=()=>{g.removePassiveListener(Pt),document.removeEventListener("resume",Ct,!1),document.removeEventListener("visibilitychange",tn,!1),Le&&window.clearTimeout(Le)}})}finally{Q()}})).apply(this,arguments)}function Jh(x){return JA.apply(this,arguments)}function JA(){return(JA=(0,s.Z)(function*(x){const g=Ts(x),m=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(m)).map(Q=>Q.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ts(x){if(Us(/[0-9a-zA-Z]+/.test(x),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(x);const g=new ArrayBuffer(x.length),m=new Uint8Array(g);for(let D=0;D<x.length;D++)m[D]=x.charCodeAt(D);return m}(0,oe.Pz)("authIdTokenMaxAge"),function Wg(x){(0,rt._registerComponent)(new di.wA("auth",(g,{options:m})=>{const D=g.getProvider("app").getImmediate(),Q=g.getProvider("heartbeat"),z=g.getProvider("app-check-internal"),{apiKey:ge,authDomain:Le}=D.options;Zt(ge&&!ge.includes(":"),"invalid-api-key",{appName:D.name}),Zt(!Le?.includes(":"),"argument-error",{appName:D.name});const Pt={apiKey:ge,authDomain:Le,clientPlatform:x,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vc(x)},Ct=new Uf(D,Q,z,Pt);return function IA(x,g){const m=g?.persistence||[],D=(Array.isArray(m)?m:[m]).map(fr);g?.errorMap&&x._updateErrorMap(g.errorMap),x._initializeWithPersistence(D,g?.popupRedirectResolver)}(Ct,m),Ct},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,D)=>{g.getProvider("auth-internal").initialize()})),(0,rt._registerComponent)(new di.wA("auth-internal",g=>{const m=ur(g.getProvider("auth").getImmediate());return new lw(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,rt.registerVersion)(ih,"0.23.1",function E_(x){switch(x){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(x)),(0,rt.registerVersion)(ih,"0.23.1","esm2017")}("Browser");class ku extends Ie{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(g)),super.onEvent(g)}initialized(){var g=this;return(0,s.Z)(function*(){yield g.initPromise})()}}function XA(x){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,s.Z)(function*(x){const g=yield Xh()._get(Ru(x));return g&&(yield Xh()._remove(Ru(x))),g})).apply(this,arguments)}function Xg(){const x=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const D=Math.floor(Math.random()*g.length);x.push(g.charAt(D))}return x.join("")}function Xh(){return fr(VA)}function Ru(x){return Rr("authEvent",x.config.apiKey,x.name)}function ef(x){if(!x?.includes("?"))return{};const[g,...m]=x.split("?");return(0,oe.zd)(m.join("?"))}const yd=class AC{constructor(){this._redirectPersistence=Kc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=so,this._overrideRedirectResult=fd}_initialize(g){var m=this;return(0,s.Z)(function*(){const D=g._key();let Q=m.eventManagers.get(D);return Q||(Q=new ku(g),m.eventManagers.set(D,Q),m.attachCallbackListeners(g,Q)),Q})()}_openPopup(g){rs(g,"operation-not-supported-in-this-environment")}_openRedirect(g,m,D,Q){var z=this;return(0,s.Z)(function*(){!function Jg(x){var g,m,D,Q,z,ge,Le,Pt,Ct,tn;const fn=$h();Zt("function"==typeof(null===(g=fn?.universalLinks)||void 0===g?void 0:g.subscribe),x,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Zt(typeof(null===(m=fn?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Zt("function"==typeof(null===(z=null===(Q=null===(D=fn?.cordova)||void 0===D?void 0:D.plugins)||void 0===Q?void 0:Q.browsertab)||void 0===z?void 0:z.openUrl),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Zt("function"==typeof(null===(Pt=null===(Le=null===(ge=fn?.cordova)||void 0===ge?void 0:ge.plugins)||void 0===Le?void 0:Le.browsertab)||void 0===Pt?void 0:Pt.isAvailable),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Zt("function"==typeof(null===(tn=null===(Ct=fn?.cordova)||void 0===Ct?void 0:Ct.InAppBrowser)||void 0===tn?void 0:tn.open),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const ge=yield z._initialize(g);yield ge.initialized(),ge.resetRedirect(),function qA(){Cr.clear()}(),yield z._originValidation(g);const Le=function sh(x,g,m=null){return{type:g,eventId:m,urlResponse:null,sessionId:Xg(),postBody:null,tenantId:x.tenantId,error:us(x,"no-auth-event")}}(g,D,Q);yield function _d(x,g){return Xh()._set(Ru(x),g)}(g,Le);const Pt=yield function bc(x,g,m){return Yh.apply(this,arguments)}(g,Le,m),Ct=yield function pp(x){const{cordova:g}=$h();return new Promise(m=>{g.plugins.browsertab.isAvailable(D=>{let Q=null;D?g.plugins.browsertab.openUrl(x):Q=g.InAppBrowser.open(x,function Hc(x=(0,oe.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(x)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(x)}()?"_blank":"_system","location=yes"),m(Q)})})}(Pt);return function S_(x,g,m){return WA.apply(this,arguments)}(g,ge,Ct)})()}_isIframeWebStorageSupported(g,m){throw new Error("Method not implemented.")}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function gd(x){return Wh.apply(this,arguments)}(g)),this.originValidationPromises[m]}attachCallbackListeners(g,m){const{universalLinks:D,handleOpenURL:Q,BuildInfo:z}=$h(),ge=setTimeout((0,s.Z)(function*(){yield XA(g),m.onEvent(gp())}),500),Le=function(){var tn=(0,s.Z)(function*(fn){clearTimeout(ge);const Yi=yield XA(g);let $s=null;Yi&&fn?.url&&($s=function ev(x,g){var m,D;const Q=function nc(x){const g=ef(x),m=g.link?decodeURIComponent(g.link):void 0,D=ef(m).link,Q=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return ef(Q).link||Q||D||m||x}(g);if(Q.includes("/__/auth/callback")){const z=ef(Q),ge=z.firebaseError?function dl(x){try{return JSON.parse(x)}catch{return null}}(decodeURIComponent(z.firebaseError)):null,Le=null===(D=null===(m=ge?.code)||void 0===m?void 0:m.split("auth/"))||void 0===D?void 0:D[1],Pt=Le?us(Le):null;return Pt?{type:x.type,eventId:x.eventId,tenantId:x.tenantId,error:Pt,urlResponse:null,sessionId:null,postBody:null}:{type:x.type,eventId:x.eventId,tenantId:x.tenantId,sessionId:x.sessionId,urlResponse:Q,postBody:null}}return null}(Yi,fn.url)),m.onEvent($s||gp())});return function(Yi){return tn.apply(this,arguments)}}();typeof D<"u"&&"function"==typeof D.subscribe&&D.subscribe(null,Le);const Pt=Q,Ct=`${z.packageName.toLowerCase()}://`;$h().handleOpenURL=function(){var tn=(0,s.Z)(function*(fn){if(fn.toLowerCase().startsWith(Ct)&&Le({url:fn}),"function"==typeof Pt)try{Pt(fn)}catch(Yi){console.error(Yi)}});return function(fn){return tn.apply(this,arguments)}}()}};function gp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:us("no-auth-event")}}function nA(){var x;return(null===(x=self?.location)||void 0===x?void 0:x.protocol)||null}function yp(x=(0,oe.z$)()){return!("file:"!==nA()&&"ionic:"!==nA()&&"capacitor:"!==nA()||!x.toLowerCase().match(/iphone|ipad|ipod|android/))}function tm(){try{const x=self.localStorage,g=ma();if(x)return x.setItem(g,"1"),x.removeItem(g),!function tv(x=(0,oe.z$)()){return function rA(){return(0,oe.w1)()&&11===document?.documentMode}()||function I_(x=(0,oe.z$)()){return/Edge\/\d+/.test(x)}(x)}()||(0,oe.hl)()}catch{return nm()&&(0,oe.hl)()}return!1}function nm(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ic(){return(function em(){return"http:"===nA()||"https:"===nA()}()||(0,oe.ru)()||yp())&&!function iA(){return(0,oe.b$)()||(0,oe.UG)()}()&&tm()&&!nm()}function oh(){return yp()&&typeof document<"u"}function D_(){return(D_=(0,s.Z)(function*(){return!!oh()&&new Promise(x=>{const g=setTimeout(()=>{x(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),x(!0)})})})).apply(this,arguments)}const Ga={LOCAL:"local",NONE:"none",SESSION:"session"},vd=Zt,iv="persistence";function vp(x){return bn.apply(this,arguments)}function bn(){return(bn=(0,s.Z)(function*(x){yield x._initializationPromise;const g=rm(),m=Rr(iv,x.config.apiKey,x.name);g&&g.setItem(m,x._getPersistence())})).apply(this,arguments)}function rm(){var x;try{return(null===(x=function tf(){return typeof window<"u"?window:null}())||void 0===x?void 0:x.sessionStorage)||null}catch{return null}}const Nl=Zt;class hl{constructor(){this.browserResolver=fr(x_),this.cordovaResolver=fr(yd),this.underlyingResolver=null,this._redirectPersistence=Kc,this._completeRedirectFn=so,this._overrideRedirectResult=fd}_initialize(g){var m=this;return(0,s.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,m,D,Q){var z=this;return(0,s.Z)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._openPopup(g,m,D,Q)})()}_openRedirect(g,m,D,Q){var z=this;return(0,s.Z)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._openRedirect(g,m,D,Q)})()}_isIframeWebStorageSupported(g,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,m)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return oh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Nl(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,s.Z)(function*(){if(g.underlyingResolver)return;const m=yield function nv(){return D_.apply(this,arguments)}();g.underlyingResolver=m?g.cordovaResolver:g.browserResolver})()}}function Xi(x){return x.unwrap()}function bp(x){return nf(x)}function nf(x){const{_tokenResponse:g}=x instanceof oe.ZR?x.customData:x;if(!g)return null;if(!(x instanceof oe.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return zs.credentialFromResult(x);const m=g.providerId;if(!m||"password"===m)return null;let D;switch(m){case"google.com":D=td;break;case"facebook.com":D=_u;break;case"github.com":D=$i;break;case"twitter.com":D=Or;break;default:const{oauthIdToken:Q,oauthAccessToken:z,oauthTokenSecret:ge,pendingToken:Le,nonce:Pt}=g;return z||ge||Q||Le?Le?m.startsWith("saml.")?Wl._create(m,Le):Ac._fromParams({providerId:m,signInMethod:m,pendingToken:Le,idToken:Q,accessToken:z}):new mu(m).credential({idToken:Q,accessToken:z,rawNonce:Pt}):null}return x instanceof oe.ZR?D.credentialFromError(x):D.credentialFromResult(x)}function vs(x,g){return g.catch(m=>{throw m instanceof oe.ZR&&function rv(x,g){var m;const D=null===(m=g.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===g?.code)g.resolver=new T_(x,function u_(x,g){var m;const D=(0,oe.m9)(x),Q=g;return Zt(g.customData.operationType,D,"argument-error"),Zt(null===(m=Q.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,D,"argument-error"),Kd._fromError(D,Q)}(x,g));else if(D){const Q=nf(g),z=g;Q&&(z.credential=Q,z.tenantId=D.tenantId||void 0,z.email=D.email||void 0,z.phoneNumber=D.phoneNumber||void 0)}}(x,m),m}).then(m=>{const Q=m.user;return{operationType:m.operationType,credential:bp(m),additionalUserInfo:cd(m),user:bd.getOrCreate(Q)}})}function rf(x,g){return wd.apply(this,arguments)}function wd(){return(wd=(0,s.Z)(function*(x,g){const m=yield g;return{verificationId:m.verificationId,confirm:D=>vs(x,m.confirm(D))}})).apply(this,arguments)}class T_{constructor(g,m){this.resolver=m,this.auth=function hs(x){return x.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return vs(Xi(this.auth),this.resolver.resolveSignIn(g))}}class bd{constructor(g){this._delegate=g,this.multiFactor=function QA(x){const g=(0,oe.m9)(x);return Nh.has(g)||Nh.set(g,Zd._fromUser(g)),Nh.get(g)}(g)}static getOrCreate(g){return bd.USER_MAP.has(g)||bd.USER_MAP.set(g,new bd(g)),bd.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var m=this;return(0,s.Z)(function*(){return vs(m.auth,Rl(m._delegate,g))})()}linkWithPhoneNumber(g,m){var D=this;return(0,s.Z)(function*(){return rf(D.auth,function ip(x,g,m){return Iu.apply(this,arguments)}(D._delegate,g,m))})()}linkWithPopup(g){var m=this;return(0,s.Z)(function*(){return vs(m.auth,function Vg(x,g,m){return $c.apply(this,arguments)}(m._delegate,g,hl))})()}linkWithRedirect(g){var m=this;return(0,s.Z)(function*(){return yield vp(ur(m.auth)),function jg(x,g,m){return function Ha(x,g,m){return Fu.apply(this,arguments)}(x,g,m)}(m._delegate,g,hl)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var m=this;return(0,s.Z)(function*(){return vs(m.auth,ss(m._delegate,g))})()}reauthenticateWithPhoneNumber(g,m){return rf(this.auth,function Du(x,g,m){return Zc.apply(this,arguments)}(this._delegate,g,m))}reauthenticateWithPopup(g){return vs(this.auth,function wo(x,g,m){return Xd.apply(this,arguments)}(this._delegate,g,hl))}reauthenticateWithRedirect(g){var m=this;return(0,s.Z)(function*(){return yield vp(ur(m.auth)),function Bu(x,g,m){return function Wy(x,g,m){return bo.apply(this,arguments)}(x,g,m)}(m._delegate,g,hl)})()}sendEmailVerification(g){return function od(x,g){return ad.apply(this,arguments)}(this._delegate,g)}unlink(g){var m=this;return(0,s.Z)(function*(){return yield function Sg(x,g){return Ds.apply(this,arguments)}(m._delegate,g),m})()}updateEmail(g){return function ld(x,g){return Og((0,oe.m9)(x),g,null)}(this._delegate,g)}updatePassword(g){return function Zf(x,g){return Og((0,oe.m9)(x),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function Jd(x,g){return hd.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function PA(x,g){return bu.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,m){return function Rg(x,g,m){return La.apply(this,arguments)}(this._delegate,g,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}bd.USER_MAP=new WeakMap;const Cp=Zt;let sA=(()=>{class x{constructor(m,D){if(this.app=m,D.isInitialized())return this._delegate=D.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Q}=m.options;Cp(Q,"invalid-api-key",{appName:m.name}),Cp(Q,"invalid-api-key",{appName:m.name});const z=typeof window<"u"?hl:void 0;this._delegate=D.initialize({options:{persistence:ov(Q,m.name),popupRedirectResolver:z}}),this._delegate._updateErrorMap(Cl),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?bd.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,D){!function DA(x,g,m){const D=ur(x);Zt(D._canInitEmulator,D,"emulator-config-failed"),Zt(/^https?:\/\//.test(g),D,"invalid-emulator-scheme");const Q=!!m?.disableWarnings,z=Vs(g),{host:ge,port:Le}=function r_(x){const g=Vs(x),m=/(\/\/)?([^?#/]+)/.exec(x.substr(g.length));if(!m)return{host:"",port:null};const D=m[2].split("@").pop()||"",Q=/^(\[[^\]]+\])(:|$)/.exec(D);if(Q){const z=Q[1];return{host:z,port:Sh(D.substr(z.length+1))}}{const[z,ge]=D.split(":");return{host:z,port:Sh(ge)}}}(g);D.config.emulator={url:`${z}//${ge}${null===Le?"":`:${Le}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:ge,port:Le,protocol:z.replace(":",""),options:Object.freeze({disableWarnings:Q})}),Q||function s_(){function x(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",x):x())}()}(this._delegate,m,D)}applyActionCode(m){return function Tg(x,g){return vu.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Bg(this._delegate,m)}confirmPasswordReset(m,D){return function qf(x,g,m){return Fh.apply(this,arguments)}(this._delegate,m,D)}createUserWithEmailAndPassword(m,D){var Q=this;return(0,s.Z)(function*(){return vs(Q._delegate,function ia(x,g,m){return Oa.apply(this,arguments)}(Q._delegate,m,D))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function jd(x,g){return gc.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Mg(x,g){return"EMAIL_SIGNIN"===yo.parseLink(g)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,s.Z)(function*(){Cp(ic(),m._delegate,"operation-not-supported-in-this-environment");const D=yield function w_(x,g){return qs.apply(this,arguments)}(m._delegate,hl);return D?vs(m._delegate,Promise.resolve(D)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function uw(x,g){ur(x)._logFramework(g)}(this._delegate,m)}onAuthStateChanged(m,D,Q){const{next:z,error:ge,complete:Le}=sv(m,D,Q);return this._delegate.onAuthStateChanged(z,ge,Le)}onIdTokenChanged(m,D,Q){const{next:z,error:ge,complete:Le}=sv(m,D,Q);return this._delegate.onIdTokenChanged(z,ge,Le)}sendSignInLinkToEmail(m,D){return function NA(x,g,m){return sd.apply(this,arguments)}(this._delegate,m,D)}sendPasswordResetEmail(m,D){return function Dg(x,g,m){return Ra.apply(this,arguments)}(this._delegate,m,D||void 0)}setPersistence(m){var D=this;return(0,s.Z)(function*(){let Q;switch(function im(x,g){vd(Object.values(Ga).includes(g),x,"invalid-persistence-type"),(0,oe.b$)()?vd(g!==Ga.SESSION,x,"unsupported-persistence-type"):(0,oe.UG)()?vd(g===Ga.NONE,x,"unsupported-persistence-type"):nm()?vd(g===Ga.NONE||g===Ga.LOCAL&&(0,oe.hl)(),x,"unsupported-persistence-type"):vd(g===Ga.NONE||tm(),x,"unsupported-persistence-type")}(D._delegate,m),m){case Ga.SESSION:Q=Kc;break;case Ga.LOCAL:Q=(yield fr(jn)._isAvailable())?jn:VA;break;case Ga.NONE:Q=mi;break;default:return rs("argument-error",{appName:D._delegate.name})}return D._delegate.setPersistence(Q)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return vs(this._delegate,function vo(x){return OA.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return vs(this._delegate,_s(this._delegate,m))}signInWithCustomToken(m){return vs(this._delegate,function pc(x,g){return zf.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,D){return vs(this._delegate,function Lr(x,g,m){return _s((0,oe.m9)(x),RA.credential(g,m))}(this._delegate,m,D))}signInWithEmailLink(m,D){return vs(this._delegate,function kh(x,g,m){return Kf.apply(this,arguments)}(this._delegate,m,D))}signInWithPhoneNumber(m,D){return rf(this._delegate,function Su(x,g,m){return al.apply(this,arguments)}(this._delegate,m,D))}signInWithPopup(m){var D=this;return(0,s.Z)(function*(){return Cp(ic(),D._delegate,"operation-not-supported-in-this-environment"),vs(D._delegate,function sa(x,g,m){return _i.apply(this,arguments)}(D._delegate,m,hl))})()}signInWithRedirect(m){var D=this;return(0,s.Z)(function*(){return Cp(ic(),D._delegate,"operation-not-supported-in-this-environment"),yield vp(D._delegate),function nh(x,g,m){return function v_(x,g,m){return Tu.apply(this,arguments)}(x,g,m)}(D._delegate,m,hl)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Fg(x,g){return Mh.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return x.Persistence=Ga,x})();function sv(x,g,m){let D=x;"function"!=typeof x&&({next:D,error:g,complete:m}=x);const Q=D;return{next:ge=>Q(ge&&bd.getOrCreate(ge)),error:g,complete:m}}function ov(x,g){const m=function wp(x,g){const m=rm();if(!m)return[];const D=Rr(iv,x,g);switch(m.getItem(D)){case Ga.NONE:return[mi];case Ga.LOCAL:return[jn,Kc];case Ga.SESSION:return[Kc];default:return[]}}(x,g);if(typeof self<"u"&&!m.includes(jn)&&m.push(jn),typeof window<"u")for(const D of[VA,Kc])m.includes(D)||m.push(D);return m.includes(mi)||m.push(mi),m}class Cd{constructor(){this.providerId="phone",this._delegate=new zs(Xi(ze.Z.auth()))}static credential(g,m){return zs.credential(g,m)}verifyPhoneNumber(g,m){return this._delegate.verifyPhoneNumber(g,m)}unwrap(){return this._delegate}}Cd.PHONE_SIGN_IN_METHOD=zs.PHONE_SIGN_IN_METHOD,Cd.PROVIDER_ID=zs.PROVIDER_ID;const oA=Zt;class B_{constructor(g,m,D=ze.Z.app()){var Q;oA(null===(Q=D.options)||void 0===Q?void 0:Q.apiKey,"invalid-api-key",{appName:D.name}),this._delegate=new ec(g,m,D.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function aA(x){x.INTERNAL.registerComponent(new di.wA("auth-compat",g=>{const m=g.getProvider("app-compat").getImmediate(),D=g.getProvider("auth");return new sA(m,D)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:RA,FacebookAuthProvider:_u,GithubAuthProvider:$i,GoogleAuthProvider:td,OAuthProvider:mu,SAMLAuthProvider:fc,PhoneAuthProvider:Cd,PhoneMultiFactorGenerator:$A,RecaptchaVerifier:B_,TwitterAuthProvider:Or,Auth:sA,AuthCredential:Pd,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),x.registerVersion("@firebase/auth-compat","0.4.1")}(ze.Z)},5861:(ei,Lt,re)=>{"use strict";function s(oe,rt,lt,vt,Ke,Tt,ut){try{var Ee=oe[Tt](ut),De=Ee.value}catch(Ge){return void lt(Ge)}Ee.done?rt(De):Promise.resolve(De).then(vt,Ke)}function ze(oe){return function(){var rt=this,lt=arguments;return new Promise(function(vt,Ke){var Tt=oe.apply(rt,lt);function ut(De){s(Tt,vt,Ke,ut,Ee,"next",De)}function Ee(De){s(Tt,vt,Ke,ut,Ee,"throw",De)}ut(void 0)})}}re.d(Lt,{Z:()=>ze})},7986:ei=>{"use strict";ei.exports=JSON.parse('{"version":"1.4.2","develop":false}')}},ei=>{ei(ei.s=6532)}]);