(self.webpackChunknewprova4=self.webpackChunknewprova4||[]).push([[179],{9761:(ei,Lt,re)=>{"use strict";var s=re(4650);let ze=null;function oe(){return ze}class vt{}const Ke=new s.OlP("DocumentToken");let Tt=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ut(){return(0,s.LFG)(De)}()},providedIn:"platform"}),n})();const Ee=new s.OlP("Location Initialized");let De=(()=>{class n extends Tt{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return oe().getBaseHref(this._doc)}onPopState(e){const i=oe().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=oe().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){je()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){je()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ke))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function hn(){return new De((0,s.LFG)(Ke))}()},providedIn:"platform"}),n})();function je(){return!!window.history.pushState}function Qt(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function yn(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Nn(n){return n&&"?"!==n[0]?"?"+n:n}let yt=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(St)},providedIn:"root"}),n})();const Ut=new s.OlP("appBaseHref");let St=(()=>{class n extends yt{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(Ke).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Qt(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Nn(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const a=this.prepareExternalUrl(r+Nn(o));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){const a=this.prepareExternalUrl(r+Nn(o));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Tt),s.LFG(Ut,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qt=(()=>{class n extends yt{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Qt(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let a=this.prepareExternalUrl(r+Nn(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){let a=this.prepareExternalUrl(r+Nn(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Tt),s.LFG(Ut,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Jt=(()=>{class n{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=yn(Tn(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Nn(i))}normalize(e){return n.stripTrailingSlash(function en(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Tn(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Nn(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Nn(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Nn,n.joinWithSlash=Qt,n.stripTrailingSlash=yn,n.\u0275fac=function(e){return new(e||n)(s.LFG(yt))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ti(){return new Jt((0,s.LFG)(yt))}()},providedIn:"root"}),n})();function Tn(n){return n.replace(/\/index.html$/,"")}var Zn=(()=>((Zn=Zn||{})[Zn.Decimal=0]="Decimal",Zn[Zn.Percent=1]="Percent",Zn[Zn.Currency=2]="Currency",Zn[Zn.Scientific=3]="Scientific",Zn))(),It=(()=>((It=It||{})[It.Format=0]="Format",It[It.Standalone=1]="Standalone",It))(),dt=(()=>((dt=dt||{})[dt.Narrow=0]="Narrow",dt[dt.Abbreviated=1]="Abbreviated",dt[dt.Wide=2]="Wide",dt[dt.Short=3]="Short",dt))(),Kt=(()=>((Kt=Kt||{})[Kt.Short=0]="Short",Kt[Kt.Medium=1]="Medium",Kt[Kt.Long=2]="Long",Kt[Kt.Full=3]="Full",Kt))(),Nt=(()=>((Nt=Nt||{})[Nt.Decimal=0]="Decimal",Nt[Nt.Group=1]="Group",Nt[Nt.List=2]="List",Nt[Nt.PercentSign=3]="PercentSign",Nt[Nt.PlusSign=4]="PlusSign",Nt[Nt.MinusSign=5]="MinusSign",Nt[Nt.Exponential=6]="Exponential",Nt[Nt.SuperscriptingExponent=7]="SuperscriptingExponent",Nt[Nt.PerMille=8]="PerMille",Nt[Nt.Infinity=9]="Infinity",Nt[Nt.NaN=10]="NaN",Nt[Nt.TimeSeparator=11]="TimeSeparator",Nt[Nt.CurrencyDecimal=12]="CurrencyDecimal",Nt[Nt.CurrencyGroup=13]="CurrencyGroup",Nt))();function Ss(n,t){return Mr((0,s.cg1)(n)[s.wAp.DateFormat],t)}function Cl(n,t){return Mr((0,s.cg1)(n)[s.wAp.TimeFormat],t)}function fo(n,t){return Mr((0,s.cg1)(n)[s.wAp.DateTimeFormat],t)}function cr(n,t){const e=(0,s.cg1)(n),i=e[s.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===Nt.CurrencyDecimal)return e[s.wAp.NumberSymbols][Nt.Decimal];if(t===Nt.CurrencyGroup)return e[s.wAp.NumberSymbols][Nt.Group]}return i}function uc(n){if(!n[s.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[s.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Mr(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Us(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Kr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,hc={},Yo=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var si=(()=>((si=si||{})[si.Short=0]="Short",si[si.ShortGMT=1]="ShortGMT",si[si.Long=2]="Long",si[si.Extended=3]="Extended",si))(),Hn=(()=>((Hn=Hn||{})[Hn.FullYear=0]="FullYear",Hn[Hn.Month=1]="Month",Hn[Hn.Date=2]="Date",Hn[Hn.Hours=3]="Hours",Hn[Hn.Minutes=4]="Minutes",Hn[Hn.Seconds=5]="Seconds",Hn[Hn.FractionalSeconds=6]="FractionalSeconds",Hn[Hn.Day=7]="Day",Hn))(),vi=(()=>((vi=vi||{})[vi.DayPeriods=0]="DayPeriods",vi[vi.Days=1]="Days",vi[vi.Months=2]="Months",vi[vi.Eras=3]="Eras",vi))();function Il(n,t,e,i){let r=function Qe(n){if(Vn(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,a=1]=n.split("-").map(u=>+u);return Ai(r,o-1,a)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Kr))return function Rn(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const a=Number(n[4]||0)-e,u=Number(n[5]||0)-i,h=Number(n[6]||0),f=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,a,u,h,f),t}(i)}const t=new Date(n);if(!Vn(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Oi(e,t)||t;let u,a=[];for(;t;){if(u=Yo.exec(t),!u){a.push(t);break}{a=a.concat(u.slice(1));const _=a.pop();if(!_)break;t=_}}let h=r.getTimezoneOffset();i&&(h=ve(i,h),r=function wt(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function Me(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(ve(t,r)-r))}(r,i,!0));let f="";return a.forEach(_=>{const C=function Ce(n){if(fa[n])return fa[n];let t;switch(n){case"G":case"GG":case"GGG":t=Vi(vi.Eras,dt.Abbreviated);break;case"GGGG":t=Vi(vi.Eras,dt.Wide);break;case"GGGGG":t=Vi(vi.Eras,dt.Narrow);break;case"y":t=Hi(Hn.FullYear,1,0,!1,!0);break;case"yy":t=Hi(Hn.FullYear,2,0,!0,!0);break;case"yyy":t=Hi(Hn.FullYear,3,0,!1,!0);break;case"yyyy":t=Hi(Hn.FullYear,4,0,!1,!0);break;case"Y":t=Is(1);break;case"YY":t=Is(2,!0);break;case"YYY":t=Is(3);break;case"YYYY":t=Is(4);break;case"M":case"L":t=Hi(Hn.Month,1,1);break;case"MM":case"LL":t=Hi(Hn.Month,2,1);break;case"MMM":t=Vi(vi.Months,dt.Abbreviated);break;case"MMMM":t=Vi(vi.Months,dt.Wide);break;case"MMMMM":t=Vi(vi.Months,dt.Narrow);break;case"LLL":t=Vi(vi.Months,dt.Abbreviated,It.Standalone);break;case"LLLL":t=Vi(vi.Months,dt.Wide,It.Standalone);break;case"LLLLL":t=Vi(vi.Months,dt.Narrow,It.Standalone);break;case"w":t=rl(1);break;case"ww":t=rl(2);break;case"W":t=rl(1,!0);break;case"d":t=Hi(Hn.Date,1);break;case"dd":t=Hi(Hn.Date,2);break;case"c":case"cc":t=Hi(Hn.Day,1);break;case"ccc":t=Vi(vi.Days,dt.Abbreviated,It.Standalone);break;case"cccc":t=Vi(vi.Days,dt.Wide,It.Standalone);break;case"ccccc":t=Vi(vi.Days,dt.Narrow,It.Standalone);break;case"cccccc":t=Vi(vi.Days,dt.Short,It.Standalone);break;case"E":case"EE":case"EEE":t=Vi(vi.Days,dt.Abbreviated);break;case"EEEE":t=Vi(vi.Days,dt.Wide);break;case"EEEEE":t=Vi(vi.Days,dt.Narrow);break;case"EEEEEE":t=Vi(vi.Days,dt.Short);break;case"a":case"aa":case"aaa":t=Vi(vi.DayPeriods,dt.Abbreviated);break;case"aaaa":t=Vi(vi.DayPeriods,dt.Wide);break;case"aaaaa":t=Vi(vi.DayPeriods,dt.Narrow);break;case"b":case"bb":case"bbb":t=Vi(vi.DayPeriods,dt.Abbreviated,It.Standalone,!0);break;case"bbbb":t=Vi(vi.DayPeriods,dt.Wide,It.Standalone,!0);break;case"bbbbb":t=Vi(vi.DayPeriods,dt.Narrow,It.Standalone,!0);break;case"B":case"BB":case"BBB":t=Vi(vi.DayPeriods,dt.Abbreviated,It.Format,!0);break;case"BBBB":t=Vi(vi.DayPeriods,dt.Wide,It.Format,!0);break;case"BBBBB":t=Vi(vi.DayPeriods,dt.Narrow,It.Format,!0);break;case"h":t=Hi(Hn.Hours,1,-12);break;case"hh":t=Hi(Hn.Hours,2,-12);break;case"H":t=Hi(Hn.Hours,1);break;case"HH":t=Hi(Hn.Hours,2);break;case"m":t=Hi(Hn.Minutes,1);break;case"mm":t=Hi(Hn.Minutes,2);break;case"s":t=Hi(Hn.Seconds,1);break;case"ss":t=Hi(Hn.Seconds,2);break;case"S":t=Hi(Hn.FractionalSeconds,1);break;case"SS":t=Hi(Hn.FractionalSeconds,2);break;case"SSS":t=Hi(Hn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Jo(si.Short);break;case"ZZZZZ":t=Jo(si.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Jo(si.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Jo(si.Long);break;default:return null}return fa[n]=t,t}(_);f+=C?C(r,e,h):"''"===_?"'":_.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),f}function Ai(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Oi(n,t){const e=function di(n){return(0,s.cg1)(n)[s.wAp.LocaleId]}(n);if(hc[e]=hc[e]||{},hc[e][t])return hc[e][t];let i="";switch(t){case"shortDate":i=Ss(n,Kt.Short);break;case"mediumDate":i=Ss(n,Kt.Medium);break;case"longDate":i=Ss(n,Kt.Long);break;case"fullDate":i=Ss(n,Kt.Full);break;case"shortTime":i=Cl(n,Kt.Short);break;case"mediumTime":i=Cl(n,Kt.Medium);break;case"longTime":i=Cl(n,Kt.Long);break;case"fullTime":i=Cl(n,Kt.Full);break;case"short":const r=Oi(n,"shortTime"),o=Oi(n,"shortDate");i=Qs(fo(n,Kt.Short),[r,o]);break;case"medium":const a=Oi(n,"mediumTime"),u=Oi(n,"mediumDate");i=Qs(fo(n,Kt.Medium),[a,u]);break;case"long":const h=Oi(n,"longTime"),f=Oi(n,"longDate");i=Qs(fo(n,Kt.Long),[h,f]);break;case"full":const _=Oi(n,"fullTime"),C=Oi(n,"fullDate");i=Qs(fo(n,Kt.Full),[_,C])}return i&&(hc[e][t]=i),i}function Qs(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Zr(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let a=String(n);for(;a.length<t;)a="0"+a;return i&&(a=a.slice(a.length-t)),o+a}function Hi(n,t,e=0,i=!1,r=!1){return function(o,a){let u=function du(n,t){switch(n){case Hn.FullYear:return t.getFullYear();case Hn.Month:return t.getMonth();case Hn.Date:return t.getDate();case Hn.Hours:return t.getHours();case Hn.Minutes:return t.getMinutes();case Hn.Seconds:return t.getSeconds();case Hn.FractionalSeconds:return t.getMilliseconds();case Hn.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||u>-e)&&(u+=e),n===Hn.Hours)0===u&&-12===e&&(u=12);else if(n===Hn.FractionalSeconds)return function Wo(n,t){return Zr(n,3).substring(0,t)}(u,t);const h=cr(a,Nt.MinusSign);return Zr(u,t,h,i,r)}}function Vi(n,t,e=It.Format,i=!1){return function(r,o){return function po(n,t,e,i,r,o){switch(e){case vi.Months:return function Mi(n,t,e){const i=(0,s.cg1)(n),o=Mr([i[s.wAp.MonthsFormat],i[s.wAp.MonthsStandalone]],t);return Mr(o,e)}(t,r,i)[n.getMonth()];case vi.Days:return function to(n,t,e){const i=(0,s.cg1)(n),o=Mr([i[s.wAp.DaysFormat],i[s.wAp.DaysStandalone]],t);return Mr(o,e)}(t,r,i)[n.getDay()];case vi.DayPeriods:const a=n.getHours(),u=n.getMinutes();if(o){const f=function Ps(n){const t=(0,s.cg1)(n);return uc(t),(t[s.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Us(i):[Us(i[0]),Us(i[1])])}(t),_=function Sl(n,t,e){const i=(0,s.cg1)(n);uc(i);const o=Mr([i[s.wAp.ExtraData][0],i[s.wAp.ExtraData][1]],t)||[];return Mr(o,e)||[]}(t,r,i),C=f.findIndex(F=>{if(Array.isArray(F)){const[B,U]=F,H=a>=B.hours&&u>=B.minutes,Z=a<U.hours||a===U.hours&&u<U.minutes;if(B.hours<U.hours){if(H&&Z)return!0}else if(H||Z)return!0}else if(F.hours===a&&F.minutes===u)return!0;return!1});if(-1!==C)return _[C]}return function Sr(n,t,e){const i=(0,s.cg1)(n),o=Mr([i[s.wAp.DayPeriodsFormat],i[s.wAp.DayPeriodsStandalone]],t);return Mr(o,e)}(t,r,i)[a<12?0:1];case vi.Eras:return function Ro(n,t){return Mr((0,s.cg1)(n)[s.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function Jo(n){return function(t,e,i){const r=-1*i,o=cr(e,Nt.MinusSign),a=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case si.Short:return(r>=0?"+":"")+Zr(a,2,o)+Zr(Math.abs(r%60),2,o);case si.ShortGMT:return"GMT"+(r>=0?"+":"")+Zr(a,1,o);case si.Long:return"GMT"+(r>=0?"+":"")+Zr(a,2,o)+":"+Zr(Math.abs(r%60),2,o);case si.Extended:return 0===i?"Z":(r>=0?"+":"")+Zr(a,2,o)+":"+Zr(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function Aa(n){return Ai(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function rl(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();r=1+Math.floor((a+o)/7)}else{const o=Aa(e),a=function ha(n){const t=Ai(n,0,1).getDay();return Ai(n,0,1+(t<=4?4:11)-t)}(o.getFullYear()),u=o.getTime()-a.getTime();r=1+Math.round(u/6048e5)}return Zr(r,n,cr(i,Nt.MinusSign))}}function Is(n,t=!1){return function(e,i){return Zr(Aa(e).getFullYear(),n,cr(i,Nt.MinusSign),t)}}const fa={};function ve(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Vn(n){return n instanceof Date&&!isNaN(n.valueOf())}const wi=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function _s(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function Oo(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}let ys=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Dl{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let As=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Dl(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const u=i.get(o);i.move(u,a),Gr(u,r)}});for(let r=0,o=i.length;r<o;r++){const u=i.get(r).context;u.index=r,u.count=o,u.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Gr(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Gr(n,t){n.context.$implicit=t.item}let Li=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Lo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){hu("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){hu("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Lo{constructor(){this.$implicit=null,this.ngIf=null}}function hu(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}class Ti{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Vc=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Au=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Ti(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(Vc,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Eh=(()=>{class n{constructor(e,i,r){r._addDefault(new Ti(e,i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(Vc,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),No=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split("."),a=-1===r.indexOf("-")?void 0:s.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,r,a)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.aQg),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();function jr(n,t){return new s.vHH(2100,!1)}class Yr{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class yg{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Nd=new yg,Gc=new Yr;let Pd=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,s.QGY)(e))return Nd;if((0,s.F4k)(e))return Gc;throw jr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const Bl=new s.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Ih=new s.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Dh=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(null==e||""===e||e!=e)return null;try{return Il(e,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(a){throw jr()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.soG,16),s.Y36(Bl,24),s.Y36(Ih,24))},n.\u0275pipe=s.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Qf=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!function Vf(n){return!(null==n||""===n||n!=n)}(e))return null;r=r||this._locale;try{return function $n(n,t,e){return function mt(n,t,e,i,r,o,a=!1){let u="",h=!1;if(isFinite(n)){let f=function br(n){let i,r,o,a,u,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;"0"===t.charAt(o);o++);if(o===(u=t.length))i=[0],r=1;else{for(u--;"0"===t.charAt(u);)u--;for(r-=o,i=[],a=0;o<=u;o++,a++)i[a]=Number(t.charAt(o))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);a&&(f=function Ei(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(f));let _=t.minInt,C=t.minFrac,F=t.maxFrac;if(o){const W=o.match(wi);if(null===W)throw new Error(`${o} is not a valid digit info`);const he=W[1],xe=W[3],Ze=W[5];null!=he&&(_=_s(he)),null!=xe&&(C=_s(xe)),null!=Ze?F=_s(Ze):null!=xe&&C>F&&(F=C)}!function fr(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(t,r),e);let a=o+n.integerLen,u=i[a];if(a>0){i.splice(Math.max(n.integerLen,a));for(let C=a;C<i.length;C++)i[C]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,a=o+1),i[0]=0;for(let C=1;C<a;C++)i[C]=0}if(u>=5)if(a-1<0){for(let C=0;C>a;C--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[a-1]++;for(;r<Math.max(0,o);r++)i.push(0);let h=0!==o;const f=t+n.integerLen,_=i.reduceRight(function(C,F,B,U){return U[B]=(F+=C)<10?F:F-10,h&&(0===U[B]&&B>=f?U.pop():h=!1),F>=10?1:0},0);_&&(i.unshift(_),n.integerLen++)}(f,C,F);let B=f.digits,U=f.integerLen;const H=f.exponent;let Z=[];for(h=B.every(W=>!W);U<_;U++)B.unshift(0);for(;U<0;U++)B.unshift(0);U>0?Z=B.splice(U,B.length):(Z=B,B=[0]);const q=[];for(B.length>=t.lgSize&&q.unshift(B.splice(-t.lgSize,B.length).join(""));B.length>t.gSize;)q.unshift(B.splice(-t.gSize,B.length).join(""));B.length&&q.unshift(B.join("")),u=q.join(cr(e,i)),Z.length&&(u+=cr(e,r)+Z.join("")),H&&(u+=cr(e,Nt.Exponential)+"+"+H)}else u=cr(e,Nt.Infinity);return u=n<0&&!h?t.negPre+u+t.negSuf:t.posPre+u+t.posSuf,u}(n,function ni(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],o=i[1],a=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],u=a[0],h=a[1]||"";e.posPre=u.substring(0,u.indexOf("#"));for(let _=0;_<h.length;_++){const C=h.charAt(_);"0"===C?e.minFrac=e.maxFrac=_+1:"#"===C?e.maxFrac=_+1:e.posSuf+=C}const f=u.split(",");if(e.gSize=f[1]?f[1].length:0,e.lgSize=f[2]||f[1]?(f[2]||f[1]).length:0,o){const _=r.length-e.posPre.length-e.posSuf.length,C=o.indexOf("#");e.negPre=o.substring(0,C).replace(/'/g,""),e.negSuf=o.slice(C+_).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function Zl(n,t){return(0,s.cg1)(n)[s.wAp.NumberFormats][t]}(t,Zn.Decimal),cr(t,Nt.MinusSign)),t,Nt.Group,Nt.Decimal,e)}(function BA(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),r,i)}catch(o){throw jr()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.soG,16))},n.\u0275pipe=s.Yjl({name:"number",type:n,pure:!0,standalone:!0}),n})();let ea=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const $l="browser";function Yl(n){return n===$l}function Ta(n){return"server"===n}let ta=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Hd((0,s.LFG)(Ke),window)}),n})();class Hd{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function MA(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const a=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=fu(this.window.history)||fu(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function fu(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Wl{}class ia extends vt{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Oa extends ia{static makeCurrent(){!function lt(n){ze||(ze=n)}(new Oa)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function PA(){return Lr=Lr||document.querySelector("base"),Lr?Lr.getAttribute("href"):null}();return null==e?null:function kg(n){od=od||document.createElement("a"),od.setAttribute("href",n);const t=od.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Lr=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Oo(document.cookie,t)}}let od,Lr=null;const Lh=new s.OlP("TRANSITION_ID"),Rg=[{provide:s.ip1,useFactory:function Kf(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=oe(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[Lh,Ke,s.zs3],multi:!0}];let jd=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const gc=new s.OlP("EventManagerPlugins");let ad=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const a=r[o];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gc),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class ld{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=oe().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Og=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),La=(()=>{class n extends Og{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const a=this._doc.createElement("style");a.textContent=o,r.push(i.appendChild(a))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(zd),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(zd))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ke))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function zd(n){oe().remove(n)}const ol={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},UA=/%COMP%/g;function ga(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?ga(n,r,e):(r=r.replace(UA,n),e.push(r))}return e}function Nh(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let xu=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new QA(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Ph(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case s.ifc.ShadowDom:return new $f(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=ga(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ad),s.LFG(La),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class QA{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ol[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(u_(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(u_(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=ol[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=ol[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Nh(i)):this.eventManager.addEventListener(t,e,Nh(i))}}function u_(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ph extends QA{constructor(t,e,i,r){super(t),this.component=i;const o=ga(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function Ng(n){return"_ngcontent-%COMP%".replace(UA,n)}(r+"-"+i.id),this.hostAttr=function Pg(n){return"_nghost-%COMP%".replace(UA,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class $f extends QA{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=ga(r.id,r.styles,[]);for(let a=0;a<o.length;a++){const u=document.createElement("style");u.textContent=o[a],this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Kd=(()=>{class n extends ld{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ke))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const rw=["alt","control","meta","shift"],Yf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$y={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let sw=(()=>{class n extends ld{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),a=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>oe().onAndCancel(e,o.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),rw.forEach(f=>{const _=i.indexOf(f);_>-1&&(i.splice(_,1),a+=f+".")}),a+=o,0!=i.length||0===o.length)return null;const h={};return h.domEventName=r,h.fullKey=a,h}static matchEventFullKeyCode(e,i){let r=Yf[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),rw.forEach(a=>{a!==r&&(0,$y[a])(e)&&(o+=a+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ke))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Wf=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:$l},{provide:s.g9A,useValue:function Uh(){Oa.makeCurrent()},multi:!0},{provide:Ke,useFactory:function Yy(){return(0,s.RDi)(document),document},deps:[]}]),$d=new s.OlP(""),Qh=[{provide:s.rWj,useClass:class bu{addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,a=!1;const u=function(h){a=a||h,o--,0==o&&i(a)};r.forEach(function(h){h.whenStable(u)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?oe().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],HA=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function os(){return new s.qLn},deps:[]},{provide:gc,useClass:Kd,multi:!0,deps:[Ke,s.R0b,s.Lbi]},{provide:gc,useClass:sw,multi:!0,deps:[Ke]},{provide:xu,useClass:xu,deps:[ad,La,s.AFp]},{provide:s.FYo,useExisting:xu},{provide:Og,useExisting:La},{provide:La,useClass:La,deps:[Ke]},{provide:ad,useClass:ad,deps:[gc,s.R0b]},{provide:Wl,useClass:jd,deps:[]},[]];let ec=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:Lh,useExisting:s.AFp},Rg]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG($d,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...HA,...Qh],imports:[ea,s.hGG]}),n})(),Wd=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ke))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function VA(){return new Wd((0,s.LFG)(Ke))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Ol=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):s.LFG(tp),i},providedIn:"root"}),n})(),tp=(()=>{class n extends Ol{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${s.JZr})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${s.JZr})`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ke))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Vh(n){return new tp(n.get(Ke))}(s.LFG(s.zs3)),i},providedIn:"root"}),n})();var Gn=re(8996),Pa=re(3269);function An(...n){const t=(0,Pa.yG)(n);return(0,Gn.D)(n,t)}var tn=re(7579);class pr extends tn.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var Gh=re(3888);const Su=(0,Gh.d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var mr=re(9751);const{isArray:y_}=Array,{getPrototypeOf:v_,prototype:hd,keys:Ua}=Object;function jh(n){if(1===n.length){const t=n[0];if(y_(t))return{args:t,keys:null};if(function ra(n){return n&&"object"==typeof n&&v_(n)===hd}(t)){const e=Ua(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var wn=re(4671),on=re(4004);const{isArray:Hg}=Array;function tc(n){return(0,on.U)(t=>function np(n,t){return Hg(t)?n(...t):n(t)}(n,t))}function Vg(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Nr=re(5403),Iu=re(9672);function al(...n){const t=(0,Pa.yG)(n),e=(0,Pa.jO)(n),{args:i,keys:r}=jh(n);if(0===i.length)return(0,Gn.D)([],t);const o=new mr.y(function ip(n,t,e=wn.y){return i=>{Du(t,()=>{const{length:r}=n,o=new Array(r);let a=r,u=r;for(let h=0;h<r;h++)Du(t,()=>{const f=(0,Gn.D)(n[h],t);let _=!1;f.subscribe(new Nr.Q(i,C=>{o[h]=C,_||(_=!0,u--),u||i.next(e(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,t,r?a=>Vg(r,a):wn.y));return e?o.pipe(tc(e)):o}function Du(n,t,e){n?(0,Iu.f)(e,n,t):t()}var Tu=re(8189);function ll(...n){return function Zc(){return(0,Tu.J)(1)}()((0,Gn.D)(n,(0,Pa.yG)(n)))}var Qa=re(8421);function Xd(n){return new mr.y(t=>{(0,Qa.Xf)(n()).subscribe(t)})}var Ad=re(9635),zs=re(576);function ro(n,t){const e=(0,zs.m)(n)?n:()=>n,i=r=>r.error(e());return new mr.y(t?r=>t.schedule(i,0,r):i)}var yc=re(515),Uo=re(727),Wr=re(4482);function fd(){return(0,Wr.e)((n,t)=>{let e=null;n._refCount++;const i=new Nr.Q(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class zh extends mr.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Wr.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Uo.w0;const e=this.getSubject();t.add(this.source.subscribe(new Nr.Q(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Uo.w0.EMPTY)}return t}refCount(){return fd()(this)}}function ws(n,t){return(0,Wr.e)((e,i)=>{let r=null,o=0,a=!1;const u=()=>a&&!r&&i.complete();e.subscribe(new Nr.Q(i,h=>{r?.unsubscribe();let f=0;const _=o++;(0,Qa.Xf)(n(h,_)).subscribe(r=new Nr.Q(i,C=>i.next(t?t(h,C,_,f++):C),()=>{r=null,u()}))},()=>{a=!0,u()}))})}var Jr=re(5698);function sa(...n){const t=(0,Pa.yG)(n);return(0,Wr.e)((e,i)=>{(t?ll(n,e,t):ll(n,e)).subscribe(i)})}function _i(n,t){return(0,Wr.e)((e,i)=>{let r=0;e.subscribe(new Nr.Q(i,o=>n.call(t,o,r++)&&i.next(o)))})}var wo=re(5577);function eh(n){return(0,Wr.e)((t,e)=>{let i=!1;t.subscribe(new Nr.Q(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Gg(n=$c){return(0,Wr.e)((t,e)=>{let i=!1;t.subscribe(new Nr.Q(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function $c(){return new Su}function Qo(n,t){const e=arguments.length>=2;return i=>i.pipe(n?_i((r,o)=>n(r,o,i)):wn.y,(0,Jr.q)(1),e?eh(t):Gg(()=>new Su))}function cl(n,t){return(0,zs.m)(t)?(0,wo.z)(n,t,1):(0,wo.z)(n,1)}var Cr=re(8505);function Ho(n){return(0,Wr.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe(new Nr.Q(e,void 0,void 0,a=>{o=(0,Qa.Xf)(n(a,Ho(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function th(n,t,e,i,r){return(o,a)=>{let u=e,h=t,f=0;o.subscribe(new Nr.Q(a,_=>{const C=f++;h=u?n(h,_,C):(u=!0,_),i&&a.next(h)},r&&(()=>{u&&a.next(h),a.complete()})))}}function nc(n,t){return(0,Wr.e)(th(n,t,arguments.length>=2,!0))}function qh(n){return n<=0?()=>yc.E:(0,Wr.e)((t,e)=>{let i=[];t.subscribe(new Nr.Q(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function rp(n,t){const e=arguments.length>=2;return i=>i.pipe(n?_i((r,o)=>n(r,o,i)):wn.y,qh(1),e?eh(t):Gg(()=>new Su))}function KA(n,t=!1){return(0,Wr.e)((e,i)=>{let r=0;e.subscribe(new Nr.Q(i,o=>{const a=n(o,r++);(a||t)&&i.next(o),!a&&i.complete()}))})}function pd(n){return(0,on.U)(()=>n)}function nh(n){return(0,Wr.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const pi="primary",ih=Symbol("RouteTitle");class w_{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Bu(n){return new w_(n)}function Fu(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const a=i[o],u=n[o];if(a.startsWith(":"))r[a.substring(1)]=u;else if(a!==u.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function bo(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!jg(n[r],t[r]))return!1;return!0}function jg(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function Ha(n){return Array.prototype.concat.apply([],n)}function Mu(n){return n.length>0?n[n.length-1]:null}function qs(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function so(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,Gn.D)(Promise.resolve(n)):An(n)}const k=!1,N={exact:function qe(n,t,e){if(!ul(n.segments,t.segments)||!Bn(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!qe(n.children[i],t.children[i],e))return!1;return!0},subset:mn},K={exact:function Ie(n,t){return bo(n,t)},subset:function gt(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>jg(n[e],t[e]))},ignored:()=>!0};function ue(n,t,e){return N[e.paths](n.root,t.root,e.matrixParams)&&K[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function mn(n,t,e){return an(n,t,t.segments,e)}function an(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!ul(r,e)||t.hasChildren()||!Bn(r,e,i))}if(n.segments.length===e.length){if(!ul(n.segments,e)||!Bn(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!mn(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(ul(n.segments,r)&&Bn(n.segments,r,i)&&n.children[pi])&&an(n.children[pi],t,o,i)}}function Bn(n,t,e){return t.every((i,r)=>K[e](n[r].parameters,i.parameters))}class Fn{constructor(t=new Yt([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bu(this.queryParams)),this._queryParamMap}toString(){return Ll.serialize(this)}}class Yt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,qs(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kh(this)}}class Co{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Bu(this.parameters)),this._parameterMap}toString(){return Zh(this)}}function ul(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Va=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new Ga},providedIn:"root"}),n})();class Ga{parse(t){const e=new Kg(t);return new Fn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ZA(t.root,!0)}`,i=function lw(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${sp(e)}=${sp(r)}`).join("&"):`${sp(e)}=${sp(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function aw(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Ll=new Ga;function Kh(n){return n.segments.map(t=>Zh(t)).join("/")}function ZA(n,t){if(!n.hasChildren())return Kh(n);if(t){const e=n.children[pi]?ZA(n.children[pi],!1):"",i=[];return qs(n.children,(r,o)=>{o!==pi&&i.push(`${o}:${ZA(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Zs(n,t){let e=[];return qs(n.children,(i,r)=>{r===pi&&(e=e.concat(t(i,r)))}),qs(n.children,(i,r)=>{r!==pi&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===pi?[ZA(n.children[pi],!1)]:[`${r}:${ZA(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[pi]?`${Kh(n)}/${e[0]}`:`${Kh(n)}/(${e.join("//")})`}}function ev(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sp(n){return ev(n).replace(/%3B/gi,";")}function op(n){return ev(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ap(n){return decodeURIComponent(n)}function C_(n){return ap(n.replace(/\+/g,"%20"))}function Zh(n){return`${op(n.path)}${function lp(n){return Object.keys(n).map(t=>`;${op(t)}=${op(n[t])}`).join("")}(n.parameters)}`}const tv=/^[^\/()?;=#]+/;function zg(n){const t=n.match(tv);return t?t[0]:""}const cp=/^[^=?&#]+/,qg=/^[^&#]+/;class Kg{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yt([],{}):new Yt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[pi]=new Yt(t,e)),i}parseSegment(){const t=zg(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.vHH(4009,k);return this.capture(t),new Co(ap(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=zg(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=zg(this.remaining);r&&(i=r,this.capture(i))}t[ap(e)]=ap(i)}parseQueryParam(t){const e=function up(n){const t=n.match(cp);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=function x_(n){const t=n.match(qg);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=C_(e),o=C_(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=zg(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new s.vHH(4010,k);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=pi);const a=this.parseChildren();e[o]=1===Object.keys(a).length?a[pi]:new Yt([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.vHH(4011,k)}}function $A(n){return n.segments.length>0?new Yt([],{[pi]:n}):n}function Zg(n){const t={};for(const i of Object.keys(n.children)){const o=Zg(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function gd(n){if(1===n.numberOfChildren&&n.children[pi]){const t=n.children[pi];return new Yt(n.segments.concat(t.segments),t.children)}return n}(new Yt(n.segments,t))}function vc(n){return n instanceof Fn}function cw(n,t,e,i,r){if(0===e.length)return ku(t.root,t.root,t.root,i,r);const o=function Wh(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Yh(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,a)=>{if("object"==typeof o&&null!=o){if(o.outlets){const u={};return qs(o.outlets,(h,f)=>{u[f]="string"==typeof h?h.split("/"):h}),[...r,{outlets:u}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===a?(o.split("/").forEach((u,h)=>{0==h&&"."===u||(0==h&&""===u?e=!0:".."===u?t++:""!=u&&r.push(u))}),r):[...r,o]},[]);return new Yh(e,t,i)}(e);return o.toRoot()?ku(t.root,t.root,new Yt([],{}),i,r):function a(h){const f=function uw(n,t,e,i){if(n.isAbsolute)return new rh(t.root,!0,0);if(-1===i)return new rh(e,e===t.root,0);return function S_(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new s.vHH(4005,!1);r=i.segments.length}return new rh(i,!1,r-o)}(e,i+($h(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,h),_=f.processChildren?wc(f.segmentGroup,f.index,o.commands):hp(f.segmentGroup,f.index,o.commands);return ku(t.root,f.segmentGroup,_,i,r)}(n.snapshot?._lastPathIndex)}function $h(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function YA(n){return"object"==typeof n&&null!=n&&n.outlets}function ku(n,t,e,i,r){let a,o={};i&&qs(i,(h,f)=>{o[f]=Array.isArray(h)?h.map(_=>`${_}`):`${h}`}),a=n===t?e:WA(n,t,e);const u=$A(Zg(a));return new Fn(u,o,r)}function WA(n,t,e){const i={};return qs(n.children,(r,o)=>{i[o]=r===t?e:WA(r,t,e)}),new Yt(n.segments,i)}class Yh{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&$h(i[0]))throw new s.vHH(4003,!1);const r=i.find(YA);if(r&&r!==Mu(i))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rh{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function hp(n,t,e){if(n||(n=new Yt([],{})),0===n.segments.length&&n.hasChildren())return wc(n,t,e);const i=function Ap(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const a=n.segments[r],u=e[i];if(YA(u))break;const h=`${u}`,f=i<e.length-1?e[i+1]:null;if(r>0&&void 0===h)break;if(h&&f&&"object"==typeof f&&void 0===f.outlets){if(!sh(h,f,a))return o;i+=2}else{if(!sh(h,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Yt(n.segments.slice(0,i.pathIndex),{});return o.children[pi]=new Yt(n.segments.slice(i.pathIndex),n.children),wc(o,0,r)}return i.match&&0===r.length?new Yt(n.segments,{}):i.match&&!n.hasChildren()?fp(n,t,e):i.match?wc(n,0,r):fp(n,t,e)}function wc(n,t,e){if(0===e.length)return new Yt(n.segments,{});{const i=function Jg(n){return YA(n[0])?n[0].outlets:{[pi]:n}}(e),r={};return qs(i,(o,a)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[a]=hp(n.children[a],t,o))}),qs(n.children,(o,a)=>{void 0===i[a]&&(r[a]=o)}),new Yt(n.segments,r)}}function fp(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(YA(o)){const h=dw(o.outlets);return new Yt(i,h)}if(0===r&&$h(e[0])){i.push(new Co(n.segments[t].path,Jh(e[0]))),r++;continue}const a=YA(o)?o.outlets[pi]:`${o}`,u=r<e.length-1?e[r+1]:null;a&&u&&$h(u)?(i.push(new Co(a,Jh(u))),r+=2):(i.push(new Co(a,{})),r++)}return new Yt(i,{})}function dw(n){const t={};return qs(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=fp(new Yt([],{}),0,e))}),t}function Jh(n){const t={};return qs(n,(e,i)=>t[i]=`${e}`),t}function sh(n,t,e){return n==e.path&&bo(t,e.parameters)}class bc{constructor(t,e){this.id=t,this.url=e}}class Xh extends bc{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class md extends bc{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class eA extends bc{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pp extends bc{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class I_ extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JA extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xg extends bc{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tA extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XA extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fs{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _d{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ru{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oh{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yd{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ef{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cc{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class em{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=nA(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=nA(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ou(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Ou(t,this._root).map(e=>e.value)}}function nA(n,t){if(n===t.value)return t;for(const e of t.children){const i=nA(n,e);if(i)return i}return null}function Ou(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Ou(n,e);if(i.length)return i.unshift(t),i}return[]}class dl{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ic(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class tf extends em{constructor(t,e){super(t),this.snapshot=e,_p(this,t)}toString(){return this.snapshot.toString()}}function iA(n,t){const e=function pC(n,t){const a=new mp([],{},{},"",{},pi,t,null,n.root,-1,{});return new rA("",new dl(a,[]))}(n,t),i=new pr([new Co("",{})]),r=new pr({}),o=new pr({}),a=new pr({}),u=new pr(""),h=new Lu(i,r,a,u,o,pi,t,e.root);return h.snapshot=e.root,new tf(new dl(h,[]),e)}class Lu{constructor(t,e,i,r,o,a,u,h){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=u,this.title=this.data?.pipe((0,on.U)(f=>f[ih]))??An(void 0),this._futureSnapshot=h}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,on.U)(t=>Bu(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,on.U)(t=>Bu(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gp(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function hw(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class mp{constructor(t,e,i,r,o,a,u,h,f,_,C){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=u,this.routeConfig=h,this._urlSegment=f,this._lastPathIndex=_,this._resolve=C}get title(){return this.data?.[ih]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Bu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rA extends em{constructor(t,e){super(e),this.url=t,_p(this,e)}toString(){return sA(this._root)}}function _p(n,t){t.value._routerState=n,t.children.forEach(e=>_p(n,e))}function sA(n){const t=n.children.length>0?` { ${n.children.map(sA).join(", ")} } `:"";return`${n.value}${t}`}function tm(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,bo(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),bo(t.params,e.params)||n.params.next(e.params),function Xy(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!bo(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),bo(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function yp(n,t){const e=bo(n.params,t.params)&&function Ks(n,t){return ul(n,t)&&n.every((e,i)=>bo(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||yp(n.parent,t.parent))}function aA(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function D_(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return aA(n,i,r);return aA(n,i)})}(n,t,e);return new dl(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(u=>aA(n,u)),a}}const i=function iv(n){return new Lu(new pr(n.url),new pr(n.params),new pr(n.queryParams),new pr(n.fragment),new pr(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>aA(n,o));return new dl(i,r)}}const nm="ngNavigationCancelingError";function im(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=vc(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=rc(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function rc(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[nm]=!0,i.cancellationCode=t,e&&(i.url=e),i}function ah(n){return rv(n)&&vc(n.url)}function rv(n){return n&&n[nm]}class T_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new nf,this.attachRef=null}}let nf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new T_,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ja=!1;let vd=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=pi,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.parentContexts=(0,s.f3M)(nf),this.location=(0,s.f3M)(s.s_b),this.changeDetector=(0,s.f3M)(s.sBO),this.environmentInjector=(0,s.f3M)(s.lqb)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,ja);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,ja);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,ja);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new s.vHH(4013,ja);this._activatedRoute=e;const r=this.location,a=e.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,h=new sv(e,u,r.injector);if(i&&function rm(n){return!!n.resolveComponentFactory}(i)){const f=i.resolveComponentFactory(a);this.activated=r.createComponent(f,r.length,h)}else this.activated=r.createComponent(a,{index:r.length,injector:h,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[s.TTD]}),n})();class sv{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Lu?this.route:t===nf?this.childContexts:this.parent.get(t,e)}}let vp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[vd],encapsulation:2}),n})();function bn(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function rf(n){const t=n.children&&n.children.map(rf),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==pi&&(e.component=vp),e}function bs(n){return n.outlet||pi}function sf(n,t){const e=n.filter(i=>bs(i)===t);return e.push(...n.filter(i=>bs(i)!==t)),e}function wd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class bd{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),tm(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=ic(e);t.children.forEach(o=>{const a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),qs(r,(o,a)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=ic(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],r);if(i&&i.outlet){const a=i.outlet.detach(),u=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:u})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=ic(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=ic(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new ef(o.value.snapshot))}),t.children.length&&this.forwardEvent(new oh(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(tm(r),r===o)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const u=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(u.contexts),a.attachRef=u.componentRef,a.route=u.route.value,a.outlet&&a.outlet.attach(u.componentRef,u.route.value),tm(u.route.value),this.activateChildRoutes(t,null,a.children)}else{const u=wd(r.snapshot),h=u?.get(s._Vd)??null;a.attachRef=null,a.route=r,a.resolver=h,a.injector=u,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}class Cp{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class lA{constructor(t,e){this.component=t,this.route=e}}function av(n,t,e){const i=n._root;return cA(i,t?t._root:null,e,[i.value])}function Cd(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,s.Z0I)(n)?t.get(n):n:i}function cA(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=ic(t);return n.children.forEach(a=>{(function F_(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,a=t?t.value:null,u=e?e.getContext(n.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const h=function om(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ul(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ul(n.url,t.url)||!bo(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yp(n,t)||!bo(n.queryParams,t.queryParams);default:return!yp(n,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);h?r.canActivateChecks.push(new Cp(i)):(o.data=a.data,o._resolvedData=a._resolvedData),cA(n,t,o.component?u?u.children:null:e,i,r),h&&u&&u.outlet&&u.outlet.isActivated&&r.canDeactivateChecks.push(new lA(u.outlet.component,a))}else a&&uA(t,u,r),r.canActivateChecks.push(new Cp(i)),cA(n,null,o.component?u?u.children:null:e,i,r)})(a,o[a.value.outlet],e,i.concat([a.value]),r),delete o[a.value.outlet]}),qs(o,(a,u)=>uA(a,e.getContext(u),r)),r}function uA(n,t,e){const i=ic(n),r=n.value;qs(i,(o,a)=>{uA(o,r.component?t?t.children.getContext(a):null:t,e)}),e.canDeactivateChecks.push(new lA(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function x(n){return"function"==typeof n}function Ct(n){return n instanceof Su||"EmptyError"===n?.name}const nn=Symbol("INITIAL_VALUE");function fn(){return ws(n=>al(n.map(t=>t.pipe((0,Jr.q)(1),sa(nn)))).pipe((0,on.U)(t=>{for(const e of t)if(!0!==e){if(e===nn)return nn;if(!1===e||e instanceof Fn)return e}return!0}),_i(t=>t!==nn),(0,Jr.q)(1)))}function lm(n){return(0,Ad.z)((0,Cr.b)(t=>{if(vc(t))throw im(0,t)}),(0,on.U)(t=>!0===t))}const lf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Aw(n,t,e,i,r){const o=dA(n,t,e);return o.matched?function cm(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?An(r.map(a=>{const u=Cd(a,n);return so(function ge(n){return n&&x(n.canMatch)}(u)?u.canMatch(t,e):n.runInContext(()=>u(t,e)))})).pipe(fn(),lm()):An(!0)}(i=bn(t,i),t,e).pipe((0,on.U)(a=>!0===a?o:{...lf})):An(o)}function dA(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...lf}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Fu)(e,n,t);if(!r)return{...lf};const o={};qs(r.posParams,(u,h)=>{o[h]=u.path});const a=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function um(n,t,e,i){if(e.length>0&&function mC(n,t,e){return e.some(i=>uv(n,t,i)&&bs(i)!==pi)}(n,e,i)){const o=new Yt(t,function gC(n,t,e,i){const r={};r[pi]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&bs(o)!==pi){const a=new Yt([],{});a._sourceSegment=n,a._segmentIndexShift=t.length,r[bs(o)]=a}return r}(n,t,i,new Yt(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function Ep(n,t,e){return e.some(i=>uv(n,t,i))}(n,e,i)){const o=new Yt(n.segments,function fw(n,t,e,i,r){const o={};for(const a of i)if(uv(n,e,a)&&!r[bs(a)]){const u=new Yt([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,o[bs(a)]=u}return{...r,...o}}(n,t,e,i,n.children));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const r=new Yt(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function uv(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function dv(n,t,e,i){return!!(bs(n)===i||i!==pi&&uv(t,e,n))&&("**"===n.path||dA(t,n,e).matched)}function b(n,t,e){return 0===t.length&&!n.children[e]}const w=!1;class S{constructor(t){this.segmentGroup=t||null}}class E{constructor(t){this.urlTree=t}}function L(n){return ro(new S(n))}function G(n){return ro(new E(n))}class Fe{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=um(this.urlTree.root,[],[],this.config).segmentGroup,e=new Yt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,pi).pipe((0,on.U)(o=>this.createUrlTree(Zg(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ho(o=>{if(o instanceof E)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof S?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,pi).pipe((0,on.U)(r=>this.createUrlTree(Zg(r),t.queryParams,t.fragment))).pipe(Ho(r=>{throw r instanceof S?this.noMatchError(r):r}))}noMatchError(t){return new s.vHH(4002,w)}createUrlTree(t,e,i){const r=$A(t);return new Fn(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,on.U)(o=>new Yt([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,Gn.D)(r).pipe(cl(o=>{const a=i.children[o],u=sf(e,o);return this.expandSegmentGroup(t,u,a,o).pipe((0,on.U)(h=>({segment:h,outlet:o})))}),nc((o,a)=>(o[a.outlet]=a.segment,o),{}),rp())}expandSegment(t,e,i,r,o,a){return(0,Gn.D)(i).pipe(cl(u=>this.expandSegmentAgainstRoute(t,e,i,u,r,o,a).pipe(Ho(f=>{if(f instanceof S)return An(null);throw f}))),Qo(u=>!!u),Ho((u,h)=>{if(Ct(u))return b(e,r,o)?An(new Yt([],{})):L(e);throw u}))}expandSegmentAgainstRoute(t,e,i,r,o,a,u){return dv(r,e,o,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,a):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a):L(e):L(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?G(o):this.lineralizeSegments(i,o).pipe((0,wo.z)(a=>{const u=new Yt(a,{});return this.expandSegment(t,u,e,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a){const{matched:u,consumedSegments:h,remainingSegments:f,positionalParamSegments:_}=dA(e,r,o);if(!u)return L(e);const C=this.applyRedirectCommands(h,r.redirectTo,_);return r.redirectTo.startsWith("/")?G(C):this.lineralizeSegments(r,C).pipe((0,wo.z)(F=>this.expandSegment(t,e,i,F.concat(f),a,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=bn(i,t),i.loadChildren?(i._loadedRoutes?An({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,on.U)(u=>(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,new Yt(r,{})))):An(new Yt(r,{}))):Aw(e,i,r,t).pipe(ws(({matched:a,consumedSegments:u,remainingSegments:h})=>a?this.getChildConfig(t=i._injector??t,i,r).pipe((0,wo.z)(_=>{const C=_.injector??t,F=_.routes,{segmentGroup:B,slicedSegments:U}=um(e,u,h,F),H=new Yt(B.segments,B.children);if(0===U.length&&H.hasChildren())return this.expandChildren(C,F,H).pipe((0,on.U)(he=>new Yt(u,he)));if(0===F.length&&0===U.length)return An(new Yt(u,{}));const Z=bs(i)===o;return this.expandSegment(C,H,F,U,Z?pi:o,!0).pipe((0,on.U)(W=>new Yt(u.concat(W.segments),W.children)))})):L(e)))}getChildConfig(t,e,i){return e.children?An({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?An({routes:e._loadedRoutes,injector:e._loadedInjector}):function cv(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?An(!0):An(r.map(a=>{const u=Cd(a,n);return so(function m(n){return n&&x(n.canLoad)}(u)?u.canLoad(t,e):n.runInContext(()=>u(t,e)))})).pipe(fn(),lm())}(t,e,i).pipe((0,wo.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,Cr.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function ce(n){return ro(rc(w,3))}())):An({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return An(i);if(r.numberOfChildren>1||!r.children[pi])return ro(new s.vHH(4e3,w));r=r.children[pi]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Fn(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return qs(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const u=r.substring(1);i[o]=e[u]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let a={};return qs(e.children,(u,h)=>{a[h]=this.createSegmentGroup(t,u,i,r)}),new Yt(o,a)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new s.vHH(4001,w);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class Dt{}class En{constructor(t,e,i,r,o,a,u){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=a,this.urlSerializer=u}recognize(){const t=um(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,pi).pipe((0,on.U)(e=>{if(null===e)return null;const i=new mp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},pi,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new dl(i,e),o=new rA(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=gp(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,Gn.D)(Object.keys(i.children)).pipe(cl(r=>{const o=i.children[r],a=sf(e,r);return this.processSegmentGroup(t,a,o,r)}),nc((r,o)=>r&&o?(r.push(...o),r):null),KA(r=>null!==r),eh(null),rp(),(0,on.U)(r=>{if(null===r)return null;const o=Pr(r);return function Zi(n){n.sort((t,e)=>t.value.outlet===pi?-1:e.value.outlet===pi?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return(0,Gn.D)(e).pipe(cl(a=>this.processSegmentAgainstRoute(a._injector??t,a,i,r,o)),Qo(a=>!!a),Ho(a=>{if(Ct(a))return b(i,r,o)?An([]):An(null);throw a}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!dv(e,i,r,o))return An(null);let a;if("**"===e.path){const u=r.length>0?Mu(r).parameters:{},h=Mn(i)+r.length;a=An({snapshot:new mp(r,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sr(e),bs(e),e.component??e._loadedComponent??null,e,gi(i),h,Bi(e)),consumedSegments:[],remainingSegments:[]})}else a=Aw(i,e,r,t).pipe((0,on.U)(({matched:u,consumedSegments:h,remainingSegments:f,parameters:_})=>{if(!u)return null;const C=Mn(i)+h.length;return{snapshot:new mp(h,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sr(e),bs(e),e.component??e._loadedComponent??null,e,gi(i),C,Bi(e)),consumedSegments:h,remainingSegments:f}}));return a.pipe(ws(u=>{if(null===u)return An(null);const{snapshot:h,consumedSegments:f,remainingSegments:_}=u;t=e._injector??t;const C=e._loadedInjector??t,F=function ii(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:B,slicedSegments:U}=um(i,f,_,F.filter(Z=>void 0===Z.redirectTo));if(0===U.length&&B.hasChildren())return this.processChildren(C,F,B).pipe((0,on.U)(Z=>null===Z?null:[new dl(h,Z)]));if(0===F.length&&0===U.length)return An([new dl(h,[])]);const H=bs(e)===o;return this.processSegment(C,F,B,U,H?pi:o).pipe((0,on.U)(Z=>null===Z?null:[new dl(h,Z)]))}))}}function Jn(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Pr(n){const t=[],e=new Set;for(const i of n){if(!Jn(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Pr(i.children);t.push(new dl(i.value,r))}return t.filter(i=>!e.has(i))}function gi(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Mn(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function sr(n){return n.data||{}}function Bi(n){return n.resolve||{}}function Al(n){return"string"==typeof n.title||null===n.title}function qa(n){return ws(t=>{const e=n(t);return e?(0,Gn.D)(e).pipe((0,on.U)(()=>t)):An(t)})}const fl=new s.OlP("ROUTES");let AA=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return An(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=so(e.loadComponent()).pipe((0,on.U)(lh),(0,Cr.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),nh(()=>{this.componentLoaders.delete(e)})),r=new zh(i,()=>new tn.x).pipe(fd());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return An({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,on.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(i);let h,f,_=!1;Array.isArray(u)?f=u:(h=u.create(e).injector,f=Ha(h.get(fl,[],s.XFs.Self|s.XFs.Optional)));return{routes:f.map(rf),injector:h}}),nh(()=>{this.childrenLoaders.delete(i)})),a=new zh(o,()=>new tn.x).pipe(fd());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(e){return so(e()).pipe((0,on.U)(lh),(0,wo.z)(r=>r instanceof s.YKP||Array.isArray(r)?An(r):(0,Gn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3),s.LFG(s.Sil))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lh(n){return function Ip(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let xd=(()=>{class n{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new tn.x,this.configLoader=(0,s.f3M)(AA),this.environmentInjector=(0,s.f3M)(s.lqb),this.urlSerializer=(0,s.f3M)(Va),this.rootContexts=(0,s.f3M)(nf),this.navigationId=0,this.configLoader.onLoadEndListener=r=>this.events.next(new _d(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Fs(r))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new pr({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(_i(i=>0!==i.id),(0,on.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),ws(i=>{let r=!1,o=!1;return An(i).pipe((0,Cr.b)(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ws(a=>{const u=e.browserUrlTree.toString(),h=!e.navigated||a.extractedUrl.toString()!==u||u!==e.currentUrlTree.toString();if(("reload"===e.onSameUrlNavigation||h)&&e.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Dp(a.source)&&(e.browserUrlTree=a.extractedUrl),An(a).pipe(ws(_=>{const C=this.transitions?.getValue();return this.events.next(new Xh(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),C!==this.transitions?.getValue()?yc.E:Promise.resolve(_)}),function He(n,t,e,i){return ws(r=>function le(n,t,e,i,r){return new Fe(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,on.U)(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,Cr.b)(_=>{this.currentNavigation={...this.currentNavigation,finalUrl:_.urlAfterRedirects},i.urlAfterRedirects=_.urlAfterRedirects}),function Vo(n,t,e,i,r){return(0,wo.z)(o=>function ln(n,t,e,i,r,o,a="emptyOnly"){return new En(n,t,e,i,r,a,o).recognize().pipe(ws(u=>null===u?function Ln(n){return new mr.y(t=>t.error(n))}(new Dt):An(u)))}(n,t,e,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r).pipe((0,on.U)(a=>({...o,targetSnapshot:a}))))}(this.environmentInjector,e.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,Cr.b)(_=>{if(i.targetSnapshot=_.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!_.extras.skipLocationChange){const F=e.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl);e.setBrowserUrl(F,_)}e.browserUrlTree=_.urlAfterRedirects}const C=new I_(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(C)}));if(h&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:C,extractedUrl:F,source:B,restoredState:U,extras:H}=a,Z=new Xh(C,this.urlSerializer.serialize(F),B,U);this.events.next(Z);const q=iA(F,e.rootComponentType).snapshot;return An(i={...a,targetSnapshot:q,urlAfterRedirects:F,extras:{...H,skipLocationChange:!1,replaceUrl:!1}})}return e.rawUrlTree=a.rawUrl,a.resolve(null),yc.E}),(0,Cr.b)(a=>{const u=new JA(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),(0,on.U)(a=>i={...a,guards:av(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function Yi(n,t){return(0,wo.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=e;return 0===a.length&&0===o.length?An({...e,guardsResult:!0}):function $s(n,t,e,i){return(0,Gn.D)(n).pipe((0,wo.z)(r=>function k_(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?An(o.map(u=>{const h=wd(t)??r,f=Cd(u,h);return so(function z(n){return n&&x(n.canDeactivate)}(f)?f.canDeactivate(n,t,e,i):h.runInContext(()=>f(n,t,e,i))).pipe(Qo())})).pipe(fn()):An(!0)}(r.component,r.route,e,t,i)),Qo(r=>!0!==r,!0))}(a,i,r,n).pipe((0,wo.z)(u=>u&&function g(n){return"boolean"==typeof n}(u)?function xc(n,t,e,i){return(0,Gn.D)(t).pipe(cl(r=>ll(function xp(n,t){return null!==n&&t&&t(new Ru(n)),An(!0)}(r.route.parent,i),function af(n,t){return null!==n&&t&&t(new yd(n)),An(!0)}(r.route,i),function am(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>function lv(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(a)).filter(a=>null!==a).map(a=>Xd(()=>An(a.guards.map(h=>{const f=wd(a.node)??e,_=Cd(h,f);return so(function Q(n){return n&&x(n.canActivateChild)}(_)?_.canActivateChild(i,n):f.runInContext(()=>_(i,n))).pipe(Qo())})).pipe(fn())));return An(o).pipe(fn())}(n,r.path,e),function M_(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return An(!0);const r=i.map(o=>Xd(()=>{const a=wd(t)??e,u=Cd(o,a);return so(function D(n){return n&&x(n.canActivate)}(u)?u.canActivate(t,n):a.runInContext(()=>u(t,n))).pipe(Qo())}));return An(r).pipe(fn())}(n,r.route,e))),Qo(r=>!0!==r,!0))}(i,o,n,t):An(u)),(0,on.U)(u=>({...e,guardsResult:u})))})}(this.environmentInjector,a=>this.events.next(a)),(0,Cr.b)(a=>{if(i.guardsResult=a.guardsResult,vc(a.guardsResult))throw im(0,a.guardsResult);const u=new Xg(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(u)}),_i(a=>!!a.guardsResult||(e.restoreHistory(a),this.cancelNavigationTransition(a,"",3,e),!1)),qa(a=>{if(a.guards.canActivateChecks.length)return An(a).pipe((0,Cr.b)(u=>{const h=new tA(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),ws(u=>{let h=!1;return An(u).pipe(function Ec(n,t){return(0,wo.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return An(e);let o=0;return(0,Gn.D)(r).pipe(cl(a=>function Yc(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!Al(r)&&(o[ih]=r.title),function as(n,t,e,i){const r=function za(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return An({});const o={};return(0,Gn.D)(r).pipe((0,wo.z)(a=>function hA(n,t,e,i){const r=wd(t)??i,o=Cd(n,r);return so(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[a],t,e,i).pipe(Qo(),(0,Cr.b)(u=>{o[a]=u}))),qh(1),pd(o),Ho(a=>Ct(a)?yc.E:ro(a)))}(o,n,t,i).pipe((0,on.U)(a=>(n._resolvedData=a,n.data=gp(n,e).resolve,r&&Al(r)&&(n.data[ih]=r.title),null)))}(a.route,i,n,t)),(0,Cr.b)(()=>o++),qh(1),(0,wo.z)(a=>o===r.length?An(e):yc.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,Cr.b)({next:()=>h=!0,complete:()=>{h||(e.restoreHistory(u),this.cancelNavigationTransition(u,"",2,e))}}))}),(0,Cr.b)(u=>{const h=new XA(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),qa(a=>{const u=h=>{const f=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(h.routeConfig).pipe((0,Cr.b)(_=>{h.component=_}),(0,on.U)(()=>{})));for(const _ of h.children)f.push(...u(_));return f};return al(u(a.targetSnapshot.root)).pipe(eh(),(0,Jr.q)(1))}),qa(()=>e.afterPreactivation()),(0,on.U)(a=>{const u=function oA(n,t,e){const i=aA(n,t._root,e?e._root:void 0);return new tf(i,t)}(e.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:u}}),(0,Cr.b)(a=>{e.currentUrlTree=a.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),e.routerState=a.targetRouterState,"deferred"===e.urlUpdateStrategy&&(a.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,a),e.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>(0,on.U)(i=>(new bd(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,a=>this.events.next(a)),(0,Cr.b)({next:a=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new md(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{r=!0}}),nh(()=>{r||o||this.cancelNavigationTransition(i,"",1,e),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Ho(a=>{if(o=!0,rv(a)){ah(a)||(e.navigated=!0,e.restoreHistory(i,!0));const u=new eA(i.id,this.urlSerializer.serialize(i.extractedUrl),a.message,a.cancellationCode);if(this.events.next(u),ah(a)){const h=e.urlHandlingStrategy.merge(a.url,e.rawUrlTree),f={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||Dp(i.source)};e.scheduleNavigation(h,"imperative",null,f,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const u=new pp(i.id,this.urlSerializer.serialize(i.extractedUrl),a,i.targetSnapshot??void 0);this.events.next(u);try{i.resolve(e.errorHandler(a))}catch(h){i.reject(h)}}return yc.E}))}))}cancelNavigationTransition(e,i,r,o){const a=new eA(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(a),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Dp(n){return"imperative"!==n}let dm=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===pi);return i}getResolvedTitleForRoute(e){return e.data[ih]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(hv)},providedIn:"root"}),n})(),hv=(()=>{class n extends dm{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Wd))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(HO)},providedIn:"root"}),n})();class QO{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let HO=(()=>{class n extends QO{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zE=new s.OlP("",{providedIn:"root",factory:()=>({})});let bT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(xQ)},providedIn:"root"}),n})(),xQ=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function EQ(n){throw n}function CT(n,t,e){return t.parse("/")}const VO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function ET(){const n=(0,s.f3M)(Va),t=(0,s.f3M)(nf),e=(0,s.f3M)(Jt),i=(0,s.f3M)(s.zs3),r=(0,s.f3M)(s.Sil),o=(0,s.f3M)(fl,{optional:!0})??[],a=(0,s.f3M)(zE,{optional:!0})??{},u=new ls(null,n,t,e,i,r,Ha(o));return function GO(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(a,u),u}let ls=(()=>{class n{constructor(e,i,r,o,a,u,h){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=h,this.disposed=!1,this.currentPageId=0,this.isNgZoneEnabled=!1,this.errorHandler=EQ,this.malformedUriErrorHandler=CT,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>An(void 0),this.urlHandlingStrategy=(0,s.f3M)(bT),this.routeReuseStrategy=(0,s.f3M)(Tp),this.titleStrategy=(0,s.f3M)(dm),this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.canceledNavigationResolution="replace",this.navigationTransitions=(0,s.f3M)(xd),this.console=a.get(s.c2e);const f=a.get(s.R0b);this.isNgZoneEnabled=f instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(h),this.currentUrlTree=new Fn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=iA(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe(_=>{this.lastSuccessfulId=_.id,this.currentPageId=_.targetPageId},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)})}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},o=e.state?.navigationId?e.state:null;if(e.state){const u={...e.state};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(r.state=u)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(rf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:h}=i,f=r||this.routerState.root,_=h?this.currentUrlTree.fragment:a;let C=null;switch(u){case"merge":C={...this.currentUrlTree.queryParams,...o};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=o||null}return null!==C&&(C=this.removeEmptyProps(C)),cw(f,this.currentUrlTree,e,C,_??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=vc(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function jO(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new s.vHH(4008,!1)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...VO}:!1===i?{...xT}:i,vc(e))return ue(this.currentUrlTree,e,r);const o=this.parseUrl(e);return ue(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,a){if(this.disposed)return Promise.resolve(!1);let u,h,f,_;return a?(u=a.resolve,h=a.reject,f=a.promise):f=new Promise((C,F)=>{u=C,h=F}),"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),_=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):_=0,this.navigationTransitions.handleNavigationRequest({targetPageId:_,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:u,reject:h,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(C=>Promise.reject(C))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:function(){return ET()},providedIn:"root"}),n})(),hm=(()=>{class n{constructor(e,i,r,o,a,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=a,this.locationStrategy=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new tn.x;const h=a.nativeElement.tagName;this.isAnchorElement="A"===h||"AREA"===h,this.isAnchorElement?this.subscription=e.events.subscribe(f=>{f instanceof md&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,s.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,s.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,s.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||o||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,s.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ls),s.Y36(Lu),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(yt))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})();class ST{}let ZO=(()=>{class n{constructor(e,i,r,o,a){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(_i(e=>e instanceof md),cl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,s.MMx)(o.providers,e,`Route: ${o.path}`));const a=o._injector??e,u=o._loadedInjector??a;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(a,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(u,o.children??o._loadedRoutes))}return(0,Gn.D)(r).pipe((0,Tu.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):An(null);const o=r.pipe((0,wo.z)(a=>null===a?An(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(i.loadComponent&&!i._loadedComponent){const a=this.loader.loadComponent(i);return(0,Gn.D)([o,a]).pipe((0,Tu.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ls),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(ST),s.LFG(AA))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KE=new s.OlP("");let IT=(()=>{class n{constructor(e,i,r,o,a={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Xh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof md&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Cc&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Cc(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function R_(n,t){return{\u0275kind:n,\u0275providers:t}}function YE(){const n=(0,s.f3M)(s.zs3);return t=>{const e=n.get(s.z2F);if(t!==e.components[0])return;const i=n.get(ls),r=n.get(DT);1===n.get(WE)&&i.initialNavigation(),n.get(Am,null,s.XFs.Optional)?.setUpPreloading(),n.get(KE,null,s.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const DT=new s.OlP("",{factory:()=>new tn.x}),WE=new s.OlP("",{providedIn:"root",factory:()=>1});const Am=new s.OlP("");function JO(n){return R_(0,[{provide:Am,useExisting:ZO},{provide:ST,useExisting:n}])}const XO=new s.OlP("ROUTER_FORROOT_GUARD"),BQ=[Jt,{provide:Va,useClass:Ga},{provide:ls,useFactory:ET},nf,{provide:Lu,useFactory:function ZE(n){return n.routerState.root},deps:[ls]},AA,[]];function FQ(){return new s.PXZ("Router",ls)}let MT=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[BQ,[],{provide:fl,multi:!0,useValue:e},{provide:XO,useFactory:Av,deps:[[ls,new s.FiY,new s.tp0]]},{provide:zE,useValue:i||{}},i?.useHash?{provide:yt,useClass:qt}:{provide:yt,useClass:St},{provide:KE,useFactory:()=>{const n=(0,s.f3M)(ta),t=(0,s.f3M)(s.R0b),e=(0,s.f3M)(zE),i=(0,s.f3M)(xd),r=(0,s.f3M)(Va);return e.scrollOffset&&n.setOffset(e.scrollOffset),new IT(r,i,n,t,e)}},i?.preloadingStrategy?JO(i.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:FQ},i?.initialNavigation?tL(i):[],[{provide:JE,useFactory:YE},{provide:s.tb,multi:!0,useExisting:JE}]]}}static forChild(e){return{ngModule:n,providers:[{provide:fl,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(XO,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vp]}),n})();function Av(n){return"guarded"}function tL(n){return["disabled"===n.initialNavigation?R_(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const t=(0,s.f3M)(ls);return()=>{t.setUpLocationChangeListener()}}},{provide:WE,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?R_(2,[{provide:WE,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:t=>{const e=t.get(Ee,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const o=t.get(ls),a=t.get(DT);(function i(r){t.get(ls).events.pipe(_i(a=>a instanceof md||a instanceof eA||a instanceof pp),(0,on.U)(a=>a instanceof md||a instanceof eA&&(0===a.code||1===a.code)&&null),_i(a=>null!==a),(0,Jr.q)(1)).subscribe(()=>{r()})})(()=>{r(!0)}),o.afterPreactivation=()=>(r(!0),a.closed?An(void 0):a),o.initialNavigation()}))}}]).\u0275providers:[]]}const JE=new s.OlP("");class pw{}class XE{}class pl{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof pl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new pl;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof pl?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let a=this.headers.get(e);if(!a)return;a=a.filter(u=>-1===o.indexOf(u)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class nL{encodeKey(t){return eS(t)}encodeValue(t){return eS(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const RT=/%(\d[a-f0-9])/gi,rL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function eS(n){return encodeURIComponent(n).replace(RT,(t,e)=>rL[e]??t)}function gw(n){return`${n}`}class Jc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new nL,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function iL(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[a,u]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],h=e.get(a)||[];h.push(u),e.set(a,h)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(gw):[gw(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Jc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(gw(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(gw(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class tS{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function oL(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function L_(n){return typeof Blob<"u"&&n instanceof Blob}function nS(n){return typeof FormData<"u"&&n instanceof FormData}class fv{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function sL(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new pl),this.context||(this.context=new tS),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const u=e.indexOf("?");this.urlWithParams=e+(-1===u?"?":u<e.length-1?"&":"")+a}}else this.params=new Jc,this.urlWithParams=e}serializeBody(){return null===this.body?null:oL(this.body)||L_(this.body)||nS(this.body)||function aL(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Jc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||nS(this.body)?null:L_(this.body)?this.body.type||null:oL(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Jc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,u=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let h=t.headers||this.headers,f=t.params||this.params;const _=t.context??this.context;return void 0!==t.setHeaders&&(h=Object.keys(t.setHeaders).reduce((C,F)=>C.set(F,t.setHeaders[F]),h)),t.setParams&&(f=Object.keys(t.setParams).reduce((C,F)=>C.set(F,t.setParams[F]),f)),new fv(e,i,o,{params:f,headers:h,context:_,reportProgress:u,responseType:r,withCredentials:a})}}var Ka=(()=>((Ka=Ka||{})[Ka.Sent=0]="Sent",Ka[Ka.UploadProgress=1]="UploadProgress",Ka[Ka.ResponseHeader=2]="ResponseHeader",Ka[Ka.DownloadProgress=3]="DownloadProgress",Ka[Ka.Response=4]="Response",Ka[Ka.User=5]="User",Ka))();class iS{constructor(t,e=200,i="OK"){this.headers=t.headers||new pl,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class pv extends iS{constructor(t={}){super(t),this.type=Ka.ResponseHeader}clone(t={}){return new pv({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Bp extends iS{constructor(t={}){super(t),this.type=Ka.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Bp({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class yC extends iS{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function N_(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let fm=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof fv)o=e;else{let h,f;h=r.headers instanceof pl?r.headers:new pl(r.headers),r.params&&(f=r.params instanceof Jc?r.params:new Jc({fromObject:r.params})),o=new fv(e,i,void 0!==r.body?r.body:null,{headers:h,context:r.context,params:f,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=An(o).pipe(cl(h=>this.handler.handle(h)));if(e instanceof fv||"events"===r.observe)return a;const u=a.pipe(_i(h=>h instanceof Bp));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe((0,on.U)(h=>{if(null!==h.body&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return u.pipe((0,on.U)(h=>{if(null!==h.body&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return u.pipe((0,on.U)(h=>{if(null!==h.body&&"string"!=typeof h.body)throw new Error("Response is not a string.");return h.body}));default:return u.pipe((0,on.U)(h=>h.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Jc).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,N_(r,i))}post(e,i,r={}){return this.request("POST",e,N_(r,i))}put(e,i,r={}){return this.request("PUT",e,N_(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(pw))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function mw(n,t){return t(n)}function OT(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const vC=new s.OlP("HTTP_INTERCEPTORS"),P_=new s.OlP("HTTP_INTERCEPTOR_FNS");function LT(){let n=null;return(t,e)=>(null===n&&(n=((0,s.f3M)(vC,{optional:!0})??[]).reduceRight(OT,mw)),n(t,e))}let wC=(()=>{class n extends pw{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=Array.from(new Set(this.injector.get(P_)));this.chain=i.reduceRight((r,o)=>function rS(n,t,e){return(i,r)=>e.runInContext(()=>t(i,o=>n(o,r)))}(r,o,this.injector),mw)}return this.chain(e,i=>this.backend.handle(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(XE),s.LFG(s.lqb))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const UQ=/^\)\]\}',?\n/;let oS=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new mr.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((B,U)=>r.setRequestHeader(B,U.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const B=e.detectContentTypeHeader();null!==B&&r.setRequestHeader("Content-Type",B)}if(e.responseType){const B=e.responseType.toLowerCase();r.responseType="json"!==B?B:"text"}const o=e.serializeBody();let a=null;const u=()=>{if(null!==a)return a;const B=r.statusText||"OK",U=new pl(r.getAllResponseHeaders()),H=function sS(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return a=new pv({headers:U,status:r.status,statusText:B,url:H}),a},h=()=>{let{headers:B,status:U,statusText:H,url:Z}=u(),q=null;204!==U&&(q=typeof r.response>"u"?r.responseText:r.response),0===U&&(U=q?200:0);let W=U>=200&&U<300;if("json"===e.responseType&&"string"==typeof q){const he=q;q=q.replace(UQ,"");try{q=""!==q?JSON.parse(q):null}catch(xe){q=he,W&&(W=!1,q={error:xe,text:q})}}W?(i.next(new Bp({body:q,headers:B,status:U,statusText:H,url:Z||void 0})),i.complete()):i.error(new yC({error:q,headers:B,status:U,statusText:H,url:Z||void 0}))},f=B=>{const{url:U}=u(),H=new yC({error:B,status:r.status||0,statusText:r.statusText||"Unknown Error",url:U||void 0});i.error(H)};let _=!1;const C=B=>{_||(i.next(u()),_=!0);let U={type:Ka.DownloadProgress,loaded:B.loaded};B.lengthComputable&&(U.total=B.total),"text"===e.responseType&&!!r.responseText&&(U.partialText=r.responseText),i.next(U)},F=B=>{let U={type:Ka.UploadProgress,loaded:B.loaded};B.lengthComputable&&(U.total=B.total),i.next(U)};return r.addEventListener("load",h),r.addEventListener("error",f),r.addEventListener("timeout",f),r.addEventListener("abort",f),e.reportProgress&&(r.addEventListener("progress",C),null!==o&&r.upload&&r.upload.addEventListener("progress",F)),r.send(o),i.next({type:Ka.Sent}),()=>{r.removeEventListener("error",f),r.removeEventListener("abort",f),r.removeEventListener("load",h),r.removeEventListener("timeout",f),e.reportProgress&&(r.removeEventListener("progress",C),null!==o&&r.upload&&r.upload.removeEventListener("progress",F)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Wl))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const aS=new s.OlP("XSRF_ENABLED"),PT="XSRF-TOKEN",UT=new s.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>PT}),lS="X-XSRF-TOKEN",QT=new s.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>lS});class HT{}let cS=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Oo(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ke),s.LFG(s.Lbi),s.LFG(UT))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function AL(n,t){const e=n.url.toLowerCase();if(!(0,s.f3M)(aS)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=(0,s.f3M)(HT).getToken(),r=(0,s.f3M)(QT);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var _a=(()=>((_a=_a||{})[_a.Interceptors=0]="Interceptors",_a[_a.LegacyInterceptors=1]="LegacyInterceptors",_a[_a.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",_a[_a.NoXsrfProtection=3]="NoXsrfProtection",_a[_a.JsonpSupport=4]="JsonpSupport",_a[_a.RequestsMadeViaParent=5]="RequestsMadeViaParent",_a))();function gv(n,t){return{\u0275kind:n,\u0275providers:t}}function fL(...n){const t=[fm,oS,wC,{provide:pw,useExisting:wC},{provide:XE,useExisting:oS},{provide:P_,useValue:AL,multi:!0},{provide:aS,useValue:!0},{provide:HT,useClass:cS}];for(const e of n)t.push(...e.\u0275providers);return(0,s.MR2)(t)}const bC=new s.OlP("LEGACY_INTERCEPTOR_FN");function gL({cookieName:n,headerName:t}){const e=[];return void 0!==n&&e.push({provide:UT,useValue:n}),void 0!==t&&e.push({provide:QT,useValue:t}),gv(_a.CustomXsrfConfiguration,e)}let uS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[fL(gv(_a.LegacyInterceptors,[{provide:bC,useFactory:LT},{provide:P_,useExisting:bC,multi:!0}]),gL({cookieName:PT,headerName:lS}))]}),n})();class mv{constructor(){this.guid="",this.author="",this.date=new Date,this.title="",this.like=0,this.tipologia="",this.utenti=new Array,this.delay=0}}class _w{constructor(){this.macro=new mv,this.azione="",this.value="",this.descrizione="",this.tipologia=""}}class yw{constructor(){this.comando="",this.settings=new Array,this.type="",this.code="",this.subCode=""}}class vw extends yw{constructor(){super(...arguments),this.function="",this.index=0}}class CC{constructor(){this.settings=new Array,this.macro=new mv,this.descrizione=""}}class dS{constructor(){this.checked=!0,this.settings=new Array,this.macro=new _w}}let fA;try{fA=typeof Intl<"u"&&Intl.v8BreakIterator}catch{fA=!1}let uf,Ms=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Yl(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!fA)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const VT=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function hS(){if(uf)return uf;if("object"!=typeof document||!document)return uf=new Set(VT),uf;let n=document.createElement("input");return uf=new Set(VT.filter(t=>(n.setAttribute("type",t),n.type===t))),uf}let yv,pm,U_,AS;function ww(n){return function vL(){if(null==yv&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>yv=!0}))}finally{yv=yv||!1}return yv}()?n:!!n.capture}function wL(){if(null==U_){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return U_=!1,U_;if("scrollBehavior"in document.documentElement.style)U_=!0;else{const n=Element.prototype.scrollTo;U_=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return U_}function bw(){if("object"!=typeof document||!document)return 0;if(null==pm){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),pm=0,0===n.scrollLeft&&(n.scrollLeft=1,pm=0===n.scrollLeft?1:2),n.remove()}return pm}function GT(n){if(function bL(){if(null==AS){const n=typeof document<"u"?document.head:null;AS=!(!n||!n.createShadowRoot&&!n.attachShadow)}return AS}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function fS(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Q_(n){return n.composedPath?n.composedPath()[0]:n.target}function pS(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}class df{constructor(){}xmlToJson(t){let e={};if(1===t.nodeType){if(t.attributes.length>0){e["@attributes"]={};for(let i=0;i<t.attributes.length;i+=1){const r=t.attributes.item(i);e["@attributes"][r.nodeName]=r.nodeValue}}}else 3===t.nodeType&&(e=t.nodeValue);if(t.hasChildNodes()&&1===t.childNodes.length&&3===t.childNodes[0].nodeType)e=t.childNodes[0].nodeValue;else if(t.hasChildNodes())for(let i=0;i<t.childNodes.length;i+=1){const r=t.childNodes.item(i),o=r.nodeName;if(typeof e[o]>"u")e[o]=this.xmlToJson(r);else{if(typeof e[o].push>"u"){const a=e[o];e[o]=[],e[o].push(a)}e[o].push(this.xmlToJson(r))}}return e}}df.\u0275fac=function(t){return new(t||df)},df.\u0275prov=s.Yz7({token:df,factory:df.\u0275fac,providedIn:"root"}),df.ngInjectableDef=(0,s.Ez6)({factory:function(){return new df},token:df,providedIn:"root"});var Mp=re(4986),oo=re(4976);function gS(){return(0,Wr.e)((n,t)=>{let e,i=!1;n.subscribe(new Nr.Q(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}function vv(n,t=wn.y){return n=n??CL,(0,Wr.e)((e,i)=>{let r,o=!0;e.subscribe(new Nr.Q(i,a=>{const u=t(a);(o||!n(r,u))&&(o=!1,r=u,i.next(a))}))})}function CL(n,t){return n===t}var Pn,Xc=re(2011),zT=(re(8523),re(3942)),bt=re(5861),ch=re(6881),kp=re(4859),hf=re(1877),ae=re(2090),SC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sc={},H_=H_||{},ji=SC||self;function IC(){}function wv(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Cw(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var V_="closure_uid_"+(1e9*Math.random()>>>0),Sc=0;function G_(n,t,e){return n.call.apply(n.bind,arguments)}function DC(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function ks(n,t,e){return(ks=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?G_:DC).apply(null,arguments)}function bv(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Go(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,o){for(var a=Array(arguments.length-2),u=2;u<arguments.length;u++)a[u-2]=arguments[u];return t.prototype[r].apply(i,a)}}function Ed(){this.s=this.s,this.o=this.o}Ed.prototype.s=!1,Ed.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function Af(n){Object.prototype.hasOwnProperty.call(n,V_)&&n[V_]||(n[V_]=++Sc)}(this)},Ed.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const j_=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function gm(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function z_(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(wv(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let a=0;a<o;a++)n[r+a]=i[a]}else n.push(i)}}function ya(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}ya.prototype.h=function(){this.defaultPrevented=!0};var xv=function(){if(!ji.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ji.addEventListener("test",IC,t),ji.removeEventListener("test",IC,t)}catch{}return n}();function Rp(n){return/^[\s\xa0]*$/.test(n)}var mS=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function TC(n,t){return n<t?-1:n>t?1:0}function xw(){var n=ji.navigator;return n&&(n=n.userAgent)?n:""}function pA(n){return-1!=xw().indexOf(n)}function BC(n){return BC[" "](n),n}function _S(n,t,e){return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}BC[" "]=IC;var Ew,n,qT=pA("Opera"),q_=pA("Trident")||pA("MSIE"),yS=pA("Edge"),vS=yS||q_,KT=pA("Gecko")&&!(-1!=xw().toLowerCase().indexOf("webkit")&&!pA("Edge"))&&!(pA("Trident")||pA("MSIE"))&&!pA("Edge"),ZT=-1!=xw().toLowerCase().indexOf("webkit")&&!pA("Edge");function $T(){var n=ji.document;return n?n.documentMode:void 0}e:{var Sw="",Iw=(n=xw(),KT?/rv:([^\);]+)(\)|;)/.exec(n):yS?/Edge\/([\d\.]+)/.exec(n):q_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):ZT?/WebKit\/(\S+)/.exec(n):qT?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Iw&&(Sw=Iw?Iw[1]:""),q_){var wS=$T();if(null!=wS&&wS>parseFloat(Sw)){Ew=String(wS);break e}}Ew=Sw}var FC={},kC=ji.document&&q_&&($T()||parseInt(Ew,10))||void 0;function mm(n,t){if(ya.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(KT){e:{try{BC(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:bS[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&mm.$.h.call(this)}}Go(mm,ya);var bS={2:"touch",3:"pen",4:"mouse"};mm.prototype.h=function(){mm.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ev="closure_listenable_"+(1e6*Math.random()|0),CS=0;function WT(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++CS,this.fa=this.ia=!1}function Tw(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Bw(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function RC(n){const t={};for(const e in n)t[e]=n[e];return t}const JT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xS(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<JT.length;o++)e=JT[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Fw(n){this.src=n,this.g={},this.h=0}function OC(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=j_(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Tw(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function LC(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==t&&o.capture==!!e&&o.la==i)return r}return-1}Fw.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var a=LC(n,t,i,r);return-1<a?(t=n[a],e||(t.ia=!1)):((t=new WT(t,this.src,o,!!i,r)).ia=e,n.push(t)),t};var ES="closure_lm_"+(1e6*Math.random()|0),NC={};function SS(n,t,e,i,r){if(i&&i.once)return DS(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)SS(n,t[o],e,i,r);return null}return e=VC(e),n&&n[Ev]?n.O(t,e,Cw(i)?!!i.capture:!!i,r):PC(n,t,e,!1,i,r)}function PC(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var a=Cw(r)?!!r.capture:!!r,u=QC(n);if(u||(n[ES]=u=new Fw(n)),(e=u.add(t,e,i,a,o)).proxy)return e;if(i=function IS(){const t=XT;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)xv||(r=a),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(BS(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function DS(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)DS(n,t[o],e,i,r);return null}return e=VC(e),n&&n[Ev]?n.P(t,e,Cw(i)?!!i.capture:!!i,r):PC(n,t,e,!0,i,r)}function TS(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)TS(n,t[o],e,i,r);else i=Cw(i)?!!i.capture:!!i,e=VC(e),n&&n[Ev]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=LC(o=n.g[t],e,i,r))&&(Tw(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=QC(n))&&(t=n.g[t.toString()],n=-1,t&&(n=LC(t,e,i,r)),(e=-1<n?t[n]:null)&&UC(e))}function UC(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[Ev])OC(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(BS(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=QC(t))?(OC(e,n),0==e.h&&(e.src=null,t[ES]=null)):Tw(n)}}}function BS(n){return n in NC?NC[n]:NC[n]="on"+n}function XT(n,t){if(n.fa)n=!0;else{t=new mm(t,this);var e=n.listener,i=n.la||n.src;n.ia&&UC(n),n=e.call(i,t)}return n}function QC(n){return(n=n[ES])instanceof Fw?n:null}var HC="__closure_events_fn_"+(1e9*Math.random()>>>0);function VC(n){return"function"==typeof n?n:(n[HC]||(n[HC]=function(t){return n.handleEvent(t)}),n[HC])}function va(){Ed.call(this),this.i=new Fw(this),this.S=this,this.J=null}function xo(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new ya(t,n);else if(t instanceof ya)t.target=t.target||n;else{var r=t;xS(t=new ya(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.g=e[o];r=GC(a,i,!0,t)&&r}if(r=GC(a=t.g=n,i,!0,t)&&r,r=GC(a,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=GC(a=t.g=e[o],i,!1,t)&&r}function GC(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.fa&&a.capture==e){var u=a.listener,h=a.la||a.src;a.ia&&OC(n.i,a),r=!1!==u.call(h,i)&&r}}return r&&!i.defaultPrevented}Go(va,Ed),va.prototype[Ev]=!0,va.prototype.removeEventListener=function(n,t,e,i){TS(this,n,t,e,i)},va.prototype.N=function(){if(va.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Tw(e[i]);delete n.g[t],n.h--}}this.J=null},va.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},va.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var FS=ji.JSON.stringify;function MS(){var n=OS;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var eB,jC=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new xL,n=>n.reset());class xL{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function kS(n){ji.setTimeout(()=>{throw n},0)}function EL(n,t){eB||function SL(){var n=ji.Promise.resolve(void 0);eB=function(){n.then(IL)}}(),RS||(eB(),RS=!0),OS.add(n,t)}var RS=!1,OS=new class K_{constructor(){this.h=this.g=null}add(t,e){const i=jC.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function IL(){for(var n;n=MS();){try{n.h.call(n.g)}catch(e){kS(e)}var t=jC;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}RS=!1}function oa(n,t){va.call(this),this.h=n||1,this.g=t||ji,this.j=ks(this.qb,this),this.l=Date.now()}function zC(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function LS(n,t,e){if("function"==typeof n)e&&(n=ks(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ks(n.handleEvent,n)}return 2147483647<Number(t)?-1:ji.setTimeout(n,t||0)}function tB(n){n.g=LS(()=>{n.g=null,n.i&&(n.i=!1,tB(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Go(oa,va),(Pn=oa.prototype).ga=!1,Pn.T=null,Pn.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),xo(this,"tick"),this.ga&&(zC(this),this.start()))}},Pn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Pn.N=function(){oa.$.N.call(this),zC(this),delete this.g};class nB extends Ed{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:tB(this)}N(){super.N(),this.g&&(ji.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mw(n){Ed.call(this),this.h=n,this.g={}}Go(Mw,Ed);var NS=[];function PS(n,t,e,i){Array.isArray(e)||(e&&(NS[0]=e.toString()),e=NS);for(var r=0;r<e.length;r++){var o=SS(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function Z_(n){Bw(n.g,function(t,e){this.g.hasOwnProperty(e)&&UC(t)},n),n.g={}}function qC(){this.g=!0}function Sv(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function ZQ(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<r.length;a++)r[a]=""}}}return FS(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Mw.prototype.N=function(){Mw.$.N.call(this),Z_(this)},Mw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qC.prototype.Ea=function(){this.g=!1},qC.prototype.info=function(){};var Op={},KC=null;function Sd(){return KC=KC||new va}function sB(n){ya.call(this,Op.Ta,n)}function kw(n){const t=Sd();xo(t,new sB(t))}function gA(n,t){ya.call(this,Op.STAT_EVENT,n),this.stat=t}function ao(n){const t=Sd();xo(t,new gA(t,n))}function uh(n,t){ya.call(this,Op.Ua,n),this.size=t}function Iv(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ji.setTimeout(function(){n()},t)}Op.Ta="serverreachability",Go(sB,ya),Op.STAT_EVENT="statevent",Go(gA,ya),Op.Ua="timingevent",Go(uh,ya);var Rw={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},oB={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function US(){}function lB(){}US.prototype.h=null;var ZC,$_={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Y_(){ya.call(this,"d")}function QS(){ya.call(this,"c")}function $C(){}function Dv(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new Mw(this),this.P=YC,this.V=new oa(n=vS?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new HS}function HS(){this.i=null,this.g="",this.h=!1}Go(Y_,ya),Go(QS,ya),Go($C,US),$C.prototype.g=function(){return new XMLHttpRequest},$C.prototype.i=function(){return{}},ZC=new $C;var YC=45e3,VS={},Ow={};function WC(n,t,e){n.L=1,n.v=r1(Lp(t)),n.s=e,n.S=!0,JC(n,null)}function JC(n,t){n.G=Date.now(),Tv(n),n.A=Lp(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),qS(e.i,"t",i),n.C=0,e=n.l.I,n.h=new HS,n.g=PL(n.l,e?t:null,!n.s),0<n.O&&(n.M=new nB(ks(n.Pa,n,n.g),n.O)),PS(n.U,n.g,"readystatechange",n.nb),t=n.I?RC(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),kw(),function DL(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var a="",u=o.split("&"),h=0;h<u.length;h++){var f=u[h].split("=");if(1<f.length){var _=f[0];f=f[1];var C=_.split("_");a=2<=C.length&&"type"==C[1]?a+(_+"=")+f+"&":a+(_+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+a})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Lw(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function XC(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=cB(n,e),r==Ow){4==t&&(n.o=4,ao(14),i=!1),Sv(n.j,n.m,null,"[Incomplete Response]");break}if(r==VS){n.o=4,ao(15),Sv(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Sv(n.j,n.m,r,null),e1(n,r)}Lw(n)&&r!=Ow&&r!=VS&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,ao(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ca&&(n.ca=!0,(t=n.l).g==n&&t.ca&&!t.L&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),f1(t),t.L=!0,ao(11))):(Sv(n.j,n.m,e,"[Invalid Chunked Response]"),_m(n),Bv(n))}function cB(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?Ow:(e=Number(t.substring(e,i)),isNaN(e)?VS:(i+=1)+e>t.length?Ow:(t=t.substr(i,e),n.C=i+e,t))}function Tv(n){n.Y=Date.now()+n.P,GS(n,n.P)}function GS(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Iv(ks(n.lb,n),t)}function Nw(n){n.B&&(ji.clearTimeout(n.B),n.B=null)}function Bv(n){0==n.l.H||n.J||tI(n.l,n)}function _m(n){Nw(n);var t=n.M;t&&"function"==typeof t.ra&&t.ra(),n.M=null,zC(n.V),Z_(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.ra())}function e1(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||ym(e.h,n)))if(!n.K&&ym(e.h,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;p1(e),Gw(e)}A1(e),ao(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.M&&0==e.A&&!e.v&&(e.v=Iv(ks(e.ib,e),6e3));if(1>=yB(e.h)&&e.na){try{e.na()}catch{}e.na=void 0}}else ey(e,11)}else if((n.K||e.g==n)&&p1(e),!Rp(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let f=r[t];if(e.V=f[0],f=f[1],2==e.H)if("c"==f[0]){e.J=f[1],e.oa=f[2];const _=f[3];null!=_&&(e.qa=_,e.j.info("VER="+e.qa));const C=f[4];null!=C&&(e.Ga=C,e.j.info("SVER="+e.Ga));const F=f[5];null!=F&&"number"==typeof F&&0<F&&(e.K=i=1.5*F,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const B=n.g;if(B){const U=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var o=i.h;o.g||-1==U.indexOf("spdy")&&-1==U.indexOf("quic")&&-1==U.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(vB(o,o.h),o.h=null))}if(i.F){const H=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;H&&(i.Da=H,Eo(i.G,i.F,H))}}e.H=3,e.l&&e.l.Ba(),e.ca&&(e.S=Date.now()-n.G,e.j.info("Handshake RTT: "+e.S+"ms"));var a=n;if((i=e).wa=NL(i,i.I?i.oa:null,i.Y),a.K){o1(i.h,a);var u=a,h=i.K;h&&u.setTimeout(h),u.B&&(Nw(u),Tv(u)),i.g=a}else DB(i);0<e.i.length&&h1(e)}else"stop"!=f[0]&&"close"!=f[0]||ey(e,7);else 3==e.H&&("stop"==f[0]||"close"==f[0]?"stop"==f[0]?ey(e,7):d1(e):"noop"!=f[0]&&e.l&&e.l.Aa(f),e.A=0)}kw()}catch{}}function dB(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(wv(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function TL(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(wv(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function uB(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(wv(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}(Pn=Dv.prototype).setTimeout=function(n){this.P=n},Pn.nb=function(n){n=n.target;const t=this.M;t&&3==Pp(n)?t.l():this.Pa(n)},Pn.Pa=function(n){try{if(n==this.g)e:{const _=Pp(this.g);var t=this.g.Ia();if(this.g.da(),!(3>_)&&(3!=_||vS||this.g&&(this.h.h||this.g.ja()||Mv(this.g)))){this.J||4!=_||7==t||kw(),Nw(this);var e=this.g.da();this.aa=e;t:if(Lw(this)){var i=Mv(this.g);n="";var r=i.length,o=4==Pp(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){_m(this),Bv(this);var a="";break t}this.h.i=new ji.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==e,function iB(n,t,e,i,r,o,a){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+a})}(this.j,this.u,this.A,this.m,this.W,_,e),this.i){if(this.ba&&!this.K){t:{if(this.g){var u,h=this.g;if((u=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rp(u)){var f=u;break t}}f=null}if(!(e=f)){this.i=!1,this.o=3,ao(12),_m(this),Bv(this);break e}Sv(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,e1(this,e)}this.S?(XC(this,_,a),vS&&this.i&&3==_&&(PS(this.U,this.V,"tick",this.mb),this.V.start())):(Sv(this.j,this.m,a,null),e1(this,a)),4==_&&_m(this),this.i&&!this.J&&(4==_?tI(this.l,this):(this.i=!1,Tv(this)))}else 400==e&&0<a.indexOf("Unknown SID")?(this.o=3,ao(12)):(this.o=0,ao(13)),_m(this),Bv(this)}}}catch{}},Pn.mb=function(){if(this.g){var n=Pp(this.g),t=this.g.ja();this.C<t.length&&(Nw(this),XC(this,n,t),this.i&&4!=n&&Tv(this))}},Pn.cancel=function(){this.J=!0,_m(this)},Pn.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function rB(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(kw(),ao(17)),_m(this),this.o=2,Bv(this)):GS(this,this.Y-n)};var hB=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function W_(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof W_){this.h=void 0!==t?t:n.h,t1(this,n.j),this.s=n.s,this.g=n.g,n1(this,n.m),this.l=n.l,t=n.i;var e=new Fv;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),AB(this,e),this.o=n.o}else n&&(e=String(n).match(hB))?(this.h=!!t,t1(this,e[1]||"",!0),this.s=Pw(e[2]||""),this.g=Pw(e[3]||"",!0),n1(this,e[4]),this.l=Pw(e[5]||"",!0),AB(this,e[6]||"",!0),this.o=Pw(e[7]||"")):(this.h=!!t,this.i=new Fv(null,this.h))}function Lp(n){return new W_(n)}function t1(n,t,e){n.j=e?Pw(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function n1(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function AB(n,t,e){t instanceof Fv?(n.i=t,function mB(n,t){t&&!n.j&&(Np(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(jS(this,i),qS(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=Uw(t,pB)),n.i=new Fv(t,n.h))}function Eo(n,t,e){n.i.set(t,e)}function r1(n){return Eo(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Pw(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Uw(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,FL),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function FL(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}W_.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Uw(t,fB,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Uw(t,fB,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(Uw(e,"/"==e.charAt(0)?kL:ML,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Uw(e,gB)),n.join("")};var fB=/[#\/\?@]/g,ML=/[#\?:]/g,kL=/[#\?]/g,pB=/[#\?@]/g,gB=/#/g;function Fv(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Np(n){n.g||(n.g=new Map,n.h=0,n.i&&function BL(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function jS(n,t){Np(n),t=J_(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function zS(n,t){return Np(n),t=J_(n,t),n.g.has(t)}function qS(n,t,e){jS(n,t),0<e.length&&(n.i=null,n.g.set(J_(n,t),gm(e)),n.h+=e.length)}function J_(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function s1(n){this.l=n||X_,n=ji.PerformanceNavigationTiming?0<(n=ji.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ji.g&&ji.g.Ka&&ji.g.Ka()&&ji.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Pn=Fv.prototype).add=function(n,t){Np(this),this.i=null,n=J_(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},Pn.forEach=function(n,t){Np(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},Pn.sa=function(){Np(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let o=0;o<r.length;o++)e.push(t[i])}return e},Pn.Z=function(n){Np(this);let t=[];if("string"==typeof n)zS(this,n)&&(t=t.concat(this.g.get(J_(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},Pn.set=function(n,t){return Np(this),this.i=null,zS(this,n=J_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},Pn.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},Pn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var r=o;""!==a[i]&&(r+="="+encodeURIComponent(String(a[i]))),n.push(r)}}return this.i=n.join("&")};var X_=10;function _B(n){return!!n.h||!!n.g&&n.g.size>=n.j}function yB(n){return n.h?1:n.g?n.g.size:0}function ym(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function vB(n,t){n.g?n.g.add(t):n.h=t}function o1(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function RL(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return gm(n.i)}function a1(){}function wB(){this.g=new a1}function $Q(n,t,e){const i=e||"";try{dB(n,function(r,o){let a=r;Cw(r)&&(a=FS(r)),t.push(i+o+"="+encodeURIComponent(a))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function l1(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Qw(n){this.l=n.fc||null,this.j=n.ob||!1}function c1(n,t){va.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=vm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}s1.prototype.cancel=function(){if(this.i=RL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},a1.prototype.stringify=function(n){return ji.JSON.stringify(n,void 0)},a1.prototype.parse=function(n){return ji.JSON.parse(n,void 0)},Go(Qw,US),Qw.prototype.g=function(){return new c1(this.l,this.j)},Qw.prototype.i=function(n){return function(){return n}}({}),Go(c1,va);var vm=0;function bB(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function wm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,bm(n)}function bm(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Pn=c1.prototype).open=function(n,t){if(this.readyState!=vm)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,bm(this)},Pn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||ji).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Pn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wm(this)),this.readyState=vm},Pn.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,bm(this)),this.g&&(this.readyState=3,bm(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ji.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bB(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Pn.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?wm(this):bm(this),3==this.readyState&&bB(this)}},Pn.Za=function(n){this.g&&(this.response=this.responseText=n,wm(this))},Pn.Ya=function(n){this.g&&(this.response=n,wm(this))},Pn.ka=function(){this.g&&wm(this)},Pn.setRequestHeader=function(n,t){this.v.append(n,t)},Pn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Pn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(c1.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var aa=ji.JSON.parse;function wa(n){va.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ZS,this.L=this.M=!1}Go(wa,va);var ZS="",CB=/^https?$/i,OL=["POST","PUT"];function $S(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,YS(n),u1(n)}function YS(n){n.F||(n.F=!0,xo(n,"complete"),xo(n,"error"))}function WS(n){if(n.h&&typeof H_<"u"&&(!n.C[1]||4!=Pp(n)||2!=n.da()))if(n.v&&4==Pp(n))LS(n.La,0,n);else if(xo(n,"readystatechange"),4==Pp(n)){n.h=!1;try{const u=n.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===u){var r=String(n.I).match(hB)[1]||null;if(!r&&ji.self&&ji.self.location){var o=ji.self.location.protocol;r=o.substr(0,o.length-1)}i=!CB.test(r?r.toLowerCase():"")}e=i}if(e)xo(n,"complete"),xo(n,"success");else{n.m=6;try{var a=2<Pp(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",YS(n)}}finally{u1(n)}}}function u1(n,t){if(n.g){EB(n);const e=n.g,i=n.C[0]?IC:null;n.g=null,n.C=null,t||xo(n,"ready");try{e.onreadystatechange=i}catch{}}}function EB(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(ji.clearTimeout(n.A),n.A=null)}function Pp(n){return n.g?n.g.readyState:0}function Mv(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case ZS:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function SB(n){let t="";return Bw(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function JS(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=SB(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Eo(n,t,e))}function Hw(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function Vw(n){this.Ga=0,this.i=[],this.j=new qC,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Hw("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Hw("baseRetryDelayMs",5e3,n),this.hb=Hw("retryDelaySeedMs",1e4,n),this.eb=Hw("forwardChannelMaxRetries",2,n),this.xa=Hw("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new s1(n&&n.concurrentRequestLimit),this.Ja=new wB,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function d1(n){if(XS(n),3==n.H){var t=n.W++,e=Lp(n.G);Eo(e,"SID",n.J),Eo(e,"RID",t),Eo(e,"TYPE","terminate"),zw(n,e),(t=new Dv(n,n.j,t,void 0)).L=2,t.v=r1(Lp(e)),e=!1,ji.navigator&&ji.navigator.sendBeacon&&(e=ji.navigator.sendBeacon(t.v.toString(),"")),!e&&ji.Image&&((new Image).src=t.v,e=!0),e||(t.g=PL(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Tv(t)}LL(n)}function Gw(n){n.g&&(f1(n),n.g.cancel(),n.g=null)}function XS(n){Gw(n),n.u&&(ji.clearTimeout(n.u),n.u=null),p1(n),n.h.cancel(),n.m&&("number"==typeof n.m&&ji.clearTimeout(n.m),n.m=null)}function h1(n){_B(n.h)||n.m||(n.m=!0,EL(n.Na,n),n.C=0)}function kv(n,t){var e;e=t?t.m:n.W++;const i=Lp(n.G);Eo(i,"SID",n.J),Eo(i,"RID",e),Eo(i,"AID",n.V),zw(n,i),n.o&&n.s&&JS(i,n.o,n.s),e=new Dv(n,n.j,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.i=t.F.concat(n.i)),t=IB(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),vB(n.h,e),WC(e,i,t)}function zw(n,t){n.ma&&Bw(n.ma,function(e,i){Eo(t,i,e)}),n.l&&dB({},function(e,i){Eo(t,i,e)})}function IB(n,t,e){e=Math.min(n.i.length,e);var i=n.l?ks(n.l.Va,n.l,n):null;e:{var r=n.i;let o=-1;for(;;){const a=["count="+e];-1==o?0<e?(o=r[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);let u=!0;for(let h=0;h<e;h++){let f=r[h].h;const _=r[h].g;if(f-=o,0>f)o=Math.max(0,r[h].h-100),u=!1;else try{$Q(_,a,"req"+f+"_")}catch{i&&i(_)}}if(u){i=a.join("&");break e}}}return n=n.i.splice(0,e),t.F=n,i}function DB(n){n.g||n.u||(n.ba=1,EL(n.Ma,n),n.A=0)}function A1(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Iv(ks(n.Ma,n),TB(n,n.A)),n.A++,0))}function f1(n){null!=n.B&&(ji.clearTimeout(n.B),n.B=null)}function eI(n){n.g=new Dv(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=Lp(n.wa);Eo(t,"RID","rpc"),Eo(t,"SID",n.J),Eo(t,"CI",n.M?"0":"1"),Eo(t,"AID",n.V),Eo(t,"TYPE","xmlhttp"),zw(n,t),n.o&&n.s&&JS(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.oa,e.L=1,e.v=r1(Lp(t)),e.s=null,e.S=!0,JC(e,n)}function p1(n){null!=n.v&&(ji.clearTimeout(n.v),n.v=null)}function tI(n,t){var e=null;if(n.g==t){p1(n),f1(n),n.g=null;var i=2}else{if(!ym(n.h,t))return;e=t.F,o1(n.h,t),i=1}if(0!=n.H)if(n.ta=t.aa,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;xo(i=Sd(),new uh(i,e)),h1(n)}else DB(n);else if(3==(r=t.o)||0==r&&0<n.ta||!(1==i&&function jw(n,t){return!(yB(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Iv(ks(n.Na,n,t),TB(n,n.C)),n.C++,0)))}(n,t)||2==i&&A1(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:ey(n,5);break;case 4:ey(n,10);break;case 3:ey(n,6);break;default:ey(n,2)}}function TB(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.l||(e*=2),e*t}function ey(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=ks(n.pb,n);e||(e=new W_("//www.google.com/images/cleardot.gif"),ji.location&&"http"==ji.location.protocol||t1(e,"https"),r1(e)),function bi(n,t){const e=new qC;if(ji.Image){const i=new Image;i.onload=bv(l1,e,i,"TestLoadImage: loaded",!0,t),i.onerror=bv(l1,e,i,"TestLoadImage: error",!1,t),i.onabort=bv(l1,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=bv(l1,e,i,"TestLoadImage: timeout",!1,t),ji.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else ao(2);n.H=0,n.l&&n.l.za(t),LL(n),XS(n)}function LL(n){if(n.H=0,n.pa=[],n.l){const t=RL(n.h);(0!=t.length||0!=n.i.length)&&(z_(n.pa,t),z_(n.pa,n.i),n.h.i.length=0,gm(n.i),n.i.length=0),n.l.ya()}}function NL(n,t,e){var i=e instanceof W_?Lp(e):new W_(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),n1(i,i.m);else{var r=ji.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new W_(null,void 0);i&&t1(o,i),t&&(o.g=t),r&&n1(o,r),e&&(o.l=e),i=o}return t=n.Da,(e=n.F)&&t&&Eo(i,e,t),Eo(i,"VER",n.qa),zw(n,i),i}function PL(n,t,e){if(t&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new wa(e&&n.Ha&&!n.va?new Qw({ob:!0}):n.va)).Oa(n.I),t}function UL(){}function nI(){if(q_&&!(10<=Number(kC)))throw Error("Environmental error: no available transport.")}function dh(n,t){va.call(this),this.g=new Vw(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!Rp(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Rp(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Rv(this)}function iI(n){Y_.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function qw(){QS.call(this),this.status=1}function Rv(n){this.g=n}function hh(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ty(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var o=n.g[3],a=(t=n.g[0])+(o^(e=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;a=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=e+(a<<7&4294967295|a>>>25))+((a=o+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^o&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(o^t))+i[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^e&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^o&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(o^t))+i[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^e&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^o&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(o^t))+i[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^e&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^o&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(o^t))+i[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(r^o&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(o^t))+i[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=e+(o^t&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^o&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(o^t))+i[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=e+(o^t&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^o&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(o^t))+i[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=e+(o^t&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^o&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(o^t))+i[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=e+(o^t&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(e^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=r+(o^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^o^t)+i[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=r+(o^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^o^t)+i[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^o)+i[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=r+(o^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^o^t)+i[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=r+(o^t^e)+i[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^o^t)+i[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(r^(e|~o))+i[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(o|~e))+i[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=e+(o^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(e|~o))+i[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(o|~e))+i[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=e+(o^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(e|~o))+i[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(o|~e))+i[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=e+(o^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=e+((a=t+(r^(e|~o))+i[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((r=o+((a=r+(t^(o|~e))+i[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function ps(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==t||(e[r]=o,i=!1)}this.g=e}(Pn=wa.prototype).Oa=function(n){this.M=n},Pn.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ZC.g(),this.C=function aB(n){return n.h||(n.h=n.i())}(this.u?this.u:ZC),this.g.onreadystatechange=ks(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(o){return void $S(this,o)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=ji.FormData&&n instanceof ji.FormData,!(0<=j_(OL,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of e)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{EB(this),0<this.B&&((this.L=function xB(n){return q_&&function MC(){return _S(FC,9,function(){let n=0;const t=mS(String(Ew)).split("."),e=mS("9").split("."),i=Math.max(t.length,e.length);for(let a=0;0==n&&a<i;a++){var r=t[a]||"",o=e[a]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=TC(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||TC(0==r[2].length,0==o[2].length)||TC(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ks(this.ua,this)):this.A=LS(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){$S(this,o)}},Pn.ua=function(){typeof H_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xo(this,"timeout"),this.abort(8))},Pn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,xo(this,"complete"),xo(this,"abort"),u1(this))},Pn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),u1(this,!0)),wa.$.N.call(this)},Pn.La=function(){this.s||(this.G||this.v||this.l?WS(this):this.kb())},Pn.kb=function(){WS(this)},Pn.da=function(){try{return 2<Pp(this)?this.g.status:-1}catch{return-1}},Pn.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Pn.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),aa(t)}},Pn.Ia=function(){return this.m},Pn.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Pn=Vw.prototype).qa=8,Pn.H=1,Pn.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Dv(this,this.j,n,void 0);let o=this.s;if(this.U&&(o?(o=RC(o),xS(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=IB(this,r,t),Eo(e=Lp(this.G),"RID",n),Eo(e,"CVER",22),this.F&&Eo(e,"X-HTTP-Session-Id",this.F),zw(this,e),o&&(this.O?t="headers="+encodeURIComponent(String(SB(o)))+"&"+t:this.o&&JS(e,this.o,o)),vB(this.h,r),this.bb&&Eo(e,"TYPE","init"),this.P?(Eo(e,"$req",t),Eo(e,"SID","null"),r.ba=!0,WC(r,e,null)):WC(r,e,t),this.H=2}}else 3==this.H&&(n?kv(this,n):0==this.i.length||_B(this.h)||kv(this))},Pn.Ma=function(){if(this.u=null,eI(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=Iv(ks(this.jb,this),n)}},Pn.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,ao(10),Gw(this),eI(this))},Pn.ib=function(){null!=this.v&&(this.v=null,Gw(this),A1(this),ao(19))},Pn.pb=function(n){n?(this.j.info("Successfully pinged google.com"),ao(2)):(this.j.info("Failed to ping google.com"),ao(1))},(Pn=UL.prototype).Ba=function(){},Pn.Aa=function(){},Pn.za=function(){},Pn.ya=function(){},Pn.Va=function(){},nI.prototype.g=function(n,t){return new dh(n,t)},Go(dh,va),dh.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,t=this.l,e=this.h||void 0;ao(0),n.Y=t,n.ma=e||{},n.M=n.aa,n.G=NL(n,null,n.Y),h1(n)},dh.prototype.close=function(){d1(this.g)},dh.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=FS(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.fb++,n)),3==t.H&&h1(t)},dh.prototype.N=function(){this.g.l=null,delete this.j,d1(this.g),delete this.g,dh.$.N.call(this)},Go(iI,Y_),Go(qw,QS),Go(Rv,UL),Rv.prototype.Ba=function(){xo(this.g,"a")},Rv.prototype.Aa=function(n){xo(this.g,new iI(n))},Rv.prototype.za=function(n){xo(this.g,new qw)},Rv.prototype.ya=function(){xo(this.g,"b")},Go(hh,function QL(){this.blockSize=-1}),hh.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},hh.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,o=0;o<t;){if(0==r)for(;o<=e;)ty(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<t;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){ty(this,i),r=0;break}}else for(;o<t;)if(i[r++]=n[o++],r==this.blockSize){ty(this,i),r=0;break}}this.h=r,this.i+=t},hh.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var HL={};function rI(n){return-128<=n&&128>n?_S(HL,n,function(t){return new ps([0|t],0>t?-1:0)}):new ps([0|n],0>n?-1:0)}function ff(n){if(isNaN(n)||!isFinite(n))return Ov;if(0>n)return oc(ff(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=g1;return new ps(t,0)}var g1=4294967296,Ov=rI(0),sI=rI(1),Lv=rI(16777216);function Up(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function Id(n){return-1==n.h}function oc(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new ps(e,~n.h).add(sI)}function Kw(n,t){return n.add(oc(t))}function m1(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function Nv(n,t){this.g=n,this.h=t}function _1(n,t){if(Up(t))throw Error("division by zero");if(Up(n))return new Nv(Ov,Ov);if(Id(n))return t=_1(oc(n),t),new Nv(oc(t.g),oc(t.h));if(Id(t))return t=_1(n,oc(t)),new Nv(oc(t.g),t.h);if(30<n.g.length){if(Id(n)||Id(t))throw Error("slowDivide_ only works with positive integers.");for(var e=sI,i=t;0>=i.X(n);)e=y1(e),i=y1(i);var r=Pv(e,1),o=Pv(i,1);for(i=Pv(i,2),e=Pv(e,2);!Up(i);){var a=o.add(i);0>=a.X(n)&&(r=r.add(e),o=a),i=Pv(i,1),e=Pv(e,1)}return t=Kw(n,r.R(t)),new Nv(r,t)}for(r=Ov;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),a=(o=ff(e)).R(t);Id(a)||0<a.X(n);)a=(o=ff(e-=i)).R(t);Up(o)&&(o=sI),r=r.add(o),n=Kw(n,a)}return new Nv(r,n)}function y1(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new ps(e,n.h)}function Pv(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],o=0;o<i;o++)r[o]=0<t?n.D(o+e)>>>t|n.D(o+e+1)<<32-t:n.D(o+e);return new ps(r,n.h)}(Pn=ps.prototype).ea=function(){if(Id(this))return-oc(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:g1+i)*t,t*=g1}return n},Pn.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Up(this))return"0";if(Id(this))return"-"+oc(this).toString(n);for(var t=ff(Math.pow(n,6)),e=this,i="";;){var r=_1(e,t).g,o=((0<(e=Kw(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(Up(e=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},Pn.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Pn.X=function(n){return Id(n=Kw(this,n))?-1:Up(n)?0:1},Pn.abs=function(){return Id(this)?oc(this):this},Pn.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),a=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=a>>>16,e[r]=(a&=65535)<<16|(o&=65535)}return new ps(e,-2147483648&e[e.length-1]?-1:0)},Pn.R=function(n){if(Up(this)||Up(n))return Ov;if(Id(this))return Id(n)?oc(this).R(oc(n)):oc(oc(this).R(n));if(Id(n))return oc(this.R(oc(n)));if(0>this.X(Lv)&&0>n.X(Lv))return ff(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,a=65535&this.D(i),u=n.D(r)>>>16,h=65535&n.D(r);e[2*i+2*r]+=a*h,m1(e,2*i+2*r),e[2*i+2*r+1]+=o*h,m1(e,2*i+2*r+1),e[2*i+2*r+1]+=a*u,m1(e,2*i+2*r+1),e[2*i+2*r+2]+=o*u,m1(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new ps(e,0)},Pn.gb=function(n){return _1(this,n).h},Pn.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new ps(e,this.h&n.h)},Pn.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new ps(e,this.h|n.h)},Pn.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new ps(e,this.h^n.h)},nI.prototype.createWebChannel=nI.prototype.g,dh.prototype.send=dh.prototype.u,dh.prototype.open=dh.prototype.m,dh.prototype.close=dh.prototype.close,Rw.NO_ERROR=0,Rw.TIMEOUT=8,Rw.HTTP_ERROR=6,oB.COMPLETE="complete",lB.EventType=$_,$_.OPEN="a",$_.CLOSE="b",$_.ERROR="c",$_.MESSAGE="d",va.prototype.listen=va.prototype.O,wa.prototype.listenOnce=wa.prototype.P,wa.prototype.getLastError=wa.prototype.Sa,wa.prototype.getLastErrorCode=wa.prototype.Ia,wa.prototype.getStatus=wa.prototype.da,wa.prototype.getResponseJson=wa.prototype.Wa,wa.prototype.getResponseText=wa.prototype.ja,wa.prototype.send=wa.prototype.ha,wa.prototype.setWithCredentials=wa.prototype.Oa,hh.prototype.digest=hh.prototype.l,hh.prototype.reset=hh.prototype.reset,hh.prototype.update=hh.prototype.j,ps.prototype.add=ps.prototype.add,ps.prototype.multiply=ps.prototype.R,ps.prototype.modulo=ps.prototype.gb,ps.prototype.compare=ps.prototype.X,ps.prototype.toNumber=ps.prototype.ea,ps.prototype.toString=ps.prototype.toString,ps.prototype.getBits=ps.prototype.D,ps.fromNumber=ff,ps.fromString=function BB(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return oc(BB(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=ff(Math.pow(t,8)),i=Ov,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),a=parseInt(n.substring(r,r+o),t);8>o?(o=ff(Math.pow(t,o)),i=i.R(o).add(ff(a))):i=(i=i.R(e)).add(ff(a))}return i};var FB=sc.createWebChannelTransport=function(){return new nI},MB=sc.getStatEventTarget=function(){return Sd()},oI=sc.ErrorCode=Rw,VL=sc.EventType=oB,GL=sc.Event=Op,v1=sc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},jL=sc.FetchXmlHttpFactory=Qw,Zw=sc.WebChannel=lB,zL=sc.XhrIo=wa,qL=sc.Md5=hh,Uv=sc.Integer=ps;const kB="@firebase/firestore";class Pl{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Pl.UNAUTHENTICATED=new Pl(null),Pl.GOOGLE_CREDENTIALS=new Pl("google-credentials-uid"),Pl.FIRST_PARTY=new Pl("first-party-uid"),Pl.MOCK_USER=new Pl("mock-user");let Qv="9.21.0";const Cm=new hf.Yd("@firebase/firestore");function aI(){return Cm.logLevel}function Xt(n,...t){if(Cm.logLevel<=hf.in.DEBUG){const e=t.map(w1);Cm.debug(`Firestore (${Qv}): ${n}`,...e)}}function ba(n,...t){if(Cm.logLevel<=hf.in.ERROR){const e=t.map(w1);Cm.error(`Firestore (${Qv}): ${n}`,...e)}}function Ah(n,...t){if(Cm.logLevel<=hf.in.WARN){const e=t.map(w1);Cm.warn(`Firestore (${Qv}): ${n}`,...e)}}function w1(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function jn(n="Unexpected state"){const t=`FIRESTORE (${Qv}) INTERNAL ASSERTION FAILED: `+n;throw ba(t),new Error(t)}function ai(n,t){n||jn()}function Cn(n,t){return n}const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class zt extends ae.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ca{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class OB{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ZL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Pl.UNAUTHENTICATED))}shutdown(){}}class lI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class $L{constructor(t){this.t=t,this.currentUser=Pl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=f=>this.i!==r?(r=this.i,e(f)):Promise.resolve();let a=new Ca;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ca,t.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const f=a;t.enqueueRetryable((0,bt.Z)(function*(){yield f.promise,yield o(i.currentUser)}))},h=f=>{Xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(Xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ca)}},0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ai("string"==typeof i.accessToken),new OB(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return ai(null===t||"string"==typeof t),new Pl(t)}}class LB{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=Pl.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Hv{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new LB(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Pl.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cI{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YL{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=o=>{null!=o.error&&Xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.T;return this.T=o.token,Xt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):Xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(ai("string"==typeof e.token),this.T=e.token,new cI(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function NB(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class b1{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=NB(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function Ui(n,t){return n<t?-1:n>t?1:0}function xm(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function PB(n){return n+"\0"}class lo{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new zt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new zt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new zt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new zt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return lo.fromMillis(Date.now())}static fromDate(t){return lo.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new lo(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ui(this.nanoseconds,t.nanoseconds):Ui(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class oi{constructor(t){this.timestamp=t}static fromTimestamp(t){return new oi(t)}static min(){return new oi(new lo(0,0))}static max(){return new oi(new lo(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Vv{constructor(t,e,i){void 0===e?e=0:e>t.length&&jn(),void 0===i?i=t.length-e:i>t.length-e&&jn(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Vv.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Vv?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),a=e.get(r);if(o<a)return-1;if(o>a)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Tr extends Vv{construct(t,e,i){return new Tr(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new zt(pt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Tr(e)}static emptyPath(){return new Tr([])}}const UB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jo extends Vv{construct(t,e,i){return new jo(t,e,i)}static isValidIdentifier(t){return UB.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jo.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new jo(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new zt(pt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let a=!1;for(;r<t.length;){const u=t[r];if("\\"===u){if(r+1===t.length)throw new zt(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[r+1];if("\\"!==h&&"."!==h&&"`"!==h)throw new zt(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,r+=2}else"`"===u?(a=!a,r++):"."!==u||a?(i+=u,r++):(o(),r++)}if(o(),a)throw new zt(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new jo(e)}static emptyPath(){return new jo([])}}class xn{constructor(t){this.path=t}static fromPath(t){return new xn(Tr.fromString(t))}static fromName(t){return new xn(Tr.fromString(t).popFirst(5))}static empty(){return new xn(Tr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Tr.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Tr.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new xn(new Tr(t.slice()))}}class C1{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function uI(n){return n.fields.find(t=>2===t.kind)}function ny(n){return n.fields.filter(t=>2!==t.kind)}C1.UNKNOWN_ID=-1;class dI{constructor(t,e){this.fieldPath=t,this.kind=e}}class $w{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new $w(0,Dd.min())}}function VB(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=oi.fromTimestamp(1e9===i?new lo(e+1,0):new lo(e,i));return new Dd(r,xn.empty(),t)}function WL(n){return new Dd(n.readTime,n.key,-1)}class Dd{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Dd(oi.min(),xn.empty(),-1)}static max(){return new Dd(oi.max(),xn.empty(),-1)}}function hI(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=xn.comparator(n.documentKey,t.documentKey),0!==e?e:Ui(n.largestBatchId,t.largestBatchId))}const AI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Em(n){return x1.apply(this,arguments)}function x1(){return x1=(0,bt.Z)(function*(n){if(n.code!==pt.FAILED_PRECONDITION||n.message!==AI)throw n;Xt("LocalStore","Unexpectedly lost primary lease")}),x1.apply(this,arguments)}class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&jn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new st((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof st?e:st.resolve(e)}catch(e){return st.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):st.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):st.reject(e)}static resolve(t){return new st((e,i)=>{e(t)})}static reject(t){return new st((e,i)=>{i(t)})}static waitFor(t){return new st((e,i)=>{let r=0,o=0,a=!1;t.forEach(u=>{++r,u.next(()=>{++o,a&&o===r&&e()},h=>i(h))}),a=!0,o===r&&e()})}static or(t){let e=st.resolve(!1);for(const i of t)e=e.next(r=>r?st.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new st((i,r)=>{const o=t.length,a=new Array(o);let u=0;for(let h=0;h<o;h++){const f=h;e(t[f]).next(_=>{a[f]=_,++u,u===o&&i(a)},_=>r(_))}})}static doWhile(t,e){return new st((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class E1{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.R=new Ca,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{e.error?this.R.reject(new Yw(t,e.error)):this.R.resolve()},this.transaction.onerror=i=>{const r=S1(i.target.error);this.R.reject(new Yw(t,r))}}static open(t,e,i,r){try{return new E1(e,t.transaction(r,i))}catch(o){throw new Yw(e,o)}}get v(){return this.R.promise}abort(t){t&&this.R.reject(t),this.aborted||(Xt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new Ww(e)}}class mA{constructor(t,e,i){this.name=t,this.version=e,this.V=i,12.2===mA.S((0,ae.z$)())&&ba("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Xt("SimpleDb","Removing database:",t),Im(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,ae.hl)())return!1;if(mA.C())return!0;const t=(0,ae.z$)(),e=mA.S(t),i=0<e&&e<10,r=mA.N(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(t){var e=this;return(0,bt.Z)(function*(){return e.db||(Xt("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=a=>{i(a.target.result)},o.onblocked=()=>{r(new Yw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=a=>{const u=a.target.error;r("VersionError"===u.name?new zt(pt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===u.name?new zt(pt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u):new Yw(t,u))},o.onupgradeneeded=a=>{Xt("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',a.oldVersion),e.V.$(a.target.result,o.transaction,a.oldVersion,e.version).next(()=>{Xt("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=i=>e.F(i)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,bt.Z)(function*(){const a="readonly"===e;let u=0;for(;;){++u;try{o.db=yield o.O(t);const h=E1.open(o.db,t,a?"readonly":"readwrite",i),f=r(h).next(_=>(h.P(),_)).catch(_=>(h.abort(_),st.reject(_))).toPromise();return f.catch(()=>{}),yield h.v,f}catch(h){const f=h,_="FirebaseError"!==f.name&&u<3;if(Xt("SimpleDb","Transaction failed with error:",f.message,"Retrying:",_),o.close(),!_)return Promise.reject(f)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class JL{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return Im(this.L.delete())}}class Yw extends zt{constructor(t,e){super(pt.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Sm(n){return"IndexedDbTransactionError"===n.name}class Ww{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Xt("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Xt("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Im(i)}add(t){return Xt("SimpleDb","ADD",this.store.name,t,t),Im(this.store.add(t))}get(t){return Im(this.store.get(t)).next(e=>(void 0===e&&(e=null),Xt("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Xt("SimpleDb","DELETE",this.store.name,t),Im(this.store.delete(t))}count(){return Xt("SimpleDb","COUNT",this.store.name),Im(this.store.count())}j(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.W(r,(a,u)=>{o.push(u)}).next(()=>o)}{const r=this.store.getAll(i.range);return new st((o,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{o(u.target.result)}})}}H(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new st((r,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{r(a.target.result)}})}J(t,e){Xt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const r=this.cursor(i);return this.W(r,(o,a,u)=>u.delete())}X(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Z(t){const e=this.cursor({});return new st((i,r)=>{e.onerror=o=>{const a=S1(o.target.error);r(a)},e.onsuccess=o=>{const a=o.target.result;a?t(a.primaryKey,a.value).next(u=>{u?a.continue():i()}):i()}})}W(t,e){const i=[];return new st((r,o)=>{t.onerror=a=>{o(a.target.error)},t.onsuccess=a=>{const u=a.target.result;if(!u)return void r();const h=new JL(u),f=e(u.primaryKey,u.value,h);if(f instanceof st){const _=f.catch(C=>(h.done(),st.reject(C)));i.push(_)}h.isDone?r():null===h.K?u.continue():u.continue(h.K)}}).next(()=>st.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Im(n){return new st((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=S1(i.target.error);e(r)}})}let pI=!1;function S1(n){const t=mA.S((0,ae.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new zt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return pI||(pI=!0,setTimeout(()=>{throw i},0)),i}}return n}class GB{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;Xt("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,bt.Z)(function*(){e.task=null;try{Xt("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(i){Sm(i)?Xt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Em(i)}yield e.et(6e4)}))}}class jB{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,bt.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.st(i,t))})()}st(t,e){const i=new Set;let r=e,o=!0;return st.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(a=>{if(null!==a&&!i.has(a))return Xt("IndexBackiller",`Processing collection: ${a}`),this.it(t,a,r).next(u=>{r-=u,i.add(a)});o=!1})).next(()=>e-r)}it(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const a=o.changes;return this.localStore.indexManager.updateIndexEntries(t,a).next(()=>this.rt(r,o)).next(u=>(Xt("IndexBackiller",`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(t,e,u))).next(()=>a.size)}))}rt(t,e){let i=t;return e.changes.forEach((r,o)=>{const a=WL(o);hI(a,i)>0&&(i=a)}),new Dd(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Pu=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function Jw(n){return null==n}function I1(n){return 0===n&&1/n==-1/0}function gI(n){return"number"==typeof n&&Number.isInteger(n)&&!I1(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ac(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=zB(t)),t=XL(n.get(e),t);return zB(t)}function XL(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function zB(n){return n+"\x01\x01"}function pf(n){const t=n.length;if(ai(t>=2),2===t)return ai("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Tr.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const a=n.indexOf("\x01",o);switch((a<0||a>e)&&jn(),n.charAt(a+1)){case"\x01":const u=n.substring(o,a);let h;0===r.length?h=u:(r+=u,h=r,r=""),i.push(h);break;case"\x10":r+=n.substring(o,a),r+="\0";break;case"\x11":r+=n.substring(o,a+1);break;default:jn()}o=a+2}return new Tr(i)}const Gv=["userId","batchId"];function D1(n,t){return[n,ac(t)]}function T1(n,t,e){return[n,ac(t),e]}const gf={},eN=["prefixPath","collectionGroup","readTime","documentId"],B1=["prefixPath","collectionGroup","documentId"],Xw=["collectionGroup","readTime","prefixPath","documentId"],tN=["canonicalId","targetId"],nN=["targetId","path"],iN=["path","targetId"],F1=["collectionId","parent"],M1=["indexId","uid"],rN=["uid","sequenceNumber"],sN=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],qB=["indexId","uid","orderedDocumentKey"],KB=["userId","collectionPath","documentId"],mI=["userId","collectionPath","largestBatchId"],ZB=["userId","collectionGroup","largestBatchId"],$B=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],oN=[...$B,"documentOverlays"],aN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],k1=aN,_I=[...k1,"indexConfiguration","indexState","indexEntries"];class R1 extends fI{constructor(t,e){super(),this.at=t,this.currentSequenceNumber=e}}function Za(n,t){const e=Cn(n);return mA.M(e.at,t)}function O1(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Dm(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function YB(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Ys{constructor(t,e){this.comparator=t,this.root=e||Ul.EMPTY}insert(t,e){return new Ys(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ul.BLACK,null,null))}remove(t){return new Ys(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ul.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new L1(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new L1(this.root,t,this.comparator,!1)}getReverseIterator(){return new L1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new L1(this.root,t,this.comparator,!0)}}class L1{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ul{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Ul.RED,this.left=r??Ul.EMPTY,this.right=o??Ul.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Ul(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ul.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Ul.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ul.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ul.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw jn();const t=this.left.check();if(t!==this.right.check())throw jn();return t+(this.isRed()?0:1)}}Ul.EMPTY=null,Ul.RED=!0,Ul.BLACK=!1,Ul.EMPTY=new class{constructor(){this.size=0}get key(){throw jn()}get value(){throw jn()}get color(){throw jn()}get left(){throw jn()}get right(){throw jn()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Ul(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Rs{constructor(t){this.comparator=t,this.data=new Ys(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new yI(this.data.getIterator())}getIteratorFrom(t){return new yI(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Rs)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Rs(this.comparator);return e.data=t,e}}class yI{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function iy(n){return n.hasNext()?n.getNext():void 0}class eu{constructor(t){this.fields=t,t.sort(jo.comparator)}static empty(){return new eu([])}unionWith(t){let e=new Rs(jo.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new eu(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return xm(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class vI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $a{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new vI("Invalid base64 string: "+r):r}}(t);return new $a(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new $a(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ui(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$a.EMPTY_BYTE_STRING=new $a("");const WB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tm(n){if(ai(!!n),"string"==typeof n){let t=0;const e=WB.exec(n);if(ai(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:zo(n.seconds),nanos:zo(n.nanos)}}function zo(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Qp(n){return"string"==typeof n?$a.fromBase64String(n):$a.fromUint8Array(n)}function Ql(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Hp(n){const t=n.mapValue.fields.__previous_value__;return Ql(t)?Hp(t):t}function eb(n){const t=Tm(n.mapValue.fields.__local_write_time__.timestampValue);return new lo(t.seconds,t.nanos)}class cN{constructor(t,e,i,r,o,a,u,h){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.useFetchStreams=h}}class ry{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new ry("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof ry&&t.projectId===this.projectId&&t.database===this.database}}const sy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},tb={nullValue:"NULL_VALUE"};function Vp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ql(n)?4:CI(n)?9007199254740991:10:jn()}function Uu(n,t){if(n===t)return!0;const e=Vp(n);if(e!==Vp(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return eb(n).isEqual(eb(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Tm(i.timestampValue),a=Tm(r.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Qp(n.bytesValue).isEqual(Qp(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return zo(i.geoPointValue.latitude)===zo(r.geoPointValue.latitude)&&zo(i.geoPointValue.longitude)===zo(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return zo(i.integerValue)===zo(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=zo(i.doubleValue),a=zo(r.doubleValue);return o===a?I1(o)===I1(a):isNaN(o)&&isNaN(a)}return!1}(n,t);case 9:return xm(n.arrayValue.values||[],t.arrayValue.values||[],Uu);case 10:return function(i,r){const o=i.mapValue.fields||{},a=r.mapValue.fields||{};if(O1(o)!==O1(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===a[u]||!Uu(o[u],a[u])))return!1;return!0}(n,t);default:return jn()}var r}function nb(n,t){return void 0!==(n.values||[]).find(e=>Uu(e,t))}function mf(n,t){if(n===t)return 0;const e=Vp(n),i=Vp(t);if(e!==i)return Ui(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ui(n.booleanValue,t.booleanValue);case 2:return function(r,o){const a=zo(r.integerValue||r.doubleValue),u=zo(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,t);case 3:return JB(n.timestampValue,t.timestampValue);case 4:return JB(eb(n),eb(t));case 5:return Ui(n.stringValue,t.stringValue);case 6:return function(r,o){const a=Qp(r),u=Qp(o);return a.compareTo(u)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const a=r.split("/"),u=o.split("/");for(let h=0;h<a.length&&h<u.length;h++){const f=Ui(a[h],u[h]);if(0!==f)return f}return Ui(a.length,u.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const a=Ui(zo(r.latitude),zo(o.latitude));return 0!==a?a:Ui(zo(r.longitude),zo(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const a=r.values||[],u=o.values||[];for(let h=0;h<a.length&&h<u.length;++h){const f=mf(a[h],u[h]);if(f)return f}return Ui(a.length,u.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===sy.mapValue&&o===sy.mapValue)return 0;if(r===sy.mapValue)return 1;if(o===sy.mapValue)return-1;const a=r.fields||{},u=Object.keys(a),h=o.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let _=0;_<u.length&&_<f.length;++_){const C=Ui(u[_],f[_]);if(0!==C)return C;const F=mf(a[u[_]],h[f[_]]);if(0!==F)return F}return Ui(u.length,f.length)}(n.mapValue,t.mapValue);default:throw jn()}}function JB(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Ui(n,t);const e=Tm(n),i=Tm(t),r=Ui(e.seconds,i.seconds);return 0!==r?r:Ui(e.nanos,i.nanos)}function oy(n){return wI(n)}function wI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Tm(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Qp(n.bytesValue).toBase64():"referenceValue"in n?xn.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const a of i.values||[])o?o=!1:r+=",",r+=wI(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${wI(i.fields[u])}`;return o+"}"}(n.mapValue):jn();var t}function ay(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function ib(n){return!!n&&"integerValue"in n}function jv(n){return!!n&&"arrayValue"in n}function bI(n){return!!n&&"nullValue"in n}function rb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zv(n){return!!n&&"mapValue"in n}function P1(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Dm(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=P1(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=P1(n.arrayValue.values[e]);return t}return Object.assign({},n)}function CI(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function uN(n){return"nullValue"in n?tb:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ay(ry.empty(),xn.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:jn()}function XB(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ay(ry.empty(),xn.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?sy:jn()}function ly(n,t){const e=mf(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function eF(n,t){const e=mf(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Hl{constructor(t){this.value=t}static empty(){return new Hl({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!zv(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=P1(e)}setAll(t){let e=jo.emptyPath(),i={},r=[];t.forEach((a,u)=>{if(!e.isImmediateParentOf(u)){const h=this.getFieldsMap(e);this.applyChanges(h,i,r),i={},r=[],e=u.popLast()}a?i[u.lastSegment()]=P1(a):r.push(u.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());zv(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Uu(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];zv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Dm(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Hl(P1(this.value))}}function U1(n){const t=[];return Dm(n.fields,(e,i)=>{const r=new jo([e]);if(zv(i)){const o=U1(i.mapValue).fields;if(0===o.length)t.push(r);else for(const a of o)t.push(r.child(a))}else t.push(r)}),new eu(t)}class So{constructor(t,e,i,r,o,a,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=a,this.documentState=u}static newInvalidDocument(t){return new So(t,0,oi.min(),oi.min(),oi.min(),Hl.empty(),0)}static newFoundDocument(t,e,i,r){return new So(t,1,e,oi.min(),i,r,0)}static newNoDocument(t,e){return new So(t,2,e,oi.min(),oi.min(),Hl.empty(),0)}static newUnknownDocument(t,e){return new So(t,3,e,oi.min(),oi.min(),Hl.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(oi.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Hl.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Hl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oi.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof So&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new So(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bm{constructor(t,e){this.position=t,this.inclusive=e}}function dN(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],a=n.position[r];if(i=o.field.isKeyField()?xn.comparator(xn.fromName(a.referenceValue),e.key):mf(a,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function tF(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Uu(n.position[e],t.position[e]))return!1;return!0}class qv{constructor(t,e="asc"){this.field=t,this.dir=e}}function hN(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class xI{}class yr extends xI{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new rF(t,e,i):"array-contains"===e?new YQ(t,i):"in"===e?new DI(t,i):"not-in"===e?new WQ(t,i):"array-contains-any"===e?new JQ(t,i):new yr(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new sF(t,i):new AN(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(mf(e,this.value)):null!==e&&Vp(this.value)===Vp(e)&&this.matchesComparison(mf(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return jn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class gs extends xI{constructor(t,e){super(),this.filters=t,this.op=e,this.ht=null}static create(t,e){return new gs(t,e)}matches(t){return cy(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(e=>e.isInequality());return null!==t?t.field:null}lt(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function cy(n){return"and"===n.op}function Q1(n){return"or"===n.op}function EI(n){return nF(n)&&cy(n)}function nF(n){for(const t of n.filters)if(t instanceof gs)return!1;return!0}function H1(n){if(n instanceof yr)return n.field.canonicalString()+n.op.toString()+oy(n.value);if(EI(n))return n.filters.map(t=>H1(t)).join(",");{const t=n.filters.map(e=>H1(e)).join(",");return`${n.op}(${t})`}}function iF(n,t){return n instanceof yr?(e=n,(i=t)instanceof yr&&e.op===i.op&&e.field.isEqual(i.field)&&Uu(e.value,i.value)):n instanceof gs?function(e,i){return i instanceof gs&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,o,a)=>r&&iF(o,i.filters[a]),!0)}(n,t):void jn();var e,i}function SI(n,t){const e=n.filters.concat(t);return gs.create(e,n.op)}function II(n){return n instanceof yr?`${(t=n).field.canonicalString()} ${t.op} ${oy(t.value)}`:n instanceof gs?function(t){return t.op.toString()+" {"+t.getFilters().map(II).join(" ,")+"}"}(n):"Filter";var t}class rF extends yr{constructor(t,e,i){super(t,e,i),this.key=xn.fromName(i.referenceValue)}matches(t){const e=xn.comparator(t.key,this.key);return this.matchesComparison(e)}}class sF extends yr{constructor(t,e){super(t,"in",e),this.keys=oF(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class AN extends yr{constructor(t,e){super(t,"not-in",e),this.keys=oF(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function oF(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>xn.fromName(i.referenceValue))}class YQ extends yr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return jv(e)&&nb(e.arrayValue,this.value)}}class DI extends yr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&nb(this.value.arrayValue,e)}}class WQ extends yr{constructor(t,e){super(t,"not-in",e)}matches(t){if(nb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!nb(this.value.arrayValue,e)}}class JQ extends yr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!jv(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>nb(this.value.arrayValue,i))}}class XQ{constructor(t,e=null,i=[],r=[],o=null,a=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=a,this.endAt=u,this.ft=null}}function aF(n,t=null,e=[],i=[],r=null,o=null,a=null){return new XQ(n,t,e,i,r,o,a)}function Kv(n){const t=Cn(n);if(null===t.ft){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>H1(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Jw(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>oy(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>oy(i)).join(",")),t.ft=e}return t.ft}function V1(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!hN(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!iF(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!tF(n.startAt,t.startAt)&&tF(n.endAt,t.endAt)}function TI(n){return xn.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function BI(n,t){return n.filters.filter(e=>e instanceof yr&&e.field.isEqual(t))}function sb(n,t,e){let i=tb,r=!0;for(const o of BI(n,t)){let a=tb,u=!0;switch(o.op){case"<":case"<=":a=uN(o.value);break;case"==":case"in":case">=":a=o.value;break;case">":a=o.value,u=!1;break;case"!=":case"not-in":a=tb}ly({value:i,inclusive:r},{value:a,inclusive:u})<0&&(i=a,r=u)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const a=e.position[o];ly({value:i,inclusive:r},{value:a,inclusive:e.inclusive})<0&&(i=a,r=e.inclusive);break}return{value:i,inclusive:r}}function fN(n,t,e){let i=sy,r=!0;for(const o of BI(n,t)){let a=sy,u=!0;switch(o.op){case">=":case">":a=XB(o.value),u=!1;break;case"==":case"in":case"<=":a=o.value;break;case"<":a=o.value,u=!1;break;case"!=":case"not-in":a=sy}eF({value:i,inclusive:r},{value:a,inclusive:u})>0&&(i=a,r=u)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const a=e.position[o];eF({value:i,inclusive:r},{value:a,inclusive:e.inclusive})>0&&(i=a,r=e.inclusive);break}return{value:i,inclusive:r}}class _f{constructor(t,e=null,i=[],r=[],o=null,a="F",u=null,h=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=a,this.startAt=u,this.endAt=h,this.dt=null,this._t=null}}function ob(n,t,e,i,r,o,a,u){return new _f(n,t,e,i,r,o,a,u)}function uy(n){return new _f(n)}function FI(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function lF(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Zv(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function G1(n){return null!==n.collectionGroup}function dy(n){const t=Cn(n);if(null===t.dt){t.dt=[];const e=Zv(t),i=lF(t);if(null!==e&&null===i)e.isKeyField()||t.dt.push(new qv(e)),t.dt.push(new qv(jo.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.dt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new qv(jo.keyField(),o))}}}return t.dt}function Ic(n){const t=Cn(n);if(!t._t)if("F"===t.limitType)t._t=aF(t.path,t.collectionGroup,dy(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of dy(t))e.push(new qv(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new Bm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bm(t.startAt.position,t.startAt.inclusive):null;t._t=aF(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function cF(n,t){t.getFirstInequalityField(),Zv(n);const e=n.filters.concat([t]);return new _f(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function j1(n,t,e){return new _f(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function ab(n,t){return V1(Ic(n),Ic(t))&&n.limitType===t.limitType}function uF(n){return`${Kv(Ic(n))}|lt:${n.limitType}`}function $v(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>II(i)).join(", ")}]`),Jw(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>oy(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>oy(i)).join(",")),`Target(${e})`}(Ic(n))}; limitType=${n.limitType})`}function lb(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):xn.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of dy(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,a){const u=dN(r,o,a);return r.inclusive?u<=0:u<0}(e.startAt,dy(e),i)||e.endAt&&!function(r,o,a){const u=dN(r,o,a);return r.inclusive?u>=0:u>0}(e.endAt,dy(e),i)));var e,i}function pN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gN(n){return(t,e)=>{let i=!1;for(const r of dy(n)){const o=eH(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function eH(n,t,e){const i=n.field.isKeyField()?xn.comparator(t.key,e.key):function(r,o,a){const u=o.data.field(r),h=a.data.field(r);return null!==u&&null!==h?mf(u,h):jn()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return jn()}}class Gp{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Dm(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return YB(this.inner)}size(){return this.innerSize}}const mN=new Ys(xn.comparator);function Qu(){return mN}const _N=new Ys(xn.comparator);function cb(...n){let t=_N;for(const e of n)t=t.insert(e.key,e);return t}function MI(n){let t=_N;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function _A(){return tu()}function yN(){return tu()}function tu(){return new Gp(n=>n.toString(),(n,t)=>n.isEqual(t))}const vN=new Ys(xn.comparator),kI=new Rs(xn.comparator);function tr(...n){let t=kI;for(const e of n)t=t.add(e);return t}const tH=new Rs(Ui);function Hu(){return tH}function dF(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:I1(t)?"-0":t}}function z1(n){return{integerValue:""+n}}function hF(n,t){return gI(t)?z1(t):dF(n,t)}class q1{constructor(){this._=void 0}}function RI(n,t,e){return n instanceof Yv?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&Ql(r)&&(r=Hp(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof Fm?LI(n,t):n instanceof hy?NI(n,t):function(i,r){const o=OI(i,r),a=K1(o)+K1(i.wt);return ib(o)&&ib(i.wt)?z1(a):dF(i.serializer,a)}(n,t)}function AF(n,t,e){return n instanceof Fm?LI(n,t):n instanceof hy?NI(n,t):e}function OI(n,t){return n instanceof Wv?ib(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Yv extends q1{}class Fm extends q1{constructor(t){super(),this.elements=t}}function LI(n,t){const e=jp(t);for(const i of n.elements)e.some(r=>Uu(r,i))||e.push(i);return{arrayValue:{values:e}}}class hy extends q1{constructor(t){super(),this.elements=t}}function NI(n,t){let e=jp(t);for(const i of n.elements)e=e.filter(r=>!Uu(r,i));return{arrayValue:{values:e}}}class Wv extends q1{constructor(t,e){super(),this.serializer=t,this.wt=e}}function K1(n){return zo(n.integerValue||n.doubleValue)}function jp(n){return jv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Jv{constructor(t,e){this.field=t,this.transform=e}}class zp{constructor(t,e){this.version=t,this.transformResults=e}}class Io{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Io}static exists(t){return new Io(void 0,t)}static updateTime(t){return new Io(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function UI(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Z1{}function fF(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new fy(n.key,Io.none()):new Ay(n.key,n.data,Io.none());{const e=n.data,i=Hl.empty();let r=new Rs(jo.comparator);for(let o of t.fields)if(!r.has(o)){let a=e.field(o);null===a&&o.length>1&&(o=o.popLast(),a=e.field(o)),null===a?i.delete(o):i.set(o,a),r=r.add(o)}return new qp(n.key,i,new eu(r.toArray()),Io.none())}}function wN(n,t,e){n instanceof Ay?function(i,r,o){const a=i.value.clone(),u=CN(i.fieldTransforms,r,o.transformResults);a.setAll(u),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,t,e):n instanceof qp?function(i,r,o){if(!UI(i.precondition,r))return void r.convertToUnknownDocument(o.version);const a=CN(i.fieldTransforms,r,o.transformResults),u=r.data;u.setAll(QI(i)),u.setAll(a),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function ub(n,t,e,i){return n instanceof Ay?function(r,o,a,u){if(!UI(r.precondition,o))return a;const h=r.value.clone(),f=$1(r.fieldTransforms,u,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(n,t,e,i):n instanceof qp?function(r,o,a,u){if(!UI(r.precondition,o))return a;const h=$1(r.fieldTransforms,u,o),f=o.data;return f.setAll(QI(r)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null===a?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(_=>_.field))}(n,t,e,i):(a=e,UI(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function pF(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=OI(i.transform,r||null);null!=o&&(null===e&&(e=Hl.empty()),e.set(i.field,o))}return e||null}function bN(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&xm(e,i,(r,o)=>function PI(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Fm&&i instanceof Fm||e instanceof hy&&i instanceof hy?xm(e.elements,i.elements,Uu):e instanceof Wv&&i instanceof Wv?Uu(e.wt,i.wt):e instanceof Yv&&i instanceof Yv);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class Ay extends Z1{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class qp extends Z1{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function QI(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function CN(n,t,e){const i=new Map;ai(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],a=o.transform,u=t.data.field(o.field);i.set(o.field,AF(a,u,e[r]))}return i}function $1(n,t,e){const i=new Map;for(const r of n){const o=r.transform,a=e.data.field(r.field);i.set(r.field,RI(o,a,t))}return i}class fy extends Z1{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Y1 extends Z1{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class W1{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&wN(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=ub(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=ub(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=yN();return this.mutations.forEach(r=>{const o=t.get(r.key),a=o.overlayedDocument;let u=this.applyToLocalView(a,o.mutatedFields);u=e.has(r.key)?null:u;const h=fF(a,u);null!==h&&i.set(r.key,h),a.isValidDocument()||a.convertToNoDocument(oi.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),tr())}isEqual(t){return this.batchId===t.batchId&&xm(this.mutations,t.mutations,(e,i)=>bN(e,i))&&xm(this.baseMutations,t.baseMutations,(e,i)=>bN(e,i))}}class J1{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){ai(t.mutations.length===i.length);let r=vN;const o=t.mutations;for(let a=0;a<o.length;a++)r=r.insert(o[a].key,i[a].version);return new J1(t,e,i,r)}}class X1{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class tx{constructor(t,e){this.count=t,this.unchangedNames=e}}var xa,Ur;function gF(n){switch(n){default:return jn();case pt.CANCELLED:case pt.UNKNOWN:case pt.DEADLINE_EXCEEDED:case pt.RESOURCE_EXHAUSTED:case pt.INTERNAL:case pt.UNAVAILABLE:case pt.UNAUTHENTICATED:return!1;case pt.INVALID_ARGUMENT:case pt.NOT_FOUND:case pt.ALREADY_EXISTS:case pt.PERMISSION_DENIED:case pt.FAILED_PRECONDITION:case pt.ABORTED:case pt.OUT_OF_RANGE:case pt.UNIMPLEMENTED:case pt.DATA_LOSS:return!0}}function mF(n){if(void 0===n)return ba("GRPC error has no .code"),pt.UNKNOWN;switch(n){case xa.OK:return pt.OK;case xa.CANCELLED:return pt.CANCELLED;case xa.UNKNOWN:return pt.UNKNOWN;case xa.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case xa.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case xa.INTERNAL:return pt.INTERNAL;case xa.UNAVAILABLE:return pt.UNAVAILABLE;case xa.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case xa.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case xa.NOT_FOUND:return pt.NOT_FOUND;case xa.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case xa.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case xa.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case xa.ABORTED:return pt.ABORTED;case xa.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case xa.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case xa.DATA_LOSS:return pt.DATA_LOSS;default:return jn()}}(Ur=xa||(xa={}))[Ur.OK=0]="OK",Ur[Ur.CANCELLED=1]="CANCELLED",Ur[Ur.UNKNOWN=2]="UNKNOWN",Ur[Ur.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ur[Ur.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ur[Ur.NOT_FOUND=5]="NOT_FOUND",Ur[Ur.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ur[Ur.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ur[Ur.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ur[Ur.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ur[Ur.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ur[Ur.ABORTED=10]="ABORTED",Ur[Ur.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ur[Ur.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ur[Ur.INTERNAL=13]="INTERNAL",Ur[Ur.UNAVAILABLE=14]="UNAVAILABLE",Ur[Ur.DATA_LOSS=15]="DATA_LOSS";class _F{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return HI}static getOrCreateInstance(){return null===HI&&(HI=new _F),HI}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let HI=null;function VI(){return new TextEncoder}const xN=new Uv([4294967295,4294967295],0);function yF(n){const t=VI().encode(n),e=new qL;return e.update(t),new Uint8Array(e.digest())}function vF(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Uv([e,i],0),new Uv([r,o],0)]}class wF{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new nx(`Invalid padding: ${e}`);if(i<0)throw new nx(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new nx(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new nx(`Invalid padding when bitmap length is 0: ${e}`);this.yt=8*t.length-e,this.It=Uv.fromNumber(this.yt)}Tt(t,e,i){let r=t.add(e.multiply(Uv.fromNumber(i)));return 1===r.compare(xN)&&(r=new Uv([r.getBits(0),r.getBits(1)],0)),r.modulo(this.It).toNumber()}Et(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}At(t){if(0===this.yt)return!1;const e=yF(t),[i,r]=vF(e);for(let o=0;o<this.hashCount;o++){const a=this.Tt(i,r,o);if(!this.Et(a))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),a=new wF(o,r,e);return i.forEach(u=>a.insert(u)),a}insert(t){if(0===this.yt)return;const e=yF(t),[i,r]=vF(e);for(let o=0;o<this.hashCount;o++){const a=this.Tt(i,r,o);this.Rt(a)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class nx extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ix{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,rx.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new ix(oi.min(),r,new Ys(Ui),Qu(),tr())}}class rx{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new rx(i,e,tr(),tr(),tr())}}class GI{constructor(t,e,i,r){this.vt=t,this.removedTargetIds=e,this.key=i,this.Pt=r}}class bF{constructor(t,e){this.targetId=t,this.bt=e}}class db{constructor(t,e,i=$a.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class CF{constructor(){this.Vt=0,this.St=Mm(),this.Dt=$a.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(t){t.approximateByteSize()>0&&(this.xt=!0,this.Dt=t)}Ot(){let t=tr(),e=tr(),i=tr();return this.St.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:jn()}}),new rx(this.Dt,this.Ct,t,e,i)}$t(){this.xt=!1,this.St=Mm()}Ft(t,e){this.xt=!0,this.St=this.St.insert(t,e)}Bt(t){this.xt=!0,this.St=this.St.remove(t)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class EN{constructor(t){this.Kt=t,this.Gt=new Map,this.Qt=Qu(),this.jt=jI(),this.zt=new Ys(Ui)}Wt(t){for(const e of t.vt)t.Pt&&t.Pt.isFoundDocument()?this.Ht(e,t.Pt):this.Jt(e,t.key,t.Pt);for(const e of t.removedTargetIds)this.Jt(e,t.key,t.Pt)}Yt(t){this.forEachTarget(t,e=>{const i=this.Xt(e);switch(t.state){case 0:this.Zt(e)&&i.Mt(t.resumeToken);break;case 1:i.qt(),i.Nt||i.$t(),i.Mt(t.resumeToken);break;case 2:i.qt(),i.Nt||this.removeTarget(e);break;case 3:this.Zt(e)&&(i.Ut(),i.Mt(t.resumeToken));break;case 4:this.Zt(e)&&(this.te(e),i.Mt(t.resumeToken));break;default:jn()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Gt.forEach((i,r)=>{this.Zt(r)&&e(r)})}ee(t){var e;const i=t.targetId,r=t.bt.count,o=this.ne(i);if(o){const a=o.target;if(TI(a))if(0===r){const u=new xn(a.path);this.Jt(i,u,So.newNoDocument(u,oi.min()))}else ai(1===r);else{const u=this.se(i);if(u!==r){const h=this.ie(t,u);0!==h&&(this.te(i),this.zt=this.zt.insert(i,2===h?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=_F.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(f,_,C){var F,B,U,H,Z,q;const W={localCacheCount:_,existenceFilterCount:C.count},he=C.unchangedNames;return he&&(W.bloomFilter={applied:0===f,hashCount:null!==(F=he?.hashCount)&&void 0!==F?F:0,bitmapLength:null!==(H=null===(U=null===(B=he?.bits)||void 0===B?void 0:B.bitmap)||void 0===U?void 0:U.length)&&void 0!==H?H:0,padding:null!==(q=null===(Z=he?.bits)||void 0===Z?void 0:Z.padding)&&void 0!==q?q:0}),W}(h,u,t.bt))}}}}ie(t,e){const{unchangedNames:i,count:r}=t.bt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:a=0},hashCount:u=0}=i;let h,f;try{h=Qp(o).toUint8Array()}catch(_){if(_ instanceof vI)return Ah("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw _}try{f=new wF(h,a,u)}catch(_){return Ah(_ instanceof nx?"BloomFilter error: ":"Applying bloom filter failed: ",_),1}return 0===f.yt?1:r!==e-this.re(t.targetId,f)?2:0}re(t,e){const i=this.Kt.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const a=this.Kt.oe(),u=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.At(u)||(this.Jt(t,o,null),r++)}),r}ue(t){const e=new Map;this.Gt.forEach((o,a)=>{const u=this.ne(a);if(u){if(o.current&&TI(u.target)){const h=new xn(u.target.path);null!==this.Qt.get(h)||this.ce(a,h)||this.Jt(a,h,So.newNoDocument(h,t))}o.kt&&(e.set(a,o.Ot()),o.$t())}});let i=tr();this.jt.forEach((o,a)=>{let u=!0;a.forEachWhile(h=>{const f=this.ne(h);return!f||"TargetPurposeLimboResolution"===f.purpose||(u=!1,!1)}),u&&(i=i.add(o))}),this.Qt.forEach((o,a)=>a.setReadTime(t));const r=new ix(t,e,this.zt,this.Qt,i);return this.Qt=Qu(),this.jt=jI(),this.zt=new Ys(Ui),r}Ht(t,e){if(!this.Zt(t))return;const i=this.ce(t,e.key)?2:0;this.Xt(t).Ft(e.key,i),this.Qt=this.Qt.insert(e.key,e),this.jt=this.jt.insert(e.key,this.ae(e.key).add(t))}Jt(t,e,i){if(!this.Zt(t))return;const r=this.Xt(t);this.ce(t,e)?r.Ft(e,1):r.Bt(e),this.jt=this.jt.insert(e,this.ae(e).delete(t)),i&&(this.Qt=this.Qt.insert(e,i))}removeTarget(t){this.Gt.delete(t)}se(t){const e=this.Xt(t).Ot();return this.Kt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Lt(t){this.Xt(t).Lt()}Xt(t){let e=this.Gt.get(t);return e||(e=new CF,this.Gt.set(t,e)),e}ae(t){let e=this.jt.get(t);return e||(e=new Rs(Ui),this.jt=this.jt.insert(t,e)),e}Zt(t){const e=null!==this.ne(t);return e||Xt("WatchChangeAggregator","Detected inactive target",t),e}ne(t){const e=this.Gt.get(t);return e&&e.Nt?null:this.Kt.he(t)}te(t){this.Gt.set(t,new CF),this.Kt.getRemoteKeysForTarget(t).forEach(e=>{this.Jt(t,e,null)})}ce(t,e){return this.Kt.getRemoteKeysForTarget(t).has(e)}}function jI(){return new Ys(xn.comparator)}function Mm(){return new Ys(xn.comparator)}const xF={asc:"ASCENDING",desc:"DESCENDING"},zI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qI={and:"AND",or:"OR"};class SN{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function hb(n,t){return n.useProto3Json||Jw(t)?t:{value:t}}function km(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ab(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function nH(n,t){return km(n,t.toTimestamp())}function Ya(n){return ai(!!n),oi.fromTimestamp(function(t){const e=Tm(t);return new lo(e.seconds,e.nanos)}(n))}function EF(n,t){return(e=n,new Tr(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function IN(n){const t=Tr.fromString(n);return ai(ON(t)),t}function Xv(n,t){return EF(n.databaseId,t.path)}function yf(n,t){const e=IN(t);if(e.get(1)!==n.databaseId.projectId)throw new zt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new zt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new xn(ZI(e))}function KI(n,t){return EF(n.databaseId,t)}function SF(n){const t=IN(n);return 4===t.length?Tr.emptyPath():ZI(t)}function fb(n){return new Tr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ZI(n){return ai(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function $I(n,t,e){return{name:Xv(n,t),fields:e.value.mapValue.fields}}function YI(n,t,e){const i=yf(n,t.name),r=Ya(t.updateTime),o=t.createTime?Ya(t.createTime):oi.min(),a=new Hl({mapValue:{fields:t.fields}}),u=So.newFoundDocument(i,r,o,a);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function e0(n,t){let e;if(t instanceof Ay)e={update:$I(n,t.key,t.value)};else if(t instanceof fy)e={delete:Xv(n,t.key)};else if(t instanceof qp)e={update:$I(n,t.key,t.data),updateMask:sH(t.fieldMask)};else{if(!(t instanceof Y1))return jn();e={verify:Xv(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const a=o.transform;if(a instanceof Yv)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Fm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof hy)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Wv)return{fieldPath:o.field.canonicalString(),increment:a.wt};throw jn()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:nH(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:jn()),e;var r}function pb(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Io.updateTime(Ya(r.updateTime)):void 0!==r.exists?Io.exists(r.exists):Io.none():Io.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,a){let u=null;"setToServerValue"in a?(ai("REQUEST_TIME"===a.setToServerValue),u=new Yv):"appendMissingElements"in a?u=new Fm(a.appendMissingElements.values||[]):"removeAllFromArray"in a?u=new hy(a.removeAllFromArray.values||[]):"increment"in a?u=new Wv(o,a.increment):jn();const h=jo.fromServerFormat(a.fieldPath);return new Jv(h,u)}(n,r)):[];var r;if(t.update){const r=yf(n,t.update.name),o=new Hl({mapValue:{fields:t.update.fields}});if(t.updateMask){const a=new eu((t.updateMask.fieldPaths||[]).map(f=>jo.fromServerFormat(f)));return new qp(r,o,a,e,i)}return new Ay(r,o,e,i)}if(t.delete){const r=yf(n,t.delete);return new fy(r,e)}if(t.verify){const r=yf(n,t.verify);return new Y1(r,e)}return jn()}function WI(n,t){return{documents:[KI(n,t.path)]}}function gb(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=KI(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=KI(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(h){if(0!==h.length)return RN(gs.create(h,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const o=function(h){if(0!==h.length)return h.map(f=>{return{field:Rm((_=f).field),direction:rH(_.dir)};var _})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const a=hb(n,t.limit);var u,h;return null!==a&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt={before:(u=t.startAt).inclusive,values:u.position}),t.endAt&&(e.structuredQuery.endAt={before:!(h=t.endAt).inclusive,values:h.position}),e}function IF(n){let t=SF(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){ai(1===i);const _=e.from[0];_.allDescendants?r=_.collectionId:t=t.child(_.collectionId)}let o=[];e.where&&(o=function(_){const C=FN(_);return C instanceof gs&&EI(C)?C.getFilters():[C]}(e.where));let a=[];e.orderBy&&(a=e.orderBy.map(_=>{return new qv(mb((C=_).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction));var C}));let u=null;e.limit&&(u=function(_){let C;return C="object"==typeof _?_.value:_,Jw(C)?null:C}(e.limit));let h=null;var _;e.startAt&&(h=new Bm((_=e.startAt).values||[],!!_.before));let f=null;return e.endAt&&(f=function(_){return new Bm(_.values||[],!_.before)}(e.endAt)),ob(t,r,a,o,u,"F",h,f)}function FN(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=mb(t.unaryFilter.field);return yr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=mb(t.unaryFilter.field);return yr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=mb(t.unaryFilter.field);return yr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=mb(t.unaryFilter.field);return yr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return jn()}}(n):void 0!==n.fieldFilter?yr.create(mb((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return jn()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return gs.create(t.compositeFilter.filters.map(e=>FN(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return jn()}}(t.compositeFilter.op))}(n):jn();var t}function rH(n){return xF[n]}function MN(n){return zI[n]}function kN(n){return qI[n]}function Rm(n){return{fieldPath:n.canonicalString()}}function mb(n){return jo.fromServerFormat(n.fieldPath)}function RN(n){return n instanceof yr?function(t){if("=="===t.op){if(rb(t.value))return{unaryFilter:{field:Rm(t.field),op:"IS_NAN"}};if(bI(t.value))return{unaryFilter:{field:Rm(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(rb(t.value))return{unaryFilter:{field:Rm(t.field),op:"IS_NOT_NAN"}};if(bI(t.value))return{unaryFilter:{field:Rm(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rm(t.field),op:MN(t.op),value:t.value}}}(n):n instanceof gs?function(t){const e=t.getFilters().map(i=>RN(i));return 1===e.length?e[0]:{compositeFilter:{op:kN(t.op),filters:e}}}(n):jn()}function sH(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function ON(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Om{constructor(t,e,i,r,o=oi.min(),a=oi.min(),u=$a.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(t){return new Om(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Om(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Om(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Om(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class DF{constructor(t){this.le=t}}function LN(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:JI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:Xv(r=n.le,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:km(r,o.version.toTimestamp()),createTime:km(r,o.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:t0(t.version)};else{if(!t.isUnknownDocument())return jn();i.unknownDocument={path:e.path.toArray(),version:t0(t.version)}}var r,o;return i}function JI(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function t0(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function n0(n){const t=new lo(n.seconds,n.nanoseconds);return oi.fromTimestamp(t)}function r0(n,t){const e=(t.baseMutations||[]).map(o=>pb(n.le,o));for(let o=0;o<t.mutations.length-1;++o){const a=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(a.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>pb(n.le,o)),r=lo.fromMillis(t.localWriteTimeMs);return new W1(t.batchId,r,e,i)}function l(n){const t=n0(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?n0(n.lastLimboFreeSnapshotVersion):oi.min();let i;var r;return void 0!==n.query.documents?(ai(1===(r=n.query).documents.length),i=Ic(uy(SF(r.documents[0])))):i=Ic(IF(n.query)),new Om(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,$a.fromBase64String(n.resumeToken))}function c(n,t){const e=t0(t.snapshotVersion),i=t0(t.lastLimboFreeSnapshotVersion);let r;r=TI(t.target)?WI(n.le,t.target):gb(n.le,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Kv(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function d(n){const t=IF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?j1(t,t.limit,"L"):t}function A(n,t){return new X1(t.largestBatchId,pb(n.le,t.overlayMutation))}function p(n,t){const e=t.path.lastSegment();return[n,ac(t.path.popLast()),e]}function v(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:t0(i.readTime),documentKey:ac(i.documentKey.path),largestBatchId:i.largestBatchId}}class T{getBundleMetadata(t,e){return R(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:n0(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return R(t).put({bundleId:(i=e).id,createTime:t0(Ya(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return P(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:d(r.bundledQuery),readTime:n0(r.readTime)};var r})}saveNamedQuery(t,e){return P(t).put({name:(i=e).name,readTime:t0(Ya(i.readTime)),bundledQuery:i.bundledQuery});var i}}function R(n){return Za(n,"bundles")}function P(n){return Za(n,"namedQueries")}class j{constructor(t,e){this.serializer=t,this.userId=e}static fe(t,e){return new j(t,e.uid||"")}getOverlay(t,e){return ee(t).get(p(this.userId,e)).next(i=>i?A(this.serializer,i):null)}getOverlays(t,e){const i=_A();return st.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,a)=>{const u=new X1(e,a);r.push(this.de(t,u))}),st.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(a=>r.add(ac(a.getCollectionPath())));const o=[];return r.forEach(a=>{const u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,i+1],!1,!0);o.push(ee(t).J("collectionPathOverlayIndex",u))}),st.waitFor(o)}getOverlaysForCollection(t,e,i){const r=_A(),o=ac(e),a=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return ee(t).j("collectionPathOverlayIndex",a).next(u=>{for(const h of u){const f=A(this.serializer,h);r.set(f.getKey(),f)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=_A();let a;const u=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return ee(t).X({index:"collectionGroupOverlayIndex",range:u},(h,f,_)=>{const C=A(this.serializer,f);o.size()<r||C.largestBatchId===a?(o.set(C.getKey(),C),a=C.largestBatchId):_.done()}).next(()=>o)}de(t,e){return ee(t).put(function(i,r,o){const[a,u,h]=p(r,o.mutation.key);return{userId:r,collectionPath:u,documentId:h,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:e0(i.le,o.mutation)}}(this.serializer,this.userId,e))}}function ee(n){return Za(n,"documentOverlays")}class fe{constructor(){}_e(t,e){this.we(t,e),e.me()}we(t,e){if("nullValue"in t)this.ge(e,5);else if("booleanValue"in t)this.ge(e,10),e.ye(t.booleanValue?1:0);else if("integerValue"in t)this.ge(e,15),e.ye(zo(t.integerValue));else if("doubleValue"in t){const i=zo(t.doubleValue);isNaN(i)?this.ge(e,13):(this.ge(e,15),I1(i)?e.ye(0):e.ye(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ge(e,20),"string"==typeof i?e.pe(i):(e.pe(`${i.seconds||""}`),e.ye(i.nanos||0))}else if("stringValue"in t)this.Ie(t.stringValue,e),this.Te(e);else if("bytesValue"in t)this.ge(e,30),e.Ee(Qp(t.bytesValue)),this.Te(e);else if("referenceValue"in t)this.Ae(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ge(e,45),e.ye(i.latitude||0),e.ye(i.longitude||0)}else"mapValue"in t?CI(t)?this.ge(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Te(e)):"arrayValue"in t?(this.ve(t.arrayValue,e),this.Te(e)):jn()}Ie(t,e){this.ge(e,25),this.Pe(t,e)}Pe(t,e){e.pe(t)}Re(t,e){const i=t.fields||{};this.ge(e,55);for(const r of Object.keys(i))this.Ie(r,e),this.we(i[r],e)}ve(t,e){const i=t.values||[];this.ge(e,50);for(const r of i)this.we(r,e)}Ae(t,e){this.ge(e,37),xn.fromName(t).path.forEach(i=>{this.ge(e,60),this.Pe(i,e)})}ge(t,e){t.ye(e)}Te(t){t.ye(2)}}function ke(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function tt(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=ke(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}fe.be=new fe;class kt{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Se(i.value),i=e.next();this.De()}Ce(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.xe(i.value),i=e.next();this.Ne()}ke(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Se(i);else if(i<2048)this.Se(960|i>>>6),this.Se(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Se(480|i>>>12),this.Se(128|63&i>>>6),this.Se(128|63&i);else{const r=e.codePointAt(0);this.Se(240|r>>>18),this.Se(128|63&r>>>12),this.Se(128|63&r>>>6),this.Se(128|63&r)}}this.De()}Me(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.xe(i);else if(i<2048)this.xe(960|i>>>6),this.xe(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.xe(480|i>>>12),this.xe(128|63&i>>>6),this.xe(128|63&i);else{const r=e.codePointAt(0);this.xe(240|r>>>18),this.xe(128|63&r>>>12),this.xe(128|63&r>>>6),this.xe(128|63&r)}}this.Ne()}Oe(t){const e=this.$e(t),i=tt(e);this.Fe(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Be(t){const e=this.$e(t),i=tt(e);this.Fe(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(t){this.Fe(t.length),this.buffer.set(t,this.position),this.position+=t.length}Ge(){return this.buffer.slice(0,this.position)}$e(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Se(t){const e=255&t;0===e?(this.qe(0),this.qe(255)):255===e?(this.qe(255),this.qe(0)):this.qe(e)}xe(t){const e=255&t;0===e?(this.Ke(0),this.Ke(255)):255===e?(this.Ke(255),this.Ke(0)):this.Ke(t)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(t){this.Fe(1),this.buffer[this.position++]=t}Ke(t){this.Fe(1),this.buffer[this.position++]=~t}Fe(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class cn{constructor(t){this.Qe=t}Ee(t){this.Qe.Ve(t)}pe(t){this.Qe.ke(t)}ye(t){this.Qe.Oe(t)}me(){this.Qe.Le()}}class Sn{constructor(t){this.Qe=t}Ee(t){this.Qe.Ce(t)}pe(t){this.Qe.Me(t)}ye(t){this.Qe.Be(t)}me(){this.Qe.Ue()}}class zn{constructor(){this.Qe=new kt,this.je=new cn(this.Qe),this.ze=new Sn(this.Qe)}seed(t){this.Qe.seed(t)}We(t){return 0===t?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}class ci{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}He(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new ci(this.indexId,this.documentKey,this.arrayValue,i)}}function Gt(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=Qi(n.arrayValue,t.arrayValue),0!==e?e:(e=Qi(n.directionalValue,t.directionalValue),0!==e?e:xn.comparator(n.documentKey,t.documentKey)))}function Qi(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class Do{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Je=t.orderBy,this.Ye=[];for(const e of t.filters){const i=e;i.isInequality()?this.Xe=i:this.Ye.push(i)}}Ze(t){ai(t.collectionGroup===this.collectionId);const e=uI(t);if(void 0!==e&&!this.tn(e))return!1;const i=ny(t);let r=0,o=0;for(;r<i.length&&this.tn(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Xe){const a=i[r];if(!this.en(this.Xe,a)||!this.nn(this.Je[o++],a))return!1;++r}for(;r<i.length;++r){const a=i[r];if(o>=this.Je.length||!this.nn(this.Je[o++],a))return!1}return!0}tn(t){for(const e of this.Ye)if(this.en(e,t))return!0;return!1}en(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}nn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function la(n){var t,e;if(ai(n instanceof yr||n instanceof gs),n instanceof yr){if(n instanceof DI){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>yr.create(n.field,"==",o)))||[];return gs.create(r,"or")}return n}const i=n.filters.map(r=>la(r));return gs.create(i,n.op)}function aH(n){if(0===n.getFilters().length)return[];const t=UN(la(n));return ai(lH(t)),NN(t)||PN(t)?[t]:t.getFilters()}function NN(n){return n instanceof yr}function PN(n){return n instanceof gs&&EI(n)}function lH(n){return NN(n)||PN(n)||function(t){if(t instanceof gs&&Q1(t)){for(const e of t.getFilters())if(!NN(e)&&!PN(e))return!1;return!0}return!1}(n)}function UN(n){if(ai(n instanceof yr||n instanceof gs),n instanceof yr)return n;if(1===n.filters.length)return UN(n.filters[0]);const t=n.filters.map(i=>UN(i));let e=gs.create(t,n.op);return e=TF(e),lH(e)?e:(ai(e instanceof gs),ai(cy(e)),ai(e.filters.length>1),e.filters.reduce((i,r)=>QN(i,r)))}function QN(n,t){let e;return ai(n instanceof yr||n instanceof gs),ai(t instanceof yr||t instanceof gs),e=n instanceof yr?t instanceof yr?gs.create([n,t],"and"):cH(n,t):t instanceof yr?cH(t,n):function(i,r){if(ai(i.filters.length>0&&r.filters.length>0),cy(i)&&cy(r))return SI(i,r.getFilters());const o=Q1(i)?i:r,a=Q1(i)?r:i,u=o.filters.map(h=>QN(h,a));return gs.create(u,"or")}(n,t),TF(e)}function cH(n,t){if(cy(t))return SI(t,n.getFilters());{const e=t.filters.map(i=>QN(n,i));return gs.create(e,"or")}}function TF(n){if(ai(n instanceof yr||n instanceof gs),n instanceof yr)return n;const t=n.getFilters();if(1===t.length)return TF(t[0]);if(nF(n))return n;const e=t.map(r=>TF(r)),i=[];return e.forEach(r=>{r instanceof yr?i.push(r):r instanceof gs&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:gs.create(i,n.op)}class G${constructor(){this.sn=new HN}addToCollectionParentIndex(t,e){return this.sn.add(e),st.resolve()}getCollectionParents(t,e){return st.resolve(this.sn.getEntries(e))}addFieldIndex(t,e){return st.resolve()}deleteFieldIndex(t,e){return st.resolve()}getDocumentsMatchingTarget(t,e){return st.resolve(null)}getIndexType(t,e){return st.resolve(0)}getFieldIndexes(t,e){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,e){return st.resolve(Dd.min())}getMinOffsetFromCollectionGroup(t,e){return st.resolve(Dd.min())}updateCollectionGroup(t,e,i){return st.resolve()}updateIndexEntries(t,e){return st.resolve()}}class HN{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Rs(Tr.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Rs(Tr.comparator)).toArray()}}const BF=new Uint8Array(0);class j${constructor(t,e){this.user=t,this.databaseId=e,this.rn=new HN,this.on=new Gp(i=>Kv(i),(i,r)=>V1(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.rn.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.rn.add(e)});const o={collectionId:i,parent:ac(r)};return uH(t).put(o)}return st.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[PB(e),""],!1,!0);return uH(t).j(r).next(o=>{for(const a of o){if(a.collectionId!==e)break;i.push(pf(a.parent))}return i})}addFieldIndex(t,e){const i=FF(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var a;delete r.indexId;const o=i.add(r);if(e.indexState){const a=eD(t);return o.next(u=>{a.put(v(u,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=FF(t),r=eD(t),o=XI(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=XI(t);let r=!0;const o=new Map;return st.forEach(this.un(e),a=>this.cn(t,a).next(u=>{r&&(r=!!u),o.set(a,u)})).next(()=>{if(r){let a=tr();const u=[];return st.forEach(o,(h,f)=>{var _;Xt("IndexedDbIndexManager",`Using index ${_=h,`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(he=>`${he.fieldPath}:${he.kind}`).join(",")}`} to execute ${Kv(e)}`);const C=function(he,xe){const Ze=uI(xe);if(void 0===Ze)return null;for(const ct of BI(he,Ze.fieldPath))switch(ct.op){case"array-contains-any":return ct.value.arrayValue.values||[];case"array-contains":return[ct.value]}return null}(f,h),F=function(he,xe){const Ze=new Map;for(const ct of ny(xe))for(const Ve of BI(he,ct.fieldPath))switch(Ve.op){case"==":case"in":Ze.set(ct.fieldPath.canonicalString(),Ve.value);break;case"not-in":case"!=":return Ze.set(ct.fieldPath.canonicalString(),Ve.value),Array.from(Ze.values())}return null}(f,h),B=function(he,xe){const Ze=[];let ct=!0;for(const Ve of ny(xe)){const we=0===Ve.kind?sb(he,Ve.fieldPath,he.startAt):fN(he,Ve.fieldPath,he.startAt);Ze.push(we.value),ct&&(ct=we.inclusive)}return new Bm(Ze,ct)}(f,h),U=function(he,xe){const Ze=[];let ct=!0;for(const Ve of ny(xe)){const we=0===Ve.kind?fN(he,Ve.fieldPath,he.endAt):sb(he,Ve.fieldPath,he.endAt);Ze.push(we.value),ct&&(ct=we.inclusive)}return new Bm(Ze,ct)}(f,h),H=this.an(h,f,B),Z=this.an(h,f,U),q=this.hn(h,f,F),W=this.ln(h.indexId,C,H,B.inclusive,Z,U.inclusive,q);return st.forEach(W,he=>i.H(he,e.limit).next(xe=>{xe.forEach(Ze=>{const ct=xn.fromSegments(Ze.documentKey);a.has(ct)||(a=a.add(ct),u.push(ct))})}))}).next(()=>u)}return st.resolve(null)})}un(t){let e=this.on.get(t);return e||(e=0===t.filters.length?[t]:aH(gs.create(t.filters,"and")).map(i=>aF(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.on.set(t,e),e)}ln(t,e,i,r,o,a,u){const h=(null!=e?e.length:1)*Math.max(i.length,o.length),f=h/(null!=e?e.length:1),_=[];for(let C=0;C<h;++C){const F=e?this.fn(e[C/f]):BF,B=this.dn(t,F,i[C%f],r),U=this._n(t,F,o[C%f],a),H=u.map(Z=>this.dn(t,F,Z,!0));_.push(...this.createRange(B,U,H))}return _}dn(t,e,i,r){const o=new ci(t,xn.empty(),e,i);return r?o:o.He()}_n(t,e,i,r){const o=new ci(t,xn.empty(),e,i);return r?o.He():o}cn(t,e){const i=new Do(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let a=null;for(const u of o)i.Ze(u)&&(!a||u.fields.length>a.fields.length)&&(a=u);return a})}getIndexType(t,e){let i=2;const r=this.un(e);return st.forEach(r,o=>this.cn(t,o).next(a=>{a?0!==i&&a.fields.length<function(u){let h=new Rs(jo.comparator),f=!1;for(const _ of u.filters)for(const C of _.getFlattenedFilters())C.field.isKeyField()||("array-contains"===C.op||"array-contains-any"===C.op?f=!0:h=h.add(C.field));for(const _ of u.orderBy)_.field.isKeyField()||(h=h.add(_.field));return h.size+(f?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}wn(t,e){const i=new zn;for(const r of ny(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const a=i.We(r.kind);fe.be._e(o,a)}return i.Ge()}fn(t){const e=new zn;return fe.be._e(t,e.We(0)),e.Ge()}mn(t,e){const i=new zn;return fe.be._e(ay(this.databaseId,e),i.We(function(r){const o=ny(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Ge()}hn(t,e,i){if(null===i)return[];let r=[];r.push(new zn);let o=0;for(const a of ny(t)){const u=i[o++];for(const h of r)if(this.gn(e,a.fieldPath)&&jv(u))r=this.yn(r,a,u);else{const f=h.We(a.kind);fe.be._e(u,f)}}return this.pn(r)}an(t,e,i){return this.hn(t,e,i.position)}pn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Ge();return e}yn(t,e,i){const r=[...t],o=[];for(const a of i.arrayValue.values||[])for(const u of r){const h=new zn;h.seed(u.Ge()),fe.be._e(a,h.We(e.kind)),o.push(h)}return o}gn(t,e){return!!t.filters.find(i=>i instanceof yr&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=FF(t),r=eD(t);return(e?i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.j()).next(o=>{const a=[];return st.forEach(o,u=>r.get([u.indexId,this.uid]).next(h=>{a.push(function(f,_){const C=_?new $w(_.sequenceNumber,new Dd(n0(_.readTime),new xn(pf(_.documentKey)),_.largestBatchId)):$w.empty(),F=f.fields.map(([B,U])=>new dI(jo.fromServerFormat(B),U));return new C1(f.indexId,f.collectionGroup,F,C)}(u,h))})).next(()=>a)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Ui(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=FF(t),o=eD(t);return this.In(t).next(a=>r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(u=>st.forEach(u,h=>o.put(v(h.indexId,this.user,a,i)))))}updateIndexEntries(t,e){const i=new Map;return st.forEach(e,(r,o)=>{const a=i.get(r.collectionGroup);return(a?st.resolve(a):this.getFieldIndexes(t,r.collectionGroup)).next(u=>(i.set(r.collectionGroup,u),st.forEach(u,h=>this.Tn(t,r,h).next(f=>{const _=this.En(o,h);return f.isEqual(_)?st.resolve():this.An(t,o,h,f,_)}))))})}Rn(t,e,i,r){return XI(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(i,e.key),documentKey:e.key.path.toArray()})}vn(t,e,i,r){return XI(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(i,e.key),e.key.path.toArray()])}Tn(t,e,i){const r=XI(t);let o=new Rs(Gt);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.mn(i,e)])},(a,u)=>{o=o.add(new ci(i.indexId,e,u.arrayValue,u.directionalValue))}).next(()=>o)}En(t,e){let i=new Rs(Gt);const r=this.wn(e,t);if(null==r)return i;const o=uI(e);if(null!=o){const a=t.data.field(o.fieldPath);if(jv(a))for(const u of a.arrayValue.values||[])i=i.add(new ci(e.indexId,t.key,this.fn(u),r))}else i=i.add(new ci(e.indexId,t.key,BF,r));return i}An(t,e,i,r,o){Xt("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const a=[];return function(u,h,f,_,C){const F=u.getIterator(),B=h.getIterator();let U=iy(F),H=iy(B);for(;U||H;){let Z=!1,q=!1;if(U&&H){const W=f(U,H);W<0?q=!0:W>0&&(Z=!0)}else null!=U?q=!0:Z=!0;Z?(_(H),H=iy(B)):q?(C(U),U=iy(F)):(U=iy(F),H=iy(B))}}(r,o,Gt,u=>{a.push(this.Rn(t,e,i,u))},u=>{a.push(this.vn(t,e,i,u))}),st.waitFor(a)}In(t){let e=1;return eD(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((a,u)=>Gt(a,u)).filter((a,u,h)=>!u||0!==Gt(a,h[u-1]));const r=[];r.push(t);for(const a of i){const u=Gt(a,t),h=Gt(a,e);if(0===u)r[0]=t.He();else if(u>0&&h<0)r.push(a),r.push(a.He());else if(h>0)break}r.push(e);const o=[];for(let a=0;a<r.length;a+=2){if(this.Pn(r[a],r[a+1]))return[];o.push(IDBKeyRange.bound([r[a].indexId,this.uid,r[a].arrayValue,r[a].directionalValue,BF,[]],[r[a+1].indexId,this.uid,r[a+1].arrayValue,r[a+1].directionalValue,BF,[]]))}return o}Pn(t,e){return Gt(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(dH)}getMinOffset(t,e){return st.mapArray(this.un(e),i=>this.cn(t,i).next(r=>r||jn())).next(dH)}}function uH(n){return Za(n,"collectionParents")}function XI(n){return Za(n,"indexEntries")}function FF(n){return Za(n,"indexConfiguration")}function eD(n){return Za(n,"indexState")}function dH(n){ai(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;hI(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Dd(t.readTime,t.documentKey,e)}const hH={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Vu{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Vu(t,Vu.DEFAULT_COLLECTION_PERCENTILE,Vu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function AH(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],a=IDBKeyRange.only(e.batchId);let u=0;const h=i.X({range:a},(_,C,F)=>(u++,F.delete()));o.push(h.next(()=>{ai(1===u)}));const f=[];for(const _ of e.mutations){const C=T1(t,_.key.path,e.batchId);o.push(r.delete(C)),f.push(_.key)}return st.waitFor(o).next(()=>f)}function MF(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw jn();t=n.noDocument}return JSON.stringify(t).length}Vu.DEFAULT_COLLECTION_PERCENTILE=10,Vu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vu.DEFAULT=new Vu(41943040,Vu.DEFAULT_COLLECTION_PERCENTILE,Vu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vu.DISABLED=new Vu(-1,0,0);class kF{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.bn={}}static fe(t,e,i,r){ai(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new kF(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return s0(t).X({index:"userMutationsIndex",range:i},(r,o,a)=>{e=!1,a.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=sx(t),a=s0(t);return a.add({}).next(u=>{ai("number"==typeof u);const h=new W1(u,e,i,r),f=function(F,B,U){const H=U.baseMutations.map(q=>e0(F.le,q)),Z=U.mutations.map(q=>e0(F.le,q));return{userId:B,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:H,mutations:Z}}(this.serializer,this.userId,h),_=[];let C=new Rs((F,B)=>Ui(F.canonicalString(),B.canonicalString()));for(const F of r){const B=T1(this.userId,F.key.path,u);C=C.add(F.key.path.popLast()),_.push(a.put(f)),_.push(o.put(B,gf))}return C.forEach(F=>{_.push(this.indexManager.addToCollectionParentIndex(t,F))}),t.addOnCommittedListener(()=>{this.bn[u]=h.keys()}),st.waitFor(_).next(()=>h)})}lookupMutationBatch(t,e){return s0(t).get(e).next(i=>i?(ai(i.userId===this.userId),r0(this.serializer,i)):null)}Vn(t,e){return this.bn[e]?st.resolve(this.bn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.bn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return s0(t).X({index:"userMutationsIndex",range:r},(a,u,h)=>{u.userId===this.userId&&(ai(u.batchId>=i),o=r0(this.serializer,u)),h.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return s0(t).X({index:"userMutationsIndex",range:e,reverse:!0},(r,o,a)=>{i=o.batchId,a.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return s0(t).j("userMutationsIndex",e).next(i=>i.map(r=>r0(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=D1(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return sx(t).X({range:r},(a,u,h)=>{const[f,_,C]=a,F=pf(_);if(f===this.userId&&e.path.isEqual(F))return s0(t).get(C).next(B=>{if(!B)throw jn();ai(B.userId===this.userId),o.push(r0(this.serializer,B))});h.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Rs(Ui);const r=[];return e.forEach(o=>{const a=D1(this.userId,o.path),u=IDBKeyRange.lowerBound(a),h=sx(t).X({range:u},(f,_,C)=>{const[F,B,U]=f,H=pf(B);F===this.userId&&o.path.isEqual(H)?i=i.add(U):C.done()});r.push(h)}),st.waitFor(r).next(()=>this.Sn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=D1(this.userId,i),a=IDBKeyRange.lowerBound(o);let u=new Rs(Ui);return sx(t).X({range:a},(h,f,_)=>{const[C,F,B]=h,U=pf(F);C===this.userId&&i.isPrefixOf(U)?U.length===r&&(u=u.add(B)):_.done()}).next(()=>this.Sn(t,u))}Sn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(s0(t).get(o).next(a=>{if(null===a)throw jn();ai(a.userId===this.userId),i.push(r0(this.serializer,a))}))}),st.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return AH(t.at,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Dn(e.batchId)}),st.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Dn(t){delete this.bn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return st.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return sx(t).X({range:i},(o,a,u)=>{if(o[0]===this.userId){const h=pf(o[1]);r.push(h)}else u.done()}).next(()=>{ai(0===r.length)})})}containsKey(t,e){return fH(t,this.userId,e)}Cn(t){return pH(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function fH(n,t,e){const i=D1(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let a=!1;return sx(n).X({range:o,Y:!0},(u,h,f)=>{const[_,C,F]=u;_===t&&C===r&&(a=!0),f.done()}).next(()=>a)}function s0(n){return Za(n,"mutations")}function sx(n){return Za(n,"documentMutations")}function pH(n){return Za(n,"mutationQueues")}class _b{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static Nn(){return new _b(0)}static kn(){return new _b(-1)}}class z${constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.Mn(t).next(e=>{const i=new _b(e.highestTargetId);return e.highestTargetId=i.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Mn(t).next(e=>oi.fromTimestamp(new lo(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Mn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Mn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.On(t,r)))}addTargetData(t,e){return this.$n(t,e).next(()=>this.Mn(t).next(i=>(i.targetCount+=1,this.Fn(e,i),this.On(t,i))))}updateTargetData(t,e){return this.$n(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>ox(t).delete(e.targetId)).next(()=>this.Mn(t)).next(i=>(ai(i.targetCount>0),i.targetCount-=1,this.On(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return ox(t).X((a,u)=>{const h=l(u);h.sequenceNumber<=e&&null===i.get(h.targetId)&&(r++,o.push(this.removeTargetData(t,h)))}).next(()=>st.waitFor(o)).next(()=>r)}forEachTarget(t,e){return ox(t).X((i,r)=>{const o=l(r);e(o)})}Mn(t){return gH(t).get("targetGlobalKey").next(e=>(ai(null!==e),e))}On(t,e){return gH(t).put("targetGlobalKey",e)}$n(t,e){return ox(t).put(c(this.serializer,e))}Fn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Mn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Kv(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return ox(t).X({range:r,index:"queryTargetsIndex"},(a,u,h)=>{const f=l(u);V1(e,f.target)&&(o=f,h.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=o0(t);return e.forEach(a=>{const u=ac(a.path);r.push(o.put({targetId:i,path:u})),r.push(this.referenceDelegate.addReference(t,i,a))}),st.waitFor(r)}removeMatchingKeys(t,e,i){const r=o0(t);return st.forEach(e,o=>{const a=ac(o.path);return st.waitFor([r.delete([i,a]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=o0(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=o0(t);let o=tr();return r.X({range:i,Y:!0},(a,u,h)=>{const f=pf(a[1]),_=new xn(f);o=o.add(_)}).next(()=>o)}containsKey(t,e){const i=ac(e.path),r=IDBKeyRange.bound([i],[PB(i)],!1,!0);let o=0;return o0(t).X({index:"documentTargetsIndex",Y:!0,range:r},([a,u],h,f)=>{0!==a&&(o++,f.done())}).next(()=>o>0)}he(t,e){return ox(t).get(e).next(i=>i?l(i):null)}}function ox(n){return Za(n,"targets")}function gH(n){return Za(n,"targetGlobal")}function o0(n){return Za(n,"targetDocuments")}function mH([n,t],[e,i]){const r=Ui(n,e);return 0===r?Ui(t,i):r}class q${constructor(t){this.Bn=t,this.buffer=new Rs(mH),this.Ln=0}qn(){return++this.Ln}Un(t){const e=[t,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();mH(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class _H{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(t){var e=this;Xt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,bt.Z)(function*(){e.Kn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Sm(i)?Xt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Em(i)}yield e.Gn(3e5)}))}}class K${constructor(t,e){this.Qn=t,this.params=e}calculateTargetCount(t,e){return this.Qn.jn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return st.resolve(Pu.ct);const i=new q$(e);return this.Qn.forEachTarget(t,r=>i.Un(r.sequenceNumber)).next(()=>this.Qn.zn(t,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Qn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Qn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Xt("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(hH)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Xt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hH):this.Wn(t,e))}getCacheSize(t){return this.Qn.getCacheSize(t)}Wn(t,e){let i,r,o,a,u,h,f;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(Xt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),r=this.params.maximumSequenceNumbersToCollect):r=C,a=Date.now(),this.nthSequenceNumber(t,r))).next(C=>(i=C,u=Date.now(),this.removeTargets(t,i,e))).next(C=>(o=C,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(C=>(f=Date.now(),aI()<=hf.in.DEBUG&&Xt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-_}ms\n\tDetermined least recently used ${r} in `+(u-a)+`ms\n\tRemoved ${o} targets in `+(h-u)+`ms\n\tRemoved ${C} documents in `+(f-h)+`ms\nTotal Duration: ${f-_}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:C})))}}class Z${constructor(t,e){this.db=t,this.garbageCollector=function yH(n,t){return new K$(n,t)}(this,e)}jn(t){const e=this.Hn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Hn(t){let e=0;return this.zn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}zn(t,e){return this.Jn(t,(i,r)=>e(r))}addReference(t,e,i){return RF(t,i)}removeReference(t,e,i){return RF(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return RF(t,e)}Yn(t,e){return function(i,r){let o=!1;return pH(i).Z(a=>fH(i,a,r).next(u=>(u&&(o=!0),st.resolve(!u)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Jn(t,(a,u)=>{if(u<=e){const h=this.Yn(t,a).next(f=>{if(!f)return o++,i.getEntry(t,a).next(()=>(i.removeEntry(a,oi.min()),o0(t).delete([0,ac(a.path)])))});r.push(h)}}).next(()=>st.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return RF(t,e)}Jn(t,e){const i=o0(t);let r,o=Pu.ct;return i.X({index:"documentTargetsIndex"},([a,u],{path:h,sequenceNumber:f})=>{0===a?(o!==Pu.ct&&e(new xn(pf(r)),o),o=f,r=h):o=Pu.ct}).next(()=>{o!==Pu.ct&&e(new xn(pf(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function RF(n,t){return o0(n).put((i=n.currentSequenceNumber,{targetId:0,path:ac(t.path),sequenceNumber:i}));var i}class vH{constructor(){this.changes=new Gp(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,So.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?st.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class $${constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return yb(t).put(i)}removeEntry(t,e,i){return yb(t).delete(function(r,o){const a=r.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],JI(o),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Xn(t,i)))}getEntry(t,e){let i=So.newInvalidDocument(e);return yb(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(tD(e))},(r,o)=>{i=this.Zn(e,o)}).next(()=>i)}ts(t,e){let i={size:0,document:So.newInvalidDocument(e)};return yb(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(tD(e))},(r,o)=>{i={document:this.Zn(e,o),size:MF(o)}}).next(()=>i)}getEntries(t,e){let i=Qu();return this.es(t,e,(r,o)=>{const a=this.Zn(r,o);i=i.insert(r,a)}).next(()=>i)}ns(t,e){let i=Qu(),r=new Ys(xn.comparator);return this.es(t,e,(o,a)=>{const u=this.Zn(o,a);i=i.insert(o,u),r=r.insert(o,MF(a))}).next(()=>({documents:i,ss:r}))}es(t,e,i){if(e.isEmpty())return st.resolve();let r=new Rs(xH);e.forEach(h=>r=r.add(h));const o=IDBKeyRange.bound(tD(r.first()),tD(r.last())),a=r.getIterator();let u=a.getNext();return yb(t).X({index:"documentKeyIndex",range:o},(h,f,_)=>{const C=xn.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;u&&xH(u,C)<0;)i(u,null),u=a.getNext();u&&u.isEqual(C)&&(i(u,f),u=a.hasNext()?a.getNext():null),u?_.G(tD(u)):_.done()}).next(()=>{for(;u;)i(u,null),u=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const o=e.path,a=[o.popLast().toArray(),o.lastSegment(),JI(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return yb(t).j(IDBKeyRange.bound(a,u,!0)).next(h=>{let f=Qu();for(const _ of h){const C=this.Zn(xn.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);C.isFoundDocument()&&(lb(e,C)||r.has(C.key))&&(f=f.insert(C.key,C))}return f})}getAllFromCollectionGroup(t,e,i,r){let o=Qu();const a=CH(e,i),u=CH(e,Dd.max());return yb(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,u,!0)},(h,f,_)=>{const C=this.Zn(xn.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);o=o.insert(C.key,C),o.size===r&&_.done()}).next(()=>o)}newChangeBuffer(t){return new Y$(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return bH(t).get("remoteDocumentGlobalKey").next(e=>(ai(!!e),e))}Xn(t,e){return bH(t).put("remoteDocumentGlobalKey",e)}Zn(t,e){if(e){const i=function oH(n,t){let e;if(t.document)e=YI(n.le,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=xn.fromSegments(t.noDocument.path),r=n0(t.noDocument.readTime);e=So.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return jn();{const i=xn.fromSegments(t.unknownDocument.path),r=n0(t.unknownDocument.version);e=So.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new lo(i[0],i[1]);return oi.fromTimestamp(r)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(oi.min()))return i}return So.newInvalidDocument(t)}}function wH(n){return new $$(n)}class Y$ extends vH{constructor(t,e){super(),this.rs=t,this.trackRemovals=e,this.os=new Gp(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Rs((o,a)=>Ui(o.canonicalString(),a.canonicalString()));return this.changes.forEach((o,a)=>{const u=this.os.get(o);if(e.push(this.rs.removeEntry(t,o,u.readTime)),a.isValidDocument()){const h=LN(this.rs.serializer,a);r=r.add(o.path.popLast());const f=MF(h);i+=f-u.size,e.push(this.rs.addEntry(t,o,h))}else if(i-=u.size,this.trackRemovals){const h=LN(this.rs.serializer,a.convertToNoDocument(oi.min()));e.push(this.rs.addEntry(t,o,h))}}),r.forEach(o=>{e.push(this.rs.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.rs.updateMetadata(t,i)),st.waitFor(e)}getFromCache(t,e){return this.rs.ts(t,e).next(i=>(this.os.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.rs.ns(t,e).next(({documents:i,ss:r})=>(r.forEach((o,a)=>{this.os.set(o,{size:a,readTime:i.get(o).readTime})}),i))}}function bH(n){return Za(n,"remoteDocumentGlobal")}function yb(n){return Za(n,"remoteDocumentsV14")}function tD(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function CH(n,t){const e=t.documentKey.path.toArray();return[n,JI(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function xH(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=Ui(e[o],i[o]),r)return r;return r=Ui(e.length,i.length),r||(r=Ui(e[e.length-2],i[i.length-2]),r||Ui(e[e.length-1],i[i.length-1]))}class W${constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class EH{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&ub(i.mutation,r,eu.empty(),lo.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,tr()).next(()=>i))}getLocalViewOfDocuments(t,e,i=tr()){const r=_A();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let a=cb();return o.forEach((u,h)=>{a=a.insert(u,h.overlayedDocument)}),a}))}getOverlayedDocuments(t,e){const i=_A();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,tr()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((a,u)=>{e.set(a,u)})})}computeViews(t,e,i,r){let o=Qu();const a=tu(),u=tu();return e.forEach((h,f)=>{const _=i.get(f.key);r.has(f.key)&&(void 0===_||_.mutation instanceof qp)?o=o.insert(f.key,f):void 0!==_?(a.set(f.key,_.mutation.getFieldMask()),ub(_.mutation,f,_.mutation.getFieldMask(),lo.now())):a.set(f.key,eu.empty())}),this.recalculateAndSaveOverlays(t,o).next(h=>(h.forEach((f,_)=>a.set(f,_)),e.forEach((f,_)=>{var C;return u.set(f,new W$(_,null!==(C=a.get(f))&&void 0!==C?C:null))}),u))}recalculateAndSaveOverlays(t,e){const i=tu();let r=new Ys((a,u)=>a-u),o=tr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(a=>{for(const u of a)u.keys().forEach(h=>{const f=e.get(h);if(null===f)return;let _=i.get(h)||eu.empty();_=u.applyToLocalView(f,_),i.set(h,_);const C=(r.get(u.batchId)||tr()).add(h);r=r.insert(u.batchId,C)})}).next(()=>{const a=[],u=r.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,_=h.value,C=yN();_.forEach(F=>{if(!o.has(F)){const B=fF(e.get(F),i.get(F));null!==B&&C.set(F,B),o=o.add(F)}}),a.push(this.documentOverlayCache.saveOverlays(t,f,C))}return st.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return xn.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):G1(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const a=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):st.resolve(_A());let u=-1,h=o;return a.next(f=>st.forEach(f,(_,C)=>(u<C.largestBatchId&&(u=C.largestBatchId),o.get(_)?st.resolve():this.remoteDocumentCache.getEntry(t,_).next(F=>{h=h.insert(_,F)}))).next(()=>this.populateOverlays(t,f,o)).next(()=>this.computeViews(t,h,f,tr())).next(_=>({batchId:u,changes:MI(_)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new xn(e)).next(i=>{let r=cb();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=cb();return this.indexManager.getCollectionParents(t,r).next(a=>st.forEach(a,u=>{const h=(f=e,_=u.child(r),new _f(_,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt));var f,_;return this.getDocumentsMatchingCollectionQuery(t,h,i).next(f=>{f.forEach((_,C)=>{o=o.insert(_,C)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(o=>{r.forEach((u,h)=>{const f=h.getKey();null===o.get(f)&&(o=o.insert(f,So.newInvalidDocument(f)))});let a=cb();return o.forEach((u,h)=>{const f=r.get(u);void 0!==f&&ub(f.mutation,h,eu.empty(),lo.now()),lb(e,h)&&(a=a.insert(u,h))}),a})}}class J${constructor(t){this.serializer=t,this.us=new Map,this.cs=new Map}getBundleMetadata(t,e){return st.resolve(this.us.get(e))}saveBundleMetadata(t,e){var i;return this.us.set(e.id,{id:(i=e).id,version:i.version,createTime:Ya(i.createTime)}),st.resolve()}getNamedQuery(t,e){return st.resolve(this.cs.get(e))}saveNamedQuery(t,e){return this.cs.set(e.name,{name:(i=e).name,query:d(i.bundledQuery),readTime:Ya(i.readTime)}),st.resolve();var i}}class X${constructor(){this.overlays=new Ys(xn.comparator),this.hs=new Map}getOverlay(t,e){return st.resolve(this.overlays.get(e))}getOverlays(t,e){const i=_A();return st.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.de(t,e,o)}),st.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.hs.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hs.delete(i)),st.resolve()}getOverlaysForCollection(t,e,i){const r=_A(),o=e.length+1,a=new xn(e.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!e.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>i&&r.set(h.getKey(),h)}return st.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Ys((f,_)=>f-_);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===e&&f.largestBatchId>i){let _=o.get(f.largestBatchId);null===_&&(_=_A(),o=o.insert(f.largestBatchId,_)),_.set(f.getKey(),f)}}const u=_A(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,_)=>u.set(f,_)),!(u.size()>=r)););return st.resolve(u)}de(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const a=this.hs.get(r.largestBatchId).delete(i.key);this.hs.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new X1(e,i));let o=this.hs.get(e);void 0===o&&(o=tr(),this.hs.set(e,o)),this.hs.set(e,o.add(i.key))}}class VN{constructor(){this.ls=new Rs(Dc.fs),this.ds=new Rs(Dc._s)}isEmpty(){return this.ls.isEmpty()}addReference(t,e){const i=new Dc(t,e);this.ls=this.ls.add(i),this.ds=this.ds.add(i)}ws(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.gs(new Dc(t,e))}ys(t,e){t.forEach(i=>this.removeReference(i,e))}ps(t){const e=new xn(new Tr([])),i=new Dc(e,t),r=new Dc(e,t+1),o=[];return this.ds.forEachInRange([i,r],a=>{this.gs(a),o.push(a.key)}),o}Is(){this.ls.forEach(t=>this.gs(t))}gs(t){this.ls=this.ls.delete(t),this.ds=this.ds.delete(t)}Ts(t){const e=new xn(new Tr([])),i=new Dc(e,t),r=new Dc(e,t+1);let o=tr();return this.ds.forEachInRange([i,r],a=>{o=o.add(a.key)}),o}containsKey(t){const e=new Dc(t,0),i=this.ls.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Dc{constructor(t,e){this.key=t,this.Es=e}static fs(t,e){return xn.comparator(t.key,e.key)||Ui(t.Es,e.Es)}static _s(t,e){return Ui(t.Es,e.Es)||xn.comparator(t.key,e.key)}}class eY{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.As=1,this.Rs=new Rs(Dc.fs)}checkEmpty(t){return st.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.As;this.As++;const a=new W1(o,e,i,r);this.mutationQueue.push(a);for(const u of r)this.Rs=this.Rs.add(new Dc(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return st.resolve(a)}lookupMutationBatch(t,e){return st.resolve(this.vs(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Ps(e+1),o=r<0?0:r;return st.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Dc(e,0),r=new Dc(e,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],a=>{const u=this.vs(a.Es);o.push(u)}),st.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Rs(Ui);return e.forEach(r=>{const o=new Dc(r,0),a=new Dc(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,a],u=>{i=i.add(u.Es)})}),st.resolve(this.bs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;xn.isDocumentKey(o)||(o=o.child(""));const a=new Dc(new xn(o),0);let u=new Rs(Ui);return this.Rs.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(u=u.add(h.Es)),!0)},a),st.resolve(this.bs(u))}bs(t){const e=[];return t.forEach(i=>{const r=this.vs(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){ai(0===this.Vs(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return st.forEach(e.mutations,r=>{const o=new Dc(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Rs=i})}Dn(t){}containsKey(t,e){const i=new Dc(e,0),r=this.Rs.firstAfterOrEqual(i);return st.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return st.resolve()}Vs(t,e){return this.Ps(t)}Ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}vs(t){const e=this.Ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class tY{constructor(t){this.Ss=t,this.docs=new Ys(xn.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,a=this.Ss(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return st.resolve(i?i.document.mutableCopy():So.newInvalidDocument(e))}getEntries(t,e){let i=Qu();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():So.newInvalidDocument(r))}),st.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Qu();const a=e.path,u=new xn(a.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:_}}=h.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||hI(WL(_),i)<=0||(r.has(_.key)||lb(e,_))&&(o=o.insert(_.key,_.mutableCopy()))}return st.resolve(o)}getAllFromCollectionGroup(t,e,i,r){jn()}Ds(t,e){return st.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new nY(this)}getSize(t){return st.resolve(this.size)}}class nY extends vH{constructor(t){super(),this.rs=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.rs.addEntry(t,r)):this.rs.removeEntry(i)}),st.waitFor(e)}getFromCache(t,e){return this.rs.getEntry(t,e)}getAllFromCache(t,e){return this.rs.getEntries(t,e)}}class iY{constructor(t){this.persistence=t,this.Cs=new Gp(e=>Kv(e),V1),this.lastRemoteSnapshotVersion=oi.min(),this.highestTargetId=0,this.xs=0,this.Ns=new VN,this.targetCount=0,this.ks=_b.Nn()}forEachTarget(t,e){return this.Cs.forEach((i,r)=>e(r)),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.xs)}allocateTargetId(t){return this.highestTargetId=this.ks.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.xs&&(this.xs=e),st.resolve()}$n(t){this.Cs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ks=new _b(e),this.highestTargetId=e),t.sequenceNumber>this.xs&&(this.xs=t.sequenceNumber)}addTargetData(t,e){return this.$n(e),this.targetCount+=1,st.resolve()}updateTargetData(t,e){return this.$n(e),st.resolve()}removeTargetData(t,e){return this.Cs.delete(e.target),this.Ns.ps(e.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Cs.forEach((a,u)=>{u.sequenceNumber<=e&&null===i.get(u.targetId)&&(this.Cs.delete(a),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)}),st.waitFor(o).next(()=>r)}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,e){const i=this.Cs.get(e)||null;return st.resolve(i)}addMatchingKeys(t,e,i){return this.Ns.ws(e,i),st.resolve()}removeMatchingKeys(t,e,i){this.Ns.ys(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(a=>{o.push(r.markPotentiallyOrphaned(t,a))}),st.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Ns.ps(e),st.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ns.Ts(e);return st.resolve(i)}containsKey(t,e){return st.resolve(this.Ns.containsKey(e))}}class GN{constructor(t,e){this.Ms={},this.overlays={},this.Os=new Pu(0),this.$s=!1,this.$s=!0,this.referenceDelegate=t(this),this.Fs=new iY(this),this.indexManager=new G$,this.remoteDocumentCache=new tY(i=>this.referenceDelegate.Bs(i)),this.serializer=new DF(e),this.Ls=new J$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new X$,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Ms[t.toKey()];return i||(i=new eY(e,this.referenceDelegate),this.Ms[t.toKey()]=i),i}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(t,e,i){Xt("MemoryPersistence","Starting transaction:",t);const r=new rY(this.Os.next());return this.referenceDelegate.qs(),i(r).next(o=>this.referenceDelegate.Us(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ks(t,e){return st.or(Object.values(this.Ms).map(i=>()=>i.containsKey(t,e)))}}class rY extends fI{constructor(t){super(),this.currentSequenceNumber=t}}class OF{constructor(t){this.persistence=t,this.Gs=new VN,this.Qs=null}static js(t){return new OF(t)}get zs(){if(this.Qs)return this.Qs;throw jn()}addReference(t,e,i){return this.Gs.addReference(i,e),this.zs.delete(i.toString()),st.resolve()}removeReference(t,e,i){return this.Gs.removeReference(i,e),this.zs.add(i.toString()),st.resolve()}markPotentiallyOrphaned(t,e){return this.zs.add(e.toString()),st.resolve()}removeTarget(t,e){this.Gs.ps(e.targetId).forEach(r=>this.zs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.zs.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}qs(){this.Qs=new Set}Us(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.zs,i=>{const r=xn.fromPath(i);return this.Ws(t,r).next(o=>{o||e.removeEntry(r,oi.min())})}).next(()=>(this.Qs=null,e.apply(t)))}updateLimboDocument(t,e){return this.Ws(t,e).next(i=>{i?this.zs.delete(e.toString()):this.zs.add(e.toString())})}Bs(t){return 0}Ws(t,e){return st.or([()=>st.resolve(this.Gs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ks(t,e)])}}class sY{constructor(t){this.serializer=t}$(t,e,i,r){const o=new E1("createOrUpgrade",e);var u;i<1&&r>=1&&(t.createObjectStore("owner"),(u=t).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Gv,{unique:!0}),u.createObjectStore("documentMutations"),SH(t),function(u){u.createObjectStore("remoteDocuments")}(t));let a=st.resolve();return i<3&&r>=3&&(0!==i&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(t),SH(t)),a=a.next(()=>function(u){const h=u.store("targetGlobal"),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:oi.min().toTimestamp(),targetCount:0};return h.put("targetGlobalKey",f)}(o))),i<4&&r>=4&&(0!==i&&(a=a.next(()=>function(u,h){return h.store("mutations").j().next(f=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Gv,{unique:!0});const _=h.store("mutations"),C=f.map(F=>_.put(F));return st.waitFor(C)})}(t,o))),a=a.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(a=a.next(()=>this.Js(o))),i<6&&r>=6&&(a=a.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(t),this.Ys(o)))),i<7&&r>=7&&(a=a.next(()=>this.Xs(o))),i<8&&r>=8&&(a=a.next(()=>this.Zs(t,o))),i<9&&r>=9&&(a=a.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(a=a.next(()=>this.ti(o))),i<11&&r>=11&&(a=a.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(a=a.next(()=>{!function(u){const h=u.createObjectStore("documentOverlays",{keyPath:KB});h.createIndex("collectionPathOverlayIndex",mI,{unique:!1}),h.createIndex("collectionGroupOverlayIndex",ZB,{unique:!1})}(t)})),i<13&&r>=13&&(a=a.next(()=>function(u){const h=u.createObjectStore("remoteDocumentsV14",{keyPath:eN});h.createIndex("documentKeyIndex",B1),h.createIndex("collectionGroupIndex",Xw)}(t)).next(()=>this.ei(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(a=a.next(()=>this.ni(t,o))),i<15&&r>=15&&(a=a.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:M1}).createIndex("sequenceNumberIndex",rN,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:sN}).createIndex("documentKeyIndex",qB,{unique:!1})}(t))),a}Ys(t){let e=0;return t.store("remoteDocuments").X((i,r)=>{e+=MF(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Js(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.j().next(r=>st.forEach(r,o=>{const a=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",a).next(u=>st.forEach(u,h=>{ai(h.userId===o.userId);const f=r0(this.serializer,h);return AH(t,o.userId,f).next(()=>{})}))}))}Xs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((a,u)=>{const h=new Tr(a),f=[0,ac(h)];o.push(e.get(f).next(_=>_?st.resolve():e.put({targetId:0,path:ac(h),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>st.waitFor(o))})}Zs(t,e){t.createObjectStore("collectionParents",{keyPath:F1});const i=e.store("collectionParents"),r=new HN,o=a=>{if(r.add(a)){const u=a.lastSegment(),h=a.popLast();return i.put({collectionId:u,parent:ac(h)})}};return e.store("remoteDocuments").X({Y:!0},(a,u)=>{const h=new Tr(a);return o(h.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([a,u,h],f)=>{const _=pf(u);return o(_.popLast())}))}ti(t){const e=t.store("targets");return e.X((i,r)=>{const o=l(r),a=c(this.serializer,o);return e.put(a)})}ei(t,e){const i=e.store("remoteDocuments"),r=[];return i.X((o,a)=>{const u=e.store("remoteDocumentsV14"),h=(f=a,f.document?new xn(Tr.fromString(f.document.name).popFirst(5)):f.noDocument?xn.fromSegments(f.noDocument.path):f.unknownDocument?xn.fromSegments(f.unknownDocument.path):jn()).path.toArray();var f;const _={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};r.push(u.put(_))}).next(()=>st.waitFor(r))}ni(t,e){const i=e.store("mutations"),r=wH(this.serializer),o=new GN(OF.js,this.serializer.le);return i.j().next(a=>{const u=new Map;return a.forEach(h=>{var f;let _=null!==(f=u.get(h.userId))&&void 0!==f?f:tr();r0(this.serializer,h).keys().forEach(C=>_=_.add(C)),u.set(h.userId,_)}),st.forEach(u,(h,f)=>{const _=new Pl(f),C=j.fe(this.serializer,_),F=o.getIndexManager(_),B=kF.fe(_,this.serializer,F,o.referenceDelegate);return new EH(r,B,C,F).recalculateAndSaveOverlaysForDocumentKeys(new R1(e,Pu.ct),h).next()})})}}function SH(n){n.createObjectStore("targetDocuments",{keyPath:nN}).createIndex("documentTargetsIndex",iN,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",tN,{unique:!0}),n.createObjectStore("targetGlobal")}const jN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class zN{constructor(t,e,i,r,o,a,u,h,f,_,C=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.si=o,this.window=a,this.document=u,this.ii=f,this.ri=_,this.oi=C,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=F=>Promise.resolve(),!zN.D())throw new zt(pt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Z$(this,r),this.fi=e+"main",this.serializer=new DF(h),this.di=new mA(this.fi,this.oi,new sY(this.serializer)),this.Fs=new z$(this.referenceDelegate,this.serializer),this.remoteDocumentCache=wH(this.serializer),this.Ls=new T,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===_&&ba("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new zt(pt.FAILED_PRECONDITION,jN);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Fs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new Pu(t,this.ii)}).then(()=>{this.$s=!0}).catch(t=>(this.di&&this.di.close(),Promise.reject(t)))}pi(t){var e=this;return this.li=function(){var i=(0,bt.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.di.B(function(){var e=(0,bt.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.si.enqueueAndForget((0,bt.Z)(function*(){e.started&&(yield e.wi())})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>NF(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(t).next(e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(t)).next(e=>this.isPrimary&&!e?this.Ei(t).next(()=>!1):!!e&&this.Ai(t).next(()=>!0))).catch(t=>{if(Sm(t))return Xt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Xt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.si.enqueueRetryable(()=>this.li(t)),this.isPrimary=t})}Ii(t){return nD(t).get("owner").next(e=>st.resolve(this.Ri(e)))}vi(t){return NF(t).delete(this.clientId)}Pi(){var t=this;return(0,bt.Z)(function*(){if(t.isPrimary&&!t.bi(t.hi,18e5)){t.hi=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Za(i,"clientMetadata");return r.j().next(o=>{const a=t.Vi(o,18e5),u=o.filter(h=>-1===a.indexOf(h));return st.forEach(u,h=>r.delete(h.clientId)).next(()=>u)})}).catch(()=>[]);if(t._i)for(const i of e)t._i.removeItem(t.Si(i.clientId))}})()}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ti(t){return this.ri?st.resolve(!0):nD(t).get("owner").next(e=>{if(null!==e&&this.bi(e.leaseTimestampMs,5e3)&&!this.Di(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new zt(pt.FAILED_PRECONDITION,jN);return!1}}return!(!this.networkEnabled||!this.inForeground)||NF(t).j().next(i=>void 0===this.Vi(i,5e3).find(r=>{if(this.clientId!==r.clientId){const a=!this.inForeground&&r.inForeground,u=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||a&&u)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Xt("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,bt.Z)(function*(){t.$s=!1,t.Ci(),t.ai&&(t.ai.cancel(),t.ai=null),t.xi(),t.Ni(),yield t.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new R1(e,Pu.ct);return t.Ei(i).next(()=>t.vi(i))}),t.di.close(),t.ki()})()}Vi(t,e){return t.filter(i=>this.bi(i.updateTimeMs,e)&&!this.Di(i.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",t=>NF(t).j().next(e=>this.Vi(e,18e5).map(i=>i.clientId)))}get started(){return this.$s}getMutationQueue(t,e){return kF.fe(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new j$(t,this.serializer.le.databaseId)}getDocumentOverlayCache(t){return j.fe(this.serializer,t)}getBundleCache(){return this.Ls}runTransaction(t,e,i){Xt("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(a=this.oi)?_I:14===a?k1:13===a?aN:12===a?oN:11===a?$B:void jn();var a;let u;return this.di.runTransaction(t,r,o,h=>(u=new R1(h,this.Os?this.Os.next():Pu.ct),"readwrite-primary"===e?this.Ii(u).next(f=>!!f||this.Ti(u)).next(f=>{if(!f)throw ba(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new zt(pt.FAILED_PRECONDITION,AI);return i(u)}).next(f=>this.Ai(u).next(()=>f)):this.Oi(u).next(()=>i(u)))).then(h=>(u.raiseOnCommittedEvent(),h))}Oi(t){return nD(t).get("owner").next(e=>{if(null!==e&&this.bi(e.leaseTimestampMs,5e3)&&!this.Di(e.ownerId)&&!this.Ri(e)&&!(this.ri||this.allowTabSynchronization&&e.allowTabSynchronization))throw new zt(pt.FAILED_PRECONDITION,jN)})}Ai(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nD(t).put("owner",e)}static D(){return mA.D()}Ei(t){const e=nD(t);return e.get("owner").next(i=>this.Ri(i)?(Xt("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):st.resolve())}bi(t,e){const i=Date.now();return!(t<i-e||t>i&&(ba(`Detected an update time that is in the future: ${t} > ${i}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ui=()=>{this.Ci();const e=/(?:Version|Mobile)\/1[456]/;(0,ae.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(t){var e;try{const i=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Si(t)));return Xt("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ba("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(t){ba("Failed to set zombie client id.",t)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function nD(n){return Za(n,"owner")}function NF(n){return Za(n,"clientMetadata")}function qN(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class KN{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.$i=i,this.Fi=r}static Bi(t,e){let i=tr(),r=tr();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new KN(t,e.fromCache,i,r)}}class IH{constructor(){this.Li=!1}initialize(t,e){this.qi=t,this.indexManager=e,this.Li=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ui(t,e).next(o=>o||this.Ki(t,e,r,i)).next(o=>o||this.Gi(t,e))}Ui(t,e){if(FI(e))return st.resolve(null);let i=Ic(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=j1(e,null,"F"),i=Ic(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const a=tr(...o);return this.qi.getDocuments(t,a).next(u=>this.indexManager.getMinOffset(t,i).next(h=>{const f=this.Qi(e,u);return this.ji(e,f,a,h.readTime)?this.Ui(t,j1(e,null,"F")):this.zi(t,f,e,h)}))})))}Ki(t,e,i,r){return FI(e)||r.isEqual(oi.min())?this.Gi(t,e):this.qi.getDocuments(t,i).next(o=>{const a=this.Qi(e,o);return this.ji(e,a,i,r)?this.Gi(t,e):(aI()<=hf.in.DEBUG&&Xt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),$v(e)),this.zi(t,a,e,VB(r,-1)))})}Qi(t,e){let i=new Rs(gN(t));return e.forEach((r,o)=>{lb(t,o)&&(i=i.add(o))}),i}ji(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Gi(t,e){return aI()<=hf.in.DEBUG&&Xt("QueryEngine","Using full collection scan to execute query:",$v(e)),this.qi.getDocumentsMatchingQuery(t,e,Dd.min())}zi(t,e,i,r){return this.qi.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(a=>{o=o.insert(a.key,a)}),o))}}class oY{constructor(t,e,i,r){this.persistence=t,this.Wi=e,this.serializer=r,this.Hi=new Ys(Ui),this.Ji=new Gp(o=>Kv(o),V1),this.Yi=new Map,this.Xi=t.getRemoteDocumentCache(),this.Fs=t.getTargetCache(),this.Ls=t.getBundleCache(),this.Zi(i)}Zi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new EH(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Hi))}}function DH(n,t,e,i){return new oY(n,t,e,i)}function TH(n,t){return ZN.apply(this,arguments)}function ZN(){return ZN=(0,bt.Z)(function*(n,t){const e=Cn(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Zi(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const a=[],u=[];let h=tr();for(const f of r){a.push(f.batchId);for(const _ of f.mutations)h=h.add(_.key)}for(const f of o){u.push(f.batchId);for(const _ of f.mutations)h=h.add(_.key)}return e.localDocuments.getDocuments(i,h).next(f=>({tr:f,removedBatchIds:a,addedBatchIds:u}))})})}),ZN.apply(this,arguments)}function aY(n,t){const e=Cn(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Xi.newChangeBuffer({trackRemovals:!0});return function(a,u,h,f){const _=h.batch,C=_.keys();let F=st.resolve();return C.forEach(B=>{F=F.next(()=>f.getEntry(u,B)).next(U=>{const H=h.docVersions.get(B);ai(null!==H),U.version.compareTo(H)<0&&(_.applyToRemoteDocument(U,h),U.isValidDocument()&&(U.setReadTime(h.commitVersion),f.addEntry(U)))})}),F.next(()=>a.mutationQueue.removeMutationBatch(u,_))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let u=tr();for(let h=0;h<a.mutationResults.length;++h)a.mutationResults[h].transformResults.length>0&&(u=u.add(a.batch.mutations[h].key));return u}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function BH(n){const t=Cn(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Fs.getLastRemoteSnapshotVersion(e))}function lY(n,t){const e=Cn(n),i=t.snapshotVersion;let r=e.Hi;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=e.Xi.newChangeBuffer({trackRemovals:!0});r=e.Hi;const u=[];t.targetChanges.forEach((_,C)=>{const F=r.get(C);if(!F)return;u.push(e.Fs.removeMatchingKeys(o,_.removedDocuments,C).next(()=>e.Fs.addMatchingKeys(o,_.addedDocuments,C)));let B=F.withSequenceNumber(o.currentSequenceNumber);var U,H,Z;null!==t.targetMismatches.get(C)?B=B.withResumeToken($a.EMPTY_BYTE_STRING,oi.min()).withLastLimboFreeSnapshotVersion(oi.min()):_.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(_.resumeToken,i)),r=r.insert(C,B),H=B,Z=_,(0===(U=F).resumeToken.approximateByteSize()||H.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8||Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0)&&u.push(e.Fs.updateTargetData(o,B))});let h=Qu(),f=tr();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(o,_))}),u.push(FH(o,a,t.documentUpdates).next(_=>{h=_.er,f=_.nr})),!i.isEqual(oi.min())){const _=e.Fs.getLastRemoteSnapshotVersion(o).next(C=>e.Fs.setTargetsMetadata(o,o.currentSequenceNumber,i));u.push(_)}return st.waitFor(u).next(()=>a.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,h,f)).next(()=>h)}).then(o=>(e.Hi=r,o))}function FH(n,t,e){let i=tr(),r=tr();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let a=Qu();return e.forEach((u,h)=>{const f=o.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(u)),h.isNoDocument()&&h.version.isEqual(oi.min())?(t.removeEntry(u,h.readTime),a=a.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||0===h.version.compareTo(f.version)&&f.hasPendingWrites?(t.addEntry(h),a=a.insert(u,h)):Xt("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{er:a,nr:r}})}function cY(n,t){const e=Cn(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function ax(n,t){const e=Cn(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Fs.getTargetData(i,t).next(o=>o?(r=o,st.resolve(r)):e.Fs.allocateTargetId(i).next(a=>(r=new Om(t,a,"TargetPurposeListen",i.currentSequenceNumber),e.Fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Hi.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Hi=e.Hi.insert(i.targetId,i),e.Ji.set(t,i.targetId)),i})}function lx(n,t,e){return $N.apply(this,arguments)}function $N(){return $N=(0,bt.Z)(function*(n,t,e){const i=Cn(n),r=i.Hi.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!Sm(a))throw a;Xt("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}i.Hi=i.Hi.remove(t),i.Ji.delete(r.target)}),$N.apply(this,arguments)}function PF(n,t,e){const i=Cn(n);let r=oi.min(),o=tr();return i.persistence.runTransaction("Execute query","readonly",a=>function(u,h,f){const _=Cn(u),C=_.Ji.get(f);return void 0!==C?st.resolve(_.Hi.get(C)):_.Fs.getTargetData(h,f)}(i,a,Ic(t)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Fs.getMatchingKeysForTargetId(a,u.targetId).next(h=>{o=h})}).next(()=>i.Wi.getDocumentsMatchingQuery(a,t,e?r:oi.min(),e?o:tr())).next(u=>(RH(i,pN(t),u),{documents:u,sr:o})))}function MH(n,t){const e=Cn(n),i=Cn(e.Fs),r=e.Hi.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.he(o,t).next(a=>a?a.target:null))}function kH(n,t){const e=Cn(n),i=e.Yi.get(t)||oi.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Xi.getAllFromCollectionGroup(r,t,VB(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(RH(e,t,r),r))}function RH(n,t,e){let i=n.Yi.get(t)||oi.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Yi.set(t,i)}function YN(){return YN=(0,bt.Z)(function*(n,t,e,i){const r=Cn(n);let o=tr(),a=Qu();for(const f of e){const _=t.ir(f.metadata.name);f.document&&(o=o.add(_));const C=t.rr(f);C.setReadTime(t.ur(f.metadata.readTime)),a=a.insert(_,C)}const u=r.Xi.newChangeBuffer({trackRemovals:!0}),h=yield ax(r,(f=i,Ic(uy(Tr.fromString(`__bundle__/docs/${f}`)))));var f;return r.persistence.runTransaction("Apply bundle documents","readwrite",f=>FH(f,u,a).next(_=>(u.apply(f),_)).next(_=>r.Fs.removeMatchingKeysForTargetId(f,h.targetId).next(()=>r.Fs.addMatchingKeys(f,o,h.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(f,_.er,_.nr)).next(()=>_.er)))}),YN.apply(this,arguments)}function dY(n,t){return WN.apply(this,arguments)}function WN(){return WN=(0,bt.Z)(function*(n,t,e=tr()){const i=yield ax(n,Ic(d(t.bundledQuery))),r=Cn(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const a=Ya(t.readTime);if(i.snapshotVersion.compareTo(a)>=0)return r.Ls.saveNamedQuery(o,t);const u=i.withResumeToken($a.EMPTY_BYTE_STRING,a);return r.Hi=r.Hi.insert(u.targetId,u),r.Fs.updateTargetData(o,u).next(()=>r.Fs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Fs.addMatchingKeys(o,e,i.targetId)).next(()=>r.Ls.saveNamedQuery(o,t))})}),WN.apply(this,arguments)}function OH(n,t){return`firestore_clients_${n}_${t}`}function LH(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function JN(n,t){return`firestore_targets_${n}_${t}`}class UF{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static cr(t,e,i){const r=JSON.parse(i);let o,a="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(o=new zt(r.error.code,r.error.message))),a?new UF(t,e,r.state,o):(ba("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}ar(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class iD{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static cr(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new zt(i.error.code,i.error.message))),o?new iD(t,i.state,r):(ba("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}ar(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class QF{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static cr(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=Hu();for(let a=0;r&&a<i.activeTargetIds.length;++a)r=gI(i.activeTargetIds[a]),o=o.add(i.activeTargetIds[a]);return r?new QF(t,o):(ba("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class XN{constructor(t,e){this.clientId=t,this.onlineState=e}static cr(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new XN(e.clientId,e.onlineState):(ba("SharedClientState",`Failed to parse online state: ${t}`),null)}}class eP{constructor(){this.activeTargetIds=Hu()}hr(t){this.activeTargetIds=this.activeTargetIds.add(t)}lr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ar(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class tP{constructor(t,e,i,r,o){this.window=t,this.si=e,this.persistenceKey=i,this.dr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new Ys(Ui),this.started=!1,this.gr=[];const a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.yr=OH(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new eP),this.Ir=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.Ar=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,bt.Z)(function*(){const e=yield t.syncEngine.Mi();for(const r of e){if(r===t.dr)continue;const o=t.getItem(OH(t.persistenceKey,r));if(o){const a=QF.cr(r,o);a&&(t.mr=t.mr.insert(a.clientId,a))}}t.vr();const i=t.storage.getItem(t.Ar);if(i){const r=t.Pr(i);r&&t.br(r)}for(const r of t.gr)t.wr(r);t.gr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.pr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(t){let e=!1;return this.mr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Sr(t,"pending")}updateMutationState(t,e,i){this.Sr(t,e,i),this.Dr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(JN(this.persistenceKey,t));if(i){const r=iD.cr(t,i);r&&(e=r.state)}}return this.Cr.hr(t),this.vr(),e}removeLocalQueryTarget(t){this.Cr.lr(t),this.vr()}isLocalQueryTarget(t){return this.Cr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(JN(this.persistenceKey,t))}updateQueryState(t,e,i){this.Nr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Dr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.kr(t)}notifyBundleLoaded(t){this.Mr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Xt("SharedClientState","READ",t,e),e}setItem(t,e){Xt("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Xt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}wr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Xt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.yr)return void ba("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,bt.Z)(function*(){if(e.started){if(null!==i.key)if(e.Ir.test(i.key)){if(null==i.newValue){const r=e.Or(i.key);return e.$r(r,null)}{const r=e.Fr(i.key,i.newValue);if(r)return e.$r(r.clientId,r)}}else if(e.Tr.test(i.key)){if(null!==i.newValue){const r=e.Br(i.key,i.newValue);if(r)return e.Lr(r)}}else if(e.Er.test(i.key)){if(null!==i.newValue){const r=e.qr(i.key,i.newValue);if(r)return e.Ur(r)}}else if(i.key===e.Ar){if(null!==i.newValue){const r=e.Pr(i.newValue);if(r)return e.br(r)}}else if(i.key===e.pr){const r=function(o){let a=Pu.ct;if(null!=o)try{const u=JSON.parse(o);ai("number"==typeof u),a=u}catch(u){ba("SharedClientState","Failed to read sequence number from WebStorage",u)}return a}(i.newValue);r!==Pu.ct&&e.sequenceNumberHandler(r)}else if(i.key===e.Rr){const r=e.Kr(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Gr(o)))}}else e.gr.push(i)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(t,e,i){const r=new UF(this.currentUser,t,e,i),o=LH(this.persistenceKey,this.currentUser,t);this.setItem(o,r.ar())}Dr(t){const e=LH(this.persistenceKey,this.currentUser,t);this.removeItem(e)}kr(t){this.storage.setItem(this.Ar,JSON.stringify({clientId:this.dr,onlineState:t}))}Nr(t,e,i){const r=JN(this.persistenceKey,t),o=new iD(t,e,i);this.setItem(r,o.ar())}Mr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Ir.exec(t);return e?e[1]:null}Fr(t,e){const i=this.Or(t);return QF.cr(i,e)}Br(t,e){const i=this.Tr.exec(t),r=Number(i[1]);return UF.cr(new Pl(void 0!==i[2]?i[2]:null),r,e)}qr(t,e){const i=this.Er.exec(t),r=Number(i[1]);return iD.cr(r,e)}Pr(t){return XN.cr(t)}Kr(t){return JSON.parse(t)}Lr(t){var e=this;return(0,bt.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Qr(t.batchId,t.state,t.error);Xt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Ur(t){return this.syncEngine.jr(t.targetId,t.state,t.error)}$r(t,e){const i=e?this.mr.insert(t,e):this.mr.remove(t),r=this.Vr(this.mr),o=this.Vr(i),a=[],u=[];return o.forEach(h=>{r.has(h)||a.push(h)}),r.forEach(h=>{o.has(h)||u.push(h)}),this.syncEngine.zr(a,u).then(()=>{this.mr=i})}br(t){this.mr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Vr(t){let e=Hu();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class NH{constructor(){this.Wr=new eP,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Wr.hr(t),this.Hr[t]||"not-current"}updateQueryState(t,e,i){this.Hr[t]=e}removeLocalQueryTarget(t){this.Wr.lr(t)}isLocalQueryTarget(t){return this.Wr.activeTargetIds.has(t)}clearQueryState(t){delete this.Hr[t]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(t){return this.Wr.activeTargetIds.has(t)}start(){return this.Wr=new eP,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class hY{Jr(t){}shutdown(){}}class PH{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(t){this.no.push(t)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){Xt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.no)t(0)}eo(){Xt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.no)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let HF=null;function nP(){return null===HF?HF=268435456+Math.round(2147483648*Math.random()):HF++,"0x"+HF.toString(16)}const AY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fY{constructor(t){this.io=t.io,this.ro=t.ro}oo(t){this.uo=t}co(t){this.ao=t}onMessage(t){this.ho=t}close(){this.ro()}send(t){this.io(t)}lo(){this.uo()}fo(t){this.ao(t)}_o(t){this.ho(t)}}const Gu="WebChannelConnection";class pY extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.wo=(t.ssl?"https":"http")+"://"+t.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(t,e,i,r,o){const a=nP(),u=this.Io(t,e);Xt("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);const h={};return this.To(h,r,o),this.Eo(t,u,h,i).then(f=>(Xt("RestConnection",`Received RPC '${t}' ${a}: `,f),f),f=>{throw Ah("RestConnection",`RPC '${t}' ${a} failed with error: `,f,"url: ",u,"request:",i),f})}Ao(t,e,i,r,o,a){return this.po(t,e,i,r,o)}To(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Qv,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}Io(t,e){return`${this.wo}/v1/${e}:${AY[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}Eo(t,e,i,r){const o=nP();return new Promise((a,u)=>{const h=new zL;h.setWithCredentials(!0),h.listenOnce(VL.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case oI.NO_ERROR:const _=h.getResponseJson();Xt(Gu,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(_)),a(_);break;case oI.TIMEOUT:Xt(Gu,`RPC '${t}' ${o} timed out`),u(new zt(pt.DEADLINE_EXCEEDED,"Request time out"));break;case oI.HTTP_ERROR:const C=h.getStatus();if(Xt(Gu,`RPC '${t}' ${o} failed with status:`,C,"response text:",h.getResponseText()),C>0){let F=h.getResponseJson();Array.isArray(F)&&(F=F[0]);const B=F?.error;if(B&&B.status&&B.message){const U=function(H){const Z=H.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(Z)>=0?Z:pt.UNKNOWN}(B.status);u(new zt(U,B.message))}else u(new zt(pt.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new zt(pt.UNAVAILABLE,"Connection failed."));break;default:jn()}}finally{Xt(Gu,`RPC '${t}' ${o} completed.`)}});const f=JSON.stringify(r);Xt(Gu,`RPC '${t}' ${o} sending request:`,r),h.send(e,"POST",f,i,15)})}Ro(t,e,i){const r=nP(),o=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=FB(),u=MB(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new jL({})),this.To(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const f=o.join("");Xt(Gu,`Creating RPC '${t}' stream ${r}: ${f}`,h);const _=a.createWebChannel(f,h);let C=!1,F=!1;const B=new fY({io:H=>{F?Xt(Gu,`Not sending because RPC '${t}' stream ${r} is closed:`,H):(C||(Xt(Gu,`Opening RPC '${t}' stream ${r} transport.`),_.open(),C=!0),Xt(Gu,`RPC '${t}' stream ${r} sending:`,H),_.send(H))},ro:()=>_.close()}),U=(H,Z,q)=>{H.listen(Z,W=>{try{q(W)}catch(he){setTimeout(()=>{throw he},0)}})};return U(_,Zw.EventType.OPEN,()=>{F||Xt(Gu,`RPC '${t}' stream ${r} transport opened.`)}),U(_,Zw.EventType.CLOSE,()=>{F||(F=!0,Xt(Gu,`RPC '${t}' stream ${r} transport closed`),B.fo())}),U(_,Zw.EventType.ERROR,H=>{F||(F=!0,Ah(Gu,`RPC '${t}' stream ${r} transport errored:`,H),B.fo(new zt(pt.UNAVAILABLE,"The operation could not be completed")))}),U(_,Zw.EventType.MESSAGE,H=>{var Z;if(!F){const q=H.data[0];ai(!!q);const W=q,he=W.error||(null===(Z=W[0])||void 0===Z?void 0:Z.error);if(he){Xt(Gu,`RPC '${t}' stream ${r} received error:`,he);const xe=he.status;let Ze=function(Ve){const we=xa[Ve];if(void 0!==we)return mF(we)}(xe),ct=he.message;void 0===Ze&&(Ze=pt.INTERNAL,ct="Unknown error status: "+xe+" with message "+he.message),F=!0,B.fo(new zt(Ze,ct)),_.close()}else Xt(Gu,`RPC '${t}' stream ${r} received:`,q),B._o(q)}}),U(u,GL.STAT_EVENT,H=>{H.stat===v1.PROXY?Xt(Gu,`RPC '${t}' stream ${r} detected buffering proxy`):H.stat===v1.NOPROXY&&Xt(Gu,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{B.lo()},0),B}}function UH(){return typeof window<"u"?window:null}function VF(){return typeof document<"u"?document:null}function rD(n){return new SN(n,!0)}class iP{constructor(t,e,i=1e3,r=1.5,o=6e4){this.si=t,this.timerId=e,this.vo=i,this.Po=r,this.bo=o,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(t){this.cancel();const e=Math.floor(this.Vo+this.No()),i=Math.max(0,Date.now()-this.Do),r=Math.max(0,e-i);r>0&&Xt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Vo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Do=Date.now(),t())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class QH{constructor(t,e,i,r,o,a,u,h){this.si=t,this.Mo=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new iP(t,e)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var t=this;return(0,bt.Z)(function*(){t.qo()&&(yield t.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(t){this.Wo(),this.stream.send(t)}jo(){var t=this;return(0,bt.Z)(function*(){if(t.Uo())return t.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(t,e){var i=this;return(0,bt.Z)(function*(){i.Wo(),i.Ho(),i.Lo.cancel(),i.$o++,4!==t?i.Lo.reset():e&&e.code===pt.RESOURCE_EXHAUSTED?(ba(e.toString()),ba("Using maximum backoff delay to prevent overloading the backend."),i.Lo.Co()):e&&e.code===pt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Jo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.co(e)})()}Jo(){}auth(){this.state=1;const t=this.Yo(this.$o),e=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.$o===e&&this.Xo(i,r)},i=>{t(()=>{const r=new zt(pt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Zo(r)})})}Xo(t,e){const i=this.Yo(this.$o);this.stream=this.tu(t,e),this.stream.oo(()=>{i(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(r=>{i(()=>this.Zo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Ko(){var t=this;this.state=5,this.Lo.xo((0,bt.Z)(function*(){t.state=0,t.start()}))}Zo(t){return Xt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Yo(t){return e=>{this.si.enqueueAndForget(()=>this.$o===t?e():(Xt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gY extends QH{constructor(t,e,i,r,o,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,a),this.serializer=o}tu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.Lo.reset();const e=function TN(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(h=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===h?1:"REMOVE"===h?2:"CURRENT"===h?3:"RESET"===h?4:jn(),r=t.targetChange.targetIds||[],o=function(h,f){return h.useProto3Json?(ai(void 0===f||"string"==typeof f),$a.fromBase64String(f||"")):(ai(void 0===f||f instanceof Uint8Array),$a.fromUint8Array(f||new Uint8Array))}(n,t.targetChange.resumeToken),a=t.targetChange.cause,u=a&&function(h){const f=void 0===h.code?pt.UNKNOWN:mF(h.code);return new zt(f,h.message||"")}(a);e=new db(i,r,o,u||null)}else if("documentChange"in t){const i=t.documentChange,r=yf(n,i.document.name),o=Ya(i.document.updateTime),a=i.document.createTime?Ya(i.document.createTime):oi.min(),u=new Hl({mapValue:{fields:i.document.fields}}),h=So.newFoundDocument(r,o,a,u);e=new GI(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=yf(n,i.document),o=i.readTime?Ya(i.readTime):oi.min(),a=So.newNoDocument(r,o);e=new GI([],i.removedTargetIds||[],a.key,a)}else if("documentRemove"in t){const i=t.documentRemove,r=yf(n,i.document);e=new GI([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return jn();{const i=t.filter,{count:r=0,unchangedNames:o}=i,a=new tx(r,o);e=new bF(i.targetId,a)}}var h;return e}(this.serializer,t),i=function(r){if(!("targetChange"in r))return oi.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?oi.min():o.readTime?Ya(o.readTime):oi.min()}(t);return this.listener.eu(e,i)}nu(t){const e={};e.database=fb(this.serializer),e.addTarget=function(r,o){let a;const u=o.target;if(a=TI(u)?{documents:WI(r,u)}:{query:gb(r,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Ab(r,o.resumeToken);const h=hb(r,o.expectedCount);null!==h&&(a.expectedCount=h)}else if(o.snapshotVersion.compareTo(oi.min())>0){a.readTime=km(r,o.snapshotVersion.toTimestamp());const h=hb(r,o.expectedCount);null!==h&&(a.expectedCount=h)}return a}(this.serializer,t);const i=function BN(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return jn()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.zo(e)}su(t){const e={};e.database=fb(this.serializer),e.removeTarget=t,this.zo(e)}}class mY extends QH{constructor(t,e,i,r,o,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,a),this.serializer=o,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(ai(!!t.streamToken),this.lastStreamToken=t.streamToken,this.iu){this.Lo.reset();const e=function iH(n,t){return n&&n.length>0?(ai(void 0!==t),n.map(e=>function(i,r){let o=Ya(i.updateTime?i.updateTime:r);return o.isEqual(oi.min())&&(o=Ya(r)),new zp(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Ya(t.commitTime);return this.listener.uu(i,e)}return ai(!t.writeResults||0===t.writeResults.length),this.iu=!0,this.listener.cu()}au(){const t={};t.database=fb(this.serializer),this.zo(t)}ou(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>e0(this.serializer,i))};this.zo(e)}}class _Y extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.hu=!1}lu(){if(this.hu)throw new zt(pt.FAILED_PRECONDITION,"The client has already been terminated.")}po(t,e,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.po(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new zt(pt.UNKNOWN,r.toString())})}Ao(t,e,i,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ao(t,e,i,o,a,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new zt(pt.UNKNOWN,o.toString())})}terminate(){this.hu=!0}}class vY{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(t){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.gu("Offline")))}set(t){this.Iu(),this.du=0,"Online"===t&&(this.wu=!1),this.gu(t)}gu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}yu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(ba(e),this.wu=!1):Xt("OnlineStateTracker",e)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class wY{constructor(t,e,i,r,o){var a=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=o,this.vu.Jr(u=>{i.enqueueAndForget((0,bt.Z)(function*(){var h;a0(a)&&(Xt("RemoteStore","Restarting streams for network reachability change."),yield(h=(0,bt.Z)(function*(f){const _=Cn(f);_.Au.add(4),yield cx(_),_.Pu.set("Unknown"),_.Au.delete(4),yield sD(_)}),function(f){return h.apply(this,arguments)})(a))}))}),this.Pu=new vY(i,r)}}function sD(n){return sP.apply(this,arguments)}function sP(){return sP=(0,bt.Z)(function*(n){if(a0(n))for(const t of n.Ru)yield t(!0)}),sP.apply(this,arguments)}function cx(n){return oP.apply(this,arguments)}function oP(){return oP=(0,bt.Z)(function*(n){for(const t of n.Ru)yield t(!1)}),oP.apply(this,arguments)}function GF(n,t){const e=Cn(n);e.Eu.has(t.targetId)||(e.Eu.set(t.targetId,t),cP(e)?lP(e):dx(e).Uo()&&aP(e,t))}function oD(n,t){const e=Cn(n),i=dx(e);e.Eu.delete(t),i.Uo()&&HH(e,t),0===e.Eu.size&&(i.Uo()?i.Qo():a0(e)&&e.Pu.set("Unknown"))}function aP(n,t){if(n.bu.Lt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(oi.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}dx(n).nu(t)}function HH(n,t){n.bu.Lt(t),dx(n).su(t)}function lP(n){n.bu=new EN({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),he:t=>n.Eu.get(t)||null,oe:()=>n.datastore.serializer.databaseId}),dx(n).start(),n.Pu.mu()}function cP(n){return a0(n)&&!dx(n).qo()&&n.Eu.size>0}function a0(n){return 0===Cn(n).Au.size}function VH(n){n.bu=void 0}function bY(n){return uP.apply(this,arguments)}function uP(){return uP=(0,bt.Z)(function*(n){n.Eu.forEach((t,e)=>{aP(n,t)})}),uP.apply(this,arguments)}function CY(n,t){return dP.apply(this,arguments)}function dP(){return dP=(0,bt.Z)(function*(n,t){VH(n),cP(n)?(n.Pu.pu(t),lP(n)):n.Pu.set("Unknown")}),dP.apply(this,arguments)}function xY(n,t,e){return hP.apply(this,arguments)}function hP(){return hP=(0,bt.Z)(function*(n,t,e){if(n.Pu.set("Online"),t instanceof db&&2===t.state&&t.cause)try{yield(i=(0,bt.Z)(function*(r,o){const a=o.cause;for(const u of o.targetIds)r.Eu.has(u)&&(yield r.remoteSyncer.rejectListen(u,a),r.Eu.delete(u),r.bu.removeTarget(u))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){Xt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield jF(n,i)}else if(t instanceof GI?n.bu.Wt(t):t instanceof bF?n.bu.ee(t):n.bu.Yt(t),!e.isEqual(oi.min()))try{const i=yield BH(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const a=r.bu.ue(o);return a.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=r.Eu.get(h);f&&r.Eu.set(h,f.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,h)=>{const f=r.Eu.get(u);if(!f)return;r.Eu.set(u,f.withResumeToken($a.EMPTY_BYTE_STRING,f.snapshotVersion)),HH(r,u);const _=new Om(f.target,u,h,f.sequenceNumber);aP(r,_)}),r.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){Xt("RemoteStore","Failed to raise snapshot:",i),yield jF(n,i)}var i}),hP.apply(this,arguments)}function jF(n,t,e){return AP.apply(this,arguments)}function AP(){return AP=(0,bt.Z)(function*(n,t,e){if(!Sm(t))throw t;n.Au.add(1),yield cx(n),n.Pu.set("Offline"),e||(e=()=>BH(n.localStore)),n.asyncQueue.enqueueRetryable((0,bt.Z)(function*(){Xt("RemoteStore","Retrying IndexedDB access"),yield e(),n.Au.delete(1),yield sD(n)}))}),AP.apply(this,arguments)}function GH(n,t){return t().catch(e=>jF(n,e,t))}function ux(n){return fP.apply(this,arguments)}function fP(){return fP=(0,bt.Z)(function*(n){const t=Cn(n),e=l0(t);let i=t.Tu.length>0?t.Tu[t.Tu.length-1].batchId:-1;for(;EY(t);)try{const r=yield cY(t.localStore,i);if(null===r){0===t.Tu.length&&e.Qo();break}i=r.batchId,SY(t,r)}catch(r){yield jF(t,r)}jH(t)&&zH(t)}),fP.apply(this,arguments)}function EY(n){return a0(n)&&n.Tu.length<10}function SY(n,t){n.Tu.push(t);const e=l0(n);e.Uo()&&e.ru&&e.ou(t.mutations)}function jH(n){return a0(n)&&!l0(n).qo()&&n.Tu.length>0}function zH(n){l0(n).start()}function IY(n){return pP.apply(this,arguments)}function pP(){return pP=(0,bt.Z)(function*(n){l0(n).au()}),pP.apply(this,arguments)}function DY(n){return gP.apply(this,arguments)}function gP(){return gP=(0,bt.Z)(function*(n){const t=l0(n);for(const e of n.Tu)t.ou(e.mutations)}),gP.apply(this,arguments)}function TY(n,t,e){return mP.apply(this,arguments)}function mP(){return mP=(0,bt.Z)(function*(n,t,e){const i=n.Tu.shift(),r=J1.from(i,t,e);yield GH(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield ux(n)}),mP.apply(this,arguments)}function BY(n,t){return _P.apply(this,arguments)}function _P(){return _P=(0,bt.Z)(function*(n,t){var e;t&&l0(n).ru&&(yield(e=(0,bt.Z)(function*(i,r){if(gF(o=r.code)&&o!==pt.ABORTED){const a=i.Tu.shift();l0(i).Go(),yield GH(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),yield ux(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),jH(n)&&zH(n)}),_P.apply(this,arguments)}function qH(n,t){return yP.apply(this,arguments)}function yP(){return yP=(0,bt.Z)(function*(n,t){const e=Cn(n);e.asyncQueue.verifyOperationInProgress(),Xt("RemoteStore","RemoteStore received new credentials");const i=a0(e);e.Au.add(3),yield cx(e),i&&e.Pu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.Au.delete(3),yield sD(e)}),yP.apply(this,arguments)}function vP(n,t){return wP.apply(this,arguments)}function wP(){return wP=(0,bt.Z)(function*(n,t){const e=Cn(n);t?(e.Au.delete(2),yield sD(e)):t||(e.Au.add(2),yield cx(e),e.Pu.set("Unknown"))}),wP.apply(this,arguments)}function dx(n){return n.Vu||(n.Vu=function(t,e,i){const r=Cn(t);return r.lu(),new gY(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{oo:bY.bind(null,n),co:CY.bind(null,n),eu:xY.bind(null,n)}),n.Ru.push(function(){var t=(0,bt.Z)(function*(e){e?(n.Vu.Go(),cP(n)?lP(n):n.Pu.set("Unknown")):(yield n.Vu.stop(),VH(n))});return function(e){return t.apply(this,arguments)}}())),n.Vu}function l0(n){return n.Su||(n.Su=function(t,e,i){const r=Cn(t);return r.lu(),new mY(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{oo:IY.bind(null,n),co:BY.bind(null,n),cu:DY.bind(null,n),uu:TY.bind(null,n)}),n.Ru.push(function(){var t=(0,bt.Z)(function*(e){e?(n.Su.Go(),yield ux(n)):(yield n.Su.stop(),n.Tu.length>0&&(Xt("RemoteStore",`Stopping write stream with ${n.Tu.length} pending writes`),n.Tu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Su}class bP{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(t,e,i,r,o){const a=Date.now()+i,u=new bP(t,e,a,r,o);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new zt(pt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hx(n,t){if(ba("AsyncQueue",`${t}: ${n}`),Sm(n))return new zt(pt.UNAVAILABLE,`${t}: ${n}`);throw n}class Ax{constructor(t){this.comparator=t?(e,i)=>t(e,i)||xn.comparator(e.key,i.key):(e,i)=>xn.comparator(e.key,i.key),this.keyedMap=cb(),this.sortedSet=new Ys(this.comparator)}static emptySet(t){return new Ax(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ax)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Ax;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class KH{constructor(){this.Du=new Ys(xn.comparator)}track(t){const e=t.doc.key,i=this.Du.get(e);i?0!==t.type&&3===i.type?this.Du=this.Du.insert(e,t):3===t.type&&1!==i.type?this.Du=this.Du.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Du=this.Du.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Du=this.Du.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Du=this.Du.remove(e):1===t.type&&2===i.type?this.Du=this.Du.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Du=this.Du.insert(e,{type:2,doc:t.doc}):jn():this.Du=this.Du.insert(e,t)}Cu(){const t=[];return this.Du.inorderTraversal((e,i)=>{t.push(i)}),t}}class fx{constructor(t,e,i,r,o,a,u,h,f){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(t,e,i,r,o){const a=[];return e.forEach(u=>{a.push({type:0,doc:u})}),new fx(t,e,Ax.emptySet(e),a,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ab(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class FY{constructor(){this.xu=void 0,this.listeners=[]}}class MY{constructor(){this.queries=new Gp(t=>uF(t),ab),this.onlineState="Unknown",this.Nu=new Set}}function CP(n,t){return xP.apply(this,arguments)}function xP(){return xP=(0,bt.Z)(function*(n,t){const e=Cn(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new FY),r)try{o.xu=yield e.onListen(i)}catch(a){const u=hx(a,`Initialization of query '${$v(t.query)}' failed`);return void t.onError(u)}e.queries.set(i,o),o.listeners.push(t),t.ku(e.onlineState),o.xu&&t.Mu(o.xu)&&IP(e)}),xP.apply(this,arguments)}function EP(n,t){return SP.apply(this,arguments)}function SP(){return SP=(0,bt.Z)(function*(n,t){const e=Cn(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const a=o.listeners.indexOf(t);a>=0&&(o.listeners.splice(a,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),SP.apply(this,arguments)}function kY(n,t){const e=Cn(n);let i=!1;for(const r of t){const a=e.queries.get(r.query);if(a){for(const u of a.listeners)u.Mu(r)&&(i=!0);a.xu=r}}i&&IP(e)}function RY(n,t,e){const i=Cn(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function IP(n){n.Nu.forEach(t=>{t.next()})}class DP{constructor(t,e,i){this.query=t,this.Ou=e,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=i||{}}Mu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new fx(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.$u?this.Bu(t)&&(this.Ou.next(t),e=!0):this.Lu(t,this.onlineState)&&(this.qu(t),e=!0),this.Fu=t,e}onError(t){this.Ou.error(t)}ku(t){this.onlineState=t;let e=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,t)&&(this.qu(this.Fu),e=!0),e}Lu(t,e){return!t.fromCache||(!this.options.Uu||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Bu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(t){t=fx.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.$u=!0,this.Ou.next(t)}}class OY{constructor(t,e){this.Ku=t,this.byteLength=e}Gu(){return"metadata"in this.Ku}}class ZH{constructor(t){this.serializer=t}ir(t){return yf(this.serializer,t)}rr(t){return t.metadata.exists?YI(this.serializer,t.document,!1):So.newNoDocument(this.ir(t.metadata.name),this.ur(t.metadata.readTime))}ur(t){return Ya(t)}}class LY{constructor(t,e,i){this.Qu=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=$H(t)}ju(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Ku.namedQuery)this.queries.push(t.Ku.namedQuery);else if(t.Ku.documentMetadata){this.documents.push({metadata:t.Ku.documentMetadata}),t.Ku.documentMetadata.exists||++e;const i=Tr.fromString(t.Ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Ku.document&&(this.documents[this.documents.length-1].document=t.Ku.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}zu(t){const e=new Map,i=new ZH(this.serializer);for(const r of t)if(r.metadata.queries){const o=i.ir(r.metadata.name);for(const a of r.metadata.queries){const u=(e.get(a)||tr()).add(o);e.set(a,u)}}return e}complete(){var t=this;return(0,bt.Z)(function*(){const e=yield function uY(n,t,e,i){return YN.apply(this,arguments)}(t.localStore,new ZH(t.serializer),t.documents,t.Qu.id),i=t.zu(t.documents);for(const r of t.queries)yield dY(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Wu:t.collectionGroups,Hu:e}})()}}function $H(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class YH{constructor(t){this.key=t}}class WH{constructor(t){this.key=t}}class JH{constructor(t,e){this.query=t,this.Ju=e,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=tr(),this.mutatedKeys=tr(),this.Zu=gN(t),this.tc=new Ax(this.Zu)}get ec(){return this.Ju}nc(t,e){const i=e?e.sc:new KH,r=e?e.tc:this.tc;let o=e?e.mutatedKeys:this.mutatedKeys,a=r,u=!1;const h="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,f="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((_,C)=>{const F=r.get(_),B=lb(this.query,C)?C:null,U=!!F&&this.mutatedKeys.has(F.key),H=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Z=!1;F&&B?F.data.isEqual(B.data)?U!==H&&(i.track({type:3,doc:B}),Z=!0):this.ic(F,B)||(i.track({type:2,doc:B}),Z=!0,(h&&this.Zu(B,h)>0||f&&this.Zu(B,f)<0)&&(u=!0)):!F&&B?(i.track({type:0,doc:B}),Z=!0):F&&!B&&(i.track({type:1,doc:F}),Z=!0,(h||f)&&(u=!0)),Z&&(B?(a=a.add(B),o=H?o.add(_):o.delete(_)):(a=a.delete(_),o=o.delete(_)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const _="F"===this.query.limitType?a.last():a.first();a=a.delete(_.key),o=o.delete(_.key),i.track({type:1,doc:_})}return{tc:a,sc:i,ji:u,mutatedKeys:o}}ic(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.tc;this.tc=t.tc,this.mutatedKeys=t.mutatedKeys;const o=t.sc.Cu();o.sort((f,_)=>function(C,F){const B=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jn()}};return B(C)-B(F)}(f.type,_.type)||this.Zu(f.doc,_.doc)),this.rc(i);const a=e?this.oc():[],u=0===this.Xu.size&&this.current?1:0,h=u!==this.Yu;return this.Yu=u,0!==o.length||h?{snapshot:new fx(this.query,t.tc,r,o,t.mutatedKeys,0===u,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),uc:a}:{uc:a}}ku(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({tc:this.tc,sc:new KH,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(t){return!this.Ju.has(t)&&!!this.tc.has(t)&&!this.tc.get(t).hasLocalMutations}rc(t){t&&(t.addedDocuments.forEach(e=>this.Ju=this.Ju.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ju=this.Ju.delete(e)),this.current=t.current)}oc(){if(!this.current)return[];const t=this.Xu;this.Xu=tr(),this.tc.forEach(i=>{this.cc(i.key)&&(this.Xu=this.Xu.add(i.key))});const e=[];return t.forEach(i=>{this.Xu.has(i)||e.push(new WH(i))}),this.Xu.forEach(i=>{t.has(i)||e.push(new YH(i))}),e}ac(t){this.Ju=t.sr,this.Xu=tr();const e=this.nc(t.documents);return this.applyChanges(e,!0)}hc(){return fx.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class NY{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class PY{constructor(t){this.key=t,this.lc=!1}}class UY{constructor(t,e,i,r,o,a){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.fc={},this.dc=new Gp(u=>uF(u),ab),this._c=new Map,this.wc=new Set,this.mc=new Ys(xn.comparator),this.gc=new Map,this.yc=new VN,this.Ic={},this.Tc=new Map,this.Ec=_b.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function QY(n,t){return TP.apply(this,arguments)}function TP(){return TP=(0,bt.Z)(function*(n,t){const e=JP(n);let i,r;const o=e.dc.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.hc();else{const a=yield ax(e.localStore,Ic(t)),u=e.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=yield BP(e,t,i,"current"===u,a.resumeToken),e.isPrimaryClient&&GF(e.remoteStore,a)}return r}),TP.apply(this,arguments)}function BP(n,t,e,i,r){return FP.apply(this,arguments)}function FP(){return FP=(0,bt.Z)(function*(n,t,e,i,r){n.Rc=(C,F,B)=>{return(U=(0,bt.Z)(function*(H,Z,q,W){let he=Z.view.nc(q);he.ji&&(he=yield PF(H.localStore,Z.query,!1).then(({documents:ct})=>Z.view.nc(ct,he)));const xe=W&&W.targetChanges.get(Z.targetId),Ze=Z.view.applyChanges(he,H.isPrimaryClient,xe);return HP(H,Z.targetId,Ze.uc),Ze.snapshot}),function(H,Z,q,W){return U.apply(this,arguments)})(n,C,F,B);var U};const o=yield PF(n.localStore,t,!0),a=new JH(t,o.sr),u=a.nc(o.documents),h=rx.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),f=a.applyChanges(u,n.isPrimaryClient,h);HP(n,e,f.uc);const _=new NY(t,e,a);return n.dc.set(t,_),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),f.snapshot}),FP.apply(this,arguments)}function HY(n,t){return MP.apply(this,arguments)}function MP(){return MP=(0,bt.Z)(function*(n,t){const e=Cn(n),i=e.dc.get(t),r=e._c.get(i.targetId);if(r.length>1)return e._c.set(i.targetId,r.filter(o=>!ab(o,t))),void e.dc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield lx(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),oD(e.remoteStore,i.targetId),px(e,i.targetId)}).catch(Em))):(px(e,i.targetId),yield lx(e.localStore,i.targetId,!0))}),MP.apply(this,arguments)}function kP(){return kP=(0,bt.Z)(function*(n,t,e){const i=XP(n);try{const r=yield function(o,a){const u=Cn(o),h=lo.now(),f=a.reduce((F,B)=>F.add(B.key),tr());let _,C;return u.persistence.runTransaction("Locally write mutations","readwrite",F=>{let B=Qu(),U=tr();return u.Xi.getEntries(F,f).next(H=>{B=H,B.forEach((Z,q)=>{q.isValidDocument()||(U=U.add(Z))})}).next(()=>u.localDocuments.getOverlayedDocuments(F,B)).next(H=>{_=H;const Z=[];for(const q of a){const W=pF(q,_.get(q.key).overlayedDocument);null!=W&&Z.push(new qp(q.key,W,U1(W.value.mapValue),Io.exists(!0)))}return u.mutationQueue.addMutationBatch(F,h,Z,a)}).next(H=>{C=H;const Z=H.applyToLocalDocumentSet(_,U);return u.documentOverlayCache.saveOverlays(F,H.batchId,Z)})}).then(()=>({batchId:C.batchId,changes:MI(_)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,u){let h=o.Ic[o.currentUser.toKey()];h||(h=new Ys(Ui)),h=h.insert(a,u),o.Ic[o.currentUser.toKey()]=h}(i,r.batchId,e),yield py(i,r.changes),yield ux(i.remoteStore)}catch(r){const o=hx(r,"Failed to persist write");e.reject(o)}}),kP.apply(this,arguments)}function XH(n,t){return RP.apply(this,arguments)}function RP(){return RP=(0,bt.Z)(function*(n,t){const e=Cn(n);try{const i=yield lY(e.localStore,t);t.targetChanges.forEach((r,o)=>{const a=e.gc.get(o);a&&(ai(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.lc=!0:r.modifiedDocuments.size>0?ai(a.lc):r.removedDocuments.size>0&&(ai(a.lc),a.lc=!1))}),yield py(e,i,t)}catch(i){yield Em(i)}}),RP.apply(this,arguments)}function eV(n,t,e){const i=Cn(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.dc.forEach((o,a)=>{const u=a.view.ku(t);u.snapshot&&r.push(u.snapshot)}),function(o,a){const u=Cn(o);u.onlineState=a;let h=!1;u.queries.forEach((f,_)=>{for(const C of _.listeners)C.ku(a)&&(h=!0)}),h&&IP(u)}(i.eventManager,t),r.length&&i.fc.eu(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function GY(n,t,e){return OP.apply(this,arguments)}function OP(){return OP=(0,bt.Z)(function*(n,t,e){const i=Cn(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.gc.get(t),o=r&&r.key;if(o){let a=new Ys(xn.comparator);a=a.insert(o,So.newNoDocument(o,oi.min()));const u=tr().add(o),h=new ix(oi.min(),new Map,new Ys(Ui),a,u);yield XH(i,h),i.mc=i.mc.remove(o),i.gc.delete(t),VP(i)}else yield lx(i.localStore,t,!1).then(()=>px(i,t,e)).catch(Em)}),OP.apply(this,arguments)}function jY(n,t){return LP.apply(this,arguments)}function LP(){return LP=(0,bt.Z)(function*(n,t){const e=Cn(n),i=t.batch.batchId;try{const r=yield aY(e.localStore,t);QP(e,i,null),UP(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield py(e,r)}catch(r){yield Em(r)}}),LP.apply(this,arguments)}function zY(n,t,e){return NP.apply(this,arguments)}function NP(){return NP=(0,bt.Z)(function*(n,t,e){const i=Cn(n);try{const r=yield function(o,a){const u=Cn(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return u.mutationQueue.lookupMutationBatch(h,a).next(_=>(ai(null!==_),f=_.keys(),u.mutationQueue.removeMutationBatch(h,_))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>u.localDocuments.getDocuments(h,f))})}(i.localStore,t);QP(i,t,e),UP(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield py(i,r)}catch(r){yield Em(r)}}),NP.apply(this,arguments)}function PP(){return PP=(0,bt.Z)(function*(n,t){const e=Cn(n);a0(e.remoteStore)||Xt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const a=Cn(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.mutationQueue.getHighestUnacknowledgedBatchId(u))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Tc.get(i)||[];r.push(t),e.Tc.set(i,r)}catch(i){const r=hx(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),PP.apply(this,arguments)}function UP(n,t){(n.Tc.get(t)||[]).forEach(e=>{e.resolve()}),n.Tc.delete(t)}function QP(n,t,e){const i=Cn(n);let r=i.Ic[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Ic[i.currentUser.toKey()]=r}}function px(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n._c.get(t))n.dc.delete(i),e&&n.fc.vc(i,e);n._c.delete(t),n.isPrimaryClient&&n.yc.ps(t).forEach(i=>{n.yc.containsKey(i)||tV(n,i)})}function tV(n,t){n.wc.delete(t.path.canonicalString());const e=n.mc.get(t);null!==e&&(oD(n.remoteStore,e),n.mc=n.mc.remove(t),n.gc.delete(e),VP(n))}function HP(n,t,e){for(const i of e)i instanceof YH?(n.yc.addReference(i.key,t),KY(n,i)):i instanceof WH?(Xt("SyncEngine","Document no longer in limbo: "+i.key),n.yc.removeReference(i.key,t),n.yc.containsKey(i.key)||tV(n,i.key)):jn()}function KY(n,t){const e=t.key,i=e.path.canonicalString();n.mc.get(e)||n.wc.has(i)||(Xt("SyncEngine","New document in limbo: "+e),n.wc.add(i),VP(n))}function VP(n){for(;n.wc.size>0&&n.mc.size<n.maxConcurrentLimboResolutions;){const t=n.wc.values().next().value;n.wc.delete(t);const e=new xn(Tr.fromString(t)),i=n.Ec.next();n.gc.set(i,new PY(e)),n.mc=n.mc.insert(e,i),GF(n.remoteStore,new Om(Ic(uy(e.path)),i,"TargetPurposeLimboResolution",Pu.ct))}}function py(n,t,e){return GP.apply(this,arguments)}function GP(){return GP=(0,bt.Z)(function*(n,t,e){const i=Cn(n),r=[],o=[],a=[];var u;i.dc.isEmpty()||(i.dc.forEach((u,h)=>{a.push(i.Rc(h,t,e).then(f=>{if((f||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(h.targetId,f?.fromCache?"not-current":"current"),f){r.push(f);const _=KN.Bi(h.targetId,f);o.push(_)}}))}),yield Promise.all(a),i.fc.eu(r),yield(u=(0,bt.Z)(function*(h,f){const _=Cn(h);try{yield _.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>st.forEach(f,F=>st.forEach(F.$i,B=>_.persistence.referenceDelegate.addReference(C,F.targetId,B)).next(()=>st.forEach(F.Fi,B=>_.persistence.referenceDelegate.removeReference(C,F.targetId,B)))))}catch(C){if(!Sm(C))throw C;Xt("LocalStore","Failed to update sequence numbers: "+C)}for(const C of f){const F=C.targetId;if(!C.fromCache){const B=_.Hi.get(F),H=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);_.Hi=_.Hi.insert(F,H)}}}),function(h,f){return u.apply(this,arguments)})(i.localStore,o))}),GP.apply(this,arguments)}function ZY(n,t){return jP.apply(this,arguments)}function jP(){return jP=(0,bt.Z)(function*(n,t){const e=Cn(n);if(!e.currentUser.isEqual(t)){Xt("SyncEngine","User change. New user:",t.toKey());const i=yield TH(e.localStore,t);e.currentUser=t,(r=e).Tc.forEach(a=>{a.forEach(u=>{u.reject(new zt(pt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Tc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield py(e,i.tr)}var r}),jP.apply(this,arguments)}function $Y(n,t){const e=Cn(n),i=e.gc.get(t);if(i&&i.lc)return tr().add(i.key);{let r=tr();const o=e._c.get(t);if(!o)return r;for(const a of o){const u=e.dc.get(a);r=r.unionWith(u.view.ec)}return r}}function YY(n,t){return zP.apply(this,arguments)}function zP(){return zP=(0,bt.Z)(function*(n,t){const e=Cn(n),i=yield PF(e.localStore,t.query,!0),r=t.view.ac(i);return e.isPrimaryClient&&HP(e,t.targetId,r.uc),r}),zP.apply(this,arguments)}function WY(n,t){return qP.apply(this,arguments)}function qP(){return qP=(0,bt.Z)(function*(n,t){const e=Cn(n);return kH(e.localStore,t).then(i=>py(e,i))}),qP.apply(this,arguments)}function JY(n,t,e,i){return KP.apply(this,arguments)}function KP(){return KP=(0,bt.Z)(function*(n,t,e,i){const r=Cn(n),o=yield function(a,u){const h=Cn(a),f=Cn(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",_=>f.Vn(_,u).next(C=>C?h.localDocuments.getDocuments(_,C):st.resolve(null)))}(r.localStore,t);var u;null!==o?("pending"===e?yield ux(r.remoteStore):"acknowledged"===e||"rejected"===e?(QP(r,t,i||null),UP(r,t),u=t,Cn(Cn(r.localStore).mutationQueue).Dn(u)):jn(),yield py(r,o)):Xt("SyncEngine","Cannot apply mutation batch with id: "+t)}),KP.apply(this,arguments)}function ZP(){return ZP=(0,bt.Z)(function*(n,t){const e=Cn(n);if(JP(e),XP(e),!0===t&&!0!==e.Ac){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield nV(e,i.toArray());e.Ac=!0,yield vP(e.remoteStore,!0);for(const o of r)GF(e.remoteStore,o)}else if(!1===t&&!1!==e.Ac){const i=[];let r=Promise.resolve();e._c.forEach((o,a)=>{e.sharedClientState.isLocalQueryTarget(a)?i.push(a):r=r.then(()=>(px(e,a),lx(e.localStore,a,!0))),oD(e.remoteStore,a)}),yield r,yield nV(e,i),function(o){const a=Cn(o);a.gc.forEach((u,h)=>{oD(a.remoteStore,h)}),a.yc.Is(),a.gc=new Map,a.mc=new Ys(xn.comparator)}(e),e.Ac=!1,yield vP(e.remoteStore,!1)}}),ZP.apply(this,arguments)}function nV(n,t,e){return $P.apply(this,arguments)}function $P(){return $P=(0,bt.Z)(function*(n,t,e){const i=Cn(n),r=[],o=[];for(const a of t){let u;const h=i._c.get(a);if(h&&0!==h.length){u=yield ax(i.localStore,Ic(h[0]));for(const f of h){const _=i.dc.get(f),C=yield YY(i,_);C.snapshot&&o.push(C.snapshot)}}else{const f=yield MH(i.localStore,a);u=yield ax(i.localStore,f),yield BP(i,iV(f),a,!1,u.resumeToken)}r.push(u)}return i.fc.eu(o),r}),$P.apply(this,arguments)}function iV(n){return ob(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function eW(n){const t=Cn(n);return Cn(Cn(t.localStore).persistence).Mi()}function tW(n,t,e,i){return YP.apply(this,arguments)}function YP(){return YP=(0,bt.Z)(function*(n,t,e,i){const r=Cn(n);if(r.Ac)return void Xt("SyncEngine","Ignoring unexpected query state notification.");const o=r._c.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const a=yield kH(r.localStore,pN(o[0])),u=ix.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,$a.EMPTY_BYTE_STRING);yield py(r,a,u);break}case"rejected":yield lx(r.localStore,t,!0),px(r,t,i);break;default:jn()}}),YP.apply(this,arguments)}function nW(n,t,e){return WP.apply(this,arguments)}function WP(){return WP=(0,bt.Z)(function*(n,t,e){const i=JP(n);if(i.Ac){for(const r of t){if(i._c.has(r)){Xt("SyncEngine","Adding an already active target "+r);continue}const o=yield MH(i.localStore,r),a=yield ax(i.localStore,o);yield BP(i,iV(o),a.targetId,!1,a.resumeToken),GF(i.remoteStore,a)}for(const r of e)i._c.has(r)&&(yield lx(i.localStore,r,!1).then(()=>{oD(i.remoteStore,r),px(i,r)}).catch(Em))}}),WP.apply(this,arguments)}function JP(n){const t=Cn(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=XH.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$Y.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=GY.bind(null,t),t.fc.eu=kY.bind(null,t.eventManager),t.fc.vc=RY.bind(null,t.eventManager),t}function XP(n){const t=Cn(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jY.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zY.bind(null,t),t}class aD{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,bt.Z)(function*(){e.serializer=rD(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return DH(this.persistence,new IH,t.initialUser,this.serializer)}createPersistence(t){return new GN(OF.js,this.serializer)}createSharedClientState(t){return new NH}terminate(){var t=this;return(0,bt.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class e5 extends aD{constructor(t,e,i){super(),this.bc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,bt.Z)(function*(){yield e().call(i,t),yield i.bc.initialize(i,t),yield XP(i.bc.syncEngine),yield ux(i.bc.remoteStore),yield i.persistence.pi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return DH(this.persistence,new IH,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new _H(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new jB(e,this.persistence);return new GB(t.asyncQueue,i)}createPersistence(t){const e=qN(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Vu.withCacheSize(this.cacheSizeBytes):Vu.DEFAULT;return new zN(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,UH(),VF(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new NH}}class rV extends e5{constructor(t,e){super(t,e,!1),this.bc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,bt.Z)(function*(){yield e().call(i,t);const r=i.bc.syncEngine;i.sharedClientState instanceof tP&&(i.sharedClientState.syncEngine={Qr:JY.bind(null,r),jr:tW.bind(null,r),zr:nW.bind(null,r),Mi:eW.bind(null,r),Gr:WY.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.pi(function(){var o=(0,bt.Z)(function*(a){yield function XY(n,t){return ZP.apply(this,arguments)}(i.bc.syncEngine,a),i.gcScheduler&&(a&&!i.gcScheduler.started?i.gcScheduler.start():a||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(a&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():a||i.indexBackfillerScheduler.stop())});return function(a){return o.apply(this,arguments)}}())})()}createSharedClientState(t){const e=UH();if(!tP.D(e))throw new zt(pt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=qN(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new tP(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class gx{initialize(t,e){var i=this;return(0,bt.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>eV(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=ZY.bind(null,i.syncEngine),yield vP(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new MY}createDatastore(t){const e=rD(t.databaseInfo.databaseId),i=new pY(t.databaseInfo);return new _Y(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=u=>eV(this.syncEngine,u,0),a=PH.D()?new PH:new hY,new wY(e,i,r,o,a);var e,i,r,o,a}createSyncEngine(t,e){return function(i,r,o,a,u,h,f){const _=new UY(i,r,o,a,u,h);return f&&(_.Ac=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,bt.Z)(function*(e){const i=Cn(e);Xt("RemoteStore","RemoteStore shutting down."),i.Au.add(5),yield cx(i),i.vu.shutdown(),i.Pu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function sV(n,t=10240){let e=0;return{read:()=>(0,bt.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,bt.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class zF{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Vc(this.observer.next,t)}error(t){this.observer.error?this.Vc(this.observer.error,t):ba("Uncaught Error in snapshot listener:",t.toString())}Sc(){this.muted=!0}Vc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class sW{constructor(t,e){this.Dc=t,this.serializer=e,this.metadata=new Ca,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(i=>{i&&i.Gu()?this.metadata.resolve(i.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Ku)}`))},i=>this.metadata.reject(i))}close(){return this.Dc.cancel()}getMetadata(){var t=this;return(0,bt.Z)(function*(){return t.metadata.promise})()}Pc(){var t=this;return(0,bt.Z)(function*(){return yield t.getMetadata(),t.xc()})()}xc(){var t=this;return(0,bt.Z)(function*(){const e=yield t.Nc();if(null===e)return null;const i=t.Cc.decode(e),r=Number(i);isNaN(r)&&t.kc(`length string (${i}) is not valid number`);const o=yield t.Mc(r);return new OY(JSON.parse(o),e.length+r)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Nc(){var t=this;return(0,bt.Z)(function*(){for(;t.Oc()<0&&!(yield t.$c()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.kc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Mc(t){var e=this;return(0,bt.Z)(function*(){for(;e.buffer.length<t;)(yield e.$c())&&e.kc("Reached the end of bundle when more is expected.");const i=e.Cc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}kc(t){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${t}`)}$c(){var t=this;return(0,bt.Z)(function*(){const e=yield t.Dc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class oW{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,bt.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new zt(pt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,bt.Z)(function*(o,a){const u=Cn(o),h=fb(u.serializer)+"/documents",f={documents:a.map(B=>Xv(u.serializer,B))},_=yield u.Ao("BatchGetDocuments",h,f,a.length),C=new Map;_.forEach(B=>{const U=function DN(n,t){return"found"in t?function(e,i){ai(!!i.found);const r=yf(e,i.found.name),o=Ya(i.found.updateTime),a=i.found.createTime?Ya(i.found.createTime):oi.min(),u=new Hl({mapValue:{fields:i.found.fields}});return So.newFoundDocument(r,o,a,u)}(n,t):"missing"in t?function(e,i){ai(!!i.missing),ai(!!i.readTime);const r=yf(e,i.missing),o=Ya(i.readTime);return So.newNoDocument(r,o)}(n,t):jn()}(u.serializer,B);C.set(U.key.toString(),U)});const F=[];return a.forEach(B=>{const U=C.get(B.toString());ai(!!U),F.push(U)}),F}),function(o,a){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new fy(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,bt.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=xn.fromPath(r);t.mutations.push(new Y1(o,t.precondition(o)))}),yield(i=(0,bt.Z)(function*(r,o){const a=Cn(r),u=fb(a.serializer)+"/documents",h={writes:o.map(f=>e0(a.serializer,f))};yield a.po("Commit",u,h)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw jn();e=oi.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new zt(pt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(oi.min())?Io.exists(!1):Io.updateTime(e):Io.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(oi.min()))throw new zt(pt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Io.updateTime(e)}return Io.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class aW{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.Fc=i.maxAttempts,this.Lo=new iP(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){var t=this;this.Lo.xo((0,bt.Z)(function*(){const e=new oW(t.datastore),i=t.Lc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.qc(o)}))}).catch(r=>{t.qc(r)})}))}Lc(t){try{const e=this.updateFunction(t);return!Jw(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}qc(t){this.Fc>0&&this.Uc(t)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(t)}Uc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!gF(e)}return!1}}class lW{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Pl.UNAUTHENTICATED,this.clientId=b1.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var a=(0,bt.Z)(function*(u){Xt("FirestoreClient","Received user=",u.uid),yield o.authCredentialListener(u),o.user=u});return function(u){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(i,a=>(Xt("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var t=this;return(0,bt.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new zt(pt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,bt.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=hx(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function qF(n,t){return t5.apply(this,arguments)}function t5(){return t5=(0,bt.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Xt("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,bt.Z)(function*(o){i.isEqual(o)||(yield TH(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),t5.apply(this,arguments)}function n5(n,t){return i5.apply(this,arguments)}function i5(){return i5=(0,bt.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield r5(n);Xt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>qH(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>qH(t.remoteStore,o)),n._onlineComponents=t}),i5.apply(this,arguments)}function oV(n){return"FirebaseError"===n.name?n.code===pt.FAILED_PRECONDITION||n.code===pt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function r5(n){return s5.apply(this,arguments)}function s5(){return s5=(0,bt.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Xt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield qF(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!oV(e))throw e;Ah("Error using user provided cache. Falling back to memory cache: "+e),yield qF(n,new aD)}}else Xt("FirestoreClient","Using default OfflineComponentProvider"),yield qF(n,new aD);return n._offlineComponents}),s5.apply(this,arguments)}function KF(n){return o5.apply(this,arguments)}function o5(){return o5=(0,bt.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Xt("FirestoreClient","Using user provided OnlineComponentProvider"),yield n5(n,n._uninitializedComponentsProvider._online)):(Xt("FirestoreClient","Using default OnlineComponentProvider"),yield n5(n,new gx))),n._onlineComponents}),o5.apply(this,arguments)}function aV(n){return r5(n).then(t=>t.persistence)}function ZF(n){return r5(n).then(t=>t.localStore)}function lV(n){return KF(n).then(t=>t.remoteStore)}function a5(n){return KF(n).then(t=>t.syncEngine)}function mx(n){return l5.apply(this,arguments)}function l5(){return l5=(0,bt.Z)(function*(n){const t=yield KF(n),e=t.eventManager;return e.onListen=QY.bind(null,t.syncEngine),e.onUnlisten=HY.bind(null,t.syncEngine),e}),l5.apply(this,arguments)}function uV(n,t,e={}){const i=new Ca;return n.asyncQueue.enqueueAndForget((0,bt.Z)(function*(){return function(r,o,a,u,h){const f=new zF({next:C=>{o.enqueueAndForget(()=>EP(r,_));const F=C.docs.has(a);!F&&C.fromCache?h.reject(new zt(pt.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&C.fromCache&&u&&"server"===u.source?h.reject(new zt(pt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(C)},error:C=>h.reject(C)}),_=new DP(uy(a.path),f,{includeMetadataChanges:!0,Uu:!0});return CP(r,_)}(yield mx(n),n.asyncQueue,t,e,i)})),i.promise}function dV(n,t,e={}){const i=new Ca;return n.asyncQueue.enqueueAndForget((0,bt.Z)(function*(){return function(r,o,a,u,h){const f=new zF({next:C=>{o.enqueueAndForget(()=>EP(r,_)),C.fromCache&&"server"===u.source?h.reject(new zt(pt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(C)},error:C=>h.reject(C)}),_=new DP(a,f,{includeMetadataChanges:!0,Uu:!0});return CP(r,_)}(yield mx(n),n.asyncQueue,t,e,i)})),i.promise}const hV=new Map;function c5(n,t,e){if(!e)throw new zt(pt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function AV(n,t,e,i){if(!0===t&&!0===i)throw new zt(pt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function fV(n){if(!xn.isDocumentKey(n))throw new zt(pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function pV(n){if(xn.isDocumentKey(n))throw new zt(pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $F(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":jn()}function Qr(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new zt(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=$F(n);throw new zt(pt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function gV(n,t){if(t<=0)throw new zt(pt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class mV{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new zt(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new zt(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}AV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==t.experimentalAutoDetectLongPolling&&!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class lD{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new zt(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new zt(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mV(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new ZL;switch(e.type){case"firstParty":return new Hv(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new zt(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=hV.get(t);e&&(Xt("ComponentProvider","Removing Datastore"),hV.delete(t),e.terminate())}(this),Promise.resolve()}}class qo{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lm(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qo(this.firestore,t,this._key)}}class nu{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new nu(this.firestore,t,this._query)}}class Lm extends nu{constructor(t,e,i){super(t,e,uy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qo(this.firestore,null,new xn(t))}withConverter(t){return new Lm(this.firestore,t,this._path)}}function yV(n,t,...e){if(n=(0,ae.m9)(n),c5("collection","path",t),n instanceof lD){const i=Tr.fromString(t,...e);return pV(i),new Lm(n,null,i)}{if(!(n instanceof qo||n instanceof Lm))throw new zt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Tr.fromString(t,...e));return pV(i),new Lm(n.firestore,null,i)}}function YF(n,t,...e){if(n=(0,ae.m9)(n),1===arguments.length&&(t=b1.A()),c5("doc","path",t),n instanceof lD){const i=Tr.fromString(t,...e);return fV(i),new qo(n,null,new xn(i))}{if(!(n instanceof qo||n instanceof Lm))throw new zt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Tr.fromString(t,...e));return fV(i),new qo(n.firestore,n instanceof Lm?n.converter:null,new xn(i))}}function vV(n,t){return n=(0,ae.m9)(n),t=(0,ae.m9)(t),(n instanceof qo||n instanceof Lm)&&(t instanceof qo||t instanceof Lm)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function u5(n,t){return n=(0,ae.m9)(n),t=(0,ae.m9)(t),n instanceof nu&&t instanceof nu&&n.firestore===t.firestore&&ab(n._query,t._query)&&n.converter===t.converter}class _W{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new iP(this,"async_queue_retry"),this.Yc=()=>{const e=VF();e&&Xt("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Lo.ko()};const t=VF();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Xc(),this.Zc(t)}enterRestrictedMode(t){if(!this.Qc){this.Qc=!0,this.Hc=t||!1;const e=VF();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Yc)}}enqueue(t){if(this.Xc(),this.Qc)return new Promise(()=>{});const e=new Ca;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Gc.push(t),this.ta()))}ta(){var t=this;return(0,bt.Z)(function*(){if(0!==t.Gc.length){try{yield t.Gc[0](),t.Gc.shift(),t.Lo.reset()}catch(e){if(!Sm(e))throw e;Xt("AsyncQueue","Operation failed with retryable error: "+e)}t.Gc.length>0&&t.Lo.xo(()=>t.ta())}})()}Zc(t){const e=this.Kc.then(()=>(this.Wc=!0,t().catch(i=>{throw this.zc=i,this.Wc=!1,ba("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(i)),i}).then(i=>(this.Wc=!1,i))));return this.Kc=e,e}enqueueAfterDelay(t,e,i){this.Xc(),this.Jc.indexOf(t)>-1&&(e=0);const r=bP.createAndSchedule(this,t,e,i,o=>this.ea(o));return this.jc.push(r),r}Xc(){this.zc&&jn()}verifyOperationInProgress(){}na(){var t=this;return(0,bt.Z)(function*(){let e;do{e=t.Kc,yield e}while(e!==t.Kc)})()}sa(t){for(const e of this.jc)if(e.timerId===t)return!0;return!1}ia(t){return this.na().then(()=>{this.jc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.jc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.na()})}ra(t){this.Jc.push(t)}ea(t){const e=this.jc.indexOf(t);this.jc.splice(e,1)}}function d5(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class yW{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ca,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Ko extends lD{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new _W,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||wV(this),this._firestoreClient.terminate()}}function gl(n){return n._firestoreClient||wV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function wV(n){var t,e,i;const r=n._freezeSettings(),o=(u=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new cN(n._databaseId,u,n._persistenceKey,(f=r).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var u,f;n._firestoreClient=new lW(n._authCredentials,n._appCheckCredentials,n._queue,o),(null===(e=r.cache)||void 0===e?void 0:e._offlineComponentProvider)&&(null===(i=r.cache)||void 0===i?void 0:i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function bV(n,t,e){const i=new Ca;return n.asyncQueue.enqueue((0,bt.Z)(function*(){try{yield qF(n,e),yield n5(n,t),i.resolve()}catch(r){const o=r;if(!oV(o))throw o;Ah("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function CV(n){if(n._initialized||n._terminated)throw new zt(pt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Nm{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Nm($a.fromBase64String(t))}catch(e){throw new zt(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Nm($a.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class gy{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new zt(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jo(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class vb{constructor(t){this._methodName=t}}class WF{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new zt(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new zt(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ui(this._lat,t._lat)||Ui(this._long,t._long)}}const BW=/^__.*__$/;class FW{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new qp(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ay(t,this.data,e,this.fieldTransforms)}}class xV{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new qp(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function EV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jn()}}class JF{constructor(t,e,i,r,o,a){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.oa(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(t){return new JF(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ca({path:i,ha:!1});return r.la(t),r}fa(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ca({path:i,ha:!1});return r.oa(),r}da(t){return this.ca({path:void 0,ha:!0})}_a(t){return tM(t,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}oa(){if(this.path)for(let t=0;t<this.path.length;t++)this.la(this.path.get(t))}la(t){if(0===t.length)throw this._a("Document fields must not be empty");if(EV(this.ua)&&BW.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class MW{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||rD(t)}ga(t,e,i,r=!1){return new JF({ua:t,methodName:e,ma:i,path:jo.emptyPath(),ha:!1,wa:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wb(n){const t=n._freezeSettings(),e=rD(n._databaseId);return new MW(n._databaseId,!!t.ignoreUndefinedProperties,e)}function XF(n,t,e,i,r,o={}){const a=n.ga(o.merge||o.mergeFields?2:0,t,e,r);p5("Data must be an object, but it was:",a,i);const u=DV(i,a);let h,f;if(o.merge)h=new eu(a.fieldMask),f=a.fieldTransforms;else if(o.mergeFields){const _=[];for(const C of o.mergeFields){const F=dD(t,C,e);if(!a.contains(F))throw new zt(pt.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);BV(_,F)||_.push(F)}h=new eu(_),f=a.fieldTransforms.filter(C=>h.covers(C.field))}else h=null,f=a.fieldTransforms;return new FW(new Hl(u),h,f)}class uD extends vb{_toFieldTransform(t){if(2!==t.ua)throw t._a(1===t.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof uD}}function SV(n,t,e){return new JF({ua:3,ma:t.settings.ma,methodName:n._methodName,ha:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class h5 extends vb{_toFieldTransform(t){return new Jv(t.path,new Yv)}isEqual(t){return t instanceof h5}}class kW extends vb{constructor(t,e){super(t),this.ya=e}_toFieldTransform(t){const e=SV(this,t,!0),i=this.ya.map(o=>bb(o,e)),r=new Fm(i);return new Jv(t.path,r)}isEqual(t){return this===t}}class RW extends vb{constructor(t,e){super(t),this.ya=e}_toFieldTransform(t){const e=SV(this,t,!0),i=this.ya.map(o=>bb(o,e)),r=new hy(i);return new Jv(t.path,r)}isEqual(t){return this===t}}class OW extends vb{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=new Wv(t.serializer,hF(t.serializer,this.pa));return new Jv(t.path,e)}isEqual(t){return this===t}}function A5(n,t,e,i){const r=n.ga(1,t,e);p5("Data must be an object, but it was:",r,i);const o=[],a=Hl.empty();Dm(i,(h,f)=>{const _=eM(t,h,e);f=(0,ae.m9)(f);const C=r.fa(_);if(f instanceof uD)o.push(_);else{const F=bb(f,C);null!=F&&(o.push(_),a.set(_,F))}});const u=new eu(o);return new xV(a,u,r.fieldTransforms)}function f5(n,t,e,i,r,o){const a=n.ga(1,t,e),u=[dD(t,i,e)],h=[r];if(o.length%2!=0)throw new zt(pt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<o.length;F+=2)u.push(dD(t,o[F])),h.push(o[F+1]);const f=[],_=Hl.empty();for(let F=u.length-1;F>=0;--F)if(!BV(f,u[F])){const B=u[F];let U=h[F];U=(0,ae.m9)(U);const H=a.fa(B);if(U instanceof uD)f.push(B);else{const Z=bb(U,H);null!=Z&&(f.push(B),_.set(B,Z))}}const C=new eu(f);return new xV(_,C,a.fieldTransforms)}function IV(n,t,e,i=!1){return bb(e,n.ga(i?4:3,t))}function bb(n,t){if(TV(n=(0,ae.m9)(n)))return p5("Unsupported field value:",t,n),DV(n,t);if(n instanceof vb)return function(e,i){if(!EV(i.ua))throw i._a(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ha&&4!==t.ua)throw t._a("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const a of e){let u=bb(a,i.da(o));null==u&&(u={nullValue:"NULL_VALUE"}),r.push(u),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,ae.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return hF(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=lo.fromDate(e);return{timestampValue:km(i.serializer,r)}}if(e instanceof lo){const r=new lo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:km(i.serializer,r)}}if(e instanceof WF)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Nm)return{bytesValue:Ab(i.serializer,e._byteString)};if(e instanceof qo){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:EF(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i._a(`Unsupported field value: ${$F(e)}`)}(n,t)}function DV(n,t){const e={};return YB(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Dm(n,(i,r)=>{const o=bb(r,t.aa(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function TV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof lo||n instanceof WF||n instanceof Nm||n instanceof qo||n instanceof vb)}function p5(n,t,e){if(!TV(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=$F(e);throw t._a("an object"===i?n+" a custom object":n+" "+i)}var i}function dD(n,t,e){if((t=(0,ae.m9)(t))instanceof gy)return t._internalPath;if("string"==typeof t)return eM(n,t);throw tM("Field path arguments must be of type string or ",n,!1,void 0,e)}const LW=new RegExp("[~\\*/\\[\\]]");function eM(n,t,e){if(t.search(LW)>=0)throw tM(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new gy(...t.split("."))._internalPath}catch{throw tM(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function tM(n,t,e,i,r){const o=i&&!i.isEmpty(),a=void 0!==r;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||a)&&(h+=" (found",o&&(h+=` in field ${i}`),a&&(h+=` in document ${r}`),h+=")"),new zt(pt.INVALID_ARGUMENT,u+n+h)}function BV(n,t){return n.some(e=>e.isEqual(t))}class hD{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new NW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(nM("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class NW extends hD{data(){return super.data()}}function nM(n,t){return"string"==typeof t?eM(n,t):t instanceof gy?t._internalPath:t._delegate._internalPath}function FV(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new zt(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class g5{}class AD extends g5{}function c0(n,t,...e){let i=[];t instanceof g5&&i.push(t),i=i.concat(e),function(r){const o=r.filter(u=>u instanceof _x).length,a=r.filter(u=>u instanceof fD).length;if(o>1||o>0&&a>0)throw new zt(pt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class fD extends AD{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new fD(t,e,i)}_apply(t){const e=this._parse(t);return OV(t._query,e),new nu(t.firestore,t.converter,cF(t._query,e))}_parse(t){const e=wb(t.firestore);return function(r,o,a,u,h,f,_){let C;if(h.isKeyField()){if("array-contains"===f||"array-contains-any"===f)throw new zt(pt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if("in"===f||"not-in"===f){RV(_,f);const F=[];for(const B of _)F.push(kV(u,r,B));C={arrayValue:{values:F}}}else C=kV(u,r,_)}else"in"!==f&&"not-in"!==f&&"array-contains-any"!==f||RV(_,f),C=IV(a,"where",_,"in"===f||"not-in"===f);return yr.create(h,f,C)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class _x extends g5{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new _x(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:gs.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let o=i;const a=r.getFlattenedFilters();for(const u of a)OV(o,u),o=cF(o,u)}(t._query,e),new nu(t.firestore,t.converter,cF(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class m5 extends AD{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new m5(t,e)}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new zt(pt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new zt(pt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new qv(r,o);return function(u,h){if(null===lF(u)){const f=Zv(u);null!==f&&LV(0,f,h.field)}}(i,a),a}(t._query,this._field,this._direction);return new nu(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new _f(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class iM extends AD{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new iM(t,e,i)}_apply(t){return new nu(t.firestore,t.converter,j1(t._query,this._limit,this._limitType))}}class rM extends AD{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new rM(t,e,i)}_apply(t){const e=MV(t,this.type,this._docOrFields,this._inclusive);return new nu(t.firestore,t.converter,(r=e,new _f((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class sM extends AD{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new sM(t,e,i)}_apply(t){const e=MV(t,this.type,this._docOrFields,this._inclusive);return new nu(t.firestore,t.converter,(r=e,new _f((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function MV(n,t,e,i){if(e[0]=(0,ae.m9)(e[0]),e[0]instanceof hD)return function(r,o,a,u,h){if(!u)throw new zt(pt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const f=[];for(const _ of dy(r))if(_.field.isKeyField())f.push(ay(o,u.key));else{const C=u.data.field(_.field);if(Ql(C))throw new zt(pt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===C){const F=_.field.canonicalString();throw new zt(pt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}f.push(C)}return new Bm(f,h)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=wb(n.firestore);return function(o,a,u,h,f,_){const C=o.explicitOrderBy;if(f.length>C.length)throw new zt(pt.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let B=0;B<f.length;B++){const U=f[B];if(C[B].field.isKeyField()){if("string"!=typeof U)throw new zt(pt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof U}`);if(!G1(o)&&-1!==U.indexOf("/"))throw new zt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${U}' contains a slash.`);const H=o.path.child(Tr.fromString(U));if(!xn.isDocumentKey(H))throw new zt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${H}' is not because it contains an odd number of segments.`);const Z=new xn(H);F.push(ay(a,Z))}else{const H=IV(u,h,U);F.push(H)}}return new Bm(F,_)}(n._query,n.firestore._databaseId,r,t,e,i)}}function kV(n,t,e){if("string"==typeof(e=(0,ae.m9)(e))){if(""===e)throw new zt(pt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!G1(t)&&-1!==e.indexOf("/"))throw new zt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Tr.fromString(e));if(!xn.isDocumentKey(i))throw new zt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ay(n,new xn(i))}if(e instanceof qo)return ay(n,e._key);throw new zt(pt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$F(e)}.`)}function RV(n,t){if(!Array.isArray(n)||0===n.length)throw new zt(pt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function OV(n,t){if(t.isInequality()){const i=Zv(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new zt(pt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=lF(n);null!==o&&LV(0,r,o)}const e=function(i,r){for(const o of i)for(const a of o.getFlattenedFilters())if(r.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new zt(pt.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function LV(n,t,e){if(!e.isEqual(t))throw new zt(pt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class _5{convertValue(t,e="none"){switch(Vp(t)){case 0:return null;case 1:return t.booleanValue;case 2:return zo(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Qp(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw jn()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Dm(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new WF(zo(t.latitude),zo(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Hp(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(eb(t));default:return null}}convertTimestamp(t){const e=Tm(t);return new lo(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Tr.fromString(t);ai(ON(i));const r=new ry(i.get(1),i.get(3)),o=new xn(i.popFirst(5));return r.isEqual(e)||ba(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function oM(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class qW extends _5{constructor(t){super(),this.firestore=t}convertBytes(t){return new Nm(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new qo(this.firestore,null,e)}}class Cb{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class my extends hD{constructor(t,e,i,r,o,a){super(t,e,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new pD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(nM("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class pD extends my{data(t={}){return super.data(t)}}class u0{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Cb(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new pD(this._firestore,this._userDataWriter,i.key,i,new Cb(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new zt(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new pD(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Cb(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>r||3!==a.type).map(a=>{const u=new pD(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Cb(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return 0!==a.type&&(h=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:ZW(a.type),doc:u,oldIndex:h,newIndex:f}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ZW(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jn()}}function PV(n,t){return n instanceof my&&t instanceof my?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof u0&&t instanceof u0&&n._firestore===t._firestore&&u5(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class d0 extends _5{constructor(t){super(),this.firestore=t}convertBytes(t){return new Nm(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new qo(this.firestore,null,e)}}function UV(n,t,e){n=Qr(n,qo);const i=Qr(n.firestore,Ko),r=oM(n.converter,t,e);return yx(i,[XF(wb(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Io.none())])}function QV(n,t,e,...i){n=Qr(n,qo);const r=Qr(n.firestore,Ko),o=wb(r);let a;return a="string"==typeof(t=(0,ae.m9)(t))||t instanceof gy?f5(o,"updateDoc",n._key,t,e,i):A5(o,"updateDoc",n._key,t),yx(r,[a.toMutation(n._key,Io.exists(!0))])}function HV(n,...t){var e,i,r;n=(0,ae.m9)(n);let o={includeMetadataChanges:!1},a=0;"object"!=typeof t[a]||d5(t[a])||(o=t[a],a++);const u={includeMetadataChanges:o.includeMetadataChanges};if(d5(t[a])){const C=t[a];t[a]=null===(e=C.next)||void 0===e?void 0:e.bind(C),t[a+1]=null===(i=C.error)||void 0===i?void 0:i.bind(C),t[a+2]=null===(r=C.complete)||void 0===r?void 0:r.bind(C)}let h,f,_;if(n instanceof qo)f=Qr(n.firestore,Ko),_=uy(n._key.path),h={next:C=>{t[a]&&t[a](y5(f,n,C))},error:t[a+1],complete:t[a+2]};else{const C=Qr(n,nu);f=Qr(C.firestore,Ko),_=C._query;const F=new d0(f);h={next:B=>{t[a]&&t[a](new u0(f,F,C,B))},error:t[a+1],complete:t[a+2]},FV(n._query)}return function(C,F,B,U){const H=new zF(U),Z=new DP(F,H,B);return C.asyncQueue.enqueueAndForget((0,bt.Z)(function*(){return CP(yield mx(C),Z)})),()=>{H.Sc(),C.asyncQueue.enqueueAndForget((0,bt.Z)(function*(){return EP(yield mx(C),Z)}))}}(gl(f),_,u,h)}function yx(n,t){return function(e,i){const r=new Ca;return e.asyncQueue.enqueueAndForget((0,bt.Z)(function*(){return function VY(n,t,e){return kP.apply(this,arguments)}(yield a5(e),i,r)})),r.promise}(gl(n),t)}function y5(n,t,e){const i=e.docs.get(t._key),r=new d0(n);return new my(n,r,t._key,i,new Cb(e.hasPendingWrites,e.fromCache),t.converter)}const hJ={maxAttempts:5};class VV{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=wb(t)}set(t,e,i){this._verifyNotCommitted();const r=h0(t,this._firestore),o=oM(r.converter,e,i),a=XF(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(a.toMutation(r._key,Io.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=h0(t,this._firestore);let a;return a="string"==typeof(e=(0,ae.m9)(e))||e instanceof gy?f5(this._dataReader,"WriteBatch.update",o._key,e,i,r):A5(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(a.toMutation(o._key,Io.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=h0(t,this._firestore);return this._mutations=this._mutations.concat(new fy(e._key,Io.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new zt(pt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function h0(n,t){if((n=(0,ae.m9)(n)).firestore!==t)throw new zt(pt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class AJ extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=wb(t)}get(t){const e=h0(t,this._firestore),i=new qW(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return jn();const o=r[0];if(o.isFoundDocument())return new hD(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new hD(this._firestore,i,e._key,null,e.converter);throw jn()})}set(t,e,i){const r=h0(t,this._firestore),o=oM(r.converter,e,i),a=XF(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,a),this}update(t,e,i,...r){const o=h0(t,this._firestore);let a;return a="string"==typeof(e=(0,ae.m9)(e))||e instanceof gy?f5(this._dataReader,"Transaction.update",o._key,e,i,r):A5(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,a),this}delete(t){const e=h0(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=h0(t,this._firestore),i=new d0(this._firestore);return super.get(t).then(r=>new my(this._firestore,i,e._key,r._document,new Cb(!1,!1),e.converter))}}function v5(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new zt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function jV(){if(typeof Uint8Array>"u")throw new zt("unimplemented","Uint8Arrays are not available in this environment.")}function zV(){if(!function lN(){return typeof atob<"u"}())throw new zt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Qv=ch.SDK_VERSION,(0,ch._registerComponent)(new kp.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const o=e.getProvider("app").getImmediate(),a=new Ko(new $L(e.getProvider("auth-internal")),new YL(e.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new zt(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ry(u.options.projectId,h)}(o,i),o);return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),(0,ch.registerVersion)(kB,"3.11.0",n),(0,ch.registerVersion)(kB,"3.11.0","esm2017")}();class gD{constructor(t){this._delegate=t}static fromBase64String(t){return zV(),new gD(Nm.fromBase64String(t))}static fromUint8Array(t){return jV(),new gD(Nm.fromUint8Array(t))}toBase64(){return zV(),this._delegate.toBase64()}toUint8Array(){return jV(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function w5(n){return function bJ(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class CJ{enableIndexedDbPersistence(t,e){return function wW(n,t){CV(n=Qr(n,Ko));const e=gl(n);if(e._uninitializedComponentsProvider)throw new zt(pt.FAILED_PRECONDITION,"SDK cache is already specified.");Ah("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new gx;return bV(e,r,new e5(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function bW(n){CV(n=Qr(n,Ko));const t=gl(n);if(t._uninitializedComponentsProvider)throw new zt(pt.FAILED_PRECONDITION,"SDK cache is already specified.");Ah("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new gx;return bV(t,i,new rV(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function CW(n){if(n._initialized&&!n._terminated)throw new zt(pt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Ca;return n._queue.enqueueAndForgetEvenWhileRestricted((0,bt.Z)(function*(){try{yield(e=(0,bt.Z)(function*(i){if(!mA.D())return Promise.resolve();const r=i+"main";yield mA.delete(r)}),function(i){return e.apply(this,arguments)})(qN(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class qV{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof ry||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Ah("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function _V(n,t,e,i={}){var r;const o=(n=Qr(n,lD))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&Ah("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let a,u;if("string"==typeof i.mockUserToken)a=i.mockUserToken,u=Pl.MOCK_USER;else{a=(0,ae.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const h=i.mockUserToken.sub||i.mockUserToken.user_id;if(!h)throw new zt(pt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Pl(h)}n._authCredentials=new lI(new OB(a,u))}}(this._delegate,t,e,i)}enableNetwork(){return function EW(n){return function cW(n){return n.asyncQueue.enqueue((0,bt.Z)(function*(){const t=yield aV(n),e=yield lV(n);return t.setNetworkEnabled(!0),function(i){const r=Cn(i);return r.Au.delete(0),sD(r)}(e)}))}(gl(n=Qr(n,Ko)))}(this._delegate)}disableNetwork(){return function SW(n){return function uW(n){return n.asyncQueue.enqueue((0,bt.Z)(function*(){const t=yield aV(n),e=yield lV(n);return t.setNetworkEnabled(!1),(i=(0,bt.Z)(function*(r){const o=Cn(r);o.Au.add(0),yield cx(o),o.Pu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(gl(n=Qr(n,Ko)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,AV("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function xW(n){return function(t){const e=new Ca;return t.asyncQueue.enqueueAndForget((0,bt.Z)(function*(){return function qY(n,t){return PP.apply(this,arguments)}(yield a5(t),e)})),e.promise}(gl(n=Qr(n,Ko)))}(this._delegate)}onSnapshotsInSync(t){return function iJ(n,t){return function AW(n,t){const e=new zF(t);return n.asyncQueue.enqueueAndForget((0,bt.Z)(function*(){return i=yield mx(n),r=e,Cn(i).Nu.add(r),void r.next();var i,r})),()=>{e.Sc(),n.asyncQueue.enqueueAndForget((0,bt.Z)(function*(){return i=yield mx(n),r=e,void Cn(i).Nu.delete(r);var i,r}))}}(gl(n=Qr(n,Ko)),d5(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new zt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new vx(this,yV(this._delegate,t))}catch(e){throw Td(e,"collection()","Firestore.collection()")}}doc(t){try{return new vf(this,YF(this._delegate,t))}catch(e){throw Td(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Bd(this,function mW(n,t){if(n=Qr(n,lD),c5("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new zt(pt.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new nu(n,null,(e=t,new _f(Tr.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Td(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function fJ(n,t,e){n=Qr(n,Ko);const i=Object.assign(Object.assign({},hJ),e);return function(r){if(r.maxAttempts<1)throw new zt(pt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,a){const u=new Ca;return r.asyncQueue.enqueueAndForget((0,bt.Z)(function*(){const h=yield function cV(n){return KF(n).then(t=>t.datastore)}(r);new aW(r.asyncQueue,h,a,o,u).run()})),u.promise}(gl(n),r=>t(new AJ(n,r)),i)}(this._delegate,e=>t(new KV(this,e)))}batch(){return gl(this._delegate),new ZV(new VV(this._delegate,t=>yx(this._delegate,t)))}loadBundle(t){return function IW(n,t){const e=gl(n=Qr(n,Ko)),i=new yW;return function fW(n,t,e,i){const r=function(o,a){let u;return u="string"==typeof o?VI().encode(o):o,h=function(h,f){if(h instanceof Uint8Array)return sV(h,f);if(h instanceof ArrayBuffer)return sV(new Uint8Array(h),f);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new sW(h,a);var h}(e,rD(t));n.asyncQueue.enqueueAndForget((0,bt.Z)(function*(){!function iW(n,t,e){const i=Cn(n);var r;(r=(0,bt.Z)(function*(o,a,u){try{const h=yield a.getMetadata();if(yield function(F,B){const U=Cn(F),H=Ya(B.createTime);return U.persistence.runTransaction("hasNewerBundle","readonly",Z=>U.Ls.getBundleMetadata(Z,B.id)).then(Z=>!!Z&&Z.createTime.compareTo(H)>=0)}(o.localStore,h))return yield a.close(),u._completeWith({taskState:"Success",documentsLoaded:(F=h).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);u._updateProgress($H(h));const f=new LY(h,o.localStore,a.serializer);let _=yield a.Pc();for(;_;){const F=yield f.ju(_);F&&u._updateProgress(F),_=yield a.Pc()}const C=yield f.complete();return yield py(o,C.Hu,void 0),yield function(F,B){const U=Cn(F);return U.persistence.runTransaction("Save bundle","readwrite",H=>U.Ls.saveBundleMetadata(H,B))}(o.localStore,h),u._completeWith(C.progress),Promise.resolve(C.Wu)}catch(h){return Ah("SyncEngine",`Loading bundle failed with ${h}`),u._failWith(h),Promise.resolve(new Set)}var F}),function(o,a,u){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield a5(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function DW(n,t){return function pW(n,t){return n.asyncQueue.enqueue((0,bt.Z)(function*(){return function(e,i){const r=Cn(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.Ls.getNamedQuery(o,i))}(yield ZF(n),t)}))}(gl(n=Qr(n,Ko)),t).then(e=>e?new nu(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Bd(this,e):null)}}class aM extends _5{constructor(t){super(),this.firestore=t}convertBytes(t){return new gD(new Nm(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return vf.forKey(e,this.firestore,null)}}class KV{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new aM(t)}get(t){const e=Eb(t);return this._delegate.get(e).then(i=>new mD(this._firestore,new my(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Eb(t);return i?(v5("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Eb(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Eb(t);return this._delegate.delete(e),this}}class ZV{constructor(t){this._delegate=t}set(t,e,i){const r=Eb(t);return i?(v5("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Eb(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Eb(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class xb{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new pD(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new _D(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=xb.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new xb(t,new aM(t),e),r.set(e,o)),o}}xb.INSTANCES=new WeakMap;class vf{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new aM(t)}static forPath(t,e,i){if(t.length%2!=0)throw new zt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new vf(e,new qo(e._delegate,i,new xn(t)))}static forKey(t,e,i){return new vf(e,new qo(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new vx(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new vx(this.firestore,yV(this._delegate,t))}catch(e){throw Td(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,ae.m9)(t))instanceof qo&&vV(this._delegate,t)}set(t,e){e=v5("DocumentReference.set",e);try{return e?UV(this._delegate,t,e):UV(this._delegate,t)}catch(i){throw Td(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?QV(this._delegate,t):QV(this._delegate,t,e,...i)}catch(r){throw Td(r,"updateDoc()","DocumentReference.update()")}}delete(){return function tJ(n){return yx(Qr(n.firestore,Ko),[new fy(n._key,Io.none())])}(this._delegate)}onSnapshot(...t){const e=$V(t),i=YV(t,r=>new mD(this.firestore,new my(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return HV(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function YW(n){n=Qr(n,qo);const t=Qr(n.firestore,Ko),e=gl(t),i=new d0(t);return function dW(n,t){const e=new Ca;return n.asyncQueue.enqueueAndForget((0,bt.Z)(function*(){return(i=(0,bt.Z)(function*(r,o,a){try{const u=yield function(h,f){const _=Cn(h);return _.persistence.runTransaction("read document","readonly",C=>_.localDocuments.getDocument(C,f))}(r,o);u.isFoundDocument()?a.resolve(u):u.isNoDocument()?a.resolve(null):a.reject(new zt(pt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const h=hx(u,`Failed to get document '${o} from cache`);a.reject(h)}}),function(r,o,a){return i.apply(this,arguments)})(yield ZF(n),t,e);var i})),e.promise}(e,n._key).then(r=>new my(t,i,n._key,r,new Cb(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function WW(n){n=Qr(n,qo);const t=Qr(n.firestore,Ko);return uV(gl(t),n._key,{source:"server"}).then(e=>y5(t,n,e))}(this._delegate):function $W(n){n=Qr(n,qo);const t=Qr(n.firestore,Ko);return uV(gl(t),n._key).then(e=>y5(t,n,e))}(this._delegate),e.then(i=>new mD(this.firestore,new my(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new vf(this.firestore,this._delegate.withConverter(t?xb.getInstance(this.firestore,t):null))}}function Td(n,t,e){return n.message=n.message.replace(t,e),n}function $V(n){for(const t of n)if("object"==typeof t&&!w5(t))return t;return{}}function YV(n,t){var e,i;let r;return r=w5(n[0])?n[0]:w5(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class mD{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new vf(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return PV(this._delegate,t._delegate)}}class _D extends mD{data(t){const e=this._delegate.data(t);return function KL(n,t){n||jn()}(void 0!==e),e}}class Bd{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new aM(t)}where(t,e,i){try{return new Bd(this.firestore,c0(this._delegate,function PW(n,t,e){const i=t,r=nM("where",n);return fD._create(r,i,e)}(t,e,i)))}catch(r){throw Td(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Bd(this.firestore,c0(this._delegate,function UW(n,t="asc"){const e=t,i=nM("orderBy",n);return m5._create(i,e)}(t,e)))}catch(i){throw Td(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Bd(this.firestore,c0(this._delegate,function QW(n){return gV("limit",n),iM._create("limit",n,"F")}(t)))}catch(e){throw Td(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Bd(this.firestore,c0(this._delegate,function HW(n){return gV("limitToLast",n),iM._create("limitToLast",n,"L")}(t)))}catch(e){throw Td(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Bd(this.firestore,c0(this._delegate,function VW(...n){return rM._create("startAt",n,!0)}(...t)))}catch(e){throw Td(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Bd(this.firestore,c0(this._delegate,function GW(...n){return rM._create("startAfter",n,!1)}(...t)))}catch(e){throw Td(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Bd(this.firestore,c0(this._delegate,function jW(...n){return sM._create("endBefore",n,!1)}(...t)))}catch(e){throw Td(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Bd(this.firestore,c0(this._delegate,function zW(...n){return sM._create("endAt",n,!0)}(...t)))}catch(e){throw Td(e,"endAt()","Query.endAt()")}}isEqual(t){return u5(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function XW(n){n=Qr(n,nu);const t=Qr(n.firestore,Ko),e=gl(t),i=new d0(t);return function hW(n,t){const e=new Ca;return n.asyncQueue.enqueueAndForget((0,bt.Z)(function*(){return(i=(0,bt.Z)(function*(r,o,a){try{const u=yield PF(r,o,!0),h=new JH(o,u.sr),f=h.nc(u.documents),_=h.applyChanges(f,!1);a.resolve(_.snapshot)}catch(u){const h=hx(u,`Failed to execute query '${o} against cache`);a.reject(h)}}),function(r,o,a){return i.apply(this,arguments)})(yield ZF(n),t,e);var i})),e.promise}(e,n._query).then(r=>new u0(t,i,n,r))}(this._delegate):"server"===t?.source?function eJ(n){n=Qr(n,nu);const t=Qr(n.firestore,Ko),e=gl(t),i=new d0(t);return dV(e,n._query,{source:"server"}).then(r=>new u0(t,i,n,r))}(this._delegate):function JW(n){n=Qr(n,nu);const t=Qr(n.firestore,Ko),e=gl(t),i=new d0(t);return FV(n._query),dV(e,n._query).then(r=>new u0(t,i,n,r))}(this._delegate),e.then(i=>new b5(this.firestore,new u0(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=$V(t),i=YV(t,r=>new b5(this.firestore,new u0(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return HV(this._delegate,e,i)}withConverter(t){return new Bd(this.firestore,this._delegate.withConverter(t?xb.getInstance(this.firestore,t):null))}}class EJ{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new _D(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class b5{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Bd(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new _D(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new EJ(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new _D(this._firestore,i))})}isEqual(t){return PV(this._delegate,t._delegate)}}class vx extends Bd{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new vf(this.firestore,t):null}doc(t){try{return new vf(this.firestore,void 0===t?YF(this._delegate):YF(this._delegate,t))}catch(e){throw Td(e,"doc()","CollectionReference.doc()")}}add(t){return function nJ(n,t){const e=Qr(n.firestore,Ko),i=YF(n),r=oM(n.converter,t);return yx(e,[XF(wb(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Io.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new vf(this.firestore,e))}isEqual(t){return vV(this._delegate,t._delegate)}withConverter(t){return new vx(this.firestore,this._delegate.withConverter(t?xb.getInstance(this.firestore,t):null))}}function Eb(n){return Qr(n,qo)}class C5{constructor(...t){this._delegate=new gy(...t)}static documentId(){return new C5(jo.keyField().canonicalString())}isEqual(t){return(t=(0,ae.m9)(t))instanceof gy&&this._delegate._internalPath.isEqual(t._internalPath)}}class Sb{constructor(t){this._delegate=t}static serverTimestamp(){const t=function gJ(){return new h5("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Sb(t)}static delete(){const t=function pJ(){return new uD("deleteField")}();return t._methodName="FieldValue.delete",new Sb(t)}static arrayUnion(...t){const e=function mJ(...n){return new kW("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Sb(e)}static arrayRemove(...t){const e=function _J(...n){return new RW("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Sb(e)}static increment(t){const e=function yJ(n){return new OW("increment",n)}(t);return e._methodName="FieldValue.increment",new Sb(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const SJ={Firestore:qV,GeoPoint:WF,Timestamp:lo,Blob:gD,Transaction:KV,WriteBatch:ZV,DocumentReference:vf,DocumentSnapshot:mD,Query:Bd,QueryDocumentSnapshot:_D,QuerySnapshot:b5,CollectionReference:vx,FieldPath:C5,FieldValue:Sb,setLogLevel:function xJ(n){!function RB(n){Cm.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function DJ(n){(function IJ(n,t){n.INTERNAL.registerComponent(new kp.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},SJ)))})(n,(t,e)=>new qV(t,e,new CJ)),n.registerVersion("@firebase/firestore-compat","0.3.8")}(zT.Z);var iu=re(6451),lM=re(5363),TJ=re(6063);class BJ extends tn.x{constructor(t=1/0,e=1/0,i=TJ.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:a}=this;e||(i.push(t),!r&&i.push(o.now()+a)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let a=0;a<o.length&&!t.closed;a+=i?1:2)t.next(o[a]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const a=e.now();let u=0;for(let h=1;h<i.length&&i[h]<=a;h+=2)u=h;u&&i.splice(0,u+1)}}}var x5=re(3099);function WV(n,t,e){var i,r;let o,a=!1;return n&&"object"==typeof n?(o=null!==(i=n.bufferSize)&&void 0!==i?i:1/0,t=null!==(r=n.windowTime)&&void 0!==r?r:1/0,a=!!n.refCount,e=n.scheduler):o=n??1/0,(0,x5.B)({connector:()=>new BJ(o,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function JV(n,t){return(0,zs.m)(t)?ws(()=>n,t):ws(()=>n)}var E5=re(9468);re(259);const I5=new Map,e8={activated:!1,tokenObservers:[]},OJ={initialized:!1,enabled:!1};function Wa(n){return I5.get(n)||Object.assign({},e8)}function uM(){return OJ}class HJ{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,bt.Z)(function*(){e.stop();try{e.pending=new ae.BH,yield function VJ(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new ae.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ru=new ae.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function T5(n){if(!Wa(n).activated)throw ru.create("use-before-activation",{appName:n.name})}function AM(n,t){return F5.apply(this,arguments)}function F5(){return F5=(0,bt.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const C=yield r.getHeartbeatsHeader();C&&(i["X-Firebase-Client"]=C)}const o={method:"POST",body:JSON.stringify(t),headers:i};let a,u;try{a=yield fetch(n,o)}catch(C){throw ru.create("fetch-network-error",{originalErrorMessage:C?.message})}if(200!==a.status)throw ru.create("fetch-status-error",{httpStatus:a.status});try{u=yield a.json()}catch(C){throw ru.create("fetch-parse-error",{originalErrorMessage:C?.message})}const h=u.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw ru.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});const f=1e3*Number(h[1]),_=Date.now();return{token:u.token,expireTimeMillis:_+f,issuedAtTimeMillis:_}}),F5.apply(this,arguments)}function n8(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const yD="firebase-app-check-store";let fM=null;function r8(){return fM||(fM=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(ru.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(yD,{keyPath:"compositeKey"})}}catch(e){t(ru.create("storage-open",{originalErrorMessage:e?.message}))}}),fM)}function M5(){return M5=(0,bt.Z)(function*(n,t){const i=(yield r8()).transaction(yD,"readwrite"),o=i.objectStore(yD).put({compositeKey:n,value:t});return new Promise((a,u)=>{o.onsuccess=h=>{a()},i.onerror=h=>{var f;u(ru.create("storage-set",{originalErrorMessage:null===(f=h.target.error)||void 0===f?void 0:f.message}))}})}),M5.apply(this,arguments)}const vD=new hf.Yd("@firebase/app-check");function O5(n,t){return(0,ae.hl)()?function $J(n,t){return function s8(n,t){return M5.apply(this,arguments)}(function a8(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{vD.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function N5(){return uM().enabled}function P5(){return U5.apply(this,arguments)}function U5(){return U5=(0,bt.Z)(function*(){const n=uM();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),U5.apply(this,arguments)}const tX={error:"UNKNOWN_ERROR"};function nX(n){return ae.US.encodeString(JSON.stringify(n),!1)}function pM(n){return Q5.apply(this,arguments)}function Q5(){return Q5=(0,bt.Z)(function*(n,t=!1){const e=n.app;T5(e);const i=Wa(e);let o,r=i.token;if(r&&!wx(r)&&(i.token=void 0,r=void 0),!r){const h=yield i.cachedTokenPromise;h&&(wx(h)?r=h:yield O5(e,void 0))}if(!t&&r&&wx(r))return{token:r.token};let u,a=!1;if(N5()){i.exchangeTokenPromise||(i.exchangeTokenPromise=AM(n8(e,yield P5()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const h=yield i.exchangeTokenPromise;return yield O5(e,h),i.token=h,{token:h.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),r=yield Wa(e).exchangeTokenPromise}catch(h){"appCheck/throttled"===h.code?vD.warn(h.message):vD.error(h),o=h}return r?o?u=wx(r)?{token:r.token,internalError:o}:u8(o):(u={token:r.token},i.token=r,yield O5(e,r)):u=u8(o),a&&c8(e,u),u}),Q5.apply(this,arguments)}function G5(n,t){const e=Wa(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function l8(n){const{app:t}=n,e=Wa(t);let i=e.tokenRefresher;i||(i=function rX(n){const{app:t}=n;return new HJ((0,bt.Z)(function*(){let i;if(i=Wa(t).token?yield pM(n,!0):yield pM(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Wa(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function c8(n,t){const e=Wa(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function wx(n){return n.expireTimeMillis-Date.now()>0}function u8(n){return{token:nX(tX),error:n}}class sX{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Wa(this.app);for(const e of t)G5(this.app,e.next);return Promise.resolve()}}const _8="app-check-internal";!function yX(){(0,ch._registerComponent)(new kp.wA("app-check",n=>function oX(n,t){return new sX(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(_8).initialize()})),(0,ch._registerComponent)(new kp.wA(_8,n=>function aX(n){return{getToken:t=>pM(n,t),addTokenListener:t=>function V5(n,t,e,i){const{app:r}=n,o=Wa(r);if(o.tokenObservers=[...o.tokenObservers,{next:e,error:i,type:t}],o.token&&wx(o.token)){const u=o.token;Promise.resolve().then(()=>{e({token:u.token}),l8(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>l8(n))}(n,"INTERNAL",t),removeTokenListener:t=>G5(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ch.registerVersion)("@firebase/app-check","0.7.0")}();class mM{constructor(){return(0,oo.vb)("app-check")}}typeof window<"u"&&window;var v8=re(9260);const Z5=new s.OlP("angularfire2.auth.use-emulator"),$5=new s.OlP("angularfire2.auth.settings"),Y5=new s.OlP("angularfire2.auth.tenant-id"),W5=new s.OlP("angularfire2.auth.langugage-code"),J5=new s.OlP("angularfire2.auth.use-device-language"),X5=new s.OlP("angularfire.auth.persistence"),eU=(n,t,e,i,r,o,a,u)=>(0,Xc.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const h=t.runOutsideAngular(()=>n.auth());if(e&&h.useEmulator(...e),i&&(h.tenantId=i),h.languageCode=r,o&&h.useDeviceLanguage(),a)for(const[f,_]of Object.entries(a))h.settings[f]=_;return u&&h.setPersistence(u),h},[e,i,r,o,a,u]);let _M=(()=>{class n{constructor(e,i,r,o,a,u,h,f,_,C,F,B){const U=new tn.x,H=An(void 0).pipe((0,lM.Q)(a.outsideAngular),ws(()=>o.runOutsideAngular(()=>Promise.resolve().then(re.bind(re,8523)))),(0,on.U)(()=>(0,Xc.on)(e,o,i)),(0,on.U)(Z=>eU(Z,o,u,f,_,C,h,F)),WV({bufferSize:1,refCount:!1}));if(Ta(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=An(null);else{H.pipe(Qo()).subscribe();const q=H.pipe(ws(xe=>xe.getRedirectResult().then(Ze=>Ze,()=>null)),oo.iC,WV({bufferSize:1,refCount:!1})),W=H.pipe(ws(xe=>new mr.y(Ze=>({unsubscribe:o.runOutsideAngular(()=>xe.onAuthStateChanged(ct=>Ze.next(ct),ct=>Ze.error(ct),()=>Ze.complete()))})))),he=H.pipe(ws(xe=>new mr.y(Ze=>({unsubscribe:o.runOutsideAngular(()=>xe.onIdTokenChanged(ct=>Ze.next(ct),ct=>Ze.error(ct),()=>Ze.complete()))}))));this.authState=q.pipe(JV(W),(0,E5.R)(a.outsideAngular),(0,lM.Q)(a.insideAngular)),this.user=q.pipe(JV(he),(0,E5.R)(a.outsideAngular),(0,lM.Q)(a.insideAngular)),this.idToken=this.user.pipe(ws(xe=>xe?(0,Gn.D)(xe.getIdToken()):An(null))),this.idTokenResult=this.user.pipe(ws(xe=>xe?(0,Gn.D)(xe.getIdTokenResult()):An(null))),this.credential=(0,iu.T)(q,U,this.authState.pipe(_i(xe=>!xe))).pipe((0,on.U)(xe=>xe?.user?xe:null),(0,E5.R)(a.outsideAngular),(0,lM.Q)(a.insideAngular))}return(0,Xc.pX)(this,H,o,{spy:{apply:(Z,q,W)=>{(Z.startsWith("signIn")||Z.startsWith("createUser"))&&W.then(he=>U.next(he))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Xc.Dh),s.LFG(Xc.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(oo.HU),s.LFG(Z5,8),s.LFG($5,8),s.LFG(Y5,8),s.LFG(W5,8),s.LFG(J5,8),s.LFG(X5,8),s.LFG(mM,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),EX=(()=>{class n{constructor(){v8.Z.registerVersion("angularfire",oo.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[_M]}),n})();function w8(n,t){return function SX(n,t=Mp.z){return new mr.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function tU(n,t){return w8(n,t).pipe((0,on.U)(e=>({payload:e,type:"query"})))}function yM(n,t){return tU(n,t).pipe(sa(void 0),gS(),(0,on.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(a=>({type:a.type,payload:a}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,u)=>{const h=r.find(_=>_.doc.ref.isEqual(a.ref)),f=e?.payload.docs.find(_=>_.ref.isEqual(a.ref));h&&JSON.stringify(h.doc.metadata)===JSON.stringify(a.metadata)||!h&&f&&JSON.stringify(f.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:a}})}),o}))}function b8(n,t,e){return yM(n,e).pipe(nc((i,r)=>function DX(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function TX(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return nU(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return nU(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return nU(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),vv(),(0,on.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function nU(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function C8(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class x8{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=yM(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,on.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(sa(void 0),gS(),_i(([i,r])=>r.length>0||!i),(0,on.U)(([i,r])=>r),oo.iC)}auditTrail(t){return this.stateChanges(t).pipe(nc((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=C8(t);return b8(this.query,e,this.afs.schedulers.outsideAngular).pipe(oo.iC)}valueChanges(t={}){return tU(this.query,this.afs.schedulers.outsideAngular).pipe((0,on.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),oo.iC)}get(t){return(0,Gn.D)(this.query.get(t)).pipe(oo.iC)}add(t){return this.ref.add(t)}doc(t){return new E8(this.ref.doc(t),this.afs)}}class E8{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=D8(i,e);return new x8(r,o,this.afs)}snapshotChanges(){return function IX(n,t){return w8(n,t).pipe(sa(void 0),gS(),(0,on.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(oo.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,on.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Gn.D)(this.ref.get(t)).pipe(oo.iC)}}class BX{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?yM(this.query,this.afs.schedulers.outsideAngular).pipe((0,on.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),_i(e=>e.length>0),oo.iC):yM(this.query,this.afs.schedulers.outsideAngular).pipe(oo.iC)}auditTrail(t){return this.stateChanges(t).pipe(nc((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=C8(t);return b8(this.query,e,this.afs.schedulers.outsideAngular).pipe(oo.iC)}valueChanges(t={}){return tU(this.query,this.afs.schedulers.outsideAngular).pipe((0,on.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),oo.iC)}get(t){return(0,Gn.D)(this.query.get(t)).pipe(oo.iC)}}const S8=new s.OlP("angularfire2.enableFirestorePersistence"),I8=new s.OlP("angularfire2.firestore.persistenceSettings"),FX=new s.OlP("angularfire2.firestore.settings"),MX=new s.OlP("angularfire2.firestore.use-emulator");function D8(n,t=(e=>e)){return{query:t(n),ref:n}}let vM=(()=>{class n{constructor(e,i,r,o,a,u,h,f,_,C,F,B,U,H,Z,q,W){this.schedulers=h;const he=(0,Xc.on)(e,u,i),xe=_;C&&eU(he,u,F,U,H,Z,B,q),[this.firestore,this.persistenceEnabled$]=(0,Xc.cc)(`${he.name}.firestore`,"AngularFirestore",he.name,()=>{const Ze=u.runOutsideAngular(()=>he.firestore());if(o&&Ze.settings(o),xe&&Ze.useEmulator(...xe),r&&!Ta(a)){const ct=()=>{try{return(0,Gn.D)(Ze.enablePersistence(f||void 0).then(()=>!0,()=>!1))}catch(Ve){return typeof console<"u"&&console.warn(Ve),An(!1)}};return[Ze,u.runOutsideAngular(ct)]}return[Ze,An(!1)]},[o,xe,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:a}=D8(r,i),u=this.schedulers.ngZone.run(()=>o);return new x8(u,a,this)}collectionGroup(e,i){const r=i||(a=>a),o=this.firestore.collectionGroup(e);return new BX(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new E8(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Xc.Dh),s.LFG(Xc.xv,8),s.LFG(S8,8),s.LFG(FX,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(oo.HU),s.LFG(I8,8),s.LFG(MX,8),s.LFG(_M,8),s.LFG(Z5,8),s.LFG($5,8),s.LFG(Y5,8),s.LFG(W5,8),s.LFG(J5,8),s.LFG(X5,8),s.LFG(mM,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),kX=(()=>{class n{constructor(){v8.Z.registerVersion("angularfire",oo.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:S8,useValue:!0},{provide:I8,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[vM]}),n})();const RX=["Combattiva","Alza skill","Farming risorse","Generica"];let wM=(()=>{class n{constructor(e){this.store=e}GetTipologieMacro(){return RX}capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}getMacro(e){return this.store.collection("MacroUser",r=>r.where("guid","==",e)).valueChanges().pipe((0,on.U)(r=>r.map(o=>{let a=new _w;return a.macro.author=o.author,a.macro.guid=o.guid,a.macro.like=o.like,a.tipologia=o.tipologia,a.macro.title=o.title,a.descrizione=o.descrizione,a.macro.utenti=o.utenti,a.macro.delay=o.delay,a})))}getMacroSettingsUser(e){return this.store.collection("MacroSettingsUser",r=>r.where("guid","==",e)).valueChanges().pipe((0,on.U)(r=>r.map(o=>{let a=new vw;return a.comando=o.comando,a.settings=o.settings,a.type=o.type,a.function=o.function,a.index=o.index,a})))}getMacros(){return this.store.collection("MacroUser").valueChanges().pipe((0,on.U)(i=>i.map(r=>{let o=new mv;return o.author=r.author,o.date=r.dateTimeStamp.toDate(),o.guid=r.guid,o.like=r.like,o.tipologia=r.tipologia,o.title=r.title,o.utenti=r.utenti,o.delay=r.delay,o})))}getMacroSettings(){return this.store.collection("MacroSettings").valueChanges().pipe((0,on.U)(i=>i.map(r=>{let o=new yw;return o.comando=r.comando,o.settings=r.settings,o.type=r.type,o.code=r.code,o.subCode=r.subCode,o})))}addLikeMacro(e,i){var r=new tn.x,o=this.store.collection("MacroUser",a=>a.where("guid","==",e)).valueChanges({idField:"id"}).subscribe(a=>{if(null!=a&&a.length>0&&a[0].author!=i)return a[0].utenti.includes(i)?(a[0].utenti=a[0].utenti.filter(h=>h!=i),a[0].like--):(a[0].utenti.push(i),a[0].like++),this.store.collection("MacroUser").doc(`${a[0].id}`).set({like:a[0].like,utenti:a[0].utenti},{merge:!0}),o.unsubscribe(),r.next(!0)});return r.asObservable()}addMacros(e){this.store.collection("MacroUser").add({author:e.macro.author,title:this.capitalizeFirstLetter(e.macro.title),dateTimeStamp:e.macro.date,descrizione:this.capitalizeFirstLetter(e.descrizione),tipologia:e.macro.tipologia,like:0,guid:e.macro.guid,utenti:e.macro.utenti,delay:e.macro.delay}),e.settings.forEach(i=>{this.store.collection("MacroSettingsUser").add({guid:e.macro.guid,comando:i.comando,settings:i.settings,type:i.type,function:i.function,index:i.index})})}updateMacro(e){var i=this.store.collection("MacroUser",r=>r.where("guid","==",e.macro.guid)).valueChanges({idField:"id"}).subscribe(r=>{if(null!=r&&r.length>0){this.store.collection("MacroUser").doc(`${r[0].id}`).set({title:e.macro.title,descrizione:e.descrizione,tipologia:e.macro.tipologia,delay:e.macro.delay},{merge:!0});const a=this.store.collection("MacroSettingsUser",u=>u.where("guid","==",e.macro.guid)).valueChanges({idField:"id"}).subscribe(u=>{if(u.length>0)for(let h=0;h<u.length;h++)this.store.doc("MacroSettingsUser/"+u[h].id).delete(),h==u.length-1&&e.settings.forEach(f=>{this.store.collection("MacroSettingsUser").add({guid:e.macro.guid,comando:f.comando,settings:f.settings,type:f.type,function:f.function,index:f.index}),a.unsubscribe()})})}i.unsubscribe()},r=>console.error("Error"))}deleteMacro(e){const i=this.store.collection("MacroUser",r=>r.where("guid","==",e)).valueChanges({idField:"id"}).subscribe(r=>{if(r.length>0){this.store.doc("MacroUser/"+r[0].id).delete();const o=this.store.collection("MacroSettingsUser",a=>a.where("guid","==",e)).valueChanges({idField:"id"}).subscribe(a=>{if(a.length>0)for(let u=0;u<a.length;u++)this.store.doc("MacroSettingsUser/"+a[u].id).delete(),u==a.length-1&&(i.unsubscribe(),o.unsubscribe())})}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(vM))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const OX=[{macro:"NW",subcode:"1"},{macro:"N",subcode:"2"},{macro:"NE",subcode:"3"},{macro:"E",subcode:"4"},{macro:"SE",subcode:"5"},{macro:"S",subcode:"6"},{macro:"SW",subcode:"7"},{macro:"W",subcode:"8"},{macro:"Anatomia",subcode:"21"},{macro:"Zoologia",subcode:"22"},{macro:"Addomesticare",subcode:"23"},{macro:"OsservareArmi",subcode:"24"},{macro:"Sbirciare",subcode:"25"},{macro:"AdorareTM",subcode:"26"},{macro:"ScovareNascondigli",subcode:"27"},{macro:"Infuriarsi",subcode:"28"},{macro:"PercezioneMagica",subcode:"29"},{macro:"AnalizzareCorpi",subcode:"30"},{macro:"Nascondersi",subcode:"31"},{macro:"GodersiTM",subcode:"32"},{macro:"Religione",subcode:"33"},{macro:"IdentificareOggetti",subcode:"34"},{macro:"Meditare",subcode:"35"},{macro:"Calmare",subcode:"36"},{macro:"Avvelenare",subcode:"37"},{macro:"Istigare",subcode:"38"},{macro:"DisarmareTrappole",subcode:"39"},{macro:"AscoltareSpiriti",subcode:"40"},{macro:"Rubare",subcode:"41"},{macro:"MuoversiSilenziosamente",subcode:"42"},{macro:"RingraziareTM",subcode:"43"},{macro:"SeguireTracce",subcode:"44"},{macro:"LeftHand",subcode:"45"},{macro:"RightHand",subcode:"46"},{macro:"Hostile",subcode:"193"},{macro:"Party",subcode:"194"},{macro:"Mobile",subcode:"195"}];let wf=(()=>{class n{constructor(e,i,r,o,a){this._platform=e,this.ngxXml2jsonService=i,this.macroService=r,this.activatedRoute=o,this.route=a,this.platform=e}isSmartphone(){return this.platform.ANDROID||this.platform.IOS}ConfirmPasswordValidator(e,i){return r=>{let a=r.controls[i];a?.errors&&!a?.errors.confirmPasswordValidator||a?.setErrors(r.controls[e]?.value!==a?.value?{confirmPasswordValidator:!0}:null)}}navigateOutAdmin(){const e=this.getCurrentPath();["/admin","/utenti","/tickets","/flussoDati","/aggiungiNews"].includes(e)&&this.route.navigate(["/"])}getCurrentPath(){let e=this.activatedRoute.snapshot;for(;e.firstChild;)e=e.firstChild;return this.getFullPath(e.url)}getFullPath(e){return`/${e.map(r=>r.path).join("/")}`}compareDates(e){const i=new Date(Date.now()),r=Math.floor(e.nanoseconds/1e6);return i>new Date(1e3*e.seconds+r)}addMillisecondsToCurrentDate(e){return new Date(Date.now()+e)}capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}MacrosXmlToObject(e){const r=(new DOMParser).parseFromString(e,"text/xml");var a=this.ngxXml2jsonService.xmlToJson(r).macros.macro;let u=new Array;a.forEach(f=>{let _=new LX;_.name=f["@attributes"].name;let C=f.actions.action;if(void 0===C.length){var F=C["@attributes"];_.action.push(new T8(F.code,F.subcode,F.submenutype,F.text?F.text:null))}else C.forEach(B=>{var U=B["@attributes"];_.action.push(new T8(U.code,U.subcode,U.submenutype,U.text?U.text:null))});u.push(_)});let h=["Paperdoll","Options","Journal","Backpack","Radar","Bow","Salute"];return u.filter(f=>!h.includes(f.name))}getAllMacrosByXml(e){var i=new tn.x,r=this.MacrosXmlToObject(e),o=new Array;return this.macroService.getMacroSettings().subscribe(a=>{let u=a;r.forEach(h=>{let f=new dS;f.macro.macro.title=h.name,h.action.forEach(_=>{let C=new vw,F=u.find(B=>B.code==_.code);if(void 0!==F){F?.settings&&(C.settings=F?.settings),F?.comando&&(C.comando=F?.comando),F?.type&&(C.type=F?.type),"0"!=_.subcode&&(C.function=OX.filter(U=>U.subcode===_.subcode)[0].macro);let B=_.text;B&&(C.function=B),f.settings.push(C)}}),""!=f.macro.macro.title&&o.push(f)}),i.next(o)}),i.asObservable()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ms),s.LFG(df),s.LFG(wM),s.LFG(Lu),s.LFG(ls))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class LX{constructor(){this.action=new Array}}class T8{constructor(t,e,i,r){this.code=t,this.subcode=e,this.subMenuType=i,this.text=r||""}}class NX{static getRuoliFromRoles(t){var e=new Array;return t.forEach(i=>{switch(i){case"511946618682081281":e.push("Cittadino");break;case"511948559902572554":case"709809389766311998":e.push("Regnante");break;case"710160889990348820":e.push("Valinrim");break;case"1079385953765949480":e.push("Ceorita")}}),e}}class PX{constructor(t,e,i,r){this.interno=!1,e?(this.id=e.user.id,this.username=e.user.username,this.ruoli=NX.getRuoliFromRoles(e.roles),this.roles=e.roles):(this.id=i,this.username=r,this.ruoli=[]),this.token=t}}function Ci(n){return null!=n&&"false"!=`${n}`}function su(n,t=0){return B8(n)?Number(n):t}function B8(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function bM(n){return Array.isArray(n)?n:[n]}function Vl(n){return null==n?"":"string"==typeof n?n:`${n}px`}function _y(n){return n instanceof s.SBq?n.nativeElement:n}var UX=re(1144);const QX=["addListener","removeListener"],HX=["addEventListener","removeEventListener"],VX=["on","off"];function A0(n,t,e,i){if((0,zs.m)(e)&&(i=e,e=void 0),i)return A0(n,t,e).pipe(tc(i));const[r,o]=function zX(n){return(0,zs.m)(n.addEventListener)&&(0,zs.m)(n.removeEventListener)}(n)?HX.map(a=>u=>n[a](t,u,e)):function GX(n){return(0,zs.m)(n.addListener)&&(0,zs.m)(n.removeListener)}(n)?QX.map(F8(n,t)):function jX(n){return(0,zs.m)(n.on)&&(0,zs.m)(n.off)}(n)?VX.map(F8(n,t)):[];if(!r&&(0,UX.z)(n))return(0,wo.z)(a=>A0(a,t,e))((0,Qa.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new mr.y(a=>{const u=(...h)=>a.next(1<h.length?h:h[0]);return r(u),()=>o(u)})}function F8(n,t){return e=>i=>n[e](t,i)}var M8=re(4408);const wD={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=wD;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new Uo.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=wD;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=wD;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var k8=re(7565);new class KX extends k8.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const o=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<o&&(t=e.shift()));if(this._active=!1,i){for(;++r<o&&(t=e.shift());)t.unsubscribe();throw i}}}(class qX extends M8.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=wD.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(wD.cancelAnimationFrame(e),t._scheduled=void 0)}});let iU,$X=1;const CM={};function R8(n){return n in CM&&(delete CM[n],!0)}const YX={setImmediate(n){const t=$X++;return CM[t]=!0,iU||(iU=Promise.resolve()),iU.then(()=>R8(t)&&n()),t},clearImmediate(n){R8(n)}},{setImmediate:WX,clearImmediate:JX}=YX,xM={setImmediate(...n){const{delegate:t}=xM;return(t?.setImmediate||WX)(...n)},clearImmediate(n){const{delegate:t}=xM;return(t?.clearImmediate||JX)(n)},delegate:void 0};new class eee extends k8.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const o=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<o&&(t=e.shift()));if(this._active=!1,i){for(;++r<o&&(t=e.shift());)t.unsubscribe();throw i}}}(class XX extends M8.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=xM.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(xM.clearImmediate(e),t._scheduled=void 0)}});var iee=re(3532);function O8(n){return n instanceof Date&&!isNaN(n)}function L8(n=0,t,e=Mp.P){let i=-1;return null!=t&&((0,iee.K)(t)?e=t:i=t),new mr.y(r=>{let o=O8(n)?+n-e.now():n;o<0&&(o=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function rU(n,t=Mp.P){return function nee(n){return(0,Wr.e)((t,e)=>{let i=!1,r=null,o=null,a=!1;const u=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const f=r;r=null,e.next(f)}a&&e.complete()},h=()=>{o=null,a&&e.complete()};t.subscribe(new Nr.Q(e,f=>{i=!0,r=f,o||(0,Qa.Xf)(n(f)).subscribe(o=new Nr.Q(e,u,h))},()=>{a=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>L8(n,t))}var sU=re(5032);function Wi(n){return(0,Wr.e)((t,e)=>{(0,Qa.Xf)(n).subscribe(new Nr.Q(e,()=>e.complete(),sU.Z)),!e.closed&&t.subscribe(e)})}const ree=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function see(){return(0,s.f3M)(Ke)}}),oee=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let bf=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function aee(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?oee.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ree,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ib=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),bD=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new tn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new mr.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(rU(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):An()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(_i(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=_y(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>A0(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Ms),s.LFG(Ke,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CD=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new tn.x,this._elementScrolled=new mr.y(a=>this.ngZone.runOutsideAngular(()=>A0(this.elementRef.nativeElement,"scroll").pipe(Wi(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=bw()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==bw()?e.left=e.right:1==bw()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;wL()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const a=this.dir&&"rtl"==this.dir.value;return"start"==e?e=a?r:i:"end"==e&&(e=a?i:r),a&&2==bw()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:a&&1==bw()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(bD),s.Y36(s.R0b),s.Y36(bf,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),bx=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new tn.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(rU(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ms),s.LFG(s.R0b),s.LFG(Ke,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),oU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ib,Cx,Ib,Cx]}),n})();class aU{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class xx extends aU{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class xD extends aU{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class uee extends aU{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class EM{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof xx?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof xD?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof uee?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class dee extends EM{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=a=>{const u=a.element,h=this._document.createComment("dom-portal");u.parentNode.insertBefore(h,u),this.outletElement.appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Ex=(()=>{class n extends EM{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new s.vpe,this.attachDomPortal=o=>{const a=o.element,u=this._document.createComment("dom-portal");o.setAttachedHost(this),a.parentNode.insertBefore(u,a),this._getRootNode().appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(a,u)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(Ke))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),n})(),Db=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function Pm(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}const Q8=wL();class Cee{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Vl(-this._previousScrollPosition.left),t.style.top=Vl(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Q8&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Q8&&(i.scrollBehavior=o,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class xee{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class H8{enable(){}disable(){}attach(){}}function uU(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function V8(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Eee{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();uU(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let See=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new H8,this.close=a=>new xee(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new Cee(this._viewportRuler,this._document),this.reposition=a=>new Eee(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(bD),s.LFG(bx),s.LFG(s.R0b),s.LFG(Ke))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class SM{constructor(t){if(this.scrollStrategy=new H8,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class Iee{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let G8=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ke))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Dee=(()=>{class n extends G8{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){const u=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>u.next(r)):u.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ke),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tee=(()=>{class n extends G8{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Q_(o)},this._clickListener=o=>{const a=Q_(o),u="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const h=this._attachedOverlays.slice();for(let f=h.length-1;f>-1;f--){const _=h[f];if(_._outsidePointerEvents.observers.length<1||!_.hasAttached())continue;if(_.overlayElement.contains(a)||_.overlayElement.contains(u))break;const C=_._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>C.next(o)):C.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ke),s.LFG(Ms),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IM=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||pS()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),pS()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ke),s.LFG(Ms))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class DD{constructor(t,e,i,r,o,a,u,h,f,_=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=a,this._document=u,this._location=h,this._outsideClickDispatcher=f,this._animationsDisabled=_,this._backdropElement=null,this._backdropClick=new tn.x,this._attachments=new tn.x,this._detachments=new tn.x,this._locationChanges=Uo.w0.EMPTY,this._backdropClickHandler=C=>this._backdropClick.next(C),this._backdropTransitionendHandler=C=>{this._disposeBackdrop(C.target)},this._keydownEvents=new tn.x,this._outsidePointerEvents=new tn.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Jr.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Vl(this._config.width),t.height=Vl(this._config.height),t.minWidth=Vl(this._config.minWidth),t.minHeight=Vl(this._config.minHeight),t.maxWidth=Vl(this._config.maxWidth),t.maxHeight=Vl(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=bM(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Wi((0,iu.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const j8="cdk-overlay-connected-position-bounding-box",Bee=/([A-Za-z%]+)$/;class Fee{constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new tn.x,this._resizeSubscription=Uo.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(j8),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let a;for(let u of this._preferredPositions){let h=this._getOriginPoint(t,r,u),f=this._getOverlayPoint(h,e,u),_=this._getOverlayFit(f,e,i,u);if(_.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,h);this._canFitWithFlexibleDimensions(_,f,i)?o.push({position:u,origin:h,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(h,u)}):(!a||a.overlayFit.visibleArea<_.visibleArea)&&(a={overlayFit:_,overlayPoint:f,originPoint:h,position:u,overlayRect:e})}if(o.length){let u=null,h=-1;for(const f of o){const _=f.boundingBoxRect.width*f.boundingBoxRect.height*(f.position.weight||1);_>h&&(h=_,u=f)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Tb(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(j8),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const a=this._isRtl()?t.right:t.left,u=this._isRtl()?t.left:t.right;r="start"==i.originX?a:u}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=q8(e);let{x:a,y:u}=t,h=this._getOffset(r,"x"),f=this._getOffset(r,"y");h&&(a+=h),f&&(u+=f);let F=0-u,B=u+o.height-i.height,U=this._subtractOverflows(o.width,0-a,a+o.width-i.width),H=this._subtractOverflows(o.height,F,B),Z=U*H;return{visibleArea:Z,isCompletelyWithinViewport:o.width*o.height===Z,fitsInViewportVertically:H===o.height,fitsInViewportHorizontally:U==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,a=z8(this._overlayRef.getConfig().minHeight),u=z8(this._overlayRef.getConfig().minWidth),f=t.fitsInViewportHorizontally||null!=u&&u<=o;return(t.fitsInViewportVertically||null!=a&&a<=r)&&f}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=q8(e),o=this._viewportRect,a=Math.max(t.x+r.width-o.width,0),u=Math.max(t.y+r.height-o.height,0),h=Math.max(o.top-i.top-t.y,0),f=Math.max(o.left-i.left-t.x,0);let _=0,C=0;return _=r.width<=o.width?f||-a:t.x<this._viewportMargin?o.left-i.left-t.x:0,C=r.height<=o.height?h||-u:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:_,y:C},{x:t.x+_,y:t.y+C}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Iee(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,a,u,_,C,F;if("top"===e.overlayY)a=t.y,o=i.height-a+this._viewportMargin;else if("bottom"===e.overlayY)u=i.height-t.y+2*this._viewportMargin,o=i.height-u+this._viewportMargin;else{const B=Math.min(i.bottom-t.y+i.top,t.y),U=this._lastBoundingBoxSize.height;o=2*B,a=t.y-B,o>U&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-U/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)F=i.width-t.x+this._viewportMargin,_=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)C=t.x,_=i.right-t.x;else{const B=Math.min(i.right-t.x+i.left,t.x),U=this._lastBoundingBoxSize.width;_=2*B,C=t.x-B,_>U&&!this._isInitialRender&&!this._growAfterOpen&&(C=t.x-U/2)}return{top:a,left:C,bottom:u,right:F,width:_,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=Vl(i.height),r.top=Vl(i.top),r.bottom=Vl(i.bottom),r.width=Vl(i.width),r.left=Vl(i.left),r.right=Vl(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Vl(o)),a&&(r.maxWidth=Vl(a))}this._lastBoundingBoxSize=i,Tb(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Tb(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Tb(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){const _=this._viewportRuler.getViewportScrollPosition();Tb(i,this._getExactOverlayY(e,t,_)),Tb(i,this._getExactOverlayX(e,t,_))}else i.position="static";let u="",h=this._getOffset(e,"x"),f=this._getOffset(e,"y");h&&(u+=`translateX(${h}px) `),f&&(u+=`translateY(${f}px)`),i.transform=u.trim(),a.maxHeight&&(r?i.maxHeight=Vl(a.maxHeight):o&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=Vl(a.maxWidth):o&&(i.maxWidth="")),Tb(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Vl(o.y),r}_getExactOverlayX(t,e,i){let a,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),a=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===a?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Vl(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:V8(t,i),isOriginOutsideView:uU(t,i),isOverlayClipped:V8(e,i),isOverlayOutsideView:uU(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&bM(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Tb(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function z8(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(Bee);return e&&"px"!==e?null:parseFloat(t)}return n||null}function q8(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const K8="cdk-global-overlay-wrapper";class Mee{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(K8),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:a,maxHeight:u}=i,h=!("100%"!==r&&"100vw"!==r||a&&"100%"!==a&&"100vw"!==a),f=!("100%"!==o&&"100vh"!==o||u&&"100%"!==u&&"100vh"!==u),_=this._xPosition,C=this._xOffset,F="rtl"===this._overlayRef.getConfig().direction;let B="",U="",H="";h?H="flex-start":"center"===_?(H="center",F?U=C:B=C):F?"left"===_||"end"===_?(H="flex-end",B=C):("right"===_||"start"===_)&&(H="flex-start",U=C):"left"===_||"start"===_?(H="flex-start",B=C):("right"===_||"end"===_)&&(H="flex-end",U=C),t.position=this._cssPosition,t.marginLeft=h?"0":B,t.marginTop=f?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=h?"0":U,e.justifyContent=H,e.alignItems=f?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(K8),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let kee=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new Mee}flexibleConnectedTo(e){return new Fee(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(bx),s.LFG(Ke),s.LFG(Ms),s.LFG(IM))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ree=0,Cf=(()=>{class n{constructor(e,i,r,o,a,u,h,f,_,C,F,B){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=u,this._ngZone=h,this._document=f,this._directionality=_,this._location=C,this._outsideClickDispatcher=F,this._animationsModuleType=B}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),a=new SM(e);return a.direction=a.direction||this._directionality.value,new DD(o,i,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Ree++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new dee(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(See),s.LFG(IM),s.LFG(s._Vd),s.LFG(kee),s.LFG(Dee),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(Ke),s.LFG(bf),s.LFG(Jt),s.LFG(Tee),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Oee=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Z8=new s.OlP("cdk-connected-overlay-scroll-strategy");let $8=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),Y8=(()=>{class n{constructor(e,i,r,o,a){this._overlay=e,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Uo.w0.EMPTY,this._attachSubscription=Uo.w0.EMPTY,this._detachSubscription=Uo.w0.EMPTY,this._positionSubscription=Uo.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new s.vpe,this.positionChange=new s.vpe,this.attach=new s.vpe,this.detach=new s.vpe,this.overlayKeydown=new s.vpe,this.overlayOutsideClick=new s.vpe,this._templatePortal=new xD(i,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Ci(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Ci(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Ci(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Ci(e)}get push(){return this._push}set push(e){this._push=Ci(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Oee);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Pm(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new SM({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof $8?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(KA(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Cf),s.Y36(s.Rgc),s.Y36(s.s_b),s.Y36(Z8),s.Y36(bf,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[s.TTD]}),n})();const Nee={provide:Z8,deps:[Cf],useFactory:function Lee(n){return()=>n.scrollStrategies.reposition()}};let Sx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Cf,Nee],imports:[Ib,Db,oU,oU]}),n})();function TD(n,t=Mp.z){return(0,Wr.e)((e,i)=>{let r=null,o=null,a=null;const u=()=>{if(r){r.unsubscribe(),r=null;const f=o;o=null,i.next(f)}};function h(){const f=a+n,_=t.now();if(_<f)return r=this.schedule(void 0,f-_),void i.add(r);u()}e.subscribe(new Nr.Q(i,f=>{o=f,a=t.now(),r||(r=t.schedule(h,n),i.add(r))},()=>{u(),i.complete()},void 0,()=>{o=r=null}))})}function W8(n){return _i((t,e)=>n<=e)}let J8=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pee=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=_y(e);return new mr.y(r=>{const a=this._observeElement(i).subscribe(r);return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new tn.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(J8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dU=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Ci(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=su(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(TD(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Pee),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),DM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[J8]}),n})();const X8=new Set;let Ix,Uee=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Hee}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Qee(n){if(!X8.has(n))try{Ix||(Ix=document.createElement("style"),Ix.setAttribute("type","text/css"),document.head.appendChild(Ix)),Ix.sheet&&(Ix.sheet.insertRule(`@media ${n} {body{ }}`,0),X8.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ms))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Hee(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let TM=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new tn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return e7(bM(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=al(e7(bM(e)).map(a=>this._registerQuery(a).observable));return o=ll(o.pipe((0,Jr.q)(1)),o.pipe(W8(1),TD(0))),o.pipe((0,on.U)(a=>{const u={matches:!1,breakpoints:{}};return a.forEach(({matches:h,query:f})=>{u.matches=u.matches||h,u.breakpoints[f]=h}),u}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new mr.y(a=>{const u=h=>this._zone.run(()=>a.next(h));return i.addListener(u),()=>{i.removeListener(u)}}).pipe(sa(i),(0,on.U)(({matches:a})=>({query:e,matches:a})),Wi(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Uee),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function e7(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function BM(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const i7="cdk-describedby-message",FM="cdk-describedby-host";let hU=0,r7=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+hU++,this._document=e,this._id=(0,s.f3M)(s.AFp)+"-"+hU++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const o=AU(i,r);"string"!=typeof i?(s7(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const o=AU(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof i){const a=this._messageRegistry.get(o);a&&0===a.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${FM}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(FM);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");s7(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(AU(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=BM(e,"aria-describedby").filter(r=>0!=r.indexOf(i7));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function Vee(n,t,e){const i=BM(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(FM,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function Gee(n,t,e){const r=BM(n,t).filter(o=>o!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(FM)}_isElementDescribedByMessage(e,i){const r=BM(e,"aria-describedby"),o=this._messageRegistry.get(i),a=o&&o.messageElement.id;return!!a&&-1!=r.indexOf(a)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ke),s.LFG(Ms))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AU(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function s7(n,t){n.id||(n.id=`${i7}-${t}-${hU++}`)}class o7{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new tn.x,this._typeaheadSubscription=Uo.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new tn.x,this.change=new tn.x,t instanceof s.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Cr.b)(e=>this._pressedLetters.push(e)),TD(t),_i(()=>this._pressedLetters.length>0),(0,on.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,a=i[o];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Pm(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof s.n_E?this._items.toArray():this._items}}class jee extends o7{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class zee extends o7{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let BD=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Kee(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function qee(n){try{return n.frameElement}catch{return null}}(function tte(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===l7(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=l7(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Xee(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function ete(n){return!function $ee(n){return function Wee(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Zee(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function Yee(n){return function Jee(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||a7(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ms))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function a7(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function l7(n){if(!a7(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class nte{constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,Jr.q)(1)).subscribe(t)}}let MM=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new nte(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(BD),s.LFG(s.R0b),s.LFG(Ke))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function c7(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function u7(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const ite=new s.OlP("cdk-input-modality-detector-options"),rte={ignoreKeys:[18,17,224,91,16]},Dx=ww({passive:!0,capture:!0});let ste=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new pr(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(u=>u===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Q_(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(c7(a)?"keyboard":"mouse"),this._mostRecentTarget=Q_(a))},this._onTouchstart=a=>{u7(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Q_(a))},this._options={...rte,...o},this.modalityDetected=this._modality.pipe(W8(1)),this.modalityChanged=this.modalityDetected.pipe(vv()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Dx),r.addEventListener("mousedown",this._onMousedown,Dx),r.addEventListener("touchstart",this._onTouchstart,Dx)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Dx),document.removeEventListener("mousedown",this._onMousedown,Dx),document.removeEventListener("touchstart",this._onTouchstart,Dx))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ms),s.LFG(s.R0b),s.LFG(Ke),s.LFG(ite,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ote=new s.OlP("liveAnnouncerElement",{providedIn:"root",factory:function ate(){return null}}),lte=new s.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let fU=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,a;return 1===i.length&&"number"==typeof i[0]?a=i[0]:[o,a]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==a&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",o),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(u=>this._currentResolve=u)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ote,8),s.LFG(s.R0b),s.LFG(Ke),s.LFG(lte,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cte=new s.OlP("cdk-focus-monitor-default-options"),kM=ww({passive:!0,capture:!0});let Kp=(()=>{class n{constructor(e,i,r,o,a){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new tn.x,this._rootNodeFocusAndBlurListener=u=>{for(let f=Q_(u);f;f=f.parentElement)"focus"===u.type?this._onFocus(u,f):this._onBlur(u,f)},this._document=o,this._detectionMode=a?.detectionMode||0}monitor(e,i=!1){const r=_y(e);if(!this._platform.isBrowser||1!==r.nodeType)return An(null);const o=GT(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;const u={checkChildren:i,subject:new tn.x,rootNode:o};return this._elementInfo.set(r,u),this._registerGlobalListeners(u),u.subject}stopMonitoring(e){const i=_y(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=_y(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([u,h])=>this._originChanged(u,i,h)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Q_(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,kM),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,kM)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Wi(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,kM),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,kM),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let a=0;a<o.length;a++)if(o[a].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Ms),s.LFG(ste),s.LFG(Ke,8),s.LFG(cte,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const h7="cdk-high-contrast-black-on-white",A7="cdk-high-contrast-white-on-black",pU="cdk-high-contrast-active";let f7=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,s.f3M)(TM).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(pU,h7,A7),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(pU,h7):2===i&&e.add(pU,A7)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ms),s.LFG(Ke))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),p7=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(f7))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[DM]}),n})();function ute(n,t){if(1&n&&s._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=s.oxw();s.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function dte(n,t){if(1&n&&(s.TgZ(0,"span",5),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.hij("(",e.group.label,")")}}const hte=["*"];let Ate=(()=>{class n{}return n.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",n.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",n.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",n.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",n})(),fte=(()=>{class n{}return n.COMPLEX="375ms",n.ENTERING="225ms",n.EXITING="195ms",n})();const gte=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function pte(){return!0}});let hr=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!pS()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(f7),s.LFG(gte,8),s.LFG(Ke))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ib,Ib]}),n})();function Bb(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Ci(t)}}}function f0(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function RM(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Ci(t)}}}function OM(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?su(e):this.defaultTabIndex}}}function _7(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}}}function y7(n){return class extends n{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new mr.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}const mte=new s.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function _te(){return(0,s.f3M)(s.soG)}});class v7{constructor(){this._localeChanges=new tn.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const yte=new s.OlP("mat-date-formats"),vte=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function gU(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let wte=(()=>{class n extends v7{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return gU(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return gU(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return gU(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let o=this._createDateWithOverflow(e,i,r);return o.getMonth(),o}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(vte.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const o=new Date;return o.setFullYear(e,i,r),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(mte,8),s.LFG(Ms))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const bte={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Cte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:v7,useClass:wte}]}),n})(),xte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:yte,useValue:bte}],imports:[Cte]}),n})(),LM=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ete{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const w7={enterDuration:225,exitDuration:150},mU=ww({passive:!0}),b7=["mousedown","touchstart"],C7=["mouseup","mouseleave","touchend","touchcancel"];class Ite{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=_y(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...w7,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const a=i.radius||function Dte(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),u=t-r.left,h=e-r.top,f=o.enterDuration,_=document.createElement("div");_.classList.add("mat-ripple-element"),_.style.left=u-a+"px",_.style.top=h-a+"px",_.style.height=2*a+"px",_.style.width=2*a+"px",null!=i.color&&(_.style.backgroundColor=i.color),_.style.transitionDuration=`${f}ms`,this._containerElement.appendChild(_);const C=window.getComputedStyle(_),B=C.transitionDuration,U="none"===C.transitionProperty||"0s"===B||"0s, 0s"===B,H=new Ete(this,_,i,U);_.style.transform="scale3d(1, 1, 1)",H.state=0,i.persistent||(this._mostRecentTransientRipple=H);let Z=null;return!U&&(f||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const q=()=>this._finishRippleTransition(H),W=()=>this._destroyRipple(H);_.addEventListener("transitionend",q),_.addEventListener("transitioncancel",W),Z={onTransitionEnd:q,onTransitionCancel:W}}),this._activeRipples.set(H,Z),(U||!f)&&this._finishRippleTransition(H),H}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...w7,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=_y(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(b7))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(C7),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=c7(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!u7(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,mU)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(b7.forEach(t=>{this._triggerElement.removeEventListener(t,this,mU)}),this._pointerUpEventsRegistered&&C7.forEach(t=>{this._triggerElement.removeEventListener(t,this,mU)}))}}const Tte=new s.OlP("mat-ripple-global-options");let Fb=(()=>{class n{constructor(e,i,r,o,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Ite(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(Ms),s.Y36(Tte,8),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),MD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[hr,hr]}),n})(),Bte=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&s.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),Fte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[hr]}),n})();const x7=new s.OlP("MAT_OPTION_PARENT_COMPONENT"),E7=new s.OlP("MatOptgroup");let Mte=0;class kte{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let Rte=(()=>{class n{constructor(e,i,r,o){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Mte++,this.onSelectionChange=new s.vpe,this._stateChanges=new tn.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Ci(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Pm(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new kte(this,e))}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),Mb=(()=>{class n extends Rte{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(x7,8),s.Y36(E7,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(o){return i._handleKeydown(o)}),2&e&&(s.Ikx("id",i.id),s.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),s.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[s.qOj],ngContentSelectors:hte,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,ute,1,2,"mat-pseudo-checkbox",0),s.TgZ(1,"span",1),s.Hsn(2),s.qZA(),s.YNc(3,dte,2,1,"span",2),s._UZ(4,"div",3)),2&e&&(s.Q6J("ngIf",i.multiple),s.xp6(3),s.Q6J("ngIf",i.group&&i.group._inert),s.xp6(1),s.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[Fb,Li,Bte],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),n})();function S7(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),o=0;for(let a=0;a<n+1;a++)i[a].group&&i[a].group===r[o]&&o++;return o}return 0}let I7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[MD,ea,hr,Fte]}),n})();const D7=["mat-button",""],T7=["*"],Pte=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Ute=f0(Bb(RM(class{constructor(n){this._elementRef=n}})));let Fd=(()=>{class n extends Ute{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of Pte)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Kp),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&s.Gf(Fb,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:D7,ngContentSelectors:T7,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1)(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[Fb],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),B7=(()=>{class n extends Fd{constructor(e,i,r,o){super(i,e,r),this._ngZone=o,this._haltDisabledEvents=a=>{this.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone?this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}):this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Kp),s.Y36(s.SBq),s.Y36(s.QbO,8),s.Y36(s.R0b,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("tabindex",i.disabled?-1:i.tabIndex)("disabled",i.disabled||null)("aria-disabled",i.disabled.toString()),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[s.qOj],attrs:D7,ngContentSelectors:T7,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1)(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[Fb],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),NM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[MD,hr,hr]}),n})();class F7{}class Qte{}const yy="*";function Tc(n,t){return{type:7,name:n,definitions:t,options:{}}}function To(n,t=null){return{type:4,styles:t,timings:n}}function M7(n,t=null){return{type:3,steps:n,options:t}}function k7(n,t=null){return{type:2,steps:n,options:t}}function ui(n){return{type:6,styles:n,offset:null}}function Hr(n,t,e){return{type:0,name:n,styles:t,options:e}}function kD(n){return{type:5,steps:n}}function Ws(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function PM(n=null){return{type:9,options:n}}function UM(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function R7(n){Promise.resolve().then(n)}class RD{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){R7(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class O7{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?R7(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==o&&this._onFinish()}),a.onDestroy(()=>{++i==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,u)=>Math.max(a,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function Hte(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2)(1,"button",3),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.action())}),s._uU(2),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(2),s.Oqu(e.data.action)}}function Vte(n,t){}const L7=new s.OlP("MatSnackBarData");class QM{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const Gte=Math.pow(2,31)-1;class yU{constructor(t,e){this._overlayRef=e,this._afterDismissed=new tn.x,this._afterOpened=new tn.x,this._onAction=new tn.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,Gte))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let jte=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(yU),s.Y36(L7))},n.\u0275cmp=s.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"span",0),s._uU(1),s.qZA(),s.YNc(2,Hte,3,1,"div",1)),2&e&&(s.xp6(1),s.Oqu(i.data.message),s.xp6(1),s.Q6J("ngIf",i.hasAction))},dependencies:[Li,Fd],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),n})();const zte={snackBarState:Tc("state",[Hr("void, hidden",ui({transform:"scale(0.8)",opacity:0})),Hr("visible",ui({transform:"scale(1)",opacity:1})),Ws("* => visible",To("150ms cubic-bezier(0, 0, 0.2, 1)")),Ws("* => void, * => hidden",To("75ms cubic-bezier(0.4, 0.0, 1, 1)",ui({opacity:0})))])};let qte=(()=>{class n extends EM{constructor(e,i,r,o,a){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=a,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new tn.x,this._onExit=new tn.x,this._onEnter=new tn.x,this._animationState="void",this.attachDomPortal=u=>{this._assertNotAttached();const h=this._portalOutlet.attachDomPortal(u);return this._afterPortalAttached(),h},this._live="assertive"!==a.politeness||a.announcementMessage?"off"===a.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,Jr.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.R0b),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Ms),s.Y36(QM))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&s.Gf(Ex,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},features:[s.qOj]}),n})(),Kte=(()=>{class n extends qte{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&s.WFA("@state.done",function(o){return i.onAnimationEnd(o)}),2&e&&s.d8E("@state",i._animationState)},features:[s.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.YNc(1,Vte,0,0,"ng-template",1),s.qZA(),s._UZ(2,"div")),2&e&&(s.xp6(2),s.uIk("aria-live",i._live)("role",i._role))},dependencies:[Ex],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[zte.snackBarState]}}),n})(),N7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Sx,Db,ea,NM,hr,hr]}),n})();const P7=new s.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function Zte(){return new QM}});let $te=(()=>{class n{constructor(e,i,r,o,a,u){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=a,this._defaultConfig=u,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const o={...this._defaultConfig,...r};return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const o=s.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:QM,useValue:i}]}),a=new xx(this.snackBarContainerComponent,i.viewContainerRef,o),u=e.attach(a);return u.instance.snackBarConfig=i,u.instance}_attach(e,i){const r={...new QM,...this._defaultConfig,...i},o=this._createOverlay(r),a=this._attachSnackBarContainer(o,r),u=new yU(a,o);if(e instanceof s.Rgc){const h=new xD(e,null,{$implicit:r.data,snackBarRef:u});u.instance=a.attachTemplatePortal(h)}else{const h=this._createInjector(r,u),f=new xx(e,void 0,h),_=a.attachComponentPortal(f);u.instance=_.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Wi(o.detachments())).subscribe(h=>{o.overlayElement.classList.toggle(this.handsetCssClass,h.matches)}),r.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(u,r),this._openedSnackBarRef=u,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new SM;i.direction=e.direction;let r=this._overlay.position().global();const o="rtl"===e.direction,a="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!o||"end"===e.horizontalPosition&&o,u=!a&&"center"!==e.horizontalPosition;return a?r.left("0"):u?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return s.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:yU,useValue:i},{provide:L7,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Cf),s.LFG(fU),s.LFG(s.zs3),s.LFG(TM),s.LFG(n,12),s.LFG(P7))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),U7=(()=>{class n extends $te{constructor(e,i,r,o,a,u){super(e,i,r,o,a,u),this.simpleSnackBarComponent=jte,this.snackBarContainerComponent=Kte,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Cf),s.LFG(fU),s.LFG(s.zs3),s.LFG(TM),s.LFG(n,12),s.LFG(P7))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:N7}),n})();const OD="https://discord.com/api/v10";let fh=(()=>{class n{constructor(e,i,r,o,a,u){this.store=e,this._snackBar=i,this.activated=r,this.http=o,this.utils=a,this.route=u,this.isRotinrim=!1,this.develop=!1,this.redirectUrl="",this.clientId="",this.clientSecret="",this.loggedIn=new pr(!1),this.regnanteIn=new pr(!1);const h=re(7986);this.develop=h.develop,this.develop?(this.redirectUrl="http://localhost:4200/",this.clientId="960448858926768148",this.clientSecret="nQw62DUdZc5DaaYEZ6CB7IyqgtFqUnHY"):(this.redirectUrl="https://fabiodagostino.github.io/rot/",this.clientId="1106594210242625579",this.clientSecret="74VfRYTw1f-ERkI4rfJGSVGwP3ShCsNe")}get isLoggedInObs(){return this.loggedIn.asObservable()}get isRegnanteInObs(){return this.regnanteIn.asObservable()}getGuilds(e){const i=(new pl).set("Authorization",`Bearer ${e}`);return this.http.get(`${OD}/users/@me/guilds`,{headers:i})}getUserGuildInfo(e){const i=(new pl).set("Authorization",`Bearer ${e}`);return this.http.get(`${OD}/users/@me/guilds/511856322141093904/member`,{headers:i})}getUserInfo(e){const i=(new pl).set("Authorization",`Bearer ${e}`);return this.http.get(`${OD}/users/@me`,{headers:i})}logicaLogin(e){var i=new tn.x;return this.getGuilds(e.access_token).subscribe(r=>{r.find(o=>o.id.includes("511856322141093904"))?this.getUserGuildInfo(e.access_token).subscribe(o=>{const a=this.okLogin(e,"Rotiniel",o);i.next(a)},o=>{this.getUserInfo(e.access_token).subscribe(a=>{const u=this.okLogin(e,"Rotiniel",void 0,a.id,a.username);i.next(u)})}):r.find(o=>o.id.includes("608322373057249290"))?this.getUserInfo(e.access_token).subscribe(o=>{i.next(this.okLogin(e,"The Miracle Shard",void 0,o.id,o.username))}):this.openSnackBar("loginFallita")}),i.asObservable()}okLogin(e,i,r,o,a){var u,h;const f=new PX(e,r,o,a);return f.serverAutenticazione=i,this.checkUser(f).subscribe(),this.openSnackBar("login"),this.loggedIn.next(!0),localStorage.setItem("idUser",f.id),!(null===(u=f.ruoli)||void 0===u)&&u.includes("Cittadino")&&(this.isRotinrim=!0,f.interno=!0),!(null===(h=f.ruoli)||void 0===h)&&h.includes("Regnante")&&this.regnanteIn.next(!0),f}loginDiscord(e){var i=new tn.x;return this.getAccessToken(e).subscribe(r=>{this.logicaLogin(r).subscribe(o=>{this.userLoggato=o,this.loggedIn.next(!0),i.next(o)})}),i.asObservable()}getAccessToken(e){var i=new tn.x;let o=new URLSearchParams;return o.append("client_id",this.clientId),o.append("client_secret",this.clientSecret),o.append("grant_type","authorization_code"),o.append("code",e),o.append("redirect_uri",this.redirectUrl),this.http.post(`${OD}/oauth2/token`,o,{headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}}).subscribe(a=>{a.expires=this.utils.addMillisecondsToCurrentDate(a.expires_in),i.next(a)}),i.asObservable()}rekoveAccessToken(){let i=new URLSearchParams;i.append("client_id",this.clientId),i.append("client_secret",this.clientSecret),i.append("redirect_uri",this.redirectUrl),i.append("token",localStorage.getItem("token")),localStorage.getItem("token")&&this.http.post(`${OD}/oauth2/token/revoke`,i,{headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}}).subscribe(r=>{})}getQueryParams(){return this.activated.snapshot.queryParamMap.get("code")}checkUser(e){var i=new tn.x,r=this.store.collection("User",o=>o.where("username","==",e.username)).valueChanges({idField:"id"}).subscribe(o=>{o.length>0?this.store.collection("User").doc(`${o[0].id}`).set({lastExpiresToken:e.token.expires,ruoli:e.ruoli},{merge:!0}):this.registrati(e),r.unsubscribe()});return i.asObservable()}registrati(e){this.store.collection("User").add({username:e.username,roles:e.ruoli,lastExpiresToken:e.token.expires,id:e.id,serverAutenticazione:e.serverAutenticazione})}getUser(){const e=localStorage.getItem("idUser");var i=new tn.x,r=this.store.collection("User",o=>o.where("id","==",e)).valueChanges().subscribe(o=>{1==o.length&&(i.next(o[0]),r.unsubscribe())});return i.asObservable()}getUsers(){var e=new tn.x,i=this.store.collection("User").valueChanges().subscribe(r=>{r.length>0&&(e.next(r),i.unsubscribe())});return e.asObservable()}SalvaTicket(e){this.store.collection("Ticket").add({user:e.user,messaggio:e.messaggio,tipologia:e.tipologia,tool:e.tool,data:new Date}),this.openSnackBar("segnalazioneInviata")}isLogged(){var e=new tn.x;return localStorage.getItem("idUser")&&this.getUser().subscribe(r=>{var o,a;if(r){if(this.utils.compareDates(r.lastExpiresToken))return this.logoutPartial(),void this.openSnackBar("sessioneScaduta");this.userLoggato=r,this.loggedIn.next(!0),!(null===(o=this.userLoggato.ruoli)||void 0===o)&&o.includes("Cittadino")&&(this.isRotinrim=!0),null!==(a=this.userLoggato.ruoli)&&void 0!==a&&a.includes("Regnante")&&this.regnanteIn.next(!0)}else this.logoutPartial();e.next(!0)}),e.asObservable()}logout(){this.logoutPartial(),this.openSnackBar("logout")}logoutPartial(){this.isRotinrim=!1,this.loggedIn.next(!1),this.regnanteIn.next(!1),this.userLoggato=void 0,localStorage.removeItem("token"),localStorage.removeItem("idUser"),this.utils.navigateOutAdmin()}openSnackBar(e,i="top",r="end",o=""){switch(e){case"login":this.openSnack("Sei loggato correttamente!","blue-snackbar");break;case"logout":this.openSnack("Sei sloggato correttamente!","red-snackbar");break;case"registrazioneAvvenuta":this.openSnack("La registrazione \xe8 avvenuta con successo!","green-snackbar");break;case"registrazioneFallita":this.openSnack(""==o?"Hai sbagliato una o pi\xf9 risposte!":o,"red-snackbar",i,r);break;case"loginFallita":this.openSnack(""==o?"Per poter accedere devi essere presente nel server di Rotiniel o di The Miracle":o,"red-snackbar",i,r);break;case"segnalazioneInviata":this.openSnack("La segnalazione \xe8 stata inviata!","green-snackbar");break;case"infoAggiuntive":this.openSnack("Scarica il pdf per avere tutte le info aggiuntive.","green-snackbar",i,r);break;case"sessioneScaduta":this.openSnack("Sessione scaduta, effettua di nuovo la login!","yellow-snackbar",i,r);break;case"effettuaLogin":this.openSnack("Per poter inviare un ticket effettua la login!","yellow-snackbar",i,r)}}openSnack(e,i,r="top",o="end"){this._snackBar.open(e,"Ok",{duration:2e3,horizontalPosition:o,verticalPosition:r,panelClass:i})}canActivateAdmin(e,i){return this.isLoggedInObs.pipe((0,on.U)(r=>{var o,a;return!(!r||!(null===(a=null===(o=this.userLoggato)||void 0===o?void 0:o.ruoli)||void 0===a?void 0:a.includes("Regnante")))||this.route.parseUrl("/")}))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(vM),s.LFG(U7),s.LFG(Lu),s.LFG(fm),s.LFG(wf),s.LFG(ls))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Tx{constructor(){this.nome="",this.classe=new LD,this.skills=new Array,this.razza=new H7,this.stats=new G7,this.malusMagico=0,this.religione=new Q7,this.guid="",this.utilizzatoNVolte=0}}class ine{constructor(){this.nome=""}}class rne{constructor(){this.domanda="",this.risposta="",this.min=0}}class vU{constructor(){this.nome="",this.classe="",this.razza="",this.forza=0,this.destrezza=0,this.intelligenza=0,this.divinita="",this.pantheon="",this.guid="",this.utilizzatoNVolte=0}static Convert(t,e){let i=new Tx;return i.nome=t?.nome,i.stats=new G7(t?.forza,t?.destrezza,t?.intelligenza),i.religione=new Q7(t?.divinita),e.forEach(r=>{let o=new V7;o.nome=r?.nomeSkill,o.value=r?.valueSkill,o.isChecked=!0,o.idTipologiaSkill=r.idTipologiaSkill,o.id=r.idSkill,i.skills.push(o)}),i.guid=t?.guid,i.utilizzatoNVolte=t?.utilizzatoNVolte,i.razza=new H7(t?.razza),i.classe=new LD(0,t?.classe),i}}class sne{constructor(){this.nome="",this.info="",this.procedura=new Array,this.classe=""}}class wU{constructor(){this.id=0,this.religione="",this.spell=Array(),this.aura=""}}class bU{constructor(){this.id=0,this.religione="",this.spell=Array()}}class Q7{constructor(t){this.id=0,this.nome="",this.pantheon="",t&&(this.nome=t)}}class H7{constructor(t){this.id=0,this.nome="",t&&(this.nome=t)}}class LD{constructor(t,e){this.id=0,this.nome="",this.notRazze=new Array,this.id=t,this.nome=e}static convertClasse(t){return new one(t.id,t.nome)}}class ND{constructor(){this.nome="",this.id=0,this.classi=new Array,this.idTipologiaSkill=-1}static ConvertToSkillsChecked(t){let e=new Array;return t.forEach(i=>{let r=new V7;r.id=i.id,r.nome=i.nome,r.idTipologiaSkill=i.idTipologiaSkill,r.classi=i.classi,e.push(r)}),e}}class V7 extends ND{constructor(){super(...arguments),this.isChecked=!1,this.value=0}}class G7{constructor(t,e,i){this.forza=0,this.destrezza=0,this.intelligenza=0,t&&e&&i&&(this.forza=t,this.destrezza=e,this.intelligenza=i)}}class one extends LD{constructor(){super(...arguments),this.isChecked=!1}}const j7="@firebase/database";let CU="";function q7(n){CU=n}class cne{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,ae.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,ae.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class une{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,ae.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const K7=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new cne(t)}}catch{}return new une},kb=K7("localStorage"),xU=K7("sessionStorage"),Bx=new hf.Yd("@firebase/database"),Z7=function(){let n=1;return function(){return n++}}(),$7=function(n){const t=(0,ae.dS)(n),e=new ae.gQ;e.update(t);const i=e.digest();return ae.US.encodeByteArray(i)},PD=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=PD.apply(null,i):t+="object"==typeof i?(0,ae.Wl)(i):i,t+=" "}return t};let Rb=null,Y7=!0;const W7=function(n,t){(0,ae.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Bx.logLevel=hf.in.VERBOSE,Rb=Bx.log.bind(Bx),t&&xU.set("logging_enabled",!0)):"function"==typeof n?Rb=n:(Rb=null,xU.remove("logging_enabled"))},Bc=function(...n){if(!0===Y7&&(Y7=!1,null===Rb&&!0===xU.get("logging_enabled")&&W7(!0)),Rb){const t=PD.apply(null,n);Rb(t)}},UD=function(n){return function(...t){Bc(n,...t)}},EU=function(...n){const t="FIREBASE INTERNAL ERROR: "+PD(...n);Bx.error(t)},Um=function(...n){const t=`FIREBASE FATAL ERROR: ${PD(...n)}`;throw Bx.error(t),new Error(t)},ju=function(...n){const t="FIREBASE WARNING: "+PD(...n);Bx.warn(t)},HM=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},p0="[MIN_NAME]",vy="[MAX_NAME]",Ob=function(n,t){if(n===t)return 0;if(n===p0||t===vy)return-1;if(t===p0||n===vy)return 1;{const e=eG(n),i=eG(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},Ane=function(n,t){return n===t?0:n<t?-1:1},QD=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,ae.Wl)(t))},SU=function(n){if("object"!=typeof n||null===n)return(0,ae.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,ae.Wl)(t[i]),e+=":",e+=SU(n[t[i]]);return e+="}",e},J7=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Fc(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const X7=function(n){(0,ae.hu)(!HM(n),"Invalid JSON number");const i=1023;let r,o,a,u,h;0===n?(o=0,a=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(u=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=u+i,a=Math.round(n*Math.pow(2,52-u)-Math.pow(2,52))):(o=0,a=Math.round(n/Math.pow(2,-1074))));const f=[];for(h=52;h;h-=1)f.push(a%2?1:0),a=Math.floor(a/2);for(h=11;h;h-=1)f.push(o%2?1:0),o=Math.floor(o/2);f.push(r?1:0),f.reverse();const _=f.join("");let C="";for(h=0;h<64;h+=8){let F=parseInt(_.substr(h,8),2).toString(16);1===F.length&&(F="0"+F),C+=F}return C.toLowerCase()},mne=new RegExp("^-?(0*)\\d{1,10}$"),eG=function(n){if(mne.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Fx=function(n){try{n()}catch(t){setTimeout(()=>{throw ju("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},HD=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class wne{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){ju(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class bne{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Bc("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ju(t)}}let VD=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const sG=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,lG="websocket",cG="long_polling";class DU{constructor(t,e,i,r,o=!1,a="",u=!1,h=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=h,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=kb.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&kb.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function uG(n,t,e){let i;if((0,ae.hu)("string"==typeof t,"typeof type must == string"),(0,ae.hu)("object"==typeof e,"typeof params must == object"),t===lG)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==cG)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Cne(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Fc(e,(o,a)=>{r.push(o+"="+a)}),i+r.join("&")}class xne{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,ae.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,ae.p$)(this.counters_)}}const TU={},BU={};function FU(n){const t=n.toString();return TU[t]||(TU[t]=new xne),TU[t]}class Sne{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Fx(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class g0{constructor(t,e,i,r,o,a,u){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=a,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=UD(t),this.stats_=FU(e),this.urlFn=h=>(this.appCheckToken&&(h.ac=this.appCheckToken),uG(e,cG,h))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Sne(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,ae.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new MU((...o)=>{const[a,u,h,f,_]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===a)this.id=u,this.password=h;else{if("close"!==a)throw new Error("Unrecognized command received: "+a);u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[a,u]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(a,u)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&sG.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){g0.forceAllow_=!0}static forceDisallow(){g0.forceDisallow_=!0}static isAvailable(){return!((0,ae.Yr)()||!g0.forceAllow_&&(g0.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,ae.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,ae.h$)(e),r=J7(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,ae.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,ae.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class MU{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ae.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Z7(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=MU.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){Bc("frame writing exception"),u.stack&&Bc(u.stack),Bc(u)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Bc("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const a=this.pendingSegs.shift();i=i+"&seg"+r+"="+a.seg+"&ts"+r+"="+a.ts+"&d"+r+"="+a.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,ae.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Bc("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let GM=null;typeof MozWebSocket<"u"?GM=MozWebSocket:typeof WebSocket<"u"&&(GM=WebSocket);let Mx=(()=>{class n{constructor(e,i,r,o,a,u,h){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=UD(this.connId),this.stats_=FU(i),this.connURL=n.connectionURL_(i,u,h,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,a){const u={v:"5"};return!(0,ae.Yr)()&&typeof location<"u"&&location.hostname&&sG.test(location.hostname)&&(u.r="f"),i&&(u.s=i),r&&(u.ls=r),o&&(u.ac=o),a&&(u.p=a),uG(e,lG,u)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,kb.set("previous_websocket_failure",!0);try{let r;if((0,ae.Yr)()){r={headers:{"User-Agent":`Firebase/5/${CU}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const a=process.env,u=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;u&&(r.proxy={origin:u})}this.mySock=new GM(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==GM&&!n.forceDisallow_}static previouslyFailed(){return kb.isInMemoryStorage||!0===kb.get("previous_websocket_failure")}markConnectionHealthy(){kb.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,ae.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,ae.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,ae.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=J7(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),mG=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[g0,Mx]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Mx&&Mx.isAvailable();let r=i&&!Mx.previouslyFailed();if(e.webSocketOnly&&(i||ju("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Mx];else{const o=this.transports_=[];for(const a of n.ALL_TRANSPORTS)a&&a.isAvailable()&&o.push(a);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class xG{constructor(t,e,i,r,o,a,u,h,f,_){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=a,this.onReady_=u,this.onDisconnect_=h,this.onKill_=f,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=UD("c:"+this.id+":"),this.transportManager_=new mG(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=HD(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=QD("t",t),i=QD("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=QD("t",t),i=QD("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=QD("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?EU("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):EU("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&ju("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),HD(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):HD(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(kb.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class EG{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class SG{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,ae.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,ae.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class jM extends SG{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,ae.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new jM}getInitialEvent(t){return(0,ae.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Cs{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function cs(){return new Cs("")}function vr(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function m0(n){return n.pieces_.length-n.pieceNum_}function co(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Cs(n.pieces_,t)}function RU(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function GD(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function TG(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Cs(t,0)}function ca(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Cs)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Cs(e,0)}function wr(n){return n.pieceNum_>=n.pieces_.length}function Md(n,t){const e=vr(n),i=vr(t);if(null===e)return t;if(e===i)return Md(co(n),co(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Zne(n,t){const e=GD(n,0),i=GD(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=Ob(e[r],i[r]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function OU(n,t){if(m0(n)!==m0(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function xf(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(m0(n)>m0(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class $ne{constructor(t,e){this.errorPrefix_=e,this.parts_=GD(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,ae.ug)(this.parts_[i]);BG(this)}}function BG(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Lb(n))}function Lb(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class LU extends SG{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new LU}getInitialEvent(t){return(0,ae.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const jD=1e3;let qM,Nb=(()=>{class n extends EG{constructor(e,i,r,o,a,u,h,f){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=a,this.authTokenProvider_=u,this.appCheckTokenProvider_=h,this.authOverride_=f,this.id=n.nextPersistentConnectionId_++,this.log_=UD("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=jD,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f&&!(0,ae.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");LU.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&jM.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,a={r:o,a:e,b:i};this.log_((0,ae.Wl)(a)),(0,ae.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new ae.BH,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const h=u.d;"ok"===u.s?i.resolve(h):i.reject(h)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,o){this.initConnection_();const a=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+a),this.listens.has(u)||this.listens.set(u,new Map),(0,ae.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ae.hu)(!this.listens.get(u).has(a),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(u).set(a,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const a={p:r};e.tag&&(a.q=i._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,h=>{const f=h.d,_=h.s;n.warnOnListenWarnings_(f,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",h),"ok"!==_&&this.removeListen_(r,o),e.onComplete&&e.onComplete(_,f))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,ae.r3)(e,"w")){const r=(0,ae.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',a=i._path.toString();ju(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,ae.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,ae.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const a=o.s,u=o.d||"error";this.authToken_===e&&("ok"===a?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,ae.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const a={p:e};o&&(a.q=r,a.t=o),this.sendRequest("n",a)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const a={p:i,d:r};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,u=>{o&&setTimeout(()=>{o(u.s,u.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,a){this.initConnection_();const u={p:i,d:r};void 0!==a&&(u.h=a),this.outstandingPuts_.push({action:e,request:u,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,a=>{this.log_(i+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(a.s,a.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,ae.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):EU("Unrecognized action received from server: "+(0,ae.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,ae.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=jD,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=jD,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=jD),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,bt.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),a=e.id+":"+n.nextConnectionId_++,u=e.lastSessionId;let h=!1,f=null;const _=function(){f?f.close():(h=!0,o())};e.realtime_={close:_,sendRequest:function(B){(0,ae.hu)(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(B)}};const F=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[B,U]=yield Promise.all([e.authTokenProvider_.getToken(F),e.appCheckTokenProvider_.getToken(F)]);h?Bc("getToken() completed but was canceled"):(Bc("getToken() completed. Creating connection."),e.authToken_=B&&B.accessToken,e.appCheckToken_=U&&U.token,f=new xG(a,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,H=>{ju(H+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},u))}catch(B){e.log_("Failed to get token: "+B),h||(e.repoInfo_.nodeAdmin&&ju(B),_())}}})()}interrupt(e){Bc("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Bc("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,ae.xb)(this.interruptReasons_)&&(this.reconnectDelay_=jD,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(a=>SU(a)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Cs(e).toString();let o;if(this.listens.has(r)){const a=this.listens.get(r);o=a.get(i),a.delete(i),0===a.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){Bc("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Bc("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,ae.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+CU.replace(/\./g,"-")]=1,(0,ae.uI)()?e["framework.cordova"]=1:(0,ae.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=jM.getInstance().currentlyOnline();return(0,ae.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class xr{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new xr(t,e)}}class zM{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new xr(p0,t),r=new xr(p0,e);return 0!==this.compare(i,r)}minPost(){return xr.MIN}}class kG extends zM{static get __EMPTY_NODE(){return qM}static set __EMPTY_NODE(t){qM=t}compare(t,e){return Ob(t.name,e.name)}isDefinedOn(t){throw(0,ae.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return xr.MIN}maxPost(){return new xr(vy,qM)}makePost(t,e){return(0,ae.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new xr(t,qM)}toString(){return".key"}}const Qm=new kG;class KM{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(a=e?i(t.key,e):1,r&&(a*=-1),a<0)t=this.isReverse_?t.left:t.right;else{if(0===a){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let PU,Zp=(()=>{class n{constructor(e,i,r,o,a){this.key=e,this.value=i,this.color=r??n.RED,this.left=o??ph.EMPTY_NODE,this.right=a??ph.EMPTY_NODE}copy(e,i,r,o,a){return new n(e??this.key,i??this.value,r??this.color,o??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===a?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return ph.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return ph.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ph{constructor(t,e=ph.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new ph(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Zp.BLACK,null,null))}remove(t){return new ph(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Zp.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new KM(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new KM(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new KM(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new KM(this.root_,null,this.comparator_,!0,t)}}function iie(n,t){return Ob(n.name,t.name)}function NU(n,t){return Ob(n,t)}ph.EMPTY_NODE=new class nie{copy(t,e,i,r,o){return this}insert(t,e,i){return new Zp(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const RG=function(n){return"number"==typeof n?"number:"+X7(n):"string:"+n},OG=function(n){if(n.isLeafNode()){const t=n.val();(0,ae.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,ae.r3)(t,".sv"),"Priority must be a string or number.")}else(0,ae.hu)(n===PU||n.isEmpty(),"priority of unexpected type.");(0,ae.hu)(n===PU||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let LG,NG,PG,kx=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,ae.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),OG(this.priorityNode_)}static set __childrenNodeConstructor(e){LG=e}static get __childrenNodeConstructor(){return LG}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return wr(e)?this:".priority"===vr(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=vr(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,ae.hu)(".priority"!==r||1===m0(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(co(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+RG(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?X7(this.value_):this.value_,this.lazyHash_=$7(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,ae.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),a=n.VALUE_TYPE_ORDER.indexOf(r);return(0,ae.hu)(o>=0,"Unknown leaf type: "+i),(0,ae.hu)(a>=0,"Unknown leaf type: "+r),o===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Bo=new class aie extends zM{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?Ob(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return xr.MIN}maxPost(){return new xr(vy,new kx("[PRIORITY-POST]",PG))}makePost(t,e){const i=NG(t);return new xr(e,new kx("[PRIORITY-POST]",i))}toString(){return".priority"}},lie=Math.log(2);class cie{constructor(t){this.count=parseInt(Math.log(t+1)/lie,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const ZM=function(n,t,e,i){n.sort(t);const r=function(h,f){const _=f-h;let C,F;if(0===_)return null;if(1===_)return C=n[h],F=e?e(C):C,new Zp(F,C.node,Zp.BLACK,null,null);{const B=parseInt(_/2,10)+h,U=r(h,B),H=r(B+1,f);return C=n[B],F=e?e(C):C,new Zp(F,C.node,Zp.BLACK,U,H)}},u=function(h){let f=null,_=null,C=n.length;const F=function(U,H){const Z=C-U,q=C;C-=U;const W=r(Z+1,q),he=n[Z],xe=e?e(he):he;B(new Zp(xe,he.node,H,null,W))},B=function(U){f?(f.left=U,f=U):(_=U,f=U)};for(let U=0;U<h.count;++U){const H=h.nextBitIsOne(),Z=Math.pow(2,h.count-(U+1));H?F(Z,Zp.BLACK):(F(Z,Zp.BLACK),F(Z,Zp.RED))}return _}(new cie(n.length));return new ph(i||t,u)};let UU;const Rx={};class wy{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,ae.hu)(Rx&&Bo,"ChildrenNode.ts has not been loaded"),UU=UU||new wy({".priority":Rx},{".priority":Bo}),UU}get(t){const e=(0,ae.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof ph?e:null}hasIndex(t){return(0,ae.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,ae.hu)(t!==Qm,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(xr.Wrap);let u,a=o.getNext();for(;a;)r=r||t.isDefinedOn(a.node),i.push(a),a=o.getNext();u=r?ZM(i,t.getCompare()):Rx;const h=t.toString(),f=Object.assign({},this.indexSet_);f[h]=t;const _=Object.assign({},this.indexes_);return _[h]=u,new wy(_,f)}addToIndexes(t,e){const i=(0,ae.UI)(this.indexes_,(r,o)=>{const a=(0,ae.DV)(this.indexSet_,o);if((0,ae.hu)(a,"Missing index implementation for "+o),r===Rx){if(a.isDefinedOn(t.node)){const u=[],h=e.getIterator(xr.Wrap);let f=h.getNext();for(;f;)f.name!==t.name&&u.push(f),f=h.getNext();return u.push(t),ZM(u,a.getCompare())}return Rx}{const u=e.get(t.name);let h=r;return u&&(h=h.remove(new xr(t.name,u))),h.insert(t,t.node)}});return new wy(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,ae.UI)(this.indexes_,r=>{if(r===Rx)return r;{const o=e.get(t.name);return o?r.remove(new xr(t.name,o)):r}});return new wy(i,this.indexSet_)}}let zD,or=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&OG(this.priorityNode_),this.children_.isEmpty()&&(0,ae.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return zD||(zD=new n(new ph(NU),null,wy.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||zD}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?zD:i}}getChild(e){const i=vr(e);return null===i?this:this.getImmediateChild(i).getChild(co(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,ae.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new xr(e,i);let o,a;i.isEmpty()?(o=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),a=this.indexMap_.addToIndexes(r,this.children_));const u=o.isEmpty()?zD:this.priorityNode_;return new n(o,u,a)}}updateChild(e,i){const r=vr(e);if(null===r)return i;{(0,ae.hu)(".priority"!==vr(e)||1===m0(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(co(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,a=!0;if(this.forEachChild(Bo,(u,h)=>{i[u]=h.val(e),r++,a&&n.INTEGER_REGEXP_.test(u)?o=Math.max(o,Number(u)):a=!1}),!e&&a&&o<2*r){const u=[];for(const h in i)u[h]=i[h];return u}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+RG(this.getPriority().val())+":"),this.forEachChild(Bo,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":$7(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const a=o.getPredecessorKey(new xr(e,i));return a?a.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new xr(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new xr(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,xr.Wrap);let a=o.peek();for(;null!=a&&i.compare(a,e)<0;)o.getNext(),a=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,xr.Wrap);let a=o.peek();for(;null!=a&&i.compare(a,e)>0;)o.getNext(),a=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===qD?-1:0}withIndex(e){if(e===Qm||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Qm||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Bo),o=i.getIterator(Bo);let a=r.getNext(),u=o.getNext();for(;a&&u;){if(a.name!==u.name||!a.node.equals(u.node))return!1;a=r.getNext(),u=o.getNext()}return null===a&&null===u}return!1}return!1}}resolveIndex_(e){return e===Qm?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const qD=new class uie extends or{constructor(){super(new ph(NU),or.EMPTY_NODE,wy.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return or.EMPTY_NODE}isEmpty(){return!1}};function Ea(n,t=null){if(null===n)return or.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,ae.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new kx(n,Ea(t));if(n instanceof Array){let e=or.EMPTY_NODE;return Fc(n,(i,r)=>{if((0,ae.r3)(n,i)&&"."!==i.substring(0,1)){const o=Ea(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(Ea(t))}{const e=[];let i=!1;if(Fc(n,(a,u)=>{if("."!==a.substring(0,1)){const h=Ea(u);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),e.push(new xr(a,h)))}}),0===e.length)return or.EMPTY_NODE;const o=ZM(e,iie,a=>a.name,NU);if(i){const a=ZM(e,Bo.getCompare());return new or(o,Ea(t),new wy({".priority":a},{".priority":Bo}))}return new or(o,Ea(t),wy.Default)}}Object.defineProperties(xr,{MIN:{value:new xr(p0,or.EMPTY_NODE)},MAX:{value:new xr(vy,qD)}}),kG.__EMPTY_NODE=or.EMPTY_NODE,kx.__childrenNodeConstructor=or,function rie(n){PU=n}(qD),function oie(n){PG=n}(qD),function sie(n){NG=n}(Ea);class QU extends zM{constructor(t){super(),this.indexPath_=t,(0,ae.hu)(!wr(t)&&".priority"!==vr(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?Ob(t.name,e.name):o}makePost(t,e){const i=Ea(t),r=or.EMPTY_NODE.updateChild(this.indexPath_,i);return new xr(e,r)}maxPost(){const t=or.EMPTY_NODE.updateChild(this.indexPath_,qD);return new xr(vy,t)}toString(){return GD(this.indexPath_,0).join("/")}}const HU=new class hie extends zM{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Ob(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return xr.MIN}maxPost(){return xr.MAX}makePost(t,e){const i=Ea(t);return new xr(e,i)}toString(){return".value"}};function UG(n){return{type:"value",snapshotNode:n}}function Ox(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function KD(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function ZD(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class VU{constructor(t){this.index_=t}updateChild(t,e,i,r,o,a){(0,ae.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=t.getImmediateChild(e);return u.getChild(r).equals(i.getChild(r))&&u.isEmpty()===i.isEmpty()||(null!=a&&(i.isEmpty()?t.hasChild(e)?a.trackChildChange(KD(e,u)):(0,ae.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?a.trackChildChange(Ox(e,i)):a.trackChildChange(ZD(e,i,u))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Bo,(r,o)=>{e.hasChild(r)||i.trackChildChange(KD(r,o))}),e.isLeafNode()||e.forEachChild(Bo,(r,o)=>{if(t.hasChild(r)){const a=t.getImmediateChild(r);a.equals(o)||i.trackChildChange(ZD(r,o,a))}else i.trackChildChange(Ox(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?or.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class $D{constructor(t){this.indexedFilter_=new VU(t.getIndex()),this.index_=t.getIndex(),this.startPost_=$D.getStartPost_(t),this.endPost_=$D.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,o,a){return this.matches(new xr(e,i))||(i=or.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,a)}updateFullNode(t,e,i){e.isLeafNode()&&(e=or.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(or.EMPTY_NODE);const o=this;return e.forEachChild(Bo,(a,u)=>{o.matches(new xr(a,u))||(r=r.updateImmediateChild(a,or.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class fie{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new $D(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,o,a){return this.rangedFilter_.matches(new xr(e,i))||(i=or.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,a):this.fullLimitUpdateChild_(t,e,i,o,a)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=or.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=or.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;o.hasNext()&&a<this.limit_;){const u=o.getNext();if(this.withinDirectionalStart(u)){if(!this.withinDirectionalEnd(u))break;r=r.updateImmediateChild(u.name,u.node),a++}}}else{let o;r=e.withIndex(this.index_),r=r.updatePriority(or.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let a=0;for(;o.hasNext();){const u=o.getNext();a<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?a++:r=r.updateImmediateChild(u.name,or.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let a;if(this.reverse_){const C=this.index_.getCompare();a=(F,B)=>C(B,F)}else a=this.index_.getCompare();const u=t;(0,ae.hu)(u.numChildren()===this.limit_,"");const h=new xr(e,i),f=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),_=this.rangedFilter_.matches(h);if(u.hasChild(e)){const C=u.getImmediateChild(e);let F=r.getChildAfterChild(this.index_,f,this.reverse_);for(;null!=F&&(F.name===e||u.hasChild(F.name));)F=r.getChildAfterChild(this.index_,F,this.reverse_);const B=null==F?1:a(F,h);if(_&&!i.isEmpty()&&B>=0)return o?.trackChildChange(ZD(e,i,C)),u.updateImmediateChild(e,i);{o?.trackChildChange(KD(e,C));const H=u.updateImmediateChild(e,or.EMPTY_NODE);return null!=F&&this.rangedFilter_.matches(F)?(o?.trackChildChange(Ox(F.name,F.node)),H.updateImmediateChild(F.name,F.node)):H}}return i.isEmpty()?t:_&&a(f,h)>=0?(null!=o&&(o.trackChildChange(KD(f.name,f.node)),o.trackChildChange(Ox(e,i))),u.updateImmediateChild(e,i).updateImmediateChild(f.name,or.EMPTY_NODE)):t}}class $M{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Bo}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ae.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ae.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:p0}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ae.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ae.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:vy}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ae.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Bo}copy(){const t=new $M;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function GU(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function jU(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function YM(n,t){const e=n.copy();return e.index_=t,e}function QG(n){const t={};if(n.isDefault())return t;let e;if(n.index_===Bo?e="$priority":n.index_===HU?e="$value":n.index_===Qm?e="$key":((0,ae.hu)(n.index_ instanceof QU,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,ae.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,ae.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,ae.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,ae.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,ae.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function HG(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Bo&&(t.i=n.index_.toString()),t}class WM extends EG{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=UD("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,ae.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const a=WM.getListenId_(t,i),u={};this.listens_[a]=u;const h=QG(t._queryParams);this.restRequest_(o+".json",h,(f,_)=>{let C=_;if(404===f&&(C=null,f=null),null===f&&this.onDataUpdate_(o,C,!1,i),(0,ae.DV)(this.listens_,a)===u){let F;F=f?401===f?"permission_denied":"rest_error:"+f:"ok",r(F,null)}})}unlisten(t,e){const i=WM.getListenId_(t,e);delete this.listens_[i]}get(t){const e=QG(t._queryParams),i=t._path.toString(),r=new ae.BH;return this.restRequest_(i+".json",e,(o,a)=>{let u=a;404===o&&(u=null,o=null),null===o?(this.onDataUpdate_(i,u,!1,null),r.resolve(u)):r.reject(new Error(u))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,ae.xO)(e);this.log_("Sending REST request for "+a);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(i&&4===u.readyState){this.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);let h=null;if(u.status>=200&&u.status<300){try{h=(0,ae.cI)(u.responseText)}catch{ju("Failed to parse JSON response for "+a+": "+u.responseText)}i(null,h)}else 401!==u.status&&404!==u.status&&ju("Got unsuccessful REST response for "+a+" Status: "+u.status),i(u.status);i=null}},u.open("GET",a,!0),u.send()})}}class vie{constructor(){this.rootNode_=or.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function JM(){return{value:null,children:new Map}}function Lx(n,t,e){if(wr(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=vr(t);n.children.has(i)||n.children.set(i,JM()),Lx(n.children.get(i),t=co(t),e)}}function zU(n,t){if(wr(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Bo,(i,r)=>{Lx(n,new Cs(i),r)}),zU(n,t)}}if(n.children.size>0){const e=vr(t);return t=co(t),n.children.has(e)&&zU(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function qU(n,t,e){null!==n.value?e(t,n.value):function wie(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{qU(r,new Cs(t.toString()+"/"+i),e)})}class bie{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Fc(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class Eie{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new bie(t);const i=1e4+2e4*Math.random();HD(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Fc(t,(r,o)=>{o>0&&(0,ae.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),HD(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ef=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ef||(Ef={})),Ef))();function $U(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class XM{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Ef.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(wr(this.path)){if(null!=this.affectedTree.value)return(0,ae.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Cs(t));return new XM(cs(),e,this.revert)}}return(0,ae.hu)(vr(this.path)===t,"operationForChild called for unrelated child."),new XM(co(this.path),this.affectedTree,this.revert)}}class YD{constructor(t,e){this.source=t,this.path=e,this.type=Ef.LISTEN_COMPLETE}operationForChild(t){return wr(this.path)?new YD(this.source,cs()):new YD(this.source,co(this.path))}}class Pb{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Ef.OVERWRITE}operationForChild(t){return wr(this.path)?new Pb(this.source,cs(),this.snap.getImmediateChild(t)):new Pb(this.source,co(this.path),this.snap)}}class Nx{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Ef.MERGE}operationForChild(t){if(wr(this.path)){const e=this.children.subtree(new Cs(t));return e.isEmpty()?null:e.value?new Pb(this.source,cs(),e.value):new Nx(this.source,cs(),e)}return(0,ae.hu)(vr(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Nx(this.source,co(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class _0{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(wr(t))return this.isFullyInitialized()&&!this.filtered_;const e=vr(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Sie{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function WD(n,t,e,i,r,o){const a=i.filter(u=>u.type===e);a.sort((u,h)=>function Tie(n,t,e){if(null==t.childName||null==e.childName)throw(0,ae.g5)("Should only compare child_ events.");const i=new xr(t.childName,t.snapshotNode),r=new xr(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,u,h)),a.forEach(u=>{const h=function Die(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,u,o);r.forEach(f=>{f.respondsTo(u.type)&&t.push(f.createEvent(h,n.query_))})})}function ek(n,t){return{eventCache:n,serverCache:t}}function JD(n,t,e,i){return ek(new _0(t,e,i),n.serverCache)}function GG(n,t,e,i){return ek(n.eventCache,new _0(t,e,i))}function tk(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ub(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let YU;class Fo{constructor(t,e=(()=>(YU||(YU=new ph(Ane)),YU))()){this.value=t,this.children=e}static fromObject(t){let e=new Fo(null);return Fc(t,(i,r)=>{e=e.set(new Cs(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:cs(),value:this.value};if(wr(t))return null;{const i=vr(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(co(t),e);return null!=o?{path:ca(new Cs(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(wr(t))return this;{const e=vr(t),i=this.children.get(e);return null!==i?i.subtree(co(t)):new Fo(null)}}set(t,e){if(wr(t))return new Fo(e,this.children);{const i=vr(t),o=(this.children.get(i)||new Fo(null)).set(co(t),e),a=this.children.insert(i,o);return new Fo(this.value,a)}}remove(t){if(wr(t))return this.children.isEmpty()?new Fo(null):new Fo(null,this.children);{const e=vr(t),i=this.children.get(e);if(i){const r=i.remove(co(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new Fo(null):new Fo(this.value,o)}return this}}get(t){if(wr(t))return this.value;{const e=vr(t),i=this.children.get(e);return i?i.get(co(t)):null}}setTree(t,e){if(wr(t))return e;{const i=vr(t),o=(this.children.get(i)||new Fo(null)).setTree(co(t),e);let a;return a=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new Fo(this.value,a)}}fold(t){return this.fold_(cs(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(ca(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,cs(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(wr(t))return null;{const o=vr(t),a=this.children.get(o);return a?a.findOnPath_(co(t),ca(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,cs(),e)}foreachOnPath_(t,e,i){if(wr(t))return this;{this.value&&i(e,this.value);const r=vr(t),o=this.children.get(r);return o?o.foreachOnPath_(co(t),ca(e,r),i):new Fo(null)}}foreach(t){this.foreach_(cs(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(ca(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class $p{constructor(t){this.writeTree_=t}static empty(){return new $p(new Fo(null))}}function XD(n,t,e){if(wr(t))return new $p(new Fo(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const a=Md(r,t);return o=o.updateChild(a,e),new $p(n.writeTree_.set(r,o))}{const r=new Fo(e),o=n.writeTree_.setTree(t,r);return new $p(o)}}}function WU(n,t,e){let i=n;return Fc(e,(r,o)=>{i=XD(i,ca(t,r),o)}),i}function jG(n,t){if(wr(t))return $p.empty();{const e=n.writeTree_.setTree(t,new Fo(null));return new $p(e)}}function JU(n,t){return null!=Qb(n,t)}function Qb(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Md(e.path,t)):null}function zG(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Bo,(i,r)=>{t.push(new xr(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new xr(i,r.value))}),t}function y0(n,t){if(wr(t))return n;{const e=Qb(n,t);return new $p(null!=e?new Fo(e):n.writeTree_.subtree(t))}}function XU(n){return n.writeTree_.isEmpty()}function Px(n,t){return qG(cs(),n.writeTree_,t)}function qG(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,ae.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=qG(ca(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(ca(n,".priority"),i)),e}}function nk(n,t){return WG(t,n)}function Oie(n,t){if(n.snap)return xf(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&xf(ca(n.path,e),t))return!0;return!1}function Nie(n){return n.visible}function KG(n,t,e){let i=$p.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const a=o.path;let u;if(o.snap)xf(e,a)?(u=Md(e,a),i=XD(i,u,o.snap)):xf(a,e)&&(u=Md(a,e),i=XD(i,cs(),o.snap.getChild(u)));else{if(!o.children)throw(0,ae.g5)("WriteRecord should have .snap or .children");if(xf(e,a))u=Md(e,a),i=WU(i,u,o.children);else if(xf(a,e))if(u=Md(a,e),wr(u))i=WU(i,cs(),o.children);else{const h=(0,ae.DV)(o.children,vr(u));if(h){const f=h.getChild(co(u));i=XD(i,cs(),f)}}}}}return i}function ZG(n,t,e,i,r){if(i||r){const o=y0(n.visibleWrites,t);return!r&&XU(o)?e:r||null!=e||JU(o,cs())?Px(KG(n.allWrites,function(f){return(f.visible||r)&&(!i||!~i.indexOf(f.writeId))&&(xf(f.path,t)||xf(t,f.path))},t),e||or.EMPTY_NODE):null}{const o=Qb(n.visibleWrites,t);if(null!=o)return o;{const a=y0(n.visibleWrites,t);return XU(a)?e:null!=e||JU(a,cs())?Px(a,e||or.EMPTY_NODE):null}}}function ik(n,t,e,i){return ZG(n.writeTree,n.treePath,t,e,i)}function e4(n,t){return function Pie(n,t,e){let i=or.EMPTY_NODE;const r=Qb(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Bo,(o,a)=>{i=i.updateImmediateChild(o,a)}),i;if(e){const o=y0(n.visibleWrites,t);return e.forEachChild(Bo,(a,u)=>{const h=Px(y0(o,new Cs(a)),u);i=i.updateImmediateChild(a,h)}),zG(o).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}return zG(y0(n.visibleWrites,t)).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}(n.writeTree,n.treePath,t)}function $G(n,t,e,i){return function Uie(n,t,e,i,r){(0,ae.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=ca(t,e);if(JU(n.visibleWrites,o))return null;{const a=y0(n.visibleWrites,o);return XU(a)?r.getChild(e):Px(a,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function rk(n,t){return function Hie(n,t){return Qb(n.visibleWrites,t)}(n.writeTree,ca(n.treePath,t))}function t4(n,t,e){return function Qie(n,t,e,i){const r=ca(t,e),o=Qb(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?Px(y0(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function YG(n,t){return WG(ca(n.treePath,t),n.writeTree)}function WG(n,t){return{treePath:n,writeTree:t}}class zie{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,ae.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,ae.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,ZD(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,KD(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,Ox(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,ae.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,ZD(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const JG=new class qie{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class n4{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new _0(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return t4(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ub(this.viewCache_),o=function jie(n,t,e,i,r,o){return function Vie(n,t,e,i,r,o,a){let u;const h=y0(n.visibleWrites,t),f=Qb(h,cs());if(null!=f)u=f;else{if(null==e)return[];u=Px(h,e)}if(u=u.withIndex(a),u.isEmpty()||u.isLeafNode())return[];{const _=[],C=a.getCompare(),F=o?u.getReverseIteratorFrom(i,a):u.getIteratorFrom(i,a);let B=F.getNext();for(;B&&_.length<r;)0!==C(B,i)&&_.push(B),B=F.getNext();return _}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function XG(n,t,e,i,r,o){const a=t.eventCache;if(null!=rk(i,e))return t;{let u,h;if(wr(e))if((0,ae.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const f=Ub(t),C=e4(i,f instanceof or?f:or.EMPTY_NODE);u=n.filter.updateFullNode(t.eventCache.getNode(),C,o)}else{const f=ik(i,Ub(t));u=n.filter.updateFullNode(t.eventCache.getNode(),f,o)}else{const f=vr(e);if(".priority"===f){(0,ae.hu)(1===m0(e),"Can't have a priority with additional path components");const _=a.getNode();h=t.serverCache.getNode();const C=$G(i,e,_,h);u=null!=C?n.filter.updatePriority(_,C):a.getNode()}else{const _=co(e);let C;if(a.isCompleteForChild(f)){h=t.serverCache.getNode();const F=$G(i,e,a.getNode(),h);C=null!=F?a.getNode().getImmediateChild(f).updateChild(_,F):a.getNode().getImmediateChild(f)}else C=t4(i,f,t.serverCache);u=null!=C?n.filter.updateChild(a.getNode(),f,C,_,r,o):a.getNode()}}return JD(t,u,a.isFullyInitialized()||wr(e),n.filter.filtersNodes())}}function sk(n,t,e,i,r,o,a,u){const h=t.serverCache;let f;const _=a?n.filter:n.filter.getIndexedFilter();if(wr(e))f=_.updateFullNode(h.getNode(),i,null);else if(_.filtersNodes()&&!h.isFiltered()){const B=h.getNode().updateChild(e,i);f=_.updateFullNode(h.getNode(),B,null)}else{const B=vr(e);if(!h.isCompleteForPath(e)&&m0(e)>1)return t;const U=co(e),Z=h.getNode().getImmediateChild(B).updateChild(U,i);f=".priority"===B?_.updatePriority(h.getNode(),Z):_.updateChild(h.getNode(),B,Z,U,JG,null)}const C=GG(t,f,h.isFullyInitialized()||wr(e),_.filtersNodes());return XG(n,C,e,r,new n4(r,C,o),u)}function r4(n,t,e,i,r,o,a){const u=t.eventCache;let h,f;const _=new n4(r,t,o);if(wr(e))f=n.filter.updateFullNode(t.eventCache.getNode(),i,a),h=JD(t,f,!0,n.filter.filtersNodes());else{const C=vr(e);if(".priority"===C)f=n.filter.updatePriority(t.eventCache.getNode(),i),h=JD(t,f,u.isFullyInitialized(),u.isFiltered());else{const F=co(e),B=u.getNode().getImmediateChild(C);let U;if(wr(F))U=i;else{const H=_.getCompleteChild(C);U=null!=H?".priority"===RU(F)&&H.getChild(TG(F)).isEmpty()?H:H.updateChild(F,i):or.EMPTY_NODE}h=B.equals(U)?t:JD(t,n.filter.updateChild(u.getNode(),C,U,F,_,a),u.isFullyInitialized(),n.filter.filtersNodes())}}return h}function ej(n,t){return n.eventCache.isCompleteForChild(t)}function tj(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function s4(n,t,e,i,r,o,a,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let f,h=t;f=wr(e)?i:new Fo(null).setTree(e,i);const _=t.serverCache.getNode();return f.children.inorderTraversal((C,F)=>{if(_.hasChild(C)){const U=tj(0,t.serverCache.getNode().getImmediateChild(C),F);h=sk(n,h,new Cs(C),U,r,o,a,u)}}),f.children.inorderTraversal((C,F)=>{const B=!t.serverCache.isCompleteForChild(C)&&null===F.value;if(!_.hasChild(C)&&!B){const H=tj(0,t.serverCache.getNode().getImmediateChild(C),F);h=sk(n,h,new Cs(C),H,r,o,a,u)}}),h}class tre{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new VU(i.getIndex()),o=function pie(n){return n.loadsAllData()?new VU(n.getIndex()):n.hasLimit()?new fie(n):new $D(n)}(i);this.processor_=function Kie(n){return{filter:n}}(o);const a=e.serverCache,u=e.eventCache,h=r.updateFullNode(or.EMPTY_NODE,a.getNode(),null),f=o.updateFullNode(or.EMPTY_NODE,u.getNode(),null),_=new _0(h,a.isFullyInitialized(),r.filtersNodes()),C=new _0(f,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=ek(C,_),this.eventGenerator_=new Sie(this.query_)}get query(){return this.query_}}function rre(n,t){const e=Ub(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!wr(t)&&!e.getImmediateChild(vr(t)).isEmpty())?e.getChild(t):null}function nj(n){return 0===n.eventRegistrations_.length}function ij(n,t,e){const i=[];if(e){(0,ae.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const a=o.createCancelEvent(e,r);a&&i.push(a)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const a=n.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(a)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function rj(n,t,e,i){t.type===Ef.MERGE&&null!==t.source.queryId&&((0,ae.hu)(Ub(n.viewCache_),"We should always have a full cache before handling merges"),(0,ae.hu)(tk(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function $ie(n,t,e,i,r){const o=new zie;let a,u;if(e.type===Ef.OVERWRITE){const f=e;f.source.fromUser?a=r4(n,t,f.path,f.snap,i,r,o):((0,ae.hu)(f.source.fromServer,"Unknown source."),u=f.source.tagged||t.serverCache.isFiltered()&&!wr(f.path),a=sk(n,t,f.path,f.snap,i,r,u,o))}else if(e.type===Ef.MERGE){const f=e;f.source.fromUser?a=function Wie(n,t,e,i,r,o,a){let u=t;return i.foreach((h,f)=>{const _=ca(e,h);ej(t,vr(_))&&(u=r4(n,u,_,f,r,o,a))}),i.foreach((h,f)=>{const _=ca(e,h);ej(t,vr(_))||(u=r4(n,u,_,f,r,o,a))}),u}(n,t,f.path,f.children,i,r,o):((0,ae.hu)(f.source.fromServer,"Unknown source."),u=f.source.tagged||t.serverCache.isFiltered(),a=s4(n,t,f.path,f.children,i,r,u,o))}else if(e.type===Ef.ACK_USER_WRITE){const f=e;a=f.revert?function ere(n,t,e,i,r,o){let a;if(null!=rk(i,e))return t;{const u=new n4(i,t,r),h=t.eventCache.getNode();let f;if(wr(e)||".priority"===vr(e)){let _;if(t.serverCache.isFullyInitialized())_=ik(i,Ub(t));else{const C=t.serverCache.getNode();(0,ae.hu)(C instanceof or,"serverChildren would be complete if leaf node"),_=e4(i,C)}f=n.filter.updateFullNode(h,_,o)}else{const _=vr(e);let C=t4(i,_,t.serverCache);null==C&&t.serverCache.isCompleteForChild(_)&&(C=h.getImmediateChild(_)),f=null!=C?n.filter.updateChild(h,_,C,co(e),u,o):t.eventCache.getNode().hasChild(_)?n.filter.updateChild(h,_,or.EMPTY_NODE,co(e),u,o):h,f.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=ik(i,Ub(t)),a.isLeafNode()&&(f=n.filter.updateFullNode(f,a,o)))}return a=t.serverCache.isFullyInitialized()||null!=rk(i,cs()),JD(t,f,a,n.filter.filtersNodes())}}(n,t,f.path,i,r,o):function Jie(n,t,e,i,r,o,a){if(null!=rk(r,e))return t;const u=t.serverCache.isFiltered(),h=t.serverCache;if(null!=i.value){if(wr(e)&&h.isFullyInitialized()||h.isCompleteForPath(e))return sk(n,t,e,h.getNode().getChild(e),r,o,u,a);if(wr(e)){let f=new Fo(null);return h.getNode().forEachChild(Qm,(_,C)=>{f=f.set(new Cs(_),C)}),s4(n,t,e,f,r,o,u,a)}return t}{let f=new Fo(null);return i.foreach((_,C)=>{const F=ca(e,_);h.isCompleteForPath(F)&&(f=f.set(_,h.getNode().getChild(F)))}),s4(n,t,e,f,r,o,u,a)}}(n,t,f.path,f.affectedTree,i,r,o)}else{if(e.type!==Ef.LISTEN_COMPLETE)throw(0,ae.g5)("Unknown operation type: "+e.type);a=function Xie(n,t,e,i,r){const o=t.serverCache;return XG(n,GG(t,o.getNode(),o.isFullyInitialized()||wr(e),o.isFiltered()),e,i,JG,r)}(n,t,e.path,i,o)}const h=o.getChanges();return function Yie(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=tk(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(UG(tk(t)))}}(t,a,h),{viewCache:a,changes:h}}(n.processor_,r,t,e,i);return function Zie(n,t){(0,ae.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,ae.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,ae.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,sj(n,o.changes,o.viewCache.eventCache.getNode(),null)}function sj(n,t,e,i){return function Iie(n,t,e,i){const r=[],o=[];return t.forEach(a=>{"child_changed"===a.type&&n.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(function Aie(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(a.childName,a.snapshotNode))}),WD(n,r,"child_removed",t,i,e),WD(n,r,"child_added",t,i,e),WD(n,r,"child_moved",o,i,e),WD(n,r,"child_changed",t,i,e),WD(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let ok,lk;class oj{constructor(){this.views=new Map}}function o4(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,ae.hu)(null!=o,"SyncTree gave us an op for an invalid query."),rj(o,t,e,i)}{let o=[];for(const a of n.views.values())o=o.concat(rj(a,t,e,i));return o}}function aj(n,t,e,i,r){const a=n.views.get(t._queryIdentifier);if(!a){let u=ik(e,r?i:null),h=!1;u?h=!0:i instanceof or?(u=e4(e,i),h=!1):(u=or.EMPTY_NODE,h=!1);const f=ek(new _0(u,h,!1),new _0(i,r,!1));return new tre(t,f)}return a}function lj(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function v0(n,t){let e=null;for(const i of n.views.values())e=e||rre(i,t);return e}function cj(n,t){return t._queryParams.loadsAllData()?ak(n):n.views.get(t._queryIdentifier)}function uj(n,t){return null!=cj(n,t)}function w0(n){return null!=ak(n)}function ak(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let fre=1;class dj{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Fo(null),this.pendingWriteTree_=function Gie(){return{visibleWrites:$p.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function a4(n,t,e,i,r){return function Fie(n,t,e,i,r){(0,ae.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=XD(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Ux(n,new Pb({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function b0(n,t,e=!1){const i=function kie(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function Rie(n,t){const e=n.allWrites.findIndex(u=>u.writeId===t);(0,ae.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,a=n.allWrites.length-1;for(;r&&a>=0;){const u=n.allWrites[a];u.visible&&(a>=e&&Oie(u,i.path)?r=!1:xf(i.path,u.path)&&(o=!0)),a--}return!!r&&(o?(function Lie(n){n.visibleWrites=KG(n.allWrites,Nie,cs()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=jG(n.visibleWrites,i.path):Fc(i.children,h=>{n.visibleWrites=jG(n.visibleWrites,ca(i.path,h))}),!0))}(n.pendingWriteTree_,t)){let o=new Fo(null);return null!=i.snap?o=o.set(cs(),!0):Fc(i.children,a=>{o=o.set(new Cs(a),!0)}),Ux(n,new XM(i.path,o,e))}return[]}function e2(n,t,e){return Ux(n,new Pb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function ck(n,t,e,i,r=!1){const o=t._path,a=n.syncPointTree_.get(o);let u=[];if(a&&("default"===t._queryIdentifier||uj(a,t))){const h=function dre(n,t,e,i){const r=t._queryIdentifier,o=[];let a=[];const u=w0(n);if("default"===r)for(const[h,f]of n.views.entries())a=a.concat(ij(f,e,i)),nj(f)&&(n.views.delete(h),f.query._queryParams.loadsAllData()||o.push(f.query));else{const h=n.views.get(r);h&&(a=a.concat(ij(h,e,i)),nj(h)&&(n.views.delete(r),h.query._queryParams.loadsAllData()||o.push(h.query)))}return u&&!w0(n)&&o.push(new(function lre(){return(0,ae.hu)(ok,"Reference.ts has not been loaded"),ok}())(t._repo,t._path)),{removed:o,events:a}}(a,t,e,i);(function cre(n){return 0===n.views.size})(a)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const f=h.removed;if(u=h.events,!r){const _=-1!==f.findIndex(F=>F._queryParams.loadsAllData()),C=n.syncPointTree_.findOnPath(o,(F,B)=>w0(B));if(_&&!C){const F=n.syncPointTree_.subtree(o);if(!F.isEmpty()){const B=function wre(n){return n.fold((t,e,i)=>{if(e&&w0(e))return[ak(e)];{let r=[];return e&&(r=lj(e)),Fc(i,(o,a)=>{r=r.concat(a)}),r}})}(F);for(let U=0;U<B.length;++U){const H=B[U],Z=H.query,q=pj(n,H);n.listenProvider_.startListening(n2(Z),t2(n,Z),q.hashFn,q.onComplete)}}}!C&&f.length>0&&!i&&(_?n.listenProvider_.stopListening(n2(t),null):f.forEach(F=>{const B=n.queryToTagMap.get(dk(F));n.listenProvider_.stopListening(n2(F),B)}))}!function bre(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=dk(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,f)}return u}function hj(n,t,e,i){const r=c4(n,i);if(null!=r){const o=u4(r),a=o.path,u=o.queryId,h=Md(a,t);return d4(n,a,new Pb($U(u),h,e))}return[]}function l4(n,t,e,i=!1){const r=t._path;let o=null,a=!1;n.syncPointTree_.foreachOnPath(r,(F,B)=>{const U=Md(F,r);o=o||v0(B,U),a=a||w0(B)});let h,u=n.syncPointTree_.get(r);u?(a=a||w0(u),o=o||v0(u,cs())):(u=new oj,n.syncPointTree_=n.syncPointTree_.set(r,u)),null!=o?h=!0:(h=!1,o=or.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((B,U)=>{const H=v0(U,cs());H&&(o=o.updateImmediateChild(B,H))}));const f=uj(u,t);if(!f&&!t._queryParams.loadsAllData()){const F=dk(t);(0,ae.hu)(!n.queryToTagMap.has(F),"View does not exist, but we have a tag");const B=function Cre(){return fre++}();n.queryToTagMap.set(F,B),n.tagToQueryMap.set(B,F)}let C=function ure(n,t,e,i,r,o){const a=aj(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,a),function sre(n,t){n.eventRegistrations_.push(t)}(a,e),function ore(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Bo,(o,a)=>{i.push(Ox(o,a))}),e.isFullyInitialized()&&i.push(UG(e.getNode())),sj(n,i,e.getNode(),t)}(a,e)}(u,t,e,nk(n.pendingWriteTree_,r),o,h);if(!f&&!a&&!i){const F=cj(u,t);C=C.concat(function xre(n,t,e){const i=t._path,r=t2(n,t),o=pj(n,e),a=n.listenProvider_.startListening(n2(t),r,o.hashFn,o.onComplete),u=n.syncPointTree_.subtree(i);if(r)(0,ae.hu)(!w0(u.value),"If we're adding a query, it shouldn't be shadowed");else{const h=u.fold((f,_,C)=>{if(!wr(f)&&_&&w0(_))return[ak(_).query];{let F=[];return _&&(F=F.concat(lj(_).map(B=>B.query))),Fc(C,(B,U)=>{F=F.concat(U)}),F}});for(let f=0;f<h.length;++f){const _=h[f];n.listenProvider_.stopListening(n2(_),t2(n,_))}}return a}(n,t,F))}return C}function uk(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(a,u)=>{const f=v0(u,Md(a,t));if(f)return f});return ZG(r,t,o,e,!0)}function Ux(n,t){return Aj(t,n.syncPointTree_,null,nk(n.pendingWriteTree_,cs()))}function Aj(n,t,e,i){if(wr(n.path))return fj(n,t,e,i);{const r=t.get(cs());null==e&&null!=r&&(e=v0(r,cs()));let o=[];const a=vr(n.path),u=n.operationForChild(a),h=t.children.get(a);if(h&&u){const f=e?e.getImmediateChild(a):null,_=YG(i,a);o=o.concat(Aj(u,h,f,_))}return r&&(o=o.concat(o4(r,n,i,e))),o}}function fj(n,t,e,i){const r=t.get(cs());null==e&&null!=r&&(e=v0(r,cs()));let o=[];return t.children.inorderTraversal((a,u)=>{const h=e?e.getImmediateChild(a):null,f=YG(i,a),_=n.operationForChild(a);_&&(o=o.concat(fj(_,u,h,f)))}),r&&(o=o.concat(o4(r,n,i,e))),o}function pj(n,t){const e=t.query,i=t2(n,e);return{hashFn:()=>(function nre(n){return n.viewCache_.serverCache.getNode()}(t)||or.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function _re(n,t,e){const i=c4(n,e);if(i){const r=u4(i),o=r.path,a=r.queryId,u=Md(o,t);return d4(n,o,new YD($U(a),u))}return[]}(n,e._path,i):function mre(n,t){return Ux(n,new YD({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function gne(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return ck(n,e,null,o)}}}}function t2(n,t){const e=dk(t);return n.queryToTagMap.get(e)}function dk(n){return n._path.toString()+"$"+n._queryIdentifier}function c4(n,t){return n.tagToQueryMap.get(t)}function u4(n){const t=n.indexOf("$");return(0,ae.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Cs(n.substr(0,t))}}function d4(n,t,e){const i=n.syncPointTree_.get(t);return(0,ae.hu)(i,"Missing sync point for query tag that we're tracking"),o4(i,e,nk(n.pendingWriteTree_,t),null)}function n2(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Are(){return(0,ae.hu)(lk,"Reference.ts has not been loaded"),lk}())(n._repo,n._path):n}class h4{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new h4(e)}node(){return this.node_}}class A4{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=ca(this.path_,t);return new A4(this.syncTree_,e)}node(){return uk(this.syncTree_,this.path_)}}const gj=function(n,t,e){return n&&"object"==typeof n?((0,ae.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Sre(n[".sv"],t,e):"object"==typeof n[".sv"]?Ire(n[".sv"],t):void(0,ae.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Sre=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,ae.hu)(!1,"Unexpected server value: "+n)},Ire=function(n,t,e){n.hasOwnProperty("increment")||(0,ae.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,ae.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,ae.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const a=r.getValue();return"number"!=typeof a?i:a+i},mj=function(n,t,e,i){return p4(t,new A4(e,n),i)},f4=function(n,t,e){return p4(n,new h4(t),e)};function p4(n,t,e){const i=n.getPriority().val(),r=gj(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const a=n,u=gj(a.getValue(),t,e);return u!==a.getValue()||r!==a.getPriority().val()?new kx(u,Ea(r)):n}{const a=n;return o=a,r!==a.getPriority().val()&&(o=o.updatePriority(new kx(r))),a.forEachChild(Bo,(u,h)=>{const f=p4(h,t.getImmediateChild(u),e);f!==h&&(o=o.updateImmediateChild(u,f))}),o}}class g4{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function hk(n,t){let e=t instanceof Cs?t:new Cs(t),i=n,r=vr(e);for(;null!==r;){const o=(0,ae.DV)(i.node.children,r)||{children:{},childCount:0};i=new g4(r,i,o),e=co(e),r=vr(e)}return i}function Hb(n){return n.node.value}function m4(n,t){n.node.value=t,_4(n)}function _j(n){return n.node.childCount>0}function Ak(n,t){Fc(n.node.children,(e,i)=>{t(new g4(e,n,i))})}function yj(n,t,e,i){e&&!i&&t(n),Ak(n,r=>{yj(r,t,!0,i)}),e&&i&&t(n)}function r2(n){return new Cs(null===n.parent?n.name:r2(n.parent)+"/"+n.name)}function _4(n){null!==n.parent&&function Bre(n,t,e){const i=function Dre(n){return void 0===Hb(n)&&!_j(n)}(e),r=(0,ae.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,_4(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,_4(n))}(n.parent,n.name,n)}const Fre=/[\[\].#$\/\u0000-\u001F\u007F]/,Mre=/[\[\].#$\u0000-\u001F\u007F]/,y4=10485760,fk=function(n){return"string"==typeof n&&0!==n.length&&!Fre.test(n)},vj=function(n){return"string"==typeof n&&0!==n.length&&!Mre.test(n)},s2=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!HM(n)||n&&"object"==typeof n&&(0,ae.r3)(n,".sv")},Hm=function(n,t,e,i){i&&void 0===t||o2((0,ae.gK)(n,"value"),t,e)},o2=function(n,t,e){const i=e instanceof Cs?new $ne(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Lb(i));if("function"==typeof t)throw new Error(n+"contains a function "+Lb(i)+" with contents = "+t.toString());if(HM(t))throw new Error(n+"contains "+t.toString()+" "+Lb(i));if("string"==typeof t&&t.length>y4/3&&(0,ae.ug)(t)>y4)throw new Error(n+"contains a string greater than "+y4+" utf8 bytes "+Lb(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(Fc(t,(a,u)=>{if(".value"===a)r=!0;else if(".priority"!==a&&".sv"!==a&&(o=!0,!fk(a)))throw new Error(n+" contains an invalid key ("+a+") "+Lb(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Yne(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,ae.ug)(t),BG(n)})(i,a),o2(n,u,i),function Wne(n){const t=n.parts_.pop();n.byteLength_-=(0,ae.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+Lb(i)+" in addition to actual children.")}},wj=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,ae.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];Fc(t,(a,u)=>{const h=new Cs(a);if(o2(r,u,ca(e,h)),".priority"===RU(h)&&!s2(u))throw new Error(r+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(h)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=GD(i);for(let a=0;a<o.length;a++)if((".priority"!==o[a]||a!==o.length-1)&&!fk(o[a]))throw new Error(n+"contains an invalid key ("+o[a]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Zne);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&xf(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},v4=function(n,t,e){if(!e||void 0!==t){if(HM(t))throw new Error((0,ae.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!s2(t))throw new Error((0,ae.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},a2=function(n,t,e,i){if(!(i&&void 0===e||fk(e)))throw new Error((0,ae.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},l2=function(n,t,e,i){if(!(i&&void 0===e||vj(e)))throw new Error((0,ae.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Sf=function(n,t){if(".info"===vr(t))throw new Error(n+" failed = Can't modify data under /.info/")},bj=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!fk(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),vj(n)}(e))throw new Error((0,ae.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Lre{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function pk(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!OU(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function Cj(n,t,e){pk(n,e),xj(n,i=>OU(i,t))}function yA(n,t,e){pk(n,e),xj(n,i=>xf(i,t)||xf(t,i))}function xj(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(Nre(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Nre(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Rb&&Bc("event: "+e.toString()),Fx(i)}}}const Ej="repo_interrupt";class Ure{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Lre,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=JM(),this.transactionQueueTree_=new g4,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Sj(n){const e=n.infoData_.getNode(new Cs(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function c2(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:Sj(n)})}function Ij(n,t,e,i,r){n.dataUpdateCount++;const o=new Cs(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let a=[];if(r)if(i){const h=(0,ae.UI)(e,f=>Ea(f));a=function yre(n,t,e,i){const r=c4(n,i);if(r){const o=u4(r),a=o.path,u=o.queryId,h=Md(a,t),f=Fo.fromObject(e);return d4(n,a,new Nx($U(u),h,f))}return[]}(n.serverSyncTree_,o,h,r)}else{const h=Ea(e);a=hj(n.serverSyncTree_,o,h,r)}else if(i){const h=(0,ae.UI)(e,f=>Ea(f));a=function gre(n,t,e){const i=Fo.fromObject(e);return Ux(n,new Nx({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,h)}else{const h=Ea(e);a=e2(n.serverSyncTree_,o,h)}let u=o;a.length>0&&(u=Hx(n,o)),yA(n.eventQueue_,u,a)}function Dj(n,t){w4(n,"connected",t),!1===t&&function jre(n){Qx(n,"onDisconnectEvents");const t=c2(n),e=JM();qU(n.onDisconnect_,cs(),(r,o)=>{const a=mj(r,o,n.serverSyncTree_,t);Lx(e,r,a)});let i=[];qU(e,cs(),(r,o)=>{i=i.concat(e2(n.serverSyncTree_,r,o));const a=E4(n,r);Hx(n,a)}),n.onDisconnect_=JM(),yA(n.eventQueue_,cs(),i)}(n)}function w4(n,t,e){const i=new Cs("/.info/"+t),r=Ea(e);n.infoData_.updateSnapshot(i,r);const o=e2(n.infoSyncTree_,i,r);yA(n.eventQueue_,i,o)}function gk(n){return n.nextWriteId_++}function b4(n,t,e,i,r){Qx(n,"set",{path:t.toString(),value:e,priority:i});const o=c2(n),a=Ea(e,i),u=uk(n.serverSyncTree_,t),h=f4(a,u,o),f=gk(n),_=a4(n.serverSyncTree_,t,h,f,!0);pk(n.eventQueue_,_),n.server_.put(t.toString(),a.val(!0),(F,B)=>{const U="ok"===F;U||ju("set at "+t+" failed: "+F);const H=b0(n.serverSyncTree_,f,!U);yA(n.eventQueue_,t,H),C0(0,r,F,B)});const C=E4(n,t);Hx(n,C),yA(n.eventQueue_,C,[])}function zre(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&zU(n.onDisconnect_,t),C0(0,e,i,r)})}function Tj(n,t,e,i){const r=Ea(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(o,a)=>{"ok"===o&&Lx(n.onDisconnect_,t,r),C0(0,i,o,a)})}function C4(n,t,e){let i;i=".info"===vr(t._path)?ck(n.infoSyncTree_,t,e):ck(n.serverSyncTree_,t,e),Cj(n.eventQueue_,t._path,i)}function Bj(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Ej)}function Qx(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Bc(e,...t)}function C0(n,t,e,i){t&&Fx(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const a=new Error(o);a.code=r,t(a)}})}function x4(n,t,e){return uk(n.serverSyncTree_,t,e)||or.EMPTY_NODE}function mk(n,t=n.transactionQueueTree_){if(t||_k(n,t),Hb(t)){const e=Mj(n,t);(0,ae.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function Wre(n,t,e){const i=e.map(f=>f.currentWriteId),r=x4(n,t,i);let o=r;const a=r.hash();for(let f=0;f<e.length;f++){const _=e[f];(0,ae.hu)(0===_.status,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const C=Md(t,_.path);o=o.updateChild(C,_.currentOutputSnapshotRaw)}const u=o.val(!0),h=t;n.server_.put(h.toString(),u,f=>{Qx(n,"transaction put response",{path:h.toString(),status:f});let _=[];if("ok"===f){const C=[];for(let F=0;F<e.length;F++)e[F].status=2,_=_.concat(b0(n.serverSyncTree_,e[F].currentWriteId)),e[F].onComplete&&C.push(()=>e[F].onComplete(null,!0,e[F].currentOutputSnapshotResolved)),e[F].unwatcher();_k(n,hk(n.transactionQueueTree_,t)),mk(n,n.transactionQueueTree_),yA(n.eventQueue_,t,_);for(let F=0;F<C.length;F++)Fx(C[F])}else{if("datastale"===f)for(let C=0;C<e.length;C++)e[C].status=3===e[C].status?4:0;else{ju("transaction at "+h.toString()+" failed: "+f);for(let C=0;C<e.length;C++)e[C].status=4,e[C].abortReason=f}Hx(n,t)}},a)}(n,r2(t),e)}else _j(t)&&Ak(t,e=>{mk(n,e)})}function Hx(n,t){const e=Fj(n,t),i=r2(e);return function Jre(n,t,e){if(0===t.length)return;const i=[];let r=[];const a=t.filter(u=>0===u.status).map(u=>u.currentWriteId);for(let u=0;u<t.length;u++){const h=t[u],f=Md(e,h.path);let C,_=!1;if((0,ae.hu)(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),4===h.status)_=!0,C=h.abortReason,r=r.concat(b0(n.serverSyncTree_,h.currentWriteId,!0));else if(0===h.status)if(h.retryCount>=25)_=!0,C="maxretry",r=r.concat(b0(n.serverSyncTree_,h.currentWriteId,!0));else{const F=x4(n,h.path,a);h.currentInputSnapshot=F;const B=t[u].update(F.val());if(void 0!==B){o2("transaction failed: Data returned ",B,h.path);let U=Ea(B);"object"==typeof B&&null!=B&&(0,ae.r3)(B,".priority")||(U=U.updatePriority(F.getPriority()));const Z=h.currentWriteId,q=c2(n),W=f4(U,F,q);h.currentOutputSnapshotRaw=U,h.currentOutputSnapshotResolved=W,h.currentWriteId=gk(n),a.splice(a.indexOf(Z),1),r=r.concat(a4(n.serverSyncTree_,h.path,W,h.currentWriteId,h.applyLocally)),r=r.concat(b0(n.serverSyncTree_,Z,!0))}else _=!0,C="nodata",r=r.concat(b0(n.serverSyncTree_,h.currentWriteId,!0))}yA(n.eventQueue_,e,r),r=[],_&&(t[u].status=2,setTimeout(t[u].unwatcher,Math.floor(0)),t[u].onComplete&&i.push("nodata"===C?()=>t[u].onComplete(null,!1,t[u].currentInputSnapshot):()=>t[u].onComplete(new Error(C),!1,null)))}_k(n,n.transactionQueueTree_);for(let u=0;u<i.length;u++)Fx(i[u]);mk(n,n.transactionQueueTree_)}(n,Mj(n,e),i),i}function Fj(n,t){let e,i=n.transactionQueueTree_;for(e=vr(t);null!==e&&void 0===Hb(i);)i=hk(i,e),e=vr(t=co(t));return i}function Mj(n,t){const e=[];return kj(n,t,e),e.sort((i,r)=>i.order-r.order),e}function kj(n,t,e){const i=Hb(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);Ak(t,r=>{kj(n,r,e)})}function _k(n,t){const e=Hb(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,m4(t,e.length>0?e:void 0)}Ak(t,i=>{_k(n,i)})}function E4(n,t){const e=r2(Fj(n,t)),i=hk(n.transactionQueueTree_,t);return function Tre(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{S4(n,r)}),S4(n,i),yj(i,r=>{S4(n,r)}),e}function S4(n,t){const e=Hb(t);if(e){const i=[];let r=[],o=-1;for(let a=0;a<e.length;a++)3===e[a].status||(1===e[a].status?((0,ae.hu)(o===a-1,"All SENT items should be at beginning of queue."),o=a,e[a].status=3,e[a].abortReason="set"):((0,ae.hu)(0===e[a].status,"Unexpected transaction status in abort"),e[a].unwatcher(),r=r.concat(b0(n.serverSyncTree_,e[a].currentWriteId,!0)),e[a].onComplete&&i.push(e[a].onComplete.bind(null,new Error("set"),!1,null))));-1===o?m4(t,void 0):e.length=o+1,yA(n.eventQueue_,r2(t),r);for(let a=0;a<i.length;a++)Fx(i[a])}}const I4=function(n,t){const e=tse(n),i=e.namespace;return"firebase.com"===e.domain&&Um(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Um("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ju("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new DU(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Cs(e.pathString)}},tse=function(n){let t="",e="",i="",r="",o="",a=!0,u="https",h=443;if("string"==typeof n){let f=n.indexOf("//");f>=0&&(u=n.substring(0,f-1),n=n.substring(f+2));let _=n.indexOf("/");-1===_&&(_=n.length);let C=n.indexOf("?");-1===C&&(C=n.length),t=n.substring(0,Math.min(_,C)),_<C&&(r=function Xre(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(_,C)));const F=function ese(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ju(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,C)));f=t.indexOf(":"),f>=0?(a="https"===u||"wss"===u,h=parseInt(t.substring(f+1),10)):f=t.length;const B=t.slice(0,f);if("localhost"===B.toLowerCase())e="localhost";else if(B.split(".").length<=2)e=B;else{const U=t.indexOf(".");i=t.substring(0,U).toLowerCase(),e=t.substring(U+1),o=i}"ns"in F&&(o=F.ns)}return{host:t,port:h,domain:e,subdomain:i,secure:a,scheme:u,pathString:r,namespace:o}},Rj="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",nse=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=Rj.charAt(e%64),e=Math.floor(e/64);(0,ae.hu)(0===e,"Cannot push at time == 0");let a=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)a+=Rj.charAt(t[r]);return(0,ae.hu)(20===a.length,"nextPushId: Length should be 20."),a}}();class Oj{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,ae.Wl)(this.snapshot.exportVal())}}class Lj{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class D4{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,ae.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Nj{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new ae.BH;return zre(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Sf("OnDisconnect.remove",this._path);const t=new ae.BH;return Tj(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Sf("OnDisconnect.set",this._path),Hm("OnDisconnect.set",t,this._path,!1);const e=new ae.BH;return Tj(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Sf("OnDisconnect.setWithPriority",this._path),Hm("OnDisconnect.setWithPriority",t,this._path,!1),v4("OnDisconnect.setWithPriority",e,!1);const i=new ae.BH;return function qre(n,t,e,i,r){const o=Ea(e,i);n.server_.onDisconnectPut(t.toString(),o.val(!0),(a,u)=>{"ok"===a&&Lx(n.onDisconnect_,t,o),C0(0,r,a,u)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Sf("OnDisconnect.update",this._path),wj("OnDisconnect.update",t,this._path,!1);const e=new ae.BH;return function Kre(n,t,e,i){if((0,ae.xb)(e))return Bc("onDisconnect().update() called with empty data.  Don't do anything."),void C0(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&Fc(e,(a,u)=>{const h=Ea(u);Lx(n.onDisconnect_,ca(t,a),h)}),C0(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class gh{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return wr(this._path)?null:RU(this._path)}get ref(){return new If(this._repo,this._path)}get _queryIdentifier(){const t=HG(this._queryParams),e=SU(t);return"{}"===e?"default":e}get _queryObject(){return HG(this._queryParams)}isEqual(t){if(!((t=(0,ae.m9)(t))instanceof gh))return!1;const e=this._repo===t._repo,i=OU(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Kne(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function yk(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function x0(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Qm){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==p0)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==vy)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===Bo){if(null!=t&&!s2(t)||null!=e&&!s2(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,ae.hu)(n.getIndex()instanceof QU||n.getIndex()===HU,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function vk(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class If extends gh{constructor(t,e){super(t,e,new $M,!1)}get parent(){const t=TG(this._path);return null===t?null:new If(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Vb{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Cs(t),i=Gb(this.ref,t);return new Vb(this._node.getChild(e),i,Bo)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new Vb(r,Gb(this.ref,i),Bo)))}hasChild(t){const e=new Cs(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Pj(n,t){return(n=(0,ae.m9)(n))._checkNotDeleted("ref"),void 0!==t?Gb(n._root,t):n._root}function Uj(n,t){(n=(0,ae.m9)(n))._checkNotDeleted("refFromURL");const e=I4(t,n._repo.repoInfo_.nodeAdmin);bj("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Um("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),Pj(n,e.path.toString())}function Gb(n,t){return null===vr((n=(0,ae.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),l2("child","path",e,!1)):l2("child","path",t,!1),new If(n._repo,ca(n._path,t));var e}function T4(n,t){n=(0,ae.m9)(n),Sf("set",n._path),Hm("set",t,n._path,!1);const e=new ae.BH;return b4(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function ase(n,t){wj("update",t,n._path,!1);const e=new ae.BH;return function Gre(n,t,e,i){Qx(n,"update",{path:t.toString(),value:e});let r=!0;const o=c2(n),a={};if(Fc(e,(u,h)=>{r=!1,a[u]=mj(ca(t,u),Ea(h),n.serverSyncTree_,o)}),r)Bc("update() called with empty data.  Don't do anything."),C0(0,i,"ok",void 0);else{const u=gk(n),h=function pre(n,t,e,i){!function Mie(n,t,e,i){(0,ae.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=WU(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=Fo.fromObject(e);return Ux(n,new Nx({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,a,u);pk(n.eventQueue_,h),n.server_.merge(t.toString(),e,(f,_)=>{const C="ok"===f;C||ju("update at "+t+" failed: "+f);const F=b0(n.serverSyncTree_,u,!C),B=F.length>0?Hx(n,t):t;yA(n.eventQueue_,B,F),C0(0,i,f,_)}),Fc(e,f=>{const _=E4(n,ca(t,f));Hx(n,_)}),yA(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function lse(n){n=(0,ae.m9)(n);const t=new D4(()=>{}),e=new u2(t);return function Vre(n,t,e){const i=function vre(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(f,_)=>{const C=Md(f,e);i=i||v0(_,C)});let r=n.syncPointTree_.get(e);r?i=i||v0(r,cs()):(r=new oj,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=null!=i,a=o?new _0(i,!0,!1):null;return function ire(n){return tk(n.viewCache_)}(aj(r,t,nk(n.pendingWriteTree_,t._path),o?a.getNode():or.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const o=Ea(r).withIndex(t._queryParams.getIndex());let a;if(l4(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())a=e2(n.serverSyncTree_,t._path,o);else{const u=t2(n.serverSyncTree_,t);a=hj(n.serverSyncTree_,t._path,o,u)}return yA(n.eventQueue_,t._path,a),ck(n.serverSyncTree_,t,e,null,!0),o},r=>(Qx(n,"get for query "+(0,ae.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new Vb(i,new If(n._repo,n._path),n._queryParams.getIndex()))}class u2{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new Oj("value",this,new Vb(t.snapshotNode,new If(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Lj(this,t,e):null}matches(t){return t instanceof u2&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class wk{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Lj(this,t,e):null}createEvent(t,e){(0,ae.hu)(null!=t.childName,"Child events should have a childName.");const i=Gb(new If(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new Oj(t.type,this,new Vb(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof wk&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function d2(n,t,e,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const h=e,f=(_,C)=>{C4(n._repo,n,u),h(_,C)};f.userCallback=e.userCallback,f.context=e.context,e=f}const a=new D4(e,o||void 0),u="value"===t?new u2(a):new wk(t,a);return function Zre(n,t,e){let i;i=".info"===vr(t._path)?l4(n.infoSyncTree_,t,e):l4(n.serverSyncTree_,t,e),Cj(n.eventQueue_,t._path,i)}(n._repo,n,u),()=>C4(n._repo,n,u)}function B4(n,t,e,i){return d2(n,"value",t,e,i)}function Qj(n,t,e,i){return d2(n,"child_added",t,e,i)}function Hj(n,t,e,i){return d2(n,"child_changed",t,e,i)}function Vj(n,t,e,i){return d2(n,"child_moved",t,e,i)}function Gj(n,t,e,i){return d2(n,"child_removed",t,e,i)}function jj(n,t,e){let i=null;const r=e?new D4(e):null;"value"===t?i=new u2(r):t&&(i=new wk(t,r)),C4(n._repo,n,i)}class Yp{}class zj extends Yp{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Hm("endAt",this._value,t._path,!0);const e=jU(t._queryParams,this._value,this._key);if(vk(e),x0(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new gh(t._repo,t._path,e,t._orderByCalled)}}class use extends Yp{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Hm("endBefore",this._value,t._path,!1);const e=function yie(n,t,e){let i;return i=jU(n,t,n.index_===Qm||e?e:p0),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(vk(e),x0(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new gh(t._repo,t._path,e,t._orderByCalled)}}class qj extends Yp{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Hm("startAt",this._value,t._path,!0);const e=GU(t._queryParams,this._value,this._key);if(vk(e),x0(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new gh(t._repo,t._path,e,t._orderByCalled)}}class Ase extends Yp{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Hm("startAfter",this._value,t._path,!1);const e=function _ie(n,t,e){let i;return i=GU(n,t,n.index_===Qm||e?e:vy),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(vk(e),x0(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new gh(t._repo,t._path,e,t._orderByCalled)}}class pse extends Yp{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new gh(t._repo,t._path,function gie(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class mse extends Yp{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new gh(t._repo,t._path,function mie(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class yse extends Yp{constructor(t){super(),this._path=t}_apply(t){yk(t,"orderByChild");const e=new Cs(this._path);if(wr(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new QU(e),r=YM(t._queryParams,i);return x0(r),new gh(t._repo,t._path,r,!0)}}class wse extends Yp{_apply(t){yk(t,"orderByKey");const e=YM(t._queryParams,Qm);return x0(e),new gh(t._repo,t._path,e,!0)}}class Cse extends Yp{_apply(t){yk(t,"orderByPriority");const e=YM(t._queryParams,Bo);return x0(e),new gh(t._repo,t._path,e,!0)}}class Ese extends Yp{_apply(t){yk(t,"orderByValue");const e=YM(t._queryParams,HU);return x0(e),new gh(t._repo,t._path,e,!0)}}class Ise extends Yp{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Hm("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new zj(this._value,this._key)._apply(new qj(this._value,this._key)._apply(t))}}function Wp(n,...t){let e=(0,ae.m9)(n);for(const i of t)e=i._apply(e);return e}(function are(n){(0,ae.hu)(!ok,"__referenceConstructor has already been defined"),ok=n})(If),function hre(n){(0,ae.hu)(!lk,"__referenceConstructor has already been defined"),lk=n}(If);const F4={};function Zj(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||Um("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Bc("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let h,f,a=I4(o,r),u=a.repoInfo;typeof process<"u"&&process.env&&(f=process.env.FIREBASE_DATABASE_EMULATOR_HOST),f?(h=!0,o=`http://${f}?ns=${u.namespace}`,a=I4(o,r),u=a.repoInfo):h=!a.repoInfo.secure;const _=r&&h?new VD(VD.OWNER):new bne(n.name,n.options,t);bj("Invalid Firebase Database URL",a),wr(a.path)||Um("Database URL must point to the root of a Firebase Database (not including a child path).");const C=function Mse(n,t,e,i){let r=F4[t.name];r||(r={},F4[t.name]=r);let o=r[n.toURLString()];return o&&Um("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Ure(n,false,e,i),r[n.toURLString()]=o,o}(u,n,_,new wne(n.name,e));return new Rse(C,n)}class Rse{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Qre(n,t,e){if(n.stats_=FU(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new WM(n.repoInfo_,(i,r,o,a)=>{Ij(n,i,r,o,a)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Dj(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ae.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Nb(n.repoInfo_,t,(i,r,o,a)=>{Ij(n,i,r,o,a)},i=>{Dj(n,i)},i=>{!function Hre(n,t){Fc(t,(e,i)=>{w4(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function Ene(n,t){const e=n.toString();return BU[e]||(BU[e]=t()),BU[e]}(n.repoInfo_,()=>new Eie(n.stats_,n.server_)),n.infoData_=new vie,n.infoSyncTree_=new dj({startListening:(i,r,o,a)=>{let u=[];const h=n.infoData_.getNode(i._path);return h.isEmpty()||(u=e2(n.infoSyncTree_,i._path,h),setTimeout(()=>{a("ok")},0)),u},stopListening:()=>{}}),w4(n,"connected",!1),n.serverSyncTree_=new dj({startListening:(i,r,o,a)=>(n.server_.listen(i,o,r,(u,h)=>{const f=a(u,h);yA(n.eventQueue_,i._path,f)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new If(this._repo,cs())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Fse(n,t){const e=F4[t];(!e||e[n.key]!==n)&&Um(`Database ${t}(${n.repoInfo_}) has already been deleted.`),Bj(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Um("Cannot call "+t+" on a deleted database.")}}function $j(){mG.IS_TRANSPORT_INITIALIZED&&ju("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Ose(){$j(),g0.forceDisallow()}function Lse(){$j(),Mx.forceDisallow(),g0.forceAllow()}function Use(n,t){W7(n,t)}const Hse={".sv":"timestamp"};class jse{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Nb.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Nb.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function Qse(n){q7(ch.SDK_VERSION),(0,ch._registerComponent)(new kp.wA("database",(t,{instanceIdentifier:e})=>Zj(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,ch.registerVersion)(j7,"0.14.4",n),(0,ch.registerVersion)(j7,"0.14.4","esm2017")}();const Zse=new hf.Yd("@firebase/database-compat"),Wj=function(n){Zse.warn("FIREBASE WARNING: "+n)};class Wse{constructor(t){this._delegate=t}cancel(t){(0,ae.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,ae.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,ae.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,ae.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,ae.Dv)("OnDisconnect.set",1,2,arguments.length),(0,ae.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,ae.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,ae.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,e){if((0,ae.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,Wj("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,ae.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class Jse{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,ae.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class E0{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,ae.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,ae.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,ae.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,ae.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,ae.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),l2("DataSnapshot.child","path",t,!1),new E0(this._database,this._delegate.child(t))}hasChild(t){return(0,ae.Dv)("DataSnapshot.hasChild",1,1,arguments.length),l2("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,ae.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,ae.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,ae.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new E0(this._database,e)))}hasChildren(){return(0,ae.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,ae.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,ae.Dv)("DataSnapshot.ref",0,0,arguments.length),new vA(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ou{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var o;(0,ae.Dv)("Query.on",2,4,arguments.length),(0,ae.Wj)("Query.on","callback",e,!1);const a=ou.getCancelAndContextArgs_("Query.on",i,r),u=(f,_)=>{e.call(a.context,new E0(this.database,f),_)};u.userCallback=e,u.context=a.context;const h=null===(o=a.cancel)||void 0===o?void 0:o.bind(a.context);switch(t){case"value":return B4(this._delegate,u,h),e;case"child_added":return Qj(this._delegate,u,h),e;case"child_removed":return Gj(this._delegate,u,h),e;case"child_changed":return Hj(this._delegate,u,h),e;case"child_moved":return Vj(this._delegate,u,h),e;default:throw new Error((0,ae.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,ae.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,ae.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,ae.Wj)("Query.off","callback",e,!0),(0,ae.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,jj(this._delegate,t,r)}else jj(this._delegate,t)}get(){return lse(this._delegate).then(t=>new E0(this.database,t))}once(t,e,i,r){(0,ae.Dv)("Query.once",1,4,arguments.length),(0,ae.Wj)("Query.once","callback",e,!0);const o=ou.getCancelAndContextArgs_("Query.once",i,r),a=new ae.BH,u=(f,_)=>{const C=new E0(this.database,f);e&&e.call(o.context,C,_),a.resolve(C)};u.userCallback=e,u.context=o.context;const h=f=>{o.cancel&&o.cancel.call(o.context,f),a.reject(f)};switch(t){case"value":B4(this._delegate,u,h,{onlyOnce:!0});break;case"child_added":Qj(this._delegate,u,h,{onlyOnce:!0});break;case"child_removed":Gj(this._delegate,u,h,{onlyOnce:!0});break;case"child_changed":Hj(this._delegate,u,h,{onlyOnce:!0});break;case"child_moved":Vj(this._delegate,u,h,{onlyOnce:!0});break;default:throw new Error((0,ae.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise}limitToFirst(t){return(0,ae.Dv)("Query.limitToFirst",1,1,arguments.length),new ou(this.database,Wp(this._delegate,function gse(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new pse(n)}(t)))}limitToLast(t){return(0,ae.Dv)("Query.limitToLast",1,1,arguments.length),new ou(this.database,Wp(this._delegate,function _se(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new mse(n)}(t)))}orderByChild(t){return(0,ae.Dv)("Query.orderByChild",1,1,arguments.length),new ou(this.database,Wp(this._delegate,function vse(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return l2("orderByChild","path",n,!1),new yse(n)}(t)))}orderByKey(){return(0,ae.Dv)("Query.orderByKey",0,0,arguments.length),new ou(this.database,Wp(this._delegate,function bse(){return new wse}()))}orderByPriority(){return(0,ae.Dv)("Query.orderByPriority",0,0,arguments.length),new ou(this.database,Wp(this._delegate,function xse(){return new Cse}()))}orderByValue(){return(0,ae.Dv)("Query.orderByValue",0,0,arguments.length),new ou(this.database,Wp(this._delegate,function Sse(){return new Ese}()))}startAt(t=null,e){return(0,ae.Dv)("Query.startAt",0,2,arguments.length),new ou(this.database,Wp(this._delegate,function hse(n=null,t){return a2("startAt","key",t,!0),new qj(n,t)}(t,e)))}startAfter(t=null,e){return(0,ae.Dv)("Query.startAfter",0,2,arguments.length),new ou(this.database,Wp(this._delegate,function fse(n,t){return a2("startAfter","key",t,!0),new Ase(n,t)}(t,e)))}endAt(t=null,e){return(0,ae.Dv)("Query.endAt",0,2,arguments.length),new ou(this.database,Wp(this._delegate,function cse(n,t){return a2("endAt","key",t,!0),new zj(n,t)}(t,e)))}endBefore(t=null,e){return(0,ae.Dv)("Query.endBefore",0,2,arguments.length),new ou(this.database,Wp(this._delegate,function dse(n,t){return a2("endBefore","key",t,!0),new use(n,t)}(t,e)))}equalTo(t,e){return(0,ae.Dv)("Query.equalTo",1,2,arguments.length),new ou(this.database,Wp(this._delegate,function Dse(n,t){return a2("equalTo","key",t,!0),new Ise(n,t)}(t,e)))}toString(){return(0,ae.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,ae.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,ae.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof ou))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,ae.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,ae.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,ae.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new vA(this.database,new If(this._delegate._repo,this._delegate._path))}}class vA extends ou{constructor(t,e){super(t,new gh(e._repo,e._path,new $M,!1)),this.database=t,this._delegate=e}getKey(){return(0,ae.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,ae.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new vA(this.database,Gb(this._delegate,t))}getParent(){(0,ae.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new vA(this.database,t):null}getRoot(){return(0,ae.Dv)("Reference.root",0,0,arguments.length),new vA(this.database,this._delegate.root)}set(t,e){(0,ae.Dv)("Reference.set",1,2,arguments.length),(0,ae.Wj)("Reference.set","onComplete",e,!0);const i=T4(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,ae.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,Wj("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Sf("Reference.update",this._delegate._path),(0,ae.Wj)("Reference.update","onComplete",e,!0);const i=ase(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,ae.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,ae.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function ose(n,t,e){if(Sf("setWithPriority",n._path),Hm("setWithPriority",t,n._path,!1),v4("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new ae.BH;return b4(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){(0,ae.Dv)("Reference.remove",0,1,arguments.length),(0,ae.Wj)("Reference.remove","onComplete",t,!0);const e=function rse(n){return Sf("remove",n._path),T4(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,ae.Dv)("Reference.transaction",1,3,arguments.length),(0,ae.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,ae.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,ae.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function zse(n,t,e){var i;if(n=(0,ae.m9)(n),Sf("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,o=new ae.BH,u=B4(n,()=>{});return function Yre(n,t,e,i,r,o){Qx(n,"transaction on "+t);const a={path:t,update:e,onComplete:i,status:null,order:Z7(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=x4(n,t,void 0);a.currentInputSnapshot=u;const h=a.update(u.val());if(void 0===h)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{o2("transaction failed: Data returned ",h,a.path),a.status=0;const f=hk(n.transactionQueueTree_,t),_=Hb(f)||[];let C;_.push(a),m4(f,_),"object"==typeof h&&null!==h&&(0,ae.r3)(h,".priority")?(C=(0,ae.DV)(h,".priority"),(0,ae.hu)(s2(C),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):C=(uk(n.serverSyncTree_,t)||or.EMPTY_NODE).getPriority().val();const F=c2(n),B=Ea(h,C),U=f4(B,u,F);a.currentOutputSnapshotRaw=B,a.currentOutputSnapshotResolved=U,a.currentWriteId=gk(n);const H=a4(n.serverSyncTree_,t,U,a.currentWriteId,a.applyLocally);yA(n.eventQueue_,t,H),mk(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(h,f,_)=>{let C=null;h?o.reject(h):(C=new Vb(_,new If(n._repo,n._path),Bo),o.resolve(new jse(f,C)))},u,r),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new Jse(o.committed,new E0(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,ae.Dv)("Reference.setPriority",1,2,arguments.length),(0,ae.Wj)("Reference.setPriority","onComplete",e,!0);const i=function sse(n,t){n=(0,ae.m9)(n),Sf("setPriority",n._path),v4("setPriority",t,!1);const e=new ae.BH;return b4(n._repo,ca(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,ae.Dv)("Reference.push",0,2,arguments.length),(0,ae.Wj)("Reference.push","onComplete",e,!0);const i=function ise(n,t){n=(0,ae.m9)(n),Sf("push",n._path),Hm("push",t,n._path,!0);const e=Sj(n._repo),i=nse(e),r=Gb(n,i),o=Gb(n,i);let a;return a=null!=t?T4(o,t).then(()=>o):Promise.resolve(o),r.then=a.then.bind(a),r.catch=a.then.bind(a,void 0),r}(this._delegate,t),r=i.then(a=>new vA(this.database,a));e&&r.then(()=>e(null),a=>e(a));const o=new vA(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return Sf("Reference.onDisconnect",this._delegate._path),new Wse(new Nj(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class h2{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Ose,forceLongPolling:Lse}}useEmulator(t,e,i={}){!function Yj(n,t,e,i={}){(n=(0,ae.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Um("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Um('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new VD(VD.OWNER);else if(i.mockUserToken){const a="string"==typeof i.mockUserToken?i.mockUserToken:(0,ae.Sg)(i.mockUserToken,n.app.options.projectId);o=new VD(a)}!function Bse(n,t,e,i){n.repoInfo_=new DU(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(this._delegate,t,e,i)}ref(t){if((0,ae.Dv)("database.ref",0,1,arguments.length),t instanceof vA){const e=Uj(this._delegate,t.toString());return new vA(this,e)}{const e=Pj(this._delegate,t);return new vA(this,e)}}refFromURL(t){(0,ae.Dv)("database.refFromURL",1,1,arguments.length);const i=Uj(this._delegate,t);return new vA(this,i)}goOffline(){return(0,ae.Dv)("database.goOffline",0,0,arguments.length),function Nse(n){(n=(0,ae.m9)(n))._checkNotDeleted("goOffline"),Bj(n._repo)}(this._delegate)}goOnline(){return(0,ae.Dv)("database.goOnline",0,0,arguments.length),function Pse(n){(n=(0,ae.m9)(n))._checkNotDeleted("goOnline"),function $re(n){n.persistentConnection_&&n.persistentConnection_.resume(Ej)}(n._repo)}(this._delegate)}}h2.ServerValue={TIMESTAMP:function Vse(){return Hse}(),increment:n=>function Gse(n){return{".sv":{increment:n}}}(n)};var eoe=Object.freeze({__proto__:null,initStandalone:function Xse({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:o=!1}){q7(e);const a=new kp.zt("auth-internal",new kp.H0("database-standalone"));return a.setComponent(new kp.wA("auth-internal",()=>i,"PRIVATE")),{instance:new h2(Zj(n,a,void 0,t,o),n),namespace:r}}});const toe=h2.ServerValue;function Jj(n){return null==n}function Xj(n){return"function"==typeof n.set}function ez(n,t){return Xj(t)?t:n.ref(t)}function tz(n,t){if(function ioe(n){return"string"==typeof n}(n))return t.stringCase();if(Xj(n))return t.firebaseCase();if(function roe(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function A2(n,t,e="on",i=Mp.z){return new mr.y(r=>{let o=null;return o=n[e](t,(a,u)=>{i.schedule(()=>{r.next({snapshot:a,prevKey:u})}),"once"===e&&i.schedule(()=>r.complete())},a=>{i.schedule(()=>r.error(a))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe((0,on.U)(r=>{const{snapshot:o,prevKey:a}=r;let u=null;return o.exists()&&(u=o.key),{type:t,payload:o,prevKey:a,key:u}}),(0,x5.B)())}function nz(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function aoe(n,t){const{payload:e,prevKey:i,key:r}=t,o=nz(n,r),a=function ooe(n,t){if(Jj(t))return 0;{const e=nz(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let u=null;t.payload.forEach(h=>{const f={payload:h,type:"value",prevKey:u,key:h.key};return u=h.key,n=[...n,f],!1})}return n;case"child_added":if(o>-1){const u=n[o-1];(u&&u.key||null)!==i&&(n=n.filter(h=>h.payload.key!==e.key)).splice(a,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(a,0,t)}return n;case"child_removed":return n.filter(u=>u.payload.key!==e.key);case"child_changed":return n.map(u=>u.payload.key===r?t:u);case"child_moved":if(o>-1){const u=n.splice(o,1)[0];return(n=n.slice()).splice(a,0,u),n}return n;default:return n}}function iz(n){return(Jj(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function rz(n,t,e){return function soe(n,t,e){return A2(n,"value","once",e).pipe(ws(i=>{const r=[An(i)];return t.forEach(o=>r.push(A2(n,o,"on",e))),(0,iu.T)(...r).pipe(nc(aoe,[]))}),vv())}(n,t=iz(t),e)}function sz(n,t,e){const i=(t=iz(t)).map(r=>A2(n,r,"on",e));return(0,iu.T)(...i)}function oz(n,t){return function(i,r){return tz(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function doe(n){return function(e){return e?tz(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function az(n,t){return function(){return A2(n,"value","on",t)}}!function noe(n){n.INTERNAL.registerComponent(new kp.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new h2(r,i)},"PUBLIC").setServiceProps({Reference:vA,Query:ou,Database:h2,DataSnapshot:E0,enableLogging:Use,INTERNAL:eoe,ServerValue:toe}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(zT.Z);const foe=new s.OlP("angularfire2.realtimeDatabaseURL"),poe=new s.OlP("angularfire2.database.use-emulator");let goe=(()=>{class n{constructor(e,i,r,o,a,u,h,f,_,C,F,B,U,H,Z){this.schedulers=u;const q=h,W=(0,Xc.on)(e,a,i);f&&eU(W,a,_,F,B,U,C,H),this.database=(0,Xc.cc)(`${W.name}.database.${r}`,"AngularFireDatabase",W.name,()=>{const he=a.runOutsideAngular(()=>W.database(r||void 0));return q&&he.useEmulator(...q),he},[q])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>ez(this.database,e));let o=r;return i&&(o=i(r)),function hoe(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:oz(i,"update"),set:oz(i,"set"),push:r=>i.push(r),remove:doe(i),snapshotChanges:r=>rz(n,r,e).pipe(oo.iC),stateChanges:r=>sz(n,r,e).pipe(oo.iC),auditTrail:r=>function loe(n,t,e){return function uoe(n,t,e){return function coe(n,t){return A2(n,"value","on",t).pipe((0,on.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function ane(...n){const t=(0,Pa.jO)(n);return(0,Wr.e)((e,i)=>{const r=n.length,o=new Array(r);let a=n.map(()=>!1),u=!1;for(let h=0;h<r;h++)(0,Qa.Xf)(n[h]).subscribe(new Nr.Q(i,f=>{o[h]=f,!u&&!a[h]&&(a[h]=!0,(u=a.every(wn.y))&&(a=null))},sU.Z));e.subscribe(new Nr.Q(i,h=>{if(u){const f=[h,...o];i.next(t?t(...f):f)}}))})}(t),(0,on.U)(([r,o])=>{const a=r.lastKeyToLoad,u=o.map(h=>h.key);return{actions:o,lastKeyToLoad:a,loadedKeys:u}}),function lne(n){return(0,Wr.e)((t,e)=>{let i=!1,r=0;t.subscribe(new Nr.Q(e,o=>(i||(i=!n(o,r++)))&&e.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,on.U)(r=>r.actions))}(n,sz(n,t).pipe(nc((r,o)=>[...r,o],[])),e)}(n,r,e).pipe(oo.iC),valueChanges:(r,o)=>rz(n,r,e).pipe((0,on.U)(u=>u.map(h=>o&&o.idField?Object.assign(Object.assign({},h.payload.val()),{[o.idField]:h.key}):h.payload.val())),oo.iC)}}(o,this)}object(e){return function Aoe(n,t){return{query:n,snapshotChanges:()=>az(n,t.schedulers.outsideAngular)().pipe(oo.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>az(n,t.schedulers.outsideAngular)().pipe(oo.iC,(0,on.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>ez(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Xc.Dh),s.LFG(Xc.xv,8),s.LFG(foe,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(oo.HU),s.LFG(poe,8),s.LFG(_M,8),s.LFG(Z5,8),s.LFG($5,8),s.LFG(Y5,8),s.LFG(W5,8),s.LFG(J5,8),s.LFG(X5,8),s.LFG(mM,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),S0=(()=>{class n{constructor(e,i){this.store=e,this.angularFire=i,this.getObservable=r=>{const o=new pr([]);return r.valueChanges({idField:"id"}).subscribe(a=>{o.next(a)}),o},this.getObservableSkill=r=>{const o=new pr([]);return r.valueChanges({idField:"id"}).subscribe(a=>{o.next(a)}),o},this.getObservableTipologia=r=>{const o=new pr([]);return r.valueChanges({idField:"id"}).subscribe(a=>{o.next(a)}),o},this.getObservableRazza=r=>{const o=new pr([]);return r.valueChanges({idField:"id"}).subscribe(a=>{o.next(a)}),o},this.getObservableClasseSkills=r=>{const o=new pr([]);return r.valueChanges({idField:"id"}).subscribe(a=>{o.next(a)}),o},this.getObservableReligioni=r=>{const o=new pr([]);return r.valueChanges({idField:"id"}).subscribe(a=>{o.next(a)}),o},this.getObservableSpellPaladino=r=>{const o=new pr([]);return r.valueChanges({idField:"id"}).subscribe(a=>{o.next(a)}),o},this.getObservablePg=r=>{const o=new pr([]);return r.valueChanges({idField:"id"}).subscribe(a=>{o.next(a)}),o},this.getObservableSkillsPg=r=>{const o=new pr([]);return r.valueChanges({idField:"id"}).subscribe(a=>{o.next(a)}),o},this.getObservableSpellChierico=r=>{const o=new pr([]);return r.valueChanges({idField:"id"}).subscribe(a=>{o.next(a)}),o}}getAllClass(){return this.getObservable(this.store.collection("Classe"))}getSpellPaladinoFromDivinita(e){return this.store.collection("SpellPaladino",r=>r.where("religione","==",e)).valueChanges().pipe((0,on.U)(r=>r.map(o=>{let a=new wU;return a.aura=o.aura,a.religione=o.religione,a.id=o.id,a.spell=o.spell,a})))}getSpellChiericoFromDivinita(e){return this.store.collection("SpellChierico",r=>r.where("religione","==",e)).valueChanges().pipe((0,on.U)(r=>r.map(o=>{let a=new bU;return a.religione=o.religione,a.id=o.id,a.spell=o.spell,a})))}getRegni(){return this.store.collection("Regno").valueChanges().pipe((0,on.U)(i=>i.map(r=>{let o=new ine;return o.nome=r.nome,o})))}getDomandeRisposte(){return this.store.collection("DomandeRisposte").valueChanges().pipe((0,on.U)(i=>i.map(r=>{let o=new rne;return o.domanda=r.domanda,o.risposta=r.risposta,o.min=r.min,o})))}getInfoSkill(e){return this.store.collection("InfoSkill",r=>r.where("classe","==",e)).valueChanges().pipe((0,on.U)(r=>r.map(o=>{let a=new sne;return a.info=o.info,a.nome=o.nome,a.procedura=o.procedura,a.classe=o.classe,a})))}getAllSkills(e=-1){return this.getObservableSkill(this.store.collection("Skill",-1===e?i=>i.orderBy("idTipologiaSkill"):i=>i.where("idTipologiaSkill","==",e.toString())))}getAllReligioni(e=""){return this.getObservableReligioni(""===e?this.store.collection("Religione"):this.store.collection("Religione",i=>i.where("pantheon","==",e)))}getClasseSkills(e){return this.getObservableClasseSkills(this.store.collection("Skill",i=>i.where("classi","array-contains",e)))}getAllRazze(){return this.getObservableRazza(this.store.collection("Razza"))}getAllTipologieSkill(){return this.getObservableTipologia(this.store.collection("TipologiaSkill"))}AddSkill(e){this.store.collection("Skill").add({nome:e.nome,classi:e.classi,idTipologiaSkill:e.idTipologiaSkill})}AddPg(e,i,r=!1){this.store.collection("Pg").add({nome:e.nome,classe:e.classe.nome,divinita:e.religione.nome,pantheon:e.religione.pantheon,razza:e.razza.nome,forza:e.stats.forza,destrezza:e.stats.destrezza,intelligenza:e.stats.intelligenza,guid:i,utilizzatoNVolte:r?1:0})}addSkillsPg(e,i){this.store.collection("SkillsPg").add({guidPg:i,nomeSkill:e.nome,valueSkill:e.value,idTipologiaSkill:e.idTipologiaSkill,idSkill:e.id})}getPg(e){return this.getObservablePg(this.store.collection("Pg",i=>i.where("guid","==",e)))}getSchedePgByClasse(e){return this.store.collection("Pg",r=>r.where("classe","==",e)).valueChanges().pipe((0,on.U)(r=>r.map(o=>{let a=new vU;return a.nome=o.nome,a.classe=o.classe,a.destrezza=o.destrezza,a.forza=o.forza,a.intelligenza=o.intelligenza,a.guid=o.guid,a.utilizzatoNVolte=o.utilizzatoNVolte,a})))}updateSchedaPg(e,i){var r=this.store.collection("Pg",o=>o.where("guid","==",e)).valueChanges({idField:"id"}).subscribe(o=>{null!=o&&this.store.collection("Pg").doc(`${o[0].id}`).set({utilizzatoNVolte:i},{merge:!0}),r.unsubscribe()},o=>console.error("Error"))}getSkillsPg(e){return this.getObservableSkillsPg(this.store.collection("SkillsPg",i=>i.where("guidPg","==",e)))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(vM),s.LFG(goe))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function moe(n,t){}class bk{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let lz=(()=>{class n extends EM{constructor(e,i,r,o,a,u,h,f){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=a,this._ngZone=u,this._overlayRef=h,this._focusMonitor=f,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=_=>{this._portalOutlet.hasAttached();const C=this._portalOutlet.attachDomPortal(_);return this._contentAttached(),C},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=fS(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=fS();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=fS())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(MM),s.Y36(Ke,8),s.Y36(bk),s.Y36(BD),s.Y36(s.R0b),s.Y36(DD),s.Y36(Kp))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&s.Gf(Ex,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&s.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,moe,0,0,"ng-template",0)},dependencies:[Ex],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class M4{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new tn.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Pm(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const cz=new s.OlP("DialogScrollStrategy"),_oe=new s.OlP("DialogData"),yoe=new s.OlP("DefaultDialogConfig"),woe={provide:cz,deps:[Cf],useFactory:function voe(n){return()=>n.scrollStrategies.block()}};let boe=0,uz=(()=>{class n{constructor(e,i,r,o,a,u){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new tn.x,this._afterOpenedAtThisLevel=new tn.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Xd(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(sa(void 0))),this._scrollStrategy=u}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new bk,...i}).id=i.id||"cdk-dialog-"+boe++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),a=this._overlay.create(o),u=new M4(a,i),h=this._attachContainer(a,u,i);return u.containerInstance=h,this._attachDialogContent(e,u,h,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.closed.subscribe(()=>this._removeOpenDialog(u,!0)),this.afterOpened.next(u),u}closeAll(){k4(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){k4(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),k4(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new SM({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector||r.viewContainerRef?.injector,a=[{provide:bk,useValue:r},{provide:M4,useValue:i},{provide:DD,useValue:e}];let u;r.container?"function"==typeof r.container?u=r.container:(u=r.container.type,a.push(...r.container.providers(r))):u=lz;const h=new xx(u,r.viewContainerRef,s.zs3.create({parent:o||this._injector,providers:a}),r.componentFactoryResolver);return e.attach(h).instance}_attachDialogContent(e,i,r,o){if(e instanceof s.Rgc){const a=this._createInjector(o,i,r,void 0);let u={$implicit:o.data,dialogRef:i};o.templateContext&&(u={...u,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new xD(e,null,u,a))}else{const a=this._createInjector(o,i,r,this._injector),u=r.attachComponentPortal(new xx(e,o.viewContainerRef,a,o.componentFactoryResolver));i.componentInstance=u.instance}}_createInjector(e,i,r,o){const a=e.injector||e.viewContainerRef?.injector,u=[{provide:_oe,useValue:e.data},{provide:M4,useValue:i}];return e.providers&&("function"==typeof e.providers?u.push(...e.providers(i,e,r)):u.push(...e.providers)),e.direction&&(!a||!a.get(bf,null,s.XFs.Optional))&&u.push({provide:bf,useValue:{value:e.direction,change:An()}}),s.zs3.create({parent:a||o,providers:u})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Cf),s.LFG(s.zs3),s.LFG(yoe,8),s.LFG(n,12),s.LFG(IM),s.LFG(cz))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function k4(n,t){let e=n.length;for(;e--;)t(n[e])}let Coe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[uz,woe],imports:[Sx,Db,p7,Db]}),n})();function xoe(n,t){}const Vx={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},Eoe={dialogContainer:Tc("dialogContainer",[Hr("void, exit",ui({opacity:0,transform:"scale(0.7)"})),Hr("enter",ui({transform:"none"})),Ws("* => enter",M7([To("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",ui({transform:"none",opacity:1})),UM("@*",PM(),{optional:!0})]),Vx),Ws("* => void, * => exit",M7([To("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",ui({opacity:0})),UM("@*",PM(),{optional:!0})]),Vx)])};class Ck{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=Vx.params.enterAnimationDuration,this.exitAnimationDuration=Vx.params.exitAnimationDuration}}let Soe=(()=>{class n extends lz{constructor(e,i,r,o,a,u,h,f){super(e,i,r,o,a,u,h,f),this._animationStateChanged=new s.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(MM),s.Y36(Ke,8),s.Y36(Ck),s.Y36(BD),s.Y36(s.R0b),s.Y36(DD),s.Y36(Kp))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],features:[s.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),Ioe=(()=>{class n extends Soe{constructor(e,i,r,o,a,u,h,f,_){super(e,i,r,o,a,u,h,_),this._changeDetectorRef=f,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||Vx.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||Vx.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(MM),s.Y36(Ke,8),s.Y36(Ck),s.Y36(BD),s.Y36(s.R0b),s.Y36(DD),s.Y36(s.sBO),s.Y36(Kp))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&s.WFA("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&e&&(s.Ikx("id",i._config.id),s.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),s.d8E("@dialogContainer",i._getAnimationState()))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,xoe,0,0,"ng-template",0)},dependencies:[Ex],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[Eoe.dialogContainer]}}),n})();class I0{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new tn.x,this._beforeClosed=new tn.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(_i(r=>"opened"===r.state),(0,Jr.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(_i(r=>"closed"===r.state),(0,Jr.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,iu.T)(this.backdropClick(),this.keydownEvents().pipe(_i(r=>27===r.keyCode&&!this.disableClose&&!Pm(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function Doe(n,t,e){n._closeInteractionType=t,n.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(_i(e=>"closing"===e.state),(0,Jr.q)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Vm=new s.OlP("MatDialogData"),Toe=new s.OlP("mat-dialog-default-options"),dz=new s.OlP("mat-dialog-scroll-strategy"),Foe={provide:dz,deps:[Cf],useFactory:function Boe(n){return()=>n.scrollStrategies.block()}};let Moe=0,koe=(()=>{class n{constructor(e,i,r,o,a,u,h,f,_,C){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=h,this._dialogContainerType=f,this._dialogDataToken=_,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new tn.x,this._afterOpenedAtThisLevel=new tn.x,this._idPrefix="mat-dialog-",this.afterAllClosed=Xd(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(sa(void 0))),this._scrollStrategy=u,this._dialog=i.get(uz)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let r;(i={...this._defaultOptions||new Ck,...i}).id=i.id||`${this._idPrefix}${Moe++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:Ck,useValue:i},{provide:bk,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(a,u,h)=>(r=new this._dialogRefConstructor(a,i,h),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:h},{provide:this._dialogDataToken,useValue:u.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),by=(()=>{class n extends koe{constructor(e,i,r,o,a,u,h,f){super(e,i,o,u,h,a,I0,Ioe,Vm,f)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Cf),s.LFG(s.zs3),s.LFG(Jt,8),s.LFG(Toe,8),s.LFG(dz),s.LFG(n,12),s.LFG(IM),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Roe=0,hz=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+Roe++}ngOnInit(){this._dialogRef||(this._dialogRef=function Loe(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(I0,8),s.Y36(s.SBq),s.Y36(by))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&s.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),Ooe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),Noe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[by,Foe],imports:[Coe,Sx,Db,hr,hr]}),n})();const Poe=["*",[["mat-toolbar-row"]]],Uoe=["*","mat-toolbar-row"],Qoe=f0(class{constructor(n){this._elementRef=n}});let R4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Az=(()=>{class n extends Qoe{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Ms),s.Y36(Ke))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,R4,5),2&e){let o;s.iGM(o=s.CRH())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[s.qOj],ngContentSelectors:Uoe,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(Poe),s.Hsn(0),s.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),fz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[hr,hr]}),n})();function pz(...n){const t=(0,Pa.jO)(n),{args:e,keys:i}=jh(n),r=new mr.y(o=>{const{length:a}=e;if(!a)return void o.complete();const u=new Array(a);let h=a,f=a;for(let _=0;_<a;_++){let C=!1;(0,Qa.Xf)(e[_]).subscribe(new Nr.Q(o,F=>{C||(C=!0,f--),u[_]=F},()=>h--,void 0,()=>{(!h||!C)&&(f||o.next(i?Vg(i,u):u),o.complete())}))}});return t?r.pipe(tc(t)):r}const Hoe=["*"];let xk;function f2(n){return function Voe(){if(void 0===xk&&(xk=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(xk=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return xk}()?.createHTML(n)||n}function gz(n){return Error(`Unable to find icon with the name "${n}"`)}function mz(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function _z(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class jb{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let Ek=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new jb(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const a=this._sanitizer.sanitize(s.q3G.HTML,r);if(!a)throw _z(r);const u=f2(a);return this._addSvgIconConfig(e,i,new jb("",u,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new jb(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(s.q3G.HTML,i);if(!o)throw _z(i);const a=f2(o);return this._addSvgIconSetConfig(e,new jb("",a,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!i)throw mz(e);const r=this._cachedIconsByUrl.get(i);return r?An(Sk(r)):this._loadSvgIconFromConfig(new jb(e,null)).pipe((0,Cr.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,on.U)(o=>Sk(o)))}getNamedSvgIcon(e,i=""){const r=yz(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(e,a):ro(gz(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?An(Sk(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,on.U)(i=>Sk(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?An(r):pz(i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Ho(u=>{const f=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,a.url)} failed: ${u.message}`;return this._errorHandler.handleError(new Error(f)),An(null)})))).pipe((0,on.U)(()=>{const a=this._extractIconWithNameFromAnySet(e,i);if(!a)throw gz(e);return a}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const a=this._svgElementFromConfig(o),u=this._extractSvgIconFromSet(a,e,o.options);if(u)return u}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Cr.b)(i=>e.svgText=i),(0,on.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?An(null):this._fetchIcon(e).pipe((0,Cr.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const a=o.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,r);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),r);const u=this._svgElementFromString(f2("<svg></svg>"));return u.appendChild(a),this._setSvgAttributes(u,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(f2("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:a,value:u}=r[o];"id"!==a&&i.setAttribute(a,u)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function Goe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,i);if(!a)throw mz(i);const u=this._inProgressUrlFetches.get(a);if(u)return u;const h=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe((0,on.U)(f=>f2(f)),nh(()=>this._inProgressUrlFetches.delete(a)),(0,x5.B)());return this._inProgressUrlFetches.set(a,h),h}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(yz(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return zoe(o)?new jb(o.url,null,o.options):new jb(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fm,8),s.LFG(Ol),s.LFG(Ke,8),s.LFG(s.qLn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Sk(n){return n.cloneNode(!0)}function yz(n,t){return n+":"+t}function zoe(n){return!(!n.url||!n.options)}const qoe=f0(class{constructor(n){this._elementRef=n}}),Koe=new s.OlP("MAT_ICON_DEFAULT_OPTIONS"),Zoe=new s.OlP("mat-icon-location",{providedIn:"root",factory:function $oe(){const n=(0,s.f3M)(Ke),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),vz=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Yoe=vz.map(n=>`[${n}]`).join(", "),Woe=/^url\(['"]?#(.*?)['"]?\)$/;let Jp=(()=>{class n extends qoe{constructor(e,i,r,o,a,u){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Uo.w0.EMPTY,u&&(u.color&&(this.color=this.defaultColor=u.color),u.fontSet&&(this.fontSet=u.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Ci(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(a=>{o.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(Yoe),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)vz.forEach(a=>{const u=i[o],h=u.getAttribute(a),f=h?h.match(Woe):null;if(f){let _=r.get(u);_||(_=[],r.set(u,_)),_.push({name:a,value:f[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,Jr.q)(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Ek),s.$8M("aria-hidden"),s.Y36(Zoe),s.Y36(s.qLn),s.Y36(Koe,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(s.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),s.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:Hoe,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),wz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[hr,hr]}),n})();const Ik=["*"],Joe=["content"];function Xoe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._onBackdropClicked())}),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function eae(n,t){1&n&&(s.TgZ(0,"mat-drawer-content"),s.Hsn(1,2),s.qZA())}const tae=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],nae=["mat-drawer","mat-drawer-content","*"];function iae(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._onBackdropClicked())}),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function rae(n,t){1&n&&(s.TgZ(0,"mat-sidenav-content"),s.Hsn(1,2),s.qZA())}const sae=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],oae=["mat-sidenav","mat-sidenav-content","*"],bz={transformDrawer:Tc("transform",[Hr("open, open-instant",ui({transform:"none",visibility:"visible"})),Hr("void",ui({"box-shadow":"none",visibility:"hidden"})),Ws("void => open-instant",To("0ms")),Ws("void <=> open, open-instant => void",To("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},lae=new s.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function cae(){return!1}}),O4=new s.OlP("MAT_DRAWER_CONTAINER");let Dk=(()=>{class n extends CD{constructor(e,i,r,o,a){super(r,o,a),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>xz)),s.Y36(s.SBq),s.Y36(bD),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&s.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[s._Bn([{provide:CD,useExisting:n}]),s.qOj],ngContentSelectors:Ik,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),Cz=(()=>{class n{constructor(e,i,r,o,a,u,h,f){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=a,this._interactivityChecker=u,this._doc=h,this._container=f,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new tn.x,this._animationEnd=new tn.x,this._animationState="void",this.openedChange=new s.vpe(!0),this._openedStream=this.openedChange.pipe(_i(_=>_),(0,on.U)(()=>{})),this.openedStart=this._animationStarted.pipe(_i(_=>_.fromState!==_.toState&&0===_.toState.indexOf("open")),pd(void 0)),this._closedStream=this.openedChange.pipe(_i(_=>!_),(0,on.U)(()=>{})),this.closedStart=this._animationStarted.pipe(_i(_=>_.fromState!==_.toState&&"void"===_.toState),pd(void 0)),this._destroyed=new tn.x,this.onPositionChanged=new s.vpe,this._modeChanged=new tn.x,this.openedChange.subscribe(_=>{_?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{A0(this._elementRef.nativeElement,"keydown").pipe(_i(_=>27===_.keyCode&&!this.disableClose&&!Pm(_)),Wi(this._destroyed)).subscribe(_=>this._ngZone.run(()=>{this.close(),_.stopPropagation(),_.preventDefault()}))}),this._animationEnd.pipe(vv((_,C)=>_.fromState===C.fromState&&_.toState===C.toState)).subscribe(_=>{const{fromState:C,toState:F}=_;(0===F.indexOf("open")&&"void"===C||"void"===F&&0===C.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Ci(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Ci(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Ci(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe((0,Jr.q)(1)).subscribe(a=>o(a?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(MM),s.Y36(Kp),s.Y36(Ms),s.Y36(s.R0b),s.Y36(BD),s.Y36(Ke,8),s.Y36(O4,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&s.Gf(Joe,5),2&e){let r;s.iGM(r=s.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&s.WFA("@transform.start",function(o){return i._animationStarted.next(o)})("@transform.done",function(o){return i._animationEnd.next(o)}),2&e&&(s.uIk("align",null),s.d8E("@transform",i._animationState),s.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Ik,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA())},dependencies:[CD],encapsulation:2,data:{animation:[bz.transformDrawer]},changeDetection:0}),n})(),xz=(()=>{class n{constructor(e,i,r,o,a,u=!1,h){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=h,this._drawers=new s.n_E,this.backdropClick=new s.vpe,this._destroyed=new tn.x,this._doCheckSubject=new tn.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new tn.x,e&&e.change.pipe(Wi(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),a.change().pipe(Wi(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=u}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Ci(e)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(e){this._backdropOverride=null==e?null:Ci(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(sa(this._allDrawers),Wi(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(sa(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(TD(10),Wi(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(_i(i=>i.fromState!==i.toState),Wi(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Wi(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(Wi(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,Jr.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Wi((0,iu.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(bf,8),s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(bx),s.Y36(lae),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Dk,5),s.Suo(r,Cz,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._content=o.first),s.iGM(o=s.CRH())&&(i._allDrawers=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(Dk,5),2&e){let r;s.iGM(r=s.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[s._Bn([{provide:O4,useExisting:n}])],ngContentSelectors:nae,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(s.F$t(tae),s.YNc(0,Xoe,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,eae,2,0,"mat-drawer-content",1)),2&e&&(s.Q6J("ngIf",i.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!i._content))},dependencies:[Li,Dk],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),L4=(()=>{class n extends Dk{constructor(e,i,r,o,a){super(e,i,r,o,a)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>Sz)),s.Y36(s.SBq),s.Y36(bD),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&s.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[s._Bn([{provide:CD,useExisting:n}]),s.qOj],ngContentSelectors:Ik,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),Ez=(()=>{class n extends Cz{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Ci(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=su(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=su(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(s.uIk("align",null),s.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),s.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[s.qOj],ngContentSelectors:Ik,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA())},dependencies:[CD],encapsulation:2,data:{animation:[bz.transformDrawer]},changeDetection:0}),n})(),Sz=(()=>{class n extends xz{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,L4,5),s.Suo(r,Ez,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._content=o.first),s.iGM(o=s.CRH())&&(i._allDrawers=o)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[s._Bn([{provide:O4,useExisting:n}]),s.qOj],ngContentSelectors:oae,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(s.F$t(sae),s.YNc(0,iae,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,rae,2,0,"mat-sidenav-content",1)),2&e&&(s.Q6J("ngIf",i.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!i._content))},dependencies:[Li,L4],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),uae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[ea,hr,Cx,Cx,hr]}),n})(),p2=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Ci(e)}get inset(){return this._inset}set inset(e){this._inset=Ci(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),s.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),dae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[hr,hr]}),n})();function Iz(n){for(let t in n){let e=n[t]??"";switch(t){case"display":n.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+t]=e;break;case"flex-direction":n["-webkit-flex-direction"]=e,n["flex-direction"]=e;break;case"order":n.order=n["-webkit-"+t]=isNaN(+e)?"0":e}}return n}const N4="inline",Tk=["row","column","row-reverse","column-reverse"];function Dz(n){let[t,e,i]=Tz(n);return function Aae(n,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":t||null}}(t,e,i)}function Tz(n){n=n?.toLowerCase()??"";let[t,e,i]=n.split(" ");return Tk.find(r=>r===t)||(t=Tk[0]),e===N4&&(e=i!==N4?i:"",i=N4),[t,hae(e),!!i]}function g2(n){let[t]=Tz(n);return t.indexOf("row")>-1}function hae(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function Cy(n,...t){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}const pae={provide:s.tb,useFactory:function fae(n,t){return()=>{if(Yl(t)){const e=Array.from(n.querySelectorAll(`[class*=${Bz}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(r=>{r.classList.contains(`${Bz}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[Ke,s.Lbi],multi:!0},Bz="flex-layout-";let P4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[pae]}),n})();class zb{constructor(t=!1,e="all",i="",r="",o=0){this.matches=t,this.mediaQuery=e,this.mqAlias=i,this.suffix=r,this.priority=o,this.property=""}clone(){return new zb(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let gae=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(e,i,r){const o=this.stylesheet.get(e);o?o.set(i,r):this.stylesheet.set(e,new Map([[i,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,i){const r=this.stylesheet.get(e);let o="";if(r){const a=r.get(i);("number"==typeof a||"string"==typeof a)&&(o=a+"")}return o}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const U4={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Xp=new s.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>U4}),Gx=new s.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),Q4=new s.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function Fz(n,t){return n=n?.clone()??new zb,t&&(n.mqAlias=t.alias,n.mediaQuery=t.mediaQuery,n.suffix=t.suffix,n.priority=t.priority),n}class Ja{constructor(){this.shouldCache=!0}sideEffect(t,e,i){}}let Zo=(()=>{class n{constructor(e,i,r,o){this._serverStylesheet=e,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=o}applyStyleToElement(e,i,r=null){let o={};"string"==typeof i&&(o[i]=r,i=o),o=this.layoutConfig.disableVendorPrefixes?i:Iz(i),this._applyMultiValueStyleToElement(o,e)}applyStyleToElements(e,i=[]){const r=this.layoutConfig.disableVendorPrefixes?e:Iz(e);i.forEach(o=>{this._applyMultiValueStyleToElement(r,o)})}getFlowDirection(e){const i="flex-direction";let r=this.lookupStyle(e,i);return[r||"row",this.lookupInlineStyle(e,i)||Ta(this._platformId)&&this._serverModuleLoaded?r:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,i){return e.getAttribute(i)??""}lookupInlineStyle(e,i){return Yl(this._platformId)?e.style.getPropertyValue(i):function mae(n,t){return Mz(n)[t]??""}(e,i)}lookupStyle(e,i,r=!1){let o="";return e&&((o=this.lookupInlineStyle(e,i))||(Yl(this._platformId)?r||(o=getComputedStyle(e).getPropertyValue(i)):this._serverModuleLoaded&&(o=this._serverStylesheet.getStyleForElement(e,i)))),o?o.trim():""}_applyMultiValueStyleToElement(e,i){Object.keys(e).sort().forEach(r=>{const o=e[r],a=Array.isArray(o)?o:[o];a.sort();for(let u of a)u=u?u+"":"",Yl(this._platformId)||!this._serverModuleLoaded?Yl(this._platformId)?i.style.setProperty(r,u):_ae(i,r,u):this._serverStylesheet.addStyleToElement(i,r,u)})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gae),s.LFG(Gx),s.LFG(s.Lbi),s.LFG(Xp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _ae(n,t,e){t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=Mz(n);i[t]=e??"",function yae(n,t){let e="";for(const i in t)t[i]&&(e+=`${i}:${t[i]};`);n.setAttribute("style",e)}(n,i)}function Mz(n){const t={},e=n.getAttribute("style");if(e){const i=e.split(/;+/g);for(let r=0;r<i.length;r++){const o=i[r].trim();if(o.length>0){const a=o.indexOf(":");if(-1===a)throw new Error(`Invalid CSS style: ${o}`);t[o.substr(0,a).trim()]=o.substr(a+1).trim()}}}return t}function m2(n,t){return(t&&t.priority||0)-(n&&n.priority||0)}function vae(n,t){return(n.priority||0)-(t.priority||0)}let H4=(()=>{class n{constructor(e,i,r){this._zone=e,this._platformId=i,this._document=r,this.source=new pr(new zb(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((i,r)=>{i.matches&&e.push(r)}),e}isActive(e){return this.registry.get(e)?.matches??this.registerQuery(e).some(r=>r.matches)}observe(e,i=!1){if(e&&e.length){const r=this._observable$.pipe(_i(a=>!i||e.indexOf(a.mediaQuery)>-1)),o=new mr.y(a=>{const u=this.registerQuery(e);if(u.length){const h=u.pop();u.forEach(f=>{a.next(f)}),this.source.next(h)}a.complete()});return(0,iu.T)(o,r)}return this._observable$}registerQuery(e){const i=Array.isArray(e)?e:[e],r=[];return function wae(n,t){const e=n.filter(i=>!kz[i]);if(e.length>0){const i=e.join(", ");try{const r=t.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),t.head.appendChild(r),e.forEach(o=>kz[o]=r)}catch(r){console.error(r)}}}(i,this._document),i.forEach(o=>{const a=h=>{this._zone.run(()=>this.source.next(new zb(h.matches,o)))};let u=this.registry.get(o);u||(u=this.buildMQL(o),u.addListener(a),this.pendingRemoveListenerFns.push(()=>u.removeListener(a)),this.registry.set(o,u)),u.matches&&r.push(new zb(!0,o))}),r}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function Cae(n,t){return t&&window.matchMedia("all").addListener?window.matchMedia(n):function bae(n){const t=new EventTarget;return t.matches="all"===n||""===n,t.media=n,t.addListener=()=>{},t.removeListener=()=>{},t.addEventListener=()=>{},t.dispatchEvent=()=>!1,t.onchange=null,t}(n)}(e,Yl(this._platformId))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(s.Lbi),s.LFG(Ke))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kz={},xae=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],Rz="(orientation: portrait) and (max-width: 599.98px)",Oz="(orientation: landscape) and (max-width: 959.98px)",Lz="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",Nz="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",Pz="(orientation: portrait) and (min-width: 840px)",Uz="(orientation: landscape) and (min-width: 1280px)",xy={HANDSET:`${Rz}, ${Oz}`,TABLET:`${Lz} , ${Nz}`,WEB:`${Pz}, ${Uz} `,HANDSET_PORTRAIT:`${Rz}`,TABLET_PORTRAIT:`${Lz} `,WEB_PORTRAIT:`${Pz}`,HANDSET_LANDSCAPE:`${Oz}`,TABLET_LANDSCAPE:`${Nz}`,WEB_LANDSCAPE:`${Uz}`},Eae=[{alias:"handset",priority:2e3,mediaQuery:xy.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:xy.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:xy.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:xy.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:xy.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:xy.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:xy.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:xy.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:xy.WEB_PORTRAIT,overlapping:!0}],Sae=/(\.|-|_)/g;function Iae(n){let t=n.length>0?n.charAt(0):"",e=n.length>1?n.slice(1):"";return t.toUpperCase()+e}const Fae=new s.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=(0,s.f3M)(Q4),t=(0,s.f3M)(Xp),e=[].concat.apply([],(n||[]).map(r=>Array.isArray(r)?r:[r]));return function Bae(n,t=[]){const e={};return n.forEach(i=>{e[i.alias]=i}),t.forEach(i=>{e[i.alias]?Cy(e[i.alias],i):e[i.alias]=i}),function Tae(n){return n.forEach(t=>{t.suffix||(t.suffix=function Dae(n){return n.replace(Sae,"|").split("|").map(Iae).join("")}(t.alias),t.overlapping=!!t.overlapping)}),n}(Object.keys(e).map(i=>e[i]))}((t.disableDefaultBps?[]:xae).concat(t.addOrientationBps?Eae:[]),e)}});let V4=(()=>{class n{constructor(e){this.findByMap=new Map,this.items=[...e].sort(vae)}findByAlias(e){return e?this.findWithPredicate(e,i=>i.alias===e):null}findByQuery(e){return this.findWithPredicate(e,i=>i.mediaQuery===e)}get overlappings(){return this.items.filter(e=>e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e?.suffix??"")}findWithPredicate(e,i){let r=this.findByMap.get(e);return r||(r=this.items.find(i)??null,this.findByMap.set(e,r)),r??null}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jx="print",Mae={alias:jx,mediaQuery:jx,priority:1e3};let kae=(()=>{class n{constructor(e,i,r){this.breakpoints=e,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new Rae,this.deactivations=[]}withPrintQuery(e){return[...e,jx]}isPrintEvent(e){return e.mediaQuery.startsWith(jx)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const i=this.breakpoints.findByQuery(e);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(m2)}updateEvent(e){let i=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(i=this.getEventBreakpoints(e)[0],e.mediaQuery=i?.mediaQuery??""),Fz(e,i)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new zb(!0,jx))),e.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(r)}interceptEvents(e){return i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(i)),e.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(e,i)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,i){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(e,i){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!i.matches){const r=this.breakpoints.findByQuery(i.mediaQuery);if(r){const o=this.formerActivations&&this.formerActivations.includes(r),a=!this.formerActivations&&e.activatedBreakpoints.includes(r);(o||a)&&(this.deactivations.push(r),this.deactivations.sort(m2))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(V4),s.LFG(Xp),s.LFG(Ke))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Rae{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(Mae),t.sort(m2),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function Oae(n){return n?.mediaQuery.startsWith(jx)??!1}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}let ua=(()=>{class n{constructor(e,i,r){this.matchMedia=e,this.breakpoints=i,this.hook=r,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new tn.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(e){this._activatedBreakpoints=[...e]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(e){this._useFallbacks=e}onMediaChange(e){const i=this.findByQuery(e.mediaQuery);if(i){e=Fz(e,i);const r=this.activatedBreakpoints.indexOf(i);e.matches&&-1===r?(this._activatedBreakpoints.push(i),this._activatedBreakpoints.sort(m2),this.updateStyles()):!e.matches&&-1!==r&&(this._activatedBreakpoints.splice(r,1),this._activatedBreakpoints.sort(m2),this.updateStyles())}}init(e,i,r,o,a=[]){Qz(this.updateMap,e,i,r),Qz(this.clearMap,e,i,o),this.buildElementKeyMap(e,i),this.watchExtraTriggers(e,i,a)}getValue(e,i,r){const o=this.elementMap.get(e);if(o){const a=void 0!==r?o.get(r):this.getActivatedValues(o,i);if(a)return a.get(i)}}hasValue(e,i){const r=this.elementMap.get(e);if(r){const o=this.getActivatedValues(r,i);if(o)return void 0!==o.get(i)||!1}return!1}setValue(e,i,r,o){let a=this.elementMap.get(e);if(a){const h=(a.get(o)??new Map).set(i,r);a.set(o,h),this.elementMap.set(e,a)}else a=(new Map).set(o,(new Map).set(i,r)),this.elementMap.set(e,a);const u=this.getValue(e,i);void 0!==u&&this.updateElement(e,i,u)}trackValue(e,i){return this.subject.asObservable().pipe(_i(r=>r.element===e&&r.key===i))}updateStyles(){this.elementMap.forEach((e,i)=>{const r=new Set(this.elementKeyMap.get(i));let o=this.getActivatedValues(e);o&&o.forEach((a,u)=>{this.updateElement(i,u,a),r.delete(u)}),r.forEach(a=>{if(o=this.getActivatedValues(e,a),o){const u=o.get(a);this.updateElement(i,a,u)}else this.clearElement(i,a)})})}clearElement(e,i){const r=this.clearMap.get(e);if(r){const o=r.get(i);o&&(o(),this.subject.next({element:e,key:i,value:""}))}}updateElement(e,i,r){const o=this.updateMap.get(e);if(o){const a=o.get(i);a&&(a(r),this.subject.next({element:e,key:i,value:r}))}}releaseElement(e){const i=this.watcherMap.get(e);i&&(i.forEach(o=>o.unsubscribe()),this.watcherMap.delete(e));const r=this.elementMap.get(e);r&&(r.forEach((o,a)=>r.delete(a)),this.elementMap.delete(e))}triggerUpdate(e,i){const r=this.elementMap.get(e);if(r){const o=this.getActivatedValues(r,i);o&&(i?this.updateElement(e,i,o.get(i)):o.forEach((a,u)=>this.updateElement(e,u,a)))}}buildElementKeyMap(e,i){let r=this.elementKeyMap.get(e);r||(r=new Set,this.elementKeyMap.set(e,r)),r.add(i)}watchExtraTriggers(e,i,r){if(r&&r.length){let o=this.watcherMap.get(e);if(o||(o=new Map,this.watcherMap.set(e,o)),!o.get(i)){const u=(0,iu.T)(...r).subscribe(()=>{const h=this.getValue(e,i);this.updateElement(e,i,h)});o.set(i,u)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,i){for(let o=0;o<this.activatedBreakpoints.length;o++){const u=e.get(this.activatedBreakpoints[o].alias);if(u&&(void 0===i||u.has(i)&&null!=u.get(i)))return u}if(!this._useFallbacks)return;const r=e.get("");return void 0===i||r&&r.has(i)?r:void 0}observeActivations(){const e=this.breakpoints.items.map(i=>i.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe((0,Cr.b)(this.hook.interceptEvents(this)),_i(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(H4),s.LFG(V4),s.LFG(kae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Qz(n,t,e,i){if(void 0!==i){const r=n.get(t)??new Map;r.set(e,i),n.set(t,r)}}let Sa=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.styleBuilder=i,this.styler=r,this.marshal=o,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new tn.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split(".").slice(1).join(".");this.setValue(e[i].currentValue,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,i){const r=this.styleBuilder,o=r.shouldCache;let a=this.styleCache.get(e);(!a||!o)&&(a=r.buildStyles(e,i),o&&this.styleCache.set(e,a)),this.mru={...a},this.applyStyleToElement(a),r.sideEffect(e,a,i)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,i=!1){if(e){const[r,o]=this.styler.getFlowDirection(e);if(!o&&i){const a=Dz(r);this.styler.applyStyleToElements(a,[e])}return r.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,i,r=this.nativeElement){this.styler.applyStyleToElement(r,e,i)}setValue(e,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,i)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Ja),s.Y36(Zo),s.Y36(ua))},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();class Nae extends EventTarget{constructor(t){super(),this._mediaQuery=t,this._isActive=!1,this._listeners=[],this.onchange=null}get matches(){return this._isActive}get media(){return this._mediaQuery}destroy(){this.deactivate(),this._listeners=[]}activate(){return this._isActive||(this._isActive=!0,this._listeners.forEach(t=>{t.call(this,{matches:this.matches,media:this.media})})),this}deactivate(){return this._isActive&&(this._isActive=!1,this._listeners.forEach(t=>{t.call(this,{matches:this.matches,media:this.media})})),this}addListener(t){-1===this._listeners.indexOf(t)&&this._listeners.push(t),this._isActive&&t.call(this,{matches:this.matches,media:this.media})}removeListener(t){}dispatchEvent(t){return!1}}function Hz(n,t="1",e="1"){let i=[t,e,n],r=n.indexOf("calc");if(r>0){i[2]=Vz(n.substring(r).trim());let o=n.substr(0,r).trim().split(" ");2==o.length&&(i[0]=o[0],i[1]=o[1])}else if(0==r)i[2]=Vz(n.trim());else{let o=n.split(" ");i=3===o.length?o:[t,e,n]}return i}function Vz(n){return n.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}let Pae=(()=>{class n extends Ja{buildStyles(e,{display:i}){const r=Dz(e);return{...r,display:"none"===i?i:r.display}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Uae=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let Qae=(()=>{class n extends Sa{constructor(e,i,r,o,a){super(e,r,i,o),this._config=a,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(e){const r=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=jz.get(r)??new Map,jz.set(r,this.styleCache),this.currentValue!==e&&(this.addStyles(e,{display:r}),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Zo),s.Y36(Pae),s.Y36(ua),s.Y36(Xp))},n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})(),au=(()=>{class n extends Qae{constructor(){super(...arguments),this.inputs=Uae}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[s.qOj]}),n})();const jz=new Map;let Jae=(()=>{class n extends Ja{constructor(e){super(),this.layoutConfig=e}buildStyles(e,i){let[r,o,...a]=e.split(" "),u=a.join(" ");const h=i.direction.indexOf("column")>-1?"column":"row",f=g2(h)?"max-width":"max-height",_=g2(h)?"min-width":"min-height",C=String(u).indexOf("calc")>-1,F=C||"auto"===u,B=String(u).indexOf("%")>-1&&!C,U=String(u).indexOf("px")>-1||String(u).indexOf("rem")>-1||String(u).indexOf("em")>-1||String(u).indexOf("vw")>-1||String(u).indexOf("vh")>-1;let H=C||U;r="0"==r?0:r,o="0"==o?0:o;const Z=!r&&!o;let q={};const W={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(u||""){case"":const he=!1!==this.layoutConfig.useColumnBasisZero;u="row"===h?"0%":he?"0.000000001px":"auto";break;case"initial":case"nogrow":r=0,u="auto";break;case"grow":u="100%";break;case"noshrink":o=0,u="auto";break;case"auto":break;case"none":r=0,o=0,u="auto";break;default:!H&&!B&&!isNaN(u)&&(u+="%"),"0%"===u&&(H=!0),"0px"===u&&(u="0%"),q=Cy(W,C?{"flex-grow":r,"flex-shrink":o,"flex-basis":H?u:"100%"}:{flex:`${r} ${o} ${H?u:"100%"}`})}return q.flex||q["flex-grow"]||(q=Cy(W,C?{"flex-grow":r,"flex-shrink":o,"flex-basis":u}:{flex:`${r} ${o} ${u}`})),"0%"!==u&&"0px"!==u&&"0.000000001px"!==u&&"auto"!==u&&(q[_]=Z||H&&r?u:null,q[f]=Z||!F&&o?u:null),q[_]||q[f]?i.hasWrap&&(q[C?"flex-basis":"flex"]=q[f]?C?q[f]:`${r} ${o} ${q[f]}`:C?q[_]:`${r} ${o} ${q[_]}`):q=Cy(W,C?{"flex-grow":r,"flex-shrink":o,"flex-basis":u}:{flex:`${r} ${o} ${u}`}),Cy(q,{"box-sizing":"border-box"})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Xp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Xae=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let ele=(()=>{class n extends Sa{constructor(e,i,r,o,a){super(e,o,i,a),this.layoutConfig=r,this.marshal=a,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(e){this.flexShrink=e||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(e){this.flexGrow=e||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(Wi(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(Wi(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(e){const r=e.value.split(" ");this.direction=r[0],this.wrap=void 0!==r[1]&&"wrap"===r[1],this.triggerUpdate()}updateWithValue(e){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const r=this.direction,o=r.startsWith("row"),a=this.wrap;o&&a?this.styleCache=ile:o&&!a?this.styleCache=tle:!o&&a?this.styleCache=rle:!o&&!a&&(this.styleCache=nle);const h=Hz(String(e).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(h.join(" "),{direction:r,hasWrap:a})}triggerReflow(){const e=this.activatedValue;if(void 0!==e){const i=Hz(e+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,i.join(" "))}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Zo),s.Y36(Xp),s.Y36(Jae),s.Y36(ua))},n.\u0275dir=s.lG2({type:n,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[s.qOj]}),n})(),Gl=(()=>{class n extends ele{constructor(){super(...arguments),this.inputs=Xae}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[s.qOj]}),n})();const tle=new Map,nle=new Map,ile=new Map,rle=new Map;let Ile=(()=>{class n extends Ja{buildStyles(e,i){const r={},[o,a]=e.split(" ");switch(o){case"center":r["justify-content"]="center";break;case"space-around":r["justify-content"]="space-around";break;case"space-between":r["justify-content"]="space-between";break;case"space-evenly":r["justify-content"]="space-evenly";break;case"end":case"flex-end":r["justify-content"]="flex-end";break;default:r["justify-content"]="flex-start"}switch(a){case"start":case"flex-start":r["align-items"]=r["align-content"]="flex-start";break;case"center":r["align-items"]=r["align-content"]="center";break;case"end":case"flex-end":r["align-items"]=r["align-content"]="flex-end";break;case"space-between":r["align-content"]="space-between",r["align-items"]="stretch";break;case"space-around":r["align-content"]="space-around",r["align-items"]="stretch";break;case"baseline":r["align-content"]="stretch",r["align-items"]="baseline";break;default:r["align-items"]=r["align-content"]="stretch"}return Cy(r,{display:i.inline?"inline-flex":"flex","flex-direction":i.layout,"box-sizing":"border-box","max-width":"stretch"===a?g2(i.layout)?null:"100%":null,"max-height":"stretch"===a&&g2(i.layout)?"100%":null})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dle=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let Tle=(()=>{class n extends Sa{constructor(e,i,r,o){super(e,r,i,o),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(Wi(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(e){const i=this.layout||"row",r=this.inline;"row"===i&&r?this.styleCache=Rle:"row"!==i||r?"row-reverse"===i&&r?this.styleCache=Lle:"row-reverse"!==i||r?"column"===i&&r?this.styleCache=Ole:"column"!==i||r?"column-reverse"===i&&r?this.styleCache=Nle:"column-reverse"===i&&!r&&(this.styleCache=kle):this.styleCache=Fle:this.styleCache=Mle:this.styleCache=Ble,this.addStyles(e,{layout:i,inline:r})}onLayoutChange(e){const i=e.value.split(" ");this.layout=i[0],this.inline=e.value.includes("inline"),Tk.find(r=>r===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Zo),s.Y36(Ile),s.Y36(ua))},n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})(),mh=(()=>{class n extends Tle{constructor(){super(...arguments),this.inputs=Dle}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[s.qOj]}),n})();const Ble=new Map,Fle=new Map,Mle=new Map,kle=new Map,Rle=new Map,Ole=new Map,Lle=new Map,Nle=new Map;let Kz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[P4,Ib]}),n})();const Ple=["tooltip"],Zz="tooltip-panel",$z=ww({passive:!0}),Yz=new s.OlP("mat-tooltip-scroll-strategy"),Vle={provide:Yz,deps:[Cf],useFactory:function Hle(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},Gle=new s.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function jle(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let zle=(()=>{class n{constructor(e,i,r,o,a,u,h,f,_,C,F,B){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=a,this._platform=u,this._ariaDescriber=h,this._focusMonitor=f,this._dir=C,this._defaultOptions=F,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new tn.x,this._scrollStrategy=_,this._document=B,F&&(F.position&&(this.position=F.position),F.touchGestures&&(this.touchGestures=F.touchGestures)),C.change.pipe(Wi(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=Ci(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=su(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=su(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Wi(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,$z)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const i=this._createOverlay();this._detach(),this._portal=this._portal||new xx(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(Wi(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(Wi(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${Zz}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Wi(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Wi(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Wi(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&27===r.keyCode&&!Pm(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:a}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:a}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:a}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,Jr.q)(1),Wi(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:o}=e;let a;if(a="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",a!==this._currentPosition){const u=this._overlayRef;if(u){const h=`${this._cssClassPrefix}-${Zz}-`;u.removePanelClass(h+this._currentPosition),u.addPanelClass(h+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,$z)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),Ey=(()=>{class n extends zle{constructor(e,i,r,o,a,u,h,f,_,C,F,B){super(e,i,r,o,a,u,h,f,_,C,F,B),this._tooltipComponent=Kle}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Cf),s.Y36(s.SBq),s.Y36(bD),s.Y36(s.s_b),s.Y36(s.R0b),s.Y36(Ms),s.Y36(r7),s.Y36(Kp),s.Y36(Yz),s.Y36(bf,8),s.Y36(Gle,8),s.Y36(Ke))},n.\u0275dir=s.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[s.qOj]}),n})(),qle=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new tn.x,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const a=getComputedStyle(i);("0s"===a.getPropertyValue("animation-duration")||"none"===a.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n}),n})(),Kle=(()=>{class n extends qle{constructor(e,i,r){super(e,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(TM),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&s.Gf(Ple,7),2&e){let r;s.iGM(r=s.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("mouseleave",function(o){return i._handleMouseLeave(o)}),2&e&&s.Udp("zoom",i.isVisible()?1:null)},features:[s.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0,1),s.NdJ("animationend",function(o){return i._handleAnimationEnd(o)}),s.ALo(2,"async"),s._uU(3),s.qZA()),2&e){let r;s.ekj("mat-tooltip-handset",null==(r=s.lcZ(2,4,i._isHandset))?null:r.matches),s.Q6J("ngClass",i.tooltipClass),s.xp6(3),s.Oqu(i.message)}},dependencies:[ys,Pd],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),n})(),Wz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Vle],imports:[p7,ea,Sx,hr,hr,Cx]}),n})(),_2=(()=>{class n{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ol,16))},n.\u0275pipe=s.Yjl({name:"safe",type:n,pure:!0}),n})();function Zle(n,t){if(1&n&&(s.O4$(),s._UZ(0,"circle",4)),2&n){const e=s.oxw(),i=s.MAs(1);s.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),s.uIk("r",e._getCircleRadius())}}function $le(n,t){if(1&n&&(s.O4$(),s._UZ(0,"circle",4)),2&n){const e=s.oxw(),i=s.MAs(1);s.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),s.uIk("r",e._getCircleRadius())}}const Wle=f0(class{constructor(n){this._elementRef=n}},"primary"),Jle=new s.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function Xle(){return{diameter:100}}});class Sy extends Wle{constructor(t,e,i,r,o,a,u,h){super(t),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=Uo.w0.EMPTY,this.mode="determinate";const f=Sy._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),f.has(i.head)||f.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!o&&!o._forceAnimations,"mat-spinner"===t.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),o&&(o.color&&(this.color=this.defaultColor=o.color),o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth)),e.isBrowser&&e.SAFARI&&u&&a&&h&&(this._resizeSubscription=u.change(150).subscribe(()=>{"indeterminate"===this.mode&&h.run(()=>a.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=su(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=su(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,su(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=GT(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){const e=50*(t.currentScale??1);return`${e}% ${e}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=Sy._diameters;let r=i.get(t);if(!r||!r.has(e)){const o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),t.appendChild(o),r||(r=new Set,i.set(t,r)),r.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Sy._diameters=new WeakMap,Sy.\u0275fac=function(t){return new(t||Sy)(s.Y36(s.SBq),s.Y36(Ms),s.Y36(Ke,8),s.Y36(s.QbO,8),s.Y36(Jle),s.Y36(s.sBO),s.Y36(bx),s.Y36(s.R0b))},Sy.\u0275cmp=s.Xpm({type:Sy,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(s.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),s.Udp("width",e.diameter,"px")("height",e.diameter,"px"),s.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[s.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(s.O4$(),s.TgZ(0,"svg",0,1),s.YNc(2,Zle,1,11,"circle",2),s.YNc(3,$le,1,9,"circle",3),s.qZA()),2&t&&(s.Udp("width",e.diameter,"px")("height",e.diameter,"px"),s.Q6J("ngSwitch","indeterminate"===e.mode),s.uIk("viewBox",e._getViewBox()),s.xp6(2),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1))},dependencies:[Vc,Au],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let Jz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[hr,ea,hr]}),n})(),tce=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-progress-spinner"]],decls:3,vars:0,consts:[[1,"overlay"],[1,"center"],["diameter","50","mode","indeterminate","color","primary"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s._UZ(2,"mat-progress-spinner",2),s.qZA()())},dependencies:[Sy],styles:[".center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}.overlay[_ngcontent-%COMP%]{height:100vh;width:100%;background-color:#00000049;z-index:10;top:0;left:0;position:fixed}"]}),n})();function nce(n,t){if(1&n&&(s.TgZ(0,"a",5)(1,"mat-icon",6),s._uU(2,"home"),s.qZA()()),2&n){const e=s.oxw();s.s9C("href",e.urlIFrame,s.LSH)}}function ice(n,t){1&n&&s._UZ(0,"app-progress-spinner")}let rce=(()=>{class n{constructor(e,i,r){this.sanitizer=e,this._safePipe=i,this.utils=r,this.isLoading=!1,this.safePipe=new _2(this.sanitizer),this.eventsSubscription=new Uo.w0,this.events=new mr.y,this.urlIFrame="",this.isSmartphone=!1}ngOnInit(){this.isSmartphone=this.utils.isSmartphone(),this.eventsSubscription=this.events.subscribe(e=>{const i=e.includes("alatar")?2300:1e3;this.urlIFrame=e,""!=e&&(this.isLoading=!0,setTimeout(()=>{this.isLoading=!1},i))})}ngOnDestroy(){this.eventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ol),s.Y36(_2),s.Y36(wf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-iframe-generator"]],inputs:{events:"events"},decls:7,vars:6,consts:[["fxFlex",""],["fxFlex","",1,"content","mat-elevation-z8",2,"overflow","hidden"],["target","_blank","mat-icon-button","","color","primary","class","vaiAlSito",3,"href",4,"ngIf"],[4,"ngIf"],["frameBorder","0",1,"iframe",3,"hidden","src"],["target","_blank","mat-icon-button","","color","primary",1,"vaiAlSito",3,"href"],["matTooltip","Vai al sito"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",0),s.YNc(3,nce,3,1,"a",2),s.qZA(),s.YNc(4,ice,1,0,"app-progress-spinner",3),s._UZ(5,"iframe",4),s.ALo(6,"safe"),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngIf",""!==i.urlIFrame&&!i.isLoading),s.xp6(1),s.Q6J("ngIf",i.isLoading),s.xp6(1),s.Q6J("hidden",""!=i.urlIFrame&&i.isLoading)("src",s.lcZ(6,4,i.urlIFrame),s.uOi))},dependencies:[Li,Jp,B7,Gl,Ey,tce,_2],styles:[".iframe[_ngcontent-%COMP%]{width:100%;height:100%;border:unset;border:none;border-radius:10px}.content[_ngcontent-%COMP%]{height:calc(100vh - 130px);border-radius:10px;margin:16px 16px 16px 32px;padding:4px;overflow:auto;position:relative}.vaiAlSito[_ngcontent-%COMP%]{position:absolute;bottom:0;margin:20px;max-width:100%;line-height:.4em;padding:1.1em .75em;display:flex;flex-direction:column}"]}),n})(),sce=(()=>{class n{constructor(e,i){this.sanitizer=e,this._safePipe=i,this.eventsSubscription=new Uo.w0,this.iFrameEmitter=new tn.x,this.events=new mr.y,this.url=""}ngOnInit(){this.eventsSubscription=this.events.subscribe(e=>{this.url=e,this.iFrameEmitter.next(e)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ol),s.Y36(_2))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-home"]],inputs:{events:"events"},decls:2,vars:1,consts:[[3,"events"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-sidenav-content"),s._UZ(1,"app-iframe-generator",0),s.qZA()),2&e&&(s.xp6(1),s.Q6J("events",i.iFrameEmitter.asObservable()))},dependencies:[L4,rce]}),n})();function oce(n,t){1&n&&(s.TgZ(0,"mat-icon"),s._uU(1," menu "),s.qZA())}function ace(n,t){1&n&&(s.TgZ(0,"mat-icon"),s._uU(1," close "),s.qZA())}function lce(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",18),s.NdJ("click",function(){s.CHM(e),s.oxw();const r=s.MAs(13);return s.KtG(r.toggle())}),s.YNc(1,oce,2,0,"mat-icon",17),s.YNc(2,ace,2,0,"mat-icon",17),s.qZA()}if(2&n){s.oxw();const e=s.MAs(13);s.xp6(1),s.Q6J("ngIf",!e.opened),s.xp6(1),s.Q6J("ngIf",e.opened)}}function cce(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",19),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.goAdmin())}),s.TgZ(1,"span",20)(2,"mat-icon",21),s._uU(3,"admin_panel_settings"),s.qZA()()()}}function uce(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",22),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.openLogin())}),s.TgZ(1,"span",23),s._uU(2,"discord"),s.qZA()()}}function dce(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",24),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.logOut())}),s.TgZ(1,"span",20),s._uU(2," person_off "),s.qZA()()}}function hce(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",25),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.MAs(13).toggle(),s.KtG(r.boolHome=!1)}),s.TgZ(1,"mat-icon"),s._uU(2,"help"),s.qZA(),s.TgZ(3,"span"),s._uU(4,"Help"),s.qZA()()}}function Ace(n,t){if(1&n&&s._UZ(0,"app-home",26),2&n){const e=s.oxw();s.Q6J("events",e.iFrameEmitter.asObservable())}}function fce(n,t){1&n&&s._UZ(0,"router-outlet")}let mce=(()=>{class n{constructor(e,i,r,o){this.service=e,this.UserService=i,this.dialog=r,this.router=o,this.iFrameEmitter=new tn.x,this.boolHome=!1,this.class=new Array,this.develop=!1,this.isLoggedIn=!1,this.isRegnante=!1}ngOnInit(){const e=re(7986);this.develop=e.develop,this.UserService.isLoggedInObs.subscribe(i=>{this.isLoggedIn=i}),this.regnanteIn()}goChild(e){this.boolHome=!0,setTimeout(()=>{this.iFrameEmitter.next(e)},100)}openLogin(){localStorage.setItem("lastUrl",this.router.url),window.location.href=this.develop?"https://discord.com/api/oauth2/authorize?client_id=960448858926768148&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2F&response_type=code&scope=identify%20connections%20guilds":"https://discord.com/api/oauth2/authorize?client_id=1106594210242625579&redirect_uri=https%3A%2F%2Ffabiodagostino.github.io%2Frot%2F&response_type=code&scope=identify%20connections%20guilds"}logOut(){this.UserService.logout()}goAdmin(){this.router.navigate(["/admin"])}regnanteIn(){this.UserService.isRegnanteInObs.subscribe(e=>{console.log(e),this.isRegnante=e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(S0),s.Y36(fh),s.Y36(by),s.Y36(ls))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-menu-bar"]],decls:45,vars:7,consts:[[1,"mat-elevation-z8"],["mat-icon-button","",3,"click",4,"ngIf"],["routerLink","/",1,"material-icons","ank",2,"color","rgb(255, 210, 48)","font-size","56px","-webkit-text-stroke-width","0px",3,"click"],["fxFlex","96"],["mat-icon-button","","fxFlex","4","matTooltip","Admin",3,"click",4,"ngIf"],["mat-icon-button","","fxFlex","4","matTooltip","Login",3,"click",4,"ngIf"],["mat-icon-button","","fxFlex","4","matTooltip","Logout",3,"click",4,"ngIf"],["sidenav","matSidenav"],[1,"name"],["mat-raised-button","","routerLink","/",1,"but",3,"click"],["mat-raised-button","","routerLink","/schedaPersonaggio",1,"but",3,"click"],["mat-raised-button","","routerLink","/bacheca",1,"but",3,"click"],["mat-raised-button","","routerLink","/macro",1,"but",3,"click"],["mat-raised-button","","routerLink","/news",1,"menu-button",3,"click"],["mat-raised-button","","class","menu-button","routerLink","/help",3,"click",4,"ngIf"],["mat-raised-button","","routerLink","/credits",1,"menu-button",3,"click"],[3,"events",4,"ngIf"],[4,"ngIf"],["mat-icon-button","",3,"click"],["mat-icon-button","","fxFlex","4","matTooltip","Admin",3,"click"],[1,"material-symbols-outlined"],[2,"color","gold"],["mat-icon-button","","fxFlex","4","matTooltip","Login",3,"click"],[1,"material-icons"],["mat-icon-button","","fxFlex","4","matTooltip","Logout",3,"click"],["mat-raised-button","","routerLink","/help",1,"menu-button",3,"click"],[3,"events"]],template:function(e,i){if(1&e){const r=s.EpF();s.TgZ(0,"mat-toolbar",0),s.YNc(1,lce,3,2,"button",1),s._uU(2," \xa0\n"),s.TgZ(3,"span",2),s.NdJ("click",function(){return i.boolHome=!1}),s._uU(4,"anchor"),s.qZA(),s._uU(5,"\n\xa0\n"),s.TgZ(6,"div",3),s._uU(7," Rotiniel Tools\n"),s.qZA(),s.YNc(8,cce,4,0,"button",4),s.YNc(9,uce,3,0,"button",5),s.YNc(10,dce,3,0,"button",6),s.qZA(),s.TgZ(11,"mat-sidenav-container")(12,"mat-sidenav",0,7)(14,"h4",8),s._uU(15,"Tools"),s.qZA(),s._UZ(16,"mat-divider"),s.TgZ(17,"a",9),s.NdJ("click",function(){s.CHM(r);const a=s.MAs(13);return i.goChild("https://bitmed.github.io/tmarmor/"),s.KtG(a.toggle())}),s._uU(18,"Infondere armature"),s.qZA(),s.TgZ(19,"a",9),s.NdJ("click",function(){s.CHM(r);const a=s.MAs(13);return i.goChild("https://bitmed.github.io/tmenchant/"),s.KtG(a.toggle())}),s._uU(20,"TM Enchant"),s.qZA(),s.TgZ(21,"a",9),s.NdJ("click",function(){s.CHM(r);const a=s.MAs(13);return i.goChild("https://alatarl.github.io/CalendarioTM/"),s.KtG(a.toggle())}),s._uU(22,"Calendario TM"),s.qZA(),s.TgZ(23,"a",9),s.NdJ("click",function(){s.CHM(r);const a=s.MAs(13);return i.goChild("https://alatarl.github.io/ElficoTM/"),s.KtG(a.toggle())}),s._uU(24,"Dizionario elfico"),s.qZA(),s.TgZ(25,"a",10),s.NdJ("click",function(){return s.CHM(r),s.MAs(13).toggle(),s.KtG(i.boolHome=!1)}),s._uU(26,"Scheda personaggio"),s.qZA(),s.TgZ(27,"a",11),s.NdJ("click",function(){return s.CHM(r),s.MAs(13).toggle(),s.KtG(i.boolHome=!1)}),s._uU(28,"Paginazione Bacheche"),s.qZA(),s.TgZ(29,"a",12),s.NdJ("click",function(){return s.CHM(r),s.MAs(13).toggle(),s.KtG(i.boolHome=!1)}),s._uU(30,"Macro Utili"),s.qZA(),s._UZ(31,"mat-divider"),s.TgZ(32,"button",13),s.NdJ("click",function(){return s.CHM(r),s.MAs(13).toggle(),s.KtG(i.boolHome=!1)}),s.TgZ(33,"mat-icon"),s._uU(34,"newspaper"),s.qZA(),s.TgZ(35,"span"),s._uU(36,"News"),s.qZA()(),s.YNc(37,hce,5,0,"button",14),s.TgZ(38,"button",15),s.NdJ("click",function(){return s.CHM(r),s.MAs(13).toggle(),s.KtG(i.boolHome=!1)}),s.TgZ(39,"mat-icon"),s._uU(40,"info"),s.qZA(),s.TgZ(41,"span"),s._uU(42,"Credits"),s.qZA()()(),s.YNc(43,Ace,1,1,"app-home",16),s.YNc(44,fce,1,0,"router-outlet",17),s.qZA()}if(2&e){const r=s.MAs(13);s.xp6(1),s.Q6J("ngIf","over"===r.mode),s.xp6(7),s.Q6J("ngIf",i.isRegnante),s.xp6(1),s.Q6J("ngIf",!i.isLoggedIn),s.xp6(1),s.Q6J("ngIf",i.isLoggedIn),s.xp6(27),s.Q6J("ngIf",i.isLoggedIn),s.xp6(6),s.Q6J("ngIf",i.boolHome),s.xp6(1),s.Q6J("ngIf",!i.boolHome)}},dependencies:[Li,vd,hm,Az,Jp,Ez,Sz,p2,Fd,B7,Gl,Ey,sce],styles:["mat-toolbar[_ngcontent-%COMP%]{background:#004a9f;color:#fff}mat-sidenav[_ngcontent-%COMP%]{width:250px;margin:3px;border-right:none;background:#002b5c;color:#fff;border-radius:10px;padding:16px;text-align:center}.content[_ngcontent-%COMP%]{height:calc(100vh - 130px);border-radius:10px;margin:16px 16px 16px 32px;padding:4px;overflow:auto}mat-sidenav-container[_ngcontent-%COMP%]{height:calc(100vh - 87px)}.menu-button[_ngcontent-%COMP%]{width:90%;margin:7px;display:flex;align-items:center;justify-content:flex-start;font-size:1rem}.avatar[_ngcontent-%COMP%]{margin-top:16px;width:100px;height:100px;border-radius:50%}mat-divider[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:16px;background-color:#ffffff80}.but[_ngcontent-%COMP%]{text-decoration:unset;background-color:#fff;width:90%;margin:7px;display:flex;align-items:center;justify-content:center;font-size:1rem;color:#004a9f;font-weight:700}.ank[_ngcontent-%COMP%]{cursor:pointer}html[_ngcontent-%COMP%]{position:relative;min-height:100%}body[_ngcontent-%COMP%]{margin-bottom:60px}.immagine[_ngcontent-%COMP%]{border:7px solid #004a9f;border-radius:3px}"]}),n})(),_ce=(()=>{class n{constructor(){this.version=""}ngOnInit(){const e=re(7986);this.version=e.version}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-footer"]],decls:5,vars:1,consts:[[1,"footer","mat-elevation-z8"],[2,"float","right","margin-right","0.5%","font-size","10px"]],template:function(e,i){1&e&&(s.TgZ(0,"footer",0)(1,"span"),s._uU(2," Rotiniel Inc. "),s.qZA(),s.TgZ(3,"span",1),s._uU(4),s.qZA()()),2&e&&(s.xp6(4),s.hij(" Version: ",i.version," "))},styles:[".footer[_ngcontent-%COMP%]{background-color:#004a9f;width:100%;line-height:22px;text-align:center;color:#fff}"]}),n})(),Xz=(()=>{class n{constructor(e){this.userService=e,this.title="newprova4"}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fh))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-menu-bar")(1,"app-footer")},dependencies:[mce,_ce]}),n})();const yce=["*",[["mat-card-footer"]]],vce=["*","mat-card-footer"],wce=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],bce=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let y2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),Mk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),e9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),Iy=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:vce,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(yce),s.Hsn(0),s.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),kk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:bce,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(e,i){1&e&&(s.F$t(wce),s.Hsn(0),s.TgZ(1,"div",0),s.Hsn(2,1),s.qZA(),s.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),Cce=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[hr,hr]}),n})(),xce=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-credits"]],decls:76,vars:3,consts:[[2,"padding","2%"],["fxLayout","column","fxLayoutAlign","center center"],["fxLayout","column","fxLayoutAlign","center","fxFlex","",2,"margin","4%"],["href","https://bitmed.github.io/tmarmor/","target","_blank"],["href","https://bitmed.github.io/tmenchant/","target","_blank"],["href","https://alatarl.github.io/ElficoTM/","target","_blank"],["href","https://alatarl.github.io/CalendarioTM/","target","_blank"],[1,"material-icons","ank",2,"color","rgb(255, 210, 48)","font-size","25px","position","relative","top","6px","-webkit-text-stroke-width","0px"],["target","_blank",3,"routerLink"],["href","https://themiraclegdr.com/","target","_blank"],[2,"text-align","center"],["src","https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Octicons-mark-github.svg/900px-Octicons-mark-github.svg.png?20180806170715","width","30","height","30"],["src","https://camo.githubusercontent.com/df1439c289b9cb4558e079a9110731e666976c4f2b6ef387b8fee78ca95375dc/68747470733a2f2f696d672e69636f6e73382e636f6d2f636f6c6f722f3435322f66697265626173652e706e67","width","34","height","34"],[2,"text-align","right"],[2,"color","#004a9f"]],template:function(e,i){1&e&&(s._UZ(0,"div",0),s.TgZ(1,"div",1)(2,"mat-card",2)(3,"mat-card-header")(4,"mat-card-title"),s._uU(5," Credits "),s.qZA(),s.TgZ(6,"mat-card-subtitle"),s._uU(7," Ringraziamenti "),s.qZA()(),s.TgZ(8,"mat-card-content")(9,"ul")(10,"li")(11,"p")(12,"b"),s._uU(13,"Paperellion"),s.qZA(),s._uU(14," per "),s.TgZ(15,"a",3),s._uU(16,'"Infondere Armature"'),s.qZA(),s._uU(17," e "),s.TgZ(18,"a",4),s._uU(19,'"TM Enchant"'),s.qZA()()(),s.TgZ(20,"li")(21,"p")(22,"b"),s._uU(23,"Alatar"),s.qZA(),s._uU(24," per "),s.TgZ(25,"a",5),s._uU(26,'"Dizionario elfico"'),s.qZA(),s._uU(27," e "),s.TgZ(28,"a",6),s._uU(29,'"Calendario TM"'),s.qZA()()(),s.TgZ(30,"li")(31,"p")(32,"b"),s._uU(33,"Yoridyon"),s.qZA(),s._uU(34," per "),s.TgZ(35,"span",7),s._uU(36,"anchor"),s.qZA(),s.TgZ(37,"b"),s._uU(38," Rotiniel Tools"),s.qZA(),s._uU(39,", "),s.TgZ(40,"a",8),s._uU(41,'"Scheda Personaggio"'),s.qZA(),s._uU(42,", "),s.TgZ(43,"a",8),s._uU(44,'"Paginazione Bacheche"'),s.qZA(),s._uU(45," e "),s.TgZ(46,"a",8),s._uU(47,'"Macro Utili"'),s.qZA()()(),s.TgZ(48,"li")(49,"p"),s._uU(50,"Tutti i membri della community che hanno contribuito allo sviluppo dei tools"),s.qZA()(),s.TgZ(51,"li")(52,"p"),s._uU(53,"Lo Staff di "),s.TgZ(54,"a",9),s._uU(55,"The Miracle Shard"),s.qZA(),s._uU(56," per aver creato il gioco e averlo mantenuto attivo (e in costante aggiornamento) per oltre vent'anni"),s.qZA()(),s.TgZ(57,"li")(58,"p"),s._uU(59,"Tutti i player e gli amici di "),s.TgZ(60,"b"),s._uU(61,"Rotiniel"),s.qZA(),s._uU(62," che rendono piacevoli le ore di gioco passate assieme "),s.qZA()()(),s._UZ(63,"br"),s.TgZ(64,"div",10)(65,"b"),s._uU(66,"Powered by:"),s.qZA(),s._uU(67,"\xa0 "),s._UZ(68,"img",11),s._uU(69," \xa0"),s._UZ(70,"img",12),s.qZA(),s._UZ(71,"br")(72,"br"),s.TgZ(73,"div",13)(74,"b",14),s._uU(75,"Enjoy TM!"),s.qZA()()()()()),2&e&&(s.xp6(40),s.Q6J("routerLink","/schedaPersonaggio"),s.xp6(3),s.Q6J("routerLink","/bacheca"),s.xp6(3),s.Q6J("routerLink","/macro"))},dependencies:[hm,au,mh,Gl,Iy,kk,y2,Mk,e9],styles:["a[_ngcontent-%COMP%]{color:#004a9f;font-weight:700}a[_ngcontent-%COMP%]:hover{color:#000}mat-card[_ngcontent-%COMP%]{border:7px solid #004a9f;border-radius:3px}mat-card-title[_ngcontent-%COMP%]{color:#004a9f}"]}),n})(),t9=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),qb=(()=>{class n extends t9{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Df=new s.OlP("NgValueAccessor"),Sce={provide:Df,useExisting:(0,s.Gpc)(()=>Dy),multi:!0},Dce=new s.OlP("CompositionEventMode");let Dy=(()=>{class n extends t9{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ice(){const n=oe()?oe().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(Dce,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([Sce]),s.qOj]}),n})();function D0(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function i9(n){return null!=n&&"number"==typeof n.length}const Mc=new s.OlP("NgValidators"),T0=new s.OlP("NgAsyncValidators"),Bce=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ia{static min(t){return r9(t)}static max(t){return function s9(n){return t=>{if(D0(t.value)||D0(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function o9(n){return D0(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function a9(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function l9(n){return D0(n.value)||Bce.test(n.value)?null:{email:!0}}(t)}static minLength(t){return c9(t)}static maxLength(t){return function u9(n){return t=>i9(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function d9(n){if(!n)return Rk;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(D0(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return m9(t)}static composeAsync(t){return _9(t)}}function r9(n){return t=>{if(D0(t.value)||D0(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function c9(n){return t=>D0(t.value)||!i9(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}function Rk(n){return null}function h9(n){return null!=n}function A9(n){return(0,s.QGY)(n)?(0,Gn.D)(n):n}function f9(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function p9(n,t){return t.map(e=>e(n))}function g9(n){return n.map(t=>function Fce(n){return!n.validate}(t)?t:e=>t.validate(e))}function m9(n){if(!n)return null;const t=n.filter(h9);return 0==t.length?null:function(e){return f9(p9(e,t))}}function j4(n){return null!=n?m9(g9(n)):null}function _9(n){if(!n)return null;const t=n.filter(h9);return 0==t.length?null:function(e){return pz(p9(e,t).map(A9)).pipe((0,on.U)(f9))}}function z4(n){return null!=n?_9(g9(n)):null}function y9(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function v9(n){return n._rawValidators}function w9(n){return n._rawAsyncValidators}function q4(n){return n?Array.isArray(n)?n:[n]:[]}function Ok(n,t){return Array.isArray(n)?n.includes(t):n===t}function b9(n,t){const e=q4(t);return q4(n).forEach(r=>{Ok(e,r)||e.push(r)}),e}function C9(n,t){return q4(t).filter(e=>!Ok(n,e))}class x9{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=j4(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=z4(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class kd extends x9{get formDirective(){return null}get path(){return null}}class Gm extends x9{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class E9{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let B0=(()=>{class n extends E9{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Gm,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[s.qOj]}),n})(),S9=(()=>{class n extends E9{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(kd,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[s.qOj]}),n})();const v2="VALID",Nk="INVALID",zx="PENDING",w2="DISABLED";function Y4(n){return(Pk(n)?n.validators:n)||null}function W4(n,t){return(Pk(t)?t.asyncValidators:n)||null}function Pk(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function D9(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[e])throw new s.vHH(1001,"")}function T9(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new s.vHH(1002,"")})}class Uk{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===v2}get invalid(){return this.status===Nk}get pending(){return this.status==zx}get disabled(){return this.status===w2}get enabled(){return this.status!==w2}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(b9(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(b9(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(C9(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(C9(t,this._rawAsyncValidators))}hasValidator(t){return Ok(this._rawValidators,t)}hasAsyncValidator(t){return Ok(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=zx,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=w2,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=v2,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===v2||this.status===zx)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?w2:v2}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=zx,this._hasOwnPendingAsyncValidator=!0;const e=A9(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?w2:this.errors?Nk:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zx)?zx:this._anyControlsHaveStatus(Nk)?Nk:v2}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Pk(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Pce(n){return Array.isArray(n)?j4(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Uce(n){return Array.isArray(n)?z4(n):n||null}(this._rawAsyncValidators)}}class F0 extends Uk{constructor(t,e,i){super(Y4(e),W4(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){T9(this,0,t),Object.keys(t).forEach(i=>{D9(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class B9 extends F0{}const qx=new s.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Qk}),Qk="always";function Hk(n,t){return[...t.path,n]}function b2(n,t,e=Qk){J4(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function Hce(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&F9(n,t)})}(n,t),function Gce(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Vce(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&F9(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Qce(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Vk(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),jk(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Gk(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function J4(n,t){const e=v9(n);null!==t.validator?n.setValidators(y9(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=w9(n);null!==t.asyncValidator?n.setAsyncValidators(y9(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Gk(t._rawValidators,r),Gk(t._rawAsyncValidators,r)}function jk(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=v9(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(a=>a!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=w9(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(a=>a!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return Gk(t._rawValidators,i),Gk(t._rawAsyncValidators,i),e}function F9(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function M9(n,t){J4(n,t)}function e3(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function k9(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function t3(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Dy?e=o:function qce(n){return Object.getPrototypeOf(n.constructor)===qb}(o)?i=o:r=o}),r||i||e||null}const Zce={provide:kd,useExisting:(0,s.Gpc)(()=>x2)},C2=(()=>Promise.resolve())();let x2=(()=>{class n extends kd{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new F0({},j4(e),z4(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){C2.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),b2(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){C2.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){C2.then(()=>{const i=this._findContainer(e.path),r=new F0({});M9(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){C2.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){C2.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,k9(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Mc,10),s.Y36(T0,10),s.Y36(qx,8))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([Zce]),s.qOj]}),n})();function R9(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function O9(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const us=class extends Uk{constructor(t=null,e,i){super(Y4(e),W4(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pk(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=O9(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){R9(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){R9(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){O9(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Wce={provide:Gm,useExisting:(0,s.Gpc)(()=>Kb)},P9=(()=>Promise.resolve())();let Kb=(()=>{class n extends Gm{constructor(e,i,r,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new us,this._registered=!1,this.update=new s.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=t3(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),e3(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){b2(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){P9.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,s.D6c)(i);P9.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Hk(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(kd,9),s.Y36(Mc,10),s.Y36(T0,10),s.Y36(Df,10),s.Y36(s.sBO,8),s.Y36(qx,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([Wce]),s.qOj,s.TTD]}),n})(),U9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Jce={provide:Df,useExisting:(0,s.Gpc)(()=>E2),multi:!0};let E2=(()=>{class n extends qb{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[s._Bn([Jce]),s.qOj]}),n})(),Q9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const n3=new s.OlP("NgModelWithFormControlWarning"),nue={provide:Gm,useExisting:(0,s.Gpc)(()=>S2)};let S2=(()=>{class n extends Gm{constructor(e,i,r,o,a){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=a,this.update=new s.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=t3(0,r)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&Vk(i,this,!1),b2(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}e3(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Vk(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(Mc,10),s.Y36(T0,10),s.Y36(Df,10),s.Y36(n3,8),s.Y36(qx,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[s._Bn([nue]),s.qOj,s.TTD]}),n})();const iue={provide:kd,useExisting:(0,s.Gpc)(()=>Kx)};let Kx=(()=>{class n extends kd{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(jk(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return b2(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Vk(e.control||null,e,!1),function Kce(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,k9(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Vk(i||null,e),(n=>n instanceof us)(r)&&(b2(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);M9(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function jce(n,t){return jk(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){J4(this.form,this),this._oldForm&&jk(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Mc,10),s.Y36(T0,10),s.Y36(qx,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([iue]),s.qOj,s.TTD]}),n})();const oue={provide:Gm,useExisting:(0,s.Gpc)(()=>o3)};let o3=(()=>{class n extends Gm{constructor(e,i,r,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=t3(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),e3(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Hk(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(kd,13),s.Y36(Mc,10),s.Y36(T0,10),s.Y36(Df,10),s.Y36(n3,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([oue]),s.qOj,s.TTD]}),n})();let Zb=(()=>{class n{constructor(){this._validator=Rk}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Rk,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();const fue={provide:Mc,useExisting:(0,s.Gpc)(()=>c3),multi:!0};let c3=(()=>{class n extends Zb{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>function K9(n){return"number"==typeof n?n:parseFloat(n)}(e),this.createValidator=e=>r9(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[s._Bn([fue]),s.qOj]}),n})();const _ue={provide:Mc,useExisting:(0,s.Gpc)(()=>d3),multi:!0};let d3=(()=>{class n extends Zb{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>function q9(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>c9(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[s._Bn([_ue]),s.qOj]}),n})(),J9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Q9]}),n})(),wue=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:qx,useValue:e.callSetDisabledState??Qk}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[J9]}),n})(),X9=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:n3,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:qx,useValue:e.callSetDisabledState??Qk}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[J9]}),n})();class eq extends Uk{constructor(t,e,i){super(Y4(e),W4(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){T9(this,0,t),t.forEach((i,r)=>{D9(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function tq(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let bue=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let o={};return tq(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new F0(r,o)}record(e,i=null){const r=this._reduceControls(e);return new B9(r,i)}control(e,i,r){let o={};return this.useNonNullable?(tq(i)?o=i:(o.validators=i,o.asyncValidators=r),new us(e,{...o,nonNullable:!0})):new us(e,i,r)}array(e,i,r){const o=e.map(a=>this._createControl(a));return new eq(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof us||e instanceof Uk?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:X9}),n})();const Cue=["connectionContainer"],xue=["inputContainer"],Eue=["label"];function Sue(n,t){1&n&&(s.ynx(0),s.TgZ(1,"div",14),s._UZ(2,"div",15)(3,"div",16)(4,"div",17),s.qZA(),s.TgZ(5,"div",18),s._UZ(6,"div",15)(7,"div",16)(8,"div",17),s.qZA(),s.BQk())}function Iue(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",19),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.updateOutlineGap())}),s.Hsn(1,1),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function Due(n,t){if(1&n&&(s.ynx(0),s.Hsn(1,2),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.BQk()),2&n){const e=s.oxw(2);s.xp6(3),s.Oqu(e._control.placeholder)}}function Tue(n,t){1&n&&s.Hsn(0,3,["*ngSwitchCase","true"])}function Bue(n,t){1&n&&(s.TgZ(0,"span",23),s._uU(1," *"),s.qZA())}function Fue(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",20,21),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.updateOutlineGap())}),s.YNc(2,Due,4,1,"ng-container",12),s.YNc(3,Tue,1,0,"ng-content",12),s.YNc(4,Bue,2,0,"span",22),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngSwitchCase",!1),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function Mue(n,t){1&n&&(s.TgZ(0,"div",24),s.Hsn(1,4),s.qZA())}function kue(n,t){if(1&n&&(s.TgZ(0,"div",25),s._UZ(1,"span",26),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function Rue(n,t){if(1&n&&(s.TgZ(0,"div"),s.Hsn(1,5),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function Oue(n,t){if(1&n&&(s.TgZ(0,"div",30),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function Lue(n,t){if(1&n&&(s.TgZ(0,"div",27),s.YNc(1,Oue,2,2,"div",28),s.Hsn(2,6),s._UZ(3,"div",29),s.Hsn(4,7),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const Nue=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Pue=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let Uue=0;const nq=new s.OlP("MatError");let iq=(()=>{class n{constructor(e,i){this.id="mat-error-"+Uue++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(s.$8M("aria-live"),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("id",i.id)},inputs:{id:"id"},features:[s._Bn([{provide:nq,useExisting:n}])]}),n})();const Que={transitionMessages:Tc("transitionMessages",[Hr("enter",ui({opacity:1,transform:"translateY(0%)"})),Ws("void => enter",[ui({opacity:0,transform:"translateY(-5px)"}),To("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let qk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n}),n})(),Hue=0;const rq=new s.OlP("MatHint");let Vue=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+Hue++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,i){2&e&&(s.uIk("id",i.id)("align",null),s.ekj("mat-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},features:[s._Bn([{provide:rq,useExisting:n}])]}),n})(),M0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-label"]]}),n})(),Gue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const jue=new s.OlP("MatPrefix"),sq=new s.OlP("MatSuffix");let zue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matSuffix",""]],features:[s._Bn([{provide:sq,useExisting:n}])]}),n})(),oq=0;const Kue=f0(class{constructor(n){this._elementRef=n}},"primary"),Zue=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),h3=new s.OlP("MatFormField");let $b=(()=>{class n extends Kue{constructor(e,i,r,o,a,u,h){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=o,this._platform=a,this._ngZone=u,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new tn.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+oq++,this._labelId="mat-form-field-label-"+oq++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==h,this.appearance=o?.appearance||"legacy",o&&(this._hideRequiredMarker=Boolean(o.hideRequiredMarker),o.color&&(this.color=this.defaultColor=o.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Ci(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(sa(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Wi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Wi(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,iu.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(sa(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(sa(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Wi(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,A0(this._label.nativeElement,"transitionend").pipe((0,Jr.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const _=i.querySelectorAll(`${r}, ${o}`);for(let C=0;C<_.length;C++)_[C].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let a=0,u=0;const h=i.querySelectorAll(r),f=i.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const _=i.getBoundingClientRect();if(0===_.width&&0===_.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const C=this._getStartEnd(_),F=e.children,B=this._getStartEnd(F[0].getBoundingClientRect());let U=0;for(let H=0;H<F.length;H++)U+=F[H].offsetWidth;a=Math.abs(B-C)-5,u=U>0?.75*U+10:0}for(let _=0;_<h.length;_++)h[_].style.width=`${a}px`;for(let _=0;_<f.length;_++)f[_].style.width=`${u}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(bf,8),s.Y36(Zue,8),s.Y36(Ms),s.Y36(s.R0b),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,qk,5),s.Suo(r,qk,7),s.Suo(r,M0,5),s.Suo(r,M0,7),s.Suo(r,Gue,5),s.Suo(r,nq,5),s.Suo(r,rq,5),s.Suo(r,jue,5),s.Suo(r,sq,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._controlNonStatic=o.first),s.iGM(o=s.CRH())&&(i._controlStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildNonStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildStatic=o.first),s.iGM(o=s.CRH())&&(i._placeholderChild=o.first),s.iGM(o=s.CRH())&&(i._errorChildren=o),s.iGM(o=s.CRH())&&(i._hintChildren=o),s.iGM(o=s.CRH())&&(i._prefixChildren=o),s.iGM(o=s.CRH())&&(i._suffixChildren=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(Cue,7),s.Gf(xue,5),s.Gf(Eue,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._connectionContainerRef=r.first),s.iGM(r=s.CRH())&&(i._inputContainerRef=r.first),s.iGM(r=s.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&s.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:h3,useExisting:n}]),s.qOj],ngContentSelectors:Pue,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(s.F$t(Nue),s.TgZ(0,"div",0)(1,"div",1,2),s.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),s.YNc(3,Sue,9,0,"ng-container",3),s.YNc(4,Iue,2,1,"div",4),s.TgZ(5,"div",5,6),s.Hsn(7),s.TgZ(8,"span",7),s.YNc(9,Fue,5,16,"label",8),s.qZA()(),s.YNc(10,Mue,2,0,"div",9),s.qZA(),s.YNc(11,kue,2,4,"div",10),s.TgZ(12,"div",11),s.YNc(13,Rue,2,1,"div",12),s.YNc(14,Lue,5,2,"div",13),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngIf","outline"==i.appearance),s.xp6(1),s.Q6J("ngIf",i._prefixChildren.length),s.xp6(5),s.Q6J("ngIf",i._hasFloatingLabel()),s.xp6(1),s.Q6J("ngIf",i._suffixChildren.length),s.xp6(1),s.Q6J("ngIf","outline"!=i.appearance),s.xp6(1),s.Q6J("ngSwitch",i._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},dependencies:[Li,Vc,Au,dU],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[Que.transitionMessages]},changeDetection:0}),n})(),Kk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[ea,hr,DM,hr]}),n})();class $ue{}function A3(n){return n&&"function"==typeof n.connect&&!(n instanceof zh)}class lq{applyChanges(t,e,i,r,o){t.forEachOperation((a,u,h)=>{let f,_;if(null==a.previousIndex){const C=i(a,u,h);f=e.createEmbeddedView(C.templateRef,C.context,C.index),_=1}else null==h?(e.remove(u),_=3):(f=e.get(u),e.move(f,h),_=2);o&&o({context:f?.context,operation:_,record:a})})}detach(){}}class Yue{constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new tn.x,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(o=>this._markSelected(o)),e.filter(o=>!i.has(o)).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){if(this.compareWith){for(const e of this._selection)if(this.compareWith(e,t))return!0;return!1}return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let uq=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const I2=new s.OlP("_ViewRepeater"),Wue=["trigger"],Jue=["panel"];function Xue(n,t){if(1&n&&(s.TgZ(0,"span",8),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.placeholder)}}function ede(n,t){if(1&n&&(s.TgZ(0,"span",12),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.triggerValue)}}function tde(n,t){1&n&&s.Hsn(0,0,["*ngSwitchCase","true"])}function nde(n,t){if(1&n&&(s.TgZ(0,"span",9),s.YNc(1,ede,2,1,"span",10),s.YNc(2,tde,1,0,"ng-content",11),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngSwitch",!!e.customTrigger),s.xp6(2),s.Q6J("ngSwitchCase",!0)}}function ide(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",13)(1,"div",14,15),s.NdJ("@transformPanel.done",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._handleKeydown(r))}),s.Hsn(3,1),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("@transformPanelWrap",void 0),s.xp6(1),s.Gre("mat-select-panel ",e._getPanelTheme(),""),s.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),s.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),s.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const rde=[[["mat-select-trigger"]],"*"],sde=["mat-select-trigger","*"],dq={transformPanelWrap:Tc("transformPanelWrap",[Ws("* => void",UM("@transformPanel",[PM()],{optional:!0}))]),transformPanel:Tc("transformPanel",[Hr("void",ui({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Hr("showing",ui({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Hr("showing-multiple",ui({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Ws("void => *",To("120ms cubic-bezier(0, 0, 0.2, 1)")),Ws("* => void",To("100ms 25ms linear",ui({opacity:0})))])};let hq=0;const fq=new s.OlP("mat-select-scroll-strategy"),cde=new s.OlP("MAT_SELECT_CONFIG"),ude={provide:fq,deps:[Cf],useFactory:function lde(n){return()=>n.scrollStrategies.reposition()}};class dde{constructor(t,e){this.source=t,this.value=e}}const hde=RM(OM(Bb(_7(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new tn.x}})))),Ade=new s.OlP("MatSelectTrigger");let fde=(()=>{class n extends hde{constructor(e,i,r,o,a,u,h,f,_,C,F,B,U,H){super(a,o,h,f,C),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=u,this._parentFormField=_,this._liveAnnouncer=U,this._defaultOptions=H,this._panelOpen=!1,this._compareWith=(Z,q)=>Z===q,this._uid="mat-select-"+hq++,this._triggerAriaLabelledBy=null,this._destroy=new tn.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+hq++,this._panelDoneAnimatingStream=new tn.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=Xd(()=>{const Z=this.options;return Z?Z.changes.pipe(sa(Z),ws(()=>(0,iu.T)(...Z.map(q=>q.onSelectionChange)))):this._ngZone.onStable.pipe((0,Jr.q)(1),ws(()=>this.optionSelectionChanges))}),this.openedChange=new s.vpe,this._openedStream=this.openedChange.pipe(_i(Z=>Z),(0,on.U)(()=>{})),this._closedStream=this.openedChange.pipe(_i(Z=>!Z),(0,on.U)(()=>{})),this.selectionChange=new s.vpe,this.valueChange=new s.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=H?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=H.typeaheadDebounceInterval),this._scrollStrategyFactory=B,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(F)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Ia.required)??!1}set required(e){this._required=Ci(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Ci(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Ci(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=su(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Yue(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(vv(),Wi(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Wi(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(sa(null),Wi(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,o=13===i||32===i,a=this._keyManager;if(!a.isTyping()&&o&&!Pm(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const u=this.selected;a.onKeydown(e);const h=this.selected;h&&u!==h&&this._liveAnnouncer.announce(h.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,o=40===r||38===r,a=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(a||13!==r&&32!==r||!i.activeItem||Pm(e))if(!a&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const u=this.options.some(h=>!h.disabled&&!h.selected);this.options.forEach(h=>{h.disabled||(u?h.select():h.deselect())})}else{const u=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==u&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Jr.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new jee(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Wi(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Wi(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,iu.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Wi(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,iu.T)(...this.options.map(i=>i._stateChanges)).pipe(Wi(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(bx),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(LM),s.Y36(s.SBq),s.Y36(bf,8),s.Y36(x2,8),s.Y36(Kx,8),s.Y36(h3,8),s.Y36(Gm,10),s.$8M("tabindex"),s.Y36(fq),s.Y36(fU),s.Y36(cde,8))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&(s.Gf(Wue,5),s.Gf(Jue,5),s.Gf(Y8,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.trigger=r.first),s.iGM(r=s.CRH())&&(i.panel=r.first),s.iGM(r=s.CRH())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[s.qOj,s.TTD]}),n})(),$x=(()=>{class n extends fde{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const o=this._getItemHeight();return Math.min(Math.max(0,o*e-i+o/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Wi(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Jr.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=S7(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function Ote(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new dde(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),o=this.multiple?56:32;let a;if(this.multiple)a=40;else if(this.disableOptionCentering)a=16;else{let f=this._selectionModel.selected[0]||this.options.first;a=f&&f.group?32:16}r||(a*=-1);const u=0-(e.left+a-(r?o:0)),h=e.right+a-i.width+(r?0:o);u>0?a+=u+8:h>0&&(a-=h+8),this._overlayDir.offsetX=Math.round(a),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const o=this._getItemHeight(),a=(o-this._triggerRect.height)/2,u=Math.floor(256/o);let h;return this.disableOptionCentering?0:(h=0===this._scrollTop?e*o:this._scrollTop===r?(e-(this._getItemCount()-u))*o+(o-(this._getItemCount()*o-256)%o):i-o/2,Math.round(-1*h-a))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),o=this._triggerRect.top-8,a=r.height-this._triggerRect.bottom-8,u=Math.abs(this._offsetY),f=Math.min(this._getItemCount()*i,256)-u-this._triggerRect.height;f>a?this._adjustPanelUp(f,a):u>o?this._adjustPanelDown(u,o,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const o=Math.round(e-i);if(this._scrollTop+=o,this._offsetY+=o,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),a=i*e-r;let u;u=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),u+=S7(u,this.options,this.optionGroups);const h=r/2;this._scrollTop=this._calculateOverlayScroll(u,h,a),this._offsetY=this._calculateOverlayOffsetY(u,h,a),this._checkOverlayWithinViewport(a)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Ade,5),s.Suo(r,Mb,5),s.Suo(r,E7,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.customTrigger=o.first),s.iGM(o=s.CRH())&&(i.options=o),s.iGM(o=s.CRH())&&(i.optionGroups=o)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(e,i){1&e&&s.NdJ("keydown",function(o){return i._handleKeydown(o)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(s.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),s.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[s._Bn([{provide:qk,useExisting:n},{provide:x7,useExisting:n}]),s.qOj],ngContentSelectors:sde,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(s.F$t(rde),s.TgZ(0,"div",0,1),s.NdJ("click",function(){return i.toggle()}),s.TgZ(3,"div",2),s.YNc(4,Xue,2,1,"span",3),s.YNc(5,nde,3,2,"span",4),s.qZA(),s.TgZ(6,"div",5),s._UZ(7,"div",6),s.qZA()(),s.YNc(8,ide,4,14,"ng-template",7),s.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=s.MAs(1);s.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),s.xp6(3),s.Q6J("ngSwitch",i.empty),s.uIk("id",i._valueId),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1),s.xp6(3),s.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},dependencies:[ys,Vc,Au,Eh,Y8,$8],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[dq.transformPanelWrap,dq.transformPanel]},changeDetection:0}),n})(),pq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[ude],imports:[ea,Sx,I7,hr,Cx,Kk,I7,hr]}),n})();const gq=ww({passive:!0});let pde=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return yc.E;const i=_y(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new tn.x,a="cdk-text-field-autofilled",u=h=>{"cdk-text-field-autofill-start"!==h.animationName||i.classList.contains(a)?"cdk-text-field-autofill-end"===h.animationName&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>o.next({target:h.target,isAutofilled:!1}))):(i.classList.add(a),this._ngZone.run(()=>o.next({target:h.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",u,gq),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",u,gq)}}),o}stopMonitoring(e){const i=_y(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ms),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gde=(()=>{class n{constructor(e,i,r,o){this._elementRef=e,this._platform=i,this._ngZone=r,this._destroyed=new tn.x,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=a=>{this._hasFocus="focus"===a.type},this._document=o,this._textareaElement=this._elementRef.nativeElement}get minRows(){return this._minRows}set minRows(e){this._minRows=su(e),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(e){this._maxRows=su(e),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(e){e=Ci(e),this._enabled!==e&&((this._enabled=e)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(e){this._cachedPlaceholderHeight=void 0,e?this._textareaElement.setAttribute("placeholder",e):this._textareaElement.removeAttribute("placeholder"),this._cacheTextareaPlaceholderHeight()}_setMinHeight(){const e=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;e&&(this._textareaElement.style.minHeight=e)}_setMaxHeight(){const e=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;e&&(this._textareaElement.style.maxHeight=e)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{A0(this._getWindow(),"resize").pipe(rU(16),Wi(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let e=this._textareaElement.cloneNode(!1);e.rows=1,e.style.position="absolute",e.style.visibility="hidden",e.style.border="none",e.style.padding="0",e.style.height="",e.style.minHeight="",e.style.maxHeight="",e.style.overflow="hidden",this._textareaElement.parentNode.appendChild(e),this._cachedLineHeight=e.clientHeight,e.remove(),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){const e=this._textareaElement,i=e.style.marginBottom||"",r=this._platform.FIREFOX,o=r&&this._hasFocus,a=r?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";o&&(e.style.marginBottom=`${e.clientHeight}px`),e.classList.add(a);const u=e.scrollHeight-4;return e.classList.remove(a),o&&(e.style.marginBottom=i),u}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||null!=this._cachedPlaceholderHeight)return;if(!this.placeholder)return void(this._cachedPlaceholderHeight=0);const e=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=e}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(e=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight))return;const i=this._elementRef.nativeElement,r=i.value;if(!e&&this._minRows===this._previousMinRows&&r===this._previousValue)return;const o=this._measureScrollHeight(),a=Math.max(o,this._cachedPlaceholderHeight||0);i.style.height=`${a}px`,this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame<"u"?requestAnimationFrame(()=>this._scrollToCaretPosition(i)):setTimeout(()=>this._scrollToCaretPosition(i))}),this._previousValue=r,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(e){const{selectionStart:i,selectionEnd:r}=e;!this._destroyed.isStopped&&this._hasFocus&&e.setSelectionRange(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Ms),s.Y36(s.R0b),s.Y36(Ke,8))},n.\u0275dir=s.lG2({type:n,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(e,i){1&e&&s.NdJ("input",function(){return i._noopInputHandler()})},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"]}),n})(),mq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const mde=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),_de=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let yde=0;const vde=_7(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new tn.x}});let Yb=(()=>{class n extends vde{constructor(e,i,r,o,a,u,h,f,_,C){super(u,o,a,r),this._elementRef=e,this._platform=i,this._autofillMonitor=f,this._formField=C,this._uid="mat-input-"+yde++,this.focused=!1,this.stateChanges=new tn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(U=>hS().has(U)),this._iOSKeyupListener=U=>{const H=U.target;!H.value&&0===H.selectionStart&&0===H.selectionEnd&&(H.setSelectionRange(1,1),H.setSelectionRange(0,0))};const F=this._elementRef.nativeElement,B=F.nodeName.toLowerCase();this._inputValueAccessor=h||F,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&_.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===B,this._isTextarea="textarea"===B,this._isInFormField=!!C,this._isNativeSelect&&(this.controlType=F.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Ci(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Ia.required)??!1}set required(e){this._required=Ci(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&hS().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Ci(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){_de.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Ms),s.Y36(Gm,10),s.Y36(x2,8),s.Y36(Kx,8),s.Y36(LM),s.Y36(mde,10),s.Y36(pde),s.Y36(s.R0b),s.Y36(h3,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(s.Ikx("disabled",i.disabled)("required",i.required),s.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),s.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[s._Bn([{provide:qk,useExisting:n}]),s.qOj,s.TTD]}),n})(),wde=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[LM],imports:[mq,Kk,hr,mq,Kk]}),n})();const bde=["input"],Cde=["label"],xde=function(n){return{enterDuration:n}},Ede=["*"],Sde=new s.OlP("mat-checkbox-default-options",{providedIn:"root",factory:_q});function _q(){return{color:"accent",clickAction:"check-indeterminate"}}let Ide=0;const yq=_q(),Dde={provide:Df,useExisting:(0,s.Gpc)(()=>T2),multi:!0};class Tde{}const Bde=OM(f0(RM(Bb(class{constructor(n){this._elementRef=n}}))));let Fde=(()=>{class n extends Bde{constructor(e,i,r,o,a,u,h){super(i),this._changeDetectorRef=r,this._ngZone=o,this._animationMode=u,this._options=h,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new s.vpe,this.indeterminateChange=new s.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||yq,this.color=this.defaultColor=this._options.color||yq.color,this.tabIndex=parseInt(a)||0,this.id=this._uniqueId=`${e}${++Ide}`}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=Ci(e)}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){const i=Ci(e);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const i=Ci(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=Ci(e),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(i!==e&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const e=this._options?.clickAction;this.disabled||"noop"===e?!this.disabled&&"noop"===e&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==e&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";switch(e){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&(s.Gf(bde,5),s.Gf(Cde,5),s.Gf(Fb,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._inputElement=r.first),s.iGM(r=s.CRH())&&(i._labelElement=r.first),s.iGM(r=s.CRH())&&(i.ripple=r.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[s.qOj]}),n})(),T2=(()=>{class n extends Fde{constructor(e,i,r,o,a,u,h){super("mat-checkbox-",e,i,o,a,u,h),this._focusMonitor=r,this._animationClasses={uncheckedToChecked:"mat-checkbox-anim-unchecked-checked",uncheckedToIndeterminate:"mat-checkbox-anim-unchecked-indeterminate",checkedToUnchecked:"mat-checkbox-anim-checked-unchecked",checkedToIndeterminate:"mat-checkbox-anim-checked-indeterminate",indeterminateToChecked:"mat-checkbox-anim-indeterminate-checked",indeterminateToUnchecked:"mat-checkbox-anim-indeterminate-unchecked"}}_createChangeEvent(e){const i=new Tde;return i.source=this,i.checked=e,i}_getAnimationTargetElement(){return this._elementRef.nativeElement}ngAfterViewInit(){super.ngAfterViewInit(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||this._onBlur()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onInputClick(e){e.stopPropagation(),super._handleInputClick()}focus(e,i){e?this._focusMonitor.focusVia(this._inputElement,e,i):this._inputElement.nativeElement.focus(i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Kp),s.Y36(s.R0b),s.$8M("tabindex"),s.Y36(s.QbO,8),s.Y36(Sde,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(e,i){2&e&&(s.Ikx("id",i.id),s.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),s.ekj("mat-checkbox-indeterminate",i.indeterminate)("mat-checkbox-checked",i.checked)("mat-checkbox-disabled",i.disabled)("mat-checkbox-label-before","before"==i.labelPosition)("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[s._Bn([Dde]),s.qOj],ngContentSelectors:Ede,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,i){if(1&e&&(s.F$t(),s.TgZ(0,"label",0,1)(2,"span",2)(3,"input",3,4),s.NdJ("change",function(o){return i._onInteractionEvent(o)})("click",function(o){return i._onInputClick(o)}),s.qZA(),s.TgZ(5,"span",5),s._UZ(6,"span",6),s.qZA(),s._UZ(7,"span",7),s.TgZ(8,"span",8),s.O4$(),s.TgZ(9,"svg",9),s._UZ(10,"path",10),s.qZA(),s.kcU(),s._UZ(11,"span",11),s.qZA()(),s.TgZ(12,"span",12,13),s.NdJ("cdkObserveContent",function(){return i._onLabelTextChange()}),s.TgZ(14,"span",14),s._uU(15,"\xa0"),s.qZA(),s.Hsn(16),s.qZA()()),2&e){const r=s.MAs(1),o=s.MAs(13);s.uIk("for",i.inputId),s.xp6(2),s.ekj("mat-checkbox-inner-container-no-side-margin",!o.textContent||!o.textContent.trim()),s.xp6(1),s.Q6J("id",i.inputId)("required",i.required)("checked",i.checked)("disabled",i.disabled)("tabIndex",i.tabIndex),s.uIk("value",i.value)("name",i.name)("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-checked",i._getAriaChecked())("aria-describedby",i.ariaDescribedby),s.xp6(2),s.Q6J("matRippleTrigger",r)("matRippleDisabled",i._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",s.VKq(19,xde,"NoopAnimations"===i._animationMode?0:150))}},dependencies:[Fb,dU],styles:['@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);position:relative}.mat-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:rgba(0,0,0,0);transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:rgba(0,0,0,0)}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox-input:focus~.mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),vq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),Rde=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[MD,hr,DM,vq,hr,vq]}),n})();function Ode(n,t){if(1&n&&(s.TgZ(0,"mat-option",22),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e.id),s.xp6(1),s.Oqu(e.nome)}}function Lde(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",18)(1,"mat-form-field",19)(2,"mat-label"),s._uU(3,"Tipologia Skill"),s.qZA(),s.TgZ(4,"mat-select",20),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.newSkill.idTipologiaSkill=r)}),s.YNc(5,Ode,2,2,"mat-option",21),s.qZA()()()}if(2&n){const e=s.oxw(2);s.xp6(4),s.Q6J("ngModel",e.newSkill.idTipologiaSkill),s.xp6(1),s.Q6J("ngForOf",e.tipologiaSkills)}}function Nde(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-checkbox",23),s.NdJ("change",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.toggle(o))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.nome)}}function Pde(n,t){if(1&n&&(s.TgZ(0,"ul")(1,"li"),s._uU(2),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e)}}function Ude(n,t){if(1&n&&(s.TgZ(0,"li",25)(1,"b"),s._uU(2),s.qZA(),s.YNc(3,Pde,3,1,"ul",26),s.qZA()),2&n){const e=t.$implicit;s.xp6(2),s.hij("*",e.nome,""),s.xp6(1),s.Q6J("ngForOf",e.classi)}}function Qde(n,t){if(1&n&&(s.TgZ(0,"ul"),s.YNc(1,Ude,4,2,"li",24),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.skills)}}function Hde(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"div",4)(2,"mat-card",5)(3,"mat-card-header")(4,"mat-card-title"),s._uU(5,"Salva nuova skill"),s.qZA()(),s.TgZ(6,"mat-card-content",6)(7,"div",7)(8,"mat-form-field",8)(9,"mat-label"),s._uU(10,"Nome skill"),s.qZA(),s.TgZ(11,"input",9),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.newSkill.nome=r)}),s.qZA(),s.TgZ(12,"button",10),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.newSkill.nome="")}),s.TgZ(13,"mat-icon"),s._uU(14,"close"),s.qZA()()()(),s.YNc(15,Lde,6,2,"div",11),s.TgZ(16,"div",12)(17,"section"),s.YNc(18,Nde,2,1,"mat-checkbox",13),s.qZA()(),s.TgZ(19,"div",14)(20,"button",15),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.SalvaSkill())}),s._uU(21,"Salva"),s.qZA()()()()(),s.TgZ(22,"div",16)(23,"mat-card",17),s.YNc(24,Qde,2,1,"ul",0),s.qZA()()()}if(2&n){const e=s.oxw();s.xp6(11),s.Q6J("ngModel",e.newSkill.nome),s.xp6(4),s.Q6J("ngIf",e.tipologiaSkills.length>0),s.xp6(3),s.Q6J("ngForOf",e.classi),s.xp6(2),s.Q6J("disabled",""==e.newSkill.nome||-1===e.newSkill.idTipologiaSkill),s.xp6(4),s.Q6J("ngIf",e.skills.length>0)}}let Vde=(()=>{class n{constructor(e,i,r){this.service=e,this.userService=i,this.utils=r,this.skills=new Array,this.newSkill=new ND,this.classi=new Array,this.tipologiaSkills=new Array,this.idsClassiScelte=new Array,this.notChecked=!1,this.develop=!1,this.area=""}ngOnInit(){const e=re(7986);this.develop=e.develop,this.service.getAllSkills().subscribe(i=>this.skills=i),this.service.getAllClass().subscribe(i=>{this.classi=i}),this.service.getAllTipologieSkill().subscribe(i=>this.tipologiaSkills=i),this.discord()}SalvaSkill(){const e=this.newSkill;e.nome=(e.nome.charAt(0).toUpperCase()+e.nome.slice(1)).trim(),this.service.AddSkill(this.newSkill),this.service.getAllClass().subscribe(i=>{this.classi=i}),this.newSkill=new ND}toggle(e){this.newSkill.classi.push(e.nome)}checkSession(){}logout(){this.userService.logout()}registrati(){}login(){}goText(){this.utils.MacrosXmlToObject(this.area)}discord(){var e=this.userService.getQueryParams();e&&this.userService.loginDiscord(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(S0),s.Y36(fh),s.Y36(wf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-develop"]],decls:19,vars:2,consts:[[4,"ngIf"],[3,"click"],[3,"ngModel","ngModelChange"],["href","https://discord.com/api/oauth2/authorize?client_id=960448858926768148&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fdevelop&response_type=code&scope=identify%20email%20connections%20guilds%20guilds.join%20guilds.members.read%20role_connections.write"],["fxLayout","row",1,"home"],["fxFlex","70","fxLayout","column",1,"container"],["fxFlex","100","fxLayoutAlign","center center",2,"height","300px"],["fxFlex","30","fxLayout","column"],[1,"example-form-field"],["matInput","","type","text","fxFlex","","color","primary",3,"ngModel","ngModelChange"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["fxLayout","column","fxFlex","30",4,"ngIf"],["fxFlex","30","fxLayout","column",2,"margin-left","10%"],["style","padding:4px","color","primary",3,"change",4,"ngFor","ngForOf"],["fxFlex","",2,"margin-left","5%","margin-right","5%"],["mat-raised-button","","color","primary",3,"disabled","click"],["fxLayout","row","fxLayoutAlign","center center",1,"skills"],["fxFlex","","fxLayout","row","fxFlex","",2,"height","300px","overflow-y","auto"],["fxLayout","column","fxFlex","30"],["appearance","fill"],["color","primary",3,"ngModel","ngModelChange"],["color","primary",3,"value",4,"ngFor","ngForOf"],["color","primary",3,"value"],["color","primary",2,"padding","4px",3,"change"],["fxLayout","column","style","padding: 5px;",4,"ngFor","ngForOf"],["fxLayout","column",2,"padding","5px"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(s.YNc(0,Hde,25,5,"div",0),s._UZ(1,"br")(2,"br")(3,"br")(4,"br")(5,"br")(6,"br")(7,"br"),s.TgZ(8,"button",1),s.NdJ("click",function(){return i.checkSession()}),s._uU(9,"Check session"),s.qZA(),s.TgZ(10,"button",1),s.NdJ("click",function(){return i.logout()}),s._uU(11,"logout"),s.qZA(),s._UZ(12,"br"),s.TgZ(13,"textarea",2),s.NdJ("ngModelChange",function(o){return i.area=o}),s._uU(14,"\n"),s.qZA(),s.TgZ(15,"button",1),s.NdJ("click",function(){return i.goText()}),s._uU(16,"Ciao"),s.qZA(),s.TgZ(17,"a",3),s._uU(18,"Redirect"),s.qZA()),2&e&&(s.Q6J("ngIf",i.develop),s.xp6(13),s.Q6J("ngModel",i.area))},dependencies:[As,Li,Dy,B0,Jp,Fd,au,mh,Gl,Kb,$b,M0,zue,$x,Mb,Yb,T2,Iy,kk,y2,Mk],styles:[".example-form-field[_ngcontent-%COMP%]{width:200px}.container[_ngcontent-%COMP%]{height:100%;padding:15px;display:flex;margin-top:5%}.home[_ngcontent-%COMP%]{height:auto;padding:0;display:flex;justify-content:center;margin-top:5%}.skills[_ngcontent-%COMP%]{width:50%;padding:0;display:flex;justify-content:center;margin-top:5%}"]}),n})();class Gde{constructor(t,e,i){this.tipologia="",this.tool="",this.messaggio="",this.user="",this.tipologia=t,this.tool=e,this.messaggio=i}}function jde(n,t){1&n&&(s.TgZ(0,"mat-form-field",4)(1,"mat-label"),s._uU(2,"User"),s.qZA(),s._UZ(3,"input",11),s.qZA())}function zde(n,t){if(1&n&&(s.TgZ(0,"mat-option",12),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.Oqu(e)}}function qde(n,t){if(1&n&&(s.TgZ(0,"mat-option",12),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.Oqu(e)}}function Kde(n,t){if(1&n&&(s.TgZ(0,"mat-form-field",13)(1,"mat-label"),s._uU(2,"Seleziona tool"),s.qZA(),s.TgZ(3,"mat-select",14),s.YNc(4,qde,2,2,"mat-option",6),s.qZA()()),2&n){const e=s.oxw();s.xp6(4),s.Q6J("ngForOf",e.tools)}}let Zde=(()=>{class n{constructor(e,i,r){this._formBuilder=e,this._userService=i,this._utils=r,this.tipologiaTicket=["Correzione dati tool","Malfunzionamento","Consigli"],this.tools=["Scheda personaggio","Dizionario Elfico","Enchant TM","Calendario TM","Armature infuse","Macro Utili"],this.firstFormGroup=this._formBuilder.group({user:["",Ia.required],tipologia:["",Ia.required],tool:[""],ticket:["",Ia.compose([Ia.minLength(20),Ia.required])]}),this.isLoggedIn=!1}ngOnInit(){this.isSmartphone(),this._userService.isLoggedInObs.subscribe(e=>{this.isLoggedIn=e,this.isLoggedIn||this._userService.openSnackBar("effettuaLogin")})}salva(){var e,i,r,o;if(this.firstFormGroup.valid){var a=null===(e=this.firstFormGroup.get("tipologia"))||void 0===e?void 0:e.value,u=null===(i=this.firstFormGroup.get("ticket"))||void 0===i?void 0:i.value,h=null===(r=this.firstFormGroup.get("tool"))||void 0===r?void 0:r.value;if(h||(h="Blank"),a&&u&&h){var f=new Gde(a,h,u),_=null===(o=this.firstFormGroup.get("user"))||void 0===o?void 0:o.value,C=localStorage.getItem("user");!this.isLoggedIn&&_&&(f.user=_),this.isLoggedIn&&C&&(f.user=C),this._userService.SalvaTicket(f),this.firstFormGroup.reset()}}}isSmartphone(){return this._utils.isSmartphone()}width(){return this.isSmartphone()?"100":"50"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(bue),s.Y36(fh),s.Y36(wf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-help"]],decls:23,vars:10,consts:[["fxLayoutAlign","center center",2,"padding-top","2%"],["fxFlex","","fxLayout","column",3,"fxFlex"],["fxFlex","","fxLayout","column","fxLayoutAlign","center",3,"formGroup"],["appearance","fill",4,"ngIf"],["appearance","fill"],["formControlName","tipologia"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill","fxFlex","",4,"ngIf"],["rows","100","cols","100","matInput","","formControlName","ticket","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["autosize","cdkTextareaAutosize"],["mat-raised-button","","color","primary",3,"disabled","click"],["matInput","","type","text","formControlName","user","readonly","true"],[3,"value"],["appearance","fill","fxFlex",""],["formControlName","tool"]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),s._uU(4," Help "),s.qZA(),s.TgZ(5,"mat-card-subtitle"),s._uU(6," Invia ticket (al fuoco... al fuoco...) "),s.qZA()(),s.TgZ(7,"mat-card-content")(8,"form",2),s.YNc(9,jde,4,0,"mat-form-field",3),s.TgZ(10,"mat-form-field",4)(11,"mat-label"),s._uU(12,"Tipo errore"),s.qZA(),s.TgZ(13,"mat-select",5),s.YNc(14,zde,2,2,"mat-option",6),s.qZA()(),s.YNc(15,Kde,5,1,"mat-form-field",7),s.TgZ(16,"mat-form-field",4)(17,"mat-label"),s._uU(18,"Ticket"),s.qZA(),s._UZ(19,"textarea",8,9),s.qZA(),s.TgZ(21,"button",10),s.NdJ("click",function(){return i.salva()}),s._uU(22,"Invia"),s.qZA()()()()()),2&e){let r,o,a,u;s.xp6(1),s.Q6J("fxFlex",i.width()),s.xp6(7),s.Q6J("formGroup",i.firstFormGroup),s.xp6(1),s.Q6J("ngIf",!i.isLoggedIn),s.xp6(5),s.Q6J("ngForOf",i.tipologiaTicket),s.xp6(1),s.Q6J("ngIf",(null==(r=i.firstFormGroup.get("tipologia"))?null:r.value)==i.tipologiaTicket[0]),s.xp6(1),s.Udp("visibility",null!=(o=i.firstFormGroup.get("tipologia"))&&o.valid||(null==(o=i.firstFormGroup.get("tipologia"))?null:o.value)===i.tipologiaTicket[1]?"visible":"hidden"),s.xp6(5),s.Udp("visibility",null!=(a=i.firstFormGroup.get("tool"))&&a.valid||(null==(a=i.firstFormGroup.get("tipologia"))?null:a.value)===i.tipologiaTicket[1]?"visible":"hidden"),s.Q6J("disabled",(null==(u=i.firstFormGroup.get("ticket"))?null:u.invalid)||(null==(u=i.firstFormGroup.get("user"))?null:u.invalid))}},dependencies:[As,Li,U9,Dy,B0,S9,Kx,o3,Fd,au,mh,Gl,$b,M0,$x,Mb,gde,Yb,Iy,kk,y2,Mk,e9],styles:["mat-card[_ngcontent-%COMP%]{border:2px solid #004a9f;border-radius:3px;margin:3%}mat-card-title[_ngcontent-%COMP%]{color:#004a9f}"]}),n})(),$de=(()=>{class n{constructor(e,i,r){this._utils=e,this.userService=i,this.router=r}ngOnInit(){this.discord()}isSmartphone(){return this._utils.isSmartphone()?"80":"55"}discord(){var e=this.userService.getQueryParams();if(e){this.router.navigate([],{queryParams:{code:null},queryParamsHandling:"merge"});const i=localStorage.getItem("lastUrl");i&&this.router.navigate([i]),this.userService.loginDiscord(e).subscribe(r=>{})}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wf),s.Y36(fh),s.Y36(ls))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-home-view"]],decls:4,vars:1,consts:[["fxLayout","column","fxLayoutAlign","center","fxFlex",""],["fxFlex","50",2,"padding","1%"],["fxLayout","row","fxFlex","","fxLayoutAlign","center"],["src","https://media.discordapp.net/attachments/511856322141093914/916417399123746878/122446285_3745805028787577_1420736271386283273_n-1.png",1,"immagine",3,"fxFlex"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"div",1),s.TgZ(2,"div",2),s._UZ(3,"img",3),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("fxFlex",i.isSmartphone()))},dependencies:[au,mh,Gl],styles:[".immagine[_ngcontent-%COMP%]{border:7px solid #004a9f;border-radius:3px}"]}),n})();function Yde(n,t){1&n&&(s.TgZ(0,"div")(1,"b"),s._uU(2," Scegli un file .txt e caricalo nella piattaforma."),s._UZ(3,"br"),s._uU(4," Il sistema lo elaborer\xe0 e lo render\xe0 adatto alle bacheche del gioco. "),s.qZA(),s._UZ(5,"br")(6,"br"),s.qZA())}function Wde(n,t){if(1&n&&(s.TgZ(0,"div")(1,"span"),s._uU(2),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e)}}function Jde(n,t){if(1&n&&(s.TgZ(0,"div",9),s.YNc(1,Wde,3,1,"div",10),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e)}}function Xde(n,t){if(1&n&&(s.TgZ(0,"mat-card",7)(1,"mat-card-content"),s.YNc(2,Jde,2,1,"div",8),s.qZA()()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngForOf",e.bacheche)}}function ehe(n,t){if(1&n&&(s.TgZ(0,"div")(1,"span"),s._uU(2),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e)}}function the(n,t){if(1&n&&(s.TgZ(0,"div",9),s.YNc(1,ehe,3,1,"div",10),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e)}}function nhe(n,t){if(1&n&&(s.TgZ(0,"div",11),s.YNc(1,the,2,1,"div",8),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.bacheche)}}let ihe=(()=>{class n{constructor(e,i){this.utils=e,this.service=i,this.bacheche=new Array,this.isSmartphone=!1}ngOnInit(){this.isSmartphone=this.utils.isSmartphone()}onChange(e){var i=this;return(0,bt.Z)(function*(){var r=e.target.files[0];let o=yield r.text();i.elabTextToBachecaMessage(o)})()}elabTextToBachecaMessage(e){var i="",r=new Array,o=new Array;let a=this.cleanArray(e);a.forEach(u=>{i.length+u.length<=32?i+=u+" ":(i=i.substring(0,i.lastIndexOf(" ")),r.push(i),i=u+" "),u==a[a.length-1]&&(i=i.substring(0,i.lastIndexOf(" ")),r.push(i)),39==r.length&&(o.push(r),r=new Array)}),o.push(r),this.bacheche=o}checkWords(e){for(let r=0;r<e.length;r++)if(e[r].includes("\n\r")){var i=e[r].split("\r\n");i=i.filter(o=>""!=o),e.splice(r,i.length,...i)}return e}cleanArray(e){var i,r=(e=e.replace(/[\r\n]/g," ")).split(" ");r=r.filter(u=>""!=u);let o=(new Array).concat(r),a=0;for(;r.filter(u=>u.length>32).length>0;){if((null===(i=o[a])||void 0===i?void 0:i.length)>=32){let u=new Array,h=0;for(let f=0;f<o[a].length/32;f++)u.push(o[a].substring(h,h+31)),h+=31;o=this.mergeArray(o,u,a)}r=o,a++}return r}mergeArray(e,i,r=0){return(e=e.filter(o=>o!==e[r])).slice(0,r).concat(i,e.slice(r))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wf),s.Y36(fh))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-bacheca"]],decls:7,vars:3,consts:[["fxLayout","column","fxFlex","","fxLayoutAlign","space-evenly center"],["fxFlex","",2,"padding","1%"],[2,"text-align","center"],[4,"ngIf"],["type","file",1,"form-control",3,"change"],["class","pergamene",4,"ngIf"],["class","pergameneSmarth",4,"ngIf"],[1,"pergamene"],["class","pergamena",4,"ngFor","ngForOf"],[1,"pergamena"],[4,"ngFor","ngForOf"],[1,"pergameneSmarth"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2),s.YNc(3,Yde,7,0,"div",3),s.TgZ(4,"input",4),s.NdJ("change",function(o){return i.onChange(o)}),s.qZA()()(),s.YNc(5,Xde,3,1,"mat-card",5),s.YNc(6,nhe,2,1,"div",6),s.qZA()),2&e&&(s.xp6(3),s.Q6J("ngIf",0==i.bacheche.length),s.xp6(2),s.Q6J("ngIf",i.bacheche.length>0&&!i.isSmartphone),s.xp6(1),s.Q6J("ngIf",i.bacheche.length>0&&i.isSmartphone))},dependencies:[As,Li,au,mh,Gl,Iy,y2],styles:[".pergamena[_ngcontent-%COMP%]{background-image:url(https://img.freepik.com/premium-photo/old-parchment-paper-texture-background-wallpaper_118047-11580.jpg);font-family:Playfair Display,serif;font-size:20px;padding:10px;margin:6px;border-radius:10px;text-align:center}.pergamene[_ngcontent-%COMP%]{width:40%;max-height:65vh;overflow-y:auto}.pergameneSmarth[_ngcontent-%COMP%]{width:80%;max-height:65vh;overflow-y:auto}.font[_ngcontent-%COMP%]{font-family:Playfair Display,serif}"]}),n})();function rhe(n,t){if(1&n&&(s.TgZ(0,"mat-option",19),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" ",e," ")}}function she(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-form-field",16)(1,"mat-select",17),s.NdJ("selectionChange",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o._changePageSize(r.value))}),s.YNc(2,rhe,2,2,"mat-option",18),s.qZA()()}if(2&n){const e=s.oxw(2);s.Q6J("appearance",e._formFieldAppearance)("color",e.color),s.xp6(1),s.Q6J("value",e.pageSize)("disabled",e.disabled)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering)("aria-label",e._intl.itemsPerPageLabel),s.xp6(1),s.Q6J("ngForOf",e._displayedPageSizeOptions)}}function ohe(n,t){if(1&n&&(s.TgZ(0,"div",20),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.pageSize)}}function ahe(n,t){if(1&n&&(s.TgZ(0,"div",12)(1,"div",13),s._uU(2),s.qZA(),s.YNc(3,she,3,8,"mat-form-field",14),s.YNc(4,ohe,2,1,"div",15),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.hij(" ",e._intl.itemsPerPageLabel," "),s.xp6(1),s.Q6J("ngIf",e._displayedPageSizeOptions.length>1),s.xp6(1),s.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function lhe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",21),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.firstPage())}),s.O4$(),s.TgZ(1,"svg",7),s._UZ(2,"path",22),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),s.uIk("aria-label",e._intl.firstPageLabel)}}function che(n,t){if(1&n){const e=s.EpF();s.O4$(),s.kcU(),s.TgZ(0,"button",23),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.lastPage())}),s.O4$(),s.TgZ(1,"svg",7),s._UZ(2,"path",24),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),s.uIk("aria-label",e._intl.lastPageLabel)}}let $k=(()=>{class n{constructor(){this.changes=new tn.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const o=e*i;return`${o+1} \u2013 ${o<(r=Math.max(r,0))?Math.min(o+i,r):o+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dhe={provide:$k,deps:[[new s.FiY,new s.tp0,$k]],useFactory:function uhe(n){return n||new $k}};class Ahe{}const fhe=new s.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),phe=Bb(y7(class{}));let ghe=(()=>{class n extends phe{constructor(e,i,r){if(super(),this._intl=e,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new s.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:o,pageSizeOptions:a,hidePageSize:u,showFirstLastButtons:h}=r;null!=o&&(this._pageSize=o),null!=a&&(this._pageSizeOptions=a),null!=u&&(this._hidePageSize=u),null!=h&&(this._showFirstLastButtons=h)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(su(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=su(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(su(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>su(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=Ci(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=Ci(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[s.qOj]}),n})(),B2=(()=>{class n extends ghe{constructor(e,i,r){super(e,i,r),r&&null!=r.formFieldAppearance&&(this._formFieldAppearance=r.formFieldAppearance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36($k),s.Y36(s.sBO),s.Y36(fhe,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[s.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","panelClass","disableOptionCentering","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s.YNc(2,ahe,5,3,"div",2),s.TgZ(3,"div",3)(4,"div",4),s._uU(5),s.qZA(),s.YNc(6,lhe,3,5,"button",5),s.TgZ(7,"button",6),s.NdJ("click",function(){return i.previousPage()}),s.O4$(),s.TgZ(8,"svg",7),s._UZ(9,"path",8),s.qZA()(),s.kcU(),s.TgZ(10,"button",9),s.NdJ("click",function(){return i.nextPage()}),s.O4$(),s.TgZ(11,"svg",7),s._UZ(12,"path",10),s.qZA()(),s.YNc(13,che,3,5,"button",11),s.qZA()()()),2&e&&(s.xp6(2),s.Q6J("ngIf",!i.hidePageSize),s.xp6(3),s.hij(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),s.xp6(1),s.Q6J("ngIf",i.showFirstLastButtons),s.xp6(1),s.Q6J("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),s.uIk("aria-label",i._intl.previousPageLabel),s.xp6(3),s.Q6J("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),s.uIk("aria-label",i._intl.nextPageLabel),s.xp6(3),s.Q6J("ngIf",i.showFirstLastButtons))},dependencies:[As,Li,Fd,$b,$x,Mb,Ey],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{display:inline-block;width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),mhe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[dhe],imports:[ea,NM,pq,Wz,hr]}),n})();const _he=["mat-sort-header",""];function yhe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3),s.NdJ("@arrowPosition.start",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._disableViewStateAnimation=!1)}),s._UZ(1,"div",4),s.TgZ(2,"div",5),s._UZ(3,"div",6)(4,"div",7)(5,"div",8),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),s.xp6(2),s.Q6J("@indicator",e._getArrowDirectionState()),s.xp6(1),s.Q6J("@leftPointer",e._getArrowDirectionState()),s.xp6(1),s.Q6J("@rightPointer",e._getArrowDirectionState())}}const vhe=["*"],wq=new s.OlP("MAT_SORT_DEFAULT_OPTIONS"),whe=y7(Bb(class{}));let F2=(()=>{class n extends whe{constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new tn.x,this.start="asc",this._direction="",this.sortChange=new s.vpe}get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Ci(e)}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let r=function bhe(n,t){let e=["asc","desc"];return"desc"==n&&e.reverse(),t||e.push(""),e}(e.start||this.start,e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),o=r.indexOf(this.direction)+1;return o>=r.length&&(o=0),r[o]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wq,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[s.qOj,s.TTD]}),n})();const k0=fte.ENTERING+" "+Ate.STANDARD_CURVE,Yx={indicator:Tc("indicator",[Hr("active-asc, asc",ui({transform:"translateY(0px)"})),Hr("active-desc, desc",ui({transform:"translateY(10px)"})),Ws("active-asc <=> active-desc",To(k0))]),leftPointer:Tc("leftPointer",[Hr("active-asc, asc",ui({transform:"rotate(-45deg)"})),Hr("active-desc, desc",ui({transform:"rotate(45deg)"})),Ws("active-asc <=> active-desc",To(k0))]),rightPointer:Tc("rightPointer",[Hr("active-asc, asc",ui({transform:"rotate(45deg)"})),Hr("active-desc, desc",ui({transform:"rotate(-45deg)"})),Ws("active-asc <=> active-desc",To(k0))]),arrowOpacity:Tc("arrowOpacity",[Hr("desc-to-active, asc-to-active, active",ui({opacity:1})),Hr("desc-to-hint, asc-to-hint, hint",ui({opacity:.54})),Hr("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",ui({opacity:0})),Ws("* => asc, * => desc, * => active, * => hint, * => void",To("0ms")),Ws("* <=> *",To(k0))]),arrowPosition:Tc("arrowPosition",[Ws("* => desc-to-hint, * => desc-to-active",To(k0,kD([ui({transform:"translateY(-25%)"}),ui({transform:"translateY(0)"})]))),Ws("* => hint-to-desc, * => active-to-desc",To(k0,kD([ui({transform:"translateY(0)"}),ui({transform:"translateY(25%)"})]))),Ws("* => asc-to-hint, * => asc-to-active",To(k0,kD([ui({transform:"translateY(25%)"}),ui({transform:"translateY(0)"})]))),Ws("* => hint-to-asc, * => active-to-asc",To(k0,kD([ui({transform:"translateY(0)"}),ui({transform:"translateY(-25%)"})]))),Hr("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",ui({transform:"translateY(0)"})),Hr("hint-to-desc, active-to-desc, desc",ui({transform:"translateY(-25%)"})),Hr("hint-to-asc, active-to-asc, asc",ui({transform:"translateY(25%)"}))]),allowChildren:Tc("allowChildren",[Ws("* <=> *",[UM("@*",PM(),{optional:!0})])])};let Yk=(()=>{class n{constructor(){this.changes=new tn.x}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xhe={provide:Yk,deps:[[new s.FiY,new s.tp0,Yk]],useFactory:function Che(n){return n||new Yk}},Ehe=Bb(class{});let bq=(()=>{class n extends Ehe{constructor(e,i,r,o,a,u,h,f){super(),this._intl=e,this._changeDetectorRef=i,this._sort=r,this._columnDef=o,this._focusMonitor=a,this._elementRef=u,this._ariaDescriber=h,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",f?.arrowPosition&&(this.arrowPosition=f?.arrowPosition),this._handleStateChanges()}get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Ci(e)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const i=!!e;i!==this._showIndicatorHint&&(this._setIndicatorHintVisible(i),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,e)),this._sortActionDescription=e}_handleStateChanges(){this._rerenderSubscription=(0,iu.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Yk),s.Y36(s.sBO),s.Y36(F2,8),s.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),s.Y36(Kp),s.Y36(s.SBq),s.Y36(r7,8),s.Y36(wq,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i._handleClick()})("keydown",function(o){return i._handleKeydown(o)})("mouseenter",function(){return i._setIndicatorHintVisible(!0)})("mouseleave",function(){return i._setIndicatorHintVisible(!1)}),2&e&&(s.uIk("aria-sort",i._getAriaSortAttribute()),s.ekj("mat-sort-header-disabled",i._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[s.qOj],attrs:_he,ngContentSelectors:vhe,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0)(1,"div",1),s.Hsn(2),s.qZA(),s.YNc(3,yhe,6,6,"div",2),s.qZA()),2&e&&(s.ekj("mat-sort-header-sorted",i._isSorted())("mat-sort-header-position-before","before"===i.arrowPosition),s.uIk("tabindex",i._isDisabled()?null:0)("role",i._isDisabled()?null:"button"),s.xp6(3),s.Q6J("ngIf",i._renderArrow()))},dependencies:[Li],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[Yx.indicator,Yx.leftPointer,Yx.rightPointer,Yx.arrowOpacity,Yx.arrowPosition,Yx.allowChildren]},changeDetection:0}),n})(),She=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[xhe],imports:[ea,hr]}),n})();const Dhe=[[["caption"]],[["colgroup"],["col"]]],The=["caption","colgroup, col"];function f3(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Ci(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const Wx=new s.OlP("CDK_TABLE");let Jx=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Xx=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),Wk=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class khe{}const Rhe=f3(khe);let Ty=(()=>{class n extends Rhe{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=Ci(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Wx,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Jx,5),s.Suo(r,Xx,5),s.Suo(r,Wk,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.cell=o.first),s.iGM(o=s.CRH())&&(i.headerCell=o.first),s.iGM(o=s.CRH())&&(i.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[s._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),s.qOj]}),n})();class p3{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let g3=(()=>{class n extends p3{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ty),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[s.qOj]}),n})(),m3=(()=>{class n extends p3{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ty),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[s.qOj]}),n})();class xq{constructor(){this.tasks=[],this.endTasks=[]}}const _3=new s.OlP("_COALESCED_STYLE_SCHEDULER");let Eq=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new tn.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new xq,this._getScheduleObservable().pipe(Wi(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new xq;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Gn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,Jr.q)(1))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),y3=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof M2?e.headerCell.template:this instanceof k2?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();class Ohe extends y3{}const Lhe=f3(Ohe);let M2=(()=>{class n extends Lhe{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Wx,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),n})();class Nhe extends y3{}const Phe=f3(Nhe);let k2=(()=>{class n extends Phe{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Wx,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),n})(),Jk=(()=>{class n extends y3{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Wx,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[s.qOj]}),n})(),By=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),v3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[By],encapsulation:2}),n})(),b3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[By],encapsulation:2}),n})(),Xk=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const Sq=["top","bottom","left","right"];class Uhe{constructor(t,e,i,r,o=!0,a=!0,u){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=o,this._needsPositionStickyOnElement=a,this._positionListener=u,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let o=0;o<r.children.length;o++)i.push(r.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(F=>F)&&!i.some(F=>F))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=t[0],a=o.children.length,u=this._getCellWidths(o,r),h=this._getStickyStartColumnPositions(u,e),f=this._getStickyEndColumnPositions(u,i),_=e.lastIndexOf(!0),C=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const F="rtl"===this.direction,B=F?"right":"left",U=F?"left":"right";for(const H of t)for(let Z=0;Z<a;Z++){const q=H.children[Z];e[Z]&&this._addStickyStyle(q,B,h[Z],Z===_),i[Z]&&this._addStickyStyle(q,U,f[Z],Z===C)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===_?[]:u.slice(0,_+1).map((H,Z)=>e[Z]?H:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===C?[]:u.slice(C).map((H,Z)=>i[Z+C]?H:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,o="bottom"===i?e.slice().reverse():e,a=[],u=[],h=[];for(let _=0,C=0;_<r.length;_++){if(!o[_])continue;a[_]=C;const F=r[_];h[_]=this._isNativeHtmlTable?Array.from(F.children):[F];const B=F.getBoundingClientRect().height;C+=B,u[_]=B}const f=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let _=0;_<r.length;_++){if(!o[_])continue;const C=a[_],F=_===f;for(const B of h[_])this._addStickyStyle(B,i,C,F)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:u,offsets:a,elements:h}):this._positionListener?.stickyFooterRowsUpdated({sizes:u,offsets:a,elements:h})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);Sq.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of Sq)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let o=0;o<r.length;o++)i.push(r[o].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let o=0;o<t.length;o++)e[o]&&(i[o]=r,r+=t[o]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let o=t.length;o>0;o--)e[o]&&(i[o]=r,r+=t[o]);return i}}const C3=new s.OlP("CDK_SPL");let eR=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),tR=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),nR=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),iR=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),rR=(()=>{class n{constructor(e,i,r,o,a,u,h,f,_,C,F,B){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=a,this._platform=h,this._viewRepeater=f,this._coalescedStyleScheduler=_,this._viewportRuler=C,this._stickyPositioningListener=F,this._ngZone=B,this._onDestroy=new tn.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new s.vpe,this.viewChange=new pr({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=u,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Ci(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Ci(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Wi(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),A3(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,o,a)=>this._getEmbeddedViewArgs(r.item,a),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&s.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,Jr.q)(1),Wi(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const o=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,o,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const o=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,a)=>{this._addStickyColumnStyles([o],this._headerRowDefs[a])}),this._rowDefs.forEach(o=>{const a=[];for(let u=0;u<i.length;u++)this._renderRows[u].rowDef===o&&a.push(i[u]);this._addStickyColumnStyles(a,o)}),r.forEach((o,a)=>{this._addStickyColumnStyles([o],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let o=this._data[r];const a=this._getRenderRowsForData(o,r,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let u=0;u<a.length;u++){let h=a[u];const f=this._cachedRenderRowsMap.get(h.data);f.has(h.rowDef)?f.get(h.rowDef).push(h):f.set(h.rowDef,[h]),e.push(h)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(a=>{const u=r&&r.has(a)?r.get(a):[];if(u.length){const h=u.shift();return h.dataIndex=i,h}return{data:e,rowDef:a,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),sR(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=sR(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=sR(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=sR(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(a,u)=>a||!!u.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),i||r||o}_switchDataSource(e){this._data=[],A3(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;A3(this.dataSource)?e=this.dataSource.connect(this):function Ihe(n){return!!n&&(n instanceof mr.y||(0,zs.m)(n.lift)&&(0,zs.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=An(this.dataSource)),this._renderChangeSubscription=e.pipe(Wi(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(u=>this._columnDefsByName.get(u)),o=r.map(u=>u.sticky),a=r.map(u=>u.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,a,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const o=e.viewContainer.get(r);i.push(o.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(o=>!o.when||o.when(i,e));else{let o=this._rowDefs.find(a=>a.when&&a.when(i,e))||this._defaultRowDef;o&&r.push(o)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,o={}){const a=e.viewContainer.createEmbeddedView(i.template,o,r);return this._renderCellTemplateForItem(i,o),a}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))By.mostRecentCellOutlet&&By.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const a=e.get(i).context;a.count=r,a.first=0===i,a.last=i===r-1,a.even=i%2==0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[i].dataIndex,a.renderIndex=i):a.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const o=this._document.createElement(r.tag);o.setAttribute("role","rowgroup");for(const a of r.outlets)o.appendChild(a.elementRef.nativeElement);e.appendChild(o)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Uhe(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:An()).pipe(Wi(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const o=r.createEmbeddedView(e.templateRef),a=o.rootNodes[0];1===o.rootNodes.length&&a?.nodeType===this._document.ELEMENT_NODE&&(a.setAttribute("role","row"),a.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.sBO),s.Y36(s.SBq),s.$8M("role"),s.Y36(bf,8),s.Y36(Ke),s.Y36(Ms),s.Y36(I2),s.Y36(_3),s.Y36(bx),s.Y36(C3,12),s.Y36(s.R0b,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Xk,5),s.Suo(r,Ty,5),s.Suo(r,Jk,5),s.Suo(r,M2,5),s.Suo(r,k2,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._noDataRow=o.first),s.iGM(o=s.CRH())&&(i._contentColumnDefs=o),s.iGM(o=s.CRH())&&(i._contentRowDefs=o),s.iGM(o=s.CRH())&&(i._contentHeaderRowDefs=o),s.iGM(o=s.CRH())&&(i._contentFooterRowDefs=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(eR,7),s.Gf(tR,7),s.Gf(nR,7),s.Gf(iR,7)),2&e){let r;s.iGM(r=s.CRH())&&(i._rowOutlet=r.first),s.iGM(r=s.CRH())&&(i._headerRowOutlet=r.first),s.iGM(r=s.CRH())&&(i._footerRowOutlet=r.first),s.iGM(r=s.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[s._Bn([{provide:Wx,useExisting:n},{provide:I2,useClass:lq},{provide:_3,useClass:Eq},{provide:C3,useValue:null}])],ngContentSelectors:The,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(s.F$t(Dhe),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[eR,tR,nR,iR],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function sR(n,t){return n.concat(Array.from(t))}let Hhe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[oU]}),n})();const Vhe=[[["caption"]],[["colgroup"],["col"]]],Ghe=["caption","colgroup, col"];let x3=(()=>{class n extends rR{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[s._Bn([{provide:I2,useClass:lq},{provide:rR,useExisting:n},{provide:Wx,useExisting:n},{provide:_3,useClass:Eq},{provide:C3,useValue:null}]),s.qOj],ngContentSelectors:Ghe,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(s.F$t(Vhe),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[eR,tR,nR,iR],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})(),oR=(()=>{class n extends Jx{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matCellDef",""]],features:[s._Bn([{provide:Jx,useExisting:n}]),s.qOj]}),n})(),aR=(()=>{class n extends Xx{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[s._Bn([{provide:Xx,useExisting:n}]),s.qOj]}),n})(),lR=(()=>{class n extends Ty{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[s._Bn([{provide:Ty,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),s.qOj]}),n})(),cR=(()=>{class n extends g3{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[s.qOj]}),n})(),uR=(()=>{class n extends m3{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[s.qOj]}),n})(),E3=(()=>{class n extends M2{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[s._Bn([{provide:M2,useExisting:n}]),s.qOj]}),n})(),S3=(()=>{class n extends Jk{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[s._Bn([{provide:Jk,useExisting:n}]),s.qOj]}),n})(),I3=(()=>{class n extends v3{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[s._Bn([{provide:v3,useExisting:n}]),s.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[By],encapsulation:2}),n})(),Dq=(()=>{class n extends b3{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[s._Bn([{provide:b3,useExisting:n}]),s.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[By],encapsulation:2}),n})(),Xhe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Hhe,hr,hr]}),n})();class tAe extends $ue{constructor(t=[]){super(),this._renderData=new pr([]),this._filter=new pr(""),this._internalPageChanges=new tn.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(B8(r)){const o=Number(r);return o<9007199254740991?o:r}return r},this.sortData=(e,i)=>{const r=i.active,o=i.direction;return r&&""!=o?e.sort((a,u)=>{let h=this.sortingDataAccessor(a,r),f=this.sortingDataAccessor(u,r);const _=typeof h,C=typeof f;_!==C&&("number"===_&&(h+=""),"number"===C&&(f+=""));let F=0;return null!=h&&null!=f?h>f?F=1:h<f&&(F=-1):null!=h?F=1:null!=f&&(F=-1),F*("asc"==o?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((a,u)=>a+e[u]+"\u25ec","").toLowerCase(),o=i.trim().toLowerCase();return-1!=r.indexOf(o)},this._data=new pr(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?(0,iu.T)(this._sort.sortChange,this._sort.initialized):An(null),e=this._paginator?(0,iu.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):An(null),r=al([this._data,this._filter]).pipe((0,on.U)(([u])=>this._filterData(u))),o=al([r,t]).pipe((0,on.U)(([u])=>this._orderData(u))),a=al([o,e]).pipe((0,on.U)(([u])=>this._pageData(u)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=a.subscribe(u=>this._renderData.next(u))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class D3 extends tAe{}class nAe{constructor(t,e){this._document=e;const i=this._textarea=this._document.createElement("textarea"),r=i.style;r.position="fixed",r.top=r.opacity="0",r.left="-999em",i.setAttribute("aria-hidden","true"),i.value=t,i.readOnly=!0,this._document.body.appendChild(i)}copy(){const t=this._textarea;let e=!1;try{if(t){const i=this._document.activeElement;t.select(),t.setSelectionRange(0,t.value.length),e=this._document.execCommand("copy"),i&&i.focus()}}catch{}return e}destroy(){const t=this._textarea;t&&(t.remove(),this._textarea=void 0)}}let iAe=(()=>{class n{constructor(e){this._document=e}copy(e){const i=this.beginCopy(e),r=i.copy();return i.destroy(),r}beginCopy(e){return new nAe(e,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ke))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rAe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function sAe(n,t){1&n&&(s.TgZ(0,"mat-icon"),s._uU(1,"content_copy"),s.qZA()),2&n&&s.Q6J("@copyIconTransition","copy")}function oAe(n,t){1&n&&(s.TgZ(0,"mat-icon",11),s._uU(1,"done"),s.qZA()),2&n&&s.Q6J("@copyIconTransition","done")}let aAe=(()=>{class n{constructor(e,i,r,o){this.data=e,this.clipboard=i,this.snackBar=r,this.dialog=o,this.shareLink="",this.copyIcon="content_copy",this.copyTooltipText="Copia il link",this.iconState="initial",this.showCopyIcon=!0,this.shareLink=e.link}ngOnInit(){this.copyLink()}copyLink(){this.clipboard.copy(this.shareLink),this.showCopiedSnackBar(),this.showCopyIcon=!1,setTimeout(()=>{this.showCopyIcon=!0},700)}showCopiedSnackBar(){this.snackBar.open("Link copiato negli appunti","Chiudi",{duration:2e3})}closeModal(){this.copyIcon="content_copy",this.copyTooltipText="Copia il link",this.dialog.closeAll()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Vm),s.Y36(iAe),s.Y36(U7),s.Y36(by))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-share-link"]],decls:14,vars:8,consts:[[1,"modal-container"],[1,"modal-title"],[1,"modal-content"],[1,"link-label"],[1,"link-container"],["type","text","readonly","",1,"link-input",3,"value"],["mat-icon-button","",1,"copy-button",3,"matTooltip"],[4,"ngIf"],["class","done-icon",4,"ngIf"],[1,"modal-actions"],["mat-raised-button","","color","primary",3,"click"],[1,"done-icon"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h2",1),s._uU(2,"Link di condivisione"),s.qZA(),s.TgZ(3,"div",2)(4,"p",3),s._uU(5,"Il link di condivisione \xe8:"),s.qZA(),s.TgZ(6,"div",4),s._UZ(7,"input",5),s.TgZ(8,"button",6),s.YNc(9,sAe,2,1,"mat-icon",7),s.YNc(10,oAe,2,1,"mat-icon",8),s.qZA()()(),s.TgZ(11,"div",9)(12,"button",10),s.NdJ("click",function(){return i.closeModal()}),s._uU(13,"Chiudi"),s.qZA()()()),2&e&&(s.xp6(7),s.Q6J("value",i.shareLink),s.xp6(1),s.ekj("copy",i.showCopyIcon)("done",!i.showCopyIcon),s.Q6J("matTooltip",i.copyTooltipText),s.xp6(1),s.Q6J("ngIf",!i.showCopyIcon),s.xp6(1),s.Q6J("ngIf",i.showCopyIcon))},dependencies:[Li,Jp,Fd,Ey],styles:[".modal-container[_ngcontent-%COMP%]{background-color:#fff;padding:20px;max-width:400px;width:100%;border-radius:8px;box-shadow:0 2px 10px #00000026}.modal-title[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px;font-size:24px;font-weight:700}.modal-content[_ngcontent-%COMP%]{margin-bottom:20px}.link-label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:10px}.link-container[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#f5f5f5;border-radius:4px;overflow:hidden}.link-input[_ngcontent-%COMP%]{flex:1;padding:10px;border:none;background-color:transparent;font-family:Roboto,sans-serif}.copy-button[_ngcontent-%COMP%]{position:relative;color:#999;margin-right:8px;transition:color .3s,opacity .3s}.copy-button[_ngcontent-%COMP%]:hover{color:#555}.copy-button.done[_ngcontent-%COMP%]   .copy-icon[_ngcontent-%COMP%]{position:absolute;inset:0;opacity:1;transition:opacity .3s}.copy-button.done[_ngcontent-%COMP%]   .done-icon[_ngcontent-%COMP%]{opacity:0;transform:rotate(0);transition:opacity .3s,transform .5s}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.button-done[_ngcontent-%COMP%]{display:inline-block;padding:5px 10px;border-radius:4px;background-color:#4caf50;color:#fff;opacity:0;transition:opacity .3s}.button-done.show[_ngcontent-%COMP%]{opacity:1}.modal-container.show-copy[_ngcontent-%COMP%]   .copy-button.copy[_ngcontent-%COMP%]   .copy-icon[_ngcontent-%COMP%]{opacity:0}.modal-container.show-copy[_ngcontent-%COMP%]   .copy-button.copy[_ngcontent-%COMP%]   .done-icon[_ngcontent-%COMP%]{opacity:1;transform:rotate(360deg);color:#4caf50}.done-icon[_ngcontent-%COMP%]{color:green}"],data:{animation:[Tc("copyIconTransition",[Hr("copy",ui({transform:"rotate(0deg)",opacity:1})),Hr("done",ui({transform:"rotate(0deg)",opacity:1})),Ws("copy => done",[ui({transform:"rotate(0deg)",opacity:0}),To("500ms ease-in",ui({opacity:1}))]),Ws("done => copy",[ui({transform:"rotate(0deg)",opacity:1}),To("500ms ease-out",ui({opacity:0}))])])]}}),n})(),AAe=(()=>{class n extends Sa{constructor(e,i,r,o,a,u,h){super(e,null,i,r),this.ngClassInstance=h,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new ys(o,a,e,u)),this.init(),this.setValue("","")}set klass(e){this.ngClassInstance.klass=e,this.setValue(e,"")}updateWithValue(e){this.ngClassInstance.ngClass=e,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Zo),s.Y36(ua),s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.Qsj),s.Y36(ys,10))},n.\u0275dir=s.lG2({type:n,inputs:{klass:["class","klass"]},features:[s.qOj]}),n})();const fAe=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let dR=(()=>{class n extends AAe{constructor(){super(...arguments),this.inputs=fAe}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[s.qOj]}),n})();class yAe{constructor(t,e,i=!0){this.key=t,this.value=e,this.key=i?t.replace(/['"]/g,"").trim():t.trim(),this.value=i?e.replace(/['"]/g,"").trim():e.trim(),this.value=this.value.replace(/;/,"")}}function Tq(n){let t=typeof n;return"object"===t?n.constructor===Array?"array":n.constructor===Set?"set":"object":t}function Fq(n){const[t,...e]=n.split(":");return new yAe(t,e.join(":"))}function Mq(n,t){return t.key&&(n[t.key]=t.value),n}let bAe=(()=>{class n extends Sa{constructor(e,i,r,o,a,u,h,f,_){super(e,null,i,r),this.sanitizer=o,this.ngStyleInstance=h,this.DIRECTIVE_KEY="ngStyle",this.ngStyleInstance||(this.ngStyleInstance=new No(e,a,u)),this.init();const C=this.nativeElement.getAttribute("style")??"";this.fallbackStyles=this.buildStyleMap(C),this.isServer=f&&Ta(_)}updateWithValue(e){const i=this.buildStyleMap(e);this.ngStyleInstance.ngStyle={...this.fallbackStyles,...i},this.isServer&&this.applyStyleToElement(i),this.ngStyleInstance.ngDoCheck()}clearStyles(){this.ngStyleInstance.ngStyle=this.fallbackStyles,this.ngStyleInstance.ngDoCheck()}buildStyleMap(e){const i=r=>this.sanitizer.sanitize(s.q3G.STYLE,r)??"";if(e)switch(Tq(e)){case"string":return kq(function vAe(n,t=";"){return String(n).trim().split(t).map(e=>e.trim()).filter(e=>""!==e)}(e),i);case"array":return kq(e,i);default:return function Bq(n,t){let e=[];return"set"===Tq(n)?n.forEach(i=>e.push(i)):Object.keys(n).forEach(i=>{e.push(`${i}:${n[i]}`)}),function wAe(n,t){return n.map(Fq).filter(i=>!!i).map(i=>(t&&(i.value=t(i.value)),i)).reduce(Mq,{})}(e,t)}(e,i)}return{}}ngDoCheck(){this.ngStyleInstance.ngDoCheck()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Zo),s.Y36(ua),s.Y36(Ol),s.Y36(s.aQg),s.Y36(s.Qsj),s.Y36(No,10),s.Y36(Gx),s.Y36(s.Lbi))},n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const CAe=["ngStyle","ngStyle.xs","ngStyle.sm","ngStyle.md","ngStyle.lg","ngStyle.xl","ngStyle.lt-sm","ngStyle.lt-md","ngStyle.lt-lg","ngStyle.lt-xl","ngStyle.gt-xs","ngStyle.gt-sm","ngStyle.gt-md","ngStyle.gt-lg"];let R2=(()=>{class n extends bAe{constructor(){super(...arguments),this.inputs=CAe}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","ngStyle",""],["","ngStyle.xs",""],["","ngStyle.sm",""],["","ngStyle.md",""],["","ngStyle.lg",""],["","ngStyle.xl",""],["","ngStyle.lt-sm",""],["","ngStyle.lt-md",""],["","ngStyle.lt-lg",""],["","ngStyle.lt-xl",""],["","ngStyle.gt-xs",""],["","ngStyle.gt-sm",""],["","ngStyle.gt-md",""],["","ngStyle.gt-lg",""]],inputs:{ngStyle:"ngStyle","ngStyle.xs":"ngStyle.xs","ngStyle.sm":"ngStyle.sm","ngStyle.md":"ngStyle.md","ngStyle.lg":"ngStyle.lg","ngStyle.xl":"ngStyle.xl","ngStyle.lt-sm":"ngStyle.lt-sm","ngStyle.lt-md":"ngStyle.lt-md","ngStyle.lt-lg":"ngStyle.lt-lg","ngStyle.lt-xl":"ngStyle.lt-xl","ngStyle.gt-xs":"ngStyle.gt-xs","ngStyle.gt-sm":"ngStyle.gt-sm","ngStyle.gt-md":"ngStyle.gt-md","ngStyle.gt-lg":"ngStyle.gt-lg"},features:[s.qOj]}),n})();function kq(n,t){return n.map(Fq).filter(i=>!!i).map(i=>(t&&(i.value=t(i.value)),i)).reduce(Mq,{})}let Rq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[P4]}),n})();function xAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",16),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return r.edit=!0,s.KtG(r.detail=!1)}),s.TgZ(1,"mat-icon"),s._uU(2,"edit"),s.qZA()()}}function EAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",17)(1,"button",18),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.likeIt())}),s.TgZ(2,"mat-icon"),s._uU(3,"thumb_up"),s.qZA()()()}}function SAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",17)(1,"button",19),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.likeIt())}),s.TgZ(2,"mat-icon"),s._uU(3,"thumb_up"),s.qZA()()()}}function IAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",11)(1,"button",12),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.deleteMacro())}),s.TgZ(2,"mat-icon"),s._uU(3,"delete_forever"),s.qZA()(),s.YNc(4,xAe,3,0,"button",13),s.TgZ(5,"button",14),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.share())}),s.TgZ(6,"mat-icon"),s._uU(7,"share"),s.qZA()(),s.YNc(8,EAe,4,0,"span",15),s.YNc(9,SAe,4,0,"span",15),s.qZA()}if(2&n){const e=s.oxw();s.xp6(4),s.Q6J("ngIf",!e.edit),s.xp6(4),s.Q6J("ngIf",e.isRegnante&&e.detail&&e.checkThumb()),s.xp6(1),s.Q6J("ngIf",e.isRegnante&&e.detail&&e.checkIfVote())}}function DAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",11)(1,"button",18),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.likeIt())}),s.TgZ(2,"mat-icon"),s._uU(3,"thumb_up"),s.qZA()(),s.TgZ(4,"button",14),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.share())}),s.TgZ(5,"mat-icon"),s._uU(6,"share"),s.qZA()()()}}function TAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",11)(1,"button",19),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.likeIt())}),s.TgZ(2,"mat-icon"),s._uU(3,"thumb_up"),s.qZA()(),s.TgZ(4,"button",14),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.share())}),s.TgZ(5,"mat-icon"),s._uU(6,"share"),s.qZA()()()}}function BAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",11)(1,"button",14),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.share())}),s.TgZ(2,"mat-icon"),s._uU(3,"share"),s.qZA()()()}}function FAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-option",30),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.editMultiInsert())}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(2);s.Q6J("value",e)("disabled",!(null!=i.macroMultiInsert&&i.macroMultiInsert.checked)),s.xp6(1),s.hij(" ",e," ")}}function MAe(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Seleziona una tipologia "),s.qZA())}function kAe(n,t){if(1&n&&(s.TgZ(0,"li")(1,"b"),s._uU(2),s.qZA(),s._uU(3),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.hij("",e.comando,":"),s.xp6(1),s.hij(" ",e.function,"")}}function RAe(n,t){if(1&n&&(s.TgZ(0,"li")(1,"b"),s._uU(2),s.qZA()()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.Oqu(e.comando)}}function OAe(n,t){if(1&n&&(s.TgZ(0,"ul"),s.YNc(1,kAe,4,2,"li",3),s.YNc(2,RAe,3,1,"li",3),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf",""!=e.function),s.xp6(1),s.Q6J("ngIf",""==e.function)}}function LAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"div",20)(2,"mat-form-field")(3,"mat-label"),s._uU(4,"Autore"),s.qZA(),s.TgZ(5,"input",21),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.macroMultiInsert.macro.macro.author=r)}),s.qZA()(),s.TgZ(6,"mat-form-field")(7,"mat-label"),s._uU(8,"Titolo"),s.qZA(),s.TgZ(9,"input",22),s.NdJ("keyup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.editMultiInsert())}),s.qZA()(),s.TgZ(10,"mat-form-field")(11,"mat-label"),s._uU(12,"Delay MacroUO"),s.qZA(),s.TgZ(13,"input",23),s.NdJ("change",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.editMultiInsert(r))}),s.qZA()(),s.TgZ(14,"textarea",24),s.NdJ("keyup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.editMultiInsert())}),s.qZA(),s.TgZ(15,"mat-form-field",25)(16,"mat-label"),s._uU(17,"Tipologia"),s.qZA(),s.TgZ(18,"mat-select",26),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.macroMultiInsert.macro.tipologia=r)}),s.YNc(19,FAe,2,3,"mat-option",27),s.qZA(),s.YNc(20,MAe,2,0,"mat-error",3),s.qZA()(),s.TgZ(21,"div",28),s.YNc(22,OAe,3,2,"ul",29),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("readonly",!0)("ngModel",e.macroMultiInsert.macro.macro.author),s.xp6(4),s.Q6J("formControl",e.macroFullForm.controls.titolo)("readonly",!(null!=e.macroMultiInsert&&e.macroMultiInsert.checked)),s.xp6(4),s.Q6J("formControl",e.macroFullForm.controls.delay)("readonly",!(null!=e.macroMultiInsert&&e.macroMultiInsert.checked)),s.xp6(1),s.Q6J("formControl",e.macroFullForm.controls.descrizione)("readonly",!(null!=e.macroMultiInsert&&e.macroMultiInsert.checked)),s.xp6(4),s.Q6J("ngModel",e.macroMultiInsert.macro.tipologia),s.xp6(1),s.Q6J("ngForOf",e.tipologieMacro),s.xp6(1),s.Q6J("ngIf",""==e.macroMultiInsert.macro.tipologia),s.xp6(2),s.Q6J("ngForOf",null==e.macroMultiInsert?null:e.macroMultiInsert.settings)}}function NAe(n,t){if(1&n&&(s.TgZ(0,"mat-option",39),s._uU(1),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(2);s.Q6J("value",e)("disabled",!i.edit&&i.detail),s.xp6(1),s.hij(" ",e," ")}}function PAe(n,t){1&n&&(s.TgZ(0,"b",40),s._uU(1,"Crea la tua macro"),s.qZA())}function UAe(n,t){1&n&&(s.TgZ(0,"mat-icon",52),s._uU(1,"remove_circle"),s.qZA())}function QAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-option",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw().index,u=s.oxw(3);return s.KtG(u.addMacroToList(o,a))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" ",e.comando," ")}}function HAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-option",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2).index,u=s.oxw(3);return s.KtG(u.addMacroToListUpdate(a,o,null))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" ",e," ")}}function VAe(n,t){if(1&n&&(s.TgZ(0,"mat-form-field",47)(1,"mat-label"),s._uU(2),s.qZA(),s.TgZ(3,"mat-select"),s.YNc(4,HAe,2,2,"mat-option",50),s.qZA()()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.Oqu(e.comando),s.xp6(2),s.Q6J("ngForOf",e.settings)}}function GAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-form-field")(1,"mat-label"),s._uU(2),s.qZA(),s.TgZ(3,"input",54),s.NdJ("keyup",function(r){s.CHM(e);const o=s.oxw().index,a=s.oxw(3);return s.KtG(a.addMacroToListUpdate(o,"",r))}),s.qZA()()}if(2&n){const e=s.oxw().$implicit;s.xp6(2),s.Oqu(e.comando)}}function jAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",20),s._UZ(1,"div",7),s.TgZ(2,"div",45)(3,"button",43),s.NdJ("click",function(){const o=s.CHM(e).index,a=s.oxw(3);return s.KtG(a.eliminaMacroEdit(o))}),s.YNc(4,UAe,2,0,"mat-icon",46),s.qZA()(),s.TgZ(5,"mat-form-field",47)(6,"mat-label",48),s._uU(7,"Macro"),s.qZA(),s.TgZ(8,"mat-select",49),s.YNc(9,QAe,2,2,"mat-option",50),s.qZA()(),s.YNc(10,VAe,5,2,"mat-form-field",51),s.YNc(11,GAe,4,1,"mat-form-field",3),s.TgZ(12,"div",7),s._UZ(13,"hr"),s.qZA()()}if(2&n){const e=t.$implicit,i=s.oxw(3);s.xp6(4),s.Q6J("ngIf",!i.detail),s.xp6(4),s.Q6J("compareWith",i.compareSettings)("ngModel",e),s.xp6(1),s.Q6J("ngForOf",i.macroSettings),s.xp6(1),s.Q6J("ngIf",e&&(null==e?null:e.settings).length>0),s.xp6(1),s.Q6J("ngIf",e&&"text"==(null==e?null:e.type))}}function zAe(n,t){1&n&&(s.TgZ(0,"mat-icon",55),s._uU(1,"add_circle"),s.qZA())}function qAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",41),s.YNc(1,jAe,14,6,"div",42),s.TgZ(2,"button",43),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.addMacro())}),s.YNc(3,zAe,2,0,"mat-icon",44),s.qZA()()}if(2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.insertMacroSettings),s.xp6(2),s.Q6J("ngIf",!e.detail)}}function KAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",56),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.saveMacro())}),s._uU(1,"Salva"),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("disabled",e.disabledButton())}}function ZAe(n,t){if(1&n&&(s.TgZ(0,"div",20)(1,"mat-form-field")(2,"mat-label"),s._uU(3,"Autore"),s.qZA(),s._UZ(4,"input",31),s.qZA(),s.TgZ(5,"mat-form-field")(6,"mat-label"),s._uU(7,"Titolo"),s.qZA(),s._UZ(8,"input",32),s.qZA(),s.TgZ(9,"mat-form-field")(10,"mat-label"),s._uU(11,"Delay MacroUO"),s.qZA(),s._UZ(12,"input",33),s.qZA(),s._UZ(13,"textarea",34),s.TgZ(14,"mat-form-field",25)(15,"mat-label"),s._uU(16,"Tipologia"),s.qZA(),s.TgZ(17,"mat-select",35),s.YNc(18,NAe,2,3,"mat-option",36),s.qZA()(),s.YNc(19,PAe,2,0,"b",37),s.YNc(20,qAe,4,2,"div",6),s._UZ(21,"div",7),s.YNc(22,KAe,2,1,"button",38),s.qZA()),2&n){const e=s.oxw();s.xp6(4),s.Q6J("readonly",!0)("formControl",e.macroFullForm.controls.author)("ngModel",e.macroFull.macro.author),s.xp6(4),s.Q6J("formControl",e.macroFullForm.controls.titolo)("readonly",!e.edit&&e.detail),s.xp6(4),s.Q6J("formControl",e.macroFullForm.controls.delay)("readonly",!e.edit&&e.detail),s.xp6(1),s.Q6J("formControl",e.macroFullForm.controls.descrizione)("readonly",!e.edit&&e.detail),s.xp6(4),s.Q6J("formControl",e.macroFullForm.controls.tipologia),s.xp6(1),s.Q6J("ngForOf",e.tipologieMacro),s.xp6(1),s.Q6J("ngIf",!e.edit&&!e.detail&&e.insert&&!e.multiInsert),s.xp6(1),s.Q6J("ngIf",!e.edit&&!e.detail&&e.insert),s.xp6(2),s.Q6J("ngIf",!e.detail&&!e.edit)}}function $Ae(n,t){1&n&&(s.TgZ(0,"b",57),s._uU(1,"Modifica la tua macro"),s.qZA())}function YAe(n,t){1&n&&(s.TgZ(0,"mat-icon",52),s._uU(1,"remove_circle"),s.qZA())}function WAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-option",59),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw().index,u=s.oxw(2);return s.KtG(u.editSettings(o,a))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(3);s.Q6J("value",e)("disabled",i.detail),s.xp6(1),s.hij(" ",e.comando," ")}}function JAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-option",59),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2).index,u=s.oxw(2);return s.KtG(u.editSubSettings(o,a))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(4);s.Q6J("value",e)("disabled",i.detail),s.xp6(1),s.hij(" ",e," ")}}function XAe(n,t){if(1&n&&(s.TgZ(0,"mat-form-field",47)(1,"mat-label",48),s._uU(2),s.qZA(),s.TgZ(3,"mat-select",49),s.YNc(4,JAe,2,3,"mat-option",58),s.qZA()()),2&n){const e=s.oxw().$implicit,i=s.oxw(2);s.xp6(2),s.Oqu(e.comando),s.xp6(1),s.Q6J("compareWith",i.compareSottoSettings)("ngModel",e.function),s.xp6(1),s.Q6J("ngForOf",e.settings)}}function efe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-form-field")(1,"mat-label"),s._uU(2),s.qZA(),s.TgZ(3,"input",60),s.NdJ("keyup",function(r){s.CHM(e);const o=s.oxw().index,a=s.oxw(2);return s.KtG(a.editSubSettings(r.target,o))}),s.qZA()()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(2);s.xp6(2),s.Oqu(e.comando),s.xp6(1),s.Q6J("ngModel",e.function)("readonly",i.detail)}}function tfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",20)(1,"div",45)(2,"button",43),s.NdJ("click",function(){const o=s.CHM(e).index,a=s.oxw(2);return s.KtG(a.eliminaMacroEdit(o))}),s.YNc(3,YAe,2,0,"mat-icon",46),s.qZA()(),s.TgZ(4,"mat-form-field",47)(5,"mat-label",48),s._uU(6,"Macro"),s.qZA(),s.TgZ(7,"mat-select",49),s.YNc(8,WAe,2,3,"mat-option",58),s.qZA()(),s.YNc(9,XAe,5,4,"mat-form-field",51),s.YNc(10,efe,4,3,"mat-form-field",3),s.TgZ(11,"div",7),s._UZ(12,"hr"),s.qZA()()}if(2&n){const e=t.$implicit,i=s.oxw(2);s.xp6(3),s.Q6J("ngIf",!i.detail),s.xp6(4),s.Q6J("compareWith",i.compareSettings)("ngModel",e),s.xp6(1),s.Q6J("ngForOf",i.macroSettings),s.xp6(1),s.Q6J("ngIf","command"==e.type&&e.settings.length>0),s.xp6(1),s.Q6J("ngIf","text"==e.type&&0==e.settings.length)}}function nfe(n,t){1&n&&(s.TgZ(0,"mat-icon",55),s._uU(1,"add_circle"),s.qZA())}function ife(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",41),s.YNc(1,tfe,13,6,"div",42),s.TgZ(2,"button",43),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.addMacro())}),s.YNc(3,nfe,2,0,"mat-icon",44),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.detailMacroSettings),s.xp6(2),s.Q6J("ngIf",!e.detail)}}function rfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",61),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.saveMacro())}),s._uU(1,"Modifica"),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("disabled",e.disabeldEditButton())}}function sfe(n,t){if(1&n&&(s.TgZ(0,"li")(1,"b"),s._uU(2),s.qZA(),s._uU(3),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.hij("",e.comando,":"),s.xp6(1),s.hij(" ",e.function,"")}}function ofe(n,t){if(1&n&&(s.TgZ(0,"li")(1,"b"),s._uU(2),s.qZA()()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.Oqu(e.comando)}}function afe(n,t){if(1&n&&(s.TgZ(0,"ul"),s.YNc(1,sfe,4,2,"li",3),s.YNc(2,ofe,3,1,"li",3),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf",""!=e.function),s.xp6(1),s.Q6J("ngIf",""==e.function)}}function lfe(n,t){if(1&n&&(s.TgZ(0,"div",28),s.YNc(1,afe,3,2,"ul",29),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.detailMacroSettings)}}const cfe=function(n){return{"border-color":n}},ufe=function(n){return{"cont panel":n}};let Oq=(()=>{class n{constructor(e,i,r,o,a,u,h){this.utils=e,this.service=i,this.data=r,this.userService=o,this.dialog=a,this.activated=u,this.router=h,this.editMacro=new s.vpe,this.multiInsert=!1,this.detail=!1,this.insert=!1,this.isUpdateable=!1,this.edit=!1,this.username="",this.macroFull=new _w,this.tipologieMacro=new Array,this.macroSettings=new Array,this.insertMacroSettings=new Array,this.detailMacroSettings=new Array,this.isRegnante=!1,this.utenteLoggato="",this.macroFullForm=new F0({author:new us(""),titolo:new us(""),tipologia:new us(""),settings:new us(""),descrizione:new us(""),delay:new us("0",Ia.minLength(0))}),r&&(-1!=r.id&&(this.detail=!0),1==r.insert&&(this.insert=r.insert))}ngOnInit(){this.inizializza(),this.removeLink()}removeLink(){this.activated.snapshot.queryParamMap.get("link")&&this.router.navigate([],{queryParams:{link:null},queryParamsHandling:"merge"})}ngOnChanges(e){this.macroMultiInsert&&this.setMultiInsert()}setMultiInsert(){var e,i,r,o,a,u;this.multiInsert=!0,null===(e=this.macroFullForm.get("titolo"))||void 0===e||e.setValue(this.macroMultiInsert.macro.macro.title),null===(i=this.macroFullForm.get("descrizione"))||void 0===i||i.setValue(this.macroMultiInsert.macro.descrizione),null===(r=this.macroFullForm.get("delay"))||void 0===r||r.setValue(this.macroMultiInsert.macro.macro.delay.toString()),""==(null===(o=this.macroFullForm.get("tipologia"))||void 0===o?void 0:o.value)&&(null===(a=this.macroFullForm.get("tipologia"))||void 0===a||a.setValue("")),this.edit=1==(null===(u=this.macroMultiInsert)||void 0===u?void 0:u.checked)}editMultiInsert(e=null){var i,r;const o=null===(i=this.macroFullForm.get("descrizione"))||void 0===i?void 0:i.value;o&&(this.macroMultiInsert.macro.descrizione=o);const a=null===(r=this.macroFullForm.get("titolo"))||void 0===r?void 0:r.value;null!=a&&(this.macroMultiInsert.macro.macro.title=a),e&&null!=e.target.value&&(this.macroMultiInsert.macro.macro.delay=Number(e.target.value)),this.editMacro.emit(this.macroMultiInsert)}inizializza(){this.tipologieMacro=this.service.GetTipologieMacro(),this.macroMultiInsert||(this.getMacroSettings(),this.getMacro(),this.insert&&this.checkUser())}getMacro(){const e=this.service.getMacro(this.data.id).subscribe(i=>{var r;if(null!==(r=i[0])&&void 0!==r&&r.macro.author){e.unsubscribe();const o=this.service.getMacroSettingsUser(this.data.id).subscribe(a=>{a.length>0&&(this.setAllValue(i[0],a),o.unsubscribe())})}})}setAllValue(e,i){var r,o,a,u;this.macroFull.macro.author=e.macro.author,this.macroFull.macro.date=e.macro.date,this.macroFull.macro.like=e.macro.like,this.macroFull.macro.guid=e.macro.guid,this.macroFull.macro.utenti=e.macro.utenti,null===(r=this.macroFullForm.get("titolo"))||void 0===r||r.setValue(e.macro.title),null===(o=this.macroFullForm.get("descrizione"))||void 0===o||o.setValue(e.descrizione),null===(a=this.macroFullForm.get("tipologia"))||void 0===a||a.setValue(e.tipologia),null===(u=this.macroFullForm.get("delay"))||void 0===u||u.setValue(e.macro.delay.toString()),this.detailMacroSettings=i.sort(function(h,f){return h.index>f.index?1:-1}),this.checkUser()}compareSettings(e,i){return e.comando===i.comando}compareSottoSettings(e,i){return e==i}getSubSettings(e){return document.getElementById("targetRed").scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"}),this.macroSettings.filter(i=>i.comando==e)[0].settings}checkUser(){var e,i;const r=this.userService.userLoggato;r&&(this.utenteLoggato=r.username,(r.username===this.macroFull.macro.author||(null===(e=r.ruoli)||void 0===e?void 0:e.includes("Regnante")))&&(this.isUpdateable=!0),this.insert&&null!=this.utenteLoggato&&(this.macroFull.macro.author=this.utenteLoggato),this.macroFull.macro.author!=r.username&&(null===(i=r.ruoli)||void 0===i?void 0:i.includes("Regnante"))&&(this.isRegnante=!0))}getMacroSettings(){this.service.getMacroSettings().subscribe(e=>this.macroSettings=e)}addMacro(){this.insert&&this.insertMacroSettings.push(new vw),this.edit&&this.detailMacroSettings.push(new vw),document.getElementById("targetRed").scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}eliminaMacroEdit(e){e>-1&&this.edit&&this.detailMacroSettings.splice(e,1),e>-1&&this.insert&&this.insertMacroSettings.splice(e,1)}editSettings(e,i){var r;null==(null===(r=this.detailMacroSettings[i])||void 0===r?void 0:r.comando)&&(this.detailMacroSettings[i]=new vw),this.detailMacroSettings[i].comando=e.comando,this.detailMacroSettings[i].type=e.type,this.detailMacroSettings[i].settings=e.settings,this.detailMacroSettings[i].function=""}editSubSettings(e,i){this.detailMacroSettings[i].function="string"==typeof e?e:e.value,document.getElementById("targetRed").scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}addMacroToList(e,i){var r;null==(null===(r=this.insertMacroSettings[i])||void 0===r?void 0:r.comando)&&(this.insertMacroSettings[i]=new vw),this.insertMacroSettings[i].comando=e.comando,this.insertMacroSettings[i].settings=e.settings,this.insertMacroSettings[i].type=e.type}addMacroToListUpdate(e,i="",r){""!=i&&(this.insertMacroSettings[e].function=i),r&&(this.insertMacroSettings[e].function=r.target.value)}disabledButton(){var e,i,r,o;return""==this.macroFull.macro.author||null==this.insertMacroSettings[0]||""==(null===(e=this.insertMacroSettings[0])||void 0===e?void 0:e.comando)||""==(null===(i=this.macroFullForm.get("delay"))||void 0===i?void 0:i.value)||""==(null===(r=this.macroFullForm.get("tipologia"))||void 0===r?void 0:r.value)||""==(null===(o=this.macroFullForm.get("titolo"))||void 0===o?void 0:o.value)}disabeldEditButton(){var e,i,r,o;return""==this.macroFull.macro.author||null==this.detailMacroSettings[0]||""==(null===(e=this.detailMacroSettings[0])||void 0===e?void 0:e.comando)||""==(null===(i=this.macroFullForm.get("delay"))||void 0===i?void 0:i.value)||""==(null===(r=this.macroFullForm.get("tipologia"))||void 0===r?void 0:r.value)||""==(null===(o=this.macroFullForm.get("titolo"))||void 0===o?void 0:o.value)}saveMacro(){var e,i;if(!this.disabledButton()||this.edit&&!this.disabeldEditButton()){let r=new CC;r.macro.author=this.macroFull.macro.author;const o=this.macroFullForm.get("titolo").value;o&&(r.macro.title=o);const a=this.macroFullForm.get("descrizione").value;a&&(r.descrizione=a);const u=null===(e=this.macroFullForm.get("tipologia"))||void 0===e?void 0:e.value;u&&(r.macro.tipologia=u);const h=null===(i=this.macroFullForm.get("delay"))||void 0===i?void 0:i.value;h&&(r.macro.delay=Number(h)),this.insert&&(r.settings=this.orderMacro(this.insertMacroSettings),r.macro.date=new Date,r.macro.like=0,r.macro.guid=crypto.randomUUID(),this.service.addMacros(r)),this.edit&&(r.settings=this.orderMacro(this.detailMacroSettings),r.macro.date=this.macroFull.macro.date,r.macro.like=this.macroFull.macro.like,r.macro.guid=this.macroFull.macro.guid,this.service.updateMacro(r)),this.dialog.closeAll()}}orderMacro(e){for(let i=0;i<e.length;i++)e[i].index=i;return e}deleteMacro(){confirm("Sei sicuro di voler cancellare la macro?")&&(this.service.deleteMacro(this.macroFull.macro.guid),this.dialog.closeAll())}checkThumb(){return this.detail&&!this.macroFull.macro.utenti.includes(this.utenteLoggato)&&""!=this.utenteLoggato}checkIfVote(){return this.macroFull.macro.utenti.includes(this.utenteLoggato)}likeIt(){const e=this.service.addLikeMacro(this.macroFull.macro.guid,this.utenteLoggato).subscribe(i=>{i&&(this.getMacro(),e.unsubscribe())})}share(){const e=this.macroFull.macro,i=window.location.href,r=new URLSearchParams;r.set("link",e.guid);const o=`${i}?${r.toString()}`;this.dialog.open(aAe,{width:"500px",data:{link:o}})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wf),s.Y36(wM),s.Y36(Vm),s.Y36(fh),s.Y36(by),s.Y36(Lu),s.Y36(ls))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-macro-insert-edit"]],inputs:{macroMultiInsert:"macroMultiInsert"},outputs:{editMacro:"editMacro"},features:[s.TTD],decls:15,vars:16,consts:[["fxLayout","column","fxLayoutAlign","space-around stretch"],[1,"cont",3,"ngStyle","ngClass"],["class","edit",4,"ngIf"],[4,"ngIf"],["fxLayout","column",4,"ngIf"],["style","width:100%;text-align: center; ",4,"ngIf"],["class","customTextArea",4,"ngIf"],[2,"padding-top","2vh"],["mat-raised-button","","color","accent","style","width:100%",3,"disabled","click",4,"ngIf"],["class","customTextArea","style","text-align: left;",4,"ngIf"],["id","targetRed",2,"padding-top","1vh","width","100%"],[1,"edit"],["mat-mini-fab","","matTooltip","Elimina","color","warn",2,"margin-right","1vw",3,"click"],["mat-mini-fab","","matTooltip","Modifica",3,"click",4,"ngIf"],["mat-mini-fab","","matTooltip","Condividi","color","primary",2,"margin-left","1vw",3,"click"],["class","edit","style","margin-right:1vw;",4,"ngIf"],["mat-mini-fab","","matTooltip","Modifica",3,"click"],[1,"edit",2,"margin-right","1vw"],["mat-mini-fab","","matTooltip","Mi piace","color","primary",3,"click"],["mat-mini-fab","","matTooltip","Non mi piace",2,"background-color","grey",3,"click"],["fxLayout","column"],["matInput","",3,"readonly","ngModel","ngModelChange"],["matInput","",3,"formControl","readonly","keyup"],["matInput","","type","number","minlength","0","min","0",3,"formControl","readonly","change"],["appTextareaAutosize","","placeholder","Descrizione...",1,"text-inputSmart",3,"formControl","readonly","keyup"],["appearance","fill",2,"padding-top","2vh"],[3,"ngModel","ngModelChange"],[3,"value","disabled","click",4,"ngFor","ngForOf"],[1,"customTextArea",2,"text-align","left"],[4,"ngFor","ngForOf"],[3,"value","disabled","click"],["matInput","",3,"readonly","formControl","ngModel"],["matInput","",3,"formControl","readonly"],["matInput","","type","number","minlength","0","min","0",3,"formControl","readonly"],["appTextareaAutosize","","placeholder","Descrizione...",1,"text-inputSmart",3,"formControl","readonly"],[3,"formControl"],[3,"value","disabled",4,"ngFor","ngForOf"],["style","text-align: center;",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],[3,"value","disabled"],[2,"text-align","center"],[1,"customTextArea"],["fxLayout","column",4,"ngFor","ngForOf"],["mat-icon-button","",3,"click"],["matTooltip","Aggiungi una nuova macro","class","Custom",4,"ngIf"],[1,"delete"],["matTooltip","Elimina Macro",4,"ngIf"],["appearance","fill"],[1,"label"],[3,"compareWith","ngModel"],["fxFlex","",3,"value","click",4,"ngFor","ngForOf"],["appearance","fill",4,"ngIf"],["matTooltip","Elimina Macro"],["fxFlex","",3,"value","click"],["matInput","","type","text",3,"keyup"],["matTooltip","Aggiungi una nuova macro",1,"Custom"],["mat-raised-button","","color","primary",3,"disabled","click"],[2,"width","100%","text-align","center"],["fxFlex","",3,"value","disabled","click",4,"ngFor","ngForOf"],["fxFlex","",3,"value","disabled","click"],["matInput","","type","text",3,"ngModel","readonly","keyup"],["mat-raised-button","","color","accent",2,"width","100%",3,"disabled","click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"mat-card",1),s.YNc(2,IAe,10,3,"div",2),s.YNc(3,DAe,7,0,"div",2),s.YNc(4,TAe,7,0,"div",2),s.YNc(5,BAe,4,0,"div",2),s.TgZ(6,"mat-card-content"),s.YNc(7,LAe,23,12,"div",3),s.YNc(8,ZAe,23,14,"div",4),s.YNc(9,$Ae,2,0,"b",5),s.YNc(10,ife,4,2,"div",6),s._UZ(11,"div",7),s.YNc(12,rfe,2,1,"button",8),s.YNc(13,lfe,2,1,"div",9),s.qZA()()(),s._UZ(14,"div",10)),2&e&&(s.xp6(1),s.Q6J("ngStyle",s.VKq(12,cfe,i.macroMultiInsert&&!i.macroMultiInsert.checked?"grey":""))("ngClass",s.VKq(14,ufe,i.multiInsert)),s.xp6(1),s.Q6J("ngIf",i.isUpdateable&&i.detail),s.xp6(1),s.Q6J("ngIf",!i.isUpdateable&&i.detail&&i.checkThumb()),s.xp6(1),s.Q6J("ngIf",!i.isUpdateable&&i.detail&&i.checkIfVote()),s.xp6(1),s.Q6J("ngIf",!i.utenteLoggato&&i.detail&&!i.multiInsert),s.xp6(2),s.Q6J("ngIf",i.multiInsert),s.xp6(1),s.Q6J("ngIf",!i.multiInsert),s.xp6(1),s.Q6J("ngIf",i.edit&&!i.detail&&!i.insert&&!i.multiInsert),s.xp6(1),s.Q6J("ngIf",i.edit&&!i.detail&&!i.insert),s.xp6(2),s.Q6J("ngIf",i.edit&&!i.multiInsert),s.xp6(1),s.Q6J("ngIf",i.detail&&!i.edit&&!i.insert&&!i.multiInsert))},dependencies:[ys,As,Li,No,Dy,E2,B0,d3,c3,S2,Jp,Fd,au,mh,Gl,dR,R2,Ey,Kb,iq,$b,M0,$x,Mb,Yb,Iy,y2],styles:[".cont[_ngcontent-%COMP%]{border:2px solid #004a9f;border-radius:5px}.panel[_ngcontent-%COMP%]{height:45vh;overflow-y:auto}.text-inputSmart[_ngcontent-%COMP%]{resize:none;height:80px}.customTextArea[_ngcontent-%COMP%]{border:1px solid black;width:100%;text-align:center}.Custom[_ngcontent-%COMP%]{color:#004a9f}.miniSelect[_ngcontent-%COMP%]{width:10px}hr[_ngcontent-%COMP%]{border:2px solid #004a9f}.edit[_ngcontent-%COMP%]{text-align:right;width:100%;height:5vh}.delete[_ngcontent-%COMP%]{text-align:right;width:100%;color:red}"]}),n})(),dfe=(()=>{class n{constructor(e,i,r,o){this.data=e,this.userService=i,this.service=r,this.dialog=o,this.macros=new Array,this.macro=new dS,this.index=0,this.checkAll=!0,null!=e.macros&&(this.macros=e.macros)}ngOnInit(){this.macro=this.macros[0],this.checkUser()}changeScheda(e){"right"==e&&this.index<this.macros.length-1?this.index++:"left"==e&&this.index>0&&this.index--,this.macro=this.macros[this.index]}resetMacro(){this.macro.checked||(this.macro.macro.tipologia=""),this.checkAllMacro(),this.checkedMacros()}checkUser(){const e=this.userService.userLoggato;e?this.macros.forEach(i=>i.macro.macro.author=e.username):this.userService.openSnackBar("registrazioneFallita","bottom","center","Effettua prima la login")}setMacro(e){this.macro=e,this.checkAllMacro()}saveAll(){this.checkAllMacro()||this.macros.filter(i=>1==i.checked).forEach(i=>{let r=new CC;r.descrizione=i.macro.descrizione,r.macro.author=i.macro.macro.author,r.macro.delay=i.macro.macro.delay,r.macro.tipologia=i.macro.tipologia,r.macro.title=i.macro.macro.title,r.macro.date=new Date,r.macro.like=0,r.macro.guid=crypto.randomUUID(),r.settings=this.orderMacro(i.settings),this.service.addMacros(r)}),this.dialog.closeAll()}orderMacro(e){for(let i=0;i<e.length;i++)e[i].index=i;return e}checkAllMacro(){let e=!1,i=!1;return this.macros.forEach(r=>{r.checked&&(e=""==r.macro.macro.author||null==r.settings[0]||r.macro.macro.delay<0||""==r.macro.tipologia||0==r.macro.macro.title.length,e&&(i=e))}),0==this.macros.filter(r=>1==r.checked).length&&(i=!0),i}checkedMacros(){return this.macros.filter(e=>1==e.checked).length==this.macros.length?(this.checkAll=!0,"primary"):0!==this.macros.filter(e=>1==e.checked).length?(this.checkAll=!0,"accent"):0==this.macros.filter(e=>1==e.checked).length?"warn":null}setAllChecked(e){e?(this.checkAll=!0,this.macros.forEach(i=>i.checked=!0)):(this.checkAll=!1,this.macros.forEach(i=>i.checked=!1))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Vm),s.Y36(fh),s.Y36(wM),s.Y36(by))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-macro-multi-insert"]],decls:27,vars:8,consts:[[3,"color","ngModel","ngModelChange","change"],["fxLayout","row","fxLayoutAlign","space-around center",1,"skipScheda"],["color","primary",3,"ngModel","ngModelChange","change"],["fxFlex",""],["mat-icon-button","",3,"click"],[2,"color","black"],[1,"panel",3,"multiInsert","macroMultiInsert","editMacro"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,i){1&e&&(s.TgZ(0,"section")(1,"mat-checkbox",0),s.NdJ("ngModelChange",function(o){return i.checkAll=o})("change",function(o){return i.setAllChecked(o.checked)}),s.TgZ(2,"b"),s._uU(3,"Seleziona tutto"),s.qZA()()(),s.TgZ(4,"div",1)(5,"section")(6,"mat-checkbox",2),s.NdJ("ngModelChange",function(o){return i.macro.checked=o})("change",function(){return i.resetMacro()}),s.TgZ(7,"b"),s._uU(8,"Inserisci Macro"),s.qZA()()(),s.TgZ(9,"div",3)(10,"button",4),s.NdJ("click",function(){return i.changeScheda("left")}),s.TgZ(11,"mat-icon"),s._uU(12,"keyboard_arrow_left"),s.qZA()(),s.TgZ(13,"b",5),s._uU(14),s.qZA(),s.TgZ(15,"button",4),s.NdJ("click",function(){return i.changeScheda("right")}),s.TgZ(16,"mat-icon"),s._uU(17,"keyboard_arrow_right"),s.qZA()()()(),s.TgZ(18,"app-macro-insert-edit",6),s.NdJ("editMacro",function(o){return i.setMacro(o)}),s.qZA(),s.TgZ(19,"div",7)(20,"h6"),s._uU(21,'*Per salvare le macro selezionate ricorda di valorizzare il campo "tipologia" '),s._UZ(22,"br"),s._uU(23,"\n*Per rendere la tua macro facilmente ricercabile dalle un titolo semplice, esplicativo e breve"),s.qZA(),s.TgZ(24,"div")(25,"button",8),s.NdJ("click",function(){return i.saveAll()}),s._uU(26,"Salva"),s.qZA()()()),2&e&&(s.xp6(1),s.Q6J("color",i.checkedMacros())("ngModel",i.checkAll),s.xp6(5),s.Q6J("ngModel",i.macro.checked),s.xp6(8),s.AsE("",i.index+1,"/",i.macros.length,""),s.xp6(4),s.Q6J("multiInsert",!0)("macroMultiInsert",i.macro),s.xp6(7),s.Q6J("disabled",i.checkAllMacro()))},dependencies:[B0,Jp,Fd,au,mh,Gl,Kb,T2,Oq],styles:[".skipScheda[_ngcontent-%COMP%]{width:100%;text-align:right;color:#004a9f}"]}),n})();function hfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-option",31),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.applyFilter(o,"tipologia"))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" ",e," ")}}function Afe(n,t){1&n&&(s.TgZ(0,"mat-header-cell"),s._uU(1," Data "),s.qZA())}function ffe(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.ALo(2,"date"),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",s.xi3(2,1,e.date,"dd.MM.y")," ")}}function pfe(n,t){1&n&&(s.TgZ(0,"mat-header-cell",32),s._uU(1," Autore "),s.qZA())}function gfe(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.author," ")}}function mfe(n,t){1&n&&(s.TgZ(0,"mat-header-cell",33),s._uU(1," Titolo "),s.qZA())}function _fe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-cell")(1,"div",34),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.detailMacro(o.guid))}),s._uU(2),s.qZA()()}if(2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.title)}}function yfe(n,t){1&n&&(s.TgZ(0,"mat-header-cell",35),s._uU(1," Like "),s.qZA())}function vfe(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.like," ")}}function wfe(n,t){1&n&&(s.TgZ(0,"mat-header-cell",36),s._uU(1,"Tipologia "),s.qZA())}function bfe(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.tipologia," ")}}function Cfe(n,t){1&n&&s._UZ(0,"mat-header-cell")}function xfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",39),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(2);return s.KtG(o.likeIt(r.guid))}),s.TgZ(1,"mat-icon",40),s._uU(2,"thumb_up"),s.qZA()()}}function Efe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",41),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(2);return s.KtG(o.likeIt(r.guid))}),s.TgZ(1,"mat-icon",42),s._uU(2,"thumb_up"),s.qZA()()}}function Sfe(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s.YNc(1,xfe,3,0,"button",37),s.YNc(2,Efe,3,0,"button",38),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(2);s.xp6(1),s.Q6J("ngIf",i.checkThumb(e)),s.xp6(1),s.Q6J("ngIf",i.checkIfVote(e))}}function Ife(n,t){1&n&&s._UZ(0,"mat-header-row")}function Dfe(n,t){1&n&&s._UZ(0,"mat-header-row")}const Lq=function(){return[5,10]};function Tfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"mat-form-field",4)(4,"mat-label"),s._uU(5,"Autore"),s.qZA(),s.TgZ(6,"input",5),s.NdJ("keyup",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.applyFilter(r.target,"author"))}),s.qZA()(),s.TgZ(7,"mat-form-field",4)(8,"mat-label"),s._uU(9,"Titolo"),s.qZA(),s.TgZ(10,"input",5),s.NdJ("keyup",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.applyFilter(r.target,"macro"))}),s.qZA()(),s.TgZ(11,"mat-form-field",6)(12,"mat-label"),s._uU(13,"Tipologia"),s.qZA(),s.TgZ(14,"mat-select",7),s.YNc(15,hfe,2,2,"mat-option",8),s.qZA()()(),s.TgZ(16,"mat-table",9),s.NdJ("matSortChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.sortData(r))}),s.ynx(17,10),s.YNc(18,Afe,2,0,"mat-header-cell",11),s.YNc(19,ffe,3,4,"mat-cell",12),s.BQk(),s.ynx(20,13),s.YNc(21,pfe,2,0,"mat-header-cell",14),s.YNc(22,gfe,2,1,"mat-cell",12),s.BQk(),s.ynx(23,15),s.YNc(24,mfe,2,0,"mat-header-cell",16),s.YNc(25,_fe,3,1,"mat-cell",12),s.BQk(),s.ynx(26,17),s.YNc(27,yfe,2,0,"mat-header-cell",18),s.YNc(28,vfe,2,1,"mat-cell",12),s.BQk(),s.ynx(29,19),s.YNc(30,wfe,2,0,"mat-header-cell",20),s.YNc(31,bfe,2,1,"mat-cell",12),s.BQk(),s.ynx(32,21),s.YNc(33,Cfe,1,0,"mat-header-cell",11),s.YNc(34,Sfe,3,2,"mat-cell",12),s.BQk(),s.YNc(35,Ife,1,0,"mat-header-row",22),s.YNc(36,Dfe,1,0,"mat-header-row",23),s.qZA(),s.TgZ(37,"mat-toolbar",24)(38,"mat-toolbar-row")(39,"button",25),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.insertMacro())}),s.TgZ(40,"mat-icon",26),s._uU(41,"add_circle"),s.qZA()(),s.TgZ(42,"button",25),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.fileInput())}),s.TgZ(43,"mat-icon",27),s._uU(44,"add_to_photos"),s.qZA()(),s.TgZ(45,"input",28),s.NdJ("change",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.openMultiInsert(r))}),s.qZA(),s.TgZ(46,"div",29),s._UZ(47,"mat-paginator",30),s.qZA()()()()()}if(2&n){const e=s.oxw();s.xp6(6),s.Q6J("formControl",e.macroFullForm.controls.author),s.xp6(4),s.Q6J("formControl",e.macroFullForm.controls.macro),s.xp6(4),s.Q6J("formControl",e.macroFullForm.controls.tipologia),s.xp6(1),s.Q6J("ngForOf",e.tipologieMacro),s.xp6(1),s.Q6J("dataSource",e.dataSource),s.xp6(19),s.Q6J("matHeaderRowDef",e.displayedColumns),s.xp6(1),s.Q6J("matRowDefColumns",e.displayedColumns),s.xp6(11),s.Q6J("pageSizeOptions",s.DdM(8,Lq))}}function Bfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-option",31),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.applyFilter(o,"tipologia"))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" ",e," ")}}function Ffe(n,t){1&n&&(s.TgZ(0,"mat-header-cell"),s._uU(1," Data "),s.qZA())}function Mfe(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.ALo(2,"date"),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",s.xi3(2,1,e.date,"dd.MM.y")," ")}}function kfe(n,t){1&n&&(s.TgZ(0,"mat-header-cell",32),s._uU(1," Autore "),s.qZA())}function Rfe(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.author," ")}}function Ofe(n,t){1&n&&(s.TgZ(0,"mat-header-cell",33),s._uU(1," Titolo "),s.qZA())}function Lfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-cell")(1,"div",34),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.detailMacro(o.guid))}),s._uU(2),s.qZA()()}if(2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.title)}}function Nfe(n,t){1&n&&(s.TgZ(0,"mat-header-cell",35)(1,"mat-icon",40),s._uU(2,"thumb_up"),s.qZA()())}function Pfe(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.like," ")}}function Ufe(n,t){1&n&&(s.TgZ(0,"mat-header-cell",36),s._uU(1,"Tipo "),s.qZA())}function Qfe(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.tipologia," ")}}function Hfe(n,t){1&n&&s._UZ(0,"mat-header-row")}function Vfe(n,t){1&n&&s._UZ(0,"mat-header-row")}function Gfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1)(1,"div",43)(2,"div",3)(3,"mat-form-field",4)(4,"mat-label"),s._uU(5,"Autore"),s.qZA(),s.TgZ(6,"input",5),s.NdJ("keyup",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.applyFilter(r.target,"author"))}),s.qZA()(),s.TgZ(7,"mat-form-field",4)(8,"mat-label"),s._uU(9,"Macro"),s.qZA(),s.TgZ(10,"input",5),s.NdJ("keyup",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.applyFilter(r.target,"macro"))}),s.qZA()(),s.TgZ(11,"mat-form-field",6)(12,"mat-label"),s._uU(13,"Tipologia"),s.qZA(),s.TgZ(14,"mat-select",7),s.YNc(15,Bfe,2,2,"mat-option",8),s.qZA()()(),s.TgZ(16,"mat-table",9),s.NdJ("matSortChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.sortData(r))}),s.ynx(17,10),s.YNc(18,Ffe,2,0,"mat-header-cell",11),s.YNc(19,Mfe,3,4,"mat-cell",12),s.BQk(),s.ynx(20,13),s.YNc(21,kfe,2,0,"mat-header-cell",14),s.YNc(22,Rfe,2,1,"mat-cell",12),s.BQk(),s.ynx(23,15),s.YNc(24,Ofe,2,0,"mat-header-cell",16),s.YNc(25,Lfe,3,1,"mat-cell",12),s.BQk(),s.ynx(26,17),s.YNc(27,Nfe,3,0,"mat-header-cell",18),s.YNc(28,Pfe,2,1,"mat-cell",12),s.BQk(),s.ynx(29,19),s.YNc(30,Ufe,2,0,"mat-header-cell",20),s.YNc(31,Qfe,2,1,"mat-cell",12),s.BQk(),s.YNc(32,Hfe,1,0,"mat-header-row",22),s.YNc(33,Vfe,1,0,"mat-header-row",23),s.qZA(),s.TgZ(34,"mat-toolbar",24)(35,"mat-toolbar-row")(36,"button",25),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.insertMacro())}),s.TgZ(37,"mat-icon",26),s._uU(38,"add_circle"),s.qZA()(),s.TgZ(39,"div",29),s._UZ(40,"mat-paginator",30),s.qZA()()()()()}if(2&n){const e=s.oxw();s.xp6(6),s.Q6J("formControl",e.macroFullForm.controls.author),s.xp6(4),s.Q6J("formControl",e.macroFullForm.controls.macro),s.xp6(4),s.Q6J("formControl",e.macroFullForm.controls.tipologia),s.xp6(1),s.Q6J("ngForOf",e.tipologieMacro),s.xp6(1),s.Q6J("dataSource",e.dataSource),s.xp6(16),s.Q6J("matHeaderRowDef",e.getDisplayedColumns()),s.xp6(1),s.Q6J("matRowDefColumns",e.getDisplayedColumns()),s.xp6(7),s.Q6J("pageSizeOptions",s.DdM(8,Lq))}}let jfe=(()=>{class n{constructor(e,i,r,o,a){this.utils=e,this.service=i,this.dialog=r,this.userService=o,this.activated=a,this.macroFullForm=new F0({author:new us(""),macro:new us(""),tipologia:new us("")}),this.user="",this.filtroData="",this.displayedColumns=["autore","data","like","tipologia","title","likeIt"],this.dataSource=new D3,this.sortedData=new Array,this.tipologieMacro=new Array,this.isLoggedIn=!1}ngOnInit(){var e;this.getMacros(),this.userService.isLoggedInObs.subscribe(i=>{this.isLoggedIn=i,this.checkUser(),this.getLink()}),this.tipologieMacro=this.service.GetTipologieMacro().slice(),this.tipologieMacro.push("Tutte"),null===(e=this.macroFullForm.get("tipologia"))||void 0===e||e.setValue("Tutte")}getLink(){const e=this.activated.snapshot.queryParamMap.get("link");e&&this.detailMacro(e)}getMacros(){this.service.getMacros().subscribe(e=>{this.dataSource=new D3(e),this.sortedData=this.dataSource.data.slice(),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(e,i){if("tipologia"!=i){let r=e.value.trim().toLowerCase();this.dataSource.filter=r}else this.dataSource.data="Tutte"!=e?this.sortedData.filter(r=>r.tipologia.includes(e)):this.sortedData}sortData(e){const i=this.dataSource.data.slice();e.active&&""!==e.direction?(this.sortedData=i.sort((r,o)=>{const a="asc"===e.direction;switch(e.active){case"author":return this.compare(r.author,o.author,a);case"like":return this.compare(r.like,o.like,a);case"title":return this.compare(r.title,o.title,a);case"tiplogia":return this.compare(r.tipologia,o.tipologia,a);default:return 0}}),this.dataSource.data=this.sortedData):this.sortedData=i}compare(e,i,r){return(e<i?-1:1)*(r?1:-1)}getDisplayedColumns(){return this.displayedColumns=["autore","tipologia","title","like"]}detailMacro(e){this.dialogInsertEdit(e,!1)}insertMacro(){this.user?this.dialogInsertEdit(-1,!0).afterClosed().subscribe(i=>{this.getMacros()}):this.userService.openSnackBar("registrazioneFallita","bottom","center","Effettua prima la login")}dialogInsertEdit(e=-1,i=!1){return this.dialog.open(Oq,{data:{id:e,insert:i},width:this.utils.isSmartphone()?"100vw":"50vw",height:this.utils.isSmartphone()?"90vh":"70vh"})}checkUser(){const e=this.userService.userLoggato;e&&(this.user=e.username)}checkThumb(e){return this.isLoggedIn&&""!=this.user&&this.user!=e.author&&!e.utenti.includes(this.user)}checkIfVote(e){return e.utenti.includes(this.user)&&this.isLoggedIn}likeIt(e){this.service.addLikeMacro(e,this.user)}fileInput(){var e;""!=this.user&&null!=this.user?null===(e=document.getElementById("fileInput"))||void 0===e||e.click():this.userService.openSnackBar("registrazioneFallita","bottom","center","Effettua prima la login")}openMultiInsert(e){var i=this;return(0,bt.Z)(function*(){var r=e.target.files[0];if("macros.xml"!=r.name)return void alert("Inserisci il file macros.xml! (The Miracle/Data/Profiles/nomeAccount/The Miracle 3/nomePg/macros.xml)");const a=i.utils.getAllMacrosByXml(yield r.text()).subscribe(u=>{u.length>0?(i.dialog.open(dfe,{data:{macros:u},width:i.utils.isSmartphone()?"100vw":"45vw",height:i.utils.isSmartphone()?"90vh":"74vh"}),a.unsubscribe()):alert("Nessuna macro presente nel file macros.xml!")});e.target.value=null})()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wf),s.Y36(wM),s.Y36(by),s.Y36(fh),s.Y36(Lu))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-macro-list"]],viewQuery:function(e,i){if(1&e&&(s.Gf(B2,5),s.Gf(F2,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.paginator=r.first),s.iGM(r=s.CRH())&&(i.sort=r.first)}},decls:2,vars:2,consts:[["fxFlex","100","fxLayout","row","fxLayoutAlign","center center",4,"ngIf"],["fxFlex","100","fxLayout","row","fxLayoutAlign","center center"],["fxFlex","","fxLayout","column","fxLayoutAlign","space-around stretch","fxFlex","70",2,"padding-top","3vh"],["fxFlex","100","fxLayout","row wrap","fxLayoutAlign","space-around center",1,"input"],["fxFlex","30"],["matInput","",3,"formControl","keyup"],["appearance","fill","fxFlex","30"],[3,"formControl"],[3,"value","click",4,"ngFor","ngForOf"],["fxFlex","100","fxLayout","column","matSort","",1,"table",3,"dataSource","matSortChange"],["matColumnDef","data"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","autore"],["mat-sort-header","author","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","title"],["mat-sort-header","title","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","like"],["mat-sort-header","like","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","tipologia"],["mat-sort-header","tipologia","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","likeIt"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[2,"background-color","white"],["mat-icon-button","",3,"click"],["matTooltip","Aggiungi una nuova macro",1,"Custom"],["matTooltip","Importa file macros.xml",1,"Custom"],["type","file","hidden","","type","file","id","fileInput","accept",".xml",3,"change"],[2,"width","100%","padding","0"],["showFirstLastButtons","",1,"paginator",3,"pageSizeOptions"],[3,"value","click"],["mat-sort-header","author","mat-header-cell",""],["mat-sort-header","title","mat-header-cell",""],[1,"macro",3,"click"],["mat-sort-header","like","mat-header-cell",""],["mat-sort-header","tipologia","mat-header-cell",""],["mat-button","","matTooltip","Mi piace",3,"click",4,"ngIf"],["mat-button","","matTooltip","Non mi piace",3,"click",4,"ngIf"],["mat-button","","matTooltip","Mi piace",3,"click"],[1,"Custom"],["mat-button","","matTooltip","Non mi piace",3,"click"],[2,"color","grey"],["fxFlex","","fxLayout","column","fxLayoutAlign","space-around stretch","fxFlex","100",2,"padding-top","3vh"]],template:function(e,i){1&e&&(s.YNc(0,Tfe,48,9,"div",0),s.YNc(1,Gfe,41,9,"div",0)),2&e&&(s.Q6J("ngIf",!i.utils.isSmartphone()),s.xp6(1),s.Q6J("ngIf",i.utils.isSmartphone()))},dependencies:[As,Li,Dy,B0,S2,Az,R4,Jp,Fd,au,mh,Gl,Ey,$b,M0,$x,Mb,Yb,B2,F2,bq,x3,aR,E3,lR,oR,S3,cR,uR,I3,Dh],styles:[".macro[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;cursor:pointer;font-weight:700;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical}.macro[_ngcontent-%COMP%]:hover{color:#004a9f;font-weight:700}.Custom[_ngcontent-%COMP%]{color:#004a9f}mat-header-cell[_ngcontent-%COMP%]{color:#004a9f;font-weight:700}"]}),n})(),zfe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-macro"]],decls:2,vars:0,consts:[["fxFlex",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"app-macro-list",0),s.qZA())},dependencies:[Gl,jfe]}),n})();const qfe=["primaryValueBar"],Kfe=f0(class{constructor(n){this._elementRef=n}},"primary"),Zfe=new s.OlP("mat-progress-bar-location",{providedIn:"root",factory:function $fe(){const n=(0,s.f3M)(Ke),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),Yfe=new s.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let Wfe=0,Nq=(()=>{class n extends Kfe{constructor(e,i,r,o,a,u){super(e),this._ngZone=i,this._animationMode=r,this._changeDetectorRef=u,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new s.vpe,this._animationEndSubscription=Uo.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+Wfe++;const h=o?o.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${h}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===r,a&&(a.color&&(this.color=this.defaultColor=a.color),this.mode=a.mode||this.mode)}get value(){return this._value}set value(e){this._value=Pq(su(e)||0),this._changeDetectorRef?.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(e){this._bufferValue=Pq(e||0),this._changeDetectorRef?.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=A0(e,"transitionend").pipe(_i(i=>i.target===e)).subscribe(()=>{0!==this.animationEnd.observers.length&&("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.QbO,8),s.Y36(Zfe,8),s.Y36(Yfe,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(e,i){if(1&e&&s.Gf(qfe,5),2&e){let r;s.iGM(r=s.CRH())&&(i._primaryValueBar=r.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,i){2&e&&(s.uIk("aria-valuenow","indeterminate"===i.mode||"query"===i.mode?null:i.value)("mode",i.mode),s.ekj("_mat-animation-noopable",i._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[s.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.O4$(),s.TgZ(1,"svg",1)(2,"defs")(3,"pattern",2),s._UZ(4,"circle",3),s.qZA()(),s._UZ(5,"rect",4),s.qZA(),s.kcU(),s._UZ(6,"div",5)(7,"div",6,7)(9,"div",8),s.qZA()),2&e&&(s.xp6(3),s.Q6J("id",i.progressbarId),s.xp6(2),s.uIk("fill",i._rectangleFillValue),s.xp6(1),s.Q6J("ngStyle",i._bufferTransform()),s.xp6(1),s.Q6J("ngStyle",i._primaryTransform()))},dependencies:[No],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}.mat-progress-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}'],encapsulation:2,changeDetection:0}),n})();function Pq(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let Jfe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[ea,hr,hr]}),n})();function Xfe(n,t){1&n&&(s.TgZ(0,"span",18),s._uU(1," collections_bookmark "),s.qZA())}function epe(n,t){1&n&&(s.TgZ(0,"span",18),s._uU(1," music_note "),s.qZA())}function tpe(n,t){1&n&&(s.TgZ(0,"span",18),s._uU(1," receipt_long "),s.qZA())}function npe(n,t){1&n&&(s.TgZ(0,"span",18),s._uU(1," school "),s.qZA())}function ipe(n,t){1&n&&(s.TgZ(0,"span",18),s._uU(1," auto_fix "),s.qZA())}function rpe(n,t){1&n&&(s.TgZ(0,"span",18),s._uU(1," swords "),s.qZA())}function spe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",19),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw().$implicit;return s.KtG(o.value=r)})("keyup",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw();return s.KtG(o.checkNumber(r))}),s.qZA()}if(2&n){const e=s.oxw().$implicit;s.Q6J("ngModel",e.value)}}function ope(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li")(1,"div",14)(2,"button",15),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.setSkill(o))}),s.YNc(3,Xfe,2,0,"span",16),s.YNc(4,epe,2,0,"span",16),s.YNc(5,tpe,2,0,"span",16),s.YNc(6,npe,2,0,"span",16),s.YNc(7,ipe,2,0,"span",16),s.YNc(8,rpe,2,0,"span",16),s._uU(9),s.qZA(),s.YNc(10,spe,1,1,"input",17),s.qZA()()}if(2&n){const e=t.$implicit;s.xp6(2),s.Q6J("color",e.isChecked?"primary":"white"),s.xp6(1),s.Q6J("ngIf",4==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",5==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",0==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",3==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",2==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",1==e.idTipologiaSkill),s.xp6(1),s.hij(" ",e.nome," "),s.xp6(1),s.Q6J("ngIf",e.isChecked)}}function ape(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",20),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.reset())}),s._uU(1,"Reset "),s.TgZ(2,"mat-icon"),s._uU(3,"undo"),s.qZA()()}}function lpe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",21),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.salvaSkills())}),s._uU(1,"Salva "),s.TgZ(2,"mat-icon"),s._uU(3,"done"),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("disabled",e.valueTotale>1200)}}const cpe=function(n){return{content:n}};let upe=(()=>{class n{constructor(e,i,r,o){this.service=e,this.utils=i,this.dialogRef=r,this.data=o,this.classe=new LD,this.tipologieSkill=new Array,this.skillDiClasse=new Array,this.combattive=new Array,this.miscellanee=new Array,this.musicali=new Array,this.magiche=new Array,this.lavorative=new Array,this.conoscitive=new Array,this.skillsComplessive=new Array,this.skillForm=new us(0,[Ia.required]),this.arraySkills=new Array,this.valueTotale=0,this.salva=!1,this.skillScelte=new Array,this.isSmartphone=!1,this.skills=new Array,this.expanded=!0,this.classe=o?.classe,this.skills=o?.skills}ngOnInit(){this.isSmartphone=this.utils.isSmartphone(),this.reload()}setSkill(e){e.isChecked?(e.isChecked=!1,e.value=0,this.removeSkill(e)):(e.isChecked=!0,e.value=100,this.skillScelte.push(e)),this.resultSkills()}checkNumber(e){let i="cercare minerali"==e.nome.toLowerCase()||"fare legna"==e.nome.toLowerCase()||"pescare"==e.nome.toLowerCase()||"erboristeria"==e.nome.toLowerCase()||"agricoltura"==e.nome.toLowerCase();0==e.idTipologiaSkill&&e.value>200&&!i&&(e.value=200),(e.idTipologiaSkill>0||i)&&e.value>100&&(e.value=100),e.value<0&&(e.value=0),this.updateSkill(e),this.resultSkills()}getStandardSkills(e){let i=ND.ConvertToSkillsChecked(e);return i.forEach(r=>{r.value=100,r.isChecked=!0}),i}setStandardSkills(e,i=-1){return this.skillDiClasse.forEach(r=>{let o=e.findIndex(a=>a.id==r.id);-1!=o&&(-1==i?(e[o].isChecked=!0,e[o].value=100):(e[o].isChecked=!1,e[o].value=0))}),e}setAll(e){e.checked?(this.skillsComplessive=this.setStandardSkills(this.skillsComplessive),this.getSkillsChecked()):this.skillsComplessive=this.setStandardSkills(this.skillsComplessive,1),this.resultSkills()}resultSkills(){this.valueTotale=0,this.valueTotale+=this.skillsComplessive.reduce((e,i)=>e+i.value,0)}reload(){this.service.getClasseSkills(this.classe.nome).subscribe(e=>{this.skillDiClasse=this.getStandardSkills(e),this.service.getAllSkills().subscribe(i=>{this.skillsComplessive=ND.ConvertToSkillsChecked(i),this.reloadSkills()})})}removeSkill(e){this.skillScelte=this.skillScelte.filter(i=>i.id!==e.id)}updateSkill(e){var i=this.skillScelte.findIndex(r=>r.id==e.id);this.skillScelte[i].value=e.value}salvaSkills(){this.getSkillsChecked(),this.dialogRef.close({data:this.skillScelte})}reloadSkills(){this.skills.length>0&&(this.skills.forEach(e=>{var i;let r=this.skillsComplessive.findIndex(o=>o.id==e.id);void 0!==(null===(i=this.skillsComplessive[r])||void 0===i?void 0:i.value)&&(this.skillsComplessive[r].value=e.value,this.skillsComplessive[r].isChecked=e.isChecked)}),this.resultSkills())}getSkillsChecked(){this.skillScelte=new Array,this.skillScelte=this.skillScelte.concat(this.skillsComplessive.filter(e=>e.isChecked&&e.value>0))}reset(){this.skillsComplessive.forEach(e=>{e.value=0,e.isChecked=!1}),this.valueTotale=0,this.skillScelte=new Array}spazioSmartphone(){return{"margin-top":this.utils.isSmartphone()?"150em":"135em"}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(S0),s.Y36(wf),s.Y36(I0),s.Y36(Vm))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-modale-skills"]],decls:24,vars:12,consts:[["mat-dialog-title","","fxLayout","column","fxLayoutAlign","space-around"],[2,"margin-top","0.5em"],["mode","determinate",3,"color","value"],["fxFlex","","fxlayout","column",2,"margin-top","0.5em"],["fxFlex","","fxlayout","column",1,"example-section"],["color","primary",1,"example-margin",2,"margin-left","12px",3,"change"],["fxLayout","column","fxLayoutAlign","space-around",3,"ngClass"],["fxFlex","","fxLayout","column",1,"home",3,"ngStyle"],["fxLayout","column",1,"skills"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-around center"],[2,"margin-top","1%"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["fxFlex",""],["mat-raised-button","","fxFlex","",1,"skill",3,"color","click"],["class","material-symbols-outlined",4,"ngIf"],["class","value","matInput","","type","number","fxFlex","30","placeholder","Valore skill",3,"ngModel","ngModelChange","keyup",4,"ngIf"],[1,"material-symbols-outlined"],["matInput","","type","number","fxFlex","30","placeholder","Valore skill",1,"value",3,"ngModel","ngModelChange","keyup"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,i){1&e&&(s.TgZ(0,"div")(1,"div",0)(2,"span"),s._uU(3,"Scegli le skills del tuo pg"),s.qZA(),s.TgZ(4,"div",1),s._UZ(5,"mat-progress-bar",2),s.qZA(),s.TgZ(6,"div",3)(7,"h4"),s._uU(8,"Totale skills selezionate: "),s.TgZ(9,"u"),s._uU(10),s.qZA(),s._uU(11,"/1200"),s.qZA()(),s.TgZ(12,"section",4)(13,"mat-checkbox",5),s.NdJ("change",function(o){return i.setAll(o)}),s._uU(14,"Applica skills consigliate"),s.qZA()()(),s.TgZ(15,"mat-dialog-content",6)(16,"div",7)(17,"div",8),s.YNc(18,ope,11,9,"li",9),s.qZA()()(),s.TgZ(19,"mat-toolbar-row",10)(20,"div",11),s.YNc(21,ape,4,0,"button",12),s.qZA(),s.TgZ(22,"div",11),s.YNc(23,lpe,4,1,"button",13),s.qZA()()()),2&e&&(s.xp6(5),s.Q6J("color",i.valueTotale<=1200?"primary":"warn")("value",i.valueTotale/12),s.xp6(4),s.Udp("color",i.valueTotale>1200?"red":"#004a9f"),s.xp6(1),s.Oqu(i.valueTotale),s.xp6(5),s.Q6J("ngClass",s.VKq(10,cpe,i.utils.isSmartphone())),s.xp6(1),s.Q6J("ngStyle",i.spazioSmartphone()),s.xp6(2),s.Q6J("ngForOf",i.skillsComplessive),s.xp6(3),s.Q6J("ngIf",i.expanded),s.xp6(2),s.Q6J("ngIf",i.expanded))},dependencies:[ys,As,Li,No,Dy,E2,B0,R4,Jp,Fd,au,mh,Gl,dR,R2,Kb,Yb,T2,hz,Ooe,Nq],styles:['.skill[_ngcontent-%COMP%]{cursor:pointer;padding:2px;margin:4px;height:3em;overflow-y:clip}.value[_ngcontent-%COMP%]{text-align:center;border:2px solid #004a9f;border-radius:7px;margin:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 48}.content[_ngcontent-%COMP%]{max-height:50vh}']}),n})();function dpe(n,t){if(1&n&&(s.TgZ(0,"li"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e," ")}}let hpe=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.data=i,this.service=r,this.spellsPaladino=new wU,this.religione="",null!=i&&""!==i&&(this.religione=i)}ngOnInit(){this.getSpells()}getSpells(){null!=this.religione&&""!=this.religione&&this.service.getSpellPaladinoFromDivinita(this.religione).subscribe(e=>{e.length>0&&(this.spellsPaladino=e[0])})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(I0),s.Y36(Vm),s.Y36(S0))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-modale-paladino"]],decls:19,vars:3,consts:[["fxFlex","100","fxLayout","column",1,"home"],[1,"title"],[1,"blue"],[1,"li"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-card",0)(1,"div",1)(2,"b",2),s._uU(3,"Info Spell Paladino"),s.qZA()(),s.TgZ(4,"ul")(5,"li",3)(6,"b"),s._uU(7,"Religione:"),s.qZA(),s._uU(8),s.qZA(),s._UZ(9,"br"),s.TgZ(10,"li",3)(11,"b"),s._uU(12,"Aura:"),s.qZA(),s._uU(13),s.qZA(),s._UZ(14,"br"),s.TgZ(15,"b"),s._uU(16,"Spells:"),s.qZA(),s.TgZ(17,"ul"),s.YNc(18,dpe,2,1,"li",4),s.qZA()()()),2&e&&(s.xp6(8),s.hij(" ",i.spellsPaladino.religione,""),s.xp6(5),s.hij(" ",i.spellsPaladino.aura,""),s.xp6(5),s.Q6J("ngForOf",null==i.spellsPaladino?null:i.spellsPaladino.spell))},dependencies:[As,au,Gl,Iy],styles:["mat-card[_ngcontent-%COMP%]{border:2px solid #004a9f;border-radius:3px;margin:3%}mat-card-title[_ngcontent-%COMP%]{color:#004a9f}.blue[_ngcontent-%COMP%]{color:#004a9f}.title[_ngcontent-%COMP%]{font-size:20px}"]}),n})();function Os(n){return(Os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}var Js=Uint8Array,kc=Uint16Array,R0=Uint32Array,eE=new Js([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),tE=new Js([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),O2=new Js([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Qq=function(n,t){for(var e=new kc(31),i=0;i<31;++i)e[i]=t+=1<<n[i-1];var r=new R0(e[30]);for(i=1;i<30;++i)for(var o=e[i];o<e[i+1];++o)r[o]=o-e[i]<<5|i;return[e,r]},Hq=Qq(eE,2),B3=Hq[0],hR=Hq[1];B3[28]=258,hR[258]=28;for(var Vq=Qq(tE,0),Gq=Vq[0],F3=Vq[1],L2=new kc(32768),$o=0;$o<32768;++$o){var O0=(43690&$o)>>>1|(21845&$o)<<1;L2[$o]=((65280&(O0=(61680&(O0=(52428&O0)>>>2|(13107&O0)<<2))>>>4|(3855&O0)<<4))>>>8|(255&O0)<<8)>>>1}var Tf=function(n,t,e){for(var i=n.length,r=0,o=new kc(t);r<i;++r)++o[n[r]-1];var u,a=new kc(t);for(r=0;r<t;++r)a[r]=a[r-1]+o[r-1]<<1;if(e){u=new kc(1<<t);var h=15-t;for(r=0;r<i;++r)if(n[r])for(var f=r<<4|n[r],_=t-n[r],C=a[n[r]-1]++<<_,F=C|(1<<_)-1;C<=F;++C)u[L2[C]>>>h]=f}else for(u=new kc(i),r=0;r<i;++r)u[r]=L2[a[n[r]-1]++]>>>15-n[r];return u},Fy=new Js(288);for($o=0;$o<144;++$o)Fy[$o]=8;for($o=144;$o<256;++$o)Fy[$o]=9;for($o=256;$o<280;++$o)Fy[$o]=7;for($o=280;$o<288;++$o)Fy[$o]=8;var nE=new Js(32);for($o=0;$o<32;++$o)nE[$o]=5;var jq=Tf(Fy,9,0),zq=Tf(Fy,9,1),qq=Tf(nE,5,0),Kq=Tf(nE,5,1),AR=function(n){for(var t=n[0],e=1;e<n.length;++e)n[e]>t&&(t=n[e]);return t},Bf=function(n,t,e){var i=t/8>>0;return(n[i]|n[i+1]<<8)>>>(7&t)&e},fR=function(n,t){var e=t/8>>0;return(n[e]|n[e+1]<<8|n[e+2]<<16)>>>(7&t)},N2=function(n){return(n/8>>0)+(7&n&&1)},Wb=function(n,t,e){(null==t||t<0)&&(t=0),(null==e||e>n.length)&&(e=n.length);var i=new(n instanceof kc?kc:n instanceof R0?R0:Js)(e-t);return i.set(n.subarray(t,e)),i},jm=function(n,t,e){var i=t/8>>0;n[i]|=e<<=7&t,n[i+1]|=e>>>8},iE=function(n,t,e){var i=t/8>>0;n[i]|=e<<=7&t,n[i+1]|=e>>>8,n[i+2]|=e>>>16},gR=function(n,t){for(var e=[],i=0;i<n.length;++i)n[i]&&e.push({s:i,f:n[i]});var r=e.length,o=e.slice();if(!r)return[new Js(0),0];if(1==r){var a=new Js(e[0].s+1);return a[e[0].s]=1,[a,1]}e.sort(function(Ze,ct){return Ze.f-ct.f}),e.push({s:-1,f:25001});var u=e[0],h=e[1],f=0,_=1,C=2;for(e[0]={s:-1,f:u.f+h.f,l:u,r:h};_!=r-1;)u=e[e[f].f<e[C].f?f++:C++],h=e[f!=_&&e[f].f<e[C].f?f++:C++],e[_++]={s:-1,f:u.f+h.f,l:u,r:h};var F=o[0].s;for(i=1;i<r;++i)o[i].s>F&&(F=o[i].s);var B=new kc(F+1),U=mR(e[_-1],B,0);if(U>t){i=0;var H=0,Z=U-t,q=1<<Z;for(o.sort(function(ct,Ve){return B[Ve.s]-B[ct.s]||ct.f-Ve.f});i<r;++i){var W=o[i].s;if(!(B[W]>t))break;H+=q-(1<<U-B[W]),B[W]=t}for(H>>>=Z;H>0;){var he=o[i].s;B[he]<t?H-=1<<t-B[he]++-1:++i}for(;i>=0&&H;--i){var xe=o[i].s;B[xe]==t&&(--B[xe],++H)}U=t}return[new Js(B),U]},mR=function(n,t,e){return-1==n.s?Math.max(mR(n.l,t,e+1),mR(n.r,t,e+1)):t[n.s]=e},M3=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new kc(++t),i=0,r=n[0],o=1,a=function(h){e[i++]=h},u=1;u<=t;++u)if(n[u]==r&&u!=t)++o;else{if(!r&&o>2){for(;o>138;o-=138)a(32754);o>2&&(a(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(a(r),--o;o>6;o-=6)a(8304);o>2&&(a(o-3<<5|8208),o=0)}for(;o--;)a(r);o=1,r=n[u]}return[e.subarray(0,i),t]},rE=function(n,t){for(var e=0,i=0;i<t.length;++i)e+=n[i]*t[i];return e},P2=function(n,t,e){var i=e.length,r=N2(t+2);n[r]=255&i,n[r+1]=i>>>8,n[r+2]=255^n[r],n[r+3]=255^n[r+1];for(var o=0;o<i;++o)n[r+o+4]=e[o];return 8*(r+4+i)},k3=function(n,t,e,i,r,o,a,u,h,f,_){jm(t,_++,e),++r[256];for(var C=gR(r,15),F=C[0],B=C[1],U=gR(o,15),H=U[0],Z=U[1],q=M3(F),W=q[0],he=q[1],xe=M3(H),Ze=xe[0],ct=xe[1],Ve=new kc(19),we=0;we<W.length;++we)Ve[31&W[we]]++;for(we=0;we<Ze.length;++we)Ve[31&Ze[we]]++;for(var Ft=gR(Ve,7),Bt=Ft[0],Ae=Ft[1],de=19;de>4&&!Bt[O2[de-1]];--de);var Re,Ye,Ne,ht,Te=f+5<<3,Se=rE(r,Fy)+rE(o,nE)+a,xt=rE(r,F)+rE(o,H)+a+14+3*de+rE(Ve,Bt)+(2*Ve[16]+3*Ve[17]+7*Ve[18]);if(Te<=Se&&Te<=xt)return P2(t,_,n.subarray(h,h+f));if(jm(t,_,1+(xt<Se)),_+=2,xt<Se){Re=Tf(F,B,0),Ye=F,Ne=Tf(H,Z,0),ht=H;var _t=Tf(Bt,Ae,0);for(jm(t,_,he-257),jm(t,_+5,ct-1),jm(t,_+10,de-4),_+=14,we=0;we<de;++we)jm(t,_+3*we,Bt[O2[we]]);_+=3*de;for(var _n=[W,Ze],X=0;X<2;++X){var me=_n[X];for(we=0;we<me.length;++we)jm(t,_,_t[_e=31&me[we]]),_+=Bt[_e],_e>15&&(jm(t,_,me[we]>>>5&127),_+=me[we]>>>12)}}else Re=jq,Ye=Fy,Ne=qq,ht=nE;for(we=0;we<u;++we)if(i[we]>255){var _e;iE(t,_,Re[257+(_e=i[we]>>>18&31)]),_+=Ye[_e+257],_e>7&&(jm(t,_,i[we]>>>23&31),_+=eE[_e]);var Pe=31&i[we];iE(t,_,Ne[Pe]),_+=ht[Pe],Pe>3&&(iE(t,_,i[we]>>>5&8191),_+=tE[Pe])}else iE(t,_,Re[i[we]]),_+=Ye[i[we]];return iE(t,_,Re[256]),_+Ye[256]},Zq=new R0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),$q=new Js(0),yR=function(n,t,e,i,r){return function(n,t,e,i,r,o){var a=n.length,u=new Js(i+a+5*(1+Math.floor(a/7e3))+r),h=u.subarray(i,u.length-r),f=0;if(!t||a<8)for(var _=0;_<=a;_+=65535){var C=_+65535;C<a?f=P2(h,f,n.subarray(_,C)):(h[_]=o,f=P2(h,f,n.subarray(_,a)))}else{for(var F=Zq[t-1],B=F>>>13,U=8191&F,H=(1<<e)-1,Z=new kc(32768),q=new kc(H+1),W=Math.ceil(e/3),he=2*W,xe=function(Pi){return(n[Pi]^n[Pi+1]<<W^n[Pi+2]<<he)&H},Ze=new R0(25e3),ct=new kc(288),Ve=new kc(32),we=0,Ft=0,Bt=(_=0,0),Ae=0,de=0;_<a;++_){var Te=xe(_),Se=32767&_,xt=q[Te];if(Z[Se]=xt,q[Te]=Se,Ae<=_){var Re=a-_;if((we>7e3||Bt>24576)&&Re>423){f=k3(n,h,0,Ze,ct,Ve,Ft,Bt,de,_-de,f),Bt=we=Ft=0,de=_;for(var Ye=0;Ye<286;++Ye)ct[Ye]=0;for(Ye=0;Ye<30;++Ye)Ve[Ye]=0}var Ne=2,ht=0,_t=U,_n=Se-xt&32767;if(Re>2&&Te==xe(_-_n))for(var X=Math.min(B,Re)-1,me=Math.min(32767,_),_e=Math.min(258,Re);_n<=me&&--_t&&Se!=xt;){if(n[_+Ne]==n[_+Ne-_n]){for(var Pe=0;Pe<_e&&n[_+Pe]==n[_+Pe-_n];++Pe);if(Pe>Ne){if(Ne=Pe,ht=_n,Pe>X)break;var We=Math.min(_n,Pe-2),nt=0;for(Ye=0;Ye<We;++Ye){var ft=_-_n+Ye+32768&32767,pn=ft-Z[ft]+32768&32767;pn>nt&&(nt=pn,xt=ft)}}}_n+=(Se=xt)-(xt=Z[Se])+32768&32767}if(ht){Ze[Bt++]=268435456|hR[Ne]<<18|F3[ht];var un=31&hR[Ne],qn=31&F3[ht];Ft+=eE[un]+tE[qn],++ct[257+un],++Ve[qn],Ae=_+Ne,++we}else Ze[Bt++]=n[_],++ct[n[_]]}}f=k3(n,h,o,Ze,ct,Ve,Ft,Bt,de,_-de,f),o||(f=P2(h,f,$q))}return Wb(u,0,i+N2(f)+r)}(n,t.level??6,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(n.length)))):12+t.mem,e,i,!r)};function Q2(n,t){void 0===t&&(t={});var e=function(){var n=1,t=0;return{p:function(e){for(var i=n,r=t,o=e.length,a=0;a!=o;){for(var u=Math.min(a+5552,o);a<u;++a)r+=i+=e[a];i%=65521,r%=65521}n=i,t=r},d:function(){return(n>>>8<<16|(255&t)<<8|t>>>8)+2*((255&n)<<23)}}}();e.p(n);var i=yR(n,t,2,4);return function(n,t){var e=t.level,i=0==e?0:e<6?1:9==e?3:2;n[0]=120,n[1]=i<<6|(i?32-2*i:1)}(i,t),function(n,t,e){for(;e;++t)n[t]=e,e>>>=8}(i,i.length-4,e.d()),i}function bR(n,t){return function(n,t,e){var i=n.length,r=!t||e,o=!e||e.i;e||(e={}),t||(t=new Js(3*i));var a=function(We){var nt=t.length;if(We>nt){var ft=new Js(Math.max(2*nt,We));ft.set(t),t=ft}},u=e.f||0,h=e.p||0,f=e.b||0,_=e.l,C=e.d,F=e.m,B=e.n,U=8*i;do{if(!_){e.f=u=Bf(n,h,1);var H=Bf(n,h+1,3);if(h+=3,!H){var q=n[(Z=N2(h)+4)-4]|n[Z-3]<<8,W=Z+q;if(W>i){if(o)throw"unexpected EOF";break}r&&a(f+q),t.set(n.subarray(Z,W),f),e.b=f+=q,e.p=h=8*W;continue}if(1==H)_=zq,C=Kq,F=9,B=5;else{if(2!=H)throw"invalid block type";var he=Bf(n,h,31)+257,xe=Bf(n,h+10,15)+4,Ze=he+Bf(n,h+5,31)+1;h+=14;for(var ct=new Js(Ze),Ve=new Js(19),we=0;we<xe;++we)Ve[O2[we]]=Bf(n,h+3*we,7);h+=3*xe;var Ft=AR(Ve),Bt=(1<<Ft)-1;if(!o&&h+Ze*(Ft+7)>U)break;var Ae=Tf(Ve,Ft,1);for(we=0;we<Ze;){var Z,de=Ae[Bf(n,h,Bt)];if(h+=15&de,(Z=de>>>4)<16)ct[we++]=Z;else{var Te=0,Se=0;for(16==Z?(Se=3+Bf(n,h,3),h+=2,Te=ct[we-1]):17==Z?(Se=3+Bf(n,h,7),h+=3):18==Z&&(Se=11+Bf(n,h,127),h+=7);Se--;)ct[we++]=Te}}var xt=ct.subarray(0,he),Re=ct.subarray(he);F=AR(xt),B=AR(Re),_=Tf(xt,F,1),C=Tf(Re,B,1)}if(h>U)throw"unexpected EOF"}r&&a(f+131072);for(var Ye=(1<<F)-1,Ne=(1<<B)-1,ht=F+B+18;o||h+ht<U;){var _t=(Te=_[fR(n,h)&Ye])>>>4;if((h+=15&Te)>U)throw"unexpected EOF";if(!Te)throw"invalid length/literal";if(_t<256)t[f++]=_t;else{if(256==_t){_=null;break}var _n=_t-254;_t>264&&(_n=Bf(n,h,(1<<(X=eE[we=_t-257]))-1)+B3[we],h+=X);var me=C[fR(n,h)&Ne],_e=me>>>4;if(!me)throw"invalid distance";if(h+=15&me,Re=Gq[_e],_e>3){var X=tE[_e];Re+=fR(n,h)&(1<<X)-1,h+=X}if(h>U)throw"unexpected EOF";r&&a(f+131072);for(var Pe=f+_n;f<Pe;f+=4)t[f]=t[f-Re],t[f+1]=t[f+1-Re],t[f+2]=t[f+2-Re],t[f+3]=t[f+3-Re];f=Pe}}e.l=_,e.p=h,e.b=f,_&&(u=1,e.m=F,e.d=C,e.n=B)}while(!u);return f==t.length?t:Wb(t,0,f)}((function(n){if(8!=(15&n[0])||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(32&n[1])throw"invalid zlib data: preset dictionaries not supported"}(n),n.subarray(2,-4)),t)}var Ni=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function U3(){Ni.console&&"function"==typeof Ni.console.log&&Ni.console.log.apply(Ni.console,arguments)}var uo={log:U3,warn:function(n){Ni.console&&("function"==typeof Ni.console.warn?Ni.console.warn.apply(Ni.console,arguments):U3.call(null,arguments))},error:function(n){Ni.console&&("function"==typeof Ni.console.error?Ni.console.error.apply(Ni.console,arguments):U3(n))}};function Q3(n,t,e){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){Jb(i.response,t,e)},i.onerror=function(){uo.error("could not download file")},i.send()}function fK(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function xR(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var H2,H3,Jb=Ni.saveAs||("object"!==(typeof window>"u"?"undefined":Os(window))||window!==Ni?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var i=Ni.URL||Ni.webkitURL,r=document.createElement("a");r.download=t=t||n.name||"download",r.rel="noopener","string"==typeof n?(r.href=n,r.origin!==location.origin?fK(r.href)?Q3(n,t,e):xR(r,r.target="_blank"):xR(r)):(r.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){xR(r)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download","string"==typeof n)if(fK(n))Q3(n,t,e);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){xR(i)})}else navigator.msSaveOrOpenBlob((r=n,void 0===(o=e)?o={autoBom:!1}:"object"!==Os(o)&&(uo.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob([String.fromCharCode(65279),r],{type:r.type}):r),t);var r,o}:function(n,t,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof n)return Q3(n,t,e);var r="application/octet-stream"===n.type,o=/constructor/i.test(Ni.HTMLElement)||Ni.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||r&&o)&&"object"===(typeof FileReader>"u"?"undefined":Os(FileReader))){var u=new FileReader;u.onloadend=function(){var _=u.result;_=a?_:_.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=_:location=_,i=null},u.readAsDataURL(n)}else{var h=Ni.URL||Ni.webkitURL,f=h.createObjectURL(n);i?i.location=f:location.href=f,i=null,setTimeout(function(){h.revokeObjectURL(f)},4e4)}});function pK(n){var t;n=n||"",this.ok=!1,"#"==n.charAt(0)&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],i=0;i<e.length;i++){var o=e[i].process,a=e[i].re.exec(n);a&&(t=o(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),h=this.g.toString(16),f=this.b.toString(16);return 1==u.length&&(u="0"+u),1==h.length&&(h="0"+h),1==f.length&&(f="0"+f),"#"+u+h+f}}function V3(n,t){var e=n[0],i=n[1],r=n[2],o=n[3];e=zu(e,i,r,o,t[0],7,-680876936),o=zu(o,e,i,r,t[1],12,-389564586),r=zu(r,o,e,i,t[2],17,606105819),i=zu(i,r,o,e,t[3],22,-1044525330),e=zu(e,i,r,o,t[4],7,-176418897),o=zu(o,e,i,r,t[5],12,1200080426),r=zu(r,o,e,i,t[6],17,-1473231341),i=zu(i,r,o,e,t[7],22,-45705983),e=zu(e,i,r,o,t[8],7,1770035416),o=zu(o,e,i,r,t[9],12,-1958414417),r=zu(r,o,e,i,t[10],17,-42063),i=zu(i,r,o,e,t[11],22,-1990404162),e=zu(e,i,r,o,t[12],7,1804603682),o=zu(o,e,i,r,t[13],12,-40341101),r=zu(r,o,e,i,t[14],17,-1502002290),e=qu(e,i=zu(i,r,o,e,t[15],22,1236535329),r,o,t[1],5,-165796510),o=qu(o,e,i,r,t[6],9,-1069501632),r=qu(r,o,e,i,t[11],14,643717713),i=qu(i,r,o,e,t[0],20,-373897302),e=qu(e,i,r,o,t[5],5,-701558691),o=qu(o,e,i,r,t[10],9,38016083),r=qu(r,o,e,i,t[15],14,-660478335),i=qu(i,r,o,e,t[4],20,-405537848),e=qu(e,i,r,o,t[9],5,568446438),o=qu(o,e,i,r,t[14],9,-1019803690),r=qu(r,o,e,i,t[3],14,-187363961),i=qu(i,r,o,e,t[8],20,1163531501),e=qu(e,i,r,o,t[13],5,-1444681467),o=qu(o,e,i,r,t[2],9,-51403784),r=qu(r,o,e,i,t[7],14,1735328473),e=Ku(e,i=qu(i,r,o,e,t[12],20,-1926607734),r,o,t[5],4,-378558),o=Ku(o,e,i,r,t[8],11,-2022574463),r=Ku(r,o,e,i,t[11],16,1839030562),i=Ku(i,r,o,e,t[14],23,-35309556),e=Ku(e,i,r,o,t[1],4,-1530992060),o=Ku(o,e,i,r,t[4],11,1272893353),r=Ku(r,o,e,i,t[7],16,-155497632),i=Ku(i,r,o,e,t[10],23,-1094730640),e=Ku(e,i,r,o,t[13],4,681279174),o=Ku(o,e,i,r,t[0],11,-358537222),r=Ku(r,o,e,i,t[3],16,-722521979),i=Ku(i,r,o,e,t[6],23,76029189),e=Ku(e,i,r,o,t[9],4,-640364487),o=Ku(o,e,i,r,t[12],11,-421815835),r=Ku(r,o,e,i,t[15],16,530742520),e=Zu(e,i=Ku(i,r,o,e,t[2],23,-995338651),r,o,t[0],6,-198630844),o=Zu(o,e,i,r,t[7],10,1126891415),r=Zu(r,o,e,i,t[14],15,-1416354905),i=Zu(i,r,o,e,t[5],21,-57434055),e=Zu(e,i,r,o,t[12],6,1700485571),o=Zu(o,e,i,r,t[3],10,-1894986606),r=Zu(r,o,e,i,t[10],15,-1051523),i=Zu(i,r,o,e,t[1],21,-2054922799),e=Zu(e,i,r,o,t[8],6,1873313359),o=Zu(o,e,i,r,t[15],10,-30611744),r=Zu(r,o,e,i,t[6],15,-1560198380),i=Zu(i,r,o,e,t[13],21,1309151649),e=Zu(e,i,r,o,t[4],6,-145523070),o=Zu(o,e,i,r,t[11],10,-1120210379),r=Zu(r,o,e,i,t[2],15,718787259),i=Zu(i,r,o,e,t[9],21,-343485551),n[0]=N0(e,n[0]),n[1]=N0(i,n[1]),n[2]=N0(r,n[2]),n[3]=N0(o,n[3])}function ER(n,t,e,i,r,o){return t=N0(N0(t,n),N0(i,o)),N0(t<<r|t>>>32-r,e)}function zu(n,t,e,i,r,o,a){return ER(t&e|~t&i,n,t,r,o,a)}function qu(n,t,e,i,r,o,a){return ER(t&i|e&~i,n,t,r,o,a)}function Ku(n,t,e,i,r,o,a){return ER(t^e^i,n,t,r,o,a)}function Zu(n,t,e,i,r,o,a){return ER(e^(t|~i),n,t,r,o,a)}function gK(n){var t,e=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)V3(i,xpe(n.substring(t-64,t)));n=n.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)r[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(V3(i,r),t=0;t<16;t++)r[t]=0;return r[14]=8*e,V3(i,r),i}function xpe(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}H2=Ni.atob.bind(Ni),H3=Ni.btoa.bind(Ni);var mK="0123456789abcdef".split("");function Epe(n){for(var t="",e=0;e<4;e++)t+=mK[n>>8*e+4&15]+mK[n>>8*e&15];return t}function Spe(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function G3(n){return gK(n).map(Spe).join("")}var Ipe="5d41402abc4b2a76b9719d911017c592"!=function(n){for(var t=0;t<n.length;t++)n[t]=Epe(n[t]);return n.join("")}(gK("hello"));function N0(n,t){if(Ipe){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}function j3(n,t){var e,i,r;if(n!==e){for(var a=(r=n,new Array(1+(256/n.length>>0)+1).join(r)),u=[],h=0;h<256;h++)u[h]=h;var f=0;for(h=0;h<256;h++){var _=u[h];f=(f+_+a.charCodeAt(h))%256,u[h]=u[f],u[f]=_}e=n,i=u}else u=i;var C=t.length,F=0,B=0,U="";for(h=0;h<C;h++)B=(B+(_=u[F=(F+1)%256]))%256,u[F]=u[B],u[B]=_,a=u[(u[F]+u[B])%256],U+=String.fromCharCode(t.charCodeAt(h)^a);return U}var _K={print:4,modify:8,copy:16,"annot-forms":32};function oE(n,t,e,i){this.v=1,this.r=2;var r=192;n.forEach(function(u){if(void 0!==_K.perm)throw new Error("Invalid permission: "+u);r+=_K[u]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var o=(t+this.padding).substr(0,32),a=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,a),this.P=-(1+(255^r)),this.encryptionKey=G3(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=j3(this.encryptionKey,this.padding)}function aE(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,i=0;i<e;i++){var r=n.charCodeAt(i);t+=r<33||35===r||37===r||40===r||41===r||47===r||60===r||62===r||91===r||93===r||123===r||125===r||r>126?"#"+("0"+r.toString(16)).slice(-2):n[i]}return t}function yK(n){if("object"!==Os(n))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,i,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof i||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var o=Math.random().toString(35);return t[e][o]=[i,!!r],o},this.unsubscribe=function(e){for(var i in t)if(t[i][e])return delete t[i][e],0===Object.keys(t[i]).length&&delete t[i],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var o in t[e]){var a=t[e][o];try{a[0].apply(n,i)}catch(u){Ni.console&&uo.error("jsPDF PubSub Error",u.message,u)}a[1]&&r.push(o)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function SR(n){if(!(this instanceof SR))return new SR(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function vK(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function Xb(n,t,e,i,r){if(!(this instanceof Xb))return new Xb(n,t,e,i,r);this.type="axial"===n?2:3,this.coords=t,this.colors=e,vK.call(this,i,r)}function lE(n,t,e,i,r){if(!(this instanceof lE))return new lE(n,t,e,i,r);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,vK.call(this,i,r)}function ki(n){var t,e="string"==typeof arguments[0]?arguments[0]:"p",i=arguments[1],r=arguments[2],o=arguments[3],a=[],u=1,h=16,f="S",_=null;"object"===Os(n=n||{})&&(e=n.orientation,i=n.unit||i,r=n.format||r,o=n.compress||n.compressPdf||o,null!==(_=n.encryption||null)&&(_.userPassword=_.userPassword||"",_.ownerPassword=_.ownerPassword||"",_.userPermissions=_.userPermissions||[]),u="number"==typeof n.userUnit?Math.abs(n.userUnit):1,void 0!==n.precision&&(t=n.precision),void 0!==n.floatPrecision&&(h=n.floatPrecision),f=n.defaultPathOperation||"S"),a=n.filters||(!0===o?["FlateEncode"]:a),i=i||"mm",e=(""+(e||"P")).toLowerCase();var C=n.putOnlyUsedFonts||!1,F={},B={internal:{},__private__:{}};B.__private__.PubSub=yK;var U="1.3",H=B.__private__.getPdfVersion=function(){return U};B.__private__.setPdfVersion=function(M){U=M};var Z={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};B.__private__.getPageFormats=function(){return Z};var q=B.__private__.getPageFormat=function(M){return Z[M]};r=r||"a4";var W={COMPAT:"compat",ADVANCED:"advanced"},he=W.COMPAT;function xe(){this.saveGraphicsState(),be(new Ri(Qn,0,0,-Qn,0,z0()*Qn).toString()+" cm"),this.setFontSize(this.getFontSize()/Qn),f="n",he=W.ADVANCED}function Ze(){this.restoreGraphicsState(),f="S",he=W.COMPAT}var ct=B.__private__.combineFontStyleAndFontWeight=function(M,Y){if("bold"==M&&"normal"==Y||"bold"==M&&400==Y||"normal"==M&&"italic"==Y||"bold"==M&&"italic"==Y)throw new Error("Invalid Combination of fontweight and fontstyle");return Y&&(M=400==Y||"normal"===Y?"italic"===M?"italic":"normal":700!=Y&&"bold"!==Y||"normal"!==M?(700==Y?"bold":Y)+""+M:"bold"),M};B.advancedAPI=function(M){var Y=he===W.COMPAT;return Y&&xe.call(this),"function"!=typeof M||(M(this),Y&&Ze.call(this)),this},B.compatAPI=function(M){var Y=he===W.ADVANCED;return Y&&Ze.call(this),"function"!=typeof M||(M(this),Y&&xe.call(this)),this},B.isAdvancedAPI=function(){return he===W.ADVANCED};var Ve,we=function(M){if(he!==W.ADVANCED)throw new Error(M+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Ft=B.roundToPrecision=B.__private__.roundToPrecision=function(M,Y){var ye=t||Y;if(isNaN(M)||isNaN(ye))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return M.toFixed(ye).replace(/0+$/,"")};Ve=B.hpf=B.__private__.hpf="number"==typeof h?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return Ft(M,h)}:"smart"===h?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return Ft(M,M>-1&&M<1?16:5)}:function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return Ft(M,16)};var Bt=B.f2=B.__private__.f2=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f2");return Ft(M,2)},Ae=B.__private__.f3=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f3");return Ft(M,3)},de=B.scale=B.__private__.scale=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.scale");return he===W.COMPAT?M*Qn:he===W.ADVANCED?M:void 0},Te=function(M){return he===W.COMPAT?z0()-M:he===W.ADVANCED?M:void 0},Se=function(M){return de(Te(M))};B.__private__.setPrecision=B.setPrecision=function(M){"number"==typeof parseInt(M,10)&&(t=parseInt(M,10))};var xt,Re="00000000000000000000000000000000",Ye=B.__private__.getFileId=function(){return Re},Ne=B.__private__.setFileId=function(M){return Re=void 0!==M&&/^[a-fA-F0-9]{32}$/.test(M)?M.toUpperCase():Re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==_&&(Yu=new oE(_.userPermissions,_.userPassword,_.ownerPassword,Re)),Re};B.setFileId=function(M){return Ne(M),this},B.getFileId=function(){return Ye()};var ht=B.__private__.convertDateToPDFDate=function(M){var Y=M.getTimezoneOffset(),ye=Y<0?"+":"-",Be=Math.floor(Math.abs(Y/60)),Xe=Math.abs(Y%60),Mt=[ye,_e(Be),"'",_e(Xe),"'"].join("");return["D:",M.getFullYear(),_e(M.getMonth()+1),_e(M.getDate()),_e(M.getHours()),_e(M.getMinutes()),_e(M.getSeconds()),Mt].join("")},_t=B.__private__.convertPDFDateToDate=function(M){var Y=parseInt(M.substr(2,4),10),ye=parseInt(M.substr(6,2),10)-1,Be=parseInt(M.substr(8,2),10),Xe=parseInt(M.substr(10,2),10),Mt=parseInt(M.substr(12,2),10),rn=parseInt(M.substr(14,2),10);return new Date(Y,ye,Be,Xe,Mt,rn,0)},_n=B.__private__.setCreationDate=function(M){var Y;if(void 0===M&&(M=new Date),M instanceof Date)Y=ht(M);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(M))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Y=M}return xt=Y},X=B.__private__.getCreationDate=function(M){var Y=xt;return"jsDate"===M&&(Y=_t(xt)),Y};B.setCreationDate=function(M){return _n(M),this},B.getCreationDate=function(M){return X(M)};var me,_e=B.__private__.padd2=function(M){return("0"+parseInt(M)).slice(-2)},Pe=B.__private__.padd2Hex=function(M){return("00"+(M=M.toString())).substr(M.length)},We=0,nt=[],ft=[],At=0,pn=[],un=[],qn=!1,Xn=ft,Pi=function(){We=0,At=0,ft=[],nt=[],pn=[],Oy=jl(),ag=jl()};B.__private__.setCustomOutputDestination=function(M){qn=!0,Xn=M};var Ot=function(M){qn||(Xn=M)};B.__private__.resetCustomOutputDestination=function(){qn=!1,Xn=ft};var be=B.__private__.out=function(M){return M=M.toString(),At+=M.length+1,Xn.push(M),Xn},ar=B.__private__.write=function(M){return be(1===arguments.length?M.toString():Array.prototype.join.call(arguments," "))},li=B.__private__.getArrayBuffer=function(M){for(var Y=M.length,ye=new ArrayBuffer(Y),Be=new Uint8Array(ye);Y--;)Be[Y]=M.charCodeAt(Y);return ye},dn=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];B.__private__.getStandardFonts=function(){return dn};var In=n.fontSize||16;B.__private__.setFontSize=B.setFontSize=function(M){return In=he===W.ADVANCED?M/Qn:M,this};var Un,On=B.__private__.getFontSize=B.getFontSize=function(){return he===W.COMPAT?In:In*Qn},yi=n.R2L||!1;B.__private__.setR2L=B.setR2L=function(M){return yi=M,this},B.__private__.getR2L=B.getR2L=function(){return yi};var ir,gr=B.__private__.setZoomMode=function(M){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(M))Un=M;else if(isNaN(M)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(M))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+M+'" is not recognized.');Un=M}else Un=parseInt(M,10)};B.__private__.getZoomMode=function(){return Un};var Er,ns=B.__private__.setPageMode=function(M){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(M))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+M+'" is not recognized.');ir=M};B.__private__.getPageMode=function(){return ir};var Xs=B.__private__.setLayoutMode=function(M){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(M))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+M+'" is not recognized.');Er=M};B.__private__.getLayoutMode=function(){return Er},B.__private__.setDisplayMode=B.setDisplayMode=function(M,Y,ye){return gr(M),Xs(Y),ns(ye),this};var zi={title:"",subject:"",author:"",keywords:"",creator:""};B.__private__.getDocumentProperty=function(M){if(-1===Object.keys(zi).indexOf(M))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return zi[M]},B.__private__.getDocumentProperties=function(){return zi},B.__private__.setDocumentProperties=B.setProperties=B.setDocumentProperties=function(M){for(var Y in zi)zi.hasOwnProperty(Y)&&M[Y]&&(zi[Y]=M[Y]);return this},B.__private__.setDocumentProperty=function(M,Y){if(-1===Object.keys(zi).indexOf(M))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return zi[M]=Y};var Br,Qn,$u,ds,rg,ho={},da={},Ym=[],xs={},sC={},el={},sg={},Ry=null,tl=0,rr=[],Es=new yK(B),oC=n.hotfixes||[],lu={},Wm={},Jm=[],Ri=function M(Y,ye,Be,Xe,Mt,rn){if(!(this instanceof M))return new M(Y,ye,Be,Xe,Mt,rn);isNaN(Y)&&(Y=1),isNaN(ye)&&(ye=0),isNaN(Be)&&(Be=0),isNaN(Xe)&&(Xe=1),isNaN(Mt)&&(Mt=0),isNaN(rn)&&(rn=0),this._matrix=[Y,ye,Be,Xe,Mt,rn]};Object.defineProperty(Ri.prototype,"sx",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(Ri.prototype,"shy",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(Ri.prototype,"shx",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(Ri.prototype,"sy",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(Ri.prototype,"tx",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(Ri.prototype,"ty",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(Ri.prototype,"a",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(Ri.prototype,"b",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(Ri.prototype,"c",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(Ri.prototype,"d",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(Ri.prototype,"e",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(Ri.prototype,"f",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(Ri.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ri.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ri.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ri.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Ri.prototype.join=function(M){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Ve).join(M)},Ri.prototype.multiply=function(M){return new Ri(M.sx*this.sx+M.shy*this.shx,M.sx*this.shy+M.shy*this.sy,M.shx*this.sx+M.sy*this.shx,M.shx*this.shy+M.sy*this.sy,M.tx*this.sx+M.ty*this.shx+this.tx,M.tx*this.shy+M.ty*this.sy+this.ty)},Ri.prototype.decompose=function(){var M=this.sx,Y=this.shy,ye=this.shx,Be=this.sy,Xe=this.tx,Mt=this.ty,rn=Math.sqrt(M*M+Y*Y),Kn=(M/=rn)*ye+(Y/=rn)*Be;ye-=M*Kn,Be-=Y*Kn;var xi=Math.sqrt(ye*ye+Be*Be);return Kn/=xi,M*(Be/=xi)<Y*(ye/=xi)&&(M=-M,Y=-Y,Kn=-Kn,rn=-rn),{scale:new Ri(rn,0,0,xi,0,0),translate:new Ri(1,0,0,1,Xe,Mt),rotate:new Ri(M,Y,-Y,M,0,0),skew:new Ri(1,0,Kn,1,0,0)}},Ri.prototype.toString=function(M){return this.join(" ")},Ri.prototype.inversed=function(){var M=this.sx,Y=this.shy,ye=this.shx,Be=this.sy,Xe=this.tx,Mt=this.ty,rn=1/(M*Be-Y*ye),Kn=Be*rn,xi=-Y*rn,lr=-ye*rn,_r=M*rn;return new Ri(Kn,xi,lr,_r,-Kn*Xe-lr*Mt,-xi*Xe-_r*Mt)},Ri.prototype.applyToPoint=function(M){return new BE(M.x*this.sx+M.y*this.shx+this.tx,M.x*this.shy+M.y*this.sy+this.ty)},Ri.prototype.applyToRectangle=function(M){var Y=this.applyToPoint(M),ye=this.applyToPoint(new BE(M.x+M.w,M.y+M.h));return new iT(Y.x,Y.y,ye.x-Y.x,ye.y-Y.y)},Ri.prototype.clone=function(){return new Ri(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},B.Matrix=Ri;var og=B.matrixMult=function(M,Y){return Y.multiply(M)},Xm=new Ri(1,0,0,1,0,0);B.unitMatrix=B.identityMatrix=Xm;var yh=function(M,Y){if(!sC[M]){var ye=(Y instanceof Xb?"Sh":"P")+(Object.keys(xs).length+1).toString(10);Y.id=ye,sC[M]=ye,xs[ye]=Y,Es.publish("addPattern",Y)}};B.ShadingPattern=Xb,B.TilingPattern=lE,B.addShadingPattern=function(M,Y){return we("addShadingPattern()"),yh(M,Y),this},B.beginTilingPattern=function(M){we("beginTilingPattern()"),mO(M.boundingBox[0],M.boundingBox[1],M.boundingBox[2]-M.boundingBox[0],M.boundingBox[3]-M.boundingBox[1],M.matrix)},B.endTilingPattern=function(M,Y){we("endTilingPattern()"),Y.stream=un[me].join("\n"),yh(M,Y),Es.publish("endTilingPattern",Y),Jm.pop().restore()};var lc=B.__private__.newObject=function(){var M=jl();return xA(M,!0),M},jl=B.__private__.newObjectDeferred=function(){return We++,nt[We]=function(){return At},We},xA=function(M,Y){return Y="boolean"==typeof Y&&Y,nt[M]=At,Y&&be(M+" 0 obj"),M},mE=B.__private__.newAdditionalObject=function(){var M={objId:jl(),content:""};return pn.push(M),M},Oy=jl(),ag=jl(),lg=B.__private__.decodeColorString=function(M){var Y=M.split(" ");if(2!==Y.length||"g"!==Y[1]&&"G"!==Y[1])5===Y.length&&("k"===Y[4]||"K"===Y[4])&&(Y=[(1-Y[0])*(1-Y[3]),(1-Y[1])*(1-Y[3]),(1-Y[2])*(1-Y[3]),"r"]);else{var ye=parseFloat(Y[0]);Y=[ye,ye,ye,"r"]}for(var Be="#",Xe=0;Xe<3;Xe++)Be+=("0"+Math.floor(255*parseFloat(Y[Xe])).toString(16)).slice(-2);return Be},cg=B.__private__.encodeColorString=function(M){var Y;"string"==typeof M&&(M={ch1:M});var ye=M.ch1,Be=M.ch2,Xe=M.ch3,Mt=M.ch4,rn="draw"===M.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof ye&&"#"!==ye.charAt(0)){var Kn=new pK(ye);if(Kn.ok)ye=Kn.toHex();else if(!/^\d*\.?\d*$/.test(ye))throw new Error('Invalid color "'+ye+'" passed to jsPDF.encodeColorString.')}if("string"==typeof ye&&/^#[0-9A-Fa-f]{3}$/.test(ye)&&(ye="#"+ye[1]+ye[1]+ye[2]+ye[2]+ye[3]+ye[3]),"string"==typeof ye&&/^#[0-9A-Fa-f]{6}$/.test(ye)){var xi=parseInt(ye.substr(1),16);ye=xi>>16&255,Be=xi>>8&255,Xe=255&xi}if(void 0===Be||void 0===Mt&&ye===Be&&Be===Xe)Y="string"==typeof ye?ye+" "+rn[0]:2===M.precision?Bt(ye/255)+" "+rn[0]:Ae(ye/255)+" "+rn[0];else if(void 0===Mt||"object"===Os(Mt)){if(Mt&&!isNaN(Mt.a)&&0===Mt.a)return["1.","1.","1.",rn[1]].join(" ");Y="string"==typeof ye?[ye,Be,Xe,rn[1]].join(" "):2===M.precision?[Bt(ye/255),Bt(Be/255),Bt(Xe/255),rn[1]].join(" "):[Ae(ye/255),Ae(Be/255),Ae(Xe/255),rn[1]].join(" ")}else Y="string"==typeof ye?[ye,Be,Xe,Mt,rn[2]].join(" "):2===M.precision?[Bt(ye),Bt(Be),Bt(Xe),Bt(Mt),rn[2]].join(" "):[Ae(ye),Ae(Be),Ae(Xe),Ae(Mt),rn[2]].join(" ");return Y},e_=B.__private__.getFilters=function(){return a},kf=B.__private__.putStream=function(M){var Y=(M=M||{}).data||"",ye=M.filters||e_(),Be=M.alreadyAppliedFilters||[],Xe=M.addLength1||!1,Mt=Y.length,rn=M.objectId,Kn=function(Wu){return Wu};if(null!==_&&void 0===rn)throw new Error("ObjectId must be passed to putStream for file encryption");null!==_&&(Kn=Yu.encryptor(rn,0));var xi={};!0===ye&&(ye=["FlateEncode"]);var lr=M.additionalKeyValues||[],_r=(xi=void 0!==ki.API.processDataByFilters?ki.API.processDataByFilters(Y,ye):{data:Y,reverseChain:[]}).reverseChain+(Array.isArray(Be)?Be.join(" "):Be.toString());if(0!==xi.data.length&&(lr.push({key:"Length",value:xi.data.length}),!0===Xe&&lr.push({key:"Length1",value:Mt})),0!=_r.length)if(_r.split("/").length-1==1)lr.push({key:"Filter",value:_r});else{lr.push({key:"Filter",value:"["+_r+"]"});for(var Xr=0;Xr<lr.length;Xr+=1)if("DecodeParms"===lr[Xr].key){for(var Da=[],nl=0;nl<xi.reverseChain.split("/").length-1;nl+=1)Da.push("null");Da.push(lr[Xr].value),lr[Xr].value="["+Da.join(" ")+"]"}}be("<<");for(var zl=0;zl<lr.length;zl++)be("/"+lr[zl].key+" "+lr[zl].value);be(">>"),0!==xi.data.length&&(be("stream"),be(Kn(xi.data)),be("endstream"))},t_=B.__private__.putPage=function(M){var Y=M.number,ye=M.data,Be=M.objId,Xe=M.contentsObjId;xA(Be,!0),be("<</Type /Page"),be("/Parent "+M.rootDictionaryObjId+" 0 R"),be("/Resources "+M.resourceDictionaryObjId+" 0 R"),be("/MediaBox ["+parseFloat(Ve(M.mediaBox.bottomLeftX))+" "+parseFloat(Ve(M.mediaBox.bottomLeftY))+" "+Ve(M.mediaBox.topRightX)+" "+Ve(M.mediaBox.topRightY)+"]"),null!==M.cropBox&&be("/CropBox ["+Ve(M.cropBox.bottomLeftX)+" "+Ve(M.cropBox.bottomLeftY)+" "+Ve(M.cropBox.topRightX)+" "+Ve(M.cropBox.topRightY)+"]"),null!==M.bleedBox&&be("/BleedBox ["+Ve(M.bleedBox.bottomLeftX)+" "+Ve(M.bleedBox.bottomLeftY)+" "+Ve(M.bleedBox.topRightX)+" "+Ve(M.bleedBox.topRightY)+"]"),null!==M.trimBox&&be("/TrimBox ["+Ve(M.trimBox.bottomLeftX)+" "+Ve(M.trimBox.bottomLeftY)+" "+Ve(M.trimBox.topRightX)+" "+Ve(M.trimBox.topRightY)+"]"),null!==M.artBox&&be("/ArtBox ["+Ve(M.artBox.bottomLeftX)+" "+Ve(M.artBox.bottomLeftY)+" "+Ve(M.artBox.topRightX)+" "+Ve(M.artBox.topRightY)+"]"),"number"==typeof M.userUnit&&1!==M.userUnit&&be("/UserUnit "+M.userUnit),Es.publish("putPage",{objId:Be,pageContext:rr[Y],pageNumber:Y,page:ye}),be("/Contents "+Xe+" 0 R"),be(">>"),be("endobj");var Mt=ye.join("\n");return he===W.ADVANCED&&(Mt+="\nQ"),xA(Xe,!0),kf({data:Mt,filters:e_(),objectId:Xe}),be("endobj"),Be},aC=B.__private__.putPages=function(){var M,Y,ye=[];for(M=1;M<=tl;M++)rr[M].objId=jl(),rr[M].contentsObjId=jl();for(M=1;M<=tl;M++)ye.push(t_({number:M,data:un[M],objId:rr[M].objId,contentsObjId:rr[M].contentsObjId,mediaBox:rr[M].mediaBox,cropBox:rr[M].cropBox,bleedBox:rr[M].bleedBox,trimBox:rr[M].trimBox,artBox:rr[M].artBox,userUnit:rr[M].userUnit,rootDictionaryObjId:Oy,resourceDictionaryObjId:ag}));xA(Oy,!0),be("<</Type /Pages");var Be="/Kids [";for(Y=0;Y<tl;Y++)Be+=ye[Y]+" 0 R ";be(Be+"]"),be("/Count "+tl),be(">>"),be("endobj"),Es.publish("postPutPages")},_E=function(M){Es.publish("putFont",{font:M,out:be,newObject:lc,putStream:kf}),!0!==M.isAlreadyPutted&&(M.objectNumber=lc(),be("<<"),be("/Type /Font"),be("/BaseFont /"+aE(M.postScriptName)),be("/Subtype /Type1"),"string"==typeof M.encoding&&be("/Encoding /"+M.encoding),be("/FirstChar 32"),be("/LastChar 255"),be(">>"),be("endobj"))},yE=function(){for(var M in ho)ho.hasOwnProperty(M)&&(!1===C||!0===C&&F.hasOwnProperty(M))&&_E(ho[M])},vE=function(M){M.objectNumber=lc();var Y=[];Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Form"}),Y.push({key:"BBox",value:"["+[Ve(M.x),Ve(M.y),Ve(M.x+M.width),Ve(M.y+M.height)].join(" ")+"]"}),Y.push({key:"Matrix",value:"["+M.matrix.toString()+"]"});var ye=M.pages[1].join("\n");kf({data:ye,additionalKeyValues:Y,objectId:M.objectNumber}),be("endobj")},wE=function(){for(var M in lu)lu.hasOwnProperty(M)&&vE(lu[M])},XR=function(M,Y){var ye,Be=[],Xe=1/(Y-1);for(ye=0;ye<1;ye+=Xe)Be.push(ye);Be.push(1),0!=M[0].offset&&M.unshift({offset:0,color:M[0].color}),1!=M[M.length-1].offset&&M.push({offset:1,color:M[M.length-1].color});for(var Kn="",xi=0,lr=0;lr<Be.length;lr++){for(ye=Be[lr];ye>M[xi+1].offset;)xi++;var _r=M[xi].offset,Xr=(ye-_r)/(M[xi+1].offset-_r),Da=M[xi].color,nl=M[xi+1].color;Kn+=Pe(Math.round((1-Xr)*Da[0]+Xr*nl[0]).toString(16))+Pe(Math.round((1-Xr)*Da[1]+Xr*nl[1]).toString(16))+Pe(Math.round((1-Xr)*Da[2]+Xr*nl[2]).toString(16))}return Kn.trim()},k6=function(M,Y){Y||(Y=21);var ye=lc(),Be=XR(M.colors,Y),Xe=[];Xe.push({key:"FunctionType",value:"0"}),Xe.push({key:"Domain",value:"[0.0 1.0]"}),Xe.push({key:"Size",value:"["+Y+"]"}),Xe.push({key:"BitsPerSample",value:"8"}),Xe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Xe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),kf({data:Be,additionalKeyValues:Xe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ye}),be("endobj"),M.objectNumber=lc(),be("<< /ShadingType "+M.type),be("/ColorSpace /DeviceRGB");var Mt="/Coords ["+Ve(parseFloat(M.coords[0]))+" "+Ve(parseFloat(M.coords[1]))+" ";Mt+=2===M.type?Ve(parseFloat(M.coords[2]))+" "+Ve(parseFloat(M.coords[3])):Ve(parseFloat(M.coords[2]))+" "+Ve(parseFloat(M.coords[3]))+" "+Ve(parseFloat(M.coords[4]))+" "+Ve(parseFloat(M.coords[5])),be(Mt+="]"),M.matrix&&be("/Matrix ["+M.matrix.toString()+"]"),be("/Function "+ye+" 0 R"),be("/Extend [true true]"),be(">>"),be("endobj")},R6=function(M,Y){var ye=jl(),Be=lc();Y.push({resourcesOid:ye,objectOid:Be}),M.objectNumber=Be;var Xe=[];Xe.push({key:"Type",value:"/Pattern"}),Xe.push({key:"PatternType",value:"1"}),Xe.push({key:"PaintType",value:"1"}),Xe.push({key:"TilingType",value:"1"}),Xe.push({key:"BBox",value:"["+M.boundingBox.map(Ve).join(" ")+"]"}),Xe.push({key:"XStep",value:Ve(M.xStep)}),Xe.push({key:"YStep",value:Ve(M.yStep)}),Xe.push({key:"Resources",value:ye+" 0 R"}),M.matrix&&Xe.push({key:"Matrix",value:"["+M.matrix.toString()+"]"}),kf({data:M.stream,additionalKeyValues:Xe,objectId:M.objectNumber}),be("endobj")},bE=function(M){var Y;for(Y in xs)xs.hasOwnProperty(Y)&&(xs[Y]instanceof Xb?k6(xs[Y]):xs[Y]instanceof lE&&R6(xs[Y],M))},eO=function(M){for(var Y in M.objectNumber=lc(),be("<<"),M)switch(Y){case"opacity":be("/ca "+Bt(M[Y]));break;case"stroke-opacity":be("/CA "+Bt(M[Y]))}be(">>"),be("endobj")},O6=function(){var M;for(M in el)el.hasOwnProperty(M)&&eO(el[M])},K2=function(){for(var M in be("/XObject <<"),lu)lu.hasOwnProperty(M)&&lu[M].objectNumber>=0&&be("/"+M+" "+lu[M].objectNumber+" 0 R");Es.publish("putXobjectDict"),be(">>")},L6=function(){Yu.oid=lc(),be("<<"),be("/Filter /Standard"),be("/V "+Yu.v),be("/R "+Yu.r),be("/U <"+Yu.toHexString(Yu.U)+">"),be("/O <"+Yu.toHexString(Yu.O)+">"),be("/P "+Yu.P),be(">>"),be("endobj")},tO=function(){for(var M in be("/Font <<"),ho)ho.hasOwnProperty(M)&&(!1===C||!0===C&&F.hasOwnProperty(M))&&be("/"+M+" "+ho[M].objectNumber+" 0 R");be(">>")},N6=function(){if(Object.keys(xs).length>0){for(var M in be("/Shading <<"),xs)xs.hasOwnProperty(M)&&xs[M]instanceof Xb&&xs[M].objectNumber>=0&&be("/"+M+" "+xs[M].objectNumber+" 0 R");Es.publish("putShadingPatternDict"),be(">>")}},CE=function(M){if(Object.keys(xs).length>0){for(var Y in be("/Pattern <<"),xs)xs.hasOwnProperty(Y)&&xs[Y]instanceof B.TilingPattern&&xs[Y].objectNumber>=0&&xs[Y].objectNumber<M&&be("/"+Y+" "+xs[Y].objectNumber+" 0 R");Es.publish("putTilingPatternDict"),be(">>")}},P6=function(){if(Object.keys(el).length>0){var M;for(M in be("/ExtGState <<"),el)el.hasOwnProperty(M)&&el[M].objectNumber>=0&&be("/"+M+" "+el[M].objectNumber+" 0 R");Es.publish("putGStateDict"),be(">>")}},wl=function(M){xA(M.resourcesOid,!0),be("<<"),be("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),tO(),N6(),CE(M.objectOid),P6(),K2(),be(">>"),be("endobj")},nO=function(){var M=[];yE(),O6(),wE(),bE(M),Es.publish("putResources"),M.forEach(wl),wl({resourcesOid:ag,objectOid:Number.MAX_SAFE_INTEGER}),Es.publish("postPutResources")},iO=function(){Es.publish("putAdditionalObjects");for(var M=0;M<pn.length;M++){var Y=pn[M];xA(Y.objId,!0),be(Y.content),be("endobj")}Es.publish("postPutAdditionalObjects")},rO=function(M){da[M.fontName]=da[M.fontName]||{},da[M.fontName][M.fontStyle]=M.id},Z2=function(M,Y,ye,Be,Xe){var Mt={id:"F"+(Object.keys(ho).length+1).toString(10),postScriptName:M,fontName:Y,fontStyle:ye,encoding:Be,isStandardFont:Xe||!1,metadata:{}};return Es.publish("addFont",{font:Mt,instance:this}),ho[Mt.id]=Mt,rO(Mt),Mt.id},U6=function(M){for(var Y=0,ye=dn.length;Y<ye;Y++){var Be=Z2.call(this,M[Y][0],M[Y][1],M[Y][2],dn[Y][3],!0);!1===C&&(F[Be]=!0);var Xe=M[Y][0].split("-");rO({id:Be,fontName:Xe[0],fontStyle:Xe[1]||""})}Es.publish("addFonts",{fonts:ho,dictionary:da})},ug=function(M){return M.foo=function(){try{return M.apply(this,arguments)}catch(Be){var Y=Be.stack||"";~Y.indexOf(" at ")&&(Y=Y.split(" at ")[1]);var ye="Error in function "+Y.split("\n")[0].split("<")[0]+": "+Be.message;if(!Ni.console)throw new Error(ye);Ni.console.error(ye,Be),Ni.alert&&alert(ye)}},M.foo.bar=M,M.foo},xE=function(M,Y){var ye,Be,Xe,Mt,rn,Kn,xi,lr,_r;if(Xe=(Y=Y||{}).sourceEncoding||"Unicode",rn=Y.outputEncoding,(Y.autoencode||rn)&&ho[Br].metadata&&ho[Br].metadata[Xe]&&ho[Br].metadata[Xe].encoding&&(Mt=ho[Br].metadata[Xe].encoding,!rn&&ho[Br].encoding&&(rn=ho[Br].encoding),!rn&&Mt.codePages&&(rn=Mt.codePages[0]),"string"==typeof rn&&(rn=Mt[rn]),rn)){for(xi=!1,Kn=[],ye=0,Be=M.length;ye<Be;ye++)(lr=rn[M.charCodeAt(ye)])?Kn.push(String.fromCharCode(lr)):Kn.push(M[ye]),Kn[ye].charCodeAt(0)>>8&&(xi=!0);M=Kn.join("")}for(ye=M.length;void 0===xi&&0!==ye;)M.charCodeAt(ye-1)>>8&&(xi=!0),ye--;if(!xi)return M;for(Kn=Y.noBOM?[]:[254,255],ye=0,Be=M.length;ye<Be;ye++){if((_r=(lr=M.charCodeAt(ye))>>8)>>8)throw new Error("Character at position "+ye+" of string '"+M+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Kn.push(_r),Kn.push(lr-(_r<<8))}return String.fromCharCode.apply(void 0,Kn)},vh=B.__private__.pdfEscape=B.pdfEscape=function(M,Y){return xE(M,Y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},$2=B.__private__.beginPage=function(M){un[++tl]=[],rr[tl]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(M[0]),topRightY:Number(M[1])}},oO(tl),Ot(un[me])},sO=function(M,Y){var ye,Be,Xe;switch(e=Y||e,"string"==typeof M&&(ye=q(M.toLowerCase()),Array.isArray(ye)&&(Be=ye[0],Xe=ye[1])),Array.isArray(M)&&(Be=M[0]*Qn,Xe=M[1]*Qn),isNaN(Be)&&(Be=r[0],Xe=r[1]),(Be>14400||Xe>14400)&&(uo.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Be=Math.min(14400,Be),Xe=Math.min(14400,Xe)),r=[Be,Xe],e.substr(0,1)){case"l":Xe>Be&&(r=[Xe,Be]);break;case"p":Be>Xe&&(r=[Xe,Be])}$2(r),hO(X2),be(dg),0!==tT&&be(tT+" J"),0!==nT&&be(nT+" j"),Es.publish("addPage",{pageNumber:tl})},Q6=function(M){M>0&&M<=tl&&(un.splice(M,1),rr.splice(M,1),tl--,me>tl&&(me=tl),this.setPage(me))},oO=function(M){M>0&&M<=tl&&(me=M)},H6=B.__private__.getNumberOfPages=B.getNumberOfPages=function(){return un.length-1},aO=function(M,Y,ye){var Be,Xe=void 0;return ye=ye||{},Y=void 0!==Y?Y:ho[Br].fontStyle,Be=(M=void 0!==M?M:ho[Br].fontName).toLowerCase(),void 0!==da[Be]&&void 0!==da[Be][Y]?Xe=da[Be][Y]:void 0!==da[M]&&void 0!==da[M][Y]?Xe=da[M][Y]:!1===ye.disableWarning&&uo.warn("Unable to look up font label for font '"+M+"', '"+Y+"'. Refer to getFontList() for available fonts."),Xe||ye.noFallback||null==(Xe=da.times[Y])&&(Xe=da.times.normal),Xe},V6=B.__private__.putInfo=function(){var M=lc(),Y=function(Be){return Be};for(var ye in null!==_&&(Y=Yu.encryptor(M,0)),be("<<"),be("/Producer ("+vh(Y("jsPDF "+ki.version))+")"),zi)zi.hasOwnProperty(ye)&&zi[ye]&&be("/"+ye.substr(0,1).toUpperCase()+ye.substr(1)+" ("+vh(Y(zi[ye]))+")");be("/CreationDate ("+vh(Y(xt))+")"),be(">>"),be("endobj")},Y2=B.__private__.putCatalog=function(M){var Y=(M=M||{}).rootDictionaryObjId||Oy;switch(lc(),be("<<"),be("/Type /Catalog"),be("/Pages "+Y+" 0 R"),Un||(Un="fullwidth"),Un){case"fullwidth":be("/OpenAction [3 0 R /FitH null]");break;case"fullheight":be("/OpenAction [3 0 R /FitV null]");break;case"fullpage":be("/OpenAction [3 0 R /Fit]");break;case"original":be("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ye=""+Un;"%"===ye.substr(ye.length-1)&&(Un=parseInt(Un)/100),"number"==typeof Un&&be("/OpenAction [3 0 R /XYZ null null "+Bt(Un)+"]")}switch(Er||(Er="continuous"),Er){case"continuous":be("/PageLayout /OneColumn");break;case"single":be("/PageLayout /SinglePage");break;case"two":case"twoleft":be("/PageLayout /TwoColumnLeft");break;case"tworight":be("/PageLayout /TwoColumnRight")}ir&&be("/PageMode /"+ir),Es.publish("putCatalog"),be(">>"),be("endobj")},G6=B.__private__.putTrailer=function(){be("trailer"),be("<<"),be("/Size "+(We+1)),be("/Root "+We+" 0 R"),be("/Info "+(We-1)+" 0 R"),null!==_&&be("/Encrypt "+Yu.oid+" 0 R"),be("/ID [ <"+Re+"> <"+Re+"> ]"),be(">>")},j6=B.__private__.putHeader=function(){be("%PDF-"+U),be("%\xba\xdf\xac\xe0")},z6=B.__private__.putXRef=function(){var M="0000000000";be("xref"),be("0 "+(We+1)),be("0000000000 65535 f ");for(var Y=1;Y<=We;Y++)be("function"==typeof nt[Y]?(M+nt[Y]()).slice(-10)+" 00000 n ":void 0!==nt[Y]?(M+nt[Y]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},Ly=B.__private__.buildDocument=function(){Pi(),Ot(ft),Es.publish("buildDocument"),j6(),aC(),iO(),nO(),null!==_&&L6(),V6(),Y2();var M=At;return z6(),G6(),be("startxref"),be(""+M),be("%%EOF"),Ot(un[me]),ft.join("\n")},EE=B.__private__.getBlob=function(M){return new Blob([li(M)],{type:"application/pdf"})},SE=B.output=B.__private__.output=ug(function(M,Y){switch("string"==typeof(Y=Y||{})?Y={filename:Y}:Y.filename=Y.filename||"generated.pdf",M){case void 0:return Ly();case"save":B.save(Y.filename);break;case"arraybuffer":return li(Ly());case"blob":return EE(Ly());case"bloburi":case"bloburl":if(void 0!==Ni.URL&&"function"==typeof Ni.URL.createObjectURL)return Ni.URL&&Ni.URL.createObjectURL(EE(Ly()))||void 0;uo.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ye="",Be=Ly();try{ye=H3(Be)}catch{ye=H3(unescape(encodeURIComponent(Be)))}return"data:application/pdf;filename="+Y.filename+";base64,"+ye;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Ni)){var Xe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Mt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Y.pdfObjectUrl&&(Xe=Y.pdfObjectUrl,Mt="");var rn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Xe+'"'+Mt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Y)+");<\/script></body></html>",Kn=Ni.open();return null!==Kn&&Kn.document.write(rn),Kn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Ni)){var xi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Y.filename+'" width="500px" height="400px" /></body></html>',lr=Ni.open();if(null!==lr){lr.document.write(xi);var _r=this;lr.document.documentElement.querySelector("#pdfViewer").onload=function(){lr.document.title=Y.filename,lr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(_r.output("bloburl"))}}return lr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Ni))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Xr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Y)+'"></iframe></body></html>',Da=Ni.open();if(null!==Da&&(Da.document.write(Xr),Da.document.title=Y.filename),Da||typeof safari>"u")return Da;break;case"datauri":case"dataurl":return Ni.document.location.href=this.output("datauristring",Y);default:return null}}),lO=function(M){return!0===Array.isArray(oC)&&oC.indexOf(M)>-1};switch(i){case"pt":Qn=1;break;case"mm":Qn=72/25.4;break;case"cm":Qn=72/2.54;break;case"in":Qn=72;break;case"px":Qn=1==lO("px_scaling")?.75:96/72;break;case"pc":case"em":Qn=12;break;case"ex":Qn=6;break;default:if("number"!=typeof i)throw new Error("Invalid unit: "+i);Qn=i}var Yu=null;_n(),Ne();var q6=function(M){return null!==_?Yu.encryptor(M,0):function(Y){return Y}},cO=B.__private__.getPageInfo=B.getPageInfo=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:rr[M].objId,pageNumber:M,pageContext:rr[M]}},Ji=B.__private__.getPageInfoByObjId=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Y in rr)if(rr[Y].objId===M)break;return cO(Y)},K6=B.__private__.getCurrentPageInfo=B.getCurrentPageInfo=function(){return{objId:rr[me].objId,pageNumber:me,pageContext:rr[me]}};B.addPage=function(){return sO.apply(this,arguments),this},B.setPage=function(){return oO.apply(this,arguments),Ot.call(this,un[me]),this},B.insertPage=function(M){return this.addPage(),this.movePage(me,M),this},B.movePage=function(M,Y){var ye,Be;if(M>Y){ye=un[M],Be=rr[M];for(var Xe=M;Xe>Y;Xe--)un[Xe]=un[Xe-1],rr[Xe]=rr[Xe-1];un[Y]=ye,rr[Y]=Be,this.setPage(Y)}else if(M<Y){ye=un[M],Be=rr[M];for(var Mt=M;Mt<Y;Mt++)un[Mt]=un[Mt+1],rr[Mt]=rr[Mt+1];un[Y]=ye,rr[Y]=Be,this.setPage(Y)}return this},B.deletePage=function(){return Q6.apply(this,arguments),this},B.__private__.text=B.text=function(M,Y,ye,Be,Xe){var Mt,rn,Kn,xi,lr,_r,Xr,Da,nl,zl=(Be=Be||{}).scope||this;if("number"==typeof M&&"number"==typeof Y&&("string"==typeof ye||Array.isArray(ye))){var Wu=ye;ye=Y,Y=M,M=Wu}if(arguments[3]instanceof Ri?(we("The transform parameter of text() with a Matrix value"),nl=Xe):(Kn=arguments[4],xi=arguments[5],"object"===Os(Xr=arguments[3])&&null!==Xr||("string"==typeof Kn&&(xi=Kn,Kn=null),"string"==typeof Xr&&(xi=Xr,Xr=null),"number"==typeof Xr&&(Kn=Xr,Xr=null),Be={flags:Xr,angle:Kn,align:xi})),isNaN(Y)||isNaN(ye)||null==M)throw new Error("Invalid arguments passed to jsPDF.text");if(0===M.length)return zl;var Nc="",hg=!1,EA="number"==typeof Be.lineHeightFactor?Be.lineHeightFactor:cC,Py=zl.internal.scaleFactor;function _O(Mo){return Mo=Mo.split("\t").join(Array(Be.TabLen||9).join(" ")),vh(Mo,Xr)}function aT(Mo){for(var ko,bl=Mo.concat(),cc=[],Vy=bl.length;Vy--;)"string"==typeof(ko=bl.shift())?cc.push(ko):Array.isArray(Mo)&&(1===ko.length||void 0===ko[1]&&void 0===ko[2])?cc.push(ko[0]):cc.push([ko[0],ko[1],ko[2]]);return cc}function lT(Mo,ko){var bl;if("string"==typeof Mo)bl=ko(Mo)[0];else if(Array.isArray(Mo)){for(var cc,Vy,Y0=Mo.concat(),QE=[],vO=Y0.length;vO--;)"string"==typeof(cc=Y0.shift())?QE.push(ko(cc)[0]):Array.isArray(cc)&&"string"==typeof cc[0]&&(Vy=ko(cc[0],cc[1],cc[2]),QE.push([Vy[0],Vy[1],Vy[2]]));bl=QE}return bl}var ME=!1,cT=!0;if("string"==typeof M)ME=!0;else if(Array.isArray(M)){var uT=M.concat();rn=[];for(var kE,wh=uT.length;wh--;)("string"!=typeof(kE=uT.shift())||Array.isArray(kE)&&"string"!=typeof kE[0])&&(cT=!1);ME=cT}if(!1===ME)throw new Error('Type of text must be string or Array. "'+M+'" is not recognized.');"string"==typeof M&&(M=M.match(/[\r?\n]/)?M.split(/\r\n|\r|\n/g):[M]);var RE=In/zl.internal.scaleFactor,OE=RE*(EA-1);switch(Be.baseline){case"bottom":ye-=OE;break;case"top":ye+=RE-OE;break;case"hanging":ye+=RE-2*OE;break;case"middle":ye+=RE/2-OE}if((_r=Be.maxWidth||0)>0&&("string"==typeof M?M=zl.splitTextToSize(M,_r):"[object Array]"===Object.prototype.toString.call(M)&&(M=M.reduce(function(Mo,ko){return Mo.concat(zl.splitTextToSize(ko,_r))},[]))),Es.publish("preProcessText",Mt={text:M,x:Y,y:ye,options:Be,mutex:{pdfEscape:vh,activeFontKey:Br,fonts:ho,activeFontSize:In}}),M=Mt.text,Kn=(Be=Mt.options).angle,nl instanceof Ri||!Kn||"number"!=typeof Kn)Kn&&Kn instanceof Ri&&(nl=Kn);else{Kn*=Math.PI/180,0===Be.rotationDirection&&(Kn=-Kn),he===W.ADVANCED&&(Kn=-Kn);var LE=Math.cos(Kn),dT=Math.sin(Kn);nl=new Ri(LE,dT,-dT,LE,0,0)}he!==W.ADVANCED||nl||(nl=Xm),void 0!==(lr=Be.charSpace||TE)&&(Nc+=Ve(de(lr))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(Da=Be.horizontalScale)&&(Nc+=Ve(100*Da)+" Tz\n");var bh=-1,iQ=void 0!==Be.renderingMode?Be.renderingMode:Be.stroke,hT=zl.internal.getCurrentPageInfo().pageContext;switch(iQ){case 0:case!1:case"fill":bh=0;break;case 1:case!0:case"stroke":bh=1;break;case 2:case"fillThenStroke":bh=2;break;case 3:case"invisible":bh=3;break;case 4:case"fillAndAddForClipping":bh=4;break;case 5:case"strokeAndAddPathForClipping":bh=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":bh=6;break;case 7:case"addToPathForClipping":bh=7}var yO=void 0!==hT.usedRenderingMode?hT.usedRenderingMode:-1;-1!==bh?Nc+=bh+" Tr\n":-1!==yO&&(Nc+="0 Tr\n"),-1!==bh&&(hT.usedRenderingMode=bh),xi=Be.align||"left";var Ag,AT=In*EA,rQ=zl.internal.pageSize.getWidth(),sQ=ho[Br];lr=Be.charSpace||TE,_r=Be.maxWidth||0,Xr=Object.assign({autoencode:!0,noBOM:!0},Be.flags);var q0=[];if("[object Array]"===Object.prototype.toString.call(M)){var Rf;rn=aT(M),"left"!==xi&&(Ag=rn.map(function(Mo){return zl.getStringUnitWidth(Mo,{font:sQ,charSpace:lr,fontSize:In,doKerning:!1})*In/Py}));var fg,K0=0;if("right"===xi){Y-=Ag[0],M=[],wh=rn.length;for(var i_=0;i_<wh;i_++)0===i_?(fg=Ny(Y),Rf=G0(ye)):(fg=de(K0-Ag[i_]),Rf=-AT),M.push([rn[i_],fg,Rf]),K0=Ag[i_]}else if("center"===xi){Y-=Ag[0]/2,M=[],wh=rn.length;for(var Uy=0;Uy<wh;Uy++)0===Uy?(fg=Ny(Y),Rf=G0(ye)):(fg=de((K0-Ag[Uy])/2),Rf=-AT),M.push([rn[Uy],fg,Rf]),K0=Ag[Uy]}else if("left"===xi){M=[],wh=rn.length;for(var NE=0;NE<wh;NE++)M.push(rn[NE])}else{if("justify"!==xi)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');M=[],wh=rn.length,_r=0!==_r?_r:rQ;for(var pg=0;pg<wh;pg++)Rf=0===pg?G0(ye):-AT,fg=0===pg?Ny(Y):0,q0.push(pg<wh-1?Ve(de((_r-Ag[pg])/(rn[pg].split(" ").length-1))):0),M.push([rn[pg],fg,Rf])}}var PE="boolean"==typeof Be.R2L?Be.R2L:yi;!0===PE&&(M=lT(M,function(Mo,ko,bl){return[Mo.split("").reverse().join(""),ko,bl]})),Es.publish("postProcessText",Mt={text:M,x:Y,y:ye,options:Be,mutex:{pdfEscape:vh,activeFontKey:Br,fonts:ho,activeFontSize:In}}),M=Mt.text,hg=Mt.mutex.isHex||!1;var fT=ho[Br].encoding;"WinAnsiEncoding"!==fT&&"StandardEncoding"!==fT||(M=lT(M,function(Mo,ko,bl){return[_O(Mo),ko,bl]})),rn=aT(M),M=[];for(var Z0,gg,Qy,hC=0,UE=1,AC=Array.isArray(rn[0])?UE:hC,$0="",pT=function(Mo,ko,bl){var cc="";return bl instanceof Ri?(bl="number"==typeof Be.angle?og(bl,new Ri(1,0,0,1,Mo,ko)):og(new Ri(1,0,0,1,Mo,ko),bl),he===W.ADVANCED&&(bl=og(new Ri(1,0,0,-1,0,0),bl)),cc=bl.join(" ")+" Tm\n"):cc=Ve(Mo)+" "+Ve(ko)+" Td\n",cc},Of=0;Of<rn.length;Of++){switch($0="",AC){case UE:Qy=(hg?"<":"(")+rn[Of][0]+(hg?">":")"),Z0=parseFloat(rn[Of][1]),gg=parseFloat(rn[Of][2]);break;case hC:Qy=(hg?"<":"(")+rn[Of]+(hg?">":")"),Z0=Ny(Y),gg=G0(ye)}void 0!==q0&&void 0!==q0[Of]&&($0=q0[Of]+" Tw\n"),0===Of?M.push($0+pT(Z0,gg,nl)+Qy):AC===hC?M.push($0+Qy):AC===UE&&M.push($0+pT(Z0,gg,nl)+Qy)}M=M.join(AC===hC?" Tj\nT* ":" Tj\n"),M+=" Tj\n";var Hy="BT\n/";return Hy+=Br+" "+In+" Tf\n",Hy+=Ve(In*EA)+" TL\n",Hy+=uC+"\n",Hy+=Nc,Hy+=M,be(Hy+="ET"),F[Br]=!0,zl};var Z6=B.__private__.clip=B.clip=function(M){return be("evenodd"===M?"W*":"W"),this};B.clipEvenOdd=function(){return Z6("evenodd")},B.__private__.discardPath=B.discardPath=function(){return be("n"),this};var n_=B.__private__.isValidStyle=function(M){var Y=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(M)&&(Y=!0),Y};B.__private__.setDefaultPathOperation=B.setDefaultPathOperation=function(M){return n_(M)&&(f=M),this};var uO=B.__private__.getStyle=B.getStyle=function(M){var Y=f;switch(M){case"D":case"S":Y="S";break;case"F":Y="f";break;case"FD":case"DF":Y="B";break;case"f":case"f*":case"B":case"B*":Y=M}return Y},dO=B.close=function(){return be("h"),this};B.stroke=function(){return be("S"),this},B.fill=function(M){return IE("f",M),this},B.fillEvenOdd=function(M){return IE("f*",M),this},B.fillStroke=function(M){return IE("B",M),this},B.fillStrokeEvenOdd=function(M){return IE("B*",M),this};var IE=function(M,Y){"object"===Os(Y)?Y6(Y,M):be(M)},W2=function(M){null===M||he===W.ADVANCED&&void 0===M||(M=uO(M),be(M))};function $6(M,Y,ye,Be,Xe){var Mt=new lE(Y||this.boundingBox,ye||this.xStep,Be||this.yStep,this.gState,Xe||this.matrix);Mt.stream=this.stream;var rn=M+"$$"+this.cloneIndex+++"$$";return yh(rn,Mt),Mt}var Y6=function(M,Y){var ye=sC[M.key],Be=xs[ye];if(Be instanceof Xb)be("q"),be(W6(Y)),Be.gState&&B.setGState(Be.gState),be(M.matrix.toString()+" cm"),be("/"+ye+" sh"),be("Q");else if(Be instanceof lE){var Xe=new Ri(1,0,0,-1,0,z0());M.matrix&&(Xe=Xe.multiply(M.matrix||Xm),ye=$6.call(Be,M.key,M.boundingBox,M.xStep,M.yStep,Xe).id),be("q"),be("/Pattern cs"),be("/"+ye+" scn"),Be.gState&&B.setGState(Be.gState),be(Y),be("Q")}},W6=function(M){switch(M){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},J2=B.moveTo=function(M,Y){return be(Ve(de(M))+" "+Ve(Se(Y))+" m"),this},lC=B.lineTo=function(M,Y){return be(Ve(de(M))+" "+Ve(Se(Y))+" l"),this},V0=B.curveTo=function(M,Y,ye,Be,Xe,Mt){return be([Ve(de(M)),Ve(Se(Y)),Ve(de(ye)),Ve(Se(Be)),Ve(de(Xe)),Ve(Se(Mt)),"c"].join(" ")),this};B.__private__.line=B.line=function(M,Y,ye,Be,Xe){if(isNaN(M)||isNaN(Y)||isNaN(ye)||isNaN(Be)||!n_(Xe))throw new Error("Invalid arguments passed to jsPDF.line");return he===W.COMPAT?this.lines([[ye-M,Be-Y]],M,Y,[1,1],Xe||"S"):this.lines([[ye-M,Be-Y]],M,Y,[1,1]).stroke()},B.__private__.lines=B.lines=function(M,Y,ye,Be,Xe,Mt){var rn,Kn,xi,lr,_r,Wu,Nc,hg;if("number"==typeof M&&(hg=ye,ye=Y,Y=M,M=hg),Be=Be||[1,1],Mt=Mt||!1,isNaN(Y)||isNaN(ye)||!Array.isArray(M)||!Array.isArray(Be)||!n_(Xe)||"boolean"!=typeof Mt)throw new Error("Invalid arguments passed to jsPDF.lines");for(J2(Y,ye),rn=Be[0],Kn=Be[1],lr=M.length,Wu=Y,Nc=ye,xi=0;xi<lr;xi++)2===(_r=M[xi]).length?lC(Wu=_r[0]*rn+Wu,Nc=_r[1]*Kn+Nc):V0(_r[0]*rn+Wu,_r[1]*Kn+Nc,_r[2]*rn+Wu,_r[3]*Kn+Nc,Wu=_r[4]*rn+Wu,Nc=_r[5]*Kn+Nc);return Mt&&dO(),W2(Xe),this},B.path=function(M){for(var Y=0;Y<M.length;Y++){var ye=M[Y],Be=ye.c;switch(ye.op){case"m":J2(Be[0],Be[1]);break;case"l":lC(Be[0],Be[1]);break;case"c":V0.apply(this,Be);break;case"h":dO()}}return this},B.__private__.rect=B.rect=function(M,Y,ye,Be,Xe){if(isNaN(M)||isNaN(Y)||isNaN(ye)||isNaN(Be)||!n_(Xe))throw new Error("Invalid arguments passed to jsPDF.rect");return he===W.COMPAT&&(Be=-Be),be([Ve(de(M)),Ve(Se(Y)),Ve(de(ye)),Ve(de(Be)),"re"].join(" ")),W2(Xe),this},B.__private__.triangle=B.triangle=function(M,Y,ye,Be,Xe,Mt,rn){if(isNaN(M)||isNaN(Y)||isNaN(ye)||isNaN(Be)||isNaN(Xe)||isNaN(Mt)||!n_(rn))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ye-M,Be-Y],[Xe-ye,Mt-Be],[M-Xe,Y-Mt]],M,Y,[1,1],rn,!0),this},B.__private__.roundedRect=B.roundedRect=function(M,Y,ye,Be,Xe,Mt,rn){if(isNaN(M)||isNaN(Y)||isNaN(ye)||isNaN(Be)||isNaN(Xe)||isNaN(Mt)||!n_(rn))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Kn=4/3*(Math.SQRT2-1);return Xe=Math.min(Xe,.5*ye),Mt=Math.min(Mt,.5*Be),this.lines([[ye-2*Xe,0],[Xe*Kn,0,Xe,Mt-Mt*Kn,Xe,Mt],[0,Be-2*Mt],[0,Mt*Kn,-Xe*Kn,Mt,-Xe,Mt],[2*Xe-ye,0],[-Xe*Kn,0,-Xe,-Mt*Kn,-Xe,-Mt],[0,2*Mt-Be],[0,-Mt*Kn,Xe*Kn,-Mt,Xe,-Mt]],M+Xe,Y,[1,1],rn,!0),this},B.__private__.ellipse=B.ellipse=function(M,Y,ye,Be,Xe){if(isNaN(M)||isNaN(Y)||isNaN(ye)||isNaN(Be)||!n_(Xe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Mt=4/3*(Math.SQRT2-1)*ye,rn=4/3*(Math.SQRT2-1)*Be;return J2(M+ye,Y),V0(M+ye,Y-rn,M+Mt,Y-Be,M,Y-Be),V0(M-Mt,Y-Be,M-ye,Y-rn,M-ye,Y),V0(M-ye,Y+rn,M-Mt,Y+Be,M,Y+Be),V0(M+Mt,Y+Be,M+ye,Y+rn,M+ye,Y),W2(Xe),this},B.__private__.circle=B.circle=function(M,Y,ye,Be){if(isNaN(M)||isNaN(Y)||isNaN(ye)||!n_(Be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(M,Y,ye,ye,Be)},B.setFont=function(M,Y,ye){return ye&&(Y=ct(Y,ye)),Br=aO(M,Y,{disableWarning:!1}),this};var J6=B.__private__.getFont=B.getFont=function(){return ho[aO.apply(B,arguments)]};B.__private__.getFontList=B.getFontList=function(){var M,Y,ye={};for(M in da)if(da.hasOwnProperty(M))for(Y in ye[M]=[],da[M])da[M].hasOwnProperty(Y)&&ye[M].push(Y);return ye},B.addFont=function(M,Y,ye,Be,Xe){var Mt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==Mt.indexOf(arguments[3])?Xe=arguments[3]:arguments[3]&&-1==Mt.indexOf(arguments[3])&&(ye=ct(ye,Be)),Z2.call(this,M,Y,ye,Xe=Xe||"Identity-H")};var cC,X2=n.lineWidth||.200025,DE=B.__private__.getLineWidth=B.getLineWidth=function(){return X2},hO=B.__private__.setLineWidth=B.setLineWidth=function(M){return X2=M,be(Ve(de(M))+" w"),this};B.__private__.setLineDash=ki.API.setLineDash=ki.API.setLineDashPattern=function(M,Y){if(M=M||[],Y=Y||0,isNaN(Y)||!Array.isArray(M))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return M=M.map(function(ye){return Ve(de(ye))}).join(" "),Y=Ve(de(Y)),be("["+M+"] "+Y+" d"),this};var AO=B.__private__.getLineHeight=B.getLineHeight=function(){return In*cC};B.__private__.getLineHeight=B.getLineHeight=function(){return In*cC};var fO=B.__private__.setLineHeightFactor=B.setLineHeightFactor=function(M){return"number"==typeof(M=M||1.15)&&(cC=M),this},pO=B.__private__.getLineHeightFactor=B.getLineHeightFactor=function(){return cC};fO(n.lineHeight);var Ny=B.__private__.getHorizontalCoordinate=function(M){return de(M)},G0=B.__private__.getVerticalCoordinate=function(M){return he===W.ADVANCED?M:rr[me].mediaBox.topRightY-rr[me].mediaBox.bottomLeftY-de(M)},X6=B.__private__.getHorizontalCoordinateString=B.getHorizontalCoordinateString=function(M){return Ve(Ny(M))},j0=B.__private__.getVerticalCoordinateString=B.getVerticalCoordinateString=function(M){return Ve(G0(M))},dg=n.strokeColor||"0 G";B.__private__.getStrokeColor=B.getDrawColor=function(){return lg(dg)},B.__private__.setStrokeColor=B.setDrawColor=function(M,Y,ye,Be){return dg=cg({ch1:M,ch2:Y,ch3:ye,ch4:Be,pdfColorType:"draw",precision:2}),be(dg),this};var eT=n.fillColor||"0 g";B.__private__.getFillColor=B.getFillColor=function(){return lg(eT)},B.__private__.setFillColor=B.setFillColor=function(M,Y,ye,Be){return eT=cg({ch1:M,ch2:Y,ch3:ye,ch4:Be,pdfColorType:"fill",precision:2}),be(eT),this};var uC=n.textColor||"0 g",eQ=B.__private__.getTextColor=B.getTextColor=function(){return lg(uC)};B.__private__.setTextColor=B.setTextColor=function(M,Y,ye,Be){return uC=cg({ch1:M,ch2:Y,ch3:ye,ch4:Be,pdfColorType:"text",precision:3}),this};var TE=n.charSpace,tQ=B.__private__.getCharSpace=B.getCharSpace=function(){return parseFloat(TE||0)};B.__private__.setCharSpace=B.setCharSpace=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return TE=M,this};var tT=0;B.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},B.__private__.setLineCap=B.setLineCap=function(M){var Y=B.CapJoinStyles[M];if(void 0===Y)throw new Error("Line cap style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return tT=Y,be(Y+" J"),this};var nT=0;B.__private__.setLineJoin=B.setLineJoin=function(M){var Y=B.CapJoinStyles[M];if(void 0===Y)throw new Error("Line join style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return nT=Y,be(Y+" j"),this},B.__private__.setLineMiterLimit=B.__private__.setMiterLimit=B.setLineMiterLimit=B.setMiterLimit=function(M){if(M=M||0,isNaN(M))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return be(Ve(de(M))+" M"),this},B.GState=SR,B.setGState=function(M){(M="string"==typeof M?el[sg[M]]:gO(null,M)).equals(Ry)||(be("/"+M.id+" gs"),Ry=M)};var gO=function(M,Y){if(!M||!sg[M]){var ye=!1;for(var Be in el)if(el.hasOwnProperty(Be)&&el[Be].equals(Y)){ye=!0;break}if(ye)Y=el[Be];else{var Xe="GS"+(Object.keys(el).length+1).toString(10);el[Xe]=Y,Y.id=Xe}return M&&(sg[M]=Y.id),Es.publish("addGState",Y),Y}};B.addGState=function(M,Y){return gO(M,Y),this},B.saveGraphicsState=function(){return be("q"),Ym.push({key:Br,size:In,color:uC}),this},B.restoreGraphicsState=function(){be("Q");var M=Ym.pop();return Br=M.key,In=M.size,uC=M.color,Ry=null,this},B.setCurrentTransformationMatrix=function(M){return be(M.toString()+" cm"),this},B.comment=function(M){return be("#"+M),this};var BE=function(M,Y){var ye=M||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ye},set:function(Mt){isNaN(Mt)||(ye=parseFloat(Mt))}});var Be=Y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Be},set:function(Mt){isNaN(Mt)||(Be=parseFloat(Mt))}});var Xe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Xe},set:function(Mt){Xe=Mt.toString()}}),this},iT=function(M,Y,ye,Be){BE.call(this,M,Y),this.type="rect";var Xe=ye||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Xe},set:function(rn){isNaN(rn)||(Xe=parseFloat(rn))}});var Mt=Be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Mt},set:function(rn){isNaN(rn)||(Mt=parseFloat(rn))}}),this},rT=function(){this.page=tl,this.currentPage=me,this.pages=un.slice(0),this.pagesContext=rr.slice(0),this.x=$u,this.y=ds,this.matrix=rg,this.width=dC(me),this.height=z0(me),this.outputDestination=Xn,this.id="",this.objectNumber=-1};rT.prototype.restore=function(){tl=this.page,rr=this.pagesContext,un=this.pages,$u=this.x,ds=this.y,rg=this.matrix,sT(me=this.currentPage,this.width),oT(me,this.height),Xn=this.outputDestination};var mO=function(M,Y,ye,Be,Xe){Jm.push(new rT),tl=me=0,un=[],$u=M,ds=Y,rg=Xe,$2([ye,Be])},nQ=function(M){if(Wm[M])Jm.pop().restore();else{var Y=new rT,ye="Xo"+(Object.keys(lu).length+1).toString(10);Y.id=ye,Wm[M]=ye,lu[ye]=Y,Es.publish("addFormObject",Y),Jm.pop().restore()}};for(var FE in B.beginFormObject=function(M,Y,ye,Be,Xe){return mO(M,Y,ye,Be,Xe),this},B.endFormObject=function(M){return nQ(M),this},B.doFormObject=function(M,Y){var ye=lu[Wm[M]];return be("q"),be(Y.toString()+" cm"),be("/"+ye.id+" Do"),be("Q"),this},B.getFormObject=function(M){var Y=lu[Wm[M]];return{x:Y.x,y:Y.y,width:Y.width,height:Y.height,matrix:Y.matrix}},B.save=function(M,Y){return M=M||"generated.pdf",(Y=Y||{}).returnPromise=Y.returnPromise||!1,!1===Y.returnPromise?(Jb(EE(Ly()),M),"function"==typeof Jb.unload&&Ni.setTimeout&&setTimeout(Jb.unload,911),this):new Promise(function(ye,Be){try{var Xe=Jb(EE(Ly()),M);"function"==typeof Jb.unload&&Ni.setTimeout&&setTimeout(Jb.unload,911),ye(Xe)}catch(Mt){Be(Mt.message)}})},ki.API)ki.API.hasOwnProperty(FE)&&("events"===FE&&ki.API.events.length?function(M,Y){var Be,Xe;for(Xe=Y.length-1;-1!==Xe;Xe--)M.subscribe.apply(M,[Y[Xe][0]].concat("function"==typeof(Be=Y[Xe][1])?[Be]:Be))}(Es,ki.API.events):B[FE]=ki.API[FE]);var dC=B.getPageWidth=function(M){return(rr[M=M||me].mediaBox.topRightX-rr[M].mediaBox.bottomLeftX)/Qn},sT=B.setPageWidth=function(M,Y){rr[M].mediaBox.topRightX=Y*Qn+rr[M].mediaBox.bottomLeftX},z0=B.getPageHeight=function(M){return(rr[M=M||me].mediaBox.topRightY-rr[M].mediaBox.bottomLeftY)/Qn},oT=B.setPageHeight=function(M,Y){rr[M].mediaBox.topRightY=Y*Qn+rr[M].mediaBox.bottomLeftY};return B.internal={pdfEscape:vh,getStyle:uO,getFont:J6,getFontSize:On,getCharSpace:tQ,getTextColor:eQ,getLineHeight:AO,getLineHeightFactor:pO,getLineWidth:DE,write:ar,getHorizontalCoordinate:Ny,getVerticalCoordinate:G0,getCoordinateString:X6,getVerticalCoordinateString:j0,collections:{},newObject:lc,newAdditionalObject:mE,newObjectDeferred:jl,newObjectDeferredBegin:xA,getFilters:e_,putStream:kf,events:Es,scaleFactor:Qn,pageSize:{getWidth:function(){return dC(me)},setWidth:function(M){sT(me,M)},getHeight:function(){return z0(me)},setHeight:function(M){oT(me,M)}},encryptionOptions:_,encryption:Yu,getEncryptor:q6,output:SE,getNumberOfPages:H6,pages:un,out:be,f2:Bt,f3:Ae,getPageInfo:cO,getPageInfoByObjId:Ji,getCurrentPageInfo:K6,getPDFVersion:H,Point:BE,Rectangle:iT,Matrix:Ri,hasHotfix:lO},Object.defineProperty(B.internal.pageSize,"width",{get:function(){return dC(me)},set:function(M){sT(me,M)},enumerable:!0,configurable:!0}),Object.defineProperty(B.internal.pageSize,"height",{get:function(){return z0(me)},set:function(M){oT(me,M)},enumerable:!0,configurable:!0}),U6.call(B,dn),Br="F1",sO(r,e),Es.publish("initialized"),B}oE.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},oE.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},oE.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},oE.prototype.processOwnerPassword=function(n,t){return j3(G3(t).substr(0,5),n)},oE.prototype.encryptor=function(n,t){var e=G3(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return j3(e,i)}},SR.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||Os(n)!==Os(this))return!1;var i=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;i++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&i--;return 0===i},ki.API={events:[]},ki.version="2.5.1";var Xa=ki.API,z3=1,eC=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},cE=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},nr=function(n){return n.toFixed(2)},P0=function(n){return n.toFixed(5)};Xa.__acroform__={};var _h=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},wK=function(n){return n*z3},zm=function(n){var t=new CK,e=ri.internal.getHeight(n)||0,i=ri.internal.getWidth(n)||0;return t.BBox=[0,0,Number(nr(i)),Number(nr(e))],t},Dpe=Xa.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<t},Tpe=Xa.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<t)},Bpe=Xa.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(n&1<<t)?0:1},ml=Xa.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Bpe(n,t-1)},_l=Xa.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Dpe(n,t-1)},yl=Xa.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Tpe(n,t-1)},Fpe=Xa.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,r=n[0],o=n[1],a=n[2],u=n[3],h={};return h.lowerLeft_X=e(r)||0,h.lowerLeft_Y=i(o+u)||0,h.upperRight_X=e(r+a)||0,h.upperRight_Y=i(o)||0,[Number(nr(h.lowerLeft_X)),Number(nr(h.lowerLeft_Y)),Number(nr(h.upperRight_X)),Number(nr(h.upperRight_Y))]},Mpe=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],i=q3(n,n._V||n.DV),r=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+r+" "+nr(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=zm(n);return o.scope=n.scope,o.stream=t.join("\n"),o}},q3=function(n,t){var e=0===n.fontSize?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},r=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");r=r.map(n.multiline?function(Ae){return Ae.split("\n")}:function(Ae){return[Ae]});var o=e,a=ri.internal.getHeight(n)||0;a=a<0?-a:a;var Ae,u=ri.internal.getWidth(n)||0;u=u<0?-u:u,o++;e:for(;o>0;){t="",o--;var f,_,C=IR("3",n,o).height,F=n.multiline?a-o:(a-C)/2,B=F+=2,U=0,H=0,Z=0;if(o<=0){t="(...) Tj\n",t+="% Width of Text: "+IR(t,n,o=12).width+", FieldWidth:"+u+"\n";break}for(var q="",W=0,he=0;he<r.length;he++)if(r.hasOwnProperty(he)){var xe=!1;if(1!==r[he].length&&Z!==r[he].length-1){if((C+2)*(W+2)+2>a)continue e;q+=r[he][Z],xe=!0,H=he,he--}else{q=" "==(q+=r[he][Z]+" ").substr(q.length-1)?q.substr(0,q.length-1):q;var Ze=parseInt(he),ct=(Ae=Ze)+1<r.length&&IR(q+" "+r[Ae+1][0],n,o).width<=u-4,Ve=he>=r.length-1;if(ct&&!Ve){q+=" ",Z=0;continue}if(ct||Ve){if(Ve)H=Ze;else if(n.multiline&&(C+2)*(W+2)+2>a)continue e}else{if(!n.multiline||(C+2)*(W+2)+2>a)continue e;H=Ze}}for(var we="",Ft=U;Ft<=H;Ft++){var Bt=r[Ft];if(n.multiline){if(Ft===H){we+=Bt[Z]+" ",Z=(Z+1)%Bt.length;continue}if(Ft===U){we+=Bt[Bt.length-1]+" ";continue}}we+=Bt[0]+" "}switch(we=" "==we.substr(we.length-1)?we.substr(0,we.length-1):we,_=IR(we,n,o).width,n.textAlign){case"right":f=u-_-2;break;case"center":f=(u-_)/2;break;default:f=2}t+=nr(f)+" "+nr(B)+" Td\n",t+="("+eC(we)+") Tj\n",t+=-nr(f)+" 0 Td\n",B=-(o+2),_=0,U=xe?H:H+1,W++,q=""}break}return i.text=t,i.fontSize=o,i},IR=function(n,t,e){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:r}},kpe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Rpe=function(n,t){var e={type:"reference",object:n};void 0===t.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===e.type&&i.object===e.object})&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},bK=Xa.__acroform__.arrayToPdfArray=function(n,t,e){var i=function(a){return a};if(Array.isArray(n)){for(var r="[",o=0;o<n.length;o++)switch(0!==o&&(r+=" "),Os(n[o])){case"boolean":case"number":case"object":r+=n[o].toString();break;case"string":"/"!==n[o].substr(0,1)?(void 0!==t&&e&&(i=e.internal.getEncryptor(t)),r+="("+eC(i(n[o].toString()))+")"):r+=n[o].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},K3=function(n,t,e){var i=function(r){return r};return void 0!==t&&e&&(i=e.internal.getEncryptor(t)),(n=n||"").toString(),"("+eC(i(n))+")"},qm=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};qm.prototype.toString=function(){return this.objId+" 0 R"},qm.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},qm.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(o){return"content"!=o&&"appearanceStreamContent"!=o&&"scope"!=o&&"objId"!=o&&"_"!=o.substring(0,1)});for(var e in t)if(!1===Object.getOwnPropertyDescriptor(this,t[e]).configurable){var i=t[e],r=this[i];r&&(Array.isArray(r)?n.push({key:i,value:bK(r,this.objId,this.scope)}):r instanceof qm?(r.scope=this.scope,n.push({key:i,value:r.objId+" 0 R"})):"function"!=typeof r&&n.push({key:i,value:r}))}return n};var CK=function(){qm.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};_h(CK,qm);var xK=function(){qm.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+eC(e(n))+")"}},set:function(e){n=e}})};_h(xK,qm);var tg=function n(){qm.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(q){if(isNaN(q))throw new Error('Invalid value "'+q+'" for attribute F supplied.');t=q}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(t,3))},set:function(q){this.F=!0===Boolean(q)?_l(t,3):yl(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(q){if(isNaN(q))throw new Error('Invalid value "'+q+'" for attribute Ff supplied.');e=q}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==i.length)return i},set:function(q){i=void 0!==q?q:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(q){i[0]=q}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(q){i[1]=q}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(q){i[2]=q}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(q){i[3]=q}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(q){switch(q){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=q;break;default:throw new Error('Invalid value "'+q+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof BR)return;o="FieldObject"+n.FieldNum++}var q=function(W){return W};return this.scope&&(q=this.scope.internal.getEncryptor(this.objId)),"("+eC(q(o))+")"},set:function(q){o=q.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(q){o=q}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(q){a=q}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(q){u=q}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(q){h=q}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===f?50/z3:f},set:function(q){f=q}});var _="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return _},set:function(q){_=q}});var C="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!C||this instanceof BR||this instanceof tC))return K3(C,this.objId,this.scope)},set:function(q){q=q.toString(),C=q}});var F=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(F)return this instanceof Lc?F:K3(F,this.objId,this.scope)},set:function(q){q=q.toString(),F=this instanceof Lc?q:"("===q.substr(0,1)?cE(q.substr(1,q.length-2)):cE(q)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Lc?cE(F.substr(1,F.length-1)):F},set:function(q){q=q.toString(),F=this instanceof Lc?"/"+q:q}});var B=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(B)return B},set:function(q){this.V=q}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(B)return this instanceof Lc?B:K3(B,this.objId,this.scope)},set:function(q){q=q.toString(),B=this instanceof Lc?q:"("===q.substr(0,1)?cE(q.substr(1,q.length-2)):cE(q)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Lc?cE(B.substr(1,B.length-1)):B},set:function(q){q=q.toString(),B=this instanceof Lc?"/"+q:q}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var U,H=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return H},set:function(q){q=Boolean(q),H=q}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(U)return U},set:function(q){U=q}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,1))},set:function(q){this.Ff=!0===Boolean(q)?_l(this.Ff,1):yl(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,2))},set:function(q){this.Ff=!0===Boolean(q)?_l(this.Ff,2):yl(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,3))},set:function(q){this.Ff=!0===Boolean(q)?_l(this.Ff,3):yl(this.Ff,3)}});var Z=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==Z)return Z},set:function(q){if(-1===[0,1,2].indexOf(q))throw new Error('Invalid value "'+q+'" for attribute Q supplied.');Z=q}}),Object.defineProperty(this,"textAlign",{get:function(){var q;switch(Z){case 0:default:q="left";break;case 1:q="center";break;case 2:q="right"}return q},configurable:!0,enumerable:!0,set:function(q){switch(q){case"right":case 2:Z=2;break;case"center":case 1:Z=1;break;default:Z=0}}})};_h(tg,qm);var uE=function(){tg.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return bK(t,this.objId,this.scope)},set:function(e){var i,r;r=[],"string"==typeof(i=e)&&(r=function(o,a,u){u||(u=1);for(var h,f=[];h=a.exec(o);)f.push(h[u]);return f}(i,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==i););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,18))},set:function(e){this.Ff=!0===Boolean(e)?_l(this.Ff,18):yl(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,19))},set:function(e){!0===this.combo&&(this.Ff=!0===Boolean(e)?_l(this.Ff,19):yl(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=_l(this.Ff,20),t.sort()):this.Ff=yl(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,22))},set:function(e){this.Ff=!0===Boolean(e)?_l(this.Ff,22):yl(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,23))},set:function(e){this.Ff=!0===Boolean(e)?_l(this.Ff,23):yl(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,27))},set:function(e){this.Ff=!0===Boolean(e)?_l(this.Ff,27):yl(this.Ff,27)}}),this.hasAppearanceStream=!1};_h(uE,tg);var dE=function(){uE.call(this),this.fontName="helvetica",this.combo=!1};_h(dE,uE);var hE=function(){dE.call(this),this.combo=!0};_h(hE,dE);var DR=function(){hE.call(this),this.edit=!0};_h(DR,hE);var Lc=function(){tg.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,15))},set:function(e){this.Ff=!0===Boolean(e)?_l(this.Ff,15):yl(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,16))},set:function(e){this.Ff=!0===Boolean(e)?_l(this.Ff,16):yl(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,17))},set:function(e){this.Ff=!0===Boolean(e)?_l(this.Ff,17):yl(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,26))},set:function(e){this.Ff=!0===Boolean(e)?_l(this.Ff,26):yl(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(o){return o};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var i,r=[];for(i in r.push("<<"),t)r.push("/"+i+" ("+eC(e(t[i]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===Os(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};_h(Lc,tg);var TR=function(){Lc.call(this),this.pushButton=!0};_h(TR,Lc);var AE=function(){Lc.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=void 0!==t?t:[]}})};_h(AE,Lc);var BR=function(){var n,t;tg.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(u){return u};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var o,a=[];for(o in a.push("<<"),i)a.push("/"+o+" ("+eC(r(i[o]))+")");return a.push(">>"),a.join("\n")},set:function(r){"object"===Os(r)&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){"string"==typeof r&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ri.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};_h(BR,tg),AE.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},AE.prototype.createOption=function(n){var t=new BR;return t.Parent=this,t.optionName=n,this.Kids.push(t),Npe.call(this.scope,t),t};var FR=function(){Lc.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ri.CheckBox.createAppearanceStream()};_h(FR,Lc);var tC=function(){tg.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,13))},set:function(t){this.Ff=!0===Boolean(t)?_l(this.Ff,13):yl(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,21))},set:function(t){this.Ff=!0===Boolean(t)?_l(this.Ff,21):yl(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,23))},set:function(t){this.Ff=!0===Boolean(t)?_l(this.Ff,23):yl(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,24))},set:function(t){this.Ff=!0===Boolean(t)?_l(this.Ff,24):yl(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,25))},set:function(t){this.Ff=!0===Boolean(t)?_l(this.Ff,25):yl(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,26))},set:function(t){this.Ff=!0===Boolean(t)?_l(this.Ff,26):yl(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};_h(tC,tg);var MR=function(){tC.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(ml(this.Ff,14))},set:function(n){this.Ff=!0===Boolean(n)?_l(this.Ff,14):yl(this.Ff,14)}}),this.password=!0};_h(MR,tC);var ri={CheckBox:{createAppearanceStream:function(){return{N:{On:ri.CheckBox.YesNormal},D:{On:ri.CheckBox.YesPushDown,Off:ri.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=zm(n);t.scope=n.scope;var e=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),o=q3(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+nr(ri.internal.getWidth(n))+" "+nr(ri.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+nr(o.fontSize)+" Tf "+r),e.push("BT"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join("\n"),t},YesNormal:function(n){var t=zm(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),r=[],o=ri.internal.getHeight(n),a=ri.internal.getWidth(n),u=q3(n,n.caption);return r.push("1 g"),r.push("0 0 "+nr(a)+" "+nr(o)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+nr(a-1)+" "+nr(o-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+e+" "+nr(u.fontSize)+" Tf "+i),r.push(u.text),r.push("ET"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(n){var t=zm(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+nr(ri.internal.getWidth(n))+" "+nr(ri.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:ri.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=ri.RadioButton.Circle.YesNormal,t.D[n]=ri.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=zm(n);t.scope=n.scope;var e=[],i=ri.internal.getWidth(n)<=ri.internal.getHeight(n)?ri.internal.getWidth(n)/4:ri.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var o=Number((i*ri.internal.Bezier_C).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+P0(ri.internal.getWidth(n)/2)+" "+P0(ri.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),e.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),e.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),e.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join("\n"),t},YesPushDown:function(n){var t=zm(n);t.scope=n.scope;var e=[],i=ri.internal.getWidth(n)<=ri.internal.getHeight(n)?ri.internal.getWidth(n)/4:ri.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),o=Number((r*ri.internal.Bezier_C).toFixed(5)),a=Number((i*ri.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+P0(ri.internal.getWidth(n)/2)+" "+P0(ri.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+P0(ri.internal.getWidth(n)/2)+" "+P0(ri.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),e.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),e.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),e.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join("\n"),t},OffPushDown:function(n){var t=zm(n);t.scope=n.scope;var e=[],i=ri.internal.getWidth(n)<=ri.internal.getHeight(n)?ri.internal.getWidth(n)/4:ri.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),o=Number((r*ri.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+P0(ri.internal.getWidth(n)/2)+" "+P0(ri.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join("\n"),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:ri.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=ri.RadioButton.Cross.YesNormal,t.D[n]=ri.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=zm(n);t.scope=n.scope;var e=[],i=ri.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+nr(ri.internal.getWidth(n)-2)+" "+nr(ri.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(nr(i.x1.x)+" "+nr(i.x1.y)+" m"),e.push(nr(i.x2.x)+" "+nr(i.x2.y)+" l"),e.push(nr(i.x4.x)+" "+nr(i.x4.y)+" m"),e.push(nr(i.x3.x)+" "+nr(i.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join("\n"),t},YesPushDown:function(n){var t=zm(n);t.scope=n.scope;var e=ri.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+nr(ri.internal.getWidth(n))+" "+nr(ri.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+nr(ri.internal.getWidth(n)-2)+" "+nr(ri.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(nr(e.x1.x)+" "+nr(e.x1.y)+" m"),i.push(nr(e.x2.x)+" "+nr(e.x2.y)+" l"),i.push(nr(e.x4.x)+" "+nr(e.x4.y)+" m"),i.push(nr(e.x3.x)+" "+nr(e.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(n){var t=zm(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+nr(ri.internal.getWidth(n))+" "+nr(ri.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join("\n"),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};ri.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=ri.internal.getWidth(n),e=ri.internal.getHeight(n),i=Math.min(t,e);return{x1:{x:(t-i)/2,y:(e-i)/2+i},x2:{x:(t-i)/2+i,y:(e-i)/2},x3:{x:(t-i)/2,y:(e-i)/2},x4:{x:(t-i)/2+i,y:(e-i)/2+i}}}},ri.internal.getWidth=function(n){var t=0;return"object"===Os(n)&&(t=wK(n.Rect[2])),t},ri.internal.getHeight=function(n){var t=0;return"object"===Os(n)&&(t=wK(n.Rect[3])),t};var Npe=Xa.addField=function(n){if(function(n,t){if(t.scope=n,void 0!==n.internal&&(void 0===n.internal.acroformPlugin||!1===n.internal.acroformPlugin.isInitialized)){if(tg.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(kpe)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");z3=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new xK,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){var e;(e=n).internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0}),n.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var o=i[r];o.objId=void 0,o.hasAnnotation&&Rpe(o,e)}}(n)}),n.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(n)}),n.internal.events.subscribe("postPutPages",function(e){!function(i,r){var o=!i;for(var a in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(a)){var u=i[a],h=[],f=u.Rect;if(u.Rect&&(u.Rect=Fpe(u.Rect,r)),r.internal.newObjectDeferredBegin(u.objId,!0),u.DA=ri.createDefaultAppearanceStream(u),"object"===Os(u)&&"function"==typeof u.getKeyValueListForStream&&(h=u.getKeyValueListForStream()),u.Rect=f,u.hasAppearanceStream&&!u.appearanceStreamContent){var _=Mpe(u);h.push({key:"AP",value:"<</N "+_+">>"}),r.internal.acroformPlugin.xForms.push(_)}if(u.appearanceStreamContent){var C="";for(var F in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(F)){var B=u.appearanceStreamContent[F];if(C+="/"+F+" ",C+="<<",Object.keys(B).length>=1||Array.isArray(B)){for(var a in B)if(B.hasOwnProperty(a)){var U=B[a];"function"==typeof U&&(U=U.call(r,u)),C+="/"+a+" "+U+" ",r.internal.acroformPlugin.xForms.indexOf(U)>=0||r.internal.acroformPlugin.xForms.push(U)}}else"function"==typeof(U=B)&&(U=U.call(r,u)),C+="/"+a+" "+U,r.internal.acroformPlugin.xForms.indexOf(U)>=0||r.internal.acroformPlugin.xForms.push(U);C+=">>"}h.push({key:"AP",value:"<<\n"+C+">>"})}r.internal.putStream({additionalKeyValues:h,objectId:u.objId}),r.internal.out("endobj")}o&&function(n,t){for(var e in n)if(n.hasOwnProperty(e)){var i=e,r=n[e];t.internal.newObjectDeferredBegin(r.objId,!0),"object"===Os(r)&&"function"==typeof r.putStream&&r.putStream(),delete n[i]}}(r.internal.acroformPlugin.xForms,r)}(e,n)}),n.internal.acroformPlugin.isInitialized=!0}}(this,n),!(n instanceof tg))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};function EK(n){return n.reduce(function(t,e,i){return t[e]=i,t},{})}Xa.AcroFormChoiceField=uE,Xa.AcroFormListBox=dE,Xa.AcroFormComboBox=hE,Xa.AcroFormEditBox=DR,Xa.AcroFormButton=Lc,Xa.AcroFormPushButton=TR,Xa.AcroFormRadioButton=AE,Xa.AcroFormCheckBox=FR,Xa.AcroFormTextField=tC,Xa.AcroFormPasswordField=MR,Xa.AcroFormAppearance=ri,Xa.AcroForm={ChoiceField:uE,ListBox:dE,ComboBox:hE,EditBox:DR,Button:Lc,PushButton:TR,RadioButton:AE,CheckBox:FR,TextField:tC,PasswordField:MR,Appearance:ri},ki.AcroForm={ChoiceField:uE,ListBox:dE,ComboBox:hE,EditBox:DR,Button:Lc,PushButton:TR,RadioButton:AE,CheckBox:FR,TextField:tC,PasswordField:MR,Appearance:ri},function(n){n.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(Ae,de){var Te,Se,xt,Re,Ye,Ne=t;if("RGBA"===(de=de||t)||void 0!==Ae.data&&Ae.data instanceof Uint8ClampedArray&&"height"in Ae&&"width"in Ae)return"RGBA";if(ct(Ae))for(Ye in e)for(xt=e[Ye],Te=0;Te<xt.length;Te+=1){for(Re=!0,Se=0;Se<xt[Te].length;Se+=1)if(void 0!==xt[Te][Se]&&xt[Te][Se]!==Ae[Se]){Re=!1;break}if(!0===Re){Ne=Ye;break}}else for(Ye in e)for(xt=e[Ye],Te=0;Te<xt.length;Te+=1){for(Re=!0,Se=0;Se<xt[Te].length;Se+=1)if(void 0!==xt[Te][Se]&&xt[Te][Se]!==Ae.charCodeAt(Se)){Re=!1;break}if(!0===Re){Ne=Ye;break}}return Ne===t&&de!==t&&(Ne=de),Ne},r=function Ae(de){for(var Te=this.internal.write,Se=this.internal.putStream,xt=(0,this.internal.getFilters)();-1!==xt.indexOf("FlateEncode");)xt.splice(xt.indexOf("FlateEncode"),1);de.objectId=this.internal.newObject();var Re=[];if(Re.push({key:"Type",value:"/XObject"}),Re.push({key:"Subtype",value:"/Image"}),Re.push({key:"Width",value:de.width}),Re.push({key:"Height",value:de.height}),de.colorSpace===Z.INDEXED?Re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(de.palette.length/3-1)+" "+("sMask"in de&&void 0!==de.sMask?de.objectId+2:de.objectId+1)+" 0 R]"}):(Re.push({key:"ColorSpace",value:"/"+de.colorSpace}),de.colorSpace===Z.DEVICE_CMYK&&Re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Re.push({key:"BitsPerComponent",value:de.bitsPerComponent}),"decodeParameters"in de&&void 0!==de.decodeParameters&&Re.push({key:"DecodeParms",value:"<<"+de.decodeParameters+">>"}),"transparency"in de&&Array.isArray(de.transparency)){for(var Ye="",Ne=0,ht=de.transparency.length;Ne<ht;Ne++)Ye+=de.transparency[Ne]+" "+de.transparency[Ne]+" ";Re.push({key:"Mask",value:"["+Ye+"]"})}if(void 0!==de.sMask&&Re.push({key:"SMask",value:de.objectId+1+" 0 R"}),Se({data:de.data,additionalKeyValues:Re,alreadyAppliedFilters:void 0!==de.filter?["/"+de.filter]:void 0,objectId:de.objectId}),Te("endobj"),"sMask"in de&&void 0!==de.sMask){var X={width:de.width,height:de.height,colorSpace:"DeviceGray",bitsPerComponent:de.bitsPerComponent,decodeParameters:"/Predictor "+de.predictor+" /Colors 1 /BitsPerComponent "+de.bitsPerComponent+" /Columns "+de.width,data:de.sMask};"filter"in de&&(X.filter=de.filter),Ae.call(this,X)}if(de.colorSpace===Z.INDEXED){var me=this.internal.newObject();Se({data:we(new Uint8Array(de.palette)),objectId:me}),Te("endobj")}},o=function(){var Ae=this.internal.collections.addImage_images;for(var de in Ae)r.call(this,Ae[de])},a=function(){var Ae,de=this.internal.collections.addImage_images,Te=this.internal.write;for(var Se in de)Te("/I"+(Ae=de[Se]).index,Ae.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},h=function(){var Ae=this.internal.collections.addImage_images;return u.call(this),Ae},f=function(){return Object.keys(this.internal.collections.addImage_images).length},_=function(Ae){return"function"==typeof n["process"+Ae.toUpperCase()]},C=function(Ae){return"object"===Os(Ae)&&1===Ae.nodeType},F=function(Ae,de){if("IMG"===Ae.nodeName&&Ae.hasAttribute("src")){var Te=""+Ae.getAttribute("src");if(0===Te.indexOf("data:image/"))return H2(unescape(Te).split("base64,").pop());var Se=n.loadFile(Te,!0);if(void 0!==Se)return Se}if("CANVAS"===Ae.nodeName){if(0===Ae.width||0===Ae.height)throw new Error("Given canvas must have data. Canvas width: "+Ae.width+", height: "+Ae.height);var xt;switch(de){case"PNG":xt="image/png";break;case"WEBP":xt="image/webp";break;default:xt="image/jpeg"}return H2(Ae.toDataURL(xt,1).split("base64,").pop())}},B=function(Ae){var de=this.internal.collections.addImage_images;if(de)for(var Te in de)if(Ae===de[Te].alias)return de[Te]},U=function(Ae,de,Te){return Ae||de||(Ae=-96,de=-96),Ae<0&&(Ae=-1*Te.width*72/Ae/this.internal.scaleFactor),de<0&&(de=-1*Te.height*72/de/this.internal.scaleFactor),0===Ae&&(Ae=de*Te.width/Te.height),0===de&&(de=Ae*Te.height/Te.width),[Ae,de]},H=function(Ae,de,Te,Se,xt,Re){var Ye=U.call(this,Te,Se,xt),Ne=this.internal.getCoordinateString,ht=this.internal.getVerticalCoordinateString,_t=h.call(this);if(Te=Ye[0],Se=Ye[1],_t[xt.index]=xt,Re){Re*=Math.PI/180;var _n=Math.cos(Re),X=Math.sin(Re),me=function(Pe){return Pe.toFixed(4)},_e=[me(_n),me(X),me(-1*X),me(_n),0,0,"cm"]}this.internal.write("q"),Re?(this.internal.write([1,"0","0",1,Ne(Ae),ht(de+Se),"cm"].join(" ")),this.internal.write(_e.join(" ")),this.internal.write([Ne(Te),"0","0",Ne(Se),"0","0","cm"].join(" "))):this.internal.write([Ne(Te),"0","0",Ne(Se),Ne(Ae),ht(de+Se),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+xt.index+" Do"),this.internal.write("Q")},Z=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var q=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},W=n.__addimage__.sHashCode=function(Ae){var de,Te,Se=0;if("string"==typeof Ae)for(Te=Ae.length,de=0;de<Te;de++)Se=(Se<<5)-Se+Ae.charCodeAt(de),Se|=0;else if(ct(Ae))for(Te=Ae.byteLength/2,de=0;de<Te;de++)Se=(Se<<5)-Se+Ae[de],Se|=0;return Se},he=n.__addimage__.validateStringAsBase64=function(Ae){(Ae=Ae||"").toString().trim();var de=!0;return 0===Ae.length&&(de=!1),Ae.length%4!=0&&(de=!1),!1===/^[A-Za-z0-9+/]+$/.test(Ae.substr(0,Ae.length-2))&&(de=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Ae.substr(-2))&&(de=!1),de},xe=n.__addimage__.extractImageFromDataUrl=function(Ae){var de=(Ae=Ae||"").split("base64,"),Te=null;if(2===de.length){var Se=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(de[0]);Array.isArray(Se)&&(Te={mimeType:Se[1],charset:Se[2],data:de[1]})}return Te},Ze=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(Ae){return Ze()&&Ae instanceof ArrayBuffer};var ct=n.__addimage__.isArrayBufferView=function(Ae){return Ze()&&typeof Uint32Array<"u"&&(Ae instanceof Int8Array||Ae instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&Ae instanceof Uint8ClampedArray||Ae instanceof Int16Array||Ae instanceof Uint16Array||Ae instanceof Int32Array||Ae instanceof Uint32Array||Ae instanceof Float32Array||Ae instanceof Float64Array)},Ve=n.__addimage__.binaryStringToUint8Array=function(Ae){for(var de=Ae.length,Te=new Uint8Array(de),Se=0;Se<de;Se++)Te[Se]=Ae.charCodeAt(Se);return Te},we=n.__addimage__.arrayBufferToBinaryString=function(Ae){for(var de="",Te=ct(Ae)?Ae:new Uint8Array(Ae),Se=0;Se<Te.length;Se+=8192)de+=String.fromCharCode.apply(null,Te.subarray(Se,Se+8192));return de};n.addImage=function(){var Ae,de,Te,Se,xt,Re,Ye,Ne,ht;if("number"==typeof arguments[1]?(de=t,Te=arguments[1],Se=arguments[2],xt=arguments[3],Re=arguments[4],Ye=arguments[5],Ne=arguments[6],ht=arguments[7]):(de=arguments[1],Te=arguments[2],Se=arguments[3],xt=arguments[4],Re=arguments[5],Ye=arguments[6],Ne=arguments[7],ht=arguments[8]),"object"===Os(Ae=arguments[0])&&!C(Ae)&&"imageData"in Ae){var _t=Ae;Ae=_t.imageData,de=_t.format||de||t,Te=_t.x||Te||0,Se=_t.y||Se||0,xt=_t.w||_t.width||xt,Re=_t.h||_t.height||Re,Ye=_t.alias||Ye,Ne=_t.compression||Ne,ht=_t.rotation||_t.angle||ht}var _n=this.internal.getFilters();if(void 0===Ne&&-1!==_n.indexOf("FlateEncode")&&(Ne="SLOW"),isNaN(Te)||isNaN(Se))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var X=Ft.call(this,Ae,de,Ye,Ne);return H.call(this,Te,Se,xt,Re,X,ht),this};var Ft=function(Ae,de,Te,Se){var xt,Re,Ye,ht;if("string"==typeof Ae&&i(Ae)===t){Ae=unescape(Ae);var Ne=Bt(Ae,!1);(""!==Ne||void 0!==(Ne=n.loadFile(Ae,!0)))&&(Ae=Ne)}if(C(Ae)&&(Ae=F(Ae,de)),de=i(Ae,de),!_(de))throw new Error("addImage does not support files of type '"+de+"', please ensure that a plugin for '"+de+"' support is added.");if((null==(Ye=Te)||0===Ye.length)&&(Te="string"==typeof(ht=Ae)||ct(ht)?W(ht):ct(ht.data)?W(ht.data):null),(xt=B.call(this,Te))||(Ze()&&(Ae instanceof Uint8Array||"RGBA"===de||(Re=Ae,Ae=Ve(Ae))),xt=this["process"+de.toUpperCase()](Ae,f.call(this),Te,function(ht){return ht&&"string"==typeof ht&&(ht=ht.toUpperCase()),ht in n.image_compression?ht:q.NONE}(Se),Re)),!xt)throw new Error("An unknown error occurred whilst processing the image.");return xt},Bt=n.__addimage__.convertBase64ToBinaryString=function(Ae,de){var Te;de="boolean"!=typeof de||de;var Se,xt="";if("string"==typeof Ae){Se=null!==(Te=xe(Ae))?Te.data:Ae;try{xt=H2(Se)}catch(Re){if(de)throw he(Se)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return xt};n.getImageProperties=function(Ae){var de,Te,Se="";if(C(Ae)&&(Ae=F(Ae)),"string"==typeof Ae&&i(Ae)===t&&(""===(Se=Bt(Ae,!1))&&(Se=n.loadFile(Ae)||""),Ae=Se),Te=i(Ae),!_(Te))throw new Error("addImage does not support files of type '"+Te+"', please ensure that a plugin for '"+Te+"' support is added.");if(!Ze()||Ae instanceof Uint8Array||(Ae=Ve(Ae)),!(de=this["process"+Te.toUpperCase()](Ae)))throw new Error("An unknown error occurred whilst processing the image");return de.fileType=Te,de}}(ki.API),function(n){var t=function(e){if(void 0!==e&&""!=e)return!0};ki.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var i,r,o,a=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(e.objId),f=e.pageContext.annotations,_=!1,C=0;C<f.length&&!_;C++)switch((i=f[C]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(_=!0);break;case"reference":case"text":case"freetext":_=!0}if(0!=_){this.internal.write("/Annots [");for(var F=0;F<f.length;F++){i=f[F];var B=this.internal.pdfEscape,U=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var H=this.internal.newAdditionalObject(),Z=this.internal.newAdditionalObject(),q=this.internal.getEncryptor(H.objId),W=i.title||"Note";o="<</Type /Annot /Subtype /Text "+(r="/Rect ["+a(i.bounds.x)+" "+u(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y)+"] ")+"/Contents ("+B(q(i.contents))+")",o+=" /Popup "+Z.objId+" 0 R",o+=" /P "+h.objId+" 0 R",o+=" /T ("+B(q(W))+") >>",H.content=o;var he=H.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+a(i.bounds.x+30)+" "+u(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w+30)+" "+u(i.bounds.y)+"] ")+" /Parent "+he,i.open&&(o+=" /Open true"),Z.content=o+=" >>",this.internal.write(H.objId,"0 R",Z.objId,"0 R");break;case"freetext":r="/Rect ["+a(i.bounds.x)+" "+u(i.bounds.y)+" "+a(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y+i.bounds.h)+"] ";var xe=i.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+B(U(i.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+xe+")",o+=" /Border [0 0 0]",this.internal.write(o+=" >>");break;case"link":if(i.options.name){var Ze=this.annotations._nameMap[i.options.name];i.options.pageNumber=Ze.page,i.options.top=Ze.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",o="",i.options.url)o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+B(U(i.options.url))+") >>";else if(i.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,o+=" /FitV "+i.options.left+"]";break;default:var ct=u(i.options.top);i.options.left=i.options.left||0,void 0===i.options.zoom&&(i.options.zoom=0),o+=" /XYZ "+i.options.left+" "+ct+" "+i.options.zoom+"]"}""!=o&&this.internal.write(o+=" >>")}}this.internal.write("]")}}]),n.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},n.link=function(e,i,r,o,a){var u=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:h(e),y:f(i),w:h(e+r),h:f(i+o)},options:a,type:"link"})},n.textWithLink=function(e,i,r,o){var a,u,h=this.getTextWidth(e),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==o.maxWidth){var _=this.splitTextToSize(e,u=o.maxWidth).length;a=Math.ceil(f*_)}else u=h,a=f;return this.text(e,i,r,o),"center"===o.align&&(i-=h/2),"right"===o.align&&(i-=h),this.link(i,(r+=.2*f)-f,u,a,o),h},n.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor}}(ki.API),function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(H){return void 0!==t[H.charCodeAt(0)]},a=n.__arabicParser__.isArabicLetter=function(H){return"string"==typeof H&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(H)},u=n.__arabicParser__.isArabicEndLetter=function(H){return a(H)&&o(H)&&t[H.charCodeAt(0)].length<=2},h=n.__arabicParser__.isArabicAlfLetter=function(H){return a(H)&&r.indexOf(H.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(H){return a(H)&&o(H)&&t[H.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(H){return a(H)&&o(H)&&t[H.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(H){return a(H)&&o(H)&&t[H.charCodeAt(0)].length>=3};var _=n.__arabicParser__.arabicLetterHasMedialForm=function(H){return a(H)&&o(H)&&4==t[H.charCodeAt(0)].length},C=n.__arabicParser__.resolveLigatures=function(H){var Z=0,q=e,W="",he=0;for(Z=0;Z<H.length;Z+=1)void 0!==q[H.charCodeAt(Z)]?(he++,"number"==typeof(q=q[H.charCodeAt(Z)])&&(W+=String.fromCharCode(q),q=e,he=0),Z===H.length-1&&(q=e,W+=H.charAt(Z-(he-1)),Z-=he-1,he=0)):(q=e,W+=H.charAt(Z-he),Z-=he,he=0);return W};n.__arabicParser__.isArabicDiacritic=function(H){return void 0!==H&&void 0!==i[H.charCodeAt(0)]};var F=n.__arabicParser__.getCorrectForm=function(H,Z,q){return a(H)?!1===o(H)?-1:!f(H)||!a(Z)&&!a(q)||!a(q)&&u(Z)||u(H)&&!a(Z)||u(H)&&h(Z)||u(H)&&u(Z)?0:_(H)&&a(Z)&&!u(Z)&&a(q)&&f(q)?3:u(H)||!a(q)?1:2:-1},B=function(H){var Z=0,q=0,W=0,he="",xe="",Ze="",ct=(H=H||"").split("\\s+"),Ve=[];for(Z=0;Z<ct.length;Z+=1){for(Ve.push(""),q=0;q<ct[Z].length;q+=1)xe=ct[Z][q-1],Ze=ct[Z][q+1],a(he=ct[Z][q])?(W=F(he,xe,Ze),Ve[Z]+=-1!==W?String.fromCharCode(t[he.charCodeAt(0)][W]):he):Ve[Z]+=he;Ve[Z]=C(Ve[Z])}return Ve.join(" ")},U=n.__arabicParser__.processArabic=n.processArabic=function(){var H,Z="string"==typeof arguments[0]?arguments[0]:arguments[0].text,q=[];if(Array.isArray(Z)){var W=0;for(q=[],W=0;W<Z.length;W+=1)Array.isArray(Z[W])?q.push([B(Z[W][0]),Z[W][1],Z[W][2]]):q.push([B(Z[W])]);H=q}else H=B(Z);return"string"==typeof arguments[0]?H:(arguments[0].text=H,arguments[0])};n.events.push(["preProcessText",U])}(ki.API),ki.API.autoPrint=function(n){var t;return"javascript"===((n=n||{}).variant=n.variant||"non-conform",n.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(u){e=u}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(u){i=isNaN(u)||!1===Number.isInteger(u)||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(u){r=isNaN(u)||!1===Number.isInteger(u)||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(u){o=u}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(u){a=u}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,i){var r;if("2d"!==(e=e||"2d"))return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ki.API),function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,i=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(H){h=H}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(H){f=H}});var _=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return _},set:function(H){_=H}});var C=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return C},set:function(H){C=H}});var F=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return F},set:function(H){F=H}});var B=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return B},set:function(H){B=H}});var U=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return U},set:function(H){U=H}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(h){return i.call(this),this.internal.__cell__.headerFunction="function"==typeof h?h:void 0,this},n.getTextDimensions=function(h,f){i.call(this);var _=(f=f||{}).fontSize||this.getFontSize(),C=f.font||this.getFont(),F=f.scaleFactor||this.internal.scaleFactor,B=0,U=0,H=0,Z=this;if(!Array.isArray(h)&&"string"!=typeof h){if("number"!=typeof h)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var q=f.maxWidth;q>0?"string"==typeof h?h=this.splitTextToSize(h,q):"[object Array]"===Object.prototype.toString.call(h)&&(h=h.reduce(function(he,xe){return he.concat(Z.splitTextToSize(xe,q))},[])):h=Array.isArray(h)?h:[h];for(var W=0;W<h.length;W++)B<(H=this.getStringUnitWidth(h[W],{font:C})*_)&&(B=H);return 0!==B&&(U=h.length),{w:B/=F,h:Math.max((U*_*this.getLineHeightFactor()-_*(this.getLineHeightFactor()-1))/F,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var h=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=n.cell=function(){var h;h=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var f=this.internal.__cell__.lastCell,_=this.internal.__cell__.padding,C=this.internal.__cell__.margins||t,F=this.internal.__cell__.tableHeaderRow,B=this.internal.__cell__.printHeaders;return void 0!==f.lineNumber&&(f.lineNumber===h.lineNumber?(h.x=(f.x||0)+(f.width||0),h.y=f.y||0):f.y+f.height+h.height+C.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=C.top,B&&F&&(this.printHeaderRow(h.lineNumber,!0),h.y+=F[0].height)):h.y=f.y+f.height||h.y),void 0!==h.text[0]&&(this.rect(h.x,h.y,h.width,h.height,!0===e?"FD":void 0),"right"===h.align?this.text(h.text,h.x+h.width-_,h.y+_,{align:"right",baseline:"top"}):"center"===h.align?this.text(h.text,h.x+h.width/2,h.y+_,{align:"center",baseline:"top",maxWidth:h.width-_-_}):this.text(h.text,h.x+_,h.y+_,{align:"left",baseline:"top",maxWidth:h.width-_-_})),this.internal.__cell__.lastCell=h,this};n.table=function(h,f,_,C,F){if(i.call(this),!_)throw new Error("No data for PDF table.");var B,U,H,Z,q=[],W=[],he=[],xe={},Ze={},ct=[],Ve=[],we=(F=F||{}).autoSize||!1,Ft=!1!==F.printHeaders,Bt=F.css&&void 0!==F.css["font-size"]?16*F.css["font-size"]:F.fontSize||12,Ae=F.margins||Object.assign({width:this.getPageWidth()},t),de="number"==typeof F.padding?F.padding:3,Te=F.headerBackgroundColor||"#c8c8c8",Se=F.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=Ft,this.internal.__cell__.margins=Ae,this.internal.__cell__.table_font_size=Bt,this.internal.__cell__.padding=de,this.internal.__cell__.headerBackgroundColor=Te,this.internal.__cell__.headerTextColor=Se,this.setFontSize(Bt),null==C)W=q=Object.keys(_[0]),he=q.map(function(){return"left"});else if(Array.isArray(C)&&"object"===Os(C[0]))for(q=C.map(function(_t){return _t.name}),W=C.map(function(_t){return _t.prompt||_t.name||""}),he=C.map(function(_t){return _t.align||"left"}),B=0;B<C.length;B+=1)Ze[C[B].name]=C[B].width*(19.049976/25.4);else Array.isArray(C)&&"string"==typeof C[0]&&(W=q=C,he=q.map(function(){return"left"}));if(we||Array.isArray(C)&&"string"==typeof C[0])for(B=0;B<q.length;B+=1){for(xe[Z=q[B]]=_.map(function(_t){return _t[Z]}),this.setFont(void 0,"bold"),ct.push(this.getTextDimensions(W[B],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),U=xe[Z],this.setFont(void 0,"normal"),H=0;H<U.length;H+=1)ct.push(this.getTextDimensions(U[H],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Ze[Z]=Math.max.apply(null,ct)+de+de,ct=[]}if(Ft){var xt={};for(B=0;B<q.length;B+=1)xt[q[B]]={},xt[q[B]].text=W[B],xt[q[B]].align=he[B];var Re=u.call(this,xt,Ze);Ve=q.map(function(_t){return new o(h,f,Ze[_t],Re,xt[_t].text,void 0,xt[_t].align)}),this.setTableHeaderRow(Ve),this.printHeaderRow(1,!1)}var Ye=C.reduce(function(_t,_n){return _t[_n.name]=_n.align,_t},{});for(B=0;B<_.length;B+=1){"rowStart"in F&&F.rowStart instanceof Function&&F.rowStart({row:B,data:_[B]},this);var Ne=u.call(this,_[B],Ze);for(H=0;H<q.length;H+=1){var ht=_[B][q[H]];"cellStart"in F&&F.cellStart instanceof Function&&F.cellStart({row:B,col:H,data:ht},this),a.call(this,new o(h,f,Ze[q[H]],Ne,ht,B+2,Ye[q[H]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=f,this};var u=function(h,f){var _=this.internal.__cell__.padding,C=this.internal.__cell__.table_font_size,F=this.internal.scaleFactor;return Object.keys(h).map(function(B){var U=h[B];return this.splitTextToSize(U.hasOwnProperty("text")?U.text:U,f[B]-_-_)},this).map(function(B){return this.getLineHeightFactor()*B.length*C/F+_+_},this).reduce(function(B,U){return Math.max(B,U)},0)};n.setTableHeaderRow=function(h){i.call(this),this.internal.__cell__.tableHeaderRow=h},n.printHeaderRow=function(h,f){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var _;if(e=!0,"function"==typeof this.internal.__cell__.headerFunction){var C=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(C[0],C[1],C[2],C[3],void 0,-1)}this.setFont(void 0,"bold");for(var F=[],B=0;B<this.internal.__cell__.tableHeaderRow.length;B+=1){_=this.internal.__cell__.tableHeaderRow[B].clone(),f&&(_.y=this.internal.__cell__.margins.top||0,F.push(_)),_.lineNumber=h;var U=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,_),this.setTextColor(U)}F.length>0&&this.setTableHeaderRow(F),this.setFont(void 0,"normal"),e=!1}}(ki.API);var SK={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},IK=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Z3=EK(IK),DK=[100,200,300,400,500,600,700,800,900],Ppe=EK(DK);function $3(n){var o,t=n.family.replace(/"|'/g,"").toLowerCase(),e=SK[o=(o=n.style)||"normal"]?o:"normal",i=function(o){return o?"number"==typeof o?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):"bold"===o?700:400:400}(n.weight),r=function(o){return"number"==typeof Z3[o=o||"normal"]?o:"normal"}(n.stretch);return{family:t,style:e,weight:i,stretch:r,src:n.src||[],ref:n.ref||{name:t,style:[r,e,i].join(" ")}}}function TK(n,t,e,i){var r;for(r=e;r>=0&&r<t.length;r+=i)if(n[t[r]])return n[t[r]];for(r=e;r>=0&&r<t.length;r-=i)if(n[t[r]])return n[t[r]]}var Upe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},BK={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function FK(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function MK(n){return n.trimLeft()}function Hpe(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function Vpe(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],n.substring(t[0].length)]}var kR,kK,RK,Y3=["times"];(function(n){var t,e,i,r,o,a,u,h,f,_=function(X){return this.isStrokeTransparent=(X=X||{}).isStrokeTransparent||!1,this.strokeOpacity=X.strokeOpacity||1,this.strokeStyle=X.strokeStyle||"#000000",this.fillStyle=X.fillStyle||"#000000",this.isFillTransparent=X.isFillTransparent||!1,this.fillOpacity=X.fillOpacity||1,this.font=X.font||"10px sans-serif",this.textBaseline=X.textBaseline||"alphabetic",this.textAlign=X.textAlign||"left",this.lineWidth=X.lineWidth||1,this.lineJoin=X.lineJoin||"miter",this.lineCap=X.lineCap||"butt",this.path=X.path||[],this.transform=void 0!==X.transform?X.transform.clone():new h,this.globalCompositeOperation=X.globalCompositeOperation||"normal",this.globalAlpha=X.globalAlpha||1,this.clip_path=X.clip_path||[],this.currentPoint=X.currentPoint||new a,this.miterLimit=X.miterLimit||10,this.lastPoint=X.lastPoint||new a,this.lineDashOffset=X.lineDashOffset||0,this.lineDash=X.lineDash||[],this.margin=X.margin||[0,0,0,0],this.prevPageLastElemOffset=X.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof X.ignoreClearRect||X.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new C(this),t=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,a=this.internal.Point,u=this.internal.Rectangle,h=this.internal.Matrix,f=new _}]);var C=function(X){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var me=X;Object.defineProperty(this,"pdf",{get:function(){return me}});var _e=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return _e},set:function(Ot){_e=Boolean(Ot)}});var Pe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Pe},set:function(Ot){Pe=Boolean(Ot)}});var We=0;Object.defineProperty(this,"posX",{get:function(){return We},set:function(Ot){isNaN(Ot)||(We=Ot)}});var nt=0;Object.defineProperty(this,"posY",{get:function(){return nt},set:function(Ot){isNaN(Ot)||(nt=Ot)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Ot){var be;"number"==typeof Ot?be=[Ot,Ot,Ot,Ot]:((be=new Array(4))[0]=Ot[0],be[1]=Ot.length>=2?Ot[1]:be[0],be[2]=Ot.length>=3?Ot[2]:be[0],be[3]=Ot.length>=4?Ot[3]:be[1]),f.margin=be}});var ft=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ft},set:function(Ot){ft=Ot}});var At=0;Object.defineProperty(this,"lastBreak",{get:function(){return At},set:function(Ot){At=Ot}});var pn=[];Object.defineProperty(this,"pageBreaks",{get:function(){return pn},set:function(Ot){pn=Ot}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Ot){Ot instanceof _&&(f=Ot)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Ot){f.path=Ot}});var un=[];Object.defineProperty(this,"ctxStack",{get:function(){return un},set:function(Ot){un=Ot}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ot){var be;be=F(Ot),this.ctx.fillStyle=be.style,this.ctx.isFillTransparent=0===be.a,this.ctx.fillOpacity=be.a,this.pdf.setFillColor(be.r,be.g,be.b,{a:be.a}),this.pdf.setTextColor(be.r,be.g,be.b,{a:be.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ot){var be=F(Ot);this.ctx.strokeStyle=be.style,this.ctx.isStrokeTransparent=0===be.a,this.ctx.strokeOpacity=be.a,0===be.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(be.r,be.g,be.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ot){-1!==["butt","round","square"].indexOf(Ot)&&(this.ctx.lineCap=Ot,this.pdf.setLineCap(Ot))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ot){isNaN(Ot)||(this.ctx.lineWidth=Ot,this.pdf.setLineWidth(Ot))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ot){-1!==["bevel","round","miter"].indexOf(Ot)&&(this.ctx.lineJoin=Ot,this.pdf.setLineJoin(Ot))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ot){isNaN(Ot)||(this.ctx.miterLimit=Ot,this.pdf.setMiterLimit(Ot))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ot){this.ctx.textBaseline=Ot}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ot){-1!==["right","end","center","left","start"].indexOf(Ot)&&(this.ctx.textAlign=Ot)}});var qn=null,Pi=null;Object.defineProperty(this,"fontFaces",{get:function(){return Pi},set:function(Ot){qn=null,Pi=Ot}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ot){var be;if(this.ctx.font=Ot,null!==(be=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ot))){var ar=be[1],li=be[3],dn=be[4],In=be[6],Un=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(dn)[2];dn=Math.floor("px"===Un?parseFloat(dn)*this.pdf.internal.scaleFactor:"em"===Un?parseFloat(dn)*this.pdf.getFontSize():parseFloat(dn)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(dn);var On=function(zi){var Br,Qn,$u=[],ds=zi.trim();if(""===ds)return Y3;if(ds in BK)return[BK[ds]];for(;""!==ds;){switch(Qn=null,Br=(ds=MK(ds)).charAt(0)){case'"':case"'":Qn=Hpe(ds.substring(1),Br);break;default:Qn=Vpe(ds)}if(null===Qn||($u.push(Qn[0]),""!==(ds=MK(Qn[1]))&&","!==ds.charAt(0)))return Y3;ds=ds.replace(/^,/,"")}return $u}(In);if(this.fontFaces){var yi=function Qpe(n,t,e){for(var i=(e=e||{}).defaultFontFamily||"times",r=Object.assign({},Upe,e.genericFontFamilies||{}),o=null,a=null,u=0;u<t.length;++u)if(r[(o=$3(t[u])).family]&&(o.family=r[o.family]),n.hasOwnProperty(o.family)){a=n[o.family];break}if(!(a=a||n[i]))throw new Error("Could not find a font-family for the rule '"+FK(o)+"' and default family '"+i+"'.");if(a=function(h,f){if(f[h])return f[h];var _=Z3[h],F=TK(f,IK,_,_<=Z3.normal?-1:1);if(!F)throw new Error("Could not find a matching font-stretch value for "+h);return F}(o.stretch,a),a=function(h,f){if(f[h])return f[h];for(var _=SK[h],C=0;C<_.length;++C)if(f[_[C]])return f[_[C]];throw new Error("Could not find a matching font-style for "+h)}(o.style,a),!(a=function(h,f){if(f[h])return f[h];if(400===h&&f[500])return f[500];if(500===h&&f[400])return f[400];var C=TK(f,DK,Ppe[h],h<400?-1:1);if(!C)throw new Error("Could not find a matching font-weight for value "+h);return C}(o.weight,a)))throw new Error("Failed to resolve a font for the rule '"+FK(o)+"'.");return a}(function Xn(Ot,be){if(null===qn){var ar=(li=Ot.getFontList(),dn=[],Object.keys(li).forEach(function(In){li[In].forEach(function(Un){var On=null;switch(Un){case"bold":On={family:In,weight:"bold"};break;case"italic":On={family:In,style:"italic"};break;case"bolditalic":On={family:In,weight:"bold",style:"italic"};break;case"":case"normal":On={family:In}}null!==On&&(On.ref={name:In,style:Un},dn.push(On))})}),dn);qn=function(li){for(var dn={},In=0;In<li.length;++In){var Un=$3(li[In]),On=Un.family,yi=Un.stretch,ir=Un.style,gr=Un.weight;dn[On]=dn[On]||{},dn[On][yi]=dn[On][yi]||{},dn[On][yi][ir]=dn[On][yi][ir]||{},dn[On][yi][ir][gr]=Un}return dn}(ar.concat(be))}var li,dn;return qn}(this.pdf,this.fontFaces),On.map(function(zi){return{family:zi,stretch:"normal",weight:li,style:ar}}));this.pdf.setFont(yi.ref.name,yi.ref.style)}else{var ir="";("bold"===li||parseInt(li,10)>=700||"bold"===ar)&&(ir="bold"),"italic"===ar&&(ir+="italic"),0===ir.length&&(ir="normal");for(var gr="",Er={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ns=0;ns<On.length;ns++){if(void 0!==this.pdf.internal.getFont(On[ns],ir,{noFallback:!0,disableWarning:!0})){gr=On[ns];break}if("bolditalic"===ir&&void 0!==this.pdf.internal.getFont(On[ns],"bold",{noFallback:!0,disableWarning:!0}))gr=On[ns],ir="bold";else if(void 0!==this.pdf.internal.getFont(On[ns],"normal",{noFallback:!0,disableWarning:!0})){gr=On[ns],ir="normal";break}}if(""===gr)for(var Xs=0;Xs<On.length;Xs++)if(Er[On[Xs]]){gr=Er[On[Xs]];break}this.pdf.setFont(gr=""===gr?"Times":gr,ir)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ot){this.ctx.globalCompositeOperation=Ot}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ot){this.ctx.globalAlpha=Ot}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ot){this.ctx.lineDashOffset=Ot,_n.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ot){this.ctx.lineDash=Ot,_n.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ot){this.ctx.ignoreClearRect=Boolean(Ot)}})};C.prototype.setLineDash=function(X){this.lineDash=X},C.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},C.prototype.fill=function(){xe.call(this,"fill",!1)},C.prototype.stroke=function(){xe.call(this,"stroke",!1)},C.prototype.beginPath=function(){this.path=[{type:"begin"}]},C.prototype.moveTo=function(X,me){if(isNaN(X)||isNaN(me))throw uo.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var _e=this.ctx.transform.applyToPoint(new a(X,me));this.path.push({type:"mt",x:_e.x,y:_e.y}),this.ctx.lastPoint=new a(X,me)},C.prototype.closePath=function(){var X=new a(0,0),me=0;for(me=this.path.length-1;-1!==me;me--)if("begin"===this.path[me].type&&"object"===Os(this.path[me+1])&&"number"==typeof this.path[me+1].x){X=new a(this.path[me+1].x,this.path[me+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(X.x,X.y)},C.prototype.lineTo=function(X,me){if(isNaN(X)||isNaN(me))throw uo.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var _e=this.ctx.transform.applyToPoint(new a(X,me));this.path.push({type:"lt",x:_e.x,y:_e.y}),this.ctx.lastPoint=new a(_e.x,_e.y)},C.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),xe.call(this,null,!0)},C.prototype.quadraticCurveTo=function(X,me,_e,Pe){if(isNaN(_e)||isNaN(Pe)||isNaN(X)||isNaN(me))throw uo.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var We=this.ctx.transform.applyToPoint(new a(_e,Pe)),nt=this.ctx.transform.applyToPoint(new a(X,me));this.path.push({type:"qct",x1:nt.x,y1:nt.y,x:We.x,y:We.y}),this.ctx.lastPoint=new a(We.x,We.y)},C.prototype.bezierCurveTo=function(X,me,_e,Pe,We,nt){if(isNaN(We)||isNaN(nt)||isNaN(X)||isNaN(me)||isNaN(_e)||isNaN(Pe))throw uo.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ft=this.ctx.transform.applyToPoint(new a(We,nt)),At=this.ctx.transform.applyToPoint(new a(X,me)),pn=this.ctx.transform.applyToPoint(new a(_e,Pe));this.path.push({type:"bct",x1:At.x,y1:At.y,x2:pn.x,y2:pn.y,x:ft.x,y:ft.y}),this.ctx.lastPoint=new a(ft.x,ft.y)},C.prototype.arc=function(X,me,_e,Pe,We,nt){if(isNaN(X)||isNaN(me)||isNaN(_e)||isNaN(Pe)||isNaN(We))throw uo.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(nt=Boolean(nt),!this.ctx.transform.isIdentity){var ft=this.ctx.transform.applyToPoint(new a(X,me));X=ft.x,me=ft.y;var At=this.ctx.transform.applyToPoint(new a(0,_e)),pn=this.ctx.transform.applyToPoint(new a(0,0));_e=Math.sqrt(Math.pow(At.x-pn.x,2)+Math.pow(At.y-pn.y,2))}Math.abs(We-Pe)>=2*Math.PI&&(Pe=0,We=2*Math.PI),this.path.push({type:"arc",x:X,y:me,radius:_e,startAngle:Pe,endAngle:We,counterclockwise:nt})},C.prototype.arcTo=function(X,me,_e,Pe,We){throw new Error("arcTo not implemented.")},C.prototype.rect=function(X,me,_e,Pe){if(isNaN(X)||isNaN(me)||isNaN(_e)||isNaN(Pe))throw uo.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(X,me),this.lineTo(X+_e,me),this.lineTo(X+_e,me+Pe),this.lineTo(X,me+Pe),this.lineTo(X,me),this.lineTo(X+_e,me),this.lineTo(X,me)},C.prototype.fillRect=function(X,me,_e,Pe){if(isNaN(X)||isNaN(me)||isNaN(_e)||isNaN(Pe))throw uo.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!B.call(this)){var We={};"butt"!==this.lineCap&&(We.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(We.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(X,me,_e,Pe),this.fill(),We.hasOwnProperty("lineCap")&&(this.lineCap=We.lineCap),We.hasOwnProperty("lineJoin")&&(this.lineJoin=We.lineJoin)}},C.prototype.strokeRect=function(X,me,_e,Pe){if(isNaN(X)||isNaN(me)||isNaN(_e)||isNaN(Pe))throw uo.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");U.call(this)||(this.beginPath(),this.rect(X,me,_e,Pe),this.stroke())},C.prototype.clearRect=function(X,me,_e,Pe){if(isNaN(X)||isNaN(me)||isNaN(_e)||isNaN(Pe))throw uo.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(X,me,_e,Pe))},C.prototype.save=function(X){X="boolean"!=typeof X||X;for(var me=this.pdf.internal.getCurrentPageInfo().pageNumber,_e=0;_e<this.pdf.internal.getNumberOfPages();_e++)this.pdf.setPage(_e+1),this.pdf.internal.out("q");if(this.pdf.setPage(me),X){this.ctx.fontSize=this.pdf.internal.getFontSize();var Pe=new _(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Pe}},C.prototype.restore=function(X){X="boolean"!=typeof X||X;for(var me=this.pdf.internal.getCurrentPageInfo().pageNumber,_e=0;_e<this.pdf.internal.getNumberOfPages();_e++)this.pdf.setPage(_e+1),this.pdf.internal.out("Q");this.pdf.setPage(me),X&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},C.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var F=function(X){var me,_e,Pe,We;if(!0===X.isCanvasGradient&&(X=X.getColor()),!X)return{r:0,g:0,b:0,a:0,style:X};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(X))me=0,_e=0,Pe=0,We=0;else{var nt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(X);if(null!==nt)me=parseInt(nt[1]),_e=parseInt(nt[2]),Pe=parseInt(nt[3]),We=1;else if(null!==(nt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(X)))me=parseInt(nt[1]),_e=parseInt(nt[2]),Pe=parseInt(nt[3]),We=parseFloat(nt[4]);else{if(We=1,"string"==typeof X&&"#"!==X.charAt(0)){var ft=new pK(X);X=ft.ok?ft.toHex():"#000000"}4===X.length?(me=X.substring(1,2),me+=me,_e=X.substring(2,3),_e+=_e,Pe=X.substring(3,4),Pe+=Pe):(me=X.substring(1,3),_e=X.substring(3,5),Pe=X.substring(5,7)),me=parseInt(me,16),_e=parseInt(_e,16),Pe=parseInt(Pe,16)}}return{r:me,g:_e,b:Pe,a:We,style:X}},B=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},U=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};C.prototype.fillText=function(X,me,_e,Pe){if(isNaN(me)||isNaN(_e)||"string"!=typeof X)throw uo.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Pe=isNaN(Pe)?void 0:Pe,!B.call(this)){var We=Ne(this.ctx.transform.rotation),nt=this.ctx.transform.scaleX;de.call(this,{text:X,x:me,y:_e,scale:nt,angle:We,align:this.textAlign,maxWidth:Pe})}},C.prototype.strokeText=function(X,me,_e,Pe){if(isNaN(me)||isNaN(_e)||"string"!=typeof X)throw uo.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!U.call(this)){Pe=isNaN(Pe)?void 0:Pe;var We=Ne(this.ctx.transform.rotation),nt=this.ctx.transform.scaleX;de.call(this,{text:X,x:me,y:_e,scale:nt,renderingMode:"stroke",angle:We,align:this.textAlign,maxWidth:Pe})}},C.prototype.measureText=function(X){if("string"!=typeof X)throw uo.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var me=this.pdf,_e=this.pdf.internal.scaleFactor,Pe=me.internal.getFontSize(),We=me.getStringUnitWidth(X)*Pe/me.internal.scaleFactor,nt=function(ft){var At=(ft=ft||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return At}}),this};return new nt({width:We*=Math.round(96*_e/72*1e4)/1e4})},C.prototype.scale=function(X,me){if(isNaN(X)||isNaN(me))throw uo.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var _e=new h(X,0,0,me,0,0);this.ctx.transform=this.ctx.transform.multiply(_e)},C.prototype.rotate=function(X){if(isNaN(X))throw uo.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var me=new h(Math.cos(X),Math.sin(X),-Math.sin(X),Math.cos(X),0,0);this.ctx.transform=this.ctx.transform.multiply(me)},C.prototype.translate=function(X,me){if(isNaN(X)||isNaN(me))throw uo.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var _e=new h(1,0,0,1,X,me);this.ctx.transform=this.ctx.transform.multiply(_e)},C.prototype.transform=function(X,me,_e,Pe,We,nt){if(isNaN(X)||isNaN(me)||isNaN(_e)||isNaN(Pe)||isNaN(We)||isNaN(nt))throw uo.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ft=new h(X,me,_e,Pe,We,nt);this.ctx.transform=this.ctx.transform.multiply(ft)},C.prototype.setTransform=function(X,me,_e,Pe,We,nt){X=isNaN(X)?1:X,me=isNaN(me)?0:me,_e=isNaN(_e)?0:_e,Pe=isNaN(Pe)?1:Pe,We=isNaN(We)?0:We,nt=isNaN(nt)?0:nt,this.ctx.transform=new h(X,me,_e,Pe,We,nt)};var H=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};C.prototype.drawImage=function(X,me,_e,Pe,We,nt,ft,At,pn){var un=this.pdf.getImageProperties(X),qn=1,Xn=1,Pi=1,Ot=1;void 0!==Pe&&void 0!==At&&(Pi=At/Pe,Ot=pn/We,qn=un.width/Pe*At/Pe,Xn=un.height/We*pn/We),void 0===nt&&(nt=me,ft=_e,me=0,_e=0),void 0!==Pe&&void 0===At&&(At=Pe,pn=We),void 0===Pe&&void 0===At&&(At=un.width,pn=un.height);for(var be,ar=this.ctx.transform.decompose(),li=Ne(ar.rotate.shx),dn=new h,In=(dn=(dn=(dn=dn.multiply(ar.translate)).multiply(ar.skew)).multiply(ar.scale)).applyToRectangle(new u(nt-me*Pi,ft-_e*Ot,Pe*qn,We*Xn)),Un=Z.call(this,In),On=[],yi=0;yi<Un.length;yi+=1)-1===On.indexOf(Un[yi])&&On.push(Un[yi]);if(he(On),this.autoPaging)for(var ir=On[0],gr=On[On.length-1],Er=ir;Er<gr+1;Er++){this.pdf.setPage(Er);var ns=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xs=1===Er?this.posY+this.margin[0]:this.margin[0],Br=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qn=1===Er?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Er-2)*Br;if(0!==this.ctx.clip_path.length){var $u=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(be,this.posX+this.margin[3],-Qn+Xs+this.ctx.prevPageLastElemOffset),Ze.call(this,"fill",!0),this.path=$u}var ds=JSON.parse(JSON.stringify(In));ds=W([ds],this.posX+this.margin[3],-Qn+Xs+this.ctx.prevPageLastElemOffset)[0];var rg=(Er>ir||Er<gr)&&H.call(this);rg&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ns,Br,null).clip().discardPath()),this.pdf.addImage(X,"JPEG",ds.x,ds.y,ds.w,ds.h,null,null,li),rg&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(X,"JPEG",In.x,In.y,In.w,In.h,null,null,li)};var Z=function(X,me,_e){var Pe=[];me=me||this.pdf.internal.pageSize.width,_e=_e||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var We=this.posY+this.ctx.prevPageLastElemOffset;switch(X.type){default:case"mt":case"lt":Pe.push(Math.floor((X.y+We)/_e)+1);break;case"arc":Pe.push(Math.floor((X.y+We-X.radius)/_e)+1),Pe.push(Math.floor((X.y+We+X.radius)/_e)+1);break;case"qct":var nt=ht(this.ctx.lastPoint.x,this.ctx.lastPoint.y,X.x1,X.y1,X.x,X.y);Pe.push(Math.floor((nt.y+We)/_e)+1),Pe.push(Math.floor((nt.y+nt.h+We)/_e)+1);break;case"bct":var ft=_t(this.ctx.lastPoint.x,this.ctx.lastPoint.y,X.x1,X.y1,X.x2,X.y2,X.x,X.y);Pe.push(Math.floor((ft.y+We)/_e)+1),Pe.push(Math.floor((ft.y+ft.h+We)/_e)+1);break;case"rect":Pe.push(Math.floor((X.y+We)/_e)+1),Pe.push(Math.floor((X.y+X.h+We)/_e)+1)}for(var At=0;At<Pe.length;At+=1)for(;this.pdf.internal.getNumberOfPages()<Pe[At];)q.call(this);return Pe},q=function(){var X=this.fillStyle,me=this.strokeStyle,_e=this.font,Pe=this.lineCap,We=this.lineWidth,nt=this.lineJoin;this.pdf.addPage(),this.fillStyle=X,this.strokeStyle=me,this.font=_e,this.lineCap=Pe,this.lineWidth=We,this.lineJoin=nt},W=function(X,me,_e){for(var Pe=0;Pe<X.length;Pe++)switch(X[Pe].type){case"bct":X[Pe].x2+=me,X[Pe].y2+=_e;case"qct":X[Pe].x1+=me,X[Pe].y1+=_e;default:X[Pe].x+=me,X[Pe].y+=_e}return X},he=function(X){return X.sort(function(me,_e){return me-_e})},xe=function(X,me){for(var _e,Pe,We=this.fillStyle,nt=this.strokeStyle,ft=this.lineCap,At=this.lineWidth,pn=Math.abs(At*this.ctx.transform.scaleX),un=this.lineJoin,qn=JSON.parse(JSON.stringify(this.path)),Xn=JSON.parse(JSON.stringify(this.path)),Pi=[],Ot=0;Ot<Xn.length;Ot++)if(void 0!==Xn[Ot].x)for(var be=Z.call(this,Xn[Ot]),ar=0;ar<be.length;ar+=1)-1===Pi.indexOf(be[ar])&&Pi.push(be[ar]);for(var li=0;li<Pi.length;li++)for(;this.pdf.internal.getNumberOfPages()<Pi[li];)q.call(this);if(he(Pi),this.autoPaging)for(var dn=Pi[0],In=Pi[Pi.length-1],Un=dn;Un<In+1;Un++){this.pdf.setPage(Un),this.fillStyle=We,this.strokeStyle=nt,this.lineCap=ft,this.lineWidth=pn,this.lineJoin=un;var On=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],yi=1===Un?this.posY+this.margin[0]:this.margin[0],gr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Er=1===Un?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Un-2)*gr;if(0!==this.ctx.clip_path.length){var ns=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(_e,this.posX+this.margin[3],-Er+yi+this.ctx.prevPageLastElemOffset),Ze.call(this,X,!0),this.path=ns}if(Pe=JSON.parse(JSON.stringify(qn)),this.path=W(Pe,this.posX+this.margin[3],-Er+yi+this.ctx.prevPageLastElemOffset),!1===me||0===Un){var Xs=(Un>dn||Un<In)&&H.call(this);Xs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],On,gr,null).clip().discardPath()),Ze.call(this,X,me),Xs&&this.pdf.restoreGraphicsState()}this.lineWidth=At}else this.lineWidth=pn,Ze.call(this,X,me),this.lineWidth=At;this.path=qn},Ze=function(X,me){if(("stroke"!==X||me||!U.call(this))&&("stroke"===X||me||!B.call(this))){for(var _e,Pe,We=[],nt=this.path,ft=0;ft<nt.length;ft++){var At=nt[ft];switch(At.type){case"begin":We.push({begin:!0});break;case"close":We.push({close:!0});break;case"mt":We.push({start:At,deltas:[],abs:[]});break;case"lt":var pn=We.length;if(nt[ft-1]&&!isNaN(nt[ft-1].x)&&(_e=[At.x-nt[ft-1].x,At.y-nt[ft-1].y],pn>0))for(;pn>=0;pn--)if(!0!==We[pn-1].close&&!0!==We[pn-1].begin){We[pn-1].deltas.push(_e),We[pn-1].abs.push(At);break}break;case"bct":We[We.length-1].deltas.push(_e=[At.x1-nt[ft-1].x,At.y1-nt[ft-1].y,At.x2-nt[ft-1].x,At.y2-nt[ft-1].y,At.x-nt[ft-1].x,At.y-nt[ft-1].y]);break;case"qct":We[We.length-1].deltas.push(_e=[nt[ft-1].x+2/3*(At.x1-nt[ft-1].x)-nt[ft-1].x,nt[ft-1].y+2/3*(At.y1-nt[ft-1].y)-nt[ft-1].y,At.x+2/3*(At.x1-At.x)-nt[ft-1].x,At.y+2/3*(At.y1-At.y)-nt[ft-1].y,At.x-nt[ft-1].x,At.y-nt[ft-1].y]);break;case"arc":We.push({deltas:[],abs:[],arc:!0}),Array.isArray(We[We.length-1].abs)&&We[We.length-1].abs.push(At)}}Pe=me?null:"stroke"===X?"stroke":"fill";for(var ar=!1,li=0;li<We.length;li++)if(We[li].arc)for(var dn=We[li].abs,In=0;In<dn.length;In++){var Un=dn[In];"arc"===Un.type?we.call(this,Un.x,Un.y,Un.radius,Un.startAngle,Un.endAngle,Un.counterclockwise,void 0,me,!ar):Te.call(this,Un.x,Un.y),ar=!0}else!0===We[li].close?(this.pdf.internal.out("h"),ar=!1):!0!==We[li].begin&&(Se.call(this,We[li].deltas,We[li].start.x,We[li].start.y),ar=!0);Pe&&Ft.call(this,Pe),me&&Bt.call(this)}},ct=function(X){var me=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,_e=me*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return X-_e;case"top":return X+me-_e;case"hanging":return X+me-2*_e;case"middle":return X+me/2-_e;default:return X}},Ve=function(X){return X+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};C.prototype.createLinearGradient=function(){var X=function(){};return X.colorStops=[],X.addColorStop=function(me,_e){this.colorStops.push([me,_e])},X.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},X.isCanvasGradient=!0,X},C.prototype.createPattern=function(){return this.createLinearGradient()},C.prototype.createRadialGradient=function(){return this.createLinearGradient()};var we=function(X,me,_e,Pe,We,nt,ft,At,pn){for(var un=Re.call(this,_e,Pe,We,nt),qn=0;qn<un.length;qn++){var Xn=un[qn];0===qn&&(pn?Ae.call(this,Xn.x1+X,Xn.y1+me):Te.call(this,Xn.x1+X,Xn.y1+me)),xt.call(this,X,me,Xn.x2,Xn.y2,Xn.x3,Xn.y3,Xn.x4,Xn.y4)}At?Bt.call(this):Ft.call(this,ft)},Ft=function(X){switch(X){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Bt=function(){this.pdf.clip(),this.pdf.discardPath()},Ae=function(X,me){this.pdf.internal.out(e(X)+" "+i(me)+" m")},de=function(X){var me;switch(X.align){case"right":case"end":me="right";break;case"center":me="center";break;default:me="left"}var _e=this.pdf.getTextDimensions(X.text),Pe=ct.call(this,X.y),We=Ve.call(this,Pe)-_e.h,nt=this.ctx.transform.applyToPoint(new a(X.x,Pe)),ft=this.ctx.transform.decompose(),At=new h;At=(At=(At=At.multiply(ft.translate)).multiply(ft.skew)).multiply(ft.scale);for(var pn,un,qn,Xn=this.ctx.transform.applyToRectangle(new u(X.x,Pe,_e.w,_e.h)),Pi=At.applyToRectangle(new u(X.x,We,_e.w,_e.h)),Ot=Z.call(this,Pi),be=[],ar=0;ar<Ot.length;ar+=1)-1===be.indexOf(Ot[ar])&&be.push(Ot[ar]);if(he(be),this.autoPaging)for(var li=be[0],dn=be[be.length-1],In=li;In<dn+1;In++){this.pdf.setPage(In);var Un=1===In?this.posY+this.margin[0]:this.margin[0],yi=this.pdf.internal.pageSize.height-this.margin[2],ir=yi-this.margin[0],gr=this.pdf.internal.pageSize.width-this.margin[1],Er=gr-this.margin[3],ns=1===In?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(In-2)*ir;if(0!==this.ctx.clip_path.length){var Xs=this.path;pn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(pn,this.posX+this.margin[3],-1*ns+Un),Ze.call(this,"fill",!0),this.path=Xs}var zi=W([JSON.parse(JSON.stringify(Pi))],this.posX+this.margin[3],-ns+Un+this.ctx.prevPageLastElemOffset)[0];X.scale>=.01&&(un=this.pdf.internal.getFontSize(),this.pdf.setFontSize(un*X.scale),this.lineWidth=(qn=this.lineWidth)*X.scale);var Br="text"!==this.autoPaging;if(Br||zi.y+zi.h<=yi){if(Br||zi.y>=Un&&zi.x<=gr){var Qn=Br?X.text:this.pdf.splitTextToSize(X.text,X.maxWidth||gr-zi.x)[0],$u=W([JSON.parse(JSON.stringify(Xn))],this.posX+this.margin[3],-ns+Un+this.ctx.prevPageLastElemOffset)[0],ds=Br&&(In>li||In<dn)&&H.call(this);ds&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Er,ir,null).clip().discardPath()),this.pdf.text(Qn,$u.x,$u.y,{angle:X.angle,align:me,renderingMode:X.renderingMode}),ds&&this.pdf.restoreGraphicsState()}}else zi.y<yi&&(this.ctx.prevPageLastElemOffset+=yi-zi.y);X.scale>=.01&&(this.pdf.setFontSize(un),this.lineWidth=qn)}else X.scale>=.01&&(un=this.pdf.internal.getFontSize(),this.pdf.setFontSize(un*X.scale),this.lineWidth=(qn=this.lineWidth)*X.scale),this.pdf.text(X.text,nt.x+this.posX,nt.y+this.posY,{angle:X.angle,align:me,renderingMode:X.renderingMode,maxWidth:X.maxWidth}),X.scale>=.01&&(this.pdf.setFontSize(un),this.lineWidth=qn)},Te=function(X,me,_e,Pe){Pe=Pe||0,this.pdf.internal.out(e(X+(_e=_e||0))+" "+i(me+Pe)+" l")},Se=function(X,me,_e){return this.pdf.lines(X,me,_e,null,null)},xt=function(X,me,_e,Pe,We,nt,ft,At){this.pdf.internal.out([t(r(_e+X)),t(o(Pe+me)),t(r(We+X)),t(o(nt+me)),t(r(ft+X)),t(o(At+me)),"c"].join(" "))},Re=function(X,me,_e,Pe){for(var We=2*Math.PI,nt=Math.PI/2;me>_e;)me-=We;var ft=Math.abs(_e-me);ft<We&&Pe&&(ft=We-ft);for(var At=[],pn=Pe?-1:1,un=me;ft>1e-5;){var qn=un+pn*Math.min(ft,nt);At.push(Ye.call(this,X,un,qn)),ft-=Math.abs(qn-un),un=qn}return At},Ye=function(X,me,_e){var Pe=(_e-me)/2,We=X*Math.cos(Pe),nt=X*Math.sin(Pe),ft=We,At=-nt,pn=ft*ft+At*At,un=pn+ft*We+At*nt,qn=4/3*(Math.sqrt(2*pn*un)-un)/(ft*nt-At*We),Xn=ft-qn*At,Pi=At+qn*ft,Ot=Xn,be=-Pi,ar=Pe+me,li=Math.cos(ar),dn=Math.sin(ar);return{x1:X*Math.cos(me),y1:X*Math.sin(me),x2:Xn*li-Pi*dn,y2:Xn*dn+Pi*li,x3:Ot*li-be*dn,y3:Ot*dn+be*li,x4:X*Math.cos(_e),y4:X*Math.sin(_e)}},Ne=function(X){return 180*X/Math.PI},ht=function(X,me,_e,Pe,We,nt){var ft=X+.5*(_e-X),At=me+.5*(Pe-me),pn=We+.5*(_e-We),un=nt+.5*(Pe-nt),qn=Math.min(X,We,ft,pn),Xn=Math.max(X,We,ft,pn),Pi=Math.min(me,nt,At,un),Ot=Math.max(me,nt,At,un);return new u(qn,Pi,Xn-qn,Ot-Pi)},_t=function(X,me,_e,Pe,We,nt,ft,At){var pn,un,qn,Xn,Pi,Ot,be,ar,li,dn,In,Un,On,yi,ir=_e-X,gr=Pe-me,Er=We-_e,ns=nt-Pe,Xs=ft-We,zi=At-nt;for(un=0;un<41;un++)li=(be=(qn=X+(pn=un/40)*ir)+pn*((Pi=_e+pn*Er)-qn))+pn*(Pi+pn*(We+pn*Xs-Pi)-be),dn=(ar=(Xn=me+pn*gr)+pn*((Ot=Pe+pn*ns)-Xn))+pn*(Ot+pn*(nt+pn*zi-Ot)-ar),0==un?(In=li,Un=dn,On=li,yi=dn):(In=Math.min(In,li),Un=Math.min(Un,dn),On=Math.max(On,li),yi=Math.max(yi,dn));return new u(Math.round(In),Math.round(Un),Math.round(On-In),Math.round(yi-Un))},_n=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var _e=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==_e&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=_e)}}})(ki.API),function(n){var t=function(o){var a,u,h,f,_,C,F,B,U,H;for(/[^\x00-\xFF]/.test(o),u=[],h=0,f=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;f>h;h+=4)0!==(_=(o.charCodeAt(h)<<24)+(o.charCodeAt(h+1)<<16)+(o.charCodeAt(h+2)<<8)+o.charCodeAt(h+3))?(C=(_=((_=((_=((_=(_-(H=_%85))/85)-(U=_%85))/85)-(B=_%85))/85)-(F=_%85))/85)%85,u.push(C+33,F+33,B+33,U+33,H+33)):u.push(122);return function(Z,q){for(var W=q;W>0;W--)Z.pop()}(u,a.length),String.fromCharCode.apply(String,u)+"~>"},e=function(o){var a,u,h,f,_,C=String,F="length",B=255,U="charCodeAt",H="slice",Z="replace";for(o[H](-2),o=o[H](0,-2)[Z](/\s/g,"")[Z]("z","!!!!!"),h=[],f=0,_=(o+=a="uuuuu"[H](o[F]%5||5))[F];_>f;f+=5)u=52200625*(o[U](f)-33)+614125*(o[U](f+1)-33)+7225*(o[U](f+2)-33)+85*(o[U](f+3)-33)+(o[U](f+4)-33),h.push(B&u>>24,B&u>>16,B&u>>8,B&u);return function(q,W){for(var he=W;he>0;he--)q.pop()}(h,a[F]),C.fromCharCode.apply(C,h)},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(o=o.replace(/\s/g,"")).indexOf(">")&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),!1===a.test(o))return"";for(var u="",h=0;h<o.length;h+=2)u+=String.fromCharCode("0x"+(o[h]+o[h+1]));return u},r=function(o){for(var a=new Uint8Array(o.length),u=o.length;u--;)a[u]=o.charCodeAt(u);return(a=Q2(a)).reduce(function(h,f){return h+String.fromCharCode(f)},"")};n.processDataByFilters=function(o,a){var u=0,h=o||"",f=[];for("string"==typeof(a=a||[])&&(a=[a]),u=0;u<a.length;u+=1)switch(a[u]){case"ASCII85Decode":case"/ASCII85Decode":h=e(h),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=t(h),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=h.split("").map(function(_){return("0"+_.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=r(h),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[u]+'" is not implemented')}return{data:h,reverseChain:f.reverse().join(" ")}}}(ki.API),function(n){n.loadFile=function(t,e,i){return function(r,o,a){o=!1!==o,a="function"==typeof a?a:function(){};var u=void 0;try{u=function(h,f,_){var C=new XMLHttpRequest,F=0,B=function(U){var H=U.length,Z=[],q=String.fromCharCode;for(F=0;F<H;F+=1)Z.push(q(255&U.charCodeAt(F)));return Z.join("")};if(C.open("GET",h,!f),C.overrideMimeType("text/plain; charset=x-user-defined"),!1===f&&(C.onload=function(){_(200===C.status?B(this.responseText):void 0)}),C.send(null),f&&200===C.status)return B(C.responseText)}(r,o,a)}catch{}return u}(t,e,i)},n.loadImageFile=n.loadFile}(ki.API),function(n){function t(){return(Ni.html2canvas?Promise.resolve(Ni.html2canvas):Promise.resolve().then(re.t.bind(re,4159,23))).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function e(){return(Ni.DOMPurify?Promise.resolve(Ni.DOMPurify):re.e(735).then(re.t.bind(re,2735,23))).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var i=function(a){var u=Os(a);return"undefined"===u?"undefined":"string"===u||a instanceof String?"string":"number"===u||a instanceof Number?"number":"function"===u||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&1===a.nodeType?"element":"object"===u?"object":"unknown"},r=function(a,u){var h=document.createElement(a);for(var f in u.className&&(h.className=u.className),u.innerHTML&&u.dompurify&&(h.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)h.style[f]=u.style[f];return h},o=function a(u){var h=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),f=a.convert(Promise.resolve(),h);return(f=f.setProgress(1,a,1,[a])).set(u)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,u){return a.__proto__=u||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,u){return this.then(function(){switch(u=u||function(h){switch(i(h)){case"string":return"string";case"element":return"canvas"===h.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(e).then(function(h){return this.set({src:r("div",{innerHTML:a,dompurify:h})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function h(f,_){for(var C=3===f.nodeType?document.createTextNode(f.nodeValue):f.cloneNode(!1),F=f.firstChild;F;F=F.nextSibling)!0!==_&&1===F.nodeType&&"SCRIPT"===F.nodeName||C.appendChild(h(F,_));return 1===f.nodeType&&("CANVAS"===f.nodeName?(C.width=f.width,C.height=f.height,C.getContext("2d").drawImage(f,0,0)):"TEXTAREA"!==f.nodeName&&"SELECT"!==f.nodeName||(C.value=f.value),C.addEventListener("load",function(){C.scrollTop=f.scrollTop,C.scrollLeft=f.scrollLeft},!0)),C}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===u.tagName&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(t).then(function(u){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,u(this.prop.container,h)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(t).then(function(u){var h=this.opt.jsPDF,f=this.opt.fontFaces,_="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,C=Object.assign({async:!0,allowTaint:!0,scale:_,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete C.onrendered,h.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=f,f)for(var F=0;F<f.length;++F){var B=f[F],U=B.src.find(function(H){return"truetype"===H.format});U&&h.addFont(U.url,B.ref.name,B.ref.style)}return C.windowHeight=C.windowHeight||0,C.windowHeight=0==C.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):C.windowHeight,h.context2d.save(!0),u(this.prop.container,C)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,u,h){return"img"===(h=h||"pdf").toLowerCase()||"image"===h.toLowerCase()?this.outputImg(a,u):this.outputPdf(a,u)},o.prototype.outputPdf=function(a,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,u)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if("object"!==i(a))return this;var u=Object.keys(a||{}).map(function(h){if(h in o.template.prop)return function(){this.prop[h]=a[h]};switch(h){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[h]=a[h]}}},this);return this.then(function(){return this.thenList(u)})},o.prototype.get=function(a,u){return this.then(function(){var h=a in o.template.prop?this.prop[a]:this.opt[a];return u?u(h):h})},o.prototype.setMargin=function(a){return this.then(function(){switch(i(a)){case"number":a=[a,a,a,a];case"array":if(2===a.length&&(a=[a[0],a[1],a[0],a[1]]),4===a.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function u(h,f){return Math.floor(h*f/72*96)}return this.then(function(){(a=a||ki.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:u(a.inner.width,a.k),height:u(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,u,h,f){return null!=a&&(this.progress.val=a),null!=u&&(this.progress.state=u),null!=h&&(this.progress.n=h),null!=f&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,u,h,f){return this.setProgress(a?this.progress.val+a:null,u||null,h?this.progress.n+h:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(a,u){var h=this;return this.thenCore(a,u,function(f,_){return h.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(C){return h.updateProgress(null,f),C}).then(f,_).then(function(C){return h.updateProgress(1),C})})},o.prototype.thenCore=function(a,u,h){h=h||Promise.prototype.then,a&&(a=a.bind(this)),u&&(u=u.bind(this));var f=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:o.convert(Object.assign({},this),Promise.prototype),_=h.call(f,a,u);return o.convert(_,this.__proto__)},o.prototype.thenExternal=function(a,u){return Promise.prototype.then.call(this,a,u)},o.prototype.thenList=function(a){var u=this;return a.forEach(function(h){u=u.thenCore(h)}),u},o.prototype.catch=function(a){a&&(a=a.bind(this));var u=Promise.prototype.catch.call(this,a);return o.convert(u,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ki.getPageSize=function(a,u,h){if("object"===Os(a)){var f=a;a=f.orientation,u=f.unit||u,h=f.format||h}u=u||"mm",h=h||"a4",a=(""+(a||"P")).toLowerCase();var _,C=(""+h).toLowerCase(),F={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":_=1;break;case"mm":_=72/25.4;break;case"cm":_=72/2.54;break;case"in":_=72;break;case"px":_=.75;break;case"pc":case"em":_=12;break;case"ex":_=6;break;default:throw"Invalid unit: "+u}var B,U=0,H=0;if(F.hasOwnProperty(C))U=F[C][1]/_,H=F[C][0]/_;else try{U=h[1],H=h[0]}catch{throw new Error("Invalid format: "+h)}if("p"===a||"portrait"===a)a="p",H>U&&(B=H,H=U,U=B);else{if("l"!==a&&"landscape"!==a)throw"Invalid orientation: "+a;a="l",U>H&&(B=H,H=U,U=B)}return{width:H,height:U,unit:u,k:_,orientation:a}},n.html=function(a,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map($3):null;var h=new o(u);return u.worker?h:h.from(a).doCallback()}}(ki.API),ki.API.addJS=function(n){return RK=n,this.internal.events.subscribe("postPutResources",function(){kR=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(kR+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),kK=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+RK+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==kR&&void 0!==kK&&this.internal.out("/Names <</JavaScript "+kR+" 0 R>>")}),this},function(n){var t;n.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),o=0;o<r.length;o++){var a=r[o],u=i.exec(a);null!=u&&e.internal.newObjectDeferredBegin(u[1],!1),e.internal.write(a)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,_=[];for(o=0;o<f;o++){var C=e.internal.newObject();_.push(C);var F=e.internal.getPageInfo(o+1);e.internal.write("<< /D["+F.objId+" 0 R /XYZ null null null]>> endobj")}var B=e.internal.newObject();for(e.internal.write("<< /Names [ "),o=0;o<_.length;o++)e.internal.write("(page_"+(o+1)+")"+_[o]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+B+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,r,o){var a={title:r,options:o,children:[]};return null==i&&(i=this.root),i.children.push(a),a},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<i.children.length;o++){var a=i.children[o];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(i)),o>0&&this.line("/Prev "+this.makeRef(i.children[o-1])),o<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[o+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var u=this.count=this.count_r({count:0},a);if(u>0&&this.line("/Count "+u),a.options&&a.options.pageNumber){var h=e.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var f=0;f<i.children.length;f++)this.renderItems(i.children[f])},e.outline.line=function(i){this.ctx.val+=i+"\r\n"},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+="\r\n"+i.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(i,r){for(var o=0;o<r.children.length;o++)i.count++,this.count_r(i,r.children[o]);return i.count}}])}(ki.API),function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,i,r,o,a,u){var h,f=this.decode.DCT_DECODE,_=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=this.__addimage__.isArrayBuffer(e=a||e)?new Uint8Array(e):e,(h=function(C){for(var F,B=256*C.charCodeAt(4)+C.charCodeAt(5),U=C.length,H={width:0,height:0,numcomponents:1},Z=4;Z<U;Z+=2){if(-1!==t.indexOf(C.charCodeAt((Z+=B)+1))){F=256*C.charCodeAt(Z+5)+C.charCodeAt(Z+6),H={width:256*C.charCodeAt(Z+7)+C.charCodeAt(Z+8),height:F,numcomponents:C.charCodeAt(Z+9)};break}B=256*C.charCodeAt(Z+2)+C.charCodeAt(Z+3)}return H}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}_={data:e,width:h.width,height:h.height,colorSpace:u,bitsPerComponent:8,filter:f,index:i,alias:r}}return _}}(ki.API);var fE,RR,OK,LK,NK,Gpe=function(){var n,t,e;function i(o){var a,h,f,_,C,F,B,U,H,Z,q,W,he;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},C=null;;){switch(a=this.readUInt32(),U=function(){var xe,Ze;for(Ze=[],xe=0;xe<4;++xe)Ze.push(String.fromCharCode(this.data[this.pos++]));return Ze}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":C&&this.animation.frames.push(C),this.pos+=4,C={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},_=this.readUInt16(),f=this.readUInt16()||100,C.delay=1e3*_/f,C.disposeOp=this.data[this.pos++],C.blendOp=this.data[this.pos++],C.data=[];break;case"IDAT":case"fdAT":for("fdAT"===U&&(this.pos+=4,a-=4),o=C?.data||this.imgData,q=0;0<=a?q<a:q>a;0<=a?++q:--q)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(h=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>h)throw new Error("More transparent colors than palette size");if((H=h-this.transparency.indexed.length)>0)for(W=0;0<=H?W<H:W>H;0<=H?++W:--W)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":F=(Z=this.read(a)).indexOf(0),B=String.fromCharCode.apply(String,Z.slice(0,F)),this.text[B]=String.fromCharCode.apply(String,Z.slice(F+1));break;case"IEND":return C&&this.animation.frames.push(C),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(he=this.colorType)||6===he,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(o){var a,u;for(u=[],a=0;0<=o?a<o:a>o;0<=o?++a:--a)u.push(this.data[this.pos++]);return u},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(o){var a=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*a),h=0,f=this;if(null==o&&(o=this.imgData),0===o.length)return new Uint8Array(0);function _(C,F,B,U){var H,Z,q,W,he,xe,Ze,ct,we,Ft,Bt,Ae,de,Te,Se,xt,Re,Ye,Ne,ht,_t=Math.ceil((f.width-C)/B),_n=Math.ceil((f.height-F)/U),X=f.width==_t&&f.height==_n;for(de=a*_t,Bt=X?u:new Uint8Array(de*_n),xe=o.length,Ae=0,Z=0;Ae<_n&&h<xe;){switch(o[h++]){case 0:for(W=xt=0;xt<de;W=xt+=1)Bt[Z++]=o[h++];break;case 1:for(W=Re=0;Re<de;W=Re+=1)H=o[h++],he=W<a?0:Bt[Z-a],Bt[Z++]=(H+he)%256;break;case 2:for(W=Ye=0;Ye<de;W=Ye+=1)H=o[h++],q=(W-W%a)/a,Bt[Z++]=((Te=Ae&&Bt[(Ae-1)*de+q*a+W%a])+H)%256;break;case 3:for(W=Ne=0;Ne<de;W=Ne+=1)H=o[h++],q=(W-W%a)/a,he=W<a?0:Bt[Z-a],Te=Ae&&Bt[(Ae-1)*de+q*a+W%a],Bt[Z++]=(H+Math.floor((he+Te)/2))%256;break;case 4:for(W=ht=0;ht<de;W=ht+=1)H=o[h++],q=(W-W%a)/a,0===Ae?Te=Se=0:(Te=Bt[(Ae-1)*de+q*a+W%a],Se=q&&Bt[(Ae-1)*de+(q-1)*a+W%a]),Ze=(he=W<a?0:Bt[Z-a])+Te-Se,ct=Math.abs(Ze-he),we=Math.abs(Ze-Te),Ft=Math.abs(Ze-Se),Bt[Z++]=(H+(ct<=we&&ct<=Ft?he:we<=Ft?Te:Se))%256;break;default:throw new Error("Invalid filter algorithm: "+o[h-1])}if(!X){var me=((F+Ae*U)*f.width+C)*a,_e=Ae*de;for(W=0;W<_t;W+=1){for(var Pe=0;Pe<a;Pe+=1)u[me++]=Bt[_e++];me+=(B-1)*a}}Ae++}}return o=bR(o),1==f.interlaceMethod?(_(0,0,8,8),_(4,0,8,8),_(0,4,4,8),_(2,0,4,4),_(0,2,2,4),_(1,0,2,2),_(0,1,1,2)):_(0,0,1,1),u},i.prototype.decodePalette=function(){var o,a,u,h,f,_,C,F,B;for(u=this.palette,_=this.transparency.indexed||[],f=new Uint8Array((_.length||0)+u.length),h=0,o=0,a=C=0,F=u.length;C<F;a=C+=3)f[h++]=u[a],f[h++]=u[a+1],f[h++]=u[a+2],f[h++]=null!=(B=_[o++])?B:255;return f},i.prototype.copyToImageData=function(o,a){var u,h,f,_,C,F,B,U,H,Z,q;if(h=this.colors,H=null,u=this.hasAlphaChannel,this.palette.length&&(H=null!=(q=this._decodedPalette)?q:this._decodedPalette=this.decodePalette(),h=4,u=!0),U=(f=o.data||o).length,C=H||a,_=F=0,1===h)for(;_<U;)B=H?4*a[_/4]:F,Z=C[B++],f[_++]=Z,f[_++]=Z,f[_++]=Z,f[_++]=u?C[B++]:255,F=B;else for(;_<U;)B=H?4*a[_/4]:F,f[_++]=C[B++],f[_++]=C[B++],f[_++]=C[B++],f[_++]=u?C[B++]:255,F=B},i.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var r=function(){if("[object Window]"===Object.prototype.toString.call(Ni)){try{t=Ni.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return r(),n=function(o){var a;if(!0===r())return e.width=o.width,e.height=o.height,e.clearRect(0,0,o.width,o.height),e.putImageData(o,0,0),(a=new Image).src=t.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(o){var a,u,h,f,_,C,F,B;if(this.animation){for(B=[],u=_=0,C=(F=this.animation.frames).length;_<C;u=++_)h=o.createImageData((a=F[u]).width,a.height),f=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(h,f),a.imageData=h,B.push(a.image=n(h));return B}},i.prototype.renderFrame=function(o,a){var u,h,f;return u=(h=this.animation.frames)[a],f=h[a-1],0===a&&o.clearRect(0,0,this.width,this.height),1===f?.disposeOp?o.clearRect(f.xOffset,f.yOffset,f.width,f.height):2===f?.disposeOp&&o.putImageData(f.imageData,f.xOffset,f.yOffset),0===u.blendOp&&o.clearRect(u.xOffset,u.yOffset,u.width,u.height),o.drawImage(u.image,u.xOffset,u.yOffset)},i.prototype.animate=function(o){var a,u,h,f,_,C,F=this;return u=0,f=(C=this.animation).numFrames,h=C.frames,_=C.numPlays,(a=function(){var B,U;if(B=u++%f,U=h[B],F.renderFrame(o,B),f>1&&u/f<_)return F.animation._timeout=setTimeout(a,U.delay)})()},i.prototype.stopAnimation=function(){var o;return clearTimeout(null!=(o=this.animation)?o._timeout:void 0)},i.prototype.render=function(o){var a,u;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,a=o.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(u=a.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),a.putImageData(u,0,0))},i}();function jpe(n){var t=0;if(71!==n[t++]||73!==n[t++]||70!==n[t++]||56!==n[t++]||56!=(n[t++]+1&253)||97!==n[t++])throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,i=n[t++]|n[t++]<<8,r=n[t++],a=1<<1+(7&r);t++,t++;var u=null,h=null;r>>7&&(u=t,h=a,t+=3*a);var f=!0,_=[],C=0,F=null,B=0,U=null;for(this.width=e,this.height=i;f&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(11!==n[t]||78==n[t+1]&&69==n[t+2]&&84==n[t+3]&&83==n[t+4]&&67==n[t+5]&&65==n[t+6]&&80==n[t+7]&&69==n[t+8]&&50==n[t+9]&&46==n[t+10]&&48==n[t+11]&&3==n[t+12]&&1==n[t+13]&&0==n[t+16])t+=14,U=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((Ae=n[t++])>=0))throw Error("Invalid block size");if(0===Ae)break;t+=Ae}break;case 249:if(4!==n[t++]||0!==n[t+4])throw new Error("Invalid graphics extension block.");var H=n[t++];C=n[t++]|n[t++]<<8,F=n[t++],0==(1&H)&&(F=null),B=H>>2&7,t++;break;case 254:for(;;){if(!((Ae=n[t++])>=0))throw Error("Invalid block size");if(0===Ae)break;t+=Ae}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var Z=n[t++]|n[t++]<<8,q=n[t++]|n[t++]<<8,W=n[t++]|n[t++]<<8,he=n[t++]|n[t++]<<8,xe=n[t++],Ze=xe>>6&1,ct=1<<1+(7&xe),Ve=u,we=h,Ft=!1;xe>>7&&(Ft=!0,Ve=t,we=ct,t+=3*ct);var Bt=t;for(t++;;){var Ae;if(!((Ae=n[t++])>=0))throw Error("Invalid block size");if(0===Ae)break;t+=Ae}_.push({x:Z,y:q,width:W,height:he,has_local_palette:Ft,palette_offset:Ve,palette_size:we,data_offset:Bt,data_length:t-Bt,transparent_index:F,interlaced:!!Ze,delay:C,disposal:B});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return _.length},this.loopCount=function(){return U},this.frameInfo=function(de){if(de<0||de>=_.length)throw new Error("Frame index out of range.");return _[de]},this.decodeAndBlitFrameBGRA=function(de,Te){var Se=this.frameInfo(de),xt=Se.width*Se.height,Re=new Uint8Array(xt);PK(n,Se.data_offset,Re,xt);var Ye=Se.palette_offset,Ne=Se.transparent_index;null===Ne&&(Ne=256);var ht=Se.width,_t=e-ht,_n=ht,X=4*(Se.y*e+Se.x),me=4*((Se.y+Se.height)*e+Se.x),_e=X,Pe=4*_t;!0===Se.interlaced&&(Pe+=4*e*7);for(var We=8,nt=0,ft=Re.length;nt<ft;++nt){var At=Re[nt];if(0===_n&&(_n=ht,(_e+=Pe)>=me&&(Pe=4*_t+4*e*(We-1),_e=X+(ht+_t)*(We<<1),We>>=1)),At===Ne)_e+=4;else{var pn=n[Ye+3*At],un=n[Ye+3*At+1];Te[_e++]=n[Ye+3*At+2],Te[_e++]=un,Te[_e++]=pn,Te[_e++]=255}--_n}},this.decodeAndBlitFrameRGBA=function(de,Te){var Se=this.frameInfo(de),xt=Se.width*Se.height,Re=new Uint8Array(xt);PK(n,Se.data_offset,Re,xt);var Ye=Se.palette_offset,Ne=Se.transparent_index;null===Ne&&(Ne=256);var ht=Se.width,_t=e-ht,_n=ht,X=4*(Se.y*e+Se.x),me=4*((Se.y+Se.height)*e+Se.x),_e=X,Pe=4*_t;!0===Se.interlaced&&(Pe+=4*e*7);for(var We=8,nt=0,ft=Re.length;nt<ft;++nt){var At=Re[nt];if(0===_n&&(_n=ht,(_e+=Pe)>=me&&(Pe=4*_t+4*e*(We-1),_e=X+(ht+_t)*(We<<1),We>>=1)),At===Ne)_e+=4;else{var un=n[Ye+3*At+1],qn=n[Ye+3*At+2];Te[_e++]=n[Ye+3*At],Te[_e++]=un,Te[_e++]=qn,Te[_e++]=255}--_n}}}function PK(n,t,e,i){for(var r=n[t++],o=1<<r,a=o+1,u=a+1,h=r+1,f=(1<<h)-1,_=0,C=0,F=0,B=n[t++],U=new Int32Array(4096),H=null;;){for(;_<16&&0!==B;)C|=n[t++]<<_,_+=8,1===B?B=n[t++]:--B;if(_<h)break;var Z=C&f;if(C>>=h,_-=h,Z!==o){if(Z===a)break;for(var q=Z<u?Z:H,W=0,he=q;he>o;)he=U[he]>>8,++W;var xe=he;if(F+W+(q!==Z?1:0)>i)return void uo.log("Warning, gif stream longer than expected.");e[F++]=xe;var Ze=F+=W;for(q!==Z&&(e[F++]=xe),he=q;W--;)e[--Ze]=255&(he=U[he]),he>>=8;null!==H&&u<4096&&(U[u++]=H<<8|xe,u>=f+1&&h<12&&(++h,f=f<<1|1)),H=Z}else u=a+1,f=(1<<(h=r+1))-1,H=null}return F!==i&&uo.log("Warning, gif stream shorter than expected."),e}function W3(n){var t,e,i,r,o,a=Math.floor,u=new Array(64),h=new Array(64),f=new Array(64),_=new Array(64),C=new Array(65535),F=new Array(65535),B=new Array(64),U=new Array(64),H=[],Z=0,q=7,W=new Array(64),he=new Array(64),xe=new Array(64),Ze=new Array(256),ct=new Array(2048),Ve=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],we=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Ft=[0,1,2,3,4,5,6,7,8,9,10,11],Bt=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Ae=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],de=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Te=[0,1,2,3,4,5,6,7,8,9,10,11],Se=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],xt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Re(X,me){for(var _e=0,Pe=0,We=new Array,nt=1;nt<=16;nt++){for(var ft=1;ft<=X[nt];ft++)We[me[Pe]]=[],We[me[Pe]][0]=_e,We[me[Pe]][1]=nt,Pe++,_e++;_e*=2}return We}function Ye(X){for(var me=X[0],_e=X[1]-1;_e>=0;)me&1<<_e&&(Z|=1<<q),_e--,--q<0&&(255==Z?(Ne(255),Ne(0)):Ne(Z),q=7,Z=0)}function Ne(X){H.push(X)}function ht(X){Ne(X>>8&255),Ne(255&X)}function _t(X,me,_e,Pe,We){for(var nt,ft=We[0],At=We[240],pn=function(dn,In){var Un,On,yi,ir,gr,Er,ns,Xs,zi,Br,Qn=0;for(zi=0;zi<8;++zi){var $u=(Un=dn[Qn])+(Xs=dn[Qn+7]),ds=Un-Xs,rg=(On=dn[Qn+1])+(ns=dn[Qn+6]),ho=On-ns,da=(yi=dn[Qn+2])+(Er=dn[Qn+5]),Ym=yi-Er,xs=(ir=dn[Qn+3])+(gr=dn[Qn+4]),sC=ir-gr,el=$u+xs,sg=$u-xs,Ry=rg+da,tl=rg-da;dn[Qn]=el+Ry,dn[Qn+4]=el-Ry;var rr=.707106781*(tl+sg);dn[Qn+2]=sg+rr,dn[Qn+6]=sg-rr;var Es=.382683433*((el=sC+Ym)-(tl=ho+ds)),oC=.5411961*el+Es,lu=1.306562965*tl+Es,Wm=.707106781*(Ry=Ym+ho),Jm=ds+Wm,Ri=ds-Wm;dn[Qn+5]=Ri+oC,dn[Qn+3]=Ri-oC,dn[Qn+1]=Jm+lu,dn[Qn+7]=Jm-lu,Qn+=8}for(Qn=0,zi=0;zi<8;++zi){var og=(Un=dn[Qn])+(Xs=dn[Qn+56]),Xm=Un-Xs,yh=(On=dn[Qn+8])+(ns=dn[Qn+48]),lc=On-ns,jl=(yi=dn[Qn+16])+(Er=dn[Qn+40]),xA=yi-Er,mE=(ir=dn[Qn+24])+(gr=dn[Qn+32]),Oy=ir-gr,ag=og+mE,lg=og-mE,cg=yh+jl,e_=yh-jl;dn[Qn]=ag+cg,dn[Qn+32]=ag-cg;var kf=.707106781*(e_+lg);dn[Qn+16]=lg+kf,dn[Qn+48]=lg-kf;var t_=.382683433*((ag=Oy+xA)-(e_=lc+Xm)),aC=.5411961*ag+t_,_E=1.306562965*e_+t_,yE=.707106781*(cg=xA+lc),vE=Xm+yE,wE=Xm-yE;dn[Qn+40]=wE+aC,dn[Qn+24]=wE-aC,dn[Qn+8]=vE+_E,dn[Qn+56]=vE-_E,Qn++}for(zi=0;zi<64;++zi)B[zi]=(Br=dn[zi]*In[zi])>0?Br+.5|0:Br-.5|0;return B}(X,me),un=0;un<64;++un)U[Ve[un]]=pn[un];var qn=U[0]-_e;_e=U[0],0==qn?Ye(Pe[0]):(Ye(Pe[F[nt=32767+qn]]),Ye(C[nt]));for(var Xn=63;Xn>0&&0==U[Xn];)Xn--;if(0==Xn)return Ye(ft),_e;for(var Pi,Ot=1;Ot<=Xn;){for(var be=Ot;0==U[Ot]&&Ot<=Xn;)++Ot;var ar=Ot-be;if(ar>=16){Pi=ar>>4;for(var li=1;li<=Pi;++li)Ye(At);ar&=15}Ye(We[(ar<<4)+F[nt=32767+U[Ot]]]),Ye(C[nt]),Ot++}return 63!=Xn&&Ye(ft),_e}function _n(X){X=Math.min(Math.max(X,1),100),o!=X&&(function(me){for(var _e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Pe=0;Pe<64;Pe++){var We=a((_e[Pe]*me+50)/100);We=Math.min(Math.max(We,1),255),u[Ve[Pe]]=We}for(var nt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ft=0;ft<64;ft++){var At=a((nt[ft]*me+50)/100);At=Math.min(Math.max(At,1),255),h[Ve[ft]]=At}for(var pn=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],un=0,qn=0;qn<8;qn++)for(var Xn=0;Xn<8;Xn++)f[un]=1/(u[Ve[un]]*pn[qn]*pn[Xn]*8),_[un]=1/(h[Ve[un]]*pn[qn]*pn[Xn]*8),un++}(X<50?Math.floor(5e3/X):Math.floor(200-2*X)),o=X)}this.encode=function(X,me){var On,yi;me&&_n(me),H=new Array,Z=0,q=7,ht(65496),ht(65504),ht(16),Ne(74),Ne(70),Ne(73),Ne(70),Ne(0),Ne(1),Ne(1),Ne(0),ht(1),ht(1),Ne(0),Ne(0),function(){ht(65499),ht(132),Ne(0);for(var On=0;On<64;On++)Ne(u[On]);Ne(1);for(var yi=0;yi<64;yi++)Ne(h[yi])}(),On=X.width,yi=X.height,ht(65472),ht(17),Ne(8),ht(yi),ht(On),Ne(3),Ne(1),Ne(17),Ne(0),Ne(2),Ne(17),Ne(1),Ne(3),Ne(17),Ne(1),function(){ht(65476),ht(418),Ne(0);for(var On=0;On<16;On++)Ne(we[On+1]);for(var yi=0;yi<=11;yi++)Ne(Ft[yi]);Ne(16);for(var ir=0;ir<16;ir++)Ne(Bt[ir+1]);for(var gr=0;gr<=161;gr++)Ne(Ae[gr]);Ne(1);for(var Er=0;Er<16;Er++)Ne(de[Er+1]);for(var ns=0;ns<=11;ns++)Ne(Te[ns]);Ne(17);for(var Xs=0;Xs<16;Xs++)Ne(Se[Xs+1]);for(var zi=0;zi<=161;zi++)Ne(xt[zi])}(),ht(65498),ht(12),Ne(3),Ne(1),Ne(0),Ne(2),Ne(17),Ne(3),Ne(17),Ne(0),Ne(63),Ne(0);var _e=0,Pe=0,We=0;Z=0,q=7,this.encode.displayName="_encode_";for(var nt,ft,At,pn,un,qn,Xn,Pi,Ot,be=X.data,li=X.height,dn=4*X.width,In=0;In<li;){for(nt=0;nt<dn;){for(un=dn*In+nt,Xn=-1,Pi=0,Ot=0;Ot<64;Ot++)qn=un+(Pi=Ot>>3)*dn+(Xn=4*(7&Ot)),In+Pi>=li&&(qn-=dn*(In+1+Pi-li)),nt+Xn>=dn&&(qn-=nt+Xn-dn+4),ft=be[qn++],At=be[qn++],pn=be[qn++],W[Ot]=(ct[ft]+ct[At+256>>0]+ct[pn+512>>0]>>16)-128,he[Ot]=(ct[ft+768>>0]+ct[At+1024>>0]+ct[pn+1280>>0]>>16)-128,xe[Ot]=(ct[ft+1280>>0]+ct[At+1536>>0]+ct[pn+1792>>0]>>16)-128;_e=_t(W,f,_e,t,i),Pe=_t(he,_,Pe,e,r),We=_t(xe,_,We,e,r),nt+=32}In+=8}if(q>=0){var Un=[];Un[1]=q+1,Un[0]=(1<<q+1)-1,Ye(Un)}return ht(65497),new Uint8Array(H)},n=n||50,function(){for(var X=String.fromCharCode,me=0;me<256;me++)Ze[me]=X(me)}(),t=Re(we,Ft),e=Re(de,Te),i=Re(Bt,Ae),r=Re(Se,xt),function(){for(var X=1,me=2,_e=1;_e<=15;_e++){for(var Pe=X;Pe<me;Pe++)F[32767+Pe]=_e,C[32767+Pe]=[],C[32767+Pe][1]=_e,C[32767+Pe][0]=Pe;for(var We=-(me-1);We<=-X;We++)F[32767+We]=_e,C[32767+We]=[],C[32767+We][1]=_e,C[32767+We][0]=me-1+We;X<<=1,me<<=1}}(),function(){for(var X=0;X<256;X++)ct[X]=19595*X,ct[X+256>>0]=38470*X,ct[X+512>>0]=7471*X+32768,ct[X+768>>0]=-11059*X,ct[X+1024>>0]=-21709*X,ct[X+1280>>0]=32768*X+8421375,ct[X+1536>>0]=-27439*X,ct[X+1792>>0]=-5329*X}(),_n(n)}function ng(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function UK(n){function t(we){if(!we)throw Error("assert :P")}function e(we,Ft,Bt){for(var Ae=0;4>Ae;Ae++)if(we[Ft+Ae]!=Bt.charCodeAt(Ae))return!0;return!1}function i(we,Ft,Bt,Ae,de){for(var Te=0;Te<de;Te++)we[Ft+Te]=Bt[Ae+Te]}function r(we,Ft,Bt,Ae){for(var de=0;de<Ae;de++)we[Ft+de]=Bt}function o(we){return new Int32Array(we)}function a(we,Ft){for(var Bt=[],Ae=0;Ae<we;Ae++)Bt.push(new Ft);return Bt}function u(we,Ft){var Bt=[];return function Ae(de,Te,Se){for(var xt=Se[Te],Re=0;Re<xt&&(de.push(Se.length>Te+1?[]:new Ft),!(Se.length<Te+1));Re++)Ae(de[Re],Te+1,Se)}(Bt,0,we),Bt}var h=function(){var we=this;function Ft(y,I){for(var O=1<<I-1>>>0;y&O;)O>>>=1;return O?(y&O-1)+O:y}function Bt(y,I,O,V,$){t(!(V%O));do{y[I+(V-=O)]=$}while(0<V)}function Ae(y,I,O,V,$){if(t(2328>=$),512>=$)var te=o(512);else if(null==(te=o($)))return 0;return function(ne,ie,se,pe,Oe,ot){var at,$e,jt=ie,Et=1<<se,Ue=o(16),Ge=o(16);for(t(0!=Oe),t(null!=pe),t(null!=ne),t(0<se),$e=0;$e<Oe;++$e){if(15<pe[$e])return 0;++Ue[pe[$e]]}if(Ue[0]==Oe)return 0;for(Ge[1]=0,at=1;15>at;++at){if(Ue[at]>1<<at)return 0;Ge[at+1]=Ge[at]+Ue[at]}for($e=0;$e<Oe;++$e)at=pe[$e],0<pe[$e]&&(ot[Ge[at]++]=$e);if(1==Ge[15])return(pe=new de).g=0,pe.value=ot[0],Bt(ne,jt,1,Et,pe),Et;var Ht,Wt=-1,Vt=Et-1,Yn=0,Dn=1,Ii=1,kn=1<<se;for($e=0,at=1,Oe=2;at<=se;++at,Oe<<=1){if(Dn+=Ii<<=1,0>(Ii-=Ue[at]))return 0;for(;0<Ue[at];--Ue[at])(pe=new de).g=at,pe.value=ot[$e++],Bt(ne,jt+Yn,Oe,kn,pe),Yn=Ft(Yn,at)}for(at=se+1,Oe=2;15>=at;++at,Oe<<=1){if(Dn+=Ii<<=1,0>(Ii-=Ue[at]))return 0;for(;0<Ue[at];--Ue[at]){if(pe=new de,(Yn&Vt)!=Wt){for(jt+=kn,Ht=1<<(Wt=at)-se;15>Wt&&!(0>=(Ht-=Ue[Wt]));)++Wt,Ht<<=1;Et+=kn=1<<(Ht=Wt-se),ne[ie+(Wt=Yn&Vt)].g=Ht+se,ne[ie+Wt].value=jt-ie-Wt}pe.g=at-se,pe.value=ot[$e++],Bt(ne,jt+(Yn>>se),Oe,kn,pe),Yn=Ft(Yn,at)}}return Dn!=2*Ge[15]-1?0:Et}(y,I,O,V,$,te)}function de(){this.value=this.g=0}function Te(){this.value=this.g=0}function Se(){this.G=a(5,de),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(wh,Te)}function xt(y,I,O,V){t(null!=y),t(null!=I),t(2147483648>V),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=I,y.pa=O,y.Jd=I,y.Yc=O+V,y.Zc=4<=V?O+V-4+1:O,nt(y)}function Re(y,I){for(var O=0;0<I--;)O|=At(y,128)<<I;return O}function Ye(y,I){var O=Re(y,I);return ft(y)?-O:O}function Ne(y,I,O,V){var $,te=0;for(t(null!=y),t(null!=I),t(4294967288>V),y.Sb=V,y.Ra=0,y.u=0,y.h=0,4<V&&(V=4),$=0;$<V;++$)te+=I[O+$]<<8*$;y.Ra=te,y.bb=V,y.oa=I,y.pa=O}function ht(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<LE-8>>>0,++y.bb,y.u-=8;_e(y)&&(y.h=1,y.u=0)}function _t(y,I){if(t(0<=I),!y.h&&I<=OE){var O=me(y)&RE[I];return y.u+=I,ht(y),O}return y.h=1,y.u=0}function _n(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function X(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function me(y){return y.Ra>>>(y.u&LE-1)>>>0}function _e(y){return t(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>LE}function Pe(y,I){y.u=I,y.h=_e(y)}function We(y){y.u>=dT&&(t(y.u>=dT),ht(y))}function nt(y){t(null!=y&&null!=y.oa),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(t(null!=y&&null!=y.oa),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function ft(y){return Re(y,1)}function At(y,I){var O=y.Ca;0>y.b&&nt(y);var V=y.b,$=O*I>>>8,te=(y.I>>>V>$)+0;for(te?(O-=$,y.I-=$+1<<V>>>0):O=$+1,V=O,$=0;256<=V;)$+=8,V>>=8;return y.b-=V=7^$+bh[V],y.Ca=(O<<V)-1,te}function pn(y,I,O){y[I+0]=O>>24&255,y[I+1]=O>>16&255,y[I+2]=O>>8&255,y[I+3]=O>>0&255}function un(y,I){return y[I+0]<<0|y[I+1]<<8}function qn(y,I){return un(y,I)|y[I+2]<<16}function Xn(y,I){return un(y,I)|un(y,I+2)<<16}function Pi(y,I){var O=1<<I;return t(null!=y),t(0<I),y.X=o(O),null==y.X?0:(y.Mb=32-I,y.Xa=I,1)}function Ot(y,I){t(null!=y),t(null!=I),t(y.Xa==I.Xa),i(I.X,0,y.X,0,1<<I.Xa)}function be(){this.X=[],this.Xa=this.Mb=0}function ar(y,I,O,V){t(null!=O),t(null!=V);var $=O[0],te=V[0];return 0==$&&($=(y*te+I/2)/I),0==te&&(te=(I*$+y/2)/y),0>=$||0>=te?0:(O[0]=$,V[0]=te,1)}function li(y,I){return y+(1<<I)-1>>>I}function dn(y,I){return((4278255360&y)+(4278255360&I)>>>0&4278255360)+((16711935&y)+(16711935&I)>>>0&16711935)>>>0}function In(y,I){we[I]=function(O,V,$,te,ne,ie,se){var pe;for(pe=0;pe<ne;++pe){var Oe=we[y](ie[se+pe-1],$,te+pe);ie[se+pe]=dn(O[V+pe],Oe)}}}function Un(){this.ud=this.hd=this.jd=0}function On(y,I){return((4278124286&(y^I))>>>1)+(y&I)>>>0}function yi(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function ir(y,I){return yi(y+(y-I+.5>>1))}function gr(y,I,O){return Math.abs(I-O)-Math.abs(y-O)}function Er(y,I,O,V,$,te,ne){for(V=te[ne-1],O=0;O<$;++O)te[ne+O]=V=dn(y[I+O],V)}function ns(y,I,O,V,$){var te;for(te=0;te<O;++te){var ne=y[I+te],ie=ne>>8&255,se=16711935&(se=(se=16711935&ne)+((ie<<16)+ie));V[$+te]=(4278255360&ne)+se>>>0}}function Xs(y,I){I.jd=y>>0&255,I.hd=y>>8&255,I.ud=y>>16&255}function zi(y,I,O,V,$,te){var ne;for(ne=0;ne<V;++ne){var ie=I[O+ne],se=ie>>>8,pe=ie,Oe=255&(Oe=(Oe=ie>>>16)+((y.jd<<24>>24)*(se<<24>>24)>>>5));pe=255&(pe=(pe+=(y.hd<<24>>24)*(se<<24>>24)>>>5)+((y.ud<<24>>24)*(Oe<<24>>24)>>>5)),$[te+ne]=(4278255360&ie)+(Oe<<16)+pe}}function Br(y,I,O,V,$){we[I]=function(te,ne,ie,se,pe,Oe,ot,at,$e){for(se=ot;se<at;++se)for(ot=0;ot<$e;++ot)pe[Oe++]=$(ie[V(te[ne++])])},we[y]=function(te,ne,ie,se,pe,Oe,ot){var at=8>>te.b,$e=te.Ea,jt=te.K[0],Et=te.w;if(8>at)for(te=(1<<te.b)-1,Et=(1<<at)-1;ne<ie;++ne){var Ue,Ge=0;for(Ue=0;Ue<$e;++Ue)Ue&te||(Ge=V(se[pe++])),Oe[ot++]=$(jt[Ge&Et]),Ge>>=at}else we["VP8LMapColor"+O](se,pe,jt,Et,Oe,ot,ne,ie,$e)}}function Qn(y,I,O,V,$){for(O=I+O;I<O;){var te=y[I++];V[$++]=te>>16&255,V[$++]=te>>8&255,V[$++]=te>>0&255}}function $u(y,I,O,V,$){for(O=I+O;I<O;){var te=y[I++];V[$++]=te>>16&255,V[$++]=te>>8&255,V[$++]=te>>0&255,V[$++]=te>>24&255}}function ds(y,I,O,V,$){for(O=I+O;I<O;){var te=(ne=y[I++])>>16&240|ne>>12&15,ne=ne>>0&240|ne>>28&15;V[$++]=te,V[$++]=ne}}function rg(y,I,O,V,$){for(O=I+O;I<O;){var te=(ne=y[I++])>>16&248|ne>>13&7,ne=ne>>5&224|ne>>3&31;V[$++]=te,V[$++]=ne}}function ho(y,I,O,V,$){for(O=I+O;I<O;){var te=y[I++];V[$++]=te>>0&255,V[$++]=te>>8&255,V[$++]=te>>16&255}}function da(y,I,O,V,$,te){if(0==te)for(O=I+O;I<O;)pn(V,((te=y[I++])[0]>>24|te[1]>>8&65280|te[2]<<8&16711680|te[3]<<24)>>>0),$+=32;else i(V,$,y,I,O)}function Ym(y,I){we[I][0]=we[y+"0"],we[I][1]=we[y+"1"],we[I][2]=we[y+"2"],we[I][3]=we[y+"3"],we[I][4]=we[y+"4"],we[I][5]=we[y+"5"],we[I][6]=we[y+"6"],we[I][7]=we[y+"7"],we[I][8]=we[y+"8"],we[I][9]=we[y+"9"],we[I][10]=we[y+"10"],we[I][11]=we[y+"11"],we[I][12]=we[y+"12"],we[I][13]=we[y+"13"],we[I][14]=we[y+"0"],we[I][15]=we[y+"0"]}function xs(y){return y==lQ||y==cQ||y==SO||y==uQ}function sC(){this.eb=[],this.size=this.A=this.fb=0}function el(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function sg(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new sC,this.f.kb=new el,this.sd=null}function Ry(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function tl(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function rr(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function Es(y,I){var O=y.T,V=I.ba.f.RGBA,$=V.eb,te=V.fb+y.ka*V.A,ne=Nf[I.ba.S],ie=y.y,se=y.O,pe=y.f,Oe=y.N,ot=y.ea,at=y.W,$e=I.cc,jt=I.dc,Et=I.Mc,Ue=I.Nc,Ge=y.ka,Ht=y.ka+y.T,Wt=y.U,Vt=Wt+1>>1;for(0==Ge?ne(ie,se,null,null,pe,Oe,ot,at,pe,Oe,ot,at,$,te,null,null,Wt):(ne(I.ec,I.fc,ie,se,$e,jt,Et,Ue,pe,Oe,ot,at,$,te-V.A,$,te,Wt),++O);Ge+2<Ht;Ge+=2)ne(ie,(se+=2*y.fa)-y.fa,ie,se,$e=pe,jt=Oe,Et=ot,Ue=at,pe,Oe+=y.Rc,ot,at+=y.Rc,$,(te+=2*V.A)-V.A,$,te,Wt);return se+=y.fa,y.j+Ht<y.o?(i(I.ec,I.fc,ie,se,Wt),i(I.cc,I.dc,pe,Oe,Vt),i(I.Mc,I.Nc,ot,at,Vt),O--):1&Ht||ne(ie,se,null,null,pe,Oe,ot,at,pe,Oe,ot,at,$,te+V.A,null,null,Wt),O}function oC(y,I,O){var V=y.F,$=[y.J];if(null!=V){var te=y.U,ne=I.ba.S,ie=ne==EO||ne==SO;I=I.ba.f.RGBA;var se=[0],pe=y.ka;se[0]=y.T,y.Kb&&(0==pe?--se[0]:(--pe,$[0]-=y.width),y.j+y.ka+y.T==y.o&&(se[0]=y.o-y.j-pe));var Oe=I.eb;y=vO(V,$[0],y.width,te,se,Oe,(pe=I.fb+pe*I.A)+(ie?0:3),I.A),t(O==se),y&&xs(ne)&&Y0(Oe,pe,ie,te,se,I.A)}return 0}function lu(y){var I=y.ma,O=I.ba.S,V=11>O,$=O==CO||O==xO||O==EO||O==aQ||12==O||xs(O);if(I.memory=null,I.Ib=null,I.Jb=null,I.Nd=null,!cT(I.Oa,y,$?11:12))return 0;if($&&xs(O)&&rn(),y.da)alert("todo:use_scaling");else{if(V){if(I.Ib=rr,y.Kb){if(I.memory=o(y.U+2*(O=y.U+1>>1)),null==I.memory)return 0;I.ec=I.memory,I.fc=0,I.cc=I.ec,I.dc=I.fc+y.U,I.Mc=I.cc,I.Nc=I.dc+O,I.Ib=Es,rn()}}else alert("todo:EmitYUV");$&&(I.Jb=oC,V&&Xe())}if(V&&!b$){for(y=0;256>y;++y)sbe[y]=89858*(y-128)+DO>>IO,lbe[y]=-22014*(y-128)+DO,abe[y]=-45773*(y-128),obe[y]=113618*(y-128)+DO>>IO;for(y=mT;y<AQ;++y)cbe[y-mT]=EA(I=76283*(y-16)+DO>>IO,255),ube[y-mT]=EA(I+8>>4,15);b$=1}return 1}function Wm(y){var I=y.ma,O=y.U,V=y.T;return t(!(1&y.ka)),0>=O||0>=V?0:(O=I.Ib(y,I),null!=I.Jb&&I.Jb(y,I,O),I.Dc+=O,1)}function Jm(y){y.ma.memory=null}function Ri(y,I,O,V){return 47!=_t(y,8)?0:(I[0]=_t(y,14)+1,O[0]=_t(y,14)+1,V[0]=_t(y,1),0!=_t(y,3)?0:!y.h)}function og(y,I){if(4>y)return y+1;var O=y-2>>1;return(2+(1&y)<<O)+_t(I,O)+1}function Xm(y,I){return 120<I?I-120:1<=(O=((O=zwe[I-1])>>4)*y+(8-(15&O)))?O:1;var O}function yh(y,I,O){var V=me(O),$=y[I+=255&V].g-8;return 0<$&&(Pe(O,O.u+8),V=me(O),I+=y[I].value,I+=V&(1<<$)-1),Pe(O,O.u+y[I].g),y[I].value}function lc(y,I,O){return O.g+=y.g,O.value+=y.value<<I>>>0,t(8>=O.g),y.g}function jl(y,I,O){var V=y.xc;return t((I=0==V?0:y.vc[y.md*(O>>V)+(I>>V)])<y.Wb),y.Ya[I]}function xA(y,I,O,V){var $=y.ab,te=y.c*I,ne=y.C;I=ne+I;var ie=O,se=V;for(V=y.Ta,O=y.Ua;0<$--;){var pe=y.gc[$],Oe=ne,ot=I,at=ie,$e=se,jt=(se=V,ie=O,pe.Ea);switch(t(Oe<ot),t(ot<=pe.nc),pe.hc){case 2:yO(at,$e,(ot-Oe)*jt,se,ie);break;case 0:var Et=Oe,Ue=ot,Ge=se,Ht=ie,Wt=(kn=pe).Ea;0==Et&&(iQ(at,$e,null,null,1,Ge,Ht),Er(at,$e+1,0,0,Wt-1,Ge,Ht+1),$e+=Wt,Ht+=Wt,++Et);for(var Vt=1<<kn.b,Yn=Vt-1,Dn=li(Wt,kn.b),Ii=kn.K,kn=kn.w+(Et>>kn.b)*Dn;Et<Ue;){var ms=Ii,Ls=kn,is=1;for(hT(at,$e,Ge,Ht-Wt,1,Ge,Ht);is<Wt;){var Vr=(is&~Yn)+Vt;Vr>Wt&&(Vr=Wt),(0,q0[ms[Ls++]>>8&15])(at,$e+ +is,Ge,Ht+is-Wt,Vr-is,Ge,Ht+is),is=Vr}$e+=Wt,Ht+=Wt,++Et&Yn||(kn+=Dn)}ot!=pe.nc&&i(se,ie-jt,se,ie+(ot-Oe-1)*jt,jt);break;case 1:for(jt=at,Ue=$e,Wt=(at=pe.Ea)-(Ht=at&~(Ge=($e=1<<pe.b)-1)),Et=li(at,pe.b),Vt=pe.K,pe=pe.w+(Oe>>pe.b)*Et;Oe<ot;){for(Yn=Vt,Dn=pe,Ii=new Un,kn=Ue+Ht,ms=Ue+at;Ue<kn;)Xs(Yn[Dn++],Ii),Rf(Ii,jt,Ue,$e,se,ie),Ue+=$e,ie+=$e;Ue<ms&&(Xs(Yn[Dn++],Ii),Rf(Ii,jt,Ue,Wt,se,ie),Ue+=Wt,ie+=Wt),++Oe&Ge||(pe+=Et)}break;case 3:if(at==se&&$e==ie&&0<pe.b){for(Ue=se,at=jt=ie+(ot-Oe)*jt-(Ht=(ot-Oe)*li(pe.Ea,pe.b)),$e=se,Ge=ie,Et=[],Ht=(Wt=Ht)-1;0<=Ht;--Ht)Et[Ht]=$e[Ge+Ht];for(Ht=Wt-1;0<=Ht;--Ht)Ue[at+Ht]=Et[Ht];Ag(pe,Oe,ot,se,jt,se,ie)}else Ag(pe,Oe,ot,at,$e,se,ie)}ie=V,se=O}se!=O&&i(V,O,ie,se,te)}function mE(y,I){var O=y.V,V=y.Ba+y.c*y.C,$=I-y.C;if(t(I<=y.l.o),t(16>=$),0<$){var te=y.l,ne=y.Ta,ie=y.Ua,se=te.width;if(xA(y,$,O,V),$=ie=[ie],t((O=y.C)<(V=I)),t(te.v<te.va),V>te.o&&(V=te.o),O<te.j){var pe=te.j-O;O=te.j,$[0]+=pe*se}if(O>=V?O=0:($[0]+=4*te.v,te.ka=O-te.j,te.U=te.va-te.v,te.T=V-O,O=1),O){if(ie=ie[0],11>(O=y.ca).S){var Oe=O.f.RGBA,ot=(V=O.S,$=te.U,te=te.T,pe=Oe.eb,Oe.A),at=te;for(Oe=Oe.fb+y.Ma*Oe.A;0<at--;){var $e=ne,jt=ie,Et=$,Ue=pe,Ge=Oe;switch(V){case bO:fg($e,jt,Et,Ue,Ge);break;case CO:K0($e,jt,Et,Ue,Ge);break;case lQ:K0($e,jt,Et,Ue,Ge),Y0(Ue,Ge,0,Et,1,0);break;case h$:NE($e,jt,Et,Ue,Ge);break;case xO:da($e,jt,Et,Ue,Ge,1);break;case cQ:da($e,jt,Et,Ue,Ge,1),Y0(Ue,Ge,0,Et,1,0);break;case EO:da($e,jt,Et,Ue,Ge,0);break;case SO:da($e,jt,Et,Ue,Ge,0),Y0(Ue,Ge,1,Et,1,0);break;case aQ:i_($e,jt,Et,Ue,Ge);break;case uQ:i_($e,jt,Et,Ue,Ge),QE(Ue,Ge,Et,1,0);break;case A$:Uy($e,jt,Et,Ue,Ge);break;default:t(0)}ie+=se,Oe+=ot}y.Ma+=te}else alert("todo:EmitRescaledRowsYUVA");t(y.Ma<=O.height)}}y.C=I,t(y.C<=y.i)}function Oy(y){var I;if(0<y.ua)return 0;for(I=0;I<y.Wb;++I){var O=y.Ya[I].G,V=y.Ya[I].H;if(0<O[1][V[1]+0].g||0<O[2][V[2]+0].g||0<O[3][V[3]+0].g)return 0}return 1}function ag(y,I,O,V,$,te){if(0!=y.Z){var ne=y.qd,ie=y.rd;for(t(null!=J0[y.Z]);I<O;++I)J0[y.Z](ne,ie,V,$,V,$,te),ne=V,ie=$,$+=te;y.qd=ne,y.rd=ie}}function lg(y,I){var O=y.l.ma,V=0==O.Z||1==O.Z?y.l.j:y.C;if(V=y.C<V?V:y.C,t(I<=y.l.o),I>V){var $=y.l.width,te=O.ca,ne=O.tb+$*V,ie=y.V,se=y.Ba+y.c*V,pe=y.gc;t(1==y.ab),t(3==pe[0].hc),rQ(pe[0],V,I,ie,se,te,ne),ag(O,V,I,te,ne,$)}y.C=y.Ma=I}function cg(y,I,O,V,$,te,ne){var ie=y.$/V,se=y.$%V,pe=y.m,Oe=y.s,ot=O+y.$,at=ot;$=O+V*$;var $e=O+V*te,jt=280+Oe.ua,Et=y.Pb?ie:16777216,Ue=0<Oe.ua?Oe.Wa:null,Ge=Oe.wc,Ht=ot<$e?jl(Oe,se,ie):null;t(y.C<te),t($e<=$);var Wt=!1;e:for(;;){for(;Wt||ot<$e;){var Vt=0;if(ie>=Et){var Yn=ot-O;t((Et=y).Pb),Et.wd=Et.m,Et.xd=Yn,0<Et.s.ua&&Ot(Et.s.Wa,Et.s.vb),Et=ie+Kwe}if(se&Ge||(Ht=jl(Oe,se,ie)),t(null!=Ht),Ht.Qb&&(I[ot]=Ht.qb,Wt=!0),!Wt)if(We(pe),Ht.jc){Yn=I;var Dn=ot,Ii=Ht.pd[me(Vt=pe)&wh-1];t(Ht.jc),256>Ii.g?(Pe(Vt,Vt.u+Ii.g),Yn[Dn]=Ii.value,Vt=0):(Pe(Vt,Vt.u+Ii.g-256),t(256<=Ii.value),Vt=Ii.value),0==Vt&&(Wt=!0)}else Vt=yh(Ht.G[0],Ht.H[0],pe);if(pe.h)break;if(Wt||256>Vt){if(!Wt)if(Ht.nd)I[ot]=(Ht.qb|Vt<<8)>>>0;else{if(We(pe),Wt=yh(Ht.G[1],Ht.H[1],pe),We(pe),Yn=yh(Ht.G[2],Ht.H[2],pe),Dn=yh(Ht.G[3],Ht.H[3],pe),pe.h)break;I[ot]=(Dn<<24|Wt<<16|Vt<<8|Yn)>>>0}if(Wt=!1,++ot,++se>=V&&(se=0,++ie,null!=ne&&ie<=te&&!(ie%16)&&ne(y,ie),null!=Ue))for(;at<ot;)Vt=I[at++],Ue.X[(506832829*Vt&4294967295)>>>Ue.Mb]=Vt}else if(280>Vt){if(Vt=og(Vt-256,pe),Yn=yh(Ht.G[4],Ht.H[4],pe),We(pe),Yn=Xm(V,Yn=og(Yn,pe)),pe.h)break;if(ot-O<Yn||$-ot<Vt)break e;for(Dn=0;Dn<Vt;++Dn)I[ot+Dn]=I[ot+Dn-Yn];for(ot+=Vt,se+=Vt;se>=V;)se-=V,++ie,null!=ne&&ie<=te&&!(ie%16)&&ne(y,ie);if(t(ot<=$),se&Ge&&(Ht=jl(Oe,se,ie)),null!=Ue)for(;at<ot;)Vt=I[at++],Ue.X[(506832829*Vt&4294967295)>>>Ue.Mb]=Vt}else{if(!(Vt<jt))break e;for(Wt=Vt-280,t(null!=Ue);at<ot;)Vt=I[at++],Ue.X[(506832829*Vt&4294967295)>>>Ue.Mb]=Vt;Vt=ot,t(!(Wt>>>(Yn=Ue).Xa)),I[Vt]=Yn.X[Wt],Wt=!0}Wt||t(pe.h==_e(pe))}if(y.Pb&&pe.h&&ot<$)t(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&Ot(y.s.vb,y.s.Wa);else{if(pe.h)break e;ne?.(y,ie>te?te:ie),y.a=0,y.$=ot-O}return 1}return y.a=3,0}function e_(y){t(null!=y),y.vc=null,y.yc=null,y.Ya=null;var I=y.Wa;null!=I&&(I.X=null),y.vb=null,t(null!=y)}function kf(){var y=new nQ;return null==y?null:(y.a=0,y.xb=g$,Ym("Predictor","VP8LPredictors"),Ym("Predictor","VP8LPredictors_C"),Ym("PredictorAdd","VP8LPredictorsAdd"),Ym("PredictorAdd","VP8LPredictorsAdd_C"),yO=ns,Rf=zi,fg=Qn,K0=$u,i_=ds,Uy=rg,NE=ho,we.VP8LMapColor32b=AT,we.VP8LMapColor8b=sQ,y)}function t_(y,I,O,V,$){var te=1,ne=[y],ie=[I],se=V.m,pe=V.s,Oe=null,ot=0;e:for(;;){if(O)for(;te&&_t(se,1);){var at=ne,$e=ie,jt=V,Et=1,Ue=jt.m,Ge=jt.gc[jt.ab],Ht=_t(Ue,2);if(jt.Oc&1<<Ht)te=0;else{switch(jt.Oc|=1<<Ht,Ge.hc=Ht,Ge.Ea=at[0],Ge.nc=$e[0],Ge.K=[null],++jt.ab,t(4>=jt.ab),Ht){case 0:case 1:Ge.b=_t(Ue,3)+2,Et=t_(li(Ge.Ea,Ge.b),li(Ge.nc,Ge.b),0,jt,Ge.K),Ge.K=Ge.K[0];break;case 3:var Wt,Vt=_t(Ue,8)+1,Yn=16<Vt?0:4<Vt?1:2<Vt?2:3;if(at[0]=li(Ge.Ea,Yn),Ge.b=Yn,Wt=Et=t_(Vt,1,0,jt,Ge.K)){var Dn,Ii=Vt,kn=Ge,ms=1<<(8>>kn.b),Ls=o(ms);if(null==Ls)Wt=0;else{var is=kn.K[0],Vr=kn.w;for(Ls[0]=kn.K[0][0],Dn=1;Dn<1*Ii;++Dn)Ls[Dn]=dn(is[Vr+Dn],Ls[Dn-1]);for(;Dn<4*ms;++Dn)Ls[Dn]=0;kn.K[0]=null,kn.K[0]=Ls,Wt=1}}Et=Wt;break;case 2:break;default:t(0)}te=Et}}if(ne=ne[0],ie=ie[0],te&&_t(se,1)&&!(te=1<=(ot=_t(se,4))&&11>=ot)){V.a=3;break e}var Ao;if(Ao=te)t:{var eo,Ar,ql,Ch=V,Kl=ne,xh=ie,Ns=ot,IA=O,DA=Ch.m,Pc=Ch.s,cu=[null],Rd=1,Pf=0,r_=qwe[Ns];n:for(;;){if(IA&&_t(DA,1)){var Uc=_t(DA,3)+2,jy=li(Kl,Uc),fC=li(xh,Uc),HE=jy*fC;if(!t_(jy,fC,0,Ch,cu))break n;for(cu=cu[0],Pc.xc=Uc,eo=0;eo<HE;++eo){var X0=cu[eo]>>8&65535;cu[eo]=X0,X0>=Rd&&(Rd=X0+1)}}if(DA.h)break n;for(Ar=0;5>Ar;++Ar){var il=f$[Ar];!Ar&&0<Ns&&(il+=1<<Ns),Pf<il&&(Pf=il)}var fQ=a(Rd*r_,de),E$=Rd,S$=a(E$,Se);if(null==S$)var BO=null;else t(65536>=E$),BO=S$;var _T=o(Pf);if(null==BO||null==_T||null==fQ){Ch.a=1;break n}var FO=fQ;for(eo=ql=0;eo<Rd;++eo){var _g=BO[eo],VE=_g.G,GE=_g.H,I$=0,MO=1,D$=0;for(Ar=0;5>Ar;++Ar){il=f$[Ar],VE[Ar]=FO,GE[Ar]=ql,!Ar&&0<Ns&&(il+=1<<Ns);r:{var kO,pQ=il,RO=Ch,yT=_T,Abe=FO,fbe=ql,gQ=0,ew=RO.m,pbe=_t(ew,1);if(r(yT,0,0,pQ),pbe){var gbe=_t(ew,1)+1,mbe=_t(ew,1),T$=_t(ew,0==mbe?1:8);yT[T$]=1,2==gbe&&(yT[T$=_t(ew,8)]=1);var OO=1}else{var B$=o(19),F$=_t(ew,4)+4;if(19<F$){RO.a=3;var LO=0;break r}for(kO=0;kO<F$;++kO)B$[jwe[kO]]=_t(ew,3);var mQ=void 0,vT=void 0,M$=RO,_be=B$,NO=pQ,k$=yT,_Q=0,tw=M$.m,R$=8,O$=a(128,de);i:for(;Ae(O$,0,7,_be,19);){if(_t(tw,1)){var ybe=2+2*_t(tw,3);if((mQ=2+_t(tw,ybe))>NO)break i}else mQ=NO;for(vT=0;vT<NO&&mQ--;){We(tw);var L$=O$[0+(127&me(tw))];Pe(tw,tw.u+L$.g);var jE=L$.value;if(16>jE)k$[vT++]=jE,0!=jE&&(R$=jE);else{var vbe=16==jE,N$=jE-16,wbe=Vwe[N$],P$=_t(tw,Hwe[N$])+wbe;if(vT+P$>NO)break i;for(var bbe=vbe?R$:0;0<P$--;)k$[vT++]=bbe}}_Q=1;break i}_Q||(M$.a=3),OO=_Q}(OO=OO&&!ew.h)&&(gQ=Ae(Abe,fbe,8,yT,pQ)),OO&&0!=gQ?LO=gQ:(RO.a=3,LO=0)}if(0==LO)break n;if(MO&&1==Gwe[Ar]&&(MO=0==FO[ql].g),I$+=FO[ql].g,ql+=LO,3>=Ar){var wT,yQ=_T[0];for(wT=1;wT<il;++wT)_T[wT]>yQ&&(yQ=_T[wT]);D$+=yQ}}if(_g.nd=MO,_g.Qb=0,MO&&(_g.qb=(VE[3][GE[3]+0].value<<24|VE[1][GE[1]+0].value<<16|VE[2][GE[2]+0].value)>>>0,0==I$&&256>VE[0][GE[0]+0].value&&(_g.Qb=1,_g.qb+=VE[0][GE[0]+0].value<<8)),_g.jc=!_g.Qb&&6>D$,_g.jc){var PO,zy=_g;for(PO=0;PO<wh;++PO){var nw=PO,iw=zy.pd[nw],UO=zy.G[0][zy.H[0]+nw];256<=UO.value?(iw.g=UO.g+256,iw.value=UO.value):(iw.g=0,iw.value=0,nw>>=lc(UO,8,iw),nw>>=lc(zy.G[1][zy.H[1]+nw],16,iw),nw>>=lc(zy.G[2][zy.H[2]+nw],0,iw),lc(zy.G[3][zy.H[3]+nw],24,iw))}}}Pc.vc=cu,Pc.Wb=Rd,Pc.Ya=BO,Pc.yc=fQ,Ao=1;break t}Ao=0}if(!(te=Ao)){V.a=3;break e}if(0<ot){if(pe.ua=1<<ot,!Pi(pe.Wa,ot)){V.a=1,te=0;break e}}else pe.ua=0;var vQ=V,U$=ne,Cbe=ie,wQ=vQ.s,bQ=wQ.xc;if(vQ.c=U$,vQ.i=Cbe,wQ.md=li(U$,bQ),wQ.wc=0==bQ?-1:(1<<bQ)-1,O){V.xb=ebe;break e}if(null==(Oe=o(ne*ie))){V.a=1,te=0;break e}te=(te=cg(V,Oe,0,ne,ie,ie,null))&&!se.h;break e}return te?(null!=$?$[0]=Oe:(t(null==Oe),t(O)),V.$=0,O||e_(pe)):e_(pe),te}function aC(y,I){var O=y.c*y.i,V=O+I+16*I;return t(y.c<=I),y.V=o(V),null==y.V?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+O+I,1)}function _E(y,I){var O=y.C,V=I-O,$=y.V,te=y.Ba+y.c*O;for(t(I<=y.l.o);0<V;){var ne=16<V?16:V,ie=y.l.ma,se=y.l.width,pe=se*ne,Oe=ie.ca,ot=ie.tb+se*O,at=y.Ta,$e=y.Ua;xA(y,ne,$,te),o$(at,$e,Oe,ot,pe),ag(ie,O,O+ne,Oe,ot,se),V-=ne,$+=ne*y.c,O+=ne}t(O==I),y.C=y.Ma=I}function yE(){this.ub=this.yd=this.td=this.Rb=0}function vE(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function wE(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function XR(){var y;this.Yb=(function I(O,V,$){for(var te=$[V],ne=0;ne<te&&(O.push($.length>V+1?[]:0),!($.length<V+1));ne++)I(O[ne],V+1,$)}(y=[],0,[3,11]),y)}function k6(){this.jb=o(3),this.Wc=u([4,8],XR),this.Xc=u([4,17],XR)}function R6(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function bE(){this.ld=this.La=this.dd=this.tc=0}function eO(){this.Na=this.la=0}function O6(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function K2(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function L6(){this.uc=this.M=this.Nb=0,this.wa=Array(new bE),this.Y=0,this.ya=Array(new K2),this.aa=0,this.l=new CE}function tO(){this.y=o(16),this.f=o(8),this.ea=o(8)}function N6(){this.cb=this.a=0,this.sc="",this.m=new _n,this.Od=new yE,this.Kc=new vE,this.ed=new R6,this.Qa=new wE,this.Ic=this.$c=this.Aa=0,this.D=new L6,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,_n),this.ia=0,this.pb=a(4,O6),this.Pa=new k6,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new tO),this.Hd=0,this.rb=Array(new eO),this.sb=0,this.wa=Array(new bE),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new K2),this.L=this.aa=0,this.gd=u([4,2],bE),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function CE(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function P6(){var y=new N6;return null!=y&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,gT||(gT=rO)),y}function wl(y,I,O){return 0==y.a&&(y.a=I,y.sc=O,y.cb=0),0}function nO(y,I,O){return 3<=O&&157==y[I+0]&&1==y[I+1]&&42==y[I+2]}function iO(y,I){if(null==y)return 0;if(y.a=0,y.sc="OK",null==I)return wl(y,2,"null VP8Io passed to VP8GetHeaders()");var O=I.data,V=I.w,$=I.ha;if(4>$)return wl(y,7,"Truncated header.");var te=O[V+0]|O[V+1]<<8|O[V+2]<<16,ne=y.Od;if(ne.Rb=!(1&te),ne.td=te>>1&7,ne.yd=te>>4&1,ne.ub=te>>5,3<ne.td)return wl(y,3,"Incorrect keyframe parameters.");if(!ne.yd)return wl(y,4,"Frame not displayable.");V+=3,$-=3;var ie=y.Kc;if(ne.Rb){if(7>$)return wl(y,7,"cannot parse picture header");if(!nO(O,V,$))return wl(y,3,"Bad code word");ie.c=16383&(O[V+4]<<8|O[V+3]),ie.Td=O[V+4]>>6,ie.i=16383&(O[V+6]<<8|O[V+5]),ie.Ud=O[V+6]>>6,V+=7,$-=7,y.za=ie.c+15>>4,y.Ub=ie.i+15>>4,I.width=ie.c,I.height=ie.i,I.Da=0,I.j=0,I.v=0,I.va=I.width,I.o=I.height,I.da=0,I.ib=I.width,I.hb=I.height,I.U=I.width,I.T=I.height,r((te=y.Pa).jb,0,255,te.jb.length),t(null!=(te=y.Qa)),te.Cb=0,te.Bb=0,te.Fb=1,r(te.Zb,0,0,te.Zb.length),r(te.Lb,0,0,te.Lb)}if(ne.ub>$)return wl(y,7,"bad partition length");xt(te=y.m,O,V,ne.ub),V+=ne.ub,$-=ne.ub,ne.Rb&&(ie.Ld=ft(te),ie.Kd=ft(te)),ie=y.Qa;var se,pe=y.Pa;if(t(null!=te),t(null!=ie),ie.Cb=ft(te),ie.Cb){if(ie.Bb=ft(te),ft(te)){for(ie.Fb=ft(te),se=0;4>se;++se)ie.Zb[se]=ft(te)?Ye(te,7):0;for(se=0;4>se;++se)ie.Lb[se]=ft(te)?Ye(te,6):0}if(ie.Bb)for(se=0;3>se;++se)pe.jb[se]=ft(te)?Re(te,8):255}else ie.Bb=0;if(te.Ka)return wl(y,3,"cannot parse segment header");if((ie=y.ed).zd=ft(te),ie.Tb=Re(te,6),ie.wb=Re(te,3),ie.Pc=ft(te),ie.Pc&&ft(te)){for(pe=0;4>pe;++pe)ft(te)&&(ie.vd[pe]=Ye(te,6));for(pe=0;4>pe;++pe)ft(te)&&(ie.od[pe]=Ye(te,6))}if(y.L=0==ie.Tb?0:ie.zd?1:2,te.Ka)return wl(y,3,"cannot parse filter header");var Oe=$;if($=se=V,V=se+Oe,ie=Oe,y.Xb=(1<<Re(y.m,2))-1,Oe<3*(pe=y.Xb))O=7;else{for(se+=3*pe,ie-=3*pe,Oe=0;Oe<pe;++Oe){var ot=O[$+0]|O[$+1]<<8|O[$+2]<<16;ot>ie&&(ot=ie),xt(y.Jc[+Oe],O,se,ot),se+=ot,ie-=ot,$+=3}xt(y.Jc[+pe],O,se,ie),O=se<V?0:5}if(0!=O)return wl(y,O,"cannot parse partitions");for(O=Re(se=y.m,7),$=ft(se)?Ye(se,4):0,V=ft(se)?Ye(se,4):0,ie=ft(se)?Ye(se,4):0,pe=ft(se)?Ye(se,4):0,se=ft(se)?Ye(se,4):0,Oe=y.Qa,ot=0;4>ot;++ot){if(Oe.Cb){var at=Oe.Zb[ot];Oe.Fb||(at+=O)}else{if(0<ot){y.pb[ot]=y.pb[0];continue}at=O}var $e=y.pb[ot];$e.Sc[0]=dQ[EA(at+$,127)],$e.Sc[1]=hQ[EA(at+0,127)],$e.Eb[0]=2*dQ[EA(at+V,127)],$e.Eb[1]=101581*hQ[EA(at+ie,127)]>>16,8>$e.Eb[1]&&($e.Eb[1]=8),$e.Qc[0]=dQ[EA(at+pe,117)],$e.Qc[1]=hQ[EA(at+se,127)],$e.lc=at+se}if(!ne.Rb)return wl(y,4,"Not a key frame.");for(ft(te),ne=y.Pa,O=0;4>O;++O){for($=0;8>$;++$)for(V=0;3>V;++V)for(ie=0;11>ie;++ie)pe=At(te,Jwe[O][$][V][ie])?Re(te,8):Ywe[O][$][V][ie],ne.Wc[O][$].Yb[V][ie]=pe;for($=0;17>$;++$)ne.Xc[O][$]=ne.Wc[O][Xwe[$]]}return y.kc=ft(te),y.kc&&(y.Bd=Re(te,8)),y.cb=1}function rO(y,I,O,V,$,te,ne){var ie=I[$].Yb[O];for(O=0;16>$;++$){if(!At(y,ie[O+0]))return $;for(;!At(y,ie[O+1]);)if(ie=I[++$].Yb[0],O=0,16==$)return 16;var se=I[$+1].Yb;if(At(y,ie[O+2])){var pe=y,Oe=0;if(At(pe,(at=ie)[(ot=O)+3]))if(At(pe,at[ot+6])){for(ie=0,ot=2*(Oe=At(pe,at[ot+8]))+(at=At(pe,at[ot+9+Oe])),Oe=0,at=Zwe[ot];at[ie];++ie)Oe+=Oe+At(pe,at[ie]);Oe+=3+(8<<ot)}else At(pe,at[ot+7])?(Oe=7+2*At(pe,165),Oe+=At(pe,145)):Oe=5+At(pe,159);else Oe=At(pe,at[ot+4])?3+At(pe,at[ot+5]):2;ie=se[2]}else Oe=1,ie=se[1];se=ne+$we[$],0>(pe=y).b&&nt(pe);var ot,at=pe.b,$e=(ot=pe.Ca>>1)-(pe.I>>at)>>31;--pe.b,pe.Ca+=$e,pe.Ca|=1,pe.I-=(ot+1&$e)<<at,te[se]=((Oe^$e)-$e)*V[(0<$)+0]}return 16}function Z2(y){var I=y.rb[y.sb-1];I.la=0,I.Na=0,r(y.zc,0,0,y.zc.length),y.ja=0}function ug(y,I,O,V,$){y[I+O+32*V]=-256&($=y[I+O+32*V]+($>>3))?0>$?0:255:$}function xE(y,I,O,V,$,te){ug(y,I,0,O,V+$),ug(y,I,1,O,V+te),ug(y,I,2,O,V-te),ug(y,I,3,O,V-$)}function vh(y){return(20091*y>>16)+y}function $2(y,I,O,V){var $,te=0,ne=o(16);for($=0;4>$;++$){var ie=y[I+0]+y[I+8],se=y[I+0]-y[I+8],pe=(35468*y[I+4]>>16)-vh(y[I+12]),Oe=vh(y[I+4])+(35468*y[I+12]>>16);ne[te+0]=ie+Oe,ne[te+1]=se+pe,ne[te+2]=se-pe,ne[te+3]=ie-Oe,te+=4,I++}for($=te=0;4>$;++$)ie=(y=ne[te+0]+4)+ne[te+8],se=y-ne[te+8],pe=(35468*ne[te+4]>>16)-vh(ne[te+12]),ug(O,V,0,0,ie+(Oe=vh(ne[te+4])+(35468*ne[te+12]>>16))),ug(O,V,1,0,se+pe),ug(O,V,2,0,se-pe),ug(O,V,3,0,ie-Oe),te++,V+=32}function sO(y,I,O,V){var $=y[I+0]+4,te=35468*y[I+4]>>16,ne=vh(y[I+4]),ie=35468*y[I+1]>>16;xE(O,V,0,$+ne,y=vh(y[I+1]),ie),xE(O,V,1,$+te,y,ie),xE(O,V,2,$-te,y,ie),xE(O,V,3,$-ne,y,ie)}function Q6(y,I,O,V,$){$2(y,I,O,V),$&&$2(y,I+16,O,V+4)}function oO(y,I,O,V){PE(y,I+0,O,V,1),PE(y,I+32,O,V+128,1)}function H6(y,I,O,V){var $;for(y=y[I+0]+4,$=0;4>$;++$)for(I=0;4>I;++I)ug(O,V,I,$,y)}function aO(y,I,O,V){y[I+0]&&gg(y,I+0,O,V),y[I+16]&&gg(y,I+16,O,V+4),y[I+32]&&gg(y,I+32,O,V+128),y[I+48]&&gg(y,I+48,O,V+128+4)}function V6(y,I,O,V){var $,te=o(16);for($=0;4>$;++$){var ne=y[I+0+$]+y[I+12+$],ie=y[I+4+$]+y[I+8+$],se=y[I+4+$]-y[I+8+$],pe=y[I+0+$]-y[I+12+$];te[0+$]=ne+ie,te[8+$]=ne-ie,te[4+$]=pe+se,te[12+$]=pe-se}for($=0;4>$;++$)ne=(y=te[0+4*$]+3)+te[3+4*$],se=te[1+4*$]-te[2+4*$],pe=y-te[3+4*$],O[V+0]=ne+(ie=te[1+4*$]+te[2+4*$])>>3,O[V+16]=pe+se>>3,O[V+32]=ne-ie>>3,O[V+48]=pe-se>>3,V+=64}function Y2(y,I,O){var V,$=I-32,te=SA,ne=255-y[$-1];for(V=0;V<O;++V){var ie,se=te,pe=ne+y[I-1];for(ie=0;ie<O;++ie)y[I+ie]=se[pe+y[$+ie]];I+=32}}function G6(y,I){Y2(y,I,4)}function j6(y,I){Y2(y,I,8)}function z6(y,I){Y2(y,I,16)}function Ly(y,I){var O;for(O=0;16>O;++O)i(y,I+32*O,y,I-32,16)}function EE(y,I){var O;for(O=16;0<O;--O)r(y,I,y[I-1],16),I+=32}function SE(y,I,O){var V;for(V=0;16>V;++V)r(I,O+32*V,y,16)}function lO(y,I){var O,V=16;for(O=0;16>O;++O)V+=y[I-1+32*O]+y[I+O-32];SE(V>>5,y,I)}function Yu(y,I){var O,V=8;for(O=0;16>O;++O)V+=y[I-1+32*O];SE(V>>4,y,I)}function q6(y,I){var O,V=8;for(O=0;16>O;++O)V+=y[I+O-32];SE(V>>4,y,I)}function cO(y,I){SE(128,y,I)}function Ji(y,I,O){return y+2*I+O+2>>2}function K6(y,I){var O,V=I-32;for(V=new Uint8Array([Ji(y[V-1],y[V+0],y[V+1]),Ji(y[V+0],y[V+1],y[V+2]),Ji(y[V+1],y[V+2],y[V+3]),Ji(y[V+2],y[V+3],y[V+4])]),O=0;4>O;++O)i(y,I+32*O,V,0,V.length)}function Z6(y,I){var O=y[I-1],V=y[I-1+32],$=y[I-1+64],te=y[I-1+96];pn(y,I+0,16843009*Ji(y[I-1-32],O,V)),pn(y,I+32,16843009*Ji(O,V,$)),pn(y,I+64,16843009*Ji(V,$,te)),pn(y,I+96,16843009*Ji($,te,te))}function n_(y,I){var O,V=4;for(O=0;4>O;++O)V+=y[I+O-32]+y[I-1+32*O];for(V>>=3,O=0;4>O;++O)r(y,I+32*O,V,4)}function uO(y,I){var O=y[I-1+0],V=y[I-1+32],$=y[I-1+64],te=y[I-1-32],ne=y[I+0-32],ie=y[I+1-32],se=y[I+2-32],pe=y[I+3-32];y[I+0+96]=Ji(V,$,y[I-1+96]),y[I+1+96]=y[I+0+64]=Ji(O,V,$),y[I+2+96]=y[I+1+64]=y[I+0+32]=Ji(te,O,V),y[I+3+96]=y[I+2+64]=y[I+1+32]=y[I+0+0]=Ji(ne,te,O),y[I+3+64]=y[I+2+32]=y[I+1+0]=Ji(ie,ne,te),y[I+3+32]=y[I+2+0]=Ji(se,ie,ne),y[I+3+0]=Ji(pe,se,ie)}function dO(y,I){var O=y[I+1-32],V=y[I+2-32],$=y[I+3-32],te=y[I+4-32],ne=y[I+5-32],ie=y[I+6-32],se=y[I+7-32];y[I+0+0]=Ji(y[I+0-32],O,V),y[I+1+0]=y[I+0+32]=Ji(O,V,$),y[I+2+0]=y[I+1+32]=y[I+0+64]=Ji(V,$,te),y[I+3+0]=y[I+2+32]=y[I+1+64]=y[I+0+96]=Ji($,te,ne),y[I+3+32]=y[I+2+64]=y[I+1+96]=Ji(te,ne,ie),y[I+3+64]=y[I+2+96]=Ji(ne,ie,se),y[I+3+96]=Ji(ie,se,se)}function IE(y,I){var O=y[I-1+0],V=y[I-1+32],$=y[I-1+64],te=y[I-1-32],ne=y[I+0-32],ie=y[I+1-32],se=y[I+2-32],pe=y[I+3-32];y[I+0+0]=y[I+1+64]=te+ne+1>>1,y[I+1+0]=y[I+2+64]=ne+ie+1>>1,y[I+2+0]=y[I+3+64]=ie+se+1>>1,y[I+3+0]=se+pe+1>>1,y[I+0+96]=Ji($,V,O),y[I+0+64]=Ji(V,O,te),y[I+0+32]=y[I+1+96]=Ji(O,te,ne),y[I+1+32]=y[I+2+96]=Ji(te,ne,ie),y[I+2+32]=y[I+3+96]=Ji(ne,ie,se),y[I+3+32]=Ji(ie,se,pe)}function W2(y,I){var O=y[I+0-32],V=y[I+1-32],$=y[I+2-32],te=y[I+3-32],ne=y[I+4-32],ie=y[I+5-32],se=y[I+6-32],pe=y[I+7-32];y[I+0+0]=O+V+1>>1,y[I+1+0]=y[I+0+64]=V+$+1>>1,y[I+2+0]=y[I+1+64]=$+te+1>>1,y[I+3+0]=y[I+2+64]=te+ne+1>>1,y[I+0+32]=Ji(O,V,$),y[I+1+32]=y[I+0+96]=Ji(V,$,te),y[I+2+32]=y[I+1+96]=Ji($,te,ne),y[I+3+32]=y[I+2+96]=Ji(te,ne,ie),y[I+3+64]=Ji(ne,ie,se),y[I+3+96]=Ji(ie,se,pe)}function $6(y,I){var O=y[I-1+0],V=y[I-1+32],$=y[I-1+64],te=y[I-1+96];y[I+0+0]=O+V+1>>1,y[I+2+0]=y[I+0+32]=V+$+1>>1,y[I+2+32]=y[I+0+64]=$+te+1>>1,y[I+1+0]=Ji(O,V,$),y[I+3+0]=y[I+1+32]=Ji(V,$,te),y[I+3+32]=y[I+1+64]=Ji($,te,te),y[I+3+64]=y[I+2+64]=y[I+0+96]=y[I+1+96]=y[I+2+96]=y[I+3+96]=te}function Y6(y,I){var O=y[I-1+0],V=y[I-1+32],$=y[I-1+64],te=y[I-1+96],ne=y[I-1-32],ie=y[I+0-32],se=y[I+1-32],pe=y[I+2-32];y[I+0+0]=y[I+2+32]=O+ne+1>>1,y[I+0+32]=y[I+2+64]=V+O+1>>1,y[I+0+64]=y[I+2+96]=$+V+1>>1,y[I+0+96]=te+$+1>>1,y[I+3+0]=Ji(ie,se,pe),y[I+2+0]=Ji(ne,ie,se),y[I+1+0]=y[I+3+32]=Ji(O,ne,ie),y[I+1+32]=y[I+3+64]=Ji(V,O,ne),y[I+1+64]=y[I+3+96]=Ji($,V,O),y[I+1+96]=Ji(te,$,V)}function W6(y,I){var O;for(O=0;8>O;++O)i(y,I+32*O,y,I-32,8)}function J2(y,I){var O;for(O=0;8>O;++O)r(y,I,y[I-1],8),I+=32}function lC(y,I,O){var V;for(V=0;8>V;++V)r(I,O+32*V,y,8)}function V0(y,I){var O,V=8;for(O=0;8>O;++O)V+=y[I+O-32]+y[I-1+32*O];lC(V>>4,y,I)}function J6(y,I){var O,V=4;for(O=0;8>O;++O)V+=y[I+O-32];lC(V>>3,y,I)}function cC(y,I){var O,V=4;for(O=0;8>O;++O)V+=y[I-1+32*O];lC(V>>3,y,I)}function X2(y,I){lC(128,y,I)}function DE(y,I,O){var V=y[I-O],$=y[I+0],te=3*($-V)+oQ[1020+y[I-2*O]-y[I+O]],ne=wO[112+(te+4>>3)];y[I-O]=SA[255+V+wO[112+(te+3>>3)]],y[I+0]=SA[255+$-ne]}function hO(y,I,O,V){return Lf[255+y[I-2*O]-y[I-O]]>V||Lf[255+y[I+O]-y[I+0]]>V}function AO(y,I,O,V){return 4*Lf[255+y[I-O]-y[I+0]]+Lf[255+y[I-2*O]-y[I+O]]<=V}function fO(y,I,O,V,$){var te=y[I-3*O],ne=y[I-2*O],ie=y[I-O],se=y[I+0],pe=y[I+O],Oe=y[I+2*O];return 4*Lf[255+ie-se]+Lf[255+ne-pe]>V?0:Lf[255+y[I-4*O]-te]<=$&&Lf[255+te-ne]<=$&&Lf[255+ne-ie]<=$&&Lf[255+y[I+3*O]-Oe]<=$&&Lf[255+Oe-pe]<=$&&Lf[255+pe-se]<=$}function pO(y,I,O,V){var $=2*V+1;for(V=0;16>V;++V)AO(y,I+V,O,$)&&DE(y,I+V,O)}function Ny(y,I,O,V){var $=2*V+1;for(V=0;16>V;++V)AO(y,I+V*O,1,$)&&DE(y,I+V*O,1)}function G0(y,I,O,V){var $;for($=3;0<$;--$)pO(y,I+=4*O,O,V)}function X6(y,I,O,V){var $;for($=3;0<$;--$)Ny(y,I+=4,O,V)}function j0(y,I,O,V,$,te,ne,ie){for(te=2*te+1;0<$--;){if(fO(y,I,O,te,ne))if(hO(y,I,O,ie))DE(y,I,O);else{var se=y,pe=I,Oe=O,ot=se[pe-2*Oe],at=se[pe-Oe],$e=se[pe+0],jt=se[pe+Oe],Et=se[pe+2*Oe],Ue=27*(Ht=oQ[1020+3*($e-at)+oQ[1020+ot-jt]])+63>>7,Ge=18*Ht+63>>7,Ht=9*Ht+63>>7;se[pe-3*Oe]=SA[255+se[pe-3*Oe]+Ht],se[pe-2*Oe]=SA[255+ot+Ge],se[pe-Oe]=SA[255+at+Ue],se[pe+0]=SA[255+$e-Ue],se[pe+Oe]=SA[255+jt-Ge],se[pe+2*Oe]=SA[255+Et-Ht]}I+=V}}function dg(y,I,O,V,$,te,ne,ie){for(te=2*te+1;0<$--;){if(fO(y,I,O,te,ne))if(hO(y,I,O,ie))DE(y,I,O);else{var se=y,pe=I,Oe=O,ot=se[pe-Oe],at=se[pe+0],$e=se[pe+Oe],jt=wO[112+(4+(Et=3*(at-ot))>>3)],Et=wO[112+(Et+3>>3)],Ue=jt+1>>1;se[pe-2*Oe]=SA[255+se[pe-2*Oe]+Ue],se[pe-Oe]=SA[255+ot+Et],se[pe+0]=SA[255+at-jt],se[pe+Oe]=SA[255+$e-Ue]}I+=V}}function eT(y,I,O,V,$,te){j0(y,I,O,1,16,V,$,te)}function uC(y,I,O,V,$,te){j0(y,I,1,O,16,V,$,te)}function eQ(y,I,O,V,$,te){var ne;for(ne=3;0<ne;--ne)dg(y,I+=4*O,O,1,16,V,$,te)}function TE(y,I,O,V,$,te){var ne;for(ne=3;0<ne;--ne)dg(y,I+=4,1,O,16,V,$,te)}function tQ(y,I,O,V,$,te,ne,ie){j0(y,I,$,1,8,te,ne,ie),j0(O,V,$,1,8,te,ne,ie)}function tT(y,I,O,V,$,te,ne,ie){j0(y,I,1,$,8,te,ne,ie),j0(O,V,1,$,8,te,ne,ie)}function nT(y,I,O,V,$,te,ne,ie){dg(y,I+4*$,$,1,8,te,ne,ie),dg(O,V+4*$,$,1,8,te,ne,ie)}function gO(y,I,O,V,$,te,ne,ie){dg(y,I+4,1,$,8,te,ne,ie),dg(O,V+4,1,$,8,te,ne,ie)}function BE(){this.ba=new sg,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new tl,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function iT(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rT(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function mO(){this.ua=0,this.Wa=new be,this.vb=new be,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Se,this.yc=new de}function nQ(){this.xb=this.a=0,this.l=new CE,this.ca=new sg,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new X,this.Pb=0,this.wd=new X,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new mO,this.ab=0,this.gc=a(4,rT),this.Oc=0}function FE(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new CE,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function dC(y,I,O,V,$,te,ne){for(y=null==y?0:y[I+0],I=0;I<ne;++I)$[te+I]=y+O[V+I]&255,y=$[te+I]}function sT(y,I,O,V,$,te,ne){var ie;if(null==y)dC(null,null,O,V,$,te,ne);else for(ie=0;ie<ne;++ie)$[te+ie]=y[I+ie]+O[V+ie]&255}function z0(y,I,O,V,$,te,ne){if(null==y)dC(null,null,O,V,$,te,ne);else{var ie,se=y[I+0],pe=se,Oe=se;for(ie=0;ie<ne;++ie)pe=Oe+(se=y[I+ie])-pe,Oe=O[V+ie]+(-256&pe?0>pe?0:255:pe)&255,pe=se,$[te+ie]=Oe}}function oT(y,I,O,V){var $=I.width,te=I.o;if(t(null!=y&&null!=I),0>O||0>=V||O+V>te)return null;if(!y.Cc){if(null==y.ga){var ne;if(y.ga=new FE,(ne=null==y.ga)||(ne=I.width*I.o,t(0==y.Gb.length),y.Gb=o(ne),y.Uc=0,null==y.Gb?ne=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,ne=1),ne=!ne),!ne){var ie=y.Fa,se=y.P,pe=y.qc,Oe=y.mb,ot=y.nb,at=se+1,$e=pe-1,jt=(ne=y.ga).l;if(t(null!=ie&&null!=Oe&&null!=I),J0[0]=null,J0[1]=dC,J0[2]=sT,J0[3]=z0,ne.ca=Oe,ne.tb=ot,ne.c=I.width,ne.i=I.height,t(0<ne.c&&0<ne.i),1>=pe)I=0;else if(ne.$a=ie[se+0]>>0&3,ne.Z=ie[se+0]>>2&3,ne.Lc=ie[se+0]>>4&3,se=ie[se+0]>>6&3,0>ne.$a||1<ne.$a||4<=ne.Z||1<ne.Lc||se)I=0;else if(jt.put=Wm,jt.ac=lu,jt.bc=Jm,jt.ma=ne,jt.width=I.width,jt.height=I.height,jt.Da=I.Da,jt.v=I.v,jt.va=I.va,jt.j=I.j,jt.o=I.o,ne.$a)e:{t(1==ne.$a),I=kf();t:for(;;){if(null==I){I=0;break e}if(t(null!=ne),ne.mc=I,I.c=ne.c,I.i=ne.i,I.l=ne.l,I.l.ma=ne,I.l.width=ne.c,I.l.height=ne.i,I.a=0,Ne(I.m,ie,at,$e),!t_(ne.c,ne.i,1,I,null)||(1==I.ab&&3==I.gc[0].hc&&Oy(I.s)?(ne.ic=1,ie=I.c*I.i,I.Ta=null,I.Ua=0,I.V=o(ie),I.Ba=0,null==I.V?(I.a=1,I=0):I=1):(ne.ic=0,I=aC(I,ne.c)),!I))break t;I=1;break e}ne.mc=null,I=0}else I=$e>=ne.c*ne.i;ne=!I}if(ne)return null;1!=y.ga.Lc?y.Ga=0:V=te-O}t(null!=y.ga),t(O+V<=te);e:{if(I=(ie=y.ga).c,te=ie.l.o,0==ie.$a){if(at=y.rc,$e=y.Vc,jt=y.Fa,pe=y.mb,Oe=y.nb+O*I,t((se=y.P+1+O*I)<=y.P+y.qc),0!=ie.Z)for(t(null!=J0[ie.Z]),ne=0;ne<V;++ne)J0[ie.Z](at,$e,jt,se,pe,Oe,I),at=pe,$e=Oe,Oe+=I,se+=I;else for(ne=0;ne<V;++ne)i(pe,Oe,jt,se,I),at=pe,$e=Oe,Oe+=I,se+=I;y.rc=at,y.Vc=$e}else{if(t(null!=ie.mc),I=O+V,t(null!=(ne=ie.mc)),t(I<=ne.i),ne.C>=I)I=1;else if(ie.ic||Xe(),ie.ic){ie=ne.V,at=ne.Ba;var Et=ne.i,Ue=(jt=1,se=ne.$/($e=ne.c),pe=ne.$%$e,Oe=ne.m,ot=ne.s,ne.$),Ge=$e*Et,Ht=$e*I,Wt=ot.wc,Vt=Ue<Ht?jl(ot,pe,se):null;t(Ue<=Ge),t(I<=Et),t(Oy(ot));t:for(;;){for(;!Oe.h&&Ue<Ht;){if(pe&Wt||(Vt=jl(ot,pe,se)),t(null!=Vt),We(Oe),256>(Et=yh(Vt.G[0],Vt.H[0],Oe)))ie[at+Ue]=Et,++Ue,++pe>=$e&&(pe=0,++se<=I&&!(se%16)&&lg(ne,se));else{if(!(280>Et)){jt=0;break t}Et=og(Et-256,Oe);var Yn,Dn=yh(Vt.G[4],Vt.H[4],Oe);if(We(Oe),!(Ue>=(Dn=Xm($e,Dn=og(Dn,Oe)))&&Ge-Ue>=Et)){jt=0;break t}for(Yn=0;Yn<Et;++Yn)ie[at+Ue+Yn]=ie[at+Ue+Yn-Dn];for(Ue+=Et,pe+=Et;pe>=$e;)pe-=$e,++se<=I&&!(se%16)&&lg(ne,se);Ue<Ht&&pe&Wt&&(Vt=jl(ot,pe,se))}t(Oe.h==_e(Oe))}lg(ne,se>I?I:se);break t}!jt||Oe.h&&Ue<Ge?(jt=0,ne.a=Oe.h?5:3):ne.$=Ue,I=jt}else I=cg(ne,ne.V,ne.Ba,ne.c,ne.i,I,_E);if(!I){V=0;break e}}O+V>=te&&(y.Cc=1),V=1}if(!V)return null;if(y.Cc&&(null!=(V=y.ga)&&(V.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+O*$}function M(y,I,O,V,$,te){for(;0<$--;){var ne,ie=y,se=I+(O?1:0),pe=y,Oe=I+(O?0:3);for(ne=0;ne<V;++ne){var ot=pe[Oe+4*ne];255!=ot&&(ie[se+4*ne+0]=ie[se+4*ne+0]*(ot*=32897)>>23,ie[se+4*ne+1]=ie[se+4*ne+1]*ot>>23,ie[se+4*ne+2]=ie[se+4*ne+2]*ot>>23)}I+=te}}function Y(y,I,O,V,$){for(;0<V--;){var te;for(te=0;te<O;++te){var ne=y[I+2*te+0],ie=15&(pe=y[I+2*te+1]),se=4369*ie,pe=(240&pe|pe>>4)*se>>16;y[I+2*te+0]=(240&ne|ne>>4)*se>>16&240|(15&ne|ne<<4)*se>>16>>4&15,y[I+2*te+1]=240&pe|ie}I+=$}}function ye(y,I,O,V,$,te,ne,ie){var se,pe,Oe=255;for(pe=0;pe<$;++pe){for(se=0;se<V;++se){var ot=y[I+se];te[ne+4*se]=ot,Oe&=ot}I+=O,ne+=ie}return 255!=Oe}function Be(y,I,O,V,$){var te;for(te=0;te<$;++te)O[V+te]=y[I+te]>>8}function Xe(){Y0=M,QE=Y,vO=ye,o$=Be}function Mt(y,I,O){we[y]=function(V,$,te,ne,ie,se,pe,Oe,ot,at,$e,jt,Et,Ue,Ge,Ht,Wt){var Vt,Yn=Wt-1>>1,Dn=ie[se+0]|pe[Oe+0]<<16,Ii=ot[at+0]|$e[jt+0]<<16;t(null!=V);var kn=3*Dn+Ii+131074>>2;for(I(V[$+0],255&kn,kn>>16,Et,Ue),null!=te&&I(te[ne+0],255&(kn=3*Ii+Dn+131074>>2),kn>>16,Ge,Ht),Vt=1;Vt<=Yn;++Vt){var ms=ie[se+Vt]|pe[Oe+Vt]<<16,Ls=ot[at+Vt]|$e[jt+Vt]<<16,is=Dn+ms+Ii+Ls+524296,Vr=is+2*(ms+Ii)>>3;kn=Vr+Dn>>1,Dn=(is=is+2*(Dn+Ls)>>3)+ms>>1,I(V[$+2*Vt-1],255&kn,kn>>16,Et,Ue+(2*Vt-1)*O),I(V[$+2*Vt-0],255&Dn,Dn>>16,Et,Ue+(2*Vt-0)*O),null!=te&&(Dn=Vr+Ls>>1,I(te[ne+2*Vt-1],255&(kn=is+Ii>>1),kn>>16,Ge,Ht+(2*Vt-1)*O),I(te[ne+2*Vt+0],255&Dn,Dn>>16,Ge,Ht+(2*Vt+0)*O)),Dn=ms,Ii=Ls}1&Wt||(I(V[$+Wt-1],255&(kn=3*Dn+Ii+131074>>2),kn>>16,Et,Ue+(Wt-1)*O),null!=te&&I(te[ne+Wt-1],255&(kn=3*Ii+Dn+131074>>2),kn>>16,Ge,Ht+(Wt-1)*O))}}function rn(){Nf[bO]=tbe,Nf[CO]=m$,Nf[h$]=nbe,Nf[xO]=_$,Nf[EO]=y$,Nf[aQ]=v$,Nf[A$]=ibe,Nf[lQ]=m$,Nf[cQ]=_$,Nf[SO]=y$,Nf[uQ]=v$}function Kn(y){return y&~rbe?0>y?0:255:y>>w$}function xi(y,I){return Kn((19077*y>>8)+(26149*I>>8)-14234)}function lr(y,I,O){return Kn((19077*y>>8)-(6419*I>>8)-(13320*O>>8)+8708)}function _r(y,I){return Kn((19077*y>>8)+(33050*I>>8)-17685)}function Xr(y,I,O,V,$){V[$+0]=xi(y,O),V[$+1]=lr(y,I,O),V[$+2]=_r(y,I)}function Da(y,I,O,V,$){V[$+0]=_r(y,I),V[$+1]=lr(y,I,O),V[$+2]=xi(y,O)}function nl(y,I,O,V,$){var te=lr(y,I,O);I=te<<3&224|_r(y,I)>>3,V[$+0]=248&xi(y,O)|te>>5,V[$+1]=I}function zl(y,I,O,V,$){var te=240&_r(y,I)|15;V[$+0]=240&xi(y,O)|lr(y,I,O)>>4,V[$+1]=te}function Wu(y,I,O,V,$){V[$+0]=255,Xr(y,I,O,V,$+1)}function Nc(y,I,O,V,$){Da(y,I,O,V,$),V[$+3]=255}function hg(y,I,O,V,$){Xr(y,I,O,V,$),V[$+3]=255}function EA(y,I){return 0>y?0:y>I?I:y}function Py(y,I,O){we[y]=function(V,$,te,ne,ie,se,pe,Oe,ot){for(var at=Oe+(-2&ot)*O;Oe!=at;)I(V[$+0],te[ne+0],ie[se+0],pe,Oe),I(V[$+1],te[ne+0],ie[se+0],pe,Oe+O),$+=2,++ne,++se,Oe+=2*O;1&ot&&I(V[$+0],te[ne+0],ie[se+0],pe,Oe)}}function _O(y,I,O){return 0==O?0==y?0==I?6:5:0==I?4:0:O}function aT(y,I,O,V,$){switch(y>>>30){case 3:PE(I,O,V,$,0);break;case 2:fT(I,O,V,$);break;case 1:gg(I,O,V,$)}}function lT(y,I){var O,V,$=I.M,te=I.Nb,ne=y.oc,ie=y.pc+40,se=y.oc,pe=y.pc+584,Oe=y.oc,ot=y.pc+600;for(O=0;16>O;++O)ne[ie+32*O-1]=129;for(O=0;8>O;++O)se[pe+32*O-1]=129,Oe[ot+32*O-1]=129;for(0<$?ne[ie-1-32]=se[pe-1-32]=Oe[ot-1-32]=129:(r(ne,ie-32-1,127,21),r(se,pe-32-1,127,9),r(Oe,ot-32-1,127,9)),V=0;V<y.za;++V){var at=I.ya[I.aa+V];if(0<V){for(O=-1;16>O;++O)i(ne,ie+32*O-4,ne,ie+32*O+12,4);for(O=-1;8>O;++O)i(se,pe+32*O-4,se,pe+32*O+4,4),i(Oe,ot+32*O-4,Oe,ot+32*O+4,4)}var $e=y.Gd,jt=y.Hd+V,Et=at.ad,Ue=at.Hc;if(0<$&&(i(ne,ie-32,$e[jt].y,0,16),i(se,pe-32,$e[jt].f,0,8),i(Oe,ot-32,$e[jt].ea,0,8)),at.Za){var Ge=ne,Ht=ie-32+16;for(0<$&&(V>=y.za-1?r(Ge,Ht,$e[jt].y[15],4):i(Ge,Ht,$e[jt+1].y,0,4)),O=0;4>O;O++)Ge[Ht+128+O]=Ge[Ht+256+O]=Ge[Ht+384+O]=Ge[Ht+0+O];for(O=0;16>O;++O,Ue<<=2)mg[at.Ob[O]](Ge=ne,Ht=ie+C$[O]),aT(Ue,Et,16*+O,Ge,Ht)}else if(Ge=_O(V,$,at.Ob[0]),W0[Ge](ne,ie),0!=Ue)for(O=0;16>O;++O,Ue<<=2)aT(Ue,Et,16*+O,ne,ie+C$[O]);for(O=at.Gc,Ge=_O(V,$,at.Dd),Gy[Ge](se,pe),Gy[Ge](Oe,ot),Ue=Et,Ge=se,Ht=pe,255&(at=O>>0)&&(170&at?Z0(Ue,256,Ge,Ht):Qy(Ue,256,Ge,Ht)),at=Oe,Ue=ot,255&(O>>=8)&&(170&O?Z0(Et,320,at,Ue):Qy(Et,320,at,Ue)),$<y.Ub-1&&(i($e[jt].y,0,ne,ie+480,16),i($e[jt].f,0,se,pe+224,8),i($e[jt].ea,0,Oe,ot+224,8)),$e=y.sa,jt=y.ta+16*V+16*te*y.R,Et=y.qa,at=y.ra+8*V+(O=8*te*y.B),Ue=y.Ha,Ge=y.Ia+8*V+O,O=0;16>O;++O)i($e,jt+O*y.R,ne,ie+32*O,16);for(O=0;8>O;++O)i(Et,at+O*y.B,se,pe+32*O,8),i(Ue,Ge+O*y.B,Oe,ot+32*O,8)}}function ME(y,I,O,V,$,te,ne,ie,se){var pe=[0],Oe=[0],ot=0,at=null!=se?se.kd:0,$e=se??new iT;if(null==y||12>O)return 7;$e.data=y,$e.w=I,$e.ha=O,I=[I],O=[O],$e.gb=[$e.gb];e:{var jt=I,Et=O,Ue=$e.gb;if(t(null!=y),t(null!=Et),t(null!=Ue),Ue[0]=0,12<=Et[0]&&!e(y,jt[0],"RIFF")){if(e(y,jt[0]+8,"WEBP")){Ue=3;break e}var Ge=Xn(y,jt[0]+4);if(12>Ge||4294967286<Ge){Ue=3;break e}if(at&&Ge>Et[0]-8){Ue=7;break e}Ue[0]=Ge,jt[0]+=12,Et[0]-=12}Ue=0}if(0!=Ue)return Ue;for(Ge=0<$e.gb[0],O=O[0];;){e:{var Ht=y;Et=I,Ue=O;var Wt=pe,Vt=Oe,Yn=jt=[0];if((kn=ot=[ot])[0]=0,8>Ue[0])Ue=7;else{if(!e(Ht,Et[0],"VP8X")){if(10!=Xn(Ht,Et[0]+4)){Ue=3;break e}if(18>Ue[0]){Ue=7;break e}var Dn=Xn(Ht,Et[0]+8),Ii=1+qn(Ht,Et[0]+12);if(2147483648<=Ii*(Ht=1+qn(Ht,Et[0]+15))){Ue=3;break e}null!=Yn&&(Yn[0]=Dn),null!=Wt&&(Wt[0]=Ii),null!=Vt&&(Vt[0]=Ht),Et[0]+=18,Ue[0]-=18,kn[0]=1}Ue=0}}if(ot=ot[0],0!=Ue)return Ue;if(Et=!!(2&(jt=jt[0])),!Ge&&ot)return 3;if(null!=te&&(te[0]=!!(16&jt)),null!=ne&&(ne[0]=Et),null!=ie&&(ie[0]=0),ne=pe[0],jt=Oe[0],ot&&Et&&null==se){Ue=0;break}if(4>O){Ue=7;break}if(Ge&&ot||!Ge&&!ot&&!e(y,I[0],"ALPH")){O=[O],$e.na=[$e.na],$e.P=[$e.P],$e.Sa=[$e.Sa];e:{Ue=I,Ge=O;var kn=$e.gb;Wt=$e.na,Vt=$e.P,Yn=$e.Sa,Ii=22,t(null!=(Dn=y)),t(null!=Ge),Ht=Ue[0];var ms=Ge[0];for(t(null!=Wt),t(null!=Yn),Wt[0]=null,Vt[0]=null,Yn[0]=0;;){if(Ue[0]=Ht,Ge[0]=ms,8>ms){Ue=7;break e}var Ls=Xn(Dn,Ht+4);if(4294967286<Ls){Ue=3;break e}var is=8+Ls+1&-2;if(Ii+=is,0<kn&&Ii>kn){Ue=3;break e}if(!e(Dn,Ht,"VP8 ")||!e(Dn,Ht,"VP8L")){Ue=0;break e}if(ms[0]<is){Ue=7;break e}e(Dn,Ht,"ALPH")||(Wt[0]=Dn,Vt[0]=Ht+8,Yn[0]=Ls),Ht+=is,ms-=is}}if(O=O[0],$e.na=$e.na[0],$e.P=$e.P[0],$e.Sa=$e.Sa[0],0!=Ue)break}O=[O],$e.Ja=[$e.Ja],$e.xa=[$e.xa];e:if(kn=y,Ue=I,Ge=O,Wt=$e.gb[0],Vt=$e.Ja,Yn=$e.xa,Dn=Ue[0],Ht=!e(kn,Dn,"VP8 "),Ii=!e(kn,Dn,"VP8L"),t(null!=kn),t(null!=Ge),t(null!=Vt),t(null!=Yn),8>Ge[0])Ue=7;else{if(Ht||Ii){if(kn=Xn(kn,Dn+4),12<=Wt&&kn>Wt-12){Ue=3;break e}if(at&&kn>Ge[0]-8){Ue=7;break e}Vt[0]=kn,Ue[0]+=8,Ge[0]-=8,Yn[0]=Ii}else Yn[0]=5<=Ge[0]&&47==kn[Dn+0]&&!(kn[Dn+4]>>5),Vt[0]=Ge[0];Ue=0}if(O=O[0],$e.Ja=$e.Ja[0],$e.xa=$e.xa[0],I=I[0],0!=Ue)break;if(4294967286<$e.Ja)return 3;if(null==ie||Et||(ie[0]=$e.xa?2:1),ne=[ne],jt=[jt],$e.xa){if(5>O){Ue=7;break}ie=ne,at=jt,Et=te,null==y||5>O?y=0:5<=O&&47==y[I+0]&&!(y[I+4]>>5)?(Ge=[0],kn=[0],Wt=[0],Ne(Vt=new X,y,I,O),Ri(Vt,Ge,kn,Wt)?(null!=ie&&(ie[0]=Ge[0]),null!=at&&(at[0]=kn[0]),null!=Et&&(Et[0]=Wt[0]),y=1):y=0):y=0}else{if(10>O){Ue=7;break}ie=jt,null==y||10>O||!nO(y,I+3,O-3)?y=0:(at=y[I+0]|y[I+1]<<8|y[I+2]<<16,Et=16383&(y[I+7]<<8|y[I+6]),y=16383&(y[I+9]<<8|y[I+8]),1&at||3<(at>>1&7)||!(at>>4&1)||at>>5>=$e.Ja||!Et||!y?y=0:(ne&&(ne[0]=Et),ie&&(ie[0]=y),y=1))}if(!y||(ne=ne[0],jt=jt[0],ot&&(pe[0]!=ne||Oe[0]!=jt)))return 3;null!=se&&(se[0]=$e,se.offset=I-se.w,t(4294967286>I-se.w),t(se.offset==se.ha-O));break}return 0==Ue||7==Ue&&ot&&null==se?(null!=te&&(te[0]|=null!=$e.na&&0<$e.na.length),null!=V&&(V[0]=ne),null!=$&&($[0]=jt),0):Ue}function cT(y,I,O){var V=I.width,$=I.height,te=0,ne=0,ie=V,se=$;if(I.Da=null!=y&&0<y.Da,I.Da&&(ie=y.cd,se=y.bd,te=y.v,ne=y.j,11>O||(te&=-2,ne&=-2),0>te||0>ne||0>=ie||0>=se||te+ie>V||ne+se>$))return 0;if(I.v=te,I.j=ne,I.va=te+ie,I.o=ne+se,I.U=ie,I.T=se,I.da=null!=y&&0<y.da,I.da){if(!ar(ie,se,O=[y.ib],te=[y.hb]))return 0;I.ib=O[0],I.hb=te[0]}return I.ob=null!=y&&y.ob,I.Kb=null==y||!y.Sd,I.da&&(I.ob=I.ib<3*V/4&&I.hb<3*$/4,I.Kb=0),1}function uT(y){if(null==y)return 2;if(11>y.S){var I=y.f.RGBA;I.fb+=(y.height-1)*I.A,I.A=-I.A}else(I=y.f.kb).O+=((y=y.height)-1)*I.fa,I.fa=-I.fa,I.N+=(y-1>>1)*I.Ab,I.Ab=-I.Ab,I.W+=(y-1>>1)*I.Db,I.Db=-I.Db,null!=I.F&&(I.J+=(y-1)*I.lb,I.lb=-I.lb);return 0}function kE(y,I,O,V){if(null==V||0>=y||0>=I)return 2;if(null!=O){if(O.Da){var $=O.cd,te=O.bd,ne=-2&O.v,ie=-2&O.j;if(0>ne||0>ie||0>=$||0>=te||ne+$>y||ie+te>I)return 2;y=$,I=te}if(O.da){if(!ar(y,I,$=[O.ib],te=[O.hb]))return 2;y=$[0],I=te[0]}}V.width=y,V.height=I;e:{var se=V.width,pe=V.height;if(y=V.S,0>=se||0>=pe||!(y>=bO&&13>y))y=2;else{if(0>=V.Rd&&null==V.sd){ne=te=$=I=0;var Oe=(ie=se*x$[y])*pe;if(11>y||(te=(pe+1)/2*(I=(se+1)/2),12==y&&(ne=($=se)*pe)),null==(pe=o(Oe+2*te+ne))){y=1;break e}V.sd=pe,11>y?((se=V.f.RGBA).eb=pe,se.fb=0,se.A=ie,se.size=Oe):((se=V.f.kb).y=pe,se.O=0,se.fa=ie,se.Fd=Oe,se.f=pe,se.N=0+Oe,se.Ab=I,se.Cd=te,se.ea=pe,se.W=0+Oe+te,se.Db=I,se.Ed=te,12==y&&(se.F=pe,se.J=0+Oe+2*te),se.Tc=ne,se.lb=$)}if(I=1,te=V.width,ne=V.height,($=V.S)>=bO&&13>$)if(11>$)y=V.f.RGBA,I&=(ie=Math.abs(y.A))*(ne-1)+te<=y.size,I&=ie>=te*x$[$],I&=null!=y.eb;else{y=V.f.kb,ie=(te+1)/2,Oe=(ne+1)/2,se=Math.abs(y.fa),pe=Math.abs(y.Ab);var ot=Math.abs(y.Db),at=Math.abs(y.lb);I&=se*(ne-1)+te<=y.Fd,I&=pe*(Oe-1)+ie<=y.Cd,I=(I&=ot*(Oe-1)+ie<=y.Ed)&se>=te&pe>=ie&ot>=ie,I&=null!=y.y,I&=null!=y.f,I&=null!=y.ea,12==$&&(I&=at>=te,I&=at*(ne-1)+te<=y.Tc,I&=null!=y.F)}else I=0;y=I?0:2}}return 0!=y||null!=O&&O.fd&&(y=uT(V)),y}var wh=64,RE=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],OE=24,LE=32,dT=8,bh=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];In("Predictor0","PredictorAdd0"),we.Predictor0=function(){return 4278190080},we.Predictor1=function(y){return y},we.Predictor2=function(y,I,O){return I[O+0]},we.Predictor3=function(y,I,O){return I[O+1]},we.Predictor4=function(y,I,O){return I[O-1]},we.Predictor5=function(y,I,O){return On(On(y,I[O+1]),I[O+0])},we.Predictor6=function(y,I,O){return On(y,I[O-1])},we.Predictor7=function(y,I,O){return On(y,I[O+0])},we.Predictor8=function(y,I,O){return On(I[O-1],I[O+0])},we.Predictor9=function(y,I,O){return On(I[O+0],I[O+1])},we.Predictor10=function(y,I,O){return On(On(y,I[O-1]),On(I[O+0],I[O+1]))},we.Predictor11=function(y,I,O){var V=I[O+0];return 0>=gr(V>>24&255,y>>24&255,(I=I[O-1])>>24&255)+gr(V>>16&255,y>>16&255,I>>16&255)+gr(V>>8&255,y>>8&255,I>>8&255)+gr(255&V,255&y,255&I)?V:y},we.Predictor12=function(y,I,O){var V=I[O+0];return(yi((y>>24&255)+(V>>24&255)-((I=I[O-1])>>24&255))<<24|yi((y>>16&255)+(V>>16&255)-(I>>16&255))<<16|yi((y>>8&255)+(V>>8&255)-(I>>8&255))<<8|yi((255&y)+(255&V)-(255&I)))>>>0},we.Predictor13=function(y,I,O){var V=I[O-1];return(ir((y=On(y,I[O+0]))>>24&255,V>>24&255)<<24|ir(y>>16&255,V>>16&255)<<16|ir(y>>8&255,V>>8&255)<<8|ir(y>>0&255,V>>0&255))>>>0};var iQ=we.PredictorAdd0;we.PredictorAdd1=Er,In("Predictor2","PredictorAdd2"),In("Predictor3","PredictorAdd3"),In("Predictor4","PredictorAdd4"),In("Predictor5","PredictorAdd5"),In("Predictor6","PredictorAdd6"),In("Predictor7","PredictorAdd7"),In("Predictor8","PredictorAdd8"),In("Predictor9","PredictorAdd9"),In("Predictor10","PredictorAdd10"),In("Predictor11","PredictorAdd11"),In("Predictor12","PredictorAdd12"),In("Predictor13","PredictorAdd13");var hT=we.PredictorAdd2;Br("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),Br("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var yO,Ag=we.ColorIndexInverseTransform,AT=we.MapARGB,rQ=we.VP8LColorIndexInverseTransformAlpha,sQ=we.MapAlpha,q0=we.VP8LPredictorsAdd=[];q0.length=16,(we.VP8LPredictors=[]).length=16,(we.VP8LPredictorsAdd_C=[]).length=16,(we.VP8LPredictors_C=[]).length=16;var Rf,fg,K0,i_,Uy,NE,pg,PE,fT,Z0,gg,Qy,hC,UE,AC,$0,pT,Of,Hy,Mo,ko,bl,cc,Vy,Y0,QE,vO,o$,a$=o(511),l$=o(2041),c$=o(225),u$=o(767),d$=0,oQ=l$,wO=c$,SA=u$,Lf=a$,bO=0,CO=1,h$=2,xO=3,EO=4,aQ=5,A$=6,lQ=7,cQ=8,SO=9,uQ=10,Hwe=[2,3,7],Vwe=[3,3,11],f$=[280,256,256,256,40],Gwe=[0,1,1,1,0],jwe=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],zwe=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],qwe=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Kwe=8,dQ=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],hQ=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],gT=null,Zwe=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],$we=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],p$=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ywe=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Wwe=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Jwe=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Xwe=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],W0=[],mg=[],Gy=[],ebe=1,g$=2,J0=[],Nf=[];Mt("UpsampleRgbLinePair",Xr,3),Mt("UpsampleBgrLinePair",Da,3),Mt("UpsampleRgbaLinePair",hg,4),Mt("UpsampleBgraLinePair",Nc,4),Mt("UpsampleArgbLinePair",Wu,4),Mt("UpsampleRgba4444LinePair",zl,2),Mt("UpsampleRgb565LinePair",nl,2);var tbe=we.UpsampleRgbLinePair,nbe=we.UpsampleBgrLinePair,m$=we.UpsampleRgbaLinePair,_$=we.UpsampleBgraLinePair,y$=we.UpsampleArgbLinePair,v$=we.UpsampleRgba4444LinePair,ibe=we.UpsampleRgb565LinePair,IO=16,DO=1<<IO-1,mT=-227,AQ=482,w$=6,rbe=(256<<w$)-1,b$=0,sbe=o(256),obe=o(256),abe=o(256),lbe=o(256),cbe=o(AQ-mT),ube=o(AQ-mT);Py("YuvToRgbRow",Xr,3),Py("YuvToBgrRow",Da,3),Py("YuvToRgbaRow",hg,4),Py("YuvToBgraRow",Nc,4),Py("YuvToArgbRow",Wu,4),Py("YuvToRgba4444Row",zl,2),Py("YuvToRgb565Row",nl,2);var C$=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],TO=[0,2,8],dbe=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(y,I,O,V,$){var te=CO,ne=new BE,ie=new sg;ne.ba=ie,ie.S=te,ie.width=[ie.width],ie.height=[ie.height];var se=ie.width,pe=ie.height,Oe=new Ry;if(null==Oe||null==y)var ot=2;else t(null!=Oe),ot=ME(y,I,O,Oe.width,Oe.height,Oe.Pd,Oe.Qd,Oe.format,null);if(0!=ot?se=0:(null!=se&&(se[0]=Oe.width[0]),null!=pe&&(pe[0]=Oe.height[0]),se=1),se){ie.width=ie.width[0],ie.height=ie.height[0],null!=V&&(V[0]=ie.width),null!=$&&($[0]=ie.height);e:{if(V=new CE,($=new iT).data=y,$.w=I,$.ha=O,$.kd=1,I=[0],t(null!=$),(0==(y=ME($.data,$.w,$.ha,null,null,null,I,null,$))||7==y)&&I[0]&&(y=4),0==(I=y)){if(t(null!=ne),V.data=$.data,V.w=$.w+$.offset,V.ha=$.ha-$.offset,V.put=Wm,V.ac=lu,V.bc=Jm,V.ma=ne,$.xa){if(null==(y=kf())){ne=1;break e}if(function(at,$e){var jt=[0],Et=[0],Ue=[0];t:for(;;){if(null==at)return 0;if(null==$e)return at.a=2,0;if(at.l=$e,at.a=0,Ne(at.m,$e.data,$e.w,$e.ha),!Ri(at.m,jt,Et,Ue)){at.a=3;break t}if(at.xb=g$,$e.width=jt[0],$e.height=Et[0],!t_(jt[0],Et[0],1,at,null))break t;return 1}return t(0!=at.a),0}(y,V)){if(V=0==(I=kE(V.width,V.height,ne.Oa,ne.ba))){t:{V=y;n:for(;;){if(null==V){V=0;break t}if(t(null!=V.s.yc),t(null!=V.s.Ya),t(0<V.s.Wb),t(null!=(O=V.l)),t(null!=($=O.ma)),0!=V.xb){if(V.ca=$.ba,V.tb=$.tb,t(null!=V.ca),!cT($.Oa,O,xO)){V.a=2;break n}if(!aC(V,O.width)||O.da)break n;if((O.da||xs(V.ca.S))&&Xe(),11>V.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=V.ca.f.kb.F&&Xe()),V.Pb&&0<V.s.ua&&null==V.s.vb.X&&!Pi(V.s.vb,V.s.Wa.Xa)){V.a=1;break n}V.xb=0}if(!cg(V,V.V,V.Ba,V.c,V.i,O.o,mE))break n;$.Dc=V.Ma,V=1;break t}t(0!=V.a),V=0}V=!V}V&&(I=y.a)}else I=y.a}else{if(null==(y=new P6)){ne=1;break e}if(y.Fa=$.na,y.P=$.P,y.qc=$.Sa,iO(y,V)){if(0==(I=kE(V.width,V.height,ne.Oa,ne.ba))){if(y.Aa=0,O=ne.Oa,t(null!=($=y)),null!=O){if(0<(se=0>(se=O.Md)?0:100<se?255:255*se/100)){for(pe=Oe=0;4>pe;++pe)12>(ot=$.pb[pe]).lc&&(ot.ia=se*dbe[0>ot.lc?0:ot.lc]>>3),Oe|=ot.ia;Oe&&(alert("todo:VP8InitRandom"),$.ia=1)}$.Ga=O.Id,100<$.Ga?$.Ga=100:0>$.Ga&&($.Ga=0)}(function U6(y,I){if(null==y)return 0;if(null==I)return wl(y,2,"NULL VP8Io parameter in VP8Decode().");if(!y.cb&&!iO(y,I))return 0;if(t(y.cb),null==I.ac||I.ac(I)){I.ob&&(y.L=0);var O=TO[y.L];if(2==y.L?(y.yb=0,y.zb=0):(y.yb=I.v-O>>4,y.zb=I.j-O>>4,0>y.yb&&(y.yb=0),0>y.zb&&(y.zb=0)),y.Va=I.o+15+O>>4,y.Hb=I.va+15+O>>4,y.Hb>y.za&&(y.Hb=y.za),y.Va>y.Ub&&(y.Va=y.Ub),0<y.L){var V=y.ed;for(O=0;4>O;++O){var $;if(y.Qa.Cb){var te=y.Qa.Lb[O];y.Qa.Fb||(te+=V.Tb)}else te=V.Tb;for($=0;1>=$;++$){var ne=y.gd[O][$],ie=te;if(V.Pc&&(ie+=V.vd[0],$&&(ie+=V.od[0])),0<(ie=0>ie?0:63<ie?63:ie)){var se=ie;0<V.wb&&(se=4<V.wb?se>>2:se>>1)>9-V.wb&&(se=9-V.wb),1>se&&(se=1),ne.dd=se,ne.tc=2*ie+se,ne.ld=40<=ie?2:15<=ie?1:0}else ne.tc=0;ne.La=$}}}O=0}else wl(y,6,"Frame setup failed"),O=y.a;if(O=0==O){if(O){y.$c=0,0<y.Aa||(y.Ic=1);e:{V=4*(se=y.za);var pe=32*se,Oe=se+1,ot=0<y.L?se*(0<y.Aa?2:1):0,at=(2==y.Aa?2:1)*se;if((ne=V+832+($=3*(16*(O=y.Ic)+TO[y.L])/2*pe)+(te=null!=y.Fa&&0<y.Fa.length?y.Kc.c*y.Kc.i:0))!=ne)O=0;else{if(ne>y.Vb){if(y.Vb=0,y.Ec=o(ne),y.Fc=0,null==y.Ec){O=wl(y,1,"no memory during frame initialization.");break e}y.Vb=ne}ie=y.Fc,y.Ac=ne=y.Ec,y.Bc=ie,ie+=V,y.Gd=a(pe,tO),y.Hd=0,y.rb=a(Oe+1,eO),y.sb=1,y.wa=ot?a(ot,bE):null,y.Y=0,y.D.Nb=0,y.D.wa=y.wa,y.D.Y=y.Y,0<y.Aa&&(y.D.Y+=se),t(!0),y.oc=ne,y.pc=ie,ie+=832,y.ya=a(at,K2),y.aa=0,y.D.ya=y.ya,y.D.aa=y.aa,2==y.Aa&&(y.D.aa+=se),y.R=16*se,y.B=8*se,se=(pe=TO[y.L])*y.R,pe=pe/2*y.B,y.sa=ne,y.ta=ie+se,y.qa=y.sa,y.ra=y.ta+16*O*y.R+pe,y.Ha=y.qa,y.Ia=y.ra+8*O*y.B+pe,y.$c=0,ie+=$,y.mb=te?ne:null,y.nb=te?ie:null,t(ie+te<=y.Fc+y.Vb),Z2(y),r(y.Ac,y.Bc,0,V),O=1}}if(O){if(I.ka=0,I.y=y.sa,I.O=y.ta,I.f=y.qa,I.N=y.ra,I.ea=y.Ha,I.Vd=y.Ia,I.fa=y.R,I.Rc=y.B,I.F=null,I.J=0,!d$){for(O=-255;255>=O;++O)a$[255+O]=0>O?-O:O;for(O=-1020;1020>=O;++O)l$[1020+O]=-128>O?-128:127<O?127:O;for(O=-112;112>=O;++O)c$[112+O]=-16>O?-16:15<O?15:O;for(O=-255;510>=O;++O)u$[255+O]=0>O?0:255<O?255:O;d$=1}pg=V6,PE=Q6,Z0=oO,gg=H6,Qy=aO,fT=sO,hC=eT,UE=uC,AC=tQ,$0=tT,pT=eQ,Of=TE,Hy=nT,Mo=gO,ko=pO,bl=Ny,cc=G0,Vy=X6,mg[0]=n_,mg[1]=G6,mg[2]=K6,mg[3]=Z6,mg[4]=uO,mg[5]=IE,mg[6]=dO,mg[7]=W2,mg[8]=Y6,mg[9]=$6,W0[0]=lO,W0[1]=z6,W0[2]=Ly,W0[3]=EE,W0[4]=Yu,W0[5]=q6,W0[6]=cO,Gy[0]=V0,Gy[1]=j6,Gy[2]=W6,Gy[3]=J2,Gy[4]=cC,Gy[5]=J6,Gy[6]=X2,O=1}else O=0}O&&(O=function($e,jt){for($e.M=0;$e.M<$e.Va;++$e.M){var Et,Ue=$e.Jc[$e.M&$e.Xb],Ge=$e.m,Ht=$e;for(Et=0;Et<Ht.za;++Et){var Wt=Ge,Vt=Ht,Yn=Vt.Ac,Dn=Vt.Bc+4*Et,Ii=Vt.zc,kn=Vt.ya[Vt.aa+Et];if(kn.$b=Vt.Qa.Bb?At(Wt,Vt.Pa.jb[0])?2+At(Wt,Vt.Pa.jb[2]):At(Wt,Vt.Pa.jb[1]):0,Vt.kc&&(kn.Ad=At(Wt,Vt.Bd)),kn.Za=!At(Wt,145)+0,kn.Za){var ms=kn.Ob,Ls=0;for(Vt=0;4>Vt;++Vt){var is,Vr=Ii[0+Vt];for(is=0;4>is;++is){for(var Ao=p$[At(Wt,(Vr=Wwe[Yn[Dn+is]][Vr])[0])];0<Ao;)Ao=p$[2*Ao+At(Wt,Vr[Ao])];Yn[Dn+is]=Vr=-Ao}i(ms,Ls,Yn,Dn,4),Ls+=4,Ii[0+Vt]=Vr}}else Vr=At(Wt,156)?At(Wt,128)?1:3:At(Wt,163)?2:0,kn.Ob[0]=Vr,r(Yn,Dn,Vr,4),r(Ii,0,Vr,4);kn.Dd=At(Wt,142)?At(Wt,114)?At(Wt,183)?1:3:2:0}if(Ht.m.Ka)return wl($e,7,"Premature end-of-partition0 encountered.");for(;$e.ja<$e.za;++$e.ja){if(Ht=Ue,Wt=(Ge=$e).rb[Ge.sb-1],Yn=Ge.rb[Ge.sb+Ge.ja],Et=Ge.ya[Ge.aa+Ge.ja],Dn=Ge.kc?Et.Ad:0)Wt.la=Yn.la=0,Et.Za||(Wt.Na=Yn.Na=0),Et.Hc=0,Et.Gc=0,Et.ia=0;else{var eo,Ar;if(Wt=Yn,Yn=Ht,Dn=Ge.Pa.Xc,kn=Ge.pb[(Ii=Ge.ya[Ge.aa+Ge.ja]).$b],Ls=Ge.rb[Ge.sb-1],Vr=is=0,r(Vt=Ii.ad,ms=0,0,384),Ii.Za)var ql=0,Ch=Dn[3];else{Ao=o(16);var Kl=Wt.Na+Ls.Na;if(Kl=gT(Yn,Dn[1],Kl,kn.Eb,0,Ao,0),Wt.Na=Ls.Na=(0<Kl)+0,1<Kl)pg(Ao,0,Vt,ms);else{var xh=Ao[0]+3>>3;for(Ao=0;256>Ao;Ao+=16)Vt[ms+Ao]=xh}ql=1,Ch=Dn[0]}var Ns=15&Wt.la,IA=15&Ls.la;for(Ao=0;4>Ao;++Ao){var DA=1&IA;for(xh=Ar=0;4>xh;++xh)Ns=Ns>>1|(DA=(Kl=gT(Yn,Ch,Kl=DA+(1&Ns),kn.Sc,ql,Vt,ms))>ql)<<7,Ar=Ar<<2|(3<Kl?3:1<Kl?2:0!=Vt[ms+0]),ms+=16;Ns>>=4,IA=IA>>1|DA<<7,is=(is<<8|Ar)>>>0}for(Ch=Ns,ql=IA>>4,eo=0;4>eo;eo+=2){for(Ar=0,Ns=Wt.la>>4+eo,IA=Ls.la>>4+eo,Ao=0;2>Ao;++Ao){for(DA=1&IA,xh=0;2>xh;++xh)Ns=Ns>>1|(DA=0<(Kl=gT(Yn,Dn[2],Kl=DA+(1&Ns),kn.Qc,0,Vt,ms)))<<3,Ar=Ar<<2|(3<Kl?3:1<Kl?2:0!=Vt[ms+0]),ms+=16;Ns>>=2,IA=IA>>1|DA<<5}Vr|=Ar<<4*eo,Ch|=Ns<<4<<eo,ql|=(240&IA)<<eo}Wt.la=Ch,Ls.la=ql,Ii.Hc=is,Ii.Gc=Vr,Ii.ia=43690&Vr?0:kn.ia,Dn=!(is|Vr)}if(0<Ge.L&&(Ge.wa[Ge.Y+Ge.ja]=Ge.gd[Et.$b][Et.Za],Ge.wa[Ge.Y+Ge.ja].La|=!Dn),Ht.Ka)return wl($e,7,"Premature end-of-file encountered.")}if(Z2($e),Ge=jt,Ht=1,Et=(Ue=$e).D,Wt=0<Ue.L&&Ue.M>=Ue.zb&&Ue.M<=Ue.Va,0==Ue.Aa)e:{if(Et.M=Ue.M,Et.uc=Wt,lT(Ue,Et),Ht=1,Et=(Ar=Ue.D).Nb,Wt=(Vr=TO[Ue.L])*Ue.R,Dn=Ue.sa,Ii=Ue.ta-Wt+(Ao=16*Et*Ue.R),kn=Ue.qa,Vt=Ue.ra-(Yn=Vr/2*Ue.B)+(xh=8*Et*Ue.B),ms=Ue.Ha,Ls=Ue.Ia-Yn+xh,IA=0==(Ns=Ar.M),is=Ns>=Ue.Va-1,2==Ue.Aa&&lT(Ue,Ar),Ar.uc)for(DA=(Kl=Ue).D.M,t(Kl.D.uc),Ar=Kl.yb;Ar<Kl.Hb;++Ar){Ch=DA;var Pc=(cu=(il=Kl).D).Nb,cu=cu.wa[cu.Y+(ql=Ar)],Rd=il.sa,Pf=il.ta+16*Pc*(eo=il.R)+16*ql,r_=cu.dd,Uc=cu.tc;if(0!=Uc)if(t(3<=Uc),1==il.L)0<ql&&bl(Rd,Pf,eo,Uc+4),cu.La&&Vy(Rd,Pf,eo,Uc),0<Ch&&ko(Rd,Pf,eo,Uc+4),cu.La&&cc(Rd,Pf,eo,Uc);else{var jy=il.B,fC=il.qa,HE=il.ra+8*Pc*jy+8*ql,X0=il.Ha,il=il.Ia+8*Pc*jy+8*ql;Pc=cu.ld,0<ql&&(UE(Rd,Pf,eo,Uc+4,r_,Pc),$0(fC,HE,X0,il,jy,Uc+4,r_,Pc)),cu.La&&(Of(Rd,Pf,eo,Uc,r_,Pc),Mo(fC,HE,X0,il,jy,Uc,r_,Pc)),0<Ch&&(hC(Rd,Pf,eo,Uc+4,r_,Pc),AC(fC,HE,X0,il,jy,Uc+4,r_,Pc)),cu.La&&(pT(Rd,Pf,eo,Uc,r_,Pc),Hy(fC,HE,X0,il,jy,Uc,r_,Pc))}}if(Ue.ia&&alert("todo:DitherRow"),null!=Ge.put){if(Ar=16*Ns,Ns=16*(Ns+1),IA?(Ge.y=Ue.sa,Ge.O=Ue.ta+Ao,Ge.f=Ue.qa,Ge.N=Ue.ra+xh,Ge.ea=Ue.Ha,Ge.W=Ue.Ia+xh):(Ar-=Vr,Ge.y=Dn,Ge.O=Ii,Ge.f=kn,Ge.N=Vt,Ge.ea=ms,Ge.W=Ls),is||(Ns-=Vr),Ns>Ge.o&&(Ns=Ge.o),Ge.F=null,Ge.J=null,null!=Ue.Fa&&0<Ue.Fa.length&&Ar<Ns&&(Ge.J=oT(Ue,Ge,Ar,Ns-Ar),Ge.F=Ue.mb,null==Ge.F&&0==Ge.F.length)){Ht=wl(Ue,3,"Could not decode alpha data.");break e}Ar<Ge.j&&(Vr=Ge.j-Ar,Ar=Ge.j,t(!(1&Vr)),Ge.O+=Ue.R*Vr,Ge.N+=Ue.B*(Vr>>1),Ge.W+=Ue.B*(Vr>>1),null!=Ge.F&&(Ge.J+=Ge.width*Vr)),Ar<Ns&&(Ge.O+=Ge.v,Ge.N+=Ge.v>>1,Ge.W+=Ge.v>>1,null!=Ge.F&&(Ge.J+=Ge.v),Ge.ka=Ar-Ge.j,Ge.U=Ge.va-Ge.v,Ge.T=Ns-Ar,Ht=Ge.put(Ge))}Et+1!=Ue.Ic||is||(i(Ue.sa,Ue.ta-Wt,Dn,Ii+16*Ue.R,Wt),i(Ue.qa,Ue.ra-Yn,kn,Vt+8*Ue.B,Yn),i(Ue.Ha,Ue.Ia-Yn,ms,Ls+8*Ue.B,Yn))}if(!Ht)return wl($e,6,"Output aborted.")}return 1}(y,I)),null!=I.bc&&I.bc(I),O&=1}return O?(y.cb=0,O):0})(y,V)||(I=y.a)}}else I=y.a}0==I&&null!=ne.Oa&&ne.Oa.fd&&(I=uT(ne.ba))}ne=I}te=0!=ne?null:11>te?ie.f.RGBA.eb:ie.f.kb.y}else te=null;return te};var x$=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(we,Ft){for(var Bt="",Ae=0;Ae<4;Ae++)Bt+=String.fromCharCode(we[Ft++]);return Bt}function _(we,Ft){return(we[Ft+0]<<0|we[Ft+1]<<8|we[Ft+2]<<16)>>>0}function C(we,Ft){return(we[Ft+0]<<0|we[Ft+1]<<8|we[Ft+2]<<16|we[Ft+3]<<24)>>>0}new h;var F=[0],B=[0],U=[],H=new h,Z=n,q=function(we,Ft){var Bt={},Ae=0,de=!1,Te=0,Se=0;if(Bt.frames=[],!function(me,_e,Pe,We){for(var nt=0;nt<4;nt++)if(me[_e+nt]!="RIFF".charCodeAt(nt))return!0;return!1}(we,Ft)){var xt,Re;for(C(we,Ft+=4),Ft+=8;Ft<we.length;){var Ye=f(we,Ft),Ne=C(we,Ft+=4);Ft+=4;var ht=Ne+(1&Ne);switch(Ye){case"VP8 ":case"VP8L":void 0===Bt.frames[Ae]&&(Bt.frames[Ae]={}),(X=Bt.frames[Ae]).src_off=de?Se:Ft-8,X.src_size=Te+Ne+8,Ae++,de&&(de=!1,Te=0,Se=0);break;case"VP8X":(X=Bt.header={}).feature_flags=we[Ft];var _t=Ft+4;X.canvas_width=1+_(we,_t),X.canvas_height=1+_(we,_t+=3),_t+=3;break;case"ALPH":de=!0,Te=ht+8,Se=Ft-8;break;case"ANIM":(X=Bt.header).bgcolor=C(we,Ft),X.loop_count=(xt=we)[(Re=_t=Ft+4)+0]<<0|xt[Re+1]<<8,_t+=2;break;case"ANMF":var _n,X;(X=Bt.frames[Ae]={}).offset_x=2*_(we,Ft),X.offset_y=2*_(we,Ft+=3),X.width=1+_(we,Ft+=3),X.height=1+_(we,Ft+=3),X.duration=_(we,Ft+=3),Ft+=3,_n=we[Ft++],X.dispose=1&_n,X.blend=_n>>1&1}"ANMF"!=Ye&&(Ft+=ht)}return Bt}}(Z,0);q.response=Z,q.rgbaoutput=!0,q.dataurl=!1;var W=q.header?q.header:null,he=q.frames?q.frames:null;if(W){W.loop_counter=W.loop_count,F=[W.canvas_height],B=[W.canvas_width];for(var xe=0;xe<he.length&&0!=he[xe].blend;xe++);}var Ze=he[0],ct=H.WebPDecodeRGBA(Z,Ze.src_off,Ze.src_size,B,F);Ze.rgba=ct,Ze.imgwidth=B[0],Ze.imgheight=F[0];for(var Ve=0;Ve<B[0]*F[0]*4;Ve++)U[Ve]=ct[Ve];return this.width=B,this.height=F,this.data=U,this}(function(n){var e=function(F,B,U,H){var Z=4,q=a;switch(H){case n.image_compression.FAST:Z=1,q=o;break;case n.image_compression.MEDIUM:Z=6,q=u;break;case n.image_compression.SLOW:Z=9,q=h}var W=Q2(F=i(F,B,U,q),{level:Z});return n.__addimage__.arrayBufferToBinaryString(W)},i=function(F,B,U,H){for(var Z,q,W,he=F.length/B,xe=new Uint8Array(F.length+he),Ze=_(),ct=0;ct<he;ct+=1){if(Z=F.subarray(W=ct*B,W+B),H)xe.set(H(Z,U,q),W+ct);else{for(var Ve,we=Ze.length,Ft=[];Ve<we;Ve+=1)Ft[Ve]=Ze[Ve](Z,U,q);var Bt=C(Ft.concat());xe.set(Ft[Bt],W+ct)}q=Z}return xe},r=function(F){var B=Array.apply([],F);return B.unshift(0),B},o=function(F,B){var H=[],Z=F.length;H[0]=1;for(var q=0;q<Z;q+=1)H[q+1]=F[q]-(F[q-B]||0)+256&255;return H},a=function(F,B,U){var Z=[],q=F.length;Z[0]=2;for(var W=0;W<q;W+=1)Z[W+1]=F[W]-(U&&U[W]||0)+256&255;return Z},u=function(F,B,U){var q=[],W=F.length;q[0]=3;for(var he=0;he<W;he+=1)q[he+1]=F[he]+256-((F[he-B]||0)+(U&&U[he]||0)>>>1)&255;return q},h=function(F,B,U){var W,he=[],xe=F.length;he[0]=4;for(var Ze=0;Ze<xe;Ze+=1)W=f(F[Ze-B]||0,U&&U[Ze]||0,U&&U[Ze-B]||0),he[Ze+1]=F[Ze]-W+256&255;return he},f=function(F,B,U){if(F===B&&B===U)return F;var H=Math.abs(B-U),Z=Math.abs(F-U),q=Math.abs(F+B-U-U);return H<=Z&&H<=q?F:Z<=q?B:U},_=function(){return[r,o,a,u,h]},C=function(F){var B=F.map(function(U){return U.reduce(function(H,Z){return H+Math.abs(Z)},0)});return B.indexOf(Math.min.apply(null,B))};n.processPNG=function(F,B,U,H){var Z,q,W,he,xe,Ze,ct,Ve,we,Ft,Bt,Ae,de,Te,Se,xt=this.decode.FLATE_DECODE,Re="";if(this.__addimage__.isArrayBuffer(F)&&(F=new Uint8Array(F)),this.__addimage__.isArrayBufferView(F)){if(F=(W=new Gpe(F)).imgData,q=W.bits,Z=W.colorSpace,xe=W.colors,-1!==[4,6].indexOf(W.colorType)){if(8===W.bits){we=(Ve=32==W.pixelBitlength?new Uint32Array(W.decodePixels().buffer):16==W.pixelBitlength?new Uint16Array(W.decodePixels().buffer):new Uint8Array(W.decodePixels().buffer)).length,Bt=new Uint8Array(we*W.colors),Ft=new Uint8Array(we);var Ye,Ne=W.pixelBitlength-W.bits;for(Te=0,Se=0;Te<we;Te++){for(de=Ve[Te],Ye=0;Ye<Ne;)Bt[Se++]=de>>>Ye&255,Ye+=W.bits;Ft[Te]=de>>>Ye&255}}if(16===W.bits){we=(Ve=new Uint32Array(W.decodePixels().buffer)).length,Bt=new Uint8Array(we*(32/W.pixelBitlength)*W.colors),Ft=new Uint8Array(we*(32/W.pixelBitlength)),Ae=W.colors>1,Te=0,Se=0;for(var ht=0;Te<we;)de=Ve[Te++],Bt[Se++]=de>>>0&255,Ae&&(Bt[Se++]=de>>>16&255,de=Ve[Te++],Bt[Se++]=de>>>0&255),Ft[ht++]=de>>>16&255;q=8}H!==n.image_compression.NONE?(F=e(Bt,W.width*W.colors,W.colors,H),ct=e(Ft,W.width,1,H)):(F=Bt,ct=Ft,xt=void 0)}if(3===W.colorType&&(Z=this.color_spaces.INDEXED,Ze=W.palette,W.transparency.indexed)){var _t=W.transparency.indexed,_n=0;for(Te=0,we=_t.length;Te<we;++Te)_n+=_t[Te];if((_n/=255)==we-1&&-1!==_t.indexOf(0))he=[_t.indexOf(0)];else if(_n!==we){for(Ve=W.decodePixels(),Ft=new Uint8Array(Ve.length),Te=0,we=Ve.length;Te<we;Te++)Ft[Te]=_t[Ve[Te]];ct=e(Ft,W.width,1)}}var X=function(me){var _e;switch(me){case n.image_compression.FAST:_e=11;break;case n.image_compression.MEDIUM:_e=13;break;case n.image_compression.SLOW:_e=14;break;default:_e=12}return _e}(H);return xt===this.decode.FLATE_DECODE&&(Re="/Predictor "+X+" "),Re+="/Colors "+xe+" /BitsPerComponent "+q+" /Columns "+W.width,(this.__addimage__.isArrayBuffer(F)||this.__addimage__.isArrayBufferView(F))&&(F=this.__addimage__.arrayBufferToBinaryString(F)),(ct&&this.__addimage__.isArrayBuffer(ct)||this.__addimage__.isArrayBufferView(ct))&&(ct=this.__addimage__.arrayBufferToBinaryString(ct)),{alias:U,data:F,index:B,filter:xt,decodeParameters:Re,transparency:he,palette:Ze,sMask:ct,predictor:X,width:W.width,height:W.height,bitsPerComponent:q,colorSpace:Z}}}})(ki.API),function(n){n.processGIF89A=function(t,e,i,r){var o=new jpe(t),a=o.width,u=o.height,h=[];o.decodeAndBlitFrameRGBA(0,h);var f={data:h,width:a,height:u},_=new W3(100).encode(f,100);return n.processJPEG.call(this,_,e,i,r)},n.processGIF87A=n.processGIF89A}(ki.API),ng.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:i,blue:e,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ng.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[n]()}catch(e){uo.log("bit decode error:"+e)}},ng.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<t;r++)for(var o=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+8*r*4,u=0;u<8&&8*r+u<this.width;u++){var h=this.palette[o>>7-u&1];this.data[a+4*u]=h.blue,this.data[a+4*u+1]=h.green,this.data[a+4*u+2]=h.red,this.data[a+4*u+3]=255}0!==e&&(this.pos+=4-e)}},ng.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<n;r++){var o=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+2*r*4,h=15&o,f=this.palette[o>>4];if(this.data[a]=f.blue,this.data[a+1]=f.green,this.data[a+2]=f.red,this.data[a+3]=255,2*r+1>=this.width)break;this.data[a+4]=(f=this.palette[h]).blue,this.data[a+4+1]=f.green,this.data[a+4+2]=f.red,this.data[a+4+3]=255}0!==t&&(this.pos+=4-t)}},ng.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*i;if(r<this.palette.length){var a=this.palette[r];this.data[o]=a.red,this.data[o+1]=a.green,this.data[o+2]=a.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}0!==n&&(this.pos+=4-n)}},ng.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,u=(o>>5&t)/t*255|0,f=o>>15?255:0,_=i*this.width*4+4*r;this.data[_]=(o>>10&t)/t*255|0,this.data[_+1]=u,this.data[_+2]=a,this.data[_+3]=f}this.pos+=n}},ng.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(a&t)/t*255|0,h=(a>>5&e)/e*255|0,_=r*this.width*4+4*o;this.data[_]=(a>>11)/t*255|0,this.data[_+1]=h,this.data[_+2]=u,this.data[_+3]=255}this.pos+=n}},ng.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*e;this.data[a]=o,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=255}this.pos+=this.width%4}},ng.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*e;this.data[u]=o,this.data[u+1]=r,this.data[u+2]=i,this.data[u+3]=a}},ng.prototype.getData=function(){return this.data},function(n){n.processBMP=function(t,e,i,r){var o=new ng(t,!1),a=o.width,u=o.height,h={data:o.getData(),width:a,height:u},f=new W3(100).encode(h,100);return n.processJPEG.call(this,f,e,i,r)}}(ki.API),UK.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(t,e,i,r){var o=new UK(t,!1),a=o.width,u=o.height,h={data:o.getData(),width:a,height:u},f=new W3(100).encode(h,100);return n.processJPEG.call(this,f,e,i,r)}}(ki.API),ki.API.processRGBA=function(n,t,e){for(var i=n.data,r=i.length,o=new Uint8Array(r/4*3),a=new Uint8Array(r/4),u=0,h=0,f=0;f<r;f+=4){var C=i[f+1],F=i[f+2],B=i[f+3];o[u++]=i[f],o[u++]=C,o[u++]=F,a[h++]=B}var U=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:U,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},ki.API.setLanguage=function(n){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]&&(this.internal.languageSettings.languageCode=n,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},RR=(fE=ki.API).getCharWidthsArray=function(n,t){var e,i,r=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),u=t.widths?t.widths:r.metadata.Unicode.widths,h=u.fof?u.fof:1,f=t.kerning?t.kerning:r.metadata.Unicode.kerning,_=f.fof?f.fof:1,C=!1!==t.doKerning,F=0,B=n.length,U=0,H=u[0]||h,Z=[];for(e=0;e<B;e++)i=n.charCodeAt(e),"function"==typeof r.metadata.widthOfString?Z.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+a*(1e3/o)||0)/1e3):(F=C&&"object"===Os(f[i])&&!isNaN(parseInt(f[i][U],10))?f[i][U]/_:0,Z.push((u[i]||H)/h+F)),U=i;return Z},OK=fE.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return fE.processArabic&&(n=fE.processArabic(n)),"function"==typeof i.metadata.widthOfString?i.metadata.widthOfString(n,e,r)/e:RR.apply(this,arguments).reduce(function(o,a){return o+a},0)},LK=function(n,t,e,i){for(var r=[],o=0,a=n.length,u=0;o!==a&&u+t[o]<e;)u+=t[o],o++;r.push(n.slice(0,o));var h=o;for(u=0;o!==a;)u+t[o]>i&&(r.push(n.slice(h,o)),u=0,h=o),u+=t[o],o++;return h!==o&&r.push(n.slice(h,o)),r},NK=function(n,t,e){e||(e={});var i,r,o,a,u,h,_=[],C=[_],F=e.textIndent||0,B=0,U=0,H=n.split(" "),Z=RR.apply(this,[" ",e])[0];if(h=-1===e.lineIndent?H[0].length+2:e.lineIndent||0){var q=Array(h).join(" "),W=[];H.map(function(xe){(xe=xe.split(/\s*\n/)).length>1?W=W.concat(xe.map(function(Ze,ct){return(ct&&Ze.length?"\n":"")+Ze})):W.push(xe[0])}),H=W,h=OK.apply(this,[q,e])}for(o=0,a=H.length;o<a;o++){var he=0;if(i=H[o],h&&"\n"==i[0]&&(i=i.substr(1),he=1),F+B+(U=(r=RR.apply(this,[i,e])).reduce(function(xe,Ze){return xe+Ze},0))>t||he){if(U>t){for(u=LK.apply(this,[i,r,t-(F+B),t]),_.push(u.shift()),_=[u.pop()];u.length;)C.push([u.shift()]);U=r.slice(i.length-(_[0]?_[0].length:0)).reduce(function(xe,Ze){return xe+Ze},0)}else _=[i];C.push(_),F=U+h,B=Z}else _.push(i),F+=B+U,B=Z}return C.map(h?function(xe,Ze){return(Ze?q:"")+xe.join(" ")}:function(xe){return xe.join(" ")})},fE.splitTextToSize=function(n,t,e){var i,r=(e=e||{}).fontSize||this.internal.getFontSize(),o=function(_){if(_.widths&&_.kerning)return{widths:_.widths,kerning:_.kerning};var C=this.internal.getFont(_.fontName,_.fontStyle);return C.metadata.Unicode?{widths:C.metadata.Unicode.widths||{0:1},kerning:C.metadata.Unicode.kerning||{}}:{font:C.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,e);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/r;o.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/r:0,o.lineIndent=e.lineIndent;var u,h,f=[];for(u=0,h=i.length;u<h;u++)f=f.concat(NK.apply(this,[i[u],a,o]));return f},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},i={},r=0;r<t.length;r++)e[t[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=t[r];var o=function(C){return"0x"+parseInt(C,10).toString(16)},a=n.__fontmetrics__.compress=function(C){var F,B,U,H,Z=["{"];for(var q in C){if(F=C[q],isNaN(parseInt(q,10))?B="'"+q+"'":(q=parseInt(q,10),B=(B=o(q).slice(2)).slice(0,-1)+i[B.slice(-1)]),"number"==typeof F)F<0?(U=o(F).slice(3),H="-"):(U=o(F).slice(2),H=""),U=H+U.slice(0,-1)+i[U.slice(-1)];else{if("object"!==Os(F))throw new Error("Don't know what to do with value type "+Os(F)+".");U=a(F)}Z.push(B+U)}return Z.push("}"),Z.join("")},u=n.__fontmetrics__.uncompress=function(C){if("string"!=typeof C)throw new Error("Invalid argument passed to uncompress.");for(var F,B,U,H,Z={},q=1,W=Z,he=[],xe="",Ze="",ct=C.length-1,Ve=1;Ve<ct;Ve+=1)"'"==(H=C[Ve])?F?(U=F.join(""),F=void 0):F=[]:F?F.push(H):"{"==H?(he.push([W,U]),W={},U=void 0):"}"==H?((B=he.pop())[0][B[1]]=W,U=void 0,W=B[0]):"-"==H?q=-1:void 0===U?e.hasOwnProperty(H)?(xe+=e[H],U=parseInt(xe,16)*q,q=1,xe=""):xe+=H:e.hasOwnProperty(H)?(Ze+=e[H],W[U]=parseInt(Ze,16)*q,q=1,U=void 0,Ze=""):Ze+=H;return Z},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},_={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(C){var F=C.font,B=_.Unicode[F.postScriptName];B&&(F.metadata.Unicode={},F.metadata.Unicode.widths=B.widths,F.metadata.Unicode.kerning=B.kerning);var U=f.Unicode[F.postScriptName];U&&(F.metadata.Unicode.encoding=U,F.encoding=U.codePages[0])}])}(ki.API),function(n){var t=function(e){for(var i=e.length,r=new Uint8Array(i),o=0;o<i;o++)r[o]=e.charCodeAt(o);return r};n.API.events.push(["addFont",function(e){var a,u,i=void 0,r=e.font,o=e.instance;if(!r.isStandardFont){if(void 0===o)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if("string"!=typeof(i=!1===o.existsFileInVFS(r.postScriptName)?o.loadFile(r.postScriptName):o.getFileFromVFS(r.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");a=r,u=/^\x00\x01\x00\x00/.test(u=i)?t(u):t(H2(u)),a.metadata=n.API.TTFFont.open(u),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]}}])}(ki),function(n){function t(){return(Ni.canvg?Promise.resolve(Ni.canvg):re.e(489).then(re.bind(re,6489))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}ki.API.addSvgAsImage=function(e,i,r,o,a,u,h,f){if(isNaN(i)||isNaN(r))throw uo.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(a))throw uo.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var _=document.createElement("canvas");_.width=o,_.height=a;var C=_.getContext("2d");C.fillStyle="#fff",C.fillRect(0,0,_.width,_.height);var F={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},B=this;return t().then(function(U){return U.fromString(C,e,F)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(U){return U.render(F)}).then(function(){B.addImage(_.toDataURL("image/jpeg",1),i,r,o,a,h,f)})}}(),ki.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(t,e);return this},ki.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var i,r,o,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(a),h=[],f=0,_=0,C=0;function F(U,H){var Z,q=!1;for(Z=0;Z<U.length;Z+=1)U[Z]===H&&(q=!0);return q}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,"reset"===n||!0===t){var B=u.length;for(C=0;C<B;C+=1)e[u[C]].value=e[u[C]].defaultValue,e[u[C]].explicitSet=!1}if("object"===Os(n))for(r in n)if(o=n[r],F(u,r)&&void 0!==o){if("boolean"===e[r].type&&"boolean"==typeof o)e[r].value=o;else if("name"===e[r].type&&F(e[r].valueSet,o))e[r].value=o;else if("integer"===e[r].type&&Number.isInteger(o))e[r].value=o;else if("array"===e[r].type){for(f=0;f<o.length;f+=1)if(i=!0,1===o[f].length&&"number"==typeof o[f][0])h.push(String(o[f]-1));else if(o[f].length>1){for(_=0;_<o[f].length;_+=1)"number"!=typeof o[f][_]&&(i=!1);!0===i&&h.push([o[f][0]-1,o[f][1]-1].join(" "))}e[r].value="["+h.join(" ")+"]"}else e[r].value=e[r].defaultValue;e[r].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var U,H=[];for(U in e)!0===e[U].explicitSet&&H.push("name"===e[U].type?"/"+U+" /"+e[U].value:"/"+U+" "+e[U].value);0!==H.length&&this.internal.write("/ViewerPreferences\n<<\n"+H.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(n){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(i)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),f=o.length+a.length+u.length+r.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(r+o+a+u+h),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(ki.API),function(n){var t=n.API,e=t.pdfEscape16=function(o,a){for(var u,h=a.metadata.Unicode.widths,f=["","0","00","000","0000"],_=[""],C=0,F=o.length;C<F;++C){if(u=a.metadata.characterToGlyph(o.charCodeAt(C)),a.metadata.glyIdsUsed.push(u),a.metadata.toUnicode[u]=o.charCodeAt(C),-1==h.indexOf(u)&&(h.push(u),h.push([parseInt(a.metadata.widthOfGlyph(u),10)])),"0"==u)return _.join("");u=u.toString(16),_.push(f[4-u.length],u)}return _.join("")},i=function(o){var a,u,h,f,_,C,F;for(_="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",h=[],C=0,F=(u=Object.keys(o).sort(function(B,U){return B-U})).length;C<F;C++)a=u[C],h.length>=100&&(_+="\n"+h.length+" beginbfchar\n"+h.join("\n")+"\nendbfchar",h=[]),null!=o[a]&&"function"==typeof o[a].toString&&(f=("0000"+o[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),h.push("<"+a+"><"+f+">"));return h.length&&(_+="\n"+h.length+" beginbfchar\n"+h.join("\n")+"\nendbfchar\n"),_+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(o){!function(a){var u=a.font,h=a.out,f=a.newObject,_=a.putStream;if(u.metadata instanceof n.API.TTFFont&&"Identity-H"===u.encoding){for(var C=u.metadata.Unicode.widths,F=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),B="",U=0;U<F.length;U++)B+=String.fromCharCode(F[U]);var H=f();_({data:B,addLength1:!0,objectId:H}),h("endobj");var Z=f();_({data:i(u.metadata.toUnicode),addLength1:!0,objectId:Z}),h("endobj");var q=f();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+aE(u.fontName)),h("/FontFile2 "+H+" 0 R"),h("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),h("/Flags "+u.metadata.flags),h("/StemV "+u.metadata.stemV),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h(">>"),h("endobj");var W=f();h("<<"),h("/Type /Font"),h("/BaseFont /"+aE(u.fontName)),h("/FontDescriptor "+q+" 0 R"),h("/W "+n.API.PDFObject.convert(C)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+u.encoding+")"),h(">>"),h(">>"),h("endobj"),u.objectNumber=f(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+Z+" 0 R"),h("/BaseFont /"+aE(u.fontName)),h("/Encoding /"+u.encoding),h("/DescendantFonts ["+W+" 0 R]"),h(">>"),h("endobj"),u.isAlreadyPutted=!0}}(o)}]),t.events.push(["putFont",function(o){!function(a){var u=a.font,h=a.out,f=a.newObject,_=a.putStream;if(u.metadata instanceof n.API.TTFFont&&"WinAnsiEncoding"===u.encoding){for(var C=u.metadata.rawData,F="",B=0;B<C.length;B++)F+=String.fromCharCode(C[B]);var U=f();_({data:F,addLength1:!0,objectId:U}),h("endobj");var H=f();_({data:i(u.metadata.toUnicode),addLength1:!0,objectId:H}),h("endobj");var Z=f();h("<<"),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h("/StemV "+u.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+U+" 0 R"),h("/Flags 96"),h("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),h("/FontName /"+aE(u.fontName)),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h(">>"),h("endobj"),u.objectNumber=f();for(var q=0;q<u.metadata.hmtx.widths.length;q++)u.metadata.hmtx.widths[q]=parseInt(u.metadata.hmtx.widths[q]*(1e3/u.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+H+" 0 R/BaseFont/"+aE(u.fontName)+"/FontDescriptor "+Z+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),h("endobj"),u.isAlreadyPutted=!0}}(o)}]);var r=function(o){var a,u=o.text||"",h=o.x,f=o.y,_=o.options||{},C=o.mutex||{},F=C.pdfEscape,B=C.activeFontKey,U=C.fonts,H=B,Z="",q=0,W="",he=U[H].encoding;if("Identity-H"!==U[H].encoding)return{text:u,x:h,y:f,options:_,mutex:C};for(W=u,H=B,Array.isArray(u)&&(W=u[0]),q=0;q<W.length;q+=1)U[H].metadata.hasOwnProperty("cmap")&&(a=U[H].metadata.cmap.unicode.codeMap[W[q].charCodeAt(0)]),a||W[q].charCodeAt(0)<256&&U[H].metadata.hasOwnProperty("Unicode")?Z+=W[q]:Z+="";var xe="";return parseInt(H.slice(1))<14||"WinAnsiEncoding"===he?xe=F(Z,H).split("").map(function(Ze){return Ze.charCodeAt(0).toString(16)}).join(""):"Identity-H"===he&&(xe=e(Z,U[H])),C.isHex=!0,{text:xe,x:h,y:f,options:_,mutex:C}};t.events.push(["postProcessText",function(o){var a=o.text||"",u=[],h={text:a,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(a)){var f=0;for(f=0;f<a.length;f+=1)Array.isArray(a[f])&&3===a[f].length?u.push([r(Object.assign({},h,{text:a[f][0]})).text,a[f][1],a[f][2]]):u.push(r(Object.assign({},h,{text:a[f]})).text);o.text=u}else o.text=r(Object.assign({},h,{text:a})).text}])}(ki),function(n){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},n.addFileToVFS=function(e,i){return t.call(this),this.internal.vFS[e]=i,this},n.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(ki.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var r,o,a,u,h,f,_,C=t,F=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],B=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],U={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},H={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Z=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],q=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),W=!1,he=0;this.__bidiEngine__={};var xe=function(Ae){var de=Ae.charCodeAt(),Te=de>>8,Se=H[Te];return void 0!==Se?C[256*Se+(255&de)]:252===Te||253===Te?"AL":q.test(Te)?"L":8===Te?"R":"N"},Ze=function(Ae){for(var de,Te=0;Te<Ae.length;Te++){if("L"===(de=xe(Ae.charAt(Te))))return!1;if("R"===de)return!0}return!1},ct=function(Ae,de,Te,Se){var xt,Re,Ye,Ne,ht=de[Se];switch(ht){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":W=!1;break;case"N":case"AN":break;case"EN":W&&(ht="AN");break;case"AL":W=!0,ht="R";break;case"WS":case"BN":ht="N";break;case"CS":Se<1||Se+1>=de.length||"EN"!==(xt=Te[Se-1])&&"AN"!==xt||"EN"!==(Re=de[Se+1])&&"AN"!==Re?ht="N":W&&(Re="AN"),ht=Re===xt?Re:"N";break;case"ES":ht="EN"===(xt=Se>0?Te[Se-1]:"B")&&Se+1<de.length&&"EN"===de[Se+1]?"EN":"N";break;case"ET":if(Se>0&&"EN"===Te[Se-1]){ht="EN";break}if(W){ht="N";break}for(Ye=Se+1,Ne=de.length;Ye<Ne&&"ET"===de[Ye];)Ye++;ht=Ye<Ne&&"EN"===de[Ye]?"EN":"N";break;case"NSM":if(a&&!u){for(Ne=de.length,Ye=Se+1;Ye<Ne&&"NSM"===de[Ye];)Ye++;if(Ye<Ne){var _t=Ae[Se];if(xt=de[Ye],(_t>=1425&&_t<=2303||64286===_t)&&("R"===xt||"AL"===xt)){ht="R";break}}}ht=Se<1||"B"===(xt=de[Se-1])?"N":Te[Se-1];break;case"B":W=!1,r=!0,ht=he;break;case"S":o=!0,ht="N"}return ht},Ve=function(Ae,de,Te){var Se=Ae.split("");return Te&&we(Se,Te,{hiLevel:he}),Se.reverse(),de&&de.reverse(),Se.join("")},we=function(Ae,de,Te){var Se,xt,Re,Ye,Ne,ht=-1,_t=Ae.length,_n=0,X=[],me=he?B:F,_e=[];for(W=!1,r=!1,o=!1,xt=0;xt<_t;xt++)_e[xt]=xe(Ae[xt]);for(Re=0;Re<_t;Re++){if(Ne=_n,X[Re]=ct(Ae,_e,X,Re),Se=240&(_n=me[Ne][U[X[Re]]]),de[Re]=Ye=me[_n&=15][5],Se>0)if(16===Se){for(xt=ht;xt<Re;xt++)de[xt]=1;ht=-1}else ht=-1;if(me[_n][6])-1===ht&&(ht=Re);else if(ht>-1){for(xt=ht;xt<Re;xt++)de[xt]=Ye;ht=-1}"B"===_e[Re]&&(de[Re]=0),Te.hiLevel|=Ye}o&&function(Pe,We,nt){for(var ft=0;ft<nt;ft++)if("S"===Pe[ft]){We[ft]=he;for(var At=ft-1;At>=0&&"WS"===Pe[At];At--)We[At]=he}}(_e,de,_t)},Ft=function(Ae,de,Te,Se,xt){if(!(xt.hiLevel<Ae)){if(1===Ae&&1===he&&!r)return de.reverse(),void(Te&&Te.reverse());for(var Re,Ye,Ne,ht,_t=de.length,_n=0;_n<_t;){if(Se[_n]>=Ae){for(Ne=_n+1;Ne<_t&&Se[Ne]>=Ae;)Ne++;for(ht=_n,Ye=Ne-1;ht<Ye;ht++,Ye--)Re=de[ht],de[ht]=de[Ye],de[Ye]=Re,Te&&(Re=Te[ht],Te[ht]=Te[Ye],Te[Ye]=Re);_n=Ne}_n++}}},Bt=function(Ae,de,Te){var Se=Ae.split(""),xt={hiLevel:he};return Te||(Te=[]),we(Se,Te,xt),function(Re,Ye,Ne){if(0!==Ne.hiLevel&&_)for(var ht,_t=0;_t<Re.length;_t++)1===Ye[_t]&&(ht=Z.indexOf(Re[_t]))>=0&&(Re[_t]=Z[ht+1])}(Se,Te,xt),Ft(2,Se,de,Te,xt),Ft(1,Se,de,Te,xt),Se.join("")};return this.__bidiEngine__.doBidiReorder=function(Ae,de,Te){if(function(xt,Re){if(Re)for(var Ye=0;Ye<xt.length;Ye++)Re[Ye]=Ye;void 0===u&&(u=Ze(xt)),void 0===f&&(f=Ze(xt))}(Ae,de),a||!h||f)if(a&&h&&u^f)he=u?1:0,Ae=Ve(Ae,de,Te);else if(!a&&h&&f)he=u?1:0,Ae=Bt(Ae,de,Te),Ae=Ve(Ae,de);else if(!a||u||h||f){if(a&&!h&&u^f)Ae=Ve(Ae,de),u?(he=0,Ae=Bt(Ae,de,Te)):(he=1,Ae=Bt(Ae,de,Te),Ae=Ve(Ae,de));else if(a&&u&&!h&&f)he=1,Ae=Bt(Ae,de,Te),Ae=Ve(Ae,de);else if(!a&&!h&&u^f){var Se=_;u?(he=1,Ae=Bt(Ae,de,Te),he=0,_=!1,Ae=Bt(Ae,de,Te),_=Se):(he=0,Ae=Bt(Ae,de,Te),Ae=Ve(Ae,de),he=1,_=!1,Ae=Bt(Ae,de,Te),_=Se,Ae=Ve(Ae,de))}}else he=0,Ae=Bt(Ae,de,Te);else he=u?1:0,Ae=Bt(Ae,de,Te);return Ae},this.__bidiEngine__.setOptions=function(Ae){Ae&&(a=Ae.isInputVisual,h=Ae.isOutputVisual,u=Ae.isInputRtl,f=Ae.isOutputRtl,_=Ae.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var r=i.text,o=i.options||{},a=[];if(o.isInputVisual="boolean"!=typeof o.isInputVisual||o.isInputVisual,e.setOptions(o),"[object Array]"===Object.prototype.toString.call(r)){var u=0;for(a=[],u=0;u<r.length;u+=1)"[object Array]"===Object.prototype.toString.call(r[u])?a.push([e.doBidiReorder(r[u][0]),r[u][1],r[u][2]]):a.push([e.doBidiReorder(r[u])]);i.text=a}else i.text=e.doBidiReorder(r);e.setOptions({isInputVisual:!0})}])}(ki),ki.API.TTFFont=function(){function n(t){var e;if(this.rawData=t,e=this.contents=new U0(t),this.contents.pos=4,"ttcf"===e.readString(4))throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new sge(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new zpe(this.contents),this.head=new Kpe(this),this.name=new Jpe(this),this.cmap=new HK(this),this.toUnicode={},this.hhea=new Zpe(this),this.maxp=new Xpe(this),this.hmtx=new ege(this),this.post=new Ype(this),this.os2=new $pe(this),this.loca=new rge(this),this.glyf=new tge(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,i,r,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var a,u,h,f;for(f=[],a=0,u=(h=this.bbox).length;a<u;a++)f.push(Math.round(h[a]*this.scaleFactor));return f}.call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),0!=(32768&(e=r>>16))&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(o=this.familyClass)||2===o||3===o||4===o||5===o||7===o,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return(null!=(e=this.cmap.unicode)?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,i){var r,o,a,u;for(a=0,o=0,u=(t=""+t).length;0<=u?o<u:o>u;o=0<=u?++o:--o)r=t.charCodeAt(o),a+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/e)||0;return a*(e/1e3)},n.prototype.lineHeight=function(t,e){return null==e&&(e=!1),(this.ascender+(e?this.lineGap:0)-this.decender)/1e3*t},n}();var ig,U0=function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(t){var e,i,r;for(r=[],e=0,i=t.length;0<=i?e<i:e>i;e=0<=i?++e:--e)r.push(this.writeByte(t.charCodeAt(e)));return r},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,i,r,o,a,u,h;return t=this.readByte(),e=this.readByte(),i=this.readByte(),r=this.readByte(),o=this.readByte(),a=this.readByte(),u=this.readByte(),h=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^o)+65536*(255^a)+256*(255^u)+(255^h)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*r+16777216*o+65536*a+256*u+h},n.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)e.push(this.readByte());return e},n.prototype.write=function(t){var i,r,o;for(o=[],i=0,r=t.length;i<r;i++)o.push(this.writeByte(t[i]));return o},n}(),zpe=function(){var n;function t(e){var i,r,o;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,o=this.tableCount;0<=o?r<o:r>o;r=0<=o?++r:--r)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(e){var i,r,a,u,h,f,_,C,F,B,U,H;for(H in B=Object.keys(e).length,h=Math.log(2),C=16*Math.floor(Math.log(B)/h),a=Math.floor(C/h),_=16*B-C,(r=new U0).writeInt(this.scalarType),r.writeShort(B),r.writeShort(C),r.writeShort(a),r.writeShort(_),f=r.pos+16*B,u=null,U=[],e)for(F=e[H],r.writeString(H),r.writeInt(n(F)),r.writeInt(f),r.writeInt(F.length),U=U.concat(F),"head"===H&&(u=f),f+=F.length;f%4;)U.push(0),f++;return r.write(U),i=2981146554-n(r.data),r.pos=u+8,r.writeUInt32(i),r.data},n=function(e){var i,r,o,a;for(e=VK.call(e);e.length%4;)e.push(0);for(o=new U0(e),r=0,i=0,a=e.length;i<a;i=i+=4)r+=o.readUInt32();return 4294967295&r},t}(),qpe={}.hasOwnProperty,Km=function(n,t){for(var e in t)qpe.call(t,e)&&(n[e]=t[e]);function i(){this.constructor=n}return i.prototype=t.prototype,n.prototype=new i,n.__super__=t.prototype,n};ig=function(){function n(t){var e;this.file=t,this.exists=!!(e=this.file.directory.tables[this.tag]),e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var Kpe=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Km(t,ig),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var i;return(i=new U0).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(e),i.writeShort(this.glyphDataFormat),i.data},t}(),QK=function(){function n(t,e){var i,r,o,a,u,h,f,_,C,F,B,U,H,Z,q,W,he;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),C=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=t.readByte();break;case 4:for(B=t.readUInt16(),F=B/2,t.pos+=6,o=function(){var xe,Ze;for(Ze=[],h=xe=0;0<=F?xe<F:xe>F;h=0<=F?++xe:--xe)Ze.push(t.readUInt16());return Ze}(),t.pos+=2,H=function(){var xe,Ze;for(Ze=[],h=xe=0;0<=F?xe<F:xe>F;h=0<=F?++xe:--xe)Ze.push(t.readUInt16());return Ze}(),f=function(){var xe,Ze;for(Ze=[],h=xe=0;0<=F?xe<F:xe>F;h=0<=F?++xe:--xe)Ze.push(t.readUInt16());return Ze}(),_=function(){var xe,Ze;for(Ze=[],h=xe=0;0<=F?xe<F:xe>F;h=0<=F?++xe:--xe)Ze.push(t.readUInt16());return Ze}(),r=(this.length-t.pos+this.offset)/2,u=function(){var xe,Ze;for(Ze=[],h=xe=0;0<=r?xe<r:xe>r;h=0<=r?++xe:--xe)Ze.push(t.readUInt16());return Ze}(),h=q=0,he=o.length;q<he;h=++q)for(Z=o[h],i=W=U=H[h];U<=Z?W<=Z:W>=Z;i=U<=Z?++W:--W)0===_[h]?a=i+f[h]:0!==(a=u[_[h]/2+(i-U)-(F-h)]||0)&&(a+=f[h]),this.codeMap[i]=65535&a}t.pos=C}return n.encode=function(t,e){var i,r,o,a,u,h,f,_,C,F,B,U,H,Z,q,W,he,Ze,ct,Ve,we,Ft,Bt,Ae,de,Te,Se,xt,Re,Ye,Ne,ht,_t,_n,X,me,_e,Pe,We,nt,ft,At,pn,un,qn;switch(Se=new U0,a=Object.keys(t).sort(function(Xn,Pi){return Xn-Pi}),e){case"macroman":for(H=0,Z=function(){var Xn=[];for(U=0;U<256;++U)Xn.push(0);return Xn}(),W={0:0},o={},xt=0,ht=a.length;xt<ht;xt++)null==W[At=t[r=a[xt]]]&&(W[At]=++H),o[r]={old:t[r],new:W[t[r]]},Z[r]=W[t[r]];return Se.writeUInt16(1),Se.writeUInt16(0),Se.writeUInt32(12),Se.writeUInt16(0),Se.writeUInt16(262),Se.writeUInt16(0),Se.write(Z),{charMap:o,subtable:Se.data,maxGlyphID:H+1};case"unicode":for(de=[],C=[],he=0,W={},i={},q=f=null,Re=0,_t=a.length;Re<_t;Re++)null==W[Ze=t[r=a[Re]]]&&(W[Ze]=++he),i[r]={old:Ze,new:W[Ze]},u=W[Ze]-r,null!=q&&u===f||(q&&C.push(q),de.push(r),f=u),q=r;for(q&&C.push(q),C.push(65535),de.push(65535),Bt=2*(Ft=de.length),we=2*Math.pow(Math.log(Ft)/Math.LN2,2),F=Math.log(we/2)/Math.LN2,Ve=2*Ft-we,h=[],ct=[],B=[],U=Ye=0,_n=de.length;Ye<_n;U=++Ye){if(_=C[U],65535===(Ae=de[U])){h.push(0),ct.push(0);break}if(Ae-(Te=i[Ae].new)>=32768)for(h.push(0),ct.push(2*(B.length+Ft-U)),r=Ne=Ae;Ae<=_?Ne<=_:Ne>=_;r=Ae<=_?++Ne:--Ne)B.push(i[r].new);else h.push(Te-Ae),ct.push(0)}for(Se.writeUInt16(3),Se.writeUInt16(1),Se.writeUInt32(12),Se.writeUInt16(4),Se.writeUInt16(16+8*Ft+2*B.length),Se.writeUInt16(0),Se.writeUInt16(Bt),Se.writeUInt16(we),Se.writeUInt16(F),Se.writeUInt16(Ve),nt=0,X=C.length;nt<X;nt++)Se.writeUInt16(r=C[nt]);for(Se.writeUInt16(0),ft=0,me=de.length;ft<me;ft++)Se.writeUInt16(r=de[ft]);for(pn=0,_e=h.length;pn<_e;pn++)Se.writeUInt16(u=h[pn]);for(un=0,Pe=ct.length;un<Pe;un++)Se.writeUInt16(ct[un]);for(qn=0,We=B.length;qn<We;qn++)Se.writeUInt16(H=B[qn]);return{charMap:i,subtable:Se.data,maxGlyphID:he+1}}},n}(),HK=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Km(t,ig),t.prototype.tag="cmap",t.prototype.parse=function(e){var i,r,o;for(e.pos=this.offset,this.version=e.readUInt16(),o=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=o?r<o:r>o;r=0<=o?++r:--r)i=new QK(e,this.offset),this.tables.push(i),i.isUnicode&&null==this.unicode&&(this.unicode=i);return!0},t.encode=function(e,i){var r,o;return null==i&&(i="macroman"),r=QK.encode(e,i),(o=new U0).writeUInt16(0),o.writeUInt16(1),r.table=o.data.concat(r.subtable),r},t}(),Zpe=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Km(t,ig),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),$pe=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Km(t,ig),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var i,r;for(r=[],i=0;i<10;++i)r.push(e.readByte());return r}(),this.charRange=function(){var i,r;for(r=[],i=0;i<4;++i)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var i,r;for(r=[],i=0;i<2;i=++i)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),Ype=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Km(t,ig),t.prototype.tag="post",t.prototype.parse=function(e){var i,r,o;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],o=[];e.pos<this.offset+this.length;)i=e.readByte(),o.push(this.names.push(e.readString(i)));return o;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=function(){var u,h,f;for(f=[],a=u=0,h=this.file.maxp.numGlyphs;0<=h?u<h:u>h;a=0<=h?++u:--u)f.push(e.readUInt32());return f}.call(this)}},t}(),Wpe=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Jpe=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Km(t,ig),t.prototype.tag="name",t.prototype.parse=function(e){var i,r,o,a,u,h,f,_,C,F,B;for(e.pos=this.offset,e.readShort(),i=e.readShort(),h=e.readShort(),r=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(f={},a=C=0,F=r.length;C<F;a=++C)e.pos=(o=r[a]).offset,_=e.readString(o.length),u=new Wpe(_,o),null==f[B=o.nameID]&&(f[B]=[]),f[o.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},t}(),Xpe=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Km(t,ig),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),ege=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Km(t,ig),t.prototype.tag="hmtx",t.prototype.parse=function(e){var i,r,o,u,h,f;for(e.pos=this.offset,this.metrics=[],i=0,h=this.file.hhea.numberOfMetrics;0<=h?i<h:i>h;i=0<=h?++i:--i)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var _,C;for(C=[],i=_=0;0<=o?_<o:_>o;i=0<=o?++_:--_)C.push(e.readInt16());return C}(),this.widths=function(){var _,C,F,B;for(B=[],_=0,C=(F=this.metrics).length;_<C;_++)B.push(F[_].advance);return B}.call(this),r=this.widths[this.widths.length-1],f=[],i=u=0;0<=o?u<o:u>o;i=0<=o?++u:--u)f.push(this.widths.push(r));return f},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),VK=[].slice,tge=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Km(t,ig),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var i,r,o,a,u,h,f,_,C,F;return e in this.cache?this.cache[e]:(i=this.file.contents,r=(a=this.file.loca).indexOf(e),0===(o=a.lengthOf(e))?this.cache[e]=null:(i.pos=this.offset+r,u=(h=new U0(i.read(o))).readShort(),_=h.readShort(),F=h.readShort(),f=h.readShort(),C=h.readShort(),this.cache[e]=-1===u?new ige(h,_,F,f,C):new nge(h,u,_,F,f,C),this.cache[e]))},t.prototype.encode=function(e,i,r){var o,a,u,h,f;for(u=[],a=[],h=0,f=i.length;h<f;h++)o=e[i[h]],a.push(u.length),o&&(u=u.concat(o.encode(r)));return a.push(u.length),{table:u,offsets:a}},t}(),nge=function(){function n(t,e,i,r,o,a){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=r,this.xMax=o,this.yMax=a,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),ige=function(){function n(t,e,i,r,o){var a,u;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=r,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;u=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&u;)a.pos+=1&u?4:2,128&u?a.pos+=8:64&u?a.pos+=4:8&u&&(a.pos+=2)}return n.prototype.encode=function(){var t,e,i;for(e=new U0(VK.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)e.pos=this.glyphOffsets[t];return e.data},n}(),rge=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Km(t,ig),t.prototype.tag="loca",t.prototype.parse=function(e){var r;return e.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var o,a;for(a=[],r=0,o=this.length;r<o;r+=2)a.push(2*e.readUInt16());return a}.call(this):function(){var o,a;for(a=[],r=0,o=this.length;r<o;r+=4)a.push(e.readUInt32());return a}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,i){for(var r=new Uint32Array(this.offsets.length),o=0,a=0,u=0;u<r.length;++u)if(r[u]=o,a<i.length&&i[a]==u){++a,r[u]=o;var f=this.offsets[u+1]-this.offsets[u];f>0&&(o+=f)}for(var _=new Array(4*r.length),C=0;C<r.length;++C)_[4*C+3]=255&r[C],_[4*C+2]=(65280&r[C])>>8,_[4*C+1]=(16711680&r[C])>>16,_[4*C]=(4278190080&r[C])>>24;return _},t}(),sge=function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,r,o;for(e in r=this.font.cmap.tables[0].codeMap,t={},o=this.subset)t[e]=r[o[e]];return t},n.prototype.glyphsFor=function(t){var e,i,r,o,a,u,h;for(r={},a=0,u=t.length;a<u;a++)r[o=t[a]]=this.font.glyf.glyphFor(o);for(o in e=[],r)null!=(i=r[o])&&i.compound&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(o in h=this.glyphsFor(e))r[o]=i=h[o];return r},n.prototype.encode=function(t,e){var i,r,o,a,h,f,_,C,F,B,U,H,Z,q;for(r in i=HK.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),B={0:0},q=i.charMap)B[(h=q[r]).old]=h.new;for(U in F=i.maxGlyphID,a)U in B||(B[U]=F++);return _=function(W){var he,xe;for(he in xe={},W)xe[W[he]]=he;return xe}(B),C=Object.keys(_).sort(function(W,he){return W-he}),H=function(){var W,he,xe;for(xe=[],W=0,he=C.length;W<he;W++)xe.push(_[C[W]]);return xe}(),o=this.font.glyf.encode(a,H,B),f=this.font.loca.encode(o.offsets,H),Z={cmap:this.font.cmap.raw(),glyf:o.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(Z["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Z)},n}();ki.API.PDFObject=function(){var n;function t(){}return n=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},t.convert=function(e){var r,o;if(Array.isArray(e))return"["+function(){var u,h,f;for(f=[],u=0,h=e.length;u<h;u++)f.push(t.convert(e[u]));return f}().join(" ")+"]";if("string"==typeof e)return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(e)){for(r in o=["<<"],e)o.push("/"+r+" "+t.convert(e[r]));return o.push(">>"),o.join("\n")}return""+e},t}();const oge=ki;var age=re(4159),GK=re.n(age);function lge(n,t){1&n&&(s.TgZ(0,"span",10),s._uU(1," collections_bookmark "),s.qZA())}function cge(n,t){1&n&&(s.TgZ(0,"span",10),s._uU(1," music_note "),s.qZA())}function uge(n,t){1&n&&(s.TgZ(0,"span",10),s._uU(1," receipt_long "),s.qZA())}function dge(n,t){1&n&&(s.TgZ(0,"span",10),s._uU(1," school "),s.qZA())}function hge(n,t){1&n&&(s.TgZ(0,"span",10),s._uU(1," auto_fix "),s.qZA())}function Age(n,t){1&n&&(s.TgZ(0,"span",10),s._uU(1," swords "),s.qZA())}function fge(n,t){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,lge,2,0,"span",20),s.YNc(2,cge,2,0,"span",20),s.YNc(3,uge,2,0,"span",20),s.YNc(4,dge,2,0,"span",20),s.YNc(5,hge,2,0,"span",20),s.YNc(6,Age,2,0,"span",20),s.TgZ(7,"span",7),s._uU(8),s.qZA(),s._uU(9),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf",4==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",5==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",0==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",3==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",2==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",1==e.idTipologiaSkill),s.xp6(2),s.hij("",e.nome," "),s.xp6(1),s.Oqu(e.value)}}function pge(n,t){1&n&&(s.TgZ(0,"div",21)(1,"b"),s._uU(2,"Scarica il pdf per avere tutte le info aggiuntive"),s.qZA()())}function gge(n,t){if(1&n&&(s.TgZ(0,"li"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e," ")}}function mge(n,t){if(1&n&&(s.TgZ(0,"div")(1,"b",24),s._uU(2,"Spells:"),s.qZA(),s.TgZ(3,"ul"),s.YNc(4,gge,2,1,"li",12),s.qZA()()),2&n){const e=s.oxw(2);s.xp6(4),s.Q6J("ngForOf",null==e.spellsChierico?null:e.spellsChierico.spell)}}function _ge(n,t){if(1&n&&(s.TgZ(0,"li"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e," ")}}function yge(n,t){if(1&n&&(s.TgZ(0,"div")(1,"b",25),s._uU(2,"Aura:"),s.qZA(),s._uU(3),s._UZ(4,"br")(5,"br"),s.TgZ(6,"b",26),s._uU(7,"Spells:"),s.qZA(),s.TgZ(8,"ul"),s.YNc(9,_ge,2,1,"li",12),s.qZA()()),2&n){const e=s.oxw(2);s.xp6(3),s.hij(" ",e.spellsPaladino.aura,""),s.xp6(6),s.Q6J("ngForOf",null==e.spellsPaladino?null:e.spellsPaladino.spell)}}function vge(n,t){if(1&n&&(s.TgZ(0,"div",22),s._UZ(1,"br"),s.TgZ(2,"div")(3,"div",6),s._uU(4,"Info aggiuntive chierico/paladino"),s.qZA(),s._UZ(5,"br")(6,"br"),s.YNc(7,mge,5,1,"div",23),s.YNc(8,yge,10,2,"div",23),s.qZA()()),2&n){const e=s.oxw();s.xp6(7),s.Q6J("ngIf","Chierico"===e.schedaPg.classe.nome),s.xp6(1),s.Q6J("ngIf","Paladino"===e.schedaPg.classe.nome)}}function wge(n,t){if(1&n&&(s.TgZ(0,"div")(1,"b"),s._uU(2,"Info:"),s.qZA(),s.TgZ(3,"span",32),s._uU(4),s.qZA(),s._UZ(5,"br")(6,"br"),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(4),s.hij(" ",e.info,"")}}function bge(n,t){if(1&n&&(s.TgZ(0,"ul")(1,"li",33),s._uU(2),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.hij(" ",e,"")}}function Cge(n,t){if(1&n&&(s.TgZ(0,"ul")(1,"li",31)(2,"b"),s._uU(3,"Skill:"),s.qZA(),s._uU(4),s.qZA(),s._UZ(5,"br"),s.YNc(6,wge,7,1,"div",23),s._UZ(7,"br"),s.TgZ(8,"b"),s._uU(9,"Procedura:"),s.qZA(),s._UZ(10,"br"),s.YNc(11,bge,3,1,"ul",12),s._UZ(12,"br"),s.qZA()),2&n){const e=t.$implicit;s.xp6(4),s.hij(" ",e.nome,""),s.xp6(2),s.Q6J("ngIf",e.info.length>0),s.xp6(5),s.Q6J("ngForOf",e.procedura)}}function xge(n,t){if(1&n&&(s.TgZ(0,"div")(1,"div",28),s._uU(2,"Info Skills"),s.qZA(),s._UZ(3,"br")(4,"br"),s.TgZ(5,"div",29)(6,"b"),s._uU(7,"Classe: "),s.qZA(),s.TgZ(8,"b",30),s._uU(9),s.qZA()(),s.YNc(10,Cge,13,3,"ul",12),s.qZA()),2&n){const e=s.oxw(2);s.xp6(9),s.Oqu(e.infoSkills[0].classe),s.xp6(1),s.Q6J("ngForOf",e.infoSkills)}}function Ege(n,t){if(1&n&&(s.TgZ(0,"div",27),s._UZ(1,"br"),s.YNc(2,xge,11,2,"div",23),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngIf",e.infoSkills.length>0)}}function Sge(n,t){if(1&n&&(s.TgZ(0,"li"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e," ")}}function Ige(n,t){if(1&n&&(s.TgZ(0,"div")(1,"b",36),s._uU(2,"Spells:"),s.qZA(),s.TgZ(3,"ul"),s.YNc(4,Sge,2,1,"li",12),s.qZA()()),2&n){const e=s.oxw(2);s.xp6(4),s.Q6J("ngForOf",null==e.spellsChierico?null:e.spellsChierico.spell)}}function Dge(n,t){if(1&n&&(s.TgZ(0,"li"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e," ")}}function Tge(n,t){if(1&n&&(s.TgZ(0,"div")(1,"b"),s._uU(2,"Aura:"),s.qZA(),s._uU(3),s._UZ(4,"br")(5,"br"),s.TgZ(6,"b",36),s._uU(7,"Spells:"),s.qZA(),s.TgZ(8,"ul"),s.YNc(9,Dge,2,1,"li",12),s.qZA()()),2&n){const e=s.oxw(2);s.xp6(3),s.hij(" ",e.spellsPaladino.aura,""),s.xp6(6),s.Q6J("ngForOf",null==e.spellsPaladino?null:e.spellsPaladino.spell)}}function Bge(n,t){if(1&n&&(s.TgZ(0,"div",34),s._UZ(1,"br"),s.TgZ(2,"div")(3,"div",35),s._uU(4,"Info aggiuntive chierico/paladino"),s.qZA(),s._UZ(5,"br")(6,"br"),s.YNc(7,Ige,5,1,"div",23),s.YNc(8,Tge,10,2,"div",23),s.qZA()()),2&n){const e=s.oxw();s.xp6(7),s.Q6J("ngIf","Chierico"===e.schedaPg.classe.nome),s.xp6(1),s.Q6J("ngIf","Paladino"===e.schedaPg.classe.nome)}}function Fge(n,t){if(1&n&&(s.TgZ(0,"div")(1,"b"),s._uU(2,"Info:"),s.qZA(),s.TgZ(3,"span",32),s._uU(4),s.qZA(),s._UZ(5,"br")(6,"br"),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(4),s.hij(" ",e.info,"")}}function Mge(n,t){if(1&n&&(s.TgZ(0,"ul")(1,"li"),s._uU(2),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.hij(" ",e,"")}}function kge(n,t){if(1&n&&(s.TgZ(0,"ul")(1,"li")(2,"b"),s._uU(3,"Skill:"),s.qZA(),s._uU(4),s.qZA(),s._UZ(5,"br"),s.YNc(6,Fge,7,1,"div",23),s.TgZ(7,"b"),s._uU(8,"Procedura:"),s.qZA(),s._UZ(9,"br"),s.YNc(10,Mge,3,1,"ul",12),s._UZ(11,"br"),s.qZA()),2&n){const e=t.$implicit;s.xp6(4),s.hij(" ",e.nome,""),s.xp6(2),s.Q6J("ngIf",e.info.length>0),s.xp6(4),s.Q6J("ngForOf",e.procedura)}}function Rge(n,t){if(1&n&&(s.TgZ(0,"div")(1,"div",35),s._uU(2,"Info Skills"),s.qZA(),s._UZ(3,"br")(4,"br"),s.TgZ(5,"div")(6,"b"),s._uU(7,"Classe: "),s.qZA(),s.TgZ(8,"b",30),s._uU(9),s.qZA()(),s.YNc(10,kge,12,3,"ul",12),s.qZA()),2&n){const e=s.oxw(2);s.xp6(9),s.Oqu(e.infoSkills[0].classe),s.xp6(1),s.Q6J("ngForOf",e.infoSkills)}}function Oge(n,t){if(1&n&&(s.TgZ(0,"div",37),s._UZ(1,"br"),s.YNc(2,Rge,11,2,"div",23),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngIf",e.infoSkills.length>0)}}let Lge=(()=>{class n{constructor(e,i,r,o,a,u,h){this.dialogRef=e,this.cdr=i,this.renderer=r,this.service=o,this.data=a,this.userService=u,this._utils=h,this.schedaPg=new Tx,this.guid="",this.spellsPaladino=new wU,this.spellsChierico=new bU,this.infoSkills=new Array,this.schedaPg=a.pg,this.guid=a.guid,this.infoSkills=a.infoSkills}ngOnInit(){this.schedaPg.skills=this.schedaPg.skills.sort(e=>e.idTipologiaSkill),this.getInfoAggiuntive(),this.userService.openSnackBar("infoAggiuntive","bottom","center")}getInfoAggiuntive(){switch(this.schedaPg.classe.nome){case"Paladino":this.service.getSpellPaladinoFromDivinita(this.schedaPg.religione.nome).subscribe(e=>this.spellsPaladino=e[0]);break;case"Chierico":this.service.getSpellChiericoFromDivinita(this.schedaPg.religione.nome).subscribe(e=>this.spellsChierico=e[0])}}exportAsPDF(){let e=document.getElementById("MyPdf"),i=(this.spellsChierico.spell.length>0||this.spellsPaladino.spell.length>0)&&this.isRotinrim()?document.getElementById("MyPdf2"):null,r=this.infoSkills.length>0&&this.isRotinrim()?document.getElementById("MyPdf3"):null;null!=e&&GK()(e).then(o=>{const a=o.toDataURL("image/png");let u=new oge("p","cm","a4");u.addImage(a,"PNG",5.5,1,11,15.5),null!=i&&null==r?this.canvas(i,u).subscribe(h=>{u=h,this.pdfSave(u)}):null!=r&&null==i?this.canvas(r,u).subscribe(h=>{u=h,this.pdfSave(u)}):r&&i?this.canvas(i,u).subscribe(h=>{u=h,this.canvas(r,u).subscribe(f=>{u=f,this.pdfSave(u)})}):this.pdfSave(u)})}canvas(e,i){let r=new tn.x;return GK()(e).then(o=>{i.addPage();const a=i.getImageProperties(o),u=i.internal.pageSize.getWidth(),h=a.height*u/a.width,f=o.toDataURL("image/png");i.addImage(f,"PNG",.1,.5,u-1.1,h),r.next(i)}),r.asObservable()}pdfSave(e){e.save("RT "+this.schedaPg.nome+" schedaPersonaggio.pdf")}isSmartphone(){return this._utils.isSmartphone()}isRotinrim(){return this.userService.isRotinrim}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(I0),s.Y36(s.sBO),s.Y36(s.Qsj),s.Y36(S0),s.Y36(Vm),s.Y36(fh),s.Y36(wf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-finish-wizard"]],decls:92,vars:22,consts:[["fxLayoutAlign","","fxLayout","column",1,"external"],["fxFlex","2","mat-dialog-title","",1,"title"],["fxFlex",""],["fxLayout","row wrap","fxLayoutAlign","space-around  stretch","fxFlex","100","id","MyPdf"],["fxLayout","column","fxFlex","40",1,"generic","yBar"],["fxFlex","25"],[1,"subtitle"],[1,"nome"],["fxFlex","15"],["fxFlex","30",1,"stats"],[1,"material-symbols-outlined"],["fxLayout","column","fxFlex","60",1,"generic"],[4,"ngFor","ngForOf"],["fxFlex","10","style","text-align:center",4,"ngIf"],["fxLayoutAlign","space-around center","fxFlex","10"],["mat-raised-button","","color","primary","matTooltip","Download pdf",3,"click"],["id","MyPdf2","style","font-size:20px; position: absolute; bottom:1000px; width: 50%;",4,"ngIf"],["id","MyPdf3","style","font-size:25px; position: absolute; bottom:900px;",4,"ngIf"],["id","MyPdf2","style"," position: absolute; bottom:1000px; width:200%; height:1000px",4,"ngIf"],["id","MyPdf3","style"," position: absolute; bottom:2000px; width:200%; height:2000px",4,"ngIf"],["class","material-symbols-outlined",4,"ngIf"],["fxFlex","10",2,"text-align","center"],["id","MyPdf2",2,"font-size","20px","position","absolute","bottom","1000px","width","50%"],[4,"ngIf"],[2,"text-align","center","font-size","17px"],[1,"classe"],[1,"classe",2,"text-align","center","font-size","17px"],["id","MyPdf3",2,"font-size","25px","position","absolute","bottom","900px"],[1,"subtitle",2,"font-size","30px"],[2,"font-size","27px"],[1,"blue"],[1,"li","skill"],[2,"line-height","1"],[1,"li"],["id","MyPdf2",2,"position","absolute","bottom","1000px","width","200%","height","1000px"],[1,"titleSmartphone"],[2,"text-align","center"],["id","MyPdf3",2,"position","absolute","bottom","2000px","width","200%","height","2000px"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s._uU(2,"Scheda Personaggio "),s._UZ(3,"mat-divider"),s.qZA(),s.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6),s._uU(9,"Info generiche "),s._UZ(10,"br"),s.qZA(),s.TgZ(11,"div")(12,"span",7),s._uU(13,"Nome: "),s.qZA(),s._uU(14),s.qZA(),s.TgZ(15,"div")(16,"span",7),s._uU(17,"Razza: "),s.qZA(),s._uU(18),s.qZA(),s.TgZ(19,"div")(20,"span",7),s._uU(21,"Classe: "),s.qZA(),s._uU(22),s.qZA(),s.TgZ(23,"div")(24,"span",7),s._uU(25,"Divinit\xe0: "),s.qZA(),s._uU(26),s.qZA()(),s.TgZ(27,"div",8)(28,"div",6),s._uU(29,"Guid"),s.qZA(),s._uU(30),s.qZA(),s.TgZ(31,"div",9)(32,"div",6),s._uU(33,"Stats "),s._UZ(34,"br"),s.qZA(),s.TgZ(35,"div")(36,"span",10),s._uU(37," fitness_center "),s.qZA(),s.TgZ(38,"span",7),s._uU(39,"Forza: "),s.qZA(),s._uU(40),s.qZA(),s.TgZ(41,"div")(42,"span",10),s._uU(43," sprint "),s.qZA(),s.TgZ(44,"span",7),s._uU(45,"Destrezza: "),s.qZA(),s._uU(46),s.qZA(),s.TgZ(47,"div")(48,"span",10),s._uU(49," psychology "),s.qZA(),s.TgZ(50,"span",7),s._uU(51,"Intelligenza: "),s.qZA(),s._uU(52),s.qZA()(),s.TgZ(53,"div",9)(54,"div",6),s._uU(55,"Info "),s._UZ(56,"br"),s.qZA(),s.TgZ(57,"div")(58,"span",10),s._uU(59," favorite "),s.qZA(),s.TgZ(60,"span",7),s._uU(61,"HP: "),s.qZA(),s._uU(62,"?"),s.qZA(),s.TgZ(63,"div")(64,"span",10),s._uU(65," bolt "),s.qZA(),s.TgZ(66,"span",7),s._uU(67,"Stamina: "),s.qZA(),s._uU(68),s.ALo(69,"number"),s.qZA(),s.TgZ(70,"div")(71,"span",10),s._uU(72," backpack "),s.qZA(),s.TgZ(73,"span",7),s._uU(74,"Stone: "),s.qZA(),s._uU(75),s.ALo(76,"number"),s.qZA()()(),s.TgZ(77,"div",11)(78,"div",2)(79,"div",6),s._uU(80,"Skills"),s.qZA(),s.YNc(81,fge,10,8,"div",12),s.qZA(),s.YNc(82,pge,3,0,"div",13),s.qZA()()(),s._UZ(83,"mat-divider"),s.TgZ(84,"div",14)(85,"button",15),s.NdJ("click",function(){return i.exportAsPDF()}),s.TgZ(86,"span",10),s._uU(87," download "),s.qZA()()()(),s.YNc(88,vge,9,2,"div",16),s.YNc(89,Ege,3,1,"div",17),s.YNc(90,Bge,9,2,"div",18),s.YNc(91,Oge,3,1,"div",19)),2&e&&(s.xp6(14),s.Oqu(i.schedaPg.nome),s.xp6(4),s.Oqu(i.schedaPg.razza.nome),s.xp6(4),s.Oqu(i.schedaPg.classe.nome),s.xp6(4),s.Oqu(i.schedaPg.religione.nome),s.xp6(4),s.hij(" ",i.guid," "),s.xp6(10),s.Oqu(i.schedaPg.stats.forza),s.xp6(6),s.Oqu(i.schedaPg.stats.destrezza),s.xp6(6),s.Oqu(i.schedaPg.stats.intelligenza),s.xp6(16),s.Oqu(s.xi3(69,16,.75*i.schedaPg.stats.destrezza+.25*i.schedaPg.stats.forza,"1.0-0")),s.xp6(7),s.Oqu(s.xi3(76,19,40+3.5*i.schedaPg.stats.forza,"1.0-0")),s.xp6(6),s.Q6J("ngForOf",i.schedaPg.skills),s.xp6(1),s.Q6J("ngIf",!i.isSmartphone()&&i.isRotinrim()),s.xp6(6),s.Q6J("ngIf",!i.isSmartphone()),s.xp6(1),s.Q6J("ngIf",!i.isSmartphone()),s.xp6(1),s.Q6J("ngIf",i.isSmartphone()),s.xp6(1),s.Q6J("ngIf",i.isSmartphone()))},dependencies:[As,Li,p2,Fd,au,mh,Gl,Ey,hz,Qf],styles:[".generic[_ngcontent-%COMP%]{overflow:auto}.yBar[_ngcontent-%COMP%]{border-right:2px solid #004a9f}.stats[_ngcontent-%COMP%]{height:100%}.external[_ngcontent-%COMP%]{height:calc(100vh - 100px);width:calc(100vh - 300px);border:3px solid #004a9f;border-radius:10px;margin:0;padding:0;overflow-y:auto}.subtitle[_ngcontent-%COMP%]{color:#004a9f;font-weight:700;font-family:Playfair Display,serif;text-align:center;width:100%;padding-bottom:3%}mat-divider[_ngcontent-%COMP%]{border-top-color:#004a9f;border-top-width:2px}.nome[_ngcontent-%COMP%]{font-size:medium;font-weight:700;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;color:#000;padding:2%}.title[_ngcontent-%COMP%]{text-align:center;color:#000;font-family:Playfair Display,serif;font-weight:700}.classe[_ngcontent-%COMP%]{font-size:15px}.skill[_ngcontent-%COMP%]{font-size:30px}li[_ngcontent-%COMP%]{padding:10px;line-height:1}.titleSmartphone[_ngcontent-%COMP%]{font-size:15px;color:#004a9f;text-align:center;font-weight:700}element.style[_ngcontent-%COMP%]{overflow:unset}"]}),n})();function Nge(n,t){if(1&n&&(s.TgZ(0,"li"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e," ")}}let Pge=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.data=i,this.service=r,this.spellChierico=new bU,this.religione="",null!=i&&""!==i&&(this.religione=i)}ngOnInit(){this.getSpells()}getSpells(){this.spellChierico.religione="",null!=this.religione&&""!=this.religione&&this.service.getSpellChiericoFromDivinita(this.religione).subscribe(e=>{e.length>0&&(this.spellChierico=e[0])})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(I0),s.Y36(Vm),s.Y36(S0))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-modale-chierico"]],decls:14,vars:2,consts:[["fxFlex","100","fxLayout","column",1,"home"],[1,"title"],[1,"blue"],[1,"li"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-card",0)(1,"div",1)(2,"b",2),s._uU(3,"Info Spell Chierico"),s.qZA()(),s.TgZ(4,"ul")(5,"li",3)(6,"b"),s._uU(7,"Religione:"),s.qZA(),s._uU(8),s.qZA(),s._UZ(9,"br"),s.TgZ(10,"b"),s._uU(11,"Spells:"),s.qZA(),s.TgZ(12,"ul"),s.YNc(13,Nge,2,1,"li",4),s.qZA()()()),2&e&&(s.xp6(8),s.hij(" ",i.spellChierico.religione,""),s.xp6(5),s.Q6J("ngForOf",null==i.spellChierico?null:i.spellChierico.spell))},dependencies:[As,au,Gl,Iy],styles:["mat-card[_ngcontent-%COMP%]{border:2px solid #004a9f;border-radius:3px;margin:3%}mat-card-title[_ngcontent-%COMP%]{color:#004a9f}.blue[_ngcontent-%COMP%]{color:#004a9f}.title[_ngcontent-%COMP%]{font-size:20px}"]}),n})();function Uge(n,t){if(1&n&&(s.TgZ(0,"div")(1,"b"),s._uU(2,"Info:"),s.qZA(),s._uU(3),s._UZ(4,"br")(5,"br"),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(3),s.hij(" ",e.info," ")}}function Qge(n,t){if(1&n&&(s.TgZ(0,"ul")(1,"li",4),s._uU(2),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.hij(" ",e,"")}}function Hge(n,t){if(1&n&&(s.TgZ(0,"ul")(1,"li",4)(2,"b"),s._uU(3,"Skill:"),s.qZA(),s._uU(4),s.qZA(),s._UZ(5,"br"),s.YNc(6,Uge,6,1,"div",5),s.TgZ(7,"b"),s._uU(8,"Procedura:"),s.qZA(),s.YNc(9,Qge,3,1,"ul",3),s._UZ(10,"br")(11,"mat-divider"),s.qZA()),2&n){const e=t.$implicit;s.xp6(4),s.hij(" ",e.nome,""),s.xp6(2),s.Q6J("ngIf",e.info.length>0),s.xp6(3),s.Q6J("ngForOf",e.procedura)}}let Vge=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i,this.infoSkills=new Array,this.infoSkills=i}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(I0),s.Y36(Vm))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-info-skills"]],decls:7,vars:2,consts:[["fxFlex","","fxLayout","column",1,"home"],[1,"title"],[1,"blue"],[4,"ngFor","ngForOf"],[1,"li"],[4,"ngIf"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-card",0)(1,"div",1)(2,"b"),s._uU(3,"Classe: "),s.qZA(),s.TgZ(4,"b",2),s._uU(5),s.qZA()(),s.YNc(6,Hge,12,3,"ul",3),s.qZA()),2&e&&(s.xp6(5),s.Oqu(i.infoSkills[0].classe),s.xp6(1),s.Q6J("ngForOf",i.infoSkills))},dependencies:[As,Li,p2,au,Gl,Iy],styles:["mat-card[_ngcontent-%COMP%]{border:2px solid #004a9f;border-radius:3px;margin:3%}mat-card-title[_ngcontent-%COMP%]{color:#004a9f}.blue[_ngcontent-%COMP%]{color:#004a9f}.title[_ngcontent-%COMP%]{font-size:20px}"]}),n})(),Gge=0;const J3=new s.OlP("CdkAccordion");let jge=(()=>{class n{constructor(){this._stateChanges=new tn.x,this._openCloseAllActions=new tn.x,this.id="cdk-accordion-"+Gge++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=Ci(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[s._Bn([{provide:J3,useExisting:n}]),s.TTD]}),n})(),zge=0,qge=(()=>{class n{constructor(e,i,r){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=Uo.w0.EMPTY,this.closed=new s.vpe,this.opened=new s.vpe,this.destroyed=new s.vpe,this.expandedChange=new s.vpe,this.id="cdk-accordion-child-"+zge++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((o,a)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===a&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(e){e=Ci(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=Ci(e)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(J3,12),s.Y36(s.sBO),s.Y36(uq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[s._Bn([{provide:J3,useValue:void 0}])]}),n})(),Kge=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Zge=["body"];function $ge(n,t){}const Yge=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Wge=["mat-expansion-panel-header","*","mat-action-row"];function Jge(n,t){if(1&n&&s._UZ(0,"span",2),2&n){const e=s.oxw();s.Q6J("@indicatorRotate",e._getExpandedState())}}const Xge=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],eme=["mat-panel-title","mat-panel-description","*"],X3=new s.OlP("MAT_ACCORDION"),jK="225ms cubic-bezier(0.4,0.0,0.2,1)",zK={indicatorRotate:Tc("indicatorRotate",[Hr("collapsed, void",ui({transform:"rotate(0deg)"})),Hr("expanded",ui({transform:"rotate(180deg)"})),Ws("expanded <=> collapsed, void => collapsed",To(jK))]),bodyExpansion:Tc("bodyExpansion",[Hr("collapsed, void",ui({height:"0px",visibility:"hidden"})),Hr("expanded",ui({height:"*",visibility:"visible"})),Ws("expanded <=> collapsed, void => collapsed",To(jK))])},qK=new s.OlP("MAT_EXPANSION_PANEL");let tme=(()=>{class n{constructor(e,i){this._template=e,this._expansionPanel=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(qK,8))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),nme=0;const KK=new s.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let ZK=(()=>{class n extends qge{constructor(e,i,r,o,a,u,h){super(e,i,r),this._viewContainerRef=o,this._animationMode=u,this._hideToggle=!1,this.afterExpand=new s.vpe,this.afterCollapse=new s.vpe,this._inputChanges=new tn.x,this._headerId="mat-expansion-panel-header-"+nme++,this._bodyAnimationDone=new tn.x,this.accordion=e,this._document=a,this._bodyAnimationDone.pipe(vv((f,_)=>f.fromState===_.fromState&&f.toState===_.toState)).subscribe(f=>{"void"!==f.fromState&&("expanded"===f.toState?this.afterExpand.emit():"collapsed"===f.toState&&this.afterCollapse.emit())}),h&&(this.hideToggle=h.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=Ci(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(sa(null),_i(()=>this.expanded&&!this._portal),(0,Jr.q)(1)).subscribe(()=>{this._portal=new xD(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(X3,12),s.Y36(s.sBO),s.Y36(uq),s.Y36(s.s_b),s.Y36(Ke),s.Y36(s.QbO,8),s.Y36(KK,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,tme,5),2&e){let o;s.iGM(o=s.CRH())&&(i._lazyContent=o.first)}},viewQuery:function(e,i){if(1&e&&s.Gf(Zge,5),2&e){let r;s.iGM(r=s.CRH())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[s._Bn([{provide:X3,useValue:void 0},{provide:qK,useExisting:n}]),s.qOj,s.TTD],ngContentSelectors:Wge,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(s.F$t(Yge),s.Hsn(0),s.TgZ(1,"div",0,1),s.NdJ("@bodyExpansion.done",function(o){return i._bodyAnimationDone.next(o)}),s.TgZ(3,"div",2),s.Hsn(4,1),s.YNc(5,$ge,0,0,"ng-template",3),s.qZA(),s.Hsn(6,2),s.qZA()),2&e&&(s.xp6(1),s.Q6J("@bodyExpansion",i._getExpandedState())("id",i.id),s.uIk("aria-labelledby",i._headerId),s.xp6(4),s.Q6J("cdkPortalOutlet",i._portal))},dependencies:[Ex],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[zK.bodyExpansion]},changeDetection:0}),n})();class ime{}const rme=OM(ime);let $K=(()=>{class n extends rme{constructor(e,i,r,o,a,u,h){super(),this.panel=e,this._element=i,this._focusMonitor=r,this._changeDetectorRef=o,this._animationMode=u,this._parentChangeSubscription=Uo.w0.EMPTY;const f=e.accordion?e.accordion._stateChanges.pipe(_i(_=>!(!_.hideToggle&&!_.togglePosition))):yc.E;this.tabIndex=parseInt(h||"")||0,this._parentChangeSubscription=(0,iu.T)(e.opened,e.closed,f,e._inputChanges.pipe(_i(_=>!!(_.hideToggle||_.disabled||_.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(_i(()=>e._containsFocus())).subscribe(()=>r.focusVia(i,"program")),a&&(this.expandedHeight=a.expandedHeight,this.collapsedHeight=a.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Pm(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ZK,1),s.Y36(s.SBq),s.Y36(Kp),s.Y36(s.sBO),s.Y36(KK,8),s.Y36(s.QbO,8),s.$8M("tabindex"))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i._toggle()})("keydown",function(o){return i._keydown(o)}),2&e&&(s.uIk("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),s.Udp("height",i._getHeaderHeight()),s.ekj("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[s.qOj],ngContentSelectors:eme,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,i){1&e&&(s.F$t(Xge),s.TgZ(0,"span",0),s.Hsn(1),s.Hsn(2,1),s.Hsn(3,2),s.qZA(),s.YNc(4,Jge,1,1,"span",1)),2&e&&(s.ekj("mat-content-hide-toggle",!i._showToggle()),s.xp6(4),s.Q6J("ngIf",i._showToggle()))},dependencies:[Li],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[zK.indicatorRotate]},changeDetection:0}),n})(),sme=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),ome=(()=>{class n extends jge{constructor(){super(...arguments),this._ownHeaders=new s.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=Ci(e)}ngAfterContentInit(){this._headers.changes.pipe(sa(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new zee(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-accordion"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,$K,5),2&e){let o;s.iGM(o=s.CRH())&&(i._headers=o)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[s._Bn([{provide:X3,useExisting:n}]),s.qOj]}),n})(),ame=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[ea,hr,Kge,Db]}),n})();function lme(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," collections_bookmark "),s.qZA())}function cme(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," music_note "),s.qZA())}function ume(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," receipt_long "),s.qZA())}function dme(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," school "),s.qZA())}function hme(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," auto_fix "),s.qZA())}function Ame(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," swords "),s.qZA())}function fme(n,t){if(1&n&&(s.TgZ(0,"div",13),s.YNc(1,lme,2,0,"span",14),s.YNc(2,cme,2,0,"span",14),s.YNc(3,ume,2,0,"span",14),s.YNc(4,dme,2,0,"span",14),s.YNc(5,hme,2,0,"span",14),s.YNc(6,Ame,2,0,"span",14),s.TgZ(7,"span"),s._uU(8),s.TgZ(9,"b"),s._uU(10),s.qZA()()()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf",4==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",5==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",0==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",3==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",2==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",1==e.idTipologiaSkill),s.xp6(2),s.hij("",e.nome,": "),s.xp6(2),s.Oqu(e.value)}}const pme=function(n,t,e){return{"":n,selected:t,notSelected:e}};function gme(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-accordion",9)(1,"mat-expansion-panel",10),s.NdJ("opened",function(){const r=s.CHM(e),o=r.$implicit,a=r.index,u=s.oxw(2);return s.KtG(u.select(o,a))}),s.TgZ(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"b"),s._uU(5,"Nome:\xa0"),s.qZA(),s._uU(6),s.TgZ(7,"b"),s._uU(8,"Classe:\xa0"),s.qZA(),s._uU(9),s.TgZ(10,"span",11),s._uU(11," fitness_center "),s.qZA(),s._uU(12,"\xa0"),s.TgZ(13,"b"),s._uU(14),s.TgZ(15,"b"),s._uU(16,"\xa0 "),s.TgZ(17,"span",11),s._uU(18," sprint "),s.qZA(),s._uU(19," \xa0"),s.qZA(),s._uU(20),s.qZA(),s._uU(21,"\xa0 "),s.TgZ(22,"span",11),s._uU(23," psychology "),s.qZA(),s._uU(24,"\xa0"),s.TgZ(25,"b"),s._uU(26),s.qZA(),s._uU(27," \xa0\xa0\xa0\xa0 Utilizzata \xa0"),s.TgZ(28,"b"),s._uU(29),s.qZA(),s._uU(30,"\xa0 volta/e "),s.qZA()(),s.YNc(31,fme,11,8,"div",12),s._UZ(32,"br"),s.qZA(),s._UZ(33,"mat-divider")(34,"div"),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.xp6(1),s.Q6J("ngClass",s.kEZ(9,pme,-1==r.selezionato,r.selezionato===i,r.selezionato!==i&&-1!==r.selezionato))("expanded",r.selezionato==i),s.xp6(5),s.hij("",e.nome," \xa0\xa0\xa0\xa0 "),s.xp6(3),s.hij("",e.classe.nome," \xa0\xa0\xa0\xa0 "),s.xp6(5),s.hij("",e.stats.forza,"\xa0"),s.xp6(6),s.hij("",e.stats.destrezza,"\xa0"),s.xp6(6),s.Oqu(e.stats.intelligenza),s.xp6(3),s.Oqu(e.utilizzatoNVolte),s.xp6(2),s.Q6J("ngForOf",e.skills)}}const mme=function(){return[5]};function _me(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2)(1,"div",3)(2,"u")(3,"b"),s._uU(4,"Seleziona un template cliccando su una scheda personaggio"),s.qZA()()(),s.TgZ(5,"div",4),s.YNc(6,gme,35,13,"mat-accordion",5),s.TgZ(7,"mat-paginator",6),s.NdJ("page",function(r){s.CHM(e);const o=s.oxw();return o.pageEvent=r,s.KtG(o.onPaginateChange(r))}),s.qZA()(),s.TgZ(8,"div",7)(9,"button",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.selectTemplate())}),s._uU(10,"Seleziona il Template "),s.TgZ(11,"mat-icon"),s._uU(12,"done"),s.qZA()()()()}if(2&n){const e=s.oxw();s.xp6(6),s.Q6J("ngForOf",e.pgPaginati),s.xp6(1),s.Q6J("length",e.schedePg.length)("pageSize",e.pageSize)("pageSizeOptions",s.DdM(5,mme)),s.xp6(2),s.Q6J("disabled",-1==e.selezionato)}}function yme(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," collections_bookmark "),s.qZA())}function vme(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," music_note "),s.qZA())}function wme(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," receipt_long "),s.qZA())}function bme(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," school "),s.qZA())}function Cme(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," auto_fix "),s.qZA())}function xme(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," swords "),s.qZA())}function Eme(n,t){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,yme,2,0,"span",14),s.YNc(2,vme,2,0,"span",14),s.YNc(3,wme,2,0,"span",14),s.YNc(4,bme,2,0,"span",14),s.YNc(5,Cme,2,0,"span",14),s.YNc(6,xme,2,0,"span",14),s.TgZ(7,"span"),s._uU(8),s.TgZ(9,"b"),s._uU(10),s.qZA()()()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf",4==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",5==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",0==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",3==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",2==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",1==e.idTipologiaSkill),s.xp6(2),s.hij("",e.nome,": "),s.xp6(2),s.Oqu(e.value)}}function Sme(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-accordion")(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"b"),s._uU(5),s.qZA(),s._UZ(6,"br"),s.qZA()(),s.TgZ(7,"b"),s._uU(8,"F:"),s.qZA(),s._uU(9),s.TgZ(10,"b"),s._uU(11,"D:"),s.qZA(),s._uU(12),s.TgZ(13,"b"),s._uU(14,"I:"),s.qZA(),s._uU(15),s._UZ(16,"br")(17,"br"),s._uU(18," Utilizzata "),s.TgZ(19,"b"),s._uU(20),s.qZA(),s._uU(21," volta/e "),s._UZ(22,"br")(23,"br"),s.YNc(24,Eme,11,8,"div",16),s._UZ(25,"br"),s.TgZ(26,"div",17)(27,"button",18),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.selectTemplate(o))}),s._uU(28,"Seleziona il Template "),s.TgZ(29,"mat-icon"),s._uU(30,"done"),s.qZA()()()(),s._UZ(31,"mat-divider")(32,"div"),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(5),s.Oqu(e.nome),s.xp6(4),s.hij("",e.stats.forza," - "),s.xp6(3),s.hij(" ",e.stats.destrezza," - "),s.xp6(3),s.hij(" ",e.stats.intelligenza,""),s.xp6(5),s.Oqu(e.utilizzatoNVolte),s.xp6(4),s.Q6J("ngForOf",e.skills)}}const Ime=function(){return[5,10]};function Dme(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",15)(1,"div"),s.YNc(2,Sme,33,6,"mat-accordion",16),s.TgZ(3,"mat-paginator",6),s.NdJ("page",function(r){s.CHM(e);const o=s.oxw();return o.pageEvent=r,s.KtG(o.onPaginateChange(r))}),s.qZA()()()}if(2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngForOf",e.pgPaginati),s.xp6(1),s.Q6J("length",e.schedePg.length)("pageSize",e.pageSize)("pageSizeOptions",s.DdM(4,Ime))}}let Tme=(()=>{class n{constructor(e,i,r,o){this.service=e,this.dialogRef=i,this.data=r,this.utils=o,this.pgToSave=new Tx,this.schedePg=new Array,this.pgPaginati=new Array,this.pageEvent=new Ahe,this.pageSize=5,this.isSmartphone=!1,this.isOpened=!0,this.selezionato=-1,this.classe=new LD,r&&(this.selezionato=r.Selezionato,this.classe=r.Classe)}ngOnInit(){this.isSmartphone=this.utils.isSmartphone(),null!=this.classe.nome&&this.service.getSchedePgByClasse(this.classe.nome).subscribe(e=>{var i;void 0!==(null===(i=e[0])||void 0===i?void 0:i.nome)&&this.elabSkills(e)})}elabSkills(e){this.schedePg=new Array,e.forEach(i=>{null!=i.guid&&this.service.getSkillsPg(i.guid).subscribe(r=>{i.utilizzatoNVolte>0&&this.schedePg.push(vU.Convert(i,r))})}),this.getPaginate()}getPaginate(){setTimeout(()=>{this.schedePg=[...new Map(this.schedePg.map(e=>[e.guid,e])).values()],this.pgPaginati=this.schedePg.slice(0,this.pageSize),this.pgPaginati=this.pgPaginati.sort(e=>e.utilizzatoNVolte).reverse(),this.pgPaginati.forEach(e=>{e.skills=e.skills.sort(function(i,r){return i.idTipologiaSkill>r.idTipologiaSkill?1:-1})})},500)}onPaginateChange(e){this.pgPaginati=this.schedePg.slice(e.pageIndex*e.pageSize,e.pageIndex*e.pageSize+e.pageSize)}selectTemplate(e=new Tx){this.dialogRef.close(e.nome?{Pg:e,Selezionato:this.selezionato}:{Pg:this.pgToSave,Selezionato:this.selezionato})}select(e,i){this.selezionato=i,this.pgToSave=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(S0),s.Y36(I0),s.Y36(Vm),s.Y36(wf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-template-stat-skills"]],decls:2,vars:2,consts:[["class","row",4,"ngIf"],["class","row","class","containerSmart",4,"ngIf"],[1,"row"],[2,"padding-bottom","3vh","text-align","center"],[1,"container"],["multi","false",4,"ngFor","ngForOf"],[3,"length","pageSize","pageSizeOptions","page"],["fxLayout","column","fxLayoutAlign","space-around start",2,"padding-top","3vh"],["mat-raised-button","","color","primary","fxLayout","row","fxFlex","",3,"disabled","click"],["multi","false"],[3,"ngClass","expanded","opened"],[1,"material-symbols-outlined"],["fxLayout","row",4,"ngFor","ngForOf"],["fxLayout","row"],["class","material-symbols-outlined",4,"ngIf"],[1,"containerSmart"],[4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutAlign","center center",2,"padding-top","3vh"],["mat-raised-button","","fxLayout","row","fxFlex","","color","primary",3,"click"]],template:function(e,i){1&e&&(s.YNc(0,_me,13,6,"div",0),s.YNc(1,Dme,4,5,"div",1)),2&e&&(s.Q6J("ngIf",!i.isSmartphone),s.xp6(1),s.Q6J("ngIf",i.isSmartphone))},dependencies:[ys,As,Li,Jp,p2,Fd,au,mh,Gl,dR,ome,ZK,$K,sme,B2],styles:[".selected[_ngcontent-%COMP%]{border:3px outset #004a9f}.notSelected[_ngcontent-%COMP%]{border:2px outset red}.container[_ngcontent-%COMP%]{max-height:80vh}.containerSmart[_ngcontent-%COMP%]{max-height:60vh}"]}),n})();function Bme(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Aggiungi il nome del PG "),s.qZA())}function Fme(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Nome troppo breve "),s.qZA())}function Mme(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-option",39),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return r.changeRazza="changed",r.getReligioni(),s.KtG(r.getClassi())}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.Q6J("value",e.nome),s.xp6(1),s.Oqu(e.nome)}}function kme(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Seleziona una razza "),s.qZA())}function Rme(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-option",40),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return r.getReligioni(),r.autoSetStat(),r.getInfoSkill(),s.KtG(r.enableButtonTemplate())}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("disabled",i.classi.length<1)("value",e.nome),s.xp6(1),s.Oqu(e.nome)}}function Ome(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Seleziona una classe "),s.qZA())}function Lme(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Seleziona prima una razza "),s.qZA())}function Nme(n,t){if(1&n&&(s.TgZ(0,"mat-option",41),s._uU(1),s.qZA()),2&n){const e=t.$implicit,i=s.oxw();s.Q6J("value",e.nome)("disabled",void 0===i.schedaPg.classe.nome||0==i.religioni.length),s.xp6(1),s.Oqu(e.nome)}}function Pme(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Seleziona una religione "),s.qZA())}function Ume(n,t){1&n&&(s.TgZ(0,"mat-hint"),s._uU(1," Seleziona prima una razza e una classe "),s.qZA())}function Qme(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Aggiungi la forza del pg "),s.qZA())}function Hme(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Aggiungi la destrezza del pg "),s.qZA())}function Vme(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Aggiungi l'intelligenza del pg "),s.qZA())}function Gme(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",38),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.selectSkills())}),s._uU(1,"Scegli skills "),s.TgZ(2,"mat-icon"),s._uU(3,"assignment"),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("disabled",void 0===e.schedaPg.classe.nome)}}function jme(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",42),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.selectSkills())}),s._uU(1,"Skills selezionate "),s.TgZ(2,"mat-icon"),s._uU(3,"done"),s.qZA()()}}const zme=function(n){return{color:n}};let Zme=(()=>{class n{constructor(e,i,r,o){this.service=e,this.dialog=i,this.userService=r,this.utils=o,this.nomeForm=new us,this.classeForm=new us,this.razzaForm=new us,this.religioneForm=new us,this.forzaForm=new us,this.destrezzaForm=new us,this.intelligenzaForm=new us,this.statsChecked=!1,this.colorBar="primary",this.schedaPg=new Tx,this.classi=new Array,this.razze=new Array,this.religioni=new Array,this.skills=new Array,this.skillConsigliate=new Array,this.changeRazza="",this.isDruido=!1,this.infoSkills=new Array,this.totaleStat=0,this.fromTemplate=!1,this.buttonTemplate=!1,this.selezionato=-1}ngOnInit(){this.resetFormControl(),this.service.getAllRazze().subscribe(e=>this.razze=e)}getReligioni(){if("Druido"==this.schedaPg.classe.nome)return this.service.getAllReligioni("Druidi").subscribe(e=>this.religioni=e),void(this.isDruido=!0);if("Druido"!==this.schedaPg.classe.nome&&("changed"==this.changeRazza||""==this.changeRazza)||this.isDruido){switch(this.schedaPg.razza.nome){case"Quenya":case"Telero":case"Sindar":this.service.getAllReligioni("Elfico").subscribe(e=>this.religioni=e);break;case"Umano comune":this.service.getAllReligioni("Umano").subscribe(e=>this.religioni=e);break;case"Nordico":this.service.getAllReligioni("Nordico").subscribe(e=>this.religioni=e);break;case"Nano":this.service.getAllReligioni("Nanico").subscribe(e=>this.religioni=e);break;case"Tremecciano":this.service.getAllReligioni("Tremecciano").subscribe(e=>this.religioni=e);break;case"Qwaylar":this.service.getAllReligioni("Qwaylar").subscribe(e=>this.religioni=e);break;case"Mezz'elfo":this.service.getAllReligioni().subscribe(e=>this.religioni=e)}this.isDruido=!1,this.changeRazza="notChanged"}}selectSkills(){this.dialog.open(upe,{width:this.utils.isSmartphone()?"80%":"40%",data:this.schedaPg}).afterClosed().subscribe(i=>{void 0!==i?.data&&(this.schedaPg.skills=i?.data)})}filterClassi(e){return e.filter(r=>null==r?.notRazze||!r.notRazze.includes(this.schedaPg.razza.nome))}getClassi(){this.service.getAllClass().subscribe(e=>this.classi=this.filterClassi(e))}getInfoSkill(){this.service.getInfoSkill(this.schedaPg.classe.nome).subscribe(e=>{this.infoSkills=e.length>0?e:new Array})}openInfoSkills(){this.dialog.open(Vge,{data:this.infoSkills,height:this.utils.isSmartphone()?"60%":""})}checkForza(){this.schedaPg.stats.forza>120&&(this.schedaPg.stats.forza=120),this.schedaPg.stats.forza<0&&(this.schedaPg.stats.forza=1),this.totStat()}checkDestrezza(){this.schedaPg.stats.destrezza>120&&(this.schedaPg.stats.destrezza=120),this.schedaPg.stats.destrezza<0&&(this.schedaPg.stats.destrezza=1),this.totStat()}checkIntelligenza(){this.schedaPg.stats.intelligenza>120&&(this.schedaPg.stats.intelligenza=120),this.schedaPg.stats.intelligenza<0&&(this.schedaPg.stats.intelligenza=1),this.totStat()}autoSetStat(){if(this.statsChecked)switch(this.schedaPg.classe.nome){case"Guerriero":case"Berserker":this.schedaPg.stats.forza=120,this.schedaPg.stats.destrezza=79,this.schedaPg.stats.intelligenza=1;break;case"Mago":case"Chierico":this.schedaPg.stats.forza=70,this.schedaPg.stats.destrezza=10,this.schedaPg.stats.intelligenza=120;break;case"Paladino":this.schedaPg.stats.forza=100,this.schedaPg.stats.destrezza=70,this.schedaPg.stats.intelligenza=30;break;case"Ranger":case"Geniere":this.schedaPg.stats.forza=79,this.schedaPg.stats.destrezza=120,this.schedaPg.stats.intelligenza=1;break;case"Bardo":this.schedaPg.stats.forza=99,this.schedaPg.stats.destrezza=100,this.schedaPg.stats.intelligenza=1;break;default:this.schedaPg.stats.forza=0,this.schedaPg.stats.intelligenza=0,this.schedaPg.stats.destrezza=0}else this.schedaPg.stats.forza=0,this.schedaPg.stats.intelligenza=0,this.schedaPg.stats.destrezza=0;this.totStat()}totStat(){this.totaleStat=this.schedaPg.stats.forza+this.schedaPg.stats.destrezza+this.schedaPg.stats.intelligenza,this.colorBar=this.totaleStat>200&&this.totaleStat<215?"accent":this.totaleStat>215?"warn":"primary"}openPaladino(){this.dialog.open(hpe,{data:this.schedaPg.religione.nome})}openChierico(){this.dialog.open(Pge,{data:this.schedaPg.religione.nome})}checkSalva(){const e=this.schedaPg.stats;return 0!==e.forza&&0!==e.destrezza&&0!==e.intelligenza&&this.nomeForm.valid&&""!==this.schedaPg.religione.nome&&this.classeForm.valid&&this.razzaForm.valid&&this.schedaPg.skills.length>0}savePg(){let e=crypto.randomUUID();var i=confirm("Vuoi salvare la scheda pg in modo da poterla recuperare con il codice guid o utilizzarla come template di stat-skills?");i&&(this.service.AddPg(this.schedaPg,e,i),this.schedaPg.skills.forEach(r=>{this.service.addSkillsPg(r,e)})),this.fromTemplate&&(this.checkSalva(),this.service.updateSchedaPg(this.schedaPg.guid,this.schedaPg.utilizzatoNVolte+1)),this.openFinishWizard(e),this.reset()}reset(){this.totaleStat=0,this.schedaPg=new Tx,this.resetFormControl()}openFinishWizard(e){this.dialog.open(Lge,{data:{pg:this.schedaPg,guid:e,infoSkills:this.infoSkills}}).afterOpened().subscribe(r=>this.infoSkills=new Array)}resetFormControl(){this.nomeForm=new us("",[Ia.required,Ia.minLength(3)]),this.classeForm=new us(null,[Ia.required]),this.razzaForm=new us(null,[Ia.required]),this.religioneForm=new us(null,[Ia.required]),this.forzaForm=new us(0,[Ia.required,Ia.minLength(1),Ia.maxLength(3)]),this.destrezzaForm=new us(0,[Ia.required,Ia.minLength(1),Ia.maxLength(3)]),this.intelligenzaForm=new us(0,[Ia.required,Ia.minLength(1),Ia.maxLength(3)])}recuperaScheda(){let e=prompt("Inserisci il guid per recuperare una scheda gi\xe0 compilata");36==e?.length?(this.getClassi(),this.service.getPg(e).subscribe(i=>{var r;void 0!==(null===(r=i[0])||void 0===r?void 0:r.nome)&&(e?this.service.getSkillsPg(e).subscribe(o=>{this.schedaPg=vU.Convert(i[0],o)}):alert("Nessuna scheda pg presente col guid inserito."))})):e&&alert("Formato guid non valido"),setTimeout(()=>{this.getReligioni()},500)}compareWith(e){return e===this.schedaPg.religione.nome}isChierico(){return"Chierico"===this.schedaPg.classe.nome}isRotinrim(){return this.userService.isRotinrim}spazioSmartphone(){return{margin:this.utils.isSmartphone()?"4%":"1%"}}openTemplate(){this.dialog.open(Tme,{width:this.utils.isSmartphone()?"100%":"50%",data:{Classe:this.schedaPg.classe,Selezionato:this.selezionato}}).afterClosed().subscribe(i=>{null!=i.Pg&&(this.selezionato=i.Selezionato,this.setTemplate(i.Pg))})}setTemplate(e){this.schedaPg.skills=e.skills,this.schedaPg.stats=e.stats,this.schedaPg.guid=e.guid,this.schedaPg.utilizzatoNVolte=e.utilizzatoNVolte,this.fromTemplate=!0,this.totStat()}enableButtonTemplate(){this.service.getSchedePgByClasse(this.schedaPg.classe.nome).subscribe(e=>{var i;if(void 0!==(null===(i=e[0])||void 0===i?void 0:i.nome)){var r=e.filter(o=>o.utilizzatoNVolte>0&&null!=o.utilizzatoNVolte);this.buttonTemplate=r.length>0}else this.buttonTemplate=!1})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(S0),s.Y36(by),s.Y36(fh),s.Y36(wf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-scheda-personaggio"]],decls:94,vars:48,consts:[["fxLayout","column","fxFlex",""],["fxLayout","row","fxLayoutAlign","center center",1,"title"],["mat-icon-button","","matTooltip","Recupera una scheda gi\xe0 compilata",3,"click"],[1,"material-symbols-outlined",2,"color","green"],["fxLayout","row","fxLayoutAlign","space-around center",2,"text-align","center","margin-bottom","10px"],["fxLayout","row",2,"border-top-color","#004a9f"],[2,"padding","8px"],["fxLayout","column","fxFlex","100",1,"firstForm"],["fxLayout","row","fxLayoutAlign","end center"],["mat-icon-button","","color","primary",3,"matTooltip","click"],[2,"color","green"],["mat-icon-button","","color","primary","matTooltip","Info macraggio skills",3,"click"],[2,"color","#004a9f"],["fxLayout","row wrap","fxLayoutAlign","space-evenly center","fxFlex",""],["fxFlex.xs","100","fxFlex.sm","60","fxFlex.md","70","fxFlex.lg","100","fxFlex.xl","100"],["type","text","matInput","","placeholder","Nome pg","fxFlex","",3,"ngModel","formControl","ngModelChange"],[4,"ngIf"],["color","primary","fxFlex","",3,"ngModel","formControl","ngModelChange"],["color","primary",3,"value","click",4,"ngFor","ngForOf"],["color","primary",3,"disabled","value","click",4,"ngFor","ngForOf"],["color","primary",3,"value","disabled",4,"ngFor","ngForOf"],[3,"ngStyle"],["fxLayout","column","fxFlex","100",1,"firstForm",2,"margin-top","2%"],["mat-icon-button","","matTooltip","Seleziona un template stat/skills predefinito",1,"bottoneTemplate",3,"disabled","click"],[2,"color","#004a9f",3,"ngStyle"],["fxFlex","","fxlayout","column",1,"example-section",2,"padding-bottom","2%"],["color","primary",1,"example-margin",3,"ngModel","ngModelChange","change"],["type","number","matInput","","placeholder","Forza","fxFlex","",3,"ngModel","formControl","ngModelChange","keyup"],["type","number","matInput","","placeholder","Destrezza","fxFlex","",3,"ngModel","formControl","ngModelChange","keyup"],["type","number","matInput","","placeholder","Intelligenza","fxFlex","",3,"ngModel","formControl","ngModelChange","keyup"],[3,"color","value","ngStyle"],["div","","fxLayout","row wrap","fxLayoutAlign","center center"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","","class","green",3,"click",4,"ngIf"],["fxLayout","row",2,"margin","5px","border-top-color","#004a9f"],["fxLayout","row wrap","fxLayoutAlign","space-around center","fxFlex",""],[2,"margin-top","1%"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],["color","primary",3,"value","click"],["color","primary",3,"disabled","value","click"],["color","primary",3,"value","disabled"],["mat-raised-button","",1,"green",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s._uU(2," Scheda Personaggio "),s.TgZ(3,"button",2),s.NdJ("click",function(){return i.recuperaScheda()}),s.TgZ(4,"span",3),s._uU(5," downloading "),s.qZA()()(),s.TgZ(6,"div",4)(7,"b"),s._uU(8,"Compila il form e scarica il pdf con tutte le caratteristiche del tuo pg!"),s.qZA()(),s._UZ(9,"mat-divider",5)(10,"div",6),s.TgZ(11,"mat-card",7)(12,"mat-card-header")(13,"mat-card-title"),s._uU(14," Info generiche "),s.qZA()(),s.TgZ(15,"div",8)(16,"button",9),s.NdJ("click",function(){return i.isChierico()?i.openChierico():i.openPaladino()}),s.TgZ(17,"mat-icon",10),s._uU(18,"info"),s.qZA()(),s.TgZ(19,"button",11),s.NdJ("click",function(){return i.openInfoSkills()}),s.TgZ(20,"mat-icon",12),s._uU(21,"info"),s.qZA()()(),s.TgZ(22,"div",13)(23,"div")(24,"mat-form-field",14)(25,"input",15),s.NdJ("ngModelChange",function(o){return i.schedaPg.nome=o}),s.qZA(),s.YNc(26,Bme,2,0,"mat-error",16),s.YNc(27,Fme,2,0,"mat-error",16),s.qZA()(),s.TgZ(28,"div")(29,"mat-form-field",14)(30,"mat-label"),s._uU(31,"Razza"),s.qZA(),s.TgZ(32,"mat-select",17),s.NdJ("ngModelChange",function(o){return i.schedaPg.razza.nome=o}),s.YNc(33,Mme,2,2,"mat-option",18),s.qZA(),s.YNc(34,kme,2,0,"mat-error",16),s.qZA()()(),s.TgZ(35,"div",13)(36,"div")(37,"mat-form-field",14)(38,"mat-label"),s._uU(39,"Classe"),s.qZA(),s.TgZ(40,"mat-select",17),s.NdJ("ngModelChange",function(o){return i.schedaPg.classe.nome=o}),s.YNc(41,Rme,2,3,"mat-option",19),s.qZA(),s.YNc(42,Ome,2,0,"mat-error",16),s.YNc(43,Lme,2,0,"mat-error",16),s.qZA()(),s.TgZ(44,"div")(45,"mat-form-field",14)(46,"mat-label"),s._uU(47,"Religione"),s.qZA(),s.TgZ(48,"mat-select",17),s.NdJ("ngModelChange",function(o){return i.schedaPg.religione.nome=o}),s.YNc(49,Nme,2,3,"mat-option",20),s.qZA(),s.YNc(50,Pme,2,0,"mat-error",16),s.YNc(51,Ume,2,0,"mat-hint",16),s.qZA()()(),s._UZ(52,"div",21),s.qZA(),s.TgZ(53,"mat-card",22)(54,"mat-card-title"),s._uU(55," Stats"),s.TgZ(56,"button",23),s.NdJ("click",function(){return i.openTemplate()}),s.TgZ(57,"mat-icon",24),s._uU(58,"search"),s.qZA()()(),s.TgZ(59,"div")(60,"section",25)(61,"mat-checkbox",26),s.NdJ("ngModelChange",function(o){return i.statsChecked=o})("change",function(){return i.autoSetStat()}),s._uU(62,"Applica stats consigliate"),s.qZA()()(),s.TgZ(63,"div",13)(64,"div")(65,"mat-form-field",14)(66,"input",27),s.NdJ("ngModelChange",function(o){return i.schedaPg.stats.forza=o})("keyup",function(){return i.checkForza()}),s.qZA(),s.YNc(67,Qme,2,0,"mat-error",16),s.qZA()(),s.TgZ(68,"div")(69,"mat-form-field",14)(70,"input",28),s.NdJ("ngModelChange",function(o){return i.schedaPg.stats.destrezza=o})("keyup",function(){return i.checkDestrezza()}),s.qZA(),s.YNc(71,Hme,2,0,"mat-error",16),s.qZA()(),s.TgZ(72,"div")(73,"mat-form-field",14)(74,"input",29),s.NdJ("ngModelChange",function(o){return i.schedaPg.stats.intelligenza=o})("keyup",function(){return i.checkIntelligenza()}),s.qZA(),s.YNc(75,Vme,2,0,"mat-error",16),s.qZA()(),s._UZ(76,"mat-progress-bar",30),s.qZA()(),s.TgZ(77,"div",31)(78,"div",21),s.YNc(79,Gme,4,1,"button",32),s.YNc(80,jme,4,0,"button",33),s.qZA()(),s._UZ(81,"mat-divider",34),s.TgZ(82,"div",35)(83,"div",36)(84,"button",37),s.NdJ("click",function(){return i.reset()}),s._uU(85,"Reset "),s.TgZ(86,"mat-icon"),s._uU(87,"undo"),s.qZA()()(),s.TgZ(88,"div",36)(89,"button",38),s.NdJ("click",function(){return i.savePg()}),s._uU(90,"Salva "),s.TgZ(91,"mat-icon"),s._uU(92,"done"),s.qZA()()()(),s._UZ(93,"div",21),s.qZA()),2&e&&(s.xp6(16),s.Udp("visibility","Paladino"!==i.schedaPg.classe.nome&&"Chierico"!==i.schedaPg.classe.nome||""===i.schedaPg.religione.nome||!i.isRotinrim()?"hidden":"visible"),s.Q6J("matTooltip",i.isChierico()?"Info spell chierico":"Info spell paladino"),s.xp6(3),s.Udp("visibility",i.infoSkills.length>0&&i.isRotinrim()?"visible":"hidden"),s.xp6(6),s.Q6J("ngModel",i.schedaPg.nome)("formControl",i.nomeForm),s.xp6(1),s.Q6J("ngIf",i.nomeForm.hasError("required")),s.xp6(1),s.Q6J("ngIf",i.nomeForm.hasError("minlength")),s.xp6(5),s.Q6J("ngModel",i.schedaPg.razza.nome)("formControl",i.razzaForm),s.xp6(1),s.Q6J("ngForOf",i.razze),s.xp6(1),s.Q6J("ngIf",i.classeForm.hasError("required")&&null==i.schedaPg.razza),s.xp6(6),s.Q6J("ngModel",i.schedaPg.classe.nome)("formControl",i.classeForm),s.xp6(1),s.Q6J("ngForOf",i.classi),s.xp6(1),s.Q6J("ngIf",i.classeForm.hasError("required")&&null==i.schedaPg.classe),s.xp6(1),s.Q6J("ngIf",i.classeForm.hasError("required")&&""==i.schedaPg.razza.nome),s.xp6(5),s.Q6J("ngModel",i.schedaPg.religione.nome)("formControl",i.religioneForm),s.xp6(1),s.Q6J("ngForOf",i.religioni),s.xp6(1),s.Q6J("ngIf",i.classeForm.hasError("required")&&null==i.schedaPg.religione.nome),s.xp6(1),s.Q6J("ngIf",void 0===i.schedaPg.classe.nome||void 0===i.schedaPg.classe.nome),s.xp6(1),s.Q6J("ngStyle",i.spazioSmartphone()),s.xp6(4),s.Q6J("disabled",null==i.schedaPg.classe.nome||0==i.buttonTemplate),s.xp6(1),s.Q6J("ngStyle",s.VKq(46,zme,null==i.schedaPg.classe.nome||0==i.buttonTemplate?"grey":"#004a9f")),s.xp6(3),s.Udp("visibility",void 0===i.schedaPg.classe.nome?"hidden":"visible"),s.xp6(1),s.Q6J("ngModel",i.statsChecked),s.xp6(5),s.Q6J("ngModel",i.schedaPg.stats.forza)("formControl",i.forzaForm),s.xp6(1),s.Q6J("ngIf",i.forzaForm.hasError("required")),s.xp6(3),s.Q6J("ngModel",i.schedaPg.stats.destrezza)("formControl",i.destrezzaForm),s.xp6(1),s.Q6J("ngIf",i.destrezzaForm.hasError("required")),s.xp6(3),s.Q6J("ngModel",i.schedaPg.stats.intelligenza)("formControl",i.intelligenzaForm),s.xp6(1),s.Q6J("ngIf",i.intelligenzaForm.hasError("required")),s.xp6(1),s.Q6J("color",i.colorBar)("value",i.totaleStat/2)("ngStyle",i.spazioSmartphone()),s.xp6(2),s.Q6J("ngStyle",i.spazioSmartphone()),s.xp6(1),s.Q6J("ngIf",0==i.schedaPg.skills.length),s.xp6(1),s.Q6J("ngIf",i.schedaPg.skills.length>0),s.xp6(9),s.Q6J("disabled",!i.checkSalva()),s.xp6(4),s.Q6J("ngStyle",i.spazioSmartphone()))},dependencies:[As,Li,No,Dy,E2,B0,S2,Jp,p2,Fd,au,mh,Gl,R2,Ey,Kb,iq,$b,Vue,M0,$x,Mb,Yb,T2,Iy,kk,Mk,Nq],styles:['.content[_ngcontent-%COMP%]{height:calc(100vh - 130px);border-radius:10px;margin:16px 16px 16px 32px;padding:4px;overflow:auto}.home[_ngcontent-%COMP%]{border:2px solid black}.title[_ngcontent-%COMP%]{padding:5px;font-size:x-large;font-weight:700;font-family:Playfair Display,serif;color:#004a9f}.form[_ngcontent-%COMP%]{padding:10px;margin:10px}.firstForm[_ngcontent-%COMP%]{border:2px solid #004a9f;border-radius:10px;padding-left:3%;padding-right:3%;padding-bottom:3%;margin-right:15%;margin-left:15%}.green[_ngcontent-%COMP%]{background-color:#388e3c;color:#fff}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}.bottoneTemplate[_ngcontent-%COMP%]{position:relative;bottom:2px}']}),n})(),$me=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-news"]],decls:29,vars:1,consts:[[1,"container"],[1,"page-title"],[1,"news-list"],[1,"news-item"],[1,"news-title"],[1,"news-content"],[1,"news-content",2,"text-align","center","font-weight","bold"],[1,"news-date"],["href","https://docs.google.com/document/d/15-PV85hLet-2kS6gHf3xknh2TMRppxMHiUyPJ-m4CJ0/edit?usp=share_link","target","_blank",1,"news-link"],[1,"news-bug-report"],[1,"news-bug-link",3,"routerLink"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h1",1),s._uU(2,"Ultime News"),s.qZA(),s.TgZ(3,"div",2)(4,"div",3)(5,"h2",4),s._uU(6,"Nuove funzionalit\xe0 di accesso tramite Discord e tool di salvataggio macro (1.4.0)"),s.qZA(),s.TgZ(7,"p",5),s._uU(8,'Siamo entusiasti di annunciare i recenti miglioramenti apportati al nostro sito web. Abbiamo introdotto un nuovo sistema di accesso tramite Discord, che semplifica il processo di login e registrazione. Ora gli utenti possono accedere al sito utilizzando come provider Discord per rendere l\'accesso pi\xf9 rapido e sicuro. Ma non \xe8 tutto: abbiamo anche implementato features speciali per offrire una assistenza maggiore agli utenti che partecipano al server di Rotiniel con il ruolo "Cittadino". Questi utenti avranno accesso a funzionalit\xe0 esclusive e potranno godere di vantaggi aggiuntivi rispetto agli altri utenti.'),s._UZ(9,"br"),s._uU(10," Inoltre, siamo lieti di presentare il nuovo strumento di salvataggio macro. Ora gli utenti possono salvare e fruire delle macro inserite dagli altri membri direttamente dal nostro sito."),s._UZ(11,"br"),s._uU(12," Apprezziamo molto il feedback della nostra community e vogliamo assicurarci che il sito funzioni al meglio. Se riscontri bug o anomalie durante l'utilizzo del sito, ti incoraggiamo a segnalarli nella sezione apposita. Il tuo contributo ci aiuter\xe0 a identificare e risolvere tempestivamente eventuali problemi, offrendo un'esperienza di utilizzo ancora migliore a tutti gli utenti."),s._UZ(13,"br"),s._uU(14," Continueremo a lavorare per offrire ulteriori miglioramenti e nuove funzionalit\xe0 in futuro."),s._UZ(15,"br"),s._uU(16," Grazie a tutti per il vostro supporto costante!"),s.qZA(),s.TgZ(17,"p",6),s._uU(18,"(si ma mo nun t'allarg\xe0 chatgpt)"),s.qZA(),s.TgZ(19,"p",7),s._uU(20,"Pubblicato il 13/05/2023"),s.qZA(),s.TgZ(21,"div",5)(22,"a",8),s._uU(23,"Guida all'utilizzo"),s.qZA()()()(),s.TgZ(24,"div",9)(25,"p"),s._uU(26,"Hai riscontrato un bug o un'anomalia?"),s.qZA(),s.TgZ(27,"a",10),s._uU(28,"Segnala il bug qui"),s.qZA()()()),2&e&&(s.xp6(27),s.Q6J("routerLink","/help"))},dependencies:[hm],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.page-title[_ngcontent-%COMP%]{color:#004a9f;font-size:24px;font-weight:700;margin-bottom:20px}.news-list[_ngcontent-%COMP%]{background-color:#fff}.news-item[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;box-shadow:0 2px 4px #0000001a;margin-bottom:20px;padding:20px}.news-title[_ngcontent-%COMP%]{color:#004a9f;font-size:20px;font-weight:700;margin-bottom:10px}.news-content[_ngcontent-%COMP%]{color:#000;font-size:16px;margin-bottom:10px}.news-date[_ngcontent-%COMP%]{color:#000;font-size:14px}.news-bug-report[_ngcontent-%COMP%]{margin-top:20px;font-size:14px;font-weight:700}.news-bug-link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;color:#004a9f}.news-bug-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.news-link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:700;color:#004a9f}.news-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),n})(),Yme=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-admin"]],decls:23,vars:4,consts:[[1,"admin-panel"],[1,"panel-title"],[1,"section"],[1,"section-title"],[1,"section-link",3,"routerLink"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h2",1),s._uU(2,"Pannello Amministratore"),s.qZA(),s.TgZ(3,"div",2)(4,"h3",3),s._uU(5,"Utenti"),s.qZA(),s.TgZ(6,"a",4),s._uU(7,"Gestione Utenti"),s.qZA()(),s.TgZ(8,"div",2)(9,"h3",3),s._uU(10,"Flusso dati"),s.qZA(),s.TgZ(11,"a",4),s._uU(12,"Gestione Flusso Dati"),s.qZA()(),s.TgZ(13,"div",2)(14,"h3",3),s._uU(15,"Tickets"),s.qZA(),s.TgZ(16,"a",4),s._uU(17,"Gestione Tickets"),s.qZA()(),s.TgZ(18,"div",2)(19,"h3",3),s._uU(20,"News"),s.qZA(),s.TgZ(21,"a",4),s._uU(22,"Gestione News"),s.qZA()()()),2&e&&(s.xp6(6),s.Q6J("routerLink","/utenti"),s.xp6(5),s.Q6J("routerLink","/flussoDati"),s.xp6(5),s.Q6J("routerLink","/tickets"),s.xp6(5),s.Q6J("routerLink","/aggiungi-news"))},dependencies:[hm],styles:[".admin-panel[_ngcontent-%COMP%]{background-color:#fff;color:#004a9f;padding:20px;border-radius:5px;display:flex;flex-direction:column}.panel-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:20px}.section[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:20px}.section-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;margin-bottom:10px}.section-link[_ngcontent-%COMP%]{color:#004a9f;text-decoration:none;transition:color .2s ease}.section-link[_ngcontent-%COMP%]:hover{color:#002c64}"]}),n})(),Wme=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-tickets"]],decls:2,vars:0,template:function(e,i){1&e&&(s.TgZ(0,"p"),s._uU(1,"tickets works!"),s.qZA())}}),n})(),Jme=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-flusso-dati"]],decls:2,vars:0,template:function(e,i){1&e&&(s.TgZ(0,"p"),s._uU(1,"flusso-dati works!"),s.qZA())}}),n})(),Xme=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-aggiungi-news"]],decls:2,vars:0,template:function(e,i){1&e&&(s.TgZ(0,"p"),s._uU(1,"aggiungi-news works!"),s.qZA())}}),n})(),e_e=(()=>{class n{transform(e){const i=1e3*e.seconds+Math.round(e.nanoseconds/1e6);return new Date(i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=s.Yjl({name:"timestampToDate",type:n,pure:!0}),n})();function t_e(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Id"),s.qZA())}function n_e(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.id)}}function i_e(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Username"),s.qZA())}function r_e(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.username)}}function s_e(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Last Expires Token"),s.qZA())}function o_e(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.ALo(2,"date"),s.ALo(3,"timestampToDate"),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(s.xi3(2,1,s.lcZ(3,4,e.lastExpiresToken),"dd/MM/yy HH:mm:ss"))}}function a_e(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Server Autenticazione"),s.qZA())}function l_e(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.serverAutenticazione)}}function c_e(n,t){1&n&&(s.TgZ(0,"th",20),s._uU(1,"Ruoli"),s.qZA())}function u_e(n,t){if(1&n&&(s.TgZ(0,"td",21),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(null==e.ruoli?null:e.ruoli.join(", "))}}function d_e(n,t){1&n&&(s.TgZ(0,"th",22),s._uU(1,"Status"),s.qZA())}const h_e=function(n){return{color:n}};function A_e(n,t){if(1&n&&(s.TgZ(0,"td",21)(1,"mat-icon",23),s._uU(2),s.qZA()()),2&n){const e=t.$implicit,i=s.oxw();s.xp6(1),s.Q6J("matTooltip",i.isUserActive(e.lastExpiresToken)?"Loggato":"Non loggato")("ngStyle",s.VKq(3,h_e,i.isUserActive(e.lastExpiresToken)?"green":"gray")),s.xp6(1),s.hij(" ",i.isUserActive(e.lastExpiresToken)?"circle":"highlight_off"," ")}}function f_e(n,t){1&n&&(s.TgZ(0,"th",22),s._uU(1,"Actions"),s.qZA())}function p_e(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",21)(1,"button",24),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.editUser(o.id))}),s.TgZ(2,"mat-icon"),s._uU(3,"edit"),s.qZA()(),s.TgZ(4,"button",25),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.deleteUser(o.id))}),s.TgZ(5,"mat-icon"),s._uU(6,"delete"),s.qZA()()()}}function g_e(n,t){1&n&&s._UZ(0,"tr",26)}function m_e(n,t){1&n&&s._UZ(0,"tr",27)}const __e=function(){return[5,10,20]};let y_e=(()=>{class n{constructor(e){this.userService=e,this.displayedColumns=["id","username","lastExpiresToken","serverAutenticazione","ruoli","actions","status"],this.userForm=new F0({id:new us,username:new us,lastLogin:new us}),this.dataSource=new D3}ngOnInit(){this.userService.getUsers().subscribe(e=>{this.dataSource.data=e,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(e,i){const r=e.value.trim().toLowerCase();"username"===i?this.dataSource.filterPredicate=(o,a)=>o.username.toLowerCase().includes(a):"lastLogin"===i&&(this.dataSource.filterPredicate=(o,a)=>new Date(1e3*o.lastExpiresToken.seconds+Math.floor(o.lastExpiresToken.nanoseconds/1e6)).toLocaleString().includes(a)),this.dataSource.filter=r}editUser(e){alert("Non ancora implementato")}deleteUser(e){alert("Non ancora implementato")}sortData(e){const i=e.active,r=e.direction;this.dataSource.sortingDataAccessor=(o,a)=>{var u;switch(a){case"id":return o.id;case"username":return o.username;case"lastExpiresToken":return o.lastExpiresToken;case"serverAutenticazione":return o.serverAutenticazione;case"ruoli":return null===(u=o.ruoli)||void 0===u?void 0:u.join(", ");default:return""}},this.dataSource.sort=this.sort,this.dataSource.sort.sort({id:i,start:r,disableClear:!1})}isUserActive(e){const i=new Date(1e3*e.seconds),o=(new Date).getTime()-i.getTime();return Math.floor(o/1e3/60)<=10}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fh))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-utenti"]],viewQuery:function(e,i){if(1&e&&(s.Gf(F2,7),s.Gf(B2,7)),2&e){let r;s.iGM(r=s.CRH())&&(i.sort=r.first),s.iGM(r=s.CRH())&&(i.paginator=r.first)}},decls:37,vars:5,consts:[["fxFlex","100","fxLayout","row","fxLayoutAlign","center center"],["fxFlex","","fxLayout","column","fxLayoutAlign","space-around stretch","fxFlex","70",1,"table-container",2,"padding-top","3vh"],["fxLayout","row","fxLayoutAlign","center center",1,"table-controls"],["fxFlex","100","fxLayout","row wrap","fxLayoutAlign","space-around center"],["appearance","outline"],["matInput","",3,"input"],["mat-table","","matSort","","fxFlex","100",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","username"],["matColumnDef","lastExpiresToken"],["matColumnDef","serverAutenticazione"],["matColumnDef","ruoli"],["matColumnDef","status"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[3,"matTooltip","ngStyle"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-form-field",4)(5,"mat-label"),s._uU(6,"Filtro per User"),s.qZA(),s.TgZ(7,"input",5),s.NdJ("input",function(o){return i.applyFilter(o.target,"username")}),s.qZA()(),s.TgZ(8,"mat-form-field",4)(9,"mat-label"),s._uU(10,"Filtro per Data"),s.qZA(),s.TgZ(11,"input",5),s.NdJ("input",function(o){return i.applyFilter(o.target,"lastExpiresToken")}),s.qZA()()()(),s.TgZ(12,"table",6),s.ynx(13,7),s.YNc(14,t_e,2,0,"th",8),s.YNc(15,n_e,2,1,"td",9),s.BQk(),s.ynx(16,10),s.YNc(17,i_e,2,0,"th",8),s.YNc(18,r_e,2,1,"td",9),s.BQk(),s.ynx(19,11),s.YNc(20,s_e,2,0,"th",8),s.YNc(21,o_e,4,6,"td",9),s.BQk(),s.ynx(22,12),s.YNc(23,a_e,2,0,"th",8),s.YNc(24,l_e,2,1,"td",9),s.BQk(),s.ynx(25,13),s.YNc(26,c_e,2,0,"th",8),s.YNc(27,u_e,2,1,"td",9),s.BQk(),s.ynx(28,14),s.YNc(29,d_e,2,0,"th",15),s.YNc(30,A_e,3,5,"td",9),s.BQk(),s.ynx(31,16),s.YNc(32,f_e,2,0,"th",15),s.YNc(33,p_e,7,0,"td",9),s.BQk(),s.YNc(34,g_e,1,0,"tr",17),s.YNc(35,m_e,1,0,"tr",18),s.qZA(),s._UZ(36,"mat-paginator",19),s.qZA()()),2&e&&(s.xp6(12),s.Q6J("dataSource",i.dataSource),s.xp6(22),s.Q6J("matHeaderRowDef",i.displayedColumns),s.xp6(1),s.Q6J("matRowDefColumns",i.displayedColumns),s.xp6(1),s.Q6J("pageSizeOptions",s.DdM(4,__e)))},dependencies:[No,Jp,Fd,au,mh,Gl,R2,Ey,$b,M0,Yb,B2,F2,bq,x3,aR,E3,lR,oR,S3,cR,uR,I3,Dq,Dh,e_e],styles:[".table-container[_ngcontent-%COMP%]{align-items:center}mat-form-field[_ngcontent-%COMP%]{margin-right:10px}.mat-table-container[_ngcontent-%COMP%]{overflow:auto}.semaforo[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%}.active[_ngcontent-%COMP%]{background-color:green}.inactive[_ngcontent-%COMP%]{background-color:gray}"]}),n})(),pE=(()=>{class n{constructor(e,i){this.userService=e,this.router=i}canActivate(e,i){return this.userService.isLoggedInObs.pipe((0,on.U)(o=>{var a,u;return!(!o||!(null===(u=null===(a=this.userService.userLoggato)||void 0===a?void 0:a.ruoli)||void 0===u?void 0:u.includes("Regnante")))||this.router.parseUrl("/unauthorized")}))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fh),s.LFG(ls))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const v_e=[{path:"test",component:Xz},{path:"help",component:Zde},{path:"credits",component:xce},{path:"develop",component:Vde},{path:"schedaPersonaggio",component:Zme},{path:"bacheca",component:ihe},{path:"macro",component:zfe},{path:"news",component:$me},{path:"admin",component:Yme,canActivate:[pE]},{path:"tickets",component:Wme,canActivate:[pE]},{path:"flussoDati",component:Jme,canActivate:[pE]},{path:"aggiungi-news",component:Xme,canActivate:[pE]},{path:"utenti",component:y_e,canActivate:[pE]},{path:"",component:$de}];let w_e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[MT.forRoot(v_e),MT]}),n})();function WK(n){return new s.vHH(3e3,!1)}function nye(){return typeof window<"u"&&typeof window.document<"u"}function e6(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Q0(n){switch(n.length){case 0:return new RD;case 1:return n[0];default:return new O7(n)}}function JK(n,t,e,i,r=new Map,o=new Map){const a=[],u=[];let h=-1,f=null;if(i.forEach(_=>{const C=_.get("offset"),F=C==h,B=F&&f||new Map;_.forEach((U,H)=>{let Z=H,q=U;if("offset"!==H)switch(Z=t.normalizePropertyName(Z,a),q){case"!":q=r.get(H);break;case yy:q=o.get(H);break;default:q=t.normalizeStyleValue(H,Z,q,a)}B.set(Z,q)}),F||u.push(B),f=B,h=C}),a.length)throw function j_e(n){return new s.vHH(3502,!1)}();return u}function t6(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&n6(e,"start",n)));break;case"done":n.onDone(()=>i(e&&n6(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&n6(e,"destroy",n)))}}function n6(n,t,e){const o=i6(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),a=n._data;return null!=a&&(o._data=a),o}function i6(n,t,e,i,r="",o=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function wA(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function XK(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let r6=(n,t)=>!1,eZ=(n,t,e)=>[],tZ=null;function s6(n){const t=n.parentNode||n.host;return t===tZ?null:t}(e6()||typeof Element<"u")&&(nye()?(tZ=(()=>document.documentElement)(),r6=(n,t)=>{for(;t;){if(t===n)return!0;t=s6(t)}return!1}):r6=(n,t)=>n.contains(t),eZ=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let nC=null,nZ=!1;const iZ=r6,rZ=eZ;let sZ=(()=>{class n{validateStyleProperty(e){return function rye(n){nC||(nC=function sye(){return typeof document<"u"?document.body:null}()||{},nZ=!!nC.style&&"WebkitAppearance"in nC.style);let t=!0;return nC.style&&!function iye(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in nC.style,!t&&nZ&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in nC.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return iZ(e,i)}getParentElement(e){return s6(e)}query(e,i,r){return rZ(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,a,u=[],h){return new RD(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),o6=(()=>{class n{}return n.NOOP=new sZ,n})();const a6="ng-enter",OR="ng-leave",LR="ng-trigger",NR=".ng-trigger",aZ="ng-animating",l6=".ng-animating";function My(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:c6(parseFloat(t[1]),t[2])}function c6(n,t){return"s"===t?1e3*n:n}function PR(n,t,e){return n.hasOwnProperty("duration")?n:function lye(n,t,e){let r,o=0,a="";if("string"==typeof n){const u=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return t.push(WK()),{duration:0,delay:0,easing:""};r=c6(parseFloat(u[1]),u[2]);const h=u[3];null!=h&&(o=c6(parseFloat(h),u[4]));const f=u[5];f&&(a=f)}else r=n;if(!e){let u=!1,h=t.length;r<0&&(t.push(function b_e(){return new s.vHH(3100,!1)}()),u=!0),o<0&&(t.push(function C_e(){return new s.vHH(3101,!1)}()),u=!0),u&&t.splice(h,0,WK())}return{duration:r,delay:o,easing:a}}(n,t,e)}function V2(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function lZ(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function H0(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function uZ(n,t,e){return e?t+":"+e+";":""}function dZ(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=uZ(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=uZ(0,hye(e),n.style[e]));n.setAttribute("style",t)}function Zm(n,t,e){n.style&&(t.forEach((i,r)=>{const o=d6(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),e6()&&dZ(n))}function iC(n,t){n.style&&(t.forEach((e,i)=>{const r=d6(i);n.style[r]=""}),e6()&&dZ(n))}function G2(n){return Array.isArray(n)?1==n.length?n[0]:k7(n):n}const u6=new RegExp("{{\\s*(.+?)\\s*}}","g");function hZ(n){let t=[];if("string"==typeof n){let e;for(;e=u6.exec(n);)t.push(e[1]);u6.lastIndex=0}return t}function j2(n,t,e){const i=n.toString(),r=i.replace(u6,(o,a)=>{let u=t[a];return null==u&&(e.push(function E_e(n){return new s.vHH(3003,!1)}()),u=""),u.toString()});return r==i?n:r}function UR(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const dye=/-+([a-z0-9])/g;function d6(n){return n.replace(dye,(...t)=>t[1].toUpperCase())}function hye(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function bA(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function S_e(n){return new s.vHH(3004,!1)}()}}function AZ(n,t){return window.getComputedStyle(n)[t]}function _ye(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function yye(n,t,e){if(":"==n[0]){const h=function vye(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Q_e(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof h)return void t.push(h);n=h}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function U_e(n){return new s.vHH(3015,!1)}()),t;const r=i[1],o=i[2],a=i[3];t.push(fZ(r,a));"<"==o[0]&&!("*"==r&&"*"==a)&&t.push(fZ(a,r))}(i,e,t)):e.push(n),e}const GR=new Set(["true","1"]),jR=new Set(["false","0"]);function fZ(n,t){const e=GR.has(n)||jR.has(n),i=GR.has(t)||jR.has(t);return(r,o)=>{let a="*"==n||n==r,u="*"==t||t==o;return!a&&e&&"boolean"==typeof r&&(a=r?GR.has(n):jR.has(n)),!u&&i&&"boolean"==typeof o&&(u=o?GR.has(t):jR.has(t)),a&&u}}const wye=new RegExp("s*:selfs*,?","g");function h6(n,t,e,i){return new bye(n).build(t,e,i)}class bye{constructor(t){this._driver=t}build(t,e,i){const r=new Eye(e);return this._resetContextStyleTimingState(r),bA(this,G2(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push(function D_e(){return new s.vHH(3006,!1)}()),t.definitions.forEach(u=>{if(this._resetContextStyleTimingState(e),0==u.type){const h=u,f=h.name;f.toString().split(/\s*,\s*/).forEach(_=>{h.name=_,o.push(this.visitState(h,e))}),h.name=f}else if(1==u.type){const h=this.visitTransition(u,e);i+=h.queryCount,r+=h.depCount,a.push(h)}else e.errors.push(function T_e(){return new s.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,a=r||{};i.styles.forEach(u=>{u instanceof Map&&u.forEach(h=>{hZ(h).forEach(f=>{a.hasOwnProperty(f)||o.add(f)})})}),o.size&&(UR(o.values()),e.errors.push(function B_e(n,t){return new s.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=bA(this,G2(t.animation),e);return{type:1,matchers:_ye(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:rC(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>bA(this,i,e)),options:rC(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(a=>{e.currentTime=i;const u=bA(this,a,e);return r=Math.max(r,e.currentTime),u});return e.currentTime=r,{type:3,steps:o,options:rC(t.options)}}visitAnimate(t,e){const i=function Iye(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return A6(PR(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=A6(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=PR(e,t);return A6(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:ui({});if(5==o.type)r=this.visitKeyframes(o,e);else{let a=t.styles,u=!1;if(!a){u=!0;const f={};i.easing&&(f.easing=i.easing),a=ui(f)}e.currentTime+=i.duration+i.delay;const h=this.visitStyle(a,e);h.isEmptyStep=u,r=h}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let u of r)"string"==typeof u?u===yy?i.push(u):e.errors.push(new s.vHH(3002,!1)):i.push(lZ(u));let o=!1,a=null;return i.forEach(u=>{if(u instanceof Map&&(u.has("easing")&&(a=u.get("easing"),u.delete("easing")),!o))for(let h of u.values())if(h.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:a,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,h)=>{const f=e.collectedStyles.get(e.currentQuerySelector),_=f.get(h);let C=!0;_&&(o!=r&&o>=_.startTime&&r<=_.endTime&&(e.errors.push(function M_e(n,t,e,i,r){return new s.vHH(3010,!1)}()),C=!1),o=_.startTime),C&&f.set(h,{startTime:o,endTime:r}),e.options&&function uye(n,t,e){const i=t.params||{},r=hZ(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function x_e(n){return new s.vHH(3001,!1)}())})}(u,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function k_e(){return new s.vHH(3011,!1)}()),i;let o=0;const a=[];let u=!1,h=!1,f=0;const _=t.steps.map(q=>{const W=this._makeStyleAst(q,e);let he=null!=W.offset?W.offset:function Sye(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(W.styles),xe=0;return null!=he&&(o++,xe=W.offset=he),h=h||xe<0||xe>1,u=u||xe<f,f=xe,a.push(xe),W});h&&e.errors.push(function R_e(){return new s.vHH(3012,!1)}()),u&&e.errors.push(function O_e(){return new s.vHH(3200,!1)}());const C=t.steps.length;let F=0;o>0&&o<C?e.errors.push(function L_e(){return new s.vHH(3202,!1)}()):0==o&&(F=1/(C-1));const B=C-1,U=e.currentTime,H=e.currentAnimateTimings,Z=H.duration;return _.forEach((q,W)=>{const he=F>0?W==B?1:F*W:a[W],xe=he*Z;e.currentTime=U+H.delay+xe,H.duration=xe,this._validateStyleAst(q,e),q.offset=he,i.styles.push(q)}),i}visitReference(t,e){return{type:8,animation:bA(this,G2(t.animation),e),options:rC(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:rC(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:rC(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,a]=function Cye(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(wye,"")),n=n.replace(/@\*/g,NR).replace(/@\w+/g,e=>NR+"-"+e.slice(1)).replace(/:animating/g,l6),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,wA(e.collectedStyles,e.currentQuerySelector,new Map);const u=bA(this,G2(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:u,originalSelector:t.selector,options:rC(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function N_e(){return new s.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:PR(t.timings,e.errors,!0);return{type:12,animation:bA(this,G2(t.animation),e),timings:i,options:null}}}class Eye{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function rC(n){return n?(n=V2(n)).params&&(n.params=function xye(n){return n?V2(n):null}(n.params)):n={},n}function A6(n,t,e){return{duration:n,delay:t,easing:e}}function f6(n,t,e,i,r,o,a=null,u=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:u}}class zR{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Bye=new RegExp(":enter","g"),Mye=new RegExp(":leave","g");function p6(n,t,e,i,r,o=new Map,a=new Map,u,h,f=[]){return(new kye).buildKeyframes(n,t,e,i,r,o,a,u,h,f)}class kye{buildKeyframes(t,e,i,r,o,a,u,h,f,_=[]){f=f||new zR;const C=new g6(t,e,f,r,o,_,[]);C.options=h;const F=h.delay?My(h.delay):0;C.currentTimeline.delayNextStep(F),C.currentTimeline.setStyles([a],null,C.errors,h),bA(this,i,C);const B=C.timelines.filter(U=>U.containsAnimation());if(B.length&&u.size){let U;for(let H=B.length-1;H>=0;H--){const Z=B[H];if(Z.element===e){U=Z;break}}U&&!U.allowOnlyTimelineStyles()&&U.setStyles([u],null,C.errors,h)}return B.length?B.map(U=>U.buildKeyframes()):[f6(e,[],[],[],0,F,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);o!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const a="number"==typeof o?o:My(j2(o,r?.params??{},e.errors));i.delayNextStep(a)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const a=null!=i.duration?My(i.duration):null,u=null!=i.delay?My(i.delay):null;return 0!==a&&t.forEach(h=>{const f=e.appendInstructionToTimeline(h,a,u);o=Math.max(o,f.duration+f.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),bA(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=qR);const a=My(o.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>bA(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?My(t.options.delay):0;t.steps.forEach(a=>{const u=e.createSubContext(t.options);o&&u.delayNextStep(o),bA(this,a,u),r=Math.max(r,u.currentTimeline.currentTime),i.push(u.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return PR(e.params?j2(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,u=e.createSubContext().currentTimeline;u.easing=i.easing,t.styles.forEach(h=>{u.forwardTime((h.offset||0)*o),u.setStyles(h.styles,h.easing,e.errors,e.options),u.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(u),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?My(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=qR);let a=i;const u=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=u.length;let h=null;u.forEach((f,_)=>{e.currentQueryIndex=_;const C=e.createSubContext(t.options,f);o&&C.delayNextStep(o),f===e.element&&(h=C.currentTimeline),bA(this,t.animation,C),C.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,C.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),h&&(e.currentTimeline.mergeTimelineCollectedStyles(h),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,a=Math.abs(o.duration),u=a*(e.currentQueryTotal-1);let h=a*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":h=u-h;break;case"full":h=i.currentStaggerTime}const _=e.currentTimeline;h&&_.delayNextStep(h);const C=_.currentTime;bA(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-C+(r.startTime-i.currentTimeline.startTime)}}const qR={};class g6{constructor(t,e,i,r,o,a,u,h){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=qR,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=h||new KR(this._driver,e,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=My(i.duration)),null!=i.delay&&(r.delay=My(i.delay));const o=i.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(u=>{(!e||!a.hasOwnProperty(u))&&(a[u]=j2(o[u],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new g6(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=qR,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new Rye(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,a){let u=[];if(r&&u.push(this.element),t.length>0){t=(t=t.replace(Bye,"."+this._enterClassName)).replace(Mye,"."+this._leaveClassName);let f=this._driver.query(this.element,t,1!=i);0!==i&&(f=i<0?f.slice(f.length+i,f.length):f.slice(0,i)),u.push(...f)}return!o&&0==u.length&&a.push(function P_e(n){return new s.vHH(3014,!1)}()),u}}class KR{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new KR(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||yy),this._currentKeyframe.set(e,yy);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},a=function Oye(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,yy)}else H0(r,e)}),e}(t,this._globalTimelineStyles);for(let[u,h]of a){const f=j2(h,o,i);this._pendingStyles.set(u,f),this._localTimelineStyles.has(u)||this._backFill.set(u,this._globalTimelineStyles.get(u)??yy),this._updateStyle(u,f)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((u,h)=>{const f=H0(u,new Map,this._backFill);f.forEach((_,C)=>{"!"===_?t.add(C):_===yy&&e.add(C)}),i||f.set("offset",h/this.duration),r.push(f)});const o=t.size?UR(t.values()):[],a=e.size?UR(e.values()):[];if(i){const u=r[0],h=new Map(u);u.set("offset",0),h.set("offset",1),r=[u,h]}return f6(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}}class Rye extends KR{constructor(t,e,i,r,o,a,u=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=u,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],a=i+e,u=e/a,h=H0(t[0]);h.set("offset",0),o.push(h);const f=H0(t[0]);f.set("offset",mZ(u)),o.push(f);const _=t.length-1;for(let C=1;C<=_;C++){let F=H0(t[C]);const B=F.get("offset");F.set("offset",mZ((e+B*i)/a)),o.push(F)}i=a,e=0,r="",t=o}return f6(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function mZ(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class m6{}const Lye=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Nye extends m6{normalizePropertyName(t,e){return d6(t)}normalizeStyleValue(t,e,i,r){let o="";const a=i.toString().trim();if(Lye.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const u=i.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&r.push(function I_e(n,t){return new s.vHH(3005,!1)}())}return a+o}}function _Z(n,t,e,i,r,o,a,u,h,f,_,C,F){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:a,timelines:u,queriedElements:h,preStyleProps:f,postStyleProps:_,totalTime:C,errors:F}}const _6={};class yZ{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function Pye(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,a,u,h,f,_){const C=[],F=this.ast.options&&this.ast.options.params||_6,U=this.buildStyles(i,u&&u.params||_6,C),H=h&&h.params||_6,Z=this.buildStyles(r,H,C),q=new Set,W=new Map,he=new Map,xe="void"===r,Ze={params:Uye(H,F),delay:this.ast.options?.delay},ct=_?[]:p6(t,e,this.ast.animation,o,a,U,Z,Ze,f,C);let Ve=0;if(ct.forEach(Ft=>{Ve=Math.max(Ft.duration+Ft.delay,Ve)}),C.length)return _Z(e,this._triggerName,i,r,xe,U,Z,[],[],W,he,Ve,C);ct.forEach(Ft=>{const Bt=Ft.element,Ae=wA(W,Bt,new Set);Ft.preStyleProps.forEach(Te=>Ae.add(Te));const de=wA(he,Bt,new Set);Ft.postStyleProps.forEach(Te=>de.add(Te)),Bt!==e&&q.add(Bt)});const we=UR(q.values());return _Z(e,this._triggerName,i,r,xe,U,Z,ct,we,W,he,Ve)}}function Uye(n,t){const e=V2(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class Qye{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=V2(this.defaultParams);return Object.keys(t).forEach(o=>{const a=t[o];null!==a&&(r[o]=a)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{a&&(a=j2(a,r,e));const h=this.normalizer.normalizePropertyName(u,e);a=this.normalizer.normalizeStyleValue(u,h,a,e),i.set(h,a)})}),i}}class Vye{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Qye(r.style,r.options&&r.options.params||{},i))}),vZ(this.states,"true","1"),vZ(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new yZ(t,r,this.states))}),this.fallbackTransition=function Gye(n,t,e){return new yZ(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,u)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function vZ(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const jye=new zR;class zye{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=h6(this._driver,e,i,[]);if(i.length)throw function z_e(n){return new s.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=JK(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let a;const u=new Map;if(o?(a=p6(this._driver,e,o,a6,OR,new Map,new Map,i,jye,r),a.forEach(_=>{const C=wA(u,_.element,new Map);_.postStyleProps.forEach(F=>C.set(F,null))})):(r.push(function q_e(){return new s.vHH(3300,!1)}()),a=[]),r.length)throw function K_e(n){return new s.vHH(3504,!1)}();u.forEach((_,C)=>{_.forEach((F,B)=>{_.set(B,this._driver.computeStyle(C,B,yy))})});const f=Q0(a.map(_=>{const C=u.get(_.element);return this._buildPlayer(_,new Map,C)}));return this._playersById.set(t,f),f.onDestroy(()=>this.destroy(t)),this.players.push(f),f}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function Z_e(n){return new s.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=i6(e,"","","");return t6(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const wZ="ng-animate-queued",y6="ng-animate-disabled",Yye=[],bZ={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Wye={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ff="__ng_removed";class v6{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function tve(n){return n??null}(i?t.value:t),i){const o=V2(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const z2="void",w6=new v6(z2);class Jye{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Mf(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function $_e(n,t){return new s.vHH(3302,!1)}();if(null==i||0==i.length)throw function Y_e(n){return new s.vHH(3303,!1)}();if(!function nve(n){return"start"==n||"done"==n}(i))throw function W_e(n,t){return new s.vHH(3400,!1)}();const o=wA(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};o.push(a);const u=wA(this._engine.statesByElement,t,new Map);return u.has(e)||(Mf(t,LR),Mf(t,LR+"-"+e),u.set(e,w6)),()=>{this._engine.afterFlush(()=>{const h=o.indexOf(a);h>=0&&o.splice(h,1),this._triggers.has(e)||u.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function J_e(n){return new s.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),a=new b6(this.id,e,t);let u=this._engine.statesByElement.get(t);u||(Mf(t,LR),Mf(t,LR+"-"+e),this._engine.statesByElement.set(t,u=new Map));let h=u.get(e);const f=new v6(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&h&&f.absorbOptions(h.options),u.set(e,f),h||(h=w6),f.value!==z2&&h.value===f.value){if(!function sve(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(h.params,f.params)){const H=[],Z=o.matchStyles(h.value,h.params,H),q=o.matchStyles(f.value,f.params,H);H.length?this._engine.reportError(H):this._engine.afterFlush(()=>{iC(t,Z),Zm(t,q)})}return}const F=wA(this._engine.playersByElement,t,[]);F.forEach(H=>{H.namespaceId==this.id&&H.triggerName==e&&H.queued&&H.destroy()});let B=o.matchTransition(h.value,f.value,t,f.params),U=!1;if(!B){if(!r)return;B=o.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:B,fromState:h,toState:f,player:a,isFallbackTransition:U}),U||(Mf(t,wZ),a.onStart(()=>{gE(t,wZ)})),a.onDone(()=>{let H=this.players.indexOf(a);H>=0&&this.players.splice(H,1);const Z=this._engine.playersByElement.get(t);if(Z){let q=Z.indexOf(a);q>=0&&Z.splice(q,1)}}),this.players.push(a),F.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,NR,!0);i.forEach(r=>{if(r[Ff])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),a=new Map;if(o){const u=[];if(o.forEach((h,f)=>{if(a.set(f,h.value),this._triggers.has(f)){const _=this.trigger(t,f,z2,r);_&&u.push(_)}}),u.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&Q0(u).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const a=o.name;if(r.has(a))return;r.add(a);const h=this._triggers.get(a).fallbackTransition,f=i.get(a)||w6,_=new v6(z2),C=new b6(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:h,fromState:f,toState:_,player:C,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Ff];(!o||o===bZ)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Mf(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,a=this._elementListeners.get(o);a&&a.forEach(u=>{if(u.name==i.triggerName){const h=i6(o,i.triggerName,i.fromState.value,i.toState.value);h._data=t,t6(i.player,u.phase,h,u.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==o||0==a?o-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Xye{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Jye(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,u=this.driver.getParentElement(e);for(;u;){const h=r.get(u);if(h){const f=i.indexOf(h);i.splice(f+1,0,t),a=!0;break}u=this.driver.getParentElement(u)}a||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(ZR(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!ZR(e))return;const o=e[Ff];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Mf(t,y6)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),gE(t,y6))}removeNode(t,e,i,r){if(ZR(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Ff]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return ZR(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,NR,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,l6,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Q0(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ff];if(e&&e.setForRemoval){if(t[Ff]=bZ,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(y6)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Mf(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Q0(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function X_e(n){return new s.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new zR,r=[],o=new Map,a=[],u=new Map,h=new Map,f=new Map,_=new Set;this.disabledNodes.forEach(Re=>{_.add(Re);const Ye=this.driver.query(Re,".ng-animate-queued",!0);for(let Ne=0;Ne<Ye.length;Ne++)_.add(Ye[Ne])});const C=this.bodyNode,F=Array.from(this.statesByElement.keys()),B=EZ(F,this.collectedEnterElements),U=new Map;let H=0;B.forEach((Re,Ye)=>{const Ne=a6+H++;U.set(Ye,Ne),Re.forEach(ht=>Mf(ht,Ne))});const Z=[],q=new Set,W=new Set;for(let Re=0;Re<this.collectedLeaveElements.length;Re++){const Ye=this.collectedLeaveElements[Re],Ne=Ye[Ff];Ne&&Ne.setForRemoval&&(Z.push(Ye),q.add(Ye),Ne.hasAnimation?this.driver.query(Ye,".ng-star-inserted",!0).forEach(ht=>q.add(ht)):W.add(Ye))}const he=new Map,xe=EZ(F,Array.from(q));xe.forEach((Re,Ye)=>{const Ne=OR+H++;he.set(Ye,Ne),Re.forEach(ht=>Mf(ht,Ne))}),t.push(()=>{B.forEach((Re,Ye)=>{const Ne=U.get(Ye);Re.forEach(ht=>gE(ht,Ne))}),xe.forEach((Re,Ye)=>{const Ne=he.get(Ye);Re.forEach(ht=>gE(ht,Ne))}),Z.forEach(Re=>{this.processLeaveNode(Re)})});const Ze=[],ct=[];for(let Re=this._namespaceList.length-1;Re>=0;Re--)this._namespaceList[Re].drainQueuedTransitions(e).forEach(Ne=>{const ht=Ne.player,_t=Ne.element;if(Ze.push(ht),this.collectedEnterElements.length){const nt=_t[Ff];if(nt&&nt.setForMove){if(nt.previousTriggersValues&&nt.previousTriggersValues.has(Ne.triggerName)){const ft=nt.previousTriggersValues.get(Ne.triggerName),At=this.statesByElement.get(Ne.element);if(At&&At.has(Ne.triggerName)){const pn=At.get(Ne.triggerName);pn.value=ft,At.set(Ne.triggerName,pn)}}return void ht.destroy()}}const _n=!C||!this.driver.containsElement(C,_t),X=he.get(_t),me=U.get(_t),_e=this._buildInstruction(Ne,i,me,X,_n);if(_e.errors&&_e.errors.length)return void ct.push(_e);if(_n)return ht.onStart(()=>iC(_t,_e.fromStyles)),ht.onDestroy(()=>Zm(_t,_e.toStyles)),void r.push(ht);if(Ne.isFallbackTransition)return ht.onStart(()=>iC(_t,_e.fromStyles)),ht.onDestroy(()=>Zm(_t,_e.toStyles)),void r.push(ht);const Pe=[];_e.timelines.forEach(nt=>{nt.stretchStartingKeyframe=!0,this.disabledNodes.has(nt.element)||Pe.push(nt)}),_e.timelines=Pe,i.append(_t,_e.timelines),a.push({instruction:_e,player:ht,element:_t}),_e.queriedElements.forEach(nt=>wA(u,nt,[]).push(ht)),_e.preStyleProps.forEach((nt,ft)=>{if(nt.size){let At=h.get(ft);At||h.set(ft,At=new Set),nt.forEach((pn,un)=>At.add(un))}}),_e.postStyleProps.forEach((nt,ft)=>{let At=f.get(ft);At||f.set(ft,At=new Set),nt.forEach((pn,un)=>At.add(un))})});if(ct.length){const Re=[];ct.forEach(Ye=>{Re.push(function eye(n,t){return new s.vHH(3505,!1)}())}),Ze.forEach(Ye=>Ye.destroy()),this.reportError(Re)}const Ve=new Map,we=new Map;a.forEach(Re=>{const Ye=Re.element;i.has(Ye)&&(we.set(Ye,Ye),this._beforeAnimationBuild(Re.player.namespaceId,Re.instruction,Ve))}),r.forEach(Re=>{const Ye=Re.element;this._getPreviousPlayers(Ye,!1,Re.namespaceId,Re.triggerName,null).forEach(ht=>{wA(Ve,Ye,[]).push(ht),ht.destroy()})});const Ft=Z.filter(Re=>IZ(Re,h,f)),Bt=new Map;xZ(Bt,this.driver,W,f,yy).forEach(Re=>{IZ(Re,h,f)&&Ft.push(Re)});const de=new Map;B.forEach((Re,Ye)=>{xZ(de,this.driver,new Set(Re),h,"!")}),Ft.forEach(Re=>{const Ye=Bt.get(Re),Ne=de.get(Re);Bt.set(Re,new Map([...Array.from(Ye?.entries()??[]),...Array.from(Ne?.entries()??[])]))});const Te=[],Se=[],xt={};a.forEach(Re=>{const{element:Ye,player:Ne,instruction:ht}=Re;if(i.has(Ye)){if(_.has(Ye))return Ne.onDestroy(()=>Zm(Ye,ht.toStyles)),Ne.disabled=!0,Ne.overrideTotalTime(ht.totalTime),void r.push(Ne);let _t=xt;if(we.size>1){let X=Ye;const me=[];for(;X=X.parentNode;){const _e=we.get(X);if(_e){_t=_e;break}me.push(X)}me.forEach(_e=>we.set(_e,_t))}const _n=this._buildAnimation(Ne.namespaceId,ht,Ve,o,de,Bt);if(Ne.setRealPlayer(_n),_t===xt)Te.push(Ne);else{const X=this.playersByElement.get(_t);X&&X.length&&(Ne.parentPlayer=Q0(X)),r.push(Ne)}}else iC(Ye,ht.fromStyles),Ne.onDestroy(()=>Zm(Ye,ht.toStyles)),Se.push(Ne),_.has(Ye)&&r.push(Ne)}),Se.forEach(Re=>{const Ye=o.get(Re.element);if(Ye&&Ye.length){const Ne=Q0(Ye);Re.setRealPlayer(Ne)}}),r.forEach(Re=>{Re.parentPlayer?Re.syncPlayerEvents(Re.parentPlayer):Re.destroy()});for(let Re=0;Re<Z.length;Re++){const Ye=Z[Re],Ne=Ye[Ff];if(gE(Ye,OR),Ne&&Ne.hasAnimation)continue;let ht=[];if(u.size){let _n=u.get(Ye);_n&&_n.length&&ht.push(..._n);let X=this.driver.query(Ye,l6,!0);for(let me=0;me<X.length;me++){let _e=u.get(X[me]);_e&&_e.length&&ht.push(..._e)}}const _t=ht.filter(_n=>!_n.destroyed);_t.length?ive(this,Ye,_t):this.processLeaveNode(Ye)}return Z.length=0,Te.forEach(Re=>{this.players.push(Re),Re.onDone(()=>{Re.destroy();const Ye=this.players.indexOf(Re);this.players.splice(Ye,1)}),Re.play()}),Te}elementContainsData(t,e){let i=!1;const r=e[Ff];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let a=[];if(e){const u=this.playersByQueriedElement.get(t);u&&(a=u)}else{const u=this.playersByElement.get(t);if(u){const h=!o||o==z2;u.forEach(f=>{f.queued||!h&&f.triggerName!=r||a.push(f)})}}return(i||r)&&(a=a.filter(u=>!(i&&i!=u.namespaceId||r&&r!=u.triggerName))),a}_beforeAnimationBuild(t,e,i){const o=e.element,a=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName;for(const h of e.timelines){const f=h.element,_=f!==o,C=wA(i,f,[]);this._getPreviousPlayers(f,_,a,u,e.toState).forEach(B=>{const U=B.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),B.destroy(),C.push(B)})}iC(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,a){const u=e.triggerName,h=e.element,f=[],_=new Set,C=new Set,F=e.timelines.map(U=>{const H=U.element;_.add(H);const Z=H[Ff];if(Z&&Z.removedBeforeQueried)return new RD(U.duration,U.delay);const q=H!==h,W=function rve(n){const t=[];return SZ(n,t),t}((i.get(H)||Yye).map(Ve=>Ve.getRealPlayer())).filter(Ve=>!!Ve.element&&Ve.element===H),he=o.get(H),xe=a.get(H),Ze=JK(0,this._normalizer,0,U.keyframes,he,xe),ct=this._buildPlayer(U,Ze,W);if(U.subTimeline&&r&&C.add(H),q){const Ve=new b6(t,u,H);Ve.setRealPlayer(ct),f.push(Ve)}return ct});f.forEach(U=>{wA(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function eve(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,U.element,U))}),_.forEach(U=>Mf(U,aZ));const B=Q0(F);return B.onDestroy(()=>{_.forEach(U=>gE(U,aZ)),Zm(h,e.toStyles)}),C.forEach(U=>{wA(r,U,[]).push(B)}),B}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new RD(t.duration,t.delay)}}class b6{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new RD,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>t6(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){wA(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function ZR(n){return n&&1===n.nodeType}function CZ(n,t){const e=n.style.display;return n.style.display=t??"none",e}function xZ(n,t,e,i,r){const o=[];e.forEach(h=>o.push(CZ(h)));const a=[];i.forEach((h,f)=>{const _=new Map;h.forEach(C=>{const F=t.computeStyle(f,C,r);_.set(C,F),(!F||0==F.length)&&(f[Ff]=Wye,a.push(f))}),n.set(f,_)});let u=0;return e.forEach(h=>CZ(h,o[u++])),a}function EZ(n,t){const e=new Map;if(n.forEach(u=>e.set(u,[])),0==t.length)return e;const r=new Set(t),o=new Map;function a(u){if(!u)return 1;let h=o.get(u);if(h)return h;const f=u.parentNode;return h=e.has(f)?f:r.has(f)?1:a(f),o.set(u,h),h}return t.forEach(u=>{const h=a(u);1!==h&&e.get(h).push(u)}),e}function Mf(n,t){n.classList?.add(t)}function gE(n,t){n.classList?.remove(t)}function ive(n,t,e){Q0(e).onDone(()=>n.processLeaveNode(t))}function SZ(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof O7?SZ(i.players,t):t.push(i)}}function IZ(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class $R{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Xye(t,e,i),this._timelineEngine=new zye(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const a=t+"-"+r;let u=this._triggerCache[a];if(!u){const h=[],_=h6(this._driver,o,h,[]);if(h.length)throw function G_e(n,t){return new s.vHH(3404,!1)}();u=function Hye(n,t,e){return new Vye(n,t,e)}(r,_,this._normalizer),this._triggerCache[a]=u}this._transitionEngine.registerTrigger(e,r,u)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,a]=XK(i);this._timelineEngine.command(o,e,a,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[a,u]=XK(i);return this._timelineEngine.listen(a,e,u,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ave=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Zm(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zm(this._element,this._initialStyles),this._endStyles&&(Zm(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(iC(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(iC(this._element,this._endStyles),this._endStyles=null),Zm(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function C6(n){let t=null;return n.forEach((e,i)=>{(function lve(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class DZ{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:AZ(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class cve{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return iZ(t,e)}getParentElement(t){return s6(t)}query(t,e,i){return rZ(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,a=[]){const h={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(h.easing=o);const f=new Map,_=a.filter(B=>B instanceof DZ);(function Aye(n,t){return 0===n||0===t})(i,r)&&_.forEach(B=>{B.currentSnapshot.forEach((U,H)=>f.set(H,U))});let C=function cye(n){return n.length?n[0]instanceof Map?n:n.map(t=>lZ(t)):[]}(e).map(B=>H0(B));C=function fye(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,a)=>{i.has(a)||r.push(a),i.set(a,o)}),r.length)for(let o=1;o<t.length;o++){let a=t[o];r.forEach(u=>a.set(u,AZ(n,u)))}}return t}(t,C,f);const F=function ove(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=C6(t[0]),t.length>1&&(i=C6(t[t.length-1]))):t instanceof Map&&(e=C6(t)),e||i?new ave(n,e,i):null}(t,C);return new DZ(t,C,h,F)}}let uve=(()=>{class n extends F7{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?k7(e):e;return TZ(this._renderer,null,i,"register",[r]),new dve(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(Ke))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class dve extends Qte{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new hve(this._id,t,e||{},this._renderer)}}class hve{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return TZ(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function TZ(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const BZ="@.disabled";let Ave=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,a)=>{const u=a?.parentNode(o);u&&a.removeChild(u,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let _=this._rendererCache.get(o);return _||(_=new FZ("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,_)),_}const a=i.id,u=i.id+"-"+this._currentId;this._currentId++,this.engine.register(u,e);const h=_=>{Array.isArray(_)?_.forEach(h):this.engine.registerTrigger(a,u,e,_.name,_)};return i.data.animation.forEach(h),new fve(this,u,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[a,u]=o;a(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG($R),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class FZ{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==BZ?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class fve extends FZ{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==BZ?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function pve(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),a="";return"@"!=o.charAt(0)&&([o,a]=function gve(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,a,u=>{this.factory.scheduleListenerCallback(u._data||-1,i,u)})}return this.delegate.listen(t,e,i)}}let mve=(()=>{class n extends $R{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ke),s.LFG(o6),s.LFG(m6),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const MZ=[{provide:F7,useClass:uve},{provide:m6,useFactory:function _ve(){return new Nye}},{provide:$R,useClass:mve},{provide:s.FYo,useFactory:function yve(n,t,e){return new Ave(n,t,e)},deps:[xu,$R,s.R0b]}],x6=[{provide:o6,useFactory:()=>new cve},{provide:s.QbO,useValue:"BrowserAnimations"},...MZ],kZ=[{provide:o6,useClass:sZ},{provide:s.QbO,useValue:"NoopAnimations"},...MZ];let RZ=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?kZ:x6}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:x6,imports:[ec]}),n})(),OZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),Mve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[OZ,MD,hr,DM,OZ,hr]}),n})(),GZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[P4]}),n})(),ewe=(()=>{class n{constructor(e,i){Ta(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:Xp,useValue:{...U4,...e}},{provide:Q4,useValue:i,multi:!0},{provide:Gx,useValue:!0}]:[{provide:Xp,useValue:{...U4,...e}},{provide:Q4,useValue:i,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Gx),s.LFG(s.Lbi))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Kz,Rq,GZ,Kz,Rq,GZ]}),n})();const jZ_firebaseConfig={apiKey:"AIzaSyBNWbqdAaq44dWHELm2m1jU0xY6graA9uo",authDomain:"rotiniel-35c5b.firebaseapp.com",projectId:"rotiniel-35c5b",storageBucket:"rotiniel-35c5b.appspot.com",messagingSenderId:"546264380520",appId:"1:546264380520:web:b09f4bc5e62c611818f7dd",measurementId:"G-VXQ0LYQVDB"};let twe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ib]}),n})(),E6=(()=>{class n{constructor(){this.changes=new tn.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hwe={provide:E6,deps:[[new s.FiY,new s.tp0,E6]],useFactory:function dwe(n){return n||new E6}};let Awe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[hwe,LM],imports:[hr,ea,Db,NM,twe,wz,MD,hr]}),n})();const{isArray:fwe}=Array;function ZZ(n,t){return t?e=>ll(t.pipe((0,Jr.q)(1),function _we(){return(0,Wr.e)((n,t)=>{n.subscribe(new Nr.Q(t,sU.Z))})}()),e.pipe(ZZ(n))):(0,wo.z)((e,i)=>n(e,i).pipe((0,Jr.q)(1),pd(e)))}function S6(n,t=Mp.z){const e=L8(n,t);return ZZ(()=>e)}const ywe=(0,Gh.d)(n=>function(e=null){n(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e});function wwe(n){throw new ywe(n)}class $Z{validateSignature(t){return Promise.resolve(null)}validateAtHash(t){return Promise.resolve(!0)}}class YZ{}class I6{}let bwe=(()=>{class n extends I6{now(){return Date.now()}new(){return new Date}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class WZ{}class D6{}let Cwe=(()=>{class n{constructor(){this.data=new Map}getItem(e){return this.data.get(e)}removeItem(e){this.data.delete(e)}setItem(e,i){this.data.set(e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class T6{constructor(t){this.type=t}}class CA extends T6{constructor(t,e=null){super(t),this.info=e}}class ky extends T6{constructor(t,e=null){super(t),this.info=e}}class vl extends T6{constructor(t,e,i=null){super(t),this.reason=e,this.params=i}}function JZ(n){const t=n.replace(/\-/g,"+").replace(/\_/g,"/");return decodeURIComponent(atob(t).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function B6(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}class WR{constructor(t){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=2e4,this.silentRefreshTimeout=2e4,this.dummyClientSecret="",this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.decreaseExpirationBySec=0,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.disableIdTokenTimer=!1,this.checkOrigin=!1,this.openUri=e=>{location.href=e},t&&Object.assign(this,t)}}class q2{encodeKey(t){return encodeURIComponent(t)}encodeValue(t){return encodeURIComponent(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}class XZ{}let e$=(()=>{class n{getHashFragmentParams(e){let i=e||window.location.hash;if(i=decodeURIComponent(i),0!==i.indexOf("#"))return{};const r=i.indexOf("?");return i=i.substr(r>-1?r+1:1),this.parseQueryString(i)}parseQueryString(e){const i={};let r,o,a,u,h,f,_;if(null===e)return i;r=e.split("&");for(let C=0;C<r.length;C++)o=r[C],a=o.indexOf("="),-1===a?(u=o,h=null):(u=o.substr(0,a),h=o.substr(a+1)),f=decodeURIComponent(u),_=decodeURIComponent(h),"/"===f.substr(0,1)&&(f=f.substr(1)),i[f]=_;return i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Ewe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function F6(n,t,e,i,r){let o,a,u,h,f,_,C,F,B,U,H,Z,q;for(;r>=64;){for(o=t[0],a=t[1],u=t[2],h=t[3],f=t[4],_=t[5],C=t[6],F=t[7],U=0;U<16;U++)H=i+4*U,n[U]=(255&e[H])<<24|(255&e[H+1])<<16|(255&e[H+2])<<8|255&e[H+3];for(U=16;U<64;U++)B=n[U-2],Z=(B>>>17|B<<15)^(B>>>19|B<<13)^B>>>10,B=n[U-15],q=(B>>>7|B<<25)^(B>>>18|B<<14)^B>>>3,n[U]=(Z+n[U-7]|0)+(q+n[U-16]|0);for(U=0;U<64;U++)Z=(((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&_^~f&C)|0)+(F+(Ewe[U]+n[U]|0)|0)|0,q=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&a^o&u^a&u)|0,F=C,C=_,_=f,f=h+Z|0,h=u,u=a,a=o,o=Z+q|0;t[0]+=o,t[1]+=a,t[2]+=u,t[3]+=h,t[4]+=f,t[5]+=_,t[6]+=C,t[7]+=F,i+=64,r-=64}return i}class JR{constructor(){this.digestLength=32,this.blockSize=64,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let t=0;t<this.buffer.length;t++)this.buffer[t]=0;for(let t=0;t<this.temp.length;t++)this.temp[t]=0;this.reset()}update(t,e=t.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let i=0;if(this.bytesHashed+=e,this.bufferLength>0){for(;this.bufferLength<64&&e>0;)this.buffer[this.bufferLength++]=t[i++],e--;64===this.bufferLength&&(F6(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(e>=64&&(i=F6(this.temp,this.state,t,i,e),e%=64);e>0;)this.buffer[this.bufferLength++]=t[i++],e--;return this}finish(t){if(!this.finished){const e=this.bytesHashed,i=this.bufferLength,r=e/536870912|0,o=e<<3,a=e%64<56?64:128;this.buffer[i]=128;for(let u=i+1;u<a-8;u++)this.buffer[u]=0;this.buffer[a-8]=r>>>24&255,this.buffer[a-7]=r>>>16&255,this.buffer[a-6]=r>>>8&255,this.buffer[a-5]=r>>>0&255,this.buffer[a-4]=o>>>24&255,this.buffer[a-3]=o>>>16&255,this.buffer[a-2]=o>>>8&255,this.buffer[a-1]=o>>>0&255,F6(this.temp,this.state,this.buffer,0,a),this.finished=!0}for(let e=0;e<8;e++)t[4*e+0]=this.state[e]>>>24&255,t[4*e+1]=this.state[e]>>>16&255,t[4*e+2]=this.state[e]>>>8&255,t[4*e+3]=this.state[e]>>>0&255;return this}digest(){const t=new Uint8Array(this.digestLength);return this.finish(t),t}_saveState(t){for(let e=0;e<this.state.length;e++)t[e]=this.state[e]}_restoreState(t,e){for(let i=0;i<this.state.length;i++)this.state[i]=t[i];this.bytesHashed=e,this.finished=!1,this.bufferLength=0}}new Uint8Array(32);class n${}let Mwe=(()=>{class n{calcHash(e,i){return(0,bt.Z)(function*(){return function Fwe(n){var t,e=[];for(t=0;t<n.length;t++)e.push(String.fromCharCode(n[t]));return e.join("")}(function Swe(n){const t=(new JR).update(n),e=t.digest();return t.clean(),e}(function Bwe(n){if("string"!=typeof n)throw new TypeError("expected string");var t,e=n,i=new Uint8Array(e.length);for(t=0;t<e.length;t++)i[t]=e.charCodeAt(t);return i}(e)))})()}toHashString2(e){let i="";for(let r of e)i+=String.fromCharCode(r);return i}toHashString(e){const i=new Uint8Array(e);let r="";for(let o of i)r+=String.fromCharCode(o);return r}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),i$=(()=>{class n extends WR{constructor(e,i,r,o,a,u,h,f,_,C){super(),this.ngZone=e,this.http=i,this.config=a,this.urlHelper=u,this.logger=h,this.crypto=f,this.dateTimeService=C,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new tn.x,this.discoveryDocumentLoadedSubject=new tn.x,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=_,a||(a={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),o&&(this.tokenValidationHandler=o),a&&this.configure(a);try{r?this.setStorage(r):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch(F){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",F)}if(this.checkLocalStorageAccessable()){const F=window?.navigator?.userAgent;(F?.includes("MSIE ")||F?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;const e="test";try{return!(typeof window.localStorage>"u"||(localStorage.setItem(e,e),localStorage.removeItem(e),0))}catch{return!1}}configure(e){Object.assign(this,new WR,e),this.config=Object.assign({},new WR,e),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe(_i(e=>"token_received"===e.type)).subscribe(e=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(e={},i,r=!0){let o=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe((0,Cr.b)(a=>{"token_received"===a.type?o=!0:"logout"===a.type&&(o=!1)}),_i(a=>"token_expires"===a.type&&(null==i||"any"===i||a.info===i)),TD(1e3)).subscribe(a=>{o&&this.refreshInternal(e,r).catch(u=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(e,i){return this.useSilentRefresh||"code"!==this.responseType?this.silentRefresh(e,i):this.refreshToken()}loadDiscoveryDocumentAndTryLogin(e=null){return this.loadDiscoveryDocument().then(i=>this.tryLogin(e))}loadDiscoveryDocumentAndLogin(e=null){return this.loadDiscoveryDocumentAndTryLogin(e=e||{}).then(i=>!(!this.hasValidIdToken()||!this.hasValidAccessToken())||(this.initLoginFlow("string"==typeof e.state?e.state:""),!1))}debug(...e){this.showDebugInformation&&this.logger.debug.apply(this.logger,e)}validateUrlFromDiscoveryDocument(e){const i=[],r=this.validateUrlForHttps(e),o=this.validateUrlAgainstIssuer(e);return r||i.push("https for all urls required. Also for urls received by discovery."),o||i.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),i}validateUrlForHttps(e){if(!e)return!0;const i=e.toLowerCase();return!(!1!==this.requireHttps&&(!i.match(/^http:\/\/localhost($|[:\/])/)&&!i.match(/^http:\/\/localhost($|[:\/])/)||"remoteOnly"!==this.requireHttps))||i.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(e,i){if(!e)throw new Error(`'${i}' should not be null`);if(!this.validateUrlForHttps(e))throw new Error(`'${i}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(e){return!this.strictDiscoveryDocumentValidation||!e||e.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){typeof window>"u"?this.debug("timer not supported on this plattform"):((this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe(_i(e=>"token_received"===e.type)).subscribe(e=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()}))}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),!this.disableIdTokenTimer&&this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){const e=this.getAccessTokenExpiration(),i=this.getAccessTokenStoredAt(),r=this.calcTimeout(i,e);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=An(new ky("token_expires","access_token")).pipe(S6(r)).subscribe(o=>{this.ngZone.run(()=>{this.eventsSubject.next(o)})})})}setupIdTokenTimer(){const e=this.getIdTokenExpiration(),i=this.getIdTokenStoredAt(),r=this.calcTimeout(i,e);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=An(new ky("token_expires","id_token")).pipe(S6(r)).subscribe(o=>{this.ngZone.run(()=>{this.eventsSubject.next(o)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(e,i){const r=this.dateTimeService.now(),a=Math.max(0,(i-e)*this.timeoutFactor-(r-e)),u=2147483647;return a>u?u:a}setStorage(e){this._storage=e,this.configChanged()}loadDiscoveryDocument(e=null){return new Promise((i,r)=>{e||((e=this.issuer||"").endsWith("/")||(e+="/"),e+=".well-known/openid-configuration"),this.validateUrlForHttps(e)?this.http.get(e).subscribe(o=>{if(!this.validateDiscoveryDocument(o))return this.eventsSubject.next(new vl("discovery_document_validation_error",null)),void r("discovery_document_validation_error");this.loginUrl=o.authorization_endpoint,this.logoutUrl=o.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=o.grant_types_supported,this.issuer=o.issuer,this.tokenEndpoint=o.token_endpoint,this.userinfoEndpoint=o.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=o.jwks_uri,this.sessionCheckIFrameUrl=o.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(o),this.revocationEndpoint=o.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(a=>{const h=new CA("discovery_document_loaded",{discoveryDocument:o,jwks:a});this.eventsSubject.next(h),i(h)}).catch(a=>{this.eventsSubject.next(new vl("discovery_document_load_error",a)),r(a)})},o=>{this.logger.error("error loading discovery document",o),this.eventsSubject.next(new vl("discovery_document_load_error",o)),r(o)}):r("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).")})}loadJwks(){return new Promise((e,i)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(r=>{this.jwks=r,e(r)},r=>{this.logger.error("error loading jwks",r),this.eventsSubject.next(new vl("jwks_load_error",r)),i(r)}):e(null)})}validateDiscoveryDocument(e){let i;return this.skipIssuerCheck||e.issuer===this.issuer?(i=this.validateUrlFromDiscoveryDocument(e.authorization_endpoint),i.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",i),!1):(i=this.validateUrlFromDiscoveryDocument(e.end_session_endpoint),i.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",i),!1):(i=this.validateUrlFromDiscoveryDocument(e.token_endpoint),i.length>0&&this.logger.error("error validating token_endpoint in discovery document",i),i=this.validateUrlFromDiscoveryDocument(e.revocation_endpoint),i.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",i),i=this.validateUrlFromDiscoveryDocument(e.userinfo_endpoint),i.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",i),!1):(i=this.validateUrlFromDiscoveryDocument(e.jwks_uri),i.length>0?(this.logger.error("error validating jwks_uri in discovery document",i),!1):(this.sessionChecksEnabled&&!e.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0))))):(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+e.issuer),!1)}fetchTokenUsingPasswordFlowAndLoadUserProfile(e,i,r=new pl){return this.fetchTokenUsingPasswordFlow(e,i,r).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((e,i)=>{const r=(new pl).set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:r,observe:"response",responseType:"text"}).subscribe(o=>{if(this.debug("userinfo received",JSON.stringify(o)),o.headers.get("content-type").startsWith("application/json")){let a=JSON.parse(o.body);const u=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!u.sub||a.sub!==u.sub))return void i("if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.\nif you are not using oidc but just oauth2 password flow set oidc to false");a=Object.assign({},u,a),this._storage.setItem("id_token_claims_obj",JSON.stringify(a)),this.eventsSubject.next(new CA("user_profile_loaded")),e({info:a})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new CA("user_profile_loaded")),e(JSON.parse(o.body))},o=>{this.logger.error("error loading user info",o),this.eventsSubject.next(new vl("user_profile_load_error",o)),i(o)})})}fetchTokenUsingPasswordFlow(e,i,r=new pl){return this.fetchTokenUsingGrant("password",{username:e,password:i},r)}fetchTokenUsingGrant(e,i,r=new pl){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let o=new Jc({encoder:new q2}).set("grant_type",e).set("scope",this.scope);if(this.useHttpBasicAuth){const a=btoa(`${this.clientId}:${this.dummyClientSecret}`);r=r.set("Authorization","Basic "+a)}if(this.useHttpBasicAuth||(o=o.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(o=o.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const a of Object.getOwnPropertyNames(this.customQueryParams))o=o.set(a,this.customQueryParams[a]);for(const a of Object.keys(i))o=o.set(a,i[a]);return r=r.set("Content-Type","application/x-www-form-urlencoded"),new Promise((a,u)=>{this.http.post(this.tokenEndpoint,o,{headers:r}).subscribe(h=>{this.debug("tokenResponse",h),this.storeAccessTokenResponse(h.access_token,h.refresh_token,h.expires_in||this.fallbackAccessTokenExpirationTimeInSec,h.scope,this.extractRecognizedCustomParameters(h)),this.oidc&&h.id_token&&this.processIdToken(h.id_token,h.access_token).then(f=>{this.storeIdToken(f),a(h)}),this.eventsSubject.next(new CA("token_received")),a(h)},h=>{this.logger.error("Error performing ${grantType} flow",h),this.eventsSubject.next(new vl("token_error",h)),u(h)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((e,i)=>{let r=new Jc({encoder:new q2}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),o=(new pl).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const a=btoa(`${this.clientId}:${this.dummyClientSecret}`);o=o.set("Authorization","Basic "+a)}if(this.useHttpBasicAuth||(r=r.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(r=r.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const a of Object.getOwnPropertyNames(this.customQueryParams))r=r.set(a,this.customQueryParams[a]);this.http.post(this.tokenEndpoint,r,{headers:o}).pipe(ws(a=>this.oidc&&a.id_token?(0,Gn.D)(this.processIdToken(a.id_token,a.access_token,!0)).pipe((0,Cr.b)(u=>this.storeIdToken(u)),(0,on.U)(u=>a)):An(a))).subscribe(a=>{this.debug("refresh tokenResponse",a),this.storeAccessTokenResponse(a.access_token,a.refresh_token,a.expires_in||this.fallbackAccessTokenExpirationTimeInSec,a.scope,this.extractRecognizedCustomParameters(a)),this.eventsSubject.next(new CA("token_received")),this.eventsSubject.next(new CA("token_refreshed")),e(a)},a=>{this.logger.error("Error refreshing token",a),this.eventsSubject.next(new vl("token_refresh_error",a)),i(a)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=e=>{const i=this.processMessageEventMessage(e);this.checkOrigin&&e.origin!==location.origin&&console.error("wrong origin requested silent refresh!"),this.tryLogin({customHashFragment:i,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(r=>this.debug("tryLogin during silent refresh failed",r))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(e={},i=!0){const r=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(e.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");const o=this.document.getElementById(this.silentRefreshIFrameName);o&&this.document.body.removeChild(o),this.silentRefreshSubject=r.sub;const a=this.document.createElement("iframe");return a.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener(),this.createLoginUrl(null,null,this.silentRefreshRedirectUri||this.redirectUri,i,e).then(C=>{a.setAttribute("src",C),this.silentRefreshShowIFrame||(a.style.display="none"),this.document.body.appendChild(a)}),function gwe(...n){return 1===(n=function pwe(n){return 1===n.length&&fwe(n[0])?n[0]:n}(n)).length?(0,Qa.Xf)(n[0]):new mr.y(function mwe(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push((0,Qa.Xf)(n[i]).subscribe(new Nr.Q(t,r=>{if(e){for(let o=0;o<e.length;o++)o!==i&&e[o].unsubscribe();e=null}t.next(r)})))}}(n))}([this.events.pipe(_i(C=>C instanceof vl),Qo()),this.events.pipe(_i(C=>"token_received"===C.type),Qo()),An(new vl("silent_refresh_timeout",null)).pipe(S6(this.silentRefreshTimeout))]).pipe((0,on.U)(C=>{if(C instanceof vl)throw"silent_refresh_timeout"===C.type||(C=new vl("silent_refresh_error",C)),this.eventsSubject.next(C),C;return"token_received"===C.type&&(C=new CA("silently_refreshed"),this.eventsSubject.next(C)),C})).toPromise()}initImplicitFlowInPopup(e){return this.initLoginFlowInPopup(e)}initLoginFlowInPopup(e){return e=e||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(i=>new Promise((r,o)=>{let h,u=null;e.windowRef?e.windowRef&&!e.windowRef.closed&&(u=e.windowRef,u.location.href=i):u=window.open(i,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(e));const f=U=>{this.tryLogin({customHashFragment:U,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{C(),r(!0)},H=>{C(),o(H)})};u?h=window.setInterval(()=>{(!u||u.closed)&&(C(),o(new vl("popup_closed",{})))},500):o(new vl("popup_blocked",{}));const C=()=>{window.clearInterval(h),window.removeEventListener("storage",B),window.removeEventListener("message",F),null!==u&&u.close(),u=null},F=U=>{const H=this.processMessageEventMessage(U);H&&null!==H?(window.removeEventListener("storage",B),f(H)):console.log("false event firing")},B=U=>{"auth_hash"===U.key&&(window.removeEventListener("message",F),f(U.newValue))};window.addEventListener("message",F),window.addEventListener("storage",B)}))}calculatePopupFeatures(e){const i=e.height||470,r=e.width||500,o=window.screenLeft+(window.outerWidth-r)/2;return`location=no,toolbar=no,width=${r},height=${i},top=${window.screenTop+(window.outerHeight-i)/2},left=${o}`}processMessageEventMessage(e){let i="#";if(this.silentRefreshMessagePrefix&&(i+=this.silentRefreshMessagePrefix),!e||!e.data||"string"!=typeof e.data)return;const r=e.data;return r.startsWith(i)?"#"+r.substr(i.length):void 0}canPerformSessionCheck(){return!(!this.sessionChecksEnabled||(this.sessionCheckIFrameUrl?this.getSessionState()?typeof this.document>"u":(console.warn("sessionChecksEnabled is activated but there is no session_state"),1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),1)))}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=e=>{const i=e.origin.toLowerCase(),r=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),r.startsWith(i)){switch(e.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()})}this.debug("got info from session check inframe",e)}else this.debug("sessionCheckEventListener","wrong origin",i,"expected",r,"event",e)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new ky("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new ky("session_changed")),this.stopSessionCheckTimer(),this.useSilentRefresh||"code"!==this.responseType?this.silentRefreshRedirectUri?(this.silentRefresh().catch(e=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new ky("session_terminated")),this.logOut(!0)):this.refreshToken().then(e=>{this.debug("token refresh after session change worked")}).catch(e=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new ky("session_terminated")),this.logOut(!0)})}waitForSilentRefreshAfterSessionChange(){this.events.pipe(_i(e=>"silently_refreshed"===e.type||"silent_refresh_timeout"===e.type||"silent_refresh_error"===e.type),Qo()).subscribe(e=>{"silently_refreshed"!==e.type&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new ky("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new ky("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;const e=this.document.getElementById(this.sessionCheckIFrameName);e&&this.document.body.removeChild(e);const i=this.document.createElement("iframe");i.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener(),i.setAttribute("src",this.sessionCheckIFrameUrl),i.style.display="none",this.document.body.appendChild(i),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){const e=this.document.getElementById(this.sessionCheckIFrameName);e||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);const i=this.getSessionState();i||this.stopSessionCheckTimer(),e.contentWindow.postMessage(this.clientId+" "+i,this.issuer)}createLoginUrl(e="",i="",r="",o=!1,a={}){var u=this;return(0,bt.Z)(function*(){const h=u;let f;f=r||u.redirectUri;const _=yield u.createAndSaveNonce();if(e=e?_+u.config.nonceStateSeparator+encodeURIComponent(e):_,!u.requestAccessToken&&!u.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");u.responseType=u.config.responseType?u.config.responseType:u.oidc&&u.requestAccessToken?"id_token token":u.oidc&&!u.requestAccessToken?"id_token":"token";const C=h.loginUrl.indexOf("?")>-1?"&":"?";let F=h.scope;u.oidc&&!F.match(/(^|\s)openid($|\s)/)&&(F="openid "+F);let B=h.loginUrl+C+"response_type="+encodeURIComponent(h.responseType)+"&client_id="+encodeURIComponent(h.clientId)+"&state="+encodeURIComponent(e)+"&redirect_uri="+encodeURIComponent(f)+"&scope="+encodeURIComponent(F);if(u.responseType.includes("code")&&!u.disablePKCE){const[U,H]=yield u.createChallangeVerifierPairForPKCE();u.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",H):u._storage.setItem("PKCE_verifier",H),B+="&code_challenge="+U,B+="&code_challenge_method=S256"}i&&(B+="&login_hint="+encodeURIComponent(i)),h.resource&&(B+="&resource="+encodeURIComponent(h.resource)),h.oidc&&(B+="&nonce="+encodeURIComponent(_)),o&&(B+="&prompt=none");for(const U of Object.keys(a))B+="&"+encodeURIComponent(U)+"="+encodeURIComponent(a[U]);if(u.customQueryParams)for(const U of Object.getOwnPropertyNames(u.customQueryParams))B+="&"+U+"="+encodeURIComponent(u.customQueryParams[U]);return B})()}initImplicitFlowInternal(e="",i=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let r={},o=null;"string"==typeof i?o=i:"object"==typeof i&&(r=i),this.createLoginUrl(e,o,null,!1,r).then(this.config.openUri).catch(a=>{console.error("Error in initImplicitFlow",a),this.inImplicitFlow=!1})}initImplicitFlow(e="",i=""){""!==this.loginUrl?this.initImplicitFlowInternal(e,i):this.events.pipe(_i(r=>"discovery_document_loaded"===r.type)).subscribe(r=>this.initImplicitFlowInternal(e,i))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(e){const i=this;if(e.onTokenReceived){const r={idClaims:i.getIdentityClaims(),idToken:i.getIdToken(),accessToken:i.getAccessToken(),state:i.state};e.onTokenReceived(r)}}storeAccessTokenResponse(e,i,r,o,a){if(this._storage.setItem("access_token",e),o&&!Array.isArray(o)?this._storage.setItem("granted_scopes",JSON.stringify(o.split(" "))):o&&Array.isArray(o)&&this._storage.setItem("granted_scopes",JSON.stringify(o)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),r){const u=1e3*r,f=this.dateTimeService.new().getTime()+u;this._storage.setItem("expires_at",""+f)}i&&this._storage.setItem("refresh_token",i),a&&a.forEach((u,h)=>{this._storage.setItem(h,u)})}tryLogin(e=null){return"code"===this.config.responseType?this.tryLoginCodeFlow(e).then(i=>!0):this.tryLoginImplicitFlow(e)}parseQueryString(e){return e&&0!==e.length?("?"===e.charAt(0)&&(e=e.substr(1)),this.urlHelper.parseQueryString(e)):{}}tryLoginCodeFlow(e=null){var i=this;return(0,bt.Z)(function*(){const r=(e=e||{}).customHashFragment?e.customHashFragment.substring(1):window.location.search,o=i.getCodePartsFromUrl(r),a=o.code,u=o.state,h=o.session_state;if(!e.preventClearHashAfterLogin){const C=location.origin+location.pathname+location.search.replace(/code=[^&\$]*/,"").replace(/scope=[^&\$]*/,"").replace(/state=[^&\$]*/,"").replace(/session_state=[^&\$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,C)}let[f,_]=i.parseState(u);if(i.state=_,o.error){i.debug("error trying to login"),i.handleLoginError(e,o);const C=new vl("code_error",{},o);return i.eventsSubject.next(C),Promise.reject(C)}if(!e.disableNonceCheck){if(!f)return i.saveRequestedRoute(),Promise.resolve();if(!e.disableOAuth2StateCheck&&!i.validateNonce(f)){const F=new vl("invalid_nonce_in_state",null);return i.eventsSubject.next(F),Promise.reject(F)}}return i.storeSessionState(h),a&&(yield i.getTokenFromCode(a,e),i.restoreRequestedRoute()),Promise.resolve()})()}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){const e=this._storage.getItem("requested_route");e&&history.replaceState(null,"",window.location.origin+e)}getCodePartsFromUrl(e){return e&&0!==e.length?("?"===e.charAt(0)&&(e=e.substr(1)),this.urlHelper.parseQueryString(e)):this.urlHelper.getHashFragmentParams()}getTokenFromCode(e,i){let r=new Jc({encoder:new q2}).set("grant_type","authorization_code").set("code",e).set("redirect_uri",i.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let o;o=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("PKCE_verifier"):this._storage.getItem("PKCE_verifier"),o?r=r.set("code_verifier",o):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(r,i)}fetchAndProcessToken(e,i){i=i||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let r=(new pl).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const o=btoa(`${this.clientId}:${this.dummyClientSecret}`);r=r.set("Authorization","Basic "+o)}return this.useHttpBasicAuth||(e=e.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(e=e.set("client_secret",this.dummyClientSecret)),new Promise((o,a)=>{if(this.customQueryParams)for(let u of Object.getOwnPropertyNames(this.customQueryParams))e=e.set(u,this.customQueryParams[u]);this.http.post(this.tokenEndpoint,e,{headers:r}).subscribe(u=>{this.debug("refresh tokenResponse",u),this.storeAccessTokenResponse(u.access_token,u.refresh_token,u.expires_in||this.fallbackAccessTokenExpirationTimeInSec,u.scope,this.extractRecognizedCustomParameters(u)),this.oidc&&u.id_token?this.processIdToken(u.id_token,u.access_token,i.disableNonceCheck).then(h=>{this.storeIdToken(h),this.eventsSubject.next(new CA("token_received")),this.eventsSubject.next(new CA("token_refreshed")),o(u)}).catch(h=>{this.eventsSubject.next(new vl("token_validation_error",h)),console.error("Error validating tokens"),console.error(h),a(h)}):(this.eventsSubject.next(new CA("token_received")),this.eventsSubject.next(new CA("token_refreshed")),o(u))},u=>{console.error("Error getting token",u),this.eventsSubject.next(new vl("token_refresh_error",u)),a(u)})})}tryLoginImplicitFlow(e=null){let i;i=(e=e||{}).customHashFragment?this.urlHelper.getHashFragmentParams(e.customHashFragment):this.urlHelper.getHashFragmentParams(),this.debug("parsed url",i);const r=i.state;let[o,a]=this.parseState(r);if(this.state=a,i.error){this.debug("error trying to login"),this.handleLoginError(e,i);const C=new vl("token_error",{},i);return this.eventsSubject.next(C),Promise.reject(C)}const u=i.access_token,h=i.id_token,f=i.session_state,_=i.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!u||this.requestAccessToken&&!e.disableOAuth2StateCheck&&!r||this.oidc&&!h)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!f&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!e.disableNonceCheck&&!this.validateNonce(o)){const F=new vl("invalid_nonce_in_state",null);return this.eventsSubject.next(F),Promise.reject(F)}return this.requestAccessToken&&this.storeAccessTokenResponse(u,null,i.expires_in||this.fallbackAccessTokenExpirationTimeInSec,_),this.oidc?this.processIdToken(h,u,e.disableNonceCheck).then(C=>e.validationHandler?e.validationHandler({accessToken:u,idClaims:C.idTokenClaims,idToken:C.idToken,state:r}).then(F=>C):C).then(C=>(this.storeIdToken(C),this.storeSessionState(f),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new CA("token_received")),this.callOnTokenReceivedIfExists(e),this.inImplicitFlow=!1,!0)).catch(C=>(this.eventsSubject.next(new vl("token_validation_error",C)),this.logger.error("Error validating tokens"),this.logger.error(C),Promise.reject(C))):(this.eventsSubject.next(new CA("token_received")),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(e),Promise.resolve(!0))}parseState(e){let i=e,r="";if(e){const o=e.indexOf(this.config.nonceStateSeparator);o>-1&&(i=e.substr(0,o),r=e.substr(o+this.config.nonceStateSeparator.length))}return[i,r]}validateNonce(e){let i;return i=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("nonce"):this._storage.getItem("nonce"),i===e||(console.error("Validating access_token failed, wrong state/nonce.",i,e),!1)}storeIdToken(e){this._storage.setItem("id_token",e.idToken),this._storage.setItem("id_token_claims_obj",e.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+e.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(e){this._storage.setItem("session_state",e)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(e,i){e.onLoginError&&e.onLoginError(i),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(e=6e5){return this.clockSkewInSec||0===this.clockSkewInSec?1e3*this.clockSkewInSec:e}processIdToken(e,i,r=!1){const o=e.split("."),u=JZ(this.padBase64(o[0])),h=JSON.parse(u),_=JZ(this.padBase64(o[1])),C=JSON.parse(_);let F;if(F=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("nonce"):this._storage.getItem("nonce"),Array.isArray(C.aud)){if(C.aud.every(W=>W!==this.clientId)){const W="Wrong audience: "+C.aud.join(",");return this.logger.warn(W),Promise.reject(W)}}else if(C.aud!==this.clientId){const W="Wrong audience: "+C.aud;return this.logger.warn(W),Promise.reject(W)}if(!C.sub){const W="No sub claim in id_token";return this.logger.warn(W),Promise.reject(W)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==C.sub){const W=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${C.sub}`;return this.logger.warn(W),Promise.reject(W)}if(!C.iat){const W="No iat claim in id_token";return this.logger.warn(W),Promise.reject(W)}if(!this.skipIssuerCheck&&C.iss!==this.issuer){const W="Wrong issuer: "+C.iss;return this.logger.warn(W),Promise.reject(W)}if(!r&&C.nonce!==F){const W="Wrong nonce: "+C.nonce;return this.logger.warn(W),Promise.reject(W)}if(this.hasOwnProperty("responseType")&&("code"===this.responseType||"id_token"===this.responseType)&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!C.at_hash){const W="An at_hash is needed!";return this.logger.warn(W),Promise.reject(W)}const B=this.dateTimeService.now(),U=1e3*C.iat,H=1e3*C.exp,Z=this.getClockSkewInMsec();if(U-Z>=B||H+Z-this.decreaseExpirationBySec<=B){const W="Token has expired";return console.error(W),console.error({now:B,issuedAtMSec:U,expiresAtMSec:H}),Promise.reject(W)}const q={accessToken:i,idToken:e,jwks:this.jwks,idTokenClaims:C,idTokenHeader:h,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(q).then(W=>({idToken:e,idTokenClaims:C,idTokenClaimsJson:_,idTokenHeader:h,idTokenHeaderJson:u,idTokenExpiresAt:H})):this.checkAtHash(q).then(W=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!W){const he="Wrong at_hash";return this.logger.warn(he),Promise.reject(he)}return this.checkSignature(q).then(he=>{const Ze={idToken:e,idTokenClaims:C,idTokenClaimsJson:_,idTokenHeader:h,idTokenHeaderJson:u,idTokenExpiresAt:H};return this.disableAtHashCheck?Ze:this.checkAtHash(q).then(ct=>{if(this.requestAccessToken&&!ct){const Ve="Wrong at_hash";return this.logger.warn(Ve),Promise.reject(Ve)}return Ze})})})}getIdentityClaims(){const e=this._storage.getItem("id_token_claims_obj");return e?JSON.parse(e):null}getGrantedScopes(){const e=this._storage.getItem("granted_scopes");return e?JSON.parse(e):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(e){for(;e.length%4!=0;)e+="=";return e}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){const e=this._storage.getItem("expires_at"),i=this.dateTimeService.new();return!(e&&parseInt(e,10)-this.decreaseExpirationBySec<i.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){const e=this._storage.getItem("id_token_expires_at"),i=this.dateTimeService.new();return!(e&&parseInt(e,10)-this.decreaseExpirationBySec<i.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(e){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(e)>=0&&null!==this._storage.getItem(e)?JSON.parse(this._storage.getItem(e)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(e={},i=""){let r=!1;"boolean"==typeof e&&(r=e,e={});const o=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(u=>this._storage.removeItem(u)),this.silentRefreshSubject=null,this.eventsSubject.next(new ky("logout")),!this.logoutUrl||r)return;let a;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)a=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(o)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let u=new Jc({encoder:new q2});o&&(u=u.set("id_token_hint",o));const h=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";h&&(u=u.set("post_logout_redirect_uri",h),i&&(u=u.set("state",i)));for(let f in e)u=u.set(f,e[f]);a=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+u.toString()}this.config.openUri(a)}createAndSaveNonce(){const e=this;return this.createNonce().then(function(i){return e.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",i):e._storage.setItem("nonce",i),i})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();const e=this.document.getElementById(this.silentRefreshIFrameName);e&&e.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();const i=this.document.getElementById(this.sessionCheckIFrameName);i&&i.remove()}createNonce(){return new Promise(e=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~";let r=45,o="";const a=typeof self>"u"?null:self.crypto||self.msCrypto;if(a){let u=new Uint8Array(r);a.getRandomValues(u),u.map||(u.map=Array.prototype.map),u=u.map(h=>i.charCodeAt(h%i.length)),o=String.fromCharCode.apply(null,u)}else for(;0<r--;)o+=i[Math.random()*i.length|0];e(B6(o))})}checkAtHash(e){var i=this;return(0,bt.Z)(function*(){return i.tokenValidationHandler?i.tokenValidationHandler.validateAtHash(e):(i.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})()}checkSignature(e){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(e):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(e="",i={}){return"code"===this.responseType?this.initCodeFlow(e,i):this.initImplicitFlow(e,i)}initCodeFlow(e="",i={}){""!==this.loginUrl?this.initCodeFlowInternal(e,i):this.events.pipe(_i(r=>"discovery_document_loaded"===r.type)).subscribe(r=>this.initCodeFlowInternal(e,i))}initCodeFlowInternal(e="",i={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let r={},o=null;"string"==typeof i?o=i:"object"==typeof i&&(r=i),this.createLoginUrl(e,o,null,!1,r).then(this.config.openUri).catch(a=>{console.error("Error in initAuthorizationCodeFlow"),console.error(a)})}createChallangeVerifierPairForPKCE(){var e=this;return(0,bt.Z)(function*(){if(!e.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");const i=yield e.createNonce();return[B6(yield e.crypto.calcHash(i,"sha-256")),i]})()}extractRecognizedCustomParameters(e){let i=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(r=>{e[r]&&i.set(r,JSON.stringify(e[r]))}),i}revokeTokenAndLogout(e={},i=!1){let r=this.revocationEndpoint,o=this.getAccessToken(),a=this.getRefreshToken();if(!o)return Promise.resolve();let u=new Jc({encoder:new q2}),h=(new pl).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const f=btoa(`${this.clientId}:${this.dummyClientSecret}`);h=h.set("Authorization","Basic "+f)}if(this.useHttpBasicAuth||(u=u.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(u=u.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const f of Object.getOwnPropertyNames(this.customQueryParams))u=u.set(f,this.customQueryParams[f]);return new Promise((f,_)=>{let C,F;if(o){let B=u.set("token",o).set("token_type_hint","access_token");C=this.http.post(r,B,{headers:h})}else C=An(null);if(a){let B=u.set("token",a).set("token_type_hint","refresh_token");F=this.http.post(r,B,{headers:h})}else F=An(null);i&&(C=C.pipe(Ho(B=>0===B.status?An(null):ro(B))),F=F.pipe(Ho(B=>0===B.status?An(null):ro(B)))),al([C,F]).subscribe(B=>{this.logOut(e),f(B),this.logger.info("Token successfully revoked")},B=>{this.logger.error("Error revoking token",B),this.eventsSubject.next(new vl("token_revoke_error",B)),_(B)})})}clearLocationHash(){""!=location.hash&&(location.hash="")}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(fm),s.LFG(D6,8),s.LFG(XZ,8),s.LFG(WR,8),s.LFG(e$),s.LFG(WZ),s.LFG(n$,8),s.LFG(Ke),s.LFG(I6))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class r${}class kwe{handleError(t){return ro(t)}}let Rwe=(()=>{class n{constructor(e,i,r){this.oAuthService=e,this.errorHandler=i,this.moduleConfig=r}checkUrl(e){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(e):!this.moduleConfig.resourceServer.allowedUrls||!!this.moduleConfig.resourceServer.allowedUrls.find(i=>e.toLowerCase().startsWith(i.toLowerCase()))}intercept(e,i){const r=e.url.toLowerCase();return this.moduleConfig&&this.moduleConfig.resourceServer&&this.checkUrl(r)?this.moduleConfig.resourceServer.sendAccessToken?(0,iu.T)(An(this.oAuthService.getAccessToken()).pipe(_i(a=>!!a)),this.oAuthService.events.pipe(_i(a=>"token_received"===a.type),function vwe(n,t){const{first:e,each:i,with:r=wwe,scheduler:o=t??Mp.z,meta:a=null}=O8(n)?{first:n}:"number"==typeof n?{each:n}:n;if(null==e&&null==i)throw new TypeError("No timeout provided.");return(0,Wr.e)((u,h)=>{let f,_,C=null,F=0;const B=U=>{_=(0,Iu.f)(h,o,()=>{try{f.unsubscribe(),(0,Qa.Xf)(r({meta:a,lastValue:C,seen:F})).subscribe(h)}catch(H){h.error(H)}},U)};f=u.subscribe(new Nr.Q(h,U=>{_?.unsubscribe(),F++,h.next(C=U),i>0&&B(i)},void 0,void 0,()=>{_?.closed||_?.unsubscribe(),C=null})),B(null!=e?"number"==typeof e?e:+e-o.now():i)})}(this.oAuthService.waitForTokenInMsec||0),Ho(a=>An(null)),(0,on.U)(a=>this.oAuthService.getAccessToken()))).pipe((0,Jr.q)(1),(0,wo.z)(a=>{if(a){const h=e.headers.set("Authorization","Bearer "+a);e=e.clone({headers:h})}return i.handle(e).pipe(Ho(u=>this.errorHandler.handleError(u)))})):i.handle(e).pipe(Ho(a=>this.errorHandler.handleError(a))):i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(i$),s.LFG(r$),s.LFG(YZ,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Owe(){return console}function Lwe(){return typeof sessionStorage<"u"?sessionStorage:new Cwe}function Nwe(n=null,t=$Z){return(0,s.MR2)([i$,e$,{provide:WZ,useFactory:Owe},{provide:D6,useFactory:Lwe},{provide:XZ,useClass:t},{provide:n$,useClass:Mwe},{provide:r$,useClass:kwe},{provide:YZ,useValue:n},{provide:vC,useClass:Rwe,multi:!0},{provide:I6,useClass:bwe}])}let Pwe=(()=>{class n{static forRoot(e=null,i=$Z){return{ngModule:n,providers:[Nwe(e,i)]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[ea]}),n})();new s.OlP("AUTH_CONFIG");class $m{constructor(t,e){this.document=t,this.platformId=e,this.documentIsAccessible=Yl(this.platformId)}static getCookieRegExp(t){const e=t.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+e+"|;\\s*"+e+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(t){try{return decodeURIComponent(t)}catch{return t}}check(t){return!!this.documentIsAccessible&&(t=encodeURIComponent(t),$m.getCookieRegExp(t).test(this.document.cookie))}get(t){if(this.documentIsAccessible&&this.check(t)){t=encodeURIComponent(t);const i=$m.getCookieRegExp(t).exec(this.document.cookie);return i[1]?$m.safeDecodeURIComponent(i[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const t={},e=this.document;return e.cookie&&""!==e.cookie&&e.cookie.split(";").forEach(i=>{const[r,o]=i.split("=");t[$m.safeDecodeURIComponent(r.replace(/^ /,""))]=$m.safeDecodeURIComponent(o)}),t}set(t,e,i,r,o,a,u){if(!this.documentIsAccessible)return;if("number"==typeof i||i instanceof Date||r||o||a||u)return void this.set(t,e,{expires:i,path:r,domain:o,secure:a,sameSite:u||"Lax"});let h=encodeURIComponent(t)+"="+encodeURIComponent(e)+";";const f=i||{};f.expires&&(h+="number"==typeof f.expires?"expires="+new Date((new Date).getTime()+1e3*f.expires*60*60*24).toUTCString()+";":"expires="+f.expires.toUTCString()+";"),f.path&&(h+="path="+f.path+";"),f.domain&&(h+="domain="+f.domain+";"),!1===f.secure&&"None"===f.sameSite&&(f.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${t} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),f.secure&&(h+="secure;"),f.sameSite||(f.sameSite="Lax"),h+="sameSite="+f.sameSite+";",this.document.cookie=h}delete(t,e,i,r,o="Lax"){if(!this.documentIsAccessible)return;const a=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(t,"",{expires:a,path:e,domain:i,secure:r,sameSite:o})}deleteAll(t,e,i,r="Lax"){if(!this.documentIsAccessible)return;const o=this.getAll();for(const a in o)o.hasOwnProperty(a)&&this.delete(a,t,e,i,r)}static#e=this.\u0275fac=function(e){return new(e||$m)(s.LFG(Ke),s.LFG(s.Lbi))};static#t=this.\u0275prov=s.Yz7({token:$m,factory:$m.\u0275fac,providedIn:"root"})}let s$=(()=>{class n{constructor(e){this.userService=e}initializeApp(){var e=this.userService.isLogged();return new Promise((i,r)=>{setTimeout(()=>{i(e)},2e3)})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fh))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Qwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[Xz]}),n.\u0275inj=s.cJS({providers:[_2,by,fm,$m,{provide:D6,useValue:localStorage},s$,{provide:s.ip1,useFactory:t=>()=>t.initializeApp(),deps:[s$],multi:!0},pE],imports:[ec,w_e,RZ,Mve,xte,X9,fz,wz,fz,uae,dae,NM,Jz,Sx,Jz,ewe,EC,Wz,Xc.hO.initializeApp(jZ_firebaseConfig),EX,kX,wue,pq,wde,Rde,Cce,Noe,ame,Jfe,N7,Awe,Kk,mhe,She,Xhe,Pwe.forRoot({resourceServer:{allowedUrls:["https://discord.com/api"],sendAccessToken:!0}}),uS,rAe,RZ]}),n})();(0,s.G48)(),Wf().bootstrapModule(Qwe).catch(n=>console.error(n))},2011:(ei,Lt,re)=>{"use strict";re.d(Lt,{Dh:()=>Tt,GT:()=>vt,cc:()=>Qt,hO:()=>hn,on:()=>Ee,pX:()=>lt,xv:()=>ut});var s=re(4650),ze=re(9260),oe=re(4976);ei=re.hmd(ei);const rt=["ngOnDestroy"],lt=(Ut,St,qt,Jt={})=>new Proxy(Ut,{get:(ti,en)=>qt.runOutsideAngular(()=>{var Tn;if(Ut[en])return!(null===(Tn=Jt?.spy)||void 0===Tn)&&Tn.get&&Jt.spy.get(en,Ut[en]),Ut[en];if(rt.indexOf(en)>-1)return()=>{};const sn=St.toPromise().then(Zn=>{const et=Zn&&Zn[en];return"function"==typeof et?et.bind(Zn):et&&et.then?et.then(It=>qt.run(()=>It)):qt.run(()=>et)});return new Proxy(()=>{},{get:(Zn,et)=>sn[et],apply:(Zn,et,It)=>sn.then(dt=>{var Kt;const Nt=dt&&dt(...It);return!(null===(Kt=Jt?.spy)||void 0===Kt)&&Kt.apply&&Jt.spy.apply(en,It,Nt),Nt})})})}),vt=(Ut,St)=>{St.forEach(qt=>{Object.getOwnPropertyNames(qt.prototype||qt).forEach(Jt=>{Object.defineProperty(Ut.prototype,Jt,Object.getOwnPropertyDescriptor(qt.prototype||qt,Jt))})})};class Ke{constructor(St){return St}}const Tt=new s.OlP("angularfire2.app.options"),ut=new s.OlP("angularfire2.app.name");function Ee(Ut,St,qt){const ti="object"==typeof qt&&qt||{};ti.name=ti.name||"string"==typeof qt&&qt||"[DEFAULT]";const Tn=ze.Z.apps.filter(sn=>sn&&sn.name===ti.name)[0]||St.runOutsideAngular(()=>ze.Z.initializeApp(Ut,ti));try{JSON.stringify(Ut)!==JSON.stringify(Tn.options)&&De("error",`${Tn.name} Firebase App already initialized with different options${ei.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ke(Tn)}const De=(Ut,...St)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Ut](...St)},je={provide:Ke,useFactory:Ee,deps:[Tt,s.R0b,[new s.FiY,ut]]};let hn=(()=>{class Ut{constructor(qt){ze.Z.registerVersion("angularfire",oe.q4.full,"core"),ze.Z.registerVersion("angularfire",oe.q4.full,"app-compat"),ze.Z.registerVersion("angular",s.q4F.full,qt.toString())}static initializeApp(qt,Jt){return{ngModule:Ut,providers:[{provide:Tt,useValue:qt},{provide:ut,useValue:Jt}]}}}return Ut.\u0275fac=function(qt){return new(qt||Ut)(s.LFG(s.Lbi))},Ut.\u0275mod=s.oAB({type:Ut}),Ut.\u0275inj=s.cJS({providers:[je]}),Ut})();function Qt(Ut,St,qt,Jt,ti){const[,en,Tn]=globalThis.\u0275AngularfireInstanceCache.find(sn=>sn[0]===Ut)||[];if(en)return function yn(Ut,St){try{return Ut.toString()===St.toString()}catch{return Ut===St}}(ti,Tn)||(yt("error",`${St} was already initialized on the ${qt} Firebase App with different settings.${Nn?" You may need to reload as Firebase is not HMR aware.":""}`),yt("warn",{is:ti,was:Tn})),en;{const sn=Jt();return globalThis.\u0275AngularfireInstanceCache.push([Ut,sn,ti]),sn}}const Nn=!!ei.hot,yt=(Ut,...St)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Ut](...St)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(ei,Lt,re)=>{"use strict";re.d(Lt,{q4:()=>Gg,iC:()=>Mu,HU:()=>Bu,vb:()=>nh,JM:()=>pd});var s=re(4650),ze=re(259),oe=re(5861),rt=re(6881),lt=re(2090),vt=re(4859),Ke=re(1877);let ut,Ee;const hn=new WeakMap,Qt=new WeakMap,yn=new WeakMap,Nn=new WeakMap,yt=new WeakMap;let qt={get(k,N,K){if(k instanceof IDBTransaction){if("done"===N)return Qt.get(k);if("objectStoreNames"===N)return k.objectStoreNames||yn.get(k);if("store"===N)return K.objectStoreNames[1]?void 0:K.objectStore(K.objectStoreNames[0])}return Tn(k[N])},set:(k,N,K)=>(k[N]=K,!0),has:(k,N)=>k instanceof IDBTransaction&&("done"===N||"store"===N)||N in k};function en(k){return"function"==typeof k?function ti(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function je(){return Ee||(Ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...N){return k.apply(sn(this),N),Tn(hn.get(this))}:function(...N){return Tn(k.apply(sn(this),N))}:function(N,...K){const ue=k.call(sn(this),N,...K);return yn.set(ue,N.sort?N.sort():[N]),Tn(ue)}}(k):(k instanceof IDBTransaction&&function St(k){if(Qt.has(k))return;const N=new Promise((K,ue)=>{const Ie=()=>{k.removeEventListener("complete",qe),k.removeEventListener("error",gt),k.removeEventListener("abort",gt)},qe=()=>{K(),Ie()},gt=()=>{ue(k.error||new DOMException("AbortError","AbortError")),Ie()};k.addEventListener("complete",qe),k.addEventListener("error",gt),k.addEventListener("abort",gt)});Qt.set(k,N)}(k),((k,N)=>N.some(K=>k instanceof K))(k,function De(){return ut||(ut=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,qt):k)}function Tn(k){if(k instanceof IDBRequest)return function Ut(k){const N=new Promise((K,ue)=>{const Ie=()=>{k.removeEventListener("success",qe),k.removeEventListener("error",gt)},qe=()=>{K(Tn(k.result)),Ie()},gt=()=>{ue(k.error),Ie()};k.addEventListener("success",qe),k.addEventListener("error",gt)});return N.then(K=>{K instanceof IDBCursor&&hn.set(K,k)}).catch(()=>{}),yt.set(N,k),N}(k);if(Nn.has(k))return Nn.get(k);const N=en(k);return N!==k&&(Nn.set(k,N),yt.set(N,k)),N}const sn=k=>yt.get(k),It=["get","getKey","getAll","getAllKeys","count"],dt=["put","add","delete","clear"],Kt=new Map;function Nt(k,N){if(!(k instanceof IDBDatabase)||N in k||"string"!=typeof N)return;if(Kt.get(N))return Kt.get(N);const K=N.replace(/FromIndex$/,""),ue=N!==K,Ie=dt.includes(K);if(!(K in(ue?IDBIndex:IDBObjectStore).prototype)||!Ie&&!It.includes(K))return;const qe=function(){var gt=(0,oe.Z)(function*(mn,...an){const Bn=this.transaction(mn,Ie?"readwrite":"readonly");let Fn=Bn.store;return ue&&(Fn=Fn.index(an.shift())),(yield Promise.all([Fn[K](...an),Ie&&Bn.done]))[0]});return function(an){return gt.apply(this,arguments)}}();return Kt.set(N,qe),qe}!function Jt(k){qt=k(qt)}(k=>({...k,get:(N,K,ue)=>Nt(N,K)||k.get(N,K,ue),has:(N,K)=>!!Nt(N,K)||k.has(N,K)}));const gn="@firebase/installations",to="w:0.6.4",Mi="FIS_v2",fo=new lt.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function cr(k){return k instanceof lt.ZR&&k.code.includes("request-failed")}function Zl({projectId:k}){return`https://firebaseinstallations.googleapis.com/v1/projects/${k}/installations`}function xl(k){return{token:k.token,requestStatus:2,expiresIn:Sl(k.expiresIn),creationTime:Date.now()}}function El(k,N){return uu.apply(this,arguments)}function uu(){return(uu=(0,oe.Z)(function*(k,N){const ue=(yield N.json()).error;return fo.create("request-failed",{requestName:k,serverCode:ue.code,serverMessage:ue.message,serverStatus:ue.status})})).apply(this,arguments)}function rs({apiKey:k}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k})}function hs(k,{refreshToken:N}){const K=rs(k);return K.append("Authorization",function Zt(k){return`${Mi} ${k}`}(N)),K}function uc(k){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,oe.Z)(function*(k){const N=yield k();return N.status>=500&&N.status<600?k():N})).apply(this,arguments)}function Sl(k){return Number(k.replace("s","000"))}function Mr(k,N){return Us.apply(this,arguments)}function Us(){return(Us=(0,oe.Z)(function*({appConfig:k,heartbeatServiceProvider:N},{fid:K}){const ue=Zl(k),Ie=rs(k),qe=N.getImmediate({optional:!0});if(qe){const Bn=yield qe.getHeartbeatsHeader();Bn&&Ie.append("x-firebase-client",Bn)}const mn={method:"POST",headers:Ie,body:JSON.stringify({fid:K,authVersion:Mi,appId:k.appId,sdkVersion:to})},an=yield uc(()=>fetch(ue,mn));if(an.ok){const Bn=yield an.json();return{fid:Bn.fid||K,registrationStatus:2,refreshToken:Bn.refreshToken,authToken:xl(Bn.authToken)}}throw yield El("Create Installation",an)})).apply(this,arguments)}function Wn(k){return new Promise(N=>{setTimeout(N,k)})}const Qc=/^[cdef][\w-]{21}$/;function hc(){try{const k=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(k),k[0]=112+k[0]%16;const K=function Yo(k){return function dc(k){return btoa(String.fromCharCode(...k)).replace(/\+/g,"-").replace(/\//g,"_")}(k).substr(0,22)}(k);return Qc.test(K)?K:""}catch{return""}}function si(k){return`${k.appName}!${k.appId}`}const Hn=new Map;function vi(k,N){const K=si(k);Oi(K,N),function Qs(k,N){const K=function Wo(){return!Zr&&"BroadcastChannel"in self&&(Zr=new BroadcastChannel("[Firebase] FID Change"),Zr.onmessage=k=>{Oi(k.data.key,k.data.fid)}),Zr}();K&&K.postMessage({key:k,fid:N}),function Hi(){0===Hn.size&&Zr&&(Zr.close(),Zr=null)}()}(K,N)}function Oi(k,N){const K=Hn.get(k);if(K)for(const ue of K)ue(N)}let Zr=null;const po="firebase-installations-store";let Jo=null;function kr(){return Jo||(Jo=function Zn(k,N,{blocked:K,upgrade:ue,blocking:Ie,terminated:qe}={}){const gt=indexedDB.open(k,N),mn=Tn(gt);return ue&&gt.addEventListener("upgradeneeded",an=>{ue(Tn(gt.result),an.oldVersion,an.newVersion,Tn(gt.transaction))}),K&&gt.addEventListener("blocked",()=>K()),mn.then(an=>{qe&&an.addEventListener("close",()=>qe()),Ie&&an.addEventListener("versionchange",()=>Ie())}).catch(()=>{}),mn}("firebase-installations-database",1,{upgrade:(k,N)=>{0===N&&k.createObjectStore(po)}})),Jo}function go(k,N){return ha.apply(this,arguments)}function ha(){return(ha=(0,oe.Z)(function*(k,N){const K=si(k),Ie=(yield kr()).transaction(po,"readwrite"),qe=Ie.objectStore(po),gt=yield qe.get(K);return yield qe.put(N,K),yield Ie.done,(!gt||gt.fid!==N.fid)&&vi(k,N.fid),N})).apply(this,arguments)}function Aa(k){return rl.apply(this,arguments)}function rl(){return(rl=(0,oe.Z)(function*(k){const N=si(k),ue=(yield kr()).transaction(po,"readwrite");yield ue.objectStore(po).delete(N),yield ue.done})).apply(this,arguments)}function Is(k,N){return fa.apply(this,arguments)}function fa(){return(fa=(0,oe.Z)(function*(k,N){const K=si(k),Ie=(yield kr()).transaction(po,"readwrite"),qe=Ie.objectStore(po),gt=yield qe.get(K),mn=N(gt);return void 0===mn?yield qe.delete(K):yield qe.put(mn,K),yield Ie.done,mn&&(!gt||gt.fid!==mn.fid)&&vi(k,mn.fid),mn})).apply(this,arguments)}function Ce(k){return ve.apply(this,arguments)}function ve(){return(ve=(0,oe.Z)(function*(k){let N;const K=yield Is(k.appConfig,ue=>{const Ie=Me(ue),qe=wt(k,Ie);return N=qe.registrationPromise,qe.installationEntry});return""===K.fid?{installationEntry:yield N}:{installationEntry:K,registrationPromise:N}})).apply(this,arguments)}function Me(k){return es(k||{fid:hc(),registrationStatus:0})}function wt(k,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(fo.create("app-offline"))};const K={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},ue=function Qe(k,N){return Rn.apply(this,arguments)}(k,K);return{installationEntry:K,registrationPromise:ue}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:Vn(k)}:{installationEntry:N}}function Rn(){return(Rn=(0,oe.Z)(function*(k,N){try{const K=yield Mr(k,N);return go(k.appConfig,K)}catch(K){throw cr(K)&&409===K.customData.serverCode?yield Aa(k.appConfig):yield go(k.appConfig,{fid:N.fid,registrationStatus:0}),K}})).apply(this,arguments)}function Vn(k){return wi.apply(this,arguments)}function wi(){return(wi=(0,oe.Z)(function*(k){let N=yield fi(k.appConfig);for(;1===N.registrationStatus;)yield Wn(100),N=yield fi(k.appConfig);if(0===N.registrationStatus){const{installationEntry:K,registrationPromise:ue}=yield Ce(k);return ue||K}return N})).apply(this,arguments)}function fi(k){return Is(k,N=>{if(!N)throw fo.create("installation-not-found");return es(N)})}function es(k){return function Hs(k){return 1===k.registrationStatus&&k.registrationTime+1e4<Date.now()}(k)?{fid:k.fid,registrationStatus:0}:k}function Gi(k,N){return no.apply(this,arguments)}function no(){return(no=(0,oe.Z)(function*({appConfig:k,heartbeatServiceProvider:N},K){const ue=mo(k,K),Ie=hs(k,K),qe=N.getImmediate({optional:!0});if(qe){const Bn=yield qe.getHeartbeatsHeader();Bn&&Ie.append("x-firebase-client",Bn)}const mn={method:"POST",headers:Ie,body:JSON.stringify({installation:{sdkVersion:to,appId:k.appId}})},an=yield uc(()=>fetch(ue,mn));if(an.ok)return xl(yield an.json());throw yield El("Generate Auth Token",an)})).apply(this,arguments)}function mo(k,{fid:N}){return`${Zl(k)}/${N}/authTokens:generate`}function pa(k){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,oe.Z)(function*(k,N=!1){let K;const ue=yield Is(k.appConfig,qe=>{if(!Ei(qe))throw fo.create("not-registered");const gt=qe.authToken;if(!N&&br(gt))return qe;if(1===gt.requestStatus)return K=mt(k,N),qe;{if(!navigator.onLine)throw fo.create("app-offline");const mn=_s(qe);return K=$n(k,mn),mn}});return K?yield K:ue.authToken})).apply(this,arguments)}function mt(k,N){return it.apply(this,arguments)}function it(){return(it=(0,oe.Z)(function*(k,N){let K=yield $t(k.appConfig);for(;1===K.authToken.requestStatus;)yield Wn(100),K=yield $t(k.appConfig);const ue=K.authToken;return 0===ue.requestStatus?pa(k,N):ue})).apply(this,arguments)}function $t(k){return Is(k,N=>{if(!Ei(N))throw fo.create("not-registered");return function mi(k){return 1===k.requestStatus&&k.requestTime+1e4<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function $n(k,N){return ni.apply(this,arguments)}function ni(){return(ni=(0,oe.Z)(function*(k,N){try{const K=yield Gi(k,N),ue=Object.assign(Object.assign({},N),{authToken:K});return yield go(k.appConfig,ue),K}catch(K){if(!cr(K)||401!==K.customData.serverCode&&404!==K.customData.serverCode){const ue=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield go(k.appConfig,ue)}else yield Aa(k.appConfig);throw K}})).apply(this,arguments)}function Ei(k){return void 0!==k&&2===k.registrationStatus}function br(k){return 2===k.requestStatus&&!function fr(k){const N=Date.now();return N<k.creationTime||k.creationTime+k.expiresIn<N+36e5}(k)}function _s(k){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},k),{authToken:N})}function $r(){return($r=(0,oe.Z)(function*(k){const N=k,{installationEntry:K,registrationPromise:ue}=yield Ce(N);return ue?ue.catch(console.error):pa(N).catch(console.error),K.fid})).apply(this,arguments)}function Oo(){return(Oo=(0,oe.Z)(function*(k,N=!1){const K=k;return yield ys(K),(yield pa(K,N)).token})).apply(this,arguments)}function ys(k){return vn.apply(this,arguments)}function vn(){return(vn=(0,oe.Z)(function*(k){const{registrationPromise:N}=yield Ce(k);N&&(yield N)})).apply(this,arguments)}function hu(k){return fo.create("missing-app-config-values",{valueName:k})}const Ti="installations",Au=k=>{const N=k.getProvider("app").getImmediate(),K=function Lo(k){if(!k||!k.options)throw hu("App Configuration");if(!k.name)throw hu("App Name");const N=["projectId","apiKey","appId"];for(const K of N)if(!k.options[K])throw hu(K);return{appName:k.name,projectId:k.options.projectId,apiKey:k.options.apiKey,appId:k.options.appId}}(N);return{app:N,appConfig:K,heartbeatServiceProvider:(0,rt._getProvider)(N,"heartbeat"),_delete:()=>Promise.resolve()}},Eh=k=>{const N=k.getProvider("app").getImmediate(),K=(0,rt._getProvider)(N,Ti).getImmediate();return{getId:()=>function Rr(k){return $r.apply(this,arguments)}(K),getToken:Ie=>function Od(k){return Oo.apply(this,arguments)}(K,Ie)}};(function Ld(){(0,rt._registerComponent)(new vt.wA(Ti,Au,"PUBLIC")),(0,rt._registerComponent)(new vt.wA("installations-internal",Eh,"PRIVATE"))})(),(0,rt.registerVersion)(gn,"0.6.4"),(0,rt.registerVersion)(gn,"0.6.4","esm2017");const Ds="@firebase/remote-config",jr=new lt.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class vg{constructor(N,K,ue,Ie){this.client=N,this.storage=K,this.storageCache=ue,this.logger=Ie}isCachedDataFresh(N,K){if(!K)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ue=Date.now()-K,Ie=ue<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ue}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${Ie}.`),Ie}fetch(N){var K=this;return(0,oe.Z)(function*(){const[ue,Ie]=yield Promise.all([K.storage.getLastSuccessfulFetchTimestampMillis(),K.storage.getLastSuccessfulFetchResponse()]);if(Ie&&K.isCachedDataFresh(N.cacheMaxAgeMillis,ue))return Ie;N.eTag=Ie&&Ie.eTag;const qe=yield K.client.fetch(N),gt=[K.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===qe.status&&gt.push(K.storage.setLastSuccessfulFetchResponse(qe)),yield Promise.all(gt),qe})()}}function Qf(k=navigator){return k.languages&&k.languages[0]||k.language}class wg{constructor(N,K,ue,Ie,qe,gt){this.firebaseInstallations=N,this.sdkVersion=K,this.namespace=ue,this.projectId=Ie,this.apiKey=qe,this.appId=gt}fetch(N){var K=this;return(0,oe.Z)(function*(){const[ue,Ie]=yield Promise.all([K.firebaseInstallations.getId(),K.firebaseInstallations.getToken()]),gt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${K.projectId}/namespaces/${K.namespace}:fetch?key=${K.apiKey}`,mn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},an={sdk_version:K.sdkVersion,app_instance_id:ue,app_instance_id_token:Ie,app_id:K.appId,language_code:Qf()},Bn={method:"POST",headers:mn,body:JSON.stringify(an)},Fn=fetch(gt,Bn),Yt=new Promise((Ga,Ll)=>{N.signal.addEventListener(()=>{const Kh=new Error("The operation was aborted.");Kh.name="AbortError",Ll(Kh)})});let Co;try{yield Promise.race([Fn,Yt]),Co=yield Fn}catch(Ga){let Ll="fetch-client-network";throw"AbortError"===Ga?.name&&(Ll="fetch-timeout"),jr.create(Ll,{originalErrorMessage:Ga?.message})}let Ks=Co.status;const ul=Co.headers.get("ETag")||void 0;let Zs,Va;if(200===Co.status){let Ga;try{Ga=yield Co.json()}catch(Ll){throw jr.create("fetch-client-parse",{originalErrorMessage:Ll?.message})}Zs=Ga.entries,Va=Ga.state}if("INSTANCE_STATE_UNSPECIFIED"===Va?Ks=500:"NO_CHANGE"===Va?Ks=304:("NO_TEMPLATE"===Va||"EMPTY_CONFIG"===Va)&&(Zs={}),304!==Ks&&200!==Ks)throw jr.create("fetch-status",{httpStatus:Ks});return{status:Ks,eTag:ul,config:Zs}})()}}class BA{constructor(N,K){this.client=N,this.storage=K}fetch(N){var K=this;return(0,oe.Z)(function*(){const ue=(yield K.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return K.attemptFetch(N,ue)})()}attemptFetch(N,{throttleEndTimeMillis:K,backoffCount:ue}){var Ie=this;return(0,oe.Z)(function*(){yield function Hf(k,N){return new Promise((K,ue)=>{const Ie=Math.max(N-Date.now(),0),qe=setTimeout(K,Ie);k.addEventListener(()=>{clearTimeout(qe),ue(jr.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,K);try{const qe=yield Ie.client.fetch(N);return yield Ie.storage.deleteThrottleMetadata(),qe}catch(qe){if(!function Vf(k){if(!(k instanceof lt.ZR&&k.customData))return!1;const N=Number(k.customData.httpStatus);return 429===N||500===N||503===N||504===N}(qe))throw qe;const gt={throttleEndTimeMillis:Date.now()+(0,lt.$s)(ue),backoffCount:ue+1};return yield Ie.storage.setThrottleMetadata(gt),Ie.attemptFetch(N,gt)}})()}}class ea{constructor(N,K,ue,Ie,qe){this.app=N,this._client=K,this._storageCache=ue,this._storage=Ie,this._logger=qe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function $l(k,N){const K=k.target.error||void 0;return jr.create(N,{originalErrorMessage:K&&K?.message})}const Qd="app_namespace_store";class Ta{constructor(N,K,ue,Ie=function Yl(){return new Promise((k,N)=>{try{const K=indexedDB.open("firebase_remote_config",1);K.onerror=ue=>{N($l(ue,"storage-open"))},K.onsuccess=ue=>{k(ue.target.result)},K.onupgradeneeded=ue=>{0===ue.oldVersion&&ue.target.result.createObjectStore(Qd,{keyPath:"compositeKey"})}}catch(K){N(jr.create("storage-open",{originalErrorMessage:K?.message}))}})}()){this.appId=N,this.appName=K,this.namespace=ue,this.openDbPromise=Ie}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var K=this;return(0,oe.Z)(function*(){const ue=yield K.openDbPromise;return new Promise((Ie,qe)=>{const mn=ue.transaction([Qd],"readonly").objectStore(Qd),an=K.createCompositeKey(N);try{const Bn=mn.get(an);Bn.onerror=Fn=>{qe($l(Fn,"storage-get"))},Bn.onsuccess=Fn=>{const Yt=Fn.target.result;Ie(Yt?Yt.value:void 0)}}catch(Bn){qe(jr.create("storage-get",{originalErrorMessage:Bn?.message}))}})})()}set(N,K){var ue=this;return(0,oe.Z)(function*(){const Ie=yield ue.openDbPromise;return new Promise((qe,gt)=>{const an=Ie.transaction([Qd],"readwrite").objectStore(Qd),Bn=ue.createCompositeKey(N);try{const Fn=an.put({compositeKey:Bn,value:K});Fn.onerror=Yt=>{gt($l(Yt,"storage-set"))},Fn.onsuccess=()=>{qe()}}catch(Fn){gt(jr.create("storage-set",{originalErrorMessage:Fn?.message}))}})})()}delete(N){var K=this;return(0,oe.Z)(function*(){const ue=yield K.openDbPromise;return new Promise((Ie,qe)=>{const mn=ue.transaction([Qd],"readwrite").objectStore(Qd),an=K.createCompositeKey(N);try{const Bn=mn.delete(an);Bn.onerror=Fn=>{qe($l(Fn,"storage-delete"))},Bn.onsuccess=()=>{Ie()}}catch(Bn){qe(jr.create("storage-delete",{originalErrorMessage:Bn?.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class FA{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,oe.Z)(function*(){const K=N.storage.getLastFetchStatus(),ue=N.storage.getLastSuccessfulFetchTimestampMillis(),Ie=N.storage.getActiveConfig(),qe=yield K;qe&&(N.lastFetchStatus=qe);const gt=yield ue;gt&&(N.lastSuccessfulFetchTimestampMillis=gt);const mn=yield Ie;mn&&(N.activeConfig=mn)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function Hd(){return fu.apply(this,arguments)}function fu(){return(fu=(0,oe.Z)(function*(){if(!(0,lt.hl)())return!1;try{return yield(0,lt.eu)()}catch{return!1}})).apply(this,arguments)}let Bh,Wl;!function qy(){(0,rt._registerComponent)(new vt.wA("remote-config",function k(N,{instanceIdentifier:K}){const ue=N.getProvider("app").getImmediate(),Ie=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw jr.create("registration-window");if(!(0,lt.hl)())throw jr.create("indexed-db-unavailable");const{projectId:qe,apiKey:gt,appId:mn}=ue.options;if(!qe)throw jr.create("registration-project-id");if(!gt)throw jr.create("registration-api-key");if(!mn)throw jr.create("registration-app-id");const an=new Ta(mn,ue.name,K=K||"firebase"),Bn=new FA(an),Fn=new Ke.Yd(Ds);Fn.logLevel=Ke.in.ERROR;const Yt=new wg(Ie,rt.SDK_VERSION,K,qe,gt,mn),Co=new BA(Yt,an),Ks=new vg(Co,an,Bn,Fn),ul=new ea(ue,Ks,Bn,an,Fn);return function ur(k){const N=(0,lt.m9)(k);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(ul),ul},"PUBLIC").setMultipleInstances(!0)),(0,rt.registerVersion)(Ds,"0.4.4"),(0,rt.registerVersion)(Ds,"0.4.4","esm2017")}();const Ac=new WeakMap,Fh=new WeakMap,RA=new WeakMap,Ba=new WeakMap,pu=new WeakMap;let Vd={get(k,N,K){if(k instanceof IDBTransaction){if("done"===N)return Fh.get(k);if("objectStoreNames"===N)return k.objectStoreNames||RA.get(k);if("store"===N)return K.objectStoreNames[1]?void 0:K.objectStore(K.objectStoreNames[0])}return mu(k[N])},set:(k,N,K)=>(k[N]=K,!0),has:(k,N)=>k instanceof IDBTransaction&&("done"===N||"store"===N)||N in k};function td(k){return"function"==typeof k?function _o(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function kA(){return Wl||(Wl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...N){return k.apply(Gd(this),N),mu(Ac.get(this))}:function(...N){return mu(k.apply(Gd(this),N))}:function(N,...K){const ue=k.call(Gd(this),N,...K);return RA.set(ue,N.sort?N.sort():[N]),mu(ue)}}(k):(k instanceof IDBTransaction&&function gu(k){if(Fh.has(k))return;const N=new Promise((K,ue)=>{const Ie=()=>{k.removeEventListener("complete",qe),k.removeEventListener("error",gt),k.removeEventListener("abort",gt)},qe=()=>{K(),Ie()},gt=()=>{ue(k.error||new DOMException("AbortError","AbortError")),Ie()};k.addEventListener("complete",qe),k.addEventListener("error",gt),k.addEventListener("abort",gt)});Fh.set(k,N)}(k),((k,N)=>N.some(K=>k instanceof K))(k,function Gf(){return Bh||(Bh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,Vd):k)}function mu(k){if(k instanceof IDBRequest)return function a_(k){const N=new Promise((K,ue)=>{const Ie=()=>{k.removeEventListener("success",qe),k.removeEventListener("error",gt)},qe=()=>{K(mu(k.result)),Ie()},gt=()=>{ue(k.error),Ie()};k.addEventListener("success",qe),k.addEventListener("error",gt)});return N.then(K=>{K instanceof IDBCursor&&Ac.set(K,k)}).catch(()=>{}),pu.set(N,k),N}(k);if(Ba.has(k))return Ba.get(k);const N=td(k);return N!==k&&(Ba.set(k,N),pu.set(N,k)),N}const Gd=k=>pu.get(k);function yo(k,N,{blocked:K,upgrade:ue,blocking:Ie,terminated:qe}={}){const gt=indexedDB.open(k,N),mn=mu(gt);return ue&&gt.addEventListener("upgradeneeded",an=>{ue(mu(gt.result),an.oldVersion,an.newVersion,mu(gt.transaction))}),K&&gt.addEventListener("blocked",()=>K()),mn.then(an=>{qe&&an.addEventListener("close",()=>qe()),Ie&&an.addEventListener("versionchange",()=>Ie())}).catch(()=>{}),mn}function l_(k,{blocked:N}={}){const K=indexedDB.deleteDatabase(k);return N&&K.addEventListener("blocked",()=>N()),mu(K).then(()=>{})}const OA=["get","getKey","getAll","getAllKeys","count"],na=["put","add","delete","clear"],Ts=new Map;function _u(k,N){if(!(k instanceof IDBDatabase)||N in k||"string"!=typeof N)return;if(Ts.get(N))return Ts.get(N);const K=N.replace(/FromIndex$/,""),ue=N!==K,Ie=na.includes(K);if(!(K in(ue?IDBIndex:IDBObjectStore).prototype)||!Ie&&!OA.includes(K))return;const qe=function(){var gt=(0,oe.Z)(function*(mn,...an){const Bn=this.transaction(mn,Ie?"readwrite":"readonly");let Fn=Bn.store;return ue&&(Fn=Fn.index(an.shift())),(yield Promise.all([Fn[K](...an),Ie&&Bn.done]))[0]});return function(an){return gt.apply(this,arguments)}}();return Ts.set(N,qe),qe}!function Zy(k){Vd=k(Vd)}(k=>({...k,get:(N,K,ue)=>_u(N,K)||k.get(N,K,ue),has:(N,K)=>!!_u(N,K)||k.has(N,K)}));const yu="/firebase-messaging-sw.js",nd="/firebase-cloud-messaging-push-scope",$i="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Jl="google.c.a.c_id",Si="google.c.a.c_l",fc="google.c.a.ts",Or="google.c.a.e";var Fa=(()=>{return(k=Fa||(Fa={})).PUSH_RECEIVED="push-received",k.NOTIFICATION_CLICKED="notification-clicked",Fa;var k})();function qi(k){const N=new Uint8Array(k);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function jf(k){const K=(k+"=".repeat((4-k.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ue=atob(K),Ie=new Uint8Array(ue.length);for(let qe=0;qe<ue.length;++qe)Ie[qe]=ue.charCodeAt(qe);return Ie}const vo="fcm_token_details_db",Rt="fcm_token_object_Store";function Ki(k){return Dr.apply(this,arguments)}function Dr(){return Dr=(0,oe.Z)(function*(k){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(qe=>qe.name).includes(vo))return null;let N=null;return(yield yo(vo,5,{upgrade:(ue=(0,oe.Z)(function*(Ie,qe,gt,mn){var an;if(qe<2||!Ie.objectStoreNames.contains(Rt))return;const Bn=mn.objectStore(Rt),Fn=yield Bn.index("fcmSenderId").get(k);if(yield Bn.clear(),Fn)if(2===qe){const Yt=Fn;if(!Yt.auth||!Yt.p256dh||!Yt.endpoint)return;N={token:Yt.fcmToken,createTime:null!==(an=Yt.createTime)&&void 0!==an?an:Date.now(),subscriptionOptions:{auth:Yt.auth,p256dh:Yt.p256dh,endpoint:Yt.endpoint,swScope:Yt.swScope,vapidKey:"string"==typeof Yt.vapidKey?Yt.vapidKey:qi(Yt.vapidKey)}}}else if(3===qe){const Yt=Fn;N={token:Yt.fcmToken,createTime:Yt.createTime,subscriptionOptions:{auth:qi(Yt.auth),p256dh:qi(Yt.p256dh),endpoint:Yt.endpoint,swScope:Yt.swScope,vapidKey:qi(Yt.vapidKey)}}}else if(4===qe){const Yt=Fn;N={token:Yt.fcmToken,createTime:Yt.createTime,subscriptionOptions:{auth:qi(Yt.auth),p256dh:qi(Yt.p256dh),endpoint:Yt.endpoint,swScope:Yt.swScope,vapidKey:qi(Yt.vapidKey)}}}}),function(qe,gt,mn,an){return ue.apply(this,arguments)})})).close(),yield l_(vo),yield l_("fcm_vapid_details_db"),yield l_("undefined"),Ig(N)?N:null;var ue}),Dr.apply(this,arguments)}function Ig(k){if(!k||!k.subscriptionOptions)return!1;const{subscriptionOptions:N}=k;return"number"==typeof k.createTime&&k.createTime>0&&"string"==typeof k.token&&k.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}const Ma="firebase-messaging-store";let Gs=null;function Fl(){return Gs||(Gs=yo("firebase-messaging-database",1,{upgrade:(k,N)=>{0===N&&k.createObjectStore(Ma)}})),Gs}function kh(k){return ka.apply(this,arguments)}function ka(){return(ka=(0,oe.Z)(function*(k){const N=Rl(k),ue=yield(yield Fl()).transaction(Ma).objectStore(Ma).get(N);if(ue)return ue;{const Ie=yield Ki(k.appConfig.senderId);if(Ie)return yield Ml(k,Ie),Ie}})).apply(this,arguments)}function Ml(k,N){return kl.apply(this,arguments)}function kl(){return(kl=(0,oe.Z)(function*(k,N){const K=Rl(k),Ie=(yield Fl()).transaction(Ma,"readwrite");return yield Ie.objectStore(Ma).put(N,K),yield Ie.done,N})).apply(this,arguments)}function vs(k){return zr.apply(this,arguments)}function zr(){return(zr=(0,oe.Z)(function*(k){const N=Rl(k),ue=(yield Fl()).transaction(Ma,"readwrite");yield ue.objectStore(Ma).delete(N),yield ue.done})).apply(this,arguments)}function Rl({appConfig:k}){return k.appId}const ss=new lt.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Xl(k,N){return Dg.apply(this,arguments)}function Dg(){return(Dg=(0,oe.Z)(function*(k,N){const K=yield rd(k),ue=Tg(N),Ie={method:"POST",headers:K,body:JSON.stringify(ue)};let qe;try{qe=yield(yield fetch(jc(k.appConfig),Ie)).json()}catch(gt){throw ss.create("token-subscribe-failed",{errorInfo:gt?.toString()})}if(qe.error)throw ss.create("token-subscribe-failed",{errorInfo:qe.error.message});if(!qe.token)throw ss.create("token-subscribe-no-token");return qe.token})).apply(this,arguments)}function id(k,N){return pc.apply(this,arguments)}function pc(){return(pc=(0,oe.Z)(function*(k,N){const K=yield rd(k),ue=Tg(N.subscriptionOptions),Ie={method:"PATCH",headers:K,body:JSON.stringify(ue)};let qe;try{qe=yield(yield fetch(`${jc(k.appConfig)}/${N.token}`,Ie)).json()}catch(gt){throw ss.create("token-update-failed",{errorInfo:gt?.toString()})}if(qe.error)throw ss.create("token-update-failed",{errorInfo:qe.error.message});if(!qe.token)throw ss.create("token-update-no-token");return qe.token})).apply(this,arguments)}function zf(k,N){return vu.apply(this,arguments)}function vu(){return(vu=(0,oe.Z)(function*(k,N){const ue={method:"DELETE",headers:yield rd(k)};try{const qe=yield(yield fetch(`${jc(k.appConfig)}/${N}`,ue)).json();if(qe.error)throw ss.create("token-unsubscribe-failed",{errorInfo:qe.error.message})}catch(Ie){throw ss.create("token-unsubscribe-failed",{errorInfo:Ie?.toString()})}})).apply(this,arguments)}function jc({projectId:k}){return`https://fcmregistrations.googleapis.com/v1/projects/${k}/registrations`}function rd(k){return zc.apply(this,arguments)}function zc(){return(zc=(0,oe.Z)(function*({appConfig:k,installations:N}){const K=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k.apiKey,"x-goog-firebase-installations-auth":`FIS ${K}`})})).apply(this,arguments)}function Tg({p256dh:k,auth:N,endpoint:K,vapidKey:ue}){const Ie={web:{endpoint:K,auth:N,p256dh:k}};return ue!==$i&&(Ie.web.applicationPubKey=ue),Ie}const Ra=6048e5;function qf(k){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,oe.Z)(function*(k){const N=yield ia(k.swRegistration,k.vapidKey),K={vapidKey:k.vapidKey,swScope:k.swRegistration.scope,endpoint:N.endpoint,auth:qi(N.getKey("auth")),p256dh:qi(N.getKey("p256dh"))},ue=yield kh(k.firebaseDependencies);if(ue){if(Lr(ue.subscriptionOptions,K))return Date.now()>=ue.createTime+Ra?Fg(k,{token:ue.token,createTime:Date.now(),subscriptionOptions:K}):ue.token;try{yield zf(k.firebaseDependencies,ue.token)}catch(Ie){console.warn(Ie)}return Mg(k.firebaseDependencies,K)}return Mg(k.firebaseDependencies,K)})).apply(this,arguments)}function Bg(k){return wu.apply(this,arguments)}function wu(){return(wu=(0,oe.Z)(function*(k){const N=yield kh(k.firebaseDependencies);N&&(yield zf(k.firebaseDependencies,N.token),yield vs(k.firebaseDependencies));const K=yield k.swRegistration.pushManager.getSubscription();return!K||K.unsubscribe()})).apply(this,arguments)}function Fg(k,N){return sd.apply(this,arguments)}function sd(){return(sd=(0,oe.Z)(function*(k,N){try{const K=yield id(k.firebaseDependencies,N),ue=Object.assign(Object.assign({},N),{token:K,createTime:Date.now()});return yield Ml(k.firebaseDependencies,ue),K}catch(K){throw yield Bg(k),K}})).apply(this,arguments)}function Mg(k,N){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,oe.Z)(function*(k,N){const ue={token:yield Xl(k,N),createTime:Date.now(),subscriptionOptions:N};return yield Ml(k,ue),ue.token})).apply(this,arguments)}function ia(k,N){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,oe.Z)(function*(k,N){return(yield k.pushManager.getSubscription())||k.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:jf(N)})})).apply(this,arguments)}function Lr(k,N){return N.vapidKey===k.vapidKey&&N.endpoint===k.endpoint&&N.auth===k.auth&&N.p256dh===k.p256dh}function PA(k){const N={from:k.from,collapseKey:k.collapse_key,messageId:k.fcmMessageId};return function od(k,N){if(!N.notification)return;k.notification={};const K=N.notification.title;K&&(k.notification.title=K);const ue=N.notification.body;ue&&(k.notification.body=ue);const Ie=N.notification.image;Ie&&(k.notification.image=Ie);const qe=N.notification.icon;qe&&(k.notification.icon=qe)}(N,k),function kg(k,N){!N.data||(k.data=N.data)}(N,k),function Lh(k,N){var K,ue,Ie,qe,gt;if(!(N.fcmOptions||null!==(K=N.notification)&&void 0!==K&&K.click_action))return;k.fcmOptions={};const mn=null!==(Ie=null===(ue=N.fcmOptions)||void 0===ue?void 0:ue.link)&&void 0!==Ie?Ie:null===(qe=N.notification)||void 0===qe?void 0:qe.click_action;mn&&(k.fcmOptions.link=mn);const an=null===(gt=N.fcmOptions)||void 0===gt?void 0:gt.analytics_label;an&&(k.fcmOptions.analyticsLabel=an)}(N,k),N}function Kf(k){return"object"==typeof k&&!!k&&Jl in k}function Rg(k,N){const K=[];for(let ue=0;ue<k.length;ue++)K.push(k.charAt(ue)),ue<N.length&&K.push(N.charAt(ue));return K.join("")}function jd(k){return ss.create("missing-app-config-values",{valueName:k})}Rg("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Rg("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class gc{constructor(N,K,ue){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ie=function bu(k){if(!k||!k.options)throw jd("App Configuration Object");if(!k.name)throw jd("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:K}=k;for(const ue of N)if(!K[ue])throw jd(ue);return{appName:k.name,projectId:K.projectId,apiKey:K.apiKey,appId:K.appId,senderId:K.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:Ie,installations:K,analyticsProvider:ue}}_delete(){return Promise.resolve()}}function ad(k){return ld.apply(this,arguments)}function ld(){return(ld=(0,oe.Z)(function*(k){try{k.swRegistration=yield navigator.serviceWorker.register(yu,{scope:nd}),k.swRegistration.update().catch(()=>{})}catch(N){throw ss.create("failed-service-worker-registration",{browserErrorMessage:N?.message})}})).apply(this,arguments)}function Og(k,N){return La.apply(this,arguments)}function La(){return(La=(0,oe.Z)(function*(k,N){if(!N&&!k.swRegistration&&(yield ad(k)),N||!k.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw ss.create("invalid-sw-registration");k.swRegistration=N}})).apply(this,arguments)}function zd(k,N){return ol.apply(this,arguments)}function ol(){return(ol=(0,oe.Z)(function*(k,N){N?k.vapidKey=N:k.vapidKey||(k.vapidKey=$i)})).apply(this,arguments)}function Cu(){return(Cu=(0,oe.Z)(function*(k,N){if(!navigator)throw ss.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ss.create("permission-blocked");return yield zd(k,N?.vapidKey),yield Og(k,N?.serviceWorkerRegistration),qf(k)})).apply(this,arguments)}function cd(k,N,K){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,oe.Z)(function*(k,N,K){const ue=Lg(N);(yield k.firebaseDependencies.analyticsProvider.get()).logEvent(ue,{message_id:K[Jl],message_name:K[Si],message_time:K[fc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Lg(k){switch(k){case Fa.NOTIFICATION_CLICKED:return"notification_open";case Fa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Pg(){return(Pg=(0,oe.Z)(function*(k,N){const K=N.data;if(!K.isFirebaseMessaging)return;k.onMessageHandler&&K.messageType===Fa.PUSH_RECEIVED&&("function"==typeof k.onMessageHandler?k.onMessageHandler(PA(K)):k.onMessageHandler.next(PA(K)));const ue=K.data;Kf(ue)&&"1"===ue[Or]&&(yield cd(k,K.messageType,ue))})).apply(this,arguments)}const ga="@firebase/messaging",c_=k=>{const N=new gc(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),k.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",K=>function Ng(k,N){return Pg.apply(this,arguments)}(N,K)),N},xu=k=>{const N=k.getProvider("messaging").getImmediate();return{getToken:ue=>function UA(k,N){return Cu.apply(this,arguments)}(N,ue)}};function qd(){return ud.apply(this,arguments)}function ud(){return(ud=(0,oe.Z)(function*(){try{yield(0,lt.eu)()}catch{return!1}return typeof window<"u"&&(0,lt.hl)()&&(0,lt.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function QA(){(0,rt._registerComponent)(new vt.wA("messaging",c_,"PUBLIC")),(0,rt._registerComponent)(new vt.wA("messaging-internal",xu,"PRIVATE")),(0,rt.registerVersion)(ga,"0.12.4"),(0,rt.registerVersion)(ga,"0.12.4","esm2017")}();const Na="analytics",Ug="firebase_id",d_="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Uh="https://www.googletagmanager.com/gtag/js",os=new Ke.Yd("@firebase/analytics"),Po=new lt.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Wf(k){if(!k.startsWith(Uh)){const N=Po.create("invalid-gtag-resource",{gtagURL:k});return os.warn(N.message),""}return k}function $d(k){return Promise.all(k.map(N=>N.catch(K=>K)))}function HA(k,N){const K=function Qh(k,N){let K;return window.trustedTypes&&(K=window.trustedTypes.createPolicy(k,N)),K}("firebase-js-sdk-policy",{createScriptURL:Wf}),ue=document.createElement("script"),Ie=`${Uh}?l=${k}&id=${N}`;ue.src=K?K?.createScriptURL(Ie):Ie,ue.async=!0,document.head.appendChild(ue)}function Yd(k,N,K,ue,Ie,qe){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,oe.Z)(function*(k,N,K,ue,Ie,qe){const gt=ue[Ie];try{if(gt)yield N[gt];else{const an=(yield $d(K)).find(Bn=>Bn.measurementId===Ie);an&&(yield N[an.appId])}}catch(mn){os.error(mn)}k("config",Ie,qe)})).apply(this,arguments)}function h_(k,N,K,ue,Ie){return VA.apply(this,arguments)}function VA(){return(VA=(0,oe.Z)(function*(k,N,K,ue,Ie){try{let qe=[];if(Ie&&Ie.send_to){let gt=Ie.send_to;Array.isArray(gt)||(gt=[gt]);const mn=yield $d(K);for(const an of gt){const Bn=mn.find(Yt=>Yt.measurementId===an),Fn=Bn&&N[Bn.appId];if(!Fn){qe=[];break}qe.push(Fn)}}0===qe.length&&(qe=Object.values(N)),yield Promise.all(qe),k("event",ue,Ie||{})}catch(qe){os.error(qe)}})).apply(this,arguments)}function jA(k){const N=window.document.getElementsByTagName("script");for(const K of Object.values(N))if(K.src&&K.src.includes(Uh)&&K.src.includes(k))return K;return null}const ma=new class Xf{constructor(N={},K=1e3){this.throttleMetadata=N,this.intervalMillis=K}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,K){this.throttleMetadata[N]=K}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function Jd(k){return new Headers({Accept:"application/json","x-goog-api-key":k})}function ts(k){return mc.apply(this,arguments)}function mc(){return(mc=(0,oe.Z)(function*(k){var N;const{appId:K,apiKey:ue}=k,Ie={method:"GET",headers:Jd(ue)},qe=d_.replace("{app-id}",K),gt=yield fetch(qe,Ie);if(200!==gt.status&&304!==gt.status){let mn="";try{const an=yield gt.json();null!==(N=an.error)&&void 0!==N&&N.message&&(mn=an.error.message)}catch{}throw Po.create("config-fetch-failed",{httpStatus:gt.status,responseMessage:mn})}return gt.json()})).apply(this,arguments)}function Hh(k){return zA.apply(this,arguments)}function zA(){return(zA=(0,oe.Z)(function*(k,N=ma,K){const{appId:ue,apiKey:Ie,measurementId:qe}=k.options;if(!ue)throw Po.create("no-app-id");if(!Ie){if(qe)return{measurementId:qe,appId:ue};throw Po.create("no-api-key")}const gt=N.getThrottleMetadata(ue)||{backoffCount:0,throttleEndTimeMillis:Date.now()},mn=new ow;return setTimeout((0,oe.Z)(function*(){mn.abort()}),void 0!==K?K:6e4),Eu({appId:ue,apiKey:Ie,measurementId:qe},gt,mn,N)})).apply(this,arguments)}function Eu(k,N,K){return A_.apply(this,arguments)}function A_(){return(A_=(0,oe.Z)(function*(k,{throttleEndTimeMillis:N,backoffCount:K},ue,Ie=ma){var qe;const{appId:gt,measurementId:mn}=k;try{yield f_(ue,N)}catch(an){if(mn)return os.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${mn} provided in the "measurementId" field in the local Firebase config. [${an?.message}]`),{appId:gt,measurementId:mn};throw an}try{const an=yield ts(k);return Ie.deleteThrottleMetadata(gt),an}catch(an){const Bn=an;if(!qr(Bn)){if(Ie.deleteThrottleMetadata(gt),mn)return os.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${mn} provided in the "measurementId" field in the local Firebase config. [${Bn?.message}]`),{appId:gt,measurementId:mn};throw an}const Fn=503===Number(null===(qe=Bn?.customData)||void 0===qe?void 0:qe.httpStatus)?(0,lt.$s)(K,Ie.intervalMillis,30):(0,lt.$s)(K,Ie.intervalMillis),Yt={throttleEndTimeMillis:Date.now()+Fn,backoffCount:K+1};return Ie.setThrottleMetadata(gt,Yt),os.debug(`Calling attemptFetch again in ${Fn} millis`),Eu(k,Yt,ue,Ie)}})).apply(this,arguments)}function f_(k,N){return new Promise((K,ue)=>{const Ie=Math.max(N-Date.now(),0),qe=setTimeout(K,Ie);k.addEventListener(()=>{clearTimeout(qe),ue(Po.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}function qr(k){if(!(k instanceof lt.ZR&&k.customData))return!1;const N=Number(k.customData.httpStatus);return 429===N||500===N||503===N||504===N}class ow{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let qA,__;function _c(){return(_c=(0,oe.Z)(function*(k,N,K,ue,Ie){if(Ie&&Ie.global)k("event",K,ue);else{const qe=yield N;k("event",K,Object.assign(Object.assign({},ue),{send_to:qe}))}})).apply(this,arguments)}function Gn(k){__=k}function Pa(k){qA=k}function An(){return tn.apply(this,arguments)}function tn(){return(tn=(0,oe.Z)(function*(){if(!(0,lt.hl)())return os.warn(Po.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,lt.eu)()}catch(k){return os.warn(Po.create("indexeddb-unavailable",{errorInfo:k?.toString()}).message),!1}return!0})).apply(this,arguments)}function Gh(){return(Gh=(0,oe.Z)(function*(k,N,K,ue,Ie,qe,gt){var mn;const an=Hh(k);an.then(Ks=>{K[Ks.measurementId]=Ks.appId,k.options.measurementId&&Ks.measurementId!==k.options.measurementId&&os.warn(`The measurement ID in the local Firebase config (${k.options.measurementId}) does not match the measurement ID fetched from the server (${Ks.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ks=>os.error(Ks)),N.push(an);const Bn=An().then(Ks=>{if(Ks)return ue.getId()}),[Fn,Yt]=yield Promise.all([an,Bn]);jA(qe)||HA(qe,Fn.measurementId),__&&(Ie("consent","default",__),Gn(void 0)),Ie("js",new Date);const Co=null!==(mn=gt?.config)&&void 0!==mn?mn:{};return Co.origin="firebase",Co.update=!0,null!=Yt&&(Co[Ug]=Yt),Ie("config",Fn.measurementId,Co),qA&&(Ie("set",qA),Pa(void 0)),Fn.measurementId})).apply(this,arguments)}class Su{constructor(N){this.app=N}_delete(){return delete mr[this.app.options.appId],Promise.resolve()}}let mr={},y_=[];const v_={};let jh,ra,hd="dataLayer",wn=!1;function np(k,N,K){!function Hg(){const k=[];if((0,lt.ru)()&&k.push("This is a browser extension environment."),(0,lt.zI)()||k.push("Cookies are not available."),k.length>0){const N=k.map((ue,Ie)=>`(${Ie+1}) ${ue}`).join(" "),K=Po.create("invalid-analytics-context",{errorInfo:N});os.warn(K.message)}}();const ue=k.options.appId;if(!ue)throw Po.create("no-app-id");if(!k.options.apiKey){if(!k.options.measurementId)throw Po.create("no-api-key");os.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${k.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=mr[ue])throw Po.create("already-exists",{id:ue});if(!wn){!function ec(k){let N=[];Array.isArray(window[k])?N=window[k]:window[k]=N}(hd);const{wrappedGtag:qe,gtagCore:gt}=function GA(k,N,K,ue,Ie){let qe=function(...gt){window[ue].push(arguments)};return window[Ie]&&"function"==typeof window[Ie]&&(qe=window[Ie]),window[Ie]=function Wd(k,N,K,ue){function qe(){return(qe=(0,oe.Z)(function*(gt,...mn){try{if("event"===gt){const[an,Bn]=mn;yield h_(k,N,K,an,Bn)}else if("config"===gt){const[an,Bn]=mn;yield Yd(k,N,K,ue,an,Bn)}else if("consent"===gt){const[an]=mn;k("consent","update",an)}else if("get"===gt){const[an,Bn,Fn]=mn;k("get",an,Bn,Fn)}else if("set"===gt){const[an]=mn;k("set",an)}else k(gt,...mn)}catch(an){os.error(an)}})).apply(this,arguments)}return function Ie(gt){return qe.apply(this,arguments)}}(qe,k,N,K),{gtagCore:qe,wrappedGtag:window[Ie]}}(mr,y_,v_,hd,"gtag");ra=qe,jh=gt,wn=!0}return mr[ue]=function pr(k,N,K,ue,Ie,qe,gt){return Gh.apply(this,arguments)}(k,y_,v_,N,jh,hd,K),new Su(k)}function Nr(){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,oe.Z)(function*(){if((0,lt.ru)()||!(0,lt.zI)()||!(0,lt.hl)())return!1;try{return yield(0,lt.eu)()}catch{return!1}})).apply(this,arguments)}const zs="@firebase/analytics";!function yc(){(0,rt._registerComponent)(new vt.wA(Na,(N,{options:K})=>np(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),K),"PUBLIC")),(0,rt._registerComponent)(new vt.wA("analytics-internal",function k(N){try{const K=N.getProvider(Na).getImmediate();return{logEvent:(ue,Ie,qe)=>function Xd(k,N,K,ue){k=(0,lt.m9)(k),function Jy(k,N,K,ue,Ie){return _c.apply(this,arguments)}(ra,mr[k.app.options.appId],N,K,ue).catch(Ie=>os.error(Ie))}(K,ue,Ie,qe)}}catch(K){throw Po.create("interop-component-reg-failed",{reason:K})}},"PRIVATE")),(0,rt.registerVersion)(zs,"0.10.0"),(0,rt.registerVersion)(zs,"0.10.0","esm2017")}();var Uo=re(4408),fd=re(7565);const ws=new class zh extends fd.v{}(class Wr extends Uo.o{constructor(N,K){super(N,K),this.scheduler=N,this.work=K}schedule(N,K=0){return K>0?super.schedule(N,K):(this.delay=K,this.state=N,this.scheduler.flush(this),this)}execute(N,K){return K>0||this.closed?super.execute(N,K):this._execute(N,K)}requestAsyncId(N,K,ue=0){return null!=ue&&ue>0||null==ue&&this.delay>0?super.requestAsyncId(N,K,ue):N.flush(this)}});var sa=re(4986),_i=re(8505),wo=re(9468),eh=re(5363);const Gg=new s.GfV("7.5.0"),$c="__angularfire_symbol__analyticsIsSupportedValue",Qo="__angularfire_symbol__analyticsIsSupported",cl="__angularfire_symbol__remoteConfigIsSupportedValue",Cr="__angularfire_symbol__remoteConfigIsSupported",Ho="__angularfire_symbol__messagingIsSupportedValue",th="__angularfire_symbol__messagingIsSupported";function pd(k,N,K){if(N){if(1===N.length)return N[0];const qe=N.filter(gt=>gt.app===K);if(1===qe.length)return qe[0]}return K.container.getProvider(k).getImmediate({optional:!0})}globalThis[Qo]||(globalThis[Qo]=Nr().then(k=>globalThis[$c]=k).catch(()=>globalThis[$c]=!1)),globalThis[th]||(globalThis[th]=qd().then(k=>globalThis[Ho]=k).catch(()=>globalThis[Ho]=!1)),globalThis[Cr]||(globalThis[Cr]=Hd().then(k=>globalThis[cl]=k).catch(()=>globalThis[cl]=!1));const nh=(k,N)=>{const K=N?[N]:(0,ze.C6)(),ue=[];return K.forEach(Ie=>{Ie.container.getProvider(k).instances.forEach(gt=>{ue.includes(gt)||ue.push(gt)})}),ue};function pi(){}class ih{constructor(N,K=ws){this.zone=N,this.delegate=K}now(){return this.delegate.now()}schedule(N,K,ue){const Ie=this.zone;return this.delegate.schedule(function(gt){Ie.runGuarded(()=>{N.apply(this,[gt])})},K,ue)}}class w_{constructor(N){this.zone=N,this.task=null}call(N,K){const ue=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pi,{},pi,pi)),K.pipe((0,_i.b)({next:ue,complete:ue,error:ue})).subscribe(N).add(ue)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Bu=(()=>{class k{constructor(K){this.ngZone=K,this.outsideAngular=K.runOutsideAngular(()=>new ih(Zone.current)),this.insideAngular=K.run(()=>new ih(Zone.current,sa.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return k.\u0275fac=function(K){return new(K||k)(s.LFG(s.R0b))},k.\u0275prov=s.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();function Fu(){const k=globalThis.\u0275AngularFireScheduler;if(!k)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return k}function Mu(k){return Fu(),function b_(k){return function(K){return(K=K.lift(new w_(k.ngZone))).pipe((0,wo.R)(k.outsideAngular),(0,eh.Q)(k.insideAngular))}}(Fu())(k)}},2090:(ei,Lt,re)=>{"use strict";re.d(Lt,{$s:()=>Aa,BH:()=>en,DV:()=>Sl,Dv:()=>Oi,G6:()=>to,GJ:()=>uc,L:()=>ut,LL:()=>Cl,Pz:()=>ti,Sg:()=>Tn,UG:()=>et,UI:()=>Mr,US:()=>vt,Wj:()=>Wo,Wl:()=>xl,Yr:()=>Sr,ZB:()=>je,ZR:()=>Ss,aH:()=>Jt,b$:()=>Kt,cI:()=>Zl,dS:()=>du,eu:()=>Ro,g5:()=>oe,gK:()=>Qs,gQ:()=>Yo,h$:()=>Tt,hl:()=>Mi,hu:()=>ze,jU:()=>It,lb:()=>Hi,m9:()=>fa,ne:()=>si,p$:()=>De,pd:()=>hc,r3:()=>Ps,ru:()=>dt,tV:()=>Ee,uI:()=>Zn,ug:()=>Vi,vZ:()=>Us,w1:()=>gn,w9:()=>hs,xO:()=>Qc,xb:()=>Zt,z$:()=>sn,zI:()=>Fr,zd:()=>Kr});const ze=function(Ce,ve){if(!Ce)throw oe(ve)},oe=function(Ce){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Ce)},rt=function(Ce){const ve=[];let Me=0;for(let wt=0;wt<Ce.length;wt++){let Qe=Ce.charCodeAt(wt);Qe<128?ve[Me++]=Qe:Qe<2048?(ve[Me++]=Qe>>6|192,ve[Me++]=63&Qe|128):55296==(64512&Qe)&&wt+1<Ce.length&&56320==(64512&Ce.charCodeAt(wt+1))?(Qe=65536+((1023&Qe)<<10)+(1023&Ce.charCodeAt(++wt)),ve[Me++]=Qe>>18|240,ve[Me++]=Qe>>12&63|128,ve[Me++]=Qe>>6&63|128,ve[Me++]=63&Qe|128):(ve[Me++]=Qe>>12|224,ve[Me++]=Qe>>6&63|128,ve[Me++]=63&Qe|128)}return ve},vt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ce,ve){if(!Array.isArray(Ce))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Me=ve?this.byteToCharMapWebSafe_:this.byteToCharMap_,wt=[];for(let Qe=0;Qe<Ce.length;Qe+=3){const Rn=Ce[Qe],Vn=Qe+1<Ce.length,wi=Vn?Ce[Qe+1]:0,fi=Qe+2<Ce.length,es=fi?Ce[Qe+2]:0;let no=(15&wi)<<2|es>>6,mo=63&es;fi||(mo=64,Vn||(no=64)),wt.push(Me[Rn>>2],Me[(3&Rn)<<4|wi>>4],Me[no],Me[mo])}return wt.join("")},encodeString(Ce,ve){return this.HAS_NATIVE_SUPPORT&&!ve?btoa(Ce):this.encodeByteArray(rt(Ce),ve)},decodeString(Ce,ve){return this.HAS_NATIVE_SUPPORT&&!ve?atob(Ce):function(Ce){const ve=[];let Me=0,wt=0;for(;Me<Ce.length;){const Qe=Ce[Me++];if(Qe<128)ve[wt++]=String.fromCharCode(Qe);else if(Qe>191&&Qe<224){const Rn=Ce[Me++];ve[wt++]=String.fromCharCode((31&Qe)<<6|63&Rn)}else if(Qe>239&&Qe<365){const fi=((7&Qe)<<18|(63&Ce[Me++])<<12|(63&Ce[Me++])<<6|63&Ce[Me++])-65536;ve[wt++]=String.fromCharCode(55296+(fi>>10)),ve[wt++]=String.fromCharCode(56320+(1023&fi))}else{const Rn=Ce[Me++],Vn=Ce[Me++];ve[wt++]=String.fromCharCode((15&Qe)<<12|(63&Rn)<<6|63&Vn)}}return ve.join("")}(this.decodeStringToByteArray(Ce,ve))},decodeStringToByteArray(Ce,ve){this.init_();const Me=ve?this.charToByteMapWebSafe_:this.charToByteMap_,wt=[];for(let Qe=0;Qe<Ce.length;){const Rn=Me[Ce.charAt(Qe++)],wi=Qe<Ce.length?Me[Ce.charAt(Qe)]:0;++Qe;const es=Qe<Ce.length?Me[Ce.charAt(Qe)]:64;++Qe;const Gi=Qe<Ce.length?Me[Ce.charAt(Qe)]:64;if(++Qe,null==Rn||null==wi||null==es||null==Gi)throw new Ke;wt.push(Rn<<2|wi>>4),64!==es&&(wt.push(wi<<4&240|es>>2),64!==Gi&&wt.push(es<<6&192|Gi))}return wt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ce=0;Ce<this.ENCODED_VALS.length;Ce++)this.byteToCharMap_[Ce]=this.ENCODED_VALS.charAt(Ce),this.charToByteMap_[this.byteToCharMap_[Ce]]=Ce,this.byteToCharMapWebSafe_[Ce]=this.ENCODED_VALS_WEBSAFE.charAt(Ce),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ce]]=Ce,Ce>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ce)]=Ce,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ce)]=Ce)}}};class Ke extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tt=function(Ce){const ve=rt(Ce);return vt.encodeByteArray(ve,!0)},ut=function(Ce){return Tt(Ce).replace(/\./g,"")},Ee=function(Ce){try{return vt.decodeString(Ce,!0)}catch(ve){console.error("base64Decode failed: ",ve)}return null};function De(Ce){return je(void 0,Ce)}function je(Ce,ve){if(!(ve instanceof Object))return ve;switch(ve.constructor){case Date:return new Date(ve.getTime());case Object:void 0===Ce&&(Ce={});break;case Array:Ce=[];break;default:return ve}for(const Me in ve)!ve.hasOwnProperty(Me)||!hn(Me)||(Ce[Me]=je(Ce[Me],ve[Me]));return Ce}function hn(Ce){return"__proto__"!==Ce}const Ut=()=>{try{return function Qt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ce=process.env.__FIREBASE_DEFAULTS__;return Ce?JSON.parse(Ce):void 0})()||(()=>{if(typeof document>"u")return;let Ce;try{Ce=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ve=Ce&&Ee(Ce[1]);return ve&&JSON.parse(ve)})()}catch(Ce){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ce}`)}},Jt=()=>{var Ce;return null===(Ce=Ut())||void 0===Ce?void 0:Ce.config},ti=Ce=>{var ve;return null===(ve=Ut())||void 0===ve?void 0:ve[`_${Ce}`]};class en{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ve,Me)=>{this.resolve=ve,this.reject=Me})}wrapCallback(ve){return(Me,wt)=>{Me?this.reject(Me):this.resolve(wt),"function"==typeof ve&&(this.promise.catch(()=>{}),1===ve.length?ve(Me):ve(Me,wt))}}}function Tn(Ce,ve){if(Ce.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const wt=ve||"demo-project",Qe=Ce.iat||0,Rn=Ce.sub||Ce.user_id;if(!Rn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Vn=Object.assign({iss:`https://securetoken.google.com/${wt}`,aud:wt,iat:Qe,exp:Qe+3600,auth_time:Qe,sub:Rn,user_id:Rn,firebase:{sign_in_provider:"custom",identities:{}}},Ce);return[ut(JSON.stringify({alg:"none",type:"JWT"})),ut(JSON.stringify(Vn)),""].join(".")}function sn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Zn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function et(){var Ce;const ve=null===(Ce=Ut())||void 0===Ce?void 0:Ce.forceEnvironment;if("node"===ve)return!0;if("browser"===ve)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function It(){return"object"==typeof self&&self.self===self}function dt(){const Ce="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ce&&void 0!==Ce.id}function Kt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function gn(){const Ce=sn();return Ce.indexOf("MSIE ")>=0||Ce.indexOf("Trident/")>=0}function Sr(){return!1}function to(){return!et()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mi(){try{return"object"==typeof indexedDB}catch{return!1}}function Ro(){return new Promise((Ce,ve)=>{try{let Me=!0;const wt="validate-browser-context-for-indexeddb-analytics-module",Qe=self.indexedDB.open(wt);Qe.onsuccess=()=>{Qe.result.close(),Me||self.indexedDB.deleteDatabase(wt),Ce(!0)},Qe.onupgradeneeded=()=>{Me=!1},Qe.onerror=()=>{var Rn;ve((null===(Rn=Qe.error)||void 0===Rn?void 0:Rn.message)||"")}}catch(Me){ve(Me)}})}function Fr(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ss extends Error{constructor(ve,Me,wt){super(Me),this.code=ve,this.customData=wt,this.name="FirebaseError",Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cl.prototype.create)}}class Cl{constructor(ve,Me,wt){this.service=ve,this.serviceName=Me,this.errors=wt}create(ve,...Me){const wt=Me[0]||{},Qe=`${this.service}/${ve}`,Rn=this.errors[ve],Vn=Rn?function fo(Ce,ve){return Ce.replace(cr,(Me,wt)=>{const Qe=ve[wt];return null!=Qe?String(Qe):`<${wt}?>`})}(Rn,wt):"Error";return new Ss(Qe,`${this.serviceName}: ${Vn} (${Qe}).`,wt)}}const cr=/\{\$([^}]+)}/g;function Zl(Ce){return JSON.parse(Ce)}function xl(Ce){return JSON.stringify(Ce)}const El=function(Ce){let ve={},Me={},wt={},Qe="";try{const Rn=Ce.split(".");ve=Zl(Ee(Rn[0])||""),Me=Zl(Ee(Rn[1])||""),Qe=Rn[2],wt=Me.d||{},delete Me.d}catch{}return{header:ve,claims:Me,data:wt,signature:Qe}},hs=function(Ce){const Me=El(Ce).claims;return!!Me&&"object"==typeof Me&&Me.hasOwnProperty("iat")},uc=function(Ce){const ve=El(Ce).claims;return"object"==typeof ve&&!0===ve.admin};function Ps(Ce,ve){return Object.prototype.hasOwnProperty.call(Ce,ve)}function Sl(Ce,ve){if(Object.prototype.hasOwnProperty.call(Ce,ve))return Ce[ve]}function Zt(Ce){for(const ve in Ce)if(Object.prototype.hasOwnProperty.call(Ce,ve))return!1;return!0}function Mr(Ce,ve,Me){const wt={};for(const Qe in Ce)Object.prototype.hasOwnProperty.call(Ce,Qe)&&(wt[Qe]=ve.call(Me,Ce[Qe],Qe,Ce));return wt}function Us(Ce,ve){if(Ce===ve)return!0;const Me=Object.keys(Ce),wt=Object.keys(ve);for(const Qe of Me){if(!wt.includes(Qe))return!1;const Rn=Ce[Qe],Vn=ve[Qe];if(Wn(Rn)&&Wn(Vn)){if(!Us(Rn,Vn))return!1}else if(Rn!==Vn)return!1}for(const Qe of wt)if(!Me.includes(Qe))return!1;return!0}function Wn(Ce){return null!==Ce&&"object"==typeof Ce}function Qc(Ce){const ve=[];for(const[Me,wt]of Object.entries(Ce))Array.isArray(wt)?wt.forEach(Qe=>{ve.push(encodeURIComponent(Me)+"="+encodeURIComponent(Qe))}):ve.push(encodeURIComponent(Me)+"="+encodeURIComponent(wt));return ve.length?"&"+ve.join("&"):""}function Kr(Ce){const ve={};return Ce.replace(/^\?/,"").split("&").forEach(wt=>{if(wt){const[Qe,Rn]=wt.split("=");ve[decodeURIComponent(Qe)]=decodeURIComponent(Rn)}}),ve}function hc(Ce){const ve=Ce.indexOf("?");if(!ve)return"";const Me=Ce.indexOf("#",ve);return Ce.substring(ve,Me>0?Me:void 0)}class Yo{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ve=1;ve<this.blockSize;++ve)this.pad_[ve]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ve,Me){Me||(Me=0);const wt=this.W_;if("string"==typeof ve)for(let Gi=0;Gi<16;Gi++)wt[Gi]=ve.charCodeAt(Me)<<24|ve.charCodeAt(Me+1)<<16|ve.charCodeAt(Me+2)<<8|ve.charCodeAt(Me+3),Me+=4;else for(let Gi=0;Gi<16;Gi++)wt[Gi]=ve[Me]<<24|ve[Me+1]<<16|ve[Me+2]<<8|ve[Me+3],Me+=4;for(let Gi=16;Gi<80;Gi++){const no=wt[Gi-3]^wt[Gi-8]^wt[Gi-14]^wt[Gi-16];wt[Gi]=4294967295&(no<<1|no>>>31)}let es,Hs,Qe=this.chain_[0],Rn=this.chain_[1],Vn=this.chain_[2],wi=this.chain_[3],fi=this.chain_[4];for(let Gi=0;Gi<80;Gi++){Gi<40?Gi<20?(es=wi^Rn&(Vn^wi),Hs=1518500249):(es=Rn^Vn^wi,Hs=1859775393):Gi<60?(es=Rn&Vn|wi&(Rn|Vn),Hs=2400959708):(es=Rn^Vn^wi,Hs=3395469782);const no=(Qe<<5|Qe>>>27)+es+fi+Hs+wt[Gi]&4294967295;fi=wi,wi=Vn,Vn=4294967295&(Rn<<30|Rn>>>2),Rn=Qe,Qe=no}this.chain_[0]=this.chain_[0]+Qe&4294967295,this.chain_[1]=this.chain_[1]+Rn&4294967295,this.chain_[2]=this.chain_[2]+Vn&4294967295,this.chain_[3]=this.chain_[3]+wi&4294967295,this.chain_[4]=this.chain_[4]+fi&4294967295}update(ve,Me){if(null==ve)return;void 0===Me&&(Me=ve.length);const wt=Me-this.blockSize;let Qe=0;const Rn=this.buf_;let Vn=this.inbuf_;for(;Qe<Me;){if(0===Vn)for(;Qe<=wt;)this.compress_(ve,Qe),Qe+=this.blockSize;if("string"==typeof ve){for(;Qe<Me;)if(Rn[Vn]=ve.charCodeAt(Qe),++Vn,++Qe,Vn===this.blockSize){this.compress_(Rn),Vn=0;break}}else for(;Qe<Me;)if(Rn[Vn]=ve[Qe],++Vn,++Qe,Vn===this.blockSize){this.compress_(Rn),Vn=0;break}}this.inbuf_=Vn,this.total_+=Me}digest(){const ve=[];let Me=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Qe=this.blockSize-1;Qe>=56;Qe--)this.buf_[Qe]=255&Me,Me/=256;this.compress_(this.buf_);let wt=0;for(let Qe=0;Qe<5;Qe++)for(let Rn=24;Rn>=0;Rn-=8)ve[wt]=this.chain_[Qe]>>Rn&255,++wt;return ve}}function si(Ce,ve){const Me=new Hn(Ce,ve);return Me.subscribe.bind(Me)}class Hn{constructor(ve,Me){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Me,this.task.then(()=>{ve(this)}).catch(wt=>{this.error(wt)})}next(ve){this.forEachObserver(Me=>{Me.next(ve)})}error(ve){this.forEachObserver(Me=>{Me.error(ve)}),this.close(ve)}complete(){this.forEachObserver(ve=>{ve.complete()}),this.close()}subscribe(ve,Me,wt){let Qe;if(void 0===ve&&void 0===Me&&void 0===wt)throw new Error("Missing Observer.");Qe=function Il(Ce,ve){if("object"!=typeof Ce||null===Ce)return!1;for(const Me of ve)if(Me in Ce&&"function"==typeof Ce[Me])return!0;return!1}(ve,["next","error","complete"])?ve:{next:ve,error:Me,complete:wt},void 0===Qe.next&&(Qe.next=Ai),void 0===Qe.error&&(Qe.error=Ai),void 0===Qe.complete&&(Qe.complete=Ai);const Rn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Qe.error(this.finalError):Qe.complete()}catch{}}),this.observers.push(Qe),Rn}unsubscribeOne(ve){void 0===this.observers||void 0===this.observers[ve]||(delete this.observers[ve],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ve){if(!this.finalized)for(let Me=0;Me<this.observers.length;Me++)this.sendOne(Me,ve)}sendOne(ve,Me){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ve])try{Me(this.observers[ve])}catch(wt){typeof console<"u"&&console.error&&console.error(wt)}})}close(ve){this.finalized||(this.finalized=!0,void 0!==ve&&(this.finalError=ve),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ai(){}const Oi=function(Ce,ve,Me,wt){let Qe;if(wt<ve?Qe="at least "+ve:wt>Me&&(Qe=0===Me?"none":"no more than "+Me),Qe)throw new Error(Ce+" failed: Was called with "+wt+(1===wt?" argument.":" arguments.")+" Expects "+Qe+".")};function Qs(Ce,ve){return`${Ce} failed: ${ve} argument `}function Wo(Ce,ve,Me,wt){if((!wt||Me)&&"function"!=typeof Me)throw new Error(Qs(Ce,ve)+"must be a valid function.")}function Hi(Ce,ve,Me,wt){if((!wt||Me)&&("object"!=typeof Me||null===Me))throw new Error(Qs(Ce,ve)+"must be a valid context object.")}const du=function(Ce){const ve=[];let Me=0;for(let wt=0;wt<Ce.length;wt++){let Qe=Ce.charCodeAt(wt);if(Qe>=55296&&Qe<=56319){const Rn=Qe-55296;wt++,ze(wt<Ce.length,"Surrogate pair missing trail surrogate."),Qe=65536+(Rn<<10)+(Ce.charCodeAt(wt)-56320)}Qe<128?ve[Me++]=Qe:Qe<2048?(ve[Me++]=Qe>>6|192,ve[Me++]=63&Qe|128):Qe<65536?(ve[Me++]=Qe>>12|224,ve[Me++]=Qe>>6&63|128,ve[Me++]=63&Qe|128):(ve[Me++]=Qe>>18|240,ve[Me++]=Qe>>12&63|128,ve[Me++]=Qe>>6&63|128,ve[Me++]=63&Qe|128)}return ve},Vi=function(Ce){let ve=0;for(let Me=0;Me<Ce.length;Me++){const wt=Ce.charCodeAt(Me);wt<128?ve++:wt<2048?ve+=2:wt>=55296&&wt<=56319?(ve+=4,Me++):ve+=3}return ve};function Aa(Ce,ve=1e3,Me=2){const wt=ve*Math.pow(Me,Ce),Qe=Math.round(.5*wt*(Math.random()-.5)*2);return Math.min(144e5,wt+Qe)}function fa(Ce){return Ce&&Ce._delegate?Ce._delegate:Ce}},4159:function(ei){ei.exports=function(){"use strict";var Lt=function(b,w){return(Lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,E){S.__proto__=E}||function(S,E){for(var L in E)Object.prototype.hasOwnProperty.call(E,L)&&(S[L]=E[L])})(b,w)};function re(b,w){if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function S(){this.constructor=b}Lt(b,w),b.prototype=null===w?Object.create(w):(S.prototype=w.prototype,new S)}var s=function(){return s=Object.assign||function(w){for(var S,E=1,L=arguments.length;E<L;E++)for(var G in S=arguments[E])Object.prototype.hasOwnProperty.call(S,G)&&(w[G]=S[G]);return w},s.apply(this,arguments)};function ze(b,w,S,E){return new(S||(S=Promise))(function(G,J){function ce(He){try{Fe(E.next(He))}catch(Je){J(Je)}}function le(He){try{Fe(E.throw(He))}catch(Je){J(Je)}}function Fe(He){He.done?G(He.value):function L(G){return G instanceof S?G:new S(function(J){J(G)})}(He.value).then(ce,le)}Fe((E=E.apply(b,w||[])).next())})}function oe(b,w){var E,L,G,J,S={label:0,sent:function(){if(1&G[0])throw G[1];return G[1]},trys:[],ops:[]};return J={next:ce(0),throw:ce(1),return:ce(2)},"function"==typeof Symbol&&(J[Symbol.iterator]=function(){return this}),J;function ce(Fe){return function(He){return function le(Fe){if(E)throw new TypeError("Generator is already executing.");for(;S;)try{if(E=1,L&&(G=2&Fe[0]?L.return:Fe[0]?L.throw||((G=L.return)&&G.call(L),0):L.next)&&!(G=G.call(L,Fe[1])).done)return G;switch(L=0,G&&(Fe=[2&Fe[0],G.value]),Fe[0]){case 0:case 1:G=Fe;break;case 4:return S.label++,{value:Fe[1],done:!1};case 5:S.label++,L=Fe[1],Fe=[0];continue;case 7:Fe=S.ops.pop(),S.trys.pop();continue;default:if(!(G=(G=S.trys).length>0&&G[G.length-1])&&(6===Fe[0]||2===Fe[0])){S=0;continue}if(3===Fe[0]&&(!G||Fe[1]>G[0]&&Fe[1]<G[3])){S.label=Fe[1];break}if(6===Fe[0]&&S.label<G[1]){S.label=G[1],G=Fe;break}if(G&&S.label<G[2]){S.label=G[2],S.ops.push(Fe);break}G[2]&&S.ops.pop(),S.trys.pop();continue}Fe=w.call(b,S)}catch(He){Fe=[6,He],L=0}finally{E=G=0}if(5&Fe[0])throw Fe[1];return{value:Fe[0]?Fe[1]:void 0,done:!0}}([Fe,He])}}}function rt(b,w,S){if(S||2===arguments.length)for(var G,E=0,L=w.length;E<L;E++)(G||!(E in w))&&(G||(G=Array.prototype.slice.call(w,0,E)),G[E]=w[E]);return b.concat(G||w)}for(var lt=function(){function b(w,S,E,L){this.left=w,this.top=S,this.width=E,this.height=L}return b.prototype.add=function(w,S,E,L){return new b(this.left+w,this.top+S,this.width+E,this.height+L)},b.fromClientRect=function(w,S){return new b(S.left+w.windowBounds.left,S.top+w.windowBounds.top,S.width,S.height)},b.fromDOMRectList=function(w,S){var E=Array.from(S).find(function(L){return 0!==L.width});return E?new b(E.left+w.windowBounds.left,E.top+w.windowBounds.top,E.width,E.height):b.EMPTY},b.EMPTY=new b(0,0,0,0),b}(),vt=function(b,w){return lt.fromClientRect(b,w.getBoundingClientRect())},Tt=function(b){for(var w=[],S=0,E=b.length;S<E;){var L=b.charCodeAt(S++);if(L>=55296&&L<=56319&&S<E){var G=b.charCodeAt(S++);56320==(64512&G)?w.push(((1023&L)<<10)+(1023&G)+65536):(w.push(L),S--)}else w.push(L)}return w},ut=function(){for(var b=[],w=0;w<arguments.length;w++)b[w]=arguments[w];if(String.fromCodePoint)return String.fromCodePoint.apply(String,b);var S=b.length;if(!S)return"";for(var E=[],L=-1,G="";++L<S;){var J=b[L];J<=65535?E.push(J):E.push(55296+((J-=65536)>>10),J%1024+56320),(L+1===S||E.length>16384)&&(G+=String.fromCharCode.apply(String,E),E.length=0)}return G},Ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",De=typeof Uint8Array>"u"?[]:new Uint8Array(256),je=0;je<Ee.length;je++)De[Ee.charCodeAt(je)]=je;for(var hn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qt=typeof Uint8Array>"u"?[]:new Uint8Array(256),yn=0;yn<hn.length;yn++)Qt[hn.charCodeAt(yn)]=yn;for(var Sr=function(b,w,S){return b.slice?b.slice(w,S):new Uint16Array(Array.prototype.slice.call(b,w,S))},Ro=function(){function b(w,S,E,L,G,J){this.initialValue=w,this.errorValue=S,this.highStart=E,this.highValueIndex=L,this.index=G,this.data=J}return b.prototype.get=function(w){var S;if(w>=0){if(w<55296||w>56319&&w<=65535)return this.data[S=((S=this.index[w>>5])<<2)+(31&w)];if(w<=65535)return this.data[S=((S=this.index[2048+(w-55296>>5)])<<2)+(31&w)];if(w<this.highStart)return S=this.index[S=2080+(w>>11)],this.data[S=((S=this.index[S+=w>>5&63])<<2)+(31&w)];if(w<=1114111)return this.data[this.highValueIndex]}return this.errorValue},b}(),Fr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hi=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ss=0;Ss<Fr.length;Ss++)hi[Fr.charCodeAt(Ss)]=Ss;var S,E,L,J,ce,Ps=10,Mr=13,Wn=15,Qc=17,Kr=18,hc=19,Yo=20,si=21,Hn=22,Il=24,Ai=25,Oi=26,Qs=27,Zr=28,Hi=30,Vi=32,po=33,Jo=34,kr=35,ha=37,Aa=38,rl=39,Is=40,Ce=42,Me=[9001,65288],Qe="\xd7",Vn=(S=function(b){var E,G,J,ce,le,w=.75*b.length,S=b.length,L=0;"="===b[b.length-1]&&(w--,"="===b[b.length-2]&&w--);var Fe=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(w):new Array(w),He=Array.isArray(Fe)?Fe:new Uint8Array(Fe);for(E=0;E<S;E+=4)G=Qt[b.charCodeAt(E)],J=Qt[b.charCodeAt(E+1)],ce=Qt[b.charCodeAt(E+2)],le=Qt[b.charCodeAt(E+3)],He[L++]=G<<2|J>>4,He[L++]=(15&J)<<4|ce>>2,He[L++]=(3&ce)<<6|63&le;return Fe}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),E=Array.isArray(S)?function(b){for(var w=b.length,S=[],E=0;E<w;E+=4)S.push(b[E+3]<<24|b[E+2]<<16|b[E+1]<<8|b[E]);return S}(S):new Uint32Array(S),L=Array.isArray(S)?function(b){for(var w=b.length,S=[],E=0;E<w;E+=2)S.push(b[E+1]<<8|b[E]);return S}(S):new Uint16Array(S),J=Sr(L,12,E[4]/2),ce=2===E[5]?Sr(L,(24+E[4])/2):function(b,w,S){return b.slice?b.slice(w,S):new Uint32Array(Array.prototype.slice.call(b,w,S))}(E,Math.ceil((24+E[4])/4)),new Ro(E[0],E[1],E[2],E[3],J,ce)),wi=[Hi,36],fi=[1,2,3,5],es=[Ps,8],Hs=[Qs,Oi],Gi=fi.concat(es),no=[Aa,rl,Is,Jo,kr],mo=[Wn,Mr],Ju=function(b,w,S,E){var L=E[S];if(Array.isArray(b)?-1!==b.indexOf(L):b===L)for(var G=S;G<=E.length;){if((J=E[++G])===w)return!0;if(J!==Ps)break}if(L===Ps)for(G=S;G>0;){var ce=E[--G];if(Array.isArray(b)?-1!==b.indexOf(ce):b===ce)for(var le=S;le<=E.length;){var J;if((J=E[++le])===w)return!0;if(J!==Ps)break}if(ce!==Ps)break}return!1},mt=function(b,w){for(var S=b;S>=0;){var E=w[S];if(E!==Ps)return E;S--}return 0},it=function(b,w,S,E,L){if(0===S[E])return Qe;var G=E-1;if(Array.isArray(L)&&!0===L[G])return Qe;var J=G-1,ce=G+1,le=w[G],Fe=J>=0?w[J]:0,He=w[ce];if(2===le&&3===He)return Qe;if(-1!==fi.indexOf(le))return"!";if(-1!==fi.indexOf(He)||-1!==es.indexOf(He))return Qe;if(8===mt(G,w))return"\xf7";if(11===Vn.get(b[G])||(le===Vi||le===po)&&11===Vn.get(b[ce])||7===le||7===He||9===le||-1===[Ps,Mr,Wn].indexOf(le)&&9===He||-1!==[Qc,Kr,hc,Il,Zr].indexOf(He)||mt(G,w)===Hn||Ju(23,Hn,G,w)||Ju([Qc,Kr],si,G,w)||Ju(12,12,G,w))return Qe;if(le===Ps)return"\xf7";if(23===le||23===He)return Qe;if(16===He||16===le)return"\xf7";if(-1!==[Mr,Wn,si].indexOf(He)||14===le||36===Fe&&-1!==mo.indexOf(le)||le===Zr&&36===He||He===Yo||-1!==wi.indexOf(He)&&le===Ai||-1!==wi.indexOf(le)&&He===Ai||le===Qs&&-1!==[ha,Vi,po].indexOf(He)||-1!==[ha,Vi,po].indexOf(le)&&He===Oi||-1!==wi.indexOf(le)&&-1!==Hs.indexOf(He)||-1!==Hs.indexOf(le)&&-1!==wi.indexOf(He)||-1!==[Qs,Oi].indexOf(le)&&(He===Ai||-1!==[Hn,Wn].indexOf(He)&&w[ce+1]===Ai)||-1!==[Hn,Wn].indexOf(le)&&He===Ai||le===Ai&&-1!==[Ai,Zr,Il].indexOf(He))return Qe;if(-1!==[Ai,Zr,Il,Qc,Kr].indexOf(He))for(var Je=G;Je>=0;){if((Dt=w[Je])===Ai)return Qe;if(-1===[Zr,Il].indexOf(Dt))break;Je--}if(-1!==[Qs,Oi].indexOf(He))for(Je=-1!==[Qc,Kr].indexOf(le)?J:G;Je>=0;){var Dt;if((Dt=w[Je])===Ai)return Qe;if(-1===[Zr,Il].indexOf(Dt))break;Je--}if(Aa===le&&-1!==[Aa,rl,Jo,kr].indexOf(He)||-1!==[rl,Jo].indexOf(le)&&-1!==[rl,Is].indexOf(He)||-1!==[Is,kr].indexOf(le)&&He===Is||-1!==no.indexOf(le)&&-1!==[Yo,Oi].indexOf(He)||-1!==no.indexOf(He)&&le===Qs||-1!==wi.indexOf(le)&&-1!==wi.indexOf(He)||le===Il&&-1!==wi.indexOf(He)||-1!==wi.concat(Ai).indexOf(le)&&He===Hn&&-1===Me.indexOf(b[ce])||-1!==wi.concat(Ai).indexOf(He)&&le===Kr)return Qe;if(41===le&&41===He){for(var Ln=S[G],ln=1;Ln>0&&41===w[--Ln];)ln++;if(ln%2!=0)return Qe}return le===Vi&&He===po?Qe:"\xf7"},$t=function(b,w){w||(w={lineBreak:"normal",wordBreak:"normal"});var S=function(b,w){void 0===w&&(w="strict");var S=[],E=[],L=[];return b.forEach(function(G,J){var ce=Vn.get(G);if(ce>50?(L.push(!0),ce-=50):L.push(!1),-1!==["normal","auto","loose"].indexOf(w)&&-1!==[8208,8211,12316,12448].indexOf(G))return E.push(J),S.push(16);if(4===ce||11===ce){if(0===J)return E.push(J),S.push(Hi);var le=S[J-1];return-1===Gi.indexOf(le)?(E.push(E[J-1]),S.push(le)):(E.push(J),S.push(Hi))}return E.push(J),31===ce?S.push("strict"===w?si:ha):ce===Ce||29===ce?S.push(Hi):43===ce?S.push(G>=131072&&G<=196605||G>=196608&&G<=262141?ha:Hi):void S.push(ce)}),[E,S,L]}(b,w.lineBreak),E=S[0],L=S[1],G=S[2];return("break-all"===w.wordBreak||"break-word"===w.wordBreak)&&(L=L.map(function(ce){return-1!==[Ai,Hi,Ce].indexOf(ce)?ha:ce})),[E,L,"keep-all"===w.wordBreak?G.map(function(ce,le){return ce&&b[le]>=19968&&b[le]<=40959}):void 0]},$n=function(){function b(w,S,E,L){this.codePoints=w,this.required="!"===S,this.start=E,this.end=L}return b.prototype.slice=function(){return ut.apply(void 0,this.codePoints.slice(this.start,this.end))},b}(),Xo=function(b){return b>=48&&b<=57},$l=function(b){return Xo(b)||b>=65&&b<=70||b>=97&&b<=102},Ta=function(b){return 10===b||9===b||32===b},FA=function(b){return function(b){return function(b){return b>=97&&b<=122}(b)||function(b){return b>=65&&b<=90}(b)}(b)||function(b){return b>=128}(b)||95===b},qy=function(b){return FA(b)||Xo(b)||45===b},Ky=function(b){return b>=0&&b<=8||11===b||b>=14&&b<=31||127===b},ta=function(b,w){return 92===b&&10!==w},Hd=function(b,w,S){return 45===b?FA(w)||ta(w,S):!!FA(b)||!(92!==b||!ta(b,w))},fu=function(b,w,S){return 43===b||45===b?!!Xo(w)||46===w&&Xo(S):Xo(46===b?w:b)},MA=function(b){var w=0,S=1;(43===b[w]||45===b[w])&&(45===b[w]&&(S=-1),w++);for(var E=[];Xo(b[w]);)E.push(b[w++]);var L=E.length?parseInt(ut.apply(void 0,E),10):0;46===b[w]&&w++;for(var G=[];Xo(b[w]);)G.push(b[w++]);var J=G.length,ce=J?parseInt(ut.apply(void 0,G),10):0;(69===b[w]||101===b[w])&&w++;var le=1;(43===b[w]||45===b[w])&&(45===b[w]&&(le=-1),w++);for(var Fe=[];Xo(b[w]);)Fe.push(b[w++]);var He=Fe.length?parseInt(ut.apply(void 0,Fe),10):0;return S*(L+ce*Math.pow(10,-J))*Math.pow(10,le*He)},Bh={type:2},Wl={type:3},Gf={type:4},kA={type:13},Ac={type:8},Fh={type:21},RA={type:9},Ba={type:10},pu={type:11},a_={type:12},gu={type:14},Vd={type:23},Zy={type:1},_o={type:25},td={type:24},mu={type:26},Gd={type:27},yo={type:28},l_={type:29},OA={type:31},na={type:32},Ts=function(){function b(){this._value=[]}return b.prototype.write=function(w){this._value=this._value.concat(Tt(w))},b.prototype.read=function(){for(var w=[],S=this.consumeToken();S!==na;)w.push(S),S=this.consumeToken();return w},b.prototype.consumeToken=function(){var w=this.consumeCodePoint();switch(w){case 34:return this.consumeStringToken(34);case 35:var S=this.peekCodePoint(0),E=this.peekCodePoint(1),L=this.peekCodePoint(2);if(qy(S)||ta(E,L)){var G=Hd(S,E,L)?2:1;return{type:5,value:this.consumeName(),flags:G}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),kA;break;case 39:return this.consumeStringToken(39);case 40:return Bh;case 41:return Wl;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),gu;break;case 43:if(fu(w,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(w),this.consumeNumericToken();break;case 44:return Gf;case 45:var ce=w,le=this.peekCodePoint(0),Fe=this.peekCodePoint(1);if(fu(ce,le,Fe))return this.reconsumeCodePoint(w),this.consumeNumericToken();if(Hd(ce,le,Fe))return this.reconsumeCodePoint(w),this.consumeIdentLikeToken();if(45===le&&62===Fe)return this.consumeCodePoint(),this.consumeCodePoint(),td;break;case 46:if(fu(w,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(w),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var He=this.consumeCodePoint();if(42===He&&47===(He=this.consumeCodePoint()))return this.consumeToken();if(-1===He)return this.consumeToken()}break;case 58:return mu;case 59:return Gd;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),_o;break;case 64:var Je=this.peekCodePoint(0),Dt=this.peekCodePoint(1),Ln=this.peekCodePoint(2);if(Hd(Je,Dt,Ln))return{type:7,value:this.consumeName()};break;case 91:return yo;case 92:if(ta(w,this.peekCodePoint(0)))return this.reconsumeCodePoint(w),this.consumeIdentLikeToken();break;case 93:return l_;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ac;break;case 123:return pu;case 125:return a_;case 117:case 85:var ln=this.peekCodePoint(0),En=this.peekCodePoint(1);return 43===ln&&($l(En)||63===En)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(w),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),RA;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),Fh;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ba;break;case-1:return na}return Ta(w)?(this.consumeWhiteSpace(),OA):Xo(w)?(this.reconsumeCodePoint(w),this.consumeNumericToken()):FA(w)?(this.reconsumeCodePoint(w),this.consumeIdentLikeToken()):{type:6,value:ut(w)}},b.prototype.consumeCodePoint=function(){var w=this._value.shift();return typeof w>"u"?-1:w},b.prototype.reconsumeCodePoint=function(w){this._value.unshift(w)},b.prototype.peekCodePoint=function(w){return w>=this._value.length?-1:this._value[w]},b.prototype.consumeUnicodeRangeToken=function(){for(var w=[],S=this.consumeCodePoint();$l(S)&&w.length<6;)w.push(S),S=this.consumeCodePoint();for(var E=!1;63===S&&w.length<6;)w.push(S),S=this.consumeCodePoint(),E=!0;if(E)return{type:30,start:parseInt(ut.apply(void 0,w.map(function(le){return 63===le?48:le})),16),end:parseInt(ut.apply(void 0,w.map(function(le){return 63===le?70:le})),16)};var J=parseInt(ut.apply(void 0,w),16);if(45===this.peekCodePoint(0)&&$l(this.peekCodePoint(1))){this.consumeCodePoint(),S=this.consumeCodePoint();for(var ce=[];$l(S)&&ce.length<6;)ce.push(S),S=this.consumeCodePoint();return{type:30,start:J,end:parseInt(ut.apply(void 0,ce),16)}}return{type:30,start:J,end:J}},b.prototype.consumeIdentLikeToken=function(){var w=this.consumeName();return"url"===w.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:w}):{type:20,value:w}},b.prototype.consumeUrlToken=function(){var w=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var S=this.peekCodePoint(0);if(39===S||34===S){var E=this.consumeStringToken(this.consumeCodePoint());return 0===E.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:E.value}):(this.consumeBadUrlRemnants(),Vd)}for(;;){var L=this.consumeCodePoint();if(-1===L||41===L)return{type:22,value:ut.apply(void 0,w)};if(Ta(L))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:ut.apply(void 0,w)}):(this.consumeBadUrlRemnants(),Vd);if(34===L||39===L||40===L||Ky(L))return this.consumeBadUrlRemnants(),Vd;if(92===L){if(!ta(L,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),Vd;w.push(this.consumeEscapedCodePoint())}else w.push(L)}},b.prototype.consumeWhiteSpace=function(){for(;Ta(this.peekCodePoint(0));)this.consumeCodePoint()},b.prototype.consumeBadUrlRemnants=function(){for(;;){var w=this.consumeCodePoint();if(41===w||-1===w)return;ta(w,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},b.prototype.consumeStringSlice=function(w){for(var E="";w>0;){var L=Math.min(5e4,w);E+=ut.apply(void 0,this._value.splice(0,L)),w-=L}return this._value.shift(),E},b.prototype.consumeStringToken=function(w){for(var S="",E=0;;){var L=this._value[E];if(-1===L||void 0===L||L===w)return{type:0,value:S+=this.consumeStringSlice(E)};if(10===L)return this._value.splice(0,E),Zy;if(92===L){var G=this._value[E+1];-1!==G&&void 0!==G&&(10===G?(S+=this.consumeStringSlice(E),E=-1,this._value.shift()):ta(L,G)&&(S+=this.consumeStringSlice(E),S+=ut(this.consumeEscapedCodePoint()),E=-1))}E++}},b.prototype.consumeNumber=function(){var w=[],S=4,E=this.peekCodePoint(0);for((43===E||45===E)&&w.push(this.consumeCodePoint());Xo(this.peekCodePoint(0));)w.push(this.consumeCodePoint());E=this.peekCodePoint(0);var L=this.peekCodePoint(1);if(46===E&&Xo(L))for(w.push(this.consumeCodePoint(),this.consumeCodePoint()),S=8;Xo(this.peekCodePoint(0));)w.push(this.consumeCodePoint());E=this.peekCodePoint(0),L=this.peekCodePoint(1);var G=this.peekCodePoint(2);if((69===E||101===E)&&((43===L||45===L)&&Xo(G)||Xo(L)))for(w.push(this.consumeCodePoint(),this.consumeCodePoint()),S=8;Xo(this.peekCodePoint(0));)w.push(this.consumeCodePoint());return[MA(w),S]},b.prototype.consumeNumericToken=function(){var w=this.consumeNumber(),S=w[0],E=w[1],L=this.peekCodePoint(0),G=this.peekCodePoint(1),J=this.peekCodePoint(2);return Hd(L,G,J)?{type:15,number:S,flags:E,unit:this.consumeName()}:37===L?(this.consumeCodePoint(),{type:16,number:S,flags:E}):{type:17,number:S,flags:E}},b.prototype.consumeEscapedCodePoint=function(){var w=this.consumeCodePoint();if($l(w)){for(var S=ut(w);$l(this.peekCodePoint(0))&&S.length<6;)S+=ut(this.consumeCodePoint());Ta(this.peekCodePoint(0))&&this.consumeCodePoint();var E=parseInt(S,16);return 0===E||function(b){return b>=55296&&b<=57343}(E)||E>1114111?65533:E}return-1===w?65533:w},b.prototype.consumeName=function(){for(var w="";;){var S=this.consumeCodePoint();if(qy(S))w+=ut(S);else{if(!ta(S,this.peekCodePoint(0)))return this.reconsumeCodePoint(S),w;w+=ut(this.consumeEscapedCodePoint())}}},b}(),_u=function(){function b(w){this._tokens=w}return b.create=function(w){var S=new Ts;return S.write(w),new b(S.read())},b.parseValue=function(w){return b.create(w).parseComponentValue()},b.parseValues=function(w){return b.create(w).parseComponentValues()},b.prototype.parseComponentValue=function(){for(var w=this.consumeToken();31===w.type;)w=this.consumeToken();if(32===w.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(w);var S=this.consumeComponentValue();do{w=this.consumeToken()}while(31===w.type);if(32===w.type)return S;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},b.prototype.parseComponentValues=function(){for(var w=[];;){var S=this.consumeComponentValue();if(32===S.type)return w;w.push(S),w.push()}},b.prototype.consumeComponentValue=function(){var w=this.consumeToken();switch(w.type){case 11:case 28:case 2:return this.consumeSimpleBlock(w.type);case 19:return this.consumeFunction(w)}return w},b.prototype.consumeSimpleBlock=function(w){for(var S={type:w,values:[]},E=this.consumeToken();;){if(32===E.type||Sg(E,w))return S;this.reconsumeToken(E),S.values.push(this.consumeComponentValue()),E=this.consumeToken()}},b.prototype.consumeFunction=function(w){for(var S={name:w.value,values:[],type:18};;){var E=this.consumeToken();if(32===E.type||3===E.type)return S;this.reconsumeToken(E),S.values.push(this.consumeComponentValue())}},b.prototype.consumeToken=function(){var w=this._tokens.shift();return typeof w>"u"?na:w},b.prototype.reconsumeToken=function(w){this._tokens.unshift(w)},b}(),yu=function(b){return 15===b.type},nd=function(b){return 17===b.type},$i=function(b){return 20===b.type},Eg=function(b){return 0===b.type},Jl=function(b,w){return $i(b)&&b.value===w},Si=function(b){return 31!==b.type},fc=function(b){return 31!==b.type&&4!==b.type},Or=function(b){var w=[],S=[];return b.forEach(function(E){if(4===E.type){if(0===S.length)throw new Error("Error parsing function args, zero tokens for arg");return w.push(S),void(S=[])}31!==E.type&&S.push(E)}),S.length&&w.push(S),w},Sg=function(b,w){return 11===w&&12===b.type||28===w&&29===b.type||2===w&&3===b.type},Fa=function(b){return 17===b.type||15===b.type},qi=function(b){return 16===b.type||Fa(b)},jf=function(b){return b.length>1?[b[0],b[1]]:[b[0]]},vo={type:17,number:0,flags:4},LA={type:16,number:50,flags:4},Rt={type:16,number:100,flags:4},Ki=function(b,w,S){var E=b[0],L=b[1];return[Dr(E,w),Dr(typeof L<"u"?L:E,S)]},Dr=function(b,w){if(16===b.type)return b.number/100*w;if(yu(b))switch(b.unit){case"rem":case"em":return 16*b.number;default:return b.number}return b.number},Gs_parse=function(b,w){if(15===w.type)switch(w.unit){case"deg":return Math.PI*w.number/180;case"grad":return Math.PI/200*w.number;case"rad":return w.number;case"turn":return 2*Math.PI*w.number}throw new Error("Unsupported angle type")},Fl=function(b){return 15===b.type&&("deg"===b.unit||"grad"===b.unit||"rad"===b.unit||"turn"===b.unit)},kh=function(b){switch(b.filter($i).map(function(S){return S.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[vo,vo];case"to top":case"bottom":return ka(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[vo,Rt];case"to right":case"left":return ka(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Rt,Rt];case"to bottom":case"top":return ka(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Rt,vo];case"to left":case"right":return ka(270)}return 0},ka=function(b){return Math.PI*b/180},Ml_parse=function(b,w){if(18===w.type){var S=Dg[w.name];if(typeof S>"u")throw new Error('Attempting to parse an unsupported color function "'+w.name+'"');return S(b,w.values)}if(5===w.type){if(3===w.value.length){var E=w.value.substring(0,1),L=w.value.substring(1,2),G=w.value.substring(2,3);return zr(parseInt(E+E,16),parseInt(L+L,16),parseInt(G+G,16),1)}if(4===w.value.length){E=w.value.substring(0,1),L=w.value.substring(1,2),G=w.value.substring(2,3);var J=w.value.substring(3,4);return zr(parseInt(E+E,16),parseInt(L+L,16),parseInt(G+G,16),parseInt(J+J,16)/255)}if(6===w.value.length)return E=w.value.substring(0,2),L=w.value.substring(2,4),G=w.value.substring(4,6),zr(parseInt(E,16),parseInt(L,16),parseInt(G,16),1);if(8===w.value.length)return E=w.value.substring(0,2),L=w.value.substring(2,4),G=w.value.substring(4,6),J=w.value.substring(6,8),zr(parseInt(E,16),parseInt(L,16),parseInt(G,16),parseInt(J,16)/255)}if(20===w.type){var ce=pc[w.value.toUpperCase()];if(typeof ce<"u")return ce}return pc.TRANSPARENT},kl=function(b){return 0==(255&b)},vs=function(b){var w=255&b,S=255&b>>8,E=255&b>>16,L=255&b>>24;return w<255?"rgba("+L+","+E+","+S+","+w/255+")":"rgb("+L+","+E+","+S+")"},zr=function(b,w,S,E){return(b<<24|w<<16|S<<8|Math.round(255*E)<<0)>>>0},Rl=function(b,w){if(17===b.type)return b.number;if(16===b.type){var S=3===w?1:255;return 3===w?b.number/100*S:Math.round(b.number/100*S)}return 0},NA=function(b,w){var S=w.filter(fc);if(3===S.length){var E=S.map(Rl);return zr(E[0],E[1],E[2],1)}if(4===S.length){var ce=S.map(Rl);return zr(ce[0],ce[1],ce[2],ce[3])}return 0};function ss(b,w,S){return S<0&&(S+=1),S>=1&&(S-=1),S<1/6?(w-b)*S*6+b:S<.5?w:S<2/3?6*(w-b)*(2/3-S)+b:b}var Xl=function(b,w){var S=w.filter(fc),E=S[0],L=S[1],G=S[2],J=S[3],ce=(17===E.type?ka(E.number):Gs_parse(b,E))/(2*Math.PI),le=qi(L)?L.number/100:0,Fe=qi(G)?G.number/100:0,He=typeof J<"u"&&qi(J)?Dr(J,1):1;if(0===le)return zr(255*Fe,255*Fe,255*Fe,1);var Je=Fe<=.5?Fe*(le+1):Fe+le-Fe*le,Dt=2*Fe-Je,Ln=ss(Dt,Je,ce+1/3),ln=ss(Dt,Je,ce),En=ss(Dt,Je,ce-1/3);return zr(255*Ln,255*ln,255*En,He)},Dg={hsl:Xl,hsla:Xl,rgb:NA,rgba:NA},id=function(b,w){return Ml_parse(b,_u.create(w).parseComponentValue())},pc={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},zf={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(b,w){return w.map(function(S){if($i(S))switch(S.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},vu={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},jc=function(b,w){var S=Ml_parse(b,w[0]),E=w[1];return E&&qi(E)?{color:S,stop:E}:{color:S,stop:null}},rd=function(b,w){var S=b[0],E=b[b.length-1];null===S.stop&&(S.stop=vo),null===E.stop&&(E.stop=Rt);for(var L=[],G=0,J=0;J<b.length;J++){var ce=b[J].stop;if(null!==ce){var le=Dr(ce,w);L.push(le>G?le:G),G=le}else L.push(null)}var Fe=null;for(J=0;J<L.length;J++){var He=L[J];if(null===He)null===Fe&&(Fe=J);else if(null!==Fe){for(var Je=J-Fe,Ln=(He-L[Fe-1])/(Je+1),ln=1;ln<=Je;ln++)L[Fe+ln-1]=Ln*ln;Fe=null}}return b.map(function(En,Zi){return{color:En.color,stop:Math.max(Math.min(1,L[Zi]/w),0)}})},Tg=function(b,w,S){var E="number"==typeof b?b:function(b,w,S){var E=w/2,L=S/2,G=Dr(b[0],w)-E,J=L-Dr(b[1],S);return(Math.atan2(J,G)+2*Math.PI)%(2*Math.PI)}(b,w,S),L=Math.abs(w*Math.sin(E))+Math.abs(S*Math.cos(E)),G=w/2,J=S/2,ce=L/2,le=Math.sin(E-Math.PI/2)*ce,Fe=Math.cos(E-Math.PI/2)*ce;return[L,G-Fe,G+Fe,J-le,J+le]},Ra=function(b,w){return Math.sqrt(b*b+w*w)},qf=function(b,w,S,E,L){return[[0,0],[0,w],[b,0],[b,w]].reduce(function(J,ce){var He=Ra(S-ce[0],E-ce[1]);return(L?He<J.optimumDistance:He>J.optimumDistance)?{optimumCorner:ce,optimumDistance:He}:J},{optimumDistance:L?1/0:-1/0,optimumCorner:null}).optimumCorner},wu=function(b,w){var S=ka(180),E=[];return Or(w).forEach(function(L,G){if(0===G){var J=L[0];if(20===J.type&&-1!==["top","left","right","bottom"].indexOf(J.value))return void(S=kh(L));if(Fl(J))return void(S=(Gs_parse(b,J)+ka(270))%ka(360))}var ce=jc(b,L);E.push(ce)}),{angle:S,stops:E,type:1}},sd="closest-side",Mg="farthest-side",Oh="closest-corner",ia="farthest-corner",Lr="ellipse",od="contain",Lh=function(b,w){var S=0,E=3,L=[],G=[];return Or(w).forEach(function(J,ce){var le=!0;if(0===ce?le=J.reduce(function(He,Je){if($i(Je))switch(Je.value){case"center":return G.push(LA),!1;case"top":case"left":return G.push(vo),!1;case"right":case"bottom":return G.push(Rt),!1}else if(qi(Je)||Fa(Je))return G.push(Je),!1;return He},le):1===ce&&(le=J.reduce(function(He,Je){if($i(Je))switch(Je.value){case"circle":return S=0,!1;case Lr:return S=1,!1;case od:case sd:return E=0,!1;case Mg:return E=1,!1;case Oh:return E=2,!1;case"cover":case ia:return E=3,!1}else if(Fa(Je)||qi(Je))return Array.isArray(E)||(E=[]),E.push(Je),!1;return He},le)),le){var Fe=jc(b,J);L.push(Fe)}}),{size:E,shape:S,stops:L,position:G,type:2}},bu_parse=function(b,w){if(22===w.type){var S={url:w.value,type:0};return b.cache.addImage(w.value),S}if(18===w.type){var E=gc[w.name];if(typeof E>"u")throw new Error('Attempting to parse an unsupported image function "'+w.name+'"');return E(b,w.values)}throw new Error("Unsupported image type "+w.type)};for(var gc={"linear-gradient":function(b,w){var S=ka(180),E=[];return Or(w).forEach(function(L,G){if(0===G){var J=L[0];if(20===J.type&&"to"===J.value)return void(S=kh(L));if(Fl(J))return void(S=Gs_parse(b,J))}var ce=jc(b,L);E.push(ce)}),{angle:S,stops:E,type:1}},"-moz-linear-gradient":wu,"-ms-linear-gradient":wu,"-o-linear-gradient":wu,"-webkit-linear-gradient":wu,"radial-gradient":function(b,w){var S=0,E=3,L=[],G=[];return Or(w).forEach(function(J,ce){var le=!0;if(0===ce){var Fe=!1;le=J.reduce(function(Je,Dt){if(Fe)if($i(Dt))switch(Dt.value){case"center":return G.push(LA),Je;case"top":case"left":return G.push(vo),Je;case"right":case"bottom":return G.push(Rt),Je}else(qi(Dt)||Fa(Dt))&&G.push(Dt);else if($i(Dt))switch(Dt.value){case"circle":return S=0,!1;case Lr:return S=1,!1;case"at":return Fe=!0,!1;case sd:return E=0,!1;case"cover":case Mg:return E=1,!1;case od:case Oh:return E=2,!1;case ia:return E=3,!1}else if(Fa(Dt)||qi(Dt))return Array.isArray(E)||(E=[]),E.push(Dt),!1;return Je},le)}if(le){var He=jc(b,J);L.push(He)}}),{size:E,shape:S,stops:L,position:G,type:2}},"-moz-radial-gradient":Lh,"-ms-radial-gradient":Lh,"-o-radial-gradient":Lh,"-webkit-radial-gradient":Lh,"-webkit-gradient":function(b,w){var S=ka(180),E=[],L=1;return Or(w).forEach(function(le,Fe){var He=le[0];if(0===Fe){if($i(He)&&"linear"===He.value)return void(L=1);if($i(He)&&"radial"===He.value)return void(L=2)}if(18===He.type)if("from"===He.name){var Je=Ml_parse(b,He.values[0]);E.push({stop:vo,color:Je})}else if("to"===He.name)Je=Ml_parse(b,He.values[0]),E.push({stop:Rt,color:Je});else if("color-stop"===He.name){var Dt=He.values.filter(fc);if(2===Dt.length){Je=Ml_parse(b,Dt[1]);var Ln=Dt[0];nd(Ln)&&E.push({stop:{type:16,number:100*Ln.number,flags:Ln.flags},color:Je})}}}),1===L?{angle:(S+ka(180))%ka(360),stops:E,type:L}:{size:3,shape:0,stops:E,position:[],type:L}}},ad={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(b,w){if(0===w.length)return[];var S=w[0];return 20===S.type&&"none"===S.value?[]:w.filter(function(E){return fc(E)&&function jd(b){return!(20===b.type&&"none"===b.value||18===b.type&&!gc[b.name])}(E)}).map(function(E){return bu_parse(b,E)})}},ld={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(b,w){return w.map(function(S){if($i(S))switch(S.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Og={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(b,w){return Or(w).map(function(S){return S.filter(qi)}).map(jf)}},La={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(b,w){return Or(w).map(function(S){return S.filter($i).map(function(E){return E.value}).join(" ")}).map(zd)}},zd=function(b){switch(b){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},ol=(()=>{return(b=ol||(ol={})).AUTO="auto",b.CONTAIN="contain",b.COVER="cover",ol;var b})(),UA={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(b,w){return Or(w).map(function(S){return S.filter(Cu)})}},Cu=function(b){return $i(b)||qi(b)},cd=function(b){return{name:"border-"+b+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Zf=cd("top"),Lg=cd("right"),Ng=cd("bottom"),Pg=cd("left"),ga=function(b){return{name:"border-radius-"+b,initialValue:"0 0",prefix:!1,type:1,parse:function(w,S){return jf(S.filter(qi))}}},Nh=ga("top-left"),c_=ga("top-right"),xu=ga("bottom-right"),QA=ga("bottom-left"),qd=function(b){return{name:"border-"+b+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(w,S){switch(S){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},ud=qd("top"),u_=qd("right"),Ph=qd("bottom"),$f=qd("left"),Kd=function(b){return{name:"border-"+b+"-width",initialValue:"0",type:0,prefix:!1,parse:function(w,S){return yu(S)?S.number:0}}},rw=Kd("top"),Yf=Kd("right"),$y=Kd("bottom"),sw=Kd("left"),Na={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ug={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(b,w){return"rtl"===w?1:0}},qc={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(b,w){return w.filter($i).reduce(function(S,E){return S|Zd(E.value)},0)}},Zd=function(b){switch(b){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},d_={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(b,w){switch(w){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Uh={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(b,w){return 20===w.type&&"normal"===w.value?0:17===w.type||15===w.type?w.number:0}},os=(()=>{return(b=os||(os={})).NORMAL="normal",b.STRICT="strict",os;var b})(),Yy={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(b,w){return"strict"===w?os.STRICT:os.NORMAL}},Po={name:"line-height",initialValue:"normal",prefix:!1,type:4},Wf=function(b,w){return $i(b)&&"normal"===b.value?1.2*w:17===b.type?w*b.number:qi(b)?Dr(b,w):w},$d={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(b,w){return 20===w.type&&"none"===w.value?null:bu_parse(b,w)}},Qh={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(b,w){return"inside"===w?0:1}},HA={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(b,w){switch(w){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},ec=function(b){return{name:"margin-"+b,initialValue:"0",prefix:!1,type:4}},Yd=ec("top"),Jf=ec("right"),h_=ec("bottom"),VA=ec("left"),Wd={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(b,w){return w.filter($i).map(function(S){switch(S.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},GA={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(b,w){return"break-word"===w?"break-word":"normal"}},jA=function(b){return{name:"padding-"+b,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Kc=jA("top"),Wy=jA("right"),Xf=jA("bottom"),ma=jA("left"),Jd={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(b,w){switch(w){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},ts={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(b,w){switch(w){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},mc={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(b,w){return 1===w.length&&Jl(w[0],"none")?[]:Or(w).map(function(S){for(var E={color:pc.TRANSPARENT,offsetX:vo,offsetY:vo,blur:vo},L=0,G=0;G<S.length;G++){var J=S[G];Fa(J)?(0===L?E.offsetX=J:1===L?E.offsetY=J:E.blur=J,L++):E.color=Ml_parse(b,J)}return E})}},Hh={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(b,w){switch(w){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},zA={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(b,w){if(20===w.type&&"none"===w.value)return null;if(18===w.type){var S=f_[w.name];if(typeof S>"u")throw new Error('Attempting to parse an unsupported transform function "'+w.name+'"');return S(w.values)}return null}},f_={matrix:function(b){var w=b.filter(function(S){return 17===S.type}).map(function(S){return S.number});return 6===w.length?w:null},matrix3d:function(b){var w=b.filter(function(le){return 17===le.type}).map(function(le){return le.number});return 16===w.length?[w[0],w[1],w[4],w[5],w[12],w[13]]:null}},qr={type:16,number:50,flags:4},ow=[qr,qr],qA={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(b,w){var S=w.filter(qi);return 2!==S.length?ow:[S[0],S[1]]}},Jy={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(b,w){switch(w){case"hidden":return 1;case"collapse":return 2;default:return 0}}},_c=(()=>{return(b=_c||(_c={})).NORMAL="normal",b.BREAK_ALL="break-all",b.KEEP_ALL="keep-all",_c;var b})(),ep={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(b,w){switch(w){case"break-all":return _c.BREAK_ALL;case"keep-all":return _c.KEEP_ALL;default:return _c.NORMAL}}},p_={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(b,w){if(20===w.type)return{auto:!0,order:0};if(nd(w))return{auto:!1,order:w.number};throw new Error("Invalid z-index number parsed")}},Qg={name:"time",parse:function(b,w){if(15===w.type)switch(w.unit.toLowerCase()){case"s":return 1e3*w.number;case"ms":return w.number}throw new Error("Unsupported time type")}},dd={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(b,w){return nd(w)?w.number:1}},g_={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},m_={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(b,w){return w.filter($i).map(function(S){switch(S.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(S){return 0!==S})}},js={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(b,w){var S=[],E=[];return w.forEach(function(L){switch(L.type){case 20:case 0:S.push(L.value);break;case 17:S.push(L.number.toString());break;case 4:E.push(S.join(" ")),S.length=0}}),S.length&&E.push(S.join(" ")),E.map(function(L){return-1===L.indexOf(" ")?L:"'"+L+"'"})}},Ol={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Vh={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(b,w){return nd(w)?w.number:$i(w)&&"bold"===w.value?700:400}},tp={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(b,w){return w.filter($i).map(function(S){return S.value})}},__={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(b,w){switch(w){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},Gn=function(b,w){return 0!=(b&w)},Pa={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(b,w){if(0===w.length)return[];var S=w[0];return 20===S.type&&"none"===S.value?[]:w}},An={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(b,w){if(0===w.length)return null;var S=w[0];if(20===S.type&&"none"===S.value)return null;for(var E=[],L=w.filter(Si),G=0;G<L.length;G++){var J=L[G],ce=L[G+1];if(20===J.type){var le=ce&&nd(ce)?ce.number:1;E.push({counter:J.value,increment:le})}}return E}},tn={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(b,w){if(0===w.length)return[];for(var S=[],E=w.filter(Si),L=0;L<E.length;L++){var G=E[L],J=E[L+1];if($i(G)&&"none"!==G.value){var ce=J&&nd(J)?J.number:0;S.push({counter:G.value,reset:ce})}}return S}},pr={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(b,w){return w.filter(yu).map(function(S){return Qg.parse(b,S)})}},Gh={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(b,w){if(0===w.length)return null;var S=w[0];if(20===S.type&&"none"===S.value)return null;var E=[],L=w.filter(Eg);if(L.length%2!=0)return null;for(var G=0;G<L.length;G+=2)E.push({open:L[G].value,close:L[G+1].value});return E}},Su=function(b,w,S){if(!b)return"";var E=b[Math.min(w,b.length-1)];return E?S?E.open:E.close:""},mr={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(b,w){return 1===w.length&&Jl(w[0],"none")?[]:Or(w).map(function(S){for(var E={color:255,offsetX:vo,offsetY:vo,blur:vo,spread:vo,inset:!1},L=0,G=0;G<S.length;G++){var J=S[G];Jl(J,"inset")?E.inset=!0:Fa(J)?(0===L?E.offsetX=J:1===L?E.offsetY=J:2===L?E.blur=J:E.spread=J,L++):E.color=Ml_parse(b,J)}return E})}},y_={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(b,w){var E=[];return w.filter($i).forEach(function(L){switch(L.value){case"stroke":E.push(1);break;case"fill":E.push(0);break;case"markers":E.push(2)}}),[0,1,2].forEach(function(L){-1===E.indexOf(L)&&E.push(L)}),E}},v_={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},hd={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(b,w){return yu(w)?w.number:0}},Ua=function(){function b(w,S){var E,L;this.animationDuration=wn(w,pr,S.animationDuration),this.backgroundClip=wn(w,zf,S.backgroundClip),this.backgroundColor=wn(w,vu,S.backgroundColor),this.backgroundImage=wn(w,ad,S.backgroundImage),this.backgroundOrigin=wn(w,ld,S.backgroundOrigin),this.backgroundPosition=wn(w,Og,S.backgroundPosition),this.backgroundRepeat=wn(w,La,S.backgroundRepeat),this.backgroundSize=wn(w,UA,S.backgroundSize),this.borderTopColor=wn(w,Zf,S.borderTopColor),this.borderRightColor=wn(w,Lg,S.borderRightColor),this.borderBottomColor=wn(w,Ng,S.borderBottomColor),this.borderLeftColor=wn(w,Pg,S.borderLeftColor),this.borderTopLeftRadius=wn(w,Nh,S.borderTopLeftRadius),this.borderTopRightRadius=wn(w,c_,S.borderTopRightRadius),this.borderBottomRightRadius=wn(w,xu,S.borderBottomRightRadius),this.borderBottomLeftRadius=wn(w,QA,S.borderBottomLeftRadius),this.borderTopStyle=wn(w,ud,S.borderTopStyle),this.borderRightStyle=wn(w,u_,S.borderRightStyle),this.borderBottomStyle=wn(w,Ph,S.borderBottomStyle),this.borderLeftStyle=wn(w,$f,S.borderLeftStyle),this.borderTopWidth=wn(w,rw,S.borderTopWidth),this.borderRightWidth=wn(w,Yf,S.borderRightWidth),this.borderBottomWidth=wn(w,$y,S.borderBottomWidth),this.borderLeftWidth=wn(w,sw,S.borderLeftWidth),this.boxShadow=wn(w,mr,S.boxShadow),this.color=wn(w,Na,S.color),this.direction=wn(w,Ug,S.direction),this.display=wn(w,qc,S.display),this.float=wn(w,d_,S.cssFloat),this.fontFamily=wn(w,js,S.fontFamily),this.fontSize=wn(w,Ol,S.fontSize),this.fontStyle=wn(w,__,S.fontStyle),this.fontVariant=wn(w,tp,S.fontVariant),this.fontWeight=wn(w,Vh,S.fontWeight),this.letterSpacing=wn(w,Uh,S.letterSpacing),this.lineBreak=wn(w,Yy,S.lineBreak),this.lineHeight=wn(w,Po,S.lineHeight),this.listStyleImage=wn(w,$d,S.listStyleImage),this.listStylePosition=wn(w,Qh,S.listStylePosition),this.listStyleType=wn(w,HA,S.listStyleType),this.marginTop=wn(w,Yd,S.marginTop),this.marginRight=wn(w,Jf,S.marginRight),this.marginBottom=wn(w,h_,S.marginBottom),this.marginLeft=wn(w,VA,S.marginLeft),this.opacity=wn(w,dd,S.opacity);var G=wn(w,Wd,S.overflow);this.overflowX=G[0],this.overflowY=G[G.length>1?1:0],this.overflowWrap=wn(w,GA,S.overflowWrap),this.paddingTop=wn(w,Kc,S.paddingTop),this.paddingRight=wn(w,Wy,S.paddingRight),this.paddingBottom=wn(w,Xf,S.paddingBottom),this.paddingLeft=wn(w,ma,S.paddingLeft),this.paintOrder=wn(w,y_,S.paintOrder),this.position=wn(w,ts,S.position),this.textAlign=wn(w,Jd,S.textAlign),this.textDecorationColor=wn(w,g_,null!==(E=S.textDecorationColor)&&void 0!==E?E:S.color),this.textDecorationLine=wn(w,m_,null!==(L=S.textDecorationLine)&&void 0!==L?L:S.textDecoration),this.textShadow=wn(w,mc,S.textShadow),this.textTransform=wn(w,Hh,S.textTransform),this.transform=wn(w,zA,S.transform),this.transformOrigin=wn(w,qA,S.transformOrigin),this.visibility=wn(w,Jy,S.visibility),this.webkitTextStrokeColor=wn(w,v_,S.webkitTextStrokeColor),this.webkitTextStrokeWidth=wn(w,hd,S.webkitTextStrokeWidth),this.wordBreak=wn(w,ep,S.wordBreak),this.zIndex=wn(w,p_,S.zIndex)}return b.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},b.prototype.isTransparent=function(){return kl(this.backgroundColor)},b.prototype.isTransformed=function(){return null!==this.transform},b.prototype.isPositioned=function(){return 0!==this.position},b.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},b.prototype.isFloating=function(){return 0!==this.float},b.prototype.isInlineLevel=function(){return Gn(this.display,4)||Gn(this.display,33554432)||Gn(this.display,268435456)||Gn(this.display,536870912)||Gn(this.display,67108864)||Gn(this.display,134217728)},b}(),jh=function b(w,S){this.content=wn(w,Pa,S.content),this.quotes=wn(w,Gh,S.quotes)},ra=function b(w,S){this.counterIncrement=wn(w,An,S.counterIncrement),this.counterReset=wn(w,tn,S.counterReset)},wn=function(b,w,S){var E=new Ts,L=null!==S&&typeof S<"u"?S.toString():w.initialValue;E.write(L);var G=new _u(E.read());switch(w.type){case 2:var J=G.parseComponentValue();return w.parse(b,$i(J)?J.value:w.initialValue);case 0:return w.parse(b,G.parseComponentValue());case 1:return w.parse(b,G.parseComponentValues());case 4:return G.parseComponentValue();case 3:switch(w.format){case"angle":return Gs_parse(b,G.parseComponentValue());case"color":return Ml_parse(b,G.parseComponentValue());case"image":return bu_parse(b,G.parseComponentValue());case"length":var ce=G.parseComponentValue();return Fa(ce)?ce:vo;case"length-percentage":var le=G.parseComponentValue();return qi(le)?le:vo;case"time":return Qg.parse(b,G.parseComponentValue())}}},np=function(b,w){var S=function(b){switch(b.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(b);return 1===S||w===S},tc=function b(w,S){this.context=w,this.textNodes=[],this.elements=[],this.flags=0,np(S,3),this.styles=new Ua(w,window.getComputedStyle(S,null)),WA(S)&&(this.styles.animationDuration.some(function(E){return E>0})&&(S.style.animationDuration="0s"),null!==this.styles.transform&&(S.style.transform="none")),this.bounds=vt(this.context,S),np(S,4)&&(this.flags|=16)},Nr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Iu=typeof Uint8Array>"u"?[]:new Uint8Array(256),al=0;al<Nr.length;al++)Iu[Nr.charCodeAt(al)]=al;for(var _i=function(b,w,S){return b.slice?b.slice(w,S):new Uint16Array(Array.prototype.slice.call(b,w,S))},Gg=function(){function b(w,S,E,L,G,J){this.initialValue=w,this.errorValue=S,this.highStart=E,this.highValueIndex=L,this.index=G,this.data=J}return b.prototype.get=function(w){var S;if(w>=0){if(w<55296||w>56319&&w<=65535)return this.data[S=((S=this.index[w>>5])<<2)+(31&w)];if(w<=65535)return this.data[S=((S=this.index[2048+(w-55296>>5)])<<2)+(31&w)];if(w<this.highStart)return S=this.index[S=2080+(w>>11)],this.data[S=((S=this.index[S+=w>>5&63])<<2)+(31&w)];if(w<=1114111)return this.data[this.highValueIndex]}return this.errorValue},b}(),$c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qo=typeof Uint8Array>"u"?[]:new Uint8Array(256),cl=0;cl<$c.length;cl++)Qo[$c.charCodeAt(cl)]=cl;var KA=8,pd=9,pi=11,ih=12,bo=function(){for(var b=[],w=0;w<arguments.length;w++)b[w]=arguments[w];if(String.fromCodePoint)return String.fromCodePoint.apply(String,b);var S=b.length;if(!S)return"";for(var E=[],L=-1,G="";++L<S;){var J=b[L];J<=65535?E.push(J):E.push(55296+((J-=65536)>>10),J%1024+56320),(L+1===S||E.length>16384)&&(G+=String.fromCharCode.apply(String,E),E.length=0)}return G},jg=function(b,w){var S=function(b){var E,G,J,ce,le,w=.75*b.length,S=b.length,L=0;"="===b[b.length-1]&&(w--,"="===b[b.length-2]&&w--);var Fe=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(w):new Array(w),He=Array.isArray(Fe)?Fe:new Uint8Array(Fe);for(E=0;E<S;E+=4)G=Iu[b.charCodeAt(E)],J=Iu[b.charCodeAt(E+1)],ce=Iu[b.charCodeAt(E+2)],le=Iu[b.charCodeAt(E+3)],He[L++]=G<<2|J>>4,He[L++]=(15&J)<<4|ce>>2,He[L++]=(3&ce)<<6|63&le;return Fe}(b),E=Array.isArray(S)?function(b){for(var w=b.length,S=[],E=0;E<w;E+=4)S.push(b[E+3]<<24|b[E+2]<<16|b[E+1]<<8|b[E]);return S}(S):new Uint32Array(S),L=Array.isArray(S)?function(b){for(var w=b.length,S=[],E=0;E<w;E+=2)S.push(b[E+1]<<8|b[E]);return S}(S):new Uint16Array(S),J=_i(L,12,E[4]/2),ce=2===E[5]?_i(L,(24+E[4])/2):function(b,w,S){return b.slice?b.slice(w,S):new Uint32Array(Array.prototype.slice.call(b,w,S))}(E,Math.ceil((24+E[4])/4));return new Gg(E[0],E[1],E[2],E[3],J,ce)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),b_=function(b){return jg.get(b)},qs=function(b,w,S){var E=S-2,L=w[E],G=w[S-1],J=w[S];if(2===G&&3===J)return"\xd7";if(2===G||3===G||4===G||2===J||3===J||4===J)return"\xf7";if(G===KA&&-1!==[KA,pd,pi,ih].indexOf(J)||(G===pi||G===pd)&&(J===pd||10===J)||(G===ih||10===G)&&10===J||13===J||5===J||7===J||1===G)return"\xd7";if(13===G&&14===J){for(;5===L;)L=w[--E];if(14===L)return"\xd7"}if(15===G&&15===J){for(var ce=0;15===L;)ce++,L=w[--E];if(ce%2==0)return"\xd7"}return"\xf7"},so=function(b){var w=function(b){for(var w=[],S=0,E=b.length;S<E;){var L=b.charCodeAt(S++);if(L>=55296&&L<=56319&&S<E){var G=b.charCodeAt(S++);56320==(64512&G)?w.push(((1023&L)<<10)+(1023&G)+65536):(w.push(L),S--)}else w.push(L)}return w}(b),S=w.length,E=0,L=0,G=w.map(b_);return{next:function(){if(E>=S)return{done:!0,value:null};for(var J="\xd7";E<S&&"\xd7"===(J=qs(0,G,++E)););if("\xd7"!==J||E===S){var ce=bo.apply(null,w.slice(L,E));return L=E,{value:ce,done:!1}}return{done:!0,value:null}}}},gt=function(b){return 0===b[0]&&255===b[1]&&0===b[2]&&255===b[3]},an=function(b,w,S,E,L){var G="http://www.w3.org/2000/svg",J=document.createElementNS(G,"svg"),ce=document.createElementNS(G,"foreignObject");return J.setAttributeNS(null,"width",b.toString()),J.setAttributeNS(null,"height",w.toString()),ce.setAttributeNS(null,"width","100%"),ce.setAttributeNS(null,"height","100%"),ce.setAttributeNS(null,"x",S.toString()),ce.setAttributeNS(null,"y",E.toString()),ce.setAttributeNS(null,"externalResourcesRequired","true"),J.appendChild(ce),ce.appendChild(L),J},Bn=function(b){return new Promise(function(w,S){var E=new Image;E.onload=function(){return w(E)},E.onerror=S,E.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(b))})},Fn={get SUPPORT_RANGE_BOUNDS(){var b=function(b){if(b.createRange){var S=b.createRange();if(S.getBoundingClientRect){var E=b.createElement("boundtest");E.style.height="123px",E.style.display="block",b.body.appendChild(E),S.selectNode(E);var L=S.getBoundingClientRect(),G=Math.round(L.height);if(b.body.removeChild(E),123===G)return!0}}return!1}(document);return Object.defineProperty(Fn,"SUPPORT_RANGE_BOUNDS",{value:b}),b},get SUPPORT_WORD_BREAKING(){var b=Fn.SUPPORT_RANGE_BOUNDS&&function(b){var w=b.createElement("boundtest");w.style.width="50px",w.style.display="block",w.style.fontSize="12px",w.style.letterSpacing="0px",w.style.wordSpacing="0px",b.body.appendChild(w);var S=b.createRange();w.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var E=w.firstChild,L=Tt(E.data).map(function(le){return ut(le)}),G=0,J={},ce=L.every(function(le,Fe){S.setStart(E,G),S.setEnd(E,G+le.length);var He=S.getBoundingClientRect();G+=le.length;var Je=He.x>J.x||He.y>J.y;return J=He,0===Fe||Je});return b.body.removeChild(w),ce}(document);return Object.defineProperty(Fn,"SUPPORT_WORD_BREAKING",{value:b}),b},get SUPPORT_SVG_DRAWING(){var b=function(b){var w=new Image,S=b.createElement("canvas"),E=S.getContext("2d");if(!E)return!1;w.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{E.drawImage(w,0,0),S.toDataURL()}catch{return!1}return!0}(document);return Object.defineProperty(Fn,"SUPPORT_SVG_DRAWING",{value:b}),b},get SUPPORT_FOREIGNOBJECT_DRAWING(){var b="function"==typeof Array.from&&"function"==typeof window.fetch?function(b){var w=b.createElement("canvas"),S=100;w.width=S,w.height=S;var E=w.getContext("2d");if(!E)return Promise.reject(!1);E.fillStyle="rgb(0, 255, 0)",E.fillRect(0,0,S,S);var L=new Image,G=w.toDataURL();L.src=G;var J=an(S,S,0,0,L);return E.fillStyle="red",E.fillRect(0,0,S,S),Bn(J).then(function(ce){E.drawImage(ce,0,0);var le=E.getImageData(0,0,S,S).data;E.fillStyle="red",E.fillRect(0,0,S,S);var Fe=b.createElement("div");return Fe.style.backgroundImage="url("+G+")",Fe.style.height=S+"px",gt(le)?Bn(an(S,S,0,0,Fe)):Promise.reject(!1)}).then(function(ce){return E.drawImage(ce,0,0),gt(E.getImageData(0,0,S,S).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(Fn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:b}),b},get SUPPORT_CORS_IMAGES(){var b=typeof(new Image).crossOrigin<"u";return Object.defineProperty(Fn,"SUPPORT_CORS_IMAGES",{value:b}),b},get SUPPORT_RESPONSE_TYPE(){var b="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Fn,"SUPPORT_RESPONSE_TYPE",{value:b}),b},get SUPPORT_CORS_XHR(){var b="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Fn,"SUPPORT_CORS_XHR",{value:b}),b},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var b=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Fn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:b}),b}},Yt=function b(w,S){this.text=w,this.bounds=S},Ks=function(b,w){var S=w.ownerDocument;if(S){var E=S.createElement("html2canvaswrapper");E.appendChild(w.cloneNode(!0));var L=w.parentNode;if(L){L.replaceChild(E,w);var G=vt(b,E);return E.firstChild&&L.replaceChild(E.firstChild,E),G}}return lt.EMPTY},ul=function(b,w,S){var E=b.ownerDocument;if(!E)throw new Error("Node has no owner document");var L=E.createRange();return L.setStart(b,w),L.setEnd(b,w+S),L},Zs=function(b){if(Fn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var w=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(w.segment(b)).map(function(S){return S.segment})}return function(b){for(var E,w=so(b),S=[];!(E=w.next()).done;)E.value&&S.push(E.value.slice());return S}(b)},Ga=function(b,w){return 0!==w.letterSpacing?Zs(b):function(b,w){if(Fn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var S=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(S.segment(b)).map(function(E){return E.segment})}return Kh(b,w)}(b,w)},Ll=[32,160,4961,65792,65793,4153,4241],Kh=function(b,w){for(var L,S=function(b,w){var S=Tt(b),E=$t(S,w),L=E[0],G=E[1],J=E[2],ce=S.length,le=0,Fe=0;return{next:function(){if(Fe>=ce)return{done:!0,value:null};for(var He=Qe;Fe<ce&&(He=it(S,G,L,++Fe,J))===Qe;);if(He!==Qe||Fe===ce){var Je=new $n(S,He,le,Fe);return le=Fe,{value:Je,done:!1}}return{done:!0,value:null}}}}(b,{lineBreak:w.lineBreak,wordBreak:"break-word"===w.overflowWrap?"break-word":w.wordBreak}),E=[],G=function(){if(L.value){var J=L.value.slice(),ce=Tt(J),le="";ce.forEach(function(Fe){-1===Ll.indexOf(Fe)?le+=ut(Fe):(le.length&&E.push(le),E.push(ut(Fe)),le="")}),le.length&&E.push(le)}};!(L=S.next()).done;)G();return E},ZA=function b(w,S,E){this.text=ev(S.data,E.textTransform),this.textBounds=function(b,w,S,E){var L=Ga(w,S),G=[],J=0;return L.forEach(function(ce){if(S.textDecorationLine.length||ce.trim().length>0)if(Fn.SUPPORT_RANGE_BOUNDS){var le=ul(E,J,ce.length).getClientRects();if(le.length>1){var Fe=Zs(ce),He=0;Fe.forEach(function(Dt){G.push(new Yt(Dt,lt.fromDOMRectList(b,ul(E,He+J,Dt.length).getClientRects()))),He+=Dt.length})}else G.push(new Yt(ce,lt.fromDOMRectList(b,le)))}else{var Je=E.splitText(ce.length);G.push(new Yt(ce,Ks(b,E))),E=Je}else Fn.SUPPORT_RANGE_BOUNDS||(E=E.splitText(ce.length));J+=ce.length}),G}(w,this.text,E,S)},ev=function(b,w){switch(w){case 1:return b.toLowerCase();case 3:return b.replace(sp,aw);case 2:return b.toUpperCase();default:return b}},sp=/(^|\s|:|-|\(|\))([a-z])/g,aw=function(b,w,S){return b.length>0?w+S.toUpperCase():b},op=function(b){function w(S,E){var L=b.call(this,S,E)||this;return L.src=E.currentSrc||E.src,L.intrinsicWidth=E.naturalWidth,L.intrinsicHeight=E.naturalHeight,L.context.cache.addImage(L.src),L}return re(w,b),w}(tc),ap=function(b){function w(S,E){var L=b.call(this,S,E)||this;return L.canvas=E,L.intrinsicWidth=E.width,L.intrinsicHeight=E.height,L}return re(w,b),w}(tc),C_=function(b){function w(S,E){var L=b.call(this,S,E)||this,G=new XMLSerializer,J=vt(S,E);return E.setAttribute("width",J.width+"px"),E.setAttribute("height",J.height+"px"),L.svg="data:image/svg+xml,"+encodeURIComponent(G.serializeToString(E)),L.intrinsicWidth=E.width.baseVal.value,L.intrinsicHeight=E.height.baseVal.value,L.context.cache.addImage(L.svg),L}return re(w,b),w}(tc),Zh=function(b){function w(S,E){var L=b.call(this,S,E)||this;return L.value=E.value,L}return re(w,b),w}(tc),lp=function(b){function w(S,E){var L=b.call(this,S,E)||this;return L.start=E.start,L.reversed="boolean"==typeof E.reversed&&!0===E.reversed,L}return re(w,b),w}(tc),lw=[{type:15,flags:0,unit:"px",number:3}],tv=[{type:16,flags:0,number:50}],up="checkbox",qg="radio",x_="password",Kg=707406591,$A=function(b){function w(S,E){var L=b.call(this,S,E)||this;switch(L.type=E.type.toLowerCase(),L.checked=E.checked,L.value=function(b){var w=b.type===x_?new Array(b.value.length+1).join("\u2022"):b.value;return 0===w.length?b.placeholder||"":w}(E),(L.type===up||L.type===qg)&&(L.styles.backgroundColor=3739148031,L.styles.borderTopColor=L.styles.borderRightColor=L.styles.borderBottomColor=L.styles.borderLeftColor=2779096575,L.styles.borderTopWidth=L.styles.borderRightWidth=L.styles.borderBottomWidth=L.styles.borderLeftWidth=1,L.styles.borderTopStyle=L.styles.borderRightStyle=L.styles.borderBottomStyle=L.styles.borderLeftStyle=1,L.styles.backgroundClip=[0],L.styles.backgroundOrigin=[0],L.bounds=function(b){return b.width>b.height?new lt(b.left+(b.width-b.height)/2,b.top,b.height,b.height):b.width<b.height?new lt(b.left,b.top+(b.height-b.width)/2,b.width,b.width):b}(L.bounds)),L.type){case up:L.styles.borderTopRightRadius=L.styles.borderTopLeftRadius=L.styles.borderBottomRightRadius=L.styles.borderBottomLeftRadius=lw;break;case qg:L.styles.borderTopRightRadius=L.styles.borderTopLeftRadius=L.styles.borderBottomRightRadius=L.styles.borderBottomLeftRadius=tv}return L}return re(w,b),w}(tc),Zg=function(b){function w(S,E){var L=b.call(this,S,E)||this,G=E.options[E.selectedIndex||0];return L.value=G&&G.text||"",L}return re(w,b),w}(tc),gd=function(b){function w(S,E){var L=b.call(this,S,E)||this;return L.value=E.value,L}return re(w,b),w}(tc),vc=function(b){function w(S,E){var L=b.call(this,S,E)||this;L.src=E.src,L.width=parseInt(E.width,10)||0,L.height=parseInt(E.height,10)||0,L.backgroundColor=L.styles.backgroundColor;try{if(E.contentWindow&&E.contentWindow.document&&E.contentWindow.document.documentElement){L.tree=E_(S,E.contentWindow.document.documentElement);var G=E.contentWindow.document.documentElement?id(S,getComputedStyle(E.contentWindow.document.documentElement).backgroundColor):pc.TRANSPARENT,J=E.contentWindow.document.body?id(S,getComputedStyle(E.contentWindow.document.body).backgroundColor):pc.TRANSPARENT;L.backgroundColor=kl(G)?kl(J)?L.styles.backgroundColor:J:G}}catch{}return L}return re(w,b),w}(tc),$g=["OL","UL","MENU"],dp=function(b,w,S,E){for(var L=w.firstChild,G=void 0;L;L=G)if(G=L.nextSibling,YA(L)&&L.data.trim().length>0)S.textNodes.push(new ZA(b,L,S.styles));else if(ku(L))if(Xh(L)&&L.assignedNodes)L.assignedNodes().forEach(function(ce){return dp(b,ce,S,E)});else{var J=Yg(b,L);J.styles.isVisible()&&(cw(L,J,E)?J.flags|=4:$h(J.styles)&&(J.flags|=2),-1!==$g.indexOf(L.tagName)&&(J.flags|=8),S.elements.push(J),L.shadowRoot?dp(b,L.shadowRoot,J,E):!sh(L)&&!S_(L)&&!bc(L)&&dp(b,L,J,E))}},Yg=function(b,w){return Ap(w)?new op(b,w):hp(w)?new ap(b,w):S_(w)?new C_(b,w):Wh(w)?new Zh(b,w):rh(w)?new lp(b,w):Wg(w)?new $A(b,w):bc(w)?new Zg(b,w):sh(w)?new gd(b,w):fp(w)?new vc(b,w):new tc(b,w)},E_=function(b,w){var S=Yg(b,w);return S.flags|=4,dp(b,w,S,S),S},cw=function(b,w,S){return w.styles.isPositionedWithZIndex()||w.styles.opacity<1||w.styles.isTransformed()||Jg(b)&&S.styles.isTransparent()},$h=function(b){return b.isPositioned()||b.isFloating()},YA=function(b){return b.nodeType===Node.TEXT_NODE},ku=function(b){return b.nodeType===Node.ELEMENT_NODE},WA=function(b){return ku(b)&&typeof b.style<"u"&&!Yh(b)},Yh=function(b){return"object"==typeof b.className},Wh=function(b){return"LI"===b.tagName},rh=function(b){return"OL"===b.tagName},Wg=function(b){return"INPUT"===b.tagName},S_=function(b){return"svg"===b.tagName},Jg=function(b){return"BODY"===b.tagName},hp=function(b){return"CANVAS"===b.tagName},wc=function(b){return"VIDEO"===b.tagName},Ap=function(b){return"IMG"===b.tagName},fp=function(b){return"IFRAME"===b.tagName},dw=function(b){return"STYLE"===b.tagName},sh=function(b){return"TEXTAREA"===b.tagName},bc=function(b){return"SELECT"===b.tagName},Xh=function(b){return"SLOT"===b.tagName},md=function(b){return b.tagName.indexOf("-")>0},eA=function(){function b(){this.counters={}}return b.prototype.getCounterValue=function(w){var S=this.counters[w];return S&&S.length?S[S.length-1]:1},b.prototype.getCounterValues=function(w){return this.counters[w]||[]},b.prototype.pop=function(w){var S=this;w.forEach(function(E){return S.counters[E].pop()})},b.prototype.parse=function(w){var S=this,E=w.counterIncrement,L=w.counterReset,G=!0;null!==E&&E.forEach(function(ce){var le=S.counters[ce.counter];le&&0!==ce.increment&&(G=!1,le.length||le.push(1),le[Math.max(0,le.length-1)]+=ce.increment)});var J=[];return G&&L.forEach(function(ce){var le=S.counters[ce.counter];J.push(ce.counter),le||(le=S.counters[ce.counter]=[]),le.push(ce.reset)}),J},b}(),pp={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},I_={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},JA={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},Xg={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},tA=function(b,w,S,E,L,G){return b<w||b>S?dl(b,L,G.length>0):E.integers.reduce(function(J,ce,le){for(;b>=ce;)b-=ce,J+=E.values[le];return J},"")+G},XA=function(b,w,S,E){var L="";do{S||b--,L=E(b)+L,b/=w}while(b*w>=w);return L},Fs=function(b,w,S,E,L){var G=S-w+1;return(b<0?"-":"")+(XA(Math.abs(b),G,E,function(J){return ut(Math.floor(J%G)+w)})+L)},_d=function(b,w,S){void 0===S&&(S=". ");var E=w.length;return XA(Math.abs(b),E,!1,function(L){return w[Math.floor(L%E)]})+S},Cc=function(b,w,S,E,L,G){if(b<-9999||b>9999)return dl(b,4,L.length>0);var J=Math.abs(b),ce=L;if(0===J)return w[0]+ce;for(var le=0;J>0&&le<=4;le++){var Fe=J%10;0===Fe&&Gn(G,1)&&""!==ce?ce=w[Fe]+ce:Fe>1||1===Fe&&0===le||1===Fe&&1===le&&Gn(G,2)||1===Fe&&1===le&&Gn(G,4)&&b>100||1===Fe&&le>1&&Gn(G,8)?ce=w[Fe]+(le>0?S[le-1]:"")+ce:1===Fe&&le>0&&(ce=S[le-1]+ce),J=Math.floor(J/10)}return(b<0?E:"")+ce},Ou="\ub9c8\uc774\ub108\uc2a4",dl=function(b,w,S){var E=S?". ":"",L=S?"\u3001":"",G=S?", ":"",J=S?" ":"";switch(w){case 0:return"\u2022"+J;case 1:return"\u25e6"+J;case 2:return"\u25fe"+J;case 5:var ce=Fs(b,48,57,!0,E);return ce.length<4?"0"+ce:ce;case 4:return _d(b,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",L);case 6:return tA(b,1,3999,pp,3,E).toLowerCase();case 7:return tA(b,1,3999,pp,3,E);case 8:return Fs(b,945,969,!1,E);case 9:return Fs(b,97,122,!1,E);case 10:return Fs(b,65,90,!1,E);case 11:return Fs(b,1632,1641,!0,E);case 12:case 49:return tA(b,1,9999,I_,3,E);case 35:return tA(b,1,9999,I_,3,E).toLowerCase();case 13:return Fs(b,2534,2543,!0,E);case 14:case 30:return Fs(b,6112,6121,!0,E);case 15:return _d(b,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",L);case 16:return _d(b,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",L);case 17:case 48:return Cc(b,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8ca0",L,14);case 47:return Cc(b,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8ca0",L,15);case 42:return Cc(b,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8d1f",L,14);case 41:return Cc(b,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8d1f",L,15);case 26:return Cc(b,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",L,0);case 25:return Cc(b,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",L,7);case 31:return Cc(b,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",Ou,G,7);case 33:return Cc(b,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",Ou,G,0);case 32:return Cc(b,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",Ou,G,7);case 18:return Fs(b,2406,2415,!0,E);case 20:return tA(b,1,19999,Xg,3,E);case 21:return Fs(b,2790,2799,!0,E);case 22:return Fs(b,2662,2671,!0,E);case 22:return tA(b,1,10999,JA,3,E);case 23:return _d(b,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return _d(b,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Fs(b,3302,3311,!0,E);case 28:return _d(b,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",L);case 29:return _d(b,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",L);case 34:return Fs(b,3792,3801,!0,E);case 37:return Fs(b,6160,6169,!0,E);case 38:return Fs(b,4160,4169,!0,E);case 39:return Fs(b,2918,2927,!0,E);case 40:return Fs(b,1776,1785,!0,E);case 43:return Fs(b,3046,3055,!0,E);case 44:return Fs(b,3174,3183,!0,E);case 45:return Fs(b,3664,3673,!0,E);case 46:return Fs(b,3872,3881,!0,E);default:return Fs(b,48,57,!0,E)}},ic="data-html2canvas-ignore",tf=function(){function b(w,S,E){if(this.context=w,this.options=E,this.scrolledElements=[],this.referenceElement=S,this.counters=new eA,this.quoteDepth=0,!S.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(S.ownerDocument.documentElement,!1)}return b.prototype.toIFrame=function(w,S){var E=this,L=pC(w,S);if(!L.contentWindow)return Promise.reject("Unable to find iframe window");var G=w.defaultView.pageXOffset,J=w.defaultView.pageYOffset,ce=L.contentWindow,le=ce.document,Fe=hw(L).then(function(){return ze(E,void 0,void 0,function(){var He,Je;return oe(this,function(Dt){switch(Dt.label){case 0:return this.scrolledElements.forEach(tm),ce&&(ce.scrollTo(S.left,S.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(ce.scrollY!==S.top||ce.scrollX!==S.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(ce.scrollX-S.left,ce.scrollY-S.top,0,0))),He=this.options.onclone,typeof(Je=this.clonedReferenceElement)>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:le.fonts&&le.fonts.ready?[4,le.fonts.ready]:[3,2];case 1:Dt.sent(),Dt.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,gp(le)]:[3,4];case 3:Dt.sent(),Dt.label=4;case 4:return"function"==typeof He?[2,Promise.resolve().then(function(){return He(le,Je)}).then(function(){return L})]:[2,L]}})})});return le.open(),le.write(_p(document.doctype)+"<html></html>"),sA(this.referenceElement.ownerDocument,G,J),le.replaceChild(le.adoptNode(this.documentElement),le.documentElement),le.close(),Fe},b.prototype.createElementClone=function(w){if(np(w,2),hp(w))return this.createCanvasClone(w);if(wc(w))return this.createVideoClone(w);if(dw(w))return this.createStyleClone(w);var S=w.cloneNode(!1);return Ap(S)&&(Ap(w)&&w.currentSrc&&w.currentSrc!==w.src&&(S.src=w.currentSrc,S.srcset=""),"lazy"===S.loading&&(S.loading="eager")),md(S)?this.createCustomElementClone(S):S},b.prototype.createCustomElementClone=function(w){var S=document.createElement("html2canvascustomelement");return rA(w.style,S),S},b.prototype.createStyleClone=function(w){try{var S=w.sheet;if(S&&S.cssRules){var E=[].slice.call(S.cssRules,0).reduce(function(G,J){return J&&"string"==typeof J.cssText?G+J.cssText:G},""),L=w.cloneNode(!1);return L.textContent=E,L}}catch(G){if(this.context.logger.error("Unable to access cssRules property",G),"SecurityError"!==G.name)throw G}return w.cloneNode(!1)},b.prototype.createCanvasClone=function(w){var S;if(this.options.inlineImages&&w.ownerDocument){var E=w.ownerDocument.createElement("img");try{return E.src=w.toDataURL(),E}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",w)}}var L=w.cloneNode(!1);try{L.width=w.width,L.height=w.height;var G=w.getContext("2d"),J=L.getContext("2d");if(J)if(!this.options.allowTaint&&G)J.putImageData(G.getImageData(0,0,w.width,w.height),0,0);else{var ce=null!==(S=w.getContext("webgl2"))&&void 0!==S?S:w.getContext("webgl");ce&&!1===ce.getContextAttributes()?.preserveDrawingBuffer&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",w),J.drawImage(w,0,0)}return L}catch{this.context.logger.info("Unable to clone canvas as it is tainted",w)}return L},b.prototype.createVideoClone=function(w){var S=w.ownerDocument.createElement("canvas");S.width=w.offsetWidth,S.height=w.offsetHeight;var E=S.getContext("2d");try{return E&&(E.drawImage(w,0,0,S.width,S.height),this.options.allowTaint||E.getImageData(0,0,S.width,S.height)),S}catch{this.context.logger.info("Unable to clone video as it is tainted",w)}var L=w.ownerDocument.createElement("canvas");return L.width=w.offsetWidth,L.height=w.offsetHeight,L},b.prototype.appendChildNode=function(w,S,E){(!ku(S)||!function(b){return"SCRIPT"===b.tagName}(S)&&!S.hasAttribute(ic)&&("function"!=typeof this.options.ignoreElements||!this.options.ignoreElements(S)))&&(!this.options.copyStyles||!ku(S)||!dw(S))&&w.appendChild(this.cloneNode(S,E))},b.prototype.cloneChildNodes=function(w,S,E){for(var L=this,G=w.shadowRoot?w.shadowRoot.firstChild:w.firstChild;G;G=G.nextSibling)if(ku(G)&&Xh(G)&&"function"==typeof G.assignedNodes){var J=G.assignedNodes();J.length&&J.forEach(function(ce){return L.appendChildNode(S,ce,E)})}else this.appendChildNode(S,G,E)},b.prototype.cloneNode=function(w,S){if(YA(w))return document.createTextNode(w.data);if(!w.ownerDocument)return w.cloneNode(!1);var E=w.ownerDocument.defaultView;if(E&&ku(w)&&(WA(w)||Yh(w))){var L=this.createElementClone(w);L.style.transitionProperty="none";var G=E.getComputedStyle(w),J=E.getComputedStyle(w,":before"),ce=E.getComputedStyle(w,":after");this.referenceElement===w&&WA(L)&&(this.clonedReferenceElement=L),Jg(L)&&nm(L);var le=this.counters.parse(new ra(this.context,G)),Fe=this.resolvePseudoContent(w,L,J,iA.BEFORE);md(w)&&(S=!0),wc(w)||this.cloneChildNodes(w,L,S),Fe&&L.insertBefore(Fe,L.firstChild);var He=this.resolvePseudoContent(w,L,ce,iA.AFTER);return He&&L.appendChild(He),this.counters.pop(le),(G&&(this.options.copyStyles||Yh(w))&&!fp(w)||S)&&rA(G,L),(0!==w.scrollTop||0!==w.scrollLeft)&&this.scrolledElements.push([L,w.scrollLeft,w.scrollTop]),(sh(w)||bc(w))&&(sh(L)||bc(L))&&(L.value=w.value),L}return w.cloneNode(!1)},b.prototype.resolvePseudoContent=function(w,S,E,L){var G=this;if(E){var J=E.content,ce=S.ownerDocument;if(ce&&J&&"none"!==J&&"-moz-alt-content"!==J&&"none"!==E.display){this.counters.parse(new ra(this.context,E));var le=new jh(this.context,E),Fe=ce.createElement("html2canvaspseudoelement");rA(E,Fe),le.content.forEach(function(Je){if(0===Je.type)Fe.appendChild(ce.createTextNode(Je.value));else if(22===Je.type){var Dt=ce.createElement("img");Dt.src=Je.value,Dt.style.opacity="1",Fe.appendChild(Dt)}else if(18===Je.type){if("attr"===Je.name){var Ln=Je.values.filter($i);Ln.length&&Fe.appendChild(ce.createTextNode(w.getAttribute(Ln[0].value)||""))}else if("counter"===Je.name){var ln=Je.values.filter(fc),Zi=ln[1];if((En=ln[0])&&$i(En)){var ii=G.counters.getCounterValue(En.value),Jn=Zi&&$i(Zi)?HA.parse(G.context,Zi.value):3;Fe.appendChild(ce.createTextNode(dl(ii,Jn,!1)))}}else if("counters"===Je.name){var En,Pr=Je.values.filter(fc),er=Pr[1];if(Zi=Pr[2],(En=Pr[0])&&$i(En)){var gi=G.counters.getCounterValues(En.value),Mn=Zi&&$i(Zi)?HA.parse(G.context,Zi.value):3,dr=er&&0===er.type?er.value:"",sr=gi.map(function(Ec){return dl(Ec,Mn,!1)}).join(dr);Fe.appendChild(ce.createTextNode(sr))}}}else if(20===Je.type)switch(Je.value){case"open-quote":Fe.appendChild(ce.createTextNode(Su(le.quotes,G.quoteDepth++,!0)));break;case"close-quote":Fe.appendChild(ce.createTextNode(Su(le.quotes,--G.quoteDepth,!1)));break;default:Fe.appendChild(ce.createTextNode(Je.value))}}),Fe.className=aA+" "+D_;var He=L===iA.BEFORE?" "+aA:" "+D_;return Yh(S)?S.className.baseValue+=He:S.className+=He,Fe}}},b.destroy=function(w){return!!w.parentNode&&(w.parentNode.removeChild(w),!0)},b}(),iA=(()=>{return(b=iA||(iA={}))[b.BEFORE=0]="BEFORE",b[b.AFTER=1]="AFTER",iA;var b})(),pC=function(b,w){var S=b.createElement("iframe");return S.className="html2canvas-container",S.style.visibility="hidden",S.style.position="fixed",S.style.left="-10000px",S.style.top="0px",S.style.border="0",S.width=w.width.toString(),S.height=w.height.toString(),S.scrolling="no",S.setAttribute(ic,"true"),b.body.appendChild(S),S},Lu=function(b){return new Promise(function(w){b.complete?w():b.src?(b.onload=w,b.onerror=w):w()})},gp=function(b){return Promise.all([].slice.call(b.images,0).map(Lu))},hw=function(b){return new Promise(function(w,S){var E=b.contentWindow;if(!E)return S("No window assigned for iframe");var L=E.document;E.onload=b.onload=function(){E.onload=b.onload=null;var G=setInterval(function(){L.body.childNodes.length>0&&"complete"===L.readyState&&(clearInterval(G),w(b))},50)}})},mp=["all","d","content"],rA=function(b,w){for(var S=b.length-1;S>=0;S--){var E=b.item(S);-1===mp.indexOf(E)&&w.style.setProperty(E,b.getPropertyValue(E))}return w},_p=function(b){var w="";return b&&(w+="<!DOCTYPE ",b.name&&(w+=b.name),b.internalSubset&&(w+=b.internalSubset),b.publicId&&(w+='"'+b.publicId+'"'),b.systemId&&(w+='"'+b.systemId+'"'),w+=">"),w},sA=function(b,w,S){b&&b.defaultView&&(w!==b.defaultView.pageXOffset||S!==b.defaultView.pageYOffset)&&b.defaultView.scrollTo(w,S)},tm=function(b){var w=b[0],E=b[2];w.scrollLeft=b[1],w.scrollTop=E},aA="___html2canvas___pseudoelement_before",D_="___html2canvas___pseudoelement_after",iv='{\n    content: "" !important;\n    display: none !important;\n}',nm=function(b){im(b,"."+aA+":before"+iv+"\n         ."+D_+":after"+iv)},im=function(b,w){var S=b.ownerDocument;if(S){var E=S.createElement("style");E.textContent=w,b.appendChild(E)}},rc=function(){function b(){}return b.getOrigin=function(w){var S=b._link;return S?(S.href=w,S.href=S.href,S.protocol+S.hostname+S.port):"about:blank"},b.isSameOrigin=function(w){return b.getOrigin(w)===b._origin},b.setContext=function(w){b._link=w.document.createElement("a"),b._origin=b.getOrigin(w.location.href)},b._origin="about:blank",b}(),ah=function(){function b(w,S){this.context=w,this._options=S,this._cache={}}return b.prototype.addImage=function(w){var S=Promise.resolve();return this.has(w)||(rm(w)||ja(w))&&(this._cache[w]=this.loadImage(w)).catch(function(){}),S},b.prototype.match=function(w){return this._cache[w]},b.prototype.loadImage=function(w){return ze(this,void 0,void 0,function(){var S,E,L,G,J=this;return oe(this,function(ce){switch(ce.label){case 0:return S=rc.isSameOrigin(w),E=!vd(w)&&!0===this._options.useCORS&&Fn.SUPPORT_CORS_IMAGES&&!S,L=!vd(w)&&!S&&!rm(w)&&"string"==typeof this._options.proxy&&Fn.SUPPORT_CORS_XHR&&!E,S||!1!==this._options.allowTaint||vd(w)||rm(w)||L||E?(G=w,L?[4,this.proxy(G)]:[3,2]):[2];case 1:G=ce.sent(),ce.label=2;case 2:return this.context.logger.debug("Added image "+w.substring(0,256)),[4,new Promise(function(le,Fe){var He=new Image;He.onload=function(){return le(He)},He.onerror=Fe,(sv(G)||E)&&(He.crossOrigin="anonymous"),He.src=G,!0===He.complete&&setTimeout(function(){return le(He)},500),J._options.imageTimeout>0&&setTimeout(function(){return Fe("Timed out ("+J._options.imageTimeout+"ms) loading image")},J._options.imageTimeout)})];case 3:return[2,ce.sent()]}})})},b.prototype.has=function(w){return typeof this._cache[w]<"u"},b.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},b.prototype.proxy=function(w){var S=this,E=this._options.proxy;if(!E)throw new Error("No proxy defined");var L=w.substring(0,256);return new Promise(function(G,J){var ce=Fn.SUPPORT_RESPONSE_TYPE?"blob":"text",le=new XMLHttpRequest;le.onload=function(){if(200===le.status)if("text"===ce)G(le.response);else{var Je=new FileReader;Je.addEventListener("load",function(){return G(Je.result)},!1),Je.addEventListener("error",function(Dt){return J(Dt)},!1),Je.readAsDataURL(le.response)}else J("Failed to proxy resource "+L+" with status code "+le.status)},le.onerror=J;var Fe=E.indexOf("?")>-1?"&":"?";if(le.open("GET",""+E+Fe+"url="+encodeURIComponent(w)+"&responseType="+ce),"text"!==ce&&le instanceof XMLHttpRequest&&(le.responseType=ce),S._options.imageTimeout){var He=S._options.imageTimeout;le.timeout=He,le.ontimeout=function(){return J("Timed out ("+He+"ms) proxying "+L)}}le.send()})},b}(),rv=/^data:image\/svg\+xml/i,T_=/^data:image\/.*;base64,/i,nf=/^data:image\/.*/i,ja=function(b){return Fn.SUPPORT_SVG_DRAWING||!vp(b)},vd=function(b){return nf.test(b)},sv=function(b){return T_.test(b)},rm=function(b){return"blob"===b.substr(0,4)},vp=function(b){return"svg"===b.substr(-3).toLowerCase()||rv.test(b)},bn=function(){function b(w,S){this.type=0,this.x=w,this.y=S}return b.prototype.add=function(w,S){return new b(this.x+w,this.y+S)},b}(),wp=function(b,w,S){return new bn(b.x+(w.x-b.x)*S,b.y+(w.y-b.y)*S)},sm=function(){function b(w,S,E,L){this.type=1,this.start=w,this.startControl=S,this.endControl=E,this.end=L}return b.prototype.subdivide=function(w,S){var E=wp(this.start,this.startControl,w),L=wp(this.startControl,this.endControl,w),G=wp(this.endControl,this.end,w),J=wp(E,L,w),ce=wp(L,G,w),le=wp(J,ce,w);return S?new b(this.start,E,J,le):new b(le,ce,G,this.end)},b.prototype.add=function(w,S){return new b(this.start.add(w,S),this.startControl.add(w,S),this.endControl.add(w,S),this.end.add(w,S))},b.prototype.reverse=function(){return new b(this.end,this.endControl,this.startControl,this.start)},b}(),Nl=function(b){return 1===b.type},hl=function b(w){var S=w.styles,E=w.bounds,L=Ki(S.borderTopLeftRadius,E.width,E.height),G=L[0],J=L[1],ce=Ki(S.borderTopRightRadius,E.width,E.height),le=ce[0],Fe=ce[1],He=Ki(S.borderBottomRightRadius,E.width,E.height),Je=He[0],Dt=He[1],Ln=Ki(S.borderBottomLeftRadius,E.width,E.height),ln=Ln[0],En=Ln[1],Zi=[];Zi.push((G+le)/E.width),Zi.push((ln+Je)/E.width),Zi.push((J+En)/E.height),Zi.push((Fe+Dt)/E.height);var ii=Math.max.apply(Math,Zi);ii>1&&(G/=ii,J/=ii,le/=ii,Fe/=ii,Je/=ii,Dt/=ii,ln/=ii,En/=ii);var Jn=E.width-le,Pr=E.height-Dt,er=E.width-Je,gi=E.height-En,Mn=S.borderTopWidth,dr=S.borderRightWidth,sr=S.borderBottomWidth,Bi=S.borderLeftWidth,Vo=Dr(S.paddingTop,w.bounds.width),Ec=Dr(S.paddingRight,w.bounds.width),Yc=Dr(S.paddingBottom,w.bounds.width),as=Dr(S.paddingLeft,w.bounds.width);this.topLeftBorderDoubleOuterBox=G>0||J>0?fs(E.left+Bi/3,E.top+Mn/3,G-Bi/3,J-Mn/3,Xi.TOP_LEFT):new bn(E.left+Bi/3,E.top+Mn/3),this.topRightBorderDoubleOuterBox=G>0||J>0?fs(E.left+Jn,E.top+Mn/3,le-dr/3,Fe-Mn/3,Xi.TOP_RIGHT):new bn(E.left+E.width-dr/3,E.top+Mn/3),this.bottomRightBorderDoubleOuterBox=Je>0||Dt>0?fs(E.left+er,E.top+Pr,Je-dr/3,Dt-sr/3,Xi.BOTTOM_RIGHT):new bn(E.left+E.width-dr/3,E.top+E.height-sr/3),this.bottomLeftBorderDoubleOuterBox=ln>0||En>0?fs(E.left+Bi/3,E.top+gi,ln-Bi/3,En-sr/3,Xi.BOTTOM_LEFT):new bn(E.left+Bi/3,E.top+E.height-sr/3),this.topLeftBorderDoubleInnerBox=G>0||J>0?fs(E.left+2*Bi/3,E.top+2*Mn/3,G-2*Bi/3,J-2*Mn/3,Xi.TOP_LEFT):new bn(E.left+2*Bi/3,E.top+2*Mn/3),this.topRightBorderDoubleInnerBox=G>0||J>0?fs(E.left+Jn,E.top+2*Mn/3,le-2*dr/3,Fe-2*Mn/3,Xi.TOP_RIGHT):new bn(E.left+E.width-2*dr/3,E.top+2*Mn/3),this.bottomRightBorderDoubleInnerBox=Je>0||Dt>0?fs(E.left+er,E.top+Pr,Je-2*dr/3,Dt-2*sr/3,Xi.BOTTOM_RIGHT):new bn(E.left+E.width-2*dr/3,E.top+E.height-2*sr/3),this.bottomLeftBorderDoubleInnerBox=ln>0||En>0?fs(E.left+2*Bi/3,E.top+gi,ln-2*Bi/3,En-2*sr/3,Xi.BOTTOM_LEFT):new bn(E.left+2*Bi/3,E.top+E.height-2*sr/3),this.topLeftBorderStroke=G>0||J>0?fs(E.left+Bi/2,E.top+Mn/2,G-Bi/2,J-Mn/2,Xi.TOP_LEFT):new bn(E.left+Bi/2,E.top+Mn/2),this.topRightBorderStroke=G>0||J>0?fs(E.left+Jn,E.top+Mn/2,le-dr/2,Fe-Mn/2,Xi.TOP_RIGHT):new bn(E.left+E.width-dr/2,E.top+Mn/2),this.bottomRightBorderStroke=Je>0||Dt>0?fs(E.left+er,E.top+Pr,Je-dr/2,Dt-sr/2,Xi.BOTTOM_RIGHT):new bn(E.left+E.width-dr/2,E.top+E.height-sr/2),this.bottomLeftBorderStroke=ln>0||En>0?fs(E.left+Bi/2,E.top+gi,ln-Bi/2,En-sr/2,Xi.BOTTOM_LEFT):new bn(E.left+Bi/2,E.top+E.height-sr/2),this.topLeftBorderBox=G>0||J>0?fs(E.left,E.top,G,J,Xi.TOP_LEFT):new bn(E.left,E.top),this.topRightBorderBox=le>0||Fe>0?fs(E.left+Jn,E.top,le,Fe,Xi.TOP_RIGHT):new bn(E.left+E.width,E.top),this.bottomRightBorderBox=Je>0||Dt>0?fs(E.left+er,E.top+Pr,Je,Dt,Xi.BOTTOM_RIGHT):new bn(E.left+E.width,E.top+E.height),this.bottomLeftBorderBox=ln>0||En>0?fs(E.left,E.top+gi,ln,En,Xi.BOTTOM_LEFT):new bn(E.left,E.top+E.height),this.topLeftPaddingBox=G>0||J>0?fs(E.left+Bi,E.top+Mn,Math.max(0,G-Bi),Math.max(0,J-Mn),Xi.TOP_LEFT):new bn(E.left+Bi,E.top+Mn),this.topRightPaddingBox=le>0||Fe>0?fs(E.left+Math.min(Jn,E.width-dr),E.top+Mn,Jn>E.width+dr?0:Math.max(0,le-dr),Math.max(0,Fe-Mn),Xi.TOP_RIGHT):new bn(E.left+E.width-dr,E.top+Mn),this.bottomRightPaddingBox=Je>0||Dt>0?fs(E.left+Math.min(er,E.width-Bi),E.top+Math.min(Pr,E.height-sr),Math.max(0,Je-dr),Math.max(0,Dt-sr),Xi.BOTTOM_RIGHT):new bn(E.left+E.width-dr,E.top+E.height-sr),this.bottomLeftPaddingBox=ln>0||En>0?fs(E.left+Bi,E.top+Math.min(gi,E.height-sr),Math.max(0,ln-Bi),Math.max(0,En-sr),Xi.BOTTOM_LEFT):new bn(E.left+Bi,E.top+E.height-sr),this.topLeftContentBox=G>0||J>0?fs(E.left+Bi+as,E.top+Mn+Vo,Math.max(0,G-(Bi+as)),Math.max(0,J-(Mn+Vo)),Xi.TOP_LEFT):new bn(E.left+Bi+as,E.top+Mn+Vo),this.topRightContentBox=le>0||Fe>0?fs(E.left+Math.min(Jn,E.width+Bi+as),E.top+Mn+Vo,Jn>E.width+Bi+as?0:le-Bi+as,Fe-(Mn+Vo),Xi.TOP_RIGHT):new bn(E.left+E.width-(dr+Ec),E.top+Mn+Vo),this.bottomRightContentBox=Je>0||Dt>0?fs(E.left+Math.min(er,E.width-(Bi+as)),E.top+Math.min(Pr,E.height+Mn+Vo),Math.max(0,Je-(dr+Ec)),Dt-(sr+Yc),Xi.BOTTOM_RIGHT):new bn(E.left+E.width-(dr+Ec),E.top+E.height-(sr+Yc)),this.bottomLeftContentBox=ln>0||En>0?fs(E.left+Bi+as,E.top+gi,Math.max(0,ln-(Bi+as)),En-(sr+Yc),Xi.BOTTOM_LEFT):new bn(E.left+Bi+as,E.top+E.height-(sr+Yc))},Xi=(()=>{return(b=Xi||(Xi={}))[b.TOP_LEFT=0]="TOP_LEFT",b[b.TOP_RIGHT=1]="TOP_RIGHT",b[b.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",b[b.BOTTOM_LEFT=3]="BOTTOM_LEFT",Xi;var b})(),fs=function(b,w,S,E,L){var G=(Math.sqrt(2)-1)/3*4,J=S*G,ce=E*G,le=b+S,Fe=w+E;switch(L){case Xi.TOP_LEFT:return new sm(new bn(b,Fe),new bn(b,Fe-ce),new bn(le-J,w),new bn(le,w));case Xi.TOP_RIGHT:return new sm(new bn(b,w),new bn(b+J,w),new bn(le,Fe-ce),new bn(le,Fe));case Xi.BOTTOM_RIGHT:return new sm(new bn(le,w),new bn(le,w+ce),new bn(b+J,Fe),new bn(b,Fe));default:return new sm(new bn(le,Fe),new bn(le-J,Fe),new bn(b,w+ce),new bn(b,w))}},bp=function(b){return[b.topLeftBorderBox,b.topRightBorderBox,b.bottomRightBorderBox,b.bottomLeftBorderBox]},rf=function(b){return[b.topLeftPaddingBox,b.topRightPaddingBox,b.bottomRightPaddingBox,b.bottomLeftPaddingBox]},bs=function b(w,S,E){this.offsetX=w,this.offsetY=S,this.matrix=E,this.type=0,this.target=6},sf=function b(w,S){this.path=w,this.target=S,this.type=1},wd=function b(w){this.opacity=w,this.type=2,this.target=6},bd=function(b){return 1===b.type},lA=function(b,w){return b.length===w.length&&b.some(function(S,E){return S===w[E]})},lv=function b(w){this.element=w,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},Cd=function(){function b(w,S){if(this.container=w,this.parent=S,this.effects=[],this.curves=new hl(this.container),this.container.styles.opacity<1&&this.effects.push(new wd(this.container.styles.opacity)),null!==this.container.styles.transform&&this.effects.push(new bs(this.container.bounds.left+this.container.styles.transformOrigin[0].number,this.container.bounds.top+this.container.styles.transformOrigin[1].number,this.container.styles.transform)),0!==this.container.styles.overflowX){var J=bp(this.curves),ce=rf(this.curves);lA(J,ce)?this.effects.push(new sf(J,6)):(this.effects.push(new sf(J,2)),this.effects.push(new sf(ce,4)))}}return b.prototype.getEffects=function(w){for(var S=-1===[2,3].indexOf(this.container.styles.position),E=this.parent,L=this.effects.slice(0);E;){var G=E.effects.filter(function(le){return!bd(le)});if(S||0!==E.container.styles.position||!E.parent){if(L.unshift.apply(L,G),S=-1===[2,3].indexOf(E.container.styles.position),0!==E.container.styles.overflowX){var J=bp(E.curves),ce=rf(E.curves);lA(J,ce)||L.unshift(new sf(ce,6))}}else L.unshift.apply(L,G);E=E.parent}return L.filter(function(le){return Gn(le.target,w)})},b}(),cA=function(b,w,S,E){b.container.elements.forEach(function(L){var G=Gn(L.flags,4),J=Gn(L.flags,2),ce=new Cd(L,b);Gn(L.styles.display,2048)&&E.push(ce);var le=Gn(L.flags,8)?[]:E;if(G||J){var Fe=G||L.styles.isPositioned()?S:w,He=new lv(ce);if(L.styles.isPositioned()||L.styles.opacity<1||L.styles.isTransformed()){var Je=L.styles.zIndex.order;if(Je<0){var Dt=0;Fe.negativeZIndex.some(function(ln,En){return Je>ln.element.container.styles.zIndex.order?(Dt=En,!1):Dt>0}),Fe.negativeZIndex.splice(Dt,0,He)}else if(Je>0){var Ln=0;Fe.positiveZIndex.some(function(ln,En){return Je>=ln.element.container.styles.zIndex.order?(Ln=En+1,!1):Ln>0}),Fe.positiveZIndex.splice(Ln,0,He)}else Fe.zeroOrAutoZIndexOrTransformedOrOpacity.push(He)}else L.styles.isFloating()?Fe.nonPositionedFloats.push(He):Fe.nonPositionedInlineLevel.push(He);cA(ce,He,G?He:S,le)}else L.styles.isInlineLevel()?w.inlineLevel.push(ce):w.nonInlineLevel.push(ce),cA(ce,w,S,le);Gn(L.flags,8)&&F_(L,le)})},F_=function(b,w){for(var S=b instanceof lp?b.start:1,E=b instanceof lp&&b.reversed,L=0;L<w.length;L++){var G=w[L];G.container instanceof Zh&&"number"==typeof G.container.value&&0!==G.container.value&&(S=G.container.value),G.listValue=dl(S,G.container.styles.listStyleType,!0),S+=E?-1:1}},uA=function(b,w){switch(w){case 0:return Q(b.topLeftBorderBox,b.topLeftPaddingBox,b.topRightBorderBox,b.topRightPaddingBox);case 1:return Q(b.topRightBorderBox,b.topRightPaddingBox,b.bottomRightBorderBox,b.bottomRightPaddingBox);case 2:return Q(b.bottomRightBorderBox,b.bottomRightPaddingBox,b.bottomLeftBorderBox,b.bottomLeftPaddingBox);default:return Q(b.bottomLeftBorderBox,b.bottomLeftPaddingBox,b.topLeftBorderBox,b.topLeftPaddingBox)}},D=function(b,w){var S=[];return Nl(b)?S.push(b.subdivide(.5,!1)):S.push(b),Nl(w)?S.push(w.subdivide(.5,!0)):S.push(w),S},Q=function(b,w,S,E){var L=[];return Nl(b)?L.push(b.subdivide(.5,!1)):L.push(b),Nl(S)?L.push(S.subdivide(.5,!0)):L.push(S),Nl(E)?L.push(E.subdivide(.5,!0).reverse()):L.push(E),Nl(w)?L.push(w.subdivide(.5,!1).reverse()):L.push(w),L},z=function(b){var S=b.styles;return b.bounds.add(S.borderLeftWidth,S.borderTopWidth,-(S.borderRightWidth+S.borderLeftWidth),-(S.borderTopWidth+S.borderBottomWidth))},ge=function(b){var w=b.styles,S=b.bounds,E=Dr(w.paddingLeft,S.width),L=Dr(w.paddingRight,S.width),G=Dr(w.paddingTop,S.width),J=Dr(w.paddingBottom,S.width);return S.add(E+w.borderLeftWidth,G+w.borderTopWidth,-(w.borderRightWidth+w.borderLeftWidth+E+L),-(w.borderTopWidth+w.borderBottomWidth+G+J))},Ct=function(b,w,S){var E=function(b,w){return 0===b?w.bounds:2===b?ge(w):z(w)}($s(b.styles.backgroundOrigin,w),b),L=function(b,w){return 0===b?w.bounds:2===b?ge(w):z(w)}($s(b.styles.backgroundClip,w),b),G=Yi($s(b.styles.backgroundSize,w),S,E),J=G[0],ce=G[1],le=Ki($s(b.styles.backgroundPosition,w),E.width-J,E.height-ce);return[xc($s(b.styles.backgroundRepeat,w),le,G,E,L),Math.round(E.left+le[0]),Math.round(E.top+le[1]),J,ce]},nn=function(b){return $i(b)&&b.value===ol.AUTO},fn=function(b){return"number"==typeof b},Yi=function(b,w,S){var E=w[0],L=w[1],G=w[2],J=b[0],ce=b[1];if(!J)return[0,0];if(qi(J)&&ce&&qi(ce))return[Dr(J,S.width),Dr(ce,S.height)];var le=fn(G);if($i(J)&&(J.value===ol.CONTAIN||J.value===ol.COVER))return fn(G)?S.width/S.height<G!=(J.value===ol.COVER)?[S.width,S.width/G]:[S.height*G,S.height]:[S.width,S.height];var He=fn(E),Je=fn(L),Dt=He||Je;if(nn(J)&&(!ce||nn(ce)))return He&&Je?[E,L]:le||Dt?Dt&&le?[He?E:L*G,Je?L:E/G]:[He?E:S.width,Je?L:S.height]:[S.width,S.height];if(le){var ii=0,Jn=0;return qi(J)?ii=Dr(J,S.width):qi(ce)&&(Jn=Dr(ce,S.height)),nn(J)?ii=Jn*G:(!ce||nn(ce))&&(Jn=ii/G),[ii,Jn]}var Pr=null,er=null;if(qi(J)?Pr=Dr(J,S.width):ce&&qi(ce)&&(er=Dr(ce,S.height)),null!==Pr&&(!ce||nn(ce))&&(er=He&&Je?Pr/E*L:S.height),null!==er&&nn(J)&&(Pr=He&&Je?er/L*E:S.width),null!==Pr&&null!==er)return[Pr,er];throw new Error("Unable to calculate background-size for element")},$s=function(b,w){var S=b[w];return typeof S>"u"?b[0]:S},xc=function(b,w,S,E,L){var G=w[0],J=w[1],ce=S[0],le=S[1];switch(b){case 2:return[new bn(Math.round(E.left),Math.round(E.top+J)),new bn(Math.round(E.left+E.width),Math.round(E.top+J)),new bn(Math.round(E.left+E.width),Math.round(le+E.top+J)),new bn(Math.round(E.left),Math.round(le+E.top+J))];case 3:return[new bn(Math.round(E.left+G),Math.round(E.top)),new bn(Math.round(E.left+G+ce),Math.round(E.top)),new bn(Math.round(E.left+G+ce),Math.round(E.height+E.top)),new bn(Math.round(E.left+G),Math.round(E.height+E.top))];case 1:return[new bn(Math.round(E.left+G),Math.round(E.top+J)),new bn(Math.round(E.left+G+ce),Math.round(E.top+J)),new bn(Math.round(E.left+G+ce),Math.round(E.top+J+le)),new bn(Math.round(E.left+G),Math.round(E.top+J+le))];default:return[new bn(Math.round(L.left),Math.round(L.top)),new bn(Math.round(L.left+L.width),Math.round(L.top)),new bn(Math.round(L.left+L.width),Math.round(L.height+L.top)),new bn(Math.round(L.left),Math.round(L.height+L.top))]}},xp="Hidden Text",M_=function(){function b(w){this._data={},this._document=w}return b.prototype.parseMetrics=function(w,S){var E=this._document.createElement("div"),L=this._document.createElement("img"),G=this._document.createElement("span"),J=this._document.body;E.style.visibility="hidden",E.style.fontFamily=w,E.style.fontSize=S,E.style.margin="0",E.style.padding="0",E.style.whiteSpace="nowrap",J.appendChild(E),L.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",L.width=1,L.height=1,L.style.margin="0",L.style.padding="0",L.style.verticalAlign="baseline",G.style.fontFamily=w,G.style.fontSize=S,G.style.margin="0",G.style.padding="0",G.appendChild(this._document.createTextNode(xp)),E.appendChild(G),E.appendChild(L);var ce=L.offsetTop-G.offsetTop+2;E.removeChild(G),E.appendChild(this._document.createTextNode(xp)),E.style.lineHeight="normal",L.style.verticalAlign="super";var le=L.offsetTop-E.offsetTop+2;return J.removeChild(E),{baseline:ce,middle:le}},b.prototype.getMetrics=function(w,S){var E=w+" "+S;return typeof this._data[E]>"u"&&(this._data[E]=this.parseMetrics(w,S)),this._data[E]},b}(),am=function b(w,S){this.context=w,this.options=S},cv=function(b){function w(S,E){var L=b.call(this,S,E)||this;return L._activeEffects=[],L.canvas=E.canvas?E.canvas:document.createElement("canvas"),L.ctx=L.canvas.getContext("2d"),E.canvas||(L.canvas.width=Math.floor(E.width*E.scale),L.canvas.height=Math.floor(E.height*E.scale),L.canvas.style.width=E.width+"px",L.canvas.style.height=E.height+"px"),L.fontMetrics=new M_(document),L.ctx.scale(L.options.scale,L.options.scale),L.ctx.translate(-E.x,-E.y),L.ctx.textBaseline="bottom",L._activeEffects=[],L.context.logger.debug("Canvas renderer initialized ("+E.width+"x"+E.height+") with scale "+E.scale),L}return re(w,b),w.prototype.applyEffects=function(S){for(var E=this;this._activeEffects.length;)this.popEffect();S.forEach(function(L){return E.applyEffect(L)})},w.prototype.applyEffect=function(S){this.ctx.save(),function(b){return 2===b.type}(S)&&(this.ctx.globalAlpha=S.opacity),function(b){return 0===b.type}(S)&&(this.ctx.translate(S.offsetX,S.offsetY),this.ctx.transform(S.matrix[0],S.matrix[1],S.matrix[2],S.matrix[3],S.matrix[4],S.matrix[5]),this.ctx.translate(-S.offsetX,-S.offsetY)),bd(S)&&(this.path(S.path),this.ctx.clip()),this._activeEffects.push(S)},w.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},w.prototype.renderStack=function(S){return ze(this,void 0,void 0,function(){return oe(this,function(L){switch(L.label){case 0:return S.element.container.styles.isVisible()?[4,this.renderStackContent(S)]:[3,2];case 1:L.sent(),L.label=2;case 2:return[2]}})})},w.prototype.renderNode=function(S){return ze(this,void 0,void 0,function(){return oe(this,function(E){switch(E.label){case 0:return Gn(S.container.flags,16),S.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(S)]:[3,3];case 1:return E.sent(),[4,this.renderNodeContent(S)];case 2:E.sent(),E.label=3;case 3:return[2]}})})},w.prototype.renderTextWithLetterSpacing=function(S,E,L){var G=this;0===E?this.ctx.fillText(S.text,S.bounds.left,S.bounds.top+L):Zs(S.text).reduce(function(ce,le){return G.ctx.fillText(le,ce,S.bounds.top+L),ce+G.ctx.measureText(le).width},S.bounds.left)},w.prototype.createFontStyle=function(S){var E=S.fontVariant.filter(function(J){return"normal"===J||"small-caps"===J}).join(""),L=dA(S.fontFamily).join(", "),G=yu(S.fontSize)?""+S.fontSize.number+S.fontSize.unit:S.fontSize.number+"px";return[[S.fontStyle,E,S.fontWeight,G,L].join(" "),L,G]},w.prototype.renderTextNode=function(S,E){return ze(this,void 0,void 0,function(){var L,J,ce,le,Fe,He,Je,Dt=this;return oe(this,function(Ln){return L=this.createFontStyle(E),J=L[1],ce=L[2],this.ctx.font=L[0],this.ctx.direction=1===E.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",le=this.fontMetrics.getMetrics(J,ce),Fe=le.baseline,He=le.middle,Je=E.paintOrder,S.textBounds.forEach(function(ln){Je.forEach(function(En){switch(En){case 0:Dt.ctx.fillStyle=vs(E.color),Dt.renderTextWithLetterSpacing(ln,E.letterSpacing,Fe);var Zi=E.textShadow;Zi.length&&ln.text.trim().length&&(Zi.slice(0).reverse().forEach(function(ii){Dt.ctx.shadowColor=vs(ii.color),Dt.ctx.shadowOffsetX=ii.offsetX.number*Dt.options.scale,Dt.ctx.shadowOffsetY=ii.offsetY.number*Dt.options.scale,Dt.ctx.shadowBlur=ii.blur.number,Dt.renderTextWithLetterSpacing(ln,E.letterSpacing,Fe)}),Dt.ctx.shadowColor="",Dt.ctx.shadowOffsetX=0,Dt.ctx.shadowOffsetY=0,Dt.ctx.shadowBlur=0),E.textDecorationLine.length&&(Dt.ctx.fillStyle=vs(E.textDecorationColor||E.color),E.textDecorationLine.forEach(function(ii){switch(ii){case 1:Dt.ctx.fillRect(ln.bounds.left,Math.round(ln.bounds.top+Fe),ln.bounds.width,1);break;case 2:Dt.ctx.fillRect(ln.bounds.left,Math.round(ln.bounds.top),ln.bounds.width,1);break;case 3:Dt.ctx.fillRect(ln.bounds.left,Math.ceil(ln.bounds.top+He),ln.bounds.width,1)}}));break;case 1:E.webkitTextStrokeWidth&&ln.text.trim().length&&(Dt.ctx.strokeStyle=vs(E.webkitTextStrokeColor),Dt.ctx.lineWidth=E.webkitTextStrokeWidth,Dt.ctx.lineJoin=window.chrome?"miter":"round",Dt.ctx.strokeText(ln.text,ln.bounds.left,ln.bounds.top+Fe)),Dt.ctx.strokeStyle="",Dt.ctx.lineWidth=0,Dt.ctx.lineJoin="miter"}})}),[2]})})},w.prototype.renderReplacedElement=function(S,E,L){if(L&&S.intrinsicWidth>0&&S.intrinsicHeight>0){var G=ge(S),J=rf(E);this.path(J),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(L,0,0,S.intrinsicWidth,S.intrinsicHeight,G.left,G.top,G.width,G.height),this.ctx.restore()}},w.prototype.renderNodeContent=function(S){return ze(this,void 0,void 0,function(){var E,L,G,J,ce,He,Je,Dt,ln,En,Zi,ii,Jn,Pr,er,gi;return oe(this,function(Mn){switch(Mn.label){case 0:this.applyEffects(S.getEffects(4)),L=S.curves,G=(E=S.container).styles,J=0,ce=E.textNodes,Mn.label=1;case 1:return J<ce.length?[4,this.renderTextNode(ce[J],G)]:[3,4];case 2:Mn.sent(),Mn.label=3;case 3:return J++,[3,1];case 4:if(!(E instanceof op))return[3,8];Mn.label=5;case 5:return Mn.trys.push([5,7,,8]),[4,this.context.cache.match(E.src)];case 6:return Jn=Mn.sent(),this.renderReplacedElement(E,L,Jn),[3,8];case 7:return Mn.sent(),this.context.logger.error("Error loading image "+E.src),[3,8];case 8:if(E instanceof ap&&this.renderReplacedElement(E,L,E.canvas),!(E instanceof C_))return[3,12];Mn.label=9;case 9:return Mn.trys.push([9,11,,12]),[4,this.context.cache.match(E.svg)];case 10:return Jn=Mn.sent(),this.renderReplacedElement(E,L,Jn),[3,12];case 11:return Mn.sent(),this.context.logger.error("Error loading svg "+E.svg.substring(0,255)),[3,12];case 12:return E instanceof vc&&E.tree?[4,new w(this.context,{scale:this.options.scale,backgroundColor:E.backgroundColor,x:0,y:0,width:E.width,height:E.height}).render(E.tree)]:[3,14];case 13:He=Mn.sent(),E.width&&E.height&&this.ctx.drawImage(He,0,0,E.width,E.height,E.bounds.left,E.bounds.top,E.bounds.width,E.bounds.height),Mn.label=14;case 14:if(E instanceof $A&&(Je=Math.min(E.bounds.width,E.bounds.height),E.type===up?E.checked&&(this.ctx.save(),this.path([new bn(E.bounds.left+.39363*Je,E.bounds.top+.79*Je),new bn(E.bounds.left+.16*Je,E.bounds.top+.5549*Je),new bn(E.bounds.left+.27347*Je,E.bounds.top+.44071*Je),new bn(E.bounds.left+.39694*Je,E.bounds.top+.5649*Je),new bn(E.bounds.left+.72983*Je,E.bounds.top+.23*Je),new bn(E.bounds.left+.84*Je,E.bounds.top+.34085*Je),new bn(E.bounds.left+.39363*Je,E.bounds.top+.79*Je)]),this.ctx.fillStyle=vs(Kg),this.ctx.fill(),this.ctx.restore()):E.type===qg&&E.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(E.bounds.left+Je/2,E.bounds.top+Je/2,Je/4,0,2*Math.PI,!0),this.ctx.fillStyle=vs(Kg),this.ctx.fill(),this.ctx.restore())),lm(E)&&E.value.length){switch(Dt=this.createFontStyle(G),ln=this.fontMetrics.getMetrics(er=Dt[0],Dt[1]).baseline,this.ctx.font=er,this.ctx.fillStyle=vs(G.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=lf(E.styles.textAlign),gi=ge(E),En=0,E.styles.textAlign){case 1:En+=gi.width/2;break;case 2:En+=gi.width}Zi=gi.add(En,0,0,-gi.height/2+1),this.ctx.save(),this.path([new bn(gi.left,gi.top),new bn(gi.left+gi.width,gi.top),new bn(gi.left+gi.width,gi.top+gi.height),new bn(gi.left,gi.top+gi.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Yt(E.value,Zi),G.letterSpacing,ln),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Gn(E.styles.display,2048))return[3,20];if(null===E.styles.listStyleImage)return[3,19];if(0!==(ii=E.styles.listStyleImage).type)return[3,18];Jn=void 0,Pr=ii.url,Mn.label=15;case 15:return Mn.trys.push([15,17,,18]),[4,this.context.cache.match(Pr)];case 16:return Jn=Mn.sent(),this.ctx.drawImage(Jn,E.bounds.left-(Jn.width+10),E.bounds.top),[3,18];case 17:return Mn.sent(),this.context.logger.error("Error loading list-style-image "+Pr),[3,18];case 18:return[3,20];case 19:S.listValue&&-1!==E.styles.listStyleType&&(er=this.createFontStyle(G)[0],this.ctx.font=er,this.ctx.fillStyle=vs(G.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",gi=new lt(E.bounds.left,E.bounds.top+Dr(E.styles.paddingTop,E.bounds.width),E.bounds.width,Wf(G.lineHeight,G.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Yt(S.listValue,gi),G.letterSpacing,Wf(G.lineHeight,G.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Mn.label=20;case 20:return[2]}})})},w.prototype.renderStackContent=function(S){return ze(this,void 0,void 0,function(){var E,L,G,J,ce,le,Fe,He,Je,Dt,Ln,ln,En,Zi;return oe(this,function(Jn){switch(Jn.label){case 0:return Gn(S.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(S.element)];case 1:Jn.sent(),E=0,L=S.negativeZIndex,Jn.label=2;case 2:return E<L.length?[4,this.renderStack(L[E])]:[3,5];case 3:Jn.sent(),Jn.label=4;case 4:return E++,[3,2];case 5:return[4,this.renderNodeContent(S.element)];case 6:Jn.sent(),G=0,J=S.nonInlineLevel,Jn.label=7;case 7:return G<J.length?[4,this.renderNode(J[G])]:[3,10];case 8:Jn.sent(),Jn.label=9;case 9:return G++,[3,7];case 10:ce=0,le=S.nonPositionedFloats,Jn.label=11;case 11:return ce<le.length?[4,this.renderStack(le[ce])]:[3,14];case 12:Jn.sent(),Jn.label=13;case 13:return ce++,[3,11];case 14:Fe=0,He=S.nonPositionedInlineLevel,Jn.label=15;case 15:return Fe<He.length?[4,this.renderStack(He[Fe])]:[3,18];case 16:Jn.sent(),Jn.label=17;case 17:return Fe++,[3,15];case 18:Je=0,Dt=S.inlineLevel,Jn.label=19;case 19:return Je<Dt.length?[4,this.renderNode(Dt[Je])]:[3,22];case 20:Jn.sent(),Jn.label=21;case 21:return Je++,[3,19];case 22:Ln=0,ln=S.zeroOrAutoZIndexOrTransformedOrOpacity,Jn.label=23;case 23:return Ln<ln.length?[4,this.renderStack(ln[Ln])]:[3,26];case 24:Jn.sent(),Jn.label=25;case 25:return Ln++,[3,23];case 26:En=0,Zi=S.positiveZIndex,Jn.label=27;case 27:return En<Zi.length?[4,this.renderStack(Zi[En])]:[3,30];case 28:Jn.sent(),Jn.label=29;case 29:return En++,[3,27];case 30:return[2]}})})},w.prototype.mask=function(S){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(S.slice(0).reverse()),this.ctx.closePath()},w.prototype.path=function(S){this.ctx.beginPath(),this.formatPath(S),this.ctx.closePath()},w.prototype.formatPath=function(S){var E=this;S.forEach(function(L,G){var J=Nl(L)?L.start:L;0===G?E.ctx.moveTo(J.x,J.y):E.ctx.lineTo(J.x,J.y),Nl(L)&&E.ctx.bezierCurveTo(L.startControl.x,L.startControl.y,L.endControl.x,L.endControl.y,L.end.x,L.end.y)})},w.prototype.renderRepeat=function(S,E,L,G){this.path(S),this.ctx.fillStyle=E,this.ctx.translate(L,G),this.ctx.fill(),this.ctx.translate(-L,-G)},w.prototype.resizeImage=function(S,E,L){var G;if(S.width===E&&S.height===L)return S;var ce=(null!==(G=this.canvas.ownerDocument)&&void 0!==G?G:document).createElement("canvas");return ce.width=Math.max(1,E),ce.height=Math.max(1,L),ce.getContext("2d").drawImage(S,0,0,S.width,S.height,0,0,E,L),ce},w.prototype.renderBackgroundImage=function(S){return ze(this,void 0,void 0,function(){var E,L,G,J,ce;return oe(this,function(Fe){switch(Fe.label){case 0:E=S.styles.backgroundImage.length-1,L=function(He){var Je,Dt,Ln,ln,En,Zi,ii,Jn,Pr,er,gi,Mn,dr,sr,Bi,Vo,Ec,Yc,as,za,hA,Al,qa,Sp,Wc,fl,AA,Ip,lh,cf,xd;return oe(this,function(Dp){switch(Dp.label){case 0:if(0!==He.type)return[3,5];Je=void 0,Dt=He.url,Dp.label=1;case 1:return Dp.trys.push([1,3,,4]),[4,G.context.cache.match(Dt)];case 2:return Je=Dp.sent(),[3,4];case 3:return Dp.sent(),G.context.logger.error("Error loading background-image "+Dt),[3,4];case 4:return Je&&(Ln=Ct(S,E,[Je.width,Je.height,Je.width/Je.height]),Vo=Ln[0],Al=Ln[1],qa=Ln[2],sr=G.ctx.createPattern(G.resizeImage(Je,as=Ln[3],za=Ln[4]),"repeat"),G.renderRepeat(Vo,sr,Al,qa)),[3,6];case 5:!function(b){return 1===b.type}(He)?function(b){return 2===b.type}(He)&&(Bi=Ct(S,E,[null,null,null]),Vo=Bi[0],Ec=Bi[1],Yc=Bi[2],za=Bi[4],Al=Dr((hA=0===He.position.length?[LA]:He.position)[0],as=Bi[3]),qa=Dr(hA[hA.length-1],za),Sp=function(b,w,S,E,L){var G=0,J=0;switch(b.size){case 0:0===b.shape?G=J=Math.min(Math.abs(w),Math.abs(w-E),Math.abs(S),Math.abs(S-L)):1===b.shape&&(G=Math.min(Math.abs(w),Math.abs(w-E)),J=Math.min(Math.abs(S),Math.abs(S-L)));break;case 2:if(0===b.shape)G=J=Math.min(Ra(w,S),Ra(w,S-L),Ra(w-E,S),Ra(w-E,S-L));else if(1===b.shape){var ce=Math.min(Math.abs(S),Math.abs(S-L))/Math.min(Math.abs(w),Math.abs(w-E)),le=qf(E,L,w,S,!0);J=ce*(G=Ra(le[0]-w,(le[1]-S)/ce))}break;case 1:0===b.shape?G=J=Math.max(Math.abs(w),Math.abs(w-E),Math.abs(S),Math.abs(S-L)):1===b.shape&&(G=Math.max(Math.abs(w),Math.abs(w-E)),J=Math.max(Math.abs(S),Math.abs(S-L)));break;case 3:if(0===b.shape)G=J=Math.max(Ra(w,S),Ra(w,S-L),Ra(w-E,S),Ra(w-E,S-L));else if(1===b.shape){ce=Math.max(Math.abs(S),Math.abs(S-L))/Math.max(Math.abs(w),Math.abs(w-E));var Je=qf(E,L,w,S,!1);J=ce*(G=Ra(Je[0]-w,(Je[1]-S)/ce))}}return Array.isArray(b.size)&&(G=Dr(b.size[0],E),J=2===b.size.length?Dr(b.size[1],L):G),[G,J]}(He,Al,qa,as,za),fl=Sp[1],(Wc=Sp[0])>0&&fl>0&&(AA=G.ctx.createRadialGradient(Ec+Al,Yc+qa,0,Ec+Al,Yc+qa,Wc),rd(He.stops,2*Wc).forEach(function(dm){return AA.addColorStop(dm.stop,vs(dm.color))}),G.path(Vo),G.ctx.fillStyle=AA,Wc!==fl?(Ip=S.bounds.left+.5*S.bounds.width,lh=S.bounds.top+.5*S.bounds.height,xd=1/(cf=fl/Wc),G.ctx.save(),G.ctx.translate(Ip,lh),G.ctx.transform(1,0,0,cf,0,0),G.ctx.translate(-Ip,-lh),G.ctx.fillRect(Ec,xd*(Yc-lh)+lh,as,za*xd),G.ctx.restore()):G.ctx.fill())):(ln=Ct(S,E,[null,null,null]),Vo=ln[0],Al=ln[1],qa=ln[2],En=Tg(He.angle,as=ln[3],za=ln[4]),Zi=En[0],ii=En[1],Jn=En[2],Pr=En[3],er=En[4],(gi=document.createElement("canvas")).width=as,gi.height=za,Mn=gi.getContext("2d"),dr=Mn.createLinearGradient(ii,Pr,Jn,er),rd(He.stops,Zi).forEach(function(dm){return dr.addColorStop(dm.stop,vs(dm.color))}),Mn.fillStyle=dr,Mn.fillRect(0,0,as,za),as>0&&za>0&&(sr=G.ctx.createPattern(gi,"repeat"),G.renderRepeat(Vo,sr,Al,qa))),Dp.label=6;case 6:return E--,[2]}})},G=this,J=0,ce=S.styles.backgroundImage.slice(0).reverse(),Fe.label=1;case 1:return J<ce.length?[5,L(ce[J])]:[3,4];case 2:Fe.sent(),Fe.label=3;case 3:return J++,[3,1];case 4:return[2]}})})},w.prototype.renderSolidBorder=function(S,E,L){return ze(this,void 0,void 0,function(){return oe(this,function(G){return this.path(uA(L,E)),this.ctx.fillStyle=vs(S),this.ctx.fill(),[2]})})},w.prototype.renderDoubleBorder=function(S,E,L,G){return ze(this,void 0,void 0,function(){var J,ce;return oe(this,function(le){switch(le.label){case 0:return E<3?[4,this.renderSolidBorder(S,L,G)]:[3,2];case 1:return le.sent(),[2];case 2:return J=function(b,w){switch(w){case 0:return Q(b.topLeftBorderBox,b.topLeftBorderDoubleOuterBox,b.topRightBorderBox,b.topRightBorderDoubleOuterBox);case 1:return Q(b.topRightBorderBox,b.topRightBorderDoubleOuterBox,b.bottomRightBorderBox,b.bottomRightBorderDoubleOuterBox);case 2:return Q(b.bottomRightBorderBox,b.bottomRightBorderDoubleOuterBox,b.bottomLeftBorderBox,b.bottomLeftBorderDoubleOuterBox);default:return Q(b.bottomLeftBorderBox,b.bottomLeftBorderDoubleOuterBox,b.topLeftBorderBox,b.topLeftBorderDoubleOuterBox)}}(G,L),this.path(J),this.ctx.fillStyle=vs(S),this.ctx.fill(),ce=function(b,w){switch(w){case 0:return Q(b.topLeftBorderDoubleInnerBox,b.topLeftPaddingBox,b.topRightBorderDoubleInnerBox,b.topRightPaddingBox);case 1:return Q(b.topRightBorderDoubleInnerBox,b.topRightPaddingBox,b.bottomRightBorderDoubleInnerBox,b.bottomRightPaddingBox);case 2:return Q(b.bottomRightBorderDoubleInnerBox,b.bottomRightPaddingBox,b.bottomLeftBorderDoubleInnerBox,b.bottomLeftPaddingBox);default:return Q(b.bottomLeftBorderDoubleInnerBox,b.bottomLeftPaddingBox,b.topLeftBorderDoubleInnerBox,b.topLeftPaddingBox)}}(G,L),this.path(ce),this.ctx.fill(),[2]}})})},w.prototype.renderNodeBackgroundAndBorders=function(S){return ze(this,void 0,void 0,function(){var E,L,G,J,ce,le,Fe,He,Je=this;return oe(this,function(Dt){switch(Dt.label){case 0:return this.applyEffects(S.getEffects(2)),L=!kl((E=S.container.styles).backgroundColor)||E.backgroundImage.length,G=[{style:E.borderTopStyle,color:E.borderTopColor,width:E.borderTopWidth},{style:E.borderRightStyle,color:E.borderRightColor,width:E.borderRightWidth},{style:E.borderBottomStyle,color:E.borderBottomColor,width:E.borderBottomWidth},{style:E.borderLeftStyle,color:E.borderLeftColor,width:E.borderLeftWidth}],J=cm($s(E.backgroundClip,0),S.curves),L||E.boxShadow.length?(this.ctx.save(),this.path(J),this.ctx.clip(),kl(E.backgroundColor)||(this.ctx.fillStyle=vs(E.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(S.container)]):[3,2];case 1:Dt.sent(),this.ctx.restore(),E.boxShadow.slice(0).reverse().forEach(function(Ln){Je.ctx.save();var ln=bp(S.curves),En=Ln.inset?0:1e4,Zi=function(b,w,S,E,L){return b.map(function(G,J){switch(J){case 0:return G.add(w,S);case 1:return G.add(w+E,S);case 2:return G.add(w+E,S+L);case 3:return G.add(w,S+L)}return G})}(ln,(Ln.inset?1:-1)*Ln.spread.number-En,(Ln.inset?1:-1)*Ln.spread.number,Ln.spread.number*(Ln.inset?-2:2),Ln.spread.number*(Ln.inset?-2:2));Ln.inset?(Je.path(ln),Je.ctx.clip(),Je.mask(Zi)):(Je.mask(ln),Je.ctx.clip(),Je.path(Zi)),Je.ctx.shadowOffsetX=Ln.offsetX.number+En,Je.ctx.shadowOffsetY=Ln.offsetY.number,Je.ctx.shadowColor=vs(Ln.color),Je.ctx.shadowBlur=Ln.blur.number,Je.ctx.fillStyle=Ln.inset?vs(Ln.color):"rgba(0,0,0,1)",Je.ctx.fill(),Je.ctx.restore()}),Dt.label=2;case 2:ce=0,le=0,Fe=G,Dt.label=3;case 3:return le<Fe.length?0!==(He=Fe[le]).style&&!kl(He.color)&&He.width>0?2!==He.style?[3,5]:[4,this.renderDashedDottedBorder(He.color,He.width,ce,S.curves,2)]:[3,11]:[3,13];case 4:return Dt.sent(),[3,11];case 5:return 3!==He.style?[3,7]:[4,this.renderDashedDottedBorder(He.color,He.width,ce,S.curves,3)];case 6:return Dt.sent(),[3,11];case 7:return 4!==He.style?[3,9]:[4,this.renderDoubleBorder(He.color,He.width,ce,S.curves)];case 8:return Dt.sent(),[3,11];case 9:return[4,this.renderSolidBorder(He.color,ce,S.curves)];case 10:Dt.sent(),Dt.label=11;case 11:ce++,Dt.label=12;case 12:return le++,[3,3];case 13:return[2]}})})},w.prototype.renderDashedDottedBorder=function(S,E,L,G,J){return ze(this,void 0,void 0,function(){var ce,le,Fe,He,Je,Dt,Ln,ln,En,Zi,ii,Jn,Pr,er,gi,Mn;return oe(this,function(dr){return this.ctx.save(),ce=function(b,w){switch(w){case 0:return D(b.topLeftBorderStroke,b.topRightBorderStroke);case 1:return D(b.topRightBorderStroke,b.bottomRightBorderStroke);case 2:return D(b.bottomRightBorderStroke,b.bottomLeftBorderStroke);default:return D(b.bottomLeftBorderStroke,b.topLeftBorderStroke)}}(G,L),le=uA(G,L),2===J&&(this.path(le),this.ctx.clip()),Nl(le[0])?(Fe=le[0].start.x,He=le[0].start.y):(Fe=le[0].x,He=le[0].y),Nl(le[1])?(Je=le[1].end.x,Dt=le[1].end.y):(Je=le[1].x,Dt=le[1].y),Ln=0===L||2===L?Math.abs(Fe-Je):Math.abs(He-Dt),this.ctx.beginPath(),this.formatPath(3===J?ce:le.slice(0,2)),ln=E<3?3*E:2*E,En=E<3?2*E:E,3===J&&(ln=E,En=E),Zi=!0,Ln<=2*ln?Zi=!1:Ln<=2*ln+En?(ln*=ii=Ln/(2*ln+En),En*=ii):(Jn=Math.floor((Ln+En)/(ln+En)),Pr=(Ln-Jn*ln)/(Jn-1),En=(er=(Ln-(Jn+1)*ln)/Jn)<=0||Math.abs(En-Pr)<Math.abs(En-er)?Pr:er),Zi&&this.ctx.setLineDash(3===J?[0,ln+En]:[ln,En]),3===J?(this.ctx.lineCap="round",this.ctx.lineWidth=E):this.ctx.lineWidth=2*E+1.1,this.ctx.strokeStyle=vs(S),this.ctx.stroke(),this.ctx.setLineDash([]),2===J&&(Nl(le[0])&&(gi=le[3],Mn=le[0],this.ctx.beginPath(),this.formatPath([new bn(gi.end.x,gi.end.y),new bn(Mn.start.x,Mn.start.y)]),this.ctx.stroke()),Nl(le[1])&&(gi=le[1],Mn=le[2],this.ctx.beginPath(),this.formatPath([new bn(gi.end.x,gi.end.y),new bn(Mn.start.x,Mn.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},w.prototype.render=function(S){return ze(this,void 0,void 0,function(){var E;return oe(this,function(L){switch(L.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=vs(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),E=function(b){var w=new Cd(b,null),S=new lv(w),E=[];return cA(w,S,S,E),F_(w.container,E),S}(S),[4,this.renderStack(E)];case 1:return L.sent(),this.applyEffects([]),[2,this.canvas]}})})},w}(am),lm=function(b){return b instanceof gd||b instanceof Zg||b instanceof $A&&b.type!==qg&&b.type!==up},cm=function(b,w){switch(b){case 0:return bp(w);case 2:return function(b){return[b.topLeftContentBox,b.topRightContentBox,b.bottomRightContentBox,b.bottomLeftContentBox]}(w);default:return rf(w)}},lf=function(b){switch(b){case 1:return"center";case 2:return"right";default:return"left"}},Aw=["-apple-system","system-ui"],dA=function(b){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?b.filter(function(w){return-1===Aw.indexOf(w)}):b},um=function(b){function w(S,E){var L=b.call(this,S,E)||this;return L.canvas=E.canvas?E.canvas:document.createElement("canvas"),L.ctx=L.canvas.getContext("2d"),L.options=E,L.canvas.width=Math.floor(E.width*E.scale),L.canvas.height=Math.floor(E.height*E.scale),L.canvas.style.width=E.width+"px",L.canvas.style.height=E.height+"px",L.ctx.scale(L.options.scale,L.options.scale),L.ctx.translate(-E.x,-E.y),L.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+E.width+"x"+E.height+" at "+E.x+","+E.y+") with scale "+E.scale),L}return re(w,b),w.prototype.render=function(S){return ze(this,void 0,void 0,function(){var E,L;return oe(this,function(G){switch(G.label){case 0:return E=an(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,S),[4,fw(E)];case 1:return L=G.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=vs(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(L,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},w}(am),fw=function(b){return new Promise(function(w,S){var E=new Image;E.onload=function(){w(E)},E.onerror=S,E.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(b))})},gC=function(){function b(w){var E=w.enabled;this.id=w.id,this.enabled=E,this.start=Date.now()}return b.prototype.debug=function(){for(var w=[],S=0;S<arguments.length;S++)w[S]=arguments[S];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.debug?console.debug.apply(console,rt([this.id,this.getTime()+"ms"],w)):this.info.apply(this,w))},b.prototype.getTime=function(){return Date.now()-this.start},b.prototype.info=function(){for(var w=[],S=0;S<arguments.length;S++)w[S]=arguments[S];this.enabled&&typeof window<"u"&&window.console&&"function"==typeof console.info&&console.info.apply(console,rt([this.id,this.getTime()+"ms"],w))},b.prototype.warn=function(){for(var w=[],S=0;S<arguments.length;S++)w[S]=arguments[S];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.warn?console.warn.apply(console,rt([this.id,this.getTime()+"ms"],w)):this.info.apply(this,w))},b.prototype.error=function(){for(var w=[],S=0;S<arguments.length;S++)w[S]=arguments[S];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.error?console.error.apply(console,rt([this.id,this.getTime()+"ms"],w)):this.info.apply(this,w))},b.instances={},b}(),mC=function(){function b(w,S){var E;this.windowBounds=S,this.instanceName="#"+b.instanceCount++,this.logger=new gC({id:this.instanceName,enabled:w.logging}),this.cache=null!==(E=w.cache)&&void 0!==E?E:new ah(this,w)}return b.instanceCount=1,b}();typeof window<"u"&&rc.setContext(window);var uv=function(b,w){return ze(void 0,void 0,void 0,function(){var S,E,L,G,J,ce,le,Fe,He,Je,Dt,Ln,ln,En,Zi,ii,Jn,Pr,er,gi,Mn,sr,Bi,Vo,Ec,Yc,as,za,hA,Al,qa,Sp,Wc,fl,AA,Ip,lh,cf;return oe(this,function(xd){switch(xd.label){case 0:if(!b||"object"!=typeof b)return[2,Promise.reject("Invalid element provided as first argument")];if(!(S=b.ownerDocument))throw new Error("Element is not attached to a Document");if(!(E=S.defaultView))throw new Error("Document is not attached to a Window");return L={allowTaint:null!==(sr=w.allowTaint)&&void 0!==sr&&sr,imageTimeout:null!==(Bi=w.imageTimeout)&&void 0!==Bi?Bi:15e3,proxy:w.proxy,useCORS:null!==(Vo=w.useCORS)&&void 0!==Vo&&Vo},G=s({logging:null===(Ec=w.logging)||void 0===Ec||Ec,cache:w.cache},L),J={windowWidth:null!==(Yc=w.windowWidth)&&void 0!==Yc?Yc:E.innerWidth,windowHeight:null!==(as=w.windowHeight)&&void 0!==as?as:E.innerHeight,scrollX:null!==(za=w.scrollX)&&void 0!==za?za:E.pageXOffset,scrollY:null!==(hA=w.scrollY)&&void 0!==hA?hA:E.pageYOffset},ce=new lt(J.scrollX,J.scrollY,J.windowWidth,J.windowHeight),le=new mC(G,ce),Fe=null!==(Al=w.foreignObjectRendering)&&void 0!==Al&&Al,He={allowTaint:null!==(qa=w.allowTaint)&&void 0!==qa&&qa,onclone:w.onclone,ignoreElements:w.ignoreElements,inlineImages:Fe,copyStyles:Fe},le.logger.debug("Starting document clone with size "+ce.width+"x"+ce.height+" scrolled to "+-ce.left+","+-ce.top),Je=new tf(le,b,He),(Dt=Je.clonedReferenceElement)?[4,Je.toIFrame(S,ce)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Ln=xd.sent(),ln=Jg(Dt)||function(b){return"HTML"===b.tagName}(Dt)?function(b){var w=b.body,S=b.documentElement;if(!w||!S)throw new Error("Unable to get document size");var E=Math.max(Math.max(w.scrollWidth,S.scrollWidth),Math.max(w.offsetWidth,S.offsetWidth),Math.max(w.clientWidth,S.clientWidth)),L=Math.max(Math.max(w.scrollHeight,S.scrollHeight),Math.max(w.offsetHeight,S.offsetHeight),Math.max(w.clientHeight,S.clientHeight));return new lt(0,0,E,L)}(Dt.ownerDocument):vt(le,Dt),En=ln.width,Zi=ln.height,ii=ln.left,Jn=ln.top,Pr=dv(le,Dt,w.backgroundColor),er={canvas:w.canvas,backgroundColor:Pr,scale:null!==(Wc=null!==(Sp=w.scale)&&void 0!==Sp?Sp:E.devicePixelRatio)&&void 0!==Wc?Wc:1,x:(null!==(fl=w.x)&&void 0!==fl?fl:0)+ii,y:(null!==(AA=w.y)&&void 0!==AA?AA:0)+Jn,width:null!==(Ip=w.width)&&void 0!==Ip?Ip:Math.ceil(En),height:null!==(lh=w.height)&&void 0!==lh?lh:Math.ceil(Zi)},Fe?(le.logger.debug("Document cloned, using foreign object rendering"),[4,new um(le,er).render(Dt)]):[3,3];case 2:return gi=xd.sent(),[3,5];case 3:return le.logger.debug("Document cloned, element located at "+ii+","+Jn+" with size "+En+"x"+Zi+" using computed rendering"),le.logger.debug("Starting DOM parsing"),Mn=E_(le,Dt),Pr===Mn.styles.backgroundColor&&(Mn.styles.backgroundColor=pc.TRANSPARENT),le.logger.debug("Starting renderer for element at "+er.x+","+er.y+" with size "+er.width+"x"+er.height),[4,new cv(le,er).render(Mn)];case 4:gi=xd.sent(),xd.label=5;case 5:return(!(null!==(cf=w.removeContainer)&&void 0!==cf)||cf)&&(tf.destroy(Ln)||le.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),le.logger.debug("Finished rendering"),[2,gi]}})})},dv=function(b,w,S){var E=w.ownerDocument,L=E.documentElement?id(b,getComputedStyle(E.documentElement).backgroundColor):pc.TRANSPARENT,G=E.body?id(b,getComputedStyle(E.body).backgroundColor):pc.TRANSPARENT,J="string"==typeof S?id(b,S):null===S?pc.TRANSPARENT:4294967295;return w===E.documentElement?kl(L)?kl(G)?J:G:L:J};return function(b,w){return void 0===w&&(w={}),uv(b,w)}}()},9751:(ei,Lt,re)=>{"use strict";re.d(Lt,{y:()=>Tt});var s=re(930),ze=re(727),oe=re(8822),rt=re(9635),lt=re(2416),vt=re(576),Ke=re(2806);let Tt=(()=>{class je{constructor(Qt){Qt&&(this._subscribe=Qt)}lift(Qt){const yn=new je;return yn.source=this,yn.operator=Qt,yn}subscribe(Qt,yn,Nn){const yt=function De(je){return je&&je instanceof s.Lv||function Ee(je){return je&&(0,vt.m)(je.next)&&(0,vt.m)(je.error)&&(0,vt.m)(je.complete)}(je)&&(0,ze.Nn)(je)}(Qt)?Qt:new s.Hp(Qt,yn,Nn);return(0,Ke.x)(()=>{const{operator:Ut,source:St}=this;yt.add(Ut?Ut.call(yt,St):St?this._subscribe(yt):this._trySubscribe(yt))}),yt}_trySubscribe(Qt){try{return this._subscribe(Qt)}catch(yn){Qt.error(yn)}}forEach(Qt,yn){return new(yn=ut(yn))((Nn,yt)=>{let Ut;Ut=this.subscribe(St=>{try{Qt(St)}catch(qt){yt(qt),Ut?.unsubscribe()}},yt,Nn)})}_subscribe(Qt){var yn;return null===(yn=this.source)||void 0===yn?void 0:yn.subscribe(Qt)}[oe.L](){return this}pipe(...Qt){return(0,rt.U)(Qt)(this)}toPromise(Qt){return new(Qt=ut(Qt))((yn,Nn)=>{let yt;this.subscribe(Ut=>yt=Ut,Ut=>Nn(Ut),()=>yn(yt))})}}return je.create=hn=>new je(hn),je})();function ut(je){var hn;return null!==(hn=je??lt.v.Promise)&&void 0!==hn?hn:Promise}},7579:(ei,Lt,re)=>{"use strict";re.d(Lt,{x:()=>Ke});var s=re(9751),ze=re(727);const rt=(0,re(3888).d)(ut=>function(){ut(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var lt=re(8737),vt=re(2806);let Ke=(()=>{class ut extends s.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(De){const je=new Tt(this,this);return je.operator=De,je}_throwIfClosed(){if(this.closed)throw new rt}next(De){(0,vt.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const je=this.observers.slice();for(const hn of je)hn.next(De)}})}error(De){(0,vt.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=De;const{observers:je}=this;for(;je.length;)je.shift().error(De)}})}complete(){(0,vt.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:De}=this;for(;De.length;)De.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var De;return(null===(De=this.observers)||void 0===De?void 0:De.length)>0}_trySubscribe(De){return this._throwIfClosed(),super._trySubscribe(De)}_subscribe(De){return this._throwIfClosed(),this._checkFinalizedStatuses(De),this._innerSubscribe(De)}_innerSubscribe(De){const{hasError:je,isStopped:hn,observers:Qt}=this;return je||hn?ze.Lc:(Qt.push(De),new ze.w0(()=>(0,lt.P)(Qt,De)))}_checkFinalizedStatuses(De){const{hasError:je,thrownError:hn,isStopped:Qt}=this;je?De.error(hn):Qt&&De.complete()}asObservable(){const De=new s.y;return De.source=this,De}}return ut.create=(Ee,De)=>new Tt(Ee,De),ut})();class Tt extends Ke{constructor(Ee,De){super(),this.destination=Ee,this.source=De}next(Ee){var De,je;null===(je=null===(De=this.destination)||void 0===De?void 0:De.next)||void 0===je||je.call(De,Ee)}error(Ee){var De,je;null===(je=null===(De=this.destination)||void 0===De?void 0:De.error)||void 0===je||je.call(De,Ee)}complete(){var Ee,De;null===(De=null===(Ee=this.destination)||void 0===Ee?void 0:Ee.complete)||void 0===De||De.call(Ee)}_subscribe(Ee){var De,je;return null!==(je=null===(De=this.source)||void 0===De?void 0:De.subscribe(Ee))&&void 0!==je?je:ze.Lc}}},930:(ei,Lt,re)=>{"use strict";re.d(Lt,{Hp:()=>hn,Lv:()=>je});var s=re(576),ze=re(727),oe=re(2416),rt=re(7849),lt=re(5032);const vt=ut("C",void 0,void 0);function ut(Ut,St,qt){return{kind:Ut,value:St,error:qt}}var Ee=re(3410),De=re(2806);class je extends ze.w0{constructor(St){super(),this.isStopped=!1,St?(this.destination=St,(0,ze.Nn)(St)&&St.add(this)):this.destination=yt}static create(St,qt,Jt){return new hn(St,qt,Jt)}next(St){this.isStopped?Nn(function Tt(Ut){return ut("N",Ut,void 0)}(St),this):this._next(St)}error(St){this.isStopped?Nn(function Ke(Ut){return ut("E",void 0,Ut)}(St),this):(this.isStopped=!0,this._error(St))}complete(){this.isStopped?Nn(vt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(St){this.destination.next(St)}_error(St){try{this.destination.error(St)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class hn extends je{constructor(St,qt,Jt){let ti;if(super(),(0,s.m)(St))ti=St;else if(St){let en;({next:ti,error:qt,complete:Jt}=St),this&&oe.v.useDeprecatedNextContext?(en=Object.create(St),en.unsubscribe=()=>this.unsubscribe()):en=St,ti=ti?.bind(en),qt=qt?.bind(en),Jt=Jt?.bind(en)}this.destination={next:ti?Qt(ti):lt.Z,error:Qt(qt??yn),complete:Jt?Qt(Jt):lt.Z}}}function Qt(Ut,St){return(...qt)=>{try{Ut(...qt)}catch(Jt){oe.v.useDeprecatedSynchronousErrorHandling?(0,De.O)(Jt):(0,rt.h)(Jt)}}}function yn(Ut){throw Ut}function Nn(Ut,St){const{onStoppedNotification:qt}=oe.v;qt&&Ee.z.setTimeout(()=>qt(Ut,St))}const yt={closed:!0,next:lt.Z,error:yn,complete:lt.Z}},727:(ei,Lt,re)=>{"use strict";re.d(Lt,{Lc:()=>vt,w0:()=>lt,Nn:()=>Ke});var s=re(576);const oe=(0,re(3888).d)(ut=>function(De){ut(this),this.message=De?`${De.length} errors occurred during unsubscription:\n${De.map((je,hn)=>`${hn+1}) ${je.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=De});var rt=re(8737);class lt{constructor(Ee){this.initialTeardown=Ee,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let Ee;if(!this.closed){this.closed=!0;const{_parentage:De}=this;if(De)if(this._parentage=null,Array.isArray(De))for(const Qt of De)Qt.remove(this);else De.remove(this);const{initialTeardown:je}=this;if((0,s.m)(je))try{je()}catch(Qt){Ee=Qt instanceof oe?Qt.errors:[Qt]}const{_teardowns:hn}=this;if(hn){this._teardowns=null;for(const Qt of hn)try{Tt(Qt)}catch(yn){Ee=Ee??[],yn instanceof oe?Ee=[...Ee,...yn.errors]:Ee.push(yn)}}if(Ee)throw new oe(Ee)}}add(Ee){var De;if(Ee&&Ee!==this)if(this.closed)Tt(Ee);else{if(Ee instanceof lt){if(Ee.closed||Ee._hasParent(this))return;Ee._addParent(this)}(this._teardowns=null!==(De=this._teardowns)&&void 0!==De?De:[]).push(Ee)}}_hasParent(Ee){const{_parentage:De}=this;return De===Ee||Array.isArray(De)&&De.includes(Ee)}_addParent(Ee){const{_parentage:De}=this;this._parentage=Array.isArray(De)?(De.push(Ee),De):De?[De,Ee]:Ee}_removeParent(Ee){const{_parentage:De}=this;De===Ee?this._parentage=null:Array.isArray(De)&&(0,rt.P)(De,Ee)}remove(Ee){const{_teardowns:De}=this;De&&(0,rt.P)(De,Ee),Ee instanceof lt&&Ee._removeParent(this)}}lt.EMPTY=(()=>{const ut=new lt;return ut.closed=!0,ut})();const vt=lt.EMPTY;function Ke(ut){return ut instanceof lt||ut&&"closed"in ut&&(0,s.m)(ut.remove)&&(0,s.m)(ut.add)&&(0,s.m)(ut.unsubscribe)}function Tt(ut){(0,s.m)(ut)?ut():ut.unsubscribe()}},2416:(ei,Lt,re)=>{"use strict";re.d(Lt,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ei,Lt,re)=>{"use strict";re.d(Lt,{E:()=>ze});const ze=new(re(9751).y)(lt=>lt.complete())},8996:(ei,Lt,re)=>{"use strict";re.d(Lt,{D:()=>ti});var s=re(8421),ze=re(5363),oe=re(9468),vt=re(9751),Tt=re(2202),ut=re(576),Ee=re(9672);function je(en,Tn){if(!en)throw new Error("Iterable cannot be null");return new vt.y(sn=>{(0,Ee.f)(sn,Tn,()=>{const Zn=en[Symbol.asyncIterator]();(0,Ee.f)(sn,Tn,()=>{Zn.next().then(et=>{et.done?sn.complete():sn.next(et.value)})},0,!0)})})}var hn=re(3670),Qt=re(8239),yn=re(1144),Nn=re(6495),yt=re(2206),Ut=re(4532),St=re(3260);function ti(en,Tn){return Tn?function Jt(en,Tn){if(null!=en){if((0,hn.c)(en))return function rt(en,Tn){return(0,s.Xf)(en).pipe((0,oe.R)(Tn),(0,ze.Q)(Tn))}(en,Tn);if((0,yn.z)(en))return function Ke(en,Tn){return new vt.y(sn=>{let Zn=0;return Tn.schedule(function(){Zn===en.length?sn.complete():(sn.next(en[Zn++]),sn.closed||this.schedule())})})}(en,Tn);if((0,Qt.t)(en))return function lt(en,Tn){return(0,s.Xf)(en).pipe((0,oe.R)(Tn),(0,ze.Q)(Tn))}(en,Tn);if((0,yt.D)(en))return je(en,Tn);if((0,Nn.T)(en))return function De(en,Tn){return new vt.y(sn=>{let Zn;return(0,Ee.f)(sn,Tn,()=>{Zn=en[Tt.h](),(0,Ee.f)(sn,Tn,()=>{let et,It;try{({value:et,done:It}=Zn.next())}catch(dt){return void sn.error(dt)}It?sn.complete():sn.next(et)},0,!0)}),()=>(0,ut.m)(Zn?.return)&&Zn.return()})}(en,Tn);if((0,St.L)(en))return function qt(en,Tn){return je((0,St.Q)(en),Tn)}(en,Tn)}throw(0,Ut.z)(en)}(en,Tn):(0,s.Xf)(en)}},8421:(ei,Lt,re)=>{"use strict";re.d(Lt,{Xf:()=>hn});var s=re(5987),ze=re(1144),oe=re(8239),rt=re(9751),lt=re(3670),vt=re(2206),Ke=re(4532),Tt=re(6495),ut=re(3260),Ee=re(576),De=re(7849),je=re(8822);function hn(Jt){if(Jt instanceof rt.y)return Jt;if(null!=Jt){if((0,lt.c)(Jt))return function Qt(Jt){return new rt.y(ti=>{const en=Jt[je.L]();if((0,Ee.m)(en.subscribe))return en.subscribe(ti);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Jt);if((0,ze.z)(Jt))return function yn(Jt){return new rt.y(ti=>{for(let en=0;en<Jt.length&&!ti.closed;en++)ti.next(Jt[en]);ti.complete()})}(Jt);if((0,oe.t)(Jt))return function Nn(Jt){return new rt.y(ti=>{Jt.then(en=>{ti.closed||(ti.next(en),ti.complete())},en=>ti.error(en)).then(null,De.h)})}(Jt);if((0,vt.D)(Jt))return Ut(Jt);if((0,Tt.T)(Jt))return function yt(Jt){return new rt.y(ti=>{for(const en of Jt)if(ti.next(en),ti.closed)return;ti.complete()})}(Jt);if((0,ut.L)(Jt))return function St(Jt){return Ut((0,ut.Q)(Jt))}(Jt)}throw(0,Ke.z)(Jt)}function Ut(Jt){return new rt.y(ti=>{(function qt(Jt,ti){var en,Tn,sn,Zn;return(0,s.mG)(this,void 0,void 0,function*(){try{for(en=(0,s.KL)(Jt);!(Tn=yield en.next()).done;)if(ti.next(Tn.value),ti.closed)return}catch(et){sn={error:et}}finally{try{Tn&&!Tn.done&&(Zn=en.return)&&(yield Zn.call(en))}finally{if(sn)throw sn.error}}ti.complete()})})(Jt,ti).catch(en=>ti.error(en))})}},6451:(ei,Lt,re)=>{"use strict";re.d(Lt,{T:()=>vt});var s=re(8189),ze=re(8421),oe=re(515),rt=re(3269),lt=re(8996);function vt(...Ke){const Tt=(0,rt.yG)(Ke),ut=(0,rt._6)(Ke,1/0),Ee=Ke;return Ee.length?1===Ee.length?(0,ze.Xf)(Ee[0]):(0,s.J)(ut)((0,lt.D)(Ee,Tt)):oe.E}},5403:(ei,Lt,re)=>{"use strict";re.d(Lt,{Q:()=>ze});var s=re(930);class ze extends s.Lv{constructor(rt,lt,vt,Ke,Tt){super(rt),this.onFinalize=Tt,this._next=lt?function(ut){try{lt(ut)}catch(Ee){rt.error(Ee)}}:super._next,this._error=Ke?function(ut){try{Ke(ut)}catch(Ee){rt.error(Ee)}finally{this.unsubscribe()}}:super._error,this._complete=vt?function(){try{vt()}catch(ut){rt.error(ut)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var rt;const{closed:lt}=this;super.unsubscribe(),!lt&&(null===(rt=this.onFinalize)||void 0===rt||rt.call(this))}}},4004:(ei,Lt,re)=>{"use strict";re.d(Lt,{U:()=>oe});var s=re(4482),ze=re(5403);function oe(rt,lt){return(0,s.e)((vt,Ke)=>{let Tt=0;vt.subscribe(new ze.Q(Ke,ut=>{Ke.next(rt.call(lt,ut,Tt++))}))})}},8189:(ei,Lt,re)=>{"use strict";re.d(Lt,{J:()=>oe});var s=re(5577),ze=re(4671);function oe(rt=1/0){return(0,s.z)(ze.y,rt)}},5577:(ei,Lt,re)=>{"use strict";re.d(Lt,{z:()=>Tt});var s=re(4004),ze=re(8421),oe=re(4482),rt=re(9672),lt=re(5403),Ke=re(576);function Tt(ut,Ee,De=1/0){return(0,Ke.m)(Ee)?Tt((je,hn)=>(0,s.U)((Qt,yn)=>Ee(je,Qt,hn,yn))((0,ze.Xf)(ut(je,hn))),De):("number"==typeof Ee&&(De=Ee),(0,oe.e)((je,hn)=>function vt(ut,Ee,De,je,hn,Qt,yn,Nn){const yt=[];let Ut=0,St=0,qt=!1;const Jt=()=>{qt&&!yt.length&&!Ut&&Ee.complete()},ti=Tn=>Ut<je?en(Tn):yt.push(Tn),en=Tn=>{Qt&&Ee.next(Tn),Ut++;let sn=!1;(0,ze.Xf)(De(Tn,St++)).subscribe(new lt.Q(Ee,Zn=>{hn?.(Zn),Qt?ti(Zn):Ee.next(Zn)},()=>{sn=!0},void 0,()=>{if(sn)try{for(Ut--;yt.length&&Ut<je;){const Zn=yt.shift();yn?(0,rt.f)(Ee,yn,()=>en(Zn)):en(Zn)}Jt()}catch(Zn){Ee.error(Zn)}}))};return ut.subscribe(new lt.Q(Ee,ti,()=>{qt=!0,Jt()})),()=>{Nn?.()}}(je,hn,ut,De)))}},5363:(ei,Lt,re)=>{"use strict";re.d(Lt,{Q:()=>rt});var s=re(9672),ze=re(4482),oe=re(5403);function rt(lt,vt=0){return(0,ze.e)((Ke,Tt)=>{Ke.subscribe(new oe.Q(Tt,ut=>(0,s.f)(Tt,lt,()=>Tt.next(ut),vt),()=>(0,s.f)(Tt,lt,()=>Tt.complete(),vt),ut=>(0,s.f)(Tt,lt,()=>Tt.error(ut),vt)))})}},3099:(ei,Lt,re)=>{"use strict";re.d(Lt,{B:()=>vt});var s=re(8996),ze=re(5698),oe=re(7579),rt=re(930),lt=re(4482);function vt(Tt={}){const{connector:ut=(()=>new oe.x),resetOnError:Ee=!0,resetOnComplete:De=!0,resetOnRefCountZero:je=!0}=Tt;return hn=>{let Qt=null,yn=null,Nn=null,yt=0,Ut=!1,St=!1;const qt=()=>{yn?.unsubscribe(),yn=null},Jt=()=>{qt(),Qt=Nn=null,Ut=St=!1},ti=()=>{const en=Qt;Jt(),en?.unsubscribe()};return(0,lt.e)((en,Tn)=>{yt++,!St&&!Ut&&qt();const sn=Nn=Nn??ut();Tn.add(()=>{yt--,0===yt&&!St&&!Ut&&(yn=Ke(ti,je))}),sn.subscribe(Tn),Qt||(Qt=new rt.Hp({next:Zn=>sn.next(Zn),error:Zn=>{St=!0,qt(),yn=Ke(Jt,Ee,Zn),sn.error(Zn)},complete:()=>{Ut=!0,qt(),yn=Ke(Jt,De),sn.complete()}}),(0,s.D)(en).subscribe(Qt))})(hn)}}function Ke(Tt,ut,...Ee){return!0===ut?(Tt(),null):!1===ut?null:ut(...Ee).pipe((0,ze.q)(1)).subscribe(()=>Tt())}},9468:(ei,Lt,re)=>{"use strict";re.d(Lt,{R:()=>ze});var s=re(4482);function ze(oe,rt=0){return(0,s.e)((lt,vt)=>{vt.add(oe.schedule(()=>lt.subscribe(vt),rt))})}},5698:(ei,Lt,re)=>{"use strict";re.d(Lt,{q:()=>rt});var s=re(515),ze=re(4482),oe=re(5403);function rt(lt){return lt<=0?()=>s.E:(0,ze.e)((vt,Ke)=>{let Tt=0;vt.subscribe(new oe.Q(Ke,ut=>{++Tt<=lt&&(Ke.next(ut),lt<=Tt&&Ke.complete())}))})}},8505:(ei,Lt,re)=>{"use strict";re.d(Lt,{b:()=>lt});var s=re(576),ze=re(4482),oe=re(5403),rt=re(4671);function lt(vt,Ke,Tt){const ut=(0,s.m)(vt)||Ke||Tt?{next:vt,error:Ke,complete:Tt}:vt;return ut?(0,ze.e)((Ee,De)=>{var je;null===(je=ut.subscribe)||void 0===je||je.call(ut);let hn=!0;Ee.subscribe(new oe.Q(De,Qt=>{var yn;null===(yn=ut.next)||void 0===yn||yn.call(ut,Qt),De.next(Qt)},()=>{var Qt;hn=!1,null===(Qt=ut.complete)||void 0===Qt||Qt.call(ut),De.complete()},Qt=>{var yn;hn=!1,null===(yn=ut.error)||void 0===yn||yn.call(ut,Qt),De.error(Qt)},()=>{var Qt,yn;hn&&(null===(Qt=ut.unsubscribe)||void 0===Qt||Qt.call(ut)),null===(yn=ut.finalize)||void 0===yn||yn.call(ut)}))}):rt.y}},4408:(ei,Lt,re)=>{"use strict";re.d(Lt,{o:()=>lt});var s=re(727);class ze extends s.w0{constructor(Ke,Tt){super()}schedule(Ke,Tt=0){return this}}const oe={setInterval(...vt){const{delegate:Ke}=oe;return(Ke?.setInterval||setInterval)(...vt)},clearInterval(vt){const{delegate:Ke}=oe;return(Ke?.clearInterval||clearInterval)(vt)},delegate:void 0};var rt=re(8737);class lt extends ze{constructor(Ke,Tt){super(Ke,Tt),this.scheduler=Ke,this.work=Tt,this.pending=!1}schedule(Ke,Tt=0){if(this.closed)return this;this.state=Ke;const ut=this.id,Ee=this.scheduler;return null!=ut&&(this.id=this.recycleAsyncId(Ee,ut,Tt)),this.pending=!0,this.delay=Tt,this.id=this.id||this.requestAsyncId(Ee,this.id,Tt),this}requestAsyncId(Ke,Tt,ut=0){return oe.setInterval(Ke.flush.bind(Ke,this),ut)}recycleAsyncId(Ke,Tt,ut=0){if(null!=ut&&this.delay===ut&&!1===this.pending)return Tt;oe.clearInterval(Tt)}execute(Ke,Tt){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ut=this._execute(Ke,Tt);if(ut)return ut;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ke,Tt){let Ee,ut=!1;try{this.work(Ke)}catch(De){ut=!0,Ee=De||new Error("Scheduled action threw falsy error")}if(ut)return this.unsubscribe(),Ee}unsubscribe(){if(!this.closed){const{id:Ke,scheduler:Tt}=this,{actions:ut}=Tt;this.work=this.state=this.scheduler=null,this.pending=!1,(0,rt.P)(ut,this),null!=Ke&&(this.id=this.recycleAsyncId(Tt,Ke,null)),this.delay=null,super.unsubscribe()}}}},7565:(ei,Lt,re)=>{"use strict";re.d(Lt,{v:()=>oe});var s=re(6063);class ze{constructor(lt,vt=ze.now){this.schedulerActionCtor=lt,this.now=vt}schedule(lt,vt=0,Ke){return new this.schedulerActionCtor(this,lt).schedule(Ke,vt)}}ze.now=s.l.now;class oe extends ze{constructor(lt,vt=ze.now){super(lt,vt),this.actions=[],this._active=!1,this._scheduled=void 0}flush(lt){const{actions:vt}=this;if(this._active)return void vt.push(lt);let Ke;this._active=!0;do{if(Ke=lt.execute(lt.state,lt.delay))break}while(lt=vt.shift());if(this._active=!1,Ke){for(;lt=vt.shift();)lt.unsubscribe();throw Ke}}}},4986:(ei,Lt,re)=>{"use strict";re.d(Lt,{P:()=>rt,z:()=>oe});var s=re(4408);const oe=new(re(7565).v)(s.o),rt=oe},6063:(ei,Lt,re)=>{"use strict";re.d(Lt,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(ei,Lt,re)=>{"use strict";re.d(Lt,{z:()=>s});const s={setTimeout(...ze){const{delegate:oe}=s;return(oe?.setTimeout||setTimeout)(...ze)},clearTimeout(ze){const{delegate:oe}=s;return(oe?.clearTimeout||clearTimeout)(ze)},delegate:void 0}},2202:(ei,Lt,re)=>{"use strict";re.d(Lt,{h:()=>ze});const ze=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ei,Lt,re)=>{"use strict";re.d(Lt,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ei,Lt,re)=>{"use strict";re.d(Lt,{_6:()=>vt,jO:()=>rt,yG:()=>lt});var s=re(576),ze=re(3532);function oe(Ke){return Ke[Ke.length-1]}function rt(Ke){return(0,s.m)(oe(Ke))?Ke.pop():void 0}function lt(Ke){return(0,ze.K)(oe(Ke))?Ke.pop():void 0}function vt(Ke,Tt){return"number"==typeof oe(Ke)?Ke.pop():Tt}},8737:(ei,Lt,re)=>{"use strict";function s(ze,oe){if(ze){const rt=ze.indexOf(oe);0<=rt&&ze.splice(rt,1)}}re.d(Lt,{P:()=>s})},3888:(ei,Lt,re)=>{"use strict";function s(ze){const rt=ze(lt=>{Error.call(lt),lt.stack=(new Error).stack});return rt.prototype=Object.create(Error.prototype),rt.prototype.constructor=rt,rt}re.d(Lt,{d:()=>s})},2806:(ei,Lt,re)=>{"use strict";re.d(Lt,{O:()=>rt,x:()=>oe});var s=re(2416);let ze=null;function oe(lt){if(s.v.useDeprecatedSynchronousErrorHandling){const vt=!ze;if(vt&&(ze={errorThrown:!1,error:null}),lt(),vt){const{errorThrown:Ke,error:Tt}=ze;if(ze=null,Ke)throw Tt}}else lt()}function rt(lt){s.v.useDeprecatedSynchronousErrorHandling&&ze&&(ze.errorThrown=!0,ze.error=lt)}},9672:(ei,Lt,re)=>{"use strict";function s(ze,oe,rt,lt=0,vt=!1){const Ke=oe.schedule(function(){rt(),vt?ze.add(this.schedule(null,lt)):this.unsubscribe()},lt);if(ze.add(Ke),!vt)return Ke}re.d(Lt,{f:()=>s})},4671:(ei,Lt,re)=>{"use strict";function s(ze){return ze}re.d(Lt,{y:()=>s})},1144:(ei,Lt,re)=>{"use strict";re.d(Lt,{z:()=>s});const s=ze=>ze&&"number"==typeof ze.length&&"function"!=typeof ze},2206:(ei,Lt,re)=>{"use strict";re.d(Lt,{D:()=>ze});var s=re(576);function ze(oe){return Symbol.asyncIterator&&(0,s.m)(oe?.[Symbol.asyncIterator])}},576:(ei,Lt,re)=>{"use strict";function s(ze){return"function"==typeof ze}re.d(Lt,{m:()=>s})},3670:(ei,Lt,re)=>{"use strict";re.d(Lt,{c:()=>oe});var s=re(8822),ze=re(576);function oe(rt){return(0,ze.m)(rt[s.L])}},6495:(ei,Lt,re)=>{"use strict";re.d(Lt,{T:()=>oe});var s=re(2202),ze=re(576);function oe(rt){return(0,ze.m)(rt?.[s.h])}},8239:(ei,Lt,re)=>{"use strict";re.d(Lt,{t:()=>ze});var s=re(576);function ze(oe){return(0,s.m)(oe?.then)}},3260:(ei,Lt,re)=>{"use strict";re.d(Lt,{L:()=>rt,Q:()=>oe});var s=re(5987),ze=re(576);function oe(lt){return(0,s.FC)(this,arguments,function*(){const Ke=lt.getReader();try{for(;;){const{value:Tt,done:ut}=yield(0,s.qq)(Ke.read());if(ut)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(Tt)}}finally{Ke.releaseLock()}})}function rt(lt){return(0,ze.m)(lt?.getReader)}},3532:(ei,Lt,re)=>{"use strict";re.d(Lt,{K:()=>ze});var s=re(576);function ze(oe){return oe&&(0,s.m)(oe.schedule)}},4482:(ei,Lt,re)=>{"use strict";re.d(Lt,{A:()=>ze,e:()=>oe});var s=re(576);function ze(rt){return(0,s.m)(rt?.lift)}function oe(rt){return lt=>{if(ze(lt))return lt.lift(function(vt){try{return rt(vt,this)}catch(Ke){this.error(Ke)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ei,Lt,re)=>{"use strict";function s(){}re.d(Lt,{Z:()=>s})},9635:(ei,Lt,re)=>{"use strict";re.d(Lt,{U:()=>oe,z:()=>ze});var s=re(4671);function ze(...rt){return oe(rt)}function oe(rt){return 0===rt.length?s.y:1===rt.length?rt[0]:function(vt){return rt.reduce((Ke,Tt)=>Tt(Ke),vt)}}},7849:(ei,Lt,re)=>{"use strict";re.d(Lt,{h:()=>oe});var s=re(2416),ze=re(3410);function oe(rt){ze.z.setTimeout(()=>{const{onUnhandledError:lt}=s.v;if(!lt)throw rt;lt(rt)})}},4532:(ei,Lt,re)=>{"use strict";function s(ze){return new TypeError(`You provided ${null!==ze&&"object"==typeof ze?"an invalid object":`'${ze}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}re.d(Lt,{z:()=>s})},5987:(ei,Lt,re)=>{"use strict";function Tt(et,It,dt,Kt){return new(dt||(dt=Promise))(function(gn,di){function Sr(Ro){try{Mi(Kt.next(Ro))}catch(Fr){di(Fr)}}function to(Ro){try{Mi(Kt.throw(Ro))}catch(Fr){di(Fr)}}function Mi(Ro){Ro.done?gn(Ro.value):function Nt(gn){return gn instanceof dt?gn:new dt(function(di){di(gn)})}(Ro.value).then(Sr,to)}Mi((Kt=Kt.apply(et,It||[])).next())})}function yt(et){return this instanceof yt?(this.v=et,this):new yt(et)}function Ut(et,It,dt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Nt,Kt=dt.apply(et,It||[]),gn=[];return Nt={},di("next"),di("throw"),di("return"),Nt[Symbol.asyncIterator]=function(){return this},Nt;function di(hi){Kt[hi]&&(Nt[hi]=function(Ss){return new Promise(function(Cl,fo){gn.push([hi,Ss,Cl,fo])>1||Sr(hi,Ss)})})}function Sr(hi,Ss){try{!function to(hi){hi.value instanceof yt?Promise.resolve(hi.value.v).then(Mi,Ro):Fr(gn[0][2],hi)}(Kt[hi](Ss))}catch(Cl){Fr(gn[0][3],Cl)}}function Mi(hi){Sr("next",hi)}function Ro(hi){Sr("throw",hi)}function Fr(hi,Ss){hi(Ss),gn.shift(),gn.length&&Sr(gn[0][0],gn[0][1])}}function qt(et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var dt,It=et[Symbol.asyncIterator];return It?It.call(et):(et=function je(et){var It="function"==typeof Symbol&&Symbol.iterator,dt=It&&et[It],Kt=0;if(dt)return dt.call(et);if(et&&"number"==typeof et.length)return{next:function(){return et&&Kt>=et.length&&(et=void 0),{value:et&&et[Kt++],done:!et}}};throw new TypeError(It?"Object is not iterable.":"Symbol.iterator is not defined.")}(et),dt={},Kt("next"),Kt("throw"),Kt("return"),dt[Symbol.asyncIterator]=function(){return this},dt);function Kt(gn){dt[gn]=et[gn]&&function(di){return new Promise(function(Sr,to){!function Nt(gn,di,Sr,to){Promise.resolve(to).then(function(Mi){gn({value:Mi,done:Sr})},di)}(Sr,to,(di=et[gn](di)).done,di.value)})}}}re.d(Lt,{FC:()=>Ut,KL:()=>qt,mG:()=>Tt,qq:()=>yt})},4650:(ei,Lt,re)=>{"use strict";re.d(Lt,{$8M:()=>ma,$Z:()=>nS,AFp:()=>uy,ALo:()=>Pu,AaK:()=>Tt,AsE:()=>XC,BQk:()=>mm,CHM:()=>Dr,CRH:()=>vI,CZH:()=>ob,CqO:()=>Tw,D6c:()=>Rm,DdM:()=>AI,EJc:()=>lb,EiD:()=>uA,EpF:()=>Ev,Ez6:()=>Zl,F$t:()=>NC,F4k:()=>WT,FYo:()=>Vo,FiY:()=>Tu,G48:()=>mF,Gf:()=>iy,GfV:()=>za,GkF:()=>bS,Gpc:()=>De,Gre:()=>uB,Hsn:()=>SS,Ikx:()=>KS,JOm:()=>so,JVY:()=>T_,JZr:()=>Nn,KtG:()=>Ig,L6k:()=>nf,LAX:()=>vd,LFG:()=>kr,LSH:()=>z,Lbi:()=>dy,Lck:()=>YL,MAs:()=>Ew,MMx:()=>xm,MR2:()=>k_,NdJ:()=>Bw,O4$:()=>PA,OlP:()=>qr,Oqu:()=>JC,P3R:()=>fn,PXZ:()=>fF,Q6J:()=>Sw,QGY:()=>CS,QP$:()=>Od,QbO:()=>j1,Qsj:()=>Ec,R0b:()=>Hu,RDi:()=>hw,Rgc:()=>Xw,SBq:()=>sr,Sil:()=>mN,Suo:()=>eu,TTD:()=>fu,TgZ:()=>FC,Udp:()=>Op,VKq:()=>fI,WFA:()=>RC,X6Q:()=>gF,XFs:()=>Wn,Xpm:()=>mt,Xts:()=>af,Y36:()=>L_,YKP:()=>cI,YNc:()=>ZT,Yjl:()=>_s,Yz7:()=>cr,Z0I:()=>uu,ZZ4:()=>pb,_Bn:()=>LB,_UZ:()=>Dw,_Vd:()=>gi,_c5:()=>MN,_uU:()=>WC,aQg:()=>gb,c2e:()=>ab,cJS:()=>xl,cg1:()=>o1,d8E:()=>s1,dDg:()=>hy,dqk:()=>si,eBb:()=>ja,eFA:()=>Ay,ekj:()=>KC,eoX:()=>NI,f3M:()=>ha,g9A:()=>G1,h0i:()=>Hv,hGG:()=>kN,hij:()=>Lw,iGM:()=>yI,ifc:()=>Vn,ip1:()=>_f,jDz:()=>lo,kEZ:()=>x1,kL8:()=>a1,kYT:()=>Ei,kcU:()=>kg,lG2:()=>fr,lcZ:()=>gI,lqb:()=>L,lri:()=>Fm,mCW:()=>Nl,n5z:()=>jA,n_E:()=>B1,oAB:()=>ni,oxw:()=>LC,pB0:()=>sv,q3G:()=>m,q4F:()=>hA,qLn:()=>fl,qOj:()=>jT,qZA:()=>MC,qzn:()=>ah,rWj:()=>LI,s9C:()=>PC,sBO:()=>xN,sIi:()=>H_,s_b:()=>M1,soG:()=>$v,tb:()=>Ic,tp0:()=>ll,uIk:()=>bv,uOi:()=>ge,vHH:()=>yt,vpe:()=>gf,wAp:()=>bi,xi3:()=>ac,xp6:()=>$O,ynx:()=>kC,z2F:()=>ex,z3N:()=>rc,zSh:()=>dv,zs3:()=>Am});var s=re(7579),ze=re(727),oe=re(9751),rt=re(6451),lt=re(3099);function vt(l){for(let c in l)if(l[c]===vt)return c;throw Error("Could not find renamed property on target object.")}function Ke(l,c){for(const d in c)c.hasOwnProperty(d)&&!l.hasOwnProperty(d)&&(l[d]=c[d])}function Tt(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(Tt).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const c=l.toString();if(null==c)return""+c;const d=c.indexOf("\n");return-1===d?c:c.substring(0,d)}function ut(l,c){return null==l||""===l?null===c?"":c:null==c||""===c?l:l+" "+c}const Ee=vt({__forward_ref__:vt});function De(l){return l.__forward_ref__=De,l.toString=function(){return Tt(this())},l}function je(l){return hn(l)?l():l}function hn(l){return"function"==typeof l&&l.hasOwnProperty(Ee)&&l.__forward_ref__===De}function Qt(l){return l&&!!l.\u0275providers}const Nn="https://g.co/ng/security#xss";class yt extends Error{constructor(c,d){super(function Ut(l,c){return`NG0${Math.abs(l)}${c?": "+c.trim():""}`}(c,d)),this.code=c}}function St(l){return"string"==typeof l?l:null==l?"":String(l)}function Tn(l,c){throw new yt(-201,!1)}function Fr(l,c){null==l&&function hi(l,c,d,A){throw new Error(`ASSERTION ERROR: ${l}`+(null==A?"":` [Expected=> ${d} ${A} ${c} <=Actual]`))}(c,l,null,"!=")}function cr(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}const Zl=cr;function xl(l){return{providers:l.providers||[],imports:l.imports||[]}}function El(l){return rs(l,Sl)||rs(l,Mr)}function uu(l){return null!==El(l)}function rs(l,c){return l.hasOwnProperty(c)?l[c]:null}function Ps(l){return l&&(l.hasOwnProperty(Zt)||l.hasOwnProperty(Us))?l[Zt]:null}const Sl=vt({\u0275prov:vt}),Zt=vt({\u0275inj:vt}),Mr=vt({ngInjectableDef:vt}),Us=vt({ngInjectorDef:vt});var Wn=(()=>((Wn=Wn||{})[Wn.Default=0]="Default",Wn[Wn.Host=1]="Host",Wn[Wn.Self=2]="Self",Wn[Wn.SkipSelf=4]="SkipSelf",Wn[Wn.Optional=8]="Optional",Wn))();let dc;function Kr(l){const c=dc;return dc=l,c}function hc(l,c,d){const A=El(l);return A&&"root"==A.providedIn?void 0===A.value?A.value=A.factory():A.value:d&Wn.Optional?null:void 0!==c?c:void Tn(Tt(l))}const si=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ai={},Oi="__NG_DI_FLAG__",Qs="ngTempTokenPath",Wo=/\n/gm,du="__source";let Vi;function po(l){const c=Vi;return Vi=l,c}function Jo(l,c=Wn.Default){if(void 0===Vi)throw new yt(-203,!1);return null===Vi?hc(l,void 0,c):Vi.get(l,c&Wn.Optional?null:void 0,c)}function kr(l,c=Wn.Default){return(function Qc(){return dc}()||Jo)(je(l),c)}function ha(l,c=Wn.Default){return kr(l,Aa(c))}function Aa(l){return typeof l>"u"||"number"==typeof l?l:0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)}function rl(l){const c=[];for(let d=0;d<l.length;d++){const A=je(l[d]);if(Array.isArray(A)){if(0===A.length)throw new yt(900,!1);let p,v=Wn.Default;for(let T=0;T<A.length;T++){const R=A[T],P=fa(R);"number"==typeof P?-1===P?p=R.token:v|=P:p=R}c.push(kr(p,v))}else c.push(kr(A))}return c}function Is(l,c){return l[Oi]=c,l.prototype[Oi]=c,l}function fa(l){return l[Oi]}function Me(l){return{toString:l}.toString()}var wt=(()=>((wt=wt||{})[wt.OnPush=0]="OnPush",wt[wt.Default=1]="Default",wt))(),Vn=(()=>{return(l=Vn||(Vn={}))[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",Vn;var l})();const wi={},fi=[],es=vt({\u0275cmp:vt}),Hs=vt({\u0275dir:vt}),Gi=vt({\u0275pipe:vt}),no=vt({\u0275mod:vt}),mo=vt({\u0275fac:vt}),pa=vt({__NG_ELEMENT_ID__:vt});let Ju=0;function mt(l){return Me(()=>{const d=!0===l.standalone,A={},p={type:l.type,providersResolver:null,decls:l.decls,vars:l.vars,factory:null,template:l.template||null,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:A,inputs:null,outputs:null,exportAs:l.exportAs||null,onPush:l.changeDetection===wt.OnPush,directiveDefs:null,pipeDefs:null,standalone:d,dependencies:d&&l.dependencies||null,getStandaloneInjector:null,selectors:l.selectors||fi,viewQuery:l.viewQuery||null,features:l.features||null,data:l.data||{},encapsulation:l.encapsulation||Vn.Emulated,id:"c"+Ju++,styles:l.styles||fi,_:null,setInput:null,schemas:l.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},v=l.dependencies,T=l.features;return p.inputs=br(l.inputs,A),p.outputs=br(l.outputs),T&&T.forEach(R=>R(p)),p.directiveDefs=v?()=>("function"==typeof v?v():v).map($t).filter($n):null,p.pipeDefs=v?()=>("function"==typeof v?v():v).map($r).filter($n):null,p})}function $t(l){return mi(l)||Rr(l)}function $n(l){return null!==l}function ni(l){return Me(()=>({type:l.type,bootstrap:l.bootstrap||fi,declarations:l.declarations||fi,imports:l.imports||fi,exports:l.exports||fi,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null}))}function Ei(l,c){return Me(()=>{const d=Oo(l,!0);d.declarations=c.declarations||fi,d.imports=c.imports||fi,d.exports=c.exports||fi})}function br(l,c){if(null==l)return wi;const d={};for(const A in l)if(l.hasOwnProperty(A)){let p=l[A],v=p;Array.isArray(p)&&(v=p[1],p=p[0]),d[p]=A,c&&(c[p]=v)}return d}const fr=mt;function _s(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,standalone:!0===l.standalone,onDestroy:l.type.prototype.ngOnDestroy||null}}function mi(l){return l[es]||null}function Rr(l){return l[Hs]||null}function $r(l){return l[Gi]||null}function Od(l){const c=mi(l)||Rr(l)||$r(l);return null!==c&&c.standalone}function Oo(l,c){const d=l[no]||null;if(!d&&!0===c)throw new Error(`Type ${Tt(l)} does not have '\u0275mod' property.`);return d}function ur(l){return Array.isArray(l)&&"object"==typeof l[1]}function Bl(l){return Array.isArray(l)&&!0===l[1]}function Ih(l){return 0!=(4&l.flags)}function Dh(l){return l.componentOffset>-1}function TA(l){return 1==(1&l.flags)}function Vs(l){return null!==l.template}function s_(l){return 0!=(256&l[2])}function ta(l,c){return l.hasOwnProperty(mo)?l[mo]:null}class Hd{constructor(c,d,A){this.previousValue=c,this.currentValue=d,this.firstChange=A}isFirstChange(){return this.firstChange}}function fu(){return MA}function MA(l){return l.type.prototype.ngOnChanges&&(l.setInput=Wl),Bh}function Bh(){const l=kA(this),c=l?.current;if(c){const d=l.previous;if(d===wi)l.previous=c;else for(let A in c)d[A]=c[A];l.current=null,this.ngOnChanges(c)}}function Wl(l,c,d,A){const p=this.declaredInputs[d],v=kA(l)||function Ac(l,c){return l[Gf]=c}(l,{previous:wi,current:null}),T=v.current||(v.current={}),R=v.previous,P=R[p];T[p]=new Hd(P&&P.currentValue,c,R===wi),l[A]=c}fu.ngInherit=!0;const Gf="__ngSimpleChanges__";function kA(l){return l[Gf]||null}function _o(l){for(;Array.isArray(l);)l=l[0];return l}function Gd(l,c){return _o(c[l])}function yo(l,c){return _o(c[l.index])}function OA(l,c){return l.data[c]}function na(l,c){return l[c]}function Ts(l,c){const d=c[l];return ur(d)?d:d[0]}function yu(l){return 64==(64&l[2])}function $i(l,c){return null==c?null:l[c]}function Eg(l){l[18]=0}function Jl(l,c){l[5]+=c;let d=l,A=l[3];for(;null!==A&&(1===c&&1===d[5]||-1===c&&0===d[5]);)A[5]+=c,d=A,A=A[3]}const Si={lFrame:Bg(null),bindingsEnabled:!0};function jf(){return Si.bindingsEnabled}function Rt(){return Si.lFrame.lView}function Ki(){return Si.lFrame.tView}function Dr(l){return Si.lFrame.contextLView=l,l[8]}function Ig(l){return Si.lFrame.contextLView=null,l}function Bs(){let l=Mh();for(;null!==l&&64===l.type;)l=l.parent;return l}function Mh(){return Si.lFrame.currentTNode}function Gs(l,c){const d=Si.lFrame;d.currentTNode=l,d.isParent=c}function Fl(){return Si.lFrame.isParent}function kh(){Si.lFrame.isParent=!1}function zr(){const l=Si.lFrame;let c=l.bindingRootIndex;return-1===c&&(c=l.bindingRootIndex=l.tView.bindingStartIndex),c}function ss(){return Si.lFrame.bindingIndex++}function Xl(l){const c=Si.lFrame,d=c.bindingIndex;return c.bindingIndex=c.bindingIndex+l,d}function pc(l,c){const d=Si.lFrame;d.bindingIndex=d.bindingRootIndex=l,vu(c)}function vu(l){Si.lFrame.currentDirectiveIndex=l}function jc(l){const c=Si.lFrame.currentDirectiveIndex;return-1===c?null:l[c]}function rd(){return Si.lFrame.currentQueryIndex}function zc(l){Si.lFrame.currentQueryIndex=l}function Tg(l){const c=l[1];return 2===c.type?c.declTNode:1===c.type?l[6]:null}function Ra(l,c,d){if(d&Wn.SkipSelf){let p=c,v=l;for(;!(p=p.parent,null!==p||d&Wn.Host||(p=Tg(v),null===p||(v=v[15],10&p.type))););if(null===p)return!1;c=p,l=v}const A=Si.lFrame=Rh();return A.currentTNode=c,A.lView=l,!0}function qf(l){const c=Rh(),d=l[1];Si.lFrame=c,c.currentTNode=d.firstChild,c.lView=l,c.tView=d,c.contextLView=l,c.bindingIndex=d.bindingStartIndex,c.inI18n=!1}function Rh(){const l=Si.lFrame,c=null===l?null:l.child;return null===c?Bg(l):c}function Bg(l){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=c),c}function wu(){const l=Si.lFrame;return Si.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const Fg=wu;function sd(){const l=wu();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function ia(){return Si.lFrame.selectedIndex}function Oa(l){Si.lFrame.selectedIndex=l}function Lr(){const l=Si.lFrame;return OA(l.tView,l.selectedIndex)}function PA(){Si.lFrame.currentNamespace="svg"}function kg(){!function Lh(){Si.lFrame.currentNamespace=null}()}function bu(l,c){for(let d=c.directiveStart,A=c.directiveEnd;d<A;d++){const v=l.data[d].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:R,ngAfterViewInit:P,ngAfterViewChecked:j,ngOnDestroy:ee}=v;T&&(l.contentHooks||(l.contentHooks=[])).push(-d,T),R&&((l.contentHooks||(l.contentHooks=[])).push(d,R),(l.contentCheckHooks||(l.contentCheckHooks=[])).push(d,R)),P&&(l.viewHooks||(l.viewHooks=[])).push(-d,P),j&&((l.viewHooks||(l.viewHooks=[])).push(d,j),(l.viewCheckHooks||(l.viewCheckHooks=[])).push(d,j)),null!=ee&&(l.destroyHooks||(l.destroyHooks=[])).push(d,ee)}}function jd(l,c,d){ld(l,c,3,d)}function gc(l,c,d,A){(3&l[2])===d&&ld(l,c,d,A)}function ad(l,c){let d=l[2];(3&d)===c&&(d&=2047,d+=1,l[2]=d)}function ld(l,c,d,A){const v=A??-1,T=c.length-1;let R=0;for(let P=void 0!==A?65535&l[18]:0;P<T;P++)if("number"==typeof c[P+1]){if(R=c[P],null!=A&&R>=A)break}else c[P]<0&&(l[18]+=65536),(R<v||-1==v)&&(Og(l,d,c,P),l[18]=(4294901760&l[18])+P+2),P++}function Og(l,c,d,A){const p=d[A]<0,v=d[A+1],R=l[p?-d[A]:d[A]];if(p){if(l[2]>>11<l[18]>>16&&(3&l[2])===c){l[2]+=2048;try{v.call(R)}finally{}}}else try{v.call(R)}finally{}}class zd{constructor(c,d,A){this.factory=c,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=A}}function ga(l,c,d){let A=0;for(;A<d.length;){const p=d[A];if("number"==typeof p){if(0!==p)break;A++;const v=d[A++],T=d[A++],R=d[A++];l.setAttribute(c,T,R,v)}else{const v=p,T=d[++A];c_(v)?l.setProperty(c,v,T):l.setAttribute(c,v,T),A++}}return A}function Nh(l){return 3===l||4===l||6===l}function c_(l){return 64===l.charCodeAt(0)}function xu(l,c){if(null!==c&&0!==c.length)if(null===l||0===l.length)l=c.slice();else{let d=-1;for(let A=0;A<c.length;A++){const p=c[A];"number"==typeof p?d=p:0===d||QA(l,d,p,null,-1===d||2===d?c[++A]:null)}}return l}function QA(l,c,d,A,p){let v=0,T=l.length;if(-1===c)T=-1;else for(;v<l.length;){const R=l[v++];if("number"==typeof R){if(R===c){T=-1;break}if(R>c){T=v-1;break}}}for(;v<l.length;){const R=l[v];if("number"==typeof R)break;if(R===d){if(null===A)return void(null!==p&&(l[v+1]=p));if(A===l[v+1])return void(l[v+2]=p)}v++,null!==A&&v++,null!==p&&v++}-1!==T&&(l.splice(T,0,c),v=T+1),l.splice(v++,0,d),null!==A&&l.splice(v++,0,A),null!==p&&l.splice(v++,0,p)}function qd(l){return-1!==l}function ud(l){return 32767&l}function Ph(l,c){let d=function u_(l){return l>>16}(l),A=c;for(;d>0;)A=A[15],d--;return A}let $f=!0;function Kd(l){const c=$f;return $f=l,c}let sw=0;const Na={};function qc(l,c){const d=d_(l,c);if(-1!==d)return d;const A=c[1];A.firstCreatePass&&(l.injectorIndex=c.length,Zd(A.data,l),Zd(c,null),Zd(A.blueprint,null));const p=Uh(l,c),v=l.injectorIndex;if(qd(p)){const T=ud(p),R=Ph(p,c),P=R[1].data;for(let j=0;j<8;j++)c[v+j]=R[T+j]|P[T+j]}return c[v+8]=p,v}function Zd(l,c){l.push(0,0,0,0,0,0,0,0,c)}function d_(l,c){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===c[l.injectorIndex+8]?-1:l.injectorIndex}function Uh(l,c){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let d=0,A=null,p=c;for(;null!==p;){if(A=Xf(p),null===A)return-1;if(d++,p=p[15],-1!==A.injectorIndex)return A.injectorIndex|d<<16}return-1}function os(l,c,d){!function Ug(l,c,d){let A;"string"==typeof d?A=d.charCodeAt(0)||0:d.hasOwnProperty(pa)&&(A=d[pa]),null==A&&(A=d[pa]=sw++);const p=255&A;c.data[l+(p>>5)]|=1<<p}(l,c,d)}function Po(l,c,d){if(d&Wn.Optional||void 0!==l)return l;Tn()}function Wf(l,c,d,A){if(d&Wn.Optional&&void 0===A&&(A=null),0==(d&(Wn.Self|Wn.Host))){const p=l[9],v=Kr(void 0);try{return p?p.get(c,A,d&Wn.Optional):hc(c,A,d&Wn.Optional)}finally{Kr(v)}}return Po(A,0,d)}function $d(l,c,d,A=Wn.Default,p){if(null!==l){if(1024&c[2]){const T=function Wy(l,c,d,A,p){let v=l,T=c;for(;null!==v&&null!==T&&1024&T[2]&&!(256&T[2]);){const R=Qh(v,T,d,A|Wn.Self,Na);if(R!==Na)return R;let P=v.parent;if(!P){const j=T[21];if(j){const ee=j.get(d,Na,A);if(ee!==Na)return ee}P=Xf(T),T=T[15]}v=P}return p}(l,c,d,A,Na);if(T!==Na)return T}const v=Qh(l,c,d,A,Na);if(v!==Na)return v}return Wf(c,d,A,p)}function Qh(l,c,d,A,p){const v=function Jf(l){if("string"==typeof l)return l.charCodeAt(0)||0;const c=l.hasOwnProperty(pa)?l[pa]:void 0;return"number"==typeof c?c>=0?255&c:GA:c}(d);if("function"==typeof v){if(!Ra(c,l,A))return A&Wn.Host?Po(p,0,A):Wf(c,d,A,p);try{const T=v(A);if(null!=T||A&Wn.Optional)return T;Tn()}finally{Fg()}}else if("number"==typeof v){let T=null,R=d_(l,c),P=-1,j=A&Wn.Host?c[16][6]:null;for((-1===R||A&Wn.SkipSelf)&&(P=-1===R?Uh(l,c):c[R+8],-1!==P&&VA(A,!1)?(T=c[1],R=ud(P),c=Ph(P,c)):R=-1);-1!==R;){const ee=c[1];if(h_(v,R,ee.data)){const fe=HA(R,c,d,T,A,j);if(fe!==Na)return fe}P=c[R+8],-1!==P&&VA(A,c[1].data[R+8]===j)&&h_(v,R,c)?(T=ee,R=ud(P),c=Ph(P,c)):R=-1}}return p}function HA(l,c,d,A,p,v){const T=c[1],R=T.data[l+8],ee=ec(R,T,d,null==A?Dh(R)&&$f:A!=T&&0!=(3&R.type),p&Wn.Host&&v===R);return null!==ee?Yd(c,T,ee,R):Na}function ec(l,c,d,A,p){const v=l.providerIndexes,T=c.data,R=1048575&v,P=l.directiveStart,ee=v>>20,ke=p?R+ee:l.directiveEnd;for(let tt=A?R:R+ee;tt<ke;tt++){const kt=T[tt];if(tt<P&&d===kt||tt>=P&&kt.type===d)return tt}if(p){const tt=T[P];if(tt&&Vs(tt)&&tt.type===d)return P}return null}function Yd(l,c,d,A){let p=l[d];const v=c.data;if(function ol(l){return l instanceof zd}(p)){const T=p;T.resolving&&function Jt(l,c){const d=c?`. Dependency path: ${c.join(" > ")} > ${l}`:"";throw new yt(-200,`Circular dependency in DI detected for ${l}${d}`)}(function qt(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():St(l)}(v[d]));const R=Kd(T.canSeeViewProviders);T.resolving=!0;const P=T.injectImpl?Kr(T.injectImpl):null;Ra(l,A,Wn.Default);try{p=l[d]=T.factory(void 0,v,l,A),c.firstCreatePass&&d>=A.directiveStart&&function Rg(l,c,d){const{ngOnChanges:A,ngOnInit:p,ngDoCheck:v}=c.type.prototype;if(A){const T=MA(c);(d.preOrderHooks||(d.preOrderHooks=[])).push(l,T),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(l,T)}p&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-l,p),v&&((d.preOrderHooks||(d.preOrderHooks=[])).push(l,v),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(l,v))}(d,v[d],c)}finally{null!==P&&Kr(P),Kd(R),T.resolving=!1,Fg()}}return p}function h_(l,c,d){return!!(d[c+(l>>5)]&1<<l)}function VA(l,c){return!(l&Wn.Self||l&Wn.Host&&c)}class Wd{constructor(c,d){this._tNode=c,this._lView=d}get(c,d,A){return $d(this._tNode,this._lView,c,Aa(A),d)}}function GA(){return new Wd(Bs(),Rt())}function jA(l){return Me(()=>{const c=l.prototype.constructor,d=c[mo]||Kc(c),A=Object.prototype;let p=Object.getPrototypeOf(l.prototype).constructor;for(;p&&p!==A;){const v=p[mo]||Kc(p);if(v&&v!==d)return v;p=Object.getPrototypeOf(p)}return v=>new v})}function Kc(l){return hn(l)?()=>{const c=Kc(je(l));return c&&c()}:ta(l)}function Xf(l){const c=l[1],d=c.type;return 2===d?c.declTNode:1===d?l[6]:null}function ma(l){return function Yy(l,c){if("class"===c)return l.classes;if("style"===c)return l.styles;const d=l.attrs;if(d){const A=d.length;let p=0;for(;p<A;){const v=d[p];if(Nh(v))break;if(0===v)p+=2;else if("number"==typeof v)for(p++;p<A&&"string"==typeof d[p];)p++;else{if(v===c)return d[p+1];p+=2}}}return null}(Bs(),l)}const ts="__parameters__";function Eu(l,c,d){return Me(()=>{const A=function zA(l){return function(...d){if(l){const A=l(...d);for(const p in A)this[p]=A[p]}}}(c);function p(...v){if(this instanceof p)return A.apply(this,v),this;const T=new p(...v);return R.annotation=T,R;function R(P,j,ee){const fe=P.hasOwnProperty(ts)?P[ts]:Object.defineProperty(P,ts,{value:[]})[ts];for(;fe.length<=ee;)fe.push(null);return(fe[ee]=fe[ee]||[]).push(T),P}}return d&&(p.prototype=Object.create(d.prototype)),p.prototype.ngMetadataName=l,p.annotationCls=p,p})}class qr{constructor(c,d){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=cr({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Gn(l,c){void 0===c&&(c=l);for(let d=0;d<l.length;d++){let A=l[d];Array.isArray(A)?(c===l&&(c=l.slice(0,d)),Gn(A,c)):c!==l&&c.push(A)}return c}function Pa(l,c){l.forEach(d=>Array.isArray(d)?Pa(d,c):c(d))}function An(l,c,d){c>=l.length?l.push(d):l.splice(c,0,d)}function tn(l,c){return c>=l.length-1?l.pop():l.splice(c,1)[0]}function pr(l,c){const d=[];for(let A=0;A<l;A++)d.push(c);return d}function Ua(l,c,d){let A=ra(l,c);return A>=0?l[1|A]=d:(A=~A,function mr(l,c,d,A){let p=l.length;if(p==c)l.push(d,A);else if(1===p)l.push(A,l[0]),l[0]=d;else{for(p--,l.push(l[p-1],l[p]);p>c;)l[p]=l[p-2],p--;l[c]=d,l[c+1]=A}}(l,A,c,d)),A}function jh(l,c){const d=ra(l,c);if(d>=0)return l[1|d]}function ra(l,c){return function on(l,c,d){let A=0,p=l.length>>d;for(;p!==A;){const v=A+(p-A>>1),T=l[v<<d];if(c===T)return v<<d;T>c?p=v:A=v+1}return~(p<<d)}(l,c,1)}const Tu=Is(Eu("Optional"),8),ll=Is(Eu("SkipSelf"),4);var so=(()=>((so=so||{})[so.Important=1]="Important",so[so.DashCase=2]="DashCase",so))();const Ie=new Map;let qe=0;const ul="__ngContext__";function Zs(l,c){ur(c)?(l[ul]=c[20],function mn(l){Ie.set(l[20],l)}(c)):l[ul]=c}function lp(l,c){return undefined(l,c)}function cp(l){const c=l[3];return Bl(c)?c[3]:c}function x_(l){return $A(l[13])}function Kg(l){return $A(l[4])}function $A(l){for(;null!==l&&!Bl(l);)l=l[4];return l}function gd(l,c,d,A,p){if(null!=A){let v,T=!1;Bl(A)?v=A:ur(A)&&(T=!0,A=A[0]);const R=_o(A);0===l&&null!==d?null==p?Ap(c,d,R):wc(c,d,R,p||null,!0):1===l&&null!==d?wc(c,d,R,p||null,!0):2===l?function Fs(l,c,d){const A=sh(l,c);A&&function dw(l,c,d,A){l.removeChild(c,d,A)}(l,A,c,d)}(c,R,T):3===l&&c.destroyNode(R),null!=v&&function ef(l,c,d,A,p){const v=d[7];v!==_o(d)&&gd(c,l,A,v,p);for(let R=10;R<d.length;R++){const P=d[R];Ru(P[1],P,l,c,A,v)}}(c,l,v,d,p)}}function Yg(l,c,d){return l.createElement(c,d)}function Yh(l,c){const d=l[9],A=d.indexOf(c),p=c[3];512&c[2]&&(c[2]&=-513,Jl(p,-1)),d.splice(A,1)}function Wh(l,c){if(l.length<=10)return;const d=10+c,A=l[d];if(A){const p=A[17];null!==p&&p!==l&&Yh(p,A),c>0&&(l[d-1][4]=A[4]);const v=tn(l,10+c);!function E_(l,c){Ru(l,c,c[11],2,null,null),c[0]=null,c[6]=null}(A[1],A);const T=v[19];null!==T&&T.detachView(v[1]),A[3]=null,A[4]=null,A[2]&=-65}return A}function rh(l,c){if(!(128&c[2])){const d=c[11];d.destroyNode&&Ru(l,c,d,3,null,null),function YA(l){let c=l[13];if(!c)return Wg(l[1],l);for(;c;){let d=null;if(ur(c))d=c[13];else{const A=c[10];A&&(d=A)}if(!d){for(;c&&!c[4]&&c!==l;)ur(c)&&Wg(c[1],c),c=c[3];null===c&&(c=l),ur(c)&&Wg(c[1],c),d=c&&c[4]}c=d}}(c)}}function Wg(l,c){if(!(128&c[2])){c[2]&=-65,c[2]|=128,function S_(l,c){let d;if(null!=l&&null!=(d=l.destroyHooks))for(let A=0;A<d.length;A+=2){const p=c[d[A]];if(!(p instanceof zd)){const v=d[A+1];if(Array.isArray(v))for(let T=0;T<v.length;T+=2){const R=p[v[T]],P=v[T+1];try{P.call(R)}finally{}}else try{v.call(p)}finally{}}}}(l,c),function uw(l,c){const d=l.cleanup,A=c[7];let p=-1;if(null!==d)for(let v=0;v<d.length-1;v+=2)if("string"==typeof d[v]){const T=d[v+3];T>=0?A[p=T]():A[p=-T].unsubscribe(),v+=2}else{const T=A[p=d[v+1]];d[v].call(T)}if(null!==A){for(let v=p+1;v<A.length;v++)(0,A[v])();c[7]=null}}(l,c),1===c[1].type&&c[11].destroy();const d=c[17];if(null!==d&&Bl(c[3])){d!==c[3]&&Yh(d,c);const A=c[19];null!==A&&A.detachView(l)}!function Bn(l){Ie.delete(l[20])}(c)}}function Jg(l,c,d){return function hp(l,c,d){let A=c;for(;null!==A&&40&A.type;)A=(c=A).parent;if(null===A)return d[0];{const{componentOffset:p}=A;if(p>-1){const{encapsulation:v}=l.data[A.directiveStart+p];if(v===Vn.None||v===Vn.Emulated)return null}return yo(A,d)}}(l,c.parent,d)}function wc(l,c,d,A,p){l.insertBefore(c,d,A,p)}function Ap(l,c,d){l.appendChild(c,d)}function fp(l,c,d,A,p){null!==A?wc(l,c,d,A,p):Ap(l,c,d)}function sh(l,c){return l.parentNode(c)}function Xh(l,c,d){return eA(l,c,d)}let Ou,gp,rA,eA=function md(l,c,d){return 40&l.type?yo(l,d):null};function JA(l,c,d,A){const p=Jg(l,A,c),v=c[11],R=Xh(A.parent||c[6],A,c);if(null!=p)if(Array.isArray(d))for(let P=0;P<d.length;P++)fp(v,p,d[P],R,!1);else fp(v,p,d,R,!1)}function Xg(l,c){if(null!==c){const d=c.type;if(3&d)return yo(c,l);if(4&d)return XA(-1,l[c.index]);if(8&d){const A=c.child;if(null!==A)return Xg(l,A);{const p=l[c.index];return Bl(p)?XA(-1,p):_o(p)}}if(32&d)return lp(c,l)()||_o(l[c.index]);{const A=tA(l,c);return null!==A?Array.isArray(A)?A[0]:Xg(cp(l[16]),A):Xg(l,c.next)}}return null}function tA(l,c){return null!==c?l[16][6].projection[c.projection]:null}function XA(l,c){const d=10+l+1;if(d<c.length){const A=c[d],p=A[1].firstChild;if(null!==p)return Xg(A,p)}return c[7]}function _d(l,c,d,A,p,v,T){for(;null!=d;){const R=A[d.index],P=d.type;if(T&&0===c&&(R&&Zs(_o(R),A),d.flags|=2),32!=(32&d.flags))if(8&P)_d(l,c,d.child,A,p,v,!1),gd(c,l,p,R,v);else if(32&P){const j=lp(d,A);let ee;for(;ee=j();)gd(c,l,p,ee,v);gd(c,l,p,R,v)}else 16&P?yd(l,c,A,d,p,v):gd(c,l,p,R,v);d=T?d.projectionNext:d.next}}function Ru(l,c,d,A,p,v){_d(d,A,l.firstChild,c,p,v,!1)}function yd(l,c,d,A,p,v){const T=d[16],P=T[6].projection[A.projection];if(Array.isArray(P))for(let j=0;j<P.length;j++)gd(c,l,p,P[j],v);else _d(l,c,P,T[3],p,v,!0)}function em(l,c,d){""===d?l.removeAttribute(c,"class"):l.setAttribute(c,"class",d)}function nA(l,c,d){const{mergedAttrs:A,classes:p,styles:v}=d;null!==A&&ga(l,c,A),null!==p&&em(l,c,p),null!==v&&function nv(l,c,d){l.setAttribute(c,"style",d)}(l,c,v)}function ic(l){return function dl(){if(void 0===Ou&&(Ou=null,si.trustedTypes))try{Ou=si.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return Ou}()?.createHTML(l)||l}function hw(l){gp=l}function yp(l){return function _p(){if(void 0===rA&&(rA=null,si.trustedTypes))try{rA=si.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return rA}()?.createScriptURL(l)||l}class oA{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Nn})`}}class aA extends oA{getTypeName(){return"HTML"}}class D_ extends oA{getTypeName(){return"Style"}}class iv extends oA{getTypeName(){return"Script"}}class nm extends oA{getTypeName(){return"URL"}}class im extends oA{getTypeName(){return"ResourceURL"}}function rc(l){return l instanceof oA?l.changingThisBreaksApplicationSecurity:l}function ah(l,c){const d=function rv(l){return l instanceof oA&&l.getTypeName()||null}(l);if(null!=d&&d!==c){if("ResourceURL"===d&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${d} (see ${Nn})`)}return d===c}function T_(l){return new aA(l)}function nf(l){return new D_(l)}function ja(l){return new iv(l)}function vd(l){return new nm(l)}function sv(l){return new im(l)}class vp{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const d=(new window.DOMParser).parseFromString(ic(c),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(c):(d.removeChild(d.firstChild),d)}catch{return null}}}class bn{constructor(c){if(this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const A=this.inertDocument.createElement("body");d.appendChild(A)}}getInertBodyElement(c){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=ic(c),d;const A=this.inertDocument.createElement("body");return A.innerHTML=ic(c),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(A),A}stripCustomNsAttrs(c){const d=c.attributes;for(let p=d.length-1;0<p;p--){const T=d.item(p).name;("xmlns:ns1"===T||0===T.indexOf("ns1:"))&&c.removeAttribute(T)}let A=c.firstChild;for(;A;)A.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(A),A=A.nextSibling}}const sm=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Nl(l){return(l=String(l)).match(sm)?l:"unsafe:"+l}function hl(l){const c={};for(const d of l.split(","))c[d]=!0;return c}function Xi(...l){const c={};for(const d of l)for(const A in d)d.hasOwnProperty(A)&&(c[A]=!0);return c}const fs=hl("area,br,col,hr,img,wbr"),bp=hl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ov=hl("rp,rt"),wd=Xi(fs,Xi(bp,hl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xi(ov,hl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xi(ov,bp)),B_=hl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lA=Xi(B_,hl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),hl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),av=hl("script,style,template");class lv{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let d=c.firstChild,A=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?A=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,A&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let p=this.checkClobberedElement(d,d.nextSibling);if(p){d=p;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(c){const d=c.nodeName.toLowerCase();if(!wd.hasOwnProperty(d))return this.sanitizedSomething=!0,!av.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const A=c.attributes;for(let p=0;p<A.length;p++){const v=A.item(p),T=v.name,R=T.toLowerCase();if(!lA.hasOwnProperty(R)){this.sanitizedSomething=!0;continue}let P=v.value;B_[R]&&(P=Nl(P)),this.buf.push(" ",T,'="',F_(P),'"')}return this.buf.push(">"),!0}endElement(c){const d=c.nodeName.toLowerCase();wd.hasOwnProperty(d)&&!fs.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(c){this.buf.push(F_(c))}checkClobberedElement(c,d){if(d&&(c.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return d}}const Cd=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cA=/([^\#-~ |!])/g;function F_(l){return l.replace(/&/g,"&amp;").replace(Cd,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(cA,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let om;function uA(l,c){let d=null;try{om=om||function rm(l){const c=new bn(l);return function wp(){try{return!!(new window.DOMParser).parseFromString(ic(""),"text/html")}catch{return!1}}()?new vp(c):c}(l);let A=c?String(c):"";d=om.getInertBodyElement(A);let p=5,v=A;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,A=v,v=d.innerHTML,d=om.getInertBodyElement(A)}while(A!==v);return ic((new lv).sanitizeChildren(x(d)||d))}finally{if(d){const A=x(d)||d;for(;A.firstChild;)A.removeChild(A.firstChild)}}}function x(l){return"content"in l&&function g(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var m=(()=>((m=m||{})[m.NONE=0]="NONE",m[m.HTML=1]="HTML",m[m.STYLE=2]="STYLE",m[m.SCRIPT=3]="SCRIPT",m[m.URL=4]="URL",m[m.RESOURCE_URL=5]="RESOURCE_URL",m))();function z(l){const c=xc();return c?c.sanitize(m.URL,l)||"":ah(l,"URL")?rc(l):Nl(St(l))}function ge(l){const c=xc();if(c)return yp(c.sanitize(m.RESOURCE_URL,l)||"");if(ah(l,"ResourceURL"))return yp(rc(l));throw new yt(904,!1)}function fn(l,c,d){return function nn(l,c){return"src"===c&&("embed"===l||"frame"===l||"iframe"===l||"media"===l||"script"===l)||"href"===c&&("base"===l||"link"===l)?ge:z}(c,d)(l)}function xc(){const l=Rt();return l&&l[12]}const af=new qr("ENVIRONMENT_INITIALIZER"),xp=new qr("INJECTOR",-1),M_=new qr("INJECTOR_DEF_TYPES");class am{get(c,d=Ai){if(d===Ai){const A=new Error(`NullInjectorError: No provider for ${Tt(c)}!`);throw A.name="NullInjectorError",A}return d}}function k_(l){return{\u0275providers:l}}function cv(...l){return{\u0275providers:lm(0,l),\u0275fromNgModule:!0}}function lm(l,...c){const d=[],A=new Set;let p;return Pa(c,v=>{const T=v;lf(T,d,[],A)&&(p||(p=[]),p.push(T))}),void 0!==p&&cm(p,d),d}function cm(l,c){for(let d=0;d<l.length;d++){const{providers:p}=l[d];dA(p,v=>{c.push(v)})}}function lf(l,c,d,A){if(!(l=je(l)))return!1;let p=null,v=Ps(l);const T=!v&&mi(l);if(v||T){if(T&&!T.standalone)return!1;p=l}else{const P=l.ngModule;if(v=Ps(P),!v)return!1;p=P}const R=A.has(p);if(T){if(R)return!1;if(A.add(p),T.dependencies){const P="function"==typeof T.dependencies?T.dependencies():T.dependencies;for(const j of P)lf(j,c,d,A)}}else{if(!v)return!1;{if(null!=v.imports&&!R){let j;A.add(p);try{Pa(v.imports,ee=>{lf(ee,c,d,A)&&(j||(j=[]),j.push(ee))})}finally{}void 0!==j&&cm(j,c)}if(!R){const j=ta(p)||(()=>new p);c.push({provide:p,useFactory:j,deps:fi},{provide:M_,useValue:p,multi:!0},{provide:af,useValue:()=>kr(p),multi:!0})}const P=v.providers;null==P||R||dA(P,ee=>{c.push(ee)})}}return p!==l&&void 0!==l.providers}function dA(l,c){for(let d of l)Qt(d)&&(d=d.\u0275providers),Array.isArray(d)?dA(d,c):c(d)}const um=vt({provide:String,useValue:vt});function fw(l){return null!==l&&"object"==typeof l&&um in l}function Ep(l){return"function"==typeof l}const dv=new qr("Set Injector scope."),b={},w={};let S;function E(){return void 0===S&&(S=new am),S}class L{}class G extends L{constructor(c,d,A,p){super(),this.parent=d,this.source=A,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ln(c,T=>this.processProvider(T)),this.records.set(xp,He(void 0,this)),p.has("environment")&&this.records.set(L,He(void 0,this));const v=this.records.get(dv);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(M_.multi,fi,Wn.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const d=po(this),A=Kr(void 0);try{return c()}finally{po(d),Kr(A)}}get(c,d=Ai,A=Wn.Default){this.assertNotDestroyed(),A=Aa(A);const p=po(this),v=Kr(void 0);try{if(!(A&Wn.SkipSelf)){let R=this.records.get(c);if(void 0===R){const P=function Ln(l){return"function"==typeof l||"object"==typeof l&&l instanceof qr}(c)&&El(c);R=P&&this.injectableDefInScope(P)?He(J(c),b):null,this.records.set(c,R)}if(null!=R)return this.hydrate(c,R)}return(A&Wn.Self?E():this.parent).get(c,d=A&Wn.Optional&&d===Ai?null:d)}catch(T){if("NullInjectorError"===T.name){if((T[Qs]=T[Qs]||[]).unshift(Tt(c)),p)throw T;return function Ce(l,c,d,A){const p=l[Qs];throw c[du]&&p.unshift(c[du]),l.message=function ve(l,c,d,A=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.slice(2):l;let p=Tt(c);if(Array.isArray(c))p=c.map(Tt).join(" -> ");else if("object"==typeof c){let v=[];for(let T in c)if(c.hasOwnProperty(T)){let R=c[T];v.push(T+":"+("string"==typeof R?JSON.stringify(R):Tt(R)))}p=`{${v.join(", ")}}`}return`${d}${A?"("+A+")":""}[${p}]: ${l.replace(Wo,"\n  ")}`}("\n"+l.message,p,d,A),l.ngTokenPath=p,l[Qs]=null,l}(T,c,"R3InjectorError",this.source)}throw T}finally{Kr(v),po(p)}}resolveInjectorInitializers(){const c=po(this),d=Kr(void 0);try{const A=this.get(af.multi,fi,Wn.Self);for(const p of A)p()}finally{po(c),Kr(d)}}toString(){const c=[],d=this.records;for(const A of d.keys())c.push(Tt(A));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new yt(205,!1)}processProvider(c){let d=Ep(c=je(c))?c:je(c&&c.provide);const A=function le(l){return fw(l)?He(void 0,l.useValue):He(Fe(l),b)}(c);if(Ep(c)||!0!==c.multi)this.records.get(d);else{let p=this.records.get(d);p||(p=He(void 0,b,!0),p.factory=()=>rl(p.multi),this.records.set(d,p)),d=c,p.multi.push(c)}this.records.set(d,A)}hydrate(c,d){return d.value===b&&(d.value=w,d.value=d.factory()),"object"==typeof d.value&&d.value&&function Dt(l){return null!==l&&"object"==typeof l&&"function"==typeof l.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(c){if(!c.providedIn)return!1;const d=je(c.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}}function J(l){const c=El(l),d=null!==c?c.factory:ta(l);if(null!==d)return d;if(l instanceof qr)throw new yt(204,!1);if(l instanceof Function)return function ce(l){const c=l.length;if(c>0)throw pr(c,"?"),new yt(204,!1);const d=function hs(l){const c=l&&(l[Sl]||l[Mr]);if(c){const d=function uc(l){if(l.hasOwnProperty("name"))return l.name;const c=(""+l).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(l);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),c}return null}(l);return null!==d?()=>d.factory(l):()=>new l}(l);throw new yt(204,!1)}function Fe(l,c,d){let A;if(Ep(l)){const p=je(l);return ta(p)||J(p)}if(fw(l))A=()=>je(l.useValue);else if(function mC(l){return!(!l||!l.useFactory)}(l))A=()=>l.useFactory(...rl(l.deps||[]));else if(function gC(l){return!(!l||!l.useExisting)}(l))A=()=>kr(je(l.useExisting));else{const p=je(l&&(l.useClass||l.provide));if(!function Je(l){return!!l.deps}(l))return ta(p)||J(p);A=()=>new p(...rl(l.deps))}return A}function He(l,c,d=!1){return{factory:l,value:c,multi:d?[]:void 0}}function ln(l,c){for(const d of l)Array.isArray(d)?ln(d,c):d&&Qt(d)?ln(d.\u0275providers,c):c(d)}class En{}class Zi{}class er{resolveComponentFactory(c){throw function ii(l){const c=Error(`No component factory found for ${Tt(l)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=l,c}(c)}}let gi=(()=>{class l{}return l.NULL=new er,l})();function Mn(){return dr(Bs(),Rt())}function dr(l,c){return new sr(yo(l,c))}let sr=(()=>{class l{constructor(d){this.nativeElement=d}}return l.__NG_ELEMENT_ID__=Mn,l})();function Bi(l){return l instanceof sr?l.nativeElement:l}class Vo{}let Ec=(()=>{class l{}return l.__NG_ELEMENT_ID__=()=>function Yc(){const l=Rt(),d=Ts(Bs().index,l);return(ur(d)?d:l)[11]}(),l})(),as=(()=>{class l{}return l.\u0275prov=cr({token:l,providedIn:"root",factory:()=>null}),l})();class za{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const hA=new za("15.0.2"),Al={};function Wc(l){return l.ngOriginalError}class fl{constructor(){this._console=console}handleError(c){const d=this._findOriginalError(c);this._console.error("ERROR",c),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(c){let d=c&&Wc(c);for(;d&&Wc(d);)d=Wc(d);return d||null}}function Tp(l){return l instanceof Function?l():l}function qE(l,c,d){let A=l.length;for(;;){const p=l.indexOf(c,d);if(-1===p)return p;if(0===p||l.charCodeAt(p-1)<=32){const v=c.length;if(p+v===A||l.charCodeAt(p+v)<=32)return p}d=p+1}}const CT="ng-template";function VO(l,c,d){let A=0;for(;A<l.length;){let p=l[A++];if(d&&"class"===p){if(p=l[A],-1!==qE(p.toLowerCase(),c,0))return!0}else if(1===p){for(;A<l.length&&"string"==typeof(p=l[A++]);)if(p.toLowerCase()===c)return!0;return!1}}return!1}function xT(l){return 4===l.type&&l.value!==CT}function GO(l,c,d){return c===(4!==l.type||d?l.value:CT)}function ET(l,c,d){let A=4;const p=l.attrs||[],v=function qO(l){for(let c=0;c<l.length;c++)if(Nh(l[c]))return c;return l.length}(p);let T=!1;for(let R=0;R<c.length;R++){const P=c[R];if("number"!=typeof P){if(!T)if(4&A){if(A=2|1&A,""!==P&&!GO(l,P,d)||""===P&&1===c.length){if(ls(A))return!1;T=!0}}else{const j=8&A?P:c[++R];if(8&A&&null!==l.attrs){if(!VO(l.attrs,j,d)){if(ls(A))return!1;T=!0}continue}const fe=jO(8&A?"class":P,p,xT(l),d);if(-1===fe){if(ls(A))return!1;T=!0;continue}if(""!==j){let ke;ke=fe>v?"":p[fe+1].toLowerCase();const tt=8&A?ke:null;if(tt&&-1!==qE(tt,j,0)||2&A&&j!==ke){if(ls(A))return!1;T=!0}}}}else{if(!T&&!ls(A)&&!ls(P))return!1;if(T&&ls(P))continue;T=!1,A=P|1&A}}return ls(A)||T}function ls(l){return 0==(1&l)}function jO(l,c,d,A){if(null===c)return-1;let p=0;if(A||!d){let v=!1;for(;p<c.length;){const T=c[p];if(T===l)return p;if(3===T||6===T)v=!0;else{if(1===T||2===T){let R=c[++p];for(;"string"==typeof R;)R=c[++p];continue}if(4===T)break;if(0===T){p+=4;continue}}p+=v?1:2}return-1}return function ST(l,c){let d=l.indexOf(4);if(d>-1)for(d++;d<l.length;){const A=l[d];if("number"==typeof A)return-1;if(A===c)return d;d++}return-1}(c,l)}function hm(l,c,d=!1){for(let A=0;A<c.length;A++)if(ET(l,c[A],d))return!0;return!1}function SQ(l,c){e:for(let d=0;d<c.length;d++){const A=c[d];if(l.length===A.length){for(let p=0;p<l.length;p++)if(l[p]!==A[p])continue e;return!0}}return!1}function KO(l,c){return l?":not("+c.trim()+")":c}function ZO(l){let c=l[0],d=1,A=2,p="",v=!1;for(;d<l.length;){let T=l[d];if("string"==typeof T)if(2&A){const R=l[++d];p+="["+T+(R.length>0?'="'+R+'"':"")+"]"}else 8&A?p+="."+T:4&A&&(p+=" "+T);else""!==p&&!ls(T)&&(c+=KO(v,p),p=""),A=T,v=v||!ls(A);d++}return""!==p&&(c+=KO(v,p)),c}const Fi={};function $O(l){ZE(Ki(),Rt(),ia()+l,!1)}function ZE(l,c,d,A){if(!A)if(3==(3&c[2])){const v=l.preOrderCheckHooks;null!==v&&jd(c,v,d)}else{const v=l.preOrderHooks;null!==v&&gc(c,v,0,d)}Oa(d)}function TT(l,c=null,d=null,A){const p=BT(l,c,d,A);return p.resolveInjectorInitializers(),p}function BT(l,c=null,d=null,A,p=new Set){const v=[d||fi,cv(l)];return A=A||("object"==typeof l?void 0:Tt(l)),new G(v,c||E(),A||null,p)}let Am=(()=>{class l{static create(d,A){if(Array.isArray(d))return TT({name:""},A,d,"");{const p=d.name??"";return TT({name:p},d.parent,d.providers,p)}}}return l.THROW_IF_NOT_FOUND=Ai,l.NULL=new am,l.\u0275prov=cr({token:l,providedIn:"any",factory:()=>kr(xp)}),l.__NG_ELEMENT_ID__=-1,l})();function L_(l,c=Wn.Default){const d=Rt();return null===d?kr(l,c):$d(Bs(),d,je(l),c)}function nS(){throw new Error("invalid")}function fv(l,c){const d=l.contentQueries;if(null!==d)for(let A=0;A<d.length;A+=2){const p=d[A],v=d[A+1];if(-1!==v){const T=l.data[v];zc(p),T.contentQueries(2,c[v],v)}}}function pv(l,c,d,A,p,v,T,R,P,j,ee){const fe=c.blueprint.slice();return fe[0]=p,fe[2]=76|A,(null!==ee||l&&1024&l[2])&&(fe[2]|=1024),Eg(fe),fe[3]=fe[15]=l,fe[8]=d,fe[10]=T||l&&l[10],fe[11]=R||l&&l[11],fe[12]=P||l&&l[12]||null,fe[9]=j||l&&l[9]||null,fe[6]=v,fe[20]=function gt(){return qe++}(),fe[21]=ee,fe[16]=2==c.type?l[16]:fe,fe}function Bp(l,c,d,A,p){let v=l.data[c];if(null===v)v=function yC(l,c,d,A,p){const v=Mh(),T=Fl(),P=l.data[c]=function NQ(l,c,d,A,p,v){return{type:d,index:A,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?v:v&&v.parent,d,c,A,p);return null===l.firstChild&&(l.firstChild=P),null!==v&&(T?null==v.child&&null!==P.parent&&(v.child=P):null===v.next&&(v.next=P)),P}(l,c,d,A,p),function Dg(){return Si.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=d,v.value=A,v.attrs=p;const T=function Ma(){const l=Si.lFrame,c=l.currentTNode;return l.isParent?c:c.parent}();v.injectorIndex=null===T?-1:T.injectorIndex}return Gs(v,!0),v}function N_(l,c,d,A){if(0===d)return-1;const p=c.length;for(let v=0;v<d;v++)c.push(A),l.blueprint.push(A),l.data.push(null);return p}function fm(l,c,d){qf(c);try{const A=l.viewQuery;null!==A&&CC(1,A,d);const p=l.template;null!==p&&OT(l,c,p,1,d),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&fv(l,c),l.staticViewQueries&&CC(2,l.viewQuery,d);const v=l.components;null!==v&&function iS(l,c){for(let d=0;d<c.length;d++)jQ(l,c[d])}(c,v)}catch(A){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),A}finally{c[2]&=-5,sd()}}function mw(l,c,d,A){const p=c[2];if(128!=(128&p)){qf(c);try{Eg(c),function NA(l){return Si.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==d&&OT(l,c,d,2,A);const T=3==(3&p);if(T){const j=l.preOrderCheckHooks;null!==j&&jd(c,j,null)}else{const j=l.preOrderHooks;null!==j&&gc(c,j,0,null),ad(c,0)}if(function VQ(l){for(let c=x_(l);null!==c;c=Kg(c)){if(!c[2])continue;const d=c[9];for(let A=0;A<d.length;A++){const p=d[A],v=p[3];0==(512&p[2])&&Jl(v,1),p[2]|=512}}}(c),function HQ(l){for(let c=x_(l);null!==c;c=Kg(c))for(let d=10;d<c.length;d++){const A=c[d],p=A[1];yu(A)&&mw(p,A,p.template,A[8])}}(c),null!==l.contentQueries&&fv(l,c),T){const j=l.contentCheckHooks;null!==j&&jd(c,j)}else{const j=l.contentHooks;null!==j&&gc(c,j,1),ad(c,1)}!function aL(l,c){const d=l.hostBindingOpCodes;if(null!==d)try{for(let A=0;A<d.length;A++){const p=d[A];if(p<0)Oa(~p);else{const v=p,T=d[++A],R=d[++A];pc(T,v),R(2,c[v])}}}finally{Oa(-1)}}(l,c);const R=l.components;null!==R&&function Ka(l,c){for(let d=0;d<c.length;d++)GQ(l,c[d])}(c,R);const P=l.viewQuery;if(null!==P&&CC(2,P,A),T){const j=l.viewCheckHooks;null!==j&&jd(c,j)}else{const j=l.viewHooks;null!==j&&gc(c,j,2),ad(c,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),c[2]&=-41,512&c[2]&&(c[2]&=-513,Jl(c[3],-1))}finally{sd()}}}function OT(l,c,d,A,p){const v=ia(),T=2&A;try{Oa(-1),T&&c.length>22&&ZE(l,c,22,!1),d(A,p)}finally{Oa(v)}}function rS(l,c,d){if(Ih(c)){const p=c.directiveEnd;for(let v=c.directiveStart;v<p;v++){const T=l.data[v];T.contentQueries&&T.contentQueries(1,d[v],v)}}}function vC(l,c,d){!jf()||(function UT(l,c,d,A){const p=d.directiveStart,v=d.directiveEnd;l.firstCreatePass||qc(d,c),Zs(A,c);const T=d.initialInputs;for(let R=p;R<v;R++){const P=l.data[R],j=Vs(P);j&&fL(c,d,P);const ee=Yd(c,l,R,d);Zs(ee,c),null!==T&&pL(0,R-p,ee,P,0,T),j&&(Ts(d.index,c)[8]=ee)}}(l,c,d,yo(d,c)),64==(64&d.flags)&&lS(l,c,d))}function P_(l,c,d=yo){const A=c.localNames;if(null!==A){let p=c.index+1;for(let v=0;v<A.length;v+=2){const T=A[v+1],R=-1===T?d(c,l):l[T];l[p++]=R}}}function LT(l){const c=l.tView;return null===c||c.incompleteFirstPass?l.tView=wC(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts):c}function wC(l,c,d,A,p,v,T,R,P,j){const ee=22+A,fe=ee+p,ke=function OQ(l,c){const d=[];for(let A=0;A<c;A++)d.push(A<l?null:Fi);return d}(ee,fe),tt="function"==typeof j?j():j;return ke[1]={type:l,blueprint:ke,template:d,queries:null,viewQuery:R,declTNode:c,data:ke.slice().fill(null,ee),bindingStartIndex:ee,expandoStartIndex:fe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:P,consts:tt,incompleteFirstPass:!1}}function lL(l,c,d,A){const p=_L(c);null===d?p.push(A):(p.push(d),l.firstCreatePass&&dS(l).push(A,p.length-1))}function cL(l,c,d,A){for(let p in l)if(l.hasOwnProperty(p)){d=null===d?{}:d;const v=l[p];null===A?uL(d,c,p,v):A.hasOwnProperty(p)&&uL(d,c,A[p],v)}return d}function uL(l,c,d,A){l.hasOwnProperty(d)?l[d].push(c,A):l[d]=[c,A]}function Nu(l,c,d,A,p,v,T,R){const P=yo(c,d);let ee,j=c.inputs;!R&&null!=j&&(ee=j[A])?(xC(l,d,ee,A,p),Dh(c)&&NT(d,c.index)):3&c.type&&(A=function hL(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(A),p=null!=T?T(p,c.value||"",A):p,v.setProperty(P,A,p))}function NT(l,c){const d=Ts(c,l);16&d[2]||(d[2]|=32)}function sS(l,c,d,A){let p=!1;if(jf()){const v=null===A?null:{"":-1},T=function HT(l,c){const d=l.directiveRegistry;let A=null,p=null;if(d)for(let v=0;v<d.length;v++){const T=d[v];if(hm(c,T.selectors,!1))if(A||(A=[]),Vs(T))if(null!==T.findHostDirectiveDefs){const R=[];p=p||new Map,T.findHostDirectiveDefs(T,R,p),A.unshift(...R,T),cS(l,c,R.length)}else A.unshift(T),cS(l,c,0);else p=p||new Map,T.findHostDirectiveDefs?.(T,A,p),A.push(T)}return null===A?null:[A,p]}(l,d);let R,P;null===T?R=P=null:[R,P]=T,null!==R&&(p=!0,oS(l,c,d,R,v,P)),v&&function AL(l,c,d){if(c){const A=l.localNames=[];for(let p=0;p<c.length;p+=2){const v=d[c[p+1]];if(null==v)throw new yt(-301,!1);A.push(c[p],v)}}}(d,A,v)}return d.mergedAttrs=xu(d.mergedAttrs,d.attrs),p}function oS(l,c,d,A,p,v){for(let j=0;j<A.length;j++)os(qc(d,c),l,A[j].type);!function _a(l,c,d){l.flags|=1,l.directiveStart=c,l.directiveEnd=c+d,l.providerIndexes=c}(d,l.data.length,A.length);for(let j=0;j<A.length;j++){const ee=A[j];ee.providersResolver&&ee.providersResolver(ee)}let T=!1,R=!1,P=N_(l,c,A.length,null);for(let j=0;j<A.length;j++){const ee=A[j];d.mergedAttrs=xu(d.mergedAttrs,ee.hostAttrs),gv(l,d,c,P,ee),QQ(P,ee,p),null!==ee.contentQueries&&(d.flags|=4),(null!==ee.hostBindings||null!==ee.hostAttrs||0!==ee.hostVars)&&(d.flags|=64);const fe=ee.type.prototype;!T&&(fe.ngOnChanges||fe.ngOnInit||fe.ngDoCheck)&&((l.preOrderHooks||(l.preOrderHooks=[])).push(d.index),T=!0),!R&&(fe.ngOnChanges||fe.ngDoCheck)&&((l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(d.index),R=!0),P++}!function dL(l,c,d){const p=c.directiveEnd,v=l.data,T=c.attrs,R=[];let P=null,j=null;for(let ee=c.directiveStart;ee<p;ee++){const fe=v[ee],ke=d?d.get(fe):null,kt=ke?ke.outputs:null;P=cL(fe.inputs,ee,P,ke?ke.inputs:null),j=cL(fe.outputs,ee,j,kt);const cn=null===P||null===T||xT(c)?null:gL(P,ee,T);R.push(cn)}null!==P&&(P.hasOwnProperty("class")&&(c.flags|=8),P.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=R,c.inputs=P,c.outputs=j}(l,d,v)}function lS(l,c,d){const A=d.directiveStart,p=d.directiveEnd,v=d.index,T=function zf(){return Si.lFrame.currentDirectiveIndex}();try{Oa(v);for(let R=A;R<p;R++){const P=l.data[R],j=c[R];vu(R),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&QT(P,j)}}finally{Oa(-1),vu(T)}}function QT(l,c){null!==l.hostBindings&&l.hostBindings(1,c)}function cS(l,c,d){c.componentOffset=d,(l.components||(l.components=[])).push(c.index)}function QQ(l,c,d){if(d){if(c.exportAs)for(let A=0;A<c.exportAs.length;A++)d[c.exportAs[A]]=l;Vs(c)&&(d[""]=l)}}function gv(l,c,d,A,p){l.data[A]=p;const v=p.factory||(p.factory=ta(p.type)),T=new zd(v,Vs(p),L_);l.blueprint[A]=T,d[A]=T,function aS(l,c,d,A,p){const v=p.hostBindings;if(v){let T=l.hostBindingOpCodes;null===T&&(T=l.hostBindingOpCodes=[]);const R=~c.index;(function PT(l){let c=l.length;for(;c>0;){const d=l[--c];if("number"==typeof d&&d<0)return d}return 0})(T)!=R&&T.push(R),T.push(d,A,v)}}(l,c,A,N_(l,d,p.hostVars,Fi),p)}function fL(l,c,d){const A=yo(c,l),p=LT(d),v=l[10],T=mv(l,pv(l,p,null,d.onPush?32:16,A,c,v,v.createRenderer(A,d),null,null,null));l[c.index]=T}function Fp(l,c,d,A,p,v){const T=yo(l,c);!function bC(l,c,d,A,p,v,T){if(null==v)l.removeAttribute(c,p,d);else{const R=null==T?St(v):T(v,A||"",p);l.setAttribute(c,p,R,d)}}(c[11],T,v,l.value,d,A,p)}function pL(l,c,d,A,p,v){const T=v[c];if(null!==T){const R=A.setInput;for(let P=0;P<T.length;){const j=T[P++],ee=T[P++],fe=T[P++];null!==R?A.setInput(d,fe,j,ee):d[ee]=fe}}}function gL(l,c,d){let A=null,p=0;for(;p<d.length;){const v=d[p];if(0!==v)if(5!==v){if("number"==typeof v)break;if(l.hasOwnProperty(v)){null===A&&(A=[]);const T=l[v];for(let R=0;R<T.length;R+=2)if(T[R]===c){A.push(v,T[R+1],d[p+1]);break}}p+=2}else p+=2;else p+=4}return A}function mL(l,c,d,A){return[l,!0,!1,c,null,0,A,d,null,null]}function GQ(l,c){const d=Ts(c,l);if(yu(d)){const A=d[1];48&d[2]?mw(A,d,A.template,d[8]):d[5]>0&&uS(d)}}function uS(l){for(let A=x_(l);null!==A;A=Kg(A))for(let p=10;p<A.length;p++){const v=A[p];if(yu(v))if(512&v[2]){const T=v[1];mw(T,v,T.template,v[8])}else v[5]>0&&uS(v)}const d=l[1].components;if(null!==d)for(let A=0;A<d.length;A++){const p=Ts(d[A],l);yu(p)&&p[5]>0&&uS(p)}}function jQ(l,c){const d=Ts(c,l),A=d[1];(function zQ(l,c){for(let d=c.length;d<l.blueprint.length;d++)c.push(l.blueprint[d])})(A,d),fm(A,d,d[8])}function mv(l,c){return l[13]?l[14][4]=c:l[13]=c,l[14]=c,c}function _w(l){for(;l;){l[2]|=32;const c=cp(l);if(s_(l)&&!c)return l;l=c}return null}function yw(l,c,d,A=!0){const p=c[10];p.begin&&p.begin();try{mw(l,c,l.template,d)}catch(T){throw A&&_v(c,T),T}finally{p.end&&p.end()}}function CC(l,c,d){zc(0),c(l,d)}function _L(l){return l[7]||(l[7]=[])}function dS(l){return l.cleanup||(l.cleanup=[])}function yL(l,c,d){return(null===l||Vs(l))&&(d=function td(l){for(;Array.isArray(l);){if("object"==typeof l[1])return l;l=l[0]}return null}(d[c.index])),d[11]}function _v(l,c){const d=l[9],A=d?d.get(fl,null):null;A&&A.handleError(c)}function xC(l,c,d,A,p){for(let v=0;v<d.length;){const T=d[v++],R=d[v++],P=c[T],j=l.data[T];null!==j.setInput?j.setInput(P,p,A,R):P[R]=p}}function fA(l,c,d){const A=Gd(c,l);!function $g(l,c,d){l.setValue(c,d)}(l[11],A,d)}function Ms(l,c,d){let A=d?l.styles:null,p=d?l.classes:null,v=0;if(null!==c)for(let T=0;T<c.length;T++){const R=c[T];"number"==typeof R?v=R:1==v?p=ut(p,R):2==v&&(A=ut(A,R+": "+c[++T]+";"))}d?l.styles=A:l.stylesWithoutHost=A,d?l.classes=p:l.classesWithoutHost=p}function EC(l,c,d,A,p=!1){for(;null!==d;){const v=c[d.index];if(null!==v&&A.push(_o(v)),Bl(v))for(let R=10;R<v.length;R++){const P=v[R],j=P[1].firstChild;null!==j&&EC(P[1],P,j,A)}const T=d.type;if(8&T)EC(l,c,d.child,A);else if(32&T){const R=lp(d,c);let P;for(;P=R();)A.push(P)}else if(16&T){const R=tA(c,d);if(Array.isArray(R))A.push(...R);else{const P=cp(c[16]);EC(P[1],P,R,A,!0)}}d=p?d.projectionNext:d.next}return A}class uf{constructor(c,d){this._lView=c,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,d=c[1];return EC(d,c,d.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(Bl(c)){const d=c[8],A=d?d.indexOf(this):-1;A>-1&&(Wh(c,A),tn(d,A))}this._attachedToViewContainer=!1}rh(this._lView[1],this._lView)}onDestroy(c){lL(this._lView[1],this._lView,null,c)}markForCheck(){_w(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){yw(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new yt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function $h(l,c){Ru(l,c,c[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new yt(902,!1);this._appRef=c}}class VT extends uf{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;yw(c[1],c,c[8],!1)}checkNoChanges(){}get context(){return null}}class hS extends gi{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const d=mi(c);return new pm(d,this.ngModule)}}function yv(l){const c=[];for(let d in l)l.hasOwnProperty(d)&&c.push({propName:l[d],templateName:d});return c}class ww{constructor(c,d){this.injector=c,this.parentInjector=d}get(c,d,A){A=Aa(A);const p=this.injector.get(c,Al,A);return p!==Al||d===Al?p:this.parentInjector.get(c,d,A)}}class pm extends Zi{constructor(c,d){super(),this.componentDef=c,this.ngModule=d,this.componentType=c.type,this.selector=function KE(l){return l.map(ZO).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return yv(this.componentDef.inputs)}get outputs(){return yv(this.componentDef.outputs)}create(c,d,A,p){let v=(p=p||this.ngModule)instanceof L?p:p?.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const T=v?new ww(c,v):c,R=T.get(Vo,null);if(null===R)throw new yt(407,!1);const P=T.get(as,null),j=R.createRenderer(null,this.componentDef),ee=this.componentDef.selectors[0][0]||"div",fe=A?function LQ(l,c,d){return l.selectRootElement(c,d===Vn.ShadowDom)}(j,A,this.componentDef.encapsulation):Yg(j,ee,function vL(l){const c=l.toLowerCase();return"svg"===c?"svg":"math"===c?"math":null}(ee)),ke=this.componentDef.onPush?288:272,tt=wC(0,null,null,1,0,null,null,null,null,null),kt=pv(null,tt,null,ke,null,null,R,j,P,T,null);let cn,Sn;qf(kt);try{const zn=this.componentDef;let ci,Gt=null;zn.findHostDirectiveDefs?(ci=[],Gt=new Map,zn.findHostDirectiveDefs(zn,ci,Gt),ci.push(zn)):ci=[zn];const Qi=function bw(l,c){const d=l[1];return l[22]=c,Bp(d,22,2,"#host",null)}(kt,fe),Do=function AS(l,c,d,A,p,v,T,R){const P=p[1];!function bL(l,c,d,A){for(const p of l)c.mergedAttrs=xu(c.mergedAttrs,p.hostAttrs);null!==c.mergedAttrs&&(Ms(c,c.mergedAttrs,!0),null!==d&&nA(A,d,c))}(A,l,c,T);const j=v.createRenderer(c,d),ee=pv(p,LT(d),null,d.onPush?32:16,p[l.index],l,v,j,R||null,null,null);return P.firstCreatePass&&cS(P,l,A.length-1),mv(p,ee),p[l.index]=ee}(Qi,fe,zn,ci,kt,R,j);Sn=OA(tt,22),fe&&function fS(l,c,d,A){if(A)ga(l,d,["ng-version",hA.full]);else{const{attrs:p,classes:v}=function IT(l){const c=[],d=[];let A=1,p=2;for(;A<l.length;){let v=l[A];if("string"==typeof v)2===p?""!==v&&c.push(v,l[++A]):8===p&&d.push(v);else{if(!ls(p))break;p=v}A++}return{attrs:c,classes:d}}(c.selectors[0]);p&&ga(l,d,p),v&&v.length>0&&em(l,d,v.join(" "))}}(j,zn,fe,A),void 0!==d&&function Q_(l,c,d){const A=l.projection=[];for(let p=0;p<c.length;p++){const v=d[p];A.push(null!=v?Array.from(v):null)}}(Sn,this.ngContentSelectors,d),cn=function GT(l,c,d,A,p,v){const T=Bs(),R=p[1],P=yo(T,p);oS(R,p,T,d,null,A);for(let ee=0;ee<d.length;ee++)Zs(Yd(p,R,T.directiveStart+ee,T),p);lS(R,p,T),P&&Zs(P,p);const j=Yd(p,R,T.directiveStart+T.componentOffset,T);if(l[8]=p[8]=j,null!==v)for(const ee of v)ee(j,c);return rS(R,T,l),j}(Do,zn,ci,Gt,kt,[pS]),fm(tt,kt,null)}finally{sd()}return new U_(this.componentType,cn,dr(Sn,kt),kt,Sn)}}class U_ extends En{constructor(c,d,A,p,v){super(),this.location=A,this._rootLView=p,this._tNode=v,this.instance=d,this.hostView=this.changeDetectorRef=new VT(p),this.componentType=c}setInput(c,d){const A=this._tNode.inputs;let p;if(null!==A&&(p=A[c])){const v=this._rootLView;xC(v[1],v,p,c,d),NT(v,this._tNode.index)}}get injector(){return new Wd(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function pS(){const l=Bs();bu(Rt()[1],l)}function jT(l){let c=function df(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),d=!0;const A=[l];for(;c;){let p;if(Vs(l))p=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new yt(903,!1);p=c.\u0275dir}if(p){if(d){A.push(p);const T=l;T.inputs=Mp(l.inputs),T.declaredInputs=Mp(l.declaredInputs),T.outputs=Mp(l.outputs);const R=p.hostBindings;R&&vv(l,R);const P=p.viewQuery,j=p.contentQueries;if(P&&oo(l,P),j&&gS(l,j),Ke(l.inputs,p.inputs),Ke(l.declaredInputs,p.declaredInputs),Ke(l.outputs,p.outputs),Vs(p)&&p.data.animation){const ee=l.data;ee.animation=(ee.animation||[]).concat(p.data.animation)}}const v=p.features;if(v)for(let T=0;T<v.length;T++){const R=v[T];R&&R.ngInherit&&R(l),R===jT&&(d=!1)}}c=Object.getPrototypeOf(c)}!function qQ(l){let c=0,d=null;for(let A=l.length-1;A>=0;A--){const p=l[A];p.hostVars=c+=p.hostVars,p.hostAttrs=xu(p.hostAttrs,d=xu(d,p.hostAttrs))}}(A)}function Mp(l){return l===wi?{}:l===fi?[]:l}function oo(l,c){const d=l.viewQuery;l.viewQuery=d?(A,p)=>{c(A,p),d(A,p)}:c}function gS(l,c){const d=l.contentQueries;l.contentQueries=d?(A,p,v)=>{c(A,p,v),d(A,p,v)}:c}function vv(l,c){const d=l.hostBindings;l.hostBindings=d?(A,p)=>{c(A,p),d(A,p)}:c}let SC=null;function sc(){if(!SC){const l=si.Symbol;if(l&&l.iterator)SC=l.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<c.length;++d){const A=c[d];"entries"!==A&&"size"!==A&&Map.prototype[A]===Map.prototype.entries&&(SC=A)}}}return SC}function H_(l){return!!wv(l)&&(Array.isArray(l)||!(l instanceof Map)&&sc()in l)}function wv(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function Af(l,c,d){return l[c]=d}function Sc(l,c,d){return!Object.is(l[c],d)&&(l[c]=d,!0)}function G_(l,c,d,A){const p=Sc(l,c,d);return Sc(l,c+1,A)||p}function bv(l,c,d,A){const p=Rt();return Sc(p,ss(),c)&&(Ki(),Fp(Lr(),p,l,c,d,A)),bv}function Ed(l,c,d,A){return Sc(l,ss(),d)?c+St(d)+A:Fi}function Cv(l,c,d,A,p,v){const R=G_(l,function Rl(){return Si.lFrame.bindingIndex}(),d,p);return Xl(2),R?c+St(d)+A+St(p)+v:Fi}function ZT(l,c,d,A,p,v,T,R){const P=Rt(),j=Ki(),ee=l+22,fe=j.firstCreatePass?function KT(l,c,d,A,p,v,T,R,P){const j=c.consts,ee=Bp(c,l,4,T||null,$i(j,R));sS(c,d,ee,$i(j,P)),bu(c,ee);const fe=ee.tViews=wC(2,ee,A,p,v,c.directiveRegistry,c.pipeRegistry,null,c.schemas,j);return null!==c.queries&&(c.queries.template(c,ee),fe.queries=c.queries.embeddedTView(ee)),ee}(ee,j,P,c,d,A,p,v,T):j.data[ee];Gs(fe,!1);const ke=P[11].createComment("");JA(j,P,ke,fe),Zs(ke,P),mv(P,P[ee]=mL(ke,P,ke,fe)),TA(fe)&&vC(j,P,fe),null!=T&&P_(P,fe,R)}function Ew(l){return na(function Ml(){return Si.lFrame.contextLView}(),22+l)}function Sw(l,c,d){const A=Rt();return Sc(A,ss(),c)&&Nu(Ki(),Lr(),A,l,c,A[11],d,!1),Sw}function Iw(l,c,d,A,p){const T=p?"class":"style";xC(l,d,c.inputs[T],T,A)}function FC(l,c,d,A){const p=Rt(),v=Ki(),T=22+l,R=p[11],P=p[T]=Yg(R,c,function Kf(){return Si.lFrame.currentNamespace}()),j=v.firstCreatePass?function wS(l,c,d,A,p,v,T){const R=c.consts,j=Bp(c,l,2,p,$i(R,v));return sS(c,d,j,$i(R,T)),null!==j.attrs&&Ms(j,j.attrs,!1),null!==j.mergedAttrs&&Ms(j,j.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,j),j}(T,v,p,0,c,d,A):v.data[T];return Gs(j,!0),nA(R,P,j),32!=(32&j.flags)&&JA(v,p,P,j),0===function Sg(){return Si.lFrame.elementDepthCount}()&&Zs(P,p),function Fa(){Si.lFrame.elementDepthCount++}(),TA(j)&&(vC(v,p,j),rS(v,j,p)),null!==A&&P_(p,j),FC}function MC(){let l=Bs();Fl()?kh():(l=l.parent,Gs(l,!1));const c=l;!function qi(){Si.lFrame.elementDepthCount--}();const d=Ki();return d.firstCreatePass&&(bu(d,l),Ih(l)&&d.queries.elementEnd(l)),null!=c.classesWithoutHost&&function Zf(l){return 0!=(8&l.flags)}(c)&&Iw(d,c,Rt(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function Lg(l){return 0!=(16&l.flags)}(c)&&Iw(d,c,Rt(),c.stylesWithoutHost,!1),MC}function Dw(l,c,d,A){return FC(l,c,d,A),MC(),Dw}function kC(l,c,d){const A=Rt(),p=Ki(),v=l+22,T=p.firstCreatePass?function YT(l,c,d,A,p){const v=c.consts,T=$i(v,A),R=Bp(c,l,8,"ng-container",T);return null!==T&&Ms(R,T,!0),sS(c,d,R,$i(v,p)),null!==c.queries&&c.queries.elementStart(c,R),R}(v,p,A,c,d):p.data[v];Gs(T,!0);const R=A[v]=A[11].createComment("");return JA(p,A,R,T),Zs(R,A),TA(T)&&(vC(p,A,T),rS(p,T,A)),null!=d&&P_(A,T),kC}function mm(){let l=Bs();const c=Ki();return Fl()?kh():(l=l.parent,Gs(l,!1)),c.firstCreatePass&&(bu(c,l),Ih(l)&&c.queries.elementEnd(l)),mm}function bS(l,c,d){return kC(l,c,d),mm(),bS}function Ev(){return Rt()}function CS(l){return!!l&&"function"==typeof l.then}function WT(l){return!!l&&"function"==typeof l.subscribe}const Tw=WT;function Bw(l,c,d,A){const p=Rt(),v=Ki(),T=Bs();return xS(v,p,p[11],T,l,c,A),Bw}function RC(l,c){const d=Bs(),A=Rt(),p=Ki();return xS(p,A,yL(jc(p.data),d,A),d,l,c),RC}function xS(l,c,d,A,p,v,T){const R=TA(A),j=l.firstCreatePass&&dS(l),ee=c[8],fe=_L(c);let ke=!0;if(3&A.type||T){const cn=yo(A,c),Sn=T?T(cn):cn,zn=fe.length,ci=T?Qi=>T(_o(Qi[A.index])):A.index;let Gt=null;if(!T&&R&&(Gt=function JT(l,c,d,A){const p=l.cleanup;if(null!=p)for(let v=0;v<p.length-1;v+=2){const T=p[v];if(T===d&&p[v+1]===A){const R=c[7],P=p[v+2];return R.length>P?R[P]:null}"string"==typeof T&&(v+=2)}return null}(l,c,p,A.index)),null!==Gt)(Gt.__ngLastListenerFn__||Gt).__ngNextListenerFn__=v,Gt.__ngLastListenerFn__=v,ke=!1;else{v=OC(A,c,ee,v,!1);const Qi=d.listen(Sn,p,v);fe.push(v,Qi),j&&j.push(p,ci,zn,zn+1)}}else v=OC(A,c,ee,v,!1);const tt=A.outputs;let kt;if(ke&&null!==tt&&(kt=tt[p])){const cn=kt.length;if(cn)for(let Sn=0;Sn<cn;Sn+=2){const Do=c[kt[Sn]][kt[Sn+1]].subscribe(v),la=fe.length;fe.push(v,Do),j&&j.push(p,A.index,la,-(la+1))}}}function Fw(l,c,d,A){try{return!1!==d(A)}catch(p){return _v(l,p),!1}}function OC(l,c,d,A,p){return function v(T){if(T===Function)return A;_w(l.componentOffset>-1?Ts(l.index,c):c);let P=Fw(c,0,A,T),j=v.__ngNextListenerFn__;for(;j;)P=Fw(c,0,j,T)&&P,j=j.__ngNextListenerFn__;return p&&!1===P&&(T.preventDefault(),T.returnValue=!1),P}}function LC(l=1){return function Mg(l){return(Si.lFrame.contextLView=function Oh(l,c){for(;l>0;)c=c[15],l--;return c}(l,Si.lFrame.contextLView))[8]}(l)}function ES(l,c){let d=null;const A=function zO(l){const c=l.attrs;if(null!=c){const d=c.indexOf(5);if(0==(1&d))return c[d+1]}return null}(l);for(let p=0;p<c.length;p++){const v=c[p];if("*"!==v){if(null===A?hm(l,v,!0):SQ(A,v))return p}else d=p}return d}function NC(l){const c=Rt()[16][6];if(!c.projection){const A=c.projection=pr(l?l.length:1,null),p=A.slice();let v=c.child;for(;null!==v;){const T=l?ES(v,l):0;null!==T&&(p[T]?p[T].projectionNext=v:A[T]=v,p[T]=v),v=v.next}}}function SS(l,c=0,d){const A=Rt(),p=Ki(),v=Bp(p,22+l,16,null,d||null);null===v.projection&&(v.projection=c),kh(),32!=(32&v.flags)&&function oh(l,c,d){yd(c[11],0,c,d,Jg(l,d,c),Xh(d.parent||c[6],d,c))}(p,A,v)}function PC(l,c,d){return IS(l,"",c,"",d),PC}function IS(l,c,d,A,p){const v=Rt(),T=Ed(v,c,d,A);return T!==Fi&&Nu(Ki(),Lr(),v,l,T,v[11],p,!1),IS}function va(l,c){return l<<17|c<<2}function xo(l){return l>>17&32767}function MS(l){return 2|l}function K_(l){return(131068&l)>>2}function jC(l,c){return-131069&l|c<<2}function kS(l){return 1|l}function OS(l,c,d,A,p){const v=l[d+1],T=null===c;let R=A?xo(v):K_(v),P=!1;for(;0!==R&&(!1===P||T);){const ee=l[R+1];IL(l[R],c)&&(P=!0,l[R+1]=A?kS(ee):MS(ee)),R=A?xo(ee):K_(ee)}P&&(l[d+1]=A?MS(v):kS(v))}function IL(l,c){return null===l||null==c||(Array.isArray(l)?l[1]:l)===c||!(!Array.isArray(l)||"string"!=typeof c)&&ra(l,c)>=0}const oa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function zC(l){return l.substring(oa.key,oa.keyEnd)}function nB(l,c){const d=oa.textEnd;return d===c?-1:(c=oa.keyEnd=function qC(l,c,d){for(;c<d&&l.charCodeAt(c)>32;)c++;return c}(l,oa.key=c,d),Z_(l,c,d))}function Z_(l,c,d){for(;c<d&&l.charCodeAt(c)<=32;)c++;return c}function Op(l,c,d){return ao(l,c,d,!1),Op}function KC(l,c){return ao(l,c,null,!0),KC}function gA(l,c){for(let d=function tB(l){return function PS(l){oa.key=0,oa.keyEnd=0,oa.value=0,oa.valueEnd=0,oa.textEnd=l.length}(l),nB(l,Z_(l,0,oa.textEnd))}(c);d>=0;d=nB(c,d))Ua(l,zC(c),!0)}function ao(l,c,d,A){const p=Rt(),v=Ki(),T=Xl(2);v.firstUpdatePass&&Rw(v,l,T,A),c!==Fi&&Sc(p,T,c)&&Dv(v,v.data[ia()],p,p[11],l,p[T+1]=function VS(l,c){return null==l||("string"==typeof c?l+=c:"object"==typeof l&&(l=Tt(rc(l)))),l}(c,d),A,T)}function Iv(l,c){return c>=l.expandoStartIndex}function Rw(l,c,d,A){const p=l.data;if(null===p[d+1]){const v=p[ia()],T=Iv(l,d);Ow(v,A)&&null===c&&!T&&(c=!1),c=function oB(l,c,d,A){const p=jc(l);let v=A?c.residualClasses:c.residualStyles;if(null===p)0===(A?c.classBindings:c.styleBindings)&&(d=Y_(d=$_(null,l,c,d,A),c.attrs,A),v=null);else{const T=c.directiveStylingLast;if(-1===T||l[T]!==p)if(d=$_(p,l,c,d,A),null===v){let P=function US(l,c,d){const A=d?c.classBindings:c.styleBindings;if(0!==K_(A))return l[xo(A)]}(l,c,A);void 0!==P&&Array.isArray(P)&&(P=$_(null,l,c,P[1],A),P=Y_(P,c.attrs,A),function aB(l,c,d,A){l[xo(d?c.classBindings:c.styleBindings)]=A}(l,c,A,P))}else v=function lB(l,c,d){let A;const p=c.directiveEnd;for(let v=1+c.directiveStylingLast;v<p;v++)A=Y_(A,l[v].hostAttrs,d);return Y_(A,c.attrs,d)}(l,c,A)}return void 0!==v&&(A?c.residualClasses=v:c.residualStyles=v),d}(p,v,c,A),function SL(l,c,d,A,p,v){let T=v?c.classBindings:c.styleBindings,R=xo(T),P=K_(T);l[A]=d;let ee,j=!1;if(Array.isArray(d)){const fe=d;ee=fe[1],(null===ee||ra(fe,ee)>0)&&(j=!0)}else ee=d;if(p)if(0!==P){const ke=xo(l[R+1]);l[A+1]=va(ke,R),0!==ke&&(l[ke+1]=jC(l[ke+1],A)),l[R+1]=function FS(l,c){return 131071&l|c<<17}(l[R+1],A)}else l[A+1]=va(R,0),0!==R&&(l[R+1]=jC(l[R+1],A)),R=A;else l[A+1]=va(P,0),0===R?R=A:l[P+1]=jC(l[P+1],A),P=A;j&&(l[A+1]=MS(l[A+1])),OS(l,ee,A,!0),OS(l,ee,A,!1),function RS(l,c,d,A,p){const v=p?l.residualClasses:l.residualStyles;null!=v&&"string"==typeof c&&ra(v,c)>=0&&(d[A+1]=kS(d[A+1]))}(c,ee,l,A,v),T=va(R,P),v?c.classBindings=T:c.styleBindings=T}(p,v,c,d,T,A)}}function $_(l,c,d,A,p){let v=null;const T=d.directiveEnd;let R=d.directiveStylingLast;for(-1===R?R=d.directiveStart:R++;R<T&&(v=c[R],A=Y_(A,v.hostAttrs,p),v!==l);)R++;return null!==l&&(d.directiveStylingLast=R),A}function Y_(l,c,d){const A=d?1:2;let p=-1;if(null!==c)for(let v=0;v<c.length;v++){const T=c[v];"number"==typeof T?p=T:p===A&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),Ua(l,T,!!d||c[++v]))}return void 0===l?null:l}function Dv(l,c,d,A,p,v,T,R){if(!(3&c.type))return;const P=l.data,j=P[R+1],ee=function xL(l){return 1==(1&l)}(j)?HS(P,c,d,p,K_(j),T):void 0;YC(ee)||(YC(v)||function GC(l){return 2==(2&l)}(j)&&(v=HS(P,null,d,p,R,T)),function Cc(l,c,d,A,p){if(c)p?l.addClass(d,A):l.removeClass(d,A);else{let v=-1===A.indexOf("-")?void 0:so.DashCase;null==p?l.removeStyle(d,A,v):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),v|=so.Important),l.setStyle(d,A,p,v))}}(A,T,Gd(ia(),d),p,v))}function HS(l,c,d,A,p,v){const T=null===c;let R;for(;p>0;){const P=l[p],j=Array.isArray(P),ee=j?P[1]:P,fe=null===ee;let ke=d[p+1];ke===Fi&&(ke=fe?fi:void 0);let tt=fe?jh(ke,A):ee===A?ke:void 0;if(j&&!YC(tt)&&(tt=jh(P,A)),YC(tt)&&(R=tt,T))return R;const kt=l[p+1];p=T?xo(kt):K_(kt)}if(null!==c){let P=v?c.residualClasses:c.residualStyles;null!=P&&(R=jh(P,A))}return R}function YC(l){return void 0!==l}function Ow(l,c){return 0!=(l.flags&(c?8:16))}function WC(l,c=""){const d=Rt(),A=Ki(),p=l+22,v=A.firstCreatePass?Bp(A,p,1,c,null):A.data[p],T=d[p]=function vc(l,c){return l.createText(c)}(d[11],c);JA(A,d,T,v),Gs(v,!1)}function JC(l){return Lw("",l,""),JC}function Lw(l,c,d){const A=Rt(),p=Ed(A,l,c,d);return p!==Fi&&fA(A,ia(),p),Lw}function XC(l,c,d,A,p){const v=Rt(),T=Cv(v,l,c,d,A,p);return T!==Fi&&fA(v,ia(),T),XC}function uB(l,c,d){!function uh(l,c,d,A){const p=Ki(),v=Xl(2);p.firstUpdatePass&&Rw(p,null,v,A);const T=Rt();if(d!==Fi&&Sc(T,v,d)){const R=p.data[ia()];if(Ow(R,A)&&!Iv(p,v)){let P=A?R.classesWithoutHost:R.stylesWithoutHost;null!==P&&(d=ut(P,d||"")),Iw(p,R,T,d,A)}else!function $C(l,c,d,A,p,v,T,R){p===Fi&&(p=fi);let P=0,j=0,ee=0<p.length?p[0]:null,fe=0<v.length?v[0]:null;for(;null!==ee||null!==fe;){const ke=P<p.length?p[P+1]:void 0,tt=j<v.length?v[j+1]:void 0;let cn,kt=null;ee===fe?(P+=2,j+=2,ke!==tt&&(kt=fe,cn=tt)):null===fe||null!==ee&&ee<fe?(P+=2,kt=ee):(j+=2,kt=fe,cn=tt),null!==kt&&Dv(l,c,d,A,kt,cn,T,R),ee=P<p.length?p[P]:null,fe=j<v.length?v[j]:null}}(p,R,T,T[11],T[v+1],T[v+1]=function QS(l,c,d){if(null==d||""===d)return fi;const A=[],p=rc(d);if(Array.isArray(p))for(let v=0;v<p.length;v++)l(A,p[v],!0);else if("object"==typeof p)for(const v in p)p.hasOwnProperty(v)&&l(A,v,p[v]);else"string"==typeof p&&c(A,p);return A}(l,c,d),A,v)}}(Ua,gA,Ed(Rt(),l,c,d),!0)}function KS(l,c,d){const A=Rt();return Sc(A,ss(),c)&&Nu(Ki(),Lr(),A,l,c,A[11],d,!0),KS}function s1(l,c,d){const A=Rt();if(Sc(A,ss(),c)){const v=Ki(),T=Lr();Nu(v,T,A,l,c,yL(jc(v.data),T,A),d,!0)}return s1}const X_=void 0;var yB=["en",[["a","p"],["AM","PM"],X_],[["AM","PM"],X_,X_],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],X_,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],X_,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",X_,"{1} 'at' {0}",X_],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _B(l){const d=Math.floor(Math.abs(l)),A=l.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===A?1:5}];let ym={};function o1(l){const c=function l1(l){return l.toLowerCase().replace(/_/g,"-")}(l);let d=wB(c);if(d)return d;const A=c.split("-")[0];if(d=wB(A),d)return d;if("en"===A)return yB;throw new yt(701,!1)}function a1(l){return o1(l)[bi.PluralCase]}function wB(l){return l in ym||(ym[l]=si.ng&&si.ng.common&&si.ng.common.locales&&si.ng.common.locales[l]),ym[l]}var bi=(()=>((bi=bi||{})[bi.LocaleId=0]="LocaleId",bi[bi.DayPeriodsFormat=1]="DayPeriodsFormat",bi[bi.DayPeriodsStandalone=2]="DayPeriodsStandalone",bi[bi.DaysFormat=3]="DaysFormat",bi[bi.DaysStandalone=4]="DaysStandalone",bi[bi.MonthsFormat=5]="MonthsFormat",bi[bi.MonthsStandalone=6]="MonthsStandalone",bi[bi.Eras=7]="Eras",bi[bi.FirstDayOfWeek=8]="FirstDayOfWeek",bi[bi.WeekendRange=9]="WeekendRange",bi[bi.DateFormat=10]="DateFormat",bi[bi.TimeFormat=11]="TimeFormat",bi[bi.DateTimeFormat=12]="DateTimeFormat",bi[bi.NumberSymbols=13]="NumberSymbols",bi[bi.NumberFormats=14]="NumberFormats",bi[bi.CurrencyCode=15]="CurrencyCode",bi[bi.CurrencySymbol=16]="CurrencySymbol",bi[bi.CurrencyName=17]="CurrencyName",bi[bi.Currencies=18]="Currencies",bi[bi.Directionality=19]="Directionality",bi[bi.PluralCase=20]="PluralCase",bi[bi.ExtraData=21]="ExtraData",bi))();const vm="en-US";let ZS=vm;function Cn(l,c,d,A,p){if(l=je(l),Array.isArray(l))for(let v=0;v<l.length;v++)Cn(l[v],c,d,A,p);else{const v=Ki(),T=Rt();let R=Ep(l)?l:je(l.provide),P=Fe(l);const j=Bs(),ee=1048575&j.providerIndexes,fe=j.directiveStart,ke=j.providerIndexes>>20;if(Ep(l)||!l.multi){const tt=new zd(P,p,L_),kt=Ca(R,c,p?ee:ee+ke,fe);-1===kt?(os(qc(j,T),v,R),pt(v,l,c.length),c.push(R),j.directiveStart++,j.directiveEnd++,p&&(j.providerIndexes+=1048576),d.push(tt),T.push(tt)):(d[kt]=tt,T[kt]=tt)}else{const tt=Ca(R,c,ee+ke,fe),kt=Ca(R,c,ee,ee+ke),cn=tt>=0&&d[tt],Sn=kt>=0&&d[kt];if(p&&!Sn||!p&&!cn){os(qc(j,T),v,R);const zn=function $L(l,c,d,A,p){const v=new zd(l,d,L_);return v.multi=[],v.index=c,v.componentProviders=0,zt(v,p,A&&!d),v}(p?ZL:OB,d.length,p,A,P);!p&&Sn&&(d[kt].providerFactory=zn),pt(v,l,c.length,0),c.push(R),j.directiveStart++,j.directiveEnd++,p&&(j.providerIndexes+=1048576),d.push(zn),T.push(zn)}else pt(v,l,tt>-1?tt:kt,zt(d[p?kt:tt],P,!p&&A));!p&&A&&Sn&&d[kt].componentProviders++}}}function pt(l,c,d,A){const p=Ep(c),v=function uv(l){return!!l.useClass}(c);if(p||v){const P=(v?je(c.useClass):c).prototype.ngOnDestroy;if(P){const j=l.destroyHooks||(l.destroyHooks=[]);if(!p&&c.multi){const ee=j.indexOf(d);-1===ee?j.push(d,[A,P]):j[ee+1].push(A,P)}else j.push(d,P)}}}function zt(l,c,d){return d&&l.componentProviders++,l.multi.push(c)-1}function Ca(l,c,d,A){for(let p=d;p<A;p++)if(c[p]===l)return p;return-1}function OB(l,c,d,A){return lI(this.multi,[])}function ZL(l,c,d,A){const p=this.multi;let v;if(this.providerFactory){const T=this.providerFactory.componentProviders,R=Yd(d,d[1],this.providerFactory.index,A);v=R.slice(0,T),lI(p,v);for(let P=T;P<R.length;P++)v.push(R[P])}else v=[],lI(p,v);return v}function lI(l,c){for(let d=0;d<l.length;d++)c.push((0,l[d])());return c}function LB(l,c=[]){return d=>{d.providersResolver=(A,p)=>function KL(l,c,d){const A=Ki();if(A.firstCreatePass){const p=Vs(l);Cn(d,A.data,A.blueprint,p,!0),Cn(c,A.data,A.blueprint,p,!1)}}(A,p?p(l):l,c)}}class Hv{}class cI{}function YL(l,c){return new NB(l,c??null)}class NB extends Hv{constructor(c,d){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hS(this);const A=Oo(c);this._bootstrapComponents=Tp(A.bootstrap),this._r3Injector=BT(c,d,[{provide:Hv,useValue:this},{provide:gi,useValue:this.componentFactoryResolver}],Tt(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class b1 extends cI{constructor(c){super(),this.moduleType=c}create(c){return new NB(this.moduleType,c)}}class Ui extends Hv{constructor(c,d,A){super(),this.componentFactoryResolver=new hS(this),this.instance=null;const p=new G([...c,{provide:Hv,useValue:this},{provide:gi,useValue:this.componentFactoryResolver}],d||E(),A,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function xm(l,c,d=null){return new Ui(l,c,d).injector}let PB=(()=>{class l{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d.id)){const A=lm(0,d.type),p=A.length>0?xm([A],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d.id,p)}return this.cachedInjectors.get(d.id)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return l.\u0275prov=cr({token:l,providedIn:"environment",factory:()=>new l(kr(L))}),l})();function lo(l){l.getStandaloneInjector=c=>c.get(PB).getOrCreateStandaloneInjector(l)}function AI(l,c,d){const A=zr()+l,p=Rt();return p[A]===Fi?Af(p,A,d?c.call(d):c()):function V_(l,c){return l[c]}(p,A)}function fI(l,c,d,A){return Im(Rt(),zr(),l,c,d,A)}function x1(l,c,d,A,p,v){return function S1(l,c,d,A,p,v,T,R){const P=c+d;return function DC(l,c,d,A,p){const v=G_(l,c,d,A);return Sc(l,c+2,p)||v}(l,P,p,v,T)?Af(l,P+3,R?A.call(R,p,v,T):A(p,v,T)):Ww(l,P+3)}(Rt(),zr(),l,c,d,A,p,v)}function Ww(l,c){const d=l[c];return d===Fi?void 0:d}function Im(l,c,d,A,p,v){const T=c+d;return Sc(l,T,p)?Af(l,T+1,v?A.call(v,p):A(p)):Ww(l,T+1)}function Pu(l,c){const d=Ki();let A;const p=l+22;d.firstCreatePass?(A=function Jw(l,c){if(c)for(let d=c.length-1;d>=0;d--){const A=c[d];if(l===A.name)return A}}(c,d.pipeRegistry),d.data[p]=A,A.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(p,A.onDestroy)):A=d.data[p];const v=A.factory||(A.factory=ta(A.type)),T=Kr(L_);try{const R=Kd(!1),P=v();return Kd(R),function $T(l,c,d,A){d>=l.data.length&&(l.data[d]=null,l.blueprint[d]=null),c[d]=A}(d,Rt(),p,P),P}finally{Kr(T)}}function gI(l,c,d){const A=l+22,p=Rt(),v=na(p,A);return Gv(p,A)?Im(p,zr(),c,v.transform,d,v):v.transform(d)}function ac(l,c,d,A){const p=l+22,v=Rt(),T=na(v,p);return Gv(v,p)?function pI(l,c,d,A,p,v,T){const R=c+d;return G_(l,R,p,v)?Af(l,R+2,T?A.call(T,p,v):A(p,v)):Ww(l,R+2)}(v,zr(),c,T.transform,d,A,T):T.transform(d,A)}function Gv(l,c){return l[1].data[c].pure}function T1(l){return c=>{setTimeout(l,void 0,c)}}const gf=class D1 extends s.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,d,A){let p=c,v=d||(()=>null),T=A;if(c&&"object"==typeof c){const P=c;p=P.next?.bind(P),v=P.error?.bind(P),T=P.complete?.bind(P)}this.__isAsync&&(v=T1(v),p&&(p=T1(p)),T&&(T=T1(T)));const R=super.subscribe({next:p,error:v,complete:T});return c instanceof ze.w0&&c.add(R),R}};function eN(){return this._results[sc()]()}class B1{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=sc(),A=B1.prototype;A[d]||(A[d]=eN)}get changes(){return this._changes||(this._changes=new gf)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,d){return this._results.reduce(c,d)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,d){const A=this;A.dirty=!1;const p=Gn(c);(this._changesDetected=!function __(l,c,d){if(l.length!==c.length)return!1;for(let A=0;A<l.length;A++){let p=l[A],v=c[A];if(d&&(p=d(p),v=d(v)),v!==p)return!1}return!0}(A._results,p,d))&&(A._results=p,A.length=p.length,A.last=p[this.length-1],A.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Xw=(()=>{class l{}return l.__NG_ELEMENT_ID__=iN,l})();const tN=Xw,nN=class extends tN{constructor(c,d,A){super(),this._declarationLView=c,this._declarationTContainer=d,this.elementRef=A}createEmbeddedView(c,d){const A=this._declarationTContainer.tViews,p=pv(this._declarationLView,A,c,16,null,A.declTNode,null,null,null,null,d||null);p[17]=this._declarationLView[this._declarationTContainer.index];const T=this._declarationLView[19];return null!==T&&(p[19]=T.createEmbeddedView(A)),fm(A,p,c),new uf(p)}};function iN(){return F1(Bs(),Rt())}function F1(l,c){return 4&l.type?new nN(c,l,dr(l,c)):null}let M1=(()=>{class l{}return l.__NG_ELEMENT_ID__=rN,l})();function rN(){return ZB(Bs(),Rt())}const sN=M1,qB=class extends sN{constructor(c,d,A){super(),this._lContainer=c,this._hostTNode=d,this._hostLView=A}get element(){return dr(this._hostTNode,this._hostLView)}get injector(){return new Wd(this._hostTNode,this._hostLView)}get parentInjector(){const c=Uh(this._hostTNode,this._hostLView);if(qd(c)){const d=Ph(c,this._hostLView),A=ud(c);return new Wd(d[1].data[A+8],d)}return new Wd(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const d=KB(this._lContainer);return null!==d&&d[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,d,A){let p,v;"number"==typeof A?p=A:null!=A&&(p=A.index,v=A.injector);const T=c.createEmbeddedView(d||{},v);return this.insert(T,p),T}createComponent(c,d,A,p,v){const T=c&&!function Vh(l){return"function"==typeof l}(c);let R;if(T)R=d;else{const fe=d||{};R=fe.index,A=fe.injector,p=fe.projectableNodes,v=fe.environmentInjector||fe.ngModuleRef}const P=T?c:new pm(mi(c)),j=A||this.parentInjector;if(!v&&null==P.ngModule){const ke=(T?j:this.parentInjector).get(L,null);ke&&(v=ke)}const ee=P.create(j,p,void 0,v);return this.insert(ee.hostView,R),ee}insert(c,d){const A=c._lView,p=A[1];if(function nd(l){return Bl(l[3])}(A)){const ee=this.indexOf(c);if(-1!==ee)this.detach(ee);else{const fe=A[3],ke=new qB(fe,fe[6],fe[3]);ke.detach(ke.indexOf(c))}}const v=this._adjustIndex(d),T=this._lContainer;!function ku(l,c,d,A){const p=10+A,v=d.length;A>0&&(d[p-1][4]=c),A<v-10?(c[4]=d[p],An(d,10+A,c)):(d.push(c),c[4]=null),c[3]=d;const T=c[17];null!==T&&d!==T&&function WA(l,c){const d=l[9];c[16]!==c[3][3][16]&&(l[2]=!0),null===d?l[9]=[c]:d.push(c)}(T,c);const R=c[19];null!==R&&R.insertView(l),c[2]|=64}(p,A,T,v);const R=XA(v,T),P=A[11],j=sh(P,T[7]);return null!==j&&function cw(l,c,d,A,p,v){A[0]=p,A[6]=c,Ru(l,A,d,1,p,v)}(p,T[6],P,A,j,R),c.attachToViewContainerRef(),An(mI(T),v,c),c}move(c,d){return this.insert(c,d)}indexOf(c){const d=KB(this._lContainer);return null!==d?d.indexOf(c):-1}remove(c){const d=this._adjustIndex(c,-1),A=Wh(this._lContainer,d);A&&(tn(mI(this._lContainer),d),rh(A[1],A))}detach(c){const d=this._adjustIndex(c,-1),A=Wh(this._lContainer,d);return A&&null!=tn(mI(this._lContainer),d)?new uf(A):null}_adjustIndex(c,d=0){return c??this.length+d}};function KB(l){return l[8]}function mI(l){return l[8]||(l[8]=[])}function ZB(l,c){let d;const A=c[l.index];if(Bl(A))d=A;else{let p;if(8&l.type)p=_o(A);else{const v=c[11];p=v.createComment("");const T=yo(l,c);wc(v,sh(v,T),p,function bc(l,c){return l.nextSibling(c)}(v,T),!1)}c[l.index]=d=mL(A,c,p,l),mv(c,d)}return new qB(d,l,c)}class k1{constructor(c){this.queryList=c,this.matches=null}clone(){return new k1(this.queryList)}setDirty(){this.queryList.setDirty()}}class _I{constructor(c=[]){this.queries=c}createEmbeddedView(c){const d=c.queries;if(null!==d){const A=null!==c.contentQueries?c.contentQueries[0]:d.length,p=[];for(let v=0;v<A;v++){const T=d.getByIndex(v);p.push(this.queries[T.indexInDeclarationView].clone())}return new _I(p)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let d=0;d<this.queries.length;d++)null!==zo(c,d).matches&&this.queries[d].setDirty()}}class R1{constructor(c,d,A=null){this.predicate=c,this.flags=d,this.read=A}}class Za{constructor(c=[]){this.queries=c}elementStart(c,d){for(let A=0;A<this.queries.length;A++)this.queries[A].elementStart(c,d)}elementEnd(c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(c)}embeddedTView(c){let d=null;for(let A=0;A<this.length;A++){const p=null!==d?d.length:0,v=this.getByIndex(A).embeddedTView(c,p);v&&(v.indexInDeclarationView=A,null!==d?d.push(v):d=[v])}return null!==d?new Za(d):null}template(c,d){for(let A=0;A<this.queries.length;A++)this.queries[A].template(c,d)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class O1{constructor(c,d=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(c,d){this.isApplyingToNode(d)&&this.matchTNode(c,d)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,d){this.elementStart(c,d)}embeddedTView(c,d){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,d),new O1(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let A=c.parent;for(;null!==A&&8&A.type&&A.index!==d;)A=A.parent;return d===(null!==A?A.index:-1)}return this._appliesToNextNode}matchTNode(c,d){const A=this.metadata.predicate;if(Array.isArray(A))for(let p=0;p<A.length;p++){const v=A[p];this.matchTNodeWithReadOption(c,d,Dm(d,v)),this.matchTNodeWithReadOption(c,d,ec(d,c,v,!1,!1))}else A===Xw?4&d.type&&this.matchTNodeWithReadOption(c,d,-1):this.matchTNodeWithReadOption(c,d,ec(d,c,A,!1,!1))}matchTNodeWithReadOption(c,d,A){if(null!==A){const p=this.metadata.read;if(null!==p)if(p===sr||p===M1||p===Xw&&4&d.type)this.addMatch(d.index,-2);else{const v=ec(d,c,p,!1,!1);null!==v&&this.addMatch(d.index,v)}else this.addMatch(d.index,A)}}addMatch(c,d){null===this.matches?this.matches=[c,d]:this.matches.push(c,d)}}function Dm(l,c){const d=l.localNames;if(null!==d)for(let A=0;A<d.length;A+=2)if(d[A]===c)return d[A+1];return null}function Ys(l,c,d,A){return-1===d?function YB(l,c){return 11&l.type?dr(l,c):4&l.type?F1(l,c):null}(c,l):-2===d?function L1(l,c,d){return d===sr?dr(c,l):d===Xw?F1(c,l):d===M1?ZB(c,l):void 0}(l,c,A):Yd(l,l[1],d,c)}function Ul(l,c,d,A){const p=c[19].queries[A];if(null===p.matches){const v=l.data,T=d.matches,R=[];for(let P=0;P<T.length;P+=2){const j=T[P];R.push(j<0?null:Ys(c,v[j],T[P+1],d.metadata.read))}p.matches=R}return p.matches}function Rs(l,c,d,A){const p=l.queries.getByIndex(d),v=p.matches;if(null!==v){const T=Ul(l,c,p,d);for(let R=0;R<v.length;R+=2){const P=v[R];if(P>0)A.push(T[R/2]);else{const j=v[R+1],ee=c[-P];for(let fe=10;fe<ee.length;fe++){const ke=ee[fe];ke[17]===ke[3]&&Rs(ke[1],ke,j,A)}if(null!==ee[9]){const fe=ee[9];for(let ke=0;ke<fe.length;ke++){const tt=fe[ke];Rs(tt[1],tt,j,A)}}}}}return A}function yI(l){const c=Rt(),d=Ki(),A=rd();zc(A+1);const p=zo(d,A);if(l.dirty&&function _u(l){return 4==(4&l[2])}(c)===(2==(2&p.metadata.flags))){if(null===p.matches)l.reset([]);else{const v=p.crossesNgTemplate?Rs(d,c,A,[]):Ul(d,c,p,A);l.reset(v,Bi),l.notifyOnChanges()}return!0}return!1}function iy(l,c,d){const A=Ki();A.firstCreatePass&&(WB(A,new R1(l,c,d),-1),2==(2&c)&&(A.staticViewQueries=!0)),$a(A,Rt(),c)}function eu(l,c,d,A){const p=Ki();if(p.firstCreatePass){const v=Bs();WB(p,new R1(c,d,A),v.index),function Tm(l,c){const d=l.contentQueries||(l.contentQueries=[]);c!==(d.length?d[d.length-1]:-1)&&d.push(l.queries.length-1,c)}(p,l),2==(2&d)&&(p.staticContentQueries=!0)}$a(p,Rt(),d)}function vI(){return function lN(l,c){return l[19].queries[c].queryList}(Rt(),rd())}function $a(l,c,d){const A=new B1(4==(4&d));lL(l,c,A,A.destroy),null===c[19]&&(c[19]=new _I),c[19].queries.push(new k1(A))}function WB(l,c,d){null===l.queries&&(l.queries=new Za),l.queries.track(new O1(c,d))}function zo(l,c){return l.queries.getByIndex(c)}function sb(...l){}const _f=new qr("Application Initializer");let ob=(()=>{class l{constructor(d){this.appInits=d,this.resolve=sb,this.reject=sb,this.initialized=!1,this.done=!1,this.donePromise=new Promise((A,p)=>{this.resolve=A,this.reject=p})}runInitializers(){if(this.initialized)return;const d=[],A=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const v=this.appInits[p]();if(CS(v))d.push(v);else if(Tw(v)){const T=new Promise((R,P)=>{v.subscribe({complete:R,error:P})});d.push(T)}}Promise.all(d).then(()=>{A()}).catch(p=>{this.reject(p)}),0===d.length&&A(),this.initialized=!0}}return l.\u0275fac=function(d){return new(d||l)(kr(_f,8))},l.\u0275prov=cr({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const uy=new qr("AppId",{providedIn:"root",factory:function FI(){return`${Zv()}${Zv()}${Zv()}`}});function Zv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const G1=new qr("Platform Initializer"),dy=new qr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ic=new qr("appBootstrapListener"),j1=new qr("AnimationModuleType");let ab=(()=>{class l{log(d){console.log(d)}warn(d){console.warn(d)}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=cr({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();const $v=new qr("LocaleId",{providedIn:"root",factory:()=>ha($v,Wn.Optional|Wn.SkipSelf)||function uF(){return typeof $localize<"u"&&$localize.locale||vm}()}),lb=new qr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Gp{constructor(c,d){this.ngModuleFactory=c,this.componentFactories=d}}let mN=(()=>{class l{compileModuleSync(d){return new b1(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const A=this.compileModuleSync(d),v=Tp(Oo(d).declarations).reduce((T,R)=>{const P=mi(R);return P&&T.push(new pm(P)),T},[]);return new Gp(A,v)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=cr({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const vN=(()=>Promise.resolve(0))();function kI(l){typeof Zone>"u"?vN.then(()=>{l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}class Hu{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:A=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gf(!1),this.onMicrotaskEmpty=new gf(!1),this.onStable=new gf(!1),this.onError=new gf(!1),typeof Zone>"u")throw new yt(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!A&&d,p.shouldCoalesceRunChangeDetection=A,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function tr(){let l=si.requestAnimationFrame,c=si.cancelAnimationFrame;if(typeof Zone<"u"&&l&&c){const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d);const A=c[Zone.__symbol__("OriginalDelegate")];A&&(c=A)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function q1(l){const c=()=>{!function hF(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(si,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,RI(l),l.isCheckStableRunning=!0,z1(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),RI(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,A,p,v,T,R)=>{try{return AF(l),d.invokeTask(p,v,T,R)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||l.shouldCoalesceRunChangeDetection)&&c(),OI(l)}},onInvoke:(d,A,p,v,T,R,P)=>{try{return AF(l),d.invoke(p,v,T,R,P)}finally{l.shouldCoalesceRunChangeDetection&&c(),OI(l)}},onHasTask:(d,A,p,v)=>{d.hasTask(p,v),A===p&&("microTask"==v.change?(l._hasPendingMicrotasks=v.microTask,RI(l),z1(l)):"macroTask"==v.change&&(l.hasPendingMacrotasks=v.macroTask))},onHandleError:(d,A,p,v)=>(d.handleError(p,v),l.runOutsideAngular(()=>l.onError.emit(v)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Hu.isInAngularZone())throw new yt(909,!1)}static assertNotInAngularZone(){if(Hu.isInAngularZone())throw new yt(909,!1)}run(c,d,A){return this._inner.run(c,d,A)}runTask(c,d,A,p){const v=this._inner,T=v.scheduleEventTask("NgZoneEvent: "+p,c,dF,sb,sb);try{return v.runTask(T,d,A)}finally{v.cancelTask(T)}}runGuarded(c,d,A){return this._inner.runGuarded(c,d,A)}runOutsideAngular(c){return this._outer.run(c)}}const dF={};function z1(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function RI(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function AF(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function OI(l){l._nesting--,z1(l)}class Yv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gf,this.onMicrotaskEmpty=new gf,this.onStable=new gf,this.onError=new gf}run(c,d,A){return c.apply(d,A)}runGuarded(c,d,A){return c.apply(d,A)}runOutsideAngular(c){return c()}runTask(c,d,A,p){return c.apply(d,A)}}const Fm=new qr(""),LI=new qr("");let K1,hy=(()=>{class l{constructor(d,A,p){this._ngZone=d,this.registry=A,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,K1||(function Wv(l){K1=l}(p),p.addToWindow(A)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hu.assertNotInAngularZone(),kI(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())kI(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(A=>!A.updateCb||!A.updateCb(d)||(clearTimeout(A.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,A,p){let v=-1;A&&A>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==v),d(this._didWork,this.getPendingTasks())},A)),this._callbacks.push({doneCb:d,timeoutId:v,updateCb:p})}whenStable(d,A,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,A,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,A,p){return[]}}return l.\u0275fac=function(d){return new(d||l)(kr(Hu),kr(NI),kr(LI))},l.\u0275prov=cr({token:l,factory:l.\u0275fac}),l})(),NI=(()=>{class l{constructor(){this._applications=new Map}registerApplication(d,A){this._applications.set(d,A)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,A=!0){return K1?.findTestabilityInTree(this,d,A)??null}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=cr({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})(),jp=null;const Jv=new qr("AllowMultipleToken"),PI=new qr("PlatformDestroyListeners");class fF{constructor(c,d){this.name=c,this.token=d}}function Ay(l,c,d=[]){const A=`Platform: ${c}`,p=new qr(A);return(v=[])=>{let T=$1();if(!T||T.injector.get(Jv,!1)){const R=[...d,...v,{provide:p,useValue:!0}];l?l(R):function wN(l){if(jp&&!jp.get(Jv,!1))throw new yt(400,!1);jp=l;const c=l.get(fy);(function pF(l){const c=l.get(G1,null);c&&c.forEach(d=>d())})(l)}(function QI(l=[],c){return Am.create({name:c,providers:[{provide:dv,useValue:"platform"},{provide:PI,useValue:new Set([()=>jp=null])},...l]})}(R,A))}return function qp(l){const c=$1();if(!c)throw new yt(401,!1);return c}()}}function $1(){return jp?.get(fy)??null}let fy=(()=>{class l{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,A){const p=function W1(l,c){let d;return d="noop"===l?new Yv:("zone.js"===l?void 0:l)||new Hu(c),d}(A?.ngZone,function Y1(l){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!l||!l.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!l||!l.ngZoneRunCoalescing)||!1}}(A)),v=[{provide:Hu,useValue:p}];return p.run(()=>{const T=Am.create({providers:v,parent:this.injector,name:d.moduleType.name}),R=d.create(T),P=R.injector.get(fl,null);if(!P)throw new yt(402,!1);return p.runOutsideAngular(()=>{const j=p.onError.subscribe({next:ee=>{P.handleError(ee)}});R.onDestroy(()=>{tx(this._modules,R),j.unsubscribe()})}),function J1(l,c,d){try{const A=d();return CS(A)?A.catch(p=>{throw c.runOutsideAngular(()=>l.handleError(p)),p}):A}catch(A){throw c.runOutsideAngular(()=>l.handleError(A)),A}}(P,p,()=>{const j=R.injector.get(ob);return j.runInitializers(),j.donePromise.then(()=>(function CB(l){Fr(l,"Expected localeId to be defined"),"string"==typeof l&&(ZS=l.toLowerCase().replace(/_/g,"-"))}(R.injector.get($v,vm)||vm),this._moduleDoBootstrap(R),R))})})}bootstrapModule(d,A=[]){const p=X1({},A);return function Io(l,c,d){const A=new b1(d);return Promise.resolve(A)}(0,0,d).then(v=>this.bootstrapModuleFactory(v,p))}_moduleDoBootstrap(d){const A=d.injector.get(ex);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(p=>A.bootstrap(p));else{if(!d.instance.ngDoBootstrap)throw new yt(403,!1);d.instance.ngDoBootstrap(A)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new yt(404,!1);this._modules.slice().forEach(A=>A.destroy()),this._destroyListeners.forEach(A=>A());const d=this._injector.get(PI,null);d&&(d.forEach(A=>A()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return l.\u0275fac=function(d){return new(d||l)(kr(Am))},l.\u0275prov=cr({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();function X1(l,c){return Array.isArray(c)?c.reduce(X1,l):{...l,...c}}let ex=(()=>{class l{constructor(d,A,p){this._zone=d,this._injector=A,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new oe.y(R=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{R.next(this._stable),R.complete()})}),T=new oe.y(R=>{let P;this._zone.runOutsideAngular(()=>{P=this._zone.onStable.subscribe(()=>{Hu.assertNotInAngularZone(),kI(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,R.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{Hu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{R.next(!1)}))});return()=>{P.unsubscribe(),j.unsubscribe()}});this.isStable=(0,rt.T)(v,T.pipe((0,lt.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,A){const p=d instanceof Zi;if(!this._injector.get(ob).done)throw!p&&Od(d),new yt(405,false);let T;T=p?d:this._injector.get(gi).resolveComponentFactory(d),this.componentTypes.push(T.componentType);const R=function Z1(l){return l.isBoundToModule}(T)?void 0:this._injector.get(Hv),j=T.create(Am.NULL,[],A||T.selector,R),ee=j.location.nativeElement,fe=j.injector.get(Fm,null);return fe?.registerApplication(ee),j.onDestroy(()=>{this.detachView(j.hostView),tx(this.components,j),fe?.unregisterApplication(ee)}),this._loadComponent(j),j}tick(){if(this._runningTick)throw new yt(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const A=d;this._views.push(A),A.attachToAppRef(this)}detachView(d){const A=d;tx(this._views,A),A.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(Ic,[]).concat(this._bootstrapListeners).forEach(p=>p(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>tx(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new yt(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return l.\u0275fac=function(d){return new(d||l)(kr(Hu),kr(L),kr(fl))},l.\u0275prov=cr({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();function tx(l,c){const d=l.indexOf(c);d>-1&&l.splice(d,1)}function gF(){return!1}function mF(){}let xN=(()=>{class l{}return l.__NG_ELEMENT_ID__=yF,l})();function yF(l){return function vF(l,c,d){if(Dh(l)&&!d){const A=Ts(l.index,c);return new uf(A,A)}return 47&l.type?new uf(c[16],c):null}(Bs(),Rt(),16==(16&l))}class Xv{constructor(){}supports(c){return H_(c)}create(c){return new KI(c)}}const yf=(l,c)=>c;class KI{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||yf}forEachItem(c){let d;for(d=this._itHead;null!==d;d=d._next)c(d)}forEachOperation(c){let d=this._itHead,A=this._removalsHead,p=0,v=null;for(;d||A;){const T=!A||d&&d.currentIndex<$I(A,p,v)?d:A,R=$I(T,p,v),P=T.currentIndex;if(T===A)p--,A=A._nextRemoved;else if(d=d._next,null==T.previousIndex)p++;else{v||(v=[]);const j=R-p,ee=P-p;if(j!=ee){for(let ke=0;ke<j;ke++){const tt=ke<v.length?v[ke]:v[ke]=0,kt=tt+ke;ee<=kt&&kt<j&&(v[ke]=tt+1)}v[T.previousIndex]=ee-j}}R!==P&&c(T,R,P)}}forEachPreviousItem(c){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachMovedItem(c){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}forEachIdentityChange(c){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)c(d)}diff(c){if(null==c&&(c=[]),!H_(c))throw new yt(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let p,v,T,d=this._itHead,A=!1;if(Array.isArray(c)){this.length=c.length;for(let R=0;R<this.length;R++)v=c[R],T=this._trackByFn(R,v),null!==d&&Object.is(d.trackById,T)?(A&&(d=this._verifyReinsertion(d,v,T,R)),Object.is(d.item,v)||this._addIdentityChange(d,v)):(d=this._mismatch(d,v,T,R),A=!0),d=d._next}else p=0,function IC(l,c){if(Array.isArray(l))for(let d=0;d<l.length;d++)c(l[d]);else{const d=l[sc()]();let A;for(;!(A=d.next()).done;)c(A.value)}}(c,R=>{T=this._trackByFn(p,R),null!==d&&Object.is(d.trackById,T)?(A&&(d=this._verifyReinsertion(d,R,T,p)),Object.is(d.item,R)||this._addIdentityChange(d,R)):(d=this._mismatch(d,R,T,p),A=!0),d=d._next,p++}),this.length=p;return this._truncate(d),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,d,A,p){let v;return null===c?v=this._itTail:(v=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(A,null))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._reinsertAfter(c,v,p)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(A,p))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._moveAfter(c,v,p)):c=this._addAfter(new SF(d,A),v,p),c}_verifyReinsertion(c,d,A,p){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(A,null);return null!==v?c=this._reinsertAfter(v,c._prev,p):c.currentIndex!=p&&(c.currentIndex=p,this._addToMoves(c,p)),c}_truncate(c){for(;null!==c;){const d=c._next;this._addToRemovals(this._unlink(c)),c=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,d,A){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const p=c._prevRemoved,v=c._nextRemoved;return null===p?this._removalsHead=v:p._nextRemoved=v,null===v?this._removalsTail=p:v._prevRemoved=p,this._insertAfter(c,d,A),this._addToMoves(c,A),c}_moveAfter(c,d,A){return this._unlink(c),this._insertAfter(c,d,A),this._addToMoves(c,A),c}_addAfter(c,d,A){return this._insertAfter(c,d,A),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,d,A){const p=null===d?this._itHead:d._next;return c._next=p,c._prev=d,null===p?this._itTail=c:p._prev=c,null===d?this._itHead=c:d._next=c,null===this._linkedRecords&&(this._linkedRecords=new ZI),this._linkedRecords.put(c),c.currentIndex=A,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const d=c._prev,A=c._next;return null===d?this._itHead=A:d._next=A,null===A?this._itTail=d:A._prev=d,c}_addToMoves(c,d){return c.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ZI),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,d){return c.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class SF{constructor(c,d){this.item=c,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fb{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,d){let A;for(A=this._head;null!==A;A=A._nextDup)if((null===d||d<=A.currentIndex)&&Object.is(A.trackById,c))return A;return null}remove(c){const d=c._prevDup,A=c._nextDup;return null===d?this._head=A:d._nextDup=A,null===A?this._tail=d:A._prevDup=d,null===this._head}}class ZI{constructor(){this.map=new Map}put(c){const d=c.trackById;let A=this.map.get(d);A||(A=new fb,this.map.set(d,A)),A.add(c)}get(c,d){const p=this.map.get(c);return p?p.get(c,d):null}remove(c){const d=c.trackById;return this.map.get(d).remove(c)&&this.map.delete(d),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $I(l,c,d){const A=l.previousIndex;if(null===A)return A;let p=0;return d&&A<d.length&&(p=d[A]),A+c+p}class YI{constructor(){}supports(c){return c instanceof Map||wv(c)}create(){return new DN}}class DN{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let d;for(d=this._mapHead;null!==d;d=d._next)c(d)}forEachPreviousItem(c){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)c(d)}forEachChangedItem(c){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}diff(c){if(c){if(!(c instanceof Map||wv(c)))throw new yt(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(c,(A,p)=>{if(d&&d.key===p)this._maybeAddToChanges(d,A),this._appendAfter=d,d=d._next;else{const v=this._getOrCreateRecordForKey(p,A);d=this._insertBeforeOrAppend(d,v)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let A=d;null!==A;A=A._nextRemoved)A===this._mapHead&&(this._mapHead=null),this._records.delete(A.key),A._nextRemoved=A._next,A.previousValue=A.currentValue,A.currentValue=null,A._prev=null,A._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,d){if(c){const A=c._prev;return d._next=c,d._prev=A,c._prev=d,A&&(A._next=d),c===this._mapHead&&(this._mapHead=d),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(c,d){if(this._records.has(c)){const p=this._records.get(c);this._maybeAddToChanges(p,d);const v=p._prev,T=p._next;return v&&(v._next=T),T&&(T._prev=v),p._next=null,p._prev=null,p}const A=new TN(c);return this._records.set(c,A),A.currentValue=d,this._addToAdditions(A),A}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,d){Object.is(d,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=d,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,d){c instanceof Map?c.forEach(d):Object.keys(c).forEach(A=>d(c[A],A))}}class TN{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function e0(){return new pb([new Xv])}let pb=(()=>{class l{constructor(d){this.factories=d}static create(d,A){if(null!=A){const p=A.factories.slice();d=d.concat(p)}return new l(d)}static extend(d){return{provide:l,useFactory:A=>l.create(d,A||e0()),deps:[[l,new ll,new Tu]]}}find(d){const A=this.factories.find(p=>p.supports(d));if(null!=A)return A;throw new yt(901,!1)}}return l.\u0275prov=cr({token:l,providedIn:"root",factory:e0}),l})();function WI(){return new gb([new YI])}let gb=(()=>{class l{constructor(d){this.factories=d}static create(d,A){if(A){const p=A.factories.slice();d=d.concat(p)}return new l(d)}static extend(d){return{provide:l,useFactory:A=>l.create(d,A||WI()),deps:[[l,new ll,new Tu]]}}find(d){const A=this.factories.find(p=>p.supports(d));if(A)return A;throw new yt(901,!1)}}return l.\u0275prov=cr({token:l,providedIn:"root",factory:WI}),l})();const MN=Ay(null,"core",[]);let kN=(()=>{class l{constructor(d){}}return l.\u0275fac=function(d){return new(d||l)(kr(ex))},l.\u0275mod=ni({type:l}),l.\u0275inj=xl({}),l})();function Rm(l){return"boolean"==typeof l?l:null!=l&&"false"!==l}},3942:(ei,Lt,re)=>{"use strict";re.d(Lt,{Z:()=>yn});var s=re(2090),ze=re(4859),oe=re(6881),rt=re(1877);class lt{constructor(yt,Ut){this._delegate=yt,this.firebase=Ut,(0,oe._addComponent)(yt,new ze.wA("app-compat",()=>this,"PUBLIC")),this.container=yt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(yt){this._delegate.automaticDataCollectionEnabled=yt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(yt=>{this._delegate.checkDestroyed(),yt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,oe.deleteApp)(this._delegate)))}_getService(yt,Ut=oe._DEFAULT_ENTRY_NAME){var St;this._delegate.checkDestroyed();const qt=this._delegate.container.getProvider(yt);return!qt.isInitialized()&&"EXPLICIT"===(null===(St=qt.getComponent())||void 0===St?void 0:St.instantiationMode)&&qt.initialize(),qt.getImmediate({identifier:Ut})}_removeServiceInstance(yt,Ut=oe._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(yt).clearInstance(Ut)}_addComponent(yt){(0,oe._addComponent)(this._delegate,yt)}_addOrOverwriteComponent(yt){(0,oe._addOrOverwriteComponent)(this._delegate,yt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ke=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Ee=function ut(){const Nn=function Tt(Nn){const yt={},Ut={__esModule:!0,initializeApp:function Jt(sn,Zn={}){const et=oe.initializeApp(sn,Zn);if((0,s.r3)(yt,et.name))return yt[et.name];const It=new Nn(et,Ut);return yt[et.name]=It,It},app:qt,registerVersion:oe.registerVersion,setLogLevel:oe.setLogLevel,onLog:oe.onLog,apps:null,SDK_VERSION:oe.SDK_VERSION,INTERNAL:{registerComponent:function en(sn){const Zn=sn.name,et=Zn.replace("-compat","");if(oe._registerComponent(sn)&&"PUBLIC"===sn.type){const It=(dt=qt())=>{if("function"!=typeof dt[et])throw Ke.create("invalid-app-argument",{appName:Zn});return dt[et]()};void 0!==sn.serviceProps&&(0,s.ZB)(It,sn.serviceProps),Ut[et]=It,Nn.prototype[et]=function(...dt){return this._getService.bind(this,Zn).apply(this,sn.multipleInstances?dt:[])}}return"PUBLIC"===sn.type?Ut[et]:null},removeApp:function St(sn){delete yt[sn]},useAsService:function Tn(sn,Zn){return"serverAuth"===Zn?null:Zn},modularAPIs:oe}};function qt(sn){if(!(0,s.r3)(yt,sn=sn||oe._DEFAULT_ENTRY_NAME))throw Ke.create("no-app",{appName:sn});return yt[sn]}return Ut.default=Ut,Object.defineProperty(Ut,"apps",{get:function ti(){return Object.keys(yt).map(sn=>yt[sn])}}),qt.App=Nn,Ut}(lt);return Nn.INTERNAL=Object.assign(Object.assign({},Nn.INTERNAL),{createFirebaseNamespace:ut,extendNamespace:function yt(Ut){(0,s.ZB)(Nn,Ut)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),Nn}(),De=new rt.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){De.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Nn=self.firebase.SDK_VERSION;Nn&&Nn.indexOf("LITE")>=0&&De.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const yn=Ee;!function Qt(Nn){(0,oe.registerVersion)("@firebase/app-compat","0.2.9",Nn)}()},6881:(ei,Lt,re)=>{"use strict";re.r(Lt),re.d(Lt,{FirebaseError:()=>rt.ZR,SDK_VERSION:()=>du,_DEFAULT_ENTRY_NAME:()=>Kr,_addComponent:()=>Hn,_addOrOverwriteComponent:()=>vi,_apps:()=>Yo,_clearComponents:()=>Qs,_components:()=>si,_getProvider:()=>Ai,_registerComponent:()=>Il,_removeServiceInstance:()=>Oi,deleteApp:()=>kr,getApp:()=>po,getApps:()=>Jo,initializeApp:()=>Vi,onLog:()=>Aa,registerVersion:()=>ha,setLogLevel:()=>rl});var s=re(5861),ze=re(4859),oe=re(1877),rt=re(2090);let vt,Ke;const Ee=new WeakMap,De=new WeakMap,je=new WeakMap,hn=new WeakMap,Qt=new WeakMap;let yt={get(mt,it,$t){if(mt instanceof IDBTransaction){if("done"===it)return De.get(mt);if("objectStoreNames"===it)return mt.objectStoreNames||je.get(mt);if("store"===it)return $t.objectStoreNames[1]?void 0:$t.objectStore($t.objectStoreNames[0])}return Jt(mt[it])},set:(mt,it,$t)=>(mt[it]=$t,!0),has:(mt,it)=>mt instanceof IDBTransaction&&("done"===it||"store"===it)||it in mt};function qt(mt){return"function"==typeof mt?function St(mt){return mt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ut(){return Ke||(Ke=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(mt)?function(...it){return mt.apply(ti(this),it),Jt(Ee.get(this))}:function(...it){return Jt(mt.apply(ti(this),it))}:function(it,...$t){const $n=mt.call(ti(this),it,...$t);return je.set($n,it.sort?it.sort():[it]),Jt($n)}}(mt):(mt instanceof IDBTransaction&&function Nn(mt){if(De.has(mt))return;const it=new Promise(($t,$n)=>{const ni=()=>{mt.removeEventListener("complete",Ei),mt.removeEventListener("error",br),mt.removeEventListener("abort",br)},Ei=()=>{$t(),ni()},br=()=>{$n(mt.error||new DOMException("AbortError","AbortError")),ni()};mt.addEventListener("complete",Ei),mt.addEventListener("error",br),mt.addEventListener("abort",br)});De.set(mt,it)}(mt),((mt,it)=>it.some($t=>mt instanceof $t))(mt,function Tt(){return vt||(vt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(mt,yt):mt)}function Jt(mt){if(mt instanceof IDBRequest)return function yn(mt){const it=new Promise(($t,$n)=>{const ni=()=>{mt.removeEventListener("success",Ei),mt.removeEventListener("error",br)},Ei=()=>{$t(Jt(mt.result)),ni()},br=()=>{$n(mt.error),ni()};mt.addEventListener("success",Ei),mt.addEventListener("error",br)});return it.then($t=>{$t instanceof IDBCursor&&Ee.set($t,mt)}).catch(()=>{}),Qt.set(it,mt),it}(mt);if(hn.has(mt))return hn.get(mt);const it=qt(mt);return it!==mt&&(hn.set(mt,it),Qt.set(it,mt)),it}const ti=mt=>Qt.get(mt),sn=["get","getKey","getAll","getAllKeys","count"],Zn=["put","add","delete","clear"],et=new Map;function It(mt,it){if(!(mt instanceof IDBDatabase)||it in mt||"string"!=typeof it)return;if(et.get(it))return et.get(it);const $t=it.replace(/FromIndex$/,""),$n=it!==$t,ni=Zn.includes($t);if(!($t in($n?IDBIndex:IDBObjectStore).prototype)||!ni&&!sn.includes($t))return;const Ei=function(){var br=(0,s.Z)(function*(fr,..._s){const mi=this.transaction(fr,ni?"readwrite":"readonly");let Rr=mi.store;return $n&&(Rr=Rr.index(_s.shift())),(yield Promise.all([Rr[$t](..._s),ni&&mi.done]))[0]});return function(_s){return br.apply(this,arguments)}}();return et.set(it,Ei),Ei}!function Ut(mt){yt=mt(yt)}(mt=>({...mt,get:(it,$t,$n)=>It(it,$t)||mt.get(it,$t,$n),has:(it,$t)=>!!It(it,$t)||mt.has(it,$t)}));class dt{constructor(it){this.container=it}getPlatformInfoString(){return this.container.getProviders().map($t=>{if(function Kt(mt){return"VERSION"===mt.getComponent()?.type}($t)){const $n=$t.getImmediate();return`${$n.library}/${$n.version}`}return null}).filter($t=>$t).join(" ")}}const Nt="@firebase/app",di=new oe.Yd("@firebase/app"),Kr="[DEFAULT]",hc={[Nt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Yo=new Map,si=new Map;function Hn(mt,it){try{mt.container.addComponent(it)}catch($t){di.debug(`Component ${it.name} failed to register with FirebaseApp ${mt.name}`,$t)}}function vi(mt,it){mt.container.addOrOverwriteComponent(it)}function Il(mt){const it=mt.name;if(si.has(it))return di.debug(`There were multiple attempts to register component ${it}.`),!1;si.set(it,mt);for(const $t of Yo.values())Hn($t,mt);return!0}function Ai(mt,it){const $t=mt.container.getProvider("heartbeat").getImmediate({optional:!0});return $t&&$t.triggerHeartbeat(),mt.container.getProvider(it)}function Oi(mt,it,$t=Kr){Ai(mt,it).clearInstance($t)}function Qs(){si.clear()}const Wo=new rt.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Hi{constructor(it,$t,$n){this._isDeleted=!1,this._options=Object.assign({},it),this._config=Object.assign({},$t),this._name=$t.name,this._automaticDataCollectionEnabled=$t.automaticDataCollectionEnabled,this._container=$n,this.container.addComponent(new ze.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(it){this.checkDestroyed(),this._automaticDataCollectionEnabled=it}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(it){this._isDeleted=it}checkDestroyed(){if(this.isDeleted)throw Wo.create("app-deleted",{appName:this._name})}}const du="9.21.0";function Vi(mt,it={}){let $t=mt;"object"!=typeof it&&(it={name:it});const $n=Object.assign({name:Kr,automaticDataCollectionEnabled:!1},it),ni=$n.name;if("string"!=typeof ni||!ni)throw Wo.create("bad-app-name",{appName:String(ni)});if($t||($t=(0,rt.aH)()),!$t)throw Wo.create("no-options");const Ei=Yo.get(ni);if(Ei){if((0,rt.vZ)($t,Ei.options)&&(0,rt.vZ)($n,Ei.config))return Ei;throw Wo.create("duplicate-app",{appName:ni})}const br=new ze.H0(ni);for(const _s of si.values())br.addComponent(_s);const fr=new Hi($t,$n,br);return Yo.set(ni,fr),fr}function po(mt=Kr){const it=Yo.get(mt);if(!it&&mt===Kr)return Vi();if(!it)throw Wo.create("no-app",{appName:mt});return it}function Jo(){return Array.from(Yo.values())}function kr(mt){return go.apply(this,arguments)}function go(){return(go=(0,s.Z)(function*(mt){const it=mt.name;Yo.has(it)&&(Yo.delete(it),yield Promise.all(mt.container.getProviders().map($t=>$t.delete())),mt.isDeleted=!0)})).apply(this,arguments)}function ha(mt,it,$t){var $n;let ni=null!==($n=hc[mt])&&void 0!==$n?$n:mt;$t&&(ni+=`-${$t}`);const Ei=ni.match(/\s|\//),br=it.match(/\s|\//);if(Ei||br){const fr=[`Unable to register library "${ni}" with version "${it}":`];return Ei&&fr.push(`library name "${ni}" contains illegal characters (whitespace or "/")`),Ei&&br&&fr.push("and"),br&&fr.push(`version name "${it}" contains illegal characters (whitespace or "/")`),void di.warn(fr.join(" "))}Il(new ze.wA(`${ni}-version`,()=>({library:ni,version:it}),"VERSION"))}function Aa(mt,it){if(null!==mt&&"function"!=typeof mt)throw Wo.create("invalid-log-argument");(0,oe.Am)(mt,it)}function rl(mt){(0,oe.Ub)(mt)}const Ce="firebase-heartbeat-store";let ve=null;function Me(){return ve||(ve=function en(mt,it,{blocked:$t,upgrade:$n,blocking:ni,terminated:Ei}={}){const br=indexedDB.open(mt,it),fr=Jt(br);return $n&&br.addEventListener("upgradeneeded",_s=>{$n(Jt(br.result),_s.oldVersion,_s.newVersion,Jt(br.transaction),_s)}),$t&&br.addEventListener("blocked",_s=>$t(_s.oldVersion,_s.newVersion,_s)),fr.then(_s=>{Ei&&_s.addEventListener("close",()=>Ei()),ni&&_s.addEventListener("versionchange",mi=>ni(mi.oldVersion,mi.newVersion,mi))}).catch(()=>{}),fr}("firebase-heartbeat-database",1,{upgrade:(mt,it)=>{0===it&&mt.createObjectStore(Ce)}}).catch(mt=>{throw Wo.create("idb-open",{originalErrorMessage:mt.message})})),ve}function Qe(){return(Qe=(0,s.Z)(function*(mt){try{return(yield Me()).transaction(Ce).objectStore(Ce).get(wi(mt))}catch(it){if(it instanceof rt.ZR)di.warn(it.message);else{const $t=Wo.create("idb-get",{originalErrorMessage:it?.message});di.warn($t.message)}}})).apply(this,arguments)}function Rn(mt,it){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,s.Z)(function*(mt,it){try{const $n=(yield Me()).transaction(Ce,"readwrite");return yield $n.objectStore(Ce).put(it,wi(mt)),$n.done}catch($t){if($t instanceof rt.ZR)di.warn($t.message);else{const $n=Wo.create("idb-set",{originalErrorMessage:$t?.message});di.warn($n.message)}}})).apply(this,arguments)}function wi(mt){return`${mt.name}!${mt.options.appId}`}class Hs{constructor(it){this.container=it,this._heartbeatsCache=null;const $t=this.container.getProvider("app").getImmediate();this._storage=new mo($t),this._heartbeatsCachePromise=this._storage.read().then($n=>(this._heartbeatsCache=$n,$n))}triggerHeartbeat(){var it=this;return(0,s.Z)(function*(){const $n=it.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ni=Gi();if(null===it._heartbeatsCache&&(it._heartbeatsCache=yield it._heartbeatsCachePromise),it._heartbeatsCache.lastSentHeartbeatDate!==ni&&!it._heartbeatsCache.heartbeats.some(Ei=>Ei.date===ni))return it._heartbeatsCache.heartbeats.push({date:ni,agent:$n}),it._heartbeatsCache.heartbeats=it._heartbeatsCache.heartbeats.filter(Ei=>{const br=new Date(Ei.date).valueOf();return Date.now()-br<=2592e6}),it._storage.overwrite(it._heartbeatsCache)})()}getHeartbeatsHeader(){var it=this;return(0,s.Z)(function*(){if(null===it._heartbeatsCache&&(yield it._heartbeatsCachePromise),null===it._heartbeatsCache||0===it._heartbeatsCache.heartbeats.length)return"";const $t=Gi(),{heartbeatsToSend:$n,unsentEntries:ni}=function no(mt,it=1024){const $t=[];let $n=mt.slice();for(const ni of mt){const Ei=$t.find(br=>br.agent===ni.agent);if(Ei){if(Ei.dates.push(ni.date),pa($t)>it){Ei.dates.pop();break}}else if($t.push({agent:ni.agent,dates:[ni.date]}),pa($t)>it){$t.pop();break}$n=$n.slice(1)}return{heartbeatsToSend:$t,unsentEntries:$n}}(it._heartbeatsCache.heartbeats),Ei=(0,rt.L)(JSON.stringify({version:2,heartbeats:$n}));return it._heartbeatsCache.lastSentHeartbeatDate=$t,ni.length>0?(it._heartbeatsCache.heartbeats=ni,yield it._storage.overwrite(it._heartbeatsCache)):(it._heartbeatsCache.heartbeats=[],it._storage.overwrite(it._heartbeatsCache)),Ei})()}}function Gi(){return(new Date).toISOString().substring(0,10)}class mo{constructor(it){this.app=it,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,rt.hl)()&&(0,rt.eu)().then(()=>!0).catch(()=>!1)})()}read(){var it=this;return(0,s.Z)(function*(){return(yield it._canUseIndexedDBPromise)&&(yield function wt(mt){return Qe.apply(this,arguments)}(it.app))||{heartbeats:[]}})()}overwrite(it){var $t=this;return(0,s.Z)(function*(){var $n;if(yield $t._canUseIndexedDBPromise){const Ei=yield $t.read();return Rn($t.app,{lastSentHeartbeatDate:null!==($n=it.lastSentHeartbeatDate)&&void 0!==$n?$n:Ei.lastSentHeartbeatDate,heartbeats:it.heartbeats})}})()}add(it){var $t=this;return(0,s.Z)(function*(){var $n;if(yield $t._canUseIndexedDBPromise){const Ei=yield $t.read();return Rn($t.app,{lastSentHeartbeatDate:null!==($n=it.lastSentHeartbeatDate)&&void 0!==$n?$n:Ei.lastSentHeartbeatDate,heartbeats:[...Ei.heartbeats,...it.heartbeats]})}})()}}function pa(mt){return(0,rt.L)(JSON.stringify({version:2,heartbeats:mt})).length}!function Ju(mt){Il(new ze.wA("platform-logger",it=>new dt(it),"PRIVATE")),Il(new ze.wA("heartbeat",it=>new Hs(it),"PRIVATE")),ha(Nt,"0.9.9",mt),ha(Nt,"0.9.9","esm2017"),ha("fire-js","")}("")},4859:(ei,Lt,re)=>{"use strict";re.d(Lt,{H0:()=>Tt,wA:()=>oe,zt:()=>lt});var s=re(5861),ze=re(2090);class oe{constructor(Ee,De,je){this.name=Ee,this.instanceFactory=De,this.type=je,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ee){return this.instantiationMode=Ee,this}setMultipleInstances(Ee){return this.multipleInstances=Ee,this}setServiceProps(Ee){return this.serviceProps=Ee,this}setInstanceCreatedCallback(Ee){return this.onInstanceCreated=Ee,this}}const rt="[DEFAULT]";class lt{constructor(Ee,De){this.name=Ee,this.container=De,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ee){const De=this.normalizeInstanceIdentifier(Ee);if(!this.instancesDeferred.has(De)){const je=new ze.BH;if(this.instancesDeferred.set(De,je),this.isInitialized(De)||this.shouldAutoInitialize())try{const hn=this.getOrInitializeService({instanceIdentifier:De});hn&&je.resolve(hn)}catch{}}return this.instancesDeferred.get(De).promise}getImmediate(Ee){var De;const je=this.normalizeInstanceIdentifier(Ee?.identifier),hn=null!==(De=Ee?.optional)&&void 0!==De&&De;if(!this.isInitialized(je)&&!this.shouldAutoInitialize()){if(hn)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:je})}catch(Qt){if(hn)return null;throw Qt}}getComponent(){return this.component}setComponent(Ee){if(Ee.name!==this.name)throw Error(`Mismatching Component ${Ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ee,this.shouldAutoInitialize()){if(function Ke(ut){return"EAGER"===ut.instantiationMode}(Ee))try{this.getOrInitializeService({instanceIdentifier:rt})}catch{}for(const[De,je]of this.instancesDeferred.entries()){const hn=this.normalizeInstanceIdentifier(De);try{const Qt=this.getOrInitializeService({instanceIdentifier:hn});je.resolve(Qt)}catch{}}}}clearInstance(Ee=rt){this.instancesDeferred.delete(Ee),this.instancesOptions.delete(Ee),this.instances.delete(Ee)}delete(){var Ee=this;return(0,s.Z)(function*(){const De=Array.from(Ee.instances.values());yield Promise.all([...De.filter(je=>"INTERNAL"in je).map(je=>je.INTERNAL.delete()),...De.filter(je=>"_delete"in je).map(je=>je._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ee=rt){return this.instances.has(Ee)}getOptions(Ee=rt){return this.instancesOptions.get(Ee)||{}}initialize(Ee={}){const{options:De={}}=Ee,je=this.normalizeInstanceIdentifier(Ee.instanceIdentifier);if(this.isInitialized(je))throw Error(`${this.name}(${je}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const hn=this.getOrInitializeService({instanceIdentifier:je,options:De});for(const[Qt,yn]of this.instancesDeferred.entries())je===this.normalizeInstanceIdentifier(Qt)&&yn.resolve(hn);return hn}onInit(Ee,De){var je;const hn=this.normalizeInstanceIdentifier(De),Qt=null!==(je=this.onInitCallbacks.get(hn))&&void 0!==je?je:new Set;Qt.add(Ee),this.onInitCallbacks.set(hn,Qt);const yn=this.instances.get(hn);return yn&&Ee(yn,hn),()=>{Qt.delete(Ee)}}invokeOnInitCallbacks(Ee,De){const je=this.onInitCallbacks.get(De);if(je)for(const hn of je)try{hn(Ee,De)}catch{}}getOrInitializeService({instanceIdentifier:Ee,options:De={}}){let je=this.instances.get(Ee);if(!je&&this.component&&(je=this.component.instanceFactory(this.container,{instanceIdentifier:(ut=Ee,ut===rt?void 0:ut),options:De}),this.instances.set(Ee,je),this.instancesOptions.set(Ee,De),this.invokeOnInitCallbacks(je,Ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ee,je)}catch{}var ut;return je||null}normalizeInstanceIdentifier(Ee=rt){return this.component?this.component.multipleInstances?Ee:rt:Ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Tt{constructor(Ee){this.name=Ee,this.providers=new Map}addComponent(Ee){const De=this.getProvider(Ee.name);if(De.isComponentSet())throw new Error(`Component ${Ee.name} has already been registered with ${this.name}`);De.setComponent(Ee)}addOrOverwriteComponent(Ee){this.getProvider(Ee.name).isComponentSet()&&this.providers.delete(Ee.name),this.addComponent(Ee)}getProvider(Ee){if(this.providers.has(Ee))return this.providers.get(Ee);const De=new lt(Ee,this);return this.providers.set(Ee,De),De}getProviders(){return Array.from(this.providers.values())}}},1877:(ei,Lt,re)=>{"use strict";re.d(Lt,{Am:()=>ut,Ub:()=>Tt,Yd:()=>Ke,in:()=>ze});const s=[];var ze=(()=>{return(Ee=ze||(ze={}))[Ee.DEBUG=0]="DEBUG",Ee[Ee.VERBOSE=1]="VERBOSE",Ee[Ee.INFO=2]="INFO",Ee[Ee.WARN=3]="WARN",Ee[Ee.ERROR=4]="ERROR",Ee[Ee.SILENT=5]="SILENT",ze;var Ee})();const oe={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},rt=ze.INFO,lt={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},vt=(Ee,De,...je)=>{if(De<Ee.logLevel)return;const hn=(new Date).toISOString(),Qt=lt[De];if(!Qt)throw new Error(`Attempted to log a message with an invalid logType (value: ${De})`);console[Qt](`[${hn}]  ${Ee.name}:`,...je)};class Ke{constructor(De){this.name=De,this._logLevel=rt,this._logHandler=vt,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(De){if(!(De in ze))throw new TypeError(`Invalid value "${De}" assigned to \`logLevel\``);this._logLevel=De}setLogLevel(De){this._logLevel="string"==typeof De?oe[De]:De}get logHandler(){return this._logHandler}set logHandler(De){if("function"!=typeof De)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=De}get userLogHandler(){return this._userLogHandler}set userLogHandler(De){this._userLogHandler=De}debug(...De){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...De),this._logHandler(this,ze.DEBUG,...De)}log(...De){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...De),this._logHandler(this,ze.VERBOSE,...De)}info(...De){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...De),this._logHandler(this,ze.INFO,...De)}warn(...De){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...De),this._logHandler(this,ze.WARN,...De)}error(...De){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...De),this._logHandler(this,ze.ERROR,...De)}}function Tt(Ee){s.forEach(De=>{De.setLogLevel(Ee)})}function ut(Ee,De){for(const je of s){let hn=null;De&&De.level&&(hn=oe[De.level]),je.userLogHandler=null===Ee?null:(Qt,yn,...Nn)=>{const yt=Nn.map(Ut=>{if(null==Ut)return null;if("string"==typeof Ut)return Ut;if("number"==typeof Ut||"boolean"==typeof Ut)return Ut.toString();if(Ut instanceof Error)return Ut.message;try{return JSON.stringify(Ut)}catch{return null}}).filter(Ut=>Ut).join(" ");yn>=(hn??Qt.logLevel)&&Ee({level:ze[yn].toLowerCase(),message:yt,args:Nn,type:Qt.name})}}}},259:(ei,Lt,re)=>{"use strict";re.d(Lt,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=re(6881);(0,s.registerVersion)("firebase","9.21.0","app")},9260:(ei,Lt,re)=>{"use strict";re.d(Lt,{Z:()=>s.Z});var s=re(3942);s.Z.registerVersion("firebase","9.21.0","app-compat")},8523:(ei,Lt,re)=>{"use strict";re.r(Lt);var s=re(5861),ze=re(3942),oe=re(2090),rt=re(6881);function Tt(x,g){var m={};for(var D in x)Object.prototype.hasOwnProperty.call(x,D)&&g.indexOf(D)<0&&(m[D]=x[D]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var Q=0;for(D=Object.getOwnPropertySymbols(x);Q<D.length;Q++)g.indexOf(D[Q])<0&&Object.prototype.propertyIsEnumerable.call(x,D[Q])&&(m[D[Q]]=x[D[Q]])}return m}var gn=re(1877),di=re(4859);const Cl=function hi(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},fo=function Ss(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},cr=new oe.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xl=new gn.Yd("@firebase/auth");function uu(x,...g){xl.logLevel<=gn.in.ERROR&&xl.error(`Auth (${rt.SDK_VERSION}): ${x}`,...g)}function rs(x,...g){throw Sl(x,...g)}function hs(x,...g){return Sl(x,...g)}function uc(x,g,m){const D=Object.assign(Object.assign({},fo()),{[g]:m});return new oe.LL("auth","Firebase",D).create(g,{appName:x.name})}function Ps(x,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&rs(x,"argument-error"),uc(x,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sl(x,...g){if("string"!=typeof x){const m=g[0],D=[...g.slice(1)];return D[0]&&(D[0].appName=x.name),x._errorFactory.create(m,...D)}return cr.create(x,...g)}function Zt(x,g,...m){if(!x)throw Sl(g,...m)}function Mr(x){const g="INTERNAL ASSERTION FAILED: "+x;throw uu(g),new Error(g)}function Us(x,g){x||Mr(g)}function Wn(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.href)||""}function dc(){return"http:"===Qc()||"https:"===Qc()}function Qc(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.protocol)||null}class Yo{constructor(g,m){this.shortDelay=g,this.longDelay=m,Us(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,oe.uI)()||(0,oe.b$)()}get(){return function Kr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(dc()||(0,oe.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function si(x,g){Us(x.emulator,"Emulator should always be set here");const{url:m}=x.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class Hn{static initialize(g,m,D){this.fetchImpl=g,m&&(this.headersImpl=m),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Il=new Yo(3e4,6e4);function Ai(x,g){return x.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:x.tenantId}):g}function Oi(x,g,m,D){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,s.Z)(function*(x,g,m,D,Q={}){return Zr(x,Q,(0,s.Z)(function*(){let z={},ge={};D&&("GET"===g?ge=D:z={body:JSON.stringify(D)});const Le=(0,oe.xO)(Object.assign({key:x.config.apiKey},ge)).slice(1),Pt=yield x._getAdditionalHeaders();return Pt["Content-Type"]="application/json",x.languageCode&&(Pt["X-Firebase-Locale"]=x.languageCode),Hn.fetch()(Vi(x,x.config.apiHost,m,Le),Object.assign({method:g,headers:Pt,referrerPolicy:"no-referrer"},z))}))})).apply(this,arguments)}function Zr(x,g,m){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,s.Z)(function*(x,g,m){x._canInitEmulator=!1;const D=Object.assign(Object.assign({},vi),g);try{const Q=new po(x),z=yield Promise.race([m(),Q.promise]);Q.clearNetworkTimeout();const ge=yield z.json();if("needConfirmation"in ge)throw Jo(x,"account-exists-with-different-credential",ge);if(z.ok&&!("errorMessage"in ge))return ge;{const Le=z.ok?ge.errorMessage:ge.error.message,[Pt,Ct]=Le.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pt)throw Jo(x,"credential-already-in-use",ge);if("EMAIL_EXISTS"===Pt)throw Jo(x,"email-already-in-use",ge);if("USER_DISABLED"===Pt)throw Jo(x,"user-disabled",ge);const nn=D[Pt]||Pt.toLowerCase().replace(/[_\s]+/g,"-");if(Ct)throw uc(x,nn,Ct);rs(x,nn)}}catch(Q){if(Q instanceof oe.ZR)throw Q;rs(x,"network-request-failed",{message:String(Q)})}})).apply(this,arguments)}function Hi(x,g,m,D){return du.apply(this,arguments)}function du(){return(du=(0,s.Z)(function*(x,g,m,D,Q={}){const z=yield Oi(x,g,m,D,Q);return"mfaPendingCredential"in z&&rs(x,"multi-factor-auth-required",{_serverResponse:z}),z})).apply(this,arguments)}function Vi(x,g,m,D){const Q=`${g}${m}?${D}`;return x.config.emulator?si(x.config,Q):`${x.config.apiScheme}://${Q}`}class po{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,D)=>{this.timer=setTimeout(()=>D(hs(this.auth,"network-request-failed")),Il.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jo(x,g,m){const D={appName:x.name};m.email&&(D.email=m.email),m.phoneNumber&&(D.phoneNumber=m.phoneNumber);const Q=hs(x,g,D);return Q.customData._tokenResponse=m,Q}function go(){return(go=(0,s.Z)(function*(x,g){return Oi(x,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function ha(x,g){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,s.Z)(function*(x,g){return Oi(x,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function rl(x,g){return Is.apply(this,arguments)}function Is(){return(Is=(0,s.Z)(function*(x,g){return Oi(x,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function fa(x){if(x)try{const g=new Date(Number(x));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Me(){return(Me=(0,s.Z)(function*(x,g=!1){const m=(0,oe.m9)(x),D=yield m.getIdToken(g),Q=Qe(D);Zt(Q&&Q.exp&&Q.auth_time&&Q.iat,m.auth,"internal-error");const z="object"==typeof Q.firebase?Q.firebase:void 0,ge=z?.sign_in_provider;return{claims:Q,token:D,authTime:fa(wt(Q.auth_time)),issuedAtTime:fa(wt(Q.iat)),expirationTime:fa(wt(Q.exp)),signInProvider:ge||null,signInSecondFactor:z?.sign_in_second_factor||null}})).apply(this,arguments)}function wt(x){return 1e3*Number(x)}function Qe(x){const[g,m,D]=x.split(".");if(void 0===g||void 0===m||void 0===D)return uu("JWT malformed, contained fewer than 3 sections"),null;try{const Q=(0,oe.tV)(m);return Q?JSON.parse(Q):(uu("Failed to decode base64 JWT payload"),null)}catch(Q){return uu("Caught error parsing JWT payload as JSON",Q?.toString()),null}}function Vn(x,g){return wi.apply(this,arguments)}function wi(){return(wi=(0,s.Z)(function*(x,g,m=!1){if(m)return g;try{return yield g}catch(D){throw D instanceof oe.ZR&&fi(D)&&x.auth.currentUser===x&&(yield x.auth.signOut()),D}})).apply(this,arguments)}function fi({code:x}){return"auth/user-disabled"===x||"auth/user-token-expired"===x}class es{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const Q=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,Q)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const D=this.getInterval(g);this.timerId=setTimeout((0,s.Z)(function*(){yield m.iteration()}),D)}iteration(){var g=this;return(0,s.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&g.schedule(!0))}g.schedule()})()}}class Hs{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=fa(this.lastLoginAt),this.creationTime=fa(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Gi(x){return no.apply(this,arguments)}function no(){return(no=(0,s.Z)(function*(x){var g;const m=x.auth,D=yield x.getIdToken(),Q=yield Vn(x,rl(m,{idToken:D}));Zt(Q?.users.length,m,"internal-error");const z=Q.users[0];x._notifyReloadListener(z);const ge=null!==(g=z.providerUserInfo)&&void 0!==g&&g.length?mt(z.providerUserInfo):[],Le=Ju(x.providerData,ge),nn=!!x.isAnonymous&&!(x.email&&z.passwordHash||Le?.length),fn={uid:z.localId,displayName:z.displayName||null,photoURL:z.photoUrl||null,email:z.email||null,emailVerified:z.emailVerified||!1,phoneNumber:z.phoneNumber||null,tenantId:z.tenantId||null,providerData:Le,metadata:new Hs(z.createdAt,z.lastLoginAt),isAnonymous:nn};Object.assign(x,fn)})).apply(this,arguments)}function pa(){return(pa=(0,s.Z)(function*(x){const g=(0,oe.m9)(x);yield Gi(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Ju(x,g){return[...x.filter(D=>!g.some(Q=>Q.providerId===D.providerId)),...g]}function mt(x){return x.map(g=>{var{providerId:m}=g,D=Tt(g,["providerId"]);return{providerId:m,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function $t(){return($t=(0,s.Z)(function*(x,g){const m=yield Zr(x,{},(0,s.Z)(function*(){const D=(0,oe.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:Q,apiKey:z}=x.config,ge=Vi(x,Q,"/v1/token",`key=${z}`),Le=yield x._getAdditionalHeaders();return Le["Content-Type"]="application/x-www-form-urlencoded",Hn.fetch()(ge,{method:"POST",headers:Le,body:D})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class $n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Zt(g.idToken,"internal-error"),Zt(typeof g.idToken<"u","internal-error"),Zt(typeof g.refreshToken<"u","internal-error");const m="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Rn(x){const g=Qe(x);return Zt(g,"internal-error"),Zt(typeof g.exp<"u","internal-error"),Zt(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var D=this;return(0,s.Z)(function*(){return Zt(!D.accessToken||D.refreshToken,g,"user-token-expired"),m||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(g,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var D=this;return(0,s.Z)(function*(){const{accessToken:Q,refreshToken:z,expiresIn:ge}=yield function it(x,g){return $t.apply(this,arguments)}(g,m);D.updateTokensAndExpiration(Q,z,Number(ge))})()}updateTokensAndExpiration(g,m,D){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(g,m){const{refreshToken:D,accessToken:Q,expirationTime:z}=m,ge=new $n;return D&&(Zt("string"==typeof D,"internal-error",{appName:g}),ge.refreshToken=D),Q&&(Zt("string"==typeof Q,"internal-error",{appName:g}),ge.accessToken=Q),z&&(Zt("number"==typeof z,"internal-error",{appName:g}),ge.expirationTime=z),ge}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new $n,this.toJSON())}_performRefresh(){return Mr("not implemented")}}function ni(x,g){Zt("string"==typeof x||typeof x>"u","internal-error",{appName:g})}class Ei{constructor(g){var{uid:m,auth:D,stsTokenManager:Q}=g,z=Tt(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new es(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=D,this.stsTokenManager=Q,this.accessToken=Q.accessToken,this.displayName=z.displayName||null,this.email=z.email||null,this.emailVerified=z.emailVerified||!1,this.phoneNumber=z.phoneNumber||null,this.photoURL=z.photoURL||null,this.isAnonymous=z.isAnonymous||!1,this.tenantId=z.tenantId||null,this.providerData=z.providerData?[...z.providerData]:[],this.metadata=new Hs(z.createdAt||void 0,z.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,s.Z)(function*(){const D=yield Vn(m,m.stsTokenManager.getToken(m.auth,g));return Zt(D,m.auth,"internal-error"),m.accessToken!==D&&(m.accessToken=D,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),D})()}getIdTokenResult(g){return function ve(x){return Me.apply(this,arguments)}(this,g)}reload(){return function mo(x){return pa.apply(this,arguments)}(this)}_assign(g){this!==g&&(Zt(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const m=new Ei(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(g){Zt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var D=this;return(0,s.Z)(function*(){let Q=!1;g.idToken&&g.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(g),Q=!0),m&&(yield Gi(D)),yield D.auth._persistUserIfCurrent(D),Q&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var g=this;return(0,s.Z)(function*(){const m=yield g.getIdToken();return yield Vn(g,function kr(x,g){return go.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var D,Q,z,ge,Le,Pt,Ct,nn;const fn=null!==(D=m.displayName)&&void 0!==D?D:void 0,Yi=null!==(Q=m.email)&&void 0!==Q?Q:void 0,$s=null!==(z=m.phoneNumber)&&void 0!==z?z:void 0,xc=null!==(ge=m.photoURL)&&void 0!==ge?ge:void 0,af=null!==(Le=m.tenantId)&&void 0!==Le?Le:void 0,xp=null!==(Pt=m._redirectEventId)&&void 0!==Pt?Pt:void 0,M_=null!==(Ct=m.createdAt)&&void 0!==Ct?Ct:void 0,am=null!==(nn=m.lastLoginAt)&&void 0!==nn?nn:void 0,{uid:k_,emailVerified:cv,isAnonymous:lm,providerData:cm,stsTokenManager:lf}=m;Zt(k_&&lf,g,"internal-error");const Aw=$n.fromJSON(this.name,lf);Zt("string"==typeof k_,g,"internal-error"),ni(fn,g.name),ni(Yi,g.name),Zt("boolean"==typeof cv,g,"internal-error"),Zt("boolean"==typeof lm,g,"internal-error"),ni($s,g.name),ni(xc,g.name),ni(af,g.name),ni(xp,g.name),ni(M_,g.name),ni(am,g.name);const dA=new Ei({uid:k_,auth:g,email:Yi,emailVerified:cv,displayName:fn,isAnonymous:lm,photoURL:xc,phoneNumber:$s,tenantId:af,stsTokenManager:Aw,createdAt:M_,lastLoginAt:am});return cm&&Array.isArray(cm)&&(dA.providerData=cm.map(um=>Object.assign({},um))),xp&&(dA._redirectEventId=xp),dA}static _fromIdTokenResponse(g,m,D=!1){return(0,s.Z)(function*(){const Q=new $n;Q.updateFromServerResponse(m);const z=new Ei({uid:m.localId,auth:g,stsTokenManager:Q,isAnonymous:D});return yield Gi(z),z})()}}const br=new Map;function fr(x){Us(x instanceof Function,"Expected a class definition");let g=br.get(x);return g?(Us(g instanceof x,"Instance stored in cache mismatched with class"),g):(g=new x,br.set(x,g),g)}const mi=(()=>{class x{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(m,D){var Q=this;return(0,s.Z)(function*(){Q.storage[m]=D})()}_get(m){var D=this;return(0,s.Z)(function*(){const Q=D.storage[m];return void 0===Q?null:Q})()}_remove(m){var D=this;return(0,s.Z)(function*(){delete D.storage[m]})()}_addListener(m,D){}_removeListener(m,D){}}return x.type="NONE",x})();function Rr(x,g,m){return`firebase:${x}:${g}:${m}`}class $r{constructor(g,m,D){this.persistence=g,this.auth=m,this.userKey=D;const{config:Q,name:z}=this.auth;this.fullUserKey=Rr(this.userKey,Q.apiKey,z),this.fullPersistenceKey=Rr("persistence",Q.apiKey,z),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,s.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?Ei._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,s.Z)(function*(){if(m.persistence===g)return;const D=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,D?m.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,D="authUser"){return(0,s.Z)(function*(){if(!m.length)return new $r(fr(mi),g,D);const Q=(yield Promise.all(m.map(function(){var Ct=(0,s.Z)(function*(nn){if(yield nn._isAvailable())return nn});return function(nn){return Ct.apply(this,arguments)}}()))).filter(Ct=>Ct);let z=Q[0]||fr(mi);const ge=Rr(D,g.config.apiKey,g.name);let Le=null;for(const Ct of m)try{const nn=yield Ct._get(ge);if(nn){const fn=Ei._fromJSON(g,nn);Ct!==z&&(Le=fn),z=Ct;break}}catch{}const Pt=Q.filter(Ct=>Ct._shouldAllowMigration);return z._shouldAllowMigration&&Pt.length?(z=Pt[0],Le&&(yield z._set(ge,Le.toJSON())),yield Promise.all(m.map(function(){var Ct=(0,s.Z)(function*(nn){if(nn!==z)try{yield nn._remove(ge)}catch{}});return function(nn){return Ct.apply(this,arguments)}}())),new $r(z,g,D)):new $r(z,g,D)})()}}function Od(x){const g=x.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Di(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Oo(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Dl(g))return"Blackberry";if(As(g))return"Webos";if(ys(g))return"Safari";if((g.includes("chrome/")||vn(g))&&!g.includes("edge/"))return"Chrome";if(Ir(g))return"Android";{const D=x.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function Oo(x=(0,oe.z$)()){return/firefox\//i.test(x)}function ys(x=(0,oe.z$)()){const g=x.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function vn(x=(0,oe.z$)()){return/crios\//i.test(x)}function Di(x=(0,oe.z$)()){return/iemobile/i.test(x)}function Ir(x=(0,oe.z$)()){return/android/i.test(x)}function Dl(x=(0,oe.z$)()){return/blackberry/i.test(x)}function As(x=(0,oe.z$)()){return/webos/i.test(x)}function Gr(x=(0,oe.z$)()){return/iphone|ipad|ipod/i.test(x)||/macintosh/i.test(x)&&/mobile/i.test(x)}function hu(x=(0,oe.z$)()){return Gr(x)||Ir(x)||As(x)||Dl(x)||/windows phone/i.test(x)||Di(x)}function Vc(x,g=[]){let m;switch(x){case"Browser":m=Od((0,oe.z$)());break;case"Worker":m=`${Od((0,oe.z$)())}-${x}`;break;default:m=x}const D=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${rt.SDK_VERSION}/${D}`}function Eh(){return(Eh=(0,s.Z)(function*(x){return(yield Oi(x,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ld(x,g){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,s.Z)(function*(x,g){return Oi(x,"GET","/v2/recaptchaConfig",Ai(x,g))})).apply(this,arguments)}function Xu(x){return void 0!==x&&void 0!==x.getResponse}function No(x){return void 0!==x&&void 0!==x.enterprise}class Tl{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function jr(x){return new Promise((g,m)=>{const D=document.createElement("script");D.setAttribute("src",x),D.onload=g,D.onerror=Q=>{const z=hs("internal-error");z.customData=Q,m(z)},D.type="text/javascript",D.charset="UTF-8",function Sh(){var x,g;return null!==(g=null===(x=document.getElementsByTagName("head"))||void 0===x?void 0:x[0])&&void 0!==g?g:document}().appendChild(D)})}function Yr(x){return`__${x}${Math.floor(1e6*Math.random())}`}class Pd{constructor(g){this.type="recaptcha-enterprise",this.auth=ur(g)}verify(g="verify",m=!1){var D=this;return(0,s.Z)(function*(){function z(){return z=(0,s.Z)(function*(Le){if(!m){if(null==Le.tenantId&&null!=Le._agentRecaptchaConfig)return Le._agentRecaptchaConfig.siteKey;if(null!=Le.tenantId&&void 0!==Le._tenantRecaptchaConfigs[Le.tenantId])return Le._tenantRecaptchaConfigs[Le.tenantId].siteKey}return new Promise(function(){var Pt=(0,s.Z)(function*(Ct,nn){Ld(Le,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(fn=>{if(void 0!==fn.recaptchaKey){const Yi=new Tl(fn);return null==Le.tenantId?Le._agentRecaptchaConfig=Yi:Le._tenantRecaptchaConfigs[Le.tenantId]=Yi,Ct(Yi.siteKey)}nn(new Error("recaptcha Enterprise site key undefined"))}).catch(fn=>{nn(fn)})});return function(Ct,nn){return Pt.apply(this,arguments)}}())}),z.apply(this,arguments)}function ge(Le,Pt,Ct){const nn=window.grecaptcha;No(nn)?nn.enterprise.ready(()=>{nn.enterprise.execute(Le,{action:g}).then(fn=>{Pt(fn)}).catch(()=>{Pt("NO_RECAPTCHA")})}):Ct(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Le,Pt)=>{(function Q(Le){return z.apply(this,arguments)})(D.auth).then(Ct=>{if(!m&&No(window.grecaptcha))ge(Ct,Le,Pt);else{if(typeof window>"u")return void Pt(new Error("RecaptchaVerifier is only supported in browser"));jr("https://www.google.com/recaptcha/enterprise.js?render="+Ct).then(()=>{ge(Ct,Le,Pt)}).catch(nn=>{Pt(nn)})}}).catch(Ct=>{Pt(Ct)})})})()}}function sl(x,g,m){return ed.apply(this,arguments)}function ed(){return(ed=(0,s.Z)(function*(x,g,m,D=!1){const Q=new Pd(x);let z;try{z=yield Q.verify(m)}catch{z=yield Q.verify(m,!0)}const ge=Object.assign({},g);return Object.assign(ge,D?{captchaResp:z}:{captchaResponse:z}),Object.assign(ge,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ge,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ge})).apply(this,arguments)}class io{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const D=z=>new Promise((ge,Le)=>{try{ge(g(z))}catch(Pt){Le(Pt)}});D.onAbort=m,this.queue.push(D);const Q=this.queue.length-1;return()=>{this.queue[Q]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,s.Z)(function*(){if(m.auth.currentUser===g)return;const D=[];try{for(const Q of m.queue)yield Q(g),Q.onAbort&&D.push(Q.onAbort)}catch(Q){D.reverse();for(const z of D)try{z()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:Q?.message})}})()}}class Uf{constructor(g,m,D,Q){this.app=g,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=D,this.config=Q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bl(this),this.idTokenSubscription=new Bl(this),this.beforeStateQueue=new io(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=Q.sdkClientVersion}_initializeWithPersistence(g,m){var D=this;return m&&(this._popupRedirectResolver=fr(m)),this._initializationPromise=this.queue((0,s.Z)(function*(){var Q,z;if(!D._deleted&&(D.persistenceManager=yield $r.create(D,g),!D._deleted)){if(null!==(Q=D._popupRedirectResolver)&&void 0!==Q&&Q._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(m),D.lastNotifiedUid=(null===(z=D.currentUser)||void 0===z?void 0:z.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,s.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,s.Z)(function*(){var D;const Q=yield m.assertedPersistence.getCurrentUser();let z=Q,ge=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Le=null===(D=m.redirectUser)||void 0===D?void 0:D._redirectEventId,Pt=z?._redirectEventId,Ct=yield m.tryRedirectSignIn(g);(!Le||Le===Pt)&&Ct?.user&&(z=Ct.user,ge=!0)}if(!z)return m.directlySetCurrentUser(null);if(!z._redirectEventId){if(ge)try{yield m.beforeStateQueue.runMiddleware(z)}catch(Le){z=Q,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Le))}return z?m.reloadAndSetCurrentUserOrClear(z):m.directlySetCurrentUser(null)}return Zt(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===z._redirectEventId?m.directlySetCurrentUser(z):m.reloadAndSetCurrentUserOrClear(z)})()}tryRedirectSignIn(g){var m=this;return(0,s.Z)(function*(){let D=null;try{D=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch{yield m._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,s.Z)(function*(){try{yield Gi(g)}catch(D){if("auth/network-request-failed"!==D?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function hc(){if(typeof navigator>"u")return null;const x=navigator;return x.languages&&x.languages[0]||x.language||null}()}_delete(){var g=this;return(0,s.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,s.Z)(function*(){const D=g?(0,oe.m9)(g):null;return D&&Zt(D.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(D&&D._clone(m))})()}_updateCurrentUser(g,m=!1){var D=this;return(0,s.Z)(function*(){if(!D._deleted)return g&&Zt(D.tenantId===g.tenantId,D,"tenant-id-mismatch"),m||(yield D.beforeStateQueue.runMiddleware(g)),D.queue((0,s.Z)(function*(){yield D.directlySetCurrentUser(g),D.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,s.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,s.Z)(function*(){yield m.assertedPersistence.setPersistence(fr(g))}))}initializeRecaptchaConfig(){var g=this;return(0,s.Z)(function*(){const m=yield Ld(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),D=new Tl(m);null==g.tenantId?g._agentRecaptchaConfig=D:g._tenantRecaptchaConfigs[g.tenantId]=D,D.emailPasswordEnabled&&new Pd(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new oe.LL("auth","Firebase",g())}onAuthStateChanged(g,m,D){return this.registerStateListener(this.authStateSubscription,g,m,D)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,D){return this.registerStateListener(this.idTokenSubscription,g,m,D)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var D=this;return(0,s.Z)(function*(){const Q=yield D.getOrInitRedirectPersistenceManager(m);return null===g?Q.removeCurrentUser():Q.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,s.Z)(function*(){if(!m.redirectPersistenceManager){const D=g&&fr(g)||m._popupRedirectResolver;Zt(D,m,"argument-error"),m.redirectPersistenceManager=yield $r.create(m,[fr(D._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,s.Z)(function*(){var D,Q;return m._isInitialized&&(yield m.queue((0,s.Z)(function*(){}))),(null===(D=m._currentUser)||void 0===D?void 0:D._redirectEventId)===g?m._currentUser:(null===(Q=m.redirectUser)||void 0===Q?void 0:Q._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,s.Z)(function*(){if(g===m.currentUser)return m.queue((0,s.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,D,Q){if(this._deleted)return()=>{};const z="function"==typeof m?m:m.next.bind(m),ge=this._isInitialized?Promise.resolve():this._initializationPromise;return Zt(ge,this,"internal-error"),ge.then(()=>z(this.currentUser)),"function"==typeof m?g.addObserver(m,D,Q):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,s.Z)(function*(){m.currentUser&&m.currentUser!==g&&m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh(),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Zt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Vc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,s.Z)(function*(){var m;const D={"X-Client-Version":g.clientVersion};g.app.options.appId&&(D["X-Firebase-gmpid"]=g.app.options.appId);const Q=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();Q&&(D["X-Firebase-Client"]=Q);const z=yield g._getAppCheckToken();return z&&(D["X-Firebase-AppCheck"]=z),D})()}_getAppCheckToken(){var g=this;return(0,s.Z)(function*(){var m;const D=yield null===(m=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return D?.error&&function El(x,...g){xl.logLevel<=gn.in.WARN&&xl.warn(`Auth (${rt.SDK_VERSION}): ${x}`,...g)}(`Error while retrieving App Check token: ${D.error}`),D?.token})()}}function ur(x){return(0,oe.m9)(x)}class Bl{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,oe.ne)(m=>this.observer=m)}get next(){return Zt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Vs(x){const g=x.indexOf(":");return g<0?"":x.substr(0,g+1)}function Th(x){if(!x)return null;const g=Number(x);return isNaN(g)?null:g}class Ud{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return Mr("not implemented")}_getIdTokenResponse(g){return Mr("not implemented")}_linkToIdToken(g,m){return Mr("not implemented")}_getReauthenticationResolver(g){return Mr("not implemented")}}function vg(x,g){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,s.Z)(function*(x,g){return Oi(x,"POST","/v1/accounts:resetPassword",Ai(x,g))})).apply(this,arguments)}function wg(x,g){return Hf.apply(this,arguments)}function Hf(){return(Hf=(0,s.Z)(function*(x,g){return Oi(x,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Vf(x,g){return BA.apply(this,arguments)}function BA(){return(BA=(0,s.Z)(function*(x,g){return Oi(x,"POST","/v1/accounts:update",Ai(x,g))})).apply(this,arguments)}function bg(x,g){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,s.Z)(function*(x,g){return Hi(x,"POST","/v1/accounts:signInWithPassword",Ai(x,g))})).apply(this,arguments)}function ea(x,g){return $l.apply(this,arguments)}function $l(){return($l=(0,s.Z)(function*(x,g){return Oi(x,"POST","/v1/accounts:sendOobCode",Ai(x,g))})).apply(this,arguments)}function Qd(x,g){return Cg.apply(this,arguments)}function Cg(){return(Cg=(0,s.Z)(function*(x,g){return ea(x,g)})).apply(this,arguments)}function xg(x,g){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,s.Z)(function*(x,g){return ea(x,g)})).apply(this,arguments)}function Ta(x,g){return FA.apply(this,arguments)}function FA(){return(FA=(0,s.Z)(function*(x,g){return ea(x,g)})).apply(this,arguments)}function qy(x,g){return Ky.apply(this,arguments)}function Ky(){return(Ky=(0,s.Z)(function*(x,g){return ea(x,g)})).apply(this,arguments)}function Hd(){return(Hd=(0,s.Z)(function*(x,g){return Hi(x,"POST","/v1/accounts:signInWithEmailLink",Ai(x,g))})).apply(this,arguments)}function MA(){return(MA=(0,s.Z)(function*(x,g){return Hi(x,"POST","/v1/accounts:signInWithEmailLink",Ai(x,g))})).apply(this,arguments)}class Bh extends Ud{constructor(g,m,D,Q=null){super("password",D),this._email=g,this._password=m,this._tenantId=Q}static _fromEmailAndPassword(g,m){return new Bh(g,m,"password")}static _fromEmailAndCode(g,m,D=null){return new Bh(g,m,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,s.Z)(function*(){var D;switch(m.signInMethod){case"password":const Q={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(D=g._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const z=yield sl(g,Q,"signInWithPassword");return bg(g,z)}return bg(g,Q).catch(function(){var z=(0,s.Z)(function*(ge){if("auth/missing-recaptcha-token"===ge.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Le=yield sl(g,Q,"signInWithPassword");return bg(g,Le)}return Promise.reject(ge)});return function(ge){return z.apply(this,arguments)}}());case"emailLink":return function ta(x,g){return Hd.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:rs(g,"internal-error")}})()}_linkToIdToken(g,m){var D=this;return(0,s.Z)(function*(){switch(D.signInMethod){case"password":return wg(g,{idToken:m,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function fu(x,g){return MA.apply(this,arguments)}(g,{idToken:m,email:D._email,oobCode:D._password});default:rs(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Wl(x,g){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,s.Z)(function*(x,g){return Hi(x,"POST","/v1/accounts:signInWithIdp",Ai(x,g))})).apply(this,arguments)}class Ac extends Ud{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new Ac(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):rs("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:Q}=m,z=Tt(m,["providerId","signInMethod"]);if(!D||!Q)return null;const ge=new Ac(D,Q);return ge.idToken=z.idToken||void 0,ge.accessToken=z.accessToken||void 0,ge.secret=z.secret,ge.nonce=z.nonce,ge.pendingToken=z.pendingToken||null,ge}_getIdTokenResponse(g){return Wl(g,this.buildRequest())}_linkToIdToken(g,m){const D=this.buildRequest();return D.idToken=m,Wl(g,D)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Wl(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,oe.xO)(m)}return g}}function Fh(x,g){return RA.apply(this,arguments)}function RA(){return(RA=(0,s.Z)(function*(x,g){return Oi(x,"POST","/v1/accounts:sendVerificationCode",Ai(x,g))})).apply(this,arguments)}function pu(){return(pu=(0,s.Z)(function*(x,g){return Hi(x,"POST","/v1/accounts:signInWithPhoneNumber",Ai(x,g))})).apply(this,arguments)}function gu(){return(gu=(0,s.Z)(function*(x,g){const m=yield Hi(x,"POST","/v1/accounts:signInWithPhoneNumber",Ai(x,g));if(m.temporaryProof)throw Jo(x,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Vd={USER_NOT_FOUND:"user-not-found"};function _o(){return(_o=(0,s.Z)(function*(x,g){return Hi(x,"POST","/v1/accounts:signInWithPhoneNumber",Ai(x,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Vd)})).apply(this,arguments)}class td extends Ud{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new td({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new td({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function Ba(x,g){return pu.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function a_(x,g){return gu.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Zy(x,g){return _o.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:D,verificationCode:Q}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:D,code:Q}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:D,phoneNumber:Q,temporaryProof:z}=g;return D||m||Q||z?new td({verificationId:m,verificationCode:D,phoneNumber:Q,temporaryProof:z}):null}}class yo{constructor(g){var m,D,Q,z,ge,Le;const Pt=(0,oe.zd)((0,oe.pd)(g)),Ct=null!==(m=Pt.apiKey)&&void 0!==m?m:null,nn=null!==(D=Pt.oobCode)&&void 0!==D?D:null,fn=function mu(x){switch(x){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Q=Pt.mode)&&void 0!==Q?Q:null);Zt(Ct&&nn&&fn,"argument-error"),this.apiKey=Ct,this.operation=fn,this.code=nn,this.continueUrl=null!==(z=Pt.continueUrl)&&void 0!==z?z:null,this.languageCode=null!==(ge=Pt.languageCode)&&void 0!==ge?ge:null,this.tenantId=null!==(Le=Pt.tenantId)&&void 0!==Le?Le:null}static parseLink(g){const m=function Gd(x){const g=(0,oe.zd)((0,oe.pd)(x)).link,m=g?(0,oe.zd)((0,oe.pd)(g)).deep_link_id:null,D=(0,oe.zd)((0,oe.pd)(x)).deep_link_id;return(D?(0,oe.zd)((0,oe.pd)(D)).link:null)||D||m||g||x}(g);try{return new yo(m)}catch{return null}}}let OA=(()=>{class x{constructor(){this.providerId=x.PROVIDER_ID}static credential(m,D){return Bh._fromEmailAndPassword(m,D)}static credentialWithLink(m,D){const Q=yo.parseLink(D);return Zt(Q,"argument-error"),Bh._fromEmailAndCode(m,Q.code,Q.tenantId)}}return x.PROVIDER_ID="password",x.EMAIL_PASSWORD_SIGN_IN_METHOD="password",x.EMAIL_LINK_SIGN_IN_METHOD="emailLink",x})();class na{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Ts extends na{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class _u extends Ts{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return Zt("providerId"in m&&"signInMethod"in m,"argument-error"),Ac._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Zt(g.idToken||g.accessToken,"argument-error"),Ac._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return _u.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return _u.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:D,oauthTokenSecret:Q,pendingToken:z,nonce:ge,providerId:Le}=g;if(!D&&!Q&&!m&&!z||!Le)return null;try{return new _u(Le)._credential({idToken:m,accessToken:D,nonce:ge,pendingToken:z})}catch{return null}}}let yu=(()=>{class x extends Ts{constructor(){super("facebook.com")}static credential(m){return Ac._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return x.credentialFromTaggedObject(m)}static credentialFromError(m){return x.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return x.credential(m.oauthAccessToken)}catch{return null}}}return x.FACEBOOK_SIGN_IN_METHOD="facebook.com",x.PROVIDER_ID="facebook.com",x})(),nd=(()=>{class x extends Ts{constructor(){super("google.com"),this.addScope("profile")}static credential(m,D){return Ac._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:D})}static credentialFromResult(m){return x.credentialFromTaggedObject(m)}static credentialFromError(m){return x.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:D,oauthAccessToken:Q}=m;if(!D&&!Q)return null;try{return x.credential(D,Q)}catch{return null}}}return x.GOOGLE_SIGN_IN_METHOD="google.com",x.PROVIDER_ID="google.com",x})(),$i=(()=>{class x extends Ts{constructor(){super("github.com")}static credential(m){return Ac._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return x.credentialFromTaggedObject(m)}static credentialFromError(m){return x.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return x.credential(m.oauthAccessToken)}catch{return null}}}return x.GITHUB_SIGN_IN_METHOD="github.com",x.PROVIDER_ID="github.com",x})();class Jl extends Ud{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return Wl(g,this.buildRequest())}_linkToIdToken(g,m){const D=this.buildRequest();return D.idToken=m,Wl(g,D)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Wl(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:Q,pendingToken:z}=m;return D&&Q&&z&&D===Q?new Jl(D,z):null}static _create(g,m){return new Jl(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class fc extends na{constructor(g){Zt(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return fc.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return fc.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=Jl.fromJSON(g);return Zt(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:D}=g;if(!m||!D)return null;try{return Jl._create(D,m)}catch{return null}}}let Or=(()=>{class x extends Ts{constructor(){super("twitter.com")}static credential(m,D){return Ac._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:D})}static credentialFromResult(m){return x.credentialFromTaggedObject(m)}static credentialFromError(m){return x.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:D,oauthTokenSecret:Q}=m;if(!D||!Q)return null;try{return x.credential(D,Q)}catch{return null}}}return x.TWITTER_SIGN_IN_METHOD="twitter.com",x.PROVIDER_ID="twitter.com",x})();function Sg(x,g){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,s.Z)(function*(x,g){return Hi(x,"POST","/v1/accounts:signUp",Ai(x,g))})).apply(this,arguments)}class qi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,D,Q=!1){return(0,s.Z)(function*(){const z=yield Ei._fromIdTokenResponse(g,D,Q),ge=jf(D);return new qi({user:z,providerId:ge,_tokenResponse:D,operationType:m})})()}static _forOperation(g,m,D){return(0,s.Z)(function*(){yield g._updateTokensIfNecessary(D,!0);const Q=jf(D);return new qi({user:g,providerId:Q,_tokenResponse:D,operationType:m})})()}}function jf(x){return x.providerId?x.providerId:"phoneNumber"in x?"phone":null}function LA(){return(LA=(0,s.Z)(function*(x){var g;const m=ur(x);if(yield m._initializationPromise,null!==(g=m.currentUser)&&void 0!==g&&g.isAnonymous)return new qi({user:m.currentUser,providerId:null,operationType:"signIn"});const D=yield Sg(m,{returnSecureToken:!0}),Q=yield qi._fromIdTokenResponse(m,"signIn",D,!0);return yield m._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class Rt extends oe.ZR{constructor(g,m,D,Q){var z;super(m.code,m.message),this.operationType=D,this.user=Q,Object.setPrototypeOf(this,Rt.prototype),this.customData={appName:g.name,tenantId:null!==(z=g.tenantId)&&void 0!==z?z:void 0,_serverResponse:m.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(g,m,D,Q){return new Rt(g,m,D,Q)}}function Ki(x,g,m,D){return("reauthenticate"===g?m._getReauthenticationResolver(x):m._getIdTokenResponse(x)).catch(z=>{throw"auth/multi-factor-auth-required"===z.code?Rt._fromErrorAndOperation(x,z,g,D):z})}function Dr(x){return new Set(x.map(({providerId:g})=>g).filter(g=>!!g))}function Bs(){return(Bs=(0,s.Z)(function*(x,g){const m=(0,oe.m9)(x);yield Gs(!0,m,g);const{providerUserInfo:D}=yield ha(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),Q=Dr(D||[]);return m.providerData=m.providerData.filter(z=>Q.has(z.providerId)),Q.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Mh(x,g){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,s.Z)(function*(x,g,m=!1){const D=yield Vn(x,g._linkToIdToken(x.auth,yield x.getIdToken()),m);return qi._forOperation(x,"link",D)})).apply(this,arguments)}function Gs(x,g,m){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,s.Z)(function*(x,g,m){yield Gi(g);const Q=!1===x?"provider-already-linked":"no-such-provider";Zt(Dr(g.providerData).has(m)===x,g.auth,Q)})).apply(this,arguments)}function kh(x,g){return ka.apply(this,arguments)}function ka(){return(ka=(0,s.Z)(function*(x,g,m=!1){const{auth:D}=x,Q="reauthenticate";try{const z=yield Vn(x,Ki(D,Q,g,x),m);Zt(z.idToken,D,"internal-error");const ge=Qe(z.idToken);Zt(ge,D,"internal-error");const{sub:Le}=ge;return Zt(x.uid===Le,D,"user-mismatch"),qi._forOperation(x,Q,z)}catch(z){throw"auth/user-not-found"===z?.code&&rs(D,"user-mismatch"),z}})).apply(this,arguments)}function Ml(x,g){return kl.apply(this,arguments)}function kl(){return(kl=(0,s.Z)(function*(x,g,m=!1){const D="signIn",Q=yield Ki(x,D,g),z=yield qi._fromIdTokenResponse(x,D,Q);return m||(yield x._updateCurrentUser(z.user)),z})).apply(this,arguments)}function vs(x,g){return zr.apply(this,arguments)}function zr(){return(zr=(0,s.Z)(function*(x,g){return Ml(ur(x),g)})).apply(this,arguments)}function Rl(x,g){return NA.apply(this,arguments)}function NA(){return(NA=(0,s.Z)(function*(x,g){const m=(0,oe.m9)(x);return yield Gs(!1,m,g.providerId),Mh(m,g)})).apply(this,arguments)}function ss(x,g){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,s.Z)(function*(x,g){return kh((0,oe.m9)(x),g)})).apply(this,arguments)}function Dg(x,g){return id.apply(this,arguments)}function id(){return(id=(0,s.Z)(function*(x,g){return Hi(x,"POST","/v1/accounts:signInWithCustomToken",Ai(x,g))})).apply(this,arguments)}function zf(){return(zf=(0,s.Z)(function*(x,g){const m=ur(x),D=yield Dg(m,{token:g,returnSecureToken:!0}),Q=yield qi._fromIdTokenResponse(m,"signIn",D);return yield m._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class vu{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?jc._fromServerResponse(g,m):"totpInfo"in m?rd._fromServerResponse(g,m):rs(g,"internal-error")}}class jc extends vu{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new jc(m)}}class rd extends vu{constructor(g){super("totp",g)}static _fromServerResponse(g,m){return new rd(m)}}function zc(x,g,m){var D;Zt((null===(D=m.url)||void 0===D?void 0:D.length)>0,x,"invalid-continue-uri"),Zt(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,x,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Zt(m.iOS.bundleId.length>0,x,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(Zt(m.android.packageName.length>0,x,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function Ra(){return Ra=(0,s.Z)(function*(x,g,m){var D;const Q=ur(x),z={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(D=Q._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const ge=yield sl(Q,z,"getOobCode",!0);m&&zc(Q,ge,m),yield xg(Q,ge)}else m&&zc(Q,z,m),yield xg(Q,z).catch(function(){var ge=(0,s.Z)(function*(Le){if("auth/missing-recaptcha-token"!==Le.code)return Promise.reject(Le);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Pt=yield sl(Q,z,"getOobCode",!0);m&&zc(Q,Pt,m),yield xg(Q,Pt)}});return function(Le){return ge.apply(this,arguments)}}())}),Ra.apply(this,arguments)}function Rh(){return(Rh=(0,s.Z)(function*(x,g,m){yield vg((0,oe.m9)(x),{oobCode:g,newPassword:m})})).apply(this,arguments)}function wu(){return(wu=(0,s.Z)(function*(x,g){yield Vf((0,oe.m9)(x),{oobCode:g})})).apply(this,arguments)}function Fg(x,g){return sd.apply(this,arguments)}function sd(){return(sd=(0,s.Z)(function*(x,g){const m=(0,oe.m9)(x),D=yield vg(m,{oobCode:g}),Q=D.requestType;switch(Zt(Q,m,"internal-error"),Q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Zt(D.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Zt(D.mfaInfo,m,"internal-error");default:Zt(D.email,m,"internal-error")}let z=null;return D.mfaInfo&&(z=vu._fromServerResponse(ur(m),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:z},operation:Q}})).apply(this,arguments)}function Oh(){return(Oh=(0,s.Z)(function*(x,g){const{data:m}=yield Fg((0,oe.m9)(x),g);return m.email})).apply(this,arguments)}function Oa(){return Oa=(0,s.Z)(function*(x,g,m){var D;const Q=ur(x),z={returnSecureToken:!0,email:g,password:m,clientType:"CLIENT_TYPE_WEB"};let ge;if(null!==(D=Q._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const Ct=yield sl(Q,z,"signUpPassword");ge=Sg(Q,Ct)}else ge=Sg(Q,z).catch(function(){var Ct=(0,s.Z)(function*(nn){if("auth/missing-recaptcha-token"===nn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const fn=yield sl(Q,z,"signUpPassword");return Sg(Q,fn)}return Promise.reject(nn)});return function(nn){return Ct.apply(this,arguments)}}());const Le=yield ge.catch(Ct=>Promise.reject(Ct)),Pt=yield qi._fromIdTokenResponse(Q,"signIn",Le);return yield Q._updateCurrentUser(Pt.user),Pt}),Oa.apply(this,arguments)}function od(){return od=(0,s.Z)(function*(x,g,m){var D;const Q=ur(x),z={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function ge(Le,Pt){Zt(Pt.handleCodeInApp,Q,"argument-error"),Pt&&zc(Q,Le,Pt)}if(null!==(D=Q._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const Le=yield sl(Q,z,"getOobCode",!0);ge(Le,m),yield Ta(Q,Le)}else ge(z,m),yield Ta(Q,z).catch(function(){var Le=(0,s.Z)(function*(Pt){if("auth/missing-recaptcha-token"!==Pt.code)return Promise.reject(Pt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ct=yield sl(Q,z,"getOobCode",!0);ge(Ct,m),yield Ta(Q,Ct)}});return function(Pt){return Le.apply(this,arguments)}}())}),od.apply(this,arguments)}function Kf(){return(Kf=(0,s.Z)(function*(x,g,m){const D=(0,oe.m9)(x),Q=OA.credentialWithLink(g,m||Wn());return Zt(Q._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),vs(D,Q)})).apply(this,arguments)}function Rg(x,g){return bu.apply(this,arguments)}function bu(){return(bu=(0,s.Z)(function*(x,g){return Oi(x,"POST","/v1/accounts:createAuthUri",Ai(x,g))})).apply(this,arguments)}function gc(){return(gc=(0,s.Z)(function*(x,g){const D={identifier:g,continueUri:dc()?Wn():"http://localhost"},{signinMethods:Q}=yield Rg((0,oe.m9)(x),D);return Q||[]})).apply(this,arguments)}function ld(){return(ld=(0,s.Z)(function*(x,g){const m=(0,oe.m9)(x),Q={requestType:"VERIFY_EMAIL",idToken:yield x.getIdToken()};g&&zc(m.auth,Q,g);const{email:z}=yield Qd(m.auth,Q);z!==x.email&&(yield x.reload())})).apply(this,arguments)}function La(){return(La=(0,s.Z)(function*(x,g,m){const D=(0,oe.m9)(x),z={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield x.getIdToken(),newEmail:g};m&&zc(D.auth,z,m);const{email:ge}=yield qy(D.auth,z);ge!==x.email&&(yield x.reload())})).apply(this,arguments)}function zd(x,g){return ol.apply(this,arguments)}function ol(){return(ol=(0,s.Z)(function*(x,g){return Oi(x,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Cu(){return(Cu=(0,s.Z)(function*(x,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const D=(0,oe.m9)(x),z={idToken:yield D.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},ge=yield Vn(D,zd(D.auth,z));D.displayName=ge.displayName||null,D.photoURL=ge.photoUrl||null;const Le=D.providerData.find(({providerId:Pt})=>"password"===Pt);Le&&(Le.displayName=D.displayName,Le.photoURL=D.photoURL),yield D._updateTokensIfNecessary(ge)})).apply(this,arguments)}function Lg(x,g,m){return Ng.apply(this,arguments)}function Ng(){return(Ng=(0,s.Z)(function*(x,g,m){const{auth:D}=x,z={idToken:yield x.getIdToken(),returnSecureToken:!0};g&&(z.email=g),m&&(z.password=m);const ge=yield Vn(x,wg(D,z));yield x._updateTokensIfNecessary(ge,!0)})).apply(this,arguments)}class ga{constructor(g,m,D={}){this.isNewUser=g,this.providerId=m,this.profile=D}}class Nh extends ga{constructor(g,m,D,Q){super(g,m,D),this.username=Q}}class c_ extends ga{constructor(g,m){super(g,"facebook.com",m)}}class xu extends Nh{constructor(g,m){super(g,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class QA extends ga{constructor(g,m){super(g,"google.com",m)}}class qd extends Nh{constructor(g,m,D){super(g,"twitter.com",m,D)}}function ud(x){const{user:g,_tokenResponse:m}=x;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Pg(x){var g,m;if(!x)return null;const{providerId:D}=x,Q=x.rawUserInfo?JSON.parse(x.rawUserInfo):{},z=x.isNewUser||"identitytoolkit#SignupNewUserResponse"===x.kind;if(!D&&x?.idToken){const ge=null===(m=null===(g=Qe(x.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(ge)return new ga(z,"anonymous"!==ge&&"custom"!==ge?ge:null)}if(!D)return null;switch(D){case"facebook.com":return new c_(z,Q);case"github.com":return new xu(z,Q);case"google.com":return new QA(z,Q);case"twitter.com":return new qd(z,Q,x.screenName||null);case"custom":case"anonymous":return new ga(z,null);default:return new ga(z,D,Q)}}(m)}class qc{constructor(g,m,D){this.type=g,this.credential=m,this.auth=D}static _fromIdtoken(g,m){return new qc("enroll",g,m)}static _fromMfaPendingCredential(g){return new qc("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,D;if(g?.multiFactorSession){if(null!==(m=g.multiFactorSession)&&void 0!==m&&m.pendingCredential)return qc._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(D=g.multiFactorSession)&&void 0!==D&&D.idToken)return qc._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Zd{constructor(g,m,D){this.session=g,this.hints=m,this.signInResolver=D}static _fromError(g,m){const D=ur(g),Q=m.customData._serverResponse,z=(Q.mfaInfo||[]).map(Le=>vu._fromServerResponse(D,Le));Zt(Q.mfaPendingCredential,D,"internal-error");const ge=qc._fromMfaPendingCredential(Q.mfaPendingCredential);return new Zd(ge,z,function(){var Le=(0,s.Z)(function*(Pt){const Ct=yield Pt._process(D,ge);delete Q.mfaInfo,delete Q.mfaPendingCredential;const nn=Object.assign(Object.assign({},Q),{idToken:Ct.idToken,refreshToken:Ct.refreshToken});switch(m.operationType){case"signIn":const fn=yield qi._fromIdTokenResponse(D,m.operationType,nn);return yield D._updateCurrentUser(fn.user),fn;case"reauthenticate":return Zt(m.user,D,"internal-error"),qi._forOperation(m.user,m.operationType,nn);default:rs(D,"internal-error")}});return function(Pt){return Le.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,s.Z)(function*(){return m.signInResolver(g)})()}}function Uh(x,g){return Oi(x,"POST","/v2/accounts/mfaEnrollment:start",Ai(x,g))}class $d{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(D=>vu._fromServerResponse(g.auth,D)))})}static _fromUser(g){return new $d(g)}getSession(){var g=this;return(0,s.Z)(function*(){return qc._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,m){var D=this;return(0,s.Z)(function*(){const Q=g,z=yield D.getSession(),ge=yield Vn(D.user,Q._process(D.user.auth,z,m));return yield D.user._updateTokensIfNecessary(ge),D.user.reload()})()}unenroll(g){var m=this;return(0,s.Z)(function*(){const D="string"==typeof g?g:g.uid,Q=yield m.user.getIdToken();try{const z=yield Vn(m.user,function Wf(x,g){return Oi(x,"POST","/v2/accounts/mfaEnrollment:withdraw",Ai(x,g))}(m.user.auth,{idToken:Q,mfaEnrollmentId:D}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ge})=>ge!==D),yield m.user._updateTokensIfNecessary(z),yield m.user.reload()}catch(z){throw z}})()}}const Qh=new WeakMap,ec="__sak";class Yd{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ec,"1"),this.storage.removeItem(ec),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const GA=(()=>{class x extends Yd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,D)=>this.onStorageEvent(m,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Jf(){const x=(0,oe.z$)();return ys(x)||Gr(x)}()&&function Ti(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=hu(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const D of Object.keys(this.listeners)){const Q=this.storage.getItem(D),z=this.localCache[D];Q!==z&&m(D,z,Q)}}onStorageEvent(m,D=!1){if(!m.key)return void this.forAllChangedKeys((Le,Pt,Ct)=>{this.notifyListeners(Le,Ct)});const Q=m.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Le=this.storage.getItem(Q);if(m.newValue!==Le)null!==m.newValue?this.storage.setItem(Q,m.newValue):this.storage.removeItem(Q);else if(this.localCache[Q]===m.newValue&&!D)return}const z=()=>{const Le=this.storage.getItem(Q);!D&&this.localCache[Q]===Le||this.notifyListeners(Q,Le)},ge=this.storage.getItem(Q);!function Lo(){return(0,oe.w1)()&&10===document.documentMode}()||ge===m.newValue||m.newValue===m.oldValue?z():setTimeout(z,10)}notifyListeners(m,D){this.localCache[m]=D;const Q=this.listeners[m];if(Q)for(const z of Array.from(Q))z(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,D,Q)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:D,newValue:Q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(D)}_removeListener(m,D){this.listeners[m]&&(this.listeners[m].delete(D),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,D){var Q=()=>super._set,z=this;return(0,s.Z)(function*(){yield Q().call(z,m,D),z.localCache[m]=JSON.stringify(D)})()}_get(m){var D=()=>super._get,Q=this;return(0,s.Z)(function*(){const z=yield D().call(Q,m);return Q.localCache[m]=JSON.stringify(z),z})()}_remove(m){var D=()=>super._remove,Q=this;return(0,s.Z)(function*(){yield D().call(Q,m),delete Q.localCache[m]})()}}return x.type="LOCAL",x})(),Kc=(()=>{class x extends Yd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,D){}_removeListener(m,D){}}return x.type="SESSION",x})();let Xf=(()=>{class x{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const D=this.receivers.find(z=>z.isListeningto(m));if(D)return D;const Q=new x(m);return this.receivers.push(Q),Q}isListeningto(m){return this.eventTarget===m}handleEvent(m){var D=this;return(0,s.Z)(function*(){const Q=m,{eventId:z,eventType:ge,data:Le}=Q.data,Pt=D.handlersMap[ge];if(!Pt?.size)return;Q.ports[0].postMessage({status:"ack",eventId:z,eventType:ge});const Ct=Array.from(Pt).map(function(){var fn=(0,s.Z)(function*(Yi){return Yi(Q.origin,Le)});return function(Yi){return fn.apply(this,arguments)}}()),nn=yield function Wy(x){return Promise.all(x.map(function(){var g=(0,s.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(D){return{fulfilled:!1,reason:D}}});return function(m){return g.apply(this,arguments)}}()))}(Ct);Q.ports[0].postMessage({status:"done",eventId:z,eventType:ge,response:nn})})()}_subscribe(m,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(D)}_unsubscribe(m,D){this.handlersMap[m]&&D&&this.handlersMap[m].delete(D),(!D||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return x.receivers=[],x})();function ma(x="",g=10){let m="";for(let D=0;D<g;D++)m+=Math.floor(10*Math.random());return x+m}class Jd{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,D=50){var Q=this;return(0,s.Z)(function*(){const z=typeof MessageChannel<"u"?new MessageChannel:null;if(!z)throw new Error("connection_unavailable");let ge,Le;return new Promise((Pt,Ct)=>{const nn=ma("",20);z.port1.start();const fn=setTimeout(()=>{Ct(new Error("unsupported_event"))},D);Le={messageChannel:z,onMessage(Yi){const $s=Yi;if($s.data.eventId===nn)switch($s.data.status){case"ack":clearTimeout(fn),ge=setTimeout(()=>{Ct(new Error("timeout"))},3e3);break;case"done":clearTimeout(ge),Pt($s.data.response);break;default:clearTimeout(fn),clearTimeout(ge),Ct(new Error("invalid_response"))}}},Q.handlers.add(Le),z.port1.addEventListener("message",Le.onMessage),Q.target.postMessage({eventType:g,eventId:nn,data:m},[z.port2])}).finally(()=>{Le&&Q.removeMessageHandler(Le)})})()}}function ts(){return window}function Hh(){return typeof ts().WorkerGlobalScope<"u"&&"function"==typeof ts().importScripts}function Eu(){return(Eu=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const qr="firebaseLocalStorageDb",qA="firebaseLocalStorage",Jy="fbase_key";class _c{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ep(x,g){return x.transaction([qA],g?"readwrite":"readonly").objectStore(qA)}function Qg(){const x=indexedDB.open(qr,1);return new Promise((g,m)=>{x.addEventListener("error",()=>{m(x.error)}),x.addEventListener("upgradeneeded",()=>{const D=x.result;try{D.createObjectStore(qA,{keyPath:Jy})}catch(Q){m(Q)}}),x.addEventListener("success",(0,s.Z)(function*(){const D=x.result;D.objectStoreNames.contains(qA)?g(D):(D.close(),yield function p_(){const x=indexedDB.deleteDatabase(qr);return new _c(x).toPromise()}(),g(yield Qg()))}))})}function dd(x,g,m){return g_.apply(this,arguments)}function g_(){return(g_=(0,s.Z)(function*(x,g,m){const D=ep(x,!0).put({[Jy]:g,value:m});return new _c(D).toPromise()})).apply(this,arguments)}function js(){return(js=(0,s.Z)(function*(x,g){const m=ep(x,!1).get(g),D=yield new _c(m).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function Ol(x,g){const m=ep(x,!0).delete(g);return new _c(m).toPromise()}const Gn=(()=>{class x{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,s.Z)(function*(){return m.db||(m.db=yield Qg()),m.db})()}_withRetries(m){var D=this;return(0,s.Z)(function*(){let Q=0;for(;;)try{const z=yield D._openDb();return yield m(z)}catch(z){if(Q++>3)throw z;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,s.Z)(function*(){return Hh()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,s.Z)(function*(){m.receiver=Xf._getInstance(function f_(){return Hh()?self:null}()),m.receiver._subscribe("keyChanged",function(){var D=(0,s.Z)(function*(Q,z){return{keyProcessed:(yield m._poll()).includes(z.key)}});return function(Q,z){return D.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var D=(0,s.Z)(function*(Q,z){return["keyChanged"]});return function(Q,z){return D.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,s.Z)(function*(){var D,Q;if(m.activeServiceWorker=yield function zA(){return Eu.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Jd(m.activeServiceWorker);const z=yield m.sender._send("ping",{},800);!z||(null===(D=z[0])||void 0===D?void 0:D.fulfilled)&&(null===(Q=z[0])||void 0===Q?void 0:Q.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var D=this;return(0,s.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function A_(){var x;return(null===(x=navigator?.serviceWorker)||void 0===x?void 0:x.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:m},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Qg();return yield dd(m,ec,"1"),yield Ol(m,ec),!0}catch{}return!1})()}_withPendingWrite(m){var D=this;return(0,s.Z)(function*(){D.pendingWrites++;try{yield m()}finally{D.pendingWrites--}})()}_set(m,D){var Q=this;return(0,s.Z)(function*(){return Q._withPendingWrite((0,s.Z)(function*(){return yield Q._withRetries(z=>dd(z,m,D)),Q.localCache[m]=D,Q.notifyServiceWorker(m)}))})()}_get(m){var D=this;return(0,s.Z)(function*(){const Q=yield D._withRetries(z=>function m_(x,g){return js.apply(this,arguments)}(z,m));return D.localCache[m]=Q,Q})()}_remove(m){var D=this;return(0,s.Z)(function*(){return D._withPendingWrite((0,s.Z)(function*(){return yield D._withRetries(Q=>Ol(Q,m)),delete D.localCache[m],D.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,s.Z)(function*(){const D=yield m._withRetries(ge=>{const Le=ep(ge,!1).getAll();return new _c(Le).toPromise()});if(!D)return[];if(0!==m.pendingWrites)return[];const Q=[],z=new Set;for(const{fbase_key:ge,value:Le}of D)z.add(ge),JSON.stringify(m.localCache[ge])!==JSON.stringify(Le)&&(m.notifyListeners(ge,Le),Q.push(ge));for(const ge of Object.keys(m.localCache))m.localCache[ge]&&!z.has(ge)&&(m.notifyListeners(ge,null),Q.push(ge));return Q})()}notifyListeners(m,D){this.localCache[m]=D;const Q=this.listeners[m];if(Q)for(const z of Array.from(Q))z(D)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(D)}_removeListener(m,D){this.listeners[m]&&(this.listeners[m].delete(D),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return x.type="LOCAL",x})();function Pa(x,g){return Oi(x,"POST","/v2/accounts/mfaSignIn:start",Ai(x,g))}const Su=1e12;class mr{constructor(g){this.auth=g,this.counter=Su,this._widgets=new Map}render(g,m){const D=this.counter;return this._widgets.set(D,new y_(g,this.auth.name,m||{})),this.counter++,D}reset(g){var m;const D=g||Su;null===(m=this._widgets.get(D))||void 0===m||m.delete(),this._widgets.delete(D)}getResponse(g){var m;return(null===(m=this._widgets.get(g||Su))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,s.Z)(function*(){var D;return null===(D=m._widgets.get(g||Su))||void 0===D||D.execute(),""})()}}class y_{constructor(g,m,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Q="string"==typeof g?document.getElementById(g):g;Zt(Q,"argument-error",{appName:m}),this.container=Q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function v_(x){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<x;D++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const hd=Yr("rcb"),Ua=new Yo(3e4,6e4);class ra{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=ts().grecaptcha)||void 0===g||!g.render)}load(g,m=""){return Zt(function wn(x){return x.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(x)}(m),g,"argument-error"),this.shouldResolveImmediately(m)&&Xu(ts().grecaptcha)?Promise.resolve(ts().grecaptcha):new Promise((D,Q)=>{const z=ts().setTimeout(()=>{Q(hs(g,"network-request-failed"))},Ua.get());ts()[hd]=()=>{ts().clearTimeout(z),delete ts()[hd];const Le=ts().grecaptcha;if(!Le||!Xu(Le))return void Q(hs(g,"internal-error"));const Pt=Le.render;Le.render=(Ct,nn)=>{const fn=Pt(Ct,nn);return this.counter++,fn},this.hostLanguage=m,D(Le)},jr(`https://www.google.com/recaptcha/api.js??${(0,oe.xO)({onload:hd,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(z),Q(hs(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var m;return!(null===(m=ts().grecaptcha)||void 0===m||!m.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class on{load(g){return(0,s.Z)(function*(){return new mr(g)})()}clearedOneInstance(){}}const Hg="recaptcha",np={theme:"light",type:"image"};class tc{constructor(g,m=Object.assign({},np),D){this.parameters=m,this.type=Hg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ur(D),this.isInvisible="invisible"===this.parameters.size,Zt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Q="string"==typeof g?document.getElementById(g):g;Zt(Q,this.auth,"argument-error"),this.container=Q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new on:new ra,this.validateStartingState()}verify(){var g=this;return(0,s.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),D=g.getAssertedRecaptcha();return D.getResponse(m)||new Promise(z=>{const ge=Le=>{!Le||(g.tokenChangeListeners.delete(ge),z(Le))};g.tokenChangeListeners.add(ge),g.isInvisible&&D.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Zt(!this.parameters.sitekey,this.auth,"argument-error"),Zt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Zt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(D=>D(m)),"function"==typeof g)g(m);else if("string"==typeof g){const D=ts()[g];"function"==typeof D&&D(m)}}}assertNotDestroyed(){Zt(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,s.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const D=document.createElement("div");m.appendChild(D),m=D}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,s.Z)(function*(){Zt(dc()&&!Hh(),g.auth,"internal-error"),yield function Vg(){let x=null;return new Promise(g=>{"complete"!==document.readyState?(x=()=>g(),window.addEventListener("load",x)):g()}).catch(g=>{throw x&&window.removeEventListener("load",x),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function Au(x){return Eh.apply(this,arguments)}(g.auth);Zt(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return Zt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Nr{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=td._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function al(){return(al=(0,s.Z)(function*(x,g,m){const D=ur(x),Q=yield ll(D,g,(0,oe.m9)(m));return new Nr(Q,z=>vs(D,z))})).apply(this,arguments)}function Du(){return(Du=(0,s.Z)(function*(x,g,m){const D=(0,oe.m9)(x);yield Gs(!1,D,"phone");const Q=yield ll(D.auth,g,(0,oe.m9)(m));return new Nr(Q,z=>Rl(D,z))})).apply(this,arguments)}function Zc(){return(Zc=(0,s.Z)(function*(x,g,m){const D=(0,oe.m9)(x),Q=yield ll(D.auth,g,(0,oe.m9)(m));return new Nr(Q,z=>ss(D,z))})).apply(this,arguments)}function ll(x,g,m){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,s.Z)(function*(x,g,m){var D;const Q=yield m.verify();try{let z;if(Zt("string"==typeof Q,x,"argument-error"),Zt(m.type===Hg,x,"argument-error"),z="string"==typeof g?{phoneNumber:g}:g,"session"in z){const ge=z.session;if("phoneNumber"in z)return Zt("enroll"===ge.type,x,"internal-error"),(yield Uh(x,{idToken:ge.credential,phoneEnrollmentInfo:{phoneNumber:z.phoneNumber,recaptchaToken:Q}})).phoneSessionInfo.sessionInfo;{Zt("signin"===ge.type,x,"internal-error");const Le=(null===(D=z.multiFactorHint)||void 0===D?void 0:D.uid)||z.multiFactorUid;return Zt(Le,x,"missing-multi-factor-info"),(yield Pa(x,{mfaPendingCredential:ge.credential,mfaEnrollmentId:Le,phoneSignInInfo:{recaptchaToken:Q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ge}=yield Fh(x,{phoneNumber:z.phoneNumber,recaptchaToken:Q});return ge}}finally{m._reset()}})).apply(this,arguments)}function Ad(){return(Ad=(0,s.Z)(function*(x,g){yield Mh((0,oe.m9)(x),g)})).apply(this,arguments)}let zs=(()=>{class x{constructor(m){this.providerId=x.PROVIDER_ID,this.auth=ur(m)}verifyPhoneNumber(m,D){return ll(this.auth,m,(0,oe.m9)(D))}static credential(m,D){return td._fromVerification(m,D)}static credentialFromResult(m){return x.credentialFromTaggedObject(m)}static credentialFromError(m){return x.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:D,temporaryProof:Q}=m;return D&&Q?td._fromTokenResponse(D,Q):null}}return x.PROVIDER_ID="phone",x.PHONE_SIGN_IN_METHOD="phone",x})();function ro(x,g){return g?fr(g):(Zt(x._popupRedirectResolver,x,"argument-error"),x._popupRedirectResolver)}class yc extends Ud{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Wl(g,this._buildIdpRequest())}_linkToIdToken(g,m){return Wl(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return Wl(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function Uo(x){return Ml(x.auth,new yc(x),x.bypassAuthState)}function Wr(x){const{auth:g,user:m}=x;return Zt(m,g,"internal-error"),kh(m,new yc(x),x.bypassAuthState)}function fd(x){return zh.apply(this,arguments)}function zh(){return(zh=(0,s.Z)(function*(x){const{auth:g,user:m}=x;return Zt(m,g,"internal-error"),Mh(m,new yc(x),x.bypassAuthState)})).apply(this,arguments)}class ws{constructor(g,m,D,Q,z=!1){this.auth=g,this.resolver=D,this.user=Q,this.bypassAuthState=z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,s.Z)(function*(D,Q){g.pendingPromise={resolve:D,reject:Q};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(z){g.reject(z)}});return function(D,Q){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,s.Z)(function*(){const{urlResponse:D,sessionId:Q,postBody:z,tenantId:ge,error:Le,type:Pt}=g;if(Le)return void m.reject(Le);const Ct={auth:m.auth,requestUri:D,sessionId:Q,tenantId:ge||void 0,postBody:z||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Pt)(Ct))}catch(nn){m.reject(nn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Uo;case"linkViaPopup":case"linkViaRedirect":return fd;case"reauthViaPopup":case"reauthViaRedirect":return Wr;default:rs(this.auth,"internal-error")}}resolve(g){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Jr=new Yo(2e3,1e4);function _i(){return(_i=(0,s.Z)(function*(x,g,m){const D=ur(x);Ps(x,g,na);const Q=ro(D,m);return new Qo(D,"signInViaPopup",g,Q).executeNotNull()})).apply(this,arguments)}function eh(){return(eh=(0,s.Z)(function*(x,g,m){const D=(0,oe.m9)(x);Ps(D.auth,g,na);const Q=ro(D.auth,m);return new Qo(D.auth,"reauthViaPopup",g,Q,D).executeNotNull()})).apply(this,arguments)}function $c(){return($c=(0,s.Z)(function*(x,g,m){const D=(0,oe.m9)(x);Ps(D.auth,g,na);const Q=ro(D.auth,m);return new Qo(D.auth,"linkViaPopup",g,Q,D).executeNotNull()})).apply(this,arguments)}let Qo=(()=>{class x extends ws{constructor(m,D,Q,z,ge){super(m,D,z,ge),this.provider=Q,this.authWindow=null,this.pollId=null,x.currentPopupAction&&x.currentPopupAction.cancel(),x.currentPopupAction=this}executeNotNull(){var m=this;return(0,s.Z)(function*(){const D=yield m.execute();return Zt(D,m.auth,"internal-error"),D})()}onExecution(){var m=this;return(0,s.Z)(function*(){Us(1===m.filter.length,"Popup operations only handle one event");const D=ma();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],D),m.authWindow.associatedEvent=D,m.resolver._originValidation(m.auth).catch(Q=>{m.reject(Q)}),m.resolver._isIframeWebStorageSupported(m.auth,Q=>{Q||m.reject(hs(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(hs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,x.currentPopupAction=null}pollUserCancellation(){const m=()=>{var D,Q;this.pollId=null!==(Q=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==Q&&Q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(hs(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Jr.get())};m()}}return x.currentPopupAction=null,x})();const Cr=new Map;class Ho extends ws{constructor(g,m,D=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,D),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,s.Z)(function*(){let D=Cr.get(m.auth._key());if(!D){try{const z=(yield function th(x,g){return nc.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;D=()=>Promise.resolve(z)}catch(Q){D=()=>Promise.reject(Q)}Cr.set(m.auth._key(),D)}return m.bypassAuthState||Cr.set(m.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,D=this;return(0,s.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(D,g);if("unknown"!==g.type){if(g.eventId){const Q=yield D.auth._redirectUserForId(g.eventId);if(Q)return D.user=Q,m().call(D,g);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function nc(){return(nc=(0,s.Z)(function*(x,g){const m=pi(g),D=nh(x);if(!(yield D._isAvailable()))return!1;const Q="true"===(yield D._get(m));return yield D._remove(m),Q})).apply(this,arguments)}function qh(x,g){return rp.apply(this,arguments)}function rp(){return(rp=(0,s.Z)(function*(x,g){return nh(x)._set(pi(g),"true")})).apply(this,arguments)}function pd(x,g){Cr.set(x._key(),g)}function nh(x){return fr(x._redirectPersistence)}function pi(x){return Rr("pendingRedirect",x.config.apiKey,x.name)}function Bu(){return(Bu=(0,s.Z)(function*(x,g,m){const D=ur(x);Ps(x,g,na),yield D._initializationPromise;const Q=ro(D,m);return yield qh(Q,D),Q._openRedirect(D,g,"signInViaRedirect")})).apply(this,arguments)}function bo(){return(bo=(0,s.Z)(function*(x,g,m){const D=(0,oe.m9)(x);Ps(D.auth,g,na),yield D.auth._initializationPromise;const Q=ro(D.auth,m);yield qh(Q,D.auth);const z=yield N(D);return Q._openRedirect(D.auth,g,"reauthViaRedirect",z)})).apply(this,arguments)}function Mu(){return(Mu=(0,s.Z)(function*(x,g,m){const D=(0,oe.m9)(x);Ps(D.auth,g,na),yield D.auth._initializationPromise;const Q=ro(D.auth,m);yield Gs(!1,D,g.providerId),yield qh(Q,D.auth);const z=yield N(D);return Q._openRedirect(D.auth,g,"linkViaRedirect",z)})).apply(this,arguments)}function qs(){return(qs=(0,s.Z)(function*(x,g){return yield ur(x)._initializationPromise,so(x,g,!1)})).apply(this,arguments)}function so(x,g){return k.apply(this,arguments)}function k(){return(k=(0,s.Z)(function*(x,g,m=!1){const D=ur(x),Q=ro(D,g),ge=yield new Ho(D,Q,m).execute();return ge&&!m&&(delete ge.user._redirectEventId,yield D._persistUserIfCurrent(ge.user),yield D._setRedirectUser(null,g)),ge})).apply(this,arguments)}function N(x){return K.apply(this,arguments)}function K(){return(K=(0,s.Z)(function*(x){const g=ma(`${x.uid}:::`);return x._redirectEventId=g,yield x.auth._setRedirectUser(x),yield x.auth._persistUserIfCurrent(x),g})).apply(this,arguments)}class Ie{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(g,D)&&(m=!0,this.sendToConsumer(g,D),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function mn(x){switch(x.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gt(x);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var D;if(g.error&&!gt(g)){const Q=(null===(D=g.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";m.onError(hs(this.auth,Q))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const D=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&D}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qe(g))}saveEventToCache(g){this.cachedEventUids.add(qe(g)),this.lastProcessedEventTime=Date.now()}}function qe(x){return[x.type,x.eventId,x.sessionId,x.tenantId].filter(g=>g).join("-")}function gt({type:x,error:g}){return"unknown"===x&&"auth/no-auth-event"===g?.code}function an(x){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,s.Z)(function*(x,g={}){return Oi(x,"GET","/v1/projects",g)})).apply(this,arguments)}const Fn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yt=/^https?/;function Ks(){return(Ks=(0,s.Z)(function*(x){if(x.config.emulator)return;const{authorizedDomains:g}=yield an(x);for(const m of g)try{if(ul(m))return}catch{}rs(x,"unauthorized-domain")})).apply(this,arguments)}function ul(x){const g=Wn(),{protocol:m,hostname:D}=new URL(g);if(x.startsWith("chrome-extension://")){const ge=new URL(x);return""===ge.hostname&&""===D?"chrome-extension:"===m&&x.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&ge.hostname===D}if(!Yt.test(m))return!1;if(Fn.test(x))return D===x;const Q=x.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Q+"|"+Q+")$","i").test(D)}const Zs=new Yo(3e4,6e4);function Va(){const x=ts().___jsl;if(x?.H)for(const g of Object.keys(x.H))if(x.H[g].r=x.H[g].r||[],x.H[g].L=x.H[g].L||[],x.H[g].r=[...x.H[g].L],x.CP)for(let m=0;m<x.CP.length;m++)x.CP[m]=null}let Ll=null;function Kh(x){return Ll=Ll||function Ga(x){return new Promise((g,m)=>{var D,Q,z;function ge(){Va(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Va(),m(hs(x,"network-request-failed"))},timeout:Zs.get()})}if(null!==(Q=null===(D=ts().gapi)||void 0===D?void 0:D.iframes)&&void 0!==Q&&Q.Iframe)g(gapi.iframes.getContext());else{if(null===(z=ts().gapi)||void 0===z||!z.load){const Le=Yr("iframefcb");return ts()[Le]=()=>{gapi.load?ge():m(hs(x,"network-request-failed"))},jr(`https://apis.google.com/js/api.js?onload=${Le}`).catch(Pt=>m(Pt))}ge()}}).catch(g=>{throw Ll=null,g})}(x),Ll}const ZA=new Yo(5e3,15e3),aw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},op=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ap(x){const g=x.config;Zt(g.authDomain,x,"auth-domain-config-required");const m=g.emulator?si(g,"emulator/auth/iframe"):`https://${x.config.authDomain}/__/auth/iframe`,D={apiKey:g.apiKey,appName:x.name,v:rt.SDK_VERSION},Q=op.get(x.config.apiHost);Q&&(D.eid=Q);const z=x._getFrameworks();return z.length&&(D.fw=z.join(",")),`${m}?${(0,oe.xO)(D).slice(1)}`}function Zh(){return Zh=(0,s.Z)(function*(x){const g=yield Kh(x),m=ts().gapi;return Zt(m,x,"internal-error"),g.open({where:document.body,url:ap(x),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aw,dontclear:!0},D=>new Promise(function(){var Q=(0,s.Z)(function*(z,ge){yield D.restyle({setHideOnLeave:!1});const Le=hs(x,"network-request-failed"),Pt=ts().setTimeout(()=>{ge(Le)},ZA.get());function Ct(){ts().clearTimeout(Pt),z(D)}D.ping(Ct).then(Ct,()=>{ge(Le)})});return function(z,ge){return Q.apply(this,arguments)}}()))}),Zh.apply(this,arguments)}const lp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class up{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Zg=encodeURIComponent("fac");function gd(x,g,m,D,Q,z){return vc.apply(this,arguments)}function vc(){return(vc=(0,s.Z)(function*(x,g,m,D,Q,z){Zt(x.config.authDomain,x,"auth-domain-config-required"),Zt(x.config.apiKey,x,"invalid-api-key");const ge={apiKey:x.config.apiKey,appName:x.name,authType:m,redirectUrl:D,v:rt.SDK_VERSION,eventId:Q};if(g instanceof na){g.setDefaultLanguage(x.languageCode),ge.providerId=g.providerId||"",(0,oe.xb)(g.getCustomParameters())||(ge.customParameters=JSON.stringify(g.getCustomParameters()));for(const[nn,fn]of Object.entries(z||{}))ge[nn]=fn}if(g instanceof Ts){const nn=g.getScopes().filter(fn=>""!==fn);nn.length>0&&(ge.scopes=nn.join(","))}x.tenantId&&(ge.tid=x.tenantId);const Le=ge;for(const nn of Object.keys(Le))void 0===Le[nn]&&delete Le[nn];const Pt=yield x._getAppCheckToken(),Ct=Pt?`#${Zg}=${encodeURIComponent(Pt)}`:"";return`${$g(x)}?${(0,oe.xO)(Le).slice(1)}${Ct}`})).apply(this,arguments)}function $g({config:x}){return x.emulator?si(x,"emulator/auth/handler"):`https://${x.authDomain}/__/auth/handler`}const dp="webStorageSupport",E_=class Yg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kc,this._completeRedirectFn=so,this._overrideRedirectResult=pd}_openPopup(g,m,D,Q){var z=this;return(0,s.Z)(function*(){var ge;Us(null===(ge=z.eventManagers[g._key()])||void 0===ge?void 0:ge.manager,"_initialize() not called before _openPopup()");const Le=yield gd(g,m,D,Wn(),Q);return function qg(x,g,m,D=500,Q=600){const z=Math.max((window.screen.availHeight-Q)/2,0).toString(),ge=Math.max((window.screen.availWidth-D)/2,0).toString();let Le="";const Pt=Object.assign(Object.assign({},lp),{width:D.toString(),height:Q.toString(),top:z,left:ge}),Ct=(0,oe.z$)().toLowerCase();m&&(Le=vn(Ct)?"_blank":m),Oo(Ct)&&(g=g||"http://localhost",Pt.scrollbars="yes");const nn=Object.entries(Pt).reduce((Yi,[$s,xc])=>`${Yi}${$s}=${xc},`,"");if(function Li(x=(0,oe.z$)()){var g;return Gr(x)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Ct)&&"_self"!==Le)return function x_(x,g){const m=document.createElement("a");m.href=x,m.target=g;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(D)}(g||"",Le),new up(null);const fn=window.open(g||"",Le,nn);Zt(fn,x,"popup-blocked");try{fn.focus()}catch{}return new up(fn)}(g,Le,ma())})()}_openRedirect(g,m,D,Q){var z=this;return(0,s.Z)(function*(){return yield z._originValidation(g),function mc(x){ts().location.href=x}(yield gd(g,m,D,Wn(),Q)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:Q,promise:z}=this.eventManagers[m];return Q?Promise.resolve(Q):(Us(z,"If manager is not set, promise should be"),z)}const D=this.initAndGetManager(g);return this.eventManagers[m]={promise:D},D.catch(()=>{delete this.eventManagers[m]}),D}initAndGetManager(g){var m=this;return(0,s.Z)(function*(){const D=yield function C_(x){return Zh.apply(this,arguments)}(g),Q=new Ie(g);return D.register("authEvent",z=>(Zt(z?.authEvent,g,"invalid-auth-event"),{status:Q.onEvent(z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:Q},m.iframes[g._key()]=D,Q})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(dp,{type:dp},Q=>{var z;const ge=null===(z=Q?.[0])||void 0===z?void 0:z[dp];void 0!==ge&&m(!!ge),rs(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Co(x){return Ks.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return hu()||ys()||Gr()}};class cw{constructor(g){this.factorId=g}_process(g,m,D){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,D);case"signin":return this._finalizeSignIn(g,m.credential);default:return Mr("unexpected MultiFactorSessionType")}}}class $h extends cw{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new $h(g)}_finalizeEnroll(g,m,D){return function os(x,g){return Oi(x,"POST","/v2/accounts/mfaEnrollment:finalize",Ai(x,g))}(g,{idToken:m,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function An(x,g){return Oi(x,"POST","/v2/accounts/mfaSignIn:finalize",Ai(x,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let YA=(()=>{class x{constructor(){}static assertion(m){return $h._fromCredential(m)}}return x.FACTOR_ID="phone",x})();var rh="@firebase/auth";class uw{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,s.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(D=>{g(D?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Zt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Jh(){return window}function Xh(){return(Xh=(0,s.Z)(function*(x,g,m){var D;const{BuildInfo:Q}=Jh();Us(g.sessionId,"AuthEvent did not contain a session ID");const z=yield tA(g.sessionId),ge={};return Gr()?ge.ibi=Q.packageName:Ir()?ge.apn=Q.packageName:rs(x,"operation-not-supported-in-this-environment"),Q.displayName&&(ge.appDisplayName=Q.displayName),ge.sessionId=z,gd(x,m,g.type,void 0,null!==(D=g.eventId)&&void 0!==D?D:void 0,ge)})).apply(this,arguments)}function eA(){return(eA=(0,s.Z)(function*(x){const{BuildInfo:g}=Jh(),m={};Gr()?m.iosBundleId=g.packageName:Ir()?m.androidPackageName=g.packageName:rs(x,"operation-not-supported-in-this-environment"),yield an(x,m)})).apply(this,arguments)}function JA(){return(JA=(0,s.Z)(function*(x,g,m){const{cordova:D}=Jh();let Q=()=>{};try{yield new Promise((z,ge)=>{let Le=null;function Pt(){var fn;z();const Yi=null===(fn=D.plugins.browsertab)||void 0===fn?void 0:fn.close;"function"==typeof Yi&&Yi(),"function"==typeof m?.close&&m.close()}function Ct(){Le||(Le=window.setTimeout(()=>{ge(hs(x,"redirect-cancelled-by-user"))},2e3))}function nn(){"visible"===document?.visibilityState&&Ct()}g.addPassiveListener(Pt),document.addEventListener("resume",Ct,!1),Ir()&&document.addEventListener("visibilitychange",nn,!1),Q=()=>{g.removePassiveListener(Pt),document.removeEventListener("resume",Ct,!1),document.removeEventListener("visibilitychange",nn,!1),Le&&window.clearTimeout(Le)}})}finally{Q()}})).apply(this,arguments)}function tA(x){return XA.apply(this,arguments)}function XA(){return(XA=(0,s.Z)(function*(x){const g=Fs(x),m=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(m)).map(Q=>Q.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Fs(x){if(Us(/[0-9a-zA-Z]+/.test(x),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(x);const g=new ArrayBuffer(x.length),m=new Uint8Array(g);for(let D=0;D<x.length;D++)m[D]=x.charCodeAt(D);return m}(0,oe.Pz)("authIdTokenMaxAge"),function Jg(x){(0,rt._registerComponent)(new di.wA("auth",(g,{options:m})=>{const D=g.getProvider("app").getImmediate(),Q=g.getProvider("heartbeat"),z=g.getProvider("app-check-internal"),{apiKey:ge,authDomain:Le}=D.options;Zt(ge&&!ge.includes(":"),"invalid-api-key",{appName:D.name}),Zt(!Le?.includes(":"),"argument-error",{appName:D.name});const Pt={apiKey:ge,authDomain:Le,clientPlatform:x,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vc(x)},Ct=new Uf(D,Q,z,Pt);return function Dh(x,g){const m=g?.persistence||[],D=(Array.isArray(m)?m:[m]).map(fr);g?.errorMap&&x._updateErrorMap(g.errorMap),x._initializeWithPersistence(D,g?.popupRedirectResolver)}(Ct,m),Ct},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,D)=>{g.getProvider("auth-internal").initialize()})),(0,rt._registerComponent)(new di.wA("auth-internal",g=>{const m=ur(g.getProvider("auth").getImmediate());return new uw(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,rt.registerVersion)(rh,"0.23.1",function S_(x){switch(x){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(x)),(0,rt.registerVersion)(rh,"0.23.1","esm2017")}("Browser");class Ru extends Ie{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(g)),super.onEvent(g)}initialized(){var g=this;return(0,s.Z)(function*(){yield g.initPromise})()}}function ef(x){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,s.Z)(function*(x){const g=yield nA()._get(Ou(x));return g&&(yield nA()._remove(Ou(x))),g})).apply(this,arguments)}function em(){const x=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const D=Math.floor(Math.random()*g.length);x.push(g.charAt(D))}return x.join("")}function nA(){return fr(GA)}function Ou(x){return Rr("authEvent",x.config.apiKey,x.name)}function tf(x){if(!x?.includes("?"))return{};const[g,...m]=x.split("?");return(0,oe.zd)(m.join("?"))}const Lu=class pC{constructor(){this._redirectPersistence=Kc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=so,this._overrideRedirectResult=pd}_initialize(g){var m=this;return(0,s.Z)(function*(){const D=g._key();let Q=m.eventManagers.get(D);return Q||(Q=new Ru(g),m.eventManagers.set(D,Q),m.attachCallbackListeners(g,Q)),Q})()}_openPopup(g){rs(g,"operation-not-supported-in-this-environment")}_openRedirect(g,m,D,Q){var z=this;return(0,s.Z)(function*(){!function Xg(x){var g,m,D,Q,z,ge,Le,Pt,Ct,nn;const fn=Jh();Zt("function"==typeof(null===(g=fn?.universalLinks)||void 0===g?void 0:g.subscribe),x,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Zt(typeof(null===(m=fn?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Zt("function"==typeof(null===(z=null===(Q=null===(D=fn?.cordova)||void 0===D?void 0:D.plugins)||void 0===Q?void 0:Q.browsertab)||void 0===z?void 0:z.openUrl),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Zt("function"==typeof(null===(Pt=null===(Le=null===(ge=fn?.cordova)||void 0===ge?void 0:ge.plugins)||void 0===Le?void 0:Le.browsertab)||void 0===Pt?void 0:Pt.isAvailable),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Zt("function"==typeof(null===(nn=null===(Ct=fn?.cordova)||void 0===Ct?void 0:Ct.InAppBrowser)||void 0===nn?void 0:nn.open),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const ge=yield z._initialize(g);yield ge.initialized(),ge.resetRedirect(),function KA(){Cr.clear()}(),yield z._originValidation(g);const Le=function oh(x,g,m=null){return{type:g,eventId:m,urlResponse:null,sessionId:em(),postBody:null,tenantId:x.tenantId,error:hs(x,"no-auth-event")}}(g,D,Q);yield function yd(x,g){return nA()._set(Ou(x),g)}(g,Le);const Pt=yield function bc(x,g,m){return Xh.apply(this,arguments)}(g,Le,m),Ct=yield function pp(x){const{cordova:g}=Jh();return new Promise(m=>{g.plugins.browsertab.isAvailable(D=>{let Q=null;D?g.plugins.browsertab.openUrl(x):Q=g.InAppBrowser.open(x,function Hc(x=(0,oe.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(x)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(x)}()?"_blank":"_system","location=yes"),m(Q)})})}(Pt);return function I_(x,g,m){return JA.apply(this,arguments)}(g,ge,Ct)})()}_isIframeWebStorageSupported(g,m){throw new Error("Method not implemented.")}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function md(x){return eA.apply(this,arguments)}(g)),this.originValidationPromises[m]}attachCallbackListeners(g,m){const{universalLinks:D,handleOpenURL:Q,BuildInfo:z}=Jh(),ge=setTimeout((0,s.Z)(function*(){yield ef(g),m.onEvent(gp())}),500),Le=function(){var nn=(0,s.Z)(function*(fn){clearTimeout(ge);const Yi=yield ef(g);let $s=null;Yi&&fn?.url&&($s=function nv(x,g){var m,D;const Q=function ic(x){const g=tf(x),m=g.link?decodeURIComponent(g.link):void 0,D=tf(m).link,Q=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return tf(Q).link||Q||D||m||x}(g);if(Q.includes("/__/auth/callback")){const z=tf(Q),ge=z.firebaseError?function dl(x){try{return JSON.parse(x)}catch{return null}}(decodeURIComponent(z.firebaseError)):null,Le=null===(D=null===(m=ge?.code)||void 0===m?void 0:m.split("auth/"))||void 0===D?void 0:D[1],Pt=Le?hs(Le):null;return Pt?{type:x.type,eventId:x.eventId,tenantId:x.tenantId,error:Pt,urlResponse:null,sessionId:null,postBody:null}:{type:x.type,eventId:x.eventId,tenantId:x.tenantId,sessionId:x.sessionId,urlResponse:Q,postBody:null}}return null}(Yi,fn.url)),m.onEvent($s||gp())});return function(Yi){return nn.apply(this,arguments)}}();typeof D<"u"&&"function"==typeof D.subscribe&&D.subscribe(null,Le);const Pt=Q,Ct=`${z.packageName.toLowerCase()}://`;Jh().handleOpenURL=function(){var nn=(0,s.Z)(function*(fn){if(fn.toLowerCase().startsWith(Ct)&&Le({url:fn}),"function"==typeof Pt)try{Pt(fn)}catch(Yi){console.error(Yi)}});return function(fn){return nn.apply(this,arguments)}}()}};function gp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:hs("no-auth-event")}}function sA(){var x;return(null===(x=self?.location)||void 0===x?void 0:x.protocol)||null}function yp(x=(0,oe.z$)()){return!("file:"!==sA()&&"ionic:"!==sA()&&"capacitor:"!==sA()||!x.toLowerCase().match(/iphone|ipad|ipod|android/))}function nm(){try{const x=self.localStorage,g=ma();if(x)return x.setItem(g,"1"),x.removeItem(g),!function iv(x=(0,oe.z$)()){return function aA(){return(0,oe.w1)()&&11===document?.documentMode}()||function D_(x=(0,oe.z$)()){return/Edge\/\d+/.test(x)}(x)}()||(0,oe.hl)()}catch{return im()&&(0,oe.hl)()}return!1}function im(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function rc(){return(function tm(){return"http:"===sA()||"https:"===sA()}()||(0,oe.ru)()||yp())&&!function oA(){return(0,oe.b$)()||(0,oe.UG)()}()&&nm()&&!im()}function ah(){return yp()&&typeof document<"u"}function T_(){return(T_=(0,s.Z)(function*(){return!!ah()&&new Promise(x=>{const g=setTimeout(()=>{x(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),x(!0)})})})).apply(this,arguments)}const ja={LOCAL:"local",NONE:"none",SESSION:"session"},vd=Zt,sv="persistence";function vp(x){return bn.apply(this,arguments)}function bn(){return(bn=(0,s.Z)(function*(x){yield x._initializationPromise;const g=sm(),m=Rr(sv,x.config.apiKey,x.name);g&&g.setItem(m,x._getPersistence())})).apply(this,arguments)}function sm(){var x;try{return(null===(x=function nf(){return typeof window<"u"?window:null}())||void 0===x?void 0:x.sessionStorage)||null}catch{return null}}const Nl=Zt;class hl{constructor(){this.browserResolver=fr(E_),this.cordovaResolver=fr(Lu),this.underlyingResolver=null,this._redirectPersistence=Kc,this._completeRedirectFn=so,this._overrideRedirectResult=pd}_initialize(g){var m=this;return(0,s.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,m,D,Q){var z=this;return(0,s.Z)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._openPopup(g,m,D,Q)})()}_openRedirect(g,m,D,Q){var z=this;return(0,s.Z)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._openRedirect(g,m,D,Q)})()}_isIframeWebStorageSupported(g,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,m)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return ah()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Nl(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,s.Z)(function*(){if(g.underlyingResolver)return;const m=yield function rv(){return T_.apply(this,arguments)}();g.underlyingResolver=m?g.cordovaResolver:g.browserResolver})()}}function Xi(x){return x.unwrap()}function bp(x){return rf(x)}function rf(x){const{_tokenResponse:g}=x instanceof oe.ZR?x.customData:x;if(!g)return null;if(!(x instanceof oe.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return zs.credentialFromResult(x);const m=g.providerId;if(!m||"password"===m)return null;let D;switch(m){case"google.com":D=nd;break;case"facebook.com":D=yu;break;case"github.com":D=$i;break;case"twitter.com":D=Or;break;default:const{oauthIdToken:Q,oauthAccessToken:z,oauthTokenSecret:ge,pendingToken:Le,nonce:Pt}=g;return z||ge||Q||Le?Le?m.startsWith("saml.")?Jl._create(m,Le):Ac._fromParams({providerId:m,signInMethod:m,pendingToken:Le,idToken:Q,accessToken:z}):new _u(m).credential({idToken:Q,accessToken:z,rawNonce:Pt}):null}return x instanceof oe.ZR?D.credentialFromError(x):D.credentialFromResult(x)}function bs(x,g){return g.catch(m=>{throw m instanceof oe.ZR&&function ov(x,g){var m;const D=null===(m=g.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===g?.code)g.resolver=new B_(x,function d_(x,g){var m;const D=(0,oe.m9)(x),Q=g;return Zt(g.customData.operationType,D,"argument-error"),Zt(null===(m=Q.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,D,"argument-error"),Zd._fromError(D,Q)}(x,g));else if(D){const Q=rf(g),z=g;Q&&(z.credential=Q,z.tenantId=D.tenantId||void 0,z.email=D.email||void 0,z.phoneNumber=D.phoneNumber||void 0)}}(x,m),m}).then(m=>{const Q=m.user;return{operationType:m.operationType,credential:bp(m),additionalUserInfo:ud(m),user:bd.getOrCreate(Q)}})}function sf(x,g){return wd.apply(this,arguments)}function wd(){return(wd=(0,s.Z)(function*(x,g){const m=yield g;return{verificationId:m.verificationId,confirm:D=>bs(x,m.confirm(D))}})).apply(this,arguments)}class B_{constructor(g,m){this.resolver=m,this.auth=function fs(x){return x.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return bs(Xi(this.auth),this.resolver.resolveSignIn(g))}}class bd{constructor(g){this._delegate=g,this.multiFactor=function HA(x){const g=(0,oe.m9)(x);return Qh.has(g)||Qh.set(g,$d._fromUser(g)),Qh.get(g)}(g)}static getOrCreate(g){return bd.USER_MAP.has(g)||bd.USER_MAP.set(g,new bd(g)),bd.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var m=this;return(0,s.Z)(function*(){return bs(m.auth,Rl(m._delegate,g))})()}linkWithPhoneNumber(g,m){var D=this;return(0,s.Z)(function*(){return sf(D.auth,function ip(x,g,m){return Du.apply(this,arguments)}(D._delegate,g,m))})()}linkWithPopup(g){var m=this;return(0,s.Z)(function*(){return bs(m.auth,function Gg(x,g,m){return $c.apply(this,arguments)}(m._delegate,g,hl))})()}linkWithRedirect(g){var m=this;return(0,s.Z)(function*(){return yield vp(ur(m.auth)),function jg(x,g,m){return function Ha(x,g,m){return Mu.apply(this,arguments)}(x,g,m)}(m._delegate,g,hl)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var m=this;return(0,s.Z)(function*(){return bs(m.auth,ss(m._delegate,g))})()}reauthenticateWithPhoneNumber(g,m){return sf(this.auth,function Tu(x,g,m){return Zc.apply(this,arguments)}(this._delegate,g,m))}reauthenticateWithPopup(g){return bs(this.auth,function wo(x,g,m){return eh.apply(this,arguments)}(this._delegate,g,hl))}reauthenticateWithRedirect(g){var m=this;return(0,s.Z)(function*(){return yield vp(ur(m.auth)),function Fu(x,g,m){return function Xy(x,g,m){return bo.apply(this,arguments)}(x,g,m)}(m._delegate,g,hl)})()}sendEmailVerification(g){return function ad(x,g){return ld.apply(this,arguments)}(this._delegate,g)}unlink(g){var m=this;return(0,s.Z)(function*(){return yield function Ig(x,g){return Bs.apply(this,arguments)}(m._delegate,g),m})()}updateEmail(g){return function cd(x,g){return Lg((0,oe.m9)(x),g,null)}(this._delegate,g)}updatePassword(g){return function Zf(x,g){return Lg((0,oe.m9)(x),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function Xd(x,g){return Ad.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function UA(x,g){return Cu.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,m){return function Og(x,g,m){return La.apply(this,arguments)}(this._delegate,g,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}bd.USER_MAP=new WeakMap;const Cp=Zt;let lA=(()=>{class x{constructor(m,D){if(this.app=m,D.isInitialized())return this._delegate=D.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Q}=m.options;Cp(Q,"invalid-api-key",{appName:m.name}),Cp(Q,"invalid-api-key",{appName:m.name});const z=typeof window<"u"?hl:void 0;this._delegate=D.initialize({options:{persistence:lv(Q,m.name),popupRedirectResolver:z}}),this._delegate._updateErrorMap(Cl),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?bd.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,D){!function TA(x,g,m){const D=ur(x);Zt(D._canInitEmulator,D,"emulator-config-failed"),Zt(/^https?:\/\//.test(g),D,"invalid-emulator-scheme");const Q=!!m?.disableWarnings,z=Vs(g),{host:ge,port:Le}=function s_(x){const g=Vs(x),m=/(\/\/)?([^?#/]+)/.exec(x.substr(g.length));if(!m)return{host:"",port:null};const D=m[2].split("@").pop()||"",Q=/^(\[[^\]]+\])(:|$)/.exec(D);if(Q){const z=Q[1];return{host:z,port:Th(D.substr(z.length+1))}}{const[z,ge]=D.split(":");return{host:z,port:Th(ge)}}}(g);D.config.emulator={url:`${z}//${ge}${null===Le?"":`:${Le}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:ge,port:Le,protocol:z.replace(":",""),options:Object.freeze({disableWarnings:Q})}),Q||function o_(){function x(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",x):x())}()}(this._delegate,m,D)}applyActionCode(m){return function Bg(x,g){return wu.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Fg(this._delegate,m)}confirmPasswordReset(m,D){return function qf(x,g,m){return Rh.apply(this,arguments)}(this._delegate,m,D)}createUserWithEmailAndPassword(m,D){var Q=this;return(0,s.Z)(function*(){return bs(Q._delegate,function ia(x,g,m){return Oa.apply(this,arguments)}(Q._delegate,m,D))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function jd(x,g){return gc.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function kg(x,g){return"EMAIL_SIGNIN"===yo.parseLink(g)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,s.Z)(function*(){Cp(rc(),m._delegate,"operation-not-supported-in-this-environment");const D=yield function b_(x,g){return qs.apply(this,arguments)}(m._delegate,hl);return D?bs(m._delegate,Promise.resolve(D)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function hw(x,g){ur(x)._logFramework(g)}(this._delegate,m)}onAuthStateChanged(m,D,Q){const{next:z,error:ge,complete:Le}=av(m,D,Q);return this._delegate.onAuthStateChanged(z,ge,Le)}onIdTokenChanged(m,D,Q){const{next:z,error:ge,complete:Le}=av(m,D,Q);return this._delegate.onIdTokenChanged(z,ge,Le)}sendSignInLinkToEmail(m,D){return function PA(x,g,m){return od.apply(this,arguments)}(this._delegate,m,D)}sendPasswordResetEmail(m,D){return function Tg(x,g,m){return Ra.apply(this,arguments)}(this._delegate,m,D||void 0)}setPersistence(m){var D=this;return(0,s.Z)(function*(){let Q;switch(function rm(x,g){vd(Object.values(ja).includes(g),x,"invalid-persistence-type"),(0,oe.b$)()?vd(g!==ja.SESSION,x,"unsupported-persistence-type"):(0,oe.UG)()?vd(g===ja.NONE,x,"unsupported-persistence-type"):im()?vd(g===ja.NONE||g===ja.LOCAL&&(0,oe.hl)(),x,"unsupported-persistence-type"):vd(g===ja.NONE||nm(),x,"unsupported-persistence-type")}(D._delegate,m),m){case ja.SESSION:Q=Kc;break;case ja.LOCAL:Q=(yield fr(Gn)._isAvailable())?Gn:GA;break;case ja.NONE:Q=mi;break;default:return rs("argument-error",{appName:D._delegate.name})}return D._delegate.setPersistence(Q)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return bs(this._delegate,function vo(x){return LA.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return bs(this._delegate,vs(this._delegate,m))}signInWithCustomToken(m){return bs(this._delegate,function pc(x,g){return zf.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,D){return bs(this._delegate,function Lr(x,g,m){return vs((0,oe.m9)(x),OA.credential(g,m))}(this._delegate,m,D))}signInWithEmailLink(m,D){return bs(this._delegate,function Lh(x,g,m){return Kf.apply(this,arguments)}(this._delegate,m,D))}signInWithPhoneNumber(m,D){return sf(this._delegate,function Iu(x,g,m){return al.apply(this,arguments)}(this._delegate,m,D))}signInWithPopup(m){var D=this;return(0,s.Z)(function*(){return Cp(rc(),D._delegate,"operation-not-supported-in-this-environment"),bs(D._delegate,function sa(x,g,m){return _i.apply(this,arguments)}(D._delegate,m,hl))})()}signInWithRedirect(m){var D=this;return(0,s.Z)(function*(){return Cp(rc(),D._delegate,"operation-not-supported-in-this-environment"),yield vp(D._delegate),function ih(x,g,m){return function w_(x,g,m){return Bu.apply(this,arguments)}(x,g,m)}(D._delegate,m,hl)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Mg(x,g){return Oh.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return x.Persistence=ja,x})();function av(x,g,m){let D=x;"function"!=typeof x&&({next:D,error:g,complete:m}=x);const Q=D;return{next:ge=>Q(ge&&bd.getOrCreate(ge)),error:g,complete:m}}function lv(x,g){const m=function wp(x,g){const m=sm();if(!m)return[];const D=Rr(sv,x,g);switch(m.getItem(D)){case ja.NONE:return[mi];case ja.LOCAL:return[Gn,Kc];case ja.SESSION:return[Kc];default:return[]}}(x,g);if(typeof self<"u"&&!m.includes(Gn)&&m.push(Gn),typeof window<"u")for(const D of[GA,Kc])m.includes(D)||m.push(D);return m.includes(mi)||m.push(mi),m}class Cd{constructor(){this.providerId="phone",this._delegate=new zs(Xi(ze.Z.auth()))}static credential(g,m){return zs.credential(g,m)}verifyPhoneNumber(g,m){return this._delegate.verifyPhoneNumber(g,m)}unwrap(){return this._delegate}}Cd.PHONE_SIGN_IN_METHOD=zs.PHONE_SIGN_IN_METHOD,Cd.PROVIDER_ID=zs.PROVIDER_ID;const cA=Zt;class F_{constructor(g,m,D=ze.Z.app()){var Q;cA(null===(Q=D.options)||void 0===Q?void 0:Q.apiKey,"invalid-api-key",{appName:D.name}),this._delegate=new tc(g,m,D.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function uA(x){x.INTERNAL.registerComponent(new di.wA("auth-compat",g=>{const m=g.getProvider("app-compat").getImmediate(),D=g.getProvider("auth");return new lA(m,D)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:OA,FacebookAuthProvider:yu,GithubAuthProvider:$i,GoogleAuthProvider:nd,OAuthProvider:_u,SAMLAuthProvider:fc,PhoneAuthProvider:Cd,PhoneMultiFactorGenerator:YA,RecaptchaVerifier:F_,TwitterAuthProvider:Or,Auth:lA,AuthCredential:Ud,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),x.registerVersion("@firebase/auth-compat","0.4.1")}(ze.Z)},5861:(ei,Lt,re)=>{"use strict";function s(oe,rt,lt,vt,Ke,Tt,ut){try{var Ee=oe[Tt](ut),De=Ee.value}catch(je){return void lt(je)}Ee.done?rt(De):Promise.resolve(De).then(vt,Ke)}function ze(oe){return function(){var rt=this,lt=arguments;return new Promise(function(vt,Ke){var Tt=oe.apply(rt,lt);function ut(De){s(Tt,vt,Ke,ut,Ee,"next",De)}function Ee(De){s(Tt,vt,Ke,ut,Ee,"throw",De)}ut(void 0)})}}re.d(Lt,{Z:()=>ze})},7986:ei=>{"use strict";ei.exports=JSON.parse('{"version":"1.4.3","develop":false}')}},ei=>{ei(ei.s=9761)}]);