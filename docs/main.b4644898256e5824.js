"use strict";(self.webpackChunknewprova4=self.webpackChunknewprova4||[]).push([[179],{8485:(ct,Ee,F)=>{var o=F(4650);let J=null;function L(){return J}class me{}const X=new o.OlP("DocumentToken");let he=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function de(){return(0,o.LFG)(W)}()},providedIn:"platform"}),n})();const j=new o.OlP("Location Initialized");let W=(()=>{class n extends he{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){Q()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){Q()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(X))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Ue(){return new W((0,o.LFG)(X))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Me(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function We(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function it(n){return n&&"?"!==n[0]?"?"+n:n}let pe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(ge)},providedIn:"root"}),n})();const we=new o.OlP("appBaseHref");let ge=(()=>{class n extends pe{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,o.f3M)(X).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Me(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+it(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const c=this.prepareExternalUrl(r+it(s));this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,s){const c=this.prepareExternalUrl(r+it(s));this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(he),o.LFG(we,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ke=(()=>{class n extends pe{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Me(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let c=this.prepareExternalUrl(r+it(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,s){let c=this.prepareExternalUrl(r+it(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(he),o.LFG(we,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Be=(()=>{class n{constructor(e){this._subject=new o.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=We(Qe(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+it(i))}normalize(e){return n.stripTrailingSlash(function Ne(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Qe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+it(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+it(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=it,n.joinWithSlash=Me,n.stripTrailingSlash=We,n.\u0275fac=function(e){return new(e||n)(o.LFG(pe))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function ot(){return new Be((0,o.LFG)(pe))}()},providedIn:"root"}),n})();function Qe(n){return n.replace(/\/index.html$/,"")}let er=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,o.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Oi{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let os=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Oi(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,c),xi(d,r)}});for(let r=0,s=i.length;r<s;r++){const d=i.get(r).context;d.index=r,d.count=s,d.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{xi(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function xi(n,t){n.context.$implicit=t.item}let gn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new yc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Lo("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Lo("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class yc{constructor(){this.$implicit=null,this.ngIf=null}}function Lo(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(t)}'.`)}class Ut{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Vo=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),yo=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Ut(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(Vo,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Rh=(()=>{class n{constructor(e,i,r){r._addDefault(new Ut(e,i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(Vo,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),Ts=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),c=-1===r.indexOf("-")?void 0:o.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,c):this._renderer.removeStyle(this._ngEl.nativeElement,r,c)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();class Mn{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class ca{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const hl=new ca,bc=new Mn;let ua=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,o.QGY)(e))return hl;if((0,o.F4k)(e))return bc;throw function Rr(n,t){return new o.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO,16))},n.\u0275pipe=o.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),zi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const Ms="browser";function ks(n){return n===Ms}function ls(n){return"server"===n}let nr=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new no((0,o.LFG)(X),window)}),n})();class no{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Ku(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const c=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=fa(this.window.history)||fa(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function fa(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class qi extends me{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fs extends qi{static makeCurrent(){!function ce(n){J||(J=n)}(new fs)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function $h(){return Sn=Sn||document.querySelector("base"),Sn?Sn.getAttribute("href"):null}();return null==e?null:function Pc(n){Ho=Ho||document.createElement("a"),Ho.setAttribute("href",n);const t=Ho.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Sn=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function mr(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let Ho,Sn=null;const Fc=new o.OlP("TRANSITION_ID"),qh=[{provide:o.ip1,useFactory:function ba(n,t,e){return()=>{e.get(o.CZH).donePromise.then(()=>{const i=L(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Fc,X,o.zs3],multi:!0}];let Lc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const pi=new o.OlP("EventManagerPlugins");let wa=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const c=r[s];if(c.supports(e))return this._eventNameToPlugin.set(e,c),c}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(pi),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class ld{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=L().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Xp=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),ps=(()=>{class n extends Xp{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,r.push(i.appendChild(c))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Ca),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Ca))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(X))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Ca(n){L().remove(n)}const Wh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vc=/%COMP%/g;function xa(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?xa(n,r,e):(r=r.replace(Vc,n),e.push(r))}return e}function Cl(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Fs=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Da(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case o.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new xl(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case o.ifc.ShadowDom:return new Dl(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=xa(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(wa),o.LFG(ps),o.LFG(o.AFp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Da{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Wh[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Go(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Go(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=Wh[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Wh[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(o.JOm.DashCase|o.JOm.Important)?t.style.setProperty(e,i,r&o.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&o.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Cl(i)):this.eventManager.addEventListener(t,e,Cl(i))}}function Go(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class xl extends Da{constructor(t,e,i,r){super(t),this.component=i;const s=xa(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function Ea(n){return"_ngcontent-%COMP%".replace(Vc,n)}(r+"-"+i.id),this.hostAttr=function Yh(n){return"_nghost-%COMP%".replace(Vc,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Dl extends Da{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=xa(r.id,r.styles,[]);for(let c=0;c<s.length;c++){const d=document.createElement("style");d.textContent=s[c],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Bc=(()=>{class n extends ld{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(X))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const ud=["alt","control","meta","shift"],dd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Aa={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let tg=(()=>{class n extends ld{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),c=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(e,s.domEventName,c))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let c="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),c="code."),ud.forEach(y=>{const C=i.indexOf(y);C>-1&&(i.splice(C,1),c+=y+".")}),c+=s,0!=i.length||0===s.length)return null;const g={};return g.domEventName=r,g.fullKey=c,g}static matchEventFullKeyCode(e,i){let r=dd[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),ud.forEach(c=>{c!==r&&(0,Aa[c])(e)&&(s+=c+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(X))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Sl=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:Ms},{provide:o.g9A,useValue:function wn(){fs.makeCurrent()},multi:!0},{provide:X,useFactory:function Hc(){return(0,o.RDi)(document),document},deps:[]}]),Gc=new o.OlP(""),gs=[{provide:o.rWj,useClass:class Nc{addToWindow(t){o.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},o.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const d=function(g){c=c||g,s--,0==s&&i(c)};r.forEach(function(g){g.whenStable(d)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?L().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:o.lri,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]}],Al=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function Uc(){return new o.qLn},deps:[]},{provide:pi,useClass:Bc,multi:!0,deps:[X,o.R0b,o.Lbi]},{provide:pi,useClass:tg,multi:!0,deps:[X]},{provide:Fs,useClass:Fs,deps:[wa,ps,o.AFp]},{provide:o.FYo,useExisting:Fs},{provide:Xp,useExisting:ps},{provide:ps,useClass:ps,deps:[X]},{provide:wa,useClass:wa,deps:[pi,o.R0b]},{provide:class Nh{},useClass:Lc,deps:[]},[]];let jc=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:o.AFp,useValue:e.appId},{provide:Fc,useExisting:o.AFp},qh]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Gc,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[...Al,...gs],imports:[zi,o.hGG]}),n})(),jo=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(X))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Il(){return new jo((0,o.LFG)(X))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let ms=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):o.LFG(_d),i},providedIn:"root"}),n})(),_d=(()=>{class n extends ms{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case o.q3G.NONE:return i;case o.q3G.HTML:return(0,o.qzn)(i,"HTML")?(0,o.z3N)(i):(0,o.EiD)(this._doc,String(i)).toString();case o.q3G.STYLE:return(0,o.qzn)(i,"Style")?(0,o.z3N)(i):i;case o.q3G.SCRIPT:if((0,o.qzn)(i,"Script"))return(0,o.z3N)(i);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.qzn)(i,"URL")?(0,o.z3N)(i):(0,o.mCW)(String(i));case o.q3G.RESOURCE_URL:if((0,o.qzn)(i,"ResourceURL"))return(0,o.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${o.JZr})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${o.JZr})`)}}bypassSecurityTrustHtml(e){return(0,o.JVY)(e)}bypassSecurityTrustStyle(e){return(0,o.L6k)(e)}bypassSecurityTrustScript(e){return(0,o.eBb)(e)}bypassSecurityTrustUrl(e){return(0,o.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,o.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(X))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function zo(n){return new _d(n.get(X))}(o.LFG(o.zs3)),i},providedIn:"root"}),n})();var Xt=F(8996),$r=F(3269);function Je(...n){const t=(0,$r.yG)(n);return(0,Xt.D)(n,t)}var lt=F(7579);class _n extends lt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const qc=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Jn=F(9751);const{isArray:ka}=Array,{getPrototypeOf:Jh,prototype:_s,keys:yr}=Object;function yd(n){if(1===n.length){const t=n[0];if(ka(t))return{args:t,keys:null};if(function ro(n){return n&&"object"==typeof n&&Jh(n)===_s}(t)){const e=yr(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var so=F(4671),qe=F(4004);const{isArray:ef}=Array;function I(n){return(0,qe.U)(t=>function S(n,t){return ef(t)?n(...t):n(t)}(n,t))}function R(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var B=F(5403),K=F(9672);function oe(...n){const t=(0,$r.yG)(n),e=(0,$r.jO)(n),{args:i,keys:r}=yd(n);if(0===i.length)return(0,Xt.D)([],t);const s=new Jn.y(function Ie(n,t,e=so.y){return i=>{je(t,()=>{const{length:r}=n,s=new Array(r);let c=r,d=r;for(let g=0;g<r;g++)je(t,()=>{const y=(0,Xt.D)(n[g],t);let C=!1;y.subscribe(new B.Q(i,D=>{s[g]=D,C||(C=!0,d--),d||i.next(e(s.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,t,r?c=>R(r,c):so.y));return e?s.pipe(I(e)):s}function je(n,t,e){n?(0,K.f)(e,n,t):t()}var gt=F(8189);function kt(...n){return function Pt(){return(0,gt.J)(1)}()((0,Xt.D)(n,(0,$r.yG)(n)))}var ft=F(8421);function Hn(n){return new Jn.y(t=>{(0,ft.Xf)(n()).subscribe(t)})}var Ni=F(9635),ai=F(576);function ys(n,t){const e=(0,ai.m)(n)?n:()=>n,i=r=>r.error(e());return new Jn.y(t?r=>t.schedule(i,0,r):i)}var Pr=F(515),mi=F(727),En=F(4482);function Fr(){return(0,En.e)((n,t)=>{let e=null;n._refCount++;const i=new B.Q(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Eo extends Jn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,En.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new mi.w0;const e=this.getSubject();t.add(this.source.subscribe(new B.Q(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=mi.w0.EMPTY)}return t}refCount(){return Fr()(this)}}function An(n,t){return(0,En.e)((e,i)=>{let r=null,s=0,c=!1;const d=()=>c&&!r&&i.complete();e.subscribe(new B.Q(i,g=>{r?.unsubscribe();let y=0;const C=s++;(0,ft.Xf)(n(g,C)).subscribe(r=new B.Q(i,D=>i.next(t?t(g,D,C,y++):D),()=>{r=null,d()}))},()=>{c=!0,d()}))})}var Gn=F(5698);function vr(...n){const t=(0,$r.yG)(n);return(0,En.e)((e,i)=>{(t?kt(n,e,t):kt(n,e)).subscribe(i)})}function dn(n,t){return(0,En.e)((e,i)=>{let r=0;e.subscribe(new B.Q(i,s=>n.call(t,s,r++)&&i.next(s)))})}var br=F(5577);function Wc(n){return(0,En.e)((t,e)=>{let i=!1;t.subscribe(new B.Q(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function k_(n=tf){return(0,En.e)((t,e)=>{let i=!1;t.subscribe(new B.Q(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function tf(){return new qc}function Vs(n,t){const e=arguments.length>=2;return i=>i.pipe(n?dn((r,s)=>n(r,s,i)):so.y,(0,Gn.q)(1),e?Wc(t):k_(()=>new qc))}function Ra(n,t){return(0,ai.m)(t)?(0,br.z)(n,t,1):(0,br.z)(n,1)}var li=F(8505);function xo(n){return(0,En.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe(new B.Q(e,void 0,void 0,c=>{s=(0,ft.Xf)(n(c,xo(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function R_(n,t,e,i,r){return(s,c)=>{let d=e,g=t,y=0;s.subscribe(new B.Q(c,C=>{const D=y++;g=d?n(g,C,D):(d=!0,C),i&&c.next(g)},r&&(()=>{d&&c.next(g),c.complete()})))}}function Oa(n,t){return(0,En.e)(R_(n,t,arguments.length>=2,!0))}function Yc(n){return n<=0?()=>Pr.E:(0,En.e)((t,e)=>{let i=[];t.subscribe(new B.Q(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function nf(n,t){const e=arguments.length>=2;return i=>i.pipe(n?dn((r,s)=>n(r,s,i)):so.y,Yc(1),e?Wc(t):k_(()=>new qc))}function vd(n,t=!1){return(0,En.e)((e,i)=>{let r=0;e.subscribe(new B.Q(i,s=>{const c=n(s,r++);(c||t)&&i.next(s),!c&&i.complete()}))})}function rf(n){return(0,qe.U)(()=>n)}function rg(n){return(0,En.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const $t="primary",bd=Symbol("RouteTitle");class bb{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function wd(n){return new bb(n)}function wb(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const c=i[s],d=n[s];if(c.startsWith(":"))r[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Do(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!sg(n[r],t[r]))return!1;return!0}function sg(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function sf(n){return Array.prototype.concat.apply([],n)}function Cd(n){return n.length>0?n[n.length-1]:null}function Wi(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Yi(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,Xt.D)(Promise.resolve(n)):Je(n)}const af=!1,lf={exact:function F_(n,t,e){if(!qo(n.segments,t.segments)||!cf(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!F_(n.children[i],t.children[i],e))return!1;return!0},subset:N_},P_={exact:function ag(n,t){return Do(n,t)},subset:function Eb(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>sg(n[e],t[e]))},ignored:()=>!0};function og(n,t,e){return lf[e.paths](n.root,t.root,e.matrixParams)&&P_[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function N_(n,t,e){return lg(n,t,t.segments,e)}function lg(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!qo(r,e)||t.hasChildren()||!cf(r,e,i))}if(n.segments.length===e.length){if(!qo(n.segments,e)||!cf(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!N_(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(qo(n.segments,r)&&cf(n.segments,r,i)&&n.children[$t])&&lg(n.children[$t],t,s,i)}}function cf(n,t,e){return t.every((i,r)=>P_[e](n[r].parameters,i.parameters))}class $o{constructor(t=new Ct([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wd(this.queryParams)),this._queryParamMap}toString(){return V_.serialize(this)}}class Ct{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Wi(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return df(this)}}class Ol{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=wd(this.parameters)),this._parameterMap}toString(){return Kc(this)}}function qo(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let So=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return new uf},providedIn:"root"}),n})();class uf{parse(t){const e=new gf(t);return new $o(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Zc(t.root,!0)}`,i=function U_(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Ed(e)}=${Ed(r)}`).join("&"):`${Ed(e)}=${Ed(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function cg(n){return encodeURI(n)}(t.fragment)}`:""}`}}const V_=new uf;function df(n){return n.segments.map(t=>Kc(t)).join("/")}function Zc(n,t){if(!n.hasChildren())return df(n);if(t){const e=n.children[$t]?Zc(n.children[$t],!1):"",i=[];return Wi(n.children,(r,s)=>{s!==$t&&i.push(`${s}:${Zc(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function wr(n,t){let e=[];return Wi(n.children,(i,r)=>{r===$t&&(e=e.concat(t(i,r)))}),Wi(n.children,(i,r)=>{r!==$t&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===$t?[Zc(n.children[$t],!1)]:[`${r}:${Zc(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[$t]?`${df(n)}/${e[0]}`:`${df(n)}/(${e.join("//")})`}}function hf(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ed(n){return hf(n).replace(/%3B/gi,";")}function ff(n){return hf(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xd(n){return decodeURIComponent(n)}function B_(n){return xd(n.replace(/\+/g,"%20"))}function Kc(n){return`${ff(n.path)}${function ug(n){return Object.keys(n).map(t=>`;${ff(t)}=${ff(n[t])}`).join("")}(n.parameters)}`}const dg=/^[^\/()?;=#]+/;function pf(n){const t=n.match(dg);return t?t[0]:""}const Dd=/^[^=?&#]+/,Db=/^[^&#]+/;class gf{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ct([],{}):new Ct([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[$t]=new Ct(t,e)),i}parseSegment(){const t=pf(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new o.vHH(4009,af);return this.capture(t),new Ol(xd(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=pf(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=pf(this.remaining);r&&(i=r,this.capture(i))}t[xd(e)]=xd(i)}parseQueryParam(t){const e=function xb(n){const t=n.match(Dd);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const c=function hg(n){const t=n.match(Db);return t?t[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=B_(e),s=B_(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=pf(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new o.vHH(4010,af);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=$t);const c=this.parseChildren();e[s]=1===Object.keys(c).length?c[$t]:new Ct([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new o.vHH(4011,af)}}function mf(n){return n.segments.length>0?new Ct([],{[$t]:n}):n}function H_(n){const t={};for(const i of Object.keys(n.children)){const s=H_(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function Bs(n){if(1===n.numberOfChildren&&n.children[$t]){const t=n.children[$t];return new Ct(n.segments.concat(t.segments),t.children)}return n}(new Ct(n.segments,t))}function Wo(n){return n instanceof $o}function Sb(n,t,e,i,r){if(0===e.length)return Qc(t.root,t.root,t.root,i,r);const s=function yf(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Ad(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return Wi(s.outlets,(g,y)=>{d[y]="string"==typeof g?g.split("/"):g}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===c?(s.split("/").forEach((d,g)=>{0==g&&"."===d||(0==g&&""===d?e=!0:".."===d?t++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new Ad(e,t,i)}(e);return s.toRoot()?Qc(t.root,t.root,new Ct([],{}),i,r):function c(g){const y=function Ab(n,t,e,i){if(n.isAbsolute)return new Fl(t.root,!0,0);if(-1===i)return new Fl(e,e===t.root,0);return function z_(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new o.vHH(4005,!1);r=i.segments.length}return new Fl(i,!1,r-s)}(e,i+(Sd(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,n.snapshot?._urlSegment,g),C=y.processChildren?oo(y.segmentGroup,y.index,s.commands):Xc(y.segmentGroup,y.index,s.commands);return Qc(t.root,y.segmentGroup,C,i,r)}(n.snapshot?._lastPathIndex)}function Sd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Pl(n){return"object"==typeof n&&null!=n&&n.outlets}function Qc(n,t,e,i,r){let c,s={};i&&Wi(i,(g,y)=>{s[y]=Array.isArray(g)?g.map(C=>`${C}`):`${g}`}),c=n===t?e:j_(n,t,e);const d=mf(H_(c));return new $o(d,s,r)}function j_(n,t,e){const i={};return Wi(n.children,(r,s)=>{i[s]=r===t?e:j_(r,t,e)}),new Ct(n.segments,i)}class Ad{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Sd(i[0]))throw new o.vHH(4003,!1);const r=i.find(Pl);if(r&&r!==Cd(i))throw new o.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fl{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Xc(n,t,e){if(n||(n=new Ct([],{})),0===n.segments.length&&n.hasChildren())return oo(n,t,e);const i=function $_(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const c=n.segments[r],d=e[i];if(Pl(d))break;const g=`${d}`,y=i<e.length-1?e[i+1]:null;if(r>0&&void 0===g)break;if(g&&y&&"object"==typeof y&&void 0===y.outlets){if(!Id(g,y,c))return s;i+=2}else{if(!Id(g,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Ct(n.segments.slice(0,i.pathIndex),{});return s.children[$t]=new Ct(n.segments.slice(i.pathIndex),n.children),oo(s,0,r)}return i.match&&0===r.length?new Ct(n.segments,{}):i.match&&!n.hasChildren()?Jc(n,t,e):i.match?oo(n,0,r):Jc(n,t,e)}function oo(n,t,e){if(0===e.length)return new Ct(n.segments,{});{const i=function mg(n){return Pl(n[0])?n[0].outlets:{[$t]:n}}(e),r={};return Wi(i,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[c]=Xc(n.children[c],t,s))}),Wi(n.children,(s,c)=>{void 0===i[c]&&(r[c]=s)}),new Ct(n.segments,r)}}function Jc(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(Pl(s)){const g=_g(s.outlets);return new Ct(i,g)}if(0===r&&Sd(e[0])){i.push(new Ol(n.segments[t].path,Ib(e[0]))),r++;continue}const c=Pl(s)?s.outlets[$t]:`${s}`,d=r<e.length-1?e[r+1]:null;c&&d&&Sd(d)?(i.push(new Ol(c,Ib(d))),r+=2):(i.push(new Ol(c,{})),r++)}return new Ct(i,{})}function _g(n){const t={};return Wi(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Jc(new Ct([],{}),0,e))}),t}function Ib(n){const t={};return Wi(n,(e,i)=>t[i]=`${e}`),t}function Id(n,t,e){return n==e.path&&Do(t,e.parameters)}class Us{constructor(t,e){this.id=t,this.url=e}}class vf extends Us{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pa extends Us{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Td extends Us{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Md extends Us{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class q_ extends Us{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bf extends Us{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wf extends Us{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class W_ extends Us{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nl extends Us{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yg{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Cf{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class kd{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tb{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Y_{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mb{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vg{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Rd{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Od(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Od(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=eu(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return eu(t,this._root).map(e=>e.value)}}function Od(n,t){if(n===t.value)return t;for(const e of t.children){const i=Od(n,e);if(i)return i}return null}function eu(n,t){if(n===t.value)return[t];for(const e of t.children){const i=eu(n,e);if(i.length)return i.unshift(t),i}return[]}class vs{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Hs(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class qr extends Rd{constructor(t,e){super(t),this.snapshot=e,Fd(this,t)}toString(){return this.snapshot.toString()}}function tu(n,t){const e=function kb(n,t){const c=new Pd([],{},{},"",{},$t,t,null,n.root,-1,{});return new iu("",new vs(c,[]))}(n,t),i=new _n([new Ol("",{})]),r=new _n({}),s=new _n({}),c=new _n({}),d=new _n(""),g=new Ll(i,r,c,d,s,$t,t,e.root);return g.snapshot=e.root,new qr(new vs(g,[]),e)}class Ll{constructor(t,e,i,r,s,c,d,g){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this.title=this.data?.pipe((0,qe.U)(y=>y[bd]))??Je(void 0),this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,qe.U)(t=>wd(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,qe.U)(t=>wd(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nu(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function wg(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Pd{constructor(t,e,i,r,s,c,d,g,y,C,D){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this.routeConfig=g,this._urlSegment=y,this._lastPathIndex=C,this._resolve=D}get title(){return this.data?.[bd]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class iu extends Rd{constructor(t,e){super(e),this.url=t,Fd(this,e)}toString(){return Ao(this._root)}}function Fd(n,t){t.value._routerState=n,t.children.forEach(e=>Fd(n,e))}function Ao(n){const t=n.children.length>0?` { ${n.children.map(Ao).join(", ")} } `:"";return`${n.value}${t}`}function Nd(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Do(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Do(t.params,e.params)||n.params.next(e.params),function O_(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Do(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Do(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ef(n,t){const e=Do(n.params,t.params)&&function L_(n,t){return qo(n,t)&&n.every((e,i)=>Do(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Ef(n.parent,t.parent))}function Ld(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function Z_(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Ld(n,i,r);return Ld(n,i)})}(n,t,e);return new vs(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(d=>Ld(n,d)),c}}const i=function Wr(n){return new Ll(new _n(n.url),new _n(n.params),new _n(n.queryParams),new _n(n.fragment),new _n(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>Ld(n,s));return new vs(i,r)}}const Vd="ngNavigationCancelingError";function xf(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Wo(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Io(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function Io(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Vd]=!0,i.cancellationCode=t,e&&(i.url=e),i}function Nr(n){return ru(n)&&Wo(n.url)}function ru(n){return n&&n[Vd]}class K_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Bl,this.attachRef=null}}let Bl=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new K_,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Df=!1;let Bd=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=$t,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.parentContexts=(0,o.f3M)(Bl),this.location=(0,o.f3M)(o.s_b),this.changeDetector=(0,o.f3M)(o.sBO),this.environmentInjector=(0,o.f3M)(o.lqb)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.vHH(4012,Df);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.vHH(4012,Df);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.vHH(4012,Df);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new o.vHH(4013,Df);this._activatedRoute=e;const r=this.location,c=e.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,g=new Rb(e,d,r.injector);if(i&&function Q_(n){return!!n.resolveComponentFactory}(i)){const y=i.resolveComponentFactory(c);this.activated=r.createComponent(y,r.length,g)}else this.activated=r.createComponent(c,{index:r.length,injector:g,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[o.TTD]}),n})();class Rb{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Ll?this.route:t===Bl?this.childContexts:this.parent.get(t,e)}}let Cg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[o.jDz],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},dependencies:[Bd],encapsulation:2}),n})();function X_(n,t){return n.providers&&!n._injector&&(n._injector=(0,o.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Pe(n){const t=n.children&&n.children.map(Pe),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==$t&&(e.component=Cg),e}function Ce(n){return n.outlet||$t}function rt(n,t){const e=n.filter(i=>Ce(i)===t);return e.push(...n.filter(i=>Ce(i)!==t)),e}function et(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class sr{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Nd(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Hs(e);t.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),Wi(r,(s,c)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Hs(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);if(i&&i.outlet){const c=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Hs(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Hs(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Mb(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Tb(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(Nd(r),r===s)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),Nd(d.route.value),this.activateChildRoutes(t,null,c.children)}else{const d=et(r.snapshot),g=d?.get(o._Vd)??null;c.attachRef=null,c.route=r,c.resolver=g,c.injector=d,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}}class Fa{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Na{constructor(t,e){this.component=t,this.route=e}}function Eg(n,t,e){const i=n._root;return Hl(i,t?t._root:null,e,[i.value])}function Ul(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,o.Z0I)(n)?t.get(n):n:i}function Hl(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Hs(t);return n.children.forEach(c=>{(function xg(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const g=function Ud(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!qo(n.url,t.url);case"pathParamsOrQueryParamsChange":return!qo(n.url,t.url)||!Do(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ef(n,t)||!Do(n.queryParams,t.queryParams);default:return!Ef(n,t)}}(c,s,s.routeConfig.runGuardsAndResolvers);g?r.canActivateChecks.push(new Fa(i)):(s.data=c.data,s._resolvedData=c._resolvedData),Hl(n,t,s.component?d?d.children:null:e,i,r),g&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new Na(d.outlet.component,c))}else c&&La(t,d,r),r.canActivateChecks.push(new Fa(i)),Hl(n,null,s.component?d?d.children:null:e,i,r)})(c,s[c.value.outlet],e,i.concat([c.value]),r),delete s[c.value.outlet]}),Wi(s,(c,d)=>La(c,e.getContext(d),r)),r}function La(n,t,e){const i=Hs(n),r=n.value;Wi(i,(s,c)=>{La(s,r.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new Na(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Va(n){return"function"==typeof n}function Lb(n){return n instanceof qc||"EmptyError"===n?.name}const ey=Symbol("INITIAL_VALUE");function Hd(){return An(n=>oe(n.map(t=>t.pipe((0,Gn.q)(1),vr(ey)))).pipe((0,qe.U)(t=>{for(const e of t)if(!0!==e){if(e===ey)return ey;if(!1===e||e instanceof $o)return e}return!0}),dn(t=>t!==ey),(0,Gn.q)(1)))}function Bb(n){return(0,Ni.z)((0,li.b)(t=>{if(Wo(t))throw xf(0,t)}),(0,qe.U)(t=>!0===t))}const Sg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jI(n,t,e,i,r){const s=Ag(n,t,e);return s.matched?function AE(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Je(r.map(c=>{const d=Ul(c,n);return Yi(function Nb(n){return n&&Va(n.canMatch)}(d)?d.canMatch(t,e):n.runInContext(()=>d(t,e)))})).pipe(Hd(),Bb()):Je(!0)}(i=X_(t,i),t,e).pipe((0,qe.U)(c=>!0===c?s:{...Sg})):Je(s)}function Ag(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Sg}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||wb)(e,n,t);if(!r)return{...Sg};const s={};Wi(r.posParams,(d,g)=>{s[g]=d.path});const c=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function ty(n,t,e,i){if(e.length>0&&function TE(n,t,e){return e.some(i=>ny(n,t,i)&&Ce(i)!==$t)}(n,e,i)){const s=new Ct(t,function IE(n,t,e,i){const r={};r[$t]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&Ce(s)!==$t){const c=new Ct([],{});c._sourceSegment=n,c._segmentIndexShift=t.length,r[Ce(s)]=c}return r}(n,t,i,new Ct(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function Gd(n,t,e){return e.some(i=>ny(n,t,i))}(n,e,i)){const s=new Ct(n.segments,function Ub(n,t,e,i,r){const s={};for(const c of i)if(ny(n,e,c)&&!r[Ce(c)]){const d=new Ct([],{});d._sourceSegment=n,d._segmentIndexShift=t.length,s[Ce(c)]=d}return{...r,...s}}(n,t,e,i,n.children));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const r=new Ct(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function ny(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function iy(n,t,e,i){return!!(Ce(n)===i||i!==$t&&ny(t,e,n))&&("**"===n.path||Ag(t,n,e).matched)}function Ig(n,t,e){return 0===t.length&&!n.children[e]}const ry=!1;class Sf{constructor(t){this.segmentGroup=t||null}}class Tg{constructor(t){this.urlTree=t}}function Yo(n){return ys(new Sf(n))}function Hb(n){return ys(new Tg(n))}class ME{constructor(t,e,i,r,s){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=ty(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ct(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,$t).pipe((0,qe.U)(s=>this.createUrlTree(H_(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(xo(s=>{if(s instanceof Tg)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Sf?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,$t).pipe((0,qe.U)(r=>this.createUrlTree(H_(r),t.queryParams,t.fragment))).pipe(xo(r=>{throw r instanceof Sf?this.noMatchError(r):r}))}noMatchError(t){return new o.vHH(4002,ry)}createUrlTree(t,e,i){const r=mf(t);return new $o(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,qe.U)(s=>new Ct([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,Xt.D)(r).pipe(Ra(s=>{const c=i.children[s],d=rt(e,s);return this.expandSegmentGroup(t,d,c,s).pipe((0,qe.U)(g=>({segment:g,outlet:s})))}),Oa((s,c)=>(s[c.outlet]=c.segment,s),{}),nf())}expandSegment(t,e,i,r,s,c){return(0,Xt.D)(i).pipe(Ra(d=>this.expandSegmentAgainstRoute(t,e,i,d,r,s,c).pipe(xo(y=>{if(y instanceof Sf)return Je(null);throw y}))),Vs(d=>!!d),xo((d,g)=>{if(Lb(d))return Ig(e,r,s)?Je(new Ct([],{})):Yo(e);throw d}))}expandSegmentAgainstRoute(t,e,i,r,s,c,d){return iy(r,e,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,c):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c):Yo(e):Yo(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Hb(s):this.lineralizeSegments(i,s).pipe((0,br.z)(c=>{const d=new Ct(c,{});return this.expandSegment(t,d,e,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c){const{matched:d,consumedSegments:g,remainingSegments:y,positionalParamSegments:C}=Ag(e,r,s);if(!d)return Yo(e);const D=this.applyRedirectCommands(g,r.redirectTo,C);return r.redirectTo.startsWith("/")?Hb(D):this.lineralizeSegments(r,D).pipe((0,br.z)(k=>this.expandSegment(t,e,i,k.concat(y),c,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){return"**"===i.path?(t=X_(i,t),i.loadChildren?(i._loadedRoutes?Je({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,qe.U)(d=>(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,new Ct(r,{})))):Je(new Ct(r,{}))):jI(e,i,r,t).pipe(An(({matched:c,consumedSegments:d,remainingSegments:g})=>c?this.getChildConfig(t=i._injector??t,i,r).pipe((0,br.z)(C=>{const D=C.injector??t,k=C.routes,{segmentGroup:P,slicedSegments:V}=ty(e,d,g,k),$=new Ct(P.segments,P.children);if(0===V.length&&$.hasChildren())return this.expandChildren(D,k,$).pipe((0,qe.U)(tt=>new Ct(d,tt)));if(0===k.length&&0===V.length)return Je(new Ct(d,{}));const ee=Ce(i)===s;return this.expandSegment(D,$,k,V,ee?$t:s,!0).pipe((0,qe.U)($e=>new Ct(d.concat($e.segments),$e.children)))})):Yo(e)))}getChildConfig(t,e,i){return e.children?Je({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Je({routes:e._loadedRoutes,injector:e._loadedInjector}):function GI(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Je(!0):Je(r.map(c=>{const d=Ul(c,n);return Yi(function ei(n){return n&&Va(n.canLoad)}(d)?d.canLoad(t,e):n.runInContext(()=>d(t,e)))})).pipe(Hd(),Bb())}(t,e,i).pipe((0,br.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,li.b)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function zI(n){return ys(Io(ry,3))}())):Je({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Je(i);if(r.numberOfChildren>1||!r.children[$t])return ys(new o.vHH(4e3,ry));r=r.children[$t]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new $o(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Wi(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=e[d]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let c={};return Wi(e.children,(d,g)=>{c[g]=this.createSegmentGroup(t,d,i,r)}),new Ct(s,c)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new o.vHH(4001,ry);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class qI{}class YI{constructor(t,e,i,r,s,c,d){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=c,this.urlSerializer=d}recognize(){const t=ty(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,$t).pipe((0,qe.U)(e=>{if(null===e)return null;const i=new Pd([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$t,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new vs(i,e),s=new iu(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,i=nu(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,Xt.D)(Object.keys(i.children)).pipe(Ra(r=>{const s=i.children[r],c=rt(e,r);return this.processSegmentGroup(t,c,s,r)}),Oa((r,s)=>r&&s?(r.push(...s),r):null),vd(r=>null!==r),Wc(null),nf(),(0,qe.U)(r=>{if(null===r)return null;const s=KI(r);return function RE(n){n.sort((t,e)=>t.value.outlet===$t?-1:e.value.outlet===$t?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,i,r,s){return(0,Xt.D)(e).pipe(Ra(c=>this.processSegmentAgainstRoute(c._injector??t,c,i,r,s)),Vs(c=>!!c),xo(c=>{if(Lb(c))return Ig(i,r,s)?Je([]):Je(null);throw c}))}processSegmentAgainstRoute(t,e,i,r,s){if(e.redirectTo||!iy(e,i,r,s))return Je(null);let c;if("**"===e.path){const d=r.length>0?Cd(r).parameters:{},g=PE(i)+r.length;c=Je({snapshot:new Pd(r,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Tf(e),Ce(e),e.component??e._loadedComponent??null,e,If(i),g,FE(e)),consumedSegments:[],remainingSegments:[]})}else c=jI(i,e,r,t).pipe((0,qe.U)(({matched:d,consumedSegments:g,remainingSegments:y,parameters:C})=>{if(!d)return null;const D=PE(i)+g.length;return{snapshot:new Pd(g,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Tf(e),Ce(e),e.component??e._loadedComponent??null,e,If(i),D,FE(e)),consumedSegments:g,remainingSegments:y}}));return c.pipe(An(d=>{if(null===d)return Je(null);const{snapshot:g,consumedSegments:y,remainingSegments:C}=d;t=e._injector??t;const D=e._loadedInjector??t,k=function ZI(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:P,slicedSegments:V}=ty(i,y,C,k.filter(ee=>void 0===ee.redirectTo));if(0===V.length&&P.hasChildren())return this.processChildren(D,k,P).pipe((0,qe.U)(ee=>null===ee?null:[new vs(g,ee)]));if(0===k.length&&0===V.length)return Je([new vs(g,[])]);const $=Ce(e)===s;return this.processSegment(D,k,P,V,$?$t:s).pipe((0,qe.U)(ee=>null===ee?null:[new vs(g,ee)]))}))}}function OE(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function KI(n){const t=[],e=new Set;for(const i of n){if(!OE(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=KI(i.children);t.push(new vs(i.value,r))}return t.filter(i=>!e.has(i))}function If(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function PE(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function Tf(n){return n.data||{}}function FE(n){return n.resolve||{}}function sy(n){return"string"==typeof n.title||null===n.title}function kg(n){return An(t=>{const e=n(t);return e?(0,Xt.D)(e).pipe((0,qe.U)(()=>t)):Je(t)})}const Ba=new o.OlP("ROUTES");let zb=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Je(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Yi(e.loadComponent()).pipe((0,qe.U)(BE),(0,li.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),rg(()=>{this.componentLoaders.delete(e)})),r=new Eo(i,()=>new lt.x).pipe(Fr());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Je({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,qe.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let g,y,C=!1;Array.isArray(d)?y=d:(g=d.create(e).injector,y=sf(g.get(Ba,[],o.XFs.Self|o.XFs.Optional)));return{routes:y.map(Pe),injector:g}}),rg(()=>{this.childrenLoaders.delete(i)})),c=new Eo(s,()=>new lt.x).pipe(Fr());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(e){return Yi(e()).pipe((0,qe.U)(BE),(0,br.z)(r=>r instanceof o.YKP||Array.isArray(r)?Je(r):(0,Xt.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.zs3),o.LFG(o.Sil))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function BE(n){return function nT(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let $b=(()=>{class n{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new lt.x,this.configLoader=(0,o.f3M)(zb),this.environmentInjector=(0,o.f3M)(o.lqb),this.urlSerializer=(0,o.f3M)(So),this.rootContexts=(0,o.f3M)(Bl),this.navigationId=0,this.configLoader.onLoadEndListener=r=>this.events.next(new Cf(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new yg(r))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new _n({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(dn(i=>0!==i.id),(0,qe.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),An(i=>{let r=!1,s=!1;return Je(i).pipe((0,li.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),An(c=>{const d=e.browserUrlTree.toString(),g=!e.navigated||c.extractedUrl.toString()!==d||d!==e.currentUrlTree.toString();if(("reload"===e.onSameUrlNavigation||g)&&e.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return HE(c.source)&&(e.browserUrlTree=c.extractedUrl),Je(c).pipe(An(C=>{const D=this.transitions?.getValue();return this.events.next(new vf(C.id,this.urlSerializer.serialize(C.extractedUrl),C.source,C.restoredState)),D!==this.transitions?.getValue()?Pr.E:Promise.resolve(C)}),function Af(n,t,e,i){return An(r=>function $I(n,t,e,i,r){return new ME(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,qe.U)(s=>({...r,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,li.b)(C=>{this.currentNavigation={...this.currentNavigation,finalUrl:C.urlAfterRedirects},i.urlAfterRedirects=C.urlAfterRedirects}),function NE(n,t,e,i,r){return(0,br.z)(s=>function jb(n,t,e,i,r,s,c="emptyOnly"){return new YI(n,t,e,i,r,c,s).recognize().pipe(An(d=>null===d?function WI(n){return new Jn.y(t=>t.error(n))}(new qI):Je(d)))}(n,t,e,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r).pipe((0,qe.U)(c=>({...s,targetSnapshot:c}))))}(this.environmentInjector,e.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,li.b)(C=>{if(i.targetSnapshot=C.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!C.extras.skipLocationChange){const k=e.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);e.setBrowserUrl(k,C)}e.browserUrlTree=C.urlAfterRedirects}const D=new q_(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(D)}));if(g&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:D,extractedUrl:k,source:P,restoredState:V,extras:$}=c,ee=new vf(D,this.urlSerializer.serialize(k),P,V);this.events.next(ee);const Se=tu(k,e.rootComponentType).snapshot;return Je(i={...c,targetSnapshot:Se,urlAfterRedirects:k,extras:{...$,skipLocationChange:!1,replaceUrl:!1}})}return e.rawUrlTree=c.rawUrl,c.resolve(null),Pr.E}),(0,li.b)(c=>{const d=new bf(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),(0,qe.U)(c=>i={...c,guards:Eg(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function M1(n,t){return(0,br.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=e;return 0===c.length&&0===s.length?Je({...e,guardsResult:!0}):function k1(n,t,e,i){return(0,Xt.D)(n).pipe((0,br.z)(r=>function R1(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Je(s.map(d=>{const g=et(t)??r,y=Ul(d,g);return Yi(function Fb(n){return n&&Va(n.canDeactivate)}(y)?y.canDeactivate(n,t,e,i):g.runInContext(()=>y(n,t,e,i))).pipe(Vs())})).pipe(Hd()):Je(!0)}(r.component,r.route,e,t,i)),Vs(r=>!0!==r,!0))}(c,i,r,n).pipe((0,br.z)(d=>d&&function Ob(n){return"boolean"==typeof n}(d)?function Dg(n,t,e,i){return(0,Xt.D)(t).pipe(Ra(r=>kt(function xE(n,t){return null!==n&&t&&t(new kd(n)),Je(!0)}(r.route.parent,i),function Vb(n,t){return null!==n&&t&&t(new Y_(n)),Je(!0)}(r.route,i),function SE(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(c=>function J_(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>Hn(()=>Je(c.guards.map(g=>{const y=et(c.node)??e,C=Ul(g,y);return Yi(function UI(n){return n&&Va(n.canActivateChild)}(C)?C.canActivateChild(i,n):y.runInContext(()=>C(i,n))).pipe(Vs())})).pipe(Hd())));return Je(s).pipe(Hd())}(n,r.path,e),function DE(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Je(!0);const r=i.map(s=>Hn(()=>{const c=et(t)??e,d=Ul(s,c);return Yi(function Pb(n){return n&&Va(n.canActivate)}(d)?d.canActivate(t,n):c.runInContext(()=>d(t,n))).pipe(Vs())}));return Je(r).pipe(Hd())}(n,r.route,e))),Vs(r=>!0!==r,!0))}(i,s,n,t):Je(d)),(0,qe.U)(d=>({...e,guardsResult:d})))})}(this.environmentInjector,c=>this.events.next(c)),(0,li.b)(c=>{if(i.guardsResult=c.guardsResult,Wo(c.guardsResult))throw xf(0,c.guardsResult);const d=new wf(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),dn(c=>!!c.guardsResult||(e.restoreHistory(c),this.cancelNavigationTransition(c,"",3,e),!1)),kg(c=>{if(c.guards.canActivateChecks.length)return Je(c).pipe((0,li.b)(d=>{const g=new W_(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(g)}),An(d=>{let g=!1;return Je(d).pipe(function XI(n,t){return(0,br.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Je(e);let s=0;return(0,Xt.D)(r).pipe(Ra(c=>function JI(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!sy(r)&&(s[bd]=r.title),function eT(n,t,e,i){const r=function LE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Je({});const s={};return(0,Xt.D)(r).pipe((0,br.z)(c=>function VE(n,t,e,i){const r=et(t)??i,s=Ul(n,r);return Yi(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[c],t,e,i).pipe(Vs(),(0,li.b)(d=>{s[c]=d}))),Yc(1),rf(s),xo(c=>Lb(c)?Pr.E:ys(c)))}(s,n,t,i).pipe((0,qe.U)(c=>(n._resolvedData=c,n.data=nu(n,e).resolve,r&&sy(r)&&(n.data[bd]=r.title),null)))}(c.route,i,n,t)),(0,li.b)(()=>s++),Yc(1),(0,br.z)(c=>s===r.length?Je(e):Pr.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,li.b)({next:()=>g=!0,complete:()=>{g||(e.restoreHistory(d),this.cancelNavigationTransition(d,"",2,e))}}))}),(0,li.b)(d=>{const g=new Nl(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(g)}))}),kg(c=>{const d=g=>{const y=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(g.routeConfig).pipe((0,li.b)(C=>{g.component=C}),(0,qe.U)(()=>{})));for(const C of g.children)y.push(...d(C));return y};return oe(d(c.targetSnapshot.root)).pipe(Wc(),(0,Gn.q)(1))}),kg(()=>e.afterPreactivation()),(0,qe.U)(c=>{const d=function Vl(n,t,e){const i=Ld(n,t._root,e?e._root:void 0);return new qr(i,t)}(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return i={...c,targetRouterState:d}}),(0,li.b)(c=>{e.currentUrlTree=c.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),e.routerState=c.targetRouterState,"deferred"===e.urlUpdateStrategy&&(c.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,c),e.browserUrlTree=c.urlAfterRedirects)}),((n,t,e)=>(0,qe.U)(i=>(new sr(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c)),(0,li.b)({next:c=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Pa(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{r=!0}}),rg(()=>{r||s||this.cancelNavigationTransition(i,"",1,e),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),xo(c=>{if(s=!0,ru(c)){Nr(c)||(e.navigated=!0,e.restoreHistory(i,!0));const d=new Td(i.id,this.urlSerializer.serialize(i.extractedUrl),c.message,c.cancellationCode);if(this.events.next(d),Nr(c)){const g=e.urlHandlingStrategy.merge(c.url,e.rawUrlTree),y={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||HE(i.source)};e.scheduleNavigation(g,"imperative",null,y,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const d=new Md(i.id,this.urlSerializer.serialize(i.extractedUrl),c,i.targetSnapshot??void 0);this.events.next(d);try{i.resolve(e.errorHandler(c))}catch(g){i.reject(g)}}return Pr.E}))}))}cancelNavigationTransition(e,i,r,s){const c=new Td(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(c),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function HE(n){return"imperative"!==n}let GE=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===$t);return i}getResolvedTitleForRoute(e){return e.data[bd]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(Mf)},providedIn:"root"}),n})(),Mf=(()=>{class n extends GE{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(jo))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(rT)},providedIn:"root"}),n})();class iT{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let rT=(()=>{class n extends iT{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qb=new o.OlP("",{providedIn:"root",factory:()=>({})});let jE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(P1)},providedIn:"root"}),n})(),P1=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function F1(n){throw n}function zE(n,t,e){return t.parse("/")}const sT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$E={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function qE(){const n=(0,o.f3M)(So),t=(0,o.f3M)(Bl),e=(0,o.f3M)(Be),i=(0,o.f3M)(o.zs3),r=(0,o.f3M)(o.Sil),s=(0,o.f3M)(Ba,{optional:!0})??[],c=(0,o.f3M)(qb,{optional:!0})??{},d=new ti(null,n,t,e,i,r,sf(s));return function oT(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(c,d),d}let ti=(()=>{class n{constructor(e,i,r,s,c,d,g){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=g,this.disposed=!1,this.currentPageId=0,this.isNgZoneEnabled=!1,this.errorHandler=F1,this.malformedUriErrorHandler=zE,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Je(void 0),this.urlHandlingStrategy=(0,o.f3M)(jE),this.routeReuseStrategy=(0,o.f3M)(Gl),this.titleStrategy=(0,o.f3M)(GE),this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.canceledNavigationResolution="replace",this.navigationTransitions=(0,o.f3M)($b),this.console=c.get(o.c2e);const y=c.get(o.R0b);this.isNgZoneEnabled=y instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=new $o,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=tu(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe(C=>{this.lastSuccessfulId=C.id,this.currentPageId=C.targetPageId},C=>{this.console.warn(`Unhandled Navigation Error: ${C}`)})}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=e.state?.navigationId?e.state:null;if(e.state){const d={...e.state};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(r.state=d)}const c=this.parseUrl(e.url);this.scheduleNavigation(c,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(Pe),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:c,queryParamsHandling:d,preserveFragment:g}=i,y=r||this.routerState.root,C=g?this.currentUrlTree.fragment:c;let D=null;switch(d){case"merge":D={...this.currentUrlTree.queryParams,...s};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=s||null}return null!==D&&(D=this.removeEmptyProps(D)),Sb(y,this.currentUrlTree,e,D,C??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Wo(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function aT(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new o.vHH(4008,!1)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...sT}:!1===i?{...$E}:i,Wo(e))return og(this.currentUrlTree,e,r);const s=this.parseUrl(e);return og(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(e,i,r,s,c){if(this.disposed)return Promise.resolve(!1);let d,g,y,C;return c?(d=c.resolve,g=c.reject,y=c.promise):y=new Promise((D,k)=>{d=D,g=k}),"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),C=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):C=0,this.navigationTransitions.handleNavigationRequest({targetPageId:C,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:d,reject:g,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(D=>Promise.reject(D))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:function(){return qE()},providedIn:"root"}),n})(),Rg=(()=>{class n{constructor(e,i,r,s,c,d){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=c,this.locationStrategy=d,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new lt.x;const g=c.nativeElement.tagName;this.isAnchorElement="A"===g||"AREA"===g,this.isAnchorElement?this.subscription=e.events.subscribe(y=>{y instanceof Pa&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,o.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,o.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,o.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,s,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||s||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,o.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ti),o.Y36(Ll),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(pe))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&o.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[o.TTD]}),n})();class WE{}let dT=(()=>{class n{constructor(e,i,r,s,c){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(dn(e=>e instanceof Pa),Ra(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,o.MMx)(s.providers,e,`Route: ${s.path}`));const c=s._injector??e,d=s._loadedInjector??c;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(c,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(d,s.children??s._loadedRoutes))}return(0,Xt.D)(r).pipe((0,gt.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Je(null);const s=r.pipe((0,br.z)(c=>null===c?Je(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??e,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,Xt.D)([s,c]).pipe((0,gt.J)())}return s})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ti),o.LFG(o.Sil),o.LFG(o.lqb),o.LFG(WE),o.LFG(zb))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yb=new o.OlP("");let YE=(()=>{class n{constructor(e,i,r,s,c={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof vf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Pa&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof vg&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new vg(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function jd(n,t){return{\u0275kind:n,\u0275providers:t}}function Qb(){const n=(0,o.f3M)(o.zs3);return t=>{const e=n.get(o.z2F);if(t!==e.components[0])return;const i=n.get(ti),r=n.get(ZE);1===n.get(Xb)&&i.initialNavigation(),n.get(su,null,o.XFs.Optional)?.setUpPreloading(),n.get(Yb,null,o.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const ZE=new o.OlP("",{factory:()=>new lt.x}),Xb=new o.OlP("",{providedIn:"root",factory:()=>1});const su=new o.OlP("");function gT(n){return jd(0,[{provide:su,useExisting:dT},{provide:WE,useExisting:n}])}const mT=new o.OlP("ROUTER_FORROOT_GUARD"),U1=[Be,{provide:So,useClass:uf},{provide:ti,useFactory:qE},Bl,{provide:Ll,useFactory:function Zb(n){return n.routerState.root},deps:[ti]},zb,[]];function H1(){return new o.PXZ("Router",ti)}let JE=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[U1,[],{provide:Ba,multi:!0,useValue:e},{provide:mT,useFactory:kf,deps:[[ti,new o.FiY,new o.tp0]]},{provide:qb,useValue:i||{}},i?.useHash?{provide:pe,useClass:ke}:{provide:pe,useClass:ge},{provide:Yb,useFactory:()=>{const n=(0,o.f3M)(nr),t=(0,o.f3M)(o.R0b),e=(0,o.f3M)(qb),i=(0,o.f3M)($b),r=(0,o.f3M)(So);return e.scrollOffset&&n.setOffset(e.scrollOffset),new YE(r,i,n,t,e)}},i?.preloadingStrategy?gT(i.preloadingStrategy).\u0275providers:[],{provide:o.PXZ,multi:!0,useFactory:H1},i?.initialNavigation?yT(i):[],[{provide:Jb,useFactory:Qb},{provide:o.tb,multi:!0,useExisting:Jb}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Ba,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(mT,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Cg]}),n})();function kf(n){return"guarded"}function yT(n){return["disabled"===n.initialNavigation?jd(3,[{provide:o.ip1,multi:!0,useFactory:()=>{const t=(0,o.f3M)(ti);return()=>{t.setUpLocationChangeListener()}}},{provide:Xb,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?jd(2,[{provide:Xb,useValue:0},{provide:o.ip1,multi:!0,deps:[o.zs3],useFactory:t=>{const e=t.get(j,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const s=t.get(ti),c=t.get(ZE);(function i(r){t.get(ti).events.pipe(dn(c=>c instanceof Pa||c instanceof Td||c instanceof Md),(0,qe.U)(c=>c instanceof Pa||c instanceof Td&&(0===c.code||1===c.code)&&null),dn(c=>null!==c),(0,Gn.q)(1)).subscribe(()=>{r()})})(()=>{r(!0)}),s.afterPreactivation=()=>(r(!0),c.closed?Je(void 0):c),s.initialNavigation()}))}}]).\u0275providers:[]]}const Jb=new o.OlP("");var Rf=F(4986),ni=F(5813);function ew(){return(0,En.e)((n,t)=>{let e,i=!1;n.subscribe(new B.Q(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}function Of(n,t=so.y){return n=n??vT,(0,En.e)((e,i)=>{let r,s=!0;e.subscribe(new B.Q(i,c=>{const d=t(c);(s||!n(r,d))&&(s=!1,r=d,i.next(c))}))})}function vT(n,t){return n===t}var dt,bs=F(2011),tx=(F(822),F(3942)),ve=F(5861),To=F(9681),Zo=F(4859),Ua=F(1877),N=F(2090),wT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ou={},ly=ly||{},jt=wT||self;function Og(){}function cy(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Pg(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var au="closure_uid_"+(1e9*Math.random()>>>0),tw=0;function Fg(n,t,e){return n.call.apply(n.bind,arguments)}function nw(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function or(n,t,e){return(or=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Fg:nw).apply(null,arguments)}function Ng(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ar(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Wb=function(i,r,s){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return t.prototype[r].apply(i,c)}}function Ha(){this.s=this.s,this.o=this.o}Ha.prototype.s=!1,Ha.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function uy(n){Object.prototype.hasOwnProperty.call(n,au)&&n[au]||(n[au]=++tw)}(this)},Ha.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rw=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function Lg(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function nx(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(cy(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let c=0;c<s;c++)n[r+c]=i[c]}else n.push(i)}}function Yr(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Yr.prototype.h=function(){this.defaultPrevented=!0};var ix=function(){if(!jt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{jt.addEventListener("test",Og,t),jt.removeEventListener("test",Og,t)}catch{}return n}();function dy(n){return/^[\s\xa0]*$/.test(n)}var sw=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function hy(n,t){return n<t?-1:n>t?1:0}function fy(){var n=jt.navigator;return n&&(n=n.userAgent)?n:""}function Ga(n){return-1!=fy().indexOf(n)}function ws(n){return ws[" "](n),n}ws[" "]=Og;var Bg,n,CT=Ga("Opera"),Vg=Ga("Trident")||Ga("MSIE"),py=Ga("Edge"),gy=py||Vg,sx=Ga("Gecko")&&!(-1!=fy().toLowerCase().indexOf("webkit")&&!Ga("Edge"))&&!(Ga("Trident")||Ga("MSIE"))&&!Ga("Edge"),ET=-1!=fy().toLowerCase().indexOf("webkit")&&!Ga("Edge");function ox(){var n=jt.document;return n?n.documentMode:void 0}e:{var ow="",aw=(n=fy(),sx?/rv:([^\);]+)(\)|;)/.exec(n):py?/Edge\/([\d\.]+)/.exec(n):Vg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):ET?/WebKit\/(\S+)/.exec(n):CT?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(aw&&(ow=aw?aw[1]:""),Vg){var Ug=ox();if(null!=Ug&&Ug>parseFloat(ow)){Bg=String(Ug);break e}}Bg=ow}var xT={};var ST=jt.document&&Vg&&(ox()||parseInt(Bg,10))||void 0;function Gs(n,t){if(Yr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(sx){e:{try{ws(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:cw[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Gs.X.h.call(this)}}ar(Gs,Yr);var cw={2:"touch",3:"pen",4:"mouse"};Gs.prototype.h=function(){Gs.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Hg="closure_listenable_"+(1e6*Math.random()|0),AT=0;function lx(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=r,this.key=++AT,this.ba=this.ea=!1}function my(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function uw(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function cx(n){const t={};for(const e in n)t[e]=n[e];return t}const _y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ux(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<_y.length;s++)e=_y[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function yy(n){this.src=n,this.g={},this.h=0}function Pf(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=rw(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(my(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function Gg(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ba&&s.listener==t&&s.capture==!!e&&s.ha==i)return r}return-1}yy.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=Gg(n,t,i,r);return-1<c?(t=n[c],e||(t.ea=!1)):((t=new lx(t,this.src,s,!!i,r)).ea=e,n.push(t)),t};var Ff="closure_lm_"+(1e6*Math.random()|0),dx={};function vy(n,t,e,i,r){if(i&&i.once)return dw(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)vy(n,t[s],e,i,r);return null}return e=$d(e),n&&n[Hg]?n.N(t,e,Pg(i)?!!i.capture:!!i,r):IT(n,t,e,!1,i,r)}function IT(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var c=Pg(r)?!!r.capture:!!r,d=Nf(n);if(d||(n[Ff]=d=new yy(n)),(e=d.add(t,e,i,c,s)).proxy)return e;if(i=function hx(){const t=jl;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)ix||(r=c),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(wy(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function dw(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)dw(n,t[s],e,i,r);return null}return e=$d(e),n&&n[Hg]?n.O(t,e,Pg(i)?!!i.capture:!!i,r):IT(n,t,e,!0,i,r)}function hw(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)hw(n,t[s],e,i,r);else i=Pg(i)?!!i.capture:!!i,e=$d(e),n&&n[Hg]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=Gg(s=n.g[t],e,i,r))&&(my(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=Nf(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Gg(t,e,i,r)),(e=-1<n?t[n]:null)&&by(e))}function by(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[Hg])Pf(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(wy(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=Nf(t))?(Pf(e,n),0==e.h&&(e.src=null,t[Ff]=null)):my(n)}}}function wy(n){return n in dx?dx[n]:dx[n]="on"+n}function jl(n,t){if(n.ba)n=!0;else{t=new Gs(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&by(n),n=e.call(i,t)}return n}function Nf(n){return(n=n[Ff])instanceof yy?n:null}var Lf="__closure_events_fn_"+(1e9*Math.random()>>>0);function $d(n){return"function"==typeof n?n:(n[Lf]||(n[Lf]=function(t){return n.handleEvent(t)}),n[Lf])}function Cr(){Ha.call(this),this.i=new yy(this),this.P=this,this.I=null}function Er(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Yr(t,n);else if(t instanceof Yr)t.target=t.target||n;else{var r=t;ux(t=new Yr(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var c=t.g=e[s];r=jg(c,i,!0,t)&&r}if(r=jg(c=t.g=n,i,!0,t)&&r,r=jg(c,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=jg(c=t.g=e[s],i,!1,t)&&r}function jg(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var c=t[s];if(c&&!c.ba&&c.capture==e){var d=c.listener,g=c.ha||c.src;c.ea&&Pf(n.i,c),r=!1!==d.call(g,i)&&r}}return r&&!i.defaultPrevented}ar(Cr,Ha),Cr.prototype[Hg]=!0,Cr.prototype.removeEventListener=function(n,t,e,i){hw(this,n,t,e,i)},Cr.prototype.M=function(){if(Cr.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)my(e[i]);delete n.g[t],n.h--}}this.I=null},Cr.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Cr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var fw=jt.JSON.stringify;function TT(){var n=gx;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var pw,fx=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new z1,n=>n.reset());class z1{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function MT(n){jt.setTimeout(()=>{throw n},0)}function px(n,t){pw||function kT(){var n=jt.Promise.resolve(void 0);pw=function(){n.then(RT)}}(),gw||(pw(),gw=!0),gx.add(n,t)}var gw=!1,gx=new class zg{constructor(){this.h=this.g=null}add(t,e){const i=fx.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function RT(){for(var n;n=TT();){try{n.h.call(n.g)}catch(e){MT(e)}var t=fx;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}gw=!1}function $g(n,t){Cr.call(this),this.h=n||1,this.g=t||jt,this.j=or(this.lb,this),this.l=Date.now()}function qg(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function mw(n,t,e){if("function"==typeof n)e&&(n=or(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=or(n.handleEvent,n)}return 2147483647<Number(t)?-1:jt.setTimeout(n,t||0)}function Cy(n){n.g=mw(()=>{n.g=null,n.i&&(n.i=!1,Cy(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}ar($g,Cr),(dt=$g.prototype).ca=!1,dt.R=null,dt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Er(this,"tick"),this.ca&&(qg(this),this.start()))}},dt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dt.M=function(){$g.X.M.call(this),qg(this),delete this.g};class OT extends Ha{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Cy(this)}M(){super.M(),this.g&&(jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wg(n){Ha.call(this),this.h=n,this.g={}}ar(Wg,Ha);var mx=[];function _x(n,t,e,i){Array.isArray(e)||(e&&(mx[0]=e.toString()),e=mx);for(var r=0;r<e.length;r++){var s=vy(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function yx(n){uw(n.g,function(t,e){this.g.hasOwnProperty(e)&&by(t)},n),n.g={}}function Ey(){this.g=!0}function qd(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function $1(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return fw(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Wg.prototype.M=function(){Wg.X.M.call(this),yx(this)},Wg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ey.prototype.Aa=function(){this.g=!1},Ey.prototype.info=function(){};var lu={},Yg=null;function ja(){return Yg=Yg||new Cr}function NT(n){Yr.call(this,lu.Pa,n)}function zl(n){const t=ja();Er(t,new NT(t))}function bx(n,t){Yr.call(this,lu.STAT_EVENT,n),this.stat=t}function Cs(n){const t=ja();Er(t,new bx(t,n))}function xy(n,t){Yr.call(this,lu.Qa,n),this.size=t}function Zg(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return jt.setTimeout(function(){n()},t)}lu.Pa="serverreachability",ar(NT,Yr),lu.STAT_EVENT="statevent",ar(bx,Yr),lu.Qa="timingevent",ar(xy,Yr);var ao={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Vf={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function xr(){}function Kg(){}xr.prototype.h=null;var du,Zr={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Qg(){Yr.call(this,"d")}function uu(){Yr.call(this,"c")}function $l(){}function za(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new Wg(this),this.O=Bf,this.T=new $g(n=gy?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Wd}function Wd(){this.i=null,this.g="",this.h=!1}ar(Qg,Yr),ar(uu,Yr),ar($l,xr),$l.prototype.g=function(){return new XMLHttpRequest},$l.prototype.i=function(){return{}},du=new $l;var Bf=45e3,hu={},ql={};function fu(n,t,e){n.K=1,n.v=Kd(Yl(t)),n.s=e,n.P=!0,_w(n,null)}function _w(n,t){n.F=Date.now(),Uf(n),n.A=Yl(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),Iw(e.i,"t",i),n.C=0,e=n.l.H,n.h=new Wd,n.g=Vy(n.l,e?t:null,!n.s),0<n.N&&(n.L=new OT(or(n.La,n,n.g),n.N)),_x(n.S,n.g,"readystatechange",n.ib),t=n.H?cx(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),zl(),function PT(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var c="",d=s.split("&"),g=0;g<d.length;g++){var y=d[g].split("=");if(1<y.length){var C=y[0];y=y[1];var D=C.split("_");c=2<=D.length&&"type"==D[1]?c+(C+"=")+y+"&":c+(C+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function yw(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function vw(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=wx(n,e),r==ql){4==t&&(n.o=4,Cs(14),i=!1),qd(n.j,n.m,null,"[Incomplete Response]");break}if(r==hu){n.o=4,Cs(15),qd(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}qd(n.j,n.m,r,null),ww(n,r)}yw(n)&&r!=ql&&r!=hu&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Cs(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),lo(t),t.K=!0,Cs(11))):(qd(n.j,n.m,e,"[Invalid Chunked Response]"),pu(n),Hf(n))}function wx(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?ql:(e=Number(t.substring(e,i)),isNaN(e)?hu:(i+=1)+e>t.length?ql:(t=t.substr(i,e),n.C=i+e,t))}function Uf(n){n.V=Date.now()+n.O,bw(n,n.O)}function bw(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Zg(or(n.gb,n),t)}function Xg(n){n.B&&(jt.clearTimeout(n.B),n.B=null)}function Hf(n){0==n.l.G||n.I||Hw(n.l,n)}function pu(n){Xg(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,qg(n.T),yx(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function ww(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||Iy(e.h,n)))if(!n.J&&Iy(e.h,n)&&3==e.G){try{var i=e.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;im(e),Ny(e)}Mo(e),Cs(18)}}else e.Ba=r[1],0<e.Ba-e.T&&37500>r[2]&&e.L&&0==e.A&&!e.v&&(e.v=Zg(or(e.cb,e),6e3));if(1>=kw(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else Xd(e,11)}else if((n.J||e.g==n)&&im(e),!dy(t))for(r=e.Fa.g.parse(t),t=0;t<r.length;t++){let y=r[t];if(e.T=y[0],y=y[1],2==e.G)if("c"==y[0]){e.I=y[1],e.ka=y[2];const C=y[3];null!=C&&(e.ma=C,e.j.info("VER="+e.ma));const D=y[4];null!=D&&(e.Ca=D,e.j.info("SVER="+e.Ca));const k=y[5];null!=k&&"number"==typeof k&&0<k&&(e.J=i=1.5*k,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const P=n.g;if(P){const V=P.g?P.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(V){var s=i.h;s.g||-1==V.indexOf("spdy")&&-1==V.indexOf("quic")&&-1==V.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Ty(s,s.h),s.h=null))}if(i.D){const $=P.g?P.g.getResponseHeader("X-HTTP-Session-Id"):null;$&&(i.za=$,ci(i.F,i.D,$))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var c=n;if((i=e).sa=Vx(i,i.H?i.ka:null,i.V),c.J){Rw(i.h,c);var d=c,g=i.J;g&&d.setTimeout(g),d.B&&(Xg(d),Uf(d)),i.g=c}else Fx(i);0<e.i.length&&Bw(e)}else"stop"!=y[0]&&"close"!=y[0]||Xd(e,7);else 3==e.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?Xd(e,7):Fy(e):"noop"!=y[0]&&e.l&&e.l.wa(y),e.A=0)}zl()}catch{}}function Ex(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(cy(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function Cx(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(cy(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function LT(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(cy(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(dt=za.prototype).setTimeout=function(n){this.O=n},dt.ib=function(n){n=n.target;const t=this.L;t&&3==Ql(n)?t.l():this.La(n)},dt.La=function(n){try{if(n==this.g)e:{const C=Ql(this.g);var t=this.g.Ea();if(this.g.aa(),!(3>C)&&(3!=C||gy||this.g&&(this.h.h||this.g.fa()||Nw(this.g)))){this.I||4!=C||7==t||zl(),Xg(this);var e=this.g.aa();this.Y=e;t:if(yw(this)){var i=Nw(this.g);n="";var r=i.length,s=4==Ql(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){pu(this),Hf(this);var c="";break t}this.h.i=new jt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==e,function vx(n,t,e,i,r,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.U,C,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var d,g=this.g;if((d=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dy(d)){var y=d;break t}}y=null}if(!(e=y)){this.i=!1,this.o=3,Cs(12),pu(this),Hf(this);break e}qd(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ww(this,e)}this.P?(vw(this,C,c),gy&&this.i&&3==C&&(_x(this.S,this.T,"tick",this.hb),this.T.start())):(qd(this.j,this.m,c,null),ww(this,c)),4==C&&pu(this),this.i&&!this.I&&(4==C?Hw(this.l,this):(this.i=!1,Uf(this)))}else 400==e&&0<c.indexOf("Unknown SID")?(this.o=3,Cs(12)):(this.o=0,Cs(13)),pu(this),Hf(this)}}}catch{}},dt.hb=function(){if(this.g){var n=Ql(this.g),t=this.g.fa();this.C<t.length&&(Xg(this),vw(this,n,t),this.i&&4!=n&&Uf(this))}},dt.cancel=function(){this.I=!0,pu(this)},dt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function FT(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(zl(),Cs(17)),pu(this),this.o=2,Hf(this)):bw(this,this.V-n)};var Cw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wl(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Wl){this.h=void 0!==t?t:n.h,Yd(this,n.j),this.s=n.s,this.g=n.g,Zd(this,n.m),this.l=n.l,t=n.i;var e=new Jg;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),Dy(this,e),this.o=n.o}else n&&(e=String(n).match(Cw))?(this.h=!!t,Yd(this,e[1]||"",!0),this.s=gu(e[2]||""),this.g=gu(e[3]||"",!0),Zd(this,e[4]),this.l=gu(e[5]||"",!0),Dy(this,e[6]||"",!0),this.o=gu(e[7]||"")):(this.h=!!t,this.i=new Jg(null,this.h))}function Yl(n){return new Wl(n)}function Yd(n,t,e){n.j=e?gu(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Zd(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function Dy(n,t,e){t instanceof Jg?(n.i=t,function Ax(n,t){t&&!n.j&&(Zl(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(Sw(this,i),Iw(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=Gf(t,xw)),n.i=new Jg(t,n.h))}function ci(n,t,e){n.i.set(t,e)}function Kd(n){return ci(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function gu(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Gf(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,xx),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function xx(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Wl.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Gf(t,Sy,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Gf(t,Sy,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(Gf(e,"/"==e.charAt(0)?Sx:Dx,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Gf(e,Dw)),n.join("")};var Sy=/[#\/\?@]/g,Dx=/[#\?:]/g,Sx=/[#\?]/g,xw=/[#\?@]/g,Dw=/#/g;function Jg(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Zl(n){n.g||(n.g=new Map,n.h=0,n.i&&function Ew(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function Sw(n,t){Zl(n),t=jf(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function Aw(n,t){return Zl(n),t=jf(n,t),n.g.has(t)}function Iw(n,t,e){Sw(n,t),0<e.length&&(n.i=null,n.g.set(jf(n,t),Lg(e)),n.h+=e.length)}function jf(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function Ay(n){this.l=n||Tw,n=jt.PerformanceNavigationTiming?0<(n=jt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(jt.g&&jt.g.Ga&&jt.g.Ga()&&jt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dt=Jg.prototype).add=function(n,t){Zl(this),this.i=null,n=jf(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},dt.forEach=function(n,t){Zl(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},dt.oa=function(){Zl(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},dt.W=function(n){Zl(this);let t=[];if("string"==typeof n)Aw(this,n)&&(t=t.concat(this.g.get(jf(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},dt.set=function(n,t){return Zl(this),this.i=null,Aw(this,n=jf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},dt.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),c=this.W(i);for(i=0;i<c.length;i++){var r=s;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),n.push(r)}}return this.i=n.join("&")};var Tw=10;function Mw(n){return!!n.h||!!n.g&&n.g.size>=n.j}function kw(n){return n.h?1:n.g?n.g.size:0}function Iy(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function Ty(n,t){n.g?n.g.add(t):n.h=t}function Rw(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function Ow(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return Lg(n.i)}function My(){}function Tx(){this.g=new My}function ky(n,t,e){const i=e||"";try{Ex(n,function(r,s){let c=r;Pg(r)&&(c=fw(r)),t.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Ry(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function em(n){this.l=n.ac||null,this.j=n.jb||!1}function zf(n,t){Cr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=Kl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ay.prototype.cancel=function(){if(this.i=Ow(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},My.prototype.stringify=function(n){return jt.JSON.stringify(n,void 0)},My.prototype.parse=function(n){return jt.JSON.parse(n,void 0)},ar(em,xr),em.prototype.g=function(){return new zf(this.l,this.j)},em.prototype.i=function(n){return function(){return n}}({}),ar(zf,Cr);var Kl=0;function Oy(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function tm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Qd(n)}function Qd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(dt=zf.prototype).open=function(n,t){if(this.readyState!=Kl)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Qd(this)},dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||jt).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tm(this)),this.readyState=Kl},dt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Qd(this)),this.g&&(this.readyState=3,Qd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof jt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Oy(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},dt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?tm(this):Qd(this),3==this.readyState&&Oy(this)}},dt.Va=function(n){this.g&&(this.response=this.responseText=n,tm(this))},dt.Ua=function(n){this.g&&(this.response=n,tm(this))},dt.ga=function(){this.g&&tm(this)},dt.setRequestHeader=function(n,t){this.v.append(n,t)},dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(zf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var q1=jt.JSON.parse;function Li(n){Cr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Mx,this.K=this.L=!1}ar(Li,Cr);var Mx="",VT=/^https?$/i,kx=["POST","PUT"];function Zi(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,Pw(n),Py(n)}function Pw(n){n.D||(n.D=!0,Er(n,"complete"),Er(n,"error"))}function Rx(n){if(n.h&&typeof ly<"u"&&(!n.C[1]||4!=Ql(n)||2!=n.aa()))if(n.v&&4==Ql(n))mw(n.Ha,0,n);else if(Er(n,"readystatechange"),4==Ql(n)){n.h=!1;try{const d=n.aa();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===d){var r=String(n.H).match(Cw)[1]||null;if(!r&&jt.self&&jt.self.location){var s=jt.self.location.protocol;r=s.substr(0,s.length-1)}i=!VT.test(r?r.toLowerCase():"")}e=i}if(e)Er(n,"complete"),Er(n,"success");else{n.m=6;try{var c=2<Ql(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",Pw(n)}}finally{Py(n)}}}function Py(n,t){if(n.g){Fw(n);const e=n.g,i=n.C[0]?Og:null;n.g=null,n.C=null,t||Er(n,"ready");try{e.onreadystatechange=i}catch{}}}function Fw(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(jt.clearTimeout(n.A),n.A=null)}function Ql(n){return n.g?n.g.readyState:0}function Nw(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Mx:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Lw(n){let t="";return uw(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function _u(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=Lw(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):ci(n,t,e))}function nm(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function Ox(n){this.Ca=0,this.i=[],this.j=new Ey,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=nm("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=nm("baseRetryDelayMs",5e3,n),this.bb=nm("retryDelaySeedMs",1e4,n),this.$a=nm("forwardChannelMaxRetries",2,n),this.ta=nm("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Ay(n&&n.concurrentRequestLimit),this.Fa=new Tx,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Fy(n){if(Vw(n),3==n.G){var t=n.U++,e=Yl(n.F);ci(e,"SID",n.I),ci(e,"RID",t),ci(e,"TYPE","terminate"),js(n,e),(t=new za(n,n.j,t,void 0)).K=2,t.v=Kd(Yl(e)),e=!1,jt.navigator&&jt.navigator.sendBeacon&&(e=jt.navigator.sendBeacon(t.v.toString(),"")),!e&&jt.Image&&((new Image).src=t.v,e=!0),e||(t.g=Vy(t.l,null),t.g.da(t.v)),t.F=Date.now(),Uf(t)}Lx(n)}function Ny(n){n.g&&(lo(n),n.g.cancel(),n.g=null)}function Vw(n){Ny(n),n.u&&(jt.clearTimeout(n.u),n.u=null),im(n),n.h.cancel(),n.m&&("number"==typeof n.m&&jt.clearTimeout(n.m),n.m=null)}function Bw(n){Mw(n.h)||n.m||(n.m=!0,px(n.Ja,n),n.C=0)}function Ly(n,t){var e;e=t?t.m:n.U++;const i=Yl(n.F);ci(i,"SID",n.I),ci(i,"RID",e),ci(i,"AID",n.T),js(n,i),n.o&&n.s&&_u(i,n.o,n.s),e=new za(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=Px(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Ty(n.h,e),fu(e,i,t)}function js(n,t){n.ia&&uw(n.ia,function(e,i){ci(t,i,e)}),n.l&&Ex({},function(e,i){ci(t,i,e)})}function Px(n,t,e){e=Math.min(n.i.length,e);var i=n.l?or(n.l.Ra,n.l,n):null;e:{var r=n.i;let s=-1;for(;;){const c=["count="+e];-1==s?0<e?(s=r[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let d=!0;for(let g=0;g<e;g++){let y=r[g].h;const C=r[g].g;if(y-=s,0>y)s=Math.max(0,r[g].h-100),d=!1;else try{ky(C,c,"req"+y+"_")}catch{i&&i(C)}}if(d){i=c.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,i}function Fx(n){n.g||n.u||(n.Z=1,px(n.Ia,n),n.A=0)}function Mo(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Zg(or(n.Ia,n),Nx(n,n.A)),n.A++,0))}function lo(n){null!=n.B&&(jt.clearTimeout(n.B),n.B=null)}function ko(n){n.g=new za(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=Yl(n.sa);ci(t,"RID","rpc"),ci(t,"SID",n.I),ci(t,"CI",n.L?"0":"1"),ci(t,"AID",n.T),ci(t,"TYPE","xmlhttp"),js(n,t),n.o&&n.s&&_u(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=Kd(Yl(t)),e.s=null,e.P=!0,_w(e,n)}function im(n){null!=n.v&&(jt.clearTimeout(n.v),n.v=null)}function Hw(n,t){var e=null;if(n.g==t){im(n),lo(n),n.g=null;var i=2}else{if(!Iy(n.h,t))return;e=t.D,Rw(n.h,t),i=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;Er(i=ja(),new xy(i,e)),Bw(n)}else Fx(n);else if(3==(r=t.o)||0==r&&0<n.pa||!(1==i&&function Uw(n,t){return!(kw(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Zg(or(n.Ja,n,t),Nx(n,n.C)),n.C++,0)))}(n,t)||2==i&&Mo(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:Xd(n,5);break;case 4:Xd(n,10);break;case 3:Xd(n,6);break;default:Xd(n,2)}}function Nx(n,t){let e=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(e*=2),e*t}function Xd(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=or(n.kb,n);e||(e=new Wl("//www.google.com/images/cleardot.gif"),jt.location&&"http"==jt.location.protocol||Yd(e,"https"),Kd(e)),function mu(n,t){const e=new Ey;if(jt.Image){const i=new Image;i.onload=Ng(Ry,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Ng(Ry,e,i,"TestLoadImage: error",!1,t),i.onabort=Ng(Ry,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Ng(Ry,e,i,"TestLoadImage: timeout",!1,t),jt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Cs(2);n.G=0,n.l&&n.l.va(t),Lx(n),Vw(n)}function Lx(n){if(n.G=0,n.la=[],n.l){const t=Ow(n.h);(0!=t.length||0!=n.i.length)&&(nx(n.la,t),nx(n.la,n.i),n.h.i.length=0,Lg(n.i),n.i.length=0),n.l.ua()}}function Vx(n,t,e){var i=e instanceof Wl?Yl(e):new Wl(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),Zd(i,i.m);else{var r=jt.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new Wl(null,void 0);i&&Yd(s,i),t&&(s.g=t),r&&Zd(s,r),e&&(s.l=e),i=s}return t=n.za,(e=n.D)&&t&&ci(i,e,t),ci(i,"VER",n.ma),js(n,i),i}function Vy(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Li(e&&n.Da&&!n.ra?new em({jb:!0}):n.ra)).Ka(n.H),t}function $f(){}function By(){if(Vg&&!(10<=Number(ST)))throw Error("Environmental error: no available transport.")}function zs(n,t){Cr.call(this),this.g=new Ox(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Yb)&&!dy(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!dy(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Jd(this)}function Bx(n){Qg.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function Gw(){uu.call(this),this.status=1}function Jd(n){this.g=n}(dt=Li.prototype).Ka=function(n){this.L=n},dt.da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():du.g(),this.C=function cu(n){return n.h||(n.h=n.i())}(this.u?this.u:du),this.g.onreadystatechange=or(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){return void Zi(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=jt.FormData&&n instanceof jt.FormData,!(0<=rw(kx,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,c]of e)this.g.setRequestHeader(s,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Fw(this),0<this.B&&((this.K=function BT(n){return Vg&&function DT(){return function rx(n){var t=xT;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=sw(String(Bg)).split("."),e=sw("9").split("."),i=Math.max(t.length,e.length);for(let c=0;0==n&&c<i;c++){var r=t[c]||"",s=e[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=hy(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||hy(0==r[2].length,0==s[2].length)||hy(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=or(this.qa,this)):this.A=mw(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){Zi(this,s)}},dt.qa=function(){typeof ly<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Er(this,"timeout"),this.abort(8))},dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Er(this,"complete"),Er(this,"abort"),Py(this))},dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Py(this,!0)),Li.X.M.call(this)},dt.Ha=function(){this.s||(this.F||this.v||this.l?Rx(this):this.fb())},dt.fb=function(){Rx(this)},dt.aa=function(){try{return 2<Ql(this)?this.g.status:-1}catch{return-1}},dt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},dt.Sa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),q1(t)}},dt.Ea=function(){return this.m},dt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(dt=Ox.prototype).ma=8,dt.G=1,dt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new za(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=cx(s),ux(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=Px(this,r,t),ci(e=Yl(this.F),"RID",n),ci(e,"CVER",22),this.D&&ci(e,"X-HTTP-Session-Id",this.D),js(this,e),s&&(this.N?t="headers="+encodeURIComponent(String(Lw(s)))+"&"+t:this.o&&_u(e,this.o,s)),Ty(this.h,r),this.Ya&&ci(e,"TYPE","init"),this.O?(ci(e,"$req",t),ci(e,"SID","null"),r.Z=!0,fu(r,e,null)):fu(r,e,t),this.G=2}}else 3==this.G&&(n?Ly(this,n):0==this.i.length||Mw(this.h)||Ly(this))},dt.Ia=function(){if(this.u=null,ko(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Zg(or(this.eb,this),n)}},dt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Cs(10),Ny(this),ko(this))},dt.cb=function(){null!=this.v&&(this.v=null,Ny(this),Mo(this),Cs(19))},dt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Cs(2)):(this.j.info("Failed to ping google.com"),Cs(1))},(dt=$f.prototype).xa=function(){},dt.wa=function(){},dt.va=function(){},dt.ua=function(){},dt.Ra=function(){},By.prototype.g=function(n,t){return new zs(n,t)},ar(zs,Cr),zs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;Cs(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=Vx(n,null,n.V),Bw(n)},zs.prototype.close=function(){Fy(this.g)},zs.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=fw(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.ab++,n)),3==t.G&&Bw(t)},zs.prototype.M=function(){this.g.l=null,delete this.j,Fy(this.g),delete this.g,zs.X.M.call(this)},ar(Bx,Qg),ar(Gw,uu),ar(Jd,$f),Jd.prototype.xa=function(){Er(this.g,"a")},Jd.prototype.wa=function(n){Er(this.g,new Bx(n))},Jd.prototype.va=function(n){Er(this.g,new Gw)},Jd.prototype.ua=function(){Er(this.g,"b")},By.prototype.createWebChannel=By.prototype.g,zs.prototype.send=zs.prototype.u,zs.prototype.open=zs.prototype.m,zs.prototype.close=zs.prototype.close,ao.NO_ERROR=0,ao.TIMEOUT=8,ao.HTTP_ERROR=6,Vf.COMPLETE="complete",Kg.EventType=Zr,Zr.OPEN="a",Zr.CLOSE="b",Zr.ERROR="c",Zr.MESSAGE="d",Cr.prototype.listen=Cr.prototype.N,Li.prototype.listenOnce=Li.prototype.O,Li.prototype.getLastError=Li.prototype.Oa,Li.prototype.getLastErrorCode=Li.prototype.Ea,Li.prototype.getStatus=Li.prototype.aa,Li.prototype.getResponseJson=Li.prototype.Sa,Li.prototype.getResponseText=Li.prototype.fa,Li.prototype.send=Li.prototype.da,Li.prototype.setWithCredentials=Li.prototype.Ka;var Uy=ou.createWebChannelTransport=function(){return new By},UT=ou.getStatEventTarget=function(){return ja()},Hy=ou.ErrorCode=ao,Ux=ou.EventType=Vf,jw=ou.Event=lu,rm=ou.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Hx=ou.FetchXmlHttpFactory=em,sm=ou.WebChannel=Kg,Gx=ou.XhrIo=Li;const zw="@firebase/firestore";class lr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}lr.UNAUTHENTICATED=new lr(null),lr.GOOGLE_CREDENTIALS=new lr("google-credentials-uid"),lr.FIRST_PARTY=new lr("first-party-uid"),lr.MOCK_USER=new lr("mock-user");let eh="9.14.0";const Xl=new Ua.Yd("@firebase/firestore");function Gy(){return Xl.logLevel}function Fe(n,...t){if(Xl.logLevel<=Ua.in.DEBUG){const e=t.map($w);Xl.debug(`Firestore (${eh}): ${n}`,...e)}}function Vi(n,...t){if(Xl.logLevel<=Ua.in.ERROR){const e=t.map($w);Xl.error(`Firestore (${eh}): ${n}`,...e)}}function th(n,...t){if(Xl.logLevel<=Ua.in.WARN){const e=t.map($w);Xl.warn(`Firestore (${eh}): ${n}`,...e)}}function $w(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ht(n="Unexpected state"){const t=`FIRESTORE (${eh}) INTERNAL ASSERTION FAILED: `+n;throw Vi(t),new Error(t)}function Rt(n,t){n||ht()}function Ze(n,t){return n}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends N.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class zx{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class GT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(lr.UNAUTHENTICATED))}shutdown(){}}class jT{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class zT{constructor(t){this.t=t,this.currentUser=lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=y=>this.i!==r?(r=this.i,e(y)):Promise.resolve();let c=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new cr,t.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const y=c;t.enqueueRetryable((0,ve.Z)(function*(){yield y.promise,yield s(i.currentUser)}))},g=y=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new cr)}},0),d()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Rt("string"==typeof i.accessToken),new zx(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Rt(null===t||"string"==typeof t),new lr(t)}}class $T{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=lr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Rt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class qT{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new $T(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qw{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $x{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=s=>{null!=s.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.A;return this.A=s.token,Fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Rt("string"==typeof e.token),this.A=e.token,new qw(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function qx(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class Ww{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=qx(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function Ht(n,t){return n<t?-1:n>t?1:0}function nh(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function Yw(n){return n+"\0"}class ii{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Re(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Re(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Re(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Re(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ii.fromMillis(Date.now())}static fromDate(t){return ii.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new ii(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ht(this.nanoseconds,t.nanoseconds):Ht(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class St{constructor(t){this.timestamp=t}static fromTimestamp(t){return new St(t)}static min(){return new St(new ii(0,0))}static max(){return new St(new ii(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ih{constructor(t,e,i){void 0===e?e=0:e>t.length&&ht(),void 0===i?i=t.length-e:i>t.length-e&&ht(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===ih.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ih?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),c=e.get(r);if(s<c)return-1;if(s>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class en extends ih{construct(t,e,i){return new en(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Re(ue.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new en(e)}static emptyPath(){return new en([])}}const YT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ai extends ih{construct(t,e,i){return new Ai(t,e,i)}static isValidIdentifier(t){return YT.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ai.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ai(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Re(ue.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const d=t[r];if("\\"===d){if(r+1===t.length)throw new Re(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[r+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Re(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=g,r+=2}else"`"===d?(c=!c,r++):"."!==d||c?(i+=d,r++):(s(),r++)}if(s(),c)throw new Re(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ai(e)}static emptyPath(){return new Ai([])}}class ze{constructor(t){this.path=t}static fromPath(t){return new ze(en.fromString(t))}static fromName(t){return new ze(en.fromString(t).popFirst(5))}static empty(){return new ze(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===en.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return en.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ze(new en(t.slice()))}}class Zw{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function om(n){return n.fields.find(t=>2===t.kind)}function qf(n){return n.fields.filter(t=>2!==t.kind)}Zw.UNKNOWN_ID=-1;class am{constructor(t,e){this.fieldPath=t,this.kind=e}}class yt{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new yt(0,co.min())}}function Yx(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=St.fromTimestamp(1e9===i?new ii(e+1,0):new ii(e,i));return new co(r,ze.empty(),t)}function Zx(n){return new co(n.readTime,n.key,-1)}class co{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new co(St.min(),ze.empty(),-1)}static max(){return new co(St.max(),ze.empty(),-1)}}function yu(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=ze.comparator(n.documentKey,t.documentKey),0!==e?e:Ht(n.largestBatchId,t.largestBatchId))}const Kx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lm{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Ko(n){return ui.apply(this,arguments)}function ui(){return ui=(0,ve.Z)(function*(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==Kx)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}),ui.apply(this,arguments)}class le{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new le((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof le?e:le.resolve(e)}catch(e){return le.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):le.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):le.reject(e)}static resolve(t){return new le((e,i)=>{e(t)})}static reject(t){return new le((e,i)=>{i(t)})}static waitFor(t){return new le((e,i)=>{let r=0,s=0,c=!1;t.forEach(d=>{++r,d.next(()=>{++s,c&&s===r&&e()},g=>i(g))}),c=!0,s===r&&e()})}static or(t){let e=le.resolve(!1);for(const i of t)e=e.next(r=>r?le.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new le((i,r)=>{const s=t.length,c=new Array(s);let d=0;for(let g=0;g<s;g++){const y=g;e(t[y]).next(C=>{c[y]=C,++d,d===s&&i(c)},C=>r(C))}})}static doWhile(t,e){return new le((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class cm{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new cr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new Wf(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=Kw(i.target.error);this.P.reject(new Wf(t,r))}}static open(t,e,i,r){try{return new cm(e,t.transaction(r,i))}catch(s){throw new Wf(e,s)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(Fe("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new Qx(e)}}class Ro{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===Ro.D((0,N.z$)())&&Vi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Fe("SimpleDb","Removing database:",t),vu(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,N.hl)())return!1;if(Ro.N())return!0;const t=(0,N.z$)(),e=Ro.D(t),i=0<e&&e<10,r=Ro.k(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.O)}static M(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(t){var e=this;return(0,ve.Z)(function*(){return e.db||(Fe("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=c=>{i(c.target.result)},s.onblocked=()=>{r(new Wf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const d=c.target.error;r("VersionError"===d.name?new Re(ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new Re(ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new Wf(t,d))},s.onupgradeneeded=c=>{Fe("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',c.oldVersion),e.S.$(c.target.result,s.transaction,c.oldVersion,e.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,ve.Z)(function*(){const c="readonly"===e;let d=0;for(;;){++d;try{s.db=yield s.F(t);const g=cm.open(s.db,t,c?"readonly":"readwrite",i),y=r(g).next(C=>(g.V(),C)).catch(C=>(g.abort(C),le.reject(C))).toPromise();return y.catch(()=>{}),yield g.v,y}catch(g){const y=g,C="FirebaseError"!==y.name&&d<3;if(Fe("SimpleDb","Transaction failed with error:",y.message,"Retrying:",C),s.close(),!C)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ZT{constructor(t){this.U=t,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(t){this.U=t}done(){this.q=!0}j(t){this.K=t}delete(){return vu(this.U.delete())}}class Wf extends Re{constructor(t,e){super(ue.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Jl(n){return"IndexedDbTransactionError"===n.name}class Qx{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Fe("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),vu(i)}add(t){return Fe("SimpleDb","ADD",this.store.name,t,t),vu(this.store.add(t))}get(t){return vu(this.store.get(t)).next(e=>(void 0===e&&(e=null),Fe("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Fe("SimpleDb","DELETE",this.store.name,t),vu(this.store.delete(t))}count(){return Fe("SimpleDb","COUNT",this.store.name),vu(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.H(r,(c,d)=>{s.push(d)}).next(()=>s)}{const r=this.store.getAll(i.range);return new le((s,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new le((r,s)=>{i.onerror=c=>{s(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Y(t,e){Fe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const r=this.cursor(i);return this.H(r,(s,c,d)=>d.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.H(r,e)}tt(t){const e=this.cursor({});return new le((i,r)=>{e.onerror=s=>{const c=Kw(s.target.error);r(c)},e.onsuccess=s=>{const c=s.target.result;c?t(c.primaryKey,c.value).next(d=>{d?c.continue():i()}):i()}})}H(t,e){const i=[];return new le((r,s)=>{t.onerror=c=>{s(c.target.error)},t.onsuccess=c=>{const d=c.target.result;if(!d)return void r();const g=new ZT(d),y=e(d.primaryKey,d.value,g);if(y instanceof le){const C=y.catch(D=>(g.done(),le.reject(D)));i.push(C)}g.isDone?r():null===g.G?d.continue():d.continue(g.G)}}).next(()=>le.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function vu(n){return new le((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=Kw(i.target.error);e(r)}})}let Xx=!1;function Kw(n){const t=Ro.D((0,N.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Xx||(Xx=!0,setTimeout(()=>{throw i},0)),i}}return n}class KT{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;Fe("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,ve.Z)(function*(){e.task=null;try{Fe("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){Jl(i)?Fe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Ko(i)}yield e.nt(6e4)}))}}class um{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,ve.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let r=e,s=!0;return le.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(c=>{if(null!==c&&!i.has(c))return Fe("IndexBackiller",`Processing collection: ${c}`),this.rt(t,c,r).next(d=>{r-=d,i.add(c)});s=!1})).next(()=>e-r)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const c=s.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next(()=>this.ot(r,s)).next(d=>(Fe("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(t,e,d))).next(()=>c.size)}))}ot(t,e){let i=t;return e.changes.forEach((r,s)=>{const c=Zx(s);yu(c,i)>0&&(i=c)}),new co(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class $s{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>e.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}function Jx(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function rh(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function dm(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}$s.at=-1;class _i{constructor(t,e){this.comparator=t,this.root=e||Dr.EMPTY}insert(t,e){return new _i(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Dr.BLACK,null,null))}remove(t){return new _i(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Dr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new hm(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new hm(this.root,t,this.comparator,!1)}getReverseIterator(){return new hm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new hm(this.root,t,this.comparator,!0)}}class hm{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Dr{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??Dr.RED,this.left=r??Dr.EMPTY,this.right=s??Dr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new Dr(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Dr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Dr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Dr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Dr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ht();const t=this.left.check();if(t!==this.right.check())throw ht();return t+(this.isRed()?0:1)}}Dr.EMPTY=null,Dr.RED=!0,Dr.BLACK=!1,Dr.EMPTY=new class{constructor(){this.size=0}get key(){throw ht()}get value(){throw ht()}get color(){throw ht()}get left(){throw ht()}get right(){throw ht()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Dr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fn{constructor(t){this.comparator=t,this.data=new _i(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Yf(this.data.getIterator())}getIteratorFrom(t){return new Yf(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Fn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Fn(this.comparator);return e.data=t,e}}class Yf{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function $a(n){return n.hasNext()?n.getNext():void 0}class uo{constructor(t){this.fields=t,t.sort(Ai.comparator)}static empty(){return new uo([])}unionWith(t){let e=new Fn(Ai.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new uo(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return nh(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class ur{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new ur(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new ur(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ht(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ur.EMPTY_BYTE_STRING=new ur("");const eD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ec(n){if(Rt(!!n),"string"==typeof n){let t=0;const e=eD.exec(n);if(Rt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:yi(n.seconds),nanos:yi(n.nanos)}}function yi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function sh(n){return"string"==typeof n?ur.fromBase64String(n):ur.fromUint8Array(n)}function jy(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function tD(n){const t=n.mapValue.fields.__previous_value__;return jy(t)?tD(t):t}function fm(n){const t=ec(n.mapValue.fields.__local_write_time__.timestampValue);return new ii(t.seconds,t.nanos)}class Y1{constructor(t,e,i,r,s,c,d,g){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.useFetchStreams=g}}class oh{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new oh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof oh&&t.projectId===this.projectId&&t.database===this.database}}function zy(n){return null==n}function $y(n){return 0===n&&1/n==-1/0}function XT(n){return"number"==typeof n&&Number.isInteger(n)&&!$y(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const ah={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},pm={nullValue:"NULL_VALUE"};function qa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jy(n)?4:iD(n)?9007199254740991:10:ht()}function Wa(n,t){if(n===t)return!0;const e=qa(n);if(e!==qa(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return fm(n).isEqual(fm(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=ec(i.timestampValue),c=ec(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,sh(n.bytesValue).isEqual(sh(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return yi(i.geoPointValue.latitude)===yi(r.geoPointValue.latitude)&&yi(i.geoPointValue.longitude)===yi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return yi(i.integerValue)===yi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=yi(i.doubleValue),c=yi(r.doubleValue);return s===c?$y(s)===$y(c):isNaN(s)&&isNaN(c)}return!1}(n,t);case 9:return nh(n.arrayValue.values||[],t.arrayValue.values||[],Wa);case 10:return function(i,r){const s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(Jx(s)!==Jx(c))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===c[d]||!Wa(s[d],c[d])))return!1;return!0}(n,t);default:return ht()}var r}function gm(n,t){return void 0!==(n.values||[]).find(e=>Wa(e,t))}function tc(n,t){if(n===t)return 0;const e=qa(n),i=qa(t);if(e!==i)return Ht(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ht(n.booleanValue,t.booleanValue);case 2:return function(r,s){const c=yi(r.integerValue||r.doubleValue),d=yi(s.integerValue||s.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,t);case 3:return Zf(n.timestampValue,t.timestampValue);case 4:return Zf(fm(n),fm(t));case 5:return Ht(n.stringValue,t.stringValue);case 6:return function(r,s){const c=sh(r),d=sh(s);return c.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const c=r.split("/"),d=s.split("/");for(let g=0;g<c.length&&g<d.length;g++){const y=Ht(c[g],d[g]);if(0!==y)return y}return Ht(c.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const c=Ht(yi(r.latitude),yi(s.latitude));return 0!==c?c:Ht(yi(r.longitude),yi(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const c=r.values||[],d=s.values||[];for(let g=0;g<c.length&&g<d.length;++g){const y=tc(c[g],d[g]);if(y)return y}return Ht(c.length,d.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===ah.mapValue&&s===ah.mapValue)return 0;if(r===ah.mapValue)return 1;if(s===ah.mapValue)return-1;const c=r.fields||{},d=Object.keys(c),g=s.fields||{},y=Object.keys(g);d.sort(),y.sort();for(let C=0;C<d.length&&C<y.length;++C){const D=Ht(d[C],y[C]);if(0!==D)return D;const k=tc(c[d[C]],g[y[C]]);if(0!==k)return k}return Ht(d.length,y.length)}(n.mapValue,t.mapValue);default:throw ht()}}function Zf(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Ht(n,t);const e=ec(n),i=ec(t),r=Ht(e.seconds,i.seconds);return 0!==r?r:Ht(e.nanos,i.nanos)}function Kf(n){return Qw(n)}function Qw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=ec(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?sh(n.bytesValue).toBase64():"referenceValue"in n?ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const c of i.values||[])s?s=!1:r+=",",r+=Qw(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const d of r)c?c=!1:s+=",",s+=`${d}:${Qw(i.fields[d])}`;return s+"}"}(n.mapValue):ht();var t}function lh(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Xw(n){return!!n&&"integerValue"in n}function mm(n){return!!n&&"arrayValue"in n}function Jw(n){return!!n&&"nullValue"in n}function nD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qy(n){return!!n&&"mapValue"in n}function nc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return rh(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=nc(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=nc(n.arrayValue.values[e]);return t}return Object.assign({},n)}function iD(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function rD(n){return"nullValue"in n?pm:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?lh(oh.empty(),ze.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ht()}function JT(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?lh(oh.empty(),ze.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?ah:ht()}function e0(n,t){const e=tc(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function sD(n,t){const e=tc(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Sr{constructor(t){this.value=t}static empty(){return new Sr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!qy(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=nc(e)}setAll(t){let e=Ai.emptyPath(),i={},r=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const g=this.getFieldsMap(e);this.applyChanges(g,i,r),i={},r=[],e=d.popLast()}c?i[d.lastSegment()]=nc(c):r.push(d.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());qy(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Wa(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];qy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){rh(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Sr(nc(this.value))}}function oD(n){const t=[];return rh(n.fields,(e,i)=>{const r=new Ai([e]);if(qy(i)){const s=oD(i.mapValue).fields;if(0===s.length)t.push(r);else for(const c of s)t.push(r.child(c))}else t.push(r)}),new uo(t)}class Nn{constructor(t,e,i,r,s,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=s,this.documentState=c}static newInvalidDocument(t){return new Nn(t,0,St.min(),St.min(),Sr.empty(),0)}static newFoundDocument(t,e,i){return new Nn(t,1,e,St.min(),i,0)}static newNoDocument(t,e){return new Nn(t,2,e,St.min(),Sr.empty(),0)}static newUnknownDocument(t,e){return new Nn(t,3,e,St.min(),Sr.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Sr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eM{constructor(t,e=null,i=[],r=[],s=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=c,this.endAt=d,this.ht=null}}function t0(n,t=null,e=[],i=[],r=null,s=null,c=null){return new eM(n,t,e,i,r,s,c)}function bu(n){const t=Ze(n);if(null===t.ht){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Kf(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),zy(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Kf(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Kf(i)).join(",")),t.ht=e}return t.ht}function _m(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!lM(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!Wa(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!uD(n.startAt,t.startAt)&&uD(n.endAt,t.endAt)}function Wy(n){return ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Qf(n,t){return n.filters.filter(e=>e instanceof Lr&&e.field.isEqual(t))}function aD(n,t,e){let i=pm,r=!0;for(const s of Qf(n,t)){let c=pm,d=!0;switch(s.op){case"<":case"<=":c=rD(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,d=!1;break;case"!=":case"not-in":c=pm}e0({value:i,inclusive:r},{value:c,inclusive:d})<0&&(i=c,r=d)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const c=e.position[s];e0({value:i,inclusive:r},{value:c,inclusive:e.inclusive})<0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}function n0(n,t,e){let i=ah,r=!0;for(const s of Qf(n,t)){let c=ah,d=!0;switch(s.op){case">=":case">":c=JT(s.value),d=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,d=!1;break;case"!=":case"not-in":c=ah}sD({value:i,inclusive:r},{value:c,inclusive:d})>0&&(i=c,r=d)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const c=e.position[s];sD({value:i,inclusive:r},{value:c,inclusive:e.inclusive})>0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}class Lr extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.lt(t,e,i):new nM(t,e,i):"array-contains"===e?new sM(t,i):"in"===e?new oM(t,i):"not-in"===e?new aM(t,i):"array-contains-any"===e?new cD(t,i):new Lr(t,e,i)}static lt(t,e,i){return"in"===e?new iM(t,i):new rM(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.ft(tc(e,this.value)):null!==e&&qa(this.value)===qa(e)&&this.ft(tc(e,this.value))}ft(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ht()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class nM extends Lr{constructor(t,e,i){super(t,e,i),this.key=ze.fromName(i.referenceValue)}matches(t){const e=ze.comparator(t.key,this.key);return this.ft(e)}}class iM extends Lr{constructor(t,e){super(t,"in",e),this.keys=lD(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class rM extends Lr{constructor(t,e){super(t,"not-in",e),this.keys=lD(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function lD(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>ze.fromName(i.referenceValue))}class sM extends Lr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return mm(e)&&gm(e.arrayValue,this.value)}}class oM extends Lr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&gm(this.value.arrayValue,e)}}class aM extends Lr{constructor(t,e){super(t,"not-in",e)}matches(t){if(gm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!gm(this.value.arrayValue,e)}}class cD extends Lr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!mm(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>gm(this.value.arrayValue,i))}}class ic{constructor(t,e){this.position=t,this.inclusive=e}}class Xf{constructor(t,e="asc"){this.field=t,this.dir=e}}function lM(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function r0(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],c=n.position[r];if(i=s.field.isKeyField()?ze.comparator(ze.fromName(c.referenceValue),e.key):tc(c,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function uD(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Wa(n.position[e],t.position[e]))return!1;return!0}class rc{constructor(t,e=null,i=[],r=[],s=null,c="F",d=null,g=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=g,this._t=null,this.wt=null}}function dD(n,t,e,i,r,s,c,d){return new rc(n,t,e,i,r,s,c,d)}function wu(n){return new rc(n)}function Yy(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Zy(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function ym(n){for(const t of n.filters)if(t.dt())return t.field;return null}function s0(n){return null!==n.collectionGroup}function Jf(n){const t=Ze(n);if(null===t._t){t._t=[];const e=ym(t),i=Zy(t);if(null!==e&&null===i)e.isKeyField()||t._t.push(new Xf(e)),t._t.push(new Xf(Ai.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t._t.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new Xf(Ai.keyField(),s))}}}return t._t}function Vr(n){const t=Ze(n);if(!t.wt)if("F"===t.limitType)t.wt=t0(t.path,t.collectionGroup,Jf(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of Jf(t))e.push(new Xf(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new ic(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ic(t.startAt.position,t.startAt.inclusive):null;t.wt=t0(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.wt}function Ky(n,t,e){return new rc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function ep(n,t){return _m(Vr(n),Vr(t))&&n.limitType===t.limitType}function ch(n){return`${bu(Vr(n))}|lt:${n.limitType}`}function Qy(n){return`Query(target=${function tM(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${Kf(i.value)}`;var i}).join(", ")}]`),zy(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>Kf(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>Kf(e)).join(",")),`Target(${t})`}(Vr(n))}; limitType=${n.limitType})`}function o0(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):ze.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,c){const d=r0(r,s,c);return r.inclusive?d<=0:d<0}(e.startAt,Jf(e),i)||e.endAt&&!function(r,s,c){const d=r0(r,s,c);return r.inclusive?d>=0:d>0}(e.endAt,Jf(e),i)));var e,i}function cM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function a0(n){return(t,e)=>{let i=!1;for(const r of Jf(n)){const s=l0(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function l0(n,t,e){const i=n.field.isKeyField()?ze.comparator(t.key,e.key):function(r,s,c){const d=s.data.field(r),g=c.data.field(r);return null!==d&&null!==g?tc(d,g):ht()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ht()}}function hD(n,t){if(n.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$y(t)?"-0":t}}function Xy(n){return{integerValue:""+n}}function fD(n,t){return XT(t)?Xy(t):hD(n,t)}class vm{constructor(){this._=void 0}}function c0(n,t,e){return n instanceof uh?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof Cu?gD(n,t):n instanceof dh?mD(n,t):function(i,r){const s=u0(i,r),c=d0(s)+d0(i.yt);return Xw(s)&&Xw(i.yt)?Xy(c):hD(i.It,c)}(n,t)}function pD(n,t,e){return n instanceof Cu?gD(n,t):n instanceof dh?mD(n,t):e}function u0(n,t){return n instanceof tp?Xw(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class uh extends vm{}class Cu extends vm{constructor(t){super(),this.elements=t}}function gD(n,t){const e=uM(t);for(const i of n.elements)e.some(r=>Wa(r,i))||e.push(i);return{arrayValue:{values:e}}}class dh extends vm{constructor(t){super(),this.elements=t}}function mD(n,t){let e=uM(t);for(const i of n.elements)e=e.filter(r=>!Wa(r,i));return{arrayValue:{values:e}}}class tp extends vm{constructor(t,e){super(),this.It=t,this.yt=e}}function d0(n){return yi(n.integerValue||n.doubleValue)}function uM(n){return mm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class np{constructor(t,e){this.field=t,this.transform=e}}class hM{constructor(t,e){this.version=t,this.transformResults=e}}class vi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new vi}static exists(t){return new vi(void 0,t)}static updateTime(t){return new vi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Jy(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class ev{}function _D(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Ya(n.key,vi.none()):new ip(n.key,n.data,vi.none());{const e=n.data,i=Sr.empty();let r=new Fn(Ai.comparator);for(let s of t.fields)if(!r.has(s)){let c=e.field(s);null===c&&s.length>1&&(s=s.popLast(),c=e.field(s)),null===c?i.delete(s):i.set(s,c),r=r.add(s)}return new sc(n.key,i,new uo(r.toArray()),vi.none())}}function yD(n,t,e){n instanceof ip?function(i,r,s){const c=i.value.clone(),d=wD(i.fieldTransforms,r,s.transformResults);c.setAll(d),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,t,e):n instanceof sc?function(i,r,s){if(!Jy(i.precondition,r))return void r.convertToUnknownDocument(s.version);const c=wD(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(bD(i)),d.setAll(c),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function bm(n,t,e,i){return n instanceof ip?function(r,s,c,d){if(!Jy(r.precondition,s))return c;const g=r.value.clone(),y=CD(r.fieldTransforms,d,s);return g.setAll(y),s.convertToFoundDocument(s.version,g).setHasLocalMutations(),null}(n,t,e,i):n instanceof sc?function(r,s,c,d){if(!Jy(r.precondition,s))return c;const g=CD(r.fieldTransforms,d,s),y=s.data;return y.setAll(bD(r)),y.setAll(g),s.convertToFoundDocument(s.version,y).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(C=>C.field))}(n,t,e,i):(c=e,Jy(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function fM(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=u0(i.transform,r||null);null!=s&&(null===e&&(e=Sr.empty()),e.set(i.field,s))}return e||null}function vD(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&nh(e,i,(r,s)=>function dM(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Cu&&i instanceof Cu||e instanceof dh&&i instanceof dh?nh(e.elements,i.elements,Wa):e instanceof tp&&i instanceof tp?Wa(e.yt,i.yt):e instanceof uh&&i instanceof uh);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class ip extends ev{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class sc extends ev{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function bD(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function wD(n,t,e){const i=new Map;Rt(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],c=s.transform,d=t.data.field(s.field);i.set(s.field,pD(c,d,e[r]))}return i}function CD(n,t,e){const i=new Map;for(const r of n){const s=r.transform,c=e.data.field(r.field);i.set(r.field,c0(s,c,t))}return i}class Ya extends ev{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tv extends ev{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ED{constructor(t){this.count=t}}var Bi,mn;function h0(n){switch(n){default:return ht();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function f0(n){if(void 0===n)return Vi("GRPC error has no .code"),ue.UNKNOWN;switch(n){case Bi.OK:return ue.OK;case Bi.CANCELLED:return ue.CANCELLED;case Bi.UNKNOWN:return ue.UNKNOWN;case Bi.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Bi.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Bi.INTERNAL:return ue.INTERNAL;case Bi.UNAVAILABLE:return ue.UNAVAILABLE;case Bi.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Bi.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Bi.NOT_FOUND:return ue.NOT_FOUND;case Bi.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Bi.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Bi.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Bi.ABORTED:return ue.ABORTED;case Bi.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Bi.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Bi.DATA_LOSS:return ue.DATA_LOSS;default:return ht()}}(mn=Bi||(Bi={}))[mn.OK=0]="OK",mn[mn.CANCELLED=1]="CANCELLED",mn[mn.UNKNOWN=2]="UNKNOWN",mn[mn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mn[mn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mn[mn.NOT_FOUND=5]="NOT_FOUND",mn[mn.ALREADY_EXISTS=6]="ALREADY_EXISTS",mn[mn.PERMISSION_DENIED=7]="PERMISSION_DENIED",mn[mn.UNAUTHENTICATED=16]="UNAUTHENTICATED",mn[mn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mn[mn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mn[mn.ABORTED=10]="ABORTED",mn[mn.OUT_OF_RANGE=11]="OUT_OF_RANGE",mn[mn.UNIMPLEMENTED=12]="UNIMPLEMENTED",mn[mn.INTERNAL=13]="INTERNAL",mn[mn.UNAVAILABLE=14]="UNAVAILABLE",mn[mn.DATA_LOSS=15]="DATA_LOSS";class Eu{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){rh(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return dm(this.inner)}size(){return this.innerSize}}const Z1=new _i(ze.comparator);function Es(){return Z1}const xD=new _i(ze.comparator);function wm(...n){let t=xD;for(const e of n)t=t.insert(e.key,e);return t}function DD(n){let t=xD;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Za(){return Cm()}function rp(){return Cm()}function Cm(){return new Eu(n=>n.toString(),(n,t)=>n.isEqual(t))}const p0=new _i(ze.comparator),Ka=new Fn(ze.comparator);function qt(...n){let t=Ka;for(const e of n)t=t.add(e);return t}const nv=new Fn(Ht);function xu(){return nv}class Em{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,xm.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Em(St.min(),r,xu(),Es(),qt())}}class xm{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new xm(i,e,qt(),qt(),qt())}}class iv{constructor(t,e,i,r){this.Tt=t,this.removedTargetIds=e,this.key=i,this.Et=r}}class Dm{constructor(t,e){this.targetId=t,this.At=e}}class Sm{constructor(t,e,i=ur.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class SD{constructor(){this.Rt=0,this.bt=m0(),this.Pt=ur.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(t){t.approximateByteSize()>0&&(this.Vt=!0,this.Pt=t)}xt(){let t=qt(),e=qt(),i=qt();return this.bt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ht()}}),new xm(this.Pt,this.vt,t,e,i)}Nt(){this.Vt=!1,this.bt=m0()}kt(t,e){this.Vt=!0,this.bt=this.bt.insert(t,e)}Ot(t){this.Vt=!0,this.bt=this.bt.remove(t)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class pM{constructor(t){this.Bt=t,this.Lt=new Map,this.Ut=Es(),this.qt=g0(),this.Kt=new Fn(Ht)}Gt(t){for(const e of t.Tt)t.Et&&t.Et.isFoundDocument()?this.Qt(e,t.Et):this.jt(e,t.key,t.Et);for(const e of t.removedTargetIds)this.jt(e,t.key,t.Et)}Wt(t){this.forEachTarget(t,e=>{const i=this.zt(e);switch(t.state){case 0:this.Ht(e)&&i.Ct(t.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(t.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(e);break;case 3:this.Ht(e)&&(i.$t(),i.Ct(t.resumeToken));break;case 4:this.Ht(e)&&(this.Jt(e),i.Ct(t.resumeToken));break;default:ht()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Lt.forEach((i,r)=>{this.Ht(r)&&e(r)})}Yt(t){const e=t.targetId,i=t.At.count,r=this.Xt(e);if(r){const s=r.target;if(Wy(s))if(0===i){const c=new ze(s.path);this.jt(e,c,Nn.newNoDocument(c,St.min()))}else Rt(1===i);else this.Zt(e)!==i&&(this.Jt(e),this.Kt=this.Kt.add(e))}}te(t){const e=new Map;this.Lt.forEach((s,c)=>{const d=this.Xt(c);if(d){if(s.current&&Wy(d.target)){const g=new ze(d.target.path);null!==this.Ut.get(g)||this.ee(c,g)||this.jt(c,g,Nn.newNoDocument(g,t))}s.Dt&&(e.set(c,s.xt()),s.Nt())}});let i=qt();this.qt.forEach((s,c)=>{let d=!0;c.forEachWhile(g=>{const y=this.Xt(g);return!y||2===y.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.Ut.forEach((s,c)=>c.setReadTime(t));const r=new Em(t,e,this.Kt,this.Ut,i);return this.Ut=Es(),this.qt=g0(),this.Kt=new Fn(Ht),r}Qt(t,e){if(!this.Ht(t))return;const i=this.ee(t,e.key)?2:0;this.zt(t).kt(e.key,i),this.Ut=this.Ut.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ne(e.key).add(t))}jt(t,e,i){if(!this.Ht(t))return;const r=this.zt(t);this.ee(t,e)?r.kt(e,1):r.Ot(e),this.qt=this.qt.insert(e,this.ne(e).delete(t)),i&&(this.Ut=this.Ut.insert(e,i))}removeTarget(t){this.Lt.delete(t)}Zt(t){const e=this.zt(t).xt();return this.Bt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Mt(t){this.zt(t).Mt()}zt(t){let e=this.Lt.get(t);return e||(e=new SD,this.Lt.set(t,e)),e}ne(t){let e=this.qt.get(t);return e||(e=new Fn(Ht),this.qt=this.qt.insert(t,e)),e}Ht(t){const e=null!==this.Xt(t);return e||Fe("WatchChangeAggregator","Detected inactive target",t),e}Xt(t){const e=this.Lt.get(t);return e&&e.St?null:this.Bt.se(t)}Jt(t){this.Lt.set(t,new SD),this.Bt.getRemoteKeysForTarget(t).forEach(e=>{this.jt(t,e,null)})}ee(t,e){return this.Bt.getRemoteKeysForTarget(t).has(e)}}function g0(){return new _i(ze.comparator)}function m0(){return new _i(ze.comparator)}const _0={asc:"ASCENDING",desc:"DESCENDING"},AD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class gM{constructor(t,e){this.databaseId=t,this.gt=e}}function Am(n,t){return n.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function mM(n,t){return n.gt?t.toBase64():t.toUint8Array()}function y0(n,t){return Am(n,t.toTimestamp())}function Ki(n){return Rt(!!n),St.fromTimestamp(function(t){const e=ec(t);return new ii(e.seconds,e.nanos)}(n))}function rv(n,t){return(e=n,new en(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function sv(n){const t=en.fromString(n);return Rt(lp(t)),t}function hh(n,t){return rv(n.databaseId,t.path)}function Qa(n,t){const e=sv(t);if(e.get(1)!==n.databaseId.projectId)throw new Re(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Re(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new ze(b0(e))}function v0(n,t){return rv(n.databaseId,t)}function ID(n){const t=sv(n);return 4===t.length?en.emptyPath():b0(t)}function Im(n){return new en(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function b0(n){return Rt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function ov(n,t,e){return{name:hh(n,t),fields:e.value.mapValue.fields}}function w0(n,t,e){const i=Qa(n,t.name),r=Ki(t.updateTime),s=new Sr({mapValue:{fields:t.fields}}),c=Nn.newFoundDocument(i,r,s);return e&&c.setHasCommittedMutations(),e?c.setHasCommittedMutations():c}function sp(n,t){let e;if(t instanceof ip)e={update:ov(n,t.key,t.value)};else if(t instanceof Ya)e={delete:hh(n,t.key)};else if(t instanceof sc)e={update:ov(n,t.key,t.data),updateMask:OD(t.fieldMask)};else{if(!(t instanceof tv))return ht();e={verify:hh(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const c=s.transform;if(c instanceof uh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Cu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof dh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof tp)return{fieldPath:s.field.canonicalString(),increment:c.yt};throw ht()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:y0(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ht()),e;var r}function C0(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?vi.updateTime(Ki(r.updateTime)):void 0!==r.exists?vi.exists(r.exists):vi.none():vi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,c){let d=null;"setToServerValue"in c?(Rt("REQUEST_TIME"===c.setToServerValue),d=new uh):"appendMissingElements"in c?d=new Cu(c.appendMissingElements.values||[]):"removeAllFromArray"in c?d=new dh(c.removeAllFromArray.values||[]):"increment"in c?d=new tp(s,c.increment):ht();const g=Ai.fromServerFormat(c.fieldPath);return new np(g,d)}(n,r)):[];var r;if(t.update){const r=Qa(n,t.update.name),s=new Sr({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=new uo((t.updateMask.fieldPaths||[]).map(y=>Ai.fromServerFormat(y)));return new sc(r,s,c,e,i)}return new ip(r,s,e,i)}if(t.delete){const r=Qa(n,t.delete);return new Ya(r,e)}if(t.verify){const r=Qa(n,t.verify);return new tv(r,e)}return ht()}function E0(n,t){return{documents:[v0(n,t.path)]}}function x0(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=v0(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=v0(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(g){if(0===g.length)return;const y=g.map(C=>function(D){if("=="===D.op){if(nD(D.value))return{unaryFilter:{field:ap(D.field),op:"IS_NAN"}};if(Jw(D.value))return{unaryFilter:{field:ap(D.field),op:"IS_NULL"}}}else if("!="===D.op){if(nD(D.value))return{unaryFilter:{field:ap(D.field),op:"IS_NOT_NAN"}};if(Jw(D.value))return{unaryFilter:{field:ap(D.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ap(D.field),op:yM(D.op),value:D.value}}}(C));return 1===y.length?y[0]:{compositeFilter:{op:"AND",filters:y}}}(t.filters);r&&(e.structuredQuery.where=r);const s=function(g){if(0!==g.length)return g.map(y=>{return{field:ap((C=y).field),direction:op(C.dir)};var C})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const c=(y=t.limit,n.gt||zy(y)?y:{value:y});var y,d,g;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(d=t.startAt).inclusive,values:d.position}),t.endAt&&(e.structuredQuery.endAt={before:!(g=t.endAt).inclusive,values:g.position}),e}function D0(n){let t=ID(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Rt(1===i);const C=e.from[0];C.allDescendants?r=C.collectionId:t=t.child(C.collectionId)}let s=[];e.where&&(s=Kr(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(C=>{return new Xf(Tm((D=C).field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let d=null;e.limit&&(d=function(C){let D;return D="object"==typeof C?C.value:C,zy(D)?null:D}(e.limit));let g=null;var C;e.startAt&&(g=new ic((C=e.startAt).values||[],!!C.before));let y=null;return e.endAt&&(y=function(C){return new ic(C.values||[],!C.before)}(e.endAt)),dD(t,r,c,s,d,"F",g,y)}function Kr(n){return n?void 0!==n.unaryFilter?[RD(n)]:void 0!==n.fieldFilter?[K1(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>Kr(t)).reduce((t,e)=>t.concat(e)):ht():[]}function op(n){return _0[n]}function yM(n){return AD[n]}function ap(n){return{fieldPath:n.canonicalString()}}function Tm(n){return Ai.fromServerFormat(n.fieldPath)}function K1(n){return Lr.create(Tm(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ht()}}(n.fieldFilter.op),n.fieldFilter.value)}function RD(n){switch(n.unaryFilter.op){case"IS_NAN":const t=Tm(n.unaryFilter.field);return Lr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=Tm(n.unaryFilter.field);return Lr.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Tm(n.unaryFilter.field);return Lr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Tm(n.unaryFilter.field);return Lr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ht()}}function OD(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function lp(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function xs(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=PD(t)),t=S0(n.get(e),t);return PD(t)}function S0(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function PD(n){return n+"\x01\x01"}function Qo(n){const t=n.length;if(Rt(t>=2),2===t)return Rt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),en.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const c=n.indexOf("\x01",s);switch((c<0||c>e)&&ht(),n.charAt(c+1)){case"\x01":const d=n.substring(s,c);let g;0===r.length?g=d:(r+=d,g=r,r=""),i.push(g);break;case"\x10":r+=n.substring(s,c),r+="\0";break;case"\x11":r+=n.substring(s,c+1);break;default:ht()}s=c+2}return new en(i)}const FD=["userId","batchId"];function av(n,t){return[n,xs(t)]}function ND(n,t,e){return[n,xs(t),e]}const A0={},LD=["prefixPath","collectionGroup","readTime","documentId"],VD=["prefixPath","collectionGroup","documentId"],lv=["collectionGroup","readTime","prefixPath","documentId"],I0=["canonicalId","targetId"],Q1=["targetId","path"],BD=["path","targetId"],vM=["collectionId","parent"],UD=["indexId","uid"],cp=["uid","sequenceNumber"],bM=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],HD=["indexId","uid","orderedDocumentKey"],T0=["userId","collectionPath","documentId"],X1=["userId","collectionPath","largestBatchId"],wM=["userId","collectionGroup","largestBatchId"],CM=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],EM=[...CM,"documentOverlays"],GD=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],jD=GD,zD=[...jD,"indexConfiguration","indexState","indexEntries"];class cv extends lm{constructor(t,e){super(),this.ie=t,this.currentSequenceNumber=e}}function Ar(n,t){const e=Ze(n);return Ro.M(e.ie,t)}class uv{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&yD(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=bm(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=bm(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=rp();return this.mutations.forEach(r=>{const s=t.get(r.key),c=s.overlayedDocument;let d=this.applyToLocalView(c,s.mutatedFields);d=e.has(r.key)?null:d;const g=_D(c,d);null!==g&&i.set(r.key,g),c.isValidDocument()||c.convertToNoDocument(St.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),qt())}isEqual(t){return this.batchId===t.batchId&&nh(this.mutations,t.mutations,(e,i)=>vD(e,i))&&nh(this.baseMutations,t.baseMutations,(e,i)=>vD(e,i))}}class dv{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Rt(t.mutations.length===i.length);let r=p0;const s=t.mutations;for(let c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new dv(t,e,i,r)}}class M0{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Du{constructor(t,e,i,r,s=St.min(),c=St.min(),d=ur.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d}withSequenceNumber(t){return new Du(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Du(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Du(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class k0{constructor(t){this.re=t}}function R0(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Mm(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:hh(r=n.re,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:Am(r,s.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Su(t.version)};else{if(!t.isUnknownDocument())return ht();i.unknownDocument={path:e.path.toArray(),version:Su(t.version)}}var r,s;return i}function Mm(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Su(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Au(n){const t=new ii(n.seconds,n.nanoseconds);return St.fromTimestamp(t)}function fh(n,t){const e=(t.baseMutations||[]).map(s=>C0(n.re,s));for(let s=0;s<t.mutations.length-1;++s){const c=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(c.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const i=t.mutations.map(s=>C0(n.re,s)),r=ii.fromMillis(t.localWriteTimeMs);return new uv(t.batchId,r,e,i)}function km(n){const t=Au(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Au(n.lastLimboFreeSnapshotVersion):St.min();let i;var r;return void 0!==n.query.documents?(Rt(1===(r=n.query).documents.length),i=Vr(wu(ID(r.documents[0])))):i=Vr(D0(n.query)),new Du(i,n.targetId,0,n.lastListenSequenceNumber,t,e,ur.fromBase64String(n.resumeToken))}function DM(n,t){const e=Su(t.snapshotVersion),i=Su(t.lastLimboFreeSnapshotVersion);let r;r=Wy(t.target)?E0(n.re,t.target):x0(n.re,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:bu(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function hv(n){const t=D0({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Ky(t,t.limit,"L"):t}function $D(n,t){return new M0(t.largestBatchId,C0(n.re,t.overlayMutation))}function SM(n,t){const e=t.path.lastSegment();return[n,xs(t.path.popLast()),e]}function AM(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Su(i.readTime),documentKey:xs(i.documentKey.path),largestBatchId:i.largestBatchId}}class J1{getBundleMetadata(t,e){return IM(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Au(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return IM(t).put({bundleId:(i=e).id,createTime:Su(Ki(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return TM(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:hv(r.bundledQuery),readTime:Au(r.readTime)};var r})}saveNamedQuery(t,e){return TM(t).put({name:(i=e).name,readTime:Su(Ki(i.readTime)),bundledQuery:i.bundledQuery});var i}}function IM(n){return Ar(n,"bundles")}function TM(n){return Ar(n,"namedQueries")}class O0{constructor(t,e){this.It=t,this.userId=e}static oe(t,e){return new O0(t,e.uid||"")}getOverlay(t,e){return fv(t).get(SM(this.userId,e)).next(i=>i?$D(this.It,i):null)}getOverlays(t,e){const i=Za();return le.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,c)=>{const d=new M0(e,c);r.push(this.ue(t,d))}),le.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(c=>r.add(xs(c.getCollectionPath())));const s=[];return r.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);s.push(fv(t).Y("collectionPathOverlayIndex",d))}),le.waitFor(s)}getOverlaysForCollection(t,e,i){const r=Za(),s=xs(e),c=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return fv(t).W("collectionPathOverlayIndex",c).next(d=>{for(const g of d){const y=$D(this.It,g);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=Za();let c;const d=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return fv(t).Z({index:"collectionGroupOverlayIndex",range:d},(g,y,C)=>{const D=$D(this.It,y);s.size()<r||D.largestBatchId===c?(s.set(D.getKey(),D),c=D.largestBatchId):C.done()}).next(()=>s)}ue(t,e){return fv(t).put(function(i,r,s){const[c,d,g]=SM(r,s.mutation.key);return{userId:r,collectionPath:d,documentId:g,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:sp(i.re,s.mutation)}}(this.It,this.userId,e))}}function fv(n){return Ar(n,"documentOverlays")}class Xa{constructor(){}ce(t,e){this.ae(t,e),e.he()}ae(t,e){if("nullValue"in t)this.le(e,5);else if("booleanValue"in t)this.le(e,10),e.fe(t.booleanValue?1:0);else if("integerValue"in t)this.le(e,15),e.fe(yi(t.integerValue));else if("doubleValue"in t){const i=yi(t.doubleValue);isNaN(i)?this.le(e,13):(this.le(e,15),$y(i)?e.fe(0):e.fe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.le(e,20),"string"==typeof i?e.de(i):(e.de(`${i.seconds||""}`),e.fe(i.nanos||0))}else if("stringValue"in t)this._e(t.stringValue,e),this.we(e);else if("bytesValue"in t)this.le(e,30),e.me(sh(t.bytesValue)),this.we(e);else if("referenceValue"in t)this.ge(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.le(e,45),e.fe(i.latitude||0),e.fe(i.longitude||0)}else"mapValue"in t?iD(t)?this.le(e,Number.MAX_SAFE_INTEGER):(this.ye(t.mapValue,e),this.we(e)):"arrayValue"in t?(this.pe(t.arrayValue,e),this.we(e)):ht()}_e(t,e){this.le(e,25),this.Ie(t,e)}Ie(t,e){e.de(t)}ye(t,e){const i=t.fields||{};this.le(e,55);for(const r of Object.keys(i))this._e(r,e),this.ae(i[r],e)}pe(t,e){const i=t.values||[];this.le(e,50);for(const r of i)this.ae(r,e)}ge(t,e){this.le(e,37),ze.fromName(t).path.forEach(i=>{this.le(e,60),this.Ie(i,e)})}le(t,e){t.fe(e)}we(t){t.fe(2)}}function eF(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function P0(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=eF(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}Xa.Te=new Xa;class pv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Pe(i.value),i=e.next();this.ve()}Ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=e.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=e.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(t){const e=this.Ce(t),i=P0(e);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Ne(t){const e=this.Ce(t),i=P0(e);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(t){this.xe(t.length),this.buffer.set(t,this.position),this.position+=t.length}$e(){return this.buffer.slice(0,this.position)}Ce(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ae(t){const e=255&t;0===e?(this.Oe(0),this.Oe(255)):255===e?(this.Oe(255),this.Oe(0)):this.Oe(e)}Pe(t){const e=255&t;0===e?(this.Fe(0),this.Fe(255)):255===e?(this.Fe(255),this.Fe(0)):this.Fe(t)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(t){this.xe(1),this.buffer[this.position++]=t}Fe(t){this.xe(1),this.buffer[this.position++]=~t}xe(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class qD{constructor(t){this.Be=t}me(t){this.Be.Ee(t)}de(t){this.Be.Ve(t)}fe(t){this.Be.De(t)}he(){this.Be.ke()}}class WD{constructor(t){this.Be=t}me(t){this.Be.be(t)}de(t){this.Be.Se(t)}fe(t){this.Be.Ne(t)}he(){this.Be.Me()}}class gv{constructor(){this.Be=new pv,this.Le=new qD(this.Be),this.Ue=new WD(this.Be)}seed(t){this.Be.seed(t)}qe(t){return 0===t?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class oc{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new oc(this.indexId,this.documentKey,this.arrayValue,i)}}function Iu(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=YD(n.arrayValue,t.arrayValue),0!==e?e:(e=YD(n.directionalValue,t.directionalValue),0!==e?e:ze.comparator(n.documentKey,t.documentKey)))}function YD(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class ZD{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];for(const e of t.filters){const i=e;i.dt()?this.je=i:this.Qe.push(i)}}We(t){const e=om(t);if(void 0!==e&&!this.ze(e))return!1;const i=qf(t);let r=0,s=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const c=i[r];if(!this.He(this.je,c)||!this.Je(this.Ge[s++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(s>=this.Ge.length||!this.Je(this.Ge[s++],c))return!1}return!0}ze(t){for(const e of this.Qe)if(this.He(e,t))return!0;return!1}He(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Je(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class tF{constructor(){this.Ye=new F0}addToCollectionParentIndex(t,e){return this.Ye.add(e),le.resolve()}getCollectionParents(t,e){return le.resolve(this.Ye.getEntries(e))}addFieldIndex(t,e){return le.resolve()}deleteFieldIndex(t,e){return le.resolve()}getDocumentsMatchingTarget(t,e){return le.resolve(null)}getIndexType(t,e){return le.resolve(0)}getFieldIndexes(t,e){return le.resolve([])}getNextCollectionGroupToUpdate(t){return le.resolve(null)}getMinOffset(t,e){return le.resolve(co.min())}getMinOffsetFromCollectionGroup(t,e){return le.resolve(co.min())}updateCollectionGroup(t,e,i){return le.resolve()}updateIndexEntries(t,e){return le.resolve()}}class F0{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Fn(en.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Fn(en.comparator)).toArray()}}const mv=new Uint8Array(0);class MM{constructor(t,e){this.user=t,this.databaseId=e,this.Xe=new F0,this.Ze=new Eu(i=>bu(i),(i,r)=>_m(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Xe.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Xe.add(e)});const s={collectionId:i,parent:xs(r)};return Rm(t).put(s)}return le.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[Yw(e),""],!1,!0);return Rm(t).W(r).next(s=>{for(const c of s){if(c.collectionId!==e)break;i.push(Qo(c.parent))}return i})}addFieldIndex(t,e){const i=N0(t),r={indexId:(c=e).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var c;delete r.indexId;const s=i.add(r);if(e.indexState){const c=_v(t);return s.next(d=>{c.put(AM(d,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=N0(t),r=_v(t),s=Om(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=Om(t);let r=!0;const s=new Map;return le.forEach(this.tn(e),c=>this.en(t,c).next(d=>{r&&(r=!!d),s.set(c,d)})).next(()=>{if(r){let c=qt();const d=[];return le.forEach(s,(g,y)=>{var C;Fe("IndexedDbIndexManager",`Using index ${C=g,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(tt=>`${tt.fieldPath}:${tt.kind}`).join(",")}`} to execute ${bu(e)}`);const D=function(tt,pt){const It=om(pt);if(void 0===It)return null;for(const Nt of Qf(tt,It.fieldPath))switch(Nt.op){case"array-contains-any":return Nt.value.arrayValue.values||[];case"array-contains":return[Nt.value]}return null}(y,g),k=function(tt,pt){const It=new Map;for(const Nt of qf(pt))for(const Cn of Qf(tt,Nt.fieldPath))switch(Cn.op){case"==":case"in":It.set(Nt.fieldPath.canonicalString(),Cn.value);break;case"not-in":case"!=":return It.set(Nt.fieldPath.canonicalString(),Cn.value),Array.from(It.values())}return null}(y,g),P=function(tt,pt){const It=[];let Nt=!0;for(const Cn of qf(pt)){const _o=0===Cn.kind?aD(tt,Cn.fieldPath,tt.startAt):n0(tt,Cn.fieldPath,tt.startAt);It.push(_o.value),Nt&&(Nt=_o.inclusive)}return new ic(It,Nt)}(y,g),V=function(tt,pt){const It=[];let Nt=!0;for(const Cn of qf(pt)){const _o=0===Cn.kind?n0(tt,Cn.fieldPath,tt.endAt):aD(tt,Cn.fieldPath,tt.endAt);It.push(_o.value),Nt&&(Nt=_o.inclusive)}return new ic(It,Nt)}(y,g),$=this.nn(g,y,P),ee=this.nn(g,y,V),Se=this.sn(g,y,k),$e=this.rn(g.indexId,D,$,P.inclusive,ee,V.inclusive,Se);return le.forEach($e,tt=>i.J(tt,e.limit).next(pt=>{pt.forEach(It=>{const Nt=ze.fromSegments(It.documentKey);c.has(Nt)||(c=c.add(Nt),d.push(Nt))})}))}).next(()=>d)}return le.resolve(null)})}tn(t){let e=this.Ze.get(t);return e||(e=[t],this.Ze.set(t,e),e)}rn(t,e,i,r,s,c,d){const g=(null!=e?e.length:1)*Math.max(i.length,s.length),y=g/(null!=e?e.length:1),C=[];for(let D=0;D<g;++D){const k=e?this.on(e[D/y]):mv,P=this.un(t,k,i[D%y],r),V=this.cn(t,k,s[D%y],c),$=d.map(ee=>this.un(t,k,ee,!0));C.push(...this.createRange(P,V,$))}return C}un(t,e,i,r){const s=new oc(t,ze.empty(),e,i);return r?s:s.Ke()}cn(t,e,i,r){const s=new oc(t,ze.empty(),e,i);return r?s.Ke():s}en(t,e){const i=new ZD(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let c=null;for(const d of s)i.We(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c})}getIndexType(t,e){let i=2;return le.forEach(this.tn(e),r=>this.en(t,r).next(s=>{s?0!==i&&s.fields.length<function(c){let d=new Fn(Ai.comparator),g=!1;for(const y of c.filters){const C=y;C.field.isKeyField()||("array-contains"===C.op||"array-contains-any"===C.op?g=!0:d=d.add(C.field))}for(const y of c.orderBy)y.field.isKeyField()||(d=d.add(y.field));return d.size+(g?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(t,e){const i=new gv;for(const r of qf(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const c=i.qe(r.kind);Xa.Te.ce(s,c)}return i.$e()}on(t){const e=new gv;return Xa.Te.ce(t,e.qe(0)),e.$e()}hn(t,e){const i=new gv;return Xa.Te.ce(lh(this.databaseId,e),i.qe(function(r){const s=qf(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.$e()}sn(t,e,i){if(null===i)return[];let r=[];r.push(new gv);let s=0;for(const c of qf(t)){const d=i[s++];for(const g of r)if(this.ln(e,c.fieldPath)&&mm(d))r=this.fn(r,c,d);else{const y=g.qe(c.kind);Xa.Te.ce(d,y)}}return this.dn(r)}nn(t,e,i){return this.sn(t,e,i.position)}dn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].$e();return e}fn(t,e,i){const r=[...t],s=[];for(const c of i.arrayValue.values||[])for(const d of r){const g=new gv;g.seed(d.$e()),Xa.Te.ce(c,g.qe(e.kind)),s.push(g)}return s}ln(t,e){return!!t.filters.find(i=>i instanceof Lr&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=N0(t),r=_v(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(s=>{const c=[];return le.forEach(s,d=>r.get([d.indexId,this.uid]).next(g=>{c.push(function(y,C){const D=C?new yt(C.sequenceNumber,new co(Au(C.readTime),new ze(Qo(C.documentKey)),C.largestBatchId)):yt.empty(),k=y.fields.map(([P,V])=>new am(Ai.fromServerFormat(P),V));return new Zw(y.indexId,y.collectionGroup,k,D)}(d,g))})).next(()=>c)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Ht(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=N0(t),s=_v(t);return this._n(t).next(c=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(d=>le.forEach(d,g=>s.put(AM(g.indexId,this.user,c,i)))))}updateIndexEntries(t,e){const i=new Map;return le.forEach(e,(r,s)=>{const c=i.get(r.collectionGroup);return(c?le.resolve(c):this.getFieldIndexes(t,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),le.forEach(d,g=>this.wn(t,r,g).next(y=>{const C=this.mn(s,g);return y.isEqual(C)?le.resolve():this.gn(t,s,g,y,C)}))))})}yn(t,e,i,r){return Om(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,e.key),documentKey:e.key.path.toArray()})}pn(t,e,i,r){return Om(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,e.key),e.key.path.toArray()])}wn(t,e,i){const r=Om(t);let s=new Fn(Iu);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,e)])},(c,d)=>{s=s.add(new oc(i.indexId,e,d.arrayValue,d.directionalValue))}).next(()=>s)}mn(t,e){let i=new Fn(Iu);const r=this.an(e,t);if(null==r)return i;const s=om(e);if(null!=s){const c=t.data.field(s.fieldPath);if(mm(c))for(const d of c.arrayValue.values||[])i=i.add(new oc(e.indexId,t.key,this.on(d),r))}else i=i.add(new oc(e.indexId,t.key,mv,r));return i}gn(t,e,i,r,s){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const c=[];return function(d,g,y,C,D){const k=d.getIterator(),P=g.getIterator();let V=$a(k),$=$a(P);for(;V||$;){let ee=!1,Se=!1;if(V&&$){const $e=y(V,$);$e<0?Se=!0:$e>0&&(ee=!0)}else null!=V?Se=!0:ee=!0;ee?(C($),$=$a(P)):Se?(D(V),V=$a(k)):(V=$a(k),$=$a(P))}}(r,s,Iu,d=>{c.push(this.yn(t,e,i,d))},d=>{c.push(this.pn(t,e,i,d))}),le.waitFor(c)}_n(t){let e=1;return _v(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((c,d)=>Iu(c,d)).filter((c,d,g)=>!d||0!==Iu(c,g[d-1]));const r=[];r.push(t);for(const c of i){const d=Iu(c,t),g=Iu(c,e);if(0===d)r[0]=t.Ke();else if(d>0&&g<0)r.push(c),r.push(c.Ke());else if(g>0)break}r.push(e);const s=[];for(let c=0;c<r.length;c+=2)s.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,mv,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,mv,[]]));return s}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(kM)}getMinOffset(t,e){return le.mapArray(this.tn(e),i=>this.en(t,i).next(r=>r||ht())).next(kM)}}function Rm(n){return Ar(n,"collectionParents")}function Om(n){return Ar(n,"indexEntries")}function N0(n){return Ar(n,"indexConfiguration")}function _v(n){return Ar(n,"indexState")}function kM(n){Rt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;yu(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new co(t.readTime,t.documentKey,e)}const KD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class qs{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new qs(t,qs.DEFAULT_COLLECTION_PERCENTILE,qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function QD(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],c=IDBKeyRange.only(e.batchId);let d=0;const g=i.Z({range:c},(C,D,k)=>(d++,k.delete()));s.push(g.next(()=>{Rt(1===d)}));const y=[];for(const C of e.mutations){const D=ND(t,C.key.path,e.batchId);s.push(r.delete(D)),y.push(C.key)}return le.waitFor(s).next(()=>y)}function L0(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ht();t=n.noDocument}return JSON.stringify(t).length}qs.DEFAULT_COLLECTION_PERCENTILE=10,qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qs.DEFAULT=new qs(41943040,qs.DEFAULT_COLLECTION_PERCENTILE,qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qs.DISABLED=new qs(-1,0,0);class yv{constructor(t,e,i,r){this.userId=t,this.It=e,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(t,e,i,r){Rt(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new yv(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ac(t).Z({index:"userMutationsIndex",range:i},(r,s,c)=>{e=!1,c.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=Pm(t),c=ac(t);return c.add({}).next(d=>{Rt("number"==typeof d);const g=new uv(d,e,i,r),y=function(k,P,V){const $=V.baseMutations.map(Se=>sp(k.re,Se)),ee=V.mutations.map(Se=>sp(k.re,Se));return{userId:P,batchId:V.batchId,localWriteTimeMs:V.localWriteTime.toMillis(),baseMutations:$,mutations:ee}}(this.It,this.userId,g),C=[];let D=new Fn((k,P)=>Ht(k.canonicalString(),P.canonicalString()));for(const k of r){const P=ND(this.userId,k.key.path,d);D=D.add(k.key.path.popLast()),C.push(c.put(y)),C.push(s.put(P,A0))}return D.forEach(k=>{C.push(this.indexManager.addToCollectionParentIndex(t,k))}),t.addOnCommittedListener(()=>{this.In[d]=g.keys()}),le.waitFor(C).next(()=>g)})}lookupMutationBatch(t,e){return ac(t).get(e).next(i=>i?(Rt(i.userId===this.userId),fh(this.It,i)):null)}Tn(t,e){return this.In[e]?le.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.In[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return ac(t).Z({index:"userMutationsIndex",range:r},(c,d,g)=>{d.userId===this.userId&&(Rt(d.batchId>=i),s=fh(this.It,d)),g.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return ac(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(r,s,c)=>{i=s.batchId,c.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ac(t).W("userMutationsIndex",e).next(i=>i.map(r=>fh(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=av(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return Pm(t).Z({range:r},(c,d,g)=>{const[y,C,D]=c,k=Qo(C);if(y===this.userId&&e.path.isEqual(k))return ac(t).get(D).next(P=>{if(!P)throw ht();Rt(P.userId===this.userId),s.push(fh(this.It,P))});g.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Fn(Ht);const r=[];return e.forEach(s=>{const c=av(this.userId,s.path),d=IDBKeyRange.lowerBound(c),g=Pm(t).Z({range:d},(y,C,D)=>{const[k,P,V]=y,$=Qo(P);k===this.userId&&s.path.isEqual($)?i=i.add(V):D.done()});r.push(g)}),le.waitFor(r).next(()=>this.En(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=av(this.userId,i),c=IDBKeyRange.lowerBound(s);let d=new Fn(Ht);return Pm(t).Z({range:c},(g,y,C)=>{const[D,k,P]=g,V=Qo(k);D===this.userId&&i.isPrefixOf(V)?V.length===r&&(d=d.add(P)):C.done()}).next(()=>this.En(t,d))}En(t,e){const i=[],r=[];return e.forEach(s=>{r.push(ac(t).get(s).next(c=>{if(null===c)throw ht();Rt(c.userId===this.userId),i.push(fh(this.It,c))}))}),le.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return QD(t.ie,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),le.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return le.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Pm(t).Z({range:i},(s,c,d)=>{if(s[0]===this.userId){const g=Qo(s[1]);r.push(g)}else d.done()}).next(()=>{Rt(0===r.length)})})}containsKey(t,e){return V0(t,this.userId,e)}Rn(t){return Oo(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function V0(n,t,e){const i=av(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let c=!1;return Pm(n).Z({range:s,X:!0},(d,g,y)=>{const[C,D,k]=d;C===t&&D===r&&(c=!0),y.done()}).next(()=>c)}function ac(n){return Ar(n,"mutations")}function Pm(n){return Ar(n,"documentMutations")}function Oo(n){return Ar(n,"mutationQueues")}class ph{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new ph(0)}static vn(){return new ph(-1)}}class B0{constructor(t,e){this.referenceDelegate=t,this.It=e}allocateTargetId(t){return this.Vn(t).next(e=>{const i=new ph(e.highestTargetId);return e.highestTargetId=i.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>St.fromTimestamp(new ii(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Vn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Sn(t,r)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(i=>(i.targetCount+=1,this.Cn(e,i),this.Sn(t,i))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>up(t).delete(e.targetId)).next(()=>this.Vn(t)).next(i=>(Rt(i.targetCount>0),i.targetCount-=1,this.Sn(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return up(t).Z((c,d)=>{const g=km(d);g.sequenceNumber<=e&&null===i.get(g.targetId)&&(r++,s.push(this.removeTargetData(t,g)))}).next(()=>le.waitFor(s)).next(()=>r)}forEachTarget(t,e){return up(t).Z((i,r)=>{const s=km(r);e(s)})}Vn(t){return RM(t).get("targetGlobalKey").next(e=>(Rt(null!==e),e))}Sn(t,e){return RM(t).put("targetGlobalKey",e)}Dn(t,e){return up(t).put(DM(this.It,e))}Cn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=bu(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return up(t).Z({range:r,index:"queryTargetsIndex"},(c,d,g)=>{const y=km(d);_m(e,y.target)&&(s=y,g.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=dr(t);return e.forEach(c=>{const d=xs(c.path);r.push(s.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(t,i,c))}),le.waitFor(r)}removeMatchingKeys(t,e,i){const r=dr(t);return le.forEach(e,s=>{const c=xs(s.path);return le.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=dr(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=dr(t);let s=qt();return r.Z({range:i,X:!0},(c,d,g)=>{const y=Qo(c[1]),C=new ze(y);s=s.add(C)}).next(()=>s)}containsKey(t,e){const i=xs(e.path),r=IDBKeyRange.bound([i],[Yw(i)],!1,!0);let s=0;return dr(t).Z({index:"documentTargetsIndex",X:!0,range:r},([c,d],g,y)=>{0!==c&&(s++,y.done())}).next(()=>s>0)}se(t,e){return up(t).get(e).next(i=>i?km(i):null)}}function up(n){return Ar(n,"targets")}function RM(n){return Ar(n,"targetGlobal")}function dr(n){return Ar(n,"targetDocuments")}function XD([n,t],[e,i]){const r=Ht(n,e);return 0===r?Ht(t,i):r}class U0{constructor(t){this.xn=t,this.buffer=new Fn(XD),this.Nn=0}kn(){return++this.Nn}On(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();XD(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class OM{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(t){var e=this;Fe("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,ve.Z)(function*(){e.Mn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Jl(i)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Ko(i)}yield e.Fn(3e5)}))}}class PM{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return le.resolve($s.at);const i=new U0(e);return this.$n.forEachTarget(t,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(t,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.$n.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(KD)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),KD):this.Un(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}Un(t,e){let i,r,s,c,d,g,y;const C=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),r=this.params.maximumSequenceNumbersToCollect):r=D,c=Date.now(),this.nthSequenceNumber(t,r))).next(D=>(i=D,d=Date.now(),this.removeTargets(t,i,e))).next(D=>(s=D,g=Date.now(),this.removeOrphanedDocuments(t,i))).next(D=>(y=Date.now(),Gy()<=Ua.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-C}ms\n\tDetermined least recently used ${r} in `+(d-c)+`ms\n\tRemoved ${s} targets in `+(g-d)+`ms\n\tRemoved ${D} documents in `+(y-g)+`ms\nTotal Duration: ${y-C}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:D})))}}class H0{constructor(t,e){this.db=t,this.garbageCollector=new PM(this,e)}Bn(t){const e=this.qn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}qn(t){let e=0;return this.Ln(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(i,r)=>e(r))}addReference(t,e,i){return Fm(t,i)}removeReference(t,e,i){return Fm(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return Fm(t,e)}Gn(t,e){return function(i,r){let s=!1;return Oo(i).tt(c=>V0(i,c,r).next(d=>(d&&(s=!0),le.resolve(!d)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Kn(t,(c,d)=>{if(d<=e){const g=this.Gn(t,c).next(y=>{if(!y)return s++,i.getEntry(t,c).next(()=>(i.removeEntry(c,St.min()),dr(t).delete([0,xs(c.path)])))});r.push(g)}}).next(()=>le.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return Fm(t,e)}Kn(t,e){const i=dr(t);let r,s=$s.at;return i.Z({index:"documentTargetsIndex"},([c,d],{path:g,sequenceNumber:y})=>{0===c?(s!==$s.at&&e(new ze(Qo(r)),s),s=y,r=g):s=$s.at}).next(()=>{s!==$s.at&&e(new ze(Qo(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Fm(n,t){return dr(n).put((i=n.currentSequenceNumber,{targetId:0,path:xs(t.path),sequenceNumber:i}));var i}class G0{constructor(){this.changes=new Eu(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Nn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?le.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class FM{constructor(t){this.It=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Tu(t).put(i)}removeEntry(t,e,i){return Tu(t).delete(function(r,s){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Mm(s),c[c.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Qn(t,i)))}getEntry(t,e){let i=Nn.newInvalidDocument(e);return Tu(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Nm(e))},(r,s)=>{i=this.jn(e,s)}).next(()=>i)}Wn(t,e){let i={size:0,document:Nn.newInvalidDocument(e)};return Tu(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Nm(e))},(r,s)=>{i={document:this.jn(e,s),size:L0(s)}}).next(()=>i)}getEntries(t,e){let i=Es();return this.zn(t,e,(r,s)=>{const c=this.jn(r,s);i=i.insert(r,c)}).next(()=>i)}Hn(t,e){let i=Es(),r=new _i(ze.comparator);return this.zn(t,e,(s,c)=>{const d=this.jn(s,c);i=i.insert(s,d),r=r.insert(s,L0(c))}).next(()=>({documents:i,Jn:r}))}zn(t,e,i){if(e.isEmpty())return le.resolve();let r=new Fn(lc);e.forEach(g=>r=r.add(g));const s=IDBKeyRange.bound(Nm(r.first()),Nm(r.last())),c=r.getIterator();let d=c.getNext();return Tu(t).Z({index:"documentKeyIndex",range:s},(g,y,C)=>{const D=ze.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;d&&lc(d,D)<0;)i(d,null),d=c.getNext();d&&d.isEqual(D)&&(i(d,y),d=c.hasNext()?c.getNext():null),d?C.j(Nm(d)):C.done()}).next(()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),Mm(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Tu(t).W(IDBKeyRange.bound(r,s,!0)).next(c=>{let d=Es();for(const g of c){const y=this.jn(ze.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);d=d.insert(y.key,y)}return d})}getAllFromCollectionGroup(t,e,i,r){let s=Es();const c=vv(e,i),d=vv(e,co.max());return Tu(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,d,!0)},(g,y,C)=>{const D=this.jn(ze.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);s=s.insert(D.key,D),s.size===r&&C.done()}).next(()=>s)}newChangeBuffer(t){return new JD(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return eS(t).get("remoteDocumentGlobalKey").next(e=>(Rt(!!e),e))}Qn(t,e){return eS(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const i=function xM(n,t){let e;if(t.document)e=w0(n.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=ze.fromSegments(t.noDocument.path),r=Au(t.noDocument.readTime);e=Nn.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ht();{const i=ze.fromSegments(t.unknownDocument.path),r=Au(t.unknownDocument.version);e=Nn.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new ii(i[0],i[1]);return St.fromTimestamp(r)}(t.readTime)),e}(this.It,e);if(!i.isNoDocument()||!i.version.isEqual(St.min()))return i}return Nn.newInvalidDocument(t)}}function j0(n){return new FM(n)}class JD extends G0{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new Eu(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Fn((s,c)=>Ht(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const d=this.Xn.get(s);if(e.push(this.Yn.removeEntry(t,s,d.readTime)),c.isValidDocument()){const g=R0(this.Yn.It,c);r=r.add(s.path.popLast());const y=L0(g);i+=y-d.size,e.push(this.Yn.addEntry(t,s,g))}else if(i-=d.size,this.trackRemovals){const g=R0(this.Yn.It,c.convertToNoDocument(St.min()));e.push(this.Yn.addEntry(t,s,g))}}),r.forEach(s=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.Yn.updateMetadata(t,i)),le.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(i=>(this.Xn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:i,Jn:r})=>(r.forEach((s,c)=>{this.Xn.set(s,{size:c,readTime:i.get(s).readTime})}),i))}}function eS(n){return Ar(n,"remoteDocumentGlobal")}function Tu(n){return Ar(n,"remoteDocumentsV14")}function Nm(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function vv(n,t){const e=t.documentKey.path.toArray();return[n,Mm(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function lc(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=Ht(e[s],i[s]),r)return r;return r=Ht(e.length,i.length),r||(r=Ht(e[e.length-2],i[i.length-2]),r||Ht(e[e.length-1],i[i.length-1]))}class tS{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class bv{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&bm(i.mutation,r,uo.empty(),ii.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,qt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=qt()){const r=Za();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let c=wm();return s.forEach((d,g)=>{c=c.insert(d,g.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=Za();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,qt()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((c,d)=>{e.set(c,d)})})}computeViews(t,e,i,r){let s=Es();const c=Cm(),d=Cm();return e.forEach((g,y)=>{const C=i.get(y.key);r.has(y.key)&&(void 0===C||C.mutation instanceof sc)?s=s.insert(y.key,y):void 0!==C&&(c.set(y.key,C.mutation.getFieldMask()),bm(C.mutation,y,C.mutation.getFieldMask(),ii.now()))}),this.recalculateAndSaveOverlays(t,s).next(g=>(g.forEach((y,C)=>c.set(y,C)),e.forEach((y,C)=>{var D;return d.set(y,new tS(C,null!==(D=c.get(y))&&void 0!==D?D:null))}),d))}recalculateAndSaveOverlays(t,e){const i=Cm();let r=new _i((c,d)=>c-d),s=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const d of c)d.keys().forEach(g=>{const y=e.get(g);if(null===y)return;let C=i.get(g)||uo.empty();C=d.applyToLocalView(y,C),i.set(g,C);const D=(r.get(d.batchId)||qt()).add(g);r=r.insert(d.batchId,D)})}).next(()=>{const c=[],d=r.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),y=g.key,C=g.value,D=rp();C.forEach(k=>{if(!s.has(k)){const P=_D(e.get(k),i.get(k));null!==P&&D.set(k,P),s=s.add(k)}}),c.push(this.documentOverlayCache.saveOverlays(t,y,D))}return le.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return ze.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):s0(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const c=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):le.resolve(Za());let d=-1,g=s;return c.next(y=>le.forEach(y,(C,D)=>(d<D.largestBatchId&&(d=D.largestBatchId),s.get(C)?le.resolve():this.getBaseDocument(t,C,D).next(k=>{g=g.insert(C,k)}))).next(()=>this.populateOverlays(t,y,s)).next(()=>this.computeViews(t,g,y,qt())).next(C=>({batchId:d,changes:DD(C)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ze(e)).next(i=>{let r=wm();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=wm();return this.indexManager.getCollectionParents(t,r).next(c=>le.forEach(c,d=>{const g=(y=e,C=d.child(r),new rc(C,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,C;return this.getDocumentsMatchingCollectionQuery(t,g,i).next(y=>{y.forEach((C,D)=>{s=s.insert(C,D)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(s=>{s.forEach((d,g)=>{const y=g.getKey();null===r.get(y)&&(r=r.insert(y,Nn.newInvalidDocument(y)))});let c=wm();return r.forEach((d,g)=>{const y=s.get(d);void 0!==y&&bm(y.mutation,g,uo.empty(),ii.now()),o0(e,g)&&(c=c.insert(d,g))}),c})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):le.resolve(Nn.newInvalidDocument(e))}}class cc{constructor(t){this.It=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return le.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:Ki(i.createTime)}),le.resolve()}getNamedQuery(t,e){return le.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(i=e).name,query:hv(i.bundledQuery),readTime:Ki(i.readTime)}),le.resolve();var i}}class NM{constructor(){this.overlays=new _i(ze.comparator),this.es=new Map}getOverlay(t,e){return le.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Za();return le.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.ue(t,e,s)}),le.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),le.resolve()}getOverlaysForCollection(t,e,i){const r=Za(),s=e.length+1,c=new ze(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const g=d.getNext().value,y=g.getKey();if(!e.isPrefixOf(y.path))break;y.path.length===s&&g.largestBatchId>i&&r.set(g.getKey(),g)}return le.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new _i((y,C)=>y-C);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===e&&y.largestBatchId>i){let C=s.get(y.largestBatchId);null===C&&(C=Za(),s=s.insert(y.largestBatchId,C)),C.set(y.getKey(),y)}}const d=Za(),g=s.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,C)=>d.set(y,C)),!(d.size()>=r)););return le.resolve(d)}ue(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new M0(e,i));let s=this.es.get(e);void 0===s&&(s=qt(),this.es.set(e,s)),this.es.set(e,s.add(i.key))}}class nS{constructor(){this.ns=new Fn(Ir.ss),this.rs=new Fn(Ir.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new Ir(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new Ir(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new ze(new en([])),i=new Ir(e,t),r=new Ir(e,t+1),s=[];return this.rs.forEachInRange([i,r],c=>{this.cs(c),s.push(c.key)}),s}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new ze(new en([])),i=new Ir(e,t),r=new Ir(e,t+1);let s=qt();return this.rs.forEachInRange([i,r],c=>{s=s.add(c.key)}),s}containsKey(t){const e=new Ir(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Ir{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return ze.comparator(t.key,e.key)||Ht(t._s,e._s)}static os(t,e){return Ht(t._s,e._s)||ze.comparator(t.key,e.key)}}class LM{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new Fn(Ir.ss)}checkEmpty(t){return le.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.ws;this.ws++;const c=new uv(s,e,i,r);this.mutationQueue.push(c);for(const d of r)this.gs=this.gs.add(new Ir(d.key,s)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return le.resolve(c)}lookupMutationBatch(t,e){return le.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ps(e+1),s=r<0?0:r;return le.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ir(e,0),r=new Ir(e,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],c=>{const d=this.ys(c._s);s.push(d)}),le.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Fn(Ht);return e.forEach(r=>{const s=new Ir(r,0),c=new Ir(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,c],d=>{i=i.add(d._s)})}),le.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;ze.isDocumentKey(s)||(s=s.child(""));const c=new Ir(new ze(s),0);let d=new Fn(Ht);return this.gs.forEachWhile(g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(d=d.add(g._s)),!0)},c),le.resolve(this.Is(d))}Is(t){const e=[];return t.forEach(i=>{const r=this.ys(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Rt(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return le.forEach(e.mutations,r=>{const s=new Ir(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new Ir(e,0),r=this.gs.firstAfterOrEqual(i);return le.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return le.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class VM{constructor(t){this.Es=t,this.docs=new _i(ze.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,c=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return le.resolve(i?i.document.mutableCopy():Nn.newInvalidDocument(e))}getEntries(t,e){let i=Es();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Nn.newInvalidDocument(r))}),le.resolve(i)}getAllFromCollection(t,e,i){let r=Es();const s=new ze(e.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:d,value:{document:g}}=c.getNext();if(!e.isPrefixOf(d.path))break;d.path.length>e.length+1||yu(Zx(g),i)<=0||(r=r.insert(g.key,g.mutableCopy()))}return le.resolve(r)}getAllFromCollectionGroup(t,e,i,r){ht()}As(t,e){return le.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new BM(this)}getSize(t){return le.resolve(this.size)}}class BM extends G0{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),le.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class iS{constructor(t){this.persistence=t,this.Rs=new Eu(e=>bu(e),_m),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.bs=0,this.Ps=new nS,this.targetCount=0,this.vs=ph.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,r)=>e(r)),le.resolve()}getLastRemoteSnapshotVersion(t){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return le.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),le.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new ph(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,le.resolve()}updateTargetData(t,e){return this.Dn(e),le.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,le.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Rs.forEach((c,d)=>{d.sequenceNumber<=e&&null===i.get(d.targetId)&&(this.Rs.delete(c),s.push(this.removeMatchingKeysForTargetId(t,d.targetId)),r++)}),le.waitFor(s).next(()=>r)}getTargetCount(t){return le.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return le.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),le.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(c=>{s.push(r.markPotentiallyOrphaned(t,c))}),le.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),le.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return le.resolve(i)}containsKey(t,e){return le.resolve(this.Ps.containsKey(e))}}class UM{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new $s(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new iS(this),this.indexManager=new tF,this.remoteDocumentCache=new VM(i=>this.referenceDelegate.xs(i)),this.It=new k0(e),this.Ns=new cc(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new NM,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new LM(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){Fe("MemoryPersistence","Starting transaction:",t);const r=new rS(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Os(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ms(t,e){return le.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class rS extends lm{constructor(t){super(),this.currentSequenceNumber=t}}class wv{constructor(t){this.persistence=t,this.Fs=new nS,this.$s=null}static Bs(t){return new wv(t)}get Ls(){if(this.$s)return this.$s;throw ht()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),le.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),le.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),le.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Os(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Ls,i=>{const r=ze.fromPath(i);return this.Us(t,r).next(s=>{s||e.removeEntry(r,St.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.Us(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}Us(t,e){return le.or([()=>le.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ms(t,e)])}}class sS{constructor(t){this.It=t}$(t,e,i,r){const s=new cm("createOrUpgrade",e);var d;i<1&&r>=1&&(t.createObjectStore("owner"),(d=t).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",FD,{unique:!0}),d.createObjectStore("documentMutations"),HM(t),function(d){d.createObjectStore("remoteDocuments")}(t));let c=le.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(t),HM(t)),c=c.next(()=>function(d){const g=d.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:St.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",y)}(s))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(d,g){return g.store("mutations").W().next(y=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",FD,{unique:!0});const C=g.store("mutations"),D=y.map(k=>C.put(k));return le.waitFor(D)})}(t,s))),c=c.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(c=c.next(()=>this.qs(s))),i<6&&r>=6&&(c=c.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(s)))),i<7&&r>=7&&(c=c.next(()=>this.Gs(s))),i<8&&r>=8&&(c=c.next(()=>this.Qs(t,s))),i<9&&r>=9&&(c=c.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(c=c.next(()=>this.js(s))),i<11&&r>=11&&(c=c.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(c=c.next(()=>{!function(d){const g=d.createObjectStore("documentOverlays",{keyPath:T0});g.createIndex("collectionPathOverlayIndex",X1,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",wM,{unique:!1})}(t)})),i<13&&r>=13&&(c=c.next(()=>function(d){const g=d.createObjectStore("remoteDocumentsV14",{keyPath:LD});g.createIndex("documentKeyIndex",VD),g.createIndex("collectionGroupIndex",lv)}(t)).next(()=>this.Ws(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.zs(t,s))),i<15&&r>=15&&(c=c.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:UD}).createIndex("sequenceNumberIndex",cp,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:bM}).createIndex("documentKeyIndex",HD,{unique:!1})}(t))),c}Ks(t){let e=0;return t.store("remoteDocuments").Z((i,r)=>{e+=L0(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>le.forEach(r,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",c).next(d=>le.forEach(d,g=>{Rt(g.userId===s.userId);const y=fh(this.It,g);return QD(t,s.userId,y).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Z((c,d)=>{const g=new en(c),y=[0,xs(g)];s.push(e.get(y).next(C=>C?le.resolve():e.put({targetId:0,path:xs(g),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>le.waitFor(s))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:vM});const i=e.store("collectionParents"),r=new F0,s=c=>{if(r.add(c)){const d=c.lastSegment(),g=c.popLast();return i.put({collectionId:d,parent:xs(g)})}};return e.store("remoteDocuments").Z({X:!0},(c,d)=>{const g=new en(c);return s(g.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([c,d,g],y)=>{const C=Qo(d);return s(C.popLast())}))}js(t){const e=t.store("targets");return e.Z((i,r)=>{const s=km(r),c=DM(this.It,s);return e.put(c)})}Ws(t,e){const i=e.store("remoteDocuments"),r=[];return i.Z((s,c)=>{const d=e.store("remoteDocumentsV14"),g=(y=c,y.document?new ze(en.fromString(y.document.name).popFirst(5)):y.noDocument?ze.fromSegments(y.noDocument.path):y.unknownDocument?ze.fromSegments(y.unknownDocument.path):ht()).path.toArray();var y;const C={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(d.put(C))}).next(()=>le.waitFor(r))}zs(t,e){const i=e.store("mutations"),r=j0(this.It),s=new UM(wv.Bs,this.It.re);return i.W().next(c=>{const d=new Map;return c.forEach(g=>{var y;let C=null!==(y=d.get(g.userId))&&void 0!==y?y:qt();fh(this.It,g).keys().forEach(D=>C=C.add(D)),d.set(g.userId,C)}),le.forEach(d,(g,y)=>{const C=new lr(y),D=O0.oe(this.It,C),k=s.getIndexManager(C),P=yv.oe(C,this.It,k,s.referenceDelegate);return new bv(r,P,D,k).recalculateAndSaveOverlaysForDocumentKeys(new cv(e,$s.at),g).next()})})}}function HM(n){n.createObjectStore("targetDocuments",{keyPath:Q1}).createIndex("documentTargetsIndex",BD,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",I0,{unique:!0}),n.createObjectStore("targetGlobal")}const Lm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Cv{constructor(t,e,i,r,s,c,d,g,y,C,D=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Hs=s,this.window=c,this.document=d,this.Js=y,this.Ys=C,this.Xs=D,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=k=>Promise.resolve(),!Cv.C())throw new Re(ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new H0(this,r),this.ii=e+"main",this.It=new k0(g),this.ri=new Ro(this.ii,this.Xs,new sS(this.It)),this.Cs=new B0(this.referenceDelegate,this.It),this.remoteDocumentCache=j0(this.It),this.Ns=new J1,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===C&&Vi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(ue.FAILED_PRECONDITION,Lm);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new $s(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var i=(0,ve.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,ve.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,ve.Z)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Vm(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(Jl(t))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return dp(t).get("owner").next(e=>le.resolve(this.mi(e)))}gi(t){return Vm(t).delete(this.clientId)}yi(){var t=this;return(0,ve.Z)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Ar(i,"clientMetadata");return r.W().next(s=>{const c=t.Ii(s,18e5),d=s.filter(g=>-1===c.indexOf(g));return le.forEach(d,g=>r.delete(g.clientId)).next(()=>d)})}).catch(()=>[]);if(t.oi)for(const i of e)t.oi.removeItem(t.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?le.resolve(!0):dp(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new Re(ue.FAILED_PRECONDITION,Lm);return!1}}return!(!this.networkEnabled||!this.inForeground)||Vm(t).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,d=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&d)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Fe("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ve.Z)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new cv(e,$s.at);return t._i(i).next(()=>t.gi(i))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(i=>this.pi(i.updateTimeMs,e)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>Vm(t).W().next(e=>this.Ii(e,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return yv.oe(t,this.It,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new MM(t,this.It.re.databaseId)}getDocumentOverlayCache(t){return O0.oe(this.It,t)}getBundleCache(){return this.Ns}runTransaction(t,e,i){Fe("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(c=this.Xs)?zD:14===c?jD:13===c?GD:12===c?EM:11===c?CM:void ht();var c;let d;return this.ri.runTransaction(t,r,s,g=>(d=new cv(g,this.Ss?this.Ss.next():$s.at),"readwrite-primary"===e?this.fi(d).next(y=>!!y||this.di(d)).next(y=>{if(!y)throw Vi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Re(ue.FAILED_PRECONDITION,Kx);return i(d)}).next(y=>this.wi(d).next(()=>y)):this.Vi(d).next(()=>i(d)))).then(g=>(d.raiseOnCommittedEvent(),g))}Vi(t){return dp(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Re(ue.FAILED_PRECONDITION,Lm)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return dp(t).put("owner",e)}static C(){return Ro.C()}_i(t){const e=dp(t);return e.get("owner").next(i=>this.mi(i)?(Fe("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):le.resolve())}pi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Vi(`Detected an update time that is in the future: ${t} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,N.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const i=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return Fe("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Vi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){Vi("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function dp(n){return Ar(n,"owner")}function Vm(n){return Ar(n,"clientMetadata")}function Ev(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class xv{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=r}static Ci(t,e){let i=qt(),r=qt();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new xv(t,e.fromCache,i,r)}}class Bm{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.ki(t,e).next(s=>s||this.Oi(t,e,r,i)).next(s=>s||this.Mi(t,e))}ki(t,e){if(Yy(e))return le.resolve(null);let i=Vr(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=Ky(e,null,"F"),i=Vr(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const c=qt(...s);return this.Ni.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,i).next(g=>{const y=this.Fi(e,d);return this.$i(e,y,c,g.readTime)?this.ki(t,Ky(e,null,"F")):this.Bi(t,y,e,g)}))})))}Oi(t,e,i,r){return Yy(e)||r.isEqual(St.min())?this.Mi(t,e):this.Ni.getDocuments(t,i).next(s=>{const c=this.Fi(e,s);return this.$i(e,c,i,r)?this.Mi(t,e):(Gy()<=Ua.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Qy(e)),this.Bi(t,c,e,Yx(r,-1)))})}Fi(t,e){let i=new Fn(a0(t));return e.forEach((r,s)=>{o0(t,s)&&(i=i.add(s))}),i}$i(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Mi(t,e){return Gy()<=Ua.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",Qy(e)),this.Ni.getDocumentsMatchingQuery(t,e,co.min())}Bi(t,e,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(c=>{s=s.insert(c.key,c)}),s))}}class Dv{constructor(t,e,i,r){this.persistence=t,this.Li=e,this.It=r,this.Ui=new _i(Ht),this.qi=new Eu(s=>bu(s),_m),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new bv(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ui))}}function z0(n,t,e,i){return new Dv(n,t,e,i)}function oS(n,t){return $0.apply(this,arguments)}function $0(){return $0=(0,ve.Z)(function*(n,t){const e=Ze(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const c=[],d=[];let g=qt();for(const y of r){c.push(y.batchId);for(const C of y.mutations)g=g.add(C.key)}for(const y of s){d.push(y.batchId);for(const C of y.mutations)g=g.add(C.key)}return e.localDocuments.getDocuments(i,g).next(y=>({ji:y,removedBatchIds:c,addedBatchIds:d}))})})}),$0.apply(this,arguments)}function GM(n,t){const e=Ze(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Gi.newChangeBuffer({trackRemovals:!0});return function(c,d,g,y){const C=g.batch,D=C.keys();let k=le.resolve();return D.forEach(P=>{k=k.next(()=>y.getEntry(d,P)).next(V=>{const $=g.docVersions.get(P);Rt(null!==$),V.version.compareTo($)<0&&(C.applyToRemoteDocument(V,g),V.isValidDocument()&&(V.setReadTime(g.commitVersion),y.addEntry(V)))})}),k.next(()=>c.mutationQueue.removeMutationBatch(d,C))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=qt();for(let g=0;g<c.mutationResults.length;++g)c.mutationResults[g].transformResults.length>0&&(d=d.add(c.batch.mutations[g].key));return d}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function jM(n){const t=Ze(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function nF(n,t){const e=Ze(n),i=t.snapshotVersion;let r=e.Ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=e.Gi.newChangeBuffer({trackRemovals:!0});r=e.Ui;const d=[];t.targetChanges.forEach((C,D)=>{const k=r.get(D);if(!k)return;d.push(e.Cs.removeMatchingKeys(s,C.removedDocuments,D).next(()=>e.Cs.addMatchingKeys(s,C.addedDocuments,D)));let P=k.withSequenceNumber(s.currentSequenceNumber);var V,$,ee;t.targetMismatches.has(D)?P=P.withResumeToken(ur.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):C.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(C.resumeToken,i)),r=r.insert(D,P),$=P,ee=C,(0===(V=k).resumeToken.approximateByteSize()||$.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8||ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0)&&d.push(e.Cs.updateTargetData(s,P))});let g=Es(),y=qt();if(t.documentUpdates.forEach(C=>{t.resolvedLimboDocuments.has(C)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(s,C))}),d.push(q0(s,c,t.documentUpdates).next(C=>{g=C.Wi,y=C.zi})),!i.isEqual(St.min())){const C=e.Cs.getLastRemoteSnapshotVersion(s).next(D=>e.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(C)}return le.waitFor(d).next(()=>c.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,g,y)).next(()=>g)}).then(s=>(e.Ui=r,s))}function q0(n,t,e){let i=qt(),r=qt();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let c=Es();return e.forEach((d,g)=>{const y=s.get(d);g.isFoundDocument()!==y.isFoundDocument()&&(r=r.add(d)),g.isNoDocument()&&g.version.isEqual(St.min())?(t.removeEntry(d,g.readTime),c=c.insert(d,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||0===g.version.compareTo(y.version)&&y.hasPendingWrites?(t.addEntry(g),c=c.insert(d,g)):Fe("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",g.version)}),{Wi:c,zi:r}})}function zM(n,t){const e=Ze(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function hp(n,t){const e=Ze(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Cs.getTargetData(i,t).next(s=>s?(r=s,le.resolve(r)):e.Cs.allocateTargetId(i).next(c=>(r=new Du(t,c,0,i.currentSequenceNumber),e.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ui=e.Ui.insert(i.targetId,i),e.qi.set(t,i.targetId)),i})}function fp(n,t,e){return aS.apply(this,arguments)}function aS(){return aS=(0,ve.Z)(function*(n,t,e){const i=Ze(n),r=i.Ui.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Jl(c))throw c;Fe("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ui=i.Ui.remove(t),i.qi.delete(r.target)}),aS.apply(this,arguments)}function W0(n,t,e){const i=Ze(n);let r=St.min(),s=qt();return i.persistence.runTransaction("Execute query","readonly",c=>function(d,g,y){const C=Ze(d),D=C.qi.get(y);return void 0!==D?le.resolve(C.Ui.get(D)):C.Cs.getTargetData(g,y)}(i,c,Vr(t)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(c,d.targetId).next(g=>{s=g})}).next(()=>i.Li.getDocumentsMatchingQuery(c,t,e?r:St.min(),e?s:qt())).next(d=>(WM(i,cM(t),d),{documents:d,Hi:s})))}function $M(n,t){const e=Ze(n),i=Ze(e.Cs),r=e.Ui.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.se(s,t).next(c=>c?c.target:null))}function qM(n,t){const e=Ze(n),i=e.Ki.get(t)||St.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Gi.getAllFromCollectionGroup(r,t,Yx(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(WM(e,t,r),r))}function WM(n,t,e){let i=n.Ki.get(t)||St.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ki.set(t,i)}function pp(){return pp=(0,ve.Z)(function*(n,t,e,i){const r=Ze(n);let s=qt(),c=Es();for(const y of e){const C=t.Ji(y.metadata.name);y.document&&(s=s.add(C));const D=t.Yi(y);D.setReadTime(t.Xi(y.metadata.readTime)),c=c.insert(C,D)}const d=r.Gi.newChangeBuffer({trackRemovals:!0}),g=yield hp(r,(y=i,Vr(wu(en.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>q0(y,d,c).next(C=>(d.apply(y),C)).next(C=>r.Cs.removeMatchingKeysForTargetId(y,g.targetId).next(()=>r.Cs.addMatchingKeys(y,s,g.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,C.Wi,C.zi)).next(()=>C.Wi)))}),pp.apply(this,arguments)}function ZM(n,t){return Y0.apply(this,arguments)}function Y0(){return Y0=(0,ve.Z)(function*(n,t,e=qt()){const i=yield hp(n,Vr(hv(t.bundledQuery))),r=Ze(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const c=Ki(t.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Ns.saveNamedQuery(s,t);const d=i.withResumeToken(ur.EMPTY_BYTE_STRING,c);return r.Ui=r.Ui.insert(d.targetId,d),r.Cs.updateTargetData(s,d).next(()=>r.Cs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Cs.addMatchingKeys(s,e,i.targetId)).next(()=>r.Ns.saveNamedQuery(s,t))})}),Y0.apply(this,arguments)}function Z0(n,t){return`firestore_clients_${n}_${t}`}function Mu(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function Sv(n,t){return`firestore_targets_${n}_${t}`}class gp{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Zi(t,e,i){const r=JSON.parse(i);let s,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(s=new Re(r.error.code,r.error.message))),c?new gp(t,e,r.state,s):(Vi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class gh{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Zi(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Re(i.error.code,i.error.message))),s?new gh(t,i.state,r):(Vi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Av{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=xu();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=XT(i.activeTargetIds[c]),s=s.add(i.activeTargetIds[c]);return r?new Av(t,s):(Vi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class Um{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new Um(e.clientId,e.onlineState):(Vi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Hm{constructor(){this.activeTargetIds=xu()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class mp{constructor(t,e,i,r,s){this.window=t,this.Hs=e,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new _i(Ht),this.started=!1,this.cr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=Z0(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Hm),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ve.Z)(function*(){const e=yield t.syncEngine.vi();for(const r of e){if(r===t.sr)continue;const s=t.getItem(Z0(t.persistenceKey,r));if(s){const c=Av.Zi(r,s);c&&(t.ur=t.ur.insert(c.clientId,c))}}t.gr();const i=t.storage.getItem(t.wr);if(i){const r=t.yr(i);r&&t.pr(r)}for(const r of t.cr)t.rr(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,i){this.Tr(t,e,i),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(Sv(this.persistenceKey,t));if(i){const r=gh.Zi(t,i);r&&(e=r.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Sv(this.persistenceKey,t))}updateQueryState(t,e,i){this.Rr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Er(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Fe("SharedClientState","READ",t,e),e}setItem(t,e){Fe("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Fe("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Fe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void Vi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ve.Z)(function*(){if(e.started){if(null!==i.key)if(e.lr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Vr(r,null)}{const r=e.Sr(i.key,i.newValue);if(r)return e.Vr(r.clientId,r)}}else if(e.dr.test(i.key)){if(null!==i.newValue){const r=e.Dr(i.key,i.newValue);if(r)return e.Cr(r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Nr(i.key,i.newValue);if(r)return e.kr(r)}}else if(i.key===e.wr){if(null!==i.newValue){const r=e.yr(i.newValue);if(r)return e.pr(r)}}else if(i.key===e.hr){const r=function(s){let c=$s.at;if(null!=s)try{const d=JSON.parse(s);Rt("number"==typeof d),c=d}catch(d){Vi("SharedClientState","Failed to read sequence number from WebStorage",d)}return c}(i.newValue);r!==$s.at&&e.sequenceNumberHandler(r)}else if(i.key===e.mr){const r=e.Or(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Mr(s)))}}else e.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,i){const r=new gp(this.currentUser,t,e,i),s=Mu(this.persistenceKey,this.currentUser,t);this.setItem(s,r.tr())}Er(t){const e=Mu(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,i){const r=Sv(this.persistenceKey,t),s=new gh(t,e,i);this.setItem(r,s.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const i=this.vr(t);return Av.Zi(i,e)}Dr(t,e){const i=this.dr.exec(t),r=Number(i[1]);return gp.Zi(new lr(void 0!==i[2]?i[2]:null),r,e)}Nr(t,e){const i=this._r.exec(t),r=Number(i[1]);return gh.Zi(r,e)}yr(t){return Um.Zi(t)}Or(t){return JSON.parse(t)}Cr(t){var e=this;return(0,ve.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const i=e?this.ur.insert(t,e):this.ur.remove(t),r=this.Ir(this.ur),s=this.Ir(i),c=[],d=[];return s.forEach(g=>{r.has(g)||c.push(g)}),r.forEach(g=>{s.has(g)||d.push(g)}),this.syncEngine.Br(c,d).then(()=>{this.ur=i})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=xu();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class KM{constructor(){this.Lr=new Hm,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.Ur[t]||"not-current"}updateQueryState(t,e,i){this.Ur[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.Ur[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new Hm,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class iF{qr(t){}shutdown(){}}class QM{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const rF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lS{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class XM extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,e,i,r,s){const c=this.ho(t,e);Fe("RestConnection","Sending: ",c,i);const d={};return this.lo(d,r,s),this.fo(t,c,d,i).then(g=>(Fe("RestConnection","Received: ",g),g),g=>{throw th("RestConnection",`${t} failed with error: `,g,"url: ",c,"request:",i),g})}_o(t,e,i,r,s,c){return this.ao(t,e,i,r,s)}lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+eh,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}ho(t,e){return`${this.oo}/v1/${e}:${rF[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,i,r){return new Promise((s,c)=>{const d=new Gx;d.setWithCredentials(!0),d.listenOnce(Ux.COMPLETE,()=>{var y;try{switch(d.getLastErrorCode()){case Hy.NO_ERROR:const C=d.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(C)),s(C);break;case Hy.TIMEOUT:Fe("Connection",'RPC "'+t+'" timed out'),c(new Re(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Hy.HTTP_ERROR:const D=d.getStatus();if(Fe("Connection",'RPC "'+t+'" failed with status:',D,"response text:",d.getResponseText()),D>0){let k=d.getResponseJson();Array.isArray(k)&&(k=k[0]);const P=null===(y=k)||void 0===y?void 0:y.error;if(P&&P.status&&P.message){const V=function($){const ee=$.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(ee)>=0?ee:ue.UNKNOWN}(P.status);c(new Re(V,P.message))}else c(new Re(ue.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Re(ue.UNAVAILABLE,"Connection failed."));break;default:ht()}}finally{Fe("Connection",'RPC "'+t+'" completed.')}});const g=JSON.stringify(r);d.send(e,"POST",g,i,15)})}wo(t,e,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=Uy(),c=UT(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new Hx({})),this.lo(d.initMessageHeaders,e,i),d.encodeInitMessageHeaders=!0;const g=r.join("");Fe("Connection","Creating WebChannel: "+g,d);const y=s.createWebChannel(g,d);let C=!1,D=!1;const k=new lS({Hr:V=>{D?Fe("Connection","Not sending because WebChannel is closed:",V):(C||(Fe("Connection","Opening WebChannel transport."),y.open(),C=!0),Fe("Connection","WebChannel sending:",V),y.send(V))},Jr:()=>y.close()}),P=(V,$,ee)=>{V.listen($,Se=>{try{ee(Se)}catch($e){setTimeout(()=>{throw $e},0)}})};return P(y,sm.EventType.OPEN,()=>{D||Fe("Connection","WebChannel transport opened.")}),P(y,sm.EventType.CLOSE,()=>{D||(D=!0,Fe("Connection","WebChannel transport closed"),k.io())}),P(y,sm.EventType.ERROR,V=>{D||(D=!0,th("Connection","WebChannel transport errored:",V),k.io(new Re(ue.UNAVAILABLE,"The operation could not be completed")))}),P(y,sm.EventType.MESSAGE,V=>{var $;if(!D){const ee=V.data[0];Rt(!!ee);const Se=ee,$e=Se.error||(null===($=Se[0])||void 0===$?void 0:$.error);if($e){Fe("Connection","WebChannel received error:",$e);const tt=$e.status;let pt=function(Nt){const Cn=Bi[Nt];if(void 0!==Cn)return f0(Cn)}(tt),It=$e.message;void 0===pt&&(pt=ue.INTERNAL,It="Unknown error status: "+tt+" with message "+$e.message),D=!0,k.io(new Re(pt,It)),y.close()}else Fe("Connection","WebChannel received:",ee),k.ro(ee)}}),P(c,jw.STAT_EVENT,V=>{V.stat===rm.PROXY?Fe("Connection","Detected buffering proxy"):V.stat===rm.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{k.so()},0),k}}function cS(){return typeof window<"u"?window:null}function Iv(){return typeof document<"u"?document:null}function Gm(n){return new gM(n,!0)}class Tv{constructor(t,e,i=1e3,r=1.5,s=6e4){this.Hs=t,this.timerId=e,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,e-i);r>0&&Fe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class K0{constructor(t,e,i,r,s,c,d,g){this.Hs=t,this.vo=i,this.Vo=r,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Tv(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var t=this;return(0,ve.Z)(function*(){t.No()&&(yield t.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}$o(){var t=this;return(0,ve.Z)(function*(){if(t.ko())return t.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(t,e){var i=this;return(0,ve.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==t?i.xo.reset():e&&e.code===ue.RESOURCE_EXHAUSTED?(Vi(e.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):e&&e.code===ue.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Zr(e)})()}qo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===e&&this.Go(i,r)},i=>{t(()=>{const r=new Re(ue.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(t,e){const i=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var t=this;this.state=5,this.xo.Ro((0,ve.Z)(function*(){t.state=0,t.start()}))}Qo(t){return Fe("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget(()=>this.So===t?e():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uS extends K0{constructor(t,e,i,r,s,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.It=s}jo(t,e){return this.connection.wo("Listen",t,e)}onMessage(t){this.xo.reset();const e=function MD(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(g=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:ht(),r=t.targetChange.targetIds||[],s=function(g,y){return g.gt?(Rt(void 0===y||"string"==typeof y),ur.fromBase64String(y||"")):(Rt(void 0===y||y instanceof Uint8Array),ur.fromUint8Array(y||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(g){const y=void 0===g.code?ue.UNKNOWN:f0(g.code);return new Re(y,g.message||"")}(c);e=new Sm(i,r,s,d||null)}else if("documentChange"in t){const i=t.documentChange,r=Qa(n,i.document.name),s=Ki(i.document.updateTime),c=new Sr({mapValue:{fields:i.document.fields}}),d=Nn.newFoundDocument(r,s,c);e=new iv(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in t){const i=t.documentDelete,r=Qa(n,i.document),s=i.readTime?Ki(i.readTime):St.min(),c=Nn.newNoDocument(r,s);e=new iv([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const i=t.documentRemove,r=Qa(n,i.document);e=new iv([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ht();{const i=t.filter,s=new ED(i.count||0);e=new Dm(i.targetId,s)}}var g;return e}(this.It,t),i=function(r){if(!("targetChange"in r))return St.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?St.min():s.readTime?Ki(s.readTime):St.min()}(t);return this.listener.Wo(e,i)}zo(t){const e={};e.database=Im(this.It),e.addTarget=function(r,s){let c;const d=s.target;return c=Wy(d)?{documents:E0(r,d)}:{query:x0(r,d)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=mM(r,s.resumeToken):s.snapshotVersion.compareTo(St.min())>0&&(c.readTime=Am(r,s.snapshotVersion.toTimestamp())),c}(this.It,t);const i=function _M(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ht()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Bo(e)}Ho(t){const e={};e.database=Im(this.It),e.removeTarget=t,this.Bo(e)}}class JM extends K0{constructor(t,e,i,r,s,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(t,e){return this.connection.wo("Write",t,e)}onMessage(t){if(Rt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function kD(n,t){return n&&n.length>0?(Rt(void 0!==t),n.map(e=>function(i,r){let s=Ki(i.updateTime?i.updateTime:r);return s.isEqual(St.min())&&(s=Ki(r)),new hM(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Ki(t.commitTime);return this.listener.Zo(i,e)}return Rt(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=Im(this.It),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>sp(this.It,i))};this.Bo(e)}}class ek extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new Re(ue.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,e,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.ao(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Re(ue.UNKNOWN,r.toString())})}_o(t,e,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection._o(t,e,i,s,c,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Re(ue.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class sF{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Vi(e),this.ou=!1):Fe("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class hS{constructor(t,e,i,r,s){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(d=>{i.enqueueAndForget((0,ve.Z)(function*(){var g;ku(c)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,ve.Z)(function*(y){const C=Ze(y);C._u.add(4),yield _p(C),C.gu.set("Unknown"),C._u.delete(4),yield mh(C)}),function(y){return g.apply(this,arguments)})(c))}))}),this.gu=new sF(i,r)}}function mh(n){return Q0.apply(this,arguments)}function Q0(){return Q0=(0,ve.Z)(function*(n){if(ku(n))for(const t of n.wu)yield t(!0)}),Q0.apply(this,arguments)}function _p(n){return fS.apply(this,arguments)}function fS(){return fS=(0,ve.Z)(function*(n){for(const t of n.wu)yield t(!1)}),fS.apply(this,arguments)}function X0(n,t){const e=Ze(n);e.du.has(t.targetId)||(e.du.set(t.targetId,t),mS(e)?gS(e):Te(e).ko()&&J0(e,t))}function zm(n,t){const e=Ze(n),i=Te(e);e.du.delete(t),i.ko()&&pS(e,t),0===e.du.size&&(i.ko()?i.Fo():ku(e)&&e.gu.set("Unknown"))}function J0(n,t){n.yu.Mt(t.targetId),Te(n).zo(t)}function pS(n,t){n.yu.Mt(t),Te(n).Ho(t)}function gS(n){n.yu=new pM({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),se:t=>n.du.get(t)||null}),Te(n).start(),n.gu.uu()}function mS(n){return ku(n)&&!Te(n).No()&&n.du.size>0}function ku(n){return 0===Ze(n)._u.size}function tk(n){n.yu=void 0}function oF(n){return eC.apply(this,arguments)}function eC(){return eC=(0,ve.Z)(function*(n){n.du.forEach((t,e)=>{J0(n,t)})}),eC.apply(this,arguments)}function aF(n,t){return _S.apply(this,arguments)}function _S(){return _S=(0,ve.Z)(function*(n,t){tk(n),mS(n)?(n.gu.hu(t),gS(n)):n.gu.set("Unknown")}),_S.apply(this,arguments)}function lF(n,t,e){return yS.apply(this,arguments)}function yS(){return yS=(0,ve.Z)(function*(n,t,e){if(n.gu.set("Online"),t instanceof Sm&&2===t.state&&t.cause)try{yield(i=(0,ve.Z)(function*(r,s){const c=s.cause;for(const d of s.targetIds)r.du.has(d)&&(yield r.remoteSyncer.rejectListen(d,c),r.du.delete(d),r.yu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){Fe("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield tC(n,i)}else if(t instanceof iv?n.yu.Gt(t):t instanceof Dm?n.yu.Yt(t):n.yu.Wt(t),!e.isEqual(St.min()))try{const i=yield jM(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const c=r.yu.te(s);return c.targetChanges.forEach((d,g)=>{if(d.resumeToken.approximateByteSize()>0){const y=r.du.get(g);y&&r.du.set(g,y.withResumeToken(d.resumeToken,s))}}),c.targetMismatches.forEach(d=>{const g=r.du.get(d);if(!g)return;r.du.set(d,g.withResumeToken(ur.EMPTY_BYTE_STRING,g.snapshotVersion)),pS(r,d);const y=new Du(g.target,d,1,g.sequenceNumber);J0(r,y)}),r.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){Fe("RemoteStore","Failed to raise snapshot:",i),yield tC(n,i)}var i}),yS.apply(this,arguments)}function tC(n,t,e){return vS.apply(this,arguments)}function vS(){return vS=(0,ve.Z)(function*(n,t,e){if(!Jl(t))throw t;n._u.add(1),yield _p(n),n.gu.set("Offline"),e||(e=()=>jM(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield e(),n._u.delete(1),yield mh(n)}))}),vS.apply(this,arguments)}function a(n,t){return t().catch(e=>tC(n,e,t))}function l(n){return u.apply(this,arguments)}function u(){return u=(0,ve.Z)(function*(n){const t=Ze(n),e=At(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;h(t);)try{const r=yield zM(t.localStore,i);if(null===r){0===t.fu.length&&e.Fo();break}i=r.batchId,f(t,r)}catch(r){yield tC(t,r)}_(t)&&b(t)}),u.apply(this,arguments)}function h(n){return ku(n)&&n.fu.length<10}function f(n,t){n.fu.push(t);const e=At(n);e.ko()&&e.Yo&&e.Xo(t.mutations)}function _(n){return ku(n)&&!At(n).No()&&n.fu.length>0}function b(n){At(n).start()}function E(n){return x.apply(this,arguments)}function x(){return x=(0,ve.Z)(function*(n){At(n).eu()}),x.apply(this,arguments)}function T(n){return O.apply(this,arguments)}function O(){return O=(0,ve.Z)(function*(n){const t=At(n);for(const e of n.fu)t.Xo(e.mutations)}),O.apply(this,arguments)}function U(n,t,e){return Y.apply(this,arguments)}function Y(){return Y=(0,ve.Z)(function*(n,t,e){const i=n.fu.shift(),r=dv.from(i,t,e);yield a(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield l(n)}),Y.apply(this,arguments)}function ne(n,t){return be.apply(this,arguments)}function be(){return be=(0,ve.Z)(function*(n,t){var e;t&&At(n).Yo&&(yield(e=(0,ve.Z)(function*(i,r){if(h0(s=r.code)&&s!==ue.ABORTED){const c=i.fu.shift();At(i).Mo(),yield a(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield l(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),_(n)&&b(n)}),be.apply(this,arguments)}function Ve(n,t){return Ye.apply(this,arguments)}function Ye(){return Ye=(0,ve.Z)(function*(n,t){const e=Ze(n);e.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const i=ku(e);e._u.add(3),yield _p(e),i&&e.gu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),yield mh(e)}),Ye.apply(this,arguments)}function st(n,t){return Et.apply(this,arguments)}function Et(){return Et=(0,ve.Z)(function*(n,t){const e=Ze(n);t?(e._u.delete(2),yield mh(e)):t||(e._u.add(2),yield _p(e),e.gu.set("Unknown"))}),Et.apply(this,arguments)}function Te(n){return n.pu||(n.pu=function(t,e,i){const r=Ze(t);return r.su(),new uS(e,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:oF.bind(null,n),Zr:aF.bind(null,n),Wo:lF.bind(null,n)}),n.wu.push(function(){var t=(0,ve.Z)(function*(e){e?(n.pu.Mo(),mS(n)?gS(n):n.gu.set("Unknown")):(yield n.pu.stop(),tk(n))});return function(e){return t.apply(this,arguments)}}())),n.pu}function At(n){return n.Iu||(n.Iu=function(t,e,i){const r=Ze(t);return r.su(),new JM(e,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:E.bind(null,n),Zr:ne.bind(null,n),tu:T.bind(null,n),Zo:U.bind(null,n)}),n.wu.push(function(){var t=(0,ve.Z)(function*(e){e?(n.Iu.Mo(),yield l(n)):(yield n.Iu.stop(),n.fu.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Iu}class qn{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,i,r,s){const c=Date.now()+i,d=new qn(t,e,c,r,s);return d.start(i),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(ue.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wn(n,t){if(Vi("AsyncQueue",`${t}: ${n}`),Jl(n))return new Re(ue.UNAVAILABLE,`${t}: ${n}`);throw n}class $m{constructor(t){this.comparator=t?(e,i)=>t(e,i)||ze.comparator(e.key,i.key):(e,i)=>ze.comparator(e.key,i.key),this.keyedMap=wm(),this.sortedSet=new _i(this.comparator)}static emptySet(t){return new $m(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof $m)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new $m;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class cF{constructor(){this.Tu=new _i(ze.comparator)}track(t){const e=t.doc.key,i=this.Tu.get(e);i?0!==t.type&&3===i.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==i.type?this.Tu=this.Tu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Tu=this.Tu.remove(e):1===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):ht():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Mv{constructor(t,e,i,r,s,c,d,g,y){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,e,i,r,s){const c=[];return e.forEach(d=>{c.push({type:0,doc:d})}),new Mv(t,e,$m.emptySet(e),c,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ep(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class tj{constructor(){this.Au=void 0,this.listeners=[]}}class nj{constructor(){this.queries=new Eu(t=>ch(t),ep),this.onlineState="Unknown",this.Ru=new Set}}function nk(n,t){return ik.apply(this,arguments)}function ik(){return ik=(0,ve.Z)(function*(n,t){const e=Ze(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new tj),r)try{s.Au=yield e.onListen(i)}catch(c){const d=Wn(c,`Initialization of query '${Qy(t.query)}' failed`);return void t.onError(d)}e.queries.set(i,s),s.listeners.push(t),t.bu(e.onlineState),s.Au&&t.Pu(s.Au)&&ok(e)}),ik.apply(this,arguments)}function rk(n,t){return sk.apply(this,arguments)}function sk(){return sk=(0,ve.Z)(function*(n,t){const e=Ze(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const c=s.listeners.indexOf(t);c>=0&&(s.listeners.splice(c,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),sk.apply(this,arguments)}function ij(n,t){const e=Ze(n);let i=!1;for(const r of t){const c=e.queries.get(r.query);if(c){for(const d of c.listeners)d.Pu(r)&&(i=!0);c.Au=r}}i&&ok(e)}function rj(n,t,e){const i=Ze(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function ok(n){n.Ru.forEach(t=>{t.next()})}class ak{constructor(t,e,i){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Mv(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){return!t.fromCache||(!this.options.Nu||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Du(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(t){t=Mv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Vu=!0,this.vu.next(t)}}class sj{constructor(t,e){this.ku=t,this.byteLength=e}Ou(){return"metadata"in this.ku}}class uF{constructor(t){this.It=t}Ji(t){return Qa(this.It,t)}Yi(t){return t.metadata.exists?w0(this.It,t.document,!1):Nn.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return Ki(t)}}class oj{constructor(t,e,i){this.Mu=t,this.localStore=e,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=dF(t)}Fu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.ku.namedQuery)this.queries.push(t.ku.namedQuery);else if(t.ku.documentMetadata){this.documents.push({metadata:t.ku.documentMetadata}),t.ku.documentMetadata.exists||++e;const i=en.fromString(t.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.ku.document&&(this.documents[this.documents.length-1].document=t.ku.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}$u(t){const e=new Map,i=new uF(this.It);for(const r of t)if(r.metadata.queries){const s=i.Ji(r.metadata.name);for(const c of r.metadata.queries){const d=(e.get(c)||qt()).add(s);e.set(c,d)}}return e}complete(){var t=this;return(0,ve.Z)(function*(){const e=yield function YM(n,t,e,i){return pp.apply(this,arguments)}(t.localStore,new uF(t.It),t.documents,t.Mu.id),i=t.$u(t.documents);for(const r of t.queries)yield ZM(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Bu:t.collectionGroups,Lu:e}})()}}function dF(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class hF{constructor(t){this.key=t}}class fF{constructor(t){this.key=t}}class pF{constructor(t,e){this.query=t,this.Uu=e,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=qt(),this.mutatedKeys=qt(),this.Gu=a0(t),this.Qu=new $m(this.Gu)}get ju(){return this.Uu}Wu(t,e){const i=e?e.zu:new cF,r=e?e.Qu:this.Qu;let s=e?e.mutatedKeys:this.mutatedKeys,c=r,d=!1;const g="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((C,D)=>{const k=r.get(C),P=o0(this.query,D)?D:null,V=!!k&&this.mutatedKeys.has(k.key),$=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let ee=!1;k&&P?k.data.isEqual(P.data)?V!==$&&(i.track({type:3,doc:P}),ee=!0):this.Hu(k,P)||(i.track({type:2,doc:P}),ee=!0,(g&&this.Gu(P,g)>0||y&&this.Gu(P,y)<0)&&(d=!0)):!k&&P?(i.track({type:0,doc:P}),ee=!0):k&&!P&&(i.track({type:1,doc:k}),ee=!0,(g||y)&&(d=!0)),ee&&(P?(c=c.add(P),s=$?s.add(C):s.delete(C)):(c=c.delete(C),s=s.delete(C)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const C="F"===this.query.limitType?c.last():c.first();c=c.delete(C.key),s=s.delete(C.key),i.track({type:1,doc:C})}return{Qu:c,zu:i,$i:d,mutatedKeys:s}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const s=t.zu.Eu();s.sort((y,C)=>function(D,k){const P=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht()}};return P(D)-P(k)}(y.type,C.type)||this.Gu(y.doc,C.doc)),this.Ju(i);const c=e?this.Yu():[],d=0===this.Ku.size&&this.current?1:0,g=d!==this.qu;return this.qu=d,0!==s.length||g?{snapshot:new Mv(this.query,t.Qu,r,s,t.mutatedKeys,0===d,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:c}:{Xu:c}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new cF,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.Uu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(e=>this.Uu=this.Uu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Uu=this.Uu.delete(e)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=qt(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const e=[];return t.forEach(i=>{this.Ku.has(i)||e.push(new fF(i))}),this.Ku.forEach(i=>{t.has(i)||e.push(new hF(i))}),e}tc(t){this.Uu=t.Hi,this.Ku=qt();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ec(){return Mv.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class aj{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class lj{constructor(t){this.key=t,this.nc=!1}}class cj{constructor(t,e,i,r,s,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.sc={},this.ic=new Eu(d=>ch(d),ep),this.rc=new Map,this.oc=new Set,this.uc=new _i(ze.comparator),this.cc=new Map,this.ac=new nS,this.hc={},this.lc=new Map,this.fc=ph.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function uj(n,t){return lk.apply(this,arguments)}function lk(){return lk=(0,ve.Z)(function*(n,t){const e=kk(n);let i,r;const s=e.ic.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.ec();else{const c=yield hp(e.localStore,Vr(t));e.isPrimaryClient&&X0(e.remoteStore,c);const d=e.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield ck(e,t,i,"current"===d,c.resumeToken)}return r}),lk.apply(this,arguments)}function ck(n,t,e,i,r){return uk.apply(this,arguments)}function uk(){return uk=(0,ve.Z)(function*(n,t,e,i,r){n._c=(D,k,P)=>{return(V=(0,ve.Z)(function*($,ee,Se,$e){let tt=ee.view.Wu(Se);tt.$i&&(tt=yield W0($.localStore,ee.query,!1).then(({documents:Nt})=>ee.view.Wu(Nt,tt)));const pt=$e&&$e.targetChanges.get(ee.targetId),It=ee.view.applyChanges(tt,$.isPrimaryClient,pt);return bk($,ee.targetId,It.Xu),It.snapshot}),function($,ee,Se,$e){return V.apply(this,arguments)})(n,D,k,P);var V};const s=yield W0(n.localStore,t,!0),c=new pF(t,s.Hi),d=c.Wu(s.documents),g=xm.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),y=c.applyChanges(d,n.isPrimaryClient,g);bk(n,e,y.Xu);const C=new aj(t,e,c);return n.ic.set(t,C),n.rc.has(e)?n.rc.get(e).push(t):n.rc.set(e,[t]),y.snapshot}),uk.apply(this,arguments)}function dj(n,t){return dk.apply(this,arguments)}function dk(){return dk=(0,ve.Z)(function*(n,t){const e=Ze(n),i=e.ic.get(t),r=e.rc.get(i.targetId);if(r.length>1)return e.rc.set(i.targetId,r.filter(s=>!ep(s,t))),void e.ic.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield fp(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),zm(e.remoteStore,i.targetId),kv(e,i.targetId)}).catch(Ko))):(kv(e,i.targetId),yield fp(e.localStore,i.targetId,!0))}),dk.apply(this,arguments)}function hk(){return hk=(0,ve.Z)(function*(n,t,e){const i=Rk(n);try{const r=yield function(s,c){const d=Ze(s),g=ii.now(),y=c.reduce((k,P)=>k.add(P.key),qt());let C,D;return d.persistence.runTransaction("Locally write mutations","readwrite",k=>{let P=Es(),V=qt();return d.Gi.getEntries(k,y).next($=>{P=$,P.forEach((ee,Se)=>{Se.isValidDocument()||(V=V.add(ee))})}).next(()=>d.localDocuments.getOverlayedDocuments(k,P)).next($=>{C=$;const ee=[];for(const Se of c){const $e=fM(Se,C.get(Se.key).overlayedDocument);null!=$e&&ee.push(new sc(Se.key,$e,oD($e.value.mapValue),vi.exists(!0)))}return d.mutationQueue.addMutationBatch(k,g,ee,c)}).next($=>{D=$;const ee=$.applyToLocalDocumentSet(C,V);return d.documentOverlayCache.saveOverlays(k,$.batchId,ee)})}).then(()=>({batchId:D.batchId,changes:DD(C)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,d){let g=s.hc[s.currentUser.toKey()];g||(g=new _i(Ht)),g=g.insert(c,d),s.hc[s.currentUser.toKey()]=g}(i,r.batchId,e),yield _h(i,r.changes),yield l(i.remoteStore)}catch(r){const s=Wn(r,"Failed to persist write");e.reject(s)}}),hk.apply(this,arguments)}function gF(n,t){return fk.apply(this,arguments)}function fk(){return fk=(0,ve.Z)(function*(n,t){const e=Ze(n);try{const i=yield nF(e.localStore,t);t.targetChanges.forEach((r,s)=>{const c=e.cc.get(s);c&&(Rt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.nc=!0:r.modifiedDocuments.size>0?Rt(c.nc):r.removedDocuments.size>0&&(Rt(c.nc),c.nc=!1))}),yield _h(e,i,t)}catch(i){yield Ko(i)}}),fk.apply(this,arguments)}function mF(n,t,e){const i=Ze(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ic.forEach((s,c)=>{const d=c.view.bu(t);d.snapshot&&r.push(d.snapshot)}),function(s,c){const d=Ze(s);d.onlineState=c;let g=!1;d.queries.forEach((y,C)=>{for(const D of C.listeners)D.bu(c)&&(g=!0)}),g&&ok(d)}(i.eventManager,t),r.length&&i.sc.Wo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function fj(n,t,e){return pk.apply(this,arguments)}function pk(){return pk=(0,ve.Z)(function*(n,t,e){const i=Ze(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.cc.get(t),s=r&&r.key;if(s){let c=new _i(ze.comparator);c=c.insert(s,Nn.newNoDocument(s,St.min()));const d=qt().add(s),g=new Em(St.min(),new Map,new Fn(Ht),c,d);yield gF(i,g),i.uc=i.uc.remove(s),i.cc.delete(t),wk(i)}else yield fp(i.localStore,t,!1).then(()=>kv(i,t,e)).catch(Ko)}),pk.apply(this,arguments)}function pj(n,t){return gk.apply(this,arguments)}function gk(){return gk=(0,ve.Z)(function*(n,t){const e=Ze(n),i=t.batch.batchId;try{const r=yield GM(e.localStore,t);vk(e,i,null),yk(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield _h(e,r)}catch(r){yield Ko(r)}}),gk.apply(this,arguments)}function gj(n,t,e){return mk.apply(this,arguments)}function mk(){return mk=(0,ve.Z)(function*(n,t,e){const i=Ze(n);try{const r=yield function(s,c){const d=Ze(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return d.mutationQueue.lookupMutationBatch(g,c).next(C=>(Rt(null!==C),y=C.keys(),d.mutationQueue.removeMutationBatch(g,C))).next(()=>d.mutationQueue.performConsistencyCheck(g)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(g,y,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>d.localDocuments.getDocuments(g,y))})}(i.localStore,t);vk(i,t,e),yk(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield _h(i,r)}catch(r){yield Ko(r)}}),mk.apply(this,arguments)}function _k(){return _k=(0,ve.Z)(function*(n,t){const e=Ze(n);ku(e.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const c=Ze(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.mutationQueue.getHighestUnacknowledgedBatchId(d))}(e.localStore);if(-1===i)return void t.resolve();const r=e.lc.get(i)||[];r.push(t),e.lc.set(i,r)}catch(i){const r=Wn(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),_k.apply(this,arguments)}function yk(n,t){(n.lc.get(t)||[]).forEach(e=>{e.resolve()}),n.lc.delete(t)}function vk(n,t,e){const i=Ze(n);let r=i.hc[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.hc[i.currentUser.toKey()]=r}}function kv(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.rc.get(t))n.ic.delete(i),e&&n.sc.wc(i,e);n.rc.delete(t),n.isPrimaryClient&&n.ac.ls(t).forEach(i=>{n.ac.containsKey(i)||_F(n,i)})}function _F(n,t){n.oc.delete(t.path.canonicalString());const e=n.uc.get(t);null!==e&&(zm(n.remoteStore,e),n.uc=n.uc.remove(t),n.cc.delete(e),wk(n))}function bk(n,t,e){for(const i of e)i instanceof hF?(n.ac.addReference(i.key,t),_j(n,i)):i instanceof fF?(Fe("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,t),n.ac.containsKey(i.key)||_F(n,i.key)):ht()}function _j(n,t){const e=t.key,i=e.path.canonicalString();n.uc.get(e)||n.oc.has(i)||(Fe("SyncEngine","New document in limbo: "+e),n.oc.add(i),wk(n))}function wk(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const t=n.oc.values().next().value;n.oc.delete(t);const e=new ze(en.fromString(t)),i=n.fc.next();n.cc.set(i,new lj(e)),n.uc=n.uc.insert(e,i),X0(n.remoteStore,new Du(Vr(wu(e.path)),i,2,$s.at))}}function _h(n,t,e){return Ck.apply(this,arguments)}function Ck(){return Ck=(0,ve.Z)(function*(n,t,e){const i=Ze(n),r=[],s=[],c=[];var d;i.ic.isEmpty()||(i.ic.forEach((d,g)=>{c.push(i._c(g,t,e).then(y=>{if((y||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(g.targetId,y?.fromCache?"not-current":"current"),y){r.push(y);const C=xv.Ci(g.targetId,y);s.push(C)}}))}),yield Promise.all(c),i.sc.Wo(r),yield(d=(0,ve.Z)(function*(g,y){const C=Ze(g);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>le.forEach(y,k=>le.forEach(k.Si,P=>C.persistence.referenceDelegate.addReference(D,k.targetId,P)).next(()=>le.forEach(k.Di,P=>C.persistence.referenceDelegate.removeReference(D,k.targetId,P)))))}catch(D){if(!Jl(D))throw D;Fe("LocalStore","Failed to update sequence numbers: "+D)}for(const D of y){const k=D.targetId;if(!D.fromCache){const P=C.Ui.get(k),$=P.withLastLimboFreeSnapshotVersion(P.snapshotVersion);C.Ui=C.Ui.insert(k,$)}}}),function(g,y){return d.apply(this,arguments)})(i.localStore,s))}),Ck.apply(this,arguments)}function yj(n,t){return Ek.apply(this,arguments)}function Ek(){return Ek=(0,ve.Z)(function*(n,t){const e=Ze(n);if(!e.currentUser.isEqual(t)){Fe("SyncEngine","User change. New user:",t.toKey());const i=yield oS(e.localStore,t);e.currentUser=t,(r=e).lc.forEach(c=>{c.forEach(d=>{d.reject(new Re(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield _h(e,i.ji)}var r}),Ek.apply(this,arguments)}function vj(n,t){const e=Ze(n),i=e.cc.get(t);if(i&&i.nc)return qt().add(i.key);{let r=qt();const s=e.rc.get(t);if(!s)return r;for(const c of s){const d=e.ic.get(c);r=r.unionWith(d.view.ju)}return r}}function bj(n,t){return xk.apply(this,arguments)}function xk(){return xk=(0,ve.Z)(function*(n,t){const e=Ze(n),i=yield W0(e.localStore,t.query,!0),r=t.view.tc(i);return e.isPrimaryClient&&bk(e,t.targetId,r.Xu),r}),xk.apply(this,arguments)}function wj(n,t){return Dk.apply(this,arguments)}function Dk(){return Dk=(0,ve.Z)(function*(n,t){const e=Ze(n);return qM(e.localStore,t).then(i=>_h(e,i))}),Dk.apply(this,arguments)}function Cj(n,t,e,i){return Sk.apply(this,arguments)}function Sk(){return Sk=(0,ve.Z)(function*(n,t,e,i){const r=Ze(n),s=yield function(c,d){const g=Ze(c),y=Ze(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",C=>y.Tn(C,d).next(D=>D?g.localDocuments.getDocuments(C,D):le.resolve(null)))}(r.localStore,t);var d;null!==s?("pending"===e?yield l(r.remoteStore):"acknowledged"===e||"rejected"===e?(vk(r,t,i||null),yk(r,t),d=t,Ze(Ze(r.localStore).mutationQueue).An(d)):ht(),yield _h(r,s)):Fe("SyncEngine","Cannot apply mutation batch with id: "+t)}),Sk.apply(this,arguments)}function Ak(){return Ak=(0,ve.Z)(function*(n,t){const e=Ze(n);if(kk(e),Rk(e),!0===t&&!0!==e.dc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield yF(e,i.toArray());e.dc=!0,yield st(e.remoteStore,!0);for(const s of r)X0(e.remoteStore,s)}else if(!1===t&&!1!==e.dc){const i=[];let r=Promise.resolve();e.rc.forEach((s,c)=>{e.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(kv(e,c),fp(e.localStore,c,!0))),zm(e.remoteStore,c)}),yield r,yield yF(e,i),function(s){const c=Ze(s);c.cc.forEach((d,g)=>{zm(c.remoteStore,g)}),c.ac.fs(),c.cc=new Map,c.uc=new _i(ze.comparator)}(e),e.dc=!1,yield st(e.remoteStore,!1)}}),Ak.apply(this,arguments)}function yF(n,t,e){return Ik.apply(this,arguments)}function Ik(){return Ik=(0,ve.Z)(function*(n,t,e){const i=Ze(n),r=[],s=[];for(const c of t){let d;const g=i.rc.get(c);if(g&&0!==g.length){d=yield hp(i.localStore,Vr(g[0]));for(const y of g){const C=i.ic.get(y),D=yield bj(i,C);D.snapshot&&s.push(D.snapshot)}}else{const y=yield $M(i.localStore,c);d=yield hp(i.localStore,y),yield ck(i,vF(y),c,!1,d.resumeToken)}r.push(d)}return i.sc.Wo(s),r}),Ik.apply(this,arguments)}function vF(n){return dD(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function xj(n){const t=Ze(n);return Ze(Ze(t.localStore).persistence).vi()}function Dj(n,t,e,i){return Tk.apply(this,arguments)}function Tk(){return Tk=(0,ve.Z)(function*(n,t,e,i){const r=Ze(n);if(r.dc)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const s=r.rc.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const c=yield qM(r.localStore,cM(s[0])),d=Em.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,ur.EMPTY_BYTE_STRING);yield _h(r,c,d);break}case"rejected":yield fp(r.localStore,t,!0),kv(r,t,i);break;default:ht()}}),Tk.apply(this,arguments)}function Sj(n,t,e){return Mk.apply(this,arguments)}function Mk(){return Mk=(0,ve.Z)(function*(n,t,e){const i=kk(n);if(i.dc){for(const r of t){if(i.rc.has(r)){Fe("SyncEngine","Adding an already active target "+r);continue}const s=yield $M(i.localStore,r),c=yield hp(i.localStore,s);yield ck(i,vF(s),c.targetId,!1,c.resumeToken),X0(i.remoteStore,c)}for(const r of e)i.rc.has(r)&&(yield fp(i.localStore,r,!1).then(()=>{zm(i.remoteStore,r),kv(i,r)}).catch(Ko))}}),Mk.apply(this,arguments)}function kk(n){const t=Ze(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=gF.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vj.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fj.bind(null,t),t.sc.Wo=ij.bind(null,t.eventManager),t.sc.wc=rj.bind(null,t.eventManager),t}function Rk(n){const t=Ze(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pj.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gj.bind(null,t),t}class bF{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,ve.Z)(function*(){e.It=Gm(t.databaseInfo.databaseId),e.sharedClientState=e.gc(t),e.persistence=e.yc(t),yield e.persistence.start(),e.localStore=e.Ic(t),e.gcScheduler=e.Tc(t,e.localStore),e.indexBackfillerScheduler=e.Ec(t,e.localStore)})()}Tc(t,e){return null}Ec(t,e){return null}Ic(t){return z0(this.persistence,new Bm,t.initialUser,this.It)}yc(t){return new UM(wv.Bs,this.It)}gc(t){return new KM}terminate(){var t=this;return(0,ve.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class wF extends bF{constructor(t,e,i){super(),this.Ac=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,ve.Z)(function*(){yield e().call(i,t),yield i.Ac.initialize(i,t),yield Rk(i.Ac.syncEngine),yield l(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(t){return z0(this.persistence,new Bm,t.initialUser,this.It)}Tc(t,e){return new OM(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Ec(t,e){const i=new um(e,this.persistence);return new KT(t.asyncQueue,i)}yc(t){const e=Ev(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?qs.withCacheSize(this.cacheSizeBytes):qs.DEFAULT;return new Cv(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,cS(),Iv(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(t){return new KM}}class Ij extends wF{constructor(t,e){super(t,e,!1),this.Ac=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,ve.Z)(function*(){yield e().call(i,t);const r=i.Ac.syncEngine;i.sharedClientState instanceof mp&&(i.sharedClientState.syncEngine={Fr:Cj.bind(null,r),$r:Dj.bind(null,r),Br:Sj.bind(null,r),vi:xj.bind(null,r),Mr:wj.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var s=(0,ve.Z)(function*(c){yield function Ej(n,t){return Ak.apply(this,arguments)}(i.Ac.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}gc(t){const e=cS();if(!mp.C(e))throw new Re(ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Ev(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new mp(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Ok{initialize(t,e){var i=this;return(0,ve.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>mF(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=yj.bind(null,i.syncEngine),yield st(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new nj}createDatastore(t){const e=Gm(t.databaseInfo.databaseId),i=new XM(t.databaseInfo);return new ek(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=d=>mF(this.syncEngine,d,0),c=QM.C()?new QM:new iF,new hS(e,i,r,s,c);var e,i,r,s,c}createSyncEngine(t,e){return function(i,r,s,c,d,g,y){const C=new cj(i,r,s,c,d,g);return y&&(C.dc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,ve.Z)(function*(e){const i=Ze(e);Fe("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield _p(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function Pk(n,t,e){if(!e)throw new Re(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function CF(n,t,e,i){if(!0===t&&!0===i)throw new Re(ue.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function EF(n){if(!ze.isDocumentKey(n))throw new Re(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xF(n){if(ze.isDocumentKey(n))throw new Re(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ht()}function yn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Re(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=bS(n);throw new Re(ue.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function DF(n,t){if(t<=0)throw new Re(ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}const SF=new Map;class AF{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Re(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Re(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,CF("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class nC{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Re(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Re(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AF(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new GT;switch(e.type){case"gapi":return new qT(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Re(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=SF.get(t);e&&(Fe("ComponentProvider","Removing Datastore"),SF.delete(t),e.terminate())}(this),Promise.resolve()}}class bi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ru(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new bi(this.firestore,t,this._key)}}class Ws{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ws(this.firestore,t,this._query)}}class Ru extends Ws{constructor(t,e,i){super(t,e,wu(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new bi(this.firestore,null,new ze(t))}withConverter(t){return new Ru(this.firestore,t,this._path)}}function TF(n,t,...e){if(n=(0,N.m9)(n),Pk("collection","path",t),n instanceof nC){const i=en.fromString(t,...e);return xF(i),new Ru(n,null,i)}{if(!(n instanceof bi||n instanceof Ru))throw new Re(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(en.fromString(t,...e));return xF(i),new Ru(n.firestore,null,i)}}function wS(n,t,...e){if(n=(0,N.m9)(n),1===arguments.length&&(t=Ww.R()),Pk("doc","path",t),n instanceof nC){const i=en.fromString(t,...e);return EF(i),new bi(n,null,new ze(i))}{if(!(n instanceof bi||n instanceof Ru))throw new Re(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(en.fromString(t,...e));return EF(i),new bi(n.firestore,n instanceof Ru?n.converter:null,new ze(i))}}function MF(n,t){return n=(0,N.m9)(n),t=(0,N.m9)(t),(n instanceof bi||n instanceof Ru)&&(t instanceof bi||t instanceof Ru)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function Fk(n,t){return n=(0,N.m9)(n),t=(0,N.m9)(t),n instanceof Ws&&t instanceof Ws&&n.firestore===t.firestore&&ep(n._query,t._query)&&n.converter===t.converter}function kF(n,t=10240){let e=0;return{read:()=>(0,ve.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class CS{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):Vi("Uncaught Error in snapshot listener:",t.toString())}bc(){this.muted=!0}Rc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class Mj{constructor(t,e){this.Pc=t,this.It=e,this.metadata=new cr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var t=this;return(0,ve.Z)(function*(){return t.metadata.promise})()}mc(){var t=this;return(0,ve.Z)(function*(){return yield t.getMetadata(),t.Vc()})()}Vc(){var t=this;return(0,ve.Z)(function*(){const e=yield t.Sc();if(null===e)return null;const i=t.vc.decode(e),r=Number(i);isNaN(r)&&t.Dc(`length string (${i}) is not valid number`);const s=yield t.Cc(r);return new sj(JSON.parse(s),e.length+r)})()}xc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Sc(){var t=this;return(0,ve.Z)(function*(){for(;t.xc()<0&&!(yield t.Nc()););if(0===t.buffer.length)return null;const e=t.xc();e<0&&t.Dc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Cc(t){var e=this;return(0,ve.Z)(function*(){for(;e.buffer.length<t;)(yield e.Nc())&&e.Dc("Reached the end of bundle when more is expected.");const i=e.vc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Dc(t){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${t}`)}Nc(){var t=this;return(0,ve.Z)(function*(){const e=yield t.Pc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class Oj{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Re(ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ve.Z)(function*(s,c){const d=Ze(s),g=Im(d.It)+"/documents",y={documents:c.map(P=>hh(d.It,P))},C=yield d._o("BatchGetDocuments",g,y,c.length),D=new Map;C.forEach(P=>{const V=function TD(n,t){return"found"in t?function(e,i){Rt(!!i.found);const r=Qa(e,i.found.name),s=Ki(i.found.updateTime),c=new Sr({mapValue:{fields:i.found.fields}});return Nn.newFoundDocument(r,s,c)}(n,t):"missing"in t?function(e,i){Rt(!!i.missing),Rt(!!i.readTime);const r=Qa(e,i.missing),s=Ki(i.readTime);return Nn.newNoDocument(r,s)}(n,t):ht()}(d.It,P);D.set(V.key.toString(),V)});const k=[];return c.forEach(P=>{const V=D.get(P.toString());Rt(!!V),k.push(V)}),k}),function(s,c){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Ya(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=ze.fromPath(r);t.mutations.push(new tv(s,t.precondition(s)))}),yield(i=(0,ve.Z)(function*(r,s){const c=Ze(r),d=Im(c.It)+"/documents",g={writes:s.map(y=>sp(c.It,y))};yield c.ao("Commit",d,g)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ht();e=St.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Re(ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(St.min())?vi.exists(!1):vi.updateTime(e):vi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(St.min()))throw new Re(ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vi.updateTime(e)}return vi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Pj{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.kc=i.maxAttempts,this.xo=new Tv(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var t=this;this.xo.Ro((0,ve.Z)(function*(){const e=new Oj(t.datastore),i=t.Mc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Fc(s)}))}).catch(r=>{t.Fc(r)})}))}Mc(t){try{const e=this.updateFunction(t);return!zy(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Fc(t){this.kc>0&&this.$c(t)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(t)}$c(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!h0(e)}return!1}}class Fj{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=lr.UNAUTHENTICATED,this.clientId=Ww.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,ve.Z)(function*(d){Fe("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Fe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var t=this;return(0,ve.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Wn(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function RF(n,t){return Nk.apply(this,arguments)}function Nk(){return Nk=(0,ve.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,ve.Z)(function*(s){i.isEqual(s)||(yield oS(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),Nk.apply(this,arguments)}function OF(n,t){return Lk.apply(this,arguments)}function Lk(){return Lk=(0,ve.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield Vk(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>Ve(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>Ve(t.remoteStore,s)),n.onlineComponents=t}),Lk.apply(this,arguments)}function Vk(n){return Bk.apply(this,arguments)}function Bk(){return Bk=(0,ve.Z)(function*(n){return n.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield RF(n,new bF)),n.offlineComponents}),Bk.apply(this,arguments)}function ES(n){return Uk.apply(this,arguments)}function Uk(){return Uk=(0,ve.Z)(function*(n){return n.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield OF(n,new Ok)),n.onlineComponents}),Uk.apply(this,arguments)}function PF(n){return Vk(n).then(t=>t.persistence)}function xS(n){return Vk(n).then(t=>t.localStore)}function Hk(n){return ES(n).then(t=>t.remoteStore)}function Gk(n){return ES(n).then(t=>t.syncEngine)}function Rv(n){return jk.apply(this,arguments)}function jk(){return jk=(0,ve.Z)(function*(n){const t=yield ES(n),e=t.eventManager;return e.onListen=uj.bind(null,t.syncEngine),e.onUnlisten=dj.bind(null,t.syncEngine),e}),jk.apply(this,arguments)}function NF(n,t,e={}){const i=new cr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(r,s,c,d,g){const y=new CS({next:D=>{s.enqueueAndForget(()=>rk(r,C));const k=D.docs.has(c);!k&&D.fromCache?g.reject(new Re(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&D.fromCache&&d&&"server"===d.source?g.reject(new Re(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(D)},error:D=>g.reject(D)}),C=new ak(wu(c.path),y,{includeMetadataChanges:!0,Nu:!0});return nk(r,C)}(yield Rv(n),n.asyncQueue,t,e,i)})),i.promise}function LF(n,t,e={}){const i=new cr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(r,s,c,d,g){const y=new CS({next:D=>{s.enqueueAndForget(()=>rk(r,C)),D.fromCache&&"server"===d.source?g.reject(new Re(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(D)},error:D=>g.reject(D)}),C=new ak(c,y,{includeMetadataChanges:!0,Nu:!0});return nk(r,C)}(yield Rv(n),n.asyncQueue,t,e,i)})),i.promise}class jj{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Tv(this,"async_queue_retry"),this.Wc=()=>{const e=Iv();e&&Fe("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.Po()};const t=Iv();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.Uc){this.Uc=!0,this.Qc=t||!1;const e=Iv();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.Uc)return new Promise(()=>{});const e=new cr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Lc.push(t),this.Jc()))}Jc(){var t=this;return(0,ve.Z)(function*(){if(0!==t.Lc.length){try{yield t.Lc[0](),t.Lc.shift(),t.xo.reset()}catch(e){if(!Jl(e))throw e;Fe("AsyncQueue","Operation failed with retryable error: "+e)}t.Lc.length>0&&t.xo.Ro(()=>t.Jc())}})()}Hc(t){const e=this.Bc.then(()=>(this.Gc=!0,t().catch(i=>{throw this.Kc=i,this.Gc=!1,Vi("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=e,e}enqueueAfterDelay(t,e,i){this.zc(),this.jc.indexOf(t)>-1&&(e=0);const r=qn.createAndSchedule(this,t,e,i,s=>this.Yc(s));return this.qc.push(r),r}zc(){this.Kc&&ht()}verifyOperationInProgress(){}Xc(){var t=this;return(0,ve.Z)(function*(){let e;do{e=t.Bc,yield e}while(e!==t.Bc)})()}Zc(t){for(const e of this.qc)if(e.timerId===t)return!0;return!1}ta(t){return this.Xc().then(()=>{this.qc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.qc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Xc()})}ea(t){this.jc.push(t)}Yc(t){const e=this.qc.indexOf(t);this.qc.splice(e,1)}}function zk(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class zj{constructor(){this._progressObserver={},this._taskCompletionResolver=new cr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class wi extends nC{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new jj,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||VF(this),this._firestoreClient.terminate()}}function hr(n){return n._firestoreClient||VF(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function VF(n){var t;const e=n._freezeSettings(),i=(s=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new Y1(n._databaseId,s,n._persistenceKey,(d=e).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var s,d;n._firestoreClient=new Fj(n._authCredentials,n._appCheckCredentials,n._queue,i)}function BF(n,t,e){const i=new cr;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield RF(n,e),yield OF(n,t),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(c=s).name?c.code===ue.FAILED_PRECONDITION||c.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw s;th("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var c})).then(()=>i.promise)}function UF(n){if(n._initialized||n._terminated)throw new Re(ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ou{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ou(ur.fromBase64String(t))}catch(e){throw new Re(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ou(ur.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class yh{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Re(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ai(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class qm{constructor(t){this._methodName=t}}class DS{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Re(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Re(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ht(this._lat,t._lat)||Ht(this._long,t._long)}}const e3=/^__.*__$/;class t3{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new sc(t,this.data,this.fieldMask,e,this.fieldTransforms):new ip(t,this.data,e,this.fieldTransforms)}}class HF{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new sc(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function GF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht()}}class SS{constructor(t,e,i,r,s,c){this.settings=t,this.databaseId=e,this.It=i,this.ignoreUndefinedProperties=r,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new SS(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.ua(t),r}ca(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.na(),r}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return TS(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(0===t.length)throw this.ha("Document fields must not be empty");if(GF(this.sa)&&e3.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class n3{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.It=i||Gm(t)}da(t,e,i,r=!1){return new SS({sa:t,methodName:e,fa:i,path:Ai.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Wm(n){const t=n._freezeSettings(),e=Gm(n._databaseId);return new n3(n._databaseId,!!t.ignoreUndefinedProperties,e)}function AS(n,t,e,i,r,s={}){const c=n.da(s.merge||s.mergeFields?2:0,t,e,r);Yk("Data must be an object, but it was:",c,i);const d=$F(i,c);let g,y;if(s.merge)g=new uo(c.fieldMask),y=c.fieldTransforms;else if(s.mergeFields){const C=[];for(const D of s.mergeFields){const k=Zk(t,D,e);if(!c.contains(k))throw new Re(ue.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);WF(C,k)||C.push(k)}g=new uo(C),y=c.fieldTransforms.filter(D=>g.covers(D.field))}else g=null,y=c.fieldTransforms;return new t3(new Sr(d),g,y)}class iC extends qm{_toFieldTransform(t){if(2!==t.sa)throw t.ha(1===t.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof iC}}function jF(n,t,e){return new SS({sa:3,fa:t.settings.fa,methodName:n._methodName,oa:e},t.databaseId,t.It,t.ignoreUndefinedProperties)}class $k extends qm{_toFieldTransform(t){return new np(t.path,new uh)}isEqual(t){return t instanceof $k}}class i3 extends qm{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=jF(this,t,!0),i=this._a.map(s=>Ym(s,e)),r=new Cu(i);return new np(t.path,r)}isEqual(t){return this===t}}class r3 extends qm{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=jF(this,t,!0),i=this._a.map(s=>Ym(s,e)),r=new dh(i);return new np(t.path,r)}isEqual(t){return this===t}}class s3 extends qm{constructor(t,e){super(t),this.wa=e}_toFieldTransform(t){const e=new tp(t.It,fD(t.It,this.wa));return new np(t.path,e)}isEqual(t){return this===t}}function qk(n,t,e,i){const r=n.da(1,t,e);Yk("Data must be an object, but it was:",r,i);const s=[],c=Sr.empty();rh(i,(g,y)=>{const C=IS(t,g,e);y=(0,N.m9)(y);const D=r.ca(C);if(y instanceof iC)s.push(C);else{const k=Ym(y,D);null!=k&&(s.push(C),c.set(C,k))}});const d=new uo(s);return new HF(c,d,r.fieldTransforms)}function Wk(n,t,e,i,r,s){const c=n.da(1,t,e),d=[Zk(t,i,e)],g=[r];if(s.length%2!=0)throw new Re(ue.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<s.length;k+=2)d.push(Zk(t,s[k])),g.push(s[k+1]);const y=[],C=Sr.empty();for(let k=d.length-1;k>=0;--k)if(!WF(y,d[k])){const P=d[k];let V=g[k];V=(0,N.m9)(V);const $=c.ca(P);if(V instanceof iC)y.push(P);else{const ee=Ym(V,$);null!=ee&&(y.push(P),C.set(P,ee))}}const D=new uo(y);return new HF(C,D,c.fieldTransforms)}function zF(n,t,e,i=!1){return Ym(e,n.da(i?4:3,t))}function Ym(n,t){if(qF(n=(0,N.m9)(n)))return Yk("Unsupported field value:",t,n),$F(n,t);if(n instanceof qm)return function(e,i){if(!GF(i.sa))throw i.ha(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const c of e){let d=Ym(c,i.aa(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,N.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return fD(i.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=ii.fromDate(e);return{timestampValue:Am(i.It,r)}}if(e instanceof ii){const r=new ii(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Am(i.It,r)}}if(e instanceof DS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ou)return{bytesValue:mM(i.It,e._byteString)};if(e instanceof bi){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:rv(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ha(`Unsupported field value: ${bS(e)}`)}(n,t)}function $F(n,t){const e={};return dm(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rh(n,(i,r)=>{const s=Ym(r,t.ra(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function qF(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ii||n instanceof DS||n instanceof Ou||n instanceof bi||n instanceof qm)}function Yk(n,t,e){if(!qF(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=bS(e);throw t.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function Zk(n,t,e){if((t=(0,N.m9)(t))instanceof yh)return t._internalPath;if("string"==typeof t)return IS(n,t);throw TS("Field path arguments must be of type string or ",n,!1,void 0,e)}const o3=new RegExp("[~\\*/\\[\\]]");function IS(n,t,e){if(t.search(o3)>=0)throw TS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new yh(...t.split("."))._internalPath}catch{throw TS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function TS(n,t,e,i,r){const s=i&&!i.isEmpty(),c=void 0!==r;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(s||c)&&(g+=" (found",s&&(g+=` in field ${i}`),c&&(g+=` in document ${r}`),g+=")"),new Re(ue.INVALID_ARGUMENT,d+n+g)}function WF(n,t){return n.some(e=>e.isEqual(t))}class rC{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new bi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new a3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(MS("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class a3 extends rC{data(){return super.data()}}function MS(n,t){return"string"==typeof t?IS(n,t):t instanceof yh?t._internalPath:t._delegate._internalPath}function YF(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Re(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sC{}function yp(n,...t){for(const e of t)n=e._apply(n);return n}class l3 extends sC{constructor(t,e,i){super(),this.ma=t,this.ga=e,this.ya=i,this.type="where"}_apply(t){const e=Wm(t.firestore),i=function(r,s,c,d,g,y,C){let D;if(g.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new Re(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){eN(C,y);const P=[];for(const V of C)P.push(JF(d,r,V));D={arrayValue:{values:P}}}else D=JF(d,r,C)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||eN(C,y),D=zF(c,"where",C,"in"===y||"not-in"===y);const k=Lr.create(g,y,D);return function(P,V){if(V.dt()){const ee=ym(P);if(null!==ee&&!ee.isEqual(V.field))throw new Re(ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ee.toString()}' and '${V.field.toString()}'`);const Se=Zy(P);null!==Se&&tN(0,V.field,Se)}const $=function(ee,Se){for(const $e of ee.filters)if(Se.indexOf($e.op)>=0)return $e.op;return null}(P,function(ee){switch(ee){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(V.op));if(null!==$)throw new Re(ue.INVALID_ARGUMENT,$===V.op?`Invalid query. You cannot use more than one '${V.op.toString()}' filter.`:`Invalid query. You cannot use '${V.op.toString()}' filters with '${$.toString()}' filters.`)}(r,k),k}(t._query,0,e,t.firestore._databaseId,this.ma,this.ga,this.ya);return new Ws(t.firestore,t.converter,function(r,s){const c=r.filters.concat([s]);return new rc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class u3 extends sC{constructor(t,e){super(),this.ma=t,this.pa=e,this.type="orderBy"}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new Re(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Re(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Xf(r,s);return function(d,g){if(null===Zy(d)){const y=ym(d);null!==y&&tN(0,y,g.field)}}(i,c),c}(t._query,this.ma,this.pa);return new Ws(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new rc(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class ZF extends sC{constructor(t,e,i){super(),this.type=t,this.Ia=e,this.Ta=i}_apply(t){return new Ws(t.firestore,t.converter,Ky(t._query,this.Ia,this.Ta))}}class KF extends sC{constructor(t,e,i){super(),this.type=t,this.Ea=e,this.Aa=i}_apply(t){const e=XF(t,this.type,this.Ea,this.Aa);return new Ws(t.firestore,t.converter,(r=e,new rc((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class QF extends sC{constructor(t,e,i){super(),this.type=t,this.Ea=e,this.Aa=i}_apply(t){const e=XF(t,this.type,this.Ea,this.Aa);return new Ws(t.firestore,t.converter,(r=e,new rc((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function XF(n,t,e,i){if(e[0]=(0,N.m9)(e[0]),e[0]instanceof rC)return function(r,s,c,d,g){if(!d)throw new Re(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const y=[];for(const C of Jf(r))if(C.field.isKeyField())y.push(lh(s,d.key));else{const D=d.data.field(C.field);if(jy(D))throw new Re(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const k=C.field.canonicalString();throw new Re(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${k}' (used as the orderBy) does not exist.`)}y.push(D)}return new ic(y,g)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Wm(n.firestore);return function(s,c,d,g,y,C){const D=s.explicitOrderBy;if(y.length>D.length)throw new Re(ue.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const k=[];for(let P=0;P<y.length;P++){const V=y[P];if(D[P].field.isKeyField()){if("string"!=typeof V)throw new Re(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof V}`);if(!s0(s)&&-1!==V.indexOf("/"))throw new Re(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${V}' contains a slash.`);const $=s.path.child(en.fromString(V));if(!ze.isDocumentKey($))throw new Re(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${$}' is not because it contains an odd number of segments.`);const ee=new ze($);k.push(lh(c,ee))}else{const $=zF(d,g,V);k.push($)}}return new ic(k,C)}(n._query,n.firestore._databaseId,r,t,e,i)}}function JF(n,t,e){if("string"==typeof(e=(0,N.m9)(e))){if(""===e)throw new Re(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!s0(t)&&-1!==e.indexOf("/"))throw new Re(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(en.fromString(e));if(!ze.isDocumentKey(i))throw new Re(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return lh(n,new ze(i))}if(e instanceof bi)return lh(n,e._key);throw new Re(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bS(e)}.`)}function eN(n,t){if(!Array.isArray(n)||0===n.length)throw new Re(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Re(ue.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function tN(n,t,e){if(!e.isEqual(t))throw new Re(ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class Kk{convertValue(t,e="none"){switch(qa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return yi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(sh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ht()}}convertObject(t,e){const i={};return rh(t.fields,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new DS(yi(t.latitude),yi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=tD(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(fm(t));default:return null}}convertTimestamp(t){const e=ec(t);return new ii(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=en.fromString(t);Rt(lp(i));const r=new oh(i.get(1),i.get(3)),s=new ze(i.popFirst(5));return r.isEqual(e)||Vi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function kS(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class y3 extends Kk{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ou(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new bi(this.firestore,null,e)}}class Zm{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class vh extends rC{constructor(t,e,i,r,s,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new oC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(MS("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class oC extends vh{data(t={}){return super.data(t)}}class vp{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Zm(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new oC(this._firestore,this._userDataWriter,i.key,i,new Zm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Re(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new oC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Zm(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const d=new oC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Zm(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,y=-1;return 0!==c.type&&(g=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),y=s.indexOf(c.doc.key)),{type:v3(c.type),doc:d,oldIndex:g,newIndex:y}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function v3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht()}}function nN(n,t){return n instanceof vh&&t instanceof vh?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof vp&&t instanceof vp&&n._firestore===t._firestore&&Fk(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class bp extends Kk{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ou(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new bi(this.firestore,null,e)}}function iN(n,t,e){n=yn(n,bi);const i=yn(n.firestore,wi),r=kS(n.converter,t,e);return Ov(i,[AS(Wm(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,vi.none())])}function rN(n,t,e,...i){n=yn(n,bi);const r=yn(n.firestore,wi),s=Wm(r);let c;return c="string"==typeof(t=(0,N.m9)(t))||t instanceof yh?Wk(s,"updateDoc",n._key,t,e,i):qk(s,"updateDoc",n._key,t),Ov(r,[c.toMutation(n._key,vi.exists(!0))])}function sN(n,...t){var e,i,r;n=(0,N.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||zk(t[c])||(s=t[c],c++);const d={includeMetadataChanges:s.includeMetadataChanges};if(zk(t[c])){const D=t[c];t[c]=null===(e=D.next)||void 0===e?void 0:e.bind(D),t[c+1]=null===(i=D.error)||void 0===i?void 0:i.bind(D),t[c+2]=null===(r=D.complete)||void 0===r?void 0:r.bind(D)}let g,y,C;if(n instanceof bi)y=yn(n.firestore,wi),C=wu(n._key.path),g={next:D=>{t[c]&&t[c](Qk(y,n,D))},error:t[c+1],complete:t[c+2]};else{const D=yn(n,Ws);y=yn(D.firestore,wi),C=D._query;const k=new bp(y);g={next:P=>{t[c]&&t[c](new vp(y,k,D,P))},error:t[c+1],complete:t[c+2]},YF(n._query)}return function(D,k,P,V){const $=new CS(V),ee=new ak(k,$,P);return D.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return nk(yield Rv(D),ee)})),()=>{$.bc(),D.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return rk(yield Rv(D),ee)}))}}(hr(y),C,d,g)}function Ov(n,t){return function(e,i){const r=new cr;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function hj(n,t,e){return hk.apply(this,arguments)}(yield Gk(e),i,r)})),r.promise}(hr(n),t)}function Qk(n,t,e){const i=e.docs.get(t._key),r=new bp(n);return new vh(n,r,t._key,i,new Zm(e.hasPendingWrites,e.fromCache),t.converter)}const T3={maxAttempts:5};class oN{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Wm(t)}set(t,e,i){this._verifyNotCommitted();const r=wp(t,this._firestore),s=kS(r.converter,e,i),c=AS(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,vi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=wp(t,this._firestore);let c;return c="string"==typeof(e=(0,N.m9)(e))||e instanceof yh?Wk(this._dataReader,"WriteBatch.update",s._key,e,i,r):qk(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(c.toMutation(s._key,vi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=wp(t,this._firestore);return this._mutations=this._mutations.concat(new Ya(e._key,vi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wp(n,t){if((n=(0,N.m9)(n)).firestore!==t)throw new Re(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class M3 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Wm(t)}get(t){const e=wp(t,this._firestore),i=new y3(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return ht();const s=r[0];if(s.isFoundDocument())return new rC(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new rC(this._firestore,i,e._key,null,e.converter);throw ht()})}set(t,e,i){const r=wp(t,this._firestore),s=kS(r.converter,e,i),c=AS(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(t,e,i,...r){const s=wp(t,this._firestore);let c;return c="string"==typeof(e=(0,N.m9)(e))||e instanceof yh?Wk(this._dataReader,"Transaction.update",s._key,e,i,r):qk(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,c),this}delete(t){const e=wp(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=wp(t,this._firestore),i=new bp(this._firestore);return super.get(t).then(r=>new vh(this._firestore,i,e._key,r._document,new Zm(!1,!1),e.converter))}}function Xk(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function lN(){if(typeof Uint8Array>"u")throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function cN(){if(!function QT(){return typeof atob<"u"}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){eh=To.SDK_VERSION,(0,To._registerComponent)(new Zo.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),c=new wi(new zT(e.getProvider("auth-internal")),new $x(e.getProvider("app-check-internal")),function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Re(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oh(d.options.projectId,g)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,To.registerVersion)(zw,"3.7.3",n),(0,To.registerVersion)(zw,"3.7.3","esm2017")}();class aC{constructor(t){this._delegate=t}static fromBase64String(t){return cN(),new aC(Ou.fromBase64String(t))}static fromUint8Array(t){return lN(),new aC(Ou.fromUint8Array(t))}toBase64(){return cN(),this._delegate.toBase64()}toUint8Array(){return lN(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Jk(n){return function B3(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class U3{enableIndexedDbPersistence(t,e){return function qj(n,t){UF(n=yn(n,wi));const e=hr(n),i=n._freezeSettings(),r=new Ok;return BF(e,r,new wF(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function Wj(n){UF(n=yn(n,wi));const t=hr(n),e=n._freezeSettings(),i=new Ok;return BF(t,i,new Ij(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function Yj(n){if(n._initialized&&!n._terminated)throw new Re(ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new cr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(e=(0,ve.Z)(function*(i){if(!Ro.C())return Promise.resolve();const r=i+"main";yield Ro.delete(r)}),function(i){return e.apply(this,arguments)})(Ev(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class uN{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof oh||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&th("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function IF(n,t,e,i={}){var r;const s=(n=yn(n,nC))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&th("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let c,d;if("string"==typeof i.mockUserToken)c=i.mockUserToken,d=lr.MOCK_USER;else{c=(0,N.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new Re(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new lr(g)}n._authCredentials=new jT(new zx(c,d))}}(this._delegate,t,e,i)}enableNetwork(){return function Kj(n){return function Nj(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const t=yield PF(n),e=yield Hk(n);return t.setNetworkEnabled(!0),function(i){const r=Ze(i);return r._u.delete(0),mh(r)}(e)}))}(hr(n=yn(n,wi)))}(this._delegate)}disableNetwork(){return function Qj(n){return function Lj(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const t=yield PF(n),e=yield Hk(n);return t.setNetworkEnabled(!1),(i=(0,ve.Z)(function*(r){const s=Ze(r);s._u.add(0),yield _p(s),s.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(hr(n=yn(n,wi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,CF("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Zj(n){return function(t){const e=new cr;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function mj(n,t){return _k.apply(this,arguments)}(yield Gk(t),e)})),e.promise}(hr(n=yn(n,wi)))}(this._delegate)}onSnapshotsInSync(t){return function I3(n,t){return function Uj(n,t){const e=new CS(t);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return i=yield Rv(n),r=e,Ze(i).Ru.add(r),void r.next();var i,r})),()=>{e.bc(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return i=yield Rv(n),r=e,void Ze(i).Ru.delete(r);var i,r}))}}(hr(n=yn(n,wi)),zk(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Pv(this,TF(this._delegate,t))}catch(e){throw ho(e,"collection()","Firestore.collection()")}}doc(t){try{return new Ja(this,wS(this._delegate,t))}catch(e){throw ho(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new fo(this,function Tj(n,t){if(n=yn(n,nC),Pk("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Re(ue.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ws(n,null,(e=t,new rc(en.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw ho(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function k3(n,t,e){n=yn(n,wi);const i=Object.assign(Object.assign({},T3),e);return function(r){if(r.maxAttempts<1)throw new Re(ue.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,c){const d=new cr;return r.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const g=yield function FF(n){return ES(n).then(t=>t.datastore)}(r);new Pj(r.asyncQueue,g,c,s,d).run()})),d.promise}(hr(n),r=>t(new M3(n,r)),i)}(this._delegate,e=>t(new dN(this,e)))}batch(){return hr(this._delegate),new hN(new oN(this._delegate,t=>Ov(this._delegate,t)))}loadBundle(t){return function Xj(n,t){const e=hr(n=yn(n,wi)),i=new zj;return function Hj(n,t,e,i){const r=function(s,c){let d;return d="string"==typeof s?(new TextEncoder).encode(s):s,g=function(g,y){if(g instanceof Uint8Array)return kF(g,y);if(g instanceof ArrayBuffer)return kF(new Uint8Array(g),y);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new Mj(g,c);var g}(e,Gm(t));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function Aj(n,t,e){const i=Ze(n);var r;(r=(0,ve.Z)(function*(s,c,d){try{const g=yield c.getMetadata();if(yield function(k,P){const V=Ze(k),$=Ki(P.createTime);return V.persistence.runTransaction("hasNewerBundle","readonly",ee=>V.Ns.getBundleMetadata(ee,P.id)).then(ee=>!!ee&&ee.createTime.compareTo($)>=0)}(s.localStore,g))return yield c.close(),d._completeWith({taskState:"Success",documentsLoaded:(k=g).totalDocuments,bytesLoaded:k.totalBytes,totalDocuments:k.totalDocuments,totalBytes:k.totalBytes}),Promise.resolve(new Set);d._updateProgress(dF(g));const y=new oj(g,s.localStore,c.It);let C=yield c.mc();for(;C;){const k=yield y.Fu(C);k&&d._updateProgress(k),C=yield c.mc()}const D=yield y.complete();return yield _h(s,D.Lu,void 0),yield function(k,P){const V=Ze(k);return V.persistence.runTransaction("Save bundle","readwrite",$=>V.Ns.saveBundleMetadata($,P))}(s.localStore,g),d._completeWith(D.progress),Promise.resolve(D.Bu)}catch(g){return th("SyncEngine",`Loading bundle failed with ${g}`),d._failWith(g),Promise.resolve(new Set)}var k}),function(s,c,d){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield Gk(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function Jj(n,t){return function Gj(n,t){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(e,i){const r=Ze(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ns.getNamedQuery(s,i))}(yield xS(n),t)}))}(hr(n=yn(n,wi)),t).then(e=>e?new Ws(n,null,e.query):null)}(this._delegate,t).then(e=>e?new fo(this,e):null)}}class RS extends Kk{constructor(t){super(),this.firestore=t}convertBytes(t){return new aC(new Ou(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Ja.forKey(e,this.firestore,null)}}class dN{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new RS(t)}get(t){const e=Qm(t);return this._delegate.get(e).then(i=>new lC(this._firestore,new vh(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Qm(t);return i?(Xk("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Qm(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Qm(t);return this._delegate.delete(e),this}}class hN{constructor(t){this._delegate=t}set(t,e,i){const r=Qm(t);return i?(Xk("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Qm(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Qm(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Km{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new oC(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new cC(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Km.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new Km(t,new RS(t),e),r.set(e,s)),s}}Km.INSTANCES=new WeakMap;class Ja{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new RS(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Ja(e,new bi(e._delegate,i,new ze(t)))}static forKey(t,e,i){return new Ja(e,new bi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Pv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Pv(this.firestore,TF(this._delegate,t))}catch(e){throw ho(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,N.m9)(t))instanceof bi&&MF(this._delegate,t)}set(t,e){e=Xk("DocumentReference.set",e);try{return e?iN(this._delegate,t,e):iN(this._delegate,t)}catch(i){throw ho(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?rN(this._delegate,t):rN(this._delegate,t,e,...i)}catch(r){throw ho(r,"updateDoc()","DocumentReference.update()")}}delete(){return function S3(n){return Ov(yn(n.firestore,wi),[new Ya(n._key,vi.none())])}(this._delegate)}onSnapshot(...t){const e=fN(t),i=pN(t,r=>new lC(this.firestore,new vh(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return sN(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function w3(n){n=yn(n,bi);const t=yn(n.firestore,wi),e=hr(t),i=new bp(t);return function Vj(n,t){const e=new cr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(i=(0,ve.Z)(function*(r,s,c){try{const d=yield function(g,y){const C=Ze(g);return C.persistence.runTransaction("read document","readonly",D=>C.localDocuments.getDocument(D,y))}(r,s);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new Re(ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const g=Wn(d,`Failed to get document '${s} from cache`);c.reject(g)}}),function(r,s,c){return i.apply(this,arguments)})(yield xS(n),t,e);var i})),e.promise}(e,n._key).then(r=>new vh(t,i,n._key,r,new Zm(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function C3(n){n=yn(n,bi);const t=yn(n.firestore,wi);return NF(hr(t),n._key,{source:"server"}).then(e=>Qk(t,n,e))}(this._delegate):function b3(n){n=yn(n,bi);const t=yn(n.firestore,wi);return NF(hr(t),n._key).then(e=>Qk(t,n,e))}(this._delegate),e.then(i=>new lC(this.firestore,new vh(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Ja(this.firestore,this._delegate.withConverter(t?Km.getInstance(this.firestore,t):null))}}function ho(n,t,e){return n.message=n.message.replace(t,e),n}function fN(n){for(const t of n)if("object"==typeof t&&!Jk(t))return t;return{}}function pN(n,t){var e,i;let r;return r=Jk(n[0])?n[0]:Jk(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class lC{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Ja(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return nN(this._delegate,t._delegate)}}class cC extends lC{data(t){const e=this._delegate.data(t);return function HT(n,t){n||ht()}(void 0!==e),e}}class fo{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new RS(t)}where(t,e,i){try{return new fo(this.firestore,yp(this._delegate,function c3(n,t,e){const i=t,r=MS("where",n);return new l3(r,i,e)}(t,e,i)))}catch(r){throw ho(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new fo(this.firestore,yp(this._delegate,function d3(n,t="asc"){const e=t,i=MS("orderBy",n);return new u3(i,e)}(t,e)))}catch(i){throw ho(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new fo(this.firestore,yp(this._delegate,function h3(n){return DF("limit",n),new ZF("limit",n,"F")}(t)))}catch(e){throw ho(e,"limit()","Query.limit()")}}limitToLast(t){try{return new fo(this.firestore,yp(this._delegate,function f3(n){return DF("limitToLast",n),new ZF("limitToLast",n,"L")}(t)))}catch(e){throw ho(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new fo(this.firestore,yp(this._delegate,function p3(...n){return new KF("startAt",n,!0)}(...t)))}catch(e){throw ho(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new fo(this.firestore,yp(this._delegate,function g3(...n){return new KF("startAfter",n,!1)}(...t)))}catch(e){throw ho(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new fo(this.firestore,yp(this._delegate,function m3(...n){return new QF("endBefore",n,!1)}(...t)))}catch(e){throw ho(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new fo(this.firestore,yp(this._delegate,function _3(...n){return new QF("endAt",n,!0)}(...t)))}catch(e){throw ho(e,"endAt()","Query.endAt()")}}isEqual(t){return Fk(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function x3(n){n=yn(n,Ws);const t=yn(n.firestore,wi),e=hr(t),i=new bp(t);return function Bj(n,t){const e=new cr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(i=(0,ve.Z)(function*(r,s,c){try{const d=yield W0(r,s,!0),g=new pF(s,d.Hi),y=g.Wu(d.documents),C=g.applyChanges(y,!1);c.resolve(C.snapshot)}catch(d){const g=Wn(d,`Failed to execute query '${s} against cache`);c.reject(g)}}),function(r,s,c){return i.apply(this,arguments)})(yield xS(n),t,e);var i})),e.promise}(e,n._query).then(r=>new vp(t,i,n,r))}(this._delegate):"server"===t?.source?function D3(n){n=yn(n,Ws);const t=yn(n.firestore,wi),e=hr(t),i=new bp(t);return LF(e,n._query,{source:"server"}).then(r=>new vp(t,i,n,r))}(this._delegate):function E3(n){n=yn(n,Ws);const t=yn(n.firestore,wi),e=hr(t),i=new bp(t);return YF(n._query),LF(e,n._query).then(r=>new vp(t,i,n,r))}(this._delegate),e.then(i=>new eR(this.firestore,new vp(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=fN(t),i=pN(t,r=>new eR(this.firestore,new vp(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return sN(this._delegate,e,i)}withConverter(t){return new fo(this.firestore,this._delegate.withConverter(t?Km.getInstance(this.firestore,t):null))}}class G3{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new cC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class eR{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new fo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new cC(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new G3(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new cC(this._firestore,i))})}isEqual(t){return nN(this._delegate,t._delegate)}}class Pv extends fo{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Ja(this.firestore,t):null}doc(t){try{return new Ja(this.firestore,void 0===t?wS(this._delegate):wS(this._delegate,t))}catch(e){throw ho(e,"doc()","CollectionReference.doc()")}}add(t){return function A3(n,t){const e=yn(n.firestore,wi),i=wS(n),r=kS(n.converter,t);return Ov(e,[AS(Wm(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,vi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Ja(this.firestore,e))}isEqual(t){return MF(this._delegate,t._delegate)}withConverter(t){return new Pv(this.firestore,this._delegate.withConverter(t?Km.getInstance(this.firestore,t):null))}}function Qm(n){return yn(n,bi)}class tR{constructor(...t){this._delegate=new yh(...t)}static documentId(){return new tR(Ai.keyField().canonicalString())}isEqual(t){return(t=(0,N.m9)(t))instanceof yh&&this._delegate._internalPath.isEqual(t._internalPath)}}class Xm{constructor(t){this._delegate=t}static serverTimestamp(){const t=function O3(){return new $k("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Xm(t)}static delete(){const t=function R3(){return new iC("deleteField")}();return t._methodName="FieldValue.delete",new Xm(t)}static arrayUnion(...t){const e=function P3(...n){return new i3("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Xm(e)}static arrayRemove(...t){const e=function F3(...n){return new r3("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Xm(e)}static increment(t){const e=function N3(n){return new s3("increment",n)}(t);return e._methodName="FieldValue.increment",new Xm(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const j3={Firestore:uN,GeoPoint:DS,Timestamp:ii,Blob:aC,Transaction:dN,WriteBatch:hN,DocumentReference:Ja,DocumentSnapshot:lC,Query:fo,QueryDocumentSnapshot:cC,QuerySnapshot:eR,CollectionReference:Pv,FieldPath:tR,FieldValue:Xm,setLogLevel:function H3(n){!function jx(n){Xl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function $3(n){(function z3(n,t){n.INTERNAL.registerComponent(new Zo.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},j3)))})(n,(t,e)=>new uN(t,e,new U3)),n.registerVersion("@firebase/firestore-compat","0.2.3")}(tx.Z);var Xo=F(6451),OS=F(5363),q3=F(6063);class W3 extends lt.x{constructor(t=1/0,e=1/0,i=q3.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:c}=this;e||(i.push(t),!r&&i.push(s.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let c=0;c<s.length&&!t.closed;c+=i?1:2)t.next(s[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const c=e.now();let d=0;for(let g=1;g<i.length&&i[g]<=c;g+=2)d=g;d&&i.splice(0,d+1)}}}var nR=F(3099);function gN(n,t,e){var i,r;let s,c=!1;return n&&"object"==typeof n?(s=null!==(i=n.bufferSize)&&void 0!==i?i:1/0,t=null!==(r=n.windowTime)&&void 0!==r?r:1/0,c=!!n.refCount,e=n.scheduler):s=n??1/0,(0,nR.B)({connector:()=>new W3(s,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}function mN(n,t){return(0,ai.m)(t)?An(()=>n,t):An(()=>n)}var iR=F(9468);F(5867);const sR=new Map,yN={activated:!1,tokenObservers:[]},X3={initialized:!1,enabled:!1};function Ds(n){return sR.get(n)||Object.assign({},yN)}function FS(){return X3}class rz{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,ve.Z)(function*(){e.stop();try{e.pending=new N.BH,yield function sz(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new N.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const po=new N.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function bN(n){if(!Ds(n).activated)throw po.create("use-before-activation",{appName:n.name})}function lR(n,t){return cR.apply(this,arguments)}function cR(){return cR=(0,ve.Z)(function*({url:n,body:t},e){var i,r;const s={"Content-Type":"application/json"},c=e.getImmediate({optional:!0});if(c){const P=yield c.getHeartbeatsHeader();P&&(s["X-Firebase-Client"]=P)}const d={method:"POST",body:JSON.stringify(t),headers:s};let g,y;try{g=yield fetch(n,d)}catch(P){throw po.create("fetch-network-error",{originalErrorMessage:null===(i=P)||void 0===i?void 0:i.message})}if(200!==g.status)throw po.create("fetch-status-error",{httpStatus:g.status});try{y=yield g.json()}catch(P){throw po.create("fetch-parse-error",{originalErrorMessage:null===(r=P)||void 0===r?void 0:r.message})}const C=y.ttl.match(/^([\d.]+)(s)$/);if(!C||!C[2]||isNaN(Number(C[1])))throw po.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const D=1e3*Number(C[1]),k=Date.now();return{token:y.token,expireTimeMillis:k+D,issuedAtTimeMillis:k}}),cR.apply(this,arguments)}function cz(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const uC="firebase-app-check-store";let VS=null;function CN(){return VS||(VS=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var s;t(po.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(uC,{keyPath:"compositeKey"})}}catch(i){t(po.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),VS)}function uR(){return uR=(0,ve.Z)(function*(n,t){const i=(yield CN()).transaction(uC,"readwrite"),s=i.objectStore(uC).put({compositeKey:n,value:t});return new Promise((c,d)=>{s.onsuccess=g=>{c()},i.onerror=g=>{var y;d(po.create("storage-set",{originalErrorMessage:null===(y=g.target.error)||void 0===y?void 0:y.message}))}})}),uR.apply(this,arguments)}const dC=new Ua.Yd("@firebase/app-check");function fR(n,t){return(0,N.hl)()?function fz(n,t){return function EN(n,t){return uR.apply(this,arguments)}(function DN(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{dC.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function SN(){return FS().enabled}function AN(){return gR.apply(this,arguments)}function gR(){return gR=(0,ve.Z)(function*(){const n=FS();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),gR.apply(this,arguments)}const vz={error:"UNKNOWN_ERROR"};function bz(n){return N.US.encodeString(JSON.stringify(n),!1)}function BS(n){return mR.apply(this,arguments)}function mR(){return mR=(0,ve.Z)(function*(n,t=!1){const e=n.app;bN(e);const i=Ds(e);let s,r=i.token;if(r&&!Fv(r)&&(i.token=void 0,r=void 0),!r){const g=yield i.cachedTokenPromise;g&&(Fv(g)?r=g:yield fR(e,void 0))}if(!t&&r&&Fv(r))return{token:r.token};let d,c=!1;if(SN()){i.exchangeTokenPromise||(i.exchangeTokenPromise=lR(cz(e,yield AN()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);const g=yield i.exchangeTokenPromise;return yield fR(e,g),i.token=g,{token:g.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),r=yield Ds(e).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?dC.warn(g.message):dC.error(g),s=g}return r?s?d=Fv(r)?{token:r.token,internalError:s}:MN(s):(d={token:r.token},i.token=r,yield fR(e,r)):d=MN(s),c&&TN(e,d),d}),mR.apply(this,arguments)}function yR(n,t){const e=Ds(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function IN(n){const{app:t}=n,e=Ds(t);let i=e.tokenRefresher;i||(i=function wz(n){const{app:t}=n;return new rz((0,ve.Z)(function*(){let i;if(i=Ds(t).token?yield BS(n,!0):yield BS(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Ds(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function TN(n,t){const e=Ds(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function Fv(n){return n.expireTimeMillis-Date.now()>0}function MN(n){return{token:bz(vz),error:n}}class Cz{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Ds(this.app);for(const e of t)yR(this.app,e.next);return Promise.resolve()}}const VN="app-check-internal";!function Nz(){(0,To._registerComponent)(new Zo.wA("app-check",n=>function Ez(n,t){return new Cz(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(VN).initialize()})),(0,To._registerComponent)(new Zo.wA(VN,n=>function xz(n){return{getToken:t=>BS(n,t),addTokenListener:t=>function _R(n,t,e,i){const{app:r}=n,s=Ds(r);if(s.tokenObservers=[...s.tokenObservers,{next:e,error:i,type:t}],s.token&&Fv(s.token)){const d=s.token;Promise.resolve().then(()=>{e({token:d.token}),IN(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>IN(n))}(n,"INTERNAL",t),removeTokenListener:t=>yR(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,To.registerVersion)("@firebase/app-check","0.5.17")}();class HS{constructor(){return(0,ni.vb)("app-check")}}typeof window<"u"&&window;var UN=F(127);const ER=new o.OlP("angularfire2.auth.use-emulator"),xR=new o.OlP("angularfire2.auth.settings"),DR=new o.OlP("angularfire2.auth.tenant-id"),SR=new o.OlP("angularfire2.auth.langugage-code"),AR=new o.OlP("angularfire2.auth.use-device-language"),IR=new o.OlP("angularfire.auth.persistence"),TR=(n,t,e,i,r,s,c,d)=>(0,bs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=t.runOutsideAngular(()=>n.auth());if(e&&g.useEmulator(...e),i&&(g.tenantId=i),g.languageCode=r,s&&g.useDeviceLanguage(),c)for(const[y,C]of Object.entries(c))g.settings[y]=C;return d&&g.setPersistence(d),g},[e,i,r,s,c,d]);let GS=(()=>{class n{constructor(e,i,r,s,c,d,g,y,C,D,k,P){const V=new lt.x,$=Je(void 0).pipe((0,OS.Q)(c.outsideAngular),An(()=>s.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,822)))),(0,qe.U)(()=>(0,bs.on)(e,s,i)),(0,qe.U)(ee=>TR(ee,s,d,y,C,D,g,k)),gN({bufferSize:1,refCount:!1}));if(ls(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Je(null);else{$.pipe(Vs()).subscribe();const Se=$.pipe(An(pt=>pt.getRedirectResult().then(It=>It,()=>null)),ni.iC,gN({bufferSize:1,refCount:!1})),$e=$.pipe(An(pt=>new Jn.y(It=>({unsubscribe:s.runOutsideAngular(()=>pt.onAuthStateChanged(Nt=>It.next(Nt),Nt=>It.error(Nt),()=>It.complete()))})))),tt=$.pipe(An(pt=>new Jn.y(It=>({unsubscribe:s.runOutsideAngular(()=>pt.onIdTokenChanged(Nt=>It.next(Nt),Nt=>It.error(Nt),()=>It.complete()))}))));this.authState=Se.pipe(mN($e),(0,iR.R)(c.outsideAngular),(0,OS.Q)(c.insideAngular)),this.user=Se.pipe(mN(tt),(0,iR.R)(c.outsideAngular),(0,OS.Q)(c.insideAngular)),this.idToken=this.user.pipe(An(pt=>pt?(0,Xt.D)(pt.getIdToken()):Je(null))),this.idTokenResult=this.user.pipe(An(pt=>pt?(0,Xt.D)(pt.getIdTokenResult()):Je(null))),this.credential=(0,Xo.T)(Se,V,this.authState.pipe(dn(pt=>!pt))).pipe((0,qe.U)(pt=>pt?.user?pt:null),(0,iR.R)(c.outsideAngular),(0,OS.Q)(c.insideAngular))}return(0,bs.pX)(this,$,s,{spy:{apply:(ee,Se,$e)=>{(ee.startsWith("signIn")||ee.startsWith("createUser"))&&$e.then(tt=>V.next(tt))}}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(bs.Dh),o.LFG(bs.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(ni.HU),o.LFG(ER,8),o.LFG(xR,8),o.LFG(DR,8),o.LFG(SR,8),o.LFG(AR,8),o.LFG(IR,8),o.LFG(HS,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Gz=(()=>{class n{constructor(){UN.Z.registerVersion("angularfire",ni.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[GS]}),n})();function HN(n,t){return function jz(n,t=Rf.z){return new Jn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function MR(n,t){return HN(n,t).pipe((0,qe.U)(e=>({payload:e,type:"query"})))}function jS(n,t){return MR(n,t).pipe(vr(void 0),ew(),(0,qe.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(c=>({type:c.type,payload:c}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,d)=>{const g=r.find(C=>C.doc.ref.isEqual(c.ref)),y=e?.payload.docs.find(C=>C.ref.isEqual(c.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(c.metadata)||!g&&y&&JSON.stringify(y.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:c}})}),s}))}function GN(n,t,e){return jS(n,e).pipe(Oa((i,r)=>function $z(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function qz(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return kR(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return kR(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return kR(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),Of(),(0,qe.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function kR(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function jN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class zN{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=jS(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,qe.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(vr(void 0),ew(),dn(([i,r])=>r.length>0||!i),(0,qe.U)(([i,r])=>r),ni.iC)}auditTrail(t){return this.stateChanges(t).pipe(Oa((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=jN(t);return GN(this.query,e,this.afs.schedulers.outsideAngular).pipe(ni.iC)}valueChanges(t={}){return MR(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),ni.iC)}get(t){return(0,Xt.D)(this.query.get(t)).pipe(ni.iC)}add(t){return this.ref.add(t)}doc(t){return new $N(this.ref.doc(t),this.afs)}}class $N{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=YN(i,e);return new zN(r,s,this.afs)}snapshotChanges(){return function zz(n,t){return HN(n,t).pipe(vr(void 0),ew(),(0,qe.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ni.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,qe.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Xt.D)(this.ref.get(t)).pipe(ni.iC)}}class Wz{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?jS(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),dn(e=>e.length>0),ni.iC):jS(this.query,this.afs.schedulers.outsideAngular).pipe(ni.iC)}auditTrail(t){return this.stateChanges(t).pipe(Oa((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=jN(t);return GN(this.query,e,this.afs.schedulers.outsideAngular).pipe(ni.iC)}valueChanges(t={}){return MR(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),ni.iC)}get(t){return(0,Xt.D)(this.query.get(t)).pipe(ni.iC)}}const qN=new o.OlP("angularfire2.enableFirestorePersistence"),WN=new o.OlP("angularfire2.firestore.persistenceSettings"),Yz=new o.OlP("angularfire2.firestore.settings"),Zz=new o.OlP("angularfire2.firestore.use-emulator");function YN(n,t=(e=>e)){return{query:t(n),ref:n}}let ZN=(()=>{class n{constructor(e,i,r,s,c,d,g,y,C,D,k,P,V,$,ee,Se,$e){this.schedulers=g;const tt=(0,bs.on)(e,d,i),pt=C;D&&TR(tt,d,k,V,$,ee,P,Se),[this.firestore,this.persistenceEnabled$]=(0,bs.cc)(`${tt.name}.firestore`,"AngularFirestore",tt.name,()=>{const It=d.runOutsideAngular(()=>tt.firestore());if(s&&It.settings(s),pt&&It.useEmulator(...pt),r&&!ls(c)){const Nt=()=>{try{return(0,Xt.D)(It.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(Cn){return typeof console<"u"&&console.warn(Cn),Je(!1)}};return[It,d.runOutsideAngular(Nt)]}return[It,Je(!1)]},[s,pt,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:c}=YN(r,i),d=this.schedulers.ngZone.run(()=>s);return new zN(d,c,this)}collectionGroup(e,i){const r=i||(c=>c),s=this.firestore.collectionGroup(e);return new Wz(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new $N(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(bs.Dh),o.LFG(bs.xv,8),o.LFG(qN,8),o.LFG(Yz,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(ni.HU),o.LFG(WN,8),o.LFG(Zz,8),o.LFG(GS,8),o.LFG(ER,8),o.LFG(xR,8),o.LFG(DR,8),o.LFG(SR,8),o.LFG(AR,8),o.LFG(IR,8),o.LFG(HS,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Kz=(()=>{class n{constructor(){UN.Z.registerVersion("angularfire",ni.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:qN,useValue:!0},{provide:WN,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[ZN]}),n})();var KN=F(5032);const QN="@firebase/database",XN="0.13.10";let RR="";function JN(n){RR=n}class Jz{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,N.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,N.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class e${constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,N.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const eL=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Jz(t)}}catch{}return new e$},Jm=eL("localStorage"),OR=eL("sessionStorage"),Nv=new Ua.Yd("@firebase/database"),tL=function(){let n=1;return function(){return n++}}(),nL=function(n){const t=(0,N.dS)(n),e=new N.gQ;e.update(t);const i=e.digest();return N.US.encodeByteArray(i)},hC=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=hC.apply(null,i):t+="object"==typeof i?(0,N.Wl)(i):i,t+=" "}return t};let e_=null,iL=!0;const rL=function(n,t){(0,N.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Nv.logLevel=Ua.in.VERBOSE,e_=Nv.log.bind(Nv),t&&OR.set("logging_enabled",!0)):"function"==typeof n?e_=n:(e_=null,OR.remove("logging_enabled"))},Qr=function(...n){if(!0===iL&&(iL=!1,null===e_&&!0===OR.get("logging_enabled")&&rL(!0)),e_){const t=hC.apply(null,n);e_(t)}},fC=function(n){return function(...t){Qr(n,...t)}},PR=function(...n){const t="FIREBASE INTERNAL ERROR: "+hC(...n);Nv.error(t)},Pu=function(...n){const t=`FIREBASE FATAL ERROR: ${hC(...n)}`;throw Nv.error(t),new Error(t)},Ys=function(...n){const t="FIREBASE WARNING: "+hC(...n);Nv.warn(t)},zS=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},bh="[MIN_NAME]",Fu="[MAX_NAME]",t_=function(n,t){if(n===t)return 0;if(n===bh||t===Fu)return-1;if(t===bh||n===Fu)return 1;{const e=$S(n),i=$S(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},i$=function(n,t){return n===t?0:n<t?-1:1},pC=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,N.Wl)(t))},FR=function(n){if("object"!=typeof n||null===n)return(0,N.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,N.Wl)(t[i]),e+=":",e+=FR(n[t[i]]);return e+="}",e},sL=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Xr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const oL=function(n){(0,N.hu)(!zS(n),"Invalid JSON number");const i=1023;let r,s,c,d,g;0===n?(s=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=d+i,c=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const y=[];for(g=52;g;g-=1)y.push(c%2?1:0),c=Math.floor(c/2);for(g=11;g;g-=1)y.push(s%2?1:0),s=Math.floor(s/2);y.push(r?1:0),y.reverse();const C=y.join("");let D="";for(g=0;g<64;g+=8){let k=parseInt(C.substr(g,8),2).toString(16);1===k.length&&(k="0"+k),D+=k}return D.toLowerCase()},a$=new RegExp("^-?(0*)\\d{1,10}$"),aL=-2147483648,NR=2147483647,$S=function(n){if(a$.test(n)){const t=Number(n);if(t>=aL&&t<=NR)return t}return null},Lv=function(n){try{n()}catch(t){setTimeout(()=>{throw Ys("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},gC=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class c${constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Ys(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class u${constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Qr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ys(t)}}let mC=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const hL=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gL="websocket",mL="long_polling";class VR{constructor(t,e,i,r,s=!1,c="",d=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Jm.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Jm.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function _L(n,t,e){let i;if((0,N.hu)("string"==typeof t,"typeof type must == string"),(0,N.hu)("object"==typeof e,"typeof params must == object"),t===gL)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==mL)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function d$(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Xr(e,(s,c)=>{r.push(s+"="+c)}),i+r.join("&")}class h${constructor(){this.counters_={}}incrementCounter(t,e=1){(0,N.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,N.p$)(this.counters_)}}const BR={},UR={};function HR(n){const t=n.toString();return BR[t]||(BR[t]=new h$),BR[t]}class p${constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Lv(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Cp{constructor(t,e,i,r,s,c,d){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=fC(t),this.stats_=HR(e),this.urlFn=g=>(this.appCheckToken&&(g.ac=this.appCheckToken),_L(e,mL,g))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new p$(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,N.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new GR((...s)=>{const[c,d,g,y,C]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=d,this.password=g;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,d]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&hL.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Cp.forceAllow_=!0}static forceDisallow(){Cp.forceDisallow_=!0}static isAvailable(){return!((0,N.Yr)()||!Cp.forceAllow_&&(Cp.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,N.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,N.h$)(e),r=sL(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,N.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,N.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class GR{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,N.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=tL(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=GR.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){Qr("frame writing exception"),d.stack&&Qr(d.stack),Qr(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Qr("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,N.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Qr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let WS=null;typeof MozWebSocket<"u"?WS=MozWebSocket:typeof WebSocket<"u"&&(WS=WebSocket);let Vv=(()=>{class n{constructor(e,i,r,s,c,d,g){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=fC(this.connId),this.stats_=HR(i),this.connURL=n.connectionURL_(i,d,g,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,c){const d={v:"5"};return!(0,N.Yr)()&&typeof location<"u"&&location.hostname&&hL.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),s&&(d.ac=s),c&&(d.p=c),_L(e,gL,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Jm.set("previous_websocket_failure",!0);try{let r;if((0,N.Yr)()){r={headers:{"User-Agent":`Firebase/5/${RR}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,d=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new WS(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==WS&&!n.forceDisallow_}static previouslyFailed(){return Jm.isInMemoryStorage||!0===Jm.get("previous_websocket_failure")}markConnectionHealthy(){Jm.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,N.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,N.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,N.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=sL(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),xL=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Cp,Vv]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Vv&&Vv.isAvailable();let r=i&&!Vv.previouslyFailed();if(e.webSocketOnly&&(i||Ys("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Vv];else{const s=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&s.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class kL{constructor(t,e,i,r,s,c,d,g,y,C){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=g,this.onKill_=y,this.lastSessionId=C,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=fC("c:"+this.id+":"),this.transportManager_=new xL(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=gC(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=pC("t",t),i=pC("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=pC("t",t),i=pC("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=pC("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?PR("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):PR("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Ys("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),gC(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gC(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Jm.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class RL{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class OL{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,N.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,N.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class YS extends OL{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,N.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new YS}getInitialEvent(t){return(0,N.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Ln{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Tn(){return new Ln("")}function cn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ep(n){return n.pieces_.length-n.pieceNum_}function ri(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Ln(n.pieces_,t)}function zR(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function _C(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function NL(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Ln(t,0)}function Ii(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Ln)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Ln(e,0)}function un(n){return n.pieceNum_>=n.pieces_.length}function go(n,t){const e=cn(n),i=cn(t);if(null===e)return t;if(e===i)return go(ri(n),ri(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function N$(n,t){const e=_C(n,0),i=_C(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=t_(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function $R(n,t){if(Ep(n)!==Ep(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function el(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Ep(n)>Ep(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class L${constructor(t,e){this.errorPrefix_=e,this.parts_=_C(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,N.ug)(this.parts_[i]);LL(this)}}function LL(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+n_(n))}function n_(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class qR extends OL{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new qR}getInitialEvent(t){return(0,N.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const yC=1e3;let KS,i_=(()=>{class n extends RL{constructor(e,i,r,s,c,d,g,y){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=g,this.authOverride_=y,this.id=n.nextPersistentConnectionId_++,this.log_=fC("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=yC,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y&&!(0,N.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");qR.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&YS.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,c={r:s,a:e,b:i};this.log_((0,N.Wl)(c)),(0,N.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new N.BH,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:d=>{const g=d.d;"ok"===d.s?i.resolve(g):i.reject(g)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,s){this.initConnection_();const c=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),(0,N.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,N.hu)(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const g={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(d).set(c,g),this.connected_&&this.sendListen_(g)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const c={p:r};e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,g=>{const y=g.d,C=g.s;n.warnOnListenWarnings_(y,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",g),"ok"!==C&&this.removeListen_(r,s),e.onComplete&&e.onComplete(C,y))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,N.r3)(e,"w")){const r=(0,N.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Ys(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,N.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,N.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const c=s.s,d=s.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,N.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const c={p:e};s&&(c.q=r,c.t=s),this.sendRequest("n",c)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const c={p:i,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,d=>{s&&setTimeout(()=>{s(d.s,d.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,c){this.initConnection_();const d={p:i,d:r};void 0!==c&&(d.h=c),this.outstandingPuts_.push({action:e,request:d,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,N.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):PR("Unrecognized action received from server: "+(0,N.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,N.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=yC,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=yC,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=yC),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,ve.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,d=e.lastSessionId;let g=!1,y=null;const C=function(){y?y.close():(g=!0,s())};e.realtime_={close:C,sendRequest:function(P){(0,N.hu)(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(P)}};const k=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[P,V]=yield Promise.all([e.authTokenProvider_.getToken(k),e.appCheckTokenProvider_.getToken(k)]);g?Qr("getToken() completed but was canceled"):(Qr("getToken() completed. Creating connection."),e.authToken_=P&&P.accessToken,e.appCheckToken_=V&&V.token,y=new kL(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,$=>{Ys($+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},d))}catch(P){e.log_("Failed to get token: "+P),g||(e.repoInfo_.nodeAdmin&&Ys(P),C())}}})()}interrupt(e){Qr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Qr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,N.xb)(this.interruptReasons_)&&(this.reconnectDelay_=yC,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(c=>FR(c)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new Ln(e).toString();let s;if(this.listens.has(r)){const c=this.listens.get(r);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){Qr("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Qr("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,N.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+RR.replace(/\./g,"-")]=1,(0,N.uI)()?e["framework.cordova"]=1:(0,N.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=YS.getInstance().currentlyOnline();return(0,N.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class hn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new hn(t,e)}}class ZS{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new hn(bh,t),r=new hn(bh,e);return 0!==this.compare(i,r)}minPost(){return hn.MIN}}class UL extends ZS{static get __EMPTY_NODE(){return KS}static set __EMPTY_NODE(t){KS=t}compare(t,e){return t_(t.name,e.name)}isDefinedOn(t){throw(0,N.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return hn.MIN}maxPost(){return new hn(Fu,KS)}makePost(t,e){return(0,N.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new hn(t,KS)}toString(){return".key"}}const Nu=new UL;class QS{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(c=e?i(t.key,e):1,r&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let YR,uc=(()=>{class n{constructor(e,i,r,s,c){this.key=e,this.value=i,this.color=r??n.RED,this.left=s??Po.EMPTY_NODE,this.right=c??Po.EMPTY_NODE}copy(e,i,r,s,c){return new n(e??this.key,i??this.value,r??this.color,s??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const c=r(e,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Po.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Po.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Po{constructor(t,e=Po.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Po(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,uc.BLACK,null,null))}remove(t){return new Po(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,uc.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new QS(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new QS(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new QS(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new QS(this.root_,null,this.comparator_,!0,t)}}function $$(n,t){return t_(n.name,t.name)}function WR(n,t){return t_(n,t)}Po.EMPTY_NODE=new class z${copy(t,e,i,r,s){return this}insert(t,e,i){return new uc(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const HL=function(n){return"number"==typeof n?"number:"+oL(n):"string:"+n},GL=function(n){if(n.isLeafNode()){const t=n.val();(0,N.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,N.r3)(t,".sv"),"Priority must be a string or number.")}else(0,N.hu)(n===YR||n.isEmpty(),"priority of unexpected type.");(0,N.hu)(n===YR||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let jL,zL,$L,Bv=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,N.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),GL(this.priorityNode_)}static set __childrenNodeConstructor(e){jL=e}static get __childrenNodeConstructor(){return jL}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return un(e)?this:".priority"===cn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=cn(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,N.hu)(".priority"!==r||1===Ep(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(ri(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+HL(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?oL(this.value_):this.value_,this.lazyHash_=nL(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,N.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,N.hu)(s>=0,"Unknown leaf type: "+i),(0,N.hu)(c>=0,"Unknown leaf type: "+r),s===c?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const di=new class Z$ extends ZS{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?t_(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return hn.MIN}maxPost(){return new hn(Fu,new Bv("[PRIORITY-POST]",$L))}makePost(t,e){const i=zL(t);return new hn(e,new Bv("[PRIORITY-POST]",i))}toString(){return".priority"}},K$=Math.log(2);class Q${constructor(t){this.count=parseInt(Math.log(t+1)/K$,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const XS=function(n,t,e,i){n.sort(t);const r=function(g,y){const C=y-g;let D,k;if(0===C)return null;if(1===C)return D=n[g],k=e?e(D):D,new uc(k,D.node,uc.BLACK,null,null);{const P=parseInt(C/2,10)+g,V=r(g,P),$=r(P+1,y);return D=n[P],k=e?e(D):D,new uc(k,D.node,uc.BLACK,V,$)}},d=function(g){let y=null,C=null,D=n.length;const k=function(V,$){const ee=D-V,Se=D;D-=V;const $e=r(ee+1,Se),tt=n[ee],pt=e?e(tt):tt;P(new uc(pt,tt.node,$,null,$e))},P=function(V){y?(y.left=V,y=V):(C=V,y=V)};for(let V=0;V<g.count;++V){const $=g.nextBitIsOne(),ee=Math.pow(2,g.count-(V+1));$?k(ee,uc.BLACK):(k(ee,uc.BLACK),k(ee,uc.RED))}return C}(new Q$(n.length));return new Po(i||t,d)};let ZR;const Uv={};class wh{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,N.hu)(Uv&&di,"ChildrenNode.ts has not been loaded"),ZR=ZR||new wh({".priority":Uv},{".priority":di}),ZR}get(t){const e=(0,N.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Po?e:null}hasIndex(t){return(0,N.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,N.hu)(t!==Nu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(hn.Wrap);let d,c=s.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=s.getNext();d=r?XS(i,t.getCompare()):Uv;const g=t.toString(),y=Object.assign({},this.indexSet_);y[g]=t;const C=Object.assign({},this.indexes_);return C[g]=d,new wh(C,y)}addToIndexes(t,e){const i=(0,N.UI)(this.indexes_,(r,s)=>{const c=(0,N.DV)(this.indexSet_,s);if((0,N.hu)(c,"Missing index implementation for "+s),r===Uv){if(c.isDefinedOn(t.node)){const d=[],g=e.getIterator(hn.Wrap);let y=g.getNext();for(;y;)y.name!==t.name&&d.push(y),y=g.getNext();return d.push(t),XS(d,c.getCompare())}return Uv}{const d=e.get(t.name);let g=r;return d&&(g=g.remove(new hn(t.name,d))),g.insert(t,t.node)}});return new wh(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,N.UI)(this.indexes_,r=>{if(r===Uv)return r;{const s=e.get(t.name);return s?r.remove(new hn(t.name,s)):r}});return new wh(i,this.indexSet_)}}let vC,Yt=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&GL(this.priorityNode_),this.children_.isEmpty()&&(0,N.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return vC||(vC=new n(new Po(WR),null,wh.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||vC}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?vC:i}}getChild(e){const i=cn(e);return null===i?this:this.getImmediateChild(i).getChild(ri(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,N.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new hn(e,i);let s,c;i.isEmpty()?(s=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(r,this.children_));const d=s.isEmpty()?vC:this.priorityNode_;return new n(s,d,c)}}updateChild(e,i){const r=cn(e);if(null===r)return i;{(0,N.hu)(".priority"!==cn(e)||1===Ep(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(ri(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,c=!0;if(this.forEachChild(di,(d,g)=>{i[d]=g.val(e),r++,c&&n.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):c=!1}),!e&&c&&s<2*r){const d=[];for(const g in i)d[g]=i[g];return d}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+HL(this.getPriority().val())+":"),this.forEachChild(di,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":nL(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const c=s.getPredecessorKey(new hn(e,i));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new hn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new hn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,hn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,hn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)>0;)s.getNext(),c=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===bC?-1:0}withIndex(e){if(e===Nu||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Nu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(di),s=i.getIterator(di);let c=r.getNext(),d=s.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=s.getNext()}return null===c&&null===d}return!1}return!1}}resolveIndex_(e){return e===Nu?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const bC=new class X$ extends Yt{constructor(){super(new Po(WR),Yt.EMPTY_NODE,wh.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Yt.EMPTY_NODE}isEmpty(){return!1}};function Ui(n,t=null){if(null===n)return Yt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,N.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Bv(n,Ui(t));if(n instanceof Array){let e=Yt.EMPTY_NODE;return Xr(n,(i,r)=>{if((0,N.r3)(n,i)&&"."!==i.substring(0,1)){const s=Ui(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(Ui(t))}{const e=[];let i=!1;if(Xr(n,(c,d)=>{if("."!==c.substring(0,1)){const g=Ui(d);g.isEmpty()||(i=i||!g.getPriority().isEmpty(),e.push(new hn(c,g)))}}),0===e.length)return Yt.EMPTY_NODE;const s=XS(e,$$,c=>c.name,WR);if(i){const c=XS(e,di.getCompare());return new Yt(s,Ui(t),new wh({".priority":c},{".priority":di}))}return new Yt(s,Ui(t),wh.Default)}}Object.defineProperties(hn,{MIN:{value:new hn(bh,Yt.EMPTY_NODE)},MAX:{value:new hn(Fu,bC)}}),UL.__EMPTY_NODE=Yt.EMPTY_NODE,Bv.__childrenNodeConstructor=Yt,function q$(n){YR=n}(bC),function Y$(n){$L=n}(bC),function W$(n){zL=n}(Ui);class KR extends ZS{constructor(t){super(),this.indexPath_=t,(0,N.hu)(!un(t)&&".priority"!==cn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?t_(t.name,e.name):s}makePost(t,e){const i=Ui(t),r=Yt.EMPTY_NODE.updateChild(this.indexPath_,i);return new hn(e,r)}maxPost(){const t=Yt.EMPTY_NODE.updateChild(this.indexPath_,bC);return new hn(Fu,t)}toString(){return _C(this.indexPath_,0).join("/")}}const QR=new class e6 extends ZS{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?t_(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return hn.MIN}maxPost(){return hn.MAX}makePost(t,e){const i=Ui(t);return new hn(e,i)}toString(){return".value"}},Hv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",t6=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=Hv.charAt(e%64),e=Math.floor(e/64);(0,N.hu)(0===e,"Cannot push at time == 0");let c=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=Hv.charAt(t[r]);return(0,N.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),YL=function(n){if(n===""+NR)return"-";const t=$S(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let c=0;c<e.length;c++)e[c]=n.charAt(c);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return Fu;const s=Hv.charAt(Hv.indexOf(e[i])+1);return e[i]=s,e.slice(0,i+1).join("")},ZL=function(n){if(n===""+aL)return bh;const t=$S(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+NR:(delete e[e.length-1],e.join("")):(e[e.length-1]=Hv.charAt(Hv.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function KL(n){return{type:"value",snapshotNode:n}}function Gv(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function wC(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function CC(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class JR{constructor(t){this.index_=t}updateChild(t,e,i,r,s,c){(0,N.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(e);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(wC(e,d)):(0,N.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(Gv(e,i)):c.trackChildChange(CC(e,i,d))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(di,(r,s)=>{e.hasChild(r)||i.trackChildChange(wC(r,s))}),e.isLeafNode()||e.forEachChild(di,(r,s)=>{if(t.hasChild(r)){const c=t.getImmediateChild(r);c.equals(s)||i.trackChildChange(CC(r,s,c))}else i.trackChildChange(Gv(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Yt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class EC{constructor(t){this.indexedFilter_=new JR(t.getIndex()),this.index_=t.getIndex(),this.startPost_=EC.getStartPost_(t),this.endPost_=EC.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,s,c){return this.matches(new hn(e,i))||(i=Yt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Yt.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Yt.EMPTY_NODE);const s=this;return e.forEachChild(di,(c,d)=>{s.matches(new hn(c,d))||(r=r.updateImmediateChild(c,Yt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class i6{constructor(t){this.rangedFilter_=new EC(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,s,c){return this.rangedFilter_.matches(new hn(e,i))||(i=Yt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,c):this.fullLimitUpdateChild_(t,e,i,s,c)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=Yt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=Yt.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const d=s.getNext();let g;if(g=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),d)<=0:this.index_.compare(d,this.rangedFilter_.getEndPost())<=0,!g)break;r=r.updateImmediateChild(d.name,d.node),c++}}else{let s,c,d,g;if(r=e.withIndex(this.index_),r=r.updatePriority(Yt.EMPTY_NODE),this.reverse_){g=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const D=this.index_.getCompare();d=(k,P)=>D(P,k)}else g=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),d=this.index_.getCompare();let y=0,C=!1;for(;g.hasNext();){const D=g.getNext();!C&&d(s,D)<=0&&(C=!0),C&&y<this.limit_&&d(D,c)<=0?y++:r=r.updateImmediateChild(D.name,Yt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let c;if(this.reverse_){const D=this.index_.getCompare();c=(k,P)=>D(P,k)}else c=this.index_.getCompare();const d=t;(0,N.hu)(d.numChildren()===this.limit_,"");const g=new hn(e,i),y=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),C=this.rangedFilter_.matches(g);if(d.hasChild(e)){const D=d.getImmediateChild(e);let k=r.getChildAfterChild(this.index_,y,this.reverse_);for(;null!=k&&(k.name===e||d.hasChild(k.name));)k=r.getChildAfterChild(this.index_,k,this.reverse_);const P=null==k?1:c(k,g);if(C&&!i.isEmpty()&&P>=0)return s?.trackChildChange(CC(e,i,D)),d.updateImmediateChild(e,i);{s?.trackChildChange(wC(e,D));const $=d.updateImmediateChild(e,Yt.EMPTY_NODE);return null!=k&&this.rangedFilter_.matches(k)?(s?.trackChildChange(Gv(k.name,k.node)),$.updateImmediateChild(k.name,k.node)):$}}return i.isEmpty()?t:C&&c(y,g)>=0?(null!=s&&(s.trackChildChange(wC(y.name,y.node)),s.trackChildChange(Gv(e,i))),d.updateImmediateChild(e,i).updateImmediateChild(y.name,Yt.EMPTY_NODE)):t}}class JS{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=di}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:bh}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Fu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,N.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===di}copy(){const t=new JS;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function eO(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function tO(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function eA(n,t){const e=n.copy();return e.index_=t,e}function QL(n){const t={};if(n.isDefault())return t;let e;return n.index_===di?e="$priority":n.index_===QR?e="$value":n.index_===Nu?e="$key":((0,N.hu)(n.index_ instanceof KR,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,N.Wl)(e),n.startSet_&&(t.startAt=(0,N.Wl)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,N.Wl)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,N.Wl)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,N.Wl)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function XL(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==di&&(t.i=n.index_.toString()),t}class tA extends RL{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=fC("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,N.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const c=tA.getListenId_(t,i),d={};this.listens_[c]=d;const g=QL(t._queryParams);this.restRequest_(s+".json",g,(y,C)=>{let D=C;if(404===y&&(D=null,y=null),null===y&&this.onDataUpdate_(s,D,!1,i),(0,N.DV)(this.listens_,c)===d){let k;k=y?401===y?"permission_denied":"rest_error:"+y:"ok",r(k,null)}})}unlisten(t,e){const i=tA.getListenId_(t,e);delete this.listens_[i]}get(t){const e=QL(t._queryParams),i=t._path.toString(),r=new N.BH;return this.restRequest_(i+".json",e,(s,c)=>{let d=c;404===s&&(d=null,s=null),null===s?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,N.xO)(e);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let g=null;if(d.status>=200&&d.status<300){try{g=(0,N.cI)(d.responseText)}catch{Ys("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,g)}else 401!==d.status&&404!==d.status&&Ys("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}class c6{constructor(){this.rootNode_=Yt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function nA(){return{value:null,children:new Map}}function jv(n,t,e){if(un(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=cn(t);n.children.has(i)||n.children.set(i,nA()),jv(n.children.get(i),t=ri(t),e)}}function nO(n,t){if(un(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(di,(i,r)=>{jv(n,new Ln(i),r)}),nO(n,t)}}if(n.children.size>0){const e=cn(t);return t=ri(t),n.children.has(e)&&nO(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function iO(n,t,e){null!==n.value?e(t,n.value):function u6(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{iO(r,new Ln(t.toString()+"/"+i),e)})}class d6{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Xr(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class p6{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new d6(t);const i=1e4+2e4*Math.random();gC(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Xr(t,(r,s)=>{s>0&&(0,N.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),gC(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var tl=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(tl||(tl={})),tl))();function oO(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class iA{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=tl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(un(this.path)){if(null!=this.affectedTree.value)return(0,N.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Ln(t));return new iA(Tn(),e,this.revert)}}return(0,N.hu)(cn(this.path)===t,"operationForChild called for unrelated child."),new iA(ri(this.path),this.affectedTree,this.revert)}}class xC{constructor(t,e){this.source=t,this.path=e,this.type=tl.LISTEN_COMPLETE}operationForChild(t){return un(this.path)?new xC(this.source,Tn()):new xC(this.source,ri(this.path))}}class r_{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=tl.OVERWRITE}operationForChild(t){return un(this.path)?new r_(this.source,Tn(),this.snap.getImmediateChild(t)):new r_(this.source,ri(this.path),this.snap)}}class zv{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=tl.MERGE}operationForChild(t){if(un(this.path)){const e=this.children.subtree(new Ln(t));return e.isEmpty()?null:e.value?new r_(this.source,Tn(),e.value):new zv(this.source,Tn(),e)}return(0,N.hu)(cn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new zv(this.source,ri(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class xp{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(un(t))return this.isFullyInitialized()&&!this.filtered_;const e=cn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class g6{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function DC(n,t,e,i,r,s){const c=i.filter(d=>d.type===e);c.sort((d,g)=>function y6(n,t,e){if(null==t.childName||null==e.childName)throw(0,N.g5)("Should only compare child_ events.");const i=new hn(t.childName,t.snapshotNode),r=new hn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,d,g)),c.forEach(d=>{const g=function _6(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,d,s);r.forEach(y=>{y.respondsTo(d.type)&&t.push(y.createEvent(g,n.query_))})})}function rA(n,t){return{eventCache:n,serverCache:t}}function SC(n,t,e,i){return rA(new xp(t,e,i),n.serverCache)}function eV(n,t,e,i){return rA(n.eventCache,new xp(t,e,i))}function sA(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function s_(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let aO;class hi{constructor(t,e=(()=>(aO||(aO=new Po(i$)),aO))()){this.value=t,this.children=e}static fromObject(t){let e=new hi(null);return Xr(t,(i,r)=>{e=e.set(new Ln(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Tn(),value:this.value};if(un(t))return null;{const i=cn(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(ri(t),e);return null!=s?{path:Ii(new Ln(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(un(t))return this;{const e=cn(t),i=this.children.get(e);return null!==i?i.subtree(ri(t)):new hi(null)}}set(t,e){if(un(t))return new hi(e,this.children);{const i=cn(t),s=(this.children.get(i)||new hi(null)).set(ri(t),e),c=this.children.insert(i,s);return new hi(this.value,c)}}remove(t){if(un(t))return this.children.isEmpty()?new hi(null):new hi(null,this.children);{const e=cn(t),i=this.children.get(e);if(i){const r=i.remove(ri(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new hi(null):new hi(this.value,s)}return this}}get(t){if(un(t))return this.value;{const e=cn(t),i=this.children.get(e);return i?i.get(ri(t)):null}}setTree(t,e){if(un(t))return e;{const i=cn(t),s=(this.children.get(i)||new hi(null)).setTree(ri(t),e);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new hi(this.value,c)}}fold(t){return this.fold_(Tn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Ii(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Tn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(un(t))return null;{const s=cn(t),c=this.children.get(s);return c?c.findOnPath_(ri(t),Ii(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Tn(),e)}foreachOnPath_(t,e,i){if(un(t))return this;{this.value&&i(e,this.value);const r=cn(t),s=this.children.get(r);return s?s.foreachOnPath_(ri(t),Ii(e,r),i):new hi(null)}}foreach(t){this.foreach_(Tn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Ii(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class dc{constructor(t){this.writeTree_=t}static empty(){return new dc(new hi(null))}}function AC(n,t,e){if(un(t))return new dc(new hi(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const c=go(r,t);return s=s.updateChild(c,e),new dc(n.writeTree_.set(r,s))}{const r=new hi(e),s=n.writeTree_.setTree(t,r);return new dc(s)}}}function lO(n,t,e){let i=n;return Xr(e,(r,s)=>{i=AC(i,Ii(t,r),s)}),i}function tV(n,t){if(un(t))return dc.empty();{const e=n.writeTree_.setTree(t,new hi(null));return new dc(e)}}function cO(n,t){return null!=o_(n,t)}function o_(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(go(e.path,t)):null}function nV(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(di,(i,r)=>{t.push(new hn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new hn(i,r.value))}),t}function Dp(n,t){if(un(t))return n;{const e=o_(n,t);return new dc(null!=e?new hi(e):n.writeTree_.subtree(t))}}function uO(n){return n.writeTree_.isEmpty()}function $v(n,t){return iV(Tn(),n.writeTree_,t)}function iV(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,N.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=iV(Ii(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Ii(n,".priority"),i)),e}}function oA(n,t){return lV(t,n)}function x6(n,t){if(n.snap)return el(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&el(Ii(n.path,e),t))return!0;return!1}function S6(n){return n.visible}function rV(n,t,e){let i=dc.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const c=s.path;let d;if(s.snap)el(e,c)?(d=go(e,c),i=AC(i,d,s.snap)):el(c,e)&&(d=go(c,e),i=AC(i,Tn(),s.snap.getChild(d)));else{if(!s.children)throw(0,N.g5)("WriteRecord should have .snap or .children");if(el(e,c))d=go(e,c),i=lO(i,d,s.children);else if(el(c,e))if(d=go(c,e),un(d))i=lO(i,Tn(),s.children);else{const g=(0,N.DV)(s.children,cn(d));if(g){const y=g.getChild(ri(d));i=AC(i,Tn(),y)}}}}}return i}function sV(n,t,e,i,r){if(i||r){const s=Dp(n.visibleWrites,t);return!r&&uO(s)?e:r||null!=e||cO(s,Tn())?$v(rV(n.allWrites,function(y){return(y.visible||r)&&(!i||!~i.indexOf(y.writeId))&&(el(y.path,t)||el(t,y.path))},t),e||Yt.EMPTY_NODE):null}{const s=o_(n.visibleWrites,t);if(null!=s)return s;{const c=Dp(n.visibleWrites,t);return uO(c)?e:null!=e||cO(c,Tn())?$v(c,e||Yt.EMPTY_NODE):null}}}function aA(n,t,e,i){return sV(n.writeTree,n.treePath,t,e,i)}function dO(n,t){return function A6(n,t,e){let i=Yt.EMPTY_NODE;const r=o_(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(di,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(e){const s=Dp(n.visibleWrites,t);return e.forEachChild(di,(c,d)=>{const g=$v(Dp(s,new Ln(c)),d);i=i.updateImmediateChild(c,g)}),nV(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return nV(Dp(n.visibleWrites,t)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,t)}function oV(n,t,e,i){return function I6(n,t,e,i,r){(0,N.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Ii(t,e);if(cO(n.visibleWrites,s))return null;{const c=Dp(n.visibleWrites,s);return uO(c)?r.getChild(e):$v(c,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function lA(n,t){return function M6(n,t){return o_(n.visibleWrites,t)}(n.writeTree,Ii(n.treePath,t))}function hO(n,t,e){return function T6(n,t,e,i){const r=Ii(t,e),s=o_(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?$v(Dp(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function aV(n,t){return lV(Ii(n.treePath,t),n.writeTree)}function lV(n,t){return{treePath:n,writeTree:t}}class P6{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,N.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,N.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,CC(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,wC(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,Gv(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,N.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,CC(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const cV=new class F6{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class fO{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new xp(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hO(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:s_(this.viewCache_),s=function O6(n,t,e,i,r,s){return function k6(n,t,e,i,r,s,c){let d;const g=Dp(n.visibleWrites,t),y=o_(g,Tn());if(null!=y)d=y;else{if(null==e)return[];d=$v(g,e)}if(d=d.withIndex(c),d.isEmpty()||d.isLeafNode())return[];{const C=[],D=c.getCompare(),k=s?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let P=k.getNext();for(;P&&C.length<r;)0!==D(P,i)&&C.push(P),P=k.getNext();return C}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function uV(n,t,e,i,r,s){const c=t.eventCache;if(null!=lA(i,e))return t;{let d,g;if(un(e))if((0,N.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const y=s_(t),D=dO(i,y instanceof Yt?y:Yt.EMPTY_NODE);d=n.filter.updateFullNode(t.eventCache.getNode(),D,s)}else{const y=aA(i,s_(t));d=n.filter.updateFullNode(t.eventCache.getNode(),y,s)}else{const y=cn(e);if(".priority"===y){(0,N.hu)(1===Ep(e),"Can't have a priority with additional path components");const C=c.getNode();g=t.serverCache.getNode();const D=oV(i,e,C,g);d=null!=D?n.filter.updatePriority(C,D):c.getNode()}else{const C=ri(e);let D;if(c.isCompleteForChild(y)){g=t.serverCache.getNode();const k=oV(i,e,c.getNode(),g);D=null!=k?c.getNode().getImmediateChild(y).updateChild(C,k):c.getNode().getImmediateChild(y)}else D=hO(i,y,t.serverCache);d=null!=D?n.filter.updateChild(c.getNode(),y,D,C,r,s):c.getNode()}}return SC(t,d,c.isFullyInitialized()||un(e),n.filter.filtersNodes())}}function cA(n,t,e,i,r,s,c,d){const g=t.serverCache;let y;const C=c?n.filter:n.filter.getIndexedFilter();if(un(e))y=C.updateFullNode(g.getNode(),i,null);else if(C.filtersNodes()&&!g.isFiltered()){const P=g.getNode().updateChild(e,i);y=C.updateFullNode(g.getNode(),P,null)}else{const P=cn(e);if(!g.isCompleteForPath(e)&&Ep(e)>1)return t;const V=ri(e),ee=g.getNode().getImmediateChild(P).updateChild(V,i);y=".priority"===P?C.updatePriority(g.getNode(),ee):C.updateChild(g.getNode(),P,ee,V,cV,null)}const D=eV(t,y,g.isFullyInitialized()||un(e),C.filtersNodes());return uV(n,D,e,r,new fO(r,D,s),d)}function pO(n,t,e,i,r,s,c){const d=t.eventCache;let g,y;const C=new fO(r,t,s);if(un(e))y=n.filter.updateFullNode(t.eventCache.getNode(),i,c),g=SC(t,y,!0,n.filter.filtersNodes());else{const D=cn(e);if(".priority"===D)y=n.filter.updatePriority(t.eventCache.getNode(),i),g=SC(t,y,d.isFullyInitialized(),d.isFiltered());else{const k=ri(e),P=d.getNode().getImmediateChild(D);let V;if(un(k))V=i;else{const $=C.getCompleteChild(D);V=null!=$?".priority"===zR(k)&&$.getChild(NL(k)).isEmpty()?$:$.updateChild(k,i):Yt.EMPTY_NODE}g=P.equals(V)?t:SC(t,n.filter.updateChild(d.getNode(),D,V,k,C,c),d.isFullyInitialized(),n.filter.filtersNodes())}}return g}function dV(n,t){return n.eventCache.isCompleteForChild(t)}function hV(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function gO(n,t,e,i,r,s,c,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let y,g=t;y=un(e)?i:new hi(null).setTree(e,i);const C=t.serverCache.getNode();return y.children.inorderTraversal((D,k)=>{if(C.hasChild(D)){const V=hV(0,t.serverCache.getNode().getImmediateChild(D),k);g=cA(n,g,new Ln(D),V,r,s,c,d)}}),y.children.inorderTraversal((D,k)=>{const P=!t.serverCache.isCompleteForChild(D)&&null===k.value;if(!C.hasChild(D)&&!P){const $=hV(0,t.serverCache.getNode().getImmediateChild(D),k);g=cA(n,g,new Ln(D),$,r,s,c,d)}}),g}class z6{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new JR(i.getIndex()),s=function r6(n){return n.loadsAllData()?new JR(n.getIndex()):n.hasLimit()?new i6(n):new EC(n)}(i);this.processor_=function N6(n){return{filter:n}}(s);const c=e.serverCache,d=e.eventCache,g=r.updateFullNode(Yt.EMPTY_NODE,c.getNode(),null),y=s.updateFullNode(Yt.EMPTY_NODE,d.getNode(),null),C=new xp(g,c.isFullyInitialized(),r.filtersNodes()),D=new xp(y,d.isFullyInitialized(),s.filtersNodes());this.viewCache_=rA(D,C),this.eventGenerator_=new g6(this.query_)}get query(){return this.query_}}function W6(n,t){const e=s_(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!un(t)&&!e.getImmediateChild(cn(t)).isEmpty())?e.getChild(t):null}function fV(n){return 0===n.eventRegistrations_.length}function pV(n,t,e){const i=[];if(e){(0,N.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(e,r);c&&i.push(c)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function gV(n,t,e,i){t.type===tl.MERGE&&null!==t.source.queryId&&((0,N.hu)(s_(n.viewCache_),"We should always have a full cache before handling merges"),(0,N.hu)(sA(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function V6(n,t,e,i,r){const s=new P6;let c,d;if(e.type===tl.OVERWRITE){const y=e;y.source.fromUser?c=pO(n,t,y.path,y.snap,i,r,s):((0,N.hu)(y.source.fromServer,"Unknown source."),d=y.source.tagged||t.serverCache.isFiltered()&&!un(y.path),c=cA(n,t,y.path,y.snap,i,r,d,s))}else if(e.type===tl.MERGE){const y=e;y.source.fromUser?c=function U6(n,t,e,i,r,s,c){let d=t;return i.foreach((g,y)=>{const C=Ii(e,g);dV(t,cn(C))&&(d=pO(n,d,C,y,r,s,c))}),i.foreach((g,y)=>{const C=Ii(e,g);dV(t,cn(C))||(d=pO(n,d,C,y,r,s,c))}),d}(n,t,y.path,y.children,i,r,s):((0,N.hu)(y.source.fromServer,"Unknown source."),d=y.source.tagged||t.serverCache.isFiltered(),c=gO(n,t,y.path,y.children,i,r,d,s))}else if(e.type===tl.ACK_USER_WRITE){const y=e;c=y.revert?function j6(n,t,e,i,r,s){let c;if(null!=lA(i,e))return t;{const d=new fO(i,t,r),g=t.eventCache.getNode();let y;if(un(e)||".priority"===cn(e)){let C;if(t.serverCache.isFullyInitialized())C=aA(i,s_(t));else{const D=t.serverCache.getNode();(0,N.hu)(D instanceof Yt,"serverChildren would be complete if leaf node"),C=dO(i,D)}y=n.filter.updateFullNode(g,C,s)}else{const C=cn(e);let D=hO(i,C,t.serverCache);null==D&&t.serverCache.isCompleteForChild(C)&&(D=g.getImmediateChild(C)),y=null!=D?n.filter.updateChild(g,C,D,ri(e),d,s):t.eventCache.getNode().hasChild(C)?n.filter.updateChild(g,C,Yt.EMPTY_NODE,ri(e),d,s):g,y.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=aA(i,s_(t)),c.isLeafNode()&&(y=n.filter.updateFullNode(y,c,s)))}return c=t.serverCache.isFullyInitialized()||null!=lA(i,Tn()),SC(t,y,c,n.filter.filtersNodes())}}(n,t,y.path,i,r,s):function H6(n,t,e,i,r,s,c){if(null!=lA(r,e))return t;const d=t.serverCache.isFiltered(),g=t.serverCache;if(null!=i.value){if(un(e)&&g.isFullyInitialized()||g.isCompleteForPath(e))return cA(n,t,e,g.getNode().getChild(e),r,s,d,c);if(un(e)){let y=new hi(null);return g.getNode().forEachChild(Nu,(C,D)=>{y=y.set(new Ln(C),D)}),gO(n,t,e,y,r,s,d,c)}return t}{let y=new hi(null);return i.foreach((C,D)=>{const k=Ii(e,C);g.isCompleteForPath(k)&&(y=y.set(C,g.getNode().getChild(k)))}),gO(n,t,e,y,r,s,d,c)}}(n,t,y.path,y.affectedTree,i,r,s)}else{if(e.type!==tl.LISTEN_COMPLETE)throw(0,N.g5)("Unknown operation type: "+e.type);c=function G6(n,t,e,i,r){const s=t.serverCache;return uV(n,eV(t,s.getNode(),s.isFullyInitialized()||un(e),s.isFiltered()),e,i,cV,r)}(n,t,e.path,i,s)}const g=s.getChanges();return function B6(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=sA(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(KL(sA(t)))}}(t,c,g),{viewCache:c,changes:g}}(n.processor_,r,t,e,i);return function L6(n,t){(0,N.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,N.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,N.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,mV(n,s.changes,s.viewCache.eventCache.getNode(),null)}function mV(n,t,e,i){return function m6(n,t,e,i){const r=[],s=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function n6(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),DC(n,r,"child_removed",t,i,e),DC(n,r,"child_added",t,i,e),DC(n,r,"child_moved",s,i,e),DC(n,r,"child_changed",t,i,e),DC(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let uA,hA;class _V{constructor(){this.views=new Map}}function mO(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,N.hu)(null!=s,"SyncTree gave us an op for an invalid query."),gV(s,t,e,i)}{let s=[];for(const c of n.views.values())s=s.concat(gV(c,t,e,i));return s}}function yV(n,t,e,i,r){const c=n.views.get(t._queryIdentifier);if(!c){let d=aA(e,r?i:null),g=!1;d?g=!0:i instanceof Yt?(d=dO(e,i),g=!1):(d=Yt.EMPTY_NODE,g=!1);const y=rA(new xp(d,g,!1),new xp(i,r,!1));return new z6(t,y)}return c}function vV(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Sp(n,t){let e=null;for(const i of n.views.values())e=e||W6(i,t);return e}function bV(n,t){return t._queryParams.loadsAllData()?dA(n):n.views.get(t._queryIdentifier)}function wV(n,t){return null!=bV(n,t)}function Ap(n){return null!=dA(n)}function dA(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let iq=1;class CV{constructor(t){this.listenProvider_=t,this.syncPointTree_=new hi(null),this.pendingWriteTree_=function R6(){return{visibleWrites:dc.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function _O(n,t,e,i,r){return function b6(n,t,e,i,r){(0,N.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=AC(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?qv(n,new r_({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Ip(n,t,e=!1){const i=function C6(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function E6(n,t){const e=n.allWrites.findIndex(d=>d.writeId===t);(0,N.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=e&&x6(d,i.path)?r=!1:el(i.path,d.path)&&(s=!0)),c--}return!!r&&(s?(function D6(n){n.visibleWrites=rV(n.allWrites,S6,Tn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=tV(n.visibleWrites,i.path):Xr(i.children,g=>{n.visibleWrites=tV(n.visibleWrites,Ii(i.path,g))}),!0))}(n.pendingWriteTree_,t)){let s=new hi(null);return null!=i.snap?s=s.set(Tn(),!0):Xr(i.children,c=>{s=s.set(new Ln(c),!0)}),qv(n,new iA(i.path,s,e))}return[]}function IC(n,t,e){return qv(n,new r_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function fA(n,t,e,i,r=!1){const s=t._path,c=n.syncPointTree_.get(s);let d=[];if(c&&("default"===t._queryIdentifier||wV(c,t))){const g=function eq(n,t,e,i){const r=t._queryIdentifier,s=[];let c=[];const d=Ap(n);if("default"===r)for(const[g,y]of n.views.entries())c=c.concat(pV(y,e,i)),fV(y)&&(n.views.delete(g),y.query._queryParams.loadsAllData()||s.push(y.query));else{const g=n.views.get(r);g&&(c=c.concat(pV(g,e,i)),fV(g)&&(n.views.delete(r),g.query._queryParams.loadsAllData()||s.push(g.query)))}return d&&!Ap(n)&&s.push(new(function Q6(){return(0,N.hu)(uA,"Reference.ts has not been loaded"),uA}())(t._repo,t._path)),{removed:s,events:c}}(c,t,e,i);(function X6(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const y=g.removed;if(d=g.events,!r){const C=-1!==y.findIndex(k=>k._queryParams.loadsAllData()),D=n.syncPointTree_.findOnPath(s,(k,P)=>Ap(P));if(C&&!D){const k=n.syncPointTree_.subtree(s);if(!k.isEmpty()){const P=function uq(n){return n.fold((t,e,i)=>{if(e&&Ap(e))return[dA(e)];{let r=[];return e&&(r=vV(e)),Xr(i,(s,c)=>{r=r.concat(c)}),r}})}(k);for(let V=0;V<P.length;++V){const $=P[V],ee=$.query,Se=SV(n,$);n.listenProvider_.startListening(MC(ee),TC(n,ee),Se.hashFn,Se.onComplete)}}}!D&&y.length>0&&!i&&(C?n.listenProvider_.stopListening(MC(t),null):y.forEach(k=>{const P=n.queryToTagMap.get(gA(k));n.listenProvider_.stopListening(MC(k),P)}))}!function dq(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=gA(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,y)}return d}function EV(n,t,e,i){const r=vO(n,i);if(null!=r){const s=bO(r),c=s.path,d=s.queryId,g=go(c,t);return wO(n,c,new r_(oO(d),g,e))}return[]}function yO(n,t,e,i=!1){const r=t._path;let s=null,c=!1;n.syncPointTree_.foreachOnPath(r,(k,P)=>{const V=go(k,r);s=s||Sp(P,V),c=c||Ap(P)});let g,d=n.syncPointTree_.get(r);d?(c=c||Ap(d),s=s||Sp(d,Tn())):(d=new _V,n.syncPointTree_=n.syncPointTree_.set(r,d)),null!=s?g=!0:(g=!1,s=Yt.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((P,V)=>{const $=Sp(V,Tn());$&&(s=s.updateImmediateChild(P,$))}));const y=wV(d,t);if(!y&&!t._queryParams.loadsAllData()){const k=gA(t);(0,N.hu)(!n.queryToTagMap.has(k),"View does not exist, but we have a tag");const P=function hq(){return iq++}();n.queryToTagMap.set(k,P),n.tagToQueryMap.set(P,k)}let D=function J6(n,t,e,i,r,s){const c=yV(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),function Y6(n,t){n.eventRegistrations_.push(t)}(c,e),function Z6(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(di,(s,c)=>{i.push(Gv(s,c))}),e.isFullyInitialized()&&i.push(KL(e.getNode())),mV(n,i,e.getNode(),t)}(c,e)}(d,t,e,oA(n.pendingWriteTree_,r),s,g);if(!y&&!c&&!i){const k=bV(d,t);D=D.concat(function fq(n,t,e){const i=t._path,r=TC(n,t),s=SV(n,e),c=n.listenProvider_.startListening(MC(t),r,s.hashFn,s.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,N.hu)(!Ap(d.value),"If we're adding a query, it shouldn't be shadowed");else{const g=d.fold((y,C,D)=>{if(!un(y)&&C&&Ap(C))return[dA(C).query];{let k=[];return C&&(k=k.concat(vV(C).map(P=>P.query))),Xr(D,(P,V)=>{k=k.concat(V)}),k}});for(let y=0;y<g.length;++y){const C=g[y];n.listenProvider_.stopListening(MC(C),TC(n,C))}}return c}(n,t,k))}return D}function pA(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(c,d)=>{const y=Sp(d,go(c,t));if(y)return y});return sV(r,t,s,e,!0)}function qv(n,t){return xV(t,n.syncPointTree_,null,oA(n.pendingWriteTree_,Tn()))}function xV(n,t,e,i){if(un(n.path))return DV(n,t,e,i);{const r=t.get(Tn());null==e&&null!=r&&(e=Sp(r,Tn()));let s=[];const c=cn(n.path),d=n.operationForChild(c),g=t.children.get(c);if(g&&d){const y=e?e.getImmediateChild(c):null,C=aV(i,c);s=s.concat(xV(d,g,y,C))}return r&&(s=s.concat(mO(r,n,i,e))),s}}function DV(n,t,e,i){const r=t.get(Tn());null==e&&null!=r&&(e=Sp(r,Tn()));let s=[];return t.children.inorderTraversal((c,d)=>{const g=e?e.getImmediateChild(c):null,y=aV(i,c),C=n.operationForChild(c);C&&(s=s.concat(DV(C,d,g,y)))}),r&&(s=s.concat(mO(r,n,i,e))),s}function SV(n,t){const e=t.query,i=TC(n,e);return{hashFn:()=>(function $6(n){return n.viewCache_.serverCache.getNode()}(t)||Yt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function aq(n,t,e){const i=vO(n,e);if(i){const r=bO(i),s=r.path,c=r.queryId,d=go(s,t);return wO(n,s,new xC(oO(c),d))}return[]}(n,e._path,i):function oq(n,t){return qv(n,new xC({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function o$(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return fA(n,e,null,s)}}}}function TC(n,t){const e=gA(t);return n.queryToTagMap.get(e)}function gA(n){return n._path.toString()+"$"+n._queryIdentifier}function vO(n,t){return n.tagToQueryMap.get(t)}function bO(n){const t=n.indexOf("$");return(0,N.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Ln(n.substr(0,t))}}function wO(n,t,e){const i=n.syncPointTree_.get(t);return(0,N.hu)(i,"Missing sync point for query tag that we're tracking"),mO(i,e,oA(n.pendingWriteTree_,t),null)}function MC(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function nq(){return(0,N.hu)(hA,"Reference.ts has not been loaded"),hA}())(n._repo,n._path):n}class CO{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new CO(e)}node(){return this.node_}}class EO{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Ii(this.path_,t);return new EO(this.syncTree_,e)}node(){return pA(this.syncTree_,this.path_)}}const AV=function(n,t,e){return n&&"object"==typeof n?((0,N.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?gq(n[".sv"],t,e):"object"==typeof n[".sv"]?mq(n[".sv"],t):void(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},gq=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,N.hu)(!1,"Unexpected server value: "+n)},mq=function(n,t,e){n.hasOwnProperty("increment")||(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,N.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,N.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},IV=function(n,t,e,i){return DO(t,new EO(e,n),i)},xO=function(n,t,e){return DO(n,new CO(t),e)};function DO(n,t,e){const i=n.getPriority().val(),r=AV(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const c=n,d=AV(c.getValue(),t,e);return d!==c.getValue()||r!==c.getPriority().val()?new Bv(d,Ui(r)):n}{const c=n;return s=c,r!==c.getPriority().val()&&(s=s.updatePriority(new Bv(r))),c.forEachChild(di,(d,g)=>{const y=DO(g,t.getImmediateChild(d),e);y!==g&&(s=s.updateImmediateChild(d,y))}),s}}class SO{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function mA(n,t){let e=t instanceof Ln?t:new Ln(t),i=n,r=cn(e);for(;null!==r;){const s=(0,N.DV)(i.node.children,r)||{children:{},childCount:0};i=new SO(r,i,s),e=ri(e),r=cn(e)}return i}function a_(n){return n.node.value}function AO(n,t){n.node.value=t,IO(n)}function TV(n){return n.node.childCount>0}function _A(n,t){Xr(n.node.children,(e,i)=>{t(new SO(e,n,i))})}function MV(n,t,e,i){e&&!i&&t(n),_A(n,r=>{MV(r,t,!0,i)}),e&&i&&t(n)}function kC(n){return new Ln(null===n.parent?n.name:kC(n.parent)+"/"+n.name)}function IO(n){null!==n.parent&&function vq(n,t,e){const i=function _q(n){return void 0===a_(n)&&!TV(n)}(e),r=(0,N.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,IO(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,IO(n))}(n.parent,n.name,n)}const bq=/[\[\].#$\/\u0000-\u001F\u007F]/,wq=/[\[\].#$\u0000-\u001F\u007F]/,TO=10485760,yA=function(n){return"string"==typeof n&&0!==n.length&&!bq.test(n)},kV=function(n){return"string"==typeof n&&0!==n.length&&!wq.test(n)},RC=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!zS(n)||n&&"object"==typeof n&&(0,N.r3)(n,".sv")},Lu=function(n,t,e,i){i&&void 0===t||OC((0,N.gK)(n,"value"),t,e)},OC=function(n,t,e){const i=e instanceof Ln?new L$(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+n_(i));if("function"==typeof t)throw new Error(n+"contains a function "+n_(i)+" with contents = "+t.toString());if(zS(t))throw new Error(n+"contains "+t.toString()+" "+n_(i));if("string"==typeof t&&t.length>TO/3&&(0,N.ug)(t)>TO)throw new Error(n+"contains a string greater than "+TO+" utf8 bytes "+n_(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(Xr(t,(c,d)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!yA(c)))throw new Error(n+" contains an invalid key ("+c+") "+n_(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function V$(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,N.ug)(t),LL(n)})(i,c),OC(n,d,i),function B$(n){const t=n.parts_.pop();n.byteLength_-=(0,N.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+n_(i)+" in addition to actual children.")}},RV=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,N.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];Xr(t,(c,d)=>{const g=new Ln(c);if(OC(r,d,Ii(e,g)),".priority"===zR(g)&&!RC(d))throw new Error(r+"contains an invalid value for '"+g.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(g)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=_C(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!yA(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(N$);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&el(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},MO=function(n,t,e){if(!e||void 0!==t){if(zS(t))throw new Error((0,N.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!RC(t))throw new Error((0,N.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},PC=function(n,t,e,i){if(!(i&&void 0===e||yA(e)))throw new Error((0,N.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},FC=function(n,t,e,i){if(!(i&&void 0===e||kV(e)))throw new Error((0,N.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},nl=function(n,t){if(".info"===cn(t))throw new Error(n+" failed = Can't modify data under /.info/")},OV=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!yA(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),kV(n)}(e))throw new Error((0,N.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Dq{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function vA(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!$R(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function PV(n,t,e){vA(n,e),FV(n,i=>$R(i,t))}function Jo(n,t,e){vA(n,e),FV(n,i=>el(i,t)||el(t,i))}function FV(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(Sq(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Sq(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();e_&&Qr("event: "+e.toString()),Lv(i)}}}const NV="repo_interrupt";class Iq{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Dq,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=nA(),this.transactionQueueTree_=new SO,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function LV(n){const e=n.infoData_.getNode(new Ln(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function NC(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:LV(n)})}function VV(n,t,e,i,r){n.dataUpdateCount++;const s=new Ln(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const g=(0,N.UI)(e,y=>Ui(y));c=function lq(n,t,e,i){const r=vO(n,i);if(r){const s=bO(r),c=s.path,d=s.queryId,g=go(c,t),y=hi.fromObject(e);return wO(n,c,new zv(oO(d),g,y))}return[]}(n.serverSyncTree_,s,g,r)}else{const g=Ui(e);c=EV(n.serverSyncTree_,s,g,r)}else if(i){const g=(0,N.UI)(e,y=>Ui(y));c=function sq(n,t,e){const i=hi.fromObject(e);return qv(n,new zv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,g)}else{const g=Ui(e);c=IC(n.serverSyncTree_,s,g)}let d=s;c.length>0&&(d=Yv(n,s)),Jo(n.eventQueue_,d,c)}function BV(n,t){kO(n,"connected",t),!1===t&&function Oq(n){Wv(n,"onDisconnectEvents");const t=NC(n),e=nA();iO(n.onDisconnect_,Tn(),(r,s)=>{const c=IV(r,s,n.serverSyncTree_,t);jv(e,r,c)});let i=[];iO(e,Tn(),(r,s)=>{i=i.concat(IC(n.serverSyncTree_,r,s));const c=FO(n,r);Yv(n,c)}),n.onDisconnect_=nA(),Jo(n.eventQueue_,Tn(),i)}(n)}function kO(n,t,e){const i=new Ln("/.info/"+t),r=Ui(e);n.infoData_.updateSnapshot(i,r);const s=IC(n.infoSyncTree_,i,r);Jo(n.eventQueue_,i,s)}function bA(n){return n.nextWriteId_++}function RO(n,t,e,i,r){Wv(n,"set",{path:t.toString(),value:e,priority:i});const s=NC(n),c=Ui(e,i),d=pA(n.serverSyncTree_,t),g=xO(c,d,s),y=bA(n),C=_O(n.serverSyncTree_,t,g,y,!0);vA(n.eventQueue_,C),n.server_.put(t.toString(),c.val(!0),(k,P)=>{const V="ok"===k;V||Ys("set at "+t+" failed: "+k);const $=Ip(n.serverSyncTree_,y,!V);Jo(n.eventQueue_,t,$),Tp(0,r,k,P)});const D=FO(n,t);Yv(n,D),Jo(n.eventQueue_,D,[])}function Pq(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&nO(n.onDisconnect_,t),Tp(0,e,i,r)})}function UV(n,t,e,i){const r=Ui(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,c)=>{"ok"===s&&jv(n.onDisconnect_,t,r),Tp(0,i,s,c)})}function OO(n,t,e){let i;i=".info"===cn(t._path)?fA(n.infoSyncTree_,t,e):fA(n.serverSyncTree_,t,e),PV(n.eventQueue_,t._path,i)}function HV(n){n.persistentConnection_&&n.persistentConnection_.interrupt(NV)}function Wv(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Qr(e,...t)}function Tp(n,t,e,i){t&&Lv(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const c=new Error(s);c.code=r,t(c)}})}function PO(n,t,e){return pA(n.serverSyncTree_,t,e)||Yt.EMPTY_NODE}function wA(n,t=n.transactionQueueTree_){if(t||CA(n,t),a_(t)){const e=jV(n,t);(0,N.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function Uq(n,t,e){const i=e.map(y=>y.currentWriteId),r=PO(n,t,i);let s=r;const c=r.hash();for(let y=0;y<e.length;y++){const C=e[y];(0,N.hu)(0===C.status,"tryToSendTransactionQueue_: items in queue should all be run."),C.status=1,C.retryCount++;const D=go(t,C.path);s=s.updateChild(D,C.currentOutputSnapshotRaw)}const d=s.val(!0),g=t;n.server_.put(g.toString(),d,y=>{Wv(n,"transaction put response",{path:g.toString(),status:y});let C=[];if("ok"===y){const D=[];for(let k=0;k<e.length;k++)e[k].status=2,C=C.concat(Ip(n.serverSyncTree_,e[k].currentWriteId)),e[k].onComplete&&D.push(()=>e[k].onComplete(null,!0,e[k].currentOutputSnapshotResolved)),e[k].unwatcher();CA(n,mA(n.transactionQueueTree_,t)),wA(n,n.transactionQueueTree_),Jo(n.eventQueue_,t,C);for(let k=0;k<D.length;k++)Lv(D[k])}else{if("datastale"===y)for(let D=0;D<e.length;D++)e[D].status=3===e[D].status?4:0;else{Ys("transaction at "+g.toString()+" failed: "+y);for(let D=0;D<e.length;D++)e[D].status=4,e[D].abortReason=y}Yv(n,t)}},c)}(n,kC(t),e)}else TV(t)&&_A(t,e=>{wA(n,e)})}function Yv(n,t){const e=GV(n,t),i=kC(e);return function Hq(n,t,e){if(0===t.length)return;const i=[];let r=[];const c=t.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const g=t[d],y=go(e,g.path);let D,C=!1;if((0,N.hu)(null!==y,"rerunTransactionsUnderNode_: relativePath should not be null."),4===g.status)C=!0,D=g.abortReason,r=r.concat(Ip(n.serverSyncTree_,g.currentWriteId,!0));else if(0===g.status)if(g.retryCount>=25)C=!0,D="maxretry",r=r.concat(Ip(n.serverSyncTree_,g.currentWriteId,!0));else{const k=PO(n,g.path,c);g.currentInputSnapshot=k;const P=t[d].update(k.val());if(void 0!==P){OC("transaction failed: Data returned ",P,g.path);let V=Ui(P);"object"==typeof P&&null!=P&&(0,N.r3)(P,".priority")||(V=V.updatePriority(k.getPriority()));const ee=g.currentWriteId,Se=NC(n),$e=xO(V,k,Se);g.currentOutputSnapshotRaw=V,g.currentOutputSnapshotResolved=$e,g.currentWriteId=bA(n),c.splice(c.indexOf(ee),1),r=r.concat(_O(n.serverSyncTree_,g.path,$e,g.currentWriteId,g.applyLocally)),r=r.concat(Ip(n.serverSyncTree_,ee,!0))}else C=!0,D="nodata",r=r.concat(Ip(n.serverSyncTree_,g.currentWriteId,!0))}Jo(n.eventQueue_,e,r),r=[],C&&(t[d].status=2,setTimeout(t[d].unwatcher,Math.floor(0)),t[d].onComplete&&i.push("nodata"===D?()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot):()=>t[d].onComplete(new Error(D),!1,null)))}CA(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)Lv(i[d]);wA(n,n.transactionQueueTree_)}(n,jV(n,e),i),i}function GV(n,t){let e,i=n.transactionQueueTree_;for(e=cn(t);null!==e&&void 0===a_(i);)i=mA(i,e),e=cn(t=ri(t));return i}function jV(n,t){const e=[];return zV(n,t,e),e.sort((i,r)=>i.order-r.order),e}function zV(n,t,e){const i=a_(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);_A(t,r=>{zV(n,r,e)})}function CA(n,t){const e=a_(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,AO(t,e.length>0?e:void 0)}_A(t,i=>{CA(n,i)})}function FO(n,t){const e=kC(GV(n,t)),i=mA(n.transactionQueueTree_,t);return function yq(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{NO(n,r)}),NO(n,i),MV(i,r=>{NO(n,r)}),e}function NO(n,t){const e=a_(t);if(e){const i=[];let r=[],s=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,N.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,e[c].status=3,e[c].abortReason="set"):((0,N.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(Ip(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?AO(t,void 0):e.length=s+1,Jo(n.eventQueue_,kC(t),r);for(let c=0;c<i.length;c++)Lv(i[c])}}const LO=function(n,t){const e=zq(n),i=e.namespace;return"firebase.com"===e.domain&&Pu(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Pu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ys("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new VR(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Ln(e.pathString)}},zq=function(n){let t="",e="",i="",r="",s="",c=!0,d="https",g=443;if("string"==typeof n){let y=n.indexOf("//");y>=0&&(d=n.substring(0,y-1),n=n.substring(y+2));let C=n.indexOf("/");-1===C&&(C=n.length);let D=n.indexOf("?");-1===D&&(D=n.length),t=n.substring(0,Math.min(C,D)),C<D&&(r=function Gq(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(C,D)));const k=function jq(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ys(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,D)));y=t.indexOf(":"),y>=0?(c="https"===d||"wss"===d,g=parseInt(t.substring(y+1),10)):y=t.length;const P=t.slice(0,y);if("localhost"===P.toLowerCase())e="localhost";else if(P.split(".").length<=2)e=P;else{const V=t.indexOf(".");i=t.substring(0,V).toLowerCase(),e=t.substring(V+1),s=i}"ns"in k&&(s=k.ns)}return{host:t,port:g,domain:e,subdomain:i,secure:c,scheme:d,pathString:r,namespace:s}};class $V{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,N.Wl)(this.snapshot.exportVal())}}class qV{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class VO{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,N.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class WV{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new N.BH;return Pq(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){nl("OnDisconnect.remove",this._path);const t=new N.BH;return UV(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){nl("OnDisconnect.set",this._path),Lu("OnDisconnect.set",t,this._path,!1);const e=new N.BH;return UV(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){nl("OnDisconnect.setWithPriority",this._path),Lu("OnDisconnect.setWithPriority",t,this._path,!1),MO("OnDisconnect.setWithPriority",e,!1);const i=new N.BH;return function Fq(n,t,e,i,r){const s=Ui(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(c,d)=>{"ok"===c&&jv(n.onDisconnect_,t,s),Tp(0,r,c,d)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){nl("OnDisconnect.update",this._path),RV("OnDisconnect.update",t,this._path,!1);const e=new N.BH;return function Nq(n,t,e,i){if((0,N.xb)(e))return Qr("onDisconnect().update() called with empty data.  Don't do anything."),void Tp(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&Xr(e,(c,d)=>{const g=Ui(d);jv(n.onDisconnect_,Ii(t,c),g)}),Tp(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Fo{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return un(this._path)?null:zR(this._path)}get ref(){return new il(this._repo,this._path)}get _queryIdentifier(){const t=XL(this._queryParams),e=FR(t);return"{}"===e?"default":e}get _queryObject(){return XL(this._queryParams)}isEqual(t){if(!((t=(0,N.m9)(t))instanceof Fo))return!1;const e=this._repo===t._repo,i=$R(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function F$(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function EA(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Mp(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Nu){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==bh)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Fu)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===di){if(null!=t&&!RC(t)||null!=e&&!RC(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,N.hu)(n.getIndex()instanceof KR||n.getIndex()===QR,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function xA(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class il extends Fo{constructor(t,e){super(t,e,new JS,!1)}get parent(){const t=NL(this._path);return null===t?null:new il(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class l_{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Ln(t),i=c_(this.ref,t);return new l_(this._node.getChild(e),i,di)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new l_(r,c_(this.ref,i),di)))}hasChild(t){const e=new Ln(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function YV(n,t){return(n=(0,N.m9)(n))._checkNotDeleted("ref"),void 0!==t?c_(n._root,t):n._root}function ZV(n,t){(n=(0,N.m9)(n))._checkNotDeleted("refFromURL");const e=LO(t,n._repo.repoInfo_.nodeAdmin);OV("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Pu("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),YV(n,e.path.toString())}function c_(n,t){return null===cn((n=(0,N.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),FC("child","path",e,!1)):FC("child","path",t,!1),new il(n._repo,Ii(n._path,t));var e}function BO(n,t){n=(0,N.m9)(n),nl("set",n._path),Lu("set",t,n._path,!1);const e=new N.BH;return RO(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function Zq(n,t){RV("update",t,n._path,!1);const e=new N.BH;return function Rq(n,t,e,i){Wv(n,"update",{path:t.toString(),value:e});let r=!0;const s=NC(n),c={};if(Xr(e,(d,g)=>{r=!1,c[d]=IV(Ii(t,d),Ui(g),n.serverSyncTree_,s)}),r)Qr("update() called with empty data.  Don't do anything."),Tp(0,i,"ok",void 0);else{const d=bA(n),g=function rq(n,t,e,i){!function w6(n,t,e,i){(0,N.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=lO(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=hi.fromObject(e);return qv(n,new zv({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,c,d);vA(n.eventQueue_,g),n.server_.merge(t.toString(),e,(y,C)=>{const D="ok"===y;D||Ys("update at "+t+" failed: "+y);const k=Ip(n.serverSyncTree_,d,!D),P=k.length>0?Yv(n,t):t;Jo(n.eventQueue_,P,k),Tp(0,i,y,C)}),Xr(e,y=>{const C=FO(n,Ii(t,y));Yv(n,C)}),Jo(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function Kq(n){n=(0,N.m9)(n);const t=new VO(()=>{}),e=new LC(t);return function kq(n,t,e){const i=function cq(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(y,C)=>{const D=go(y,e);i=i||Sp(C,D)});let r=n.syncPointTree_.get(e);r?i=i||Sp(r,Tn()):(r=new _V,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,c=s?new xp(i,!0,!1):null;return function q6(n){return sA(n.viewCache_)}(yV(r,t,oA(n.pendingWriteTree_,t._path),s?c.getNode():Yt.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const s=Ui(r).withIndex(t._queryParams.getIndex());let c;if(yO(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())c=IC(n.serverSyncTree_,t._path,s);else{const d=TC(n.serverSyncTree_,t);c=EV(n.serverSyncTree_,t._path,s,d)}return Jo(n.eventQueue_,t._path,c),fA(n.serverSyncTree_,t,e,null,!0),s},r=>(Wv(n,"get for query "+(0,N.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new l_(i,new il(n._repo,n._path),n._queryParams.getIndex()))}class LC{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new $V("value",this,new l_(t.snapshotNode,new il(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new qV(this,t,e):null}matches(t){return t instanceof LC&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class DA{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new qV(this,t,e):null}createEvent(t,e){(0,N.hu)(null!=t.childName,"Child events should have a childName.");const i=c_(new il(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new $V(t.type,this,new l_(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof DA&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function VC(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const g=e,y=(C,D)=>{OO(n._repo,n,d),g(C,D)};y.userCallback=e.userCallback,y.context=e.context,e=y}const c=new VO(e,s||void 0),d="value"===t?new LC(c):new DA(t,c);return function Lq(n,t,e){let i;i=".info"===cn(t._path)?yO(n.infoSyncTree_,t,e):yO(n.serverSyncTree_,t,e),PV(n.eventQueue_,t._path,i)}(n._repo,n,d),()=>OO(n._repo,n,d)}function UO(n,t,e,i){return VC(n,"value",t,e,i)}function KV(n,t,e,i){return VC(n,"child_added",t,e,i)}function QV(n,t,e,i){return VC(n,"child_changed",t,e,i)}function XV(n,t,e,i){return VC(n,"child_moved",t,e,i)}function JV(n,t,e,i){return VC(n,"child_removed",t,e,i)}function eB(n,t,e){let i=null;const r=e?new VO(e):null;"value"===t?i=new LC(r):t&&(i=new DA(t,r)),OO(n._repo,n,i)}class hc{}class tB extends hc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Lu("endAt",this._value,t._path,!0);const e=tO(t._queryParams,this._value,this._key);if(xA(e),Mp(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fo(t._repo,t._path,e,t._orderByCalled)}}class Xq extends hc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Lu("endBefore",this._value,t._path,!1);const e=function l6(n,t,e){let i,r;return n.index_===Nu?("string"==typeof t&&(t=ZL(t)),r=tO(n,t,e)):(i=null==e?bh:ZL(e),r=tO(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(xA(e),Mp(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fo(t._repo,t._path,e,t._orderByCalled)}}class nB extends hc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Lu("startAt",this._value,t._path,!0);const e=eO(t._queryParams,this._value,this._key);if(xA(e),Mp(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Fo(t._repo,t._path,e,t._orderByCalled)}}class tW extends hc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Lu("startAfter",this._value,t._path,!1);const e=function a6(n,t,e){let i;if(n.index_===Nu)"string"==typeof t&&(t=YL(t)),i=eO(n,t,e);else{let r;r=null==e?Fu:YL(e),i=eO(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(xA(e),Mp(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Fo(t._repo,t._path,e,t._orderByCalled)}}class iW extends hc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fo(t._repo,t._path,function s6(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class sW extends hc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fo(t._repo,t._path,function o6(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class aW extends hc{constructor(t){super(),this._path=t}_apply(t){EA(t,"orderByChild");const e=new Ln(this._path);if(un(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new KR(e),r=eA(t._queryParams,i);return Mp(r),new Fo(t._repo,t._path,r,!0)}}class cW extends hc{_apply(t){EA(t,"orderByKey");const e=eA(t._queryParams,Nu);return Mp(e),new Fo(t._repo,t._path,e,!0)}}class dW extends hc{_apply(t){EA(t,"orderByPriority");const e=eA(t._queryParams,di);return Mp(e),new Fo(t._repo,t._path,e,!0)}}class fW extends hc{_apply(t){EA(t,"orderByValue");const e=eA(t._queryParams,QR);return Mp(e),new Fo(t._repo,t._path,e,!0)}}class gW extends hc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Lu("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new tB(this._value,this._key)._apply(new nB(this._value,this._key)._apply(t))}}function fc(n,...t){let e=(0,N.m9)(n);for(const i of t)e=i._apply(e);return e}(function K6(n){(0,N.hu)(!uA,"__referenceConstructor has already been defined"),uA=n})(il),function tq(n){(0,N.hu)(!hA,"__referenceConstructor has already been defined"),hA=n}(il);const HO={};function rB(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Pu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qr("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let g,y,c=LO(s,r),d=c.repoInfo;typeof process<"u"&&process.env&&(y=process.env.FIREBASE_DATABASE_EMULATOR_HOST),y?(g=!0,s=`http://${y}?ns=${d.namespace}`,c=LO(s,r),d=c.repoInfo):g=!c.repoInfo.secure;const C=r&&g?new mC(mC.OWNER):new u$(n.name,n.options,t);OV("Invalid Firebase Database URL",c),un(c.path)||Pu("Database URL must point to the root of a Firebase Database (not including a child path).");const D=function bW(n,t,e,i){let r=HO[t.name];r||(r={},HO[t.name]=r);let s=r[n.toURLString()];return s&&Pu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Iq(n,false,e,i),r[n.toURLString()]=s,s}(d,n,C,new c$(n.name,e));return new CW(D,n)}class CW{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Tq(n,t,e){if(n.stats_=HR(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new tA(n.repoInfo_,(i,r,s,c)=>{VV(n,i,r,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>BV(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,N.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new i_(n.repoInfo_,t,(i,r,s,c)=>{VV(n,i,r,s,c)},i=>{BV(n,i)},i=>{!function Mq(n,t){Xr(t,(e,i)=>{kO(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function f$(n,t){const e=n.toString();return UR[e]||(UR[e]=t()),UR[e]}(n.repoInfo_,()=>new p6(n.stats_,n.server_)),n.infoData_=new c6,n.infoSyncTree_=new CV({startListening:(i,r,s,c)=>{let d=[];const g=n.infoData_.getNode(i._path);return g.isEmpty()||(d=IC(n.infoSyncTree_,i._path,g),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),kO(n,"connected",!1),n.serverSyncTree_=new CV({startListening:(i,r,s,c)=>(n.server_.listen(i,s,r,(d,g)=>{const y=c(d,g);Jo(n.eventQueue_,i._path,y)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new il(this._repo,Tn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function vW(n,t){const e=HO[t];(!e||e[n.key]!==n)&&Pu(`Database ${t}(${n.repoInfo_}) has already been deleted.`),HV(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Pu("Cannot call "+t+" on a deleted database.")}}function sB(){xL.IS_TRANSPORT_INITIALIZED&&Ys("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function EW(){sB(),Cp.forceDisallow()}function xW(){sB(),Vv.forceDisallow(),Cp.forceAllow()}function AW(n,t){rL(n,t)}const TW={".sv":"timestamp"};class RW{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}i_.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},i_.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function IW(n){JN(To.SDK_VERSION),(0,To._registerComponent)(new Zo.wA("database",(t,{instanceIdentifier:e})=>rB(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,To.registerVersion)(QN,XN,n),(0,To.registerVersion)(QN,XN,"esm2017")}();const NW=new Ua.Yd("@firebase/database-compat"),aB=function(n){NW.warn("FIREBASE WARNING: "+n)};class BW{constructor(t){this._delegate=t}cancel(t){(0,N.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,N.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,N.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,N.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,N.Dv)("OnDisconnect.set",1,2,arguments.length),(0,N.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,N.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,N.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,N.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,aB("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,N.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class UW{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,N.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class kp{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,N.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,N.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,N.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,N.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,N.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),FC("DataSnapshot.child","path",t,!1),new kp(this._database,this._delegate.child(t))}hasChild(t){return(0,N.Dv)("DataSnapshot.hasChild",1,1,arguments.length),FC("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,N.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,N.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,N.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new kp(this._database,e)))}hasChildren(){return(0,N.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,N.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,N.Dv)("DataSnapshot.ref",0,0,arguments.length),new ea(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ss{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,N.Dv)("Query.on",2,4,arguments.length),(0,N.Wj)("Query.on","callback",e,!1);const c=Ss.getCancelAndContextArgs_("Query.on",i,r),d=(y,C)=>{e.call(c.context,new kp(this.database,y),C)};d.userCallback=e,d.context=c.context;const g=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(t){case"value":return UO(this._delegate,d,g),e;case"child_added":return KV(this._delegate,d,g),e;case"child_removed":return JV(this._delegate,d,g),e;case"child_changed":return QV(this._delegate,d,g),e;case"child_moved":return XV(this._delegate,d,g),e;default:throw new Error((0,N.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,N.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,N.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,N.Wj)("Query.off","callback",e,!0),(0,N.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,eB(this._delegate,t,r)}else eB(this._delegate,t)}get(){return Kq(this._delegate).then(t=>new kp(this.database,t))}once(t,e,i,r){(0,N.Dv)("Query.once",1,4,arguments.length),(0,N.Wj)("Query.once","callback",e,!0);const s=Ss.getCancelAndContextArgs_("Query.once",i,r),c=new N.BH,d=(y,C)=>{const D=new kp(this.database,y);e&&e.call(s.context,D,C),c.resolve(D)};d.userCallback=e,d.context=s.context;const g=y=>{s.cancel&&s.cancel.call(s.context,y),c.reject(y)};switch(t){case"value":UO(this._delegate,d,g,{onlyOnce:!0});break;case"child_added":KV(this._delegate,d,g,{onlyOnce:!0});break;case"child_removed":JV(this._delegate,d,g,{onlyOnce:!0});break;case"child_changed":QV(this._delegate,d,g,{onlyOnce:!0});break;case"child_moved":XV(this._delegate,d,g,{onlyOnce:!0});break;default:throw new Error((0,N.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(t){return(0,N.Dv)("Query.limitToFirst",1,1,arguments.length),new Ss(this.database,fc(this._delegate,function rW(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new iW(n)}(t)))}limitToLast(t){return(0,N.Dv)("Query.limitToLast",1,1,arguments.length),new Ss(this.database,fc(this._delegate,function oW(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new sW(n)}(t)))}orderByChild(t){return(0,N.Dv)("Query.orderByChild",1,1,arguments.length),new Ss(this.database,fc(this._delegate,function lW(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return FC("orderByChild","path",n,!1),new aW(n)}(t)))}orderByKey(){return(0,N.Dv)("Query.orderByKey",0,0,arguments.length),new Ss(this.database,fc(this._delegate,function uW(){return new cW}()))}orderByPriority(){return(0,N.Dv)("Query.orderByPriority",0,0,arguments.length),new Ss(this.database,fc(this._delegate,function hW(){return new dW}()))}orderByValue(){return(0,N.Dv)("Query.orderByValue",0,0,arguments.length),new Ss(this.database,fc(this._delegate,function pW(){return new fW}()))}startAt(t=null,e){return(0,N.Dv)("Query.startAt",0,2,arguments.length),new Ss(this.database,fc(this._delegate,function eW(n=null,t){return PC("startAt","key",t,!0),new nB(n,t)}(t,e)))}startAfter(t=null,e){return(0,N.Dv)("Query.startAfter",0,2,arguments.length),new Ss(this.database,fc(this._delegate,function nW(n,t){return PC("startAfter","key",t,!0),new tW(n,t)}(t,e)))}endAt(t=null,e){return(0,N.Dv)("Query.endAt",0,2,arguments.length),new Ss(this.database,fc(this._delegate,function Qq(n,t){return PC("endAt","key",t,!0),new tB(n,t)}(t,e)))}endBefore(t=null,e){return(0,N.Dv)("Query.endBefore",0,2,arguments.length),new Ss(this.database,fc(this._delegate,function Jq(n,t){return PC("endBefore","key",t,!0),new Xq(n,t)}(t,e)))}equalTo(t,e){return(0,N.Dv)("Query.equalTo",1,2,arguments.length),new Ss(this.database,fc(this._delegate,function mW(n,t){return PC("equalTo","key",t,!0),new gW(n,t)}(t,e)))}toString(){return(0,N.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,N.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,N.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Ss))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,N.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,N.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,N.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new ea(this.database,new il(this._delegate._repo,this._delegate._path))}}class ea extends Ss{constructor(t,e){super(t,new Fo(e._repo,e._path,new JS,!1)),this.database=t,this._delegate=e}getKey(){return(0,N.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,N.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new ea(this.database,c_(this._delegate,t))}getParent(){(0,N.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new ea(this.database,t):null}getRoot(){return(0,N.Dv)("Reference.root",0,0,arguments.length),new ea(this.database,this._delegate.root)}set(t,e){(0,N.Dv)("Reference.set",1,2,arguments.length),(0,N.Wj)("Reference.set","onComplete",e,!0);const i=BO(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,N.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,aB("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}nl("Reference.update",this._delegate._path),(0,N.Wj)("Reference.update","onComplete",e,!0);const i=Zq(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,N.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,N.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function Yq(n,t,e){if(nl("setWithPriority",n._path),Lu("setWithPriority",t,n._path,!1),MO("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new N.BH;return RO(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,N.Dv)("Reference.remove",0,1,arguments.length),(0,N.Wj)("Reference.remove","onComplete",t,!0);const e=function qq(n){return nl("remove",n._path),BO(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,N.Dv)("Reference.transaction",1,3,arguments.length),(0,N.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,N.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,N.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function OW(n,t,e){var i;if(n=(0,N.m9)(n),nl("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,s=new N.BH,d=UO(n,()=>{});return function Bq(n,t,e,i,r,s){Wv(n,"transaction on "+t);const c={path:t,update:e,onComplete:i,status:null,order:tL(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=PO(n,t,void 0);c.currentInputSnapshot=d;const g=c.update(d.val());if(void 0===g)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{OC("transaction failed: Data returned ",g,c.path),c.status=0;const y=mA(n.transactionQueueTree_,t),C=a_(y)||[];let D;C.push(c),AO(y,C),"object"==typeof g&&null!==g&&(0,N.r3)(g,".priority")?(D=(0,N.DV)(g,".priority"),(0,N.hu)(RC(D),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):D=(pA(n.serverSyncTree_,t)||Yt.EMPTY_NODE).getPriority().val();const k=NC(n),P=Ui(g,D),V=xO(P,d,k);c.currentOutputSnapshotRaw=P,c.currentOutputSnapshotResolved=V,c.currentWriteId=bA(n);const $=_O(n.serverSyncTree_,t,V,c.currentWriteId,c.applyLocally);Jo(n.eventQueue_,t,$),wA(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(g,y,C)=>{let D=null;g?s.reject(g):(D=new l_(C,new il(n._repo,n._path),di),s.resolve(new RW(y,D)))},d,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new UW(s.committed,new kp(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,N.Dv)("Reference.setPriority",1,2,arguments.length),(0,N.Wj)("Reference.setPriority","onComplete",e,!0);const i=function Wq(n,t){n=(0,N.m9)(n),nl("setPriority",n._path),MO("setPriority",t,!1);const e=new N.BH;return RO(n._repo,Ii(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,N.Dv)("Reference.push",0,2,arguments.length),(0,N.Wj)("Reference.push","onComplete",e,!0);const i=function $q(n,t){n=(0,N.m9)(n),nl("push",n._path),Lu("push",t,n._path,!0);const e=LV(n._repo),i=t6(e),r=c_(n,i),s=c_(n,i);let c;return c=null!=t?BO(s,t).then(()=>s):Promise.resolve(s),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,t),r=i.then(c=>new ea(this.database,c));e&&r.then(()=>e(null),c=>e(c));const s=new ea(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return nl("Reference.onDisconnect",this._delegate._path),new BW(new WV(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class BC{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:EW,forceLongPolling:xW}}useEmulator(t,e,i={}){!function oB(n,t,e,i={}){(n=(0,N.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Pu("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Pu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new mC(mC.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,N.Sg)(i.mockUserToken,n.app.options.projectId);s=new mC(c)}!function yW(n,t,e,i){n.repoInfo_=new VR(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if((0,N.Dv)("database.ref",0,1,arguments.length),t instanceof ea){const e=ZV(this._delegate,t.toString());return new ea(this,e)}{const e=YV(this._delegate,t);return new ea(this,e)}}refFromURL(t){(0,N.Dv)("database.refFromURL",1,1,arguments.length);const i=ZV(this._delegate,t);return new ea(this,i)}goOffline(){return(0,N.Dv)("database.goOffline",0,0,arguments.length),function DW(n){(n=(0,N.m9)(n))._checkNotDeleted("goOffline"),HV(n._repo)}(this._delegate)}goOnline(){return(0,N.Dv)("database.goOnline",0,0,arguments.length),function SW(n){(n=(0,N.m9)(n))._checkNotDeleted("goOnline"),function Vq(n){n.persistentConnection_&&n.persistentConnection_.resume(NV)}(n._repo)}(this._delegate)}}BC.ServerValue={TIMESTAMP:function MW(){return TW}(),increment:n=>function kW(n){return{".sv":{increment:n}}}(n)};var GW=Object.freeze({__proto__:null,initStandalone:function HW({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){JN(e);const c=new Zo.zt("auth-internal",new Zo.H0("database-standalone"));return c.setComponent(new Zo.wA("auth-internal",()=>i,"PRIVATE")),{instance:new BC(rB(n,c,void 0,t,s),n),namespace:r}}});const jW=BC.ServerValue;function lB(n){return null==n}function cB(n){return"function"==typeof n.set}function uB(n,t){return cB(t)?t:n.ref(t)}function dB(n,t){if(function $W(n){return"string"==typeof n}(n))return t.stringCase();if(cB(n))return t.firebaseCase();if(function qW(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function UC(n,t,e="on",i=Rf.z){return new Jn.y(r=>{let s=null;return s=n[e](t,(c,d)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:d})}),"once"===e&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe((0,qe.U)(r=>{const{snapshot:s,prevKey:c}=r;let d=null;return s.exists()&&(d=s.key),{type:t,payload:s,prevKey:c,key:d}}),(0,nR.B)())}function hB(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function ZW(n,t){const{payload:e,prevKey:i,key:r}=t,s=hB(n,r),c=function YW(n,t){if(lB(t))return 0;{const e=hB(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let d=null;t.payload.forEach(g=>{const y={payload:g,type:"value",prevKey:d,key:g.key};return d=g.key,n=[...n,y],!1})}return n;case"child_added":if(s>-1){const d=n[s-1];(d&&d.key||null)!==i&&(n=n.filter(g=>g.payload.key!==e.key)).splice(c,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(c,0,t)}return n;case"child_removed":return n.filter(d=>d.payload.key!==e.key);case"child_changed":return n.map(d=>d.payload.key===r?t:d);case"child_moved":if(s>-1){const d=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,d),n}return n;default:return n}}function fB(n){return(lB(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function pB(n,t,e){return function WW(n,t,e){return UC(n,"value","once",e).pipe(An(i=>{const r=[Je(i)];return t.forEach(s=>r.push(UC(n,s,"on",e))),(0,Xo.T)(...r).pipe(Oa(ZW,[]))}),Of())}(n,t=fB(t),e)}function gB(n,t,e){const i=(t=fB(t)).map(r=>UC(n,r,"on",e));return(0,Xo.T)(...i)}function mB(n,t){return function(i,r){return dB(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function JW(n){return function(e){return e?dB(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function _B(n,t){return function(){return UC(n,"value","on",t)}}!function zW(n){n.INTERNAL.registerComponent(new Zo.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new BC(r,i)},"PUBLIC").setServiceProps({Reference:ea,Query:Ss,Database:BC,DataSnapshot:kp,enableLogging:AW,INTERNAL:GW,ServerValue:jW}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.10")}(tx.Z);const n5=new o.OlP("angularfire2.realtimeDatabaseURL"),i5=new o.OlP("angularfire2.database.use-emulator");let GO,r5=(()=>{class n{constructor(e,i,r,s,c,d,g,y,C,D,k,P,V,$,ee){this.schedulers=d;const Se=g,$e=(0,bs.on)(e,c,i);y&&TR($e,c,C,k,P,V,D,$),this.database=(0,bs.cc)(`${$e.name}.database.${r}`,"AngularFireDatabase",$e.name,()=>{const tt=c.runOutsideAngular(()=>$e.database(r||void 0));return Se&&tt.useEmulator(...Se),tt},[Se])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>uB(this.database,e));let s=r;return i&&(s=i(r)),function e5(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:mB(i,"update"),set:mB(i,"set"),push:r=>i.push(r),remove:JW(i),snapshotChanges:r=>pB(n,r,e).pipe(ni.iC),stateChanges:r=>gB(n,r,e).pipe(ni.iC),auditTrail:r=>function KW(n,t,e){return function XW(n,t,e){return function QW(n,t){return UC(n,"value","on",t).pipe((0,qe.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function Qz(...n){const t=(0,$r.jO)(n);return(0,En.e)((e,i)=>{const r=n.length,s=new Array(r);let c=n.map(()=>!1),d=!1;for(let g=0;g<r;g++)(0,ft.Xf)(n[g]).subscribe(new B.Q(i,y=>{s[g]=y,!d&&!c[g]&&(c[g]=!0,(d=c.every(so.y))&&(c=null))},KN.Z));e.subscribe(new B.Q(i,g=>{if(d){const y=[g,...s];i.next(t?t(...y):y)}}))})}(t),(0,qe.U)(([r,s])=>{const c=r.lastKeyToLoad,d=s.map(g=>g.key);return{actions:s,lastKeyToLoad:c,loadedKeys:d}}),function Xz(n){return(0,En.e)((t,e)=>{let i=!1,r=0;t.subscribe(new B.Q(e,s=>(i||(i=!n(s,r++)))&&e.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,qe.U)(r=>r.actions))}(n,gB(n,t).pipe(Oa((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(ni.iC),valueChanges:(r,s)=>pB(n,r,e).pipe((0,qe.U)(d=>d.map(g=>s&&s.idField?Object.assign(Object.assign({},g.payload.val()),{[s.idField]:g.key}):g.payload.val())),ni.iC)}}(s,this)}object(e){return function t5(n,t){return{query:n,snapshotChanges:()=>_B(n,t.schedulers.outsideAngular)().pipe(ni.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>_B(n,t.schedulers.outsideAngular)().pipe(ni.iC,(0,qe.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>uB(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(bs.Dh),o.LFG(bs.xv,8),o.LFG(n5,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(ni.HU),o.LFG(i5,8),o.LFG(GS,8),o.LFG(ER,8),o.LFG(xR,8),o.LFG(DR,8),o.LFG(SR,8),o.LFG(AR,8),o.LFG(IR,8),o.LFG(HS,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),HC=(()=>{class n{constructor(e,i){this.store=e,this.angularFire=i,this.getObservable=r=>{const s=new _n([]);return r.valueChanges({idField:"id"}).subscribe(c=>{s.next(c)}),s},this.getObservableSkill=r=>{const s=new _n([]);return r.valueChanges({idField:"id"}).subscribe(c=>{s.next(c)}),s},this.getObservableTipologia=r=>{const s=new _n([]);return r.valueChanges({idField:"id"}).subscribe(c=>{s.next(c)}),s},this.getObservableRazza=r=>{const s=new _n([]);return r.valueChanges({idField:"id"}).subscribe(c=>{s.next(c)}),s},this.getObservableClasseSkills=r=>{const s=new _n([]);return r.valueChanges({idField:"id"}).subscribe(c=>{s.next(c)}),s},this.getObservableReligioni=r=>{const s=new _n([]);return r.valueChanges({idField:"id"}).subscribe(c=>{s.next(c)}),s},this.getObservableSpellPaladino=r=>{const s=new _n([]);return r.valueChanges({idField:"id"}).subscribe(c=>{s.next(c)}),s},this.getObservablePg=r=>{const s=new _n([]);return r.valueChanges({idField:"id"}).subscribe(c=>{s.next(c)}),s}}getAllClass(){return this.getObservable(this.store.collection("Classe"))}getSpellPaladinoFromDivinita(e){return this.getObservableSpellPaladino(this.store.collection("SpellPaladino",i=>i.where("religione","==",e)))}getAllSkills(e=-1){return this.getObservableSkill(this.store.collection("Skill",-1===e?i=>i.orderBy("idTipologiaSkill"):i=>i.where("idTipologiaSkill","==",e.toString())))}getAllReligioni(e=""){return this.getObservableReligioni(""===e?this.store.collection("Religione"):this.store.collection("Religione",i=>i.where("pantheon","==",e)))}getClasseSkills(e){return this.getObservableClasseSkills(this.store.collection("Skill",i=>i.where("classi","array-contains",e)))}getAllRazze(){return this.getObservableRazza(this.store.collection("Razza"))}getAllTipologieSkill(){return this.getObservableTipologia(this.store.collection("TipologiaSkill"))}AddSkill(e){this.store.collection("Skill").add({nome:e.nome,classi:e.classi,idTipologiaSkill:e.idTipologiaSkill})}AddPg(e,i){this.store.collection("Pg").add({nome:e.nome,classe:e.classe.nome,divinita:e.religione.nome,pantheon:e.religione.pantheon,forza:e.stats.forza,destrezza:e.stats.destrezza,intelligenza:e.stats.intelligenza,guid:i})}addSkillsPg(e,i){this.store.collection("SkillsPg").add({guidPg:i,nomeSkill:e.nome,valueSkill:e.value})}getPg(e){this.getObservablePg(this.store.collection("PG",i=>i.where("guid","==",e)))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ZN),o.LFG(r5))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{GO=typeof Intl<"u"&&Intl.v8BreakIterator}catch{GO=!1}let Zv,fr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?ks(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!GO)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),s5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const yB=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function vB(){if(Zv)return Zv;if("object"!=typeof document||!document)return Zv=new Set(yB),Zv;let n=document.createElement("input");return Zv=new Set(yB.filter(t=>(n.setAttribute("type",t),n.type===t))),Zv}let GC,SA,u_,jO;function jC(n){return function o5(){if(null==GC&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>GC=!0}))}finally{GC=GC||!1}return GC}()?n:!!n.capture}function bB(){if(null==u_){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return u_=!1,u_;if("scrollBehavior"in document.documentElement.style)u_=!0;else{const n=Element.prototype.scrollTo;u_=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return u_}function zC(){if("object"!=typeof document||!document)return 0;if(null==SA){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),SA=0,0===n.scrollLeft&&(n.scrollLeft=1,SA=0===n.scrollLeft?1:2),n.remove()}return SA}function wB(n){if(function a5(){if(null==jO){const n=typeof document<"u"?document.head:null;jO=!(!n||!n.createShadowRoot&&!n.attachShadow)}return jO}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function zO(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function d_(n){return n.composedPath?n.composedPath()[0]:n.target}function $O(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Vu(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function TA(n,t=Rf.z){return(0,En.e)((e,i)=>{let r=null,s=null,c=null;const d=()=>{if(r){r.unsubscribe(),r=null;const y=s;s=null,i.next(y)}};function g(){const y=c+n,C=t.now();if(C<y)return r=this.schedule(void 0,y-C),void i.add(r);d()}e.subscribe(new B.Q(i,y=>{s=y,c=t.now(),r||(r=t.schedule(g,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{s=r=null}))})}function DB(n){return dn((t,e)=>n<=e)}function fn(n){return(0,En.e)((t,e)=>{(0,ft.Xf)(n).subscribe(new B.Q(e,()=>e.complete(),KN.Z)),!e.closed&&t.subscribe(e)})}function Zt(n){return null!=n&&"false"!=`${n}`}function pc(n,t=0){return function v5(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function MA(n){return Array.isArray(n)?n:[n]}function Tr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ch(n){return n instanceof o.SBq?n.nativeElement:n}let SB=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),b5=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Ch(e);return new Jn.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new lt.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(SB))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YO=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new o.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Zt(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=pc(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(TA(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(b5),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),kA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[SB]}),n})();const AB=new Set;let Kv,w5=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):E5}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function C5(n){if(!AB.has(n))try{Kv||(Kv=document.createElement("style"),Kv.setAttribute("type","text/css"),document.head.appendChild(Kv)),Kv.sheet&&(Kv.sheet.insertRule(`@media ${n} {body{ }}`,0),AB.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function E5(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let IB=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new lt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return TB(MA(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=oe(TB(MA(e)).map(c=>this._registerQuery(c).observable));return s=kt(s.pipe((0,Gn.q)(1)),s.pipe(DB(1),TA(0))),s.pipe((0,qe.U)(c=>{const d={matches:!1,breakpoints:{}};return c.forEach(({matches:g,query:y})=>{d.matches=d.matches||g,d.breakpoints[y]=g}),d}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new Jn.y(c=>{const d=g=>this._zone.run(()=>c.next(g));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(vr(i),(0,qe.U)(({matches:c})=>({query:e,matches:c})),fn(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(w5),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function TB(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function RA(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const kB="cdk-describedby-message",OA="cdk-describedby-host";let ZO=0,A5=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+ZO++,this._document=e,this._id=(0,o.f3M)(o.AFp)+"-"+ZO++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const s=KO(i,r);"string"!=typeof i?(RB(i,this._id),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const s=KO(i,r);if(this._isElementDescribedByMessage(e,s)&&this._removeMessageReference(e,s),"string"==typeof i){const c=this._messageRegistry.get(s);c&&0===c.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${OA}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(OA);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");RB(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(KO(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=RA(e,"aria-describedby").filter(r=>0!=r.indexOf(kB));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function D5(n,t,e){const i=RA(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(OA,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function S5(n,t,e){const r=RA(n,t).filter(s=>s!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(OA)}_isElementDescribedByMessage(e,i){const r=RA(e,"aria-describedby"),s=this._messageRegistry.get(i),c=s&&s.messageElement.id;return!!c&&-1!=r.indexOf(c)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=e.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(X),o.LFG(fr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KO(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function RB(n,t){n.id||(n.id=`${kB}-${t}-${ZO++}`)}class I5{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new lt.x,this._typeaheadSubscription=mi.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new lt.x,this.change=new lt.x,t instanceof o.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,li.b)(e=>this._pressedLetters.push(e)),TA(t),dn(()=>this._pressedLetters.length>0),(0,qe.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,c=i[s];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Vu(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof o.n_E?this._items.toArray():this._items}}class T5 extends I5{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}let qC=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function k5(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function M5(n){try{return n.frameElement}catch{return null}}(function B5(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===PB(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=PB(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function L5(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function V5(n){return!function O5(n){return function F5(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function R5(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function P5(n){return function N5(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||OB(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function OB(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function PB(n){if(!OB(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class U5{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,Gn.q)(1)).subscribe(t)}}let PA=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new U5(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(qC),o.LFG(o.R0b),o.LFG(X))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FB(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function NB(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const H5=new o.OlP("cdk-input-modality-detector-options"),G5={ignoreKeys:[18,17,224,91,16]},Qv=jC({passive:!0,capture:!0});let j5=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new _n(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(d=>d===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=d_(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(FB(c)?"keyboard":"mouse"),this._mostRecentTarget=d_(c))},this._onTouchstart=c=>{NB(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=d_(c))},this._options={...G5,...s},this.modalityDetected=this._modality.pipe(DB(1)),this.modalityChanged=this.modalityDetected.pipe(Of()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Qv),r.addEventListener("mousedown",this._onMousedown,Qv),r.addEventListener("touchstart",this._onTouchstart,Qv)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Qv),document.removeEventListener("mousedown",this._onMousedown,Qv),document.removeEventListener("touchstart",this._onTouchstart,Qv))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fr),o.LFG(o.R0b),o.LFG(X),o.LFG(H5,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const z5=new o.OlP("liveAnnouncerElement",{providedIn:"root",factory:function $5(){return null}}),q5=new o.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let W5=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,c;return 1===i.length&&"number"==typeof i[0]?c=i[0]:[s,c]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==c&&r&&(c=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(d=>this._currentResolve=d)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(z5,8),o.LFG(o.R0b),o.LFG(X),o.LFG(q5,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Y5=new o.OlP("cdk-focus-monitor-default-options"),FA=jC({passive:!0,capture:!0});let Bu=(()=>{class n{constructor(e,i,r,s,c){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new lt.x,this._rootNodeFocusAndBlurListener=d=>{for(let y=d_(d);y;y=y.parentElement)"focus"===d.type?this._onFocus(d,y):this._onBlur(d,y)},this._document=s,this._detectionMode=c?.detectionMode||0}monitor(e,i=!1){const r=Ch(e);if(!this._platform.isBrowser||1!==r.nodeType)return Je(null);const s=wB(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const d={checkChildren:i,subject:new lt.x,rootNode:s};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){const i=Ch(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=Ch(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([d,g])=>this._originChanged(d,i,g)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=d_(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,FA),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,FA)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(fn(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,FA),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,FA),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let c=0;c<s.length;c++)if(s[c].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(fr),o.LFG(j5),o.LFG(X,8),o.LFG(Y5,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VB="cdk-high-contrast-black-on-white",BB="cdk-high-contrast-white-on-black",QO="cdk-high-contrast-active";let UB=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,o.f3M)(IB).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(QO,VB,BB),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(QO,VB):2===i&&e.add(QO,BB)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fr),o.LFG(X))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HB=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(UB))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[kA]}),n})();const Z5=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function K5(){return(0,o.f3M)(X)}}),Q5=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let gc=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new o.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function X5(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?Q5.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Z5,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function J5(n,t){if(1&n&&o._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=o.oxw();o.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function eY(n,t){if(1&n&&(o.TgZ(0,"span",5),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij("(",e.group.label,")")}}const tY=["*"],iY=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function nY(){return!0}});let xn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!$O()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(UB),o.LFG(iY,8),o.LFG(X))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Xv,Xv]}),n})();function NA(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Zt(t)}}}function Rp(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function LA(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Zt(t)}}}function VA(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?pc(e):this.defaultTabIndex}}}function zB(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}const rY=new o.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function sY(){return(0,o.f3M)(o.soG)}});class $B{constructor(){this._localeChanges=new lt.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const oY=new o.OlP("mat-date-formats"),aY=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function XO(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let lY=(()=>{class n extends $B{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return XO(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return XO(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return XO(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let s=this._createDateWithOverflow(e,i,r);return s.getMonth(),s}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(aY.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const s=new Date;return s.setFullYear(e,i,r),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(rY,8),o.LFG(fr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const cY={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let uY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:$B,useClass:lY}]}),n})(),dY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:oY,useValue:cY}],imports:[uY]}),n})(),JO=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class hY{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const qB={enterDuration:225,exitDuration:150},eP=jC({passive:!0}),WB=["mousedown","touchstart"],YB=["mouseup","mouseleave","touchend","touchcancel"];class pY{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ch(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...qB,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const c=i.radius||function gY(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),d=t-r.left,g=e-r.top,y=s.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=d-c+"px",C.style.top=g-c+"px",C.style.height=2*c+"px",C.style.width=2*c+"px",null!=i.color&&(C.style.backgroundColor=i.color),C.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(C);const D=window.getComputedStyle(C),P=D.transitionDuration,V="none"===D.transitionProperty||"0s"===P||"0s, 0s"===P,$=new hY(this,C,i,V);C.style.transform="scale3d(1, 1, 1)",$.state=0,i.persistent||(this._mostRecentTransientRipple=$);let ee=null;return!V&&(y||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Se=()=>this._finishRippleTransition($),$e=()=>this._destroyRipple($);C.addEventListener("transitionend",Se),C.addEventListener("transitioncancel",$e),ee={onTransitionEnd:Se,onTransitionCancel:$e}}),this._activeRipples.set($,ee),(V||!y)&&this._finishRippleTransition($),$}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...qB,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ch(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(WB))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(YB),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=FB(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!NB(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,eP)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(WB.forEach(t=>{this._triggerElement.removeEventListener(t,this,eP)}),this._pointerUpEventsRegistered&&YB.forEach(t=>{this._triggerElement.removeEventListener(t,this,eP)}))}}const mY=new o.OlP("mat-ripple-global-options");let h_=(()=>{class n{constructor(e,i,r,s,c){this._elementRef=e,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new pY(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(fr),o.Y36(mY,8),o.Y36(o.QbO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),BA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[xn,xn]}),n})(),_Y=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&o.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),yY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[xn]}),n})();const ZB=new o.OlP("MAT_OPTION_PARENT_COMPONENT"),KB=new o.OlP("MatOptgroup");let vY=0;class bY{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let wY=(()=>{class n{constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+vY++,this.onSelectionChange=new o.vpe,this._stateChanges=new lt.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Zt(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Vu(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new bY(this,e))}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),tP=(()=>{class n extends wY{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(ZB,8),o.Y36(KB,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&e&&(o.Ikx("id",i.id),o.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),o.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[o.qOj],ngContentSelectors:tY,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(o.F$t(),o.YNc(0,J5,1,2,"mat-pseudo-checkbox",0),o.TgZ(1,"span",1),o.Hsn(2),o.qZA(),o.YNc(3,eY,2,1,"span",2),o._UZ(4,"div",3)),2&e&&(o.Q6J("ngIf",i.multiple),o.xp6(3),o.Q6J("ngIf",i.group&&i.group._inert),o.xp6(1),o.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[h_,gn,_Y],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),n})();function QB(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let c=0;c<n+1;c++)i[c].group&&i[c].group===r[s]&&s++;return s}return 0}let XB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[BA,zi,xn,yY]}),n})();const EY=["*",[["mat-toolbar-row"]]],xY=["*","mat-toolbar-row"],DY=Rp(class{constructor(n){this._elementRef=n}});let SY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),AY=(()=>{class n extends DY{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(fr),o.Y36(X))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,SY,5),2&e){let s;o.iGM(s=o.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[o.qOj],ngContentSelectors:xY,decls:2,vars:0,template:function(e,i){1&e&&(o.F$t(EY),o.Hsn(0),o.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),JB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[xn,xn]}),n})();function e2(...n){const t=(0,$r.jO)(n),{args:e,keys:i}=yd(n),r=new Jn.y(s=>{const{length:c}=e;if(!c)return void s.complete();const d=new Array(c);let g=c,y=c;for(let C=0;C<c;C++){let D=!1;(0,ft.Xf)(e[C]).subscribe(new B.Q(s,k=>{D||(D=!0,y--),d[C]=k},()=>g--,void 0,()=>{(!g||!D)&&(y||s.next(i?R(i,d):d),s.complete())}))}});return t?r.pipe(I(t)):r}class nP{}class Op{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),c=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Op?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Op;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Op?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let c=this.headers.get(e);if(!c)return;c=c.filter(d=>-1===s.indexOf(d)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class IY{encodeKey(t){return n2(t)}encodeValue(t){return n2(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const MY=/%(\d[a-f0-9])/gi,kY={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function n2(n){return encodeURIComponent(n).replace(MY,(t,e)=>kY[e]??t)}function UA(n){return`${n}`}class Pp{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new IY,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function TY(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[c,d]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],g=e.get(c)||[];g.push(d),e.set(c,g)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(UA):[UA(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Pp({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(UA(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(UA(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class RY{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function r2(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function s2(n){return typeof Blob<"u"&&n instanceof Blob}function o2(n){return typeof FormData<"u"&&n instanceof FormData}class YC{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function OY(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Op),this.context||(this.context=new RY),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const d=e.indexOf("?");this.urlWithParams=e+(-1===d?"?":d<e.length-1?"&":"")+c}}else this.params=new Pp,this.urlWithParams=e}serializeBody(){return null===this.body?null:r2(this.body)||s2(this.body)||o2(this.body)||function PY(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Pp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||o2(this.body)?null:s2(this.body)?this.body.type||null:r2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Pp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,c=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,d=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let g=t.headers||this.headers,y=t.params||this.params;const C=t.context??this.context;return void 0!==t.setHeaders&&(g=Object.keys(t.setHeaders).reduce((D,k)=>D.set(k,t.setHeaders[k]),g)),t.setParams&&(y=Object.keys(t.setParams).reduce((D,k)=>D.set(k,t.setParams[k]),y)),new YC(e,i,s,{params:y,headers:g,context:C,reportProgress:d,responseType:r,withCredentials:c})}}var As=(()=>((As=As||{})[As.Sent=0]="Sent",As[As.UploadProgress=1]="UploadProgress",As[As.ResponseHeader=2]="ResponseHeader",As[As.DownloadProgress=3]="DownloadProgress",As[As.Response=4]="Response",As[As.User=5]="User",As))();class FY{constructor(t,e=200,i="OK"){this.headers=t.headers||new Op,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class iP extends FY{constructor(t={}){super(t),this.type=As.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new iP({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function rP(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let sP=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof YC)s=e;else{let g,y;g=r.headers instanceof Op?r.headers:new Op(r.headers),r.params&&(y=r.params instanceof Pp?r.params:new Pp({fromObject:r.params})),s=new YC(e,i,void 0!==r.body?r.body:null,{headers:g,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=Je(s).pipe(Ra(g=>this.handler.handle(g)));if(e instanceof YC||"events"===r.observe)return c;const d=c.pipe(dn(g=>g instanceof iP));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,qe.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return d.pipe((0,qe.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return d.pipe((0,qe.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return d.pipe((0,qe.U)(g=>g.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Pp).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,rP(r,i))}post(e,i,r={}){return this.request("POST",e,rP(r,i))}put(e,i,r={}){return this.request("PUT",e,rP(r,i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(nP))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const YY=["*"];let GA;function ZC(n){return function ZY(){if(void 0===GA&&(GA=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(GA=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return GA}()?.createHTML(n)||n}function p2(n){return Error(`Unable to find icon with the name "${n}"`)}function g2(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function m2(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class f_{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let jA=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new f_(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const c=this._sanitizer.sanitize(o.q3G.HTML,r);if(!c)throw m2(r);const d=ZC(c);return this._addSvgIconConfig(e,i,new f_("",d,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new f_(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(o.q3G.HTML,i);if(!s)throw m2(i);const c=ZC(s);return this._addSvgIconSetConfig(e,new f_("",c,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,e);if(!i)throw g2(e);const r=this._cachedIconsByUrl.get(i);return r?Je(zA(r)):this._loadSvgIconFromConfig(new f_(e,null)).pipe((0,li.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,qe.U)(s=>zA(s)))}getNamedSvgIcon(e,i=""){const r=_2(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(e,c):ys(p2(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Je(zA(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,qe.U)(i=>zA(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Je(r):e2(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(xo(d=>{const y=`Loading icon set URL: ${this._sanitizer.sanitize(o.q3G.RESOURCE_URL,c.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(y)),Je(null)})))).pipe((0,qe.U)(()=>{const c=this._extractIconWithNameFromAnySet(e,i);if(!c)throw p2(e);return c}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const c=this._svgElementFromConfig(s),d=this._extractSvgIconFromSet(c,e,s.options);if(d)return d}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,li.b)(i=>e.svgText=i),(0,qe.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Je(null):this._fetchIcon(e).pipe((0,li.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const c=s.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const d=this._svgElementFromString(ZC("<svg></svg>"));return d.appendChild(c),this._setSvgAttributes(d,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(ZC("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:c,value:d}=r[s];"id"!==c&&i.setAttribute(c,d)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw function KY(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const c=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,i);if(!c)throw g2(i);const d=this._inProgressUrlFetches.get(c);if(d)return d;const g=this._httpClient.get(c,{responseType:"text",withCredentials:s}).pipe((0,qe.U)(y=>ZC(y)),rg(()=>this._inProgressUrlFetches.delete(c)),(0,nR.B)());return this._inProgressUrlFetches.set(c,g),g}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(_2(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return XY(s)?new f_(s.url,null,s.options):new f_(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(sP,8),o.LFG(ms),o.LFG(X,8),o.LFG(o.qLn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zA(n){return n.cloneNode(!0)}function _2(n,t){return n+":"+t}function XY(n){return!(!n.url||!n.options)}const JY=Rp(class{constructor(n){this._elementRef=n}}),e4=new o.OlP("MAT_ICON_DEFAULT_OPTIONS"),t4=new o.OlP("mat-icon-location",{providedIn:"root",factory:function n4(){const n=(0,o.f3M)(X),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),y2=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],i4=y2.map(n=>`[${n}]`).join(", "),r4=/^url\(['"]?#(.*?)['"]?\)$/;let KC=(()=>{class n extends JY{constructor(e,i,r,s,c,d){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=mi.w0.EMPTY,d&&(d.color&&(this.color=this.defaultColor=d.color),d.fontSet&&(this.fontSet=d.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Zt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(c=>{s.setAttribute(c.name,`url('${e}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(i4),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)y2.forEach(c=>{const d=i[s],g=d.getAttribute(c),y=g?g.match(r4):null;if(y){let C=r.get(d);C||(C=[],r.set(d,C)),C.push({name:c,value:y[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,Gn.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(jA),o.$8M("aria-hidden"),o.Y36(t4),o.Y36(o.qLn),o.Y36(e4,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(o.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),o.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[o.qOj],ngContentSelectors:YY,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),s4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[xn,xn]}),n})();var o4=F(1144);const a4=["addListener","removeListener"],l4=["addEventListener","removeEventListener"],c4=["on","off"];function p_(n,t,e,i){if((0,ai.m)(e)&&(i=e,e=void 0),i)return p_(n,t,e).pipe(I(i));const[r,s]=function h4(n){return(0,ai.m)(n.addEventListener)&&(0,ai.m)(n.removeEventListener)}(n)?l4.map(c=>d=>n[c](t,d,e)):function u4(n){return(0,ai.m)(n.addListener)&&(0,ai.m)(n.removeListener)}(n)?a4.map(v2(n,t)):function d4(n){return(0,ai.m)(n.on)&&(0,ai.m)(n.off)}(n)?c4.map(v2(n,t)):[];if(!r&&(0,o4.z)(n))return(0,br.z)(c=>p_(c,t,e))((0,ft.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Jn.y(c=>{const d=(...g)=>c.next(1<g.length?g:g[0]);return r(d),()=>s(d)})}function v2(n,t){return e=>i=>n[e](t,i)}var b2=F(4408);const QC={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=QC;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new mi.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=QC;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=QC;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var w2=F(7565);new class p4 extends w2.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const s=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this._active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class f4 extends b2.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=QC.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(QC.cancelAnimationFrame(e),t._scheduled=void 0)}});let aP,m4=1;const $A={};function C2(n){return n in $A&&(delete $A[n],!0)}const _4={setImmediate(n){const t=m4++;return $A[t]=!0,aP||(aP=Promise.resolve()),aP.then(()=>C2(t)&&n()),t},clearImmediate(n){C2(n)}},{setImmediate:y4,clearImmediate:v4}=_4,qA={setImmediate(...n){const{delegate:t}=qA;return(t?.setImmediate||y4)(...n)},clearImmediate(n){const{delegate:t}=qA;return(t?.clearImmediate||v4)(n)},delegate:void 0};new class w4 extends w2.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const s=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this._active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class b4 extends b2.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=qA.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(qA.clearImmediate(e),t._scheduled=void 0)}});var x4=F(3532);function E2(n,t=Rf.P){return function E4(n){return(0,En.e)((t,e)=>{let i=!1,r=null,s=null,c=!1;const d=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const y=r;r=null,e.next(y)}c&&e.complete()},g=()=>{s=null,c&&e.complete()};t.subscribe(new B.Q(e,y=>{i=!0,r=y,s||(0,ft.Xf)(n(y)).subscribe(s=new B.Q(e,d,g))},()=>{c=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>function S4(n=0,t,e=Rf.P){let i=-1;return null!=t&&((0,x4.K)(t)?e=t:i=t),new Jn.y(r=>{let s=function D4(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let c=0;return e.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,t))}let XC=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new lt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Jn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(E2(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Je()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(dn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Ch(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>p_(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(fr),o.LFG(X,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JC=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new lt.x,this._elementScrolled=new Jn.y(c=>this.ngZone.runOutsideAngular(()=>p_(this.elementRef.nativeElement,"scroll").pipe(fn(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=zC()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==zC()?e.left=e.right:1==zC()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;bB()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==e?e=c?r:i:"end"==e&&(e=c?i:r),c&&2==zC()?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:c&&1==zC()?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(XC),o.Y36(o.R0b),o.Y36(gc,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),eE=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new lt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(E2(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fr),o.LFG(o.R0b),o.LFG(X,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),x2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Xv,tb,Xv,tb]}),n})();class D2{}class T4{}const Eh="*";function Fp(n,t){return{type:7,name:n,definitions:t,options:{}}}function mc(n,t=null){return{type:4,styles:t,timings:n}}function S2(n,t=null){return{type:3,steps:n,options:t}}function A2(n,t=null){return{type:2,steps:n,options:t}}function Ti(n){return{type:6,styles:n,offset:null}}function No(n,t,e){return{type:0,name:n,styles:t,options:e}}function rl(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function lP(n=null){return{type:9,options:n}}function cP(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function I2(n){Promise.resolve().then(n)}class tE{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){I2(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class T2{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?I2(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,d)=>Math.max(c,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const WA=["*"],k4=["content"];function R4(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r._onBackdropClicked())}),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function O4(n,t){1&n&&(o.TgZ(0,"mat-drawer-content"),o.Hsn(1,2),o.qZA())}const P4=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],F4=["mat-drawer","mat-drawer-content","*"];function N4(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r._onBackdropClicked())}),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function L4(n,t){1&n&&(o.TgZ(0,"mat-sidenav-content"),o.Hsn(1,2),o.qZA())}const V4=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],B4=["mat-sidenav","mat-sidenav-content","*"],M2={transformDrawer:Fp("transform",[No("open, open-instant",Ti({transform:"none",visibility:"visible"})),No("void",Ti({"box-shadow":"none",visibility:"hidden"})),rl("void => open-instant",mc("0ms")),rl("void <=> open, open-instant => void",mc("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},H4=new o.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function G4(){return!1}}),dP=new o.OlP("MAT_DRAWER_CONTAINER");let YA=(()=>{class n extends JC{constructor(e,i,r,s,c){super(r,s,c),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>R2)),o.Y36(o.SBq),o.Y36(XC),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&o.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[o._Bn([{provide:JC,useExisting:n}]),o.qOj],ngContentSelectors:WA,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),k2=(()=>{class n{constructor(e,i,r,s,c,d,g,y){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=s,this._ngZone=c,this._interactivityChecker=d,this._doc=g,this._container=y,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new lt.x,this._animationEnd=new lt.x,this._animationState="void",this.openedChange=new o.vpe(!0),this._openedStream=this.openedChange.pipe(dn(C=>C),(0,qe.U)(()=>{})),this.openedStart=this._animationStarted.pipe(dn(C=>C.fromState!==C.toState&&0===C.toState.indexOf("open")),rf(void 0)),this._closedStream=this.openedChange.pipe(dn(C=>!C),(0,qe.U)(()=>{})),this.closedStart=this._animationStarted.pipe(dn(C=>C.fromState!==C.toState&&"void"===C.toState),rf(void 0)),this._destroyed=new lt.x,this.onPositionChanged=new o.vpe,this._modeChanged=new lt.x,this.openedChange.subscribe(C=>{C?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{p_(this._elementRef.nativeElement,"keydown").pipe(dn(C=>27===C.keyCode&&!this.disableClose&&!Vu(C)),fn(this._destroyed)).subscribe(C=>this._ngZone.run(()=>{this.close(),C.stopPropagation(),C.preventDefault()}))}),this._animationEnd.pipe(Of((C,D)=>C.fromState===D.fromState&&C.toState===D.toState)).subscribe(C=>{const{fromState:D,toState:k}=C;(0===k.indexOf("open")&&"void"===D||"void"===k&&0===D.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Zt(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Zt(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Zt(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe((0,Gn.q)(1)).subscribe(c=>s(c?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(PA),o.Y36(Bu),o.Y36(fr),o.Y36(o.R0b),o.Y36(qC),o.Y36(X,8),o.Y36(dP,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&o.Gf(k4,5),2&e){let r;o.iGM(r=o.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&o.WFA("@transform.start",function(s){return i._animationStarted.next(s)})("@transform.done",function(s){return i._animationEnd.next(s)}),2&e&&(o.uIk("align",null),o.d8E("@transform",i._animationState),o.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:WA,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0,1),o.Hsn(2),o.qZA())},dependencies:[JC],encapsulation:2,data:{animation:[M2.transformDrawer]},changeDetection:0}),n})(),R2=(()=>{class n{constructor(e,i,r,s,c,d=!1,g){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=g,this._drawers=new o.n_E,this.backdropClick=new o.vpe,this._destroyed=new lt.x,this._doCheckSubject=new lt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new lt.x,e&&e.change.pipe(fn(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),c.change().pipe(fn(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=d}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Zt(e)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(e){this._backdropOverride=null==e?null:Zt(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(vr(this._allDrawers),fn(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(vr(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(TA(10),fn(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(dn(i=>i.fromState!==i.toState),fn(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(fn(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(fn(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,Gn.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(fn((0,Xo.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(gc,8),o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(eE),o.Y36(H4),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,YA,5),o.Suo(r,k2,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._content=s.first),o.iGM(s=o.CRH())&&(i._allDrawers=s)}},viewQuery:function(e,i){if(1&e&&o.Gf(YA,5),2&e){let r;o.iGM(r=o.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[o._Bn([{provide:dP,useExisting:n}])],ngContentSelectors:F4,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(o.F$t(P4),o.YNc(0,R4,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,O4,2,0,"mat-drawer-content",1)),2&e&&(o.Q6J("ngIf",i.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!i._content))},dependencies:[gn,YA],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),hP=(()=>{class n extends YA{constructor(e,i,r,s,c){super(e,i,r,s,c)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>P2)),o.Y36(o.SBq),o.Y36(XC),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&o.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[o._Bn([{provide:JC,useExisting:n}]),o.qOj],ngContentSelectors:WA,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),O2=(()=>{class n extends k2{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Zt(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=pc(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=pc(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(o.uIk("align",null),o.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),o.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[o.qOj],ngContentSelectors:WA,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0,1),o.Hsn(2),o.qZA())},dependencies:[JC],encapsulation:2,data:{animation:[M2.transformDrawer]},changeDetection:0}),n})(),P2=(()=>{class n extends R2{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,hP,5),o.Suo(r,O2,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._content=s.first),o.iGM(s=o.CRH())&&(i._allDrawers=s)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[o._Bn([{provide:dP,useExisting:n}]),o.qOj],ngContentSelectors:B4,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(o.F$t(V4),o.YNc(0,N4,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,L4,2,0,"mat-sidenav-content",1)),2&e&&(o.Q6J("ngIf",i.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!i._content))},dependencies:[gn,hP],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),j4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[zi,xn,tb,tb,xn]}),n})(),F2=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Zt(e)}get inset(){return this._inset}set inset(e){this._inset=Zt(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),o.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),z4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[xn,xn]}),n})();const N2=["mat-button",""],L2=["*"],W4=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Y4=Rp(NA(LA(class{constructor(n){this._elementRef=n}})));let nE=(()=>{class n extends Y4{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of W4)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Bu),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&o.Gf(h_,5),2&e){let r;o.iGM(r=o.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:N2,ngContentSelectors:L2,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1)(3,"span",2)),2&e&&(o.xp6(2),o.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[h_],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),V2=(()=>{class n extends nE{constructor(e,i,r,s){super(i,e,r),this._ngZone=s,this._haltDisabledEvents=c=>{this.disabled&&(c.preventDefault(),c.stopImmediatePropagation())}}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone?this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}):this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Bu),o.Y36(o.SBq),o.Y36(o.QbO,8),o.Y36(o.R0b,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("tabindex",i.disabled?-1:i.tabIndex)("disabled",i.disabled||null)("aria-disabled",i.disabled.toString()),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[o.qOj],attrs:N2,ngContentSelectors:L2,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1)(3,"span",2)),2&e&&(o.xp6(2),o.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[h_],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Z4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[BA,xn,xn]}),n})(),iE=(()=>{class n{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ms,16))},n.\u0275pipe=o.Yjl({name:"safe",type:n,pure:!0}),n})(),B2=(()=>{class n{constructor(e){this._platform=e,this.platform=e}isSmartphone(){return this.platform.ANDROID||this.platform.IOS}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function U2(n){for(let t in n){let e=n[t]??"";switch(t){case"display":n.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+t]=e;break;case"flex-direction":n["-webkit-flex-direction"]=e,n["flex-direction"]=e;break;case"order":n.order=n["-webkit-"+t]=isNaN(+e)?"0":e}}return n}const fP="inline",ZA=["row","column","row-reverse","column-reverse"];function H2(n){let[t,e,i]=G2(n);return function Q4(n,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":t||null}}(t,e,i)}function G2(n){n=n?.toLowerCase()??"";let[t,e,i]=n.split(" ");return ZA.find(r=>r===t)||(t=ZA[0]),e===fP&&(e=i!==fP?i:"",i=fP),[t,K4(e),!!i]}function rE(n){let[t]=G2(n);return t.indexOf("row")>-1}function K4(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function xh(n,...t){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}const J4={provide:o.tb,useFactory:function X4(n,t){return()=>{if(ks(t)){const e=Array.from(n.querySelectorAll(`[class*=${j2}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(r=>{r.classList.contains(`${j2}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[X,o.Lbi],multi:!0},j2="flex-layout-";let pP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[J4]}),n})();class g_{constructor(t=!1,e="all",i="",r="",s=0){this.matches=t,this.mediaQuery=e,this.mqAlias=i,this.suffix=r,this.priority=s,this.property=""}clone(){return new g_(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let e8=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(e,i,r){const s=this.stylesheet.get(e);s?s.set(i,r):this.stylesheet.set(e,new Map([[i,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,i){const r=this.stylesheet.get(e);let s="";if(r){const c=r.get(i);("number"==typeof c||"string"==typeof c)&&(s=c+"")}return s}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gP={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},_c=new o.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>gP}),nb=new o.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),mP=new o.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function z2(n,t){return n=n?.clone()??new g_,t&&(n.mqAlias=t.alias,n.mediaQuery=t.mediaQuery,n.suffix=t.suffix,n.priority=t.priority),n}class Qi{constructor(){this.shouldCache=!0}sideEffect(t,e,i){}}let Ci=(()=>{class n{constructor(e,i,r,s){this._serverStylesheet=e,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=s}applyStyleToElement(e,i,r=null){let s={};"string"==typeof i&&(s[i]=r,i=s),s=this.layoutConfig.disableVendorPrefixes?i:U2(i),this._applyMultiValueStyleToElement(s,e)}applyStyleToElements(e,i=[]){const r=this.layoutConfig.disableVendorPrefixes?e:U2(e);i.forEach(s=>{this._applyMultiValueStyleToElement(r,s)})}getFlowDirection(e){const i="flex-direction";let r=this.lookupStyle(e,i);return[r||"row",this.lookupInlineStyle(e,i)||ls(this._platformId)&&this._serverModuleLoaded?r:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,i){return e.getAttribute(i)??""}lookupInlineStyle(e,i){return ks(this._platformId)?e.style.getPropertyValue(i):function t8(n,t){return $2(n)[t]??""}(e,i)}lookupStyle(e,i,r=!1){let s="";return e&&((s=this.lookupInlineStyle(e,i))||(ks(this._platformId)?r||(s=getComputedStyle(e).getPropertyValue(i)):this._serverModuleLoaded&&(s=this._serverStylesheet.getStyleForElement(e,i)))),s?s.trim():""}_applyMultiValueStyleToElement(e,i){Object.keys(e).sort().forEach(r=>{const s=e[r],c=Array.isArray(s)?s:[s];c.sort();for(let d of c)d=d?d+"":"",ks(this._platformId)||!this._serverModuleLoaded?ks(this._platformId)?i.style.setProperty(r,d):n8(i,r,d):this._serverStylesheet.addStyleToElement(i,r,d)})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(e8),o.LFG(nb),o.LFG(o.Lbi),o.LFG(_c))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function n8(n,t,e){t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=$2(n);i[t]=e??"",function i8(n,t){let e="";for(const i in t)t[i]&&(e+=`${i}:${t[i]};`);n.setAttribute("style",e)}(n,i)}function $2(n){const t={},e=n.getAttribute("style");if(e){const i=e.split(/;+/g);for(let r=0;r<i.length;r++){const s=i[r].trim();if(s.length>0){const c=s.indexOf(":");if(-1===c)throw new Error(`Invalid CSS style: ${s}`);t[s.substr(0,c).trim()]=s.substr(c+1).trim()}}}return t}function sE(n,t){return(t&&t.priority||0)-(n&&n.priority||0)}function r8(n,t){return(n.priority||0)-(t.priority||0)}let _P=(()=>{class n{constructor(e,i,r){this._zone=e,this._platformId=i,this._document=r,this.source=new _n(new g_(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((i,r)=>{i.matches&&e.push(r)}),e}isActive(e){return this.registry.get(e)?.matches??this.registerQuery(e).some(r=>r.matches)}observe(e,i=!1){if(e&&e.length){const r=this._observable$.pipe(dn(c=>!i||e.indexOf(c.mediaQuery)>-1)),s=new Jn.y(c=>{const d=this.registerQuery(e);if(d.length){const g=d.pop();d.forEach(y=>{c.next(y)}),this.source.next(g)}c.complete()});return(0,Xo.T)(s,r)}return this._observable$}registerQuery(e){const i=Array.isArray(e)?e:[e],r=[];return function s8(n,t){const e=n.filter(i=>!q2[i]);if(e.length>0){const i=e.join(", ");try{const r=t.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),t.head.appendChild(r),e.forEach(s=>q2[s]=r)}catch(r){console.error(r)}}}(i,this._document),i.forEach(s=>{const c=g=>{this._zone.run(()=>this.source.next(new g_(g.matches,s)))};let d=this.registry.get(s);d||(d=this.buildMQL(s),d.addListener(c),this.pendingRemoveListenerFns.push(()=>d.removeListener(c)),this.registry.set(s,d)),d.matches&&r.push(new g_(!0,s))}),r}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function a8(n,t){return t&&window.matchMedia("all").addListener?window.matchMedia(n):function o8(n){const t=new EventTarget;return t.matches="all"===n||""===n,t.media=n,t.addListener=()=>{},t.removeListener=()=>{},t.addEventListener=()=>{},t.dispatchEvent=()=>!1,t.onchange=null,t}(n)}(e,ks(this._platformId))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(o.Lbi),o.LFG(X))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const q2={},l8=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],W2="(orientation: portrait) and (max-width: 599.98px)",Y2="(orientation: landscape) and (max-width: 959.98px)",Z2="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",K2="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",Q2="(orientation: portrait) and (min-width: 840px)",X2="(orientation: landscape) and (min-width: 1280px)",Dh={HANDSET:`${W2}, ${Y2}`,TABLET:`${Z2} , ${K2}`,WEB:`${Q2}, ${X2} `,HANDSET_PORTRAIT:`${W2}`,TABLET_PORTRAIT:`${Z2} `,WEB_PORTRAIT:`${Q2}`,HANDSET_LANDSCAPE:`${Y2}`,TABLET_LANDSCAPE:`${K2}`,WEB_LANDSCAPE:`${X2}`},c8=[{alias:"handset",priority:2e3,mediaQuery:Dh.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:Dh.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:Dh.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:Dh.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:Dh.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:Dh.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:Dh.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:Dh.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:Dh.WEB_PORTRAIT,overlapping:!0}],u8=/(\.|-|_)/g;function d8(n){let t=n.length>0?n.charAt(0):"",e=n.length>1?n.slice(1):"";return t.toUpperCase()+e}const g8=new o.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=(0,o.f3M)(mP),t=(0,o.f3M)(_c),e=[].concat.apply([],(n||[]).map(r=>Array.isArray(r)?r:[r]));return function p8(n,t=[]){const e={};return n.forEach(i=>{e[i.alias]=i}),t.forEach(i=>{e[i.alias]?xh(e[i.alias],i):e[i.alias]=i}),function f8(n){return n.forEach(t=>{t.suffix||(t.suffix=function h8(n){return n.replace(u8,"|").split("|").map(d8).join("")}(t.alias),t.overlapping=!!t.overlapping)}),n}(Object.keys(e).map(i=>e[i]))}((t.disableDefaultBps?[]:l8).concat(t.addOrientationBps?c8:[]),e)}});let yP=(()=>{class n{constructor(e){this.findByMap=new Map,this.items=[...e].sort(r8)}findByAlias(e){return e?this.findWithPredicate(e,i=>i.alias===e):null}findByQuery(e){return this.findWithPredicate(e,i=>i.mediaQuery===e)}get overlappings(){return this.items.filter(e=>e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e?.suffix??"")}findWithPredicate(e,i){let r=this.findByMap.get(e);return r||(r=this.items.find(i)??null,this.findByMap.set(e,r)),r??null}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(g8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ib="print",m8={alias:ib,mediaQuery:ib,priority:1e3};let _8=(()=>{class n{constructor(e,i,r){this.breakpoints=e,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new y8,this.deactivations=[]}withPrintQuery(e){return[...e,ib]}isPrintEvent(e){return e.mediaQuery.startsWith(ib)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const i=this.breakpoints.findByQuery(e);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(sE)}updateEvent(e){let i=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(i=this.getEventBreakpoints(e)[0],e.mediaQuery=i?.mediaQuery??""),z2(e,i)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new g_(!0,ib))),e.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(r)}interceptEvents(e){return i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(i)),e.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(e,i)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,i){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(e,i){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!i.matches){const r=this.breakpoints.findByQuery(i.mediaQuery);if(r){const s=this.formerActivations&&this.formerActivations.includes(r),c=!this.formerActivations&&e.activatedBreakpoints.includes(r);(s||c)&&(this.deactivations.push(r),this.deactivations.sort(sE))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(yP),o.LFG(_c),o.LFG(X))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class y8{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(m8),t.sort(sE),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function v8(n){return n?.mediaQuery.startsWith(ib)??!1}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}let Mi=(()=>{class n{constructor(e,i,r){this.matchMedia=e,this.breakpoints=i,this.hook=r,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new lt.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(e){this._activatedBreakpoints=[...e]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(e){this._useFallbacks=e}onMediaChange(e){const i=this.findByQuery(e.mediaQuery);if(i){e=z2(e,i);const r=this.activatedBreakpoints.indexOf(i);e.matches&&-1===r?(this._activatedBreakpoints.push(i),this._activatedBreakpoints.sort(sE),this.updateStyles()):!e.matches&&-1!==r&&(this._activatedBreakpoints.splice(r,1),this._activatedBreakpoints.sort(sE),this.updateStyles())}}init(e,i,r,s,c=[]){J2(this.updateMap,e,i,r),J2(this.clearMap,e,i,s),this.buildElementKeyMap(e,i),this.watchExtraTriggers(e,i,c)}getValue(e,i,r){const s=this.elementMap.get(e);if(s){const c=void 0!==r?s.get(r):this.getActivatedValues(s,i);if(c)return c.get(i)}}hasValue(e,i){const r=this.elementMap.get(e);if(r){const s=this.getActivatedValues(r,i);if(s)return void 0!==s.get(i)||!1}return!1}setValue(e,i,r,s){let c=this.elementMap.get(e);if(c){const g=(c.get(s)??new Map).set(i,r);c.set(s,g),this.elementMap.set(e,c)}else c=(new Map).set(s,(new Map).set(i,r)),this.elementMap.set(e,c);const d=this.getValue(e,i);void 0!==d&&this.updateElement(e,i,d)}trackValue(e,i){return this.subject.asObservable().pipe(dn(r=>r.element===e&&r.key===i))}updateStyles(){this.elementMap.forEach((e,i)=>{const r=new Set(this.elementKeyMap.get(i));let s=this.getActivatedValues(e);s&&s.forEach((c,d)=>{this.updateElement(i,d,c),r.delete(d)}),r.forEach(c=>{if(s=this.getActivatedValues(e,c),s){const d=s.get(c);this.updateElement(i,c,d)}else this.clearElement(i,c)})})}clearElement(e,i){const r=this.clearMap.get(e);if(r){const s=r.get(i);s&&(s(),this.subject.next({element:e,key:i,value:""}))}}updateElement(e,i,r){const s=this.updateMap.get(e);if(s){const c=s.get(i);c&&(c(r),this.subject.next({element:e,key:i,value:r}))}}releaseElement(e){const i=this.watcherMap.get(e);i&&(i.forEach(s=>s.unsubscribe()),this.watcherMap.delete(e));const r=this.elementMap.get(e);r&&(r.forEach((s,c)=>r.delete(c)),this.elementMap.delete(e))}triggerUpdate(e,i){const r=this.elementMap.get(e);if(r){const s=this.getActivatedValues(r,i);s&&(i?this.updateElement(e,i,s.get(i)):s.forEach((c,d)=>this.updateElement(e,d,c)))}}buildElementKeyMap(e,i){let r=this.elementKeyMap.get(e);r||(r=new Set,this.elementKeyMap.set(e,r)),r.add(i)}watchExtraTriggers(e,i,r){if(r&&r.length){let s=this.watcherMap.get(e);if(s||(s=new Map,this.watcherMap.set(e,s)),!s.get(i)){const d=(0,Xo.T)(...r).subscribe(()=>{const g=this.getValue(e,i);this.updateElement(e,i,g)});s.set(i,d)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,i){for(let s=0;s<this.activatedBreakpoints.length;s++){const d=e.get(this.activatedBreakpoints[s].alias);if(d&&(void 0===i||d.has(i)&&null!=d.get(i)))return d}if(!this._useFallbacks)return;const r=e.get("");return void 0===i||r&&r.has(i)?r:void 0}observeActivations(){const e=this.breakpoints.items.map(i=>i.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe((0,li.b)(this.hook.interceptEvents(this)),dn(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(_P),o.LFG(yP),o.LFG(_8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function J2(n,t,e,i){if(void 0!==i){const r=n.get(t)??new Map;r.set(e,i),n.set(t,r)}}let Hi=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.styleBuilder=i,this.styler=r,this.marshal=s,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new lt.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split(".").slice(1).join(".");this.setValue(e[i].currentValue,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,i){const r=this.styleBuilder,s=r.shouldCache;let c=this.styleCache.get(e);(!c||!s)&&(c=r.buildStyles(e,i),s&&this.styleCache.set(e,c)),this.mru={...c},this.applyStyleToElement(c),r.sideEffect(e,c,i)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,i=!1){if(e){const[r,s]=this.styler.getFlowDirection(e);if(!s&&i){const c=H2(r);this.styler.applyStyleToElements(c,[e])}return r.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,i,r=this.nativeElement){this.styler.applyStyleToElement(r,e,i)}setValue(e,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,i)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Qi),o.Y36(Ci),o.Y36(Mi))},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();class w8 extends EventTarget{constructor(t){super(),this._mediaQuery=t,this._isActive=!1,this._listeners=[],this.onchange=null}get matches(){return this._isActive}get media(){return this._mediaQuery}destroy(){this.deactivate(),this._listeners=[]}activate(){return this._isActive||(this._isActive=!0,this._listeners.forEach(t=>{t.call(this,{matches:this.matches,media:this.media})})),this}deactivate(){return this._isActive&&(this._isActive=!1,this._listeners.forEach(t=>{t.call(this,{matches:this.matches,media:this.media})})),this}addListener(t){-1===this._listeners.indexOf(t)&&this._listeners.push(t),this._isActive&&t.call(this,{matches:this.matches,media:this.media})}removeListener(t){}dispatchEvent(t){return!1}}function eU(n,t="1",e="1"){let i=[t,e,n],r=n.indexOf("calc");if(r>0){i[2]=tU(n.substring(r).trim());let s=n.substr(0,r).trim().split(" ");2==s.length&&(i[0]=s[0],i[1]=s[1])}else if(0==r)i[2]=tU(n.trim());else{let s=n.split(" ");i=3===s.length?s:[t,e,n]}return i}function tU(n){return n.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}let C8=(()=>{class n extends Qi{buildStyles(e,{display:i}){const r=H2(e);return{...r,display:"none"===i?i:r.display}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const E8=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let x8=(()=>{class n extends Hi{constructor(e,i,r,s,c){super(e,r,i,s),this._config=c,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(e){const r=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=iU.get(r)??new Map,iU.set(r,this.styleCache),this.currentValue!==e&&(this.addStyles(e,{display:r}),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Ci),o.Y36(C8),o.Y36(Mi),o.Y36(_c))},n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})(),oE=(()=>{class n extends x8{constructor(){super(...arguments),this.inputs=E8}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[o.qOj]}),n})();const iU=new Map;let N8=(()=>{class n extends Qi{constructor(e){super(),this.layoutConfig=e}buildStyles(e,i){let[r,s,...c]=e.split(" "),d=c.join(" ");const g=i.direction.indexOf("column")>-1?"column":"row",y=rE(g)?"max-width":"max-height",C=rE(g)?"min-width":"min-height",D=String(d).indexOf("calc")>-1,k=D||"auto"===d,P=String(d).indexOf("%")>-1&&!D,V=String(d).indexOf("px")>-1||String(d).indexOf("rem")>-1||String(d).indexOf("em")>-1||String(d).indexOf("vw")>-1||String(d).indexOf("vh")>-1;let $=D||V;r="0"==r?0:r,s="0"==s?0:s;const ee=!r&&!s;let Se={};const $e={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(d||""){case"":const tt=!1!==this.layoutConfig.useColumnBasisZero;d="row"===g?"0%":tt?"0.000000001px":"auto";break;case"initial":case"nogrow":r=0,d="auto";break;case"grow":d="100%";break;case"noshrink":s=0,d="auto";break;case"auto":break;case"none":r=0,s=0,d="auto";break;default:!$&&!P&&!isNaN(d)&&(d+="%"),"0%"===d&&($=!0),"0px"===d&&(d="0%"),Se=xh($e,D?{"flex-grow":r,"flex-shrink":s,"flex-basis":$?d:"100%"}:{flex:`${r} ${s} ${$?d:"100%"}`})}return Se.flex||Se["flex-grow"]||(Se=xh($e,D?{"flex-grow":r,"flex-shrink":s,"flex-basis":d}:{flex:`${r} ${s} ${d}`})),"0%"!==d&&"0px"!==d&&"0.000000001px"!==d&&"auto"!==d&&(Se[C]=ee||$&&r?d:null,Se[y]=ee||!k&&s?d:null),Se[C]||Se[y]?i.hasWrap&&(Se[D?"flex-basis":"flex"]=Se[y]?D?Se[y]:`${r} ${s} ${Se[y]}`:D?Se[C]:`${r} ${s} ${Se[C]}`):Se=xh($e,D?{"flex-grow":r,"flex-shrink":s,"flex-basis":d}:{flex:`${r} ${s} ${d}`}),xh(Se,{"box-sizing":"border-box"})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(_c))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const L8=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let V8=(()=>{class n extends Hi{constructor(e,i,r,s,c){super(e,s,i,c),this.layoutConfig=r,this.marshal=c,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(e){this.flexShrink=e||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(e){this.flexGrow=e||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(fn(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(fn(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(e){const r=e.value.split(" ");this.direction=r[0],this.wrap=void 0!==r[1]&&"wrap"===r[1],this.triggerUpdate()}updateWithValue(e){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const r=this.direction,s=r.startsWith("row"),c=this.wrap;s&&c?this.styleCache=H8:s&&!c?this.styleCache=B8:!s&&c?this.styleCache=G8:!s&&!c&&(this.styleCache=U8);const g=eU(String(e).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(g.join(" "),{direction:r,hasWrap:c})}triggerReflow(){const e=this.activatedValue;if(void 0!==e){const i=eU(e+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,i.join(" "))}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Ci),o.Y36(_c),o.Y36(N8),o.Y36(Mi))},n.\u0275dir=o.lG2({type:n,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[o.qOj]}),n})(),rb=(()=>{class n extends V8{constructor(){super(...arguments),this.inputs=L8}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[o.qOj]}),n})();const B8=new Map,U8=new Map,H8=new Map,G8=new Map;let dZ=(()=>{class n extends Qi{buildStyles(e,i){const r={},[s,c]=e.split(" ");switch(s){case"center":r["justify-content"]="center";break;case"space-around":r["justify-content"]="space-around";break;case"space-between":r["justify-content"]="space-between";break;case"space-evenly":r["justify-content"]="space-evenly";break;case"end":case"flex-end":r["justify-content"]="flex-end";break;default:r["justify-content"]="flex-start"}switch(c){case"start":case"flex-start":r["align-items"]=r["align-content"]="flex-start";break;case"center":r["align-items"]=r["align-content"]="center";break;case"end":case"flex-end":r["align-items"]=r["align-content"]="flex-end";break;case"space-between":r["align-content"]="space-between",r["align-items"]="stretch";break;case"space-around":r["align-content"]="space-around",r["align-items"]="stretch";break;case"baseline":r["align-content"]="stretch",r["align-items"]="baseline";break;default:r["align-items"]=r["align-content"]="stretch"}return xh(r,{display:i.inline?"inline-flex":"flex","flex-direction":i.layout,"box-sizing":"border-box","max-width":"stretch"===c?rE(i.layout)?null:"100%":null,"max-height":"stretch"===c&&rE(i.layout)?"100%":null})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hZ=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let fZ=(()=>{class n extends Hi{constructor(e,i,r,s){super(e,r,i,s),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(fn(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(e){const i=this.layout||"row",r=this.inline;"row"===i&&r?this.styleCache=yZ:"row"!==i||r?"row-reverse"===i&&r?this.styleCache=bZ:"row-reverse"!==i||r?"column"===i&&r?this.styleCache=vZ:"column"!==i||r?"column-reverse"===i&&r?this.styleCache=wZ:"column-reverse"===i&&!r&&(this.styleCache=_Z):this.styleCache=gZ:this.styleCache=mZ:this.styleCache=pZ,this.addStyles(e,{layout:i,inline:r})}onLayoutChange(e){const i=e.value.split(" ");this.layout=i[0],this.inline=e.value.includes("inline"),ZA.find(r=>r===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Ci),o.Y36(dZ),o.Y36(Mi))},n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})(),XA=(()=>{class n extends fZ{constructor(){super(...arguments),this.inputs=hZ}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[o.qOj]}),n})();const pZ=new Map,gZ=new Map,mZ=new Map,_Z=new Map,yZ=new Map,vZ=new Map,bZ=new Map,wZ=new Map;let oU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[pP,Xv]}),n})();class vP{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class JA extends vP{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class eI extends vP{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class CZ extends vP{constructor(t){super(),this.element=t instanceof o.SBq?t.nativeElement:t}}class bP{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof JA?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof eI?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof CZ?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class EZ extends bP{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const d=c.element,g=this._document.createComment("dom-portal");d.parentNode.insertBefore(g,d),this.outletElement.appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(d,g)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||o.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let tI=(()=>{class n extends bP{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new o.vpe,this.attachDomPortal=s=>{const c=s.element,d=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(d,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(c,d)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),c=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=e,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36(X))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.qOj]}),n})(),aE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const aU=bB();class xZ{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Tr(-this._previousScrollPosition.left),t.style.top=Tr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),aU&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),aU&&(i.scrollBehavior=s,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class DZ{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class lU{enable(){}disable(){}attach(){}}function wP(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function cU(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class SZ{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();wP(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let AZ=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new lU,this.close=c=>new DZ(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new xZ(this._viewportRuler,this._document),this.reposition=c=>new SZ(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(XC),o.LFG(eE),o.LFG(o.R0b),o.LFG(X))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class CP{constructor(t){if(this.scrollStrategy=new lU,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class IZ{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let uU=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(X))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TZ=(()=>{class n extends uU{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){const d=s[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(r)):d.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(X),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MZ=(()=>{class n extends uU{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=d_(s)},this._clickListener=s=>{const c=d_(s),d="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let y=g.length-1;y>-1;y--){const C=g[y];if(C._outsidePointerEvents.observers.length<1||!C.hasAttached())continue;if(C.overlayElement.contains(c)||C.overlayElement.contains(d))break;const D=C._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>D.next(s)):D.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(X),o.LFG(fr),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nI=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||$O()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),$O()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(X),o.LFG(fr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class lE{constructor(t,e,i,r,s,c,d,g,y,C=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=c,this._document=d,this._location=g,this._outsideClickDispatcher=y,this._animationsDisabled=C,this._backdropElement=null,this._backdropClick=new lt.x,this._attachments=new lt.x,this._detachments=new lt.x,this._locationChanges=mi.w0.EMPTY,this._backdropClickHandler=D=>this._backdropClick.next(D),this._backdropTransitionendHandler=D=>{this._disposeBackdrop(D.target)},this._keydownEvents=new lt.x,this._outsidePointerEvents=new lt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Gn.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Tr(this._config.width),t.height=Tr(this._config.height),t.minWidth=Tr(this._config.minWidth),t.minHeight=Tr(this._config.minHeight),t.maxWidth=Tr(this._config.maxWidth),t.maxHeight=Tr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=MA(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(fn((0,Xo.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const dU="cdk-overlay-connected-position-bounding-box",kZ=/([A-Za-z%]+)$/;class RZ{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new lt.x,this._resizeSubscription=mi.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(dU),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let c;for(let d of this._preferredPositions){let g=this._getOriginPoint(t,r,d),y=this._getOverlayPoint(g,e,d),C=this._getOverlayFit(y,e,i,d);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,g);this._canFitWithFlexibleDimensions(C,y,i)?s.push({position:d,origin:g,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(g,d)}):(!c||c.overlayFit.visibleArea<C.visibleArea)&&(c={overlayFit:C,overlayPoint:y,originPoint:g,position:d,overlayRect:e})}if(s.length){let d=null,g=-1;for(const y of s){const C=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);C>g&&(g=C,d=y)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&m_(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(dU),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,d=this._isRtl()?t.left:t.right;r="start"==i.originX?c:d}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=fU(e);let{x:c,y:d}=t,g=this._getOffset(r,"x"),y=this._getOffset(r,"y");g&&(c+=g),y&&(d+=y);let k=0-d,P=d+s.height-i.height,V=this._subtractOverflows(s.width,0-c,c+s.width-i.width),$=this._subtractOverflows(s.height,k,P),ee=V*$;return{visibleArea:ee,isCompletelyWithinViewport:s.width*s.height===ee,fitsInViewportVertically:$===s.height,fitsInViewportHorizontally:V==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,c=hU(this._overlayRef.getConfig().minHeight),d=hU(this._overlayRef.getConfig().minWidth),y=t.fitsInViewportHorizontally||null!=d&&d<=s;return(t.fitsInViewportVertically||null!=c&&c<=r)&&y}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=fU(e),s=this._viewportRect,c=Math.max(t.x+r.width-s.width,0),d=Math.max(t.y+r.height-s.height,0),g=Math.max(s.top-i.top-t.y,0),y=Math.max(s.left-i.left-t.x,0);let C=0,D=0;return C=r.width<=s.width?y||-c:t.x<this._viewportMargin?s.left-i.left-t.x:0,D=r.height<=s.height?g||-d:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:C,y:D},{x:t.x+C,y:t.y+D}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new IZ(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,c,d,C,D,k;if("top"===e.overlayY)c=t.y,s=i.height-c+this._viewportMargin;else if("bottom"===e.overlayY)d=i.height-t.y+2*this._viewportMargin,s=i.height-d+this._viewportMargin;else{const P=Math.min(i.bottom-t.y+i.top,t.y),V=this._lastBoundingBoxSize.height;s=2*P,c=t.y-P,s>V&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.y-V/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)k=i.width-t.x+this._viewportMargin,C=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)D=t.x,C=i.right-t.x;else{const P=Math.min(i.right-t.x+i.left,t.x),V=this._lastBoundingBoxSize.width;C=2*P,D=t.x-P,C>V&&!this._isInitialRender&&!this._growAfterOpen&&(D=t.x-V/2)}return{top:c,left:D,bottom:d,right:k,width:C,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=Tr(i.height),r.top=Tr(i.top),r.bottom=Tr(i.bottom),r.width=Tr(i.width),r.left=Tr(i.left),r.right=Tr(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Tr(s)),c&&(r.maxWidth=Tr(c))}this._lastBoundingBoxSize=i,m_(this._boundingBox.style,r)}_resetBoundingBoxStyles(){m_(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){m_(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const C=this._viewportRuler.getViewportScrollPosition();m_(i,this._getExactOverlayY(e,t,C)),m_(i,this._getExactOverlayX(e,t,C))}else i.position="static";let d="",g=this._getOffset(e,"x"),y=this._getOffset(e,"y");g&&(d+=`translateX(${g}px) `),y&&(d+=`translateY(${y}px)`),i.transform=d.trim(),c.maxHeight&&(r?i.maxHeight=Tr(c.maxHeight):s&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=Tr(c.maxWidth):s&&(i.maxWidth="")),m_(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Tr(s.y),r}_getExactOverlayX(t,e,i){let c,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),c=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Tr(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:cU(t,i),isOriginOutsideView:wP(t,i),isOverlayClipped:cU(e,i),isOverlayOutsideView:wP(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&MA(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof o.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function m_(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function hU(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(kZ);return e&&"px"!==e?null:parseFloat(t)}return n||null}function fU(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const pU="cdk-global-overlay-wrapper";class OZ{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(pU),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:c,maxHeight:d}=i,g=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),y=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d),C=this._xPosition,D=this._xOffset,k="rtl"===this._overlayRef.getConfig().direction;let P="",V="",$="";g?$="flex-start":"center"===C?($="center",k?V=D:P=D):k?"left"===C||"end"===C?($="flex-end",P=D):("right"===C||"start"===C)&&($="flex-start",V=D):"left"===C||"start"===C?($="flex-start",P=D):("right"===C||"end"===C)&&($="flex-end",V=D),t.position=this._cssPosition,t.marginLeft=g?"0":P,t.marginTop=y?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=g?"0":V,e.justifyContent=$,e.alignItems=y?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(pU),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let PZ=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new OZ}flexibleConnectedTo(e){return new RZ(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(eE),o.LFG(X),o.LFG(fr),o.LFG(nI))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FZ=0,Uu=(()=>{class n{constructor(e,i,r,s,c,d,g,y,C,D,k,P){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=d,this._ngZone=g,this._document=y,this._directionality=C,this._location=D,this._outsideClickDispatcher=k,this._animationsModuleType=P}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),c=new CP(e);return c.direction=c.direction||this._directionality.value,new lE(s,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+FZ++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new EZ(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(AZ),o.LFG(nI),o.LFG(o._Vd),o.LFG(PZ),o.LFG(TZ),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(X),o.LFG(gc),o.LFG(Be),o.LFG(MZ),o.LFG(o.QbO,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const NZ=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],gU=new o.OlP("cdk-connected-overlay-scroll-strategy");let mU=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),_U=(()=>{class n{constructor(e,i,r,s,c){this._overlay=e,this._dir=c,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=mi.w0.EMPTY,this._attachSubscription=mi.w0.EMPTY,this._detachSubscription=mi.w0.EMPTY,this._positionSubscription=mi.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new o.vpe,this.positionChange=new o.vpe,this.attach=new o.vpe,this.detach=new o.vpe,this.overlayKeydown=new o.vpe,this.overlayOutsideClick=new o.vpe,this._templatePortal=new eI(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Zt(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Zt(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Zt(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Zt(e)}get push(){return this._push}set push(e){this._push=Zt(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=NZ);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Vu(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new CP({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof mU?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(vd(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Uu),o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(gU),o.Y36(gc,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[o.TTD]}),n})();const VZ={provide:gU,deps:[Uu],useFactory:function LZ(n){return()=>n.scrollStrategies.reposition()}};let cE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Uu,VZ],imports:[Xv,aE,x2,x2]}),n})();const BZ=["tooltip"],yU="tooltip-panel",vU=jC({passive:!0}),bU=new o.OlP("mat-tooltip-scroll-strategy"),jZ={provide:bU,deps:[Uu],useFactory:function GZ(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},zZ=new o.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function $Z(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let qZ=(()=>{class n{constructor(e,i,r,s,c,d,g,y,C,D,k,P){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=c,this._platform=d,this._ariaDescriber=g,this._focusMonitor=y,this._dir=D,this._defaultOptions=k,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new lt.x,this._scrollStrategy=C,this._document=P,k&&(k.position&&(this.position=k.position),k.touchGestures&&(this.touchGestures=k.touchGestures)),D.change.pipe(fn(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=Zt(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=pc(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=pc(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(fn(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,vU)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const i=this._createOverlay();this._detach(),this._portal=this._portal||new JA(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(fn(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(fn(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${yU}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(fn(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(fn(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(fn(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&27===r.keyCode&&!Vu(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...s.main}),this._addOffset({...r.fallback,...s.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:s,y:c}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:c}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:c}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:c}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,Gn.q)(1),fn(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:s}=e;let c;if(c="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",c!==this._currentPosition){const d=this._overlayRef;if(d){const g=`${this._cssClassPrefix}-${yU}-`;d.removePanelClass(g+this._currentPosition),d.addPanelClass(g+c)}this._currentPosition=c}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,vU)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),WZ=(()=>{class n extends qZ{constructor(e,i,r,s,c,d,g,y,C,D,k,P){super(e,i,r,s,c,d,g,y,C,D,k,P),this._tooltipComponent=ZZ}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Uu),o.Y36(o.SBq),o.Y36(XC),o.Y36(o.s_b),o.Y36(o.R0b),o.Y36(fr),o.Y36(A5),o.Y36(Bu),o.Y36(bU),o.Y36(gc,8),o.Y36(zZ,8),o.Y36(X))},n.\u0275dir=o.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[o.qOj]}),n})(),YZ=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new lt.x,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(i.classList.remove(e?s:r),i.classList.add(e?r:s),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const c=getComputedStyle(i);("0s"===c.getPropertyValue("animation-duration")||"none"===c.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(o.QbO,8))},n.\u0275dir=o.lG2({type:n}),n})(),ZZ=(()=>{class n extends YZ{constructor(e,i,r){super(e,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(IB),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&o.Gf(BZ,7),2&e){let r;o.iGM(r=o.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("mouseleave",function(s){return i._handleMouseLeave(s)}),2&e&&o.Udp("zoom",i.isVisible()?1:null)},features:[o.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(o.TgZ(0,"div",0,1),o.NdJ("animationend",function(s){return i._handleAnimationEnd(s)}),o.ALo(2,"async"),o._uU(3),o.qZA()),2&e){let r;o.ekj("mat-tooltip-handset",null==(r=o.lcZ(2,4,i._isHandset))?null:r.matches),o.Q6J("ngClass",i.tooltipClass),o.xp6(3),o.Oqu(i.message)}},dependencies:[er,ua],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),n})(),KZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[jZ],imports:[HB,zi,cE,xn,xn,tb]}),n})();function QZ(n,t){if(1&n&&(o.O4$(),o._UZ(0,"circle",4)),2&n){const e=o.oxw(),i=o.MAs(1);o.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),o.uIk("r",e._getCircleRadius())}}function XZ(n,t){if(1&n&&(o.O4$(),o._UZ(0,"circle",4)),2&n){const e=o.oxw(),i=o.MAs(1);o.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),o.uIk("r",e._getCircleRadius())}}const eK=Rp(class{constructor(n){this._elementRef=n}},"primary"),tK=new o.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function nK(){return{diameter:100}}});class Sh extends eK{constructor(t,e,i,r,s,c,d,g){super(t),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=mi.w0.EMPTY,this.mode="determinate";const y=Sh._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),y.has(i.head)||y.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!s&&!s._forceAnimations,"mat-spinner"===t.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),s&&(s.color&&(this.color=this.defaultColor=s.color),s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth)),e.isBrowser&&e.SAFARI&&d&&c&&g&&(this._resizeSubscription=d.change(150).subscribe(()=>{"indeterminate"===this.mode&&g.run(()=>c.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=pc(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=pc(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,pc(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=wB(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){const e=50*(t.currentScale??1);return`${e}% ${e}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=Sh._diameters;let r=i.get(t);if(!r||!r.has(e)){const s=this._document.createElement("style");s.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),s.textContent=this._getAnimationText(),t.appendChild(s),r||(r=new Set,i.set(t,r)),r.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Sh._diameters=new WeakMap,Sh.\u0275fac=function(t){return new(t||Sh)(o.Y36(o.SBq),o.Y36(fr),o.Y36(X,8),o.Y36(o.QbO,8),o.Y36(tK),o.Y36(o.sBO),o.Y36(eE),o.Y36(o.R0b))},Sh.\u0275cmp=o.Xpm({type:Sh,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(o.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),o.Udp("width",e.diameter,"px")("height",e.diameter,"px"),o.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[o.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(o.O4$(),o.TgZ(0,"svg",0,1),o.YNc(2,QZ,1,11,"circle",2),o.YNc(3,XZ,1,9,"circle",3),o.qZA()),2&t&&(o.Udp("width",e.diameter,"px")("height",e.diameter,"px"),o.Q6J("ngSwitch","indeterminate"===e.mode),o.uIk("viewBox",e._getViewBox()),o.xp6(2),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1))},dependencies:[Vo,yo],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let wU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[xn,zi,xn]}),n})(),rK=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-progress-spinner"]],decls:3,vars:0,consts:[[1,"overlay"],[1,"center"],["diameter","50","mode","indeterminate","color","primary"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1),o._UZ(2,"mat-progress-spinner",2),o.qZA()())},dependencies:[Sh],styles:[".center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}.overlay[_ngcontent-%COMP%]{height:100vh;width:100%;background-color:#00000049;z-index:10;top:0;left:0;position:fixed}"]}),n})();function sK(n,t){if(1&n&&(o.TgZ(0,"a",5)(1,"mat-icon",6),o._uU(2,"home"),o.qZA()()),2&n){const e=o.oxw();o.s9C("href",e.urlIFrame,o.LSH)}}function oK(n,t){1&n&&o._UZ(0,"app-progress-spinner")}let aK=(()=>{class n{constructor(e,i,r){this.sanitizer=e,this._safePipe=i,this.utils=r,this.isLoading=!1,this.safePipe=new iE(this.sanitizer),this.eventsSubscription=new mi.w0,this.events=new Jn.y,this.urlIFrame="",this.isSmartphone=!1}ngOnInit(){this.isSmartphone=this.utils.isSmartphone(),this.eventsSubscription=this.events.subscribe(e=>{const i=e.includes("alatar")?2300:1e3;this.urlIFrame=e,""!=e&&(this.isLoading=!0,setTimeout(()=>{this.isLoading=!1},i))})}ngOnDestroy(){this.eventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ms),o.Y36(iE),o.Y36(B2))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-iframe-generator"]],inputs:{events:"events"},decls:7,vars:6,consts:[["fxFlex",""],["fxFlex","",1,"content","mat-elevation-z8",2,"overflow","hidden"],["target","_blank","mat-icon-button","","color","primary","class","vaiAlSito",3,"href",4,"ngIf"],[4,"ngIf"],["frameBorder","0",1,"iframe",3,"hidden","src"],["target","_blank","mat-icon-button","","color","primary",1,"vaiAlSito",3,"href"],["matTooltip","Vai al sito"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",0),o.YNc(3,sK,3,1,"a",2),o.qZA(),o.YNc(4,oK,1,0,"app-progress-spinner",3),o._UZ(5,"iframe",4),o.ALo(6,"safe"),o.qZA()()),2&e&&(o.xp6(3),o.Q6J("ngIf",""!==i.urlIFrame&&!i.isLoading&&!i.isSmartphone),o.xp6(1),o.Q6J("ngIf",i.isLoading),o.xp6(1),o.Q6J("hidden",""!=i.urlIFrame&&i.isLoading)("src",o.lcZ(6,4,i.urlIFrame),o.uOi))},dependencies:[gn,KC,V2,rb,WZ,rK,iE],styles:[".iframe[_ngcontent-%COMP%]{width:100%;height:100%;border:unset;border:none;border-radius:10px}.content[_ngcontent-%COMP%]{height:calc(100vh - 130px);border-radius:10px;margin:16px 16px 16px 32px;padding:4px;overflow:auto;position:relative}.vaiAlSito[_ngcontent-%COMP%]{position:absolute;bottom:0;margin:20px;max-width:100%;line-height:.4em;padding:1.1em .75em;display:flex;flex-direction:column}"]}),n})(),lK=(()=>{class n{constructor(e,i){this.sanitizer=e,this._safePipe=i,this.eventsSubscription=new mi.w0,this.iFrameEmitter=new lt.x,this.events=new Jn.y}ngOnInit(){this.eventsSubscription=this.events.subscribe(e=>{this.iFrameEmitter.next(e)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ms),o.Y36(iE))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-home"]],inputs:{events:"events"},decls:2,vars:1,consts:[[3,"events"]],template:function(e,i){1&e&&(o.TgZ(0,"mat-sidenav-content"),o._UZ(1,"app-iframe-generator",0),o.qZA()),2&e&&(o.xp6(1),o.Q6J("events",i.iFrameEmitter.asObservable()))},dependencies:[hP,aK]}),n})();function cK(n,t){1&n&&(o.TgZ(0,"mat-icon"),o._uU(1," menu "),o.qZA())}function uK(n,t){1&n&&(o.TgZ(0,"mat-icon"),o._uU(1," close "),o.qZA())}function dK(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",11),o.NdJ("click",function(){o.CHM(e),o.oxw();const r=o.MAs(8);return o.KtG(r.toggle())}),o.YNc(1,cK,2,0,"mat-icon",10),o.YNc(2,uK,2,0,"mat-icon",10),o.qZA()}if(2&n){o.oxw();const e=o.MAs(8);o.xp6(1),o.Q6J("ngIf",!e.opened),o.xp6(1),o.Q6J("ngIf",e.opened)}}function hK(n,t){if(1&n&&o._UZ(0,"app-home",12),2&n){const e=o.oxw();o.Q6J("events",e.iFrameEmitter.asObservable())}}function fK(n,t){1&n&&o._UZ(0,"router-outlet")}let pK=(()=>{class n{constructor(e){this.service=e,this.iFrameEmitter=new lt.x,this.boolHome=!1,this.class=new Array}ngOnInit(){}goChild(e){this.boolHome=!0,setTimeout(()=>{this.iFrameEmitter.next(e)},100)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(HC))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-menu-bar"]],decls:35,vars:3,consts:[[1,"mat-elevation-z8"],["mat-icon-button","",3,"click",4,"ngIf"],["routerLink","/",1,"material-icons","ank",2,"color","rgb(255, 210, 48)","font-size","56px","-webkit-text-stroke-width","0px",3,"click"],["sidenav","matSidenav"],[1,"name"],["mat-raised-button","","routerLink","/",1,"but",3,"click"],["mat-raised-button","","routerLink","/schedaPersonaggio",1,"but",3,"click"],["mat-raised-button","","routerLink","/help",1,"menu-button",3,"click"],["mat-raised-button","","routerLink","/credits",1,"menu-button",3,"click"],[3,"events",4,"ngIf"],[4,"ngIf"],["mat-icon-button","",3,"click"],[3,"events"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"mat-toolbar",0),o.YNc(1,dK,3,2,"button",1),o._uU(2," \xa0\n"),o.TgZ(3,"span",2),o.NdJ("click",function(){return i.boolHome=!1}),o._uU(4,"anchor"),o.qZA(),o._uU(5,"\n\xa0 Rotiniel Tools\n"),o.qZA(),o.TgZ(6,"mat-sidenav-container")(7,"mat-sidenav",0,3)(9,"h4",4),o._uU(10,"Tools"),o.qZA(),o._UZ(11,"mat-divider"),o.TgZ(12,"a",5),o.NdJ("click",function(){o.CHM(r);const c=o.MAs(8);return i.goChild("https://bitmed.github.io/tmarmor/"),o.KtG(c.toggle())}),o._uU(13,"Infondere armature"),o.qZA(),o.TgZ(14,"a",5),o.NdJ("click",function(){o.CHM(r);const c=o.MAs(8);return i.goChild("https://bitmed.github.io/tmenchant/"),o.KtG(c.toggle())}),o._uU(15,"TM Enchant"),o.qZA(),o.TgZ(16,"a",5),o.NdJ("click",function(){o.CHM(r);const c=o.MAs(8);return i.goChild("https://alatarl.github.io/CalendarioTM/"),o.KtG(c.toggle())}),o._uU(17,"Calendario elfico"),o.qZA(),o.TgZ(18,"a",5),o.NdJ("click",function(){o.CHM(r);const c=o.MAs(8);return i.goChild("https://alatarl.github.io/ElficoTM/"),o.KtG(c.toggle())}),o._uU(19,"Dizionario elfico"),o.qZA(),o.TgZ(20,"a",6),o.NdJ("click",function(){return o.CHM(r),o.MAs(8).toggle(),o.KtG(i.boolHome=!1)}),o._uU(21,"Scheda personaggio"),o.qZA(),o._UZ(22,"mat-divider"),o.TgZ(23,"button",7),o.NdJ("click",function(){return o.CHM(r),o.MAs(8).toggle(),o.KtG(i.boolHome=!1)}),o.TgZ(24,"mat-icon"),o._uU(25,"help"),o.qZA(),o.TgZ(26,"span"),o._uU(27,"Help"),o.qZA()(),o.TgZ(28,"button",8),o.NdJ("click",function(){return o.CHM(r),o.MAs(8).toggle(),o.KtG(i.boolHome=!1)}),o.TgZ(29,"mat-icon"),o._uU(30,"info"),o.qZA(),o.TgZ(31,"span"),o._uU(32,"Credits"),o.qZA()()(),o.YNc(33,hK,1,1,"app-home",9),o.YNc(34,fK,1,0,"router-outlet",10),o.qZA()}if(2&e){const r=o.MAs(8);o.xp6(1),o.Q6J("ngIf","over"===r.mode),o.xp6(32),o.Q6J("ngIf",i.boolHome),o.xp6(1),o.Q6J("ngIf",!i.boolHome)}},dependencies:[gn,Bd,Rg,AY,KC,O2,P2,F2,nE,V2,lK],styles:["mat-toolbar[_ngcontent-%COMP%]{background:#004a9f;color:#fff}mat-sidenav[_ngcontent-%COMP%]{width:250px;margin:3px;border-right:none;background:#002b5c;color:#fff;border-radius:10px;padding:16px;text-align:center}.content[_ngcontent-%COMP%]{height:calc(100vh - 130px);border-radius:10px;margin:16px 16px 16px 32px;padding:4px;overflow:auto}mat-sidenav-container[_ngcontent-%COMP%]{height:calc(100vh - 87px)}.menu-button[_ngcontent-%COMP%]{width:90%;margin:7px;display:flex;align-items:center;justify-content:flex-start;font-size:1rem}.avatar[_ngcontent-%COMP%]{margin-top:16px;width:100px;height:100px;border-radius:50%}mat-divider[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:16px;background-color:#ffffff80}.but[_ngcontent-%COMP%]{text-decoration:unset;background-color:#fff;width:90%;margin:7px;display:flex;align-items:center;justify-content:center;font-size:1rem;color:#004a9f;font-weight:700}.ank[_ngcontent-%COMP%]{cursor:pointer}html[_ngcontent-%COMP%]{position:relative;min-height:100%}body[_ngcontent-%COMP%]{margin-bottom:60px}"]}),n})(),gK=(()=>{class n{constructor(){this.version=""}ngOnInit(){const e=F(7986);this.version=e.version}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-footer"]],decls:5,vars:1,consts:[[1,"footer","mat-elevation-z8"],[2,"float","right","margin-right","0.5%","font-size","10px"]],template:function(e,i){1&e&&(o.TgZ(0,"footer",0)(1,"span"),o._uU(2," Rotiniel Inc. "),o.qZA(),o.TgZ(3,"span",1),o._uU(4),o.qZA()()),2&e&&(o.xp6(4),o.hij(" Version: ",i.version," "))},styles:[".footer[_ngcontent-%COMP%]{background-color:#004a9f;width:100%;line-height:22px;text-align:center;color:#fff}"]}),n})(),CU=(()=>{class n{constructor(){this.title="newprova4"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(e,i){1&e&&o._UZ(0,"app-menu-bar")(1,"app-footer")},dependencies:[pK,gK]}),n})(),mK=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-credits"]],decls:2,vars:0,consts:[[1,"content","mat-elevation-z8",2,"overflow","hidden"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o._uU(1," ciao\n"),o.qZA())},styles:[".content[_ngcontent-%COMP%]{height:calc(100vh - 130px);border-radius:10px;margin:16px 16px 16px 32px;padding:4px;overflow:auto}"]}),n})();class _K{constructor(){this.nome="",this.classe=new xP,this.skills=new Array,this.razza=new bK,this.stats=new CK,this.divinita="",this.malusMagico=0,this.religione=new vK}}class yK{constructor(){this.id=0,this.religione="",this.spell=Array(),this.aura=""}}class vK{constructor(){this.id=0,this.nome="",this.pantheon=""}}class bK{constructor(){this.id=0,this.nome=""}}class xP{constructor(t,e){this.id=0,this.nome="",this.notRazze=new Array,this.id=t,this.nome=e}static convertClasse(t){return new EK(t.id,t.nome)}}class uE{constructor(){this.nome="",this.id=0,this.classi=new Array,this.idTipologiaSkill=-1}static ConvertToSkillsChecked(t){let e=new Array;return t.forEach(i=>{let r=new wK;r.id=i.id,r.nome=i.nome,r.idTipologiaSkill=i.idTipologiaSkill,r.classi=i.classi,e.push(r)}),e}}class wK extends uE{constructor(){super(...arguments),this.isChecked=!1,this.value=0}}class CK{constructor(){this.forza=0,this.destrezza=0,this.intelligenza=0}}class EK extends xP{constructor(){super(...arguments),this.isChecked=!1}}let EU=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),__=(()=>{class n extends EU{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const sl=new o.OlP("NgValueAccessor"),DK={provide:sl,useExisting:(0,o.Gpc)(()=>sb),multi:!0},AK=new o.OlP("CompositionEventMode");let sb=(()=>{class n extends EU{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function SK(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(AK,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[o._Bn([DK]),o.qOj]}),n})();function Np(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function DU(n){return null!=n&&"number"==typeof n.length}const Jr=new o.OlP("NgValidators"),Lp=new o.OlP("NgAsyncValidators"),TK=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Is{static min(t){return function SU(n){return t=>{if(Np(t.value)||Np(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function AU(n){return t=>{if(Np(t.value)||Np(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function IU(n){return Np(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function TU(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function MU(n){return Np(n.value)||TK.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function kU(n){return t=>Np(t.value)||!DU(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function RU(n){return t=>DU(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function OU(n){if(!n)return iI;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Np(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return BU(t)}static composeAsync(t){return UU(t)}}function iI(n){return null}function PU(n){return null!=n}function FU(n){return(0,o.QGY)(n)?(0,Xt.D)(n):n}function NU(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function LU(n,t){return t.map(e=>e(n))}function VU(n){return n.map(t=>function MK(n){return!n.validate}(t)?t:e=>t.validate(e))}function BU(n){if(!n)return null;const t=n.filter(PU);return 0==t.length?null:function(e){return NU(LU(e,t))}}function DP(n){return null!=n?BU(VU(n)):null}function UU(n){if(!n)return null;const t=n.filter(PU);return 0==t.length?null:function(e){return e2(LU(e,t).map(FU)).pipe((0,qe.U)(NU))}}function SP(n){return null!=n?UU(VU(n)):null}function HU(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function GU(n){return n._rawValidators}function jU(n){return n._rawAsyncValidators}function AP(n){return n?Array.isArray(n)?n:[n]:[]}function rI(n,t){return Array.isArray(n)?n.includes(t):n===t}function zU(n,t){const e=AP(t);return AP(n).forEach(r=>{rI(e,r)||e.push(r)}),e}function $U(n,t){return AP(t).filter(e=>!rI(n,e))}class qU{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=DP(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=SP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class mo extends qU{get formDirective(){return null}get path(){return null}}class Hu extends qU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class WU{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let sI=(()=>{class n extends WU{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Hu,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[o.qOj]}),n})();const dE="VALID",aI="INVALID",ob="PENDING",hE="DISABLED";function kP(n){return(lI(n)?n.validators:n)||null}function RP(n,t){return(lI(t)?t.asyncValidators:n)||null}function lI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class QU{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===dE}get invalid(){return this.status===aI}get pending(){return this.status==ob}get disabled(){return this.status===hE}get enabled(){return this.status!==hE}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(zU(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(zU(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators($U(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators($U(t,this._rawAsyncValidators))}hasValidator(t){return rI(this._rawValidators,t)}hasAsyncValidator(t){return rI(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ob,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=hE,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=dE,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===dE||this.status===ob)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hE:dE}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ob,this._hasOwnPendingAsyncValidator=!0;const e=FU(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?hE:this.errors?aI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ob)?ob:this._anyControlsHaveStatus(aI)?aI:dE}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){lI(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function VK(n){return Array.isArray(n)?DP(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function BK(n){return Array.isArray(n)?SP(n):n||null}(this._rawAsyncValidators)}}class OP extends QU{constructor(t,e,i){super(kP(e),RP(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function KU(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new o.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function ZU(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new o.vHH(1e3,"");if(!i[e])throw new o.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const ab=new o.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>cI}),cI="always";function fE(n,t,e=cI){PP(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function GK(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&XU(n,t)})}(n,t),function zK(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function jK(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&XU(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function HK(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function dI(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),fI(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function hI(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function PP(n,t){const e=GU(n);null!==t.validator?n.setValidators(HU(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=jU(n);null!==t.asyncValidator?n.setAsyncValidators(HU(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();hI(t._rawValidators,r),hI(t._rawAsyncValidators,r)}function fI(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=GU(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=jU(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return hI(t._rawValidators,i),hI(t._rawAsyncValidators,i),e}function XU(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function JU(n,t){PP(n,t)}function NP(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function eH(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function LP(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===sb?e=s:function WK(n){return Object.getPrototypeOf(n.constructor)===__}(s)?i=s:r=s}),r||i||e||null}const ZK={provide:mo,useExisting:(0,o.Gpc)(()=>gE)},pE=(()=>Promise.resolve())();let gE=(()=>{class n extends mo{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new OP({},DP(e),SP(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){pE.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),fE(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){pE.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){pE.then(()=>{const i=this._findContainer(e.path),r=new OP({});JU(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){pE.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){pE.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,eH(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Jr,10),o.Y36(Lp,10),o.Y36(ab,8))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([ZK]),o.qOj]}),n})();function tH(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function nH(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Gu=class extends QU{constructor(t=null,e,i){super(kP(e),RP(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lI(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=nH(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){tH(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){tH(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){nH(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},XK={provide:Hu,useExisting:(0,o.Gpc)(()=>mE)},sH=(()=>Promise.resolve())();let mE=(()=>{class n extends Hu{constructor(e,i,r,s,c,d){super(),this._changeDetectorRef=c,this.callSetDisabledState=d,this.control=new Gu,this._registered=!1,this.update=new o.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=LP(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),NP(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){fE(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){sH.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,o.D6c)(i);sH.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function uI(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(mo,9),o.Y36(Jr,10),o.Y36(Lp,10),o.Y36(sl,10),o.Y36(o.sBO,8),o.Y36(ab,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([XK]),o.qOj,o.TTD]}),n})();const e7={provide:sl,useExisting:(0,o.Gpc)(()=>pI),multi:!0};let pI=(()=>{class n extends __{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[o._Bn([e7]),o.qOj]}),n})(),oH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const VP=new o.OlP("NgModelWithFormControlWarning"),r7={provide:Hu,useExisting:(0,o.Gpc)(()=>BP)};let BP=(()=>{class n extends Hu{constructor(e,i,r,s,c){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=c,this.update=new o.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=LP(0,r)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&dI(i,this,!1),fE(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}NP(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&dI(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(o.Y36(Jr,10),o.Y36(Lp,10),o.Y36(sl,10),o.Y36(VP,8),o.Y36(ab,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[o._Bn([r7]),o.qOj,o.TTD]}),n})();const s7={provide:mo,useExisting:(0,o.Gpc)(()=>_E)};let _E=(()=>{class n extends mo{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(fI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return fE(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){dI(e.control||null,e,!1),function YK(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,eH(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(dI(i||null,e),(n=>n instanceof Gu)(r)&&(fE(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);JU(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function $K(n,t){return fI(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){PP(this.form,this),this._oldForm&&fI(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Jr,10),o.Y36(Lp,10),o.Y36(ab,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([s7]),o.qOj,o.TTD]}),n})(),wH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[oH]}),n})(),E7=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:ab,useValue:e.callSetDisabledState??cI}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[wH]}),n})(),x7=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:VP,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:ab,useValue:e.callSetDisabledState??cI}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[wH]}),n})();const S7=["connectionContainer"],A7=["inputContainer"],I7=["label"];function T7(n,t){1&n&&(o.ynx(0),o.TgZ(1,"div",14),o._UZ(2,"div",15)(3,"div",16)(4,"div",17),o.qZA(),o.TgZ(5,"div",18),o._UZ(6,"div",15)(7,"div",16)(8,"div",17),o.qZA(),o.BQk())}function M7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",19),o.NdJ("cdkObserveContent",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.updateOutlineGap())}),o.Hsn(1,1),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function k7(n,t){if(1&n&&(o.ynx(0),o.Hsn(1,2),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.BQk()),2&n){const e=o.oxw(2);o.xp6(3),o.Oqu(e._control.placeholder)}}function R7(n,t){1&n&&o.Hsn(0,3,["*ngSwitchCase","true"])}function O7(n,t){1&n&&(o.TgZ(0,"span",23),o._uU(1," *"),o.qZA())}function P7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"label",20,21),o.NdJ("cdkObserveContent",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.updateOutlineGap())}),o.YNc(2,k7,4,1,"ng-container",12),o.YNc(3,R7,1,0,"ng-content",12),o.YNc(4,O7,2,0,"span",22),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),o.uIk("for",e._control.id)("aria-owns",e._control.id),o.xp6(2),o.Q6J("ngSwitchCase",!1),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function F7(n,t){1&n&&(o.TgZ(0,"div",24),o.Hsn(1,4),o.qZA())}function N7(n,t){if(1&n&&(o.TgZ(0,"div",25),o._UZ(1,"span",26),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function L7(n,t){if(1&n&&(o.TgZ(0,"div"),o.Hsn(1,5),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState)}}function V7(n,t){if(1&n&&(o.TgZ(0,"div",30),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.Q6J("id",e._hintLabelId),o.xp6(1),o.Oqu(e.hintLabel)}}function B7(n,t){if(1&n&&(o.TgZ(0,"div",27),o.YNc(1,V7,2,2,"div",28),o.Hsn(2,6),o._UZ(3,"div",29),o.Hsn(4,7),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",e.hintLabel)}}const U7=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],H7=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let G7=0;const CH=new o.OlP("MatError");let j7=(()=>{class n{constructor(e,i){this.id="mat-error-"+G7++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(o.$8M("aria-live"),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&o.uIk("id",i.id)},inputs:{id:"id"},features:[o._Bn([{provide:CH,useExisting:n}])]}),n})();const z7={transitionMessages:Fp("transitionMessages",[No("enter",Ti({opacity:1,transform:"translateY(0%)"})),rl("void => enter",[Ti({opacity:0,transform:"translateY(-5px)"}),mc("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let mI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n}),n})(),$7=0;const EH=new o.OlP("MatHint");let q7=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+$7++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,i){2&e&&(o.uIk("id",i.id)("align",null),o.ekj("mat-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},features:[o._Bn([{provide:EH,useExisting:n}])]}),n})(),_I=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-label"]]}),n})(),W7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const Y7=new o.OlP("MatPrefix"),xH=new o.OlP("MatSuffix");let Z7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSuffix",""]],features:[o._Bn([{provide:xH,useExisting:n}])]}),n})(),DH=0;const Q7=Rp(class{constructor(n){this._elementRef=n}},"primary"),X7=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),$P=new o.OlP("MatFormField");let AH=(()=>{class n extends Q7{constructor(e,i,r,s,c,d,g){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=c,this._ngZone=d,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new lt.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+DH++,this._labelId="mat-form-field-label-"+DH++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==g,this.appearance=s?.appearance||"legacy",s&&(this._hideRequiredMarker=Boolean(s.hideRequiredMarker),s.color&&(this.color=this.defaultColor=s.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Zt(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(vr(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(fn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(fn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Xo.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(vr(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(vr(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(fn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,p_(this._label.nativeElement,"transitionend").pipe((0,Gn.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const C=i.querySelectorAll(`${r}, ${s}`);for(let D=0;D<C.length;D++)C[D].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let c=0,d=0;const g=i.querySelectorAll(r),y=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const C=i.getBoundingClientRect();if(0===C.width&&0===C.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const D=this._getStartEnd(C),k=e.children,P=this._getStartEnd(k[0].getBoundingClientRect());let V=0;for(let $=0;$<k.length;$++)V+=k[$].offsetWidth;c=Math.abs(P-D)-5,d=V>0?.75*V+10:0}for(let C=0;C<g.length;C++)g[C].style.width=`${c}px`;for(let C=0;C<y.length;C++)y[C].style.width=`${d}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(gc,8),o.Y36(X7,8),o.Y36(fr),o.Y36(o.R0b),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,mI,5),o.Suo(r,mI,7),o.Suo(r,_I,5),o.Suo(r,_I,7),o.Suo(r,W7,5),o.Suo(r,CH,5),o.Suo(r,EH,5),o.Suo(r,Y7,5),o.Suo(r,xH,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._controlNonStatic=s.first),o.iGM(s=o.CRH())&&(i._controlStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildNonStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildStatic=s.first),o.iGM(s=o.CRH())&&(i._placeholderChild=s.first),o.iGM(s=o.CRH())&&(i._errorChildren=s),o.iGM(s=o.CRH())&&(i._hintChildren=s),o.iGM(s=o.CRH())&&(i._prefixChildren=s),o.iGM(s=o.CRH())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(S7,7),o.Gf(A7,5),o.Gf(I7,5)),2&e){let r;o.iGM(r=o.CRH())&&(i._connectionContainerRef=r.first),o.iGM(r=o.CRH())&&(i._inputContainerRef=r.first),o.iGM(r=o.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&o.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:$P,useExisting:n}]),o.qOj],ngContentSelectors:H7,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(o.F$t(U7),o.TgZ(0,"div",0)(1,"div",1,2),o.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),o.YNc(3,T7,9,0,"ng-container",3),o.YNc(4,M7,2,1,"div",4),o.TgZ(5,"div",5,6),o.Hsn(7),o.TgZ(8,"span",7),o.YNc(9,P7,5,16,"label",8),o.qZA()(),o.YNc(10,F7,2,0,"div",9),o.qZA(),o.YNc(11,N7,2,4,"div",10),o.TgZ(12,"div",11),o.YNc(13,L7,2,1,"div",12),o.YNc(14,B7,5,2,"div",13),o.qZA()()),2&e&&(o.xp6(3),o.Q6J("ngIf","outline"==i.appearance),o.xp6(1),o.Q6J("ngIf",i._prefixChildren.length),o.xp6(5),o.Q6J("ngIf",i._hasFloatingLabel()),o.xp6(1),o.Q6J("ngIf",i._suffixChildren.length),o.xp6(1),o.Q6J("ngIf","outline"!=i.appearance),o.xp6(1),o.Q6J("ngSwitch",i._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},dependencies:[gn,Vo,yo,YO],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[z7.transitionMessages]},changeDetection:0}),n})(),qP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[zi,xn,kA,xn]}),n})();class J7{constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new lt.x,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){if(this.compareWith){for(const e of this._selection)if(this.compareWith(e,t))return!0;return!1}return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let IH=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eQ=["trigger"],tQ=["panel"];function nQ(n,t){if(1&n&&(o.TgZ(0,"span",8),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.placeholder)}}function iQ(n,t){if(1&n&&(o.TgZ(0,"span",12),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Oqu(e.triggerValue)}}function rQ(n,t){1&n&&o.Hsn(0,0,["*ngSwitchCase","true"])}function sQ(n,t){if(1&n&&(o.TgZ(0,"span",9),o.YNc(1,iQ,2,1,"span",10),o.YNc(2,rQ,1,0,"ng-content",11),o.qZA()),2&n){const e=o.oxw();o.Q6J("ngSwitch",!!e.customTrigger),o.xp6(2),o.Q6J("ngSwitchCase",!0)}}function oQ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",13)(1,"div",14,15),o.NdJ("@transformPanel.done",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._handleKeydown(r))}),o.Hsn(3,1),o.qZA()()}if(2&n){const e=o.oxw();o.Q6J("@transformPanelWrap",void 0),o.xp6(1),o.Gre("mat-select-panel ",e._getPanelTheme(),""),o.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),o.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),o.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const aQ=[[["mat-select-trigger"]],"*"],lQ=["mat-select-trigger","*"],TH={transformPanelWrap:Fp("transformPanelWrap",[rl("* => void",cP("@transformPanel",[lP()],{optional:!0}))]),transformPanel:Fp("transformPanel",[No("void",Ti({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),No("showing",Ti({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),No("showing-multiple",Ti({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),rl("void => *",mc("120ms cubic-bezier(0, 0, 0.2, 1)")),rl("* => void",mc("100ms 25ms linear",Ti({opacity:0})))])};let MH=0;const RH=new o.OlP("mat-select-scroll-strategy"),hQ=new o.OlP("MAT_SELECT_CONFIG"),fQ={provide:RH,deps:[Uu],useFactory:function dQ(n){return()=>n.scrollStrategies.reposition()}};class pQ{constructor(t,e){this.source=t,this.value=e}}const gQ=LA(VA(NA(zB(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new lt.x}})))),mQ=new o.OlP("MatSelectTrigger");let _Q=(()=>{class n extends gQ{constructor(e,i,r,s,c,d,g,y,C,D,k,P,V,$){super(c,s,g,y,D),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=d,this._parentFormField=C,this._liveAnnouncer=V,this._defaultOptions=$,this._panelOpen=!1,this._compareWith=(ee,Se)=>ee===Se,this._uid="mat-select-"+MH++,this._triggerAriaLabelledBy=null,this._destroy=new lt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+MH++,this._panelDoneAnimatingStream=new lt.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=Hn(()=>{const ee=this.options;return ee?ee.changes.pipe(vr(ee),An(()=>(0,Xo.T)(...ee.map(Se=>Se.onSelectionChange)))):this._ngZone.onStable.pipe((0,Gn.q)(1),An(()=>this.optionSelectionChanges))}),this.openedChange=new o.vpe,this._openedStream=this.openedChange.pipe(dn(ee=>ee),(0,qe.U)(()=>{})),this._closedStream=this.openedChange.pipe(dn(ee=>!ee),(0,qe.U)(()=>{})),this.selectionChange=new o.vpe,this.valueChange=new o.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=$?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=$.typeaheadDebounceInterval),this._scrollStrategyFactory=P,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(k)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Is.required)??!1}set required(e){this._required=Zt(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Zt(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Zt(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=pc(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new J7(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Of(),fn(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(fn(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(vr(null),fn(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,c=this._keyManager;if(!c.isTyping()&&s&&!Vu(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const d=this.selected;c.onKeydown(e);const g=this.selected;g&&d!==g&&this._liveAnnouncer.announce(g.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,c=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(c||13!==r&&32!==r||!i.activeItem||Vu(e))if(!c&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const d=this.options.some(g=>!g.disabled&&!g.selected);this.options.forEach(g=>{g.disabled||(d?g.select():g.deselect())})}else{const d=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==d&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Gn.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new T5(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(fn(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(fn(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Xo.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(fn(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Xo.T)(...this.options.map(i=>i._stateChanges)).pipe(fn(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(eE),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(JO),o.Y36(o.SBq),o.Y36(gc,8),o.Y36(gE,8),o.Y36(_E,8),o.Y36($P,8),o.Y36(Hu,10),o.$8M("tabindex"),o.Y36(RH),o.Y36(W5),o.Y36(hQ,8))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&(o.Gf(eQ,5),o.Gf(tQ,5),o.Gf(_U,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.trigger=r.first),o.iGM(r=o.CRH())&&(i.panel=r.first),o.iGM(r=o.CRH())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[o.qOj,o.TTD]}),n})(),OH=(()=>{class n extends _Q{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const s=this._getItemHeight();return Math.min(Math.max(0,s*e-i+s/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(fn(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Gn.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=QB(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function CY(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new pQ(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),s=this.multiple?56:32;let c;if(this.multiple)c=40;else if(this.disableOptionCentering)c=16;else{let y=this._selectionModel.selected[0]||this.options.first;c=y&&y.group?32:16}r||(c*=-1);const d=0-(e.left+c-(r?s:0)),g=e.right+c-i.width+(r?0:s);d>0?c+=d+8:g>0&&(c-=g+8),this._overlayDir.offsetX=Math.round(c),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const s=this._getItemHeight(),c=(s-this._triggerRect.height)/2,d=Math.floor(256/s);let g;return this.disableOptionCentering?0:(g=0===this._scrollTop?e*s:this._scrollTop===r?(e-(this._getItemCount()-d))*s+(s-(this._getItemCount()*s-256)%s):i-s/2,Math.round(-1*g-c))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,c=r.height-this._triggerRect.bottom-8,d=Math.abs(this._offsetY),y=Math.min(this._getItemCount()*i,256)-d-this._triggerRect.height;y>c?this._adjustPanelUp(y,c):d>s?this._adjustPanelDown(d,s,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const s=Math.round(e-i);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),c=i*e-r;let d;d=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),d+=QB(d,this.options,this.optionGroups);const g=r/2;this._scrollTop=this._calculateOverlayScroll(d,g,c),this._offsetY=this._calculateOverlayOffsetY(d,g,c),this._checkOverlayWithinViewport(c)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,mQ,5),o.Suo(r,tP,5),o.Suo(r,KB,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.customTrigger=s.first),o.iGM(s=o.CRH())&&(i.options=s),o.iGM(s=o.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(e,i){1&e&&o.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(o.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),o.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[o._Bn([{provide:mI,useExisting:n},{provide:ZB,useExisting:n}]),o.qOj],ngContentSelectors:lQ,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(o.F$t(aQ),o.TgZ(0,"div",0,1),o.NdJ("click",function(){return i.toggle()}),o.TgZ(3,"div",2),o.YNc(4,nQ,2,1,"span",3),o.YNc(5,sQ,3,2,"span",4),o.qZA(),o.TgZ(6,"div",5),o._UZ(7,"div",6),o.qZA()(),o.YNc(8,oQ,4,14,"ng-template",7),o.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=o.MAs(1);o.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),o.xp6(3),o.Q6J("ngSwitch",i.empty),o.uIk("id",i._valueId),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1),o.xp6(3),o.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},dependencies:[er,Vo,yo,Rh,_U,mU],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[TH.transformPanelWrap,TH.transformPanel]},changeDetection:0}),n})(),yQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[fQ],imports:[zi,cE,XB,xn,tb,qP,XB,xn]}),n})();const PH=jC({passive:!0});let vQ=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Pr.E;const i=Ch(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new lt.x,c="cdk-text-field-autofilled",d=g=>{"cdk-text-field-autofill-start"!==g.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===g.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>s.next({target:g.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>s.next({target:g.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",d,PH),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",d,PH)}}),s}stopMonitoring(e){const i=Ch(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fr),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const bQ=new o.OlP("MAT_INPUT_VALUE_ACCESSOR"),wQ=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let CQ=0;const EQ=zB(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new lt.x}});let WP=(()=>{class n extends EQ{constructor(e,i,r,s,c,d,g,y,C,D){super(d,s,c,r),this._elementRef=e,this._platform=i,this._autofillMonitor=y,this._formField=D,this._uid="mat-input-"+CQ++,this.focused=!1,this.stateChanges=new lt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(V=>vB().has(V)),this._iOSKeyupListener=V=>{const $=V.target;!$.value&&0===$.selectionStart&&0===$.selectionEnd&&($.setSelectionRange(1,1),$.setSelectionRange(0,0))};const k=this._elementRef.nativeElement,P=k.nodeName.toLowerCase();this._inputValueAccessor=g||k,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&C.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===P,this._isTextarea="textarea"===P,this._isInFormField=!!D,this._isNativeSelect&&(this.controlType=k.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Zt(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Is.required)??!1}set required(e){this._required=Zt(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&vB().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Zt(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){wQ.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(fr),o.Y36(Hu,10),o.Y36(gE,8),o.Y36(_E,8),o.Y36(JO),o.Y36(bQ,10),o.Y36(vQ),o.Y36(o.R0b),o.Y36($P,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&o.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(o.Ikx("disabled",i.disabled)("required",i.required),o.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),o.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[o._Bn([{provide:mI,useExisting:n}]),o.qOj,o.TTD]}),n})(),xQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[JO],imports:[FH,qP,xn,FH,qP]}),n})();const DQ=["input"],SQ=["label"],AQ=function(n){return{enterDuration:n}},IQ=["*"],TQ=new o.OlP("mat-checkbox-default-options",{providedIn:"root",factory:NH});function NH(){return{color:"accent",clickAction:"check-indeterminate"}}let MQ=0;const LH=NH(),kQ={provide:sl,useExisting:(0,o.Gpc)(()=>vI),multi:!0};class RQ{}const OQ=VA(Rp(LA(NA(class{constructor(n){this._elementRef=n}}))));let PQ=(()=>{class n extends OQ{constructor(e,i,r,s,c,d,g){super(i),this._changeDetectorRef=r,this._ngZone=s,this._animationMode=d,this._options=g,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new o.vpe,this.indeterminateChange=new o.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||LH,this.color=this.defaultColor=this._options.color||LH.color,this.tabIndex=parseInt(c)||0,this.id=this._uniqueId=`${e}${++MQ}`}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=Zt(e)}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){const i=Zt(e);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const i=Zt(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=Zt(e),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(i!==e&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const e=this._options?.clickAction;this.disabled||"noop"===e?!this.disabled&&"noop"===e&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==e&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";switch(e){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&(o.Gf(DQ,5),o.Gf(SQ,5),o.Gf(h_,5)),2&e){let r;o.iGM(r=o.CRH())&&(i._inputElement=r.first),o.iGM(r=o.CRH())&&(i._labelElement=r.first),o.iGM(r=o.CRH())&&(i.ripple=r.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[o.qOj]}),n})(),vI=(()=>{class n extends PQ{constructor(e,i,r,s,c,d,g){super("mat-checkbox-",e,i,s,c,d,g),this._focusMonitor=r,this._animationClasses={uncheckedToChecked:"mat-checkbox-anim-unchecked-checked",uncheckedToIndeterminate:"mat-checkbox-anim-unchecked-indeterminate",checkedToUnchecked:"mat-checkbox-anim-checked-unchecked",checkedToIndeterminate:"mat-checkbox-anim-checked-indeterminate",indeterminateToChecked:"mat-checkbox-anim-indeterminate-checked",indeterminateToUnchecked:"mat-checkbox-anim-indeterminate-unchecked"}}_createChangeEvent(e){const i=new RQ;return i.source=this,i.checked=e,i}_getAnimationTargetElement(){return this._elementRef.nativeElement}ngAfterViewInit(){super.ngAfterViewInit(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||this._onBlur()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onInputClick(e){e.stopPropagation(),super._handleInputClick()}focus(e,i){e?this._focusMonitor.focusVia(this._inputElement,e,i):this._inputElement.nativeElement.focus(i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Bu),o.Y36(o.R0b),o.$8M("tabindex"),o.Y36(o.QbO,8),o.Y36(TQ,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(e,i){2&e&&(o.Ikx("id",i.id),o.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),o.ekj("mat-checkbox-indeterminate",i.indeterminate)("mat-checkbox-checked",i.checked)("mat-checkbox-disabled",i.disabled)("mat-checkbox-label-before","before"==i.labelPosition)("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[o._Bn([kQ]),o.qOj],ngContentSelectors:IQ,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,i){if(1&e&&(o.F$t(),o.TgZ(0,"label",0,1)(2,"span",2)(3,"input",3,4),o.NdJ("change",function(s){return i._onInteractionEvent(s)})("click",function(s){return i._onInputClick(s)}),o.qZA(),o.TgZ(5,"span",5),o._UZ(6,"span",6),o.qZA(),o._UZ(7,"span",7),o.TgZ(8,"span",8),o.O4$(),o.TgZ(9,"svg",9),o._UZ(10,"path",10),o.qZA(),o.kcU(),o._UZ(11,"span",11),o.qZA()(),o.TgZ(12,"span",12,13),o.NdJ("cdkObserveContent",function(){return i._onLabelTextChange()}),o.TgZ(14,"span",14),o._uU(15,"\xa0"),o.qZA(),o.Hsn(16),o.qZA()()),2&e){const r=o.MAs(1),s=o.MAs(13);o.uIk("for",i.inputId),o.xp6(2),o.ekj("mat-checkbox-inner-container-no-side-margin",!s.textContent||!s.textContent.trim()),o.xp6(1),o.Q6J("id",i.inputId)("required",i.required)("checked",i.checked)("disabled",i.disabled)("tabIndex",i.tabIndex),o.uIk("value",i.value)("name",i.name)("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-checked",i._getAriaChecked())("aria-describedby",i.ariaDescribedby),o.xp6(2),o.Q6J("matRippleTrigger",r)("matRippleDisabled",i._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",o.VKq(19,AQ,"NoopAnimations"===i._animationMode?0:150))}},dependencies:[h_,YO],styles:['@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);position:relative}.mat-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:rgba(0,0,0,0);transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:rgba(0,0,0,0)}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox-input:focus~.mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),VH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),LQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[BA,xn,kA,VH,xn,VH]}),n})();const VQ=["*",[["mat-card-footer"]]],BQ=["*","mat-card-footer"],UQ=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],HQ=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let GQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),YP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),jQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),bI=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:BQ,decls:2,vars:0,template:function(e,i){1&e&&(o.F$t(VQ),o.Hsn(0),o.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),ZP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:HQ,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(e,i){1&e&&(o.F$t(UQ),o.Hsn(0),o.TgZ(1,"div",0),o.Hsn(2,1),o.qZA(),o.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),zQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[xn,xn]}),n})();function $Q(n,t){if(1&n&&(o.TgZ(0,"mat-option",19),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.id),o.xp6(1),o.Oqu(e.nome)}}function qQ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",15)(1,"mat-form-field",16)(2,"mat-label"),o._uU(3,"Tipologia Skill"),o.qZA(),o.TgZ(4,"mat-select",17),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw(2);return o.KtG(s.newSkill.idTipologiaSkill=r)}),o.YNc(5,$Q,2,2,"mat-option",18),o.qZA()()()}if(2&n){const e=o.oxw(2);o.xp6(4),o.Q6J("ngModel",e.newSkill.idTipologiaSkill),o.xp6(1),o.Q6J("ngForOf",e.tipologiaSkills)}}function WQ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-checkbox",20),o.NdJ("change",function(){const s=o.CHM(e).$implicit,c=o.oxw(2);return o.KtG(c.toggle(s))}),o._uU(1),o.qZA()}if(2&n){const e=t.$implicit;o.xp6(1),o.Oqu(e.nome)}}function YQ(n,t){if(1&n&&(o.TgZ(0,"ul")(1,"li"),o._uU(2),o.qZA()()),2&n){const e=t.$implicit;o.xp6(2),o.Oqu(e)}}function ZQ(n,t){if(1&n&&(o.TgZ(0,"li",22)(1,"b"),o._uU(2),o.qZA(),o.YNc(3,YQ,3,1,"ul",23),o.qZA()),2&n){const e=t.$implicit;o.xp6(2),o.hij("*",e.nome,""),o.xp6(1),o.Q6J("ngForOf",e.classi)}}function KQ(n,t){if(1&n&&(o.TgZ(0,"ul"),o.YNc(1,ZQ,4,2,"li",21),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",e.skills)}}function QQ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"div",1)(2,"mat-card",2)(3,"mat-card-header")(4,"mat-card-title"),o._uU(5,"Salva nuova skill"),o.qZA()(),o.TgZ(6,"mat-card-content",3)(7,"div",4)(8,"mat-form-field",5)(9,"mat-label"),o._uU(10,"Nome skill"),o.qZA(),o.TgZ(11,"input",6),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.newSkill.nome=r)}),o.qZA(),o.TgZ(12,"button",7),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.newSkill.nome="")}),o.TgZ(13,"mat-icon"),o._uU(14,"close"),o.qZA()()()(),o.YNc(15,qQ,6,2,"div",8),o.TgZ(16,"div",9)(17,"section"),o.YNc(18,WQ,2,1,"mat-checkbox",10),o.qZA()(),o.TgZ(19,"div",11)(20,"button",12),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.SalvaSkill())}),o._uU(21,"Salva"),o.qZA()()()()(),o.TgZ(22,"div",13)(23,"mat-card",14),o.YNc(24,KQ,2,1,"ul",0),o.qZA()()()}if(2&n){const e=o.oxw();o.xp6(11),o.Q6J("ngModel",e.newSkill.nome),o.xp6(4),o.Q6J("ngIf",e.tipologiaSkills.length>0),o.xp6(3),o.Q6J("ngForOf",e.classi),o.xp6(2),o.Q6J("disabled",""==e.newSkill.nome||-1===e.newSkill.idTipologiaSkill),o.xp6(4),o.Q6J("ngIf",e.skills.length>0)}}let XQ=(()=>{class n{constructor(e){this.service=e,this.skills=new Array,this.newSkill=new uE,this.classi=new Array,this.tipologiaSkills=new Array,this.idsClassiScelte=new Array,this.notChecked=!1,this.develop=!1}ngOnInit(){const e=F(7986);this.develop=e.develop,this.service.getAllSkills().subscribe(i=>this.skills=i),this.service.getAllClass().subscribe(i=>{this.classi=i}),this.service.getAllTipologieSkill().subscribe(i=>this.tipologiaSkills=i),console.log(this.newSkill)}SalvaSkill(){const e=this.newSkill;e.nome=(e.nome.charAt(0).toUpperCase()+e.nome.slice(1)).trim(),this.service.AddSkill(this.newSkill),this.service.getAllClass().subscribe(i=>{this.classi=i}),this.newSkill=new uE}toggle(e){this.newSkill.classi.push(e.nome)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(HC))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-develop"]],decls:1,vars:1,consts:[[4,"ngIf"],["fxLayout","row",1,"home"],["fxFlex","70","fxLayout","column",1,"container"],["fxFlex","100","fxLayoutAlign","center center",2,"height","300px"],["fxFlex","30","fxLayout","column"],[1,"example-form-field"],["matInput","","type","text","fxFlex","","color","primary",3,"ngModel","ngModelChange"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["fxLayout","column","fxFlex","30",4,"ngIf"],["fxFlex","30","fxLayout","column",2,"margin-left","10%"],["style","padding:4px","color","primary",3,"change",4,"ngFor","ngForOf"],["fxFlex","",2,"margin-left","5%","margin-right","5%"],["mat-raised-button","","color","primary",3,"disabled","click"],["fxLayout","row","fxLayoutAlign","center center",1,"skills"],["fxFlex","","fxLayout","row","fxFlex","",2,"height","300px","overflow-y","auto"],["fxLayout","column","fxFlex","30"],["appearance","fill"],["color","primary",3,"ngModel","ngModelChange"],["color","primary",3,"value",4,"ngFor","ngForOf"],["color","primary",3,"value"],["color","primary",2,"padding","4px",3,"change"],["fxLayout","column","style","padding: 5px;",4,"ngFor","ngForOf"],["fxLayout","column",2,"padding","5px"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&o.YNc(0,QQ,25,5,"div",0),2&e&&o.Q6J("ngIf",i.develop)},dependencies:[os,gn,sb,sI,KC,nE,oE,XA,rb,mE,AH,_I,Z7,OH,tP,WP,vI,bI,ZP,GQ,YP],styles:[".example-form-field[_ngcontent-%COMP%]{width:200px}.container[_ngcontent-%COMP%]{height:100%;padding:15px;display:flex;margin-top:5%}.home[_ngcontent-%COMP%]{height:auto;padding:0;display:flex;justify-content:center;margin-top:5%}.skills[_ngcontent-%COMP%]{width:50%;padding:0;display:flex;justify-content:center;margin-top:5%}"]}),n})(),JQ=(()=>{class n{constructor(){this.color="primary",this.mode="indeterminate",this.value=50,this.displayProgressSpinner=!1,this.spinnerWithoutBackdrop=!1,this.showProgressSpinner=()=>{this.displayProgressSpinner=!0,setTimeout(()=>{this.displayProgressSpinner=!1},3e3)}}ngOnInit(){this.showProgressSpinner()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-help"]],decls:2,vars:0,consts:[[1,"content","mat-elevation-z8",2,"overflow","hidden"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o._uU(1," ciao\n"),o.qZA())},styles:[".content[_ngcontent-%COMP%]{height:calc(100vh - 130px);border-radius:10px;margin:16px 16px 16px 32px;padding:4px;overflow:auto}"]}),n})(),e9=(()=>{class n{constructor(e){this._activatedRoute=e}ngOnInit(){this._activatedRoute.queryParams.subscribe(e=>console.log("queryParams",e.guid))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ll))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-finish-wizard"]],decls:2,vars:0,template:function(e,i){1&e&&(o.TgZ(0,"p"),o._uU(1,"finish-wizard works!"),o.qZA())}}),n})();function t9(n,t){}class wI{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let BH=(()=>{class n extends bP{constructor(e,i,r,s,c,d,g,y){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=c,this._ngZone=d,this._overlayRef=g,this._focusMonitor=y,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=C=>{this._portalOutlet.hasAttached();const D=this._portalOutlet.attachDomPortal(C);return this._contentAttached(),D},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=zO(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=zO();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=zO())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(PA),o.Y36(X,8),o.Y36(wI),o.Y36(qC),o.Y36(o.R0b),o.Y36(lE),o.Y36(Bu))},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&o.Gf(tI,7),2&e){let r;o.iGM(r=o.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&o.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&o.YNc(0,t9,0,0,"ng-template",0)},dependencies:[tI],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class KP{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new lt.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Vu(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const UH=new o.OlP("DialogScrollStrategy"),n9=new o.OlP("DialogData"),i9=new o.OlP("DefaultDialogConfig"),s9={provide:UH,deps:[Uu],useFactory:function r9(n){return()=>n.scrollStrategies.block()}};let o9=0,HH=(()=>{class n{constructor(e,i,r,s,c,d){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new lt.x,this._afterOpenedAtThisLevel=new lt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Hn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(vr(void 0))),this._scrollStrategy=d}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new wI,...i}).id=i.id||"cdk-dialog-"+o9++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),c=this._overlay.create(s),d=new KP(c,i),g=this._attachContainer(c,d,i);return d.containerInstance=g,this._attachDialogContent(e,d,g,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.closed.subscribe(()=>this._removeOpenDialog(d,!0)),this.afterOpened.next(d),d}closeAll(){QP(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){QP(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),QP(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new CP({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const s=r.injector||r.viewContainerRef?.injector,c=[{provide:wI,useValue:r},{provide:KP,useValue:i},{provide:lE,useValue:e}];let d;r.container?"function"==typeof r.container?d=r.container:(d=r.container.type,c.push(...r.container.providers(r))):d=BH;const g=new JA(d,r.viewContainerRef,o.zs3.create({parent:s||this._injector,providers:c}),r.componentFactoryResolver);return e.attach(g).instance}_attachDialogContent(e,i,r,s){if(e instanceof o.Rgc){const c=this._createInjector(s,i,r,void 0);let d={$implicit:s.data,dialogRef:i};s.templateContext&&(d={...d,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new eI(e,null,d,c))}else{const c=this._createInjector(s,i,r,this._injector),d=r.attachComponentPortal(new JA(e,s.viewContainerRef,c,s.componentFactoryResolver));i.componentInstance=d.instance}}_createInjector(e,i,r,s){const c=e.injector||e.viewContainerRef?.injector,d=[{provide:n9,useValue:e.data},{provide:KP,useValue:i}];return e.providers&&("function"==typeof e.providers?d.push(...e.providers(i,e,r)):d.push(...e.providers)),e.direction&&(!c||!c.get(gc,null,o.XFs.Optional))&&d.push({provide:gc,useValue:{value:e.direction,change:Je()}}),o.zs3.create({parent:c||s,providers:d})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,c)=>{s?c.setAttribute("aria-hidden",s):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Uu),o.LFG(o.zs3),o.LFG(i9,8),o.LFG(n,12),o.LFG(nI),o.LFG(UH))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function QP(n,t){let e=n.length;for(;e--;)t(n[e])}let a9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[HH,s9],imports:[cE,aE,HB,aE]}),n})();function l9(n,t){}const cb={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},c9={dialogContainer:Fp("dialogContainer",[No("void, exit",Ti({opacity:0,transform:"scale(0.7)"})),No("enter",Ti({transform:"none"})),rl("* => enter",S2([mc("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",Ti({transform:"none",opacity:1})),cP("@*",lP(),{optional:!0})]),cb),rl("* => void, * => exit",S2([mc("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",Ti({opacity:0})),cP("@*",lP(),{optional:!0})]),cb)])};class CI{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=cb.params.enterAnimationDuration,this.exitAnimationDuration=cb.params.exitAnimationDuration}}let u9=(()=>{class n extends BH{constructor(e,i,r,s,c,d,g,y){super(e,i,r,s,c,d,g,y),this._animationStateChanged=new o.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(PA),o.Y36(X,8),o.Y36(CI),o.Y36(qC),o.Y36(o.R0b),o.Y36(lE),o.Y36(Bu))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],features:[o.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),d9=(()=>{class n extends u9{constructor(e,i,r,s,c,d,g,y,C){super(e,i,r,s,c,d,g,C),this._changeDetectorRef=y,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||cb.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||cb.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(PA),o.Y36(X,8),o.Y36(CI),o.Y36(qC),o.Y36(o.R0b),o.Y36(lE),o.Y36(o.sBO),o.Y36(Bu))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&o.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(o.Ikx("id",i._config.id),o.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),o.d8E("@dialogContainer",i._getAnimationState()))},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&o.YNc(0,l9,0,0,"ng-template",0)},dependencies:[tI],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[c9.dialogContainer]}}),n})();class XP{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new lt.x,this._beforeClosed=new lt.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(dn(r=>"opened"===r.state),(0,Gn.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(dn(r=>"closed"===r.state),(0,Gn.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Xo.T)(this.backdropClick(),this.keydownEvents().pipe(dn(r=>27===r.keyCode&&!this.disableClose&&!Vu(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function h9(n,t,e){n._closeInteractionType=t,n.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(dn(e=>"closing"===e.state),(0,Gn.q)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const JP=new o.OlP("MatDialogData"),f9=new o.OlP("mat-dialog-default-options"),GH=new o.OlP("mat-dialog-scroll-strategy"),g9={provide:GH,deps:[Uu],useFactory:function p9(n){return()=>n.scrollStrategies.block()}};let m9=0,_9=(()=>{class n{constructor(e,i,r,s,c,d,g,y,C,D){this._overlay=e,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=g,this._dialogContainerType=y,this._dialogDataToken=C,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new lt.x,this._afterOpenedAtThisLevel=new lt.x,this._idPrefix="mat-dialog-",this.afterAllClosed=Hn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(vr(void 0))),this._scrollStrategy=d,this._dialog=i.get(HH)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let r;(i={...this._defaultOptions||new CI,...i}).id=i.id||`${this._idPrefix}${m9++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:CI,useValue:i},{provide:wI,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(c,d,g)=>(r=new this._dialogRefConstructor(c,i,g),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:g},{provide:this._dialogDataToken,useValue:d.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const c=this.openDialogs.indexOf(r);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),e1=(()=>{class n extends _9{constructor(e,i,r,s,c,d,g,y){super(e,i,s,d,g,c,XP,d9,JP,y)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Uu),o.LFG(o.zs3),o.LFG(Be,8),o.LFG(f9,8),o.LFG(GH),o.LFG(n,12),o.LFG(nI),o.LFG(o.QbO,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),y9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[e1,g9],imports:[a9,cE,aE,xn,xn]}),n})();const jH=new o.OlP("CdkAccordion");let v9=0,b9=(()=>{class n{constructor(e,i,r){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=mi.w0.EMPTY,this.closed=new o.vpe,this.opened=new o.vpe,this.destroyed=new o.vpe,this.expandedChange=new o.vpe,this.id="cdk-accordion-child-"+v9++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((s,c)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===c&&this.id!==s&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(e){e=Zt(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=Zt(e)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(jH,12),o.Y36(o.sBO),o.Y36(IH))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[o._Bn([{provide:jH,useValue:void 0}])]}),n})(),w9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const C9=["body"];function E9(n,t){}const x9=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],D9=["mat-expansion-panel-header","*","mat-action-row"];function S9(n,t){if(1&n&&o._UZ(0,"span",2),2&n){const e=o.oxw();o.Q6J("@indicatorRotate",e._getExpandedState())}}const A9=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],I9=["mat-panel-title","mat-panel-description","*"],zH=new o.OlP("MAT_ACCORDION"),$H="225ms cubic-bezier(0.4,0.0,0.2,1)",qH={indicatorRotate:Fp("indicatorRotate",[No("collapsed, void",Ti({transform:"rotate(0deg)"})),No("expanded",Ti({transform:"rotate(180deg)"})),rl("expanded <=> collapsed, void => collapsed",mc($H))]),bodyExpansion:Fp("bodyExpansion",[No("collapsed, void",Ti({height:"0px",visibility:"hidden"})),No("expanded",Ti({height:"*",visibility:"visible"})),rl("expanded <=> collapsed, void => collapsed",mc($H))])},WH=new o.OlP("MAT_EXPANSION_PANEL");let T9=(()=>{class n{constructor(e,i){this._template=e,this._expansionPanel=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(WH,8))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),M9=0;const YH=new o.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let ZH=(()=>{class n extends b9{constructor(e,i,r,s,c,d,g){super(e,i,r),this._viewContainerRef=s,this._animationMode=d,this._hideToggle=!1,this.afterExpand=new o.vpe,this.afterCollapse=new o.vpe,this._inputChanges=new lt.x,this._headerId="mat-expansion-panel-header-"+M9++,this._bodyAnimationDone=new lt.x,this.accordion=e,this._document=c,this._bodyAnimationDone.pipe(Of((y,C)=>y.fromState===C.fromState&&y.toState===C.toState)).subscribe(y=>{"void"!==y.fromState&&("expanded"===y.toState?this.afterExpand.emit():"collapsed"===y.toState&&this.afterCollapse.emit())}),g&&(this.hideToggle=g.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=Zt(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(vr(null),dn(()=>this.expanded&&!this._portal),(0,Gn.q)(1)).subscribe(()=>{this._portal=new eI(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(zH,12),o.Y36(o.sBO),o.Y36(IH),o.Y36(o.s_b),o.Y36(X),o.Y36(o.QbO,8),o.Y36(YH,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,T9,5),2&e){let s;o.iGM(s=o.CRH())&&(i._lazyContent=s.first)}},viewQuery:function(e,i){if(1&e&&o.Gf(C9,5),2&e){let r;o.iGM(r=o.CRH())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,i){2&e&&o.ekj("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[o._Bn([{provide:zH,useValue:void 0},{provide:WH,useExisting:n}]),o.qOj,o.TTD],ngContentSelectors:D9,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(o.F$t(x9),o.Hsn(0),o.TgZ(1,"div",0,1),o.NdJ("@bodyExpansion.done",function(s){return i._bodyAnimationDone.next(s)}),o.TgZ(3,"div",2),o.Hsn(4,1),o.YNc(5,E9,0,0,"ng-template",3),o.qZA(),o.Hsn(6,2),o.qZA()),2&e&&(o.xp6(1),o.Q6J("@bodyExpansion",i._getExpandedState())("id",i.id),o.uIk("aria-labelledby",i._headerId),o.xp6(4),o.Q6J("cdkPortalOutlet",i._portal))},dependencies:[tI],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[qH.bodyExpansion]},changeDetection:0}),n})();class k9{}const R9=VA(k9);let O9=(()=>{class n extends R9{constructor(e,i,r,s,c,d,g){super(),this.panel=e,this._element=i,this._focusMonitor=r,this._changeDetectorRef=s,this._animationMode=d,this._parentChangeSubscription=mi.w0.EMPTY;const y=e.accordion?e.accordion._stateChanges.pipe(dn(C=>!(!C.hideToggle&&!C.togglePosition))):Pr.E;this.tabIndex=parseInt(g||"")||0,this._parentChangeSubscription=(0,Xo.T)(e.opened,e.closed,y,e._inputChanges.pipe(dn(C=>!!(C.hideToggle||C.disabled||C.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(dn(()=>e._containsFocus())).subscribe(()=>r.focusVia(i,"program")),c&&(this.expandedHeight=c.expandedHeight,this.collapsedHeight=c.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Vu(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ZH,1),o.Y36(o.SBq),o.Y36(Bu),o.Y36(o.sBO),o.Y36(YH,8),o.Y36(o.QbO,8),o.$8M("tabindex"))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i._toggle()})("keydown",function(s){return i._keydown(s)}),2&e&&(o.uIk("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),o.Udp("height",i._getHeaderHeight()),o.ekj("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[o.qOj],ngContentSelectors:I9,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,i){1&e&&(o.F$t(A9),o.TgZ(0,"span",0),o.Hsn(1),o.Hsn(2,1),o.Hsn(3,2),o.qZA(),o.YNc(4,S9,1,1,"span",1)),2&e&&(o.ekj("mat-content-hide-toggle",!i._showToggle()),o.xp6(4),o.Q6J("ngIf",i._showToggle()))},dependencies:[gn],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[qH.indicatorRotate]},changeDetection:0}),n})(),P9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),n})(),F9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),N9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[zi,xn,w9,aE]}),n})();const L9=["primaryValueBar"],V9=Rp(class{constructor(n){this._elementRef=n}},"primary"),B9=new o.OlP("mat-progress-bar-location",{providedIn:"root",factory:function U9(){const n=(0,o.f3M)(X),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),H9=new o.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let G9=0,KH=(()=>{class n extends V9{constructor(e,i,r,s,c,d){super(e),this._ngZone=i,this._animationMode=r,this._changeDetectorRef=d,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new o.vpe,this._animationEndSubscription=mi.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+G9++;const g=s?s.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${g}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===r,c&&(c.color&&(this.color=this.defaultColor=c.color),this.mode=c.mode||this.mode)}get value(){return this._value}set value(e){this._value=QH(pc(e)||0),this._changeDetectorRef?.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(e){this._bufferValue=QH(e||0),this._changeDetectorRef?.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=p_(e,"transitionend").pipe(dn(i=>i.target===e)).subscribe(()=>{0!==this.animationEnd.observers.length&&("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(o.QbO,8),o.Y36(B9,8),o.Y36(H9,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(e,i){if(1&e&&o.Gf(L9,5),2&e){let r;o.iGM(r=o.CRH())&&(i._primaryValueBar=r.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,i){2&e&&(o.uIk("aria-valuenow","indeterminate"===i.mode||"query"===i.mode?null:i.value)("mode",i.mode),o.ekj("_mat-animation-noopable",i._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[o.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.O4$(),o.TgZ(1,"svg",1)(2,"defs")(3,"pattern",2),o._UZ(4,"circle",3),o.qZA()(),o._UZ(5,"rect",4),o.qZA(),o.kcU(),o._UZ(6,"div",5)(7,"div",6,7)(9,"div",8),o.qZA()),2&e&&(o.xp6(3),o.Q6J("id",i.progressbarId),o.xp6(2),o.uIk("fill",i._rectangleFillValue),o.xp6(1),o.Q6J("ngStyle",i._bufferTransform()),o.xp6(1),o.Q6J("ngStyle",i._primaryTransform()))},dependencies:[Ts],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}.mat-progress-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}'],encapsulation:2,changeDetection:0}),n})();function QH(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let j9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[zi,xn,xn]}),n})();function z9(n,t){1&n&&(o.TgZ(0,"span",21),o._uU(1," collections_bookmark "),o.qZA())}function $9(n,t){1&n&&(o.TgZ(0,"span",21),o._uU(1," music_note "),o.qZA())}function q9(n,t){1&n&&(o.TgZ(0,"span",21),o._uU(1," receipt_long "),o.qZA())}function W9(n,t){1&n&&(o.TgZ(0,"span",21),o._uU(1," school "),o.qZA())}function Y9(n,t){1&n&&(o.TgZ(0,"span",21),o._uU(1," auto_fix "),o.qZA())}function Z9(n,t){1&n&&(o.TgZ(0,"span",21),o._uU(1," swords "),o.qZA())}function K9(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"input",22),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw().$implicit;return o.KtG(s.value=r)})("keyup",function(){o.CHM(e);const r=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.checkNumber(r))}),o.qZA()}if(2&n){const e=o.oxw().$implicit;o.Q6J("ngModel",e.value)}}function Q9(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"li",16)(1,"div",17)(2,"button",18),o.NdJ("click",function(){const s=o.CHM(e).$implicit,c=o.oxw(2);return o.KtG(c.setSkill(s))}),o.YNc(3,z9,2,0,"span",19),o.YNc(4,$9,2,0,"span",19),o.YNc(5,q9,2,0,"span",19),o.YNc(6,W9,2,0,"span",19),o.YNc(7,Y9,2,0,"span",19),o.YNc(8,Z9,2,0,"span",19),o._uU(9),o.qZA(),o.YNc(10,K9,1,1,"input",20),o.qZA()()}if(2&n){const e=t.$implicit;o.xp6(2),o.Q6J("color",e.isChecked?"primary":"white"),o.xp6(1),o.Q6J("ngIf",4==e.idTipologiaSkill),o.xp6(1),o.Q6J("ngIf",5==e.idTipologiaSkill),o.xp6(1),o.Q6J("ngIf",0==e.idTipologiaSkill),o.xp6(1),o.Q6J("ngIf",3==e.idTipologiaSkill),o.xp6(1),o.Q6J("ngIf",2==e.idTipologiaSkill),o.xp6(1),o.Q6J("ngIf",1==e.idTipologiaSkill),o.xp6(1),o.hij(" ",e.nome," "),o.xp6(1),o.Q6J("ngIf",e.isChecked)}}function X9(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",23),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.reset())}),o._uU(1,"Reset "),o.TgZ(2,"mat-icon"),o._uU(3,"undo"),o.qZA()()}}function J9(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",24),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.salvaSkills())}),o._uU(1,"Salva "),o.TgZ(2,"mat-icon"),o._uU(3,"done"),o.qZA()()}if(2&n){const e=o.oxw(2);o.Q6J("disabled",e.valueTotale>1200)}}function eX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-card",2)(1,"mat-card-header")(2,"mat-card-title"),o._uU(3,"Skills"),o.qZA(),o.TgZ(4,"mat-card-subtitle"),o._uU(5,"Scegli le skills del tuo pg"),o.qZA()(),o._UZ(6,"div",3),o.TgZ(7,"div"),o._UZ(8,"mat-progress-bar",4),o.qZA(),o.TgZ(9,"div")(10,"section",5)(11,"mat-checkbox",6),o.NdJ("change",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.setAll(r))}),o._uU(12,"Applica skills consigliate"),o.qZA()(),o.TgZ(13,"div",7)(14,"b"),o._uU(15,"Totale skills selezionate: "),o.TgZ(16,"u"),o._uU(17),o.qZA()()()(),o._UZ(18,"div",8),o.TgZ(19,"mat-expansion-panel",9),o.NdJ("opened",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.salva=!0)})("expandedChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.expanded=r)}),o.TgZ(20,"mat-expansion-panel-header")(21,"mat-panel-title")(22,"b"),o._uU(23,"Skills"),o.qZA()(),o._UZ(24,"mat-panel-description"),o.qZA(),o.TgZ(25,"div",10),o.YNc(26,Q9,11,9,"li",11),o.qZA()(),o.TgZ(27,"div",12)(28,"div",13),o.YNc(29,X9,4,0,"button",14),o.qZA(),o.TgZ(30,"div",13),o.YNc(31,J9,4,1,"button",15),o.qZA()()()}if(2&n){const e=o.oxw();o.xp6(8),o.Q6J("color",e.valueTotale<=1200?"primary":"warn")("value",e.valueTotale/12),o.xp6(8),o.Udp("color",e.valueTotale>1200?"red":"#004a9f"),o.xp6(1),o.Oqu(e.valueTotale),o.xp6(2),o.Q6J("expanded",e.expanded),o.xp6(7),o.Q6J("ngForOf",e.skillsComplessive),o.xp6(3),o.Q6J("ngIf",e.expanded),o.xp6(2),o.Q6J("ngIf",e.expanded)}}function tX(n,t){1&n&&(o.TgZ(0,"span",21),o._uU(1," collections_bookmark "),o.qZA())}function nX(n,t){1&n&&(o.TgZ(0,"span",21),o._uU(1," music_note "),o.qZA())}function iX(n,t){1&n&&(o.TgZ(0,"span",21),o._uU(1," receipt_long "),o.qZA())}function rX(n,t){1&n&&(o.TgZ(0,"span",21),o._uU(1," school "),o.qZA())}function sX(n,t){1&n&&(o.TgZ(0,"span",21),o._uU(1," auto_fix "),o.qZA())}function oX(n,t){1&n&&(o.TgZ(0,"span",21),o._uU(1," swords "),o.qZA())}function aX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"input",22),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw().$implicit;return o.KtG(s.value=r)})("keyup",function(){o.CHM(e);const r=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.checkNumber(r))}),o.qZA()}if(2&n){const e=o.oxw().$implicit;o.Q6J("ngModel",e.value)}}function lX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"li",16)(1,"div",17)(2,"button",18),o.NdJ("click",function(){const s=o.CHM(e).$implicit,c=o.oxw(2);return o.KtG(c.setSkill(s))}),o.YNc(3,tX,2,0,"span",19),o.YNc(4,nX,2,0,"span",19),o.YNc(5,iX,2,0,"span",19),o.YNc(6,rX,2,0,"span",19),o.YNc(7,sX,2,0,"span",19),o.YNc(8,oX,2,0,"span",19),o._uU(9),o.qZA(),o.YNc(10,aX,1,1,"input",20),o.qZA()()}if(2&n){const e=t.$implicit;o.xp6(2),o.Q6J("color",e.isChecked?"primary":"white"),o.xp6(1),o.Q6J("ngIf",4==e.idTipologiaSkill),o.xp6(1),o.Q6J("ngIf",5==e.idTipologiaSkill),o.xp6(1),o.Q6J("ngIf",0==e.idTipologiaSkill),o.xp6(1),o.Q6J("ngIf",3==e.idTipologiaSkill),o.xp6(1),o.Q6J("ngIf",2==e.idTipologiaSkill),o.xp6(1),o.Q6J("ngIf",1==e.idTipologiaSkill),o.xp6(1),o.hij(" ",e.nome," "),o.xp6(1),o.Q6J("ngIf",e.isChecked)}}function cX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",23),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.reset())}),o._uU(1,"Reset "),o.TgZ(2,"mat-icon"),o._uU(3,"undo"),o.qZA()()}}function uX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",24),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.salvaSkills())}),o._uU(1,"Salva "),o.TgZ(2,"mat-icon"),o._uU(3,"done"),o.qZA()()}if(2&n){const e=o.oxw(2);o.Q6J("disabled",e.valueTotale>1200)}}function dX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",25),o._UZ(1,"div",3),o.TgZ(2,"div"),o._UZ(3,"mat-progress-bar",4),o.qZA(),o.TgZ(4,"div")(5,"section",5)(6,"mat-checkbox",6),o.NdJ("change",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.setAll(r))}),o._uU(7,"Applica skills consigliate"),o.qZA()()(),o._UZ(8,"div",8),o.TgZ(9,"div")(10,"b"),o._uU(11,"Totale skills selezionate: "),o.TgZ(12,"u"),o._uU(13),o.qZA()()(),o._UZ(14,"div",8),o.TgZ(15,"div",10)(16,"b"),o._uU(17,"Lavorative"),o.qZA(),o.YNc(18,lX,11,9,"li",11),o.qZA(),o.TgZ(19,"div",12)(20,"div",13),o.YNc(21,cX,4,0,"button",14),o.qZA(),o.TgZ(22,"div",13),o.YNc(23,uX,4,1,"button",15),o.qZA()()()}if(2&n){const e=o.oxw();o.xp6(3),o.Q6J("color",e.valueTotale<=1200?"primary":"warn")("value",e.valueTotale/12),o.xp6(9),o.Udp("color",e.valueTotale>1200?"red":"#004a9f"),o.xp6(1),o.Oqu(e.valueTotale),o.xp6(5),o.Q6J("ngForOf",e.skillsComplessive),o.xp6(3),o.Q6J("ngIf",e.expanded),o.xp6(2),o.Q6J("ngIf",e.expanded)}}let hX=(()=>{class n{constructor(e,i,r,s){this.service=e,this.utils=i,this.dialogRef=r,this.data=s,this.classe=new xP,this.tipologieSkill=new Array,this.skillDiClasse=new Array,this.combattive=new Array,this.miscellanee=new Array,this.musicali=new Array,this.magiche=new Array,this.lavorative=new Array,this.conoscitive=new Array,this.skillsComplessive=new Array,this.skillForm=new Gu(0,[Is.required]),this.arraySkills=new Array,this.valueTotale=0,this.salva=!1,this.skillScelte=new Array,this.isSmartphone=!1,this.skills=new Array,this.expanded=!0,this.classe=s?.classe,this.skills=s?.skills}ngOnInit(){this.isSmartphone=this.utils.isSmartphone(),this.reload()}setSkill(e){e.isChecked?(e.isChecked=!1,e.value=0,this.removeSkill(e)):(e.isChecked=!0,e.value=100,this.skillScelte.push(e)),this.resultSkills()}checkNumber(e){let i="cercare minerali"==e.nome.toLowerCase()||"fare legna"==e.nome.toLowerCase()||"pescare"==e.nome.toLowerCase()||"erboristeria"==e.nome.toLowerCase()||"agricoltura"==e.nome.toLowerCase();0==e.idTipologiaSkill&&e.value>200&&!i&&(e.value=200),(e.idTipologiaSkill>0||i)&&e.value>100&&(e.value=100),e.value<0&&(e.value=0),this.updateSkill(e),this.resultSkills()}getStandardSkills(e){let i=uE.ConvertToSkillsChecked(e);return i.forEach(r=>{r.value=100,r.isChecked=!0}),i}setStandardSkills(e,i=-1){return this.skillDiClasse.forEach(r=>{let s=e.findIndex(c=>c.id==r.id);-1!=s&&(-1==i?(e[s].isChecked=!0,e[s].value=100):(e[s].isChecked=!1,e[s].value=0))}),e}setAll(e){e.checked?(this.skillsComplessive=this.setStandardSkills(this.skillsComplessive),this.getSkillsChecked()):this.skillsComplessive=this.setStandardSkills(this.skillsComplessive,1),this.resultSkills()}resultSkills(){this.valueTotale=0,this.valueTotale+=this.skillsComplessive.reduce((e,i)=>e+i.value,0)}reload(){this.service.getClasseSkills(this.classe.nome).subscribe(e=>{this.skillDiClasse=this.getStandardSkills(e),this.service.getAllSkills().subscribe(i=>{this.skillsComplessive=uE.ConvertToSkillsChecked(i),this.reloadSkills()})})}removeSkill(e){this.skillScelte=this.skillScelte.filter(i=>i.id!==e.id)}updateSkill(e){var i=this.skillScelte.findIndex(r=>r.id==e.id);this.skillScelte[i].value=e.value}salvaSkills(){this.getSkillsChecked(),this.dialogRef.close({data:this.skillScelte})}reloadSkills(){this.skills.length>0&&(this.skills.forEach(e=>{var i;let r=this.skillsComplessive.findIndex(s=>s.id==e.id);void 0!==(null===(i=this.skillsComplessive[r])||void 0===i?void 0:i.value)&&(this.skillsComplessive[r].value=e.value,this.skillsComplessive[r].isChecked=e.isChecked)}),this.resultSkills())}getSkillsChecked(){this.skillScelte=new Array,this.skillScelte=this.skillScelte.concat(this.skillsComplessive.filter(e=>e.isChecked&&e.value>0))}reset(){this.skillsComplessive.forEach(e=>{e.value=0,e.isChecked=!1}),this.valueTotale=0,this.skillScelte=new Array}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(HC),o.Y36(B2),o.Y36(XP),o.Y36(JP))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-modale-skills"]],decls:2,vars:2,consts:[["class","home","fxFlex","100","fxLayout","column",4,"ngIf"],["class","home2","fxFlex","100","fxLayout","column",4,"ngIf"],["fxFlex","100","fxLayout","column",1,"home"],[2,"padding","5px"],["mode","determinate",3,"color","value"],["fxFlex","","fxlayout","column",1,"example-section"],["color","primary",1,"example-margin",3,"change"],["fxFlex","","fxlayout","column"],[2,"padding","10px"],["hideToggle","",1,"menubar",3,"expanded","opened","expandedChange"],["fxLayout","column","fxFlex","",1,"skills"],["fxFlex","",4,"ngFor","ngForOf"],["fxLayout","row wrap","fxLayoutAlign","space-around center","fxFlex",""],[2,"margin-top","1%"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["fxFlex",""],["fxFlex","100"],["mat-raised-button","","fxFlex","100",1,"skill",3,"color","click"],["class","material-symbols-outlined",4,"ngIf"],["class","value","matInput","","type","number","fxFlex","30","placeholder","Valore skill",3,"ngModel","ngModelChange","keyup",4,"ngIf"],[1,"material-symbols-outlined"],["matInput","","type","number","fxFlex","30","placeholder","Valore skill",1,"value",3,"ngModel","ngModelChange","keyup"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],["fxFlex","100","fxLayout","column",1,"home2"]],template:function(e,i){1&e&&(o.YNc(0,eX,32,9,"mat-card",0),o.YNc(1,dX,24,8,"div",1)),2&e&&(o.Q6J("ngIf",!i.isSmartphone),o.xp6(1),o.Q6J("ngIf",i.isSmartphone))},dependencies:[os,gn,sb,pI,sI,KC,nE,oE,XA,rb,mE,WP,vI,bI,ZP,YP,jQ,ZH,O9,F9,P9,KH],styles:['.menubar[_ngcontent-%COMP%]{margin:2%}.home[_ngcontent-%COMP%]{height:calc(100vh - 150px);width:calc(100vh - 130px);border-radius:10px;margin:16px 16px 16px 32px;padding:10px;overflow:auto;border:2px solid #004a9f;background-color:#a8afb8;color:#000}.home2[_ngcontent-%COMP%]{height:calc(100vh - 150px);width:calc(100vh - 87px);padding:5px;border-radius:10px;overflow:auto;border:2px solid #004a9f}.skill[_ngcontent-%COMP%]{cursor:pointer;padding:2px;margin:4px;height:3em}.skills[_ngcontent-%COMP%]{height:auto}.mat-expansion-panel[_ngcontent-%COMP%]{overflow-y:scroll}.value[_ngcontent-%COMP%]{text-align:center;border:2px solid #004a9f;border-radius:7px;margin:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.bar[_ngcontent-%COMP%]{padding:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#004a9f}body[_ngcontent-%COMP%]::-webkit-scrollbar{width:1em}body[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#a9a9a9;outline:1px solid slategrey}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 48}']}),n})();function fX(n,t){if(1&n&&(o.TgZ(0,"li"),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e," ")}}let pX=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.data=i,this.service=r,this.spellsPaladino=new yK,this.religione="",null!=i&&""!==i&&(this.religione=i)}ngOnInit(){this.getSpells()}getSpells(){this.spellsPaladino.religione="",this.spellsPaladino.aura="",null!=this.religione&&""!=this.religione&&this.service.getSpellPaladinoFromDivinita(this.religione).subscribe(e=>this.spellsPaladino=e[0])}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(XP),o.Y36(JP),o.Y36(HC))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-modale-paladino"]],decls:14,vars:3,consts:[["fxFlex","100","fxLayout","column",1,"home"],[1,"li"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(o.TgZ(0,"mat-card",0)(1,"ul")(2,"li",1)(3,"b"),o._uU(4,"Religione:"),o.qZA(),o._uU(5),o.qZA(),o.TgZ(6,"li",1)(7,"b"),o._uU(8,"Aura:"),o.qZA(),o._uU(9),o.qZA(),o.TgZ(10,"b"),o._uU(11,"Spells:"),o.qZA(),o.TgZ(12,"ul"),o.YNc(13,fX,2,1,"li",2),o.qZA()()()),2&e&&(o.xp6(5),o.hij(" ",i.spellsPaladino.religione,""),o.xp6(4),o.hij(" ",i.spellsPaladino.aura,""),o.xp6(4),o.Q6J("ngForOf",null==i.spellsPaladino?null:i.spellsPaladino.spell))},dependencies:[os,oE,rb,bI],styles:[".li[_ngcontent-%COMP%]{margin:2%}.home[_ngcontent-%COMP%]{width:500px}"]}),n})();function gX(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Aggiungi il nome del PG "),o.qZA())}function mX(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Nome troppo breve "),o.qZA())}function _X(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-option",30),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return r.getReligioni(),o.KtG(r.getClassi())}),o._uU(1),o.qZA()}if(2&n){const e=t.$implicit;o.Q6J("value",e.nome),o.xp6(1),o.Oqu(e.nome)}}function yX(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Seleziona una razza "),o.qZA())}function vX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-option",31),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return r.getReligioni(),o.KtG(r.autoSetStat())}),o._uU(1),o.qZA()}if(2&n){const e=t.$implicit,i=o.oxw();o.Q6J("disabled",i.classi.length<1)("value",e.nome),o.xp6(1),o.Oqu(e.nome)}}function bX(n,t){1&n&&(o.TgZ(0,"mat-hint"),o._uU(1," Seleziona prima una razza "),o.qZA())}function wX(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Seleziona una classe "),o.qZA())}function CX(n,t){if(1&n&&(o.TgZ(0,"mat-option",32),o._uU(1),o.qZA()),2&n){const e=t.$implicit,i=o.oxw();o.Q6J("value",e)("disabled",void 0===i.schedaPg.classe.nome),o.xp6(1),o.Oqu(e.nome)}}function EX(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Seleziona una religione "),o.qZA())}function xX(n,t){1&n&&(o.TgZ(0,"mat-hint"),o._uU(1," Seleziona prima una razza e una classe "),o.qZA())}function DX(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Aggiungi la forza del pg "),o.qZA())}function SX(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Aggiungi la destrezza del pg "),o.qZA())}function AX(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Aggiungi l'intelligenza del pg "),o.qZA())}function IX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",33),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.selectSkills())}),o._uU(1,"Scegli skills "),o.TgZ(2,"mat-icon"),o._uU(3,"assignment"),o.qZA()()}}function TX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",34),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.selectSkills())}),o._uU(1,"Skills selezionate "),o.TgZ(2,"mat-icon"),o._uU(3,"done"),o.qZA()()}}const MX=[{path:"test",component:CU},{path:"help",component:JQ},{path:"credits",component:mK},{path:"develop",component:XQ},{path:"schedaPersonaggio",component:(()=>{class n{constructor(e,i,r){this.service=e,this.dialog=i,this.route=r,this.statsChecked=!1,this.colorBar="primary",this.schedaPg=new _K,this.classi=new Array,this.razze=new Array,this.religioni=new Array,this.skills=new Array,this.skillConsigliate=new Array,this.nomeForm=new Gu("",[Is.required,Is.minLength(3)]),this.classeForm=new Gu(null,[Is.required]),this.razzaForm=new Gu(null,[Is.required]),this.religioneForm=new Gu(null,[Is.required]),this.forzaForm=new Gu(0,[Is.required,Is.minLength(1),Is.maxLength(3)]),this.destrezzaForm=new Gu(0,[Is.required,Is.minLength(1),Is.maxLength(3)]),this.intelligenzaForm=new Gu(0,[Is.required,Is.minLength(1),Is.maxLength(3)]),this.totaleStat=0}ngOnInit(){this.service.getAllRazze().subscribe(e=>this.razze=e)}getReligioni(){if("Druido"!=this.schedaPg.classe.nome){if("Druido"!==this.schedaPg.classe.nome)switch(this.schedaPg.razza.nome){case"Quenya":case"Telero":case"Sindar":this.service.getAllReligioni("Elfico").subscribe(e=>this.religioni=e);break;case"Umano comune":this.service.getAllReligioni("Umano").subscribe(e=>this.religioni=e);break;case"Nordico":this.service.getAllReligioni("Nordico").subscribe(e=>this.religioni=e);break;case"Nano":this.service.getAllReligioni("Nanico").subscribe(e=>this.religioni=e);break;case"Tremecciano":this.service.getAllReligioni("Tremecciano").subscribe(e=>this.religioni=e);break;case"Qwaylar":this.service.getAllReligioni("Qwaylar").subscribe(e=>this.religioni=e);break;case"Mezz'elfo":this.service.getAllReligioni().subscribe(e=>this.religioni=e)}}else this.service.getAllReligioni("Druidi").subscribe(e=>this.religioni=e)}selectSkills(){this.dialog.open(hX,{data:this.schedaPg}).afterClosed().subscribe(i=>{this.schedaPg.skills=i.data})}filterClassi(e){return e.filter(r=>null==r?.notRazze||!r.notRazze.includes(this.schedaPg.razza.nome))}getClassi(){this.service.getAllClass().subscribe(e=>this.classi=this.filterClassi(e))}checkForza(){this.schedaPg.stats.forza>120&&(this.schedaPg.stats.forza=120),this.schedaPg.stats.forza<0&&(this.schedaPg.stats.forza=1),this.totStat()}checkDestrezza(){this.schedaPg.stats.destrezza>120&&(this.schedaPg.stats.destrezza=120),this.schedaPg.stats.destrezza<0&&(this.schedaPg.stats.destrezza=1),this.totStat()}checkIntelligenza(){this.schedaPg.stats.intelligenza>120&&(this.schedaPg.stats.intelligenza=120),this.schedaPg.stats.intelligenza<0&&(this.schedaPg.stats.intelligenza=1),this.totStat()}autoSetStat(){if(this.statsChecked)switch(this.schedaPg.classe.nome){case"Guerriero":case"Berserker":this.schedaPg.stats.forza=120,this.schedaPg.stats.destrezza=79,this.schedaPg.stats.intelligenza=1;break;case"Mago":this.schedaPg.stats.forza=70,this.schedaPg.stats.destrezza=10,this.schedaPg.stats.intelligenza=120;break;case"Paladino":this.schedaPg.stats.forza=100,this.schedaPg.stats.destrezza=70,this.schedaPg.stats.intelligenza=30;break;case"Ranger":case"Geniere":this.schedaPg.stats.forza=79,this.schedaPg.stats.destrezza=120,this.schedaPg.stats.intelligenza=1;break;case"Chierico":this.schedaPg.stats.forza=79,this.schedaPg.stats.destrezza=10,this.schedaPg.stats.intelligenza=120;break;case"Bardo":this.schedaPg.stats.forza=99,this.schedaPg.stats.destrezza=100,this.schedaPg.stats.intelligenza=1;break;default:this.schedaPg.stats.forza=0,this.schedaPg.stats.intelligenza=0,this.schedaPg.stats.destrezza=0}else this.schedaPg.stats.forza=0,this.schedaPg.stats.intelligenza=0,this.schedaPg.stats.destrezza=0;this.totStat()}totStat(){this.totaleStat=this.schedaPg.stats.forza+this.schedaPg.stats.destrezza+this.schedaPg.stats.intelligenza,this.colorBar=this.totaleStat>200&&this.totaleStat<215?"accent":this.totaleStat>215?"warn":"primary"}openPaladino(){this.dialog.open(pX,{data:this.schedaPg.religione.nome})}checkSalva(){const e=this.schedaPg.stats;return 0!==e.forza&&0!==e.destrezza&&0!==e.intelligenza&&this.nomeForm.valid&&""!==this.schedaPg.religione.nome&&this.classeForm.valid&&this.razzaForm.valid&&this.schedaPg.skills.length>0}savePg(){let e=crypto.randomUUID();this.service.AddPg(this.schedaPg,e),this.schedaPg.skills.forEach(i=>{this.service.addSkillsPg(i,e)}),this.route.navigate(["/FinishWizardPg",{guid:e}])}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(HC),o.Y36(e1),o.Y36(ti))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-scheda-personaggio"]],decls:82,vars:37,consts:[["fxLayout","column","fxFlex",""],["fxLayout","row","fxLayoutAlign","space-around center",1,"title"],["fxLayout","row","fxLayoutAlign","space-around center",2,"text-align","center","margin-bottom","10px"],["fxLayout","row",2,"padding","10px"],["fxLayout","column","fxFlex","100",1,"firstForm"],["fxLayout","row","fxLayoutAlign","end center"],["mat-icon-button","","color","primary","aria-label","Example icon button with a heart icon",3,"click"],["fxLayout","row wrap","fxLayoutAlign","space-evenly center","fxFlex",""],["fxFlex.xs","100","fxFlex.sm","60","fxFlex.md","70","fxFlex.lg","100","fxFlex.xl","100"],["type","text","matInput","","placeholder","Nome pg","fxFlex","",3,"ngModel","formControl","ngModelChange"],[4,"ngIf"],["color","primary","fxFlex","",3,"ngModel","formControl","ngModelChange"],["color","primary",3,"value","click",4,"ngFor","ngForOf"],["color","primary",3,"disabled","value","click",4,"ngFor","ngForOf"],["color","primary",3,"value","disabled",4,"ngFor","ngForOf"],["fxLayout","column","fxFlex","100",1,"firstForm",2,"margin-top","3%"],["fxFlex","","fxlayout","column",1,"example-section",2,"padding-bottom","2%"],["color","primary",1,"example-margin",3,"ngModel","ngModelChange","change"],["type","number","matInput","","placeholder","Forza","fxFlex","",3,"ngModel","formControl","ngModelChange","keyup"],["type","number","matInput","","placeholder","Destrezza","fxFlex","",3,"ngModel","formControl","ngModelChange","keyup"],["type","number","matInput","","placeholder","Intelligenza","fxFlex","",3,"ngModel","formControl","ngModelChange","keyup"],[3,"color","value"],["div","","fxLayout","row wrap","fxLayoutAlign","center center"],[2,"margin-top","1%"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","class","green",3,"click",4,"ngIf"],["fxLayout","row",2,"margin","10px"],["fxLayout","row wrap","fxLayoutAlign","space-around center","fxFlex",""],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],["color","primary",3,"value","click"],["color","primary",3,"disabled","value","click"],["color","primary",3,"value","disabled"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",1,"green",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1),o._uU(2," Scheda Personaggio "),o.qZA(),o.TgZ(3,"div",2)(4,"b"),o._uU(5,"Compila il form e scarica il pdf con tutte le caratteristiche del tuo pg!"),o.qZA()(),o._UZ(6,"mat-divider",3),o.TgZ(7,"mat-card",4)(8,"mat-card-header")(9,"mat-card-title"),o._uU(10," Info generiche "),o.qZA()(),o.TgZ(11,"div",5)(12,"button",6),o.NdJ("click",function(){return i.openPaladino()}),o.TgZ(13,"mat-icon"),o._uU(14,"info"),o.qZA()()(),o.TgZ(15,"div",7)(16,"div")(17,"mat-form-field",8)(18,"input",9),o.NdJ("ngModelChange",function(s){return i.schedaPg.nome=s}),o.qZA(),o.YNc(19,gX,2,0,"mat-error",10),o.YNc(20,mX,2,0,"mat-error",10),o.qZA()(),o.TgZ(21,"div")(22,"mat-form-field",8)(23,"mat-label"),o._uU(24,"Razza"),o.qZA(),o.TgZ(25,"mat-select",11),o.NdJ("ngModelChange",function(s){return i.schedaPg.razza.nome=s}),o.YNc(26,_X,2,2,"mat-option",12),o.qZA(),o.YNc(27,yX,2,0,"mat-error",10),o.qZA()()(),o.TgZ(28,"div",7)(29,"div")(30,"mat-form-field",8)(31,"mat-label"),o._uU(32,"Classe"),o.qZA(),o.TgZ(33,"mat-select",11),o.NdJ("ngModelChange",function(s){return i.schedaPg.classe.nome=s}),o.YNc(34,vX,2,3,"mat-option",13),o.qZA(),o.YNc(35,bX,2,0,"mat-hint",10),o.YNc(36,wX,2,0,"mat-error",10),o.qZA()(),o.TgZ(37,"div")(38,"mat-form-field",8)(39,"mat-label"),o._uU(40,"Religione"),o.qZA(),o.TgZ(41,"mat-select",11),o.NdJ("ngModelChange",function(s){return i.schedaPg.religione=s}),o.YNc(42,CX,2,3,"mat-option",14),o.qZA(),o.YNc(43,EX,2,0,"mat-error",10),o.YNc(44,xX,2,0,"mat-hint",10),o.qZA()()()(),o.TgZ(45,"mat-card",15)(46,"mat-card-title"),o._uU(47," Stats "),o.qZA(),o.TgZ(48,"div")(49,"section",16)(50,"mat-checkbox",17),o.NdJ("ngModelChange",function(s){return i.statsChecked=s})("change",function(){return i.autoSetStat()}),o._uU(51,"Applica skills consigliate"),o.qZA()()(),o.TgZ(52,"div",7)(53,"div")(54,"mat-form-field",8)(55,"input",18),o.NdJ("ngModelChange",function(s){return i.schedaPg.stats.forza=s})("keyup",function(){return i.checkForza()}),o.qZA(),o.YNc(56,DX,2,0,"mat-error",10),o.qZA()(),o.TgZ(57,"div")(58,"mat-form-field",8)(59,"input",19),o.NdJ("ngModelChange",function(s){return i.schedaPg.stats.destrezza=s})("keyup",function(){return i.checkDestrezza()}),o.qZA(),o.YNc(60,SX,2,0,"mat-error",10),o.qZA()(),o.TgZ(61,"div")(62,"mat-form-field",8)(63,"input",20),o.NdJ("ngModelChange",function(s){return i.schedaPg.stats.intelligenza=s})("keyup",function(){return i.checkIntelligenza()}),o.qZA(),o.YNc(64,AX,2,0,"mat-error",10),o.qZA()(),o._UZ(65,"mat-progress-bar",21),o.qZA()(),o.TgZ(66,"div",22)(67,"div",23),o.YNc(68,IX,4,0,"button",24),o.YNc(69,TX,4,0,"button",25),o.qZA()(),o._UZ(70,"mat-divider",26),o.TgZ(71,"div",27)(72,"div",23)(73,"button",28),o.NdJ("click",function(){return i.selectSkills()}),o._uU(74,"Reset "),o.TgZ(75,"mat-icon"),o._uU(76,"undo"),o.qZA()()(),o.TgZ(77,"div",23)(78,"button",29),o.NdJ("click",function(){return i.savePg()}),o._uU(79,"Salva "),o.TgZ(80,"mat-icon"),o._uU(81,"done"),o.qZA()()()()()),2&e&&(o.xp6(12),o.Udp("visibility","Paladino"!==i.schedaPg.classe.nome||""===i.schedaPg.religione.nome?"hidden":"visible"),o.xp6(6),o.Q6J("ngModel",i.schedaPg.nome)("formControl",i.nomeForm),o.xp6(1),o.Q6J("ngIf",i.nomeForm.hasError("required")),o.xp6(1),o.Q6J("ngIf",i.nomeForm.hasError("minlength")),o.xp6(5),o.Q6J("ngModel",i.schedaPg.razza.nome)("formControl",i.razzaForm),o.xp6(1),o.Q6J("ngForOf",i.razze),o.xp6(1),o.Q6J("ngIf",i.classeForm.hasError("required")&&null==i.schedaPg.razza),o.xp6(6),o.Q6J("ngModel",i.schedaPg.classe.nome)("formControl",i.classeForm),o.xp6(1),o.Q6J("ngForOf",i.classi),o.xp6(1),o.Q6J("ngIf",i.religioni.length<1),o.xp6(1),o.Q6J("ngIf",i.classeForm.hasError("required")&&null==i.schedaPg.classe),o.xp6(5),o.Q6J("ngModel",i.schedaPg.religione)("formControl",i.religioneForm),o.xp6(1),o.Q6J("ngForOf",i.religioni),o.xp6(1),o.Q6J("ngIf",i.classeForm.hasError("required")&&null==i.schedaPg.religione.nome),o.xp6(1),o.Q6J("ngIf",void 0===i.schedaPg.classe.nome||void 0===i.schedaPg.classe.nome),o.xp6(5),o.Udp("visibility",void 0===i.schedaPg.classe.nome?"hidden":"visible"),o.xp6(1),o.Q6J("ngModel",i.statsChecked),o.xp6(5),o.Q6J("ngModel",i.schedaPg.stats.forza)("formControl",i.forzaForm),o.xp6(1),o.Q6J("ngIf",i.forzaForm.hasError("required")),o.xp6(3),o.Q6J("ngModel",i.schedaPg.stats.destrezza)("formControl",i.destrezzaForm),o.xp6(1),o.Q6J("ngIf",i.destrezzaForm.hasError("required")),o.xp6(3),o.Q6J("ngModel",i.schedaPg.stats.intelligenza)("formControl",i.intelligenzaForm),o.xp6(1),o.Q6J("ngIf",i.intelligenzaForm.hasError("required")),o.xp6(1),o.Q6J("color",i.colorBar)("value",i.totaleStat/2),o.xp6(3),o.Q6J("ngIf",0==i.schedaPg.skills.length),o.xp6(1),o.Q6J("ngIf",i.schedaPg.skills.length>0),o.xp6(9),o.Q6J("disabled",!i.checkSalva()))},dependencies:[os,gn,sb,pI,sI,BP,KC,F2,nE,oE,XA,rb,mE,j7,AH,q7,_I,OH,tP,WP,vI,bI,ZP,YP,KH],styles:[".content[_ngcontent-%COMP%]{height:calc(100vh - 130px);border-radius:10px;margin:16px 16px 16px 32px;padding:4px;overflow:auto}.home[_ngcontent-%COMP%]{border:2px solid black}.title[_ngcontent-%COMP%]{padding:15px;font-size:x-large;font-weight:700;font-family:Playfair Display,serif;color:#004a9f}.form[_ngcontent-%COMP%]{padding:10px;margin:10px}.firstForm[_ngcontent-%COMP%]{border:2px solid #004a9f;border-radius:10px;padding-left:3%;padding-right:3%;padding-bottom:3%;margin-right:15%;margin-left:15%}.green[_ngcontent-%COMP%]{background-color:#388e3c;color:#fff}"]}),n})()},{path:"FinishWizardPg",component:e9}];let kX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[JE.forRoot(MX),JE]}),n})();function XH(n){return new o.vHH(3e3,!1)}function hJ(){return typeof window<"u"&&typeof window.document<"u"}function t1(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Vp(n){switch(n.length){case 0:return new tE;case 1:return n[0];default:return new T2(n)}}function JH(n,t,e,i,r=new Map,s=new Map){const c=[],d=[];let g=-1,y=null;if(i.forEach(C=>{const D=C.get("offset"),k=D==g,P=k&&y||new Map;C.forEach((V,$)=>{let ee=$,Se=V;if("offset"!==$)switch(ee=t.normalizePropertyName(ee,c),Se){case"!":Se=r.get($);break;case Eh:Se=s.get($);break;default:Se=t.normalizeStyleValue($,ee,Se,c)}P.set(ee,Se)}),k||d.push(P),y=P,g=D}),c.length)throw function eJ(n){return new o.vHH(3502,!1)}();return d}function n1(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&r1(e,"start",n)));break;case"done":n.onDone(()=>i(e&&r1(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&r1(e,"destroy",n)))}}function r1(n,t,e){const s=s1(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),c=n._data;return null!=c&&(s._data=c),s}function s1(n,t,e,i,r="",s=0,c){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!c}}function ta(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function eG(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let o1=(n,t)=>!1,tG=(n,t,e)=>[],nG=null;function a1(n){const t=n.parentNode||n.host;return t===nG?null:t}(t1()||typeof Element<"u")&&(hJ()?(nG=(()=>document.documentElement)(),o1=(n,t)=>{for(;t;){if(t===n)return!0;t=a1(t)}return!1}):o1=(n,t)=>n.contains(t),tG=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let v_=null,iG=!1;const rG=o1,sG=tG;let oG=(()=>{class n{validateStyleProperty(e){return function pJ(n){v_||(v_=function gJ(){return typeof document<"u"?document.body:null}()||{},iG=!!v_.style&&"WebkitAppearance"in v_.style);let t=!0;return v_.style&&!function fJ(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in v_.style,!t&&iG&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in v_.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return rG(e,i)}getParentElement(e){return a1(e)}query(e,i,r){return sG(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,c,d=[],g){return new tE(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),l1=(()=>{class n{}return n.NOOP=new oG,n})();const c1="ng-enter",EI="ng-leave",xI="ng-trigger",DI=".ng-trigger",lG="ng-animating",u1=".ng-animating";function Ah(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:d1(parseFloat(t[1]),t[2])}function d1(n,t){return"s"===t?1e3*n:n}function SI(n,t,e){return n.hasOwnProperty("duration")?n:function yJ(n,t,e){let r,s=0,c="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return t.push(XH()),{duration:0,delay:0,easing:""};r=d1(parseFloat(d[1]),d[2]);const g=d[3];null!=g&&(s=d1(parseFloat(g),d[4]));const y=d[5];y&&(c=y)}else r=n;if(!e){let d=!1,g=t.length;r<0&&(t.push(function RX(){return new o.vHH(3100,!1)}()),d=!0),s<0&&(t.push(function OX(){return new o.vHH(3101,!1)}()),d=!0),d&&t.splice(g,0,XH())}return{duration:r,delay:s,easing:c}}(n,t,e)}function vE(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function cG(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Bp(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function dG(n,t,e){return e?t+":"+e+";":""}function hG(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=dG(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=dG(0,CJ(e),n.style[e]));n.setAttribute("style",t)}function ju(n,t,e){n.style&&(t.forEach((i,r)=>{const s=f1(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i}),t1()&&hG(n))}function b_(n,t){n.style&&(t.forEach((e,i)=>{const r=f1(i);n.style[r]=""}),t1()&&hG(n))}function bE(n){return Array.isArray(n)?1==n.length?n[0]:A2(n):n}const h1=new RegExp("{{\\s*(.+?)\\s*}}","g");function fG(n){let t=[];if("string"==typeof n){let e;for(;e=h1.exec(n);)t.push(e[1]);h1.lastIndex=0}return t}function wE(n,t,e){const i=n.toString(),r=i.replace(h1,(s,c)=>{let d=t[c];return null==d&&(e.push(function FX(n){return new o.vHH(3003,!1)}()),d=""),d.toString()});return r==i?n:r}function AI(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const wJ=/-+([a-z0-9])/g;function f1(n){return n.replace(wJ,(...t)=>t[1].toUpperCase())}function CJ(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function na(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function NX(n){return new o.vHH(3004,!1)}()}}function pG(n,t){return window.getComputedStyle(n)[t]}function IJ(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function TJ(n,t,e){if(":"==n[0]){const g=function MJ(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function KX(n){return new o.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof g)return void t.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function ZX(n){return new o.vHH(3015,!1)}()),t;const r=i[1],s=i[2],c=i[3];t.push(gG(r,c));"<"==s[0]&&!("*"==r&&"*"==c)&&t.push(gG(c,r))}(i,e,t)):e.push(n),e}const kI=new Set(["true","1"]),RI=new Set(["false","0"]);function gG(n,t){const e=kI.has(n)||RI.has(n),i=kI.has(t)||RI.has(t);return(r,s)=>{let c="*"==n||n==r,d="*"==t||t==s;return!c&&e&&"boolean"==typeof r&&(c=r?kI.has(n):RI.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?kI.has(t):RI.has(t)),c&&d}}const kJ=new RegExp("s*:selfs*,?","g");function p1(n,t,e,i){return new RJ(n).build(t,e,i)}class RJ{constructor(t){this._driver=t}build(t,e,i){const r=new FJ(e);return this._resetContextStyleTimingState(r),na(this,bE(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push(function VX(){return new o.vHH(3006,!1)}()),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),0==d.type){const g=d,y=g.name;y.toString().split(/\s*,\s*/).forEach(C=>{g.name=C,s.push(this.visitState(g,e))}),g.name=y}else if(1==d.type){const g=this.visitTransition(d,e);i+=g.queryCount,r+=g.depCount,c.push(g)}else e.errors.push(function BX(){return new o.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:c,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=r||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(g=>{fG(g).forEach(y=>{c.hasOwnProperty(y)||s.add(y)})})}),s.size&&(AI(s.values()),e.errors.push(function UX(n,t){return new o.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=na(this,bE(t.animation),e);return{type:1,matchers:IJ(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:w_(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>na(this,i,e)),options:w_(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(c=>{e.currentTime=i;const d=na(this,c,e);return r=Math.max(r,e.currentTime),d});return e.currentTime=r,{type:3,steps:s,options:w_(t.options)}}visitAnimate(t,e){const i=function LJ(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return g1(SI(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=g1(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=SI(e,t);return g1(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:Ti({});if(5==s.type)r=this.visitKeyframes(s,e);else{let c=t.styles,d=!1;if(!c){d=!0;const y={};i.easing&&(y.easing=i.easing),c=Ti(y)}e.currentTime+=i.duration+i.delay;const g=this.visitStyle(c,e);g.isEmptyStep=d,r=g}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let d of r)"string"==typeof d?d===Eh?i.push(d):e.errors.push(new o.vHH(3002,!1)):i.push(cG(d));let s=!1,c=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(c=d.get("easing"),d.delete("easing")),!s))for(let g of d.values())if(g.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:c,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(c=>{"string"!=typeof c&&c.forEach((d,g)=>{const y=e.collectedStyles.get(e.currentQuerySelector),C=y.get(g);let D=!0;C&&(s!=r&&s>=C.startTime&&r<=C.endTime&&(e.errors.push(function GX(n,t,e,i,r){return new o.vHH(3010,!1)}()),D=!1),s=C.startTime),D&&y.set(g,{startTime:s,endTime:r}),e.options&&function bJ(n,t,e){const i=t.params||{},r=fG(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function PX(n){return new o.vHH(3001,!1)}())})}(d,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function jX(){return new o.vHH(3011,!1)}()),i;let s=0;const c=[];let d=!1,g=!1,y=0;const C=t.steps.map(Se=>{const $e=this._makeStyleAst(Se,e);let tt=null!=$e.offset?$e.offset:function NJ(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}($e.styles),pt=0;return null!=tt&&(s++,pt=$e.offset=tt),g=g||pt<0||pt>1,d=d||pt<y,y=pt,c.push(pt),$e});g&&e.errors.push(function zX(){return new o.vHH(3012,!1)}()),d&&e.errors.push(function $X(){return new o.vHH(3200,!1)}());const D=t.steps.length;let k=0;s>0&&s<D?e.errors.push(function qX(){return new o.vHH(3202,!1)}()):0==s&&(k=1/(D-1));const P=D-1,V=e.currentTime,$=e.currentAnimateTimings,ee=$.duration;return C.forEach((Se,$e)=>{const tt=k>0?$e==P?1:k*$e:c[$e],pt=tt*ee;e.currentTime=V+$.delay+pt,$.duration=pt,this._validateStyleAst(Se,e),Se.offset=tt,i.styles.push(Se)}),i}visitReference(t,e){return{type:8,animation:na(this,bE(t.animation),e),options:w_(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:w_(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:w_(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,c]=function OJ(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(kJ,"")),n=n.replace(/@\*/g,DI).replace(/@\w+/g,e=>DI+"-"+e.slice(1)).replace(/:animating/g,u1),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,ta(e.collectedStyles,e.currentQuerySelector,new Map);const d=na(this,bE(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:d,originalSelector:t.selector,options:w_(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function WX(){return new o.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:SI(t.timings,e.errors,!0);return{type:12,animation:na(this,bE(t.animation),e),timings:i,options:null}}}class FJ{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function w_(n){return n?(n=vE(n)).params&&(n.params=function PJ(n){return n?vE(n):null}(n.params)):n={},n}function g1(n,t,e){return{duration:n,delay:t,easing:e}}function m1(n,t,e,i,r,s,c=null,d=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:d}}class OI{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const UJ=new RegExp(":enter","g"),GJ=new RegExp(":leave","g");function _1(n,t,e,i,r,s=new Map,c=new Map,d,g,y=[]){return(new jJ).buildKeyframes(n,t,e,i,r,s,c,d,g,y)}class jJ{buildKeyframes(t,e,i,r,s,c,d,g,y,C=[]){y=y||new OI;const D=new y1(t,e,y,r,s,C,[]);D.options=g;const k=g.delay?Ah(g.delay):0;D.currentTimeline.delayNextStep(k),D.currentTimeline.setStyles([c],null,D.errors,g),na(this,i,D);const P=D.timelines.filter(V=>V.containsAnimation());if(P.length&&d.size){let V;for(let $=P.length-1;$>=0;$--){const ee=P[$];if(ee.element===e){V=ee;break}}V&&!V.allowOnlyTimelineStyles()&&V.setStyles([d],null,D.errors,g)}return P.length?P.map(V=>V.buildKeyframes()):[m1(e,[],[],[],0,k,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);s!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const c="number"==typeof s?s:Ah(wE(s,r?.params??{},e.errors));i.delayNextStep(c)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const c=null!=i.duration?Ah(i.duration):null,d=null!=i.delay?Ah(i.delay):null;return 0!==c&&t.forEach(g=>{const y=e.appendInstructionToTimeline(g,c,d);s=Math.max(s,y.duration+y.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),na(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=PI);const c=Ah(s.delay);r.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>na(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Ah(t.options.delay):0;t.steps.forEach(c=>{const d=e.createSubContext(t.options);s&&d.delayNextStep(s),na(this,c,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return SI(e.params?wE(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,t.styles.forEach(g=>{d.forwardTime((g.offset||0)*s),d.setStyles(g.styles,g.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Ah(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=PI);let c=i;const d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=d.length;let g=null;d.forEach((y,C)=>{e.currentQueryIndex=C;const D=e.createSubContext(t.options,y);s&&D.delayNextStep(s),y===e.element&&(g=D.currentTimeline),na(this,t.animation,D),D.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,D.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),g&&(e.currentTimeline.mergeTimelineCollectedStyles(g),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,c=Math.abs(s.duration),d=c*(e.currentQueryTotal-1);let g=c*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":g=d-g;break;case"full":g=i.currentStaggerTime}const C=e.currentTimeline;g&&C.delayNextStep(g);const D=C.currentTime;na(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-D+(r.startTime-i.currentTimeline.startTime)}}const PI={};class y1{constructor(t,e,i,r,s,c,d,g){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=PI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new FI(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Ah(i.duration)),null!=i.delay&&(r.delay=Ah(i.delay));const s=i.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(d=>{(!e||!c.hasOwnProperty(d))&&(c[d]=wE(s[d],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new y1(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=PI,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new zJ(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,c){let d=[];if(r&&d.push(this.element),t.length>0){t=(t=t.replace(UJ,"."+this._enterClassName)).replace(GJ,"."+this._leaveClassName);let y=this._driver.query(this.element,t,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),d.push(...y)}return!s&&0==d.length&&c.push(function YX(n){return new o.vHH(3014,!1)}()),d}}class FI{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new FI(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Eh),this._currentKeyframe.set(e,Eh);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},c=function $J(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,Eh)}else Bp(r,e)}),e}(t,this._globalTimelineStyles);for(let[d,g]of c){const y=wE(g,s,i);this._pendingStyles.set(d,y),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??Eh),this._updateStyle(d,y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,g)=>{const y=Bp(d,new Map,this._backFill);y.forEach((C,D)=>{"!"===C?t.add(D):C===Eh&&e.add(D)}),i||y.set("offset",g/this.duration),r.push(y)});const s=t.size?AI(t.values()):[],c=e.size?AI(e.values()):[];if(i){const d=r[0],g=new Map(d);d.set("offset",0),g.set("offset",1),r=[d,g]}return m1(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class zJ extends FI{constructor(t,e,i,r,s,c,d=!1){super(t,e,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],c=i+e,d=e/c,g=Bp(t[0]);g.set("offset",0),s.push(g);const y=Bp(t[0]);y.set("offset",yG(d)),s.push(y);const C=t.length-1;for(let D=1;D<=C;D++){let k=Bp(t[D]);const P=k.get("offset");k.set("offset",yG((e+P*i)/c)),s.push(k)}i=c,e=0,r="",t=s}return m1(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function yG(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class v1{}const qJ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class WJ extends v1{normalizePropertyName(t,e){return f1(t)}normalizeStyleValue(t,e,i,r){let s="";const c=i.toString().trim();if(qJ.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function LX(n,t){return new o.vHH(3005,!1)}())}return c+s}}function vG(n,t,e,i,r,s,c,d,g,y,C,D,k){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:c,timelines:d,queriedElements:g,preStyleProps:y,postStyleProps:C,totalTime:D,errors:k}}const b1={};class bG{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function YJ(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,c,d,g,y,C){const D=[],k=this.ast.options&&this.ast.options.params||b1,V=this.buildStyles(i,d&&d.params||b1,D),$=g&&g.params||b1,ee=this.buildStyles(r,$,D),Se=new Set,$e=new Map,tt=new Map,pt="void"===r,It={params:ZJ($,k),delay:this.ast.options?.delay},Nt=C?[]:_1(t,e,this.ast.animation,s,c,V,ee,It,y,D);let Cn=0;if(Nt.forEach(Ih=>{Cn=Math.max(Ih.duration+Ih.delay,Cn)}),D.length)return vG(e,this._triggerName,i,r,pt,V,ee,[],[],$e,tt,Cn,D);Nt.forEach(Ih=>{const Th=Ih.element,QG=ta($e,Th,new Set);Ih.preStyleProps.forEach(C_=>QG.add(C_));const EE=ta(tt,Th,new Set);Ih.postStyleProps.forEach(C_=>EE.add(C_)),Th!==e&&Se.add(Th)});const _o=AI(Se.values());return vG(e,this._triggerName,i,r,pt,V,ee,Nt,_o,$e,tt,Cn)}}function ZJ(n,t){const e=vE(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class KJ{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=vE(this.defaultParams);return Object.keys(t).forEach(s=>{const c=t[s];null!==c&&(r[s]=c)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((c,d)=>{c&&(c=wE(c,r,e));const g=this.normalizer.normalizePropertyName(d,e);c=this.normalizer.normalizeStyleValue(d,g,c,e),i.set(g,c)})}),i}}class XJ{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new KJ(r.style,r.options&&r.options.params||{},i))}),wG(this.states,"true","1"),wG(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new bG(t,r,this.states))}),this.fallbackTransition=function JJ(n,t,e){return new bG(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,d)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(c=>c.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function wG(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const eee=new OI;class tee{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=p1(this._driver,e,i,[]);if(i.length)throw function tJ(n){return new o.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=JH(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let c;const d=new Map;if(s?(c=_1(this._driver,e,s,c1,EI,new Map,new Map,i,eee,r),c.forEach(C=>{const D=ta(d,C.element,new Map);C.postStyleProps.forEach(k=>D.set(k,null))})):(r.push(function nJ(){return new o.vHH(3300,!1)}()),c=[]),r.length)throw function iJ(n){return new o.vHH(3504,!1)}();d.forEach((C,D)=>{C.forEach((k,P)=>{C.set(P,this._driver.computeStyle(D,P,Eh))})});const y=Vp(c.map(C=>{const D=d.get(C.element);return this._buildPlayer(C,new Map,D)}));return this._playersById.set(t,y),y.onDestroy(()=>this.destroy(t)),this.players.push(y),y}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function rJ(n){return new o.vHH(3301,!1)}();return e}listen(t,e,i,r){const s=s1(e,"","","");return n1(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const CG="ng-animate-queued",w1="ng-animate-disabled",oee=[],EG={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},aee={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ol="__ng_removed";class C1{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function dee(n){return n??null}(i?t.value:t),i){const s=vE(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const CE="void",E1=new C1(CE);class lee{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,al(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function sJ(n,t){return new o.vHH(3302,!1)}();if(null==i||0==i.length)throw function oJ(n){return new o.vHH(3303,!1)}();if(!function hee(n){return"start"==n||"done"==n}(i))throw function aJ(n,t){return new o.vHH(3400,!1)}();const s=ta(this._elementListeners,t,[]),c={name:e,phase:i,callback:r};s.push(c);const d=ta(this._engine.statesByElement,t,new Map);return d.has(e)||(al(t,xI),al(t,xI+"-"+e),d.set(e,E1)),()=>{this._engine.afterFlush(()=>{const g=s.indexOf(c);g>=0&&s.splice(g,1),this._triggers.has(e)||d.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function lJ(n){return new o.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),c=new x1(this.id,e,t);let d=this._engine.statesByElement.get(t);d||(al(t,xI),al(t,xI+"-"+e),this._engine.statesByElement.set(t,d=new Map));let g=d.get(e);const y=new C1(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&y.absorbOptions(g.options),d.set(e,y),g||(g=E1),y.value!==CE&&g.value===y.value){if(!function gee(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(g.params,y.params)){const $=[],ee=s.matchStyles(g.value,g.params,$),Se=s.matchStyles(y.value,y.params,$);$.length?this._engine.reportError($):this._engine.afterFlush(()=>{b_(t,ee),ju(t,Se)})}return}const k=ta(this._engine.playersByElement,t,[]);k.forEach($=>{$.namespaceId==this.id&&$.triggerName==e&&$.queued&&$.destroy()});let P=s.matchTransition(g.value,y.value,t,y.params),V=!1;if(!P){if(!r)return;P=s.fallbackTransition,V=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:P,fromState:g,toState:y,player:c,isFallbackTransition:V}),V||(al(t,CG),c.onStart(()=>{ub(t,CG)})),c.onDone(()=>{let $=this.players.indexOf(c);$>=0&&this.players.splice($,1);const ee=this._engine.playersByElement.get(t);if(ee){let Se=ee.indexOf(c);Se>=0&&ee.splice(Se,1)}}),this.players.push(c),k.push(c),c}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,DI,!0);i.forEach(r=>{if(r[ol])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),c=new Map;if(s){const d=[];if(s.forEach((g,y)=>{if(c.set(y,g.value),this._triggers.has(y)){const C=this.trigger(t,y,CE,r);C&&d.push(C)}}),d.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,c),i&&Vp(d).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const g=this._triggers.get(c).fallbackTransition,y=i.get(c)||E1,C=new C1(CE),D=new x1(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:g,fromState:y,toState:C,player:D,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let c=t;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[ol];(!s||s===EG)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){al(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(d=>{if(d.name==i.triggerName){const g=s1(s,i.triggerName,i.fromState.value,i.toState.value);g._data=t,n1(i.player,d.phase,g,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class cee{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new lee(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,d=this.driver.getParentElement(e);for(;d;){const g=r.get(d);if(g){const y=i.indexOf(g);i.splice(y+1,0,t),c=!0;break}d=this.driver.getParentElement(d)}c||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(NI(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!NI(e))return;const s=e[ol];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),al(t,w1)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ub(t,w1))}removeNode(t,e,i,r){if(NI(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const c=this.namespacesByHostElement.get(e);c&&c.id!==t&&c.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[ol]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return NI(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,DI,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,u1,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Vp(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[ol];if(e&&e.setForRemoval){if(t[ol]=EG,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(w1)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)al(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Vp(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function cJ(n){return new o.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new OI,r=[],s=new Map,c=[],d=new Map,g=new Map,y=new Map,C=new Set;this.disabledNodes.forEach(mt=>{C.add(mt);const Tt=this.driver.query(mt,".ng-animate-queued",!0);for(let Bt=0;Bt<Tt.length;Bt++)C.add(Tt[Bt])});const D=this.bodyNode,k=Array.from(this.statesByElement.keys()),P=SG(k,this.collectedEnterElements),V=new Map;let $=0;P.forEach((mt,Tt)=>{const Bt=c1+$++;V.set(Tt,Bt),mt.forEach(In=>al(In,Bt))});const ee=[],Se=new Set,$e=new Set;for(let mt=0;mt<this.collectedLeaveElements.length;mt++){const Tt=this.collectedLeaveElements[mt],Bt=Tt[ol];Bt&&Bt.setForRemoval&&(ee.push(Tt),Se.add(Tt),Bt.hasAnimation?this.driver.query(Tt,".ng-star-inserted",!0).forEach(In=>Se.add(In)):$e.add(Tt))}const tt=new Map,pt=SG(k,Array.from(Se));pt.forEach((mt,Tt)=>{const Bt=EI+$++;tt.set(Tt,Bt),mt.forEach(In=>al(In,Bt))}),t.push(()=>{P.forEach((mt,Tt)=>{const Bt=V.get(Tt);mt.forEach(In=>ub(In,Bt))}),pt.forEach((mt,Tt)=>{const Bt=tt.get(Tt);mt.forEach(In=>ub(In,Bt))}),ee.forEach(mt=>{this.processLeaveNode(mt)})});const It=[],Nt=[];for(let mt=this._namespaceList.length-1;mt>=0;mt--)this._namespaceList[mt].drainQueuedTransitions(e).forEach(Bt=>{const In=Bt.player,es=Bt.element;if(It.push(In),this.collectedEnterElements.length){const Zs=es[ol];if(Zs&&Zs.setForMove){if(Zs.previousTriggersValues&&Zs.previousTriggersValues.has(Bt.triggerName)){const E_=Zs.previousTriggersValues.get(Bt.triggerName),ll=this.statesByElement.get(Bt.element);if(ll&&ll.has(Bt.triggerName)){const BI=ll.get(Bt.triggerName);BI.value=E_,ll.set(Bt.triggerName,BI)}}return void In.destroy()}}const zu=!D||!this.driver.containsElement(D,es),ia=tt.get(es),Up=V.get(es),Gi=this._buildInstruction(Bt,i,Up,ia,zu);if(Gi.errors&&Gi.errors.length)return void Nt.push(Gi);if(zu)return In.onStart(()=>b_(es,Gi.fromStyles)),In.onDestroy(()=>ju(es,Gi.toStyles)),void r.push(In);if(Bt.isFallbackTransition)return In.onStart(()=>b_(es,Gi.fromStyles)),In.onDestroy(()=>ju(es,Gi.toStyles)),void r.push(In);const ej=[];Gi.timelines.forEach(Zs=>{Zs.stretchStartingKeyframe=!0,this.disabledNodes.has(Zs.element)||ej.push(Zs)}),Gi.timelines=ej,i.append(es,Gi.timelines),c.push({instruction:Gi,player:In,element:es}),Gi.queriedElements.forEach(Zs=>ta(d,Zs,[]).push(In)),Gi.preStyleProps.forEach((Zs,E_)=>{if(Zs.size){let ll=g.get(E_);ll||g.set(E_,ll=new Set),Zs.forEach((BI,I1)=>ll.add(I1))}}),Gi.postStyleProps.forEach((Zs,E_)=>{let ll=y.get(E_);ll||y.set(E_,ll=new Set),Zs.forEach((BI,I1)=>ll.add(I1))})});if(Nt.length){const mt=[];Nt.forEach(Tt=>{mt.push(function uJ(n,t){return new o.vHH(3505,!1)}())}),It.forEach(Tt=>Tt.destroy()),this.reportError(mt)}const Cn=new Map,_o=new Map;c.forEach(mt=>{const Tt=mt.element;i.has(Tt)&&(_o.set(Tt,Tt),this._beforeAnimationBuild(mt.player.namespaceId,mt.instruction,Cn))}),r.forEach(mt=>{const Tt=mt.element;this._getPreviousPlayers(Tt,!1,mt.namespaceId,mt.triggerName,null).forEach(In=>{ta(Cn,Tt,[]).push(In),In.destroy()})});const Ih=ee.filter(mt=>IG(mt,g,y)),Th=new Map;DG(Th,this.driver,$e,y,Eh).forEach(mt=>{IG(mt,g,y)&&Ih.push(mt)});const EE=new Map;P.forEach((mt,Tt)=>{DG(EE,this.driver,new Set(mt),g,"!")}),Ih.forEach(mt=>{const Tt=Th.get(mt),Bt=EE.get(mt);Th.set(mt,new Map([...Array.from(Tt?.entries()??[]),...Array.from(Bt?.entries()??[])]))});const C_=[],XG=[],JG={};c.forEach(mt=>{const{element:Tt,player:Bt,instruction:In}=mt;if(i.has(Tt)){if(C.has(Tt))return Bt.onDestroy(()=>ju(Tt,In.toStyles)),Bt.disabled=!0,Bt.overrideTotalTime(In.totalTime),void r.push(Bt);let es=JG;if(_o.size>1){let ia=Tt;const Up=[];for(;ia=ia.parentNode;){const Gi=_o.get(ia);if(Gi){es=Gi;break}Up.push(ia)}Up.forEach(Gi=>_o.set(Gi,es))}const zu=this._buildAnimation(Bt.namespaceId,In,Cn,s,EE,Th);if(Bt.setRealPlayer(zu),es===JG)C_.push(Bt);else{const ia=this.playersByElement.get(es);ia&&ia.length&&(Bt.parentPlayer=Vp(ia)),r.push(Bt)}}else b_(Tt,In.fromStyles),Bt.onDestroy(()=>ju(Tt,In.toStyles)),XG.push(Bt),C.has(Tt)&&r.push(Bt)}),XG.forEach(mt=>{const Tt=s.get(mt.element);if(Tt&&Tt.length){const Bt=Vp(Tt);mt.setRealPlayer(Bt)}}),r.forEach(mt=>{mt.parentPlayer?mt.syncPlayerEvents(mt.parentPlayer):mt.destroy()});for(let mt=0;mt<ee.length;mt++){const Tt=ee[mt],Bt=Tt[ol];if(ub(Tt,EI),Bt&&Bt.hasAnimation)continue;let In=[];if(d.size){let zu=d.get(Tt);zu&&zu.length&&In.push(...zu);let ia=this.driver.query(Tt,u1,!0);for(let Up=0;Up<ia.length;Up++){let Gi=d.get(ia[Up]);Gi&&Gi.length&&In.push(...Gi)}}const es=In.filter(zu=>!zu.destroyed);es.length?fee(this,Tt,es):this.processLeaveNode(Tt)}return ee.length=0,C_.forEach(mt=>{this.players.push(mt),mt.onDone(()=>{mt.destroy();const Tt=this.players.indexOf(mt);this.players.splice(Tt,1)}),mt.play()}),C_}elementContainsData(t,e){let i=!1;const r=e[ol];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let c=[];if(e){const d=this.playersByQueriedElement.get(t);d&&(c=d)}else{const d=this.playersByElement.get(t);if(d){const g=!s||s==CE;d.forEach(y=>{y.queued||!g&&y.triggerName!=r||c.push(y)})}}return(i||r)&&(c=c.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),c}_beforeAnimationBuild(t,e,i){const s=e.element,c=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:e.triggerName;for(const g of e.timelines){const y=g.element,C=y!==s,D=ta(i,y,[]);this._getPreviousPlayers(y,C,c,d,e.toState).forEach(P=>{const V=P.getRealPlayer();V.beforeDestroy&&V.beforeDestroy(),P.destroy(),D.push(P)})}b_(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,c){const d=e.triggerName,g=e.element,y=[],C=new Set,D=new Set,k=e.timelines.map(V=>{const $=V.element;C.add($);const ee=$[ol];if(ee&&ee.removedBeforeQueried)return new tE(V.duration,V.delay);const Se=$!==g,$e=function pee(n){const t=[];return AG(n,t),t}((i.get($)||oee).map(Cn=>Cn.getRealPlayer())).filter(Cn=>!!Cn.element&&Cn.element===$),tt=s.get($),pt=c.get($),It=JH(0,this._normalizer,0,V.keyframes,tt,pt),Nt=this._buildPlayer(V,It,$e);if(V.subTimeline&&r&&D.add($),Se){const Cn=new x1(t,d,$);Cn.setRealPlayer(Nt),y.push(Cn)}return Nt});y.forEach(V=>{ta(this.playersByQueriedElement,V.element,[]).push(V),V.onDone(()=>function uee(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,V.element,V))}),C.forEach(V=>al(V,lG));const P=Vp(k);return P.onDestroy(()=>{C.forEach(V=>ub(V,lG)),ju(g,e.toStyles)}),D.forEach(V=>{ta(r,V,[]).push(P)}),P}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new tE(t.duration,t.delay)}}class x1{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new tE,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>n1(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ta(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function NI(n){return n&&1===n.nodeType}function xG(n,t){const e=n.style.display;return n.style.display=t??"none",e}function DG(n,t,e,i,r){const s=[];e.forEach(g=>s.push(xG(g)));const c=[];i.forEach((g,y)=>{const C=new Map;g.forEach(D=>{const k=t.computeStyle(y,D,r);C.set(D,k),(!k||0==k.length)&&(y[ol]=aee,c.push(y))}),n.set(y,C)});let d=0;return e.forEach(g=>xG(g,s[d++])),c}function SG(n,t){const e=new Map;if(n.forEach(d=>e.set(d,[])),0==t.length)return e;const r=new Set(t),s=new Map;function c(d){if(!d)return 1;let g=s.get(d);if(g)return g;const y=d.parentNode;return g=e.has(y)?y:r.has(y)?1:c(y),s.set(d,g),g}return t.forEach(d=>{const g=c(d);1!==g&&e.get(g).push(d)}),e}function al(n,t){n.classList?.add(t)}function ub(n,t){n.classList?.remove(t)}function fee(n,t,e){Vp(e).onDone(()=>n.processLeaveNode(t))}function AG(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof T2?AG(i.players,t):t.push(i)}}function IG(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class LI{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new cee(t,e,i),this._timelineEngine=new tee(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const c=t+"-"+r;let d=this._triggerCache[c];if(!d){const g=[],C=p1(this._driver,s,g,[]);if(g.length)throw function JX(n,t){return new o.vHH(3404,!1)}();d=function QJ(n,t,e){return new XJ(n,t,e)}(r,C,this._normalizer),this._triggerCache[c]=d}this._transitionEngine.registerTrigger(e,r,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,c]=eG(i);this._timelineEngine.command(s,e,c,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[c,d]=eG(i);return this._timelineEngine.listen(c,e,d,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let _ee=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&ju(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ju(this._element,this._initialStyles),this._endStyles&&(ju(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(b_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(b_(this._element,this._endStyles),this._endStyles=null),ju(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function D1(n){let t=null;return n.forEach((e,i)=>{(function yee(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class TG{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:pG(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class vee{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return rG(t,e)}getParentElement(t){return a1(t)}query(t,e,i){return sG(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,c=[]){const g={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(g.easing=s);const y=new Map,C=c.filter(P=>P instanceof TG);(function EJ(n,t){return 0===n||0===t})(i,r)&&C.forEach(P=>{P.currentSnapshot.forEach((V,$)=>y.set($,V))});let D=function vJ(n){return n.length?n[0]instanceof Map?n:n.map(t=>cG(t)):[]}(e).map(P=>Bp(P));D=function xJ(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,c)=>{i.has(c)||r.push(c),i.set(c,s)}),r.length)for(let s=1;s<t.length;s++){let c=t[s];r.forEach(d=>c.set(d,pG(n,d)))}}return t}(t,D,y);const k=function mee(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=D1(t[0]),t.length>1&&(i=D1(t[t.length-1]))):t instanceof Map&&(e=D1(t)),e||i?new _ee(n,e,i):null}(t,D);return new TG(t,D,g,k)}}let bee=(()=>{class n extends D2{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?A2(e):e;return MG(this._renderer,null,i,"register",[r]),new wee(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(X))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class wee extends T4{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Cee(this._id,t,e||{},this._renderer)}}class Cee{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return MG(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function MG(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const kG="@.disabled";let Eee=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,c)=>{const d=c?.parentNode(s);d&&c.removeChild(d,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let C=this._rendererCache.get(s);return C||(C=new RG("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,C)),C}const c=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,e);const g=C=>{Array.isArray(C)?C.forEach(g):this.engine.registerTrigger(c,d,e,C.name,C)};return i.data.animation.forEach(g),new xee(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,d]=s;c(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(LI),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class RG{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==kG?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class xee extends RG{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==kG?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function Dee(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),c="";return"@"!=s.charAt(0)&&([s,c]=function See(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(t,e,i)}}let Aee=(()=>{class n extends LI{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(X),o.LFG(l1),o.LFG(v1),o.LFG(o.z2F))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const OG=[{provide:D2,useClass:bee},{provide:v1,useFactory:function Iee(){return new WJ}},{provide:LI,useClass:Aee},{provide:o.FYo,useFactory:function Tee(n,t,e){return new Eee(n,t,e)},deps:[Fs,LI,o.R0b]}],S1=[{provide:l1,useFactory:()=>new vee},{provide:o.QbO,useValue:"BrowserAnimations"},...OG],PG=[{provide:l1,useClass:oG},{provide:o.QbO,useValue:"NoopAnimations"},...OG];let Mee=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?PG:S1}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:S1,imports:[jc]}),n})(),FG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),jee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[FG,BA,xn,kA,FG,xn]}),n})(),HG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[pP]}),n})(),ZG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[pP]}),n})(),Tne=(()=>{class n{constructor(e,i){ls(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:_c,useValue:{...gP,...e}},{provide:mP,useValue:i,multi:!0},{provide:nb,useValue:!0}]:[{provide:_c,useValue:{...gP,...e}},{provide:mP,useValue:i,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(nb),o.LFG(o.Lbi))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[oU,HG,ZG,oU,HG,ZG]}),n})();const KG_firebaseConfig={apiKey:"AIzaSyBNWbqdAaq44dWHELm2m1jU0xY6graA9uo",authDomain:"rotiniel-35c5b.firebaseapp.com",projectId:"rotiniel-35c5b",storageBucket:"rotiniel-35c5b.appspot.com",messagingSenderId:"546264380520",appId:"1:546264380520:web:b09f4bc5e62c611818f7dd",measurementId:"G-VXQ0LYQVDB"};let Mne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[CU]}),n.\u0275inj=o.cJS({providers:[iE,e1],imports:[jc,kX,Mee,jee,dY,x7,JB,s4,JB,j4,z4,Z4,wU,cE,wU,Tne,s5,KZ,bs.hO.initializeApp(KG_firebaseConfig),Gz,Kz,E7,yQ,xQ,LQ,zQ,y9,N9,j9]}),n})();(0,o.G48)(),Sl().bootstrapModule(Mne).catch(n=>console.error(n))},2011:(ct,Ee,F)=>{F.d(Ee,{Dh:()=>he,GT:()=>me,cc:()=>Me,hO:()=>Ue,on:()=>j,pX:()=>ce,xv:()=>de});var o=F(4650),J=F(127),L=F(5813);ct=F.hmd(ct);const ae=["ngOnDestroy"],ce=(we,ge,ke,Be={})=>new Proxy(we,{get:(ot,Ne)=>ke.runOutsideAngular(()=>{var Qe;if(we[Ne])return!(null===(Qe=Be?.spy)||void 0===Qe)&&Qe.get&&Be.spy.get(Ne,we[Ne]),we[Ne];if(ae.indexOf(Ne)>-1)return()=>{};const He=ge.toPromise().then(fe=>{const q=fe&&fe[Ne];return"function"==typeof q?q.bind(fe):q&&q.then?q.then(ie=>ke.run(()=>ie)):ke.run(()=>q)});return new Proxy(()=>{},{get:(fe,q)=>He[q],apply:(fe,q,ie)=>He.then(re=>{var xe;const _e=re&&re(...ie);return!(null===(xe=Be?.spy)||void 0===xe)&&xe.apply&&Be.spy.apply(Ne,ie,_e),_e})})})}),me=(we,ge)=>{ge.forEach(ke=>{Object.getOwnPropertyNames(ke.prototype||ke).forEach(Be=>{Object.defineProperty(we.prototype,Be,Object.getOwnPropertyDescriptor(ke.prototype||ke,Be))})})};class X{constructor(ge){return ge}}const he=new o.OlP("angularfire2.app.options"),de=new o.OlP("angularfire2.app.name");function j(we,ge,ke){const ot="object"==typeof ke&&ke||{};ot.name=ot.name||"string"==typeof ke&&ke||"[DEFAULT]";const Qe=J.Z.apps.filter(He=>He&&He.name===ot.name)[0]||ge.runOutsideAngular(()=>J.Z.initializeApp(we,ot));try{JSON.stringify(we)!==JSON.stringify(Qe.options)&&W("error",`${Qe.name} Firebase App already initialized with different options${ct.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new X(Qe)}const W=(we,...ge)=>{(0,o.X6Q)()&&typeof console<"u"&&console[we](...ge)},Q={provide:X,useFactory:j,deps:[he,o.R0b,[new o.FiY,de]]};let Ue=(()=>{class we{constructor(ke){J.Z.registerVersion("angularfire",L.q4.full,"core"),J.Z.registerVersion("angularfire",L.q4.full,"app-compat"),J.Z.registerVersion("angular",o.q4F.full,ke.toString())}static initializeApp(ke,Be){return{ngModule:we,providers:[{provide:he,useValue:ke},{provide:de,useValue:Be}]}}}return we.\u0275fac=function(ke){return new(ke||we)(o.LFG(o.Lbi))},we.\u0275mod=o.oAB({type:we}),we.\u0275inj=o.cJS({providers:[Q]}),we})();function Me(we,ge,ke,Be,ot){const[,Ne,Qe]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===we)||[];if(Ne)return function We(we,ge){try{return we.toString()===ge.toString()}catch{return we===ge}}(ot,Qe)||(pe("error",`${ge} was already initialized on the ${ke} Firebase App with different settings.${it?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:ot,was:Qe})),Ne;{const He=Be();return globalThis.\u0275AngularfireInstanceCache.push([we,He,ot]),He}}const it=!!ct.hot,pe=(we,...ge)=>{(0,o.X6Q)()&&typeof console<"u"&&console[we](...ge)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ct,Ee,F)=>{F.d(Ee,{q4:()=>vb,iC:()=>ro,HU:()=>Jn,vb:()=>lt,JM:()=>Je});var o=F(4650),J=F(5867),L=F(5861),ae=F(9681),ce=F(2090),me=F(4859),X=F(1877),he=F(8766);const de="@firebase/installations",j="0.5.16",Q=`w:${j}`,Ue="FIS_v2",ge=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ke(S){return S instanceof ce.ZR&&S.code.includes("request-failed")}function Be({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function ot(S){return{token:S.token,requestStatus:2,expiresIn:re(S.expiresIn),creationTime:Date.now()}}function Ne(S,I){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,L.Z)(function*(S,I){const B=(yield I.json()).error;return ge.create("request-failed",{requestName:S,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function He({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function fe(S,{refreshToken:I}){const R=He(S);return R.append("Authorization",function xe(S){return`${Ue} ${S}`}(I)),R}function q(S){return ie.apply(this,arguments)}function ie(){return(ie=(0,L.Z)(function*(S){const I=yield S();return I.status>=500&&I.status<600?S():I})).apply(this,arguments)}function re(S){return Number(S.replace("s","000"))}function _e(S,I){return Le.apply(this,arguments)}function Le(){return(Le=(0,L.Z)(function*({appConfig:S,heartbeatServiceProvider:I},{fid:R}){const B=Be(S),K=He(S),oe=I.getImmediate({optional:!0});if(oe){const Pt=yield oe.getHeartbeatsHeader();Pt&&K.append("x-firebase-client",Pt)}const je={method:"POST",headers:K,body:JSON.stringify({fid:R,authVersion:Ue,appId:S.appId,sdkVersion:Q})},gt=yield q(()=>fetch(B,je));if(gt.ok){const Pt=yield gt.json();return{fid:Pt.fid||R,registrationStatus:2,refreshToken:Pt.refreshToken,authToken:ot(Pt.authToken)}}throw yield Ne("Create Installation",gt)})).apply(this,arguments)}function wt(S){return new Promise(I=>{setTimeout(I,S)})}const Yn=/^[cdef][\w-]{21}$/;function ki(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const R=function sn(S){return function Wt(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return Yn.test(R)?R:""}catch{return""}}function at(S){return`${S.appName}!${S.appId}`}const jn=new Map;function Br(S,I){const R=at(S);ra(R,I),function ts(S,I){const R=function vn(){return!Xi&&"BroadcastChannel"in self&&(Xi=new BroadcastChannel("[Firebase] FID Change"),Xi.onmessage=S=>{ra(S.data.key,S.data.fid)}),Xi}();R&&R.postMessage({key:S,fid:I}),function Vn(){0===jn.size&&Xi&&(Xi.close(),Xi=null)}()}(R,I)}function ra(S,I){const R=jn.get(S);if(R)for(const B of R)B(I)}let Xi=null;const pr="firebase-installations-store";let Oe=null;function Ri(){return Oe||(Oe=(0,he.X3)("firebase-installations-database",1,{upgrade:(S,I)=>{0===I&&S.createObjectStore(pr)}})),Oe}function an(S,I){return gr.apply(this,arguments)}function gr(){return(gr=(0,L.Z)(function*(S,I){const R=at(S),K=(yield Ri()).transaction(pr,"readwrite"),oe=K.objectStore(pr),Ie=yield oe.get(R);return yield oe.put(I,R),yield K.done,(!Ie||Ie.fid!==I.fid)&&Br(S,I.fid),I})).apply(this,arguments)}function nt(S){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,L.Z)(function*(S){const I=at(S),B=(yield Ri()).transaction(pr,"readwrite");yield B.objectStore(pr).delete(I),yield B.done})).apply(this,arguments)}function Qs(S,I){return zn.apply(this,arguments)}function zn(){return(zn=(0,L.Z)(function*(S,I){const R=at(S),K=(yield Ri()).transaction(pr,"readwrite"),oe=K.objectStore(pr),Ie=yield oe.get(R),je=I(Ie);return void 0===je?yield oe.delete(R):yield oe.put(je,R),yield K.done,je&&(!Ie||Ie.fid!==je.fid)&&Br(S,je.fid),je})).apply(this,arguments)}function Ei(S){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,L.Z)(function*(S){let I;const R=yield Qs(S.appConfig,B=>{const K=Vt(B),oe=vt(S,K);return I=oe.registrationPromise,oe.installationEntry});return""===R.fid?{installationEntry:yield I}:{installationEntry:R,registrationPromise:I}})).apply(this,arguments)}function Vt(S){return on(S||{fid:ki(),registrationStatus:0})}function vt(S,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(ge.create("app-offline"))};const R={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},B=function bt(S,I){return ns.apply(this,arguments)}(S,R);return{installationEntry:R,registrationPromise:B}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Ji(S)}:{installationEntry:I}}function ns(){return(ns=(0,L.Z)(function*(S,I){try{const R=yield _e(S,I);return an(S.appConfig,R)}catch(R){throw ke(R)&&409===R.customData.serverCode?yield nt(S.appConfig):yield an(S.appConfig,{fid:I.fid,registrationStatus:0}),R}})).apply(this,arguments)}function Ji(S){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,L.Z)(function*(S){let I=yield is(S.appConfig);for(;1===I.registrationStatus;)yield wt(100),I=yield is(S.appConfig);if(0===I.registrationStatus){const{installationEntry:R,registrationPromise:B}=yield Ei(S);return B||R}return I})).apply(this,arguments)}function is(S){return Qs(S,I=>{if(!I)throw ge.create("installation-not-found");return on(I)})}function on(S){return function $n(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function Dn(S,I){return Js.apply(this,arguments)}function Js(){return(Js=(0,L.Z)(function*({appConfig:S,heartbeatServiceProvider:I},R){const B=nn(S,R),K=fe(S,R),oe=I.getImmediate({optional:!0});if(oe){const Pt=yield oe.getHeartbeatsHeader();Pt&&K.append("x-firebase-client",Pt)}const je={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:Q,appId:S.appId}})},gt=yield q(()=>fetch(B,je));if(gt.ok)return ot(yield gt.json());throw yield Ne("Generate Auth Token",gt)})).apply(this,arguments)}function nn(S,{fid:I}){return`${Be(S)}/${I}/authTokens:generate`}function Kn(S){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,L.Z)(function*(S,I=!1){let R;const B=yield Qs(S.appConfig,oe=>{if(!Kt(oe))throw ge.create("not-registered");const Ie=oe.authToken;if(!I&&z(Ie))return oe;if(1===Ie.requestStatus)return R=Ge(S,I),oe;{if(!navigator.onLine)throw ge.create("app-offline");const je=Z(oe);return R=Mt(S,je),je}});return R?yield R:B.authToken})).apply(this,arguments)}function Ge(S,I){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,L.Z)(function*(S,I){let R=yield Xe(S.appConfig);for(;1===R.authToken.requestStatus;)yield wt(100),R=yield Xe(S.appConfig);const B=R.authToken;return 0===B.requestStatus?Kn(S,I):B})).apply(this,arguments)}function Xe(S){return Qs(S,I=>{if(!Kt(I))throw ge.create("not-registered");return function ye(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Mt(S,I){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,L.Z)(function*(S,I){try{const R=yield Dn(S,I),B=Object.assign(Object.assign({},I),{authToken:R});return yield an(S.appConfig,B),R}catch(R){if(!ke(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const B=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield an(S.appConfig,B)}else yield nt(S.appConfig);throw R}})).apply(this,arguments)}function Kt(S){return void 0!==S&&2===S.registrationStatus}function z(S){return 2===S.requestStatus&&!function G(S){const I=Date.now();return I<S.creationTime||S.creationTime+S.expiresIn<I+36e5}(S)}function Z(S){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:I})}function ut(){return(ut=(0,L.Z)(function*(S){const I=S,{installationEntry:R,registrationPromise:B}=yield Ei(I);return B?B.catch(console.error):Kn(I).catch(console.error),R.fid})).apply(this,arguments)}function Qt(){return(Qt=(0,L.Z)(function*(S,I=!1){const R=S;return yield Rn(R),(yield Kn(R,I)).token})).apply(this,arguments)}function Rn(S){return xt.apply(this,arguments)}function xt(){return(xt=(0,L.Z)(function*(S){const{registrationPromise:I}=yield Ei(S);I&&(yield I)})).apply(this,arguments)}function ul(S){return ge.create("missing-app-config-values",{valueName:S})}const $u="installations",dl=S=>{const I=S.getProvider("app").getImmediate(),R=function cl(S){if(!S||!S.options)throw ul("App Configuration");if(!S.name)throw ul("App Name");const I=["projectId","apiKey","appId"];for(const R of I)if(!S.options[R])throw ul(R);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(I);return{app:I,appConfig:R,heartbeatServiceProvider:(0,ae._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},qu=S=>{const I=S.getProvider("app").getImmediate(),R=(0,ae._getProvider)(I,$u).getImmediate();return{getId:()=>function se(S){return ut.apply(this,arguments)}(R),getToken:K=>function Gt(S){return Qt.apply(this,arguments)}(R,K)}};(function aa(){(0,ae._registerComponent)(new me.wA($u,dl,"PUBLIC")),(0,ae._registerComponent)(new me.wA("installations-internal",qu,"PRIVATE"))})(),(0,ae.registerVersion)(de,j),(0,ae.registerVersion)(de,j,"esm2017");const rs="@firebase/remote-config",Un=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ts{constructor(I,R,B,K){this.client=I,this.storage=R,this.storageCache=B,this.logger=K}isCachedDataFresh(I,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-R,K=B<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${K}.`),K}fetch(I){var R=this;return(0,L.Z)(function*(){const[B,K]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(K&&R.isCachedDataFresh(I.cacheMaxAgeMillis,B))return K;I.eTag=K&&K.eTag;const oe=yield R.client.fetch(I),Ie=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===oe.status&&Ie.push(R.storage.setLastSuccessfulFetchResponse(oe)),yield Promise.all(Ie),oe})()}}function as(S=navigator){return S.languages&&S.languages[0]||S.language}class vc{constructor(I,R,B,K,oe,Ie){this.firebaseInstallations=I,this.sdkVersion=R,this.namespace=B,this.projectId=K,this.apiKey=oe,this.appId=Ie}fetch(I){var R=this;return(0,L.Z)(function*(){var B,K,oe;const[Ie,je]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Pt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,kt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},ft={sdk_version:R.sdkVersion,app_instance_id:Ie,app_instance_id_token:je,app_id:R.appId,language_code:as()},Hn={method:"POST",headers:kt,body:JSON.stringify(ft)},Ni=fetch(Pt,Hn),ai=new Promise((Eo,An)=>{I.signal.addEventListener(()=>{const Gn=new Error("The operation was aborted.");Gn.name="AbortError",An(Gn)})});let ys;try{yield Promise.race([Ni,ai]),ys=yield Ni}catch(Eo){let An="fetch-client-network";throw"AbortError"===(null===(B=Eo)||void 0===B?void 0:B.name)&&(An="fetch-timeout"),Un.create(An,{originalErrorMessage:null===(K=Eo)||void 0===K?void 0:K.message})}let Pr=ys.status;const mi=ys.headers.get("ETag")||void 0;let En,Fr;if(200===ys.status){let Eo;try{Eo=yield ys.json()}catch(An){throw Un.create("fetch-client-parse",{originalErrorMessage:null===(oe=An)||void 0===oe?void 0:oe.message})}En=Eo.entries,Fr=Eo.state}if("INSTANCE_STATE_UNSPECIFIED"===Fr?Pr=500:"NO_CHANGE"===Fr?Pr=304:("NO_TEMPLATE"===Fr||"EMPTY_CONFIG"===Fr)&&(En={}),304!==Pr&&200!==Pr)throw Un.create("fetch-status",{httpStatus:Pr});return{status:Pr,eTag:mi,config:En}})()}}class ca{constructor(I,R){this.client=I,this.storage=R}fetch(I){var R=this;return(0,L.Z)(function*(){const B=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(I,B)})()}attemptFetch(I,{throttleEndTimeMillis:R,backoffCount:B}){var K=this;return(0,L.Z)(function*(){yield function Rr(S,I){return new Promise((R,B)=>{const K=Math.max(I-Date.now(),0),oe=setTimeout(R,K);S.addEventListener(()=>{clearTimeout(oe),B(Un.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,R);try{const oe=yield K.client.fetch(I);return yield K.storage.deleteThrottleMetadata(),oe}catch(oe){if(!function Mn(S){if(!(S instanceof ce.ZR&&S.customData))return!1;const I=Number(S.customData.httpStatus);return 429===I||500===I||503===I||504===I}(oe))throw oe;const Ie={throttleEndTimeMillis:Date.now()+(0,ce.$s)(B),backoffCount:B+1};return yield K.storage.setThrottleMetadata(Ie),K.attemptFetch(I,Ie)}})()}}class ua{constructor(I,R,B,K,oe){this.app=I,this._client=R,this._storageCache=B,this._storage=K,this._logger=oe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function to(S,I){var R;const B=S.target.error||void 0;return Un.create(I,{originalErrorMessage:B&&(null===(R=B)||void 0===R?void 0:R.message)})}const jr="app_namespace_store";class _r{constructor(I,R,B,K=function tr(){return new Promise((S,I)=>{var R;try{const B=indexedDB.open("firebase_remote_config",1);B.onerror=K=>{I(to(K,"storage-open"))},B.onsuccess=K=>{S(K.target.result)},B.onupgradeneeded=K=>{0===K.oldVersion&&K.target.result.createObjectStore(jr,{keyPath:"compositeKey"})}}catch(B){I(Un.create("storage-open",{originalErrorMessage:null===(R=B)||void 0===R?void 0:R.message}))}})}()){this.appId=I,this.appName=R,this.namespace=B,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var R=this;return(0,L.Z)(function*(){const B=yield R.openDbPromise;return new Promise((K,oe)=>{var Ie;const gt=B.transaction([jr],"readonly").objectStore(jr),Pt=R.createCompositeKey(I);try{const kt=gt.get(Pt);kt.onerror=ft=>{oe(to(ft,"storage-get"))},kt.onsuccess=ft=>{const Hn=ft.target.result;K(Hn?Hn.value:void 0)}}catch(kt){oe(Un.create("storage-get",{originalErrorMessage:null===(Ie=kt)||void 0===Ie?void 0:Ie.message}))}})})()}set(I,R){var B=this;return(0,L.Z)(function*(){const K=yield B.openDbPromise;return new Promise((oe,Ie)=>{var je;const Pt=K.transaction([jr],"readwrite").objectStore(jr),kt=B.createCompositeKey(I);try{const ft=Pt.put({compositeKey:kt,value:R});ft.onerror=Hn=>{Ie(to(Hn,"storage-set"))},ft.onsuccess=()=>{oe()}}catch(ft){Ie(Un.create("storage-set",{originalErrorMessage:null===(je=ft)||void 0===je?void 0:je.message}))}})})()}delete(I){var R=this;return(0,L.Z)(function*(){const B=yield R.openDbPromise;return new Promise((K,oe)=>{var Ie;const gt=B.transaction([jr],"readwrite").objectStore(jr),Pt=R.createCompositeKey(I);try{const kt=gt.delete(Pt);kt.onerror=ft=>{oe(to(ft,"storage-delete"))},kt.onsuccess=()=>{K()}}catch(kt){oe(Un.create("storage-delete",{originalErrorMessage:null===(Ie=kt)||void 0===Ie?void 0:Ie.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class fl{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,L.Z)(function*(){const R=I.storage.getLastFetchStatus(),B=I.storage.getLastSuccessfulFetchTimestampMillis(),K=I.storage.getActiveConfig(),oe=yield R;oe&&(I.lastFetchStatus=oe);const Ie=yield B;Ie&&(I.lastSuccessfulFetchTimestampMillis=Ie);const je=yield K;je&&(I.activeConfig=je)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Wu(){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,L.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}!function wc(){(0,ae._registerComponent)(new me.wA("remote-config",function S(I,{instanceIdentifier:R}){const B=I.getProvider("app").getImmediate(),K=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Un.create("registration-window");if(!(0,ce.hl)())throw Un.create("indexed-db-unavailable");const{projectId:oe,apiKey:Ie,appId:je}=B.options;if(!oe)throw Un.create("registration-project-id");if(!Ie)throw Un.create("registration-api-key");if(!je)throw Un.create("registration-app-id");const gt=new _r(je,B.name,R=R||"firebase"),Pt=new fl(gt),kt=new X.Yd(rs);kt.logLevel=X.in.ERROR;const ft=new vc(K,ae.SDK_VERSION,R,oe,Ie,je),Hn=new ca(ft,gt),Ni=new Ts(Hn,gt,Pt,kt),ai=new ua(B,Ni,Pt,gt,kt);return function gn(S){const I=(0,ce.m9)(S);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(ai),ai},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(rs,"0.3.15"),(0,ae.registerVersion)(rs,"0.3.15","esm2017")}();const Yu="/firebase-messaging-sw.js",Gp="/firebase-cloud-messaging-push-scope",Cc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Zu="google.c.a.c_id",D_="google.c.a.c_l",Ec="google.c.a.ts",da="google.c.a.e";var ha=(()=>{return(S=ha||(ha={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",ha;var S})();function zi(S){const I=new Uint8Array(S);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ms(S){const R=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(R),K=new Uint8Array(B.length);for(let oe=0;oe<B.length;++oe)K[oe]=B.charCodeAt(oe);return K}const Ph="fcm_token_details_db",jp="fcm_token_object_Store";function ks(S){return ls.apply(this,arguments)}function ls(){return ls=(0,L.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(oe=>oe.name).includes(Ph))return null;let I=null;return(yield(0,he.X3)(Ph,5,{upgrade:(B=(0,L.Z)(function*(K,oe,Ie,je){var gt;if(oe<2||!K.objectStoreNames.contains(jp))return;const Pt=je.objectStore(jp),kt=yield Pt.index("fcmSenderId").get(S);if(yield Pt.clear(),kt)if(2===oe){const ft=kt;if(!ft.auth||!ft.p256dh||!ft.endpoint)return;I={token:ft.fcmToken,createTime:null!==(gt=ft.createTime)&&void 0!==gt?gt:Date.now(),subscriptionOptions:{auth:ft.auth,p256dh:ft.p256dh,endpoint:ft.endpoint,swScope:ft.swScope,vapidKey:"string"==typeof ft.vapidKey?ft.vapidKey:zi(ft.vapidKey)}}}else if(3===oe){const ft=kt;I={token:ft.fcmToken,createTime:ft.createTime,subscriptionOptions:{auth:zi(ft.auth),p256dh:zi(ft.p256dh),endpoint:ft.endpoint,swScope:ft.swScope,vapidKey:zi(ft.vapidKey)}}}else if(4===oe){const ft=kt;I={token:ft.fcmToken,createTime:ft.createTime,subscriptionOptions:{auth:zi(ft.auth),p256dh:zi(ft.p256dh),endpoint:ft.endpoint,swScope:ft.swScope,vapidKey:zi(ft.vapidKey)}}}}),function(oe,Ie,je,gt){return B.apply(this,arguments)})})).close(),yield(0,he.Lj)(Ph),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),zp(I)?I:null;var B}),ls.apply(this,arguments)}function zp(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:I}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const nr="firebase-messaging-store";let no=null;function fa(){return no||(no=(0,he.X3)("firebase-messaging-database",1,{upgrade:(S,I)=>{0===I&&S.createObjectStore(nr)}})),no}function Ku(S){return pa.apply(this,arguments)}function pa(){return(pa=(0,L.Z)(function*(S){const I=Rs(S),B=yield(yield fa()).transaction(nr).objectStore(nr).get(I);if(B)return B;{const K=yield ks(S.appConfig.senderId);if(K)return yield Nh(S,K),K}})).apply(this,arguments)}function Nh(S,I){return gl.apply(this,arguments)}function gl(){return(gl=(0,L.Z)(function*(S,I){const R=Rs(S),K=(yield fa()).transaction(nr,"readwrite");return yield K.objectStore(nr).put(I,R),yield K.done,I})).apply(this,arguments)}function zr(S){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,L.Z)(function*(S){const I=Rs(S),B=(yield fa()).transaction(nr,"readwrite");yield B.objectStore(nr).delete(I),yield B.done})).apply(this,arguments)}function Rs({appConfig:S}){return S.appId}const bn=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ml(S,I){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,L.Z)(function*(S,I){var R;const B=yield Sc(S),K=ir(I),oe={method:"POST",headers:B,body:JSON.stringify(K)};let Ie;try{Ie=yield(yield fetch(Dc(S.appConfig),oe)).json()}catch(je){throw bn.create("token-subscribe-failed",{errorInfo:null===(R=je)||void 0===R?void 0:R.toString()})}if(Ie.error)throw bn.create("token-subscribe-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw bn.create("token-subscribe-no-token");return Ie.token})).apply(this,arguments)}function cs(S,I){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,L.Z)(function*(S,I){var R;const B=yield Sc(S),K=ir(I.subscriptionOptions),oe={method:"PATCH",headers:B,body:JSON.stringify(K)};let Ie;try{Ie=yield(yield fetch(`${Dc(S.appConfig)}/${I.token}`,oe)).json()}catch(je){throw bn.create("token-update-failed",{errorInfo:null===(R=je)||void 0===R?void 0:R.toString()})}if(Ie.error)throw bn.create("token-update-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw bn.create("token-update-no-token");return Ie.token})).apply(this,arguments)}function xc(S,I){return fi.apply(this,arguments)}function fi(){return(fi=(0,L.Z)(function*(S,I){var R;const K={method:"DELETE",headers:yield Sc(S)};try{const Ie=yield(yield fetch(`${Dc(S.appConfig)}/${I}`,K)).json();if(Ie.error)throw bn.create("token-unsubscribe-failed",{errorInfo:Ie.error.message})}catch(oe){throw bn.create("token-unsubscribe-failed",{errorInfo:null===(R=oe)||void 0===R?void 0:R.toString()})}})).apply(this,arguments)}function Dc({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function Sc(S){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,L.Z)(function*({appConfig:S,installations:I}){const R=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function ir({p256dh:S,auth:I,endpoint:R,vapidKey:B}){const K={web:{endpoint:R,auth:I,p256dh:S}};return B!==Cc&&(K.web.applicationPubKey=B),K}const S_=6048e5;function Ac(S){return us.apply(this,arguments)}function us(){return(us=(0,L.Z)(function*(S){const I=yield ma(S.swRegistration,S.vapidKey),R={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:I.endpoint,auth:zi(I.getKey("auth")),p256dh:zi(I.getKey("p256dh"))},B=yield Ku(S.firebaseDependencies);if(B){if(ed(B.subscriptionOptions,R))return Date.now()>=B.createTime+S_?Ju(S,{token:B.token,createTime:Date.now(),subscriptionOptions:R}):B.token;try{yield xc(S.firebaseDependencies,B.token)}catch(K){console.warn(K)}return ds(S.firebaseDependencies,R)}return ds(S.firebaseDependencies,R)})).apply(this,arguments)}function rr(S){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,L.Z)(function*(S){const I=yield Ku(S.firebaseDependencies);I&&(yield xc(S.firebaseDependencies,I.token),yield zr(S.firebaseDependencies));const R=yield S.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function Ju(S,I){return _l.apply(this,arguments)}function _l(){return(_l=(0,L.Z)(function*(S,I){try{const R=yield cs(S.firebaseDependencies,I),B=Object.assign(Object.assign({},I),{token:R,createTime:Date.now()});return yield Nh(S.firebaseDependencies,B),R}catch(R){throw yield rr(S),R}})).apply(this,arguments)}function ds(S,I){return ga.apply(this,arguments)}function ga(){return(ga=(0,L.Z)(function*(S,I){const B={token:yield ml(S,I),createTime:Date.now(),subscriptionOptions:I};return yield Nh(S,B),B.token})).apply(this,arguments)}function ma(S,I){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,L.Z)(function*(S,I){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ms(I)})})).apply(this,arguments)}function ed(S,I){return I.vapidKey===S.vapidKey&&I.endpoint===S.endpoint&&I.auth===S.auth&&I.p256dh===S.p256dh}function Xn(S){const I={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function $p(S,I){if(!I.notification)return;S.notification={};const R=I.notification.title;R&&(S.notification.title=R);const B=I.notification.body;B&&(S.notification.body=B);const K=I.notification.image;K&&(S.notification.image=K);const oe=I.notification.icon;oe&&(S.notification.icon=oe)}(I,S),function Vh(S,I){!I.data||(S.data=I.data)}(I,S),function td(S,I){var R,B,K,oe,Ie;if(!(I.fcmOptions||null!==(R=I.notification)&&void 0!==R&&R.click_action))return;S.fcmOptions={};const je=null!==(K=null===(B=I.fcmOptions)||void 0===B?void 0:B.link)&&void 0!==K?K:null===(oe=I.notification)||void 0===oe?void 0:oe.click_action;je&&(S.fcmOptions.link=je);const gt=null===(Ie=I.fcmOptions)||void 0===Ie?void 0:Ie.analytics_label;gt&&(S.fcmOptions.analyticsLabel=gt)}(I,S),I}function nd(S){return"object"==typeof S&&!!S&&Zu in S}function Bh(S,I){const R=[];for(let B=0;B<S.length;B++)R.push(S.charAt(B)),B<I.length&&R.push(I.charAt(B));return R.join("")}function De(S){return bn.create("missing-app-config-values",{valueName:S})}Bh("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Bh("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class rn{constructor(I,R,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function Uh(S){if(!S||!S.options)throw De("App Configuration Object");if(!S.name)throw De("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:R}=S;for(const B of I)if(!R[B])throw De(B);return{appName:S.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:K,installations:R,analyticsProvider:B}}_delete(){return Promise.resolve()}}function Hh(S){return yl.apply(this,arguments)}function yl(){return(yl=(0,L.Z)(function*(S){var I;try{S.swRegistration=yield navigator.serviceWorker.register(Yu,{scope:Gp}),S.swRegistration.update().catch(()=>{})}catch(R){throw bn.create("failed-service-worker-registration",{browserErrorMessage:null===(I=R)||void 0===I?void 0:I.message})}})).apply(this,arguments)}function Di(S,I){return _a.apply(this,arguments)}function _a(){return(_a=(0,L.Z)(function*(S,I){if(!I&&!S.swRegistration&&(yield Hh(S)),I||!S.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw bn.create("invalid-sw-registration");S.swRegistration=I}})).apply(this,arguments)}function bo(S,I){return $i.apply(this,arguments)}function $i(){return($i=(0,L.Z)(function*(S,I){I?S.vapidKey=I:S.vapidKey||(S.vapidKey=Cc)})).apply(this,arguments)}function Tc(){return(Tc=(0,L.Z)(function*(S,I){if(!navigator)throw bn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw bn.create("permission-blocked");return yield bo(S,I?.vapidKey),yield Di(S,I?.serviceWorkerRegistration),Ac(S)})).apply(this,arguments)}function qp(S,I,R){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,L.Z)(function*(S,I,R){const B=id(I);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:R[Zu],message_name:R[D_],message_time:R[Ec],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function id(S){switch(S){case ha.NOTIFICATION_CLICKED:return"notification_open";case ha.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function si(){return(si=(0,L.Z)(function*(S,I){const R=I.data;if(!R.isFirebaseMessaging)return;S.onMessageHandler&&R.messageType===ha.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(Xn(R)):S.onMessageHandler.next(Xn(R)));const B=R.data;nd(B)&&"1"===B[da]&&(yield qp(S,R.messageType,B))})).apply(this,arguments)}const Os="@firebase/messaging",vl=S=>{const I=new rn(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function Gh(S,I){return si.apply(this,arguments)}(I,R)),I},Ps=S=>{const I=S.getProvider("messaging").getImmediate();return{getToken:B=>function hs(S,I){return Tc.apply(this,arguments)}(I,B)}};function Rc(){return jh.apply(this,arguments)}function jh(){return(jh=(0,L.Z)(function*(){try{yield(0,ce.eu)()}catch{return!1}return typeof window<"u"&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function A_(){(0,ae._registerComponent)(new me.wA("messaging",vl,"PUBLIC")),(0,ae._registerComponent)(new me.wA("messaging-internal",Ps,"PRIVATE")),(0,ae.registerVersion)(Os,"0.11.0"),(0,ae.registerVersion)(Os,"0.11.0","esm2017")}();const va="analytics",Zp="firebase_id",Oc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qp="https://www.googletagmanager.com/gtag/js",Si=new X.Yd("@firebase/analytics");function qi(S){return Promise.all(S.map(I=>I.catch(R=>R)))}function fs(S,I){const R=document.createElement("script");R.src=`${Qp}?l=${S}&id=${I}`,R.async=!0,document.head.appendChild(R)}function $h(S,I,R,B,K,oe){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,L.Z)(function*(S,I,R,B,K,oe){const Ie=B[K];try{if(Ie)yield I[Ie];else{const gt=(yield qi(R)).find(Pt=>Pt.measurementId===K);gt&&(yield I[gt.appId])}}catch(je){Si.error(je)}S("config",K,oe)})).apply(this,arguments)}function Pc(S,I,R,B,K){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,L.Z)(function*(S,I,R,B,K){try{let oe=[];if(K&&K.send_to){let Ie=K.send_to;Array.isArray(Ie)||(Ie=[Ie]);const je=yield qi(R);for(const gt of Ie){const Pt=je.find(ft=>ft.measurementId===gt),kt=Pt&&I[Pt.appId];if(!kt){oe=[];break}oe.push(kt)}}0===oe.length&&(oe=Object.values(I)),yield Promise.all(oe),S("event",B,K||{})}catch(oe){Si.error(oe)}})).apply(this,arguments)}function Nc(S){const I=window.document.getElementsByTagName("script");for(const R of Object.values(I))if(R.src&&R.src.includes(Qp)&&R.src.includes(S))return R;return null}const pi=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ps=new class Xp{constructor(I={},R=1e3){this.throttleMetadata=I,this.intervalMillis=R}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,R){this.throttleMetadata[I]=R}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Ca(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function Wh(S){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,L.Z)(function*(S){var I;const{appId:R,apiKey:B}=S,K={method:"GET",headers:Ca(B)},oe=Oc.replace("{app-id}",R),Ie=yield fetch(oe,K);if(200!==Ie.status&&304!==Ie.status){let je="";try{const gt=yield Ie.json();null!==(I=gt.error)&&void 0!==I&&I.message&&(je=gt.error.message)}catch{}throw pi.create("config-fetch-failed",{httpStatus:Ie.status,responseMessage:je})}return Ie.json()})).apply(this,arguments)}function cd(S){return bl.apply(this,arguments)}function bl(){return(bl=(0,L.Z)(function*(S,I=ps,R){const{appId:B,apiKey:K,measurementId:oe}=S.options;if(!B)throw pi.create("no-app-id");if(!K){if(oe)return{measurementId:oe,appId:B};throw pi.create("no-api-key")}const Ie=I.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},je=new xa;return setTimeout((0,L.Z)(function*(){je.abort()}),void 0!==R?R:6e4),Jp({appId:B,apiKey:K,measurementId:oe},Ie,je,I)})).apply(this,arguments)}function Jp(S,I,R){return wl.apply(this,arguments)}function wl(){return(wl=(0,L.Z)(function*(S,{throttleEndTimeMillis:I,backoffCount:R},B,K=ps){var oe,Ie;const{appId:je,measurementId:gt}=S;try{yield Ea(B,I)}catch(Pt){if(gt)return Si.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gt} provided in the "measurementId" field in the local Firebase config. [${null===(oe=Pt)||void 0===oe?void 0:oe.message}]`),{appId:je,measurementId:gt};throw Pt}try{const Pt=yield Wh(S);return K.deleteThrottleMetadata(je),Pt}catch(Pt){const kt=Pt;if(!Yh(kt)){if(K.deleteThrottleMetadata(je),gt)return Si.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gt} provided in the "measurementId" field in the local Firebase config. [${kt?.message}]`),{appId:je,measurementId:gt};throw Pt}const ft=503===Number(null===(Ie=kt?.customData)||void 0===Ie?void 0:Ie.httpStatus)?(0,ce.$s)(R,K.intervalMillis,30):(0,ce.$s)(R,K.intervalMillis),Hn={throttleEndTimeMillis:Date.now()+ft,backoffCount:R+1};return K.setThrottleMetadata(je,Hn),Si.debug(`Calling attemptFetch again in ${ft} millis`),Jp(S,Hn,B,K)}})).apply(this,arguments)}function Ea(S,I){return new Promise((R,B)=>{const K=Math.max(I-Date.now(),0),oe=setTimeout(R,K);S.addEventListener(()=>{clearTimeout(oe),B(pi.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Yh(S){if(!(S instanceof ce.ZR&&S.customData))return!1;const I=Number(S.customData.httpStatus);return 429===I||500===I||503===I||504===I}class xa{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let Cl,dd;function Fs(){return(Fs=(0,L.Z)(function*(S,I,R,B,K){if(K&&K.global)S("event",R,B);else{const oe=yield I;S("event",R,Object.assign(Object.assign({},B),{send_to:oe}))}})).apply(this,arguments)}function Aa(S){dd=S}function tg(S){Cl=S}function gi(){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,L.Z)(function*(){var S;if(!(0,ce.hl)())return Si.warn(pi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(I){return Si.warn(pi.create("indexeddb-unavailable",{errorInfo:null===(S=I)||void 0===S?void 0:S.toString()}).message),!1}return!0})).apply(this,arguments)}function Ns(){return(Ns=(0,L.Z)(function*(S,I,R,B,K,oe,Ie){var je;const gt=cd(S);gt.then(Ni=>{R[Ni.measurementId]=Ni.appId,S.options.measurementId&&Ni.measurementId!==S.options.measurementId&&Si.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${Ni.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ni=>Si.error(Ni)),I.push(gt);const Pt=gi().then(Ni=>{if(Ni)return B.getId()}),[kt,ft]=yield Promise.all([gt,Pt]);Nc(oe)||fs(oe,kt.measurementId),dd&&(K("consent","default",dd),Aa(void 0)),K("js",new Date);const Hn=null!==(je=Ie?.config)&&void 0!==je?je:{};return Hn.origin="firebase",Hn.update=!0,null!=ft&&(Hn[Zp]=ft),K("config",kt.measurementId,Hn),Cl&&(K("set",Cl),tg(void 0)),kt.measurementId})).apply(this,arguments)}class ng{constructor(I){this.app=I}_delete(){return delete wn[this.app.options.appId],Promise.resolve()}}let wn={},Uc=[];const Hc={};let Gc,gs,Ia="dataLayer",Al=!1;function Kh(S,I,R){!function wo(){const S=[];if((0,ce.ru)()&&S.push("This is a browser extension environment."),(0,ce.zI)()||S.push("Cookies are not available."),S.length>0){const I=S.map((B,K)=>`(${K+1}) ${B}`).join(" "),R=pi.create("invalid-analytics-context",{errorInfo:I});Si.warn(R.message)}}();const B=S.options.appId;if(!B)throw pi.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw pi.create("no-api-key");Si.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=wn[B])throw pi.create("already-exists",{id:B});if(!Al){!function Sn(S){let I=[];Array.isArray(window[S])?I=window[S]:window[S]=I}(Ia);const{wrappedGtag:oe,gtagCore:Ie}=function qh(S,I,R,B,K){let oe=function(...Ie){window[B].push(arguments)};return window[K]&&"function"==typeof window[K]&&(oe=window[K]),window[K]=function ba(S,I,R,B){function oe(){return(oe=(0,L.Z)(function*(Ie,je,gt){try{"event"===Ie?yield Pc(S,I,R,je,gt):"config"===Ie?yield $h(S,I,R,B,je,gt):"consent"===Ie?S("consent","update",gt):S("set",je)}catch(Pt){Si.error(Pt)}})).apply(this,arguments)}return function K(Ie,je,gt){return oe.apply(this,arguments)}}(oe,S,I,R),{gtagCore:oe,wrappedGtag:window[K]}}(wn,Uc,Hc,Ia,"gtag");gs=oe,Gc=Ie,Al=!0}return wn[B]=function hd(S,I,R,B,K,oe,Ie){return Ns.apply(this,arguments)}(S,Uc,Hc,I,Gc,Ia,R),new ng(S)}function jo(){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,L.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}const Co="@firebase/analytics";!function Xh(){(0,ae._registerComponent)(new me.wA(va,(I,{options:R})=>Kh(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,ae._registerComponent)(new me.wA("analytics-internal",function S(I){try{const R=I.getProvider(va).getImmediate();return{logEvent:(B,K,oe)=>function Ta(S,I,R,B){S=(0,ce.m9)(S),function eg(S,I,R,B,K){return Fs.apply(this,arguments)}(gs,wn[S.app.options.appId],I,R,B).catch(K=>Si.error(K))}(R,B,K,oe)}}catch(R){throw pi.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,ae.registerVersion)(Co,"0.8.4"),(0,ae.registerVersion)(Co,"0.8.4","esm2017")}();var kl=F(4408),pd=F(7565);const T_=new class kn extends pd.v{}(class pb extends kl.o{constructor(I,R){super(I,R),this.scheduler=I,this.work=R}schedule(I,R=0){return R>0?super.schedule(I,R):(this.delay=R,this.state=I,this.scheduler.flush(this),this)}execute(I,R){return R>0||this.closed?super.execute(I,R):this._execute(I,R)}requestAsyncId(I,R,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(I,R,B):I.flush(this)}});var mb=F(4986),_b=F(8505),gd=F(9468),yb=F(5363);const vb=new o.GfV("7.5.0"),Ma="__angularfire_symbol__analyticsIsSupportedValue",md="__angularfire_symbol__analyticsIsSupported",ig="__angularfire_symbol__remoteConfigIsSupportedValue",oi="__angularfire_symbol__remoteConfigIsSupported",ms="__angularfire_symbol__messagingIsSupportedValue",zo="__angularfire_symbol__messagingIsSupported";function Je(S,I,R){if(I){if(1===I.length)return I[0];const oe=I.filter(Ie=>Ie.app===R);if(1===oe.length)return oe[0]}return R.container.getProvider(S).getImmediate({optional:!0})}globalThis[md]||(globalThis[md]=jo().then(S=>globalThis[Ma]=S).catch(()=>globalThis[Ma]=!1)),globalThis[zo]||(globalThis[zo]=Rc().then(S=>globalThis[ms]=S).catch(()=>globalThis[ms]=!1)),globalThis[oi]||(globalThis[oi]=Wu().then(S=>globalThis[ig]=S).catch(()=>globalThis[ig]=!1));const lt=(S,I)=>{const R=I?[I]:(0,J.C6)(),B=[];return R.forEach(K=>{K.container.getProvider(S).instances.forEach(Ie=>{B.includes(Ie)||B.push(Ie)})}),B};function _n(){}class Rl{constructor(I,R=T_){this.zone=I,this.delegate=R}now(){return this.delegate.now()}schedule(I,R,B){const K=this.zone;return this.delegate.schedule(function(Ie){K.runGuarded(()=>{I.apply(this,[Ie])})},R,B)}}class qc{constructor(I){this.zone=I,this.task=null}call(I,R){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_n,{},_n,_n)),R.pipe((0,_b.b)({next:B,complete:B,error:B})).subscribe(I).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Jn=(()=>{class S{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Rl(Zone.current)),this.insideAngular=R.run(()=>new Rl(Zone.current,mb.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(R){return new(R||S)(o.LFG(o.R0b))},S.\u0275prov=o.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function ka(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function ro(S){return ka(),function so(S){return function(R){return(R=R.lift(new qc(S.ngZone))).pipe((0,gd.R)(S.outsideAngular),(0,yb.Q)(S.insideAngular))}}(ka())(S)}},2090:(ct,Ee,F)=>{F.d(Ee,{$s:()=>Xe,BH:()=>_t,DV:()=>pr,Dv:()=>Ji,G6:()=>Ne,GJ:()=>sa,L:()=>he,LL:()=>jn,Pz:()=>Yn,Sg:()=>ki,UG:()=>We,UI:()=>Ri,US:()=>me,Wj:()=>on,Wl:()=>ra,Yr:()=>ot,ZB:()=>W,ZR:()=>at,aH:()=>Wt,b$:()=>we,cI:()=>tn,dS:()=>Dn,eu:()=>He,g5:()=>L,gK:()=>Zn,gQ:()=>Ei,h$:()=>X,hl:()=>Qe,hu:()=>J,jU:()=>it,lb:()=>$n,m9:()=>Kt,ne:()=>Xs,p$:()=>j,pd:()=>zn,r3:()=>Hr,ru:()=>pe,tV:()=>de,uI:()=>Me,ug:()=>Js,vZ:()=>an,w1:()=>ke,w9:()=>Vn,xO:()=>Ks,xb:()=>Oe,z$:()=>Ue,zI:()=>fe,zd:()=>Qs});const J=function(z,G){if(!z)throw L(G)},L=function(z){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+z)},ae=function(z){const G=[];let Z=0;for(let ye=0;ye<z.length;ye++){let se=z.charCodeAt(ye);se<128?G[Z++]=se:se<2048?(G[Z++]=se>>6|192,G[Z++]=63&se|128):55296==(64512&se)&&ye+1<z.length&&56320==(64512&z.charCodeAt(ye+1))?(se=65536+((1023&se)<<10)+(1023&z.charCodeAt(++ye)),G[Z++]=se>>18|240,G[Z++]=se>>12&63|128,G[Z++]=se>>6&63|128,G[Z++]=63&se|128):(G[Z++]=se>>12|224,G[Z++]=se>>6&63|128,G[Z++]=63&se|128)}return G},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,G){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,ye=[];for(let se=0;se<z.length;se+=3){const ut=z[se],Gt=se+1<z.length,Qt=Gt?z[se+1]:0,Rn=se+2<z.length,xt=Rn?z[se+2]:0;let Mr=(15&Qt)<<2|xt>>6,oa=63&xt;Rn||(oa=64,Gt||(Mr=64)),ye.push(Z[ut>>2],Z[(3&ut)<<4|Qt>>4],Z[Mr],Z[oa])}return ye.join("")},encodeString(z,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(z):this.encodeByteArray(ae(z),G)},decodeString(z,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(z):function(z){const G=[];let Z=0,ye=0;for(;Z<z.length;){const se=z[Z++];if(se<128)G[ye++]=String.fromCharCode(se);else if(se>191&&se<224){const ut=z[Z++];G[ye++]=String.fromCharCode((31&se)<<6|63&ut)}else if(se>239&&se<365){const Rn=((7&se)<<18|(63&z[Z++])<<12|(63&z[Z++])<<6|63&z[Z++])-65536;G[ye++]=String.fromCharCode(55296+(Rn>>10)),G[ye++]=String.fromCharCode(56320+(1023&Rn))}else{const ut=z[Z++],Gt=z[Z++];G[ye++]=String.fromCharCode((15&se)<<12|(63&ut)<<6|63&Gt)}}return G.join("")}(this.decodeStringToByteArray(z,G))},decodeStringToByteArray(z,G){this.init_();const Z=G?this.charToByteMapWebSafe_:this.charToByteMap_,ye=[];for(let se=0;se<z.length;){const ut=Z[z.charAt(se++)],Qt=se<z.length?Z[z.charAt(se)]:0;++se;const xt=se<z.length?Z[z.charAt(se)]:64;++se;const zt=se<z.length?Z[z.charAt(se)]:64;if(++se,null==ut||null==Qt||null==xt||null==zt)throw Error();ye.push(ut<<2|Qt>>4),64!==xt&&(ye.push(Qt<<4&240|xt>>2),64!==zt&&ye.push(xt<<6&192|zt))}return ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}},X=function(z){const G=ae(z);return me.encodeByteArray(G,!0)},he=function(z){return X(z).replace(/\./g,"")},de=function(z){try{return me.decodeString(z,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function j(z){return W(void 0,z)}function W(z,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return G}for(const Z in G)!G.hasOwnProperty(Z)||!Q(Z)||(z[Z]=W(z[Z],G[Z]));return z}function Q(z){return"__proto__"!==z}function Ue(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Me(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function We(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function it(){return"object"==typeof self&&self.self===self}function pe(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function we(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ke(){const z=Ue();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function ot(){return!1}function Ne(){return!We()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qe(){return"object"==typeof indexedDB}function He(){return new Promise((z,G)=>{try{let Z=!0;const ye="validate-browser-context-for-indexeddb-analytics-module",se=self.indexedDB.open(ye);se.onsuccess=()=>{se.result.close(),Z||self.indexedDB.deleteDatabase(ye),z(!0)},se.onupgradeneeded=()=>{Z=!1},se.onerror=()=>{var ut;G((null===(ut=se.error)||void 0===ut?void 0:ut.message)||"")}}catch(Z){G(Z)}})}function fe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const _e=()=>{try{return function q(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const z=process.env.__FIREBASE_DEFAULTS__;return z?JSON.parse(z):void 0})()||(()=>{if(typeof document>"u")return;let z;try{z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const G=z&&de(z[1]);return G&&JSON.parse(G)})()}catch(z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${z}`)}},Wt=()=>{var z;return null===(z=_e())||void 0===z?void 0:z.config},Yn=z=>{var G;return null===(G=_e())||void 0===G?void 0:G[`_${z}`]};class _t{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,Z)=>{this.resolve=G,this.reject=Z})}wrapCallback(G){return(Z,ye)=>{Z?this.reject(Z):this.resolve(ye),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(Z):G(Z,ye))}}}function ki(z,G){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ye=G||"demo-project",se=z.iat||0,ut=z.sub||z.user_id;if(!ut)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Gt=Object.assign({iss:`https://securetoken.google.com/${ye}`,aud:ye,iat:se,exp:se+3600,auth_time:se,sub:ut,user_id:ut,firebase:{sign_in_provider:"custom",identities:{}}},z);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(Gt)),""].join(".")}class at extends Error{constructor(G,Z,ye){super(Z),this.code=G,this.customData=ye,this.name="FirebaseError",Object.setPrototypeOf(this,at.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jn.prototype.create)}}class jn{constructor(G,Z,ye){this.service=G,this.serviceName=Z,this.errors=ye}create(G,...Z){const ye=Z[0]||{},se=`${this.service}/${G}`,ut=this.errors[G],Gt=ut?function Br(z,G){return z.replace(Ur,(Z,ye)=>{const se=G[ye];return null!=se?String(se):`<${ye}?>`})}(ut,ye):"Error";return new at(se,`${this.serviceName}: ${Gt} (${se}).`,ye)}}const Ur=/\{\$([^}]+)}/g;function tn(z){return JSON.parse(z)}function ra(z){return JSON.stringify(z)}const ts=function(z){let G={},Z={},ye={},se="";try{const ut=z.split(".");G=tn(de(ut[0])||""),Z=tn(de(ut[1])||""),se=ut[2],ye=Z.d||{},delete Z.d}catch{}return{header:G,claims:Z,data:ye,signature:se}},Vn=function(z){const Z=ts(z).claims;return!!Z&&"object"==typeof Z&&Z.hasOwnProperty("iat")},sa=function(z){const G=ts(z).claims;return"object"==typeof G&&!0===G.admin};function Hr(z,G){return Object.prototype.hasOwnProperty.call(z,G)}function pr(z,G){if(Object.prototype.hasOwnProperty.call(z,G))return z[G]}function Oe(z){for(const G in z)if(Object.prototype.hasOwnProperty.call(z,G))return!1;return!0}function Ri(z,G,Z){const ye={};for(const se in z)Object.prototype.hasOwnProperty.call(z,se)&&(ye[se]=G.call(Z,z[se],se,z));return ye}function an(z,G){if(z===G)return!0;const Z=Object.keys(z),ye=Object.keys(G);for(const se of Z){if(!ye.includes(se))return!1;const ut=z[se],Gt=G[se];if(gr(ut)&&gr(Gt)){if(!an(ut,Gt))return!1}else if(ut!==Gt)return!1}for(const se of ye)if(!Z.includes(se))return!1;return!0}function gr(z){return null!==z&&"object"==typeof z}function Ks(z){const G=[];for(const[Z,ye]of Object.entries(z))Array.isArray(ye)?ye.forEach(se=>{G.push(encodeURIComponent(Z)+"="+encodeURIComponent(se))}):G.push(encodeURIComponent(Z)+"="+encodeURIComponent(ye));return G.length?"&"+G.join("&"):""}function Qs(z){const G={};return z.replace(/^\?/,"").split("&").forEach(ye=>{if(ye){const[se,ut]=ye.split("=");G[decodeURIComponent(se)]=decodeURIComponent(ut)}}),G}function zn(z){const G=z.indexOf("?");if(!G)return"";const Z=z.indexOf("#",G);return z.substring(G,Z>0?Z:void 0)}class Ei{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let G=1;G<this.blockSize;++G)this.pad_[G]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(G,Z){Z||(Z=0);const ye=this.W_;if("string"==typeof G)for(let zt=0;zt<16;zt++)ye[zt]=G.charCodeAt(Z)<<24|G.charCodeAt(Z+1)<<16|G.charCodeAt(Z+2)<<8|G.charCodeAt(Z+3),Z+=4;else for(let zt=0;zt<16;zt++)ye[zt]=G[Z]<<24|G[Z+1]<<16|G[Z+2]<<8|G[Z+3],Z+=4;for(let zt=16;zt<80;zt++){const Mr=ye[zt-3]^ye[zt-8]^ye[zt-14]^ye[zt-16];ye[zt]=4294967295&(Mr<<1|Mr>>>31)}let xt,On,se=this.chain_[0],ut=this.chain_[1],Gt=this.chain_[2],Qt=this.chain_[3],Rn=this.chain_[4];for(let zt=0;zt<80;zt++){zt<40?zt<20?(xt=Qt^ut&(Gt^Qt),On=1518500249):(xt=ut^Gt^Qt,On=1859775393):zt<60?(xt=ut&Gt|Qt&(ut|Gt),On=2400959708):(xt=ut^Gt^Qt,On=3395469782);const Mr=(se<<5|se>>>27)+xt+Rn+On+ye[zt]&4294967295;Rn=Qt,Qt=Gt,Gt=4294967295&(ut<<30|ut>>>2),ut=se,se=Mr}this.chain_[0]=this.chain_[0]+se&4294967295,this.chain_[1]=this.chain_[1]+ut&4294967295,this.chain_[2]=this.chain_[2]+Gt&4294967295,this.chain_[3]=this.chain_[3]+Qt&4294967295,this.chain_[4]=this.chain_[4]+Rn&4294967295}update(G,Z){if(null==G)return;void 0===Z&&(Z=G.length);const ye=Z-this.blockSize;let se=0;const ut=this.buf_;let Gt=this.inbuf_;for(;se<Z;){if(0===Gt)for(;se<=ye;)this.compress_(G,se),se+=this.blockSize;if("string"==typeof G){for(;se<Z;)if(ut[Gt]=G.charCodeAt(se),++Gt,++se,Gt===this.blockSize){this.compress_(ut),Gt=0;break}}else for(;se<Z;)if(ut[Gt]=G[se],++Gt,++se,Gt===this.blockSize){this.compress_(ut),Gt=0;break}}this.inbuf_=Gt,this.total_+=Z}digest(){const G=[];let Z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let se=this.blockSize-1;se>=56;se--)this.buf_[se]=255&Z,Z/=256;this.compress_(this.buf_);let ye=0;for(let se=0;se<5;se++)for(let ut=24;ut>=0;ut-=8)G[ye]=this.chain_[se]>>ut&255,++ye;return G}}function Xs(z,G){const Z=new Vt(z,G);return Z.subscribe.bind(Z)}class Vt{constructor(G,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{G(this)}).catch(ye=>{this.error(ye)})}next(G){this.forEachObserver(Z=>{Z.next(G)})}error(G){this.forEachObserver(Z=>{Z.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,Z,ye){let se;if(void 0===G&&void 0===Z&&void 0===ye)throw new Error("Missing Observer.");se=function bt(z,G){if("object"!=typeof z||null===z)return!1;for(const Z of G)if(Z in z&&"function"==typeof z[Z])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:Z,complete:ye},void 0===se.next&&(se.next=ns),void 0===se.error&&(se.error=ns),void 0===se.complete&&(se.complete=ns);const ut=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch{}}),this.observers.push(se),ut}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,G)}sendOne(G,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{Z(this.observers[G])}catch(ye){typeof console<"u"&&console.error&&console.error(ye)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ns(){}const Ji=function(z,G,Z,ye){let se;if(ye<G?se="at least "+G:ye>Z&&(se=0===Z?"none":"no more than "+Z),se)throw new Error(z+" failed: Was called with "+ye+(1===ye?" argument.":" arguments.")+" Expects "+se+".")};function Zn(z,G){return`${z} failed: ${G} argument `}function on(z,G,Z,ye){if((!ye||Z)&&"function"!=typeof Z)throw new Error(Zn(z,G)+"must be a valid function.")}function $n(z,G,Z,ye){if((!ye||Z)&&("object"!=typeof Z||null===Z))throw new Error(Zn(z,G)+"must be a valid context object.")}const Dn=function(z){const G=[];let Z=0;for(let ye=0;ye<z.length;ye++){let se=z.charCodeAt(ye);if(se>=55296&&se<=56319){const ut=se-55296;ye++,J(ye<z.length,"Surrogate pair missing trail surrogate."),se=65536+(ut<<10)+(z.charCodeAt(ye)-56320)}se<128?G[Z++]=se:se<2048?(G[Z++]=se>>6|192,G[Z++]=63&se|128):se<65536?(G[Z++]=se>>12|224,G[Z++]=se>>6&63|128,G[Z++]=63&se|128):(G[Z++]=se>>18|240,G[Z++]=se>>12&63|128,G[Z++]=se>>6&63|128,G[Z++]=63&se|128)}return G},Js=function(z){let G=0;for(let Z=0;Z<z.length;Z++){const ye=z.charCodeAt(Z);ye<128?G++:ye<2048?G+=2:ye>=55296&&ye<=56319?(G+=4,Z++):G+=3}return G};function Xe(z,G=1e3,Z=2){const ye=G*Math.pow(Z,z),se=Math.round(.5*ye*(Math.random()-.5)*2);return Math.min(144e5,ye+se)}function Kt(z){return z&&z._delegate?z._delegate:z}},5867:(ct,Ee,F)=>{F.d(Ee,{C6:()=>o.getApps,Mq:()=>o.getApp});var o=F(9681);(0,o.registerVersion)("firebase","9.14.0","app")},127:(ct,Ee,F)=>{F.d(Ee,{Z:()=>o.Z});var o=F(3942);o.Z.registerVersion("firebase","9.14.0","app-compat")},822:(ct,Ee,F)=>{F.r(Ee);var o=F(5861),J=F(3942),L=F(2090),ae=F(9681),ce=F(1877);function de(v,p){var m={};for(var w in v)Object.prototype.hasOwnProperty.call(v,w)&&p.indexOf(w)<0&&(m[w]=v[w]);if(null!=v&&"function"==typeof Object.getOwnPropertySymbols){var A=0;for(w=Object.getOwnPropertySymbols(v);A<w.length;A++)p.indexOf(w[A])<0&&Object.prototype.propertyIsEnumerable.call(v,w[A])&&(m[w[A]]=v[w[A]])}return m}var wt=F(4859);const Br=function at(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ur=function jn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},tn=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ts=new ce.Yd("@firebase/auth");function Xi(v,...p){ts.logLevel<=ce.in.ERROR&&ts.error(`Auth (${ae.SDK_VERSION}): ${v}`,...p)}function vn(v,...p){throw pr(v,...p)}function Vn(v,...p){return pr(v,...p)}function sa(v,p,m){const w=Object.assign(Object.assign({},Ur()),{[p]:m});return new L.LL("auth","Firebase",w).create(p,{appName:v.name})}function Hr(v,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&vn(v,"argument-error"),sa(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function pr(v,...p){if("string"!=typeof v){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(m,...w)}return tn.create(v,...p)}function Oe(v,p,...m){if(!v)throw pr(p,...m)}function Ri(v){const p="INTERNAL ASSERTION FAILED: "+v;throw Xi(p),new Error(p)}function an(v,p){v||Ri(p)}const gr=new Map;function nt(v){an(v instanceof Function,"Expected a class definition");let p=gr.get(v);return p?(an(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,gr.set(v,p),p)}function zn(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Ei(){return"http:"===Xs()||"https:"===Xs()}function Xs(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class bt{constructor(p,m){this.shortDelay=p,this.longDelay=m,an(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function Vt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ei()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ns(v,p){an(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class Ji{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Zn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},is=new bt(3e4,6e4);function on(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function $n(v,p,m,w){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,o.Z)(function*(v,p,m,w,A={}){return Js(v,A,(0,o.Z)(function*(){let M={},H={};w&&("GET"===p?H=w:M={body:JSON.stringify(w)});const te=(0,L.xO)(Object.assign({key:v.config.apiKey},H)).slice(1),Pe=yield v._getAdditionalHeaders();return Pe["Content-Type"]="application/json",v.languageCode&&(Pe["X-Firebase-Locale"]=v.languageCode),Ji.fetch()(Ge(v,v.config.apiHost,m,te),Object.assign({method:p,headers:Pe,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function Js(v,p,m){return nn.apply(this,arguments)}function nn(){return(nn=(0,o.Z)(function*(v,p,m){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},Zn),p);try{const A=new Ae(v),M=yield Promise.race([m(),A.promise]);A.clearNetworkTimeout();const H=yield M.json();if("needConfirmation"in H)throw Xe(v,"account-exists-with-different-credential",H);if(M.ok&&!("errorMessage"in H))return H;{const te=M.ok?H.errorMessage:H.error.message,[Pe,Ce]=te.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw Xe(v,"credential-already-in-use",H);if("EMAIL_EXISTS"===Pe)throw Xe(v,"email-already-in-use",H);if("USER_DISABLED"===Pe)throw Xe(v,"user-disabled",H);const rt=w[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(Ce)throw sa(v,rt,Ce);vn(v,rt)}}catch(A){if(A instanceof L.ZR)throw A;vn(v,"network-request-failed")}})).apply(this,arguments)}function Kn(v,p,m,w){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,o.Z)(function*(v,p,m,w,A={}){const M=yield $n(v,p,m,w,A);return"mfaPendingCredential"in M&&vn(v,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function Ge(v,p,m,w){const A=`${p}${m}?${w}`;return v.config.emulator?ns(v.config,A):`${v.config.apiScheme}://${A}`}class Ae{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Vn(this.auth,"network-request-failed")),is.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xe(v,p,m){const w={appName:v.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const A=Vn(v,p,w);return A.customData._tokenResponse=m,A}function Ot(){return(Ot=(0,o.Z)(function*(v,p){return $n(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Kt(v,p){return z.apply(this,arguments)}function z(){return(z=(0,o.Z)(function*(v,p){return $n(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function G(v,p){return Z.apply(this,arguments)}function Z(){return(Z=(0,o.Z)(function*(v,p){return $n(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ye(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Gt(){return(Gt=(0,o.Z)(function*(v,p=!1){const m=(0,L.m9)(v),w=yield m.getIdToken(p),A=Rn(w);Oe(A&&A.exp&&A.auth_time&&A.iat,m.auth,"internal-error");const M="object"==typeof A.firebase?A.firebase:void 0,H=M?.sign_in_provider;return{claims:A,token:w,authTime:ye(Qt(A.auth_time)),issuedAtTime:ye(Qt(A.iat)),expirationTime:ye(Qt(A.exp)),signInProvider:H||null,signInSecondFactor:M?.sign_in_second_factor||null}})).apply(this,arguments)}function Qt(v){return 1e3*Number(v)}function Rn(v){var p;const[m,w,A]=v.split(".");if(void 0===m||void 0===w||void 0===A)return Xi("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,L.tV)(w);return M?JSON.parse(M):(Xi("Failed to decode base64 JWT payload"),null)}catch(M){return Xi("Caught error parsing JWT payload as JSON",null===(p=M)||void 0===p?void 0:p.toString()),null}}function On(v,p){return zt.apply(this,arguments)}function zt(){return(zt=(0,o.Z)(function*(v,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof L.ZR&&Mr(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}function Mr({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class oa{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const A=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,o.Z)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,o.Z)(function*(){var m;try{yield p.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(m=w)||void 0===m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class ji{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=ye(this.lastLoginAt),this.creationTime=ye(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function eo(v){return Mh.apply(this,arguments)}function Mh(){return(Mh=(0,o.Z)(function*(v){var p;const m=v.auth,w=yield v.getIdToken(),A=yield On(v,G(m,{idToken:w}));Oe(A?.users.length,m,"internal-error");const M=A.users[0];v._notifyReloadListener(M);const H=null!==(p=M.providerUserInfo)&&void 0!==p&&p.length?kh(M.providerUserInfo):[],te=$u(v.providerData,H),rt=!!v.isAnonymous&&!(v.email&&M.passwordHash||te?.length),et={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:te,metadata:new ji(M.createdAt,M.lastLoginAt),isAnonymous:rt};Object.assign(v,et)})).apply(this,arguments)}function ul(){return(ul=(0,o.Z)(function*(v){const p=(0,L.m9)(v);yield eo(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function $u(v,p){return[...v.filter(w=>!p.some(A=>A.providerId===w.providerId)),...p]}function kh(v){return v.map(p=>{var{providerId:m}=p,w=de(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function qu(){return(qu=(0,o.Z)(function*(v,p){const m=yield Js(v,{},(0,o.Z)(function*(){const w=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:A,apiKey:M}=v.config,H=Ge(v,A,"/v1/token",`key=${M}`),te=yield v._getAdditionalHeaders();return te["Content-Type"]="application/x-www-form-urlencoded",Ji.fetch()(H,{method:"POST",headers:te,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class aa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Oe(p.idToken,"internal-error"),Oe(typeof p.idToken<"u","internal-error"),Oe(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function xt(v){const p=Rn(v);return Oe(p,"internal-error"),Oe(typeof p.exp<"u","internal-error"),Oe(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var w=this;return(0,o.Z)(function*(){return Oe(!w.accessToken||w.refreshToken,p,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,o.Z)(function*(){const{accessToken:A,refreshToken:M,expiresIn:H}=yield function dl(v,p){return qu.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(A,M,Number(H))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:A,expirationTime:M}=m,H=new aa;return w&&(Oe("string"==typeof w,"internal-error",{appName:p}),H.refreshToken=w),A&&(Oe("string"==typeof A,"internal-error",{appName:p}),H.accessToken=A),M&&(Oe("number"==typeof M,"internal-error",{appName:p}),H.expirationTime=M),H}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new aa,this.toJSON())}_performRefresh(){return Ri("not implemented")}}function rs(v,p){Oe("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class ss{constructor(p){var{uid:m,auth:w,stsTokenManager:A}=p,M=de(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new ji(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,o.Z)(function*(){const w=yield On(m,m.stsTokenManager.getToken(m.auth,p));return Oe(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function ut(v){return Gt.apply(this,arguments)}(this,p)}reload(){return function cl(v){return ul.apply(this,arguments)}(this)}_assign(p){this!==p&&(Oe(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new ss(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,o.Z)(function*(){let A=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),A=!0),m&&(yield eo(w)),yield w.auth._persistUserIfCurrent(w),A&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,o.Z)(function*(){const m=yield p.getIdToken();return yield On(p,function Mt(v,p){return Ot.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,A,M,H,te,Pe,Ce,rt;const et=null!==(w=m.displayName)&&void 0!==w?w:void 0,Jt=null!==(A=m.email)&&void 0!==A?A:void 0,sr=null!==(M=m.phoneNumber)&&void 0!==M?M:void 0,Fa=null!==(H=m.photoURL)&&void 0!==H?H:void 0,Na=null!==(te=m.tenantId)&&void 0!==te?te:void 0,Eg=null!==(Pe=m._redirectEventId)&&void 0!==Pe?Pe:void 0,J_=null!==(Ce=m.createdAt)&&void 0!==Ce?Ce:void 0,Ul=null!==(rt=m.lastLoginAt)&&void 0!==rt?rt:void 0,{uid:Hl,emailVerified:xg,isAnonymous:Ud,providerData:La,stsTokenManager:Va}=m;Oe(Hl&&Va,p,"internal-error");const Ob=aa.fromJSON(this.name,Va);Oe("string"==typeof Hl,p,"internal-error"),rs(et,p.name),rs(Jt,p.name),Oe("boolean"==typeof xg,p,"internal-error"),Oe("boolean"==typeof Ud,p,"internal-error"),rs(sr,p.name),rs(Fa,p.name),rs(Na,p.name),rs(Eg,p.name),rs(J_,p.name),rs(Ul,p.name);const ei=new ss({uid:Hl,auth:p,email:Jt,emailVerified:xg,displayName:et,isAnonymous:Ud,photoURL:Fa,phoneNumber:sr,tenantId:Na,stsTokenManager:Ob,createdAt:J_,lastLoginAt:Ul});return La&&Array.isArray(La)&&(ei.providerData=La.map(Pb=>Object.assign({},Pb))),Eg&&(ei._redirectEventId=Eg),ei}static _fromIdTokenResponse(p,m,w=!1){return(0,o.Z)(function*(){const A=new aa;A.updateFromServerResponse(m);const M=new ss({uid:m.localId,auth:p,stsTokenManager:A,isAnonymous:w});return yield eo(M),M})()}}const Bn=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(m,w){var A=this;return(0,o.Z)(function*(){A.storage[m]=w})()}_get(m){var w=this;return(0,o.Z)(function*(){const A=w.storage[m];return void 0===A?null:A})()}_remove(m){var w=this;return(0,o.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return v.type="NONE",v})();function Qn(v,p,m){return`firebase:${v}:${p}:${m}`}class Un{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:A,name:M}=this.auth;this.fullUserKey=Qn(this.userKey,A.apiKey,M),this.fullPersistenceKey=Qn("persistence",A.apiKey,M),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,o.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?ss._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,o.Z)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,o.Z)(function*(){if(!m.length)return new Un(nt(Bn),p,w);const A=(yield Promise.all(m.map(function(){var Ce=(0,o.Z)(function*(rt){if(yield rt._isAvailable())return rt});return function(rt){return Ce.apply(this,arguments)}}()))).filter(Ce=>Ce);let M=A[0]||nt(Bn);const H=Qn(w,p.config.apiKey,p.name);let te=null;for(const Ce of m)try{const rt=yield Ce._get(H);if(rt){const et=ss._fromJSON(p,rt);Ce!==M&&(te=et),M=Ce;break}}catch{}const Pe=A.filter(Ce=>Ce._shouldAllowMigration);return M._shouldAllowMigration&&Pe.length?(M=Pe[0],te&&(yield M._set(H,te.toJSON())),yield Promise.all(m.map(function(){var Ce=(0,o.Z)(function*(rt){if(rt!==M)try{yield rt._remove(H)}catch{}});return function(rt){return Ce.apply(this,arguments)}}())),new Un(M,p,w)):new Un(M,p,w)})()}}function mr(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Pn(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(er(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(os(p))return"Blackberry";if(xi(p))return"Webos";if(Ke(p))return"Safari";if((p.includes("chrome/")||Lt(p))&&!p.includes("edge/"))return"Chrome";if(Oi(p))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function er(v=(0,L.z$)()){return/firefox\//i.test(v)}function Ke(v=(0,L.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Lt(v=(0,L.z$)()){return/crios\//i.test(v)}function Pn(v=(0,L.z$)()){return/iemobile/i.test(v)}function Oi(v=(0,L.z$)()){return/android/i.test(v)}function os(v=(0,L.z$)()){return/blackberry/i.test(v)}function xi(v=(0,L.z$)()){return/webos/i.test(v)}function kr(v=(0,L.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Ut(v=(0,L.z$)()){return kr(v)||Oi(v)||xi(v)||os(v)||/windows phone/i.test(v)||Pn(v)}function yo(v,p=[]){let m;switch(v){case"Browser":m=mr((0,L.z$)());break;case"Worker":m=`${mr((0,L.z$)())}-${v}`;break;default:m=v}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${ae.SDK_VERSION}/${w}`}class Rh{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const w=M=>new Promise((H,te)=>{try{H(p(M))}catch(Pe){te(Pe)}});w.onAbort=m,this.queue.push(w);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,o.Z)(function*(){var w;if(m.auth.currentUser===p)return;const A=[];try{for(const M of m.queue)yield M(p),M.onAbort&&A.push(M.onAbort)}catch(M){A.reverse();for(const H of A)try{H()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=M)||void 0===w?void 0:w.message})}})()}}class vo{constructor(p,m,w){this.app=p,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new la(this),this.idTokenSubscription=new la(this),this.beforeStateQueue=new Rh(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=nt(m)),this._initializationPromise=this.queue((0,o.Z)(function*(){var A,M;if(!w._deleted&&(w.persistenceManager=yield Un.create(w,p),!w._deleted)){if(null!==(A=w._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(M=w.currentUser)||void 0===M?void 0:M.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,o.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,o.Z)(function*(){var w;const A=yield m.assertedPersistence.getCurrentUser();let M=A,H=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const te=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,Pe=M?._redirectEventId,Ce=yield m.tryRedirectSignIn(p);(!te||te===Pe)&&Ce?.user&&(M=Ce.user,H=!0)}if(!M)return m.directlySetCurrentUser(null);if(!M._redirectEventId){if(H)try{yield m.beforeStateQueue.runMiddleware(M)}catch(te){M=A,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(te))}return M?m.reloadAndSetCurrentUserOrClear(M):m.directlySetCurrentUser(null)}return Oe(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===M._redirectEventId?m.directlySetCurrentUser(M):m.reloadAndSetCurrentUserOrClear(M)})()}tryRedirectSignIn(p){var m=this;return(0,o.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,o.Z)(function*(){var w;try{yield eo(p)}catch(A){if("auth/network-request-failed"!==(null===(w=A)||void 0===w?void 0:w.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function vt(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,o.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,o.Z)(function*(){const w=p?(0,L.m9)(p):null;return w&&Oe(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p,m=!1){var w=this;return(0,o.Z)(function*(){if(!w._deleted)return p&&Oe(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,o.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,o.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,o.Z)(function*(){yield m.assertedPersistence.setPersistence(nt(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,o.Z)(function*(){const A=yield w.getOrInitRedirectPersistenceManager(m);return null===p?A.removeCurrentUser():A.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,o.Z)(function*(){if(!m.redirectPersistenceManager){const w=p&&nt(p)||m._popupRedirectResolver;Oe(w,m,"argument-error"),m.redirectPersistenceManager=yield Un.create(m,[nt(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,o.Z)(function*(){var w,A;return m._isInitialized&&(yield m.queue((0,o.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,o.Z)(function*(){if(p===m.currentUser)return m.queue((0,o.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,A){if(this._deleted)return()=>{};const M="function"==typeof m?m:m.next.bind(m),H=this._isInitialized?Promise.resolve():this._initializationPromise;return Oe(H,this,"internal-error"),H.then(()=>M(this.currentUser)),"function"==typeof m?p.addObserver(m,w,A):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,o.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=yo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,o.Z)(function*(){var m;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const A=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return A&&(w["X-Firebase-Client"]=A),w})()}}function ln(v){return(0,L.m9)(v)}class la{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(m=>this.observer=m)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function as(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Rr(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class ca{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return Ri("not implemented")}_getIdTokenResponse(p){return Ri("not implemented")}_linkToIdToken(p,m){return Ri("not implemented")}_getReauthenticationResolver(p){return Ri("not implemented")}}function hl(v,p){return bc.apply(this,arguments)}function bc(){return(bc=(0,o.Z)(function*(v,p){return $n(v,"POST","/v1/accounts:resetPassword",on(v,p))})).apply(this,arguments)}function ua(v,p){return to.apply(this,arguments)}function to(){return(to=(0,o.Z)(function*(v,p){return $n(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function jr(v,p){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,o.Z)(function*(v,p){return $n(v,"POST","/v1/accounts:update",on(v,p))})).apply(this,arguments)}function tr(){return(tr=(0,o.Z)(function*(v,p){return Kn(v,"POST","/v1/accounts:signInWithPassword",on(v,p))})).apply(this,arguments)}function _r(v,p){return fl.apply(this,arguments)}function fl(){return(fl=(0,o.Z)(function*(v,p){return $n(v,"POST","/v1/accounts:sendOobCode",on(v,p))})).apply(this,arguments)}function wc(v,p){return pl.apply(this,arguments)}function pl(){return(pl=(0,o.Z)(function*(v,p){return _r(v,p)})).apply(this,arguments)}function Or(v,p){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,o.Z)(function*(v,p){return _r(v,p)})).apply(this,arguments)}function Oh(v,p){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,o.Z)(function*(v,p){return _r(v,p)})).apply(this,arguments)}function Gp(v,p){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,o.Z)(function*(v,p){return _r(v,p)})).apply(this,arguments)}function Zu(){return(Zu=(0,o.Z)(function*(v,p){return Kn(v,"POST","/v1/accounts:signInWithEmailLink",on(v,p))})).apply(this,arguments)}function Ec(){return(Ec=(0,o.Z)(function*(v,p){return Kn(v,"POST","/v1/accounts:signInWithEmailLink",on(v,p))})).apply(this,arguments)}class da extends ca{constructor(p,m,w,A=null){super("password",w),this._email=p,this._password=m,this._tenantId=A}static _fromEmailAndPassword(p,m){return new da(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new da(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,o.Z)(function*(){switch(m.signInMethod){case"password":return function Hp(v,p){return tr.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function x_(v,p){return Zu.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:vn(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,o.Z)(function*(){switch(w.signInMethod){case"password":return ua(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function D_(v,p){return Ec.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:vn(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Bo(v,p){return ha.apply(this,arguments)}function ha(){return(ha=(0,o.Z)(function*(v,p){return Kn(v,"POST","/v1/accounts:signInWithIdp",on(v,p))})).apply(this,arguments)}class Ms extends ca{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Ms(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):vn("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:A}=m,M=de(m,["providerId","signInMethod"]);if(!w||!A)return null;const H=new Ms(w,A);return H.idToken=M.idToken||void 0,H.accessToken=M.accessToken||void 0,H.secret=M.secret,H.nonce=M.nonce,H.pendingToken=M.pendingToken||null,H}_getIdTokenResponse(p){return Bo(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Bo(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Bo(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,L.xO)(m)}return p}}function Ph(v,p){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,o.Z)(function*(v,p){return $n(v,"POST","/v1/accounts:sendVerificationCode",on(v,p))})).apply(this,arguments)}function ks(){return(ks=(0,o.Z)(function*(v,p){return Kn(v,"POST","/v1/accounts:signInWithPhoneNumber",on(v,p))})).apply(this,arguments)}function zp(){return(zp=(0,o.Z)(function*(v,p){const m=yield Kn(v,"POST","/v1/accounts:signInWithPhoneNumber",on(v,p));if(m.temporaryProof)throw Xe(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const db={USER_NOT_FOUND:"user-not-found"};function nr(){return(nr=(0,o.Z)(function*(v,p){return Kn(v,"POST","/v1/accounts:signInWithPhoneNumber",on(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),db)})).apply(this,arguments)}class no extends ca{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new no({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new no({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function jp(v,p){return ks.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function ls(v,p){return zp.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function hb(v,p){return nr.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:A}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:A}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:A,temporaryProof:M}=p;return w||m||A||M?new no({verificationId:m,verificationCode:w,phoneNumber:A,temporaryProof:M}):null}}class pa{constructor(p){var m,w,A,M,H,te;const Pe=(0,L.zd)((0,L.pd)(p)),Ce=null!==(m=Pe.apiKey)&&void 0!==m?m:null,rt=null!==(w=Pe.oobCode)&&void 0!==w?w:null,et=function fa(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Pe.mode)&&void 0!==A?A:null);Oe(Ce&&rt&&et,"argument-error"),this.apiKey=Ce,this.operation=et,this.code=rt,this.continueUrl=null!==(M=Pe.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(H=Pe.languageCode)&&void 0!==H?H:null,this.tenantId=null!==(te=Pe.tenantId)&&void 0!==te?te:null}static parseLink(p){const m=function Ku(v){const p=(0,L.zd)((0,L.pd)(v)).link,m=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,w=(0,L.zd)((0,L.pd)(v)).deep_link_id;return(w?(0,L.zd)((0,L.pd)(w)).link:null)||w||m||p||v}(p);try{return new pa(m)}catch{return null}}}let gl=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,w){return da._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const A=pa.parseLink(w);return Oe(A,"argument-error"),da._fromEmailAndCode(m,A.code,A.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class zr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Uo extends zr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Rs extends Uo{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return Oe("providerId"in m&&"signInMethod"in m,"argument-error"),Ms._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Oe(p.idToken||p.accessToken,"argument-error"),Ms._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Rs.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Rs.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:A,pendingToken:M,nonce:H,providerId:te}=p;if(!w&&!A&&!m&&!M||!te)return null;try{return new Rs(te)._credential({idToken:m,accessToken:w,nonce:H,pendingToken:M})}catch{return null}}}let Lh=(()=>{class v extends Uo{constructor(){super("facebook.com")}static credential(m){return Ms._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),bn=(()=>{class v extends Uo{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return Ms._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:A}=m;if(!w&&!A)return null;try{return v.credential(w,A)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),ml=(()=>{class v extends Uo{constructor(){super("github.com")}static credential(m){return Ms._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class cs extends ca{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Bo(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Bo(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Bo(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:A,pendingToken:M}=m;return w&&A&&M&&w===A?new cs(w,M):null}static _create(p,m){return new cs(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class xc extends zr{constructor(p){Oe(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return xc.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return xc.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=cs.fromJSON(p);return Oe(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return cs._create(w,m)}catch{return null}}}let fi=(()=>{class v extends Uo{constructor(){super("twitter.com")}static credential(m,w){return Ms._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:A}=m;if(!w||!A)return null;try{return v.credential(w,A)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Dc(v,p){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,o.Z)(function*(v,p){return Kn(v,"POST","/v1/accounts:signUp",on(v,p))})).apply(this,arguments)}class Fi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,A=!1){return(0,o.Z)(function*(){const M=yield ss._fromIdTokenResponse(p,w,A),H=ir(w);return new Fi({user:M,providerId:H,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,o.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const A=ir(w);return new Fi({user:p,providerId:A,_tokenResponse:w,operationType:m})})()}}function ir(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Ac(){return(Ac=(0,o.Z)(function*(v){var p;const m=ln(v);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new Fi({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield Dc(m,{returnSecureToken:!0}),A=yield Fi._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class us extends L.ZR{constructor(p,m,w,A){var M;super(m.code,m.message),this.operationType=w,this.user=A,Object.setPrototypeOf(this,us.prototype),this.customData={appName:p.name,tenantId:null!==(M=p.tenantId)&&void 0!==M?M:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,A){return new us(p,m,w,A)}}function rr(v,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?us._fromErrorAndOperation(v,M,p,w):M})}function Ic(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function _l(){return(_l=(0,o.Z)(function*(v,p){const m=(0,L.m9)(v);yield ma(!0,m,p);const{providerUserInfo:w}=yield Kt(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),A=Ic(w||[]);return m.providerData=m.providerData.filter(M=>A.has(M.providerId)),A.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function ds(v,p){return ga.apply(this,arguments)}function ga(){return(ga=(0,o.Z)(function*(v,p,m=!1){const w=yield On(v,p._linkToIdToken(v.auth,yield v.getIdToken()),m);return Fi._forOperation(v,"link",w)})).apply(this,arguments)}function ma(v,p,m){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,o.Z)(function*(v,p,m){yield eo(p);const A=!1===v?"provider-already-linked":"no-such-provider";Oe(Ic(p.providerData).has(m)===v,p.auth,A)})).apply(this,arguments)}function ed(v,p){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,o.Z)(function*(v,p,m=!1){var w;const{auth:A}=v,M="reauthenticate";try{const H=yield On(v,rr(A,M,p,v),m);Oe(H.idToken,A,"internal-error");const te=Rn(H.idToken);Oe(te,A,"internal-error");const{sub:Pe}=te;return Oe(v.uid===Pe,A,"user-mismatch"),Fi._forOperation(v,M,H)}catch(H){throw"auth/user-not-found"===(null===(w=H)||void 0===w?void 0:w.code)&&vn(A,"user-mismatch"),H}})).apply(this,arguments)}function $p(v,p){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,o.Z)(function*(v,p,m=!1){const w="signIn",A=yield rr(v,w,p),M=yield Fi._fromIdTokenResponse(v,w,A);return m||(yield v._updateCurrentUser(M.user)),M})).apply(this,arguments)}function td(v,p){return nd.apply(this,arguments)}function nd(){return(nd=(0,o.Z)(function*(v,p){return $p(ln(v),p)})).apply(this,arguments)}function Bh(v,p){return Uh.apply(this,arguments)}function Uh(){return(Uh=(0,o.Z)(function*(v,p){const m=(0,L.m9)(v);return yield ma(!1,m,p.providerId),ds(m,p)})).apply(this,arguments)}function De(v,p){return rn.apply(this,arguments)}function rn(){return(rn=(0,o.Z)(function*(v,p){return ed((0,L.m9)(v),p)})).apply(this,arguments)}function Hh(v,p){return yl.apply(this,arguments)}function yl(){return(yl=(0,o.Z)(function*(v,p){return Kn(v,"POST","/v1/accounts:signInWithCustomToken",on(v,p))})).apply(this,arguments)}function _a(){return(_a=(0,o.Z)(function*(v,p){const m=ln(v),w=yield Hh(m,{token:p,returnSecureToken:!0}),A=yield Fi._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class bo{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?$i._fromServerResponse(p,m):vn(p,"internal-error")}}class $i extends bo{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new $i(m)}}function hs(v,p,m){var w;Oe((null===(w=m.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),Oe(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Oe(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(Oe(m.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function qp(){return(qp=(0,o.Z)(function*(v,p,m){const w=(0,L.m9)(v),A={requestType:"PASSWORD_RESET",email:p};m&&hs(w,A,m),yield Or(w,A)})).apply(this,arguments)}function id(){return(id=(0,o.Z)(function*(v,p,m){yield hl((0,L.m9)(v),{oobCode:p,newPassword:m})})).apply(this,arguments)}function si(){return(si=(0,o.Z)(function*(v,p){yield jr((0,L.m9)(v),{oobCode:p})})).apply(this,arguments)}function Os(v,p){return kc.apply(this,arguments)}function kc(){return(kc=(0,o.Z)(function*(v,p){const m=(0,L.m9)(v),w=yield hl(m,{oobCode:p}),A=w.requestType;switch(Oe(A,m,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Oe(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Oe(w.mfaInfo,m,"internal-error");default:Oe(w.email,m,"internal-error")}let M=null;return w.mfaInfo&&(M=bo._fromServerResponse(ln(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:M},operation:A}})).apply(this,arguments)}function Ps(){return(Ps=(0,o.Z)(function*(v,p){const{data:m}=yield Os((0,L.m9)(v),p);return m.email})).apply(this,arguments)}function Rc(){return(Rc=(0,o.Z)(function*(v,p,m){const w=ln(v),A=yield Dc(w,{returnSecureToken:!0,email:p,password:m}),M=yield Fi._fromIdTokenResponse(w,"signIn",A);return yield w._updateCurrentUser(M.user),M})).apply(this,arguments)}function ya(){return(ya=(0,o.Z)(function*(v,p,m){const w=(0,L.m9)(v),A={requestType:"EMAIL_SIGNIN",email:p};Oe(m.handleCodeInApp,w,"argument-error"),m&&hs(w,A,m),yield Oh(w,A)})).apply(this,arguments)}function rd(){return(rd=(0,o.Z)(function*(v,p,m){const w=(0,L.m9)(v),A=gl.credentialWithLink(p,m||zn());return Oe(A._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),td(w,A)})).apply(this,arguments)}function sd(v,p){return od.apply(this,arguments)}function od(){return(od=(0,o.Z)(function*(v,p){return $n(v,"POST","/v1/accounts:createAuthUri",on(v,p))})).apply(this,arguments)}function va(){return(va=(0,o.Z)(function*(v,p){const w={identifier:p,continueUri:Ei()?zn():"http://localhost"},{signinMethods:A}=yield sd((0,L.m9)(v),w);return A||[]})).apply(this,arguments)}function ad(){return(ad=(0,o.Z)(function*(v,p){const m=(0,L.m9)(v),A={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&hs(m.auth,A,p);const{email:M}=yield wc(m.auth,A);M!==v.email&&(yield v.reload())})).apply(this,arguments)}function Oc(){return(Oc=(0,o.Z)(function*(v,p,m){const w=(0,L.m9)(v),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};m&&hs(w.auth,M,m);const{email:H}=yield Gp(w.auth,M);H!==v.email&&(yield v.reload())})).apply(this,arguments)}function Qp(v,p){return Si.apply(this,arguments)}function Si(){return(Si=(0,o.Z)(function*(v,p){return $n(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function fs(){return(fs=(0,o.Z)(function*(v,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,L.m9)(v),M={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},H=yield On(w,Qp(w.auth,M));w.displayName=H.displayName||null,w.photoURL=H.photoUrl||null;const te=w.providerData.find(({providerId:Pe})=>"password"===Pe);te&&(te.displayName=w.displayName,te.photoURL=w.photoURL),yield w._updateTokensIfNecessary(H)})).apply(this,arguments)}function Ho(v,p,m){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,o.Z)(function*(v,p,m){const{auth:w}=v,M={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(M.email=p),m&&(M.password=m);const H=yield On(v,ua(w,M));yield v._updateTokensIfNecessary(H,!0)})).apply(this,arguments)}class ba{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class qh extends ba{constructor(p,m,w,A){super(p,m,w),this.username=A}}class Nc extends ba{constructor(p,m){super(p,"facebook.com",m)}}class Lc extends qh{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class pi extends ba{constructor(p,m){super(p,"google.com",m)}}class wa extends qh{constructor(p,m,w){super(p,"twitter.com",m,w)}}function ld(v){const{user:p,_tokenResponse:m}=v;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Fc(v){var p,m;if(!v)return null;const{providerId:w}=v,A=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},M=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&v?.idToken){const H=null===(m=null===(p=Rn(v.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(H)return new ba(M,"anonymous"!==H&&"custom"!==H?H:null)}if(!w)return null;switch(w){case"facebook.com":return new Nc(M,A);case"github.com":return new Lc(M,A);case"google.com":return new pi(M,A);case"twitter.com":return new wa(M,A,v.screenName||null);case"custom":case"anonymous":return new ba(M,null);default:return new ba(M,w,A)}}(m)}class Ea{constructor(p,m,w){this.type=p,this.credential=m,this.auth=w}static _fromIdtoken(p,m){return new Ea("enroll",p,m)}static _fromMfaPendingCredential(p){return new Ea("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Ea._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return Ea._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Yh{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=ln(p),A=m.customData._serverResponse,M=(A.mfaInfo||[]).map(te=>bo._fromServerResponse(w,te));Oe(A.mfaPendingCredential,w,"internal-error");const H=Ea._fromMfaPendingCredential(A.mfaPendingCredential);return new Yh(H,M,function(){var te=(0,o.Z)(function*(Pe){const Ce=yield Pe._process(w,H);delete A.mfaInfo,delete A.mfaPendingCredential;const rt=Object.assign(Object.assign({},A),{idToken:Ce.idToken,refreshToken:Ce.refreshToken});switch(m.operationType){case"signIn":const et=yield Fi._fromIdTokenResponse(w,m.operationType,rt);return yield w._updateCurrentUser(et.user),et;case"reauthenticate":return Oe(m.user,w,"internal-error"),Fi._forOperation(m.user,m.operationType,rt);default:vn(w,"internal-error")}});return function(Pe){return te.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,o.Z)(function*(){return m.signInResolver(p)})()}}function Cl(v,p){return $n(v,"POST","/v2/accounts/mfaEnrollment:start",on(v,p))}class Da{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>bo._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new Da(p)}getSession(){var p=this;return(0,o.Z)(function*(){return Ea._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var w=this;return(0,o.Z)(function*(){const A=p,M=yield w.getSession(),H=yield On(w.user,A._process(w.user.auth,M,m));return yield w.user._updateTokensIfNecessary(H),w.user.reload()})()}unenroll(p){var m=this;return(0,o.Z)(function*(){var w;const A="string"==typeof p?p:p.uid,M=yield m.user.getIdToken(),H=yield On(m.user,function Fs(v,p){return $n(v,"POST","/v2/accounts/mfaEnrollment:withdraw",on(v,p))}(m.user.auth,{idToken:M,mfaEnrollmentId:A}));m.enrolledFactors=m.enrolledFactors.filter(({uid:te})=>te!==A),yield m.user._updateTokensIfNecessary(H);try{yield m.user.reload()}catch(te){if("auth/user-token-expired"!==(null===(w=te)||void 0===w?void 0:w.code))throw te}})()}}const Sa=new WeakMap,Go="__sak";class xl{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Go,"1"),this.storage.removeItem(Go),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Aa=(()=>{class v extends xl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Dl(){const v=(0,L.z$)();return Ke(v)||kr(v)}()&&function Vo(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ut(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const A=this.storage.getItem(w),M=this.localCache[w];A!==M&&m(w,M,A)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((te,Pe,Ce)=>{this.notifyListeners(te,Ce)});const A=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const te=this.storage.getItem(A);if(m.newValue!==te)null!==m.newValue?this.storage.setItem(A,m.newValue):this.storage.removeItem(A);else if(this.localCache[A]===m.newValue&&!w)return}const M=()=>{const te=this.storage.getItem(A);!w&&this.localCache[A]===te||this.notifyListeners(A,te)},H=this.storage.getItem(A);!function Lo(){return(0,L.w1)()&&10===document.documentMode}()||H===m.newValue||m.newValue===m.oldValue?M():setTimeout(M,10)}notifyListeners(m,w){this.localCache[m]=w;const A=this.listeners[m];if(A)for(const M of Array.from(A))M(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var A=()=>super._set,M=this;return(0,o.Z)(function*(){yield A().call(M,m,w),M.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,A=this;return(0,o.Z)(function*(){const M=yield w().call(A,m);return A.localCache[m]=JSON.stringify(M),M})()}_remove(m){var w=()=>super._remove,A=this;return(0,o.Z)(function*(){yield w().call(A,m),delete A.localCache[m]})()}}return v.type="LOCAL",v})(),gi=(()=>{class v extends xl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return v.type="SESSION",v})();let hd=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(M=>M.isListeningto(m));if(w)return w;const A=new v(m);return this.receivers.push(A),A}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,o.Z)(function*(){const A=m,{eventId:M,eventType:H,data:te}=A.data,Pe=w.handlersMap[H];if(!Pe?.size)return;A.ports[0].postMessage({status:"ack",eventId:M,eventType:H});const Ce=Array.from(Pe).map(function(){var et=(0,o.Z)(function*(Jt){return Jt(A.origin,te)});return function(Jt){return et.apply(this,arguments)}}()),rt=yield function Zh(v){return Promise.all(v.map(function(){var p=(0,o.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(Ce);A.ports[0].postMessage({status:"done",eventId:M,eventType:H,response:rt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Ns(v="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return v+m}class ng{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var A=this;return(0,o.Z)(function*(){const M=typeof MessageChannel<"u"?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let H,te;return new Promise((Pe,Ce)=>{const rt=Ns("",20);M.port1.start();const et=setTimeout(()=>{Ce(new Error("unsupported_event"))},w);te={messageChannel:M,onMessage(Jt){const sr=Jt;if(sr.data.eventId===rt)switch(sr.data.status){case"ack":clearTimeout(et),H=setTimeout(()=>{Ce(new Error("timeout"))},3e3);break;case"done":clearTimeout(H),Pe(sr.data.response);break;default:clearTimeout(et),clearTimeout(H),Ce(new Error("invalid_response"))}}},A.handlers.add(te),M.port1.addEventListener("message",te.onMessage),A.target.postMessage({eventType:p,eventId:rt,data:m},[M.port2])}).finally(()=>{te&&A.removeMessageHandler(te)})})()}}function wn(){return window}function Hc(){return typeof wn().WorkerGlobalScope<"u"&&"function"==typeof wn().importScripts}function Sl(){return(Sl=(0,o.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Al="firebaseLocalStorageDb",wo="firebaseLocalStorage",Kh="fbase_key";class zc{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Il(v,p){return v.transaction([wo],p?"readwrite":"readonly").objectStore(wo)}function Tl(){const v=indexedDB.open(Al,1);return new Promise((p,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(wo,{keyPath:Kh})}catch(A){m(A)}}),v.addEventListener("success",(0,o.Z)(function*(){const w=v.result;w.objectStoreNames.contains(wo)?p(w):(w.close(),yield function jo(){const v=indexedDB.deleteDatabase(Al);return new zc(v).toPromise()}(),p(yield Tl()))}))})}function Qh(v,p,m){return fd.apply(this,arguments)}function fd(){return(fd=(0,o.Z)(function*(v,p,m){const w=Il(v,!0).put({[Kh]:p,value:m});return new zc(w).toPromise()})).apply(this,arguments)}function $c(){return($c=(0,o.Z)(function*(v,p){const m=Il(v,!1).get(p),w=yield new zc(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Ls(v,p){const m=Il(v,!0).delete(p);return new zc(m).toPromise()}const io=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,o.Z)(function*(){return m.db||(m.db=yield Tl()),m.db})()}_withRetries(m){var w=this;return(0,o.Z)(function*(){let A=0;for(;;)try{const M=yield w._openDb();return yield m(M)}catch(M){if(A++>3)throw M;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,o.Z)(function*(){return Hc()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,o.Z)(function*(){m.receiver=hd._getInstance(function gs(){return Hc()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,o.Z)(function*(A,M){return{keyProcessed:(yield m._poll()).includes(M.key)}});return function(A,M){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,o.Z)(function*(A,M){return["keyChanged"]});return function(A,M){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,o.Z)(function*(){var w,A;if(m.activeServiceWorker=yield function Ia(){return Sl.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new ng(m.activeServiceWorker);const M=yield m.sender._send("ping",{},800);!M||(null===(w=M[0])||void 0===w?void 0:w.fulfilled)&&(null===(A=M[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,o.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Gc(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Tl();return yield Qh(m,Go,"1"),yield Ls(m,Go),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,o.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var A=this;return(0,o.Z)(function*(){return A._withPendingWrite((0,o.Z)(function*(){return yield A._withRetries(M=>Qh(M,m,w)),A.localCache[m]=w,A.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,o.Z)(function*(){const A=yield w._withRetries(M=>function fb(v,p){return $c.apply(this,arguments)}(M,m));return w.localCache[m]=A,A})()}_remove(m){var w=this;return(0,o.Z)(function*(){return w._withPendingWrite((0,o.Z)(function*(){return yield w._withRetries(A=>Ls(A,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,o.Z)(function*(){const w=yield m._withRetries(H=>{const te=Il(H,!1).getAll();return new zc(te).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const A=[],M=new Set;for(const{fbase_key:H,value:te}of w)M.add(H),JSON.stringify(m.localCache[H])!==JSON.stringify(te)&&(m.notifyListeners(H,te),A.push(H));for(const H of Object.keys(m.localCache))m.localCache[H]&&!M.has(H)&&(m.notifyListeners(H,null),A.push(H));return A})()}notifyListeners(m,w){this.localCache[m]=w;const A=this.listeners[m];if(A)for(const M of Array.from(A))M(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Xh(v,p){return $n(v,"POST","/v2/accounts/mfaSignIn:start",on(v,p))}function pd(){return(pd=(0,o.Z)(function*(v){return(yield $n(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function T_(v){return new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=p,w.onerror=A=>{const M=Vn("internal-error");M.customData=A,m(M)},w.type="text/javascript",w.charset="UTF-8",function kn(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(w)})}function gb(v){return`__${v}${Math.floor(1e6*Math.random())}`}const gd=1e12;class yb{constructor(p){this.auth=p,this.counter=gd,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new vb(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||gd;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||gd))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,o.Z)(function*(){var w;return null===(w=m._widgets.get(p||gd))||void 0===w||w.execute(),""})()}}class vb{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof p?document.getElementById(p):p;Oe(A,"argument-error",{appName:m}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ma(v){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<v;w++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const md=gb("rcb"),ig=new bt(3e4,6e4);class ms{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=wn().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return Oe(function zo(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(wn().grecaptcha):new Promise((w,A)=>{const M=wn().setTimeout(()=>{A(Vn(p,"network-request-failed"))},ig.get());wn()[md]=()=>{wn().clearTimeout(M),delete wn()[md];const te=wn().grecaptcha;if(!te)return void A(Vn(p,"internal-error"));const Pe=te.render;te.render=(Ce,rt)=>{const et=Pe(Ce,rt);return this.counter++,et},this.hostLanguage=m,w(te)},T_(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:md,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(M),A(Vn(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=wn().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class _d{load(p){return(0,o.Z)(function*(){return new yb(p)})()}clearedOneInstance(){}}const M_="recaptcha",Xt={theme:"light",type:"image"};class $r{constructor(p,m=Object.assign({},Xt),w){this.parameters=m,this.type=M_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ln(w),this.isInvisible="invisible"===this.parameters.size,Oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof p?document.getElementById(p):p;Oe(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _d:new ms,this.validateStartingState()}verify(){var p=this;return(0,o.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(M=>{const H=te=>{!te||(p.tokenChangeListeners.delete(H),M(te))};p.tokenChangeListeners.add(H),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Oe(!this.parameters.sitekey,this.auth,"argument-error"),Oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=wn()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){Oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,o.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,o.Z)(function*(){Oe(Ei()&&!Hc(),p.auth,"internal-error"),yield function Je(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function pb(v){return pd.apply(this,arguments)}(p.auth);Oe(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return Oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class lt{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=no._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Rl(){return(Rl=(0,o.Z)(function*(v,p,m){const w=ln(v),A=yield _s(w,p,(0,L.m9)(m));return new lt(A,M=>td(w,M))})).apply(this,arguments)}function Jn(){return(Jn=(0,o.Z)(function*(v,p,m){const w=(0,L.m9)(v);yield ma(!1,w,"phone");const A=yield _s(w.auth,p,(0,L.m9)(m));return new lt(A,M=>Bh(w,M))})).apply(this,arguments)}function Jh(){return(Jh=(0,o.Z)(function*(v,p,m){const w=(0,L.m9)(v),A=yield _s(w.auth,p,(0,L.m9)(m));return new lt(A,M=>De(w,M))})).apply(this,arguments)}function _s(v,p,m){return yr.apply(this,arguments)}function yr(){return(yr=(0,o.Z)(function*(v,p,m){var w;const A=yield m.verify();try{let M;if(Oe("string"==typeof A,v,"argument-error"),Oe(m.type===M_,v,"argument-error"),M="string"==typeof p?{phoneNumber:p}:p,"session"in M){const H=M.session;if("phoneNumber"in M)return Oe("enroll"===H.type,v,"internal-error"),(yield Cl(v,{idToken:H.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{Oe("signin"===H.type,v,"internal-error");const te=(null===(w=M.multiFactorHint)||void 0===w?void 0:w.uid)||M.multiFactorUid;return Oe(te,v,"missing-multi-factor-info"),(yield Xh(v,{mfaPendingCredential:H.credential,mfaEnrollmentId:te,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:H}=yield Ph(v,{phoneNumber:M.phoneNumber,recaptchaToken:A});return H}}finally{m._reset()}})).apply(this,arguments)}function ro(){return(ro=(0,o.Z)(function*(v,p){yield ds((0,L.m9)(v),p)})).apply(this,arguments)}let so=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=ln(m)}verifyPhoneNumber(m,w){return _s(this.auth,m,(0,L.m9)(w))}static credential(m,w){return no._fromVerification(m,w)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:A}=m;return w&&A?no._fromTokenResponse(w,A):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function qe(v,p){return p?nt(p):(Oe(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class ef extends ca{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Bo(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Bo(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Bo(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function S(v){return $p(v.auth,new ef(v),v.bypassAuthState)}function I(v){const{auth:p,user:m}=v;return Oe(m,p,"internal-error"),ed(m,new ef(v),v.bypassAuthState)}function R(v){return B.apply(this,arguments)}function B(){return(B=(0,o.Z)(function*(v){const{auth:p,user:m}=v;return Oe(m,p,"internal-error"),ds(m,new ef(v),v.bypassAuthState)})).apply(this,arguments)}class K{constructor(p,m,w,A,M=!1){this.auth=p,this.resolver=w,this.user=A,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,o.Z)(function*(w,A){p.pendingPromise={resolve:w,reject:A};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(M){p.reject(M)}});return function(w,A){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,o.Z)(function*(){const{urlResponse:w,sessionId:A,postBody:M,tenantId:H,error:te,type:Pe}=p;if(te)return void m.reject(te);const Ce={auth:m.auth,requestUri:w,sessionId:A,tenantId:H||void 0,postBody:M||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Pe)(Ce))}catch(rt){m.reject(rt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return S;case"linkViaPopup":case"linkViaRedirect":return R;case"reauthViaPopup":case"reauthViaRedirect":return I;default:vn(this.auth,"internal-error")}}resolve(p){an(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){an(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const oe=new bt(2e3,1e4);function je(){return(je=(0,o.Z)(function*(v,p,m){const w=ln(v);Hr(v,p,zr);const A=qe(w,m);return new Hn(w,"signInViaPopup",p,A).executeNotNull()})).apply(this,arguments)}function Pt(){return(Pt=(0,o.Z)(function*(v,p,m){const w=(0,L.m9)(v);Hr(w.auth,p,zr);const A=qe(w.auth,m);return new Hn(w.auth,"reauthViaPopup",p,A,w).executeNotNull()})).apply(this,arguments)}function ft(){return(ft=(0,o.Z)(function*(v,p,m){const w=(0,L.m9)(v);Hr(w.auth,p,zr);const A=qe(w.auth,m);return new Hn(w.auth,"linkViaPopup",p,A,w).executeNotNull()})).apply(this,arguments)}let Hn=(()=>{class v extends K{constructor(m,w,A,M,H){super(m,w,M,H),this.provider=A,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,o.Z)(function*(){const w=yield m.execute();return Oe(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,o.Z)(function*(){an(1===m.filter.length,"Popup operations only handle one event");const w=Ns();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(A=>{m.reject(A)}),m.resolver._isIframeWebStorageSupported(m.auth,A=>{A||m.reject(Vn(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,A;this.pollId=null!==(A=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Vn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,oe.get())};m()}}return v.currentPopupAction=null,v})();const ai=new Map;class ys extends K{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,o.Z)(function*(){let w=ai.get(m.auth._key());if(!w){try{const M=(yield function Pr(v,p){return mi.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(M)}catch(A){w=()=>Promise.reject(A)}ai.set(m.auth._key(),w)}return m.bypassAuthState||ai.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,o.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const A=yield w.auth._redirectUserForId(p.eventId);if(A)return w.user=A,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function mi(){return(mi=(0,o.Z)(function*(v,p){const m=vr(p),w=Gn(v);if(!(yield w._isAvailable()))return!1;const A="true"===(yield w._get(m));return yield w._remove(m),A})).apply(this,arguments)}function En(v,p){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,o.Z)(function*(v,p){return Gn(v)._set(vr(p),"true")})).apply(this,arguments)}function An(v,p){ai.set(v._key(),p)}function Gn(v){return nt(v._redirectPersistence)}function vr(v){return Qn("pendingRedirect",v.config.apiKey,v.name)}function Wc(){return(Wc=(0,o.Z)(function*(v,p,m){const w=ln(v);Hr(v,p,zr);const A=qe(w,m);return yield En(A,w),A._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function Vs(){return(Vs=(0,o.Z)(function*(v,p,m){const w=(0,L.m9)(v);Hr(w.auth,p,zr);const A=qe(w.auth,m);yield En(A,w.auth);const M=yield vd(w);return A._openRedirect(w.auth,p,"reauthViaRedirect",M)})).apply(this,arguments)}function xo(){return(xo=(0,o.Z)(function*(v,p,m){const w=(0,L.m9)(v);Hr(w.auth,p,zr);const A=qe(w.auth,m);yield ma(!1,w,p.providerId),yield En(A,w.auth);const M=yield vd(w);return A._openRedirect(w.auth,p,"linkViaRedirect",M)})).apply(this,arguments)}function Oa(){return(Oa=(0,o.Z)(function*(v,p){return yield ln(v)._initializationPromise,Yc(v,p,!1)})).apply(this,arguments)}function Yc(v,p){return nf.apply(this,arguments)}function nf(){return(nf=(0,o.Z)(function*(v,p,m=!1){const w=ln(v),A=qe(w,p),H=yield new ys(w,A,m).execute();return H&&!m&&(delete H.user._redirectEventId,yield w._persistUserIfCurrent(H.user),yield w._setRedirectUser(null,p)),H})).apply(this,arguments)}function vd(v){return rf.apply(this,arguments)}function rf(){return(rf=(0,o.Z)(function*(v){const p=Ns(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class $t{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function wd(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bb(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!bb(p)){const A=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Vn(this.auth,A))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(bd(p))}saveEventToCache(p){this.cachedEventUids.add(bd(p)),this.lastProcessedEventTime=Date.now()}}function bd(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function bb({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function wb(v){return O_.apply(this,arguments)}function O_(){return(O_=(0,o.Z)(function*(v,p={}){return $n(v,"GET","/v1/projects",p)})).apply(this,arguments)}const Do=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sg=/^https?/;function Cd(){return(Cd=(0,o.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield wb(v);for(const m of p)try{if(Cb(m))return}catch{}vn(v,"unauthorized-domain")})).apply(this,arguments)}function Cb(v){const p=zn(),{protocol:m,hostname:w}=new URL(p);if(v.startsWith("chrome-extension://")){const H=new URL(v);return""===H.hostname&&""===w?"chrome-extension:"===m&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&H.hostname===w}if(!sg.test(m))return!1;if(Do.test(v))return w===v;const A=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(w)}const Wi=new bt(3e4,6e4);function Yi(){const v=wn().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let lf=null;function P_(v){return lf=lf||function af(v){return new Promise((p,m)=>{var w,A,M;function H(){Yi(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Yi(),m(Vn(v,"network-request-failed"))},timeout:Wi.get()})}if(null!==(A=null===(w=wn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==A&&A.Iframe)p(gapi.iframes.getContext());else{if(null===(M=wn().gapi)||void 0===M||!M.load){const te=gb("iframefcb");return wn()[te]=()=>{gapi.load?H():m(Vn(v,"network-request-failed"))},T_(`https://apis.google.com/js/api.js?onload=${te}`).catch(Pe=>m(Pe))}H()}}).catch(p=>{throw lf=null,p})}(v),lf}const og=new bt(5e3,15e3),Eb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lg(v){const p=v.config;Oe(p.authDomain,v,"auth-domain-config-required");const m=p.emulator?ns(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:v.name,v:ae.SDK_VERSION},A=N_.get(v.config.apiHost);A&&(w.eid=A);const M=v._getFrameworks();return M.length&&(w.fw=M.join(",")),`${m}?${(0,L.xO)(w).slice(1)}`}function $o(){return $o=(0,o.Z)(function*(v){const p=yield P_(v),m=wn().gapi;return Oe(m,v,"internal-error"),p.open({where:document.body,url:lg(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Eb,dontclear:!0},w=>new Promise(function(){var A=(0,o.Z)(function*(M,H){yield w.restyle({setHideOnLeave:!1});const te=Vn(v,"network-request-failed"),Pe=wn().setTimeout(()=>{H(te)},og.get());function Ce(){wn().clearTimeout(Pe),M(w)}w.ping(Ce).then(Ce,()=>{H(te)})});return function(M,H){return A.apply(this,arguments)}}()))}),$o.apply(this,arguments)}const Ct={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class So{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hf(v,p,m,w,A,M){Oe(v.config.authDomain,v,"auth-domain-config-required"),Oe(v.config.apiKey,v,"invalid-api-key");const H={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:w,v:ae.SDK_VERSION,eventId:A};if(p instanceof zr){p.setDefaultLanguage(v.languageCode),H.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||(H.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Pe,Ce]of Object.entries(M||{}))H[Pe]=Ce}if(p instanceof Uo){const Pe=p.getScopes().filter(Ce=>""!==Ce);Pe.length>0&&(H.scopes=Pe.join(","))}v.tenantId&&(H.tid=v.tenantId);const te=H;for(const Pe of Object.keys(te))void 0===te[Pe]&&delete te[Pe];return`${function Ed({config:v}){return v.emulator?ns(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,L.xO)(te).slice(1)}`}const cg="webStorageSupport",xd=class ff{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gi,this._completeRedirectFn=Yc,this._overrideRedirectResult=An}_openPopup(p,m,w,A){var M=this;return(0,o.Z)(function*(){var H;an(null===(H=M.eventManagers[p._key()])||void 0===H?void 0:H.manager,"_initialize() not called before _openPopup()");const te=hf(p,m,w,zn(),A);return function uf(v,p,m,w=500,A=600){const M=Math.max((window.screen.availHeight-A)/2,0).toString(),H=Math.max((window.screen.availWidth-w)/2,0).toString();let te="";const Pe=Object.assign(Object.assign({},Ct),{width:w.toString(),height:A.toString(),top:M,left:H}),Ce=(0,L.z$)().toLowerCase();m&&(te=Lt(Ce)?"_blank":m),er(Ce)&&(p=p||"http://localhost",Pe.scrollbars="yes");const rt=Object.entries(Pe).reduce((Jt,[sr,Fa])=>`${Jt}${sr}=${Fa},`,"");if(function yc(v=(0,L.z$)()){var p;return kr(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Ce)&&"_self"!==te)return function V_(v,p){const m=document.createElement("a");m.href=v,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",te),new So(null);const et=window.open(p||"",te,rt);Oe(et,v,"popup-blocked");try{et.focus()}catch{}return new So(et)}(p,te,Ns())})()}_openRedirect(p,m,w,A){var M=this;return(0,o.Z)(function*(){return yield M._originValidation(p),function Uc(v){wn().location.href=v}(hf(p,m,w,zn(),A)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:A,promise:M}=this.eventManagers[m];return A?Promise.resolve(A):(an(M,"If manager is not set, promise should be"),M)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(p){var m=this;return(0,o.Z)(function*(){const w=yield function cf(v){return $o.apply(this,arguments)}(p),A=new $t(p);return w.register("authEvent",M=>(Oe(M?.authEvent,p,"invalid-auth-event"),{status:A.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:A},m.iframes[p._key()]=w,A})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(cg,{type:cg},A=>{var M;const H=null===(M=A?.[0])||void 0===M?void 0:M[cg];void 0!==H&&m(!!H),vn(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function sf(v){return Cd.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Ut()||Ke()||kr()}};class B_{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return Ri("unexpected MultiFactorSessionType")}}}class Kc extends B_{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Kc(p)}_finalizeEnroll(p,m,w){return function eg(v,p){return $n(v,"POST","/v2/accounts/mfaEnrollment:finalize",on(v,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function kl(v,p){return $n(v,"POST","/v2/accounts/mfaSignIn:finalize",on(v,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ug=(()=>{class v{constructor(){}static assertion(m){return Kc._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var U_="@firebase/auth",dg="0.20.11";class pf{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,o.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{var A;p((null===(A=w)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Bs(){return window}function G_(){return(G_=(0,o.Z)(function*(v,p,m){var w;const{BuildInfo:A}=Bs();an(p.sessionId,"AuthEvent did not contain a session ID");const M=yield j_(p.sessionId),H={};return kr()?H.ibi=A.packageName:Oi()?H.apn=A.packageName:vn(v,"operation-not-supported-in-this-environment"),A.displayName&&(H.appDisplayName=A.displayName),H.sessionId=M,hf(v,m,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,H)})).apply(this,arguments)}function pg(){return(pg=(0,o.Z)(function*(v){const{BuildInfo:p}=Bs(),m={};kr()?m.iosBundleId=p.packageName:Oi()?m.androidPackageName=p.packageName:vn(v,"operation-not-supported-in-this-environment"),yield wb(v,m)})).apply(this,arguments)}function Pl(){return(Pl=(0,o.Z)(function*(v,p,m){const{cordova:w}=Bs();let A=()=>{};try{yield new Promise((M,H)=>{let te=null;function Pe(){var et;M();const Jt=null===(et=w.plugins.browsertab)||void 0===et?void 0:et.close;"function"==typeof Jt&&Jt(),"function"==typeof m?.close&&m.close()}function Ce(){te||(te=window.setTimeout(()=>{H(Vn(v,"redirect-cancelled-by-user"))},2e3))}function rt(){"visible"===document?.visibilityState&&Ce()}p.addPassiveListener(Pe),document.addEventListener("resume",Ce,!1),Oi()&&document.addEventListener("visibilitychange",rt,!1),A=()=>{p.removePassiveListener(Pe),document.removeEventListener("resume",Ce,!1),document.removeEventListener("visibilitychange",rt,!1),te&&window.clearTimeout(te)}})}finally{A()}})).apply(this,arguments)}function j_(v){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,o.Z)(function*(v){const p=yf(v),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function yf(v){if(an(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const p=new ArrayBuffer(v.length),m=new Uint8Array(p);for(let w=0;w<v.length;w++)m[w]=v.charCodeAt(w);return m}(0,L.Pz)("authIdTokenMaxAge"),function xb(v){(0,ae._registerComponent)(new wt.wA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),A=p.getProvider("heartbeat"),{apiKey:M,authDomain:H}=w.options;return((te,Pe)=>{Oe(M&&!M.includes(":"),"invalid-api-key",{appName:te.name}),Oe(!H?.includes(":"),"argument-error",{appName:te.name});const Ce={apiKey:M,authDomain:H,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yo(v)},rt=new vo(te,Pe,Ce);return function Qs(v,p){const m=p?.persistence||[],w=(Array.isArray(m)?m:[m]).map(nt);p?.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(w,p?.popupRedirectResolver)}(rt,m),rt})(w,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new wt.wA("auth-internal",p=>{const m=ln(p.getProvider("auth").getImmediate());return new pf(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(U_,dg,function Dd(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,ae.registerVersion)(U_,dg,"esm2017")}("Browser");class gg extends $t{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,o.Z)(function*(){yield p.initPromise})()}}function mg(v){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,o.Z)(function*(v){const p=yield Jc()._get(_g(v));return p&&(yield Jc()._remove(_g(v))),p})).apply(this,arguments)}function $_(){const v=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const w=Math.floor(Math.random()*p.length);v.push(p.charAt(w))}return v.join("")}function Jc(){return nt(Aa)}function _g(v){return Qn("authEvent",v.config.apiKey,v.name)}function Us(v){if(!v?.includes("?"))return{};const[p,...m]=v.split("?");return(0,L.zd)(m.join("?"))}const Td=class Pa{constructor(){this._redirectPersistence=gi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Yc,this._overrideRedirectResult=An}_initialize(p){var m=this;return(0,o.Z)(function*(){const w=p._key();let A=m.eventManagers.get(w);return A||(A=new gg(p),m.eventManagers.set(w,A),m.attachCallbackListeners(p,A)),A})()}_openPopup(p){vn(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,w,A){var M=this;return(0,o.Z)(function*(){!function Qc(v){var p,m,w,A,M,H,te,Pe,Ce,rt;const et=Bs();Oe("function"==typeof(null===(p=et?.universalLinks)||void 0===p?void 0:p.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Oe(typeof(null===(m=et?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Oe("function"==typeof(null===(M=null===(A=null===(w=et?.cordova)||void 0===w?void 0:w.plugins)||void 0===A?void 0:A.browsertab)||void 0===M?void 0:M.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Oe("function"==typeof(null===(Pe=null===(te=null===(H=et?.cordova)||void 0===H?void 0:H.plugins)||void 0===te?void 0:te.browsertab)||void 0===Pe?void 0:Pe.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Oe("function"==typeof(null===(rt=null===(Ce=et?.cordova)||void 0===Ce?void 0:Ce.InAppBrowser)||void 0===rt?void 0:rt.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const H=yield M._initialize(p);yield H.initialized(),H.resetRedirect(),function Eo(){ai.clear()}(),yield M._originValidation(p);const te=function Ab(v,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:$_(),postBody:null,tenantId:v.tenantId,error:Vn(v,"no-auth-event")}}(p,w,A);yield function z_(v,p){return Jc()._set(_g(v),p)}(p,te);const Pe=yield function _f(v,p,m){return G_.apply(this,arguments)}(p,te,m),Ce=yield function Sb(v){const{cordova:p}=Bs();return new Promise(m=>{p.plugins.browsertab.isAvailable(w=>{let A=null;w?p.plugins.browsertab.openUrl(v):A=p.InAppBrowser.open(v,function gn(v=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),m(A)})})}(Pe);return function Sd(v,p,m){return Pl.apply(this,arguments)}(p,H,Ce)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function fg(v){return pg.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:w,handleOpenURL:A,BuildInfo:M}=Bs(),H=setTimeout((0,o.Z)(function*(){yield mg(p),m.onEvent(Md())}),500),te=function(){var rt=(0,o.Z)(function*(et){clearTimeout(H);const Jt=yield mg(p);let sr=null;Jt&&et?.url&&(sr=function oo(v,p){var m,w;const A=function Id(v){const p=Us(v),m=p.link?decodeURIComponent(p.link):void 0,w=Us(m).link,A=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Us(A).link||A||w||m||v}(p);if(A.includes("/__/auth/callback")){const M=Us(A),H=M.firebaseError?function Ib(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(M.firebaseError)):null,te=null===(w=null===(m=H?.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],Pe=te?Vn(te):null;return Pe?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Pe,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:A,postBody:null}}return null}(Jt,et.url)),m.onEvent(sr||Md())});return function(Jt){return rt.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,te);const Pe=A,Ce=`${M.packageName.toLowerCase()}://`;Bs().handleOpenURL=function(){var rt=(0,o.Z)(function*(et){if(et.toLowerCase().startsWith(Ce)&&te({url:et}),"function"==typeof Pe)try{Pe(et)}catch(Jt){console.error(Jt)}});return function(et){return rt.apply(this,arguments)}}()}};function Md(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Vn("no-auth-event")}}function Nl(){var v;return(null===(v=self?.location)||void 0===v?void 0:v.protocol)||null}function Cf(v=(0,L.z$)()){return!("file:"!==Nl()&&"ionic:"!==Nl()&&"capacitor:"!==Nl()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function vg(){try{const v=self.localStorage,p=Ns();if(v)return v.setItem(p,"1"),v.removeItem(p),!function Mb(v=(0,L.z$)()){return function Tb(){return(0,L.w1)()&&11===document?.documentMode}()||function Y_(v=(0,L.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,L.hl)()}catch{return bg()&&(0,L.hl)()}return!1}function bg(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Rd(){return(function yg(){return"http:"===Nl()||"https:"===Nl()}()||(0,L.ru)()||Cf())&&!function kd(){return(0,L.b$)()||(0,L.UG)()}()&&vg()&&!bg()}function Od(){return Cf()&&typeof document<"u"}function vs(){return(vs=(0,o.Z)(function*(){return!!Od()&&new Promise(v=>{const p=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),v(!0)})})})).apply(this,arguments)}const qr={LOCAL:"local",NONE:"none",SESSION:"session"},tu=Oe,kb="persistence";function nu(v){return wg.apply(this,arguments)}function wg(){return(wg=(0,o.Z)(function*(v){yield v._initializationPromise;const p=iu(),m=Qn(kb,v.config.apiKey,v.name);p&&p.setItem(m,v._getPersistence())})).apply(this,arguments)}function iu(){var v;try{return(null===(v=function Hs(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const Fd=Oe;class Ao{constructor(){this.browserResolver=nt(xd),this.cordovaResolver=nt(Td),this.underlyingResolver=null,this._redirectPersistence=gi,this._completeRedirectFn=Yc,this._overrideRedirectResult=An}_initialize(p){var m=this;return(0,o.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,w,A){var M=this;return(0,o.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(p,m,w,A)})()}_openRedirect(p,m,w,A){var M=this;return(0,o.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(p,m,w,A)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Od()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Fd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,o.Z)(function*(){if(p.underlyingResolver)return;const m=yield function eu(){return vs.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function Nd(v){return v.unwrap()}function Vl(v){return Z_(v)}function Z_(v){const{_tokenResponse:p}=v instanceof L.ZR?v.customData:v;if(!p)return null;if(!(v instanceof L.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return so.credentialFromResult(v);const m=p.providerId;if(!m||"password"===m)return null;let w;switch(m){case"google.com":w=bn;break;case"facebook.com":w=Lh;break;case"github.com":w=ml;break;case"twitter.com":w=fi;break;default:const{oauthIdToken:A,oauthAccessToken:M,oauthTokenSecret:H,pendingToken:te,nonce:Pe}=p;return M||H||A||te?te?m.startsWith("saml.")?cs._create(m,te):Ms._fromParams({providerId:m,signInMethod:m,pendingToken:te,idToken:A,accessToken:M}):new Rs(m).credential({idToken:A,accessToken:M,rawNonce:Pe}):null}return v instanceof L.ZR?w.credentialFromError(v):w.credentialFromResult(v)}function Wr(v,p){return p.catch(m=>{throw m instanceof L.ZR&&function Ld(v,p){var m,w;const A=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(w=p)||void 0===w?void 0:w.code))p.resolver=new Io(v,function xa(v,p){var m;const w=(0,L.m9)(v),A=p;return Oe(p.customData.operationType,w,"argument-error"),Oe(null===(m=A.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),Yh._fromError(w,A)}(v,p));else if(A){const M=Z_(p),H=p;M&&(H.credential=M,H.tenantId=A.tenantId||void 0,H.email=A.email||void 0,H.phoneNumber=A.phoneNumber||void 0)}}(v,m),m}).then(m=>{const A=m.user;return{operationType:m.operationType,credential:Vl(m),additionalUserInfo:ld(m),user:Nr.getOrCreate(A)}})}function Vd(v,p){return xf.apply(this,arguments)}function xf(){return(xf=(0,o.Z)(function*(v,p){const m=yield p;return{verificationId:m.verificationId,confirm:w=>Wr(v,m.confirm(w))}})).apply(this,arguments)}class Io{constructor(p,m){this.resolver=m,this.auth=function Ef(v){return v.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Wr(Nd(this.auth),this.resolver.resolveSignIn(p))}}class Nr{constructor(p){this._delegate=p,this.multiFactor=function El(v){const p=(0,L.m9)(v);return Sa.has(p)||Sa.set(p,Da._fromUser(p)),Sa.get(p)}(p)}static getOrCreate(p){return Nr.USER_MAP.has(p)||Nr.USER_MAP.set(p,new Nr(p)),Nr.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,o.Z)(function*(){return Wr(m.auth,Bh(m._delegate,p))})()}linkWithPhoneNumber(p,m){var w=this;return(0,o.Z)(function*(){return Vd(w.auth,function qc(v,p,m){return Jn.apply(this,arguments)}(w._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,o.Z)(function*(){return Wr(m.auth,function kt(v,p,m){return ft.apply(this,arguments)}(m._delegate,p,Ao))})()}linkWithRedirect(p){var m=this;return(0,o.Z)(function*(){return yield nu(ln(m.auth)),function Ra(v,p,m){return function li(v,p,m){return xo.apply(this,arguments)}(v,p,m)}(m._delegate,p,Ao)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,o.Z)(function*(){return Wr(m.auth,De(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return Vd(this.auth,function ka(v,p,m){return Jh.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Wr(this.auth,function gt(v,p,m){return Pt.apply(this,arguments)}(this._delegate,p,Ao))}reauthenticateWithRedirect(p){var m=this;return(0,o.Z)(function*(){return yield nu(ln(m.auth)),function k_(v,p,m){return function tf(v,p,m){return Vs.apply(this,arguments)}(v,p,m)}(m._delegate,p,Ao)})()}sendEmailVerification(p){return function Zp(v,p){return ad.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,o.Z)(function*(){return yield function Ju(v,p){return _l.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function Sn(v,p){return Ho((0,L.m9)(v),p,null)}(this._delegate,p)}updatePassword(p){return function $h(v,p){return Ho((0,L.m9)(v),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function yd(v,p){return ro.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function qi(v,p){return fs.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function Kp(v,p,m){return Oc.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Nr.USER_MAP=new WeakMap;const ru=Oe;let K_=(()=>{class v{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=m.options;ru(A,"invalid-api-key",{appName:m.name}),ru(A,"invalid-api-key",{appName:m.name});const M=typeof window<"u"?Ao:void 0;this._delegate=w.initialize({options:{persistence:Df(A,m.name),popupRedirectResolver:M}}),this._delegate._updateErrorMap(Br),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Nr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function Ts(v,p,m){const w=ln(v);Oe(w._canInitEmulator,w,"emulator-config-failed"),Oe(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const A=!!m?.disableWarnings,M=as(p),{host:H,port:te}=function vc(v){const p=as(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(w);if(A){const M=A[1];return{host:M,port:Rr(w.substr(M.length+1))}}{const[M,H]=w.split(":");return{host:M,port:Rr(H)}}}(p);w.config.emulator={url:`${M}//${H}${null===te?"":`:${te}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:H,port:te,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function Mn(){function v(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,m,w)}applyActionCode(m){return function Gh(v,p){return si.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Os(this._delegate,m)}confirmPasswordReset(m,w){return function Mc(v,p,m){return id.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var A=this;return(0,o.Z)(function*(){return Wr(A._delegate,function A_(v,p,m){return Rc.apply(this,arguments)}(A._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Yp(v,p){return va.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function zh(v,p){return"EMAIL_SIGNIN"===pa.parseLink(p)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,o.Z)(function*(){ru(Rd(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function R_(v,p){return Oa.apply(this,arguments)}(m._delegate,Ao);return w?Wr(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function q_(v,p){ln(v)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,w,A){const{next:M,error:H,complete:te}=Bl(m,w,A);return this._delegate.onAuthStateChanged(M,H,te)}onIdTokenChanged(m,w,A){const{next:M,error:H,complete:te}=Bl(m,w,A);return this._delegate.onIdTokenChanged(M,H,te)}sendSignInLinkToEmail(m,w){return function I_(v,p,m){return ya.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function Tc(v,p,m){return qp.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,o.Z)(function*(){let A;switch(function Ll(v,p){tu(Object.values(qr).includes(p),v,"invalid-persistence-type"),(0,L.b$)()?tu(p!==qr.SESSION,v,"unsupported-persistence-type"):(0,L.UG)()?tu(p===qr.NONE,v,"unsupported-persistence-type"):bg()?tu(p===qr.NONE||p===qr.LOCAL&&(0,L.hl)(),v,"unsupported-persistence-type"):tu(p===qr.NONE||vg(),v,"unsupported-persistence-type")}(w._delegate,m),m){case qr.SESSION:A=gi;break;case qr.LOCAL:A=(yield nt(io)._isAvailable())?io:Aa;break;case qr.NONE:A=Bn;break;default:return vn("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Wr(this._delegate,function S_(v){return Ac.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Wr(this._delegate,td(this._delegate,m))}signInWithCustomToken(m){return Wr(this._delegate,function Di(v,p){return _a.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return Wr(this._delegate,function jh(v,p,m){return td((0,L.m9)(v),gl.credential(p,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return Wr(this._delegate,function Wp(v,p,m){return rd.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return Vd(this._delegate,function _n(v,p,m){return Rl.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,o.Z)(function*(){return ru(Rd(),w._delegate,"operation-not-supported-in-this-environment"),Wr(w._delegate,function Ie(v,p,m){return je.apply(this,arguments)}(w._delegate,m,Ao))})()}signInWithRedirect(m){var w=this;return(0,o.Z)(function*(){return ru(Rd(),w._delegate,"operation-not-supported-in-this-environment"),yield nu(w._delegate),function dn(v,p,m){return function br(v,p,m){return Wc.apply(this,arguments)}(v,p,m)}(w._delegate,m,Ao)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function vl(v,p){return Ps.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=qr,v})();function Bl(v,p,m){let w=v;"function"!=typeof v&&({next:w,error:p,complete:m}=v);const A=w;return{next:H=>A(H&&Nr.getOrCreate(H)),error:p,complete:m}}function Df(v,p){const m=function Pd(v,p){const m=iu();if(!m)return[];const w=Qn(kb,v,p);switch(m.getItem(w)){case qr.NONE:return[Bn];case qr.LOCAL:return[io,gi];case qr.SESSION:return[gi];default:return[]}}(v,p);if(typeof self<"u"&&!m.includes(io)&&m.push(io),typeof window<"u")for(const w of[Aa,gi])m.includes(w)||m.push(w);return m.includes(Bn)||m.push(Bn),m}class Bd{constructor(){this.providerId="phone",this._delegate=new so(Nd(J.Z.auth()))}static credential(p,m){return so.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}Bd.PHONE_SIGN_IN_METHOD=so.PHONE_SIGN_IN_METHOD,Bd.PROVIDER_ID=so.PROVIDER_ID;const Rb=Oe;class Q_{constructor(p,m,w=J.Z.app()){var A;Rb(null===(A=w.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new $r(p,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function X_(v){v.INTERNAL.registerComponent(new wt.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new K_(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:gl,FacebookAuthProvider:Lh,GithubAuthProvider:ml,GoogleAuthProvider:bn,OAuthProvider:Rs,SAMLAuthProvider:xc,PhoneAuthProvider:Bd,PhoneMultiFactorGenerator:ug,RecaptchaVerifier:Q_,TwitterAuthProvider:fi,Auth:K_,AuthCredential:ca,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.2.24")}(J.Z)},9751:(ct,Ee,F)=>{F.d(Ee,{y:()=>he});var o=F(930),J=F(727),L=F(8822),ae=F(9635),ce=F(2416),me=F(576),X=F(2806);let he=(()=>{class Q{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const We=new Q;return We.source=this,We.operator=Me,We}subscribe(Me,We,it){const pe=function W(Q){return Q&&Q instanceof o.Lv||function j(Q){return Q&&(0,me.m)(Q.next)&&(0,me.m)(Q.error)&&(0,me.m)(Q.complete)}(Q)&&(0,J.Nn)(Q)}(Me)?Me:new o.Hp(Me,We,it);return(0,X.x)(()=>{const{operator:we,source:ge}=this;pe.add(we?we.call(pe,ge):ge?this._subscribe(pe):this._trySubscribe(pe))}),pe}_trySubscribe(Me){try{return this._subscribe(Me)}catch(We){Me.error(We)}}forEach(Me,We){return new(We=de(We))((it,pe)=>{let we;we=this.subscribe(ge=>{try{Me(ge)}catch(ke){pe(ke),we?.unsubscribe()}},pe,it)})}_subscribe(Me){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(Me)}[L.L](){return this}pipe(...Me){return(0,ae.U)(Me)(this)}toPromise(Me){return new(Me=de(Me))((We,it)=>{let pe;this.subscribe(we=>pe=we,we=>it(we),()=>We(pe))})}}return Q.create=Ue=>new Q(Ue),Q})();function de(Q){var Ue;return null!==(Ue=Q??ce.v.Promise)&&void 0!==Ue?Ue:Promise}},7579:(ct,Ee,F)=>{F.d(Ee,{x:()=>X});var o=F(9751),J=F(727);const ae=(0,F(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=F(8737),me=F(2806);let X=(()=>{class de extends o.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const Q=new he(this,this);return Q.operator=W,Q}_throwIfClosed(){if(this.closed)throw new ae}next(W){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const Q=this.observers.slice();for(const Ue of Q)Ue.next(W)}})}error(W){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:Q}=this;for(;Q.length;)Q.shift().error(W)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:Q,isStopped:Ue,observers:Me}=this;return Q||Ue?J.Lc:(Me.push(W),new J.w0(()=>(0,ce.P)(Me,W)))}_checkFinalizedStatuses(W){const{hasError:Q,thrownError:Ue,isStopped:Me}=this;Q?W.error(Ue):Me&&W.complete()}asObservable(){const W=new o.y;return W.source=this,W}}return de.create=(j,W)=>new he(j,W),de})();class he extends X{constructor(j,W){super(),this.destination=j,this.source=W}next(j){var W,Q;null===(Q=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===Q||Q.call(W,j)}error(j){var W,Q;null===(Q=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===Q||Q.call(W,j)}complete(){var j,W;null===(W=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===W||W.call(j)}_subscribe(j){var W,Q;return null!==(Q=null===(W=this.source)||void 0===W?void 0:W.subscribe(j))&&void 0!==Q?Q:J.Lc}}},930:(ct,Ee,F)=>{F.d(Ee,{Hp:()=>Ue,Lv:()=>Q});var o=F(576),J=F(727),L=F(2416),ae=F(7849),ce=F(5032);const me=de("C",void 0,void 0);function de(we,ge,ke){return{kind:we,value:ge,error:ke}}var j=F(3410),W=F(2806);class Q extends J.w0{constructor(ge){super(),this.isStopped=!1,ge?(this.destination=ge,(0,J.Nn)(ge)&&ge.add(this)):this.destination=pe}static create(ge,ke,Be){return new Ue(ge,ke,Be)}next(ge){this.isStopped?it(function he(we){return de("N",we,void 0)}(ge),this):this._next(ge)}error(ge){this.isStopped?it(function X(we){return de("E",void 0,we)}(ge),this):(this.isStopped=!0,this._error(ge))}complete(){this.isStopped?it(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ge){this.destination.next(ge)}_error(ge){try{this.destination.error(ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ue extends Q{constructor(ge,ke,Be){let ot;if(super(),(0,o.m)(ge))ot=ge;else if(ge){let Ne;({next:ot,error:ke,complete:Be}=ge),this&&L.v.useDeprecatedNextContext?(Ne=Object.create(ge),Ne.unsubscribe=()=>this.unsubscribe()):Ne=ge,ot=ot?.bind(Ne),ke=ke?.bind(Ne),Be=Be?.bind(Ne)}this.destination={next:ot?Me(ot):ce.Z,error:Me(ke??We),complete:Be?Me(Be):ce.Z}}}function Me(we,ge){return(...ke)=>{try{we(...ke)}catch(Be){L.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(Be):(0,ae.h)(Be)}}}function We(we){throw we}function it(we,ge){const{onStoppedNotification:ke}=L.v;ke&&j.z.setTimeout(()=>ke(we,ge))}const pe={closed:!0,next:ce.Z,error:We,complete:ce.Z}},727:(ct,Ee,F)=>{F.d(Ee,{Lc:()=>me,w0:()=>ce,Nn:()=>X});var o=F(576);const L=(0,F(3888).d)(de=>function(W){de(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((Q,Ue)=>`${Ue+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var ae=F(8737);class ce{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const Me of W)Me.remove(this);else W.remove(this);const{initialTeardown:Q}=this;if((0,o.m)(Q))try{Q()}catch(Me){j=Me instanceof L?Me.errors:[Me]}const{_teardowns:Ue}=this;if(Ue){this._teardowns=null;for(const Me of Ue)try{he(Me)}catch(We){j=j??[],We instanceof L?j=[...j,...We.errors]:j.push(We)}}if(j)throw new L(j)}}add(j){var W;if(j&&j!==this)if(this.closed)he(j);else{if(j instanceof ce){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._teardowns=null!==(W=this._teardowns)&&void 0!==W?W:[]).push(j)}}_hasParent(j){const{_parentage:W}=this;return W===j||Array.isArray(W)&&W.includes(j)}_addParent(j){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(j),W):W?[W,j]:j}_removeParent(j){const{_parentage:W}=this;W===j?this._parentage=null:Array.isArray(W)&&(0,ae.P)(W,j)}remove(j){const{_teardowns:W}=this;W&&(0,ae.P)(W,j),j instanceof ce&&j._removeParent(this)}}ce.EMPTY=(()=>{const de=new ce;return de.closed=!0,de})();const me=ce.EMPTY;function X(de){return de instanceof ce||de&&"closed"in de&&(0,o.m)(de.remove)&&(0,o.m)(de.add)&&(0,o.m)(de.unsubscribe)}function he(de){(0,o.m)(de)?de():de.unsubscribe()}},2416:(ct,Ee,F)=>{F.d(Ee,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ct,Ee,F)=>{F.d(Ee,{E:()=>J});const J=new(F(9751).y)(ce=>ce.complete())},8996:(ct,Ee,F)=>{F.d(Ee,{D:()=>ot});var o=F(8421),J=F(5363),L=F(9468),me=F(9751),he=F(2202),de=F(576),j=F(9672);function Q(Ne,Qe){if(!Ne)throw new Error("Iterable cannot be null");return new me.y(He=>{(0,j.f)(He,Qe,()=>{const fe=Ne[Symbol.asyncIterator]();(0,j.f)(He,Qe,()=>{fe.next().then(q=>{q.done?He.complete():He.next(q.value)})},0,!0)})})}var Ue=F(3670),Me=F(8239),We=F(1144),it=F(6495),pe=F(2206),we=F(4532),ge=F(3260);function ot(Ne,Qe){return Qe?function Be(Ne,Qe){if(null!=Ne){if((0,Ue.c)(Ne))return function ae(Ne,Qe){return(0,o.Xf)(Ne).pipe((0,L.R)(Qe),(0,J.Q)(Qe))}(Ne,Qe);if((0,We.z)(Ne))return function X(Ne,Qe){return new me.y(He=>{let fe=0;return Qe.schedule(function(){fe===Ne.length?He.complete():(He.next(Ne[fe++]),He.closed||this.schedule())})})}(Ne,Qe);if((0,Me.t)(Ne))return function ce(Ne,Qe){return(0,o.Xf)(Ne).pipe((0,L.R)(Qe),(0,J.Q)(Qe))}(Ne,Qe);if((0,pe.D)(Ne))return Q(Ne,Qe);if((0,it.T)(Ne))return function W(Ne,Qe){return new me.y(He=>{let fe;return(0,j.f)(He,Qe,()=>{fe=Ne[he.h](),(0,j.f)(He,Qe,()=>{let q,ie;try{({value:q,done:ie}=fe.next())}catch(re){return void He.error(re)}ie?He.complete():He.next(q)},0,!0)}),()=>(0,de.m)(fe?.return)&&fe.return()})}(Ne,Qe);if((0,ge.L)(Ne))return function ke(Ne,Qe){return Q((0,ge.Q)(Ne),Qe)}(Ne,Qe)}throw(0,we.z)(Ne)}(Ne,Qe):(0,o.Xf)(Ne)}},8421:(ct,Ee,F)=>{F.d(Ee,{Xf:()=>Ue});var o=F(5987),J=F(1144),L=F(8239),ae=F(9751),ce=F(3670),me=F(2206),X=F(4532),he=F(6495),de=F(3260),j=F(576),W=F(7849),Q=F(8822);function Ue(Be){if(Be instanceof ae.y)return Be;if(null!=Be){if((0,ce.c)(Be))return function Me(Be){return new ae.y(ot=>{const Ne=Be[Q.L]();if((0,j.m)(Ne.subscribe))return Ne.subscribe(ot);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Be);if((0,J.z)(Be))return function We(Be){return new ae.y(ot=>{for(let Ne=0;Ne<Be.length&&!ot.closed;Ne++)ot.next(Be[Ne]);ot.complete()})}(Be);if((0,L.t)(Be))return function it(Be){return new ae.y(ot=>{Be.then(Ne=>{ot.closed||(ot.next(Ne),ot.complete())},Ne=>ot.error(Ne)).then(null,W.h)})}(Be);if((0,me.D)(Be))return we(Be);if((0,he.T)(Be))return function pe(Be){return new ae.y(ot=>{for(const Ne of Be)if(ot.next(Ne),ot.closed)return;ot.complete()})}(Be);if((0,de.L)(Be))return function ge(Be){return we((0,de.Q)(Be))}(Be)}throw(0,X.z)(Be)}function we(Be){return new ae.y(ot=>{(function ke(Be,ot){var Ne,Qe,He,fe;return(0,o.mG)(this,void 0,void 0,function*(){try{for(Ne=(0,o.KL)(Be);!(Qe=yield Ne.next()).done;)if(ot.next(Qe.value),ot.closed)return}catch(q){He={error:q}}finally{try{Qe&&!Qe.done&&(fe=Ne.return)&&(yield fe.call(Ne))}finally{if(He)throw He.error}}ot.complete()})})(Be,ot).catch(Ne=>ot.error(Ne))})}},6451:(ct,Ee,F)=>{F.d(Ee,{T:()=>me});var o=F(8189),J=F(8421),L=F(515),ae=F(3269),ce=F(8996);function me(...X){const he=(0,ae.yG)(X),de=(0,ae._6)(X,1/0),j=X;return j.length?1===j.length?(0,J.Xf)(j[0]):(0,o.J)(de)((0,ce.D)(j,he)):L.E}},5403:(ct,Ee,F)=>{F.d(Ee,{Q:()=>J});var o=F(930);class J extends o.Lv{constructor(ae,ce,me,X,he){super(ae),this.onFinalize=he,this._next=ce?function(de){try{ce(de)}catch(j){ae.error(j)}}:super._next,this._error=X?function(de){try{X(de)}catch(j){ae.error(j)}finally{this.unsubscribe()}}:super._error,this._complete=me?function(){try{me()}catch(de){ae.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}},4004:(ct,Ee,F)=>{F.d(Ee,{U:()=>L});var o=F(4482),J=F(5403);function L(ae,ce){return(0,o.e)((me,X)=>{let he=0;me.subscribe(new J.Q(X,de=>{X.next(ae.call(ce,de,he++))}))})}},8189:(ct,Ee,F)=>{F.d(Ee,{J:()=>L});var o=F(5577),J=F(4671);function L(ae=1/0){return(0,o.z)(J.y,ae)}},5577:(ct,Ee,F)=>{F.d(Ee,{z:()=>he});var o=F(4004),J=F(8421),L=F(4482),ae=F(9672),ce=F(5403),X=F(576);function he(de,j,W=1/0){return(0,X.m)(j)?he((Q,Ue)=>(0,o.U)((Me,We)=>j(Q,Me,Ue,We))((0,J.Xf)(de(Q,Ue))),W):("number"==typeof j&&(W=j),(0,L.e)((Q,Ue)=>function me(de,j,W,Q,Ue,Me,We,it){const pe=[];let we=0,ge=0,ke=!1;const Be=()=>{ke&&!pe.length&&!we&&j.complete()},ot=Qe=>we<Q?Ne(Qe):pe.push(Qe),Ne=Qe=>{Me&&j.next(Qe),we++;let He=!1;(0,J.Xf)(W(Qe,ge++)).subscribe(new ce.Q(j,fe=>{Ue?.(fe),Me?ot(fe):j.next(fe)},()=>{He=!0},void 0,()=>{if(He)try{for(we--;pe.length&&we<Q;){const fe=pe.shift();We?(0,ae.f)(j,We,()=>Ne(fe)):Ne(fe)}Be()}catch(fe){j.error(fe)}}))};return de.subscribe(new ce.Q(j,ot,()=>{ke=!0,Be()})),()=>{it?.()}}(Q,Ue,de,W)))}},5363:(ct,Ee,F)=>{F.d(Ee,{Q:()=>ae});var o=F(9672),J=F(4482),L=F(5403);function ae(ce,me=0){return(0,J.e)((X,he)=>{X.subscribe(new L.Q(he,de=>(0,o.f)(he,ce,()=>he.next(de),me),()=>(0,o.f)(he,ce,()=>he.complete(),me),de=>(0,o.f)(he,ce,()=>he.error(de),me)))})}},3099:(ct,Ee,F)=>{F.d(Ee,{B:()=>me});var o=F(8996),J=F(5698),L=F(7579),ae=F(930),ce=F(4482);function me(he={}){const{connector:de=(()=>new L.x),resetOnError:j=!0,resetOnComplete:W=!0,resetOnRefCountZero:Q=!0}=he;return Ue=>{let Me=null,We=null,it=null,pe=0,we=!1,ge=!1;const ke=()=>{We?.unsubscribe(),We=null},Be=()=>{ke(),Me=it=null,we=ge=!1},ot=()=>{const Ne=Me;Be(),Ne?.unsubscribe()};return(0,ce.e)((Ne,Qe)=>{pe++,!ge&&!we&&ke();const He=it=it??de();Qe.add(()=>{pe--,0===pe&&!ge&&!we&&(We=X(ot,Q))}),He.subscribe(Qe),Me||(Me=new ae.Hp({next:fe=>He.next(fe),error:fe=>{ge=!0,ke(),We=X(Be,j,fe),He.error(fe)},complete:()=>{we=!0,ke(),We=X(Be,W),He.complete()}}),(0,o.D)(Ne).subscribe(Me))})(Ue)}}function X(he,de,...j){return!0===de?(he(),null):!1===de?null:de(...j).pipe((0,J.q)(1)).subscribe(()=>he())}},9468:(ct,Ee,F)=>{F.d(Ee,{R:()=>J});var o=F(4482);function J(L,ae=0){return(0,o.e)((ce,me)=>{me.add(L.schedule(()=>ce.subscribe(me),ae))})}},5698:(ct,Ee,F)=>{F.d(Ee,{q:()=>ae});var o=F(515),J=F(4482),L=F(5403);function ae(ce){return ce<=0?()=>o.E:(0,J.e)((me,X)=>{let he=0;me.subscribe(new L.Q(X,de=>{++he<=ce&&(X.next(de),ce<=he&&X.complete())}))})}},8505:(ct,Ee,F)=>{F.d(Ee,{b:()=>ce});var o=F(576),J=F(4482),L=F(5403),ae=F(4671);function ce(me,X,he){const de=(0,o.m)(me)||X||he?{next:me,error:X,complete:he}:me;return de?(0,J.e)((j,W)=>{var Q;null===(Q=de.subscribe)||void 0===Q||Q.call(de);let Ue=!0;j.subscribe(new L.Q(W,Me=>{var We;null===(We=de.next)||void 0===We||We.call(de,Me),W.next(Me)},()=>{var Me;Ue=!1,null===(Me=de.complete)||void 0===Me||Me.call(de),W.complete()},Me=>{var We;Ue=!1,null===(We=de.error)||void 0===We||We.call(de,Me),W.error(Me)},()=>{var Me,We;Ue&&(null===(Me=de.unsubscribe)||void 0===Me||Me.call(de)),null===(We=de.finalize)||void 0===We||We.call(de)}))}):ae.y}},4408:(ct,Ee,F)=>{F.d(Ee,{o:()=>ce});var o=F(727);class J extends o.w0{constructor(X,he){super()}schedule(X,he=0){return this}}const L={setInterval(...me){const{delegate:X}=L;return(X?.setInterval||setInterval)(...me)},clearInterval(me){const{delegate:X}=L;return(X?.clearInterval||clearInterval)(me)},delegate:void 0};var ae=F(8737);class ce extends J{constructor(X,he){super(X,he),this.scheduler=X,this.work=he,this.pending=!1}schedule(X,he=0){if(this.closed)return this;this.state=X;const de=this.id,j=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(j,de,he)),this.pending=!0,this.delay=he,this.id=this.id||this.requestAsyncId(j,this.id,he),this}requestAsyncId(X,he,de=0){return L.setInterval(X.flush.bind(X,this),de)}recycleAsyncId(X,he,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return he;L.clearInterval(he)}execute(X,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(X,he);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(X,he){let j,de=!1;try{this.work(X)}catch(W){de=!0,j=W||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:X,scheduler:he}=this,{actions:de}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(de,this),null!=X&&(this.id=this.recycleAsyncId(he,X,null)),this.delay=null,super.unsubscribe()}}}},7565:(ct,Ee,F)=>{F.d(Ee,{v:()=>L});var o=F(6063);class J{constructor(ce,me=J.now){this.schedulerActionCtor=ce,this.now=me}schedule(ce,me=0,X){return new this.schedulerActionCtor(this,ce).schedule(X,me)}}J.now=o.l.now;class L extends J{constructor(ce,me=J.now){super(ce,me),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ce){const{actions:me}=this;if(this._active)return void me.push(ce);let X;this._active=!0;do{if(X=ce.execute(ce.state,ce.delay))break}while(ce=me.shift());if(this._active=!1,X){for(;ce=me.shift();)ce.unsubscribe();throw X}}}},4986:(ct,Ee,F)=>{F.d(Ee,{P:()=>ae,z:()=>L});var o=F(4408);const L=new(F(7565).v)(o.o),ae=L},6063:(ct,Ee,F)=>{F.d(Ee,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},3410:(ct,Ee,F)=>{F.d(Ee,{z:()=>o});const o={setTimeout(...J){const{delegate:L}=o;return(L?.setTimeout||setTimeout)(...J)},clearTimeout(J){const{delegate:L}=o;return(L?.clearTimeout||clearTimeout)(J)},delegate:void 0}},2202:(ct,Ee,F)=>{F.d(Ee,{h:()=>J});const J=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ct,Ee,F)=>{F.d(Ee,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ct,Ee,F)=>{F.d(Ee,{_6:()=>me,jO:()=>ae,yG:()=>ce});var o=F(576),J=F(3532);function L(X){return X[X.length-1]}function ae(X){return(0,o.m)(L(X))?X.pop():void 0}function ce(X){return(0,J.K)(L(X))?X.pop():void 0}function me(X,he){return"number"==typeof L(X)?X.pop():he}},8737:(ct,Ee,F)=>{function o(J,L){if(J){const ae=J.indexOf(L);0<=ae&&J.splice(ae,1)}}F.d(Ee,{P:()=>o})},3888:(ct,Ee,F)=>{function o(J){const ae=J(ce=>{Error.call(ce),ce.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}F.d(Ee,{d:()=>o})},2806:(ct,Ee,F)=>{F.d(Ee,{O:()=>ae,x:()=>L});var o=F(2416);let J=null;function L(ce){if(o.v.useDeprecatedSynchronousErrorHandling){const me=!J;if(me&&(J={errorThrown:!1,error:null}),ce(),me){const{errorThrown:X,error:he}=J;if(J=null,X)throw he}}else ce()}function ae(ce){o.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=ce)}},9672:(ct,Ee,F)=>{function o(J,L,ae,ce=0,me=!1){const X=L.schedule(function(){ae(),me?J.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(J.add(X),!me)return X}F.d(Ee,{f:()=>o})},4671:(ct,Ee,F)=>{function o(J){return J}F.d(Ee,{y:()=>o})},1144:(ct,Ee,F)=>{F.d(Ee,{z:()=>o});const o=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(ct,Ee,F)=>{F.d(Ee,{D:()=>J});var o=F(576);function J(L){return Symbol.asyncIterator&&(0,o.m)(L?.[Symbol.asyncIterator])}},576:(ct,Ee,F)=>{function o(J){return"function"==typeof J}F.d(Ee,{m:()=>o})},3670:(ct,Ee,F)=>{F.d(Ee,{c:()=>L});var o=F(8822),J=F(576);function L(ae){return(0,J.m)(ae[o.L])}},6495:(ct,Ee,F)=>{F.d(Ee,{T:()=>L});var o=F(2202),J=F(576);function L(ae){return(0,J.m)(ae?.[o.h])}},8239:(ct,Ee,F)=>{F.d(Ee,{t:()=>J});var o=F(576);function J(L){return(0,o.m)(L?.then)}},3260:(ct,Ee,F)=>{F.d(Ee,{L:()=>ae,Q:()=>L});var o=F(5987),J=F(576);function L(ce){return(0,o.FC)(this,arguments,function*(){const X=ce.getReader();try{for(;;){const{value:he,done:de}=yield(0,o.qq)(X.read());if(de)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(he)}}finally{X.releaseLock()}})}function ae(ce){return(0,J.m)(ce?.getReader)}},3532:(ct,Ee,F)=>{F.d(Ee,{K:()=>J});var o=F(576);function J(L){return L&&(0,o.m)(L.schedule)}},4482:(ct,Ee,F)=>{F.d(Ee,{A:()=>J,e:()=>L});var o=F(576);function J(ae){return(0,o.m)(ae?.lift)}function L(ae){return ce=>{if(J(ce))return ce.lift(function(me){try{return ae(me,this)}catch(X){this.error(X)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ct,Ee,F)=>{function o(){}F.d(Ee,{Z:()=>o})},9635:(ct,Ee,F)=>{F.d(Ee,{U:()=>L,z:()=>J});var o=F(4671);function J(...ae){return L(ae)}function L(ae){return 0===ae.length?o.y:1===ae.length?ae[0]:function(me){return ae.reduce((X,he)=>he(X),me)}}},7849:(ct,Ee,F)=>{F.d(Ee,{h:()=>L});var o=F(2416),J=F(3410);function L(ae){J.z.setTimeout(()=>{const{onUnhandledError:ce}=o.v;if(!ce)throw ae;ce(ae)})}},4532:(ct,Ee,F)=>{function o(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ee,{z:()=>o})},5987:(ct,Ee,F)=>{function he(q,ie,re,xe){return new(re||(re=Promise))(function(Le,wt){function Wt(ki){try{_t(xe.next(ki))}catch(sn){wt(sn)}}function Yn(ki){try{_t(xe.throw(ki))}catch(sn){wt(sn)}}function _t(ki){ki.done?Le(ki.value):function _e(Le){return Le instanceof re?Le:new re(function(wt){wt(Le)})}(ki.value).then(Wt,Yn)}_t((xe=xe.apply(q,ie||[])).next())})}function pe(q){return this instanceof pe?(this.v=q,this):new pe(q)}function we(q,ie,re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,xe=re.apply(q,ie||[]),Le=[];return _e={},wt("next"),wt("throw"),wt("return"),_e[Symbol.asyncIterator]=function(){return this},_e;function wt(at){xe[at]&&(_e[at]=function(jn){return new Promise(function(Br,Ur){Le.push([at,jn,Br,Ur])>1||Wt(at,jn)})})}function Wt(at,jn){try{!function Yn(at){at.value instanceof pe?Promise.resolve(at.value.v).then(_t,ki):sn(Le[0][2],at)}(xe[at](jn))}catch(Br){sn(Le[0][3],Br)}}function _t(at){Wt("next",at)}function ki(at){Wt("throw",at)}function sn(at,jn){at(jn),Le.shift(),Le.length&&Wt(Le[0][0],Le[0][1])}}function ke(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re,ie=q[Symbol.asyncIterator];return ie?ie.call(q):(q=function Q(q){var ie="function"==typeof Symbol&&Symbol.iterator,re=ie&&q[ie],xe=0;if(re)return re.call(q);if(q&&"number"==typeof q.length)return{next:function(){return q&&xe>=q.length&&(q=void 0),{value:q&&q[xe++],done:!q}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(q),re={},xe("next"),xe("throw"),xe("return"),re[Symbol.asyncIterator]=function(){return this},re);function xe(Le){re[Le]=q[Le]&&function(wt){return new Promise(function(Wt,Yn){!function _e(Le,wt,Wt,Yn){Promise.resolve(Yn).then(function(_t){Le({value:_t,done:Wt})},wt)}(Wt,Yn,(wt=q[Le](wt)).done,wt.value)})}}}F.d(Ee,{FC:()=>we,KL:()=>ke,mG:()=>he,qq:()=>pe})},4650:(ct,Ee,F)=>{F.d(Ee,{$8M:()=>Ls,$Z:()=>ly,AFp:()=>qD,ALo:()=>f0,AaK:()=>he,BQk:()=>gu,CHM:()=>Hh,CRH:()=>sp,CZH:()=>pv,CqO:()=>Sx,D6c:()=>pS,EJc:()=>Om,EiD:()=>La,EpF:()=>xx,F$t:()=>Ax,F4k:()=>Dx,FYo:()=>NE,FiY:()=>gt,G48:()=>GM,Gf:()=>TD,GfV:()=>LE,Gpc:()=>W,Gre:()=>jx,Hsn:()=>Ix,Ikx:()=>St,JOm:()=>Yi,JVY:()=>K_,JZr:()=>it,KtG:()=>yl,L6k:()=>Bl,LAX:()=>Bd,LFG:()=>Ge,LSH:()=>Fb,Lbi:()=>YD,Lck:()=>o0,MAs:()=>Cw,MMx:()=>Xy,NdJ:()=>xw,O4$:()=>$h,OlP:()=>kn,Oqu:()=>jw,P3R:()=>Hd,PXZ:()=>LM,Q6J:()=>Ew,QGY:()=>Sy,QP$:()=>Un,QbO:()=>F0,Qsj:()=>XI,R0b:()=>dr,RDi:()=>wg,Rgc:()=>xu,SBq:()=>Tf,Sil:()=>qs,Suo:()=>MD,TTD:()=>fa,TgZ:()=>Yd,Udp:()=>Uw,VKq:()=>yD,WFA:()=>Dw,X6Q:()=>$0,XFs:()=>nt,Xpm:()=>cl,Xts:()=>Vb,Y36:()=>dt,YKP:()=>Qy,YNc:()=>Cx,Yjl:()=>ss,Yz7:()=>tn,Z0I:()=>vn,ZZ4:()=>jm,_Bn:()=>ep,_UZ:()=>Dy,_Vd:()=>If,_c5:()=>zm,_uU:()=>Ux,aQg:()=>mh,c2e:()=>mv,cJS:()=>ts,cg1:()=>om,d8E:()=>ih,dDg:()=>eS,dqk:()=>Vt,eBb:()=>Df,eFA:()=>rS,ekj:()=>Ly,eoX:()=>Tu,f3M:()=>Xe,g9A:()=>Iu,h0i:()=>ch,hGG:()=>J0,hij:()=>rm,iGM:()=>w0,ifc:()=>Qt,ip1:()=>P0,jDz:()=>vm,kL8:()=>Wx,kcU:()=>Pc,lG2:()=>rs,lcZ:()=>Es,lqb:()=>Yo,lri:()=>j0,mCW:()=>m,n5z:()=>Qh,n_E:()=>nv,oAB:()=>dl,oxw:()=>Iw,pB0:()=>Rb,q3G:()=>ei,q4F:()=>VE,qLn:()=>Ba,qOj:()=>qg,qZA:()=>Zd,qzn:()=>Nr,rWj:()=>JD,s9C:()=>Ay,sBO:()=>zM,sIi:()=>zl,s_b:()=>Sm,soG:()=>Rm,tb:()=>ZD,tp0:()=>kt,uIk:()=>Qg,uOi:()=>Nb,vHH:()=>pe,vpe:()=>Ka,wAp:()=>yt,xp6:()=>hT,ynx:()=>Kd,z2F:()=>Bm,z3N:()=>Io,zSh:()=>iy,zs3:()=>su});var o=F(7579),J=F(727),L=F(9751),ae=F(6451),ce=F(3099);function me(a){for(let l in a)if(a[l]===me)return l;throw Error("Could not find renamed property on target object.")}function X(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function he(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(he).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function de(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const j=me({__forward_ref__:me});function W(a){return a.__forward_ref__=W,a.toString=function(){return he(this())},a}function Q(a){return Ue(a)?a():a}function Ue(a){return"function"==typeof a&&a.hasOwnProperty(j)&&a.__forward_ref__===W}function Me(a){return a&&!!a.\u0275providers}const it="https://g.co/ng/security#xss";class pe extends Error{constructor(l,u){super(function we(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}(l,u)),this.code=l}}function ge(a){return"string"==typeof a?a:null==a?"":String(a)}function Qe(a,l){throw new pe(-201,!1)}function sn(a,l){null==a&&function at(a,l,u,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${u} ${h} ${l} <=Actual]`))}(l,a,null,"!=")}function tn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function ts(a){return{providers:a.providers||[],imports:a.imports||[]}}function Xi(a){return Vn(a,Oe)||Vn(a,an)}function vn(a){return null!==Xi(a)}function Vn(a,l){return a.hasOwnProperty(l)?a[l]:null}function pr(a){return a&&(a.hasOwnProperty(Ri)||a.hasOwnProperty(gr))?a[Ri]:null}const Oe=me({\u0275prov:me}),Ri=me({\u0275inj:me}),an=me({ngInjectableDef:me}),gr=me({ngInjectorDef:me});var nt=(()=>((nt=nt||{})[nt.Default=0]="Default",nt[nt.Host=1]="Host",nt[nt.Self=2]="Self",nt[nt.SkipSelf=4]="SkipSelf",nt[nt.Optional=8]="Optional",nt))();let Ks;function zn(a){const l=Ks;return Ks=a,l}function Ei(a,l,u){const h=Xi(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&nt.Optional?null:void 0!==l?l:void Qe(he(a))}const Vt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ji={},Zn="__NG_DI_FLAG__",is="ngTempTokenPath",$n=/\n/gm,Js="__source";let nn;function Kn(a){const l=nn;return nn=a,l}function Gr(a,l=nt.Default){if(void 0===nn)throw new pe(-203,!1);return null===nn?Ei(a,void 0,l):nn.get(a,l&nt.Optional?null:void 0,l)}function Ge(a,l=nt.Default){return(function Qs(){return Ks}()||Gr)(Q(a),l)}function Xe(a,l=nt.Default){return Ge(a,Mt(l))}function Mt(a){return typeof a>"u"||"number"==typeof a?a:0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function Ot(a){const l=[];for(let u=0;u<a.length;u++){const h=Q(a[u]);if(Array.isArray(h)){if(0===h.length)throw new pe(900,!1);let f,_=nt.Default;for(let b=0;b<h.length;b++){const E=h[b],x=z(E);"number"==typeof x?-1===x?f=E.token:_|=x:f=E}l.push(Ge(f,_))}else l.push(Ge(h))}return l}function Kt(a,l){return a[Zn]=l,a.prototype[Zn]=l,a}function z(a){return a[Zn]}function ye(a){return{toString:a}.toString()}var se=(()=>((se=se||{})[se.OnPush=0]="OnPush",se[se.Default=1]="Default",se))(),Qt=(()=>{return(a=Qt||(Qt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Qt;var a})();const Rn={},xt=[],On=me({\u0275cmp:me}),zt=me({\u0275dir:me}),Mr=me({\u0275pipe:me}),oa=me({\u0275mod:me}),ji=me({\u0275fac:me}),eo=me({__NG_ELEMENT_ID__:me});let Mh=0;function cl(a){return ye(()=>{const u=!0===a.standalone,h={},f={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===se.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||xt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Qt.Emulated,id:"c"+Mh++,styles:a.styles||xt,_:null,setInput:null,schemas:a.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},_=a.dependencies,b=a.features;return f.inputs=aa(a.inputs,h),f.outputs=aa(a.outputs),b&&b.forEach(E=>E(f)),f.directiveDefs=_?()=>("function"==typeof _?_():_).map($u).filter(kh):null,f.pipeDefs=_?()=>("function"==typeof _?_():_).map(Qn).filter(kh):null,f})}function $u(a){return pn(a)||Bn(a)}function kh(a){return null!==a}function dl(a){return ye(()=>({type:a.type,bootstrap:a.bootstrap||xt,declarations:a.declarations||xt,imports:a.imports||xt,exports:a.exports||xt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function aa(a,l){if(null==a)return Rn;const u={};for(const h in a)if(a.hasOwnProperty(h)){let f=a[h],_=f;Array.isArray(f)&&(_=f[1],f=f[0]),u[f]=h,l&&(l[f]=_)}return u}const rs=cl;function ss(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function pn(a){return a[On]||null}function Bn(a){return a[zt]||null}function Qn(a){return a[Mr]||null}function Un(a){const l=pn(a)||Bn(a)||Qn(a);return null!==l&&l.standalone}function mr(a,l){const u=a[oa]||null;if(!u&&!0===l)throw new Error(`Type ${he(a)} does not have '\u0275mod' property.`);return u}function tr(a){return Array.isArray(a)&&"object"==typeof a[1]}function _r(a){return Array.isArray(a)&&!0===a[1]}function fl(a){return 0!=(4&a.flags)}function wc(a){return a.componentOffset>-1}function pl(a){return 1==(1&a.flags)}function Or(a){return null!==a.template}function Wu(a){return 0!=(256&a[2])}function nr(a,l){return a.hasOwnProperty(ji)?a[ji]:null}class no{constructor(l,u,h){this.previousValue=l,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function fa(){return Ku}function Ku(a){return a.type.prototype.ngOnChanges&&(a.setInput=Nh),pa}function pa(){const a=zr(this),l=a?.current;if(l){const u=a.previous;if(u===Rn)a.previous=l;else for(let h in l)u[h]=l[h];a.current=null,this.ngOnChanges(l)}}function Nh(a,l,u,h){const f=this.declaredInputs[u],_=zr(a)||function Uo(a,l){return a[gl]=l}(a,{previous:Rn,current:null}),b=_.current||(_.current={}),E=_.previous,x=E[f];b[f]=new no(x&&x.currentValue,l,E===Rn),a[h]=l}fa.ngInherit=!0;const gl="__ngSimpleChanges__";function zr(a){return a[gl]||null}function fi(a){for(;Array.isArray(a);)a=a[0];return a}function Fi(a,l){return fi(l[a])}function ir(a,l){return fi(l[a.index])}function Ac(a,l){return a.data[l]}function us(a,l){return a[l]}function rr(a,l){const u=l[a];return tr(u)?u:u[0]}function Ju(a){return 64==(64&a[2])}function ds(a,l){return null==l?null:a[l]}function ga(a){a[18]=0}function ma(a,l){a[5]+=l;let u=a,h=a[3];for(;null!==h&&(1===l&&1===u[5]||-1===l&&0===u[5]);)h[5]+=l,u=h,h=h[3]}const Dt={lFrame:Zp(null),bindingsEnabled:!0};function nd(){return Dt.bindingsEnabled}function De(){return Dt.lFrame.lView}function rn(){return Dt.lFrame.tView}function Hh(a){return Dt.lFrame.contextLView=a,a[8]}function yl(a){return Dt.lFrame.contextLView=null,a}function Di(){let a=_a();for(;null!==a&&64===a.type;)a=a.parent;return a}function _a(){return Dt.lFrame.currentTNode}function $i(a,l){const u=Dt.lFrame;u.currentTNode=a,u.isParent=l}function hs(){return Dt.lFrame.isParent}function Tc(){Dt.lFrame.isParent=!1}function si(){const a=Dt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function vl(){return Dt.lFrame.bindingIndex++}function Ps(a){const l=Dt.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function jh(a,l){const u=Dt.lFrame;u.bindingIndex=u.bindingRootIndex=a,ya(l)}function ya(a){Dt.lFrame.currentDirectiveIndex=a}function zh(a){const l=Dt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function Wp(){return Dt.lFrame.currentQueryIndex}function rd(a){Dt.lFrame.currentQueryIndex=a}function sd(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function od(a,l,u){if(u&nt.SkipSelf){let f=l,_=a;for(;!(f=f.parent,null!==f||u&nt.Host||(f=sd(_),null===f||(_=_[15],10&f.type))););if(null===f)return!1;l=f,a=_}const h=Dt.lFrame=va();return h.currentTNode=l,h.lView=a,!0}function Yp(a){const l=va(),u=a[1];Dt.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function va(){const a=Dt.lFrame,l=null===a?null:a.child;return null===l?Zp(a):l}function Zp(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function ad(){const a=Dt.lFrame;return Dt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Kp=ad;function Oc(){const a=ad();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function qi(){return Dt.lFrame.selectedIndex}function fs(a){Dt.lFrame.selectedIndex=a}function Sn(){const a=Dt.lFrame;return Ac(a.tView,a.selectedIndex)}function $h(){Dt.lFrame.currentNamespace="svg"}function Pc(){!function Fc(){Dt.lFrame.currentNamespace=null}()}function Nc(a,l){for(let u=l.directiveStart,h=l.directiveEnd;u<h;u++){const _=a.data[u].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:E,ngAfterViewInit:x,ngAfterViewChecked:T,ngOnDestroy:O}=_;b&&(a.contentHooks||(a.contentHooks=[])).push(-u,b),E&&((a.contentHooks||(a.contentHooks=[])).push(u,E),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,E)),x&&(a.viewHooks||(a.viewHooks=[])).push(-u,x),T&&((a.viewHooks||(a.viewHooks=[])).push(u,T),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,T)),null!=O&&(a.destroyHooks||(a.destroyHooks=[])).push(u,O)}}function Lc(a,l,u){ld(a,l,3,u)}function pi(a,l,u,h){(3&a[2])===u&&ld(a,l,u,h)}function wa(a,l){let u=a[2];(3&u)===l&&(u&=2047,u+=1,a[2]=u)}function ld(a,l,u,h){const _=h??-1,b=l.length-1;let E=0;for(let x=void 0!==h?65535&a[18]:0;x<b;x++)if("number"==typeof l[x+1]){if(E=l[x],null!=h&&E>=h)break}else l[x]<0&&(a[18]+=65536),(E<_||-1==_)&&(Xp(a,u,l,x),a[18]=(4294901760&a[18])+x+2),x++}function Xp(a,l,u,h){const f=u[h]<0,_=u[h+1],E=a[f?-u[h]:u[h]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{_.call(E)}finally{}}}else try{_.call(E)}finally{}}class Ca{constructor(l,u,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function xa(a,l,u){let h=0;for(;h<u.length;){const f=u[h];if("number"==typeof f){if(0!==f)break;h++;const _=u[h++],b=u[h++],E=u[h++];a.setAttribute(l,b,E,_)}else{const _=f,b=u[++h];eg(_)?a.setProperty(l,_,b):a.setAttribute(l,_,b),h++}}return h}function Cl(a){return 3===a||4===a||6===a}function eg(a){return 64===a.charCodeAt(0)}function Fs(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let h=0;h<l.length;h++){const f=l[h];"number"==typeof f?u=f:0===u||Da(a,u,f,null,-1===u||2===u?l[++h]:null)}}return a}function Da(a,l,u,h,f){let _=0,b=a.length;if(-1===l)b=-1;else for(;_<a.length;){const E=a[_++];if("number"==typeof E){if(E===l){b=-1;break}if(E>l){b=_-1;break}}}for(;_<a.length;){const E=a[_];if("number"==typeof E)break;if(E===u){if(null===h)return void(null!==f&&(a[_+1]=f));if(h===a[_+1])return void(a[_+2]=f)}_++,null!==h&&_++,null!==f&&_++}-1!==b&&(a.splice(b,0,l),_=b+1),a.splice(_++,0,u),null!==h&&a.splice(_++,0,h),null!==f&&a.splice(_++,0,f)}function Sa(a){return-1!==a}function El(a){return 32767&a}function xl(a,l){let u=function Go(a){return a>>16}(a),h=l;for(;u>0;)h=h[15],u--;return h}let Dl=!0;function Bc(a){const l=Dl;return Dl=a,l}let tg=0;const gi={};function hd(a,l){const u=ng(a,l);if(-1!==u)return u;const h=l[1];h.firstCreatePass&&(a.injectorIndex=l.length,Ns(h.data,a),Ns(l,null),Ns(h.blueprint,null));const f=wn(a,l),_=a.injectorIndex;if(Sa(f)){const b=El(f),E=xl(f,l),x=E[1].data;for(let T=0;T<8;T++)l[_+T]=E[b+T]|x[b+T]}return l[_+8]=f,_}function Ns(a,l){a.push(0,0,0,0,0,0,0,0,l)}function ng(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function wn(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,h=null,f=l;for(;null!==f;){if(h=$c(f),null===h)return-1;if(u++,f=f[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function Uc(a,l,u){!function Zh(a,l,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(eo)&&(h=u[eo]),null==h&&(h=u[eo]=tg++);const f=255&h;l.data[a+(f>>5)]|=1<<f}(a,l,u)}function Ia(a,l,u){if(u&nt.Optional||void 0!==a)return a;Qe()}function Sl(a,l,u,h){if(u&nt.Optional&&void 0===h&&(h=null),0==(u&(nt.Self|nt.Host))){const f=a[9],_=zn(void 0);try{return f?f.get(l,h,u&nt.Optional):Ei(l,h,u&nt.Optional)}finally{zn(_)}}return Ia(h,0,u)}function Gc(a,l,u,h=nt.Default,f){if(null!==a){if(1024&l[2]){const b=function fb(a,l,u,h,f){let _=a,b=l;for(;null!==_&&null!==b&&1024&b[2]&&!(256&b[2]);){const E=gs(_,b,u,h|nt.Self,gi);if(E!==gi)return E;let x=_.parent;if(!x){const T=b[21];if(T){const O=T.get(u,gi,h);if(O!==gi)return O}x=$c(b),b=b[15]}_=x}return f}(a,l,u,h,gi);if(b!==gi)return b}const _=gs(a,l,u,h,gi);if(_!==gi)return _}return Sl(l,u,h,f)}function gs(a,l,u,h,f){const _=function Kh(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(eo)?a[eo]:void 0;return"number"==typeof l?l>=0?255&l:Tl:l}(u);if("function"==typeof _){if(!od(l,a,h))return h&nt.Host?Ia(f,0,h):Sl(l,u,h,f);try{const b=_(h);if(null!=b||h&nt.Optional)return b;Qe()}finally{Kp()}}else if("number"==typeof _){let b=null,E=ng(a,l),x=-1,T=h&nt.Host?l[16][6]:null;for((-1===E||h&nt.SkipSelf)&&(x=-1===E?wn(a,l):l[E+8],-1!==x&&Il(h,!1)?(b=l[1],E=El(x),l=xl(x,l)):E=-1);-1!==E;){const O=l[1];if(zc(_,E,O.data)){const U=Al(E,l,u,b,h,T);if(U!==gi)return U}x=l[E+8],-1!==x&&Il(h,l[1].data[E+8]===T)&&zc(_,E,l)?(b=O,E=El(x),l=xl(x,l)):E=-1}}return f}function Al(a,l,u,h,f,_){const b=l[1],E=b.data[a+8],O=jc(E,b,u,null==h?wc(E)&&Dl:h!=b&&0!=(3&E.type),f&nt.Host&&_===E);return null!==O?wo(l,b,O,E):gi}function jc(a,l,u,h,f){const _=a.providerIndexes,b=l.data,E=1048575&_,x=a.directiveStart,O=_>>20,Y=f?E+O:a.directiveEnd;for(let ne=h?E:E+O;ne<Y;ne++){const be=b[ne];if(ne<x&&u===be||ne>=x&&be.type===u)return ne}if(f){const ne=b[x];if(ne&&Or(ne)&&ne.type===u)return x}return null}function wo(a,l,u,h){let f=a[u];const _=l.data;if(function Wh(a){return a instanceof Ca}(f)){const b=f;b.resolving&&function Be(a,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new pe(-200,`Circular dependency in DI detected for ${a}${u}`)}(function ke(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():ge(a)}(_[u]));const E=Bc(b.canSeeViewProviders);b.resolving=!0;const x=b.injectImpl?zn(b.injectImpl):null;od(a,h,nt.Default);try{f=a[u]=b.factory(void 0,_,a,h),l.firstCreatePass&&u>=h.directiveStart&&function qh(a,l,u){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:_}=l.type.prototype;if(h){const b=Ku(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,b),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,b)}f&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,f),_&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,_),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,_))}(u,_[u],l)}finally{null!==x&&zn(x),Bc(E),b.resolving=!1,Kp()}}return f}function zc(a,l,u){return!!(u[l+(a>>5)]&1<<a)}function Il(a,l){return!(a&nt.Self||a&nt.Host&&l)}class jo{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,h){return Gc(this._tNode,this._lView,l,Mt(h),u)}}function Tl(){return new jo(Di(),De())}function Qh(a){return ye(()=>{const l=a.prototype.constructor,u=l[ji]||fd(l),h=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==h;){const _=f[ji]||fd(f);if(_&&_!==u)return _;f=Object.getPrototypeOf(f)}return _=>new _})}function fd(a){return Ue(a)?()=>{const l=fd(Q(a));return l&&l()}:nr(a)}function $c(a){const l=a[1],u=l.type;return 2===u?l.declTNode:1===u?a[6]:null}function Ls(a){return function Hc(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const h=u.length;let f=0;for(;f<h;){const _=u[f];if(Cl(_))break;if(0===_)f+=2;else if("number"==typeof _)for(f++;f<h&&"string"==typeof u[f];)f++;else{if(_===l)return u[f+1];f+=2}}}return null}(Di(),a)}const Ml="__parameters__";function kl(a,l,u){return ye(()=>{const h=function Xh(a){return function(...u){if(a){const h=a(...u);for(const f in h)this[f]=h[f]}}}(l);function f(..._){if(this instanceof f)return h.apply(this,_),this;const b=new f(..._);return E.annotation=b,E;function E(x,T,O){const U=x.hasOwnProperty(Ml)?x[Ml]:Object.defineProperty(x,Ml,{value:[]})[Ml];for(;U.length<=O;)U.push(null);return(U[O]=U[O]||[]).push(b),x}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class kn{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=tn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Xt(a,l){void 0===l&&(l=a);for(let u=0;u<a.length;u++){let h=a[u];Array.isArray(h)?(l===a&&(l=a.slice(0,u)),Xt(h,l)):l!==a&&l.push(h)}return l}function $r(a,l){a.forEach(u=>Array.isArray(u)?$r(u,l):l(u))}function Je(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function lt(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function _n(a,l){const u=[];for(let h=0;h<a;h++)u.push(l);return u}function yr(a,l,u){let h=ro(a,l);return h>=0?a[1|h]=u:(h=~h,function Jn(a,l,u,h){let f=a.length;if(f==l)a.push(u,h);else if(1===f)a.push(h,a[0]),a[0]=u;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=u,a[l+1]=h}}(a,h,l,u)),h}function yd(a,l){const u=ro(a,l);if(u>=0)return a[1|u]}function ro(a,l){return function qe(a,l,u){let h=0,f=a.length>>u;for(;f!==h;){const _=h+(f-h>>1),b=a[_<<u];if(l===b)return _<<u;b>l?f=_:h=_+1}return~(f<<u)}(a,l,1)}const gt=Kt(kl("Optional"),8),kt=Kt(kl("SkipSelf"),4);var Yi=(()=>((Yi=Yi||{})[Yi.Important=1]="Important",Yi[Yi.DashCase=2]="DashCase",Yi))();const ag=new Map;let F_=0;const qo="__ngContext__";function wr(a,l){tr(l)?(a[qo]=l[20],function N_(a){ag.set(a[20],a)}(l)):a[qo]=l}function ug(a,l){return undefined(a,l)}function Dd(a){const l=a[3];return _r(l)?l[3]:l}function hg(a){return mf(a[13])}function gf(a){return mf(a[4])}function mf(a){for(;null!==a&&!_r(a);)a=a[4];return a}function Bs(a,l,u,h,f){if(null!=h){let _,b=!1;_r(h)?_=h:tr(h)&&(b=!0,h=h[0]);const E=fi(h);0===a&&null!==u?null==f?$_(l,u,E):oo(l,u,E,f||null,!0):1===a&&null!==u?oo(l,u,E,f||null,!0):2===a?function yg(a,l,u){const h=Id(a,l);h&&function _g(a,l,u,h){a.removeChild(l,u,h)}(a,h,l,u)}(l,E,b):3===a&&l.destroyNode(E),null!=_&&function Mb(a,l,u,h,f){const _=u[7];_!==fi(u)&&Bs(l,a,h,_,f);for(let E=10;E<u.length;E++){const x=u[E];kd(x[1],x,a,l,h,_)}}(l,a,_,u,f)}}function fg(a,l,u){return a.createElement(l,u)}function Ad(a,l){const u=a[9],h=u.indexOf(l),f=l[3];512&l[2]&&(l[2]&=-513,ma(f,-1)),u.splice(h,1)}function yf(a,l){if(a.length<=10)return;const u=10+l,h=a[u];if(h){const f=h[17];null!==f&&f!==a&&Ad(f,h),l>0&&(a[u-1][4]=h[4]);const _=lt(a,10+l);!function pg(a,l){kd(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(h[1],h);const b=_[19];null!==b&&b.detachView(_[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function Fl(a,l){if(!(128&l[2])){const u=l[11];u.destroyNode&&kd(a,l,u,3,null,null),function Pl(a){let l=a[13];if(!l)return gg(a[1],a);for(;l;){let u=null;if(tr(l))u=l[13];else{const h=l[10];h&&(u=h)}if(!u){for(;l&&!l[4]&&l!==a;)tr(l)&&gg(l[1],l),l=l[3];null===l&&(l=a),tr(l)&&gg(l[1],l),u=l&&l[4]}l=u}}(l)}}function gg(a,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function z_(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let h=0;h<u.length;h+=2){const f=l[u[h]];if(!(f instanceof Ca)){const _=u[h+1];if(Array.isArray(_))for(let b=0;b<_.length;b+=2){const E=f[_[b]],x=_[b+1];try{x.call(E)}finally{}}else try{_.call(f)}finally{}}}}(a,l),function Ab(a,l){const u=a.cleanup,h=l[7];let f=-1;if(null!==u)for(let _=0;_<u.length-1;_+=2)if("string"==typeof u[_]){const b=u[_+3];b>=0?h[f=b]():h[f=-b].unsubscribe(),_+=2}else{const b=h[f=u[_+1]];u[_].call(b)}if(null!==h){for(let _=f+1;_<h.length;_++)(0,h[_])();l[7]=null}}(a,l),1===l[1].type&&l[11].destroy();const u=l[17];if(null!==u&&_r(l[3])){u!==l[3]&&Ad(u,l);const h=l[19];null!==h&&h.detachView(a)}!function cf(a){ag.delete(a[20])}(l)}}function mg(a,l,u){return function Xc(a,l,u){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return u[0];{const{componentOffset:f}=h;if(f>-1){const{encapsulation:_}=a.data[h.directiveStart+f];if(_===Qt.None||_===Qt.Emulated)return null}return ir(h,u)}}(a,l.parent,u)}function oo(a,l,u,h,f){a.insertBefore(l,u,h,f)}function $_(a,l,u){a.appendChild(l,u)}function Jc(a,l,u,h,f){null!==h?oo(a,l,u,h,f):$_(a,l,u)}function Id(a,l){return a.parentNode(l)}function vf(a,l,u){return Td(a,l,u)}let eu,nu,iu,Td=function Pa(a,l,u){return 40&a.type?ir(a,u):null};function bf(a,l,u,h){const f=mg(a,h,l),_=l[11],E=vf(h.parent||l[6],h,l);if(null!=f)if(Array.isArray(u))for(let x=0;x<u.length;x++)Jc(_,f,u[x],E,!1);else Jc(_,f,u,E,!1)}function wf(a,l){if(null!==l){const u=l.type;if(3&u)return ir(l,a);if(4&u)return Nl(-1,a[l.index]);if(8&u){const h=l.child;if(null!==h)return wf(a,h);{const f=a[l.index];return _r(f)?Nl(-1,f):fi(f)}}if(32&u)return ug(l,a)()||fi(a[l.index]);{const h=W_(a,l);return null!==h?Array.isArray(h)?h[0]:wf(Dd(a[16]),h):wf(a,l.next)}}return null}function W_(a,l){return null!==l?a[16][6].projection[l.projection]:null}function Nl(a,l){const u=10+a+1;if(u<l.length){const h=l[u],f=h[1].firstChild;if(null!==f)return wf(h,f)}return l[7]}function Cf(a,l,u,h,f,_,b){for(;null!=u;){const E=h[u.index],x=u.type;if(b&&0===l&&(E&&wr(fi(E),h),u.flags|=2),32!=(32&u.flags))if(8&x)Cf(a,l,u.child,h,f,_,!1),Bs(l,a,f,E,_);else if(32&x){const T=ug(u,h);let O;for(;O=T();)Bs(l,a,f,O,_);Bs(l,a,f,E,_)}else 16&x?Y_(a,l,h,u,f,_):Bs(l,a,f,E,_);u=b?u.projectionNext:u.next}}function kd(a,l,u,h,f,_){Cf(u,h,a.firstChild,l,f,_,!1)}function Y_(a,l,u,h,f,_){const b=u[16],x=b[6].projection[h.projection];if(Array.isArray(x))for(let T=0;T<x.length;T++)Bs(l,a,f,x[T],_);else Cf(a,l,x,b[3],f,_,!0)}function Rd(a,l,u){""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u)}function Od(a,l,u){const{mergedAttrs:h,classes:f,styles:_}=u;null!==h&&xa(a,l,h),null!==f&&Rd(a,l,f),null!==_&&function bg(a,l,u){a.setAttribute(l,"style",u)}(a,l,_)}function Hs(a){return function vs(){if(void 0===eu&&(eu=null,Vt.trustedTypes))try{eu=Vt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return eu}()?.createHTML(a)||a}function wg(a){nu=a}function Ef(a){return function Fd(){if(void 0===iu&&(iu=null,Vt.trustedTypes))try{iu=Vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return iu}()?.createScriptURL(a)||a}class Vl{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${it})`}}class Ld extends Vl{getTypeName(){return"HTML"}}class Z_ extends Vl{getTypeName(){return"Style"}}class Wr extends Vl{getTypeName(){return"Script"}}class Vd extends Vl{getTypeName(){return"URL"}}class xf extends Vl{getTypeName(){return"ResourceURL"}}function Io(a){return a instanceof Vl?a.changingThisBreaksApplicationSecurity:a}function Nr(a,l){const u=function ru(a){return a instanceof Vl&&a.getTypeName()||null}(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see ${it})`)}return u===l}function K_(a){return new Ld(a)}function Bl(a){return new Z_(a)}function Df(a){return new Wr(a)}function Bd(a){return new Vd(a)}function Rb(a){return new xf(a)}class Cg{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(Hs(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch{return null}}}class X_{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Hs(l),u;const h=this.inertDocument.createElement("body");return h.innerHTML=Hs(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(l){const u=l.attributes;for(let f=u.length-1;0<f;f--){const b=u.item(f).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&l.removeAttribute(b)}let h=l.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const p=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function m(a){return(a=String(a)).match(p)?a:"unsafe:"+a}function w(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function A(...a){const l={};for(const u of a)for(const h in u)u.hasOwnProperty(h)&&(l[h]=!0);return l}const M=w("area,br,col,hr,img,wbr"),H=w("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),te=w("rp,rt"),et=A(M,A(H,w("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),A(te,w("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),A(te,H)),Jt=w("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Na=A(Jt,w("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),w("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Eg=w("script,style,template");class J_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!et.hasOwnProperty(u))return this.sanitizedSomething=!0,!Eg.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=l.attributes;for(let f=0;f<h.length;f++){const _=h.item(f),b=_.name,E=b.toLowerCase();if(!Na.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let x=_.value;Jt[E]&&(x=m(x)),this.buf.push(" ",b,'="',xg(x),'"')}return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();et.hasOwnProperty(u)&&!M.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(xg(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const Ul=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Hl=/([^\#-~ |!])/g;function xg(a){return a.replace(/&/g,"&amp;").replace(Ul,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Hl,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ud;function La(a,l){let u=null;try{Ud=Ud||function Q_(a){const l=new X_(a);return function v(){try{return!!(new window.DOMParser).parseFromString(Hs(""),"text/html")}catch{return!1}}()?new Cg(l):l}(a);let h=l?String(l):"";u=Ud.getInertBodyElement(h);let f=5,_=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=_,_=u.innerHTML,u=Ud.getInertBodyElement(h)}while(h!==_);return Hs((new J_).sanitizeChildren(Va(u)||u))}finally{if(u){const h=Va(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Va(a){return"content"in a&&function Ob(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var ei=(()=>((ei=ei||{})[ei.NONE=0]="NONE",ei[ei.HTML=1]="HTML",ei[ei.STYLE=2]="STYLE",ei[ei.SCRIPT=3]="SCRIPT",ei[ei.URL=4]="URL",ei[ei.RESOURCE_URL=5]="RESOURCE_URL",ei))();function Fb(a){const l=Dg();return l?l.sanitize(ei.URL,a)||"":Nr(a,"URL")?Io(a):m(ge(a))}function Nb(a){const l=Dg();if(l)return Ef(l.sanitize(ei.RESOURCE_URL,a)||"");if(Nr(a,"ResourceURL"))return Ef(Io(a));throw new pe(904,!1)}function Hd(a,l,u){return function ey(a,l){return"src"===l&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===l&&("base"===a||"link"===a)?Nb:Fb}(l,u)(a)}function Dg(){const a=De();return a&&a[12]}const Vb=new kn("ENVIRONMENT_INITIALIZER"),xE=new kn("INJECTOR",-1),DE=new kn("INJECTOR_DEF_TYPES");class SE{get(l,u=Ji){if(u===Ji){const h=new Error(`NullInjectorError: No provider for ${he(l)}!`);throw h.name="NullInjectorError",h}return u}}function GI(...a){return{\u0275providers:Bb(0,a),\u0275fromNgModule:!0}}function Bb(a,...l){const u=[],h=new Set;let f;return $r(l,_=>{const b=_;Sg(b,u,[],h)&&(f||(f=[]),f.push(b))}),void 0!==f&&AE(f,u),u}function AE(a,l){for(let u=0;u<a.length;u++){const{providers:f}=a[u];Ag(f,_=>{l.push(_)})}}function Sg(a,l,u,h){if(!(a=Q(a)))return!1;let f=null,_=pr(a);const b=!_&&pn(a);if(_||b){if(b&&!b.standalone)return!1;f=a}else{const x=a.ngModule;if(_=pr(x),!_)return!1;f=x}const E=h.has(f);if(b){if(E)return!1;if(h.add(f),b.dependencies){const x="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const T of x)Sg(T,l,u,h)}}else{if(!_)return!1;{if(null!=_.imports&&!E){let T;h.add(f);try{$r(_.imports,O=>{Sg(O,l,u,h)&&(T||(T=[]),T.push(O))})}finally{}void 0!==T&&AE(T,l)}if(!E){const T=nr(f)||(()=>new f);l.push({provide:f,useFactory:T,deps:xt},{provide:DE,useValue:f,multi:!0},{provide:Vb,useValue:()=>Ge(f),multi:!0})}const x=_.providers;null==x||E||Ag(x,O=>{l.push(O)})}}return f!==a&&void 0!==a.providers}function Ag(a,l){for(let u of a)Me(u)&&(u=u.\u0275providers),Array.isArray(u)?Ag(u,l):l(u)}const ty=me({provide:String,useValue:me});function Ub(a){return null!==a&&"object"==typeof a&&ty in a}function Gd(a){return"function"==typeof a}const iy=new kn("Set Injector scope."),Ig={},ry={};let Sf;function Tg(){return void 0===Sf&&(Sf=new SE),Sf}class Yo{}class Hb extends Yo{constructor(l,u,h,f){super(),this.parent=u,this.source=h,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jb(l,b=>this.processProvider(b)),this.records.set(xE,Af(void 0,this)),f.has("environment")&&this.records.set(Yo,Af(void 0,this));const _=this.records.get(iy);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(DE.multi,xt,nt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const u=Kn(this),h=zn(void 0);try{return l()}finally{Kn(u),zn(h)}}get(l,u=Ji,h=nt.Default){this.assertNotDestroyed(),h=Mt(h);const f=Kn(this),_=zn(void 0);try{if(!(h&nt.SkipSelf)){let E=this.records.get(l);if(void 0===E){const x=function WI(a){return"function"==typeof a||"object"==typeof a&&a instanceof kn}(l)&&Xi(l);E=x&&this.injectableDefInScope(x)?Af(Gb(l),Ig):null,this.records.set(l,E)}if(null!=E)return this.hydrate(l,E)}return(h&nt.Self?Tg():this.parent).get(l,u=h&nt.Optional&&u===Ji?null:u)}catch(b){if("NullInjectorError"===b.name){if((b[is]=b[is]||[]).unshift(he(l)),f)throw b;return function G(a,l,u,h){const f=a[is];throw l[Js]&&f.unshift(l[Js]),a.message=function Z(a,l,u,h=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let f=he(l);if(Array.isArray(l))f=l.map(he).join(" -> ");else if("object"==typeof l){let _=[];for(let b in l)if(l.hasOwnProperty(b)){let E=l[b];_.push(b+":"+("string"==typeof E?JSON.stringify(E):he(E)))}f=`{${_.join(", ")}}`}return`${u}${h?"("+h+")":""}[${f}]: ${a.replace($n,"\n  ")}`}("\n"+a.message,f,u,h),a.ngTokenPath=f,a[is]=null,a}(b,l,"R3InjectorError",this.source)}throw b}finally{zn(_),Kn(f)}}resolveInjectorInitializers(){const l=Kn(this),u=zn(void 0);try{const h=this.get(Vb.multi,xt,nt.Self);for(const f of h)f()}finally{Kn(l),zn(u)}}toString(){const l=[],u=this.records;for(const h of u.keys())l.push(he(h));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pe(205,!1)}processProvider(l){let u=Gd(l=Q(l))?l:Q(l&&l.provide);const h=function $I(a){return Ub(a)?Af(void 0,a.useValue):Af(ME(a),Ig)}(l);if(Gd(l)||!0!==l.multi)this.records.get(u);else{let f=this.records.get(u);f||(f=Af(void 0,Ig,!0),f.factory=()=>Ot(f.multi),this.records.set(u,f)),u=l,f.multi.push(l)}this.records.set(u,h)}hydrate(l,u){return u.value===Ig&&(u.value=ry,u.value=u.factory()),"object"==typeof u.value&&u.value&&function qI(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=Q(l.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Gb(a){const l=Xi(a),u=null!==l?l.factory:nr(a);if(null!==u)return u;if(a instanceof kn)throw new pe(204,!1);if(a instanceof Function)return function zI(a){const l=a.length;if(l>0)throw _n(l,"?"),new pe(204,!1);const u=function sa(a){const l=a&&(a[Oe]||a[an]);if(l){const u=function Hr(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new pe(204,!1)}function ME(a,l,u){let h;if(Gd(a)){const f=Q(a);return nr(f)||Gb(f)}if(Ub(a))h=()=>Q(a.useValue);else if(function TE(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...Ot(a.deps||[]));else if(function IE(a){return!(!a||!a.useExisting)}(a))h=()=>Ge(Q(a.useExisting));else{const f=Q(a&&(a.useClass||a.provide));if(!function kE(a){return!!a.deps}(a))return nr(f)||Gb(f);h=()=>new f(...Ot(a.deps))}return h}function Af(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function jb(a,l){for(const u of a)Array.isArray(u)?jb(u,l):u&&Me(u)?jb(u.\u0275providers,l):l(u)}class YI{}class RE{}class QI{resolveComponentFactory(l){throw function ZI(a){const l=Error(`No component factory found for ${he(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let If=(()=>{class a{}return a.NULL=new QI,a})();function PE(){return Mg(Di(),De())}function Mg(a,l){return new Tf(ir(a,l))}let Tf=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=PE,a})();function FE(a){return a instanceof Tf?a.nativeElement:a}class NE{}let XI=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function JI(){const a=De(),u=rr(Di().index,a);return(tr(u)?u:a)[11]}(),a})(),eT=(()=>{class a{}return a.\u0275prov=tn({token:a,providedIn:"root",factory:()=>null}),a})();class LE{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const VE=new LE("15.0.2"),sy={};function oy(a){return a.ngOriginalError}class Ba{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l);this._console.error("ERROR",l),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&oy(l);for(;u&&oy(u);)u=oy(u);return u||null}}function Gl(a){return a instanceof Function?a():a}function Wb(a,l,u){let h=a.length;for(;;){const f=a.indexOf(l,u);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const _=l.length;if(f+_===h||a.charCodeAt(f+_)<=32)return f}u=f+1}}const zE="ng-template";function sT(a,l,u){let h=0;for(;h<a.length;){let f=a[h++];if(u&&"class"===f){if(f=a[h],-1!==Wb(f.toLowerCase(),l,0))return!0}else if(1===f){for(;h<a.length&&"string"==typeof(f=a[h++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function $E(a){return 4===a.type&&a.value!==zE}function oT(a,l,u){return l===(4!==a.type||u?a.value:zE)}function qE(a,l,u){let h=4;const f=a.attrs||[],_=function cT(a){for(let l=0;l<a.length;l++)if(Cl(a[l]))return l;return a.length}(f);let b=!1;for(let E=0;E<l.length;E++){const x=l[E];if("number"!=typeof x){if(!b)if(4&h){if(h=2|1&h,""!==x&&!oT(a,x,u)||""===x&&1===l.length){if(ti(h))return!1;b=!0}}else{const T=8&h?x:l[++E];if(8&h&&null!==a.attrs){if(!sT(a.attrs,T,u)){if(ti(h))return!1;b=!0}continue}const U=aT(8&h?"class":x,f,$E(a),u);if(-1===U){if(ti(h))return!1;b=!0;continue}if(""!==T){let Y;Y=U>_?"":f[U+1].toLowerCase();const ne=8&h?Y:null;if(ne&&-1!==Wb(ne,T,0)||2&h&&T!==Y){if(ti(h))return!1;b=!0}}}}else{if(!b&&!ti(h)&&!ti(x))return!1;if(b&&ti(x))continue;b=!1,h=x|1&h}}return ti(h)||b}function ti(a){return 0==(1&a)}function aT(a,l,u,h){if(null===l)return-1;let f=0;if(h||!u){let _=!1;for(;f<l.length;){const b=l[f];if(b===a)return f;if(3===b||6===b)_=!0;else{if(1===b||2===b){let E=l[++f];for(;"string"==typeof E;)E=l[++f];continue}if(4===b)break;if(0===b){f+=4;continue}}f+=_?1:2}return-1}return function WE(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const h=a[u];if("number"==typeof h)return-1;if(h===l)return u;u++}return-1}(l,a)}function Rg(a,l,u=!1){for(let h=0;h<l.length;h++)if(qE(a,l[h],u))return!0;return!1}function N1(a,l){e:for(let u=0;u<l.length;u++){const h=l[u];if(a.length===h.length){for(let f=0;f<a.length;f++)if(a[f]!==h[f])continue e;return!0}}return!1}function uT(a,l){return a?":not("+l.trim()+")":l}function dT(a){let l=a[0],u=1,h=2,f="",_=!1;for(;u<a.length;){let b=a[u];if("string"==typeof b)if(2&h){const E=a[++u];f+="["+b+(E.length>0?'="'+E+'"':"")+"]"}else 8&h?f+="."+b:4&h&&(f+=" "+b);else""!==f&&!ti(b)&&(l+=uT(_,f),f=""),h=b,_=_||!ti(h);u++}return""!==f&&(l+=uT(_,f)),l}const Ft={};function hT(a){Zb(rn(),De(),qi()+a,!1)}function Zb(a,l,u,h){if(!h)if(3==(3&l[2])){const _=a.preOrderCheckHooks;null!==_&&Lc(l,_,u)}else{const _=a.preOrderHooks;null!==_&&pi(l,_,0,u)}fs(u)}function KE(a,l=null,u=null,h){const f=QE(a,l,u,h);return f.resolveInjectorInitializers(),f}function QE(a,l=null,u=null,h,f=new Set){const _=[u||xt,GI(a)];return h=h||("object"==typeof a?void 0:he(a)),new Hb(_,l||Tg(),h||null,f)}let su=(()=>{class a{static create(u,h){if(Array.isArray(u))return KE({name:""},h,u,"");{const f=u.name??"";return KE({name:f},u.parent,u.providers,f)}}}return a.THROW_IF_NOT_FOUND=Ji,a.NULL=new SE,a.\u0275prov=tn({token:a,providedIn:"any",factory:()=>Ge(xE)}),a.__NG_ELEMENT_ID__=-1,a})();function dt(a,l=nt.Default){const u=De();return null===u?Ge(a,l):Gc(Di(),u,Q(a),l)}function ly(){throw new Error("invalid")}function Og(a,l){const u=a.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const f=u[h],_=u[h+1];if(-1!==_){const b=a.data[_];rd(f),b.contentQueries(2,l[_],_)}}}function uy(a,l,u,h,f,_,b,E,x,T,O){const U=l.blueprint.slice();return U[0]=f,U[2]=76|h,(null!==O||a&&1024&a[2])&&(U[2]|=1024),ga(U),U[3]=U[15]=a,U[8]=u,U[10]=b||a&&a[10],U[11]=E||a&&a[11],U[12]=x||a&&a[12]||null,U[9]=T||a&&a[9]||null,U[6]=_,U[20]=function Eb(){return F_++}(),U[21]=O,U[16]=2==l.type?a[16]:U,U}function au(a,l,u,h,f){let _=a.data[l];if(null===_)_=function tw(a,l,u,h,f){const _=_a(),b=hs(),x=a.data[l]=function dy(a,l,u,h,f,_){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?_:_&&_.parent,u,l,h,f);return null===a.firstChild&&(a.firstChild=x),null!==_&&(b?null==_.child&&null!==x.parent&&(_.child=x):null===_.next&&(_.next=x)),x}(a,l,u,h,f),function A_(){return Dt.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=u,_.value=h,_.attrs=f;const b=function bo(){const a=Dt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();_.injectorIndex=null===b?-1:b.injectorIndex}return $i(_,!0),_}function Fg(a,l,u,h){if(0===u)return-1;const f=l.length;for(let _=0;_<u;_++)l.push(h),a.blueprint.push(h),a.data.push(null);return f}function nw(a,l,u){Yp(l);try{const h=a.viewQuery;null!==h&&vy(1,h,u);const f=a.template;null!==f&&Ng(a,l,f,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Og(a,l),a.staticViewQueries&&vy(2,a.viewQuery,u);const _=a.components;null!==_&&function Pg(a,l){for(let u=0;u<l.length;u++)ux(a,l[u])}(l,_)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{l[2]&=-5,Oc()}}function or(a,l,u,h){const f=l[2];if(128!=(128&f)){Yp(l);try{ga(l),function kc(a){return Dt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&Ng(a,l,u,2,h);const b=3==(3&f);if(b){const T=a.preOrderCheckHooks;null!==T&&Lc(l,T,null)}else{const T=a.preOrderHooks;null!==T&&pi(l,T,0,null),wa(l,0)}if(function uw(a){for(let l=hg(a);null!==l;l=gf(l)){if(!l[2])continue;const u=l[9];for(let h=0;h<u.length;h++){const f=u[h],_=f[3];0==(512&f[2])&&ma(_,1),f[2]|=512}}}(l),function my(a){for(let l=hg(a);null!==l;l=gf(l))for(let u=10;u<l.length;u++){const h=l[u],f=h[1];Ju(h)&&or(f,h,f.template,h[8])}}(l),null!==a.contentQueries&&Og(a,l),b){const T=a.contentCheckHooks;null!==T&&Lc(l,T)}else{const T=a.contentHooks;null!==T&&pi(l,T,1),wa(l,1)}!function jt(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const f=u[h];if(f<0)fs(~f);else{const _=f,b=u[++h],E=u[++h];jh(b,_),E(2,l[_])}}}finally{fs(-1)}}(a,l);const E=a.components;null!==E&&function cy(a,l){for(let u=0;u<l.length;u++)cx(a,l[u])}(l,E);const x=a.viewQuery;if(null!==x&&vy(2,x,h),b){const T=a.viewCheckHooks;null!==T&&Lc(l,T)}else{const T=a.viewHooks;null!==T&&pi(l,T,2),wa(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,ma(l[3],-1))}finally{Oc()}}}function Ng(a,l,u,h,f){const _=qi(),b=2&h;try{fs(-1),b&&l.length>22&&Zb(a,l,22,!1),u(h,f)}finally{fs(_)}}function ar(a,l,u){if(fl(l)){const f=l.directiveEnd;for(let _=l.directiveStart;_<f;_++){const b=a.data[_];b.contentQueries&&b.contentQueries(1,u[_],_)}}}function Ha(a,l,u){!nd()||(function ox(a,l,u,h){const f=u.directiveStart,_=u.directiveEnd;a.firstCreatePass||hd(u,l),wr(h,l);const b=u.initialInputs;for(let E=f;E<_;E++){const x=a.data[E],T=Or(x);T&&ST(l,u,x);const O=wo(l,a,E,u);wr(O,l),null!==b&&Hg(0,E-f,O,x,0,b),T&&(rr(u.index,l)[8]=O)}}(a,l,u,ir(u,l)),64==(64&u.flags)&&Bg(a,l,u))}function iw(a,l,u=ir){const h=l.localNames;if(null!==h){let f=l.index+1;for(let _=0;_<h.length;_+=2){const b=h[_+1],E=-1===b?u(l,a):a[b];a[f++]=E}}}function rw(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=Lg(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function Lg(a,l,u,h,f,_,b,E,x,T){const O=22+h,U=O+f,Y=function nx(a,l){const u=[];for(let h=0;h<l;h++)u.push(h<a?null:Ft);return u}(O,U),ne="function"==typeof T?T():T;return Y[1]={type:a,blueprint:Y,template:u,queries:null,viewQuery:E,declTNode:l,data:Y.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:x,consts:ne,incompleteFirstPass:!1}}function ix(a,l,u,h){const f=hx(l);null===u?f.push(h):(f.push(u),a.firstCreatePass&&dw(a).push(h,f.length-1))}function sw(a,l,u,h){for(let f in a)if(a.hasOwnProperty(f)){u=null===u?{}:u;const _=a[f];null===h?hy(u,l,f,_):h.hasOwnProperty(f)&&hy(u,l,h[f],_)}return u}function hy(a,l,u,h){a.hasOwnProperty(u)?a[u].push(l,h):a[u]=[l,h]}function ws(a,l,u,h,f,_,b,E){const x=ir(l,u);let O,T=l.inputs;!E&&null!=T&&(O=T[h])?(wy(a,u,O,h,f),wc(l)&&rx(u,l.index)):3&l.type&&(h=function Ga(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),f=null!=b?b(f,l.value||"",h):f,_.setProperty(x,h,f))}function rx(a,l){const u=rr(l,a);16&u[2]||(u[2]|=32)}function py(a,l,u,h){let f=!1;if(nd()){const _=null===h?null:{"":-1},b=function aw(a,l){const u=a.directiveRegistry;let h=null,f=null;if(u)for(let _=0;_<u.length;_++){const b=u[_];if(Rg(l,b.selectors,!1))if(h||(h=[]),Or(b))if(null!==b.findHostDirectiveDefs){const E=[];f=f||new Map,b.findHostDirectiveDefs(b,E,f),h.unshift(...E,b),Ug(a,l,E.length)}else h.unshift(b),Ug(a,l,0);else f=f||new Map,b.findHostDirectiveDefs?.(b,h,f),h.push(b)}return null===h?null:[h,f]}(a,u);let E,x;null===b?E=x=null:[E,x]=b,null!==E&&(f=!0,gy(a,l,u,E,_,x)),_&&function xT(a,l,u){if(l){const h=a.localNames=[];for(let f=0;f<l.length;f+=2){const _=u[l[f+1]];if(null==_)throw new pe(-301,!1);h.push(l[f],_)}}}(u,h,_)}return u.mergedAttrs=Fs(u.mergedAttrs,u.attrs),f}function gy(a,l,u,h,f,_){for(let T=0;T<h.length;T++)Uc(hd(u,l),a,h[T].type);!function lw(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}(u,a.data.length,h.length);for(let T=0;T<h.length;T++){const O=h[T];O.providersResolver&&O.providersResolver(O)}let b=!1,E=!1,x=Fg(a,l,h.length,null);for(let T=0;T<h.length;T++){const O=h[T];u.mergedAttrs=Fs(u.mergedAttrs,O.hostAttrs),ax(a,u,l,x,O),DT(x,O,f),null!==O.contentQueries&&(u.flags|=4),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(u.flags|=64);const U=O.type.prototype;!b&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),b=!0),!E&&(U.ngOnChanges||U.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),E=!0),x++}!function fy(a,l,u){const f=l.directiveEnd,_=a.data,b=l.attrs,E=[];let x=null,T=null;for(let O=l.directiveStart;O<f;O++){const U=_[O],Y=u?u.get(U):null,be=Y?Y.outputs:null;x=sw(U.inputs,O,x,Y?Y.inputs:null),T=sw(U.outputs,O,T,be);const Ve=null===x||null===b||$E(l)?null:AT(x,O,b);E.push(Ve)}null!==x&&(x.hasOwnProperty("class")&&(l.flags|=8),x.hasOwnProperty("style")&&(l.flags|=16)),l.initialInputs=E,l.inputs=x,l.outputs=T}(a,u,_)}function Bg(a,l,u){const h=u.directiveStart,f=u.directiveEnd,_=u.index,b=function I_(){return Dt.lFrame.currentDirectiveIndex}();try{fs(_);for(let E=h;E<f;E++){const x=a.data[E],T=l[E];ya(E),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&ow(x,T)}}finally{fs(-1),ya(b)}}function ow(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function Ug(a,l,u){l.componentOffset=u,(a.components||(a.components=[])).push(l.index)}function DT(a,l,u){if(u){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)u[l.exportAs[h]]=a;Or(l)&&(u[""]=a)}}function ax(a,l,u,h,f){a.data[h]=f;const _=f.factory||(f.factory=nr(f.type)),b=new Ca(_,Or(f),dt);a.blueprint[h]=b,u[h]=b,function sx(a,l,u,h,f){const _=f.hostBindings;if(_){let b=a.hostBindingOpCodes;null===b&&(b=a.hostBindingOpCodes=[]);const E=~l.index;(function ET(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(b)!=E&&b.push(E),b.push(u,h,_)}}(a,l,h,Fg(a,u,f.hostVars,Ft),f)}function ST(a,l,u){const h=ir(l,a),f=rw(u),_=a[10],b=Pf(a,uy(a,f,null,u.onPush?32:16,h,l,_,_.createRenderer(h,u),null,null,null));a[l.index]=b}function Gs(a,l,u,h,f,_){const b=ir(a,l);!function cw(a,l,u,h,f,_,b){if(null==_)a.removeAttribute(l,f,u);else{const E=null==b?ge(_):b(_,h||"",f);a.setAttribute(l,f,E,u)}}(l[11],b,_,a.value,u,h,f)}function Hg(a,l,u,h,f,_){const b=_[l];if(null!==b){const E=h.setInput;for(let x=0;x<b.length;){const T=b[x++],O=b[x++],U=b[x++];null!==E?h.setInput(u,U,T,O):u[O]=U}}}function AT(a,l,u){let h=null,f=0;for(;f<u.length;){const _=u[f];if(0!==_)if(5!==_){if("number"==typeof _)break;if(a.hasOwnProperty(_)){null===h&&(h=[]);const b=a[_];for(let E=0;E<b.length;E+=2)if(b[E]===l){h.push(_,b[E+1],u[f+1]);break}}f+=2}else f+=2;else f+=4}return h}function lx(a,l,u,h){return[a,!0,!1,l,null,0,h,u,null,null]}function cx(a,l){const u=rr(l,a);if(Ju(u)){const h=u[1];48&u[2]?or(h,u,h.template,u[8]):u[5]>0&&_y(u)}}function _y(a){for(let h=hg(a);null!==h;h=gf(h))for(let f=10;f<h.length;f++){const _=h[f];if(Ju(_))if(512&_[2]){const b=_[1];or(b,_,b.template,_[8])}else _[5]>0&&_y(_)}const u=a[1].components;if(null!==u)for(let h=0;h<u.length;h++){const f=rr(u[h],a);Ju(f)&&f[5]>0&&_y(f)}}function ux(a,l){const u=rr(l,a),h=u[1];(function yy(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])})(h,u),nw(h,u,u[8])}function Pf(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function Gg(a){for(;a;){a[2]|=32;const l=Dd(a);if(Wu(a)&&!l)return a;a=l}return null}function Ff(a,l,u,h=!0){const f=l[10];f.begin&&f.begin();try{or(a,l,a.template,u)}catch(b){throw h&&by(l,b),b}finally{f.end&&f.end()}}function vy(a,l,u){rd(0),l(a,u)}function hx(a){return a[7]||(a[7]=[])}function dw(a){return a.cleanup||(a.cleanup=[])}function hw(a,l,u){return(null===a||Or(a))&&(u=function Dc(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(u[l.index])),u[11]}function by(a,l){const u=a[9],h=u?u.get(Ba,null):null;h&&h.handleError(l)}function wy(a,l,u,h,f){for(let _=0;_<u.length;){const b=u[_++],E=u[_++],x=l[b],T=a.data[b];null!==T.setInput?T.setInput(x,f,h,E):x[E]=f}}function Nf(a,l,u){let h=u?a.styles:null,f=u?a.classes:null,_=0;if(null!==l)for(let b=0;b<l.length;b++){const E=l[b];"number"==typeof E?_=E:1==_?f=de(f,E):2==_&&(h=de(h,E+": "+l[++b]+";"))}u?a.styles=h:a.stylesWithoutHost=h,u?a.classes=f:a.classesWithoutHost=f}function Lf(a,l,u,h,f=!1){for(;null!==u;){const _=l[u.index];if(null!==_&&h.push(fi(_)),_r(_))for(let E=10;E<_.length;E++){const x=_[E],T=x[1].firstChild;null!==T&&Lf(x[1],x,T,h)}const b=u.type;if(8&b)Lf(a,l,u.child,h);else if(32&b){const E=ug(u,l);let x;for(;x=E();)h.push(x)}else if(16&b){const E=W_(l,u);if(Array.isArray(E))h.push(...E);else{const x=Dd(l[16]);Lf(x[1],x,E,h,!0)}}u=f?u.projectionNext:u.next}return h}class $d{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return Lf(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(_r(l)){const u=l[8],h=u?u.indexOf(this):-1;h>-1&&(yf(l,h),lt(u,h))}this._attachedToViewContainer=!1}Fl(this._lView[1],this._lView)}onDestroy(l){ix(this._lView[1],this._lView,null,l)}markForCheck(){Gg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Ff(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Sd(a,l){kd(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new pe(902,!1);this._appRef=l}}class Cr extends $d{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;Ff(l[1],l,l[8],!1)}checkNoChanges(){}get context(){return null}}class Er extends If{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=pn(l);return new zg(u,this.ngModule)}}function jg(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}class TT{constructor(l,u){this.injector=l,this.parentInjector=u}get(l,u,h){h=Mt(h);const f=this.injector.get(l,sy,h);return f!==sy||u===sy?f:this.parentInjector.get(l,u,h)}}class zg extends RE{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function Yb(a){return a.map(dT).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return jg(this.componentDef.inputs)}get outputs(){return jg(this.componentDef.outputs)}create(l,u,h,f){let _=(f=f||this.ngModule)instanceof Yo?f:f?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const b=_?new TT(l,_):l,E=b.get(NE,null);if(null===E)throw new pe(407,!1);const x=b.get(eT,null),T=E.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",U=h?function Yr(a,l,u){return a.selectRootElement(l,u===Qt.ShadowDom)}(T,h,this.componentDef.encapsulation):fg(T,O,function fw(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(O)),Y=this.componentDef.onPush?288:272,ne=Lg(0,null,null,1,0,null,null,null,null,null),be=uy(null,ne,null,Y,null,null,E,T,x,b,null);let Ve,Ye;Yp(be);try{const st=this.componentDef;let Et,Te=null;st.findHostDirectiveDefs?(Et=[],Te=new Map,st.findHostDirectiveDefs(st,Et,Te),Et.push(st)):Et=[st];const At=function MT(a,l){const u=a[1];return a[22]=l,au(u,22,2,"#host",null)}(be,U),qn=function px(a,l,u,h,f,_,b,E){const x=f[1];!function pw(a,l,u,h){for(const f of a)l.mergedAttrs=Fs(l.mergedAttrs,f.hostAttrs);null!==l.mergedAttrs&&(Nf(l,l.mergedAttrs,!0),null!==u&&Od(h,u,l))}(h,a,l,b);const T=_.createRenderer(l,u),O=uy(f,rw(u),null,u.onPush?32:16,f[a.index],a,_,T,E||null,null,null);return x.firstCreatePass&&Ug(x,a,h.length-1),Pf(f,O),f[a.index]=O}(At,U,st,Et,be,E,T);Ye=Ac(ne,22),U&&function gw(a,l,u,h){if(h)xa(a,u,["ng-version",VE.full]);else{const{attrs:f,classes:_}=function YE(a){const l=[],u=[];let h=1,f=2;for(;h<a.length;){let _=a[h];if("string"==typeof _)2===f?""!==_&&l.push(_,a[++h]):8===f&&u.push(_);else{if(!ti(f))break;f=_}h++}return{attrs:l,classes:u}}(l.selectors[0]);f&&xa(a,u,f),_&&_.length>0&&Rd(a,u,_.join(" "))}}(T,st,U,h),void 0!==u&&function gx(a,l,u){const h=a.projection=[];for(let f=0;f<l.length;f++){const _=u[f];h.push(null!=_?Array.from(_):null)}}(Ye,this.ngContentSelectors,u),Ve=function kT(a,l,u,h,f,_){const b=Di(),E=f[1],x=ir(b,f);gy(E,f,b,u,null,h);for(let O=0;O<u.length;O++)wr(wo(f,E,b.directiveStart+O,b),f);Bg(E,f,b),x&&wr(x,f);const T=wo(f,E,b.directiveStart+b.componentOffset,b);if(a[8]=f[8]=T,null!==_)for(const O of _)O(T,l);return ar(E,b,a),T}(qn,st,Et,Te,be,[RT]),nw(ne,be,null)}finally{Oc()}return new fx(this.componentType,Ve,Mg(Ye,be),be,Ye)}}class fx extends YI{constructor(l,u,h,f,_){super(),this.location=h,this._rootLView=f,this._tNode=_,this.instance=u,this.hostView=this.changeDetectorRef=new Cr(f),this.componentType=l}setInput(l,u){const h=this._tNode.inputs;let f;if(null!==h&&(f=h[l])){const _=this._rootLView;wy(_[1],_,f,l,u),rx(_,this._tNode.index)}}get injector(){return new jo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function RT(){const a=Di();Nc(De()[1],a)}function qg(a){let l=function $g(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const h=[a];for(;l;){let f;if(Or(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new pe(903,!1);f=l.\u0275dir}if(f){if(u){h.push(f);const b=a;b.inputs=Cy(a.inputs),b.declaredInputs=Cy(a.declaredInputs),b.outputs=Cy(a.outputs);const E=f.hostBindings;E&&mx(a,E);const x=f.viewQuery,T=f.contentQueries;if(x&&OT(a,x),T&&Wg(a,T),X(a.inputs,f.inputs),X(a.declaredInputs,f.declaredInputs),X(a.outputs,f.outputs),Or(f)&&f.data.animation){const O=a.data;O.animation=(O.animation||[]).concat(f.data.animation)}}const _=f.features;if(_)for(let b=0;b<_.length;b++){const E=_[b];E&&E.ngInherit&&E(a),E===qg&&(u=!1)}}l=Object.getPrototypeOf(l)}!function mw(a){let l=0,u=null;for(let h=a.length-1;h>=0;h--){const f=a[h];f.hostVars=l+=f.hostVars,f.hostAttrs=Fs(f.hostAttrs,u=Fs(u,f.hostAttrs))}}(h)}function Cy(a){return a===Rn?{}:a===xt?[]:a}function OT(a,l){const u=a.viewQuery;a.viewQuery=u?(h,f)=>{l(h,f),u(h,f)}:l}function Wg(a,l){const u=a.contentQueries;a.contentQueries=u?(h,f,_)=>{l(h,f,_),u(h,f,_)}:l}function mx(a,l){const u=a.hostBindings;a.hostBindings=u?(h,f)=>{l(h,f),u(h,f)}:l}let Yg=null;function ja(){if(!Yg){const a=Vt.Symbol;if(a&&a.iterator)Yg=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const h=l[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Yg=h)}}}return Yg}function zl(a){return!!xy(a)&&(Array.isArray(a)||!(a instanceof Map)&&ja()in a)}function xy(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function xr(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function Qg(a,l,u,h){const f=De();return xr(f,vl(),l)&&(rn(),Gs(Sn(),f,a,l,u,h)),Qg}function du(a,l,u,h){return xr(a,vl(),u)?l+ge(u)+h:Ft}function Cx(a,l,u,h,f,_,b,E){const x=De(),T=rn(),O=a+22,U=T.firstCreatePass?function LT(a,l,u,h,f,_,b,E,x){const T=l.consts,O=au(l,a,4,b||null,ds(T,E));py(l,u,O,ds(T,x)),Nc(l,O);const U=O.tViews=Lg(2,O,h,f,_,l.directiveRegistry,l.pipeRegistry,null,l.schemas,T);return null!==l.queries&&(l.queries.template(l,O),U.queries=l.queries.embeddedTView(O)),O}(O,T,x,l,u,h,f,_,b):T.data[O];$i(U,!1);const Y=x[11].createComment("");bf(T,x,Y,U),wr(Y,x),Pf(x,x[O]=lx(Y,x,Y,U)),pl(U)&&Ha(T,x,U),null!=b&&iw(x,U,E)}function Cw(a){return us(function Mc(){return Dt.lFrame.contextLView}(),22+a)}function Ew(a,l,u){const h=De();return xr(h,vl(),l)&&ws(rn(),Sn(),h,a,l,h[11],u,!1),Ew}function Wl(a,l,u,h,f){const b=f?"class":"style";wy(a,u,l.inputs[b],b,h)}function Yd(a,l,u,h){const f=De(),_=rn(),b=22+a,E=f[11],x=f[b]=fg(E,l,function ba(){return Dt.lFrame.currentNamespace}()),T=_.firstCreatePass?function Yl(a,l,u,h,f,_,b){const E=l.consts,T=au(l,a,2,f,ds(E,_));return py(l,u,T,ds(E,b)),null!==T.attrs&&Nf(T,T.attrs,!1),null!==T.mergedAttrs&&Nf(T,T.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,T),T}(b,_,f,0,l,u,h):_.data[b];return $i(T,!0),Od(E,x,T),32!=(32&T.flags)&&bf(_,f,x,T),0===function $p(){return Dt.lFrame.elementDepthCount}()&&wr(x,f),function Vh(){Dt.lFrame.elementDepthCount++}(),pl(T)&&(Ha(_,f,T),ar(_,T,f)),null!==h&&iw(f,T),Yd}function Zd(){let a=Di();hs()?Tc():(a=a.parent,$i(a,!1));const l=a;!function td(){Dt.lFrame.elementDepthCount--}();const u=rn();return u.firstCreatePass&&(Nc(u,a),fl(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Jp(a){return 0!=(8&a.flags)}(l)&&Wl(u,l,De(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function wl(a){return 0!=(16&a.flags)}(l)&&Wl(u,l,De(),l.stylesWithoutHost,!1),Zd}function Dy(a,l,u,h){return Yd(a,l,u,h),Zd(),Dy}function Kd(a,l,u){const h=De(),f=rn(),_=a+22,b=f.firstCreatePass?function ci(a,l,u,h,f){const _=l.consts,b=ds(_,h),E=au(l,a,8,"ng-container",b);return null!==b&&Nf(E,b,!0),py(l,u,E,ds(_,f)),null!==l.queries&&l.queries.elementStart(l,E),E}(_,f,h,l,u):f.data[_];$i(b,!0);const E=h[_]=h[11].createComment("");return bf(f,h,E,b),wr(E,h),pl(b)&&(Ha(f,h,b),ar(f,b,h)),null!=u&&iw(h,b),Kd}function gu(){let a=Di();const l=rn();return hs()?Tc():(a=a.parent,$i(a,!1)),l.firstCreatePass&&(Nc(l,a),fl(a)&&l.queries.elementEnd(a)),gu}function xx(){return De()}function Sy(a){return!!a&&"function"==typeof a.then}function Dx(a){return!!a&&"function"==typeof a.subscribe}const Sx=Dx;function xw(a,l,u,h){const f=De(),_=rn(),b=Di();return Zl(_,f,f[11],b,a,l,h),xw}function Dw(a,l){const u=Di(),h=De(),f=rn();return Zl(f,h,hw(zh(f.data),u,h),u,a,l),Dw}function Zl(a,l,u,h,f,_,b){const E=pl(h),T=a.firstCreatePass&&dw(a),O=l[8],U=hx(l);let Y=!0;if(3&h.type||b){const Ve=ir(h,l),Ye=b?b(Ve):Ve,st=U.length,Et=b?At=>b(fi(At[h.index])):h.index;let Te=null;if(!b&&E&&(Te=function Jg(a,l,u,h){const f=a.cleanup;if(null!=f)for(let _=0;_<f.length-1;_+=2){const b=f[_];if(b===u&&f[_+1]===h){const E=l[7],x=f[_+2];return E.length>x?E[x]:null}"string"==typeof b&&(_+=2)}return null}(a,l,f,h.index)),null!==Te)(Te.__ngLastListenerFn__||Te).__ngNextListenerFn__=_,Te.__ngLastListenerFn__=_,Y=!1;else{_=Aw(h,l,O,_,!1);const At=u.listen(Ye,f,_);U.push(_,At),T&&T.push(f,Et,st,st+1)}}else _=Aw(h,l,O,_,!1);const ne=h.outputs;let be;if(Y&&null!==ne&&(be=ne[f])){const Ve=be.length;if(Ve)for(let Ye=0;Ye<Ve;Ye+=2){const qn=l[be[Ye]][be[Ye+1]].subscribe(_),Wn=U.length;U.push(_,qn),T&&T.push(f,h.index,Wn,-(Wn+1))}}}function Sw(a,l,u,h){try{return!1!==u(h)}catch(f){return by(a,f),!1}}function Aw(a,l,u,h,f){return function _(b){if(b===Function)return h;Gg(a.componentOffset>-1?rr(a.index,l):l);let x=Sw(l,0,h,b),T=_.__ngNextListenerFn__;for(;T;)x=Sw(l,0,T,b)&&x,T=T.__ngNextListenerFn__;return f&&!1===x&&(b.preventDefault(),b.returnValue=!1),x}}function Iw(a=1){return function Qp(a){return(Dt.lFrame.contextLView=function Si(a,l){for(;a>0;)l=l[15],a--;return l}(a,Dt.lFrame.contextLView))[8]}(a)}function jf(a,l){let u=null;const h=function lT(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(a);for(let f=0;f<l.length;f++){const _=l[f];if("*"!==_){if(null===h?Rg(a,_,!0):N1(h,_))return f}else u=f}return u}function Ax(a){const l=De()[16][6];if(!l.projection){const h=l.projection=_n(a?a.length:1,null),f=h.slice();let _=l.child;for(;null!==_;){const b=a?jf(_,a):0;null!==b&&(f[b]?f[b].projectionNext=_:h[b]=_,f[b]=_),_=_.next}}}function Ix(a,l=0,u){const h=De(),f=rn(),_=au(f,22+a,16,null,u||null);null===_.projection&&(_.projection=l),Tc(),32!=(32&_.flags)&&function Tb(a,l,u){Y_(l[11],0,l,u,mg(a,u,l),vf(u.parent||l[6],u,l))}(f,h,_)}function Ay(a,l,u){return Tw(a,"",l,"",u),Ay}function Tw(a,l,u,h,f){const _=De(),b=du(_,l,u,h);return b!==Ft&&ws(rn(),Sn(),_,a,b,_[11],f,!1),Tw}function ky(a,l){return a<<17|l<<2}function mu(a){return a>>17&32767}function zf(a){return 2|a}function Kl(a){return(131068&a)>>2}function Oy(a,l){return-131069&a|l<<2}function Qd(a){return 1|a}function kx(a,l,u,h,f){const _=a[u+1],b=null===l;let E=h?mu(_):Kl(_),x=!1;for(;0!==E&&(!1===x||b);){const O=a[E+1];BT(a[E],l)&&(x=!0,a[E+1]=h?Qd(O):zf(O)),E=h?mu(O):Kl(O)}x&&(a[u+1]=h?zf(_):Qd(_))}function BT(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&ro(a,l)>=0}const Zi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Pw(a){return a.substring(Zi.key,Zi.keyEnd)}function Fw(a,l){const u=Zi.textEnd;return u===l?-1:(l=Zi.keyEnd=function nm(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,Zi.key=l,u),_u(a,l,u))}function _u(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function Uw(a,l,u){return lo(a,l,u,!1),Uw}function Ly(a,l){return lo(a,l,null,!0),Ly}function Mo(a,l){for(let u=function Py(a){return function Lw(a){Zi.key=0,Zi.keyEnd=0,Zi.value=0,Zi.valueEnd=0,Zi.textEnd=a.length}(a),Fw(a,_u(a,0,Zi.textEnd))}(l);u>=0;u=Fw(l,u))yr(a,Pw(l),!0)}function lo(a,l,u,h){const f=De(),_=rn(),b=Ps(2);_.firstUpdatePass&&Hw(_,a,b,h),l!==Ft&&xr(f,b,l)&&Gw(_,_.data[qi()],f,f[11],a,f[b+1]=function UT(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=he(Io(a)))),a}(l,u),h,b)}function im(a,l){return l>=a.expandoStartIndex}function Hw(a,l,u,h){const f=a.data;if(null===f[u+1]){const _=f[qi()],b=im(a,u);Hy(_,h)&&null===l&&!b&&(l=!1),l=function Nx(a,l,u,h){const f=zh(a);let _=h?l.residualClasses:l.residualStyles;if(null===f)0===(h?l.classBindings:l.styleBindings)&&(u=$f(u=Vy(null,a,l,u,h),l.attrs,h),_=null);else{const b=l.directiveStylingLast;if(-1===b||a[b]!==f)if(u=Vy(f,a,l,u,h),null===_){let x=function Xd(a,l,u){const h=u?l.classBindings:l.styleBindings;if(0!==Kl(h))return a[mu(h)]}(a,l,h);void 0!==x&&Array.isArray(x)&&(x=Vy(null,a,l,x[1],h),x=$f(x,l.attrs,h),function Lx(a,l,u,h){a[mu(u?l.classBindings:l.styleBindings)]=h}(a,l,h,x))}else _=function Vx(a,l,u){let h;const f=l.directiveEnd;for(let _=1+l.directiveStylingLast;_<f;_++)h=$f(h,a[_].hostAttrs,u);return $f(h,l.attrs,u)}(a,l,h)}return void 0!==_&&(h?l.residualClasses=_:l.residualStyles=_),u}(f,_,l,h),function Mx(a,l,u,h,f,_){let b=_?l.classBindings:l.styleBindings,E=mu(b),x=Kl(b);a[h]=u;let O,T=!1;if(Array.isArray(u)){const U=u;O=U[1],(null===O||ro(U,O)>0)&&(T=!0)}else O=u;if(f)if(0!==x){const Y=mu(a[E+1]);a[h+1]=ky(Y,E),0!==Y&&(a[Y+1]=Oy(a[Y+1],h)),a[E+1]=function em(a,l){return 131071&a|l<<17}(a[E+1],h)}else a[h+1]=ky(E,0),0!==E&&(a[E+1]=Oy(a[E+1],h)),E=h;else a[h+1]=ky(x,0),0===E?E=h:a[x+1]=Oy(a[x+1],h),x=h;T&&(a[h+1]=zf(a[h+1])),kx(a,O,h,!0),kx(a,O,h,!1),function VT(a,l,u,h,f){const _=f?a.residualClasses:a.residualStyles;null!=_&&"string"==typeof l&&ro(_,l)>=0&&(u[h+1]=Qd(u[h+1]))}(l,O,a,h,_),b=ky(E,x),_?l.classBindings=b:l.styleBindings=b}(f,_,l,u,b,h)}}function Vy(a,l,u,h,f){let _=null;const b=u.directiveEnd;let E=u.directiveStylingLast;for(-1===E?E=u.directiveStart:E++;E<b&&(_=l[E],h=$f(h,_.hostAttrs,f),_!==a);)E++;return null!==a&&(u.directiveStylingLast=E),h}function $f(a,l,u){const h=u?1:2;let f=-1;if(null!==l)for(let _=0;_<l.length;_++){const b=l[_];"number"==typeof b?f=b:f===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),yr(a,b,!!u||l[++_]))}return void 0===a?null:a}function Gw(a,l,u,h,f,_,b,E){if(!(3&l.type))return;const x=a.data,T=x[E+1],O=function tm(a){return 1==(1&a)}(T)?Jd(x,l,u,f,Kl(T),b):void 0;Uy(O)||(Uy(_)||function Ry(a){return 2==(2&a)}(T)&&(_=Jd(x,null,u,f,E,b)),function vg(a,l,u,h,f){if(l)f?a.addClass(u,h):a.removeClass(u,h);else{let _=-1===h.indexOf("-")?void 0:Yi.DashCase;null==f?a.removeStyle(u,h,_):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),_|=Yi.Important),a.setStyle(u,h,f,_))}}(h,b,Fi(qi(),u),f,_))}function Jd(a,l,u,h,f,_){const b=null===l;let E;for(;f>0;){const x=a[f],T=Array.isArray(x),O=T?x[1]:x,U=null===O;let Y=u[f+1];Y===Ft&&(Y=U?xt:void 0);let ne=U?yd(Y,h):O===h?Y:void 0;if(T&&!Uy(ne)&&(ne=yd(x,h)),Uy(ne)&&(E=ne,b))return E;const be=a[f+1];f=b?mu(be):Kl(be)}if(null!==l){let x=_?l.residualClasses:l.residualStyles;null!=x&&(E=yd(x,h))}return E}function Uy(a){return void 0!==a}function Hy(a,l){return 0!=(a.flags&(l?8:16))}function Ux(a,l=""){const u=De(),h=rn(),f=a+22,_=h.firstCreatePass?au(h,f,1,l,null):h.data[f],b=u[f]=function Wo(a,l){return a.createText(l)}(u[11],l);bf(h,u,b,_),$i(_,!1)}function jw(a){return rm("",a,""),jw}function rm(a,l,u){const h=De(),f=du(h,a,l,u);return f!==Ft&&function jl(a,l,u){const h=Fi(l,a);!function _f(a,l,u){a.setValue(l,u)}(a[11],h,u)}(h,qi(),f),rm}function jx(a,l,u){!function ko(a,l,u,h){const f=rn(),_=Ps(2);f.firstUpdatePass&&Hw(f,null,_,h);const b=De();if(u!==Ft&&xr(b,_,u)){const E=f.data[qi()];if(Hy(E,h)&&!im(f,_)){let x=h?E.classesWithoutHost:E.stylesWithoutHost;null!==x&&(u=de(x,u||"")),Wl(f,E,b,u,h)}else!function Bx(a,l,u,h,f,_,b,E){f===Ft&&(f=xt);let x=0,T=0,O=0<f.length?f[0]:null,U=0<_.length?_[0]:null;for(;null!==O||null!==U;){const Y=x<f.length?f[x+1]:void 0,ne=T<_.length?_[T+1]:void 0;let Ve,be=null;O===U?(x+=2,T+=2,Y!==ne&&(be=U,Ve=ne)):null===U||null!==O&&O<U?(x+=2,be=O):(T+=2,be=U,Ve=ne),null!==be&&Gw(a,l,u,h,be,Ve,b,E),O=x<f.length?f[x]:null,U=T<_.length?_[T]:null}}(f,E,b,b[11],b[_+1],b[_+1]=function By(a,l,u){if(null==u||""===u)return xt;const h=[],f=Io(u);if(Array.isArray(f))for(let _=0;_<f.length;_++)a(h,f[_],!0);else if("object"==typeof f)for(const _ in f)f.hasOwnProperty(_)&&a(h,_,f[_]);else"string"==typeof f&&l(h,f);return h}(a,l,u),h,_)}}(yr,Mo,du(De(),a,l,u),!0)}function St(a,l,u){const h=De();return xr(h,vl(),l)&&ws(rn(),Sn(),h,a,l,h[11],u,!0),St}function ih(a,l,u){const h=De();if(xr(h,vl(),l)){const _=rn(),b=Sn();ws(_,b,h,a,l,hw(zh(_.data),b,h),u,!0)}return ih}const en=void 0;var Ai=["en",[["a","p"],["AM","PM"],en],[["AM","PM"],en,en],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],en,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],en,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",en,"{1} 'at' {0}",en],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function YT(a){const u=Math.floor(Math.abs(a)),h=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let ze={};function om(a){const l=function Yx(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=am(l);if(u)return u;const h=l.split("-")[0];if(u=am(h),u)return u;if("en"===h)return Ai;throw new pe(701,!1)}function Wx(a){return om(a)[yt.PluralCase]}function am(a){return a in ze||(ze[a]=Vt.ng&&Vt.ng.common&&Vt.ng.common.locales&&Vt.ng.common.locales[a]),ze[a]}var yt=(()=>((yt=yt||{})[yt.LocaleId=0]="LocaleId",yt[yt.DayPeriodsFormat=1]="DayPeriodsFormat",yt[yt.DayPeriodsStandalone=2]="DayPeriodsStandalone",yt[yt.DaysFormat=3]="DaysFormat",yt[yt.DaysStandalone=4]="DaysStandalone",yt[yt.MonthsFormat=5]="MonthsFormat",yt[yt.MonthsStandalone=6]="MonthsStandalone",yt[yt.Eras=7]="Eras",yt[yt.FirstDayOfWeek=8]="FirstDayOfWeek",yt[yt.WeekendRange=9]="WeekendRange",yt[yt.DateFormat=10]="DateFormat",yt[yt.TimeFormat=11]="TimeFormat",yt[yt.DateTimeFormat=12]="DateTimeFormat",yt[yt.NumberSymbols=13]="NumberSymbols",yt[yt.NumberFormats=14]="NumberFormats",yt[yt.CurrencyCode=15]="CurrencyCode",yt[yt.CurrencySymbol=16]="CurrencySymbol",yt[yt.CurrencyName=17]="CurrencyName",yt[yt.Currencies=18]="Currencies",yt[yt.Directionality=19]="Directionality",yt[yt.PluralCase=20]="PluralCase",yt[yt.ExtraData=21]="ExtraData",yt))();const yu="en-US";let cm=yu;function wu(a,l,u,h,f){if(a=Q(a),Array.isArray(a))for(let _=0;_<a.length;_++)wu(a[_],l,u,h,f);else{const _=rn(),b=De();let E=Gd(a)?a:Q(a.provide),x=ME(a);const T=Di(),O=1048575&T.providerIndexes,U=T.directiveStart,Y=T.providerIndexes>>20;if(Gd(a)||!a.multi){const ne=new Ca(x,f,dt),be=ym(E,l,f?O:O+Y,U);-1===be?(Uc(hd(T,b),_,E),Yy(_,a,l.length),l.push(E),T.directiveStart++,T.directiveEnd++,f&&(T.providerIndexes+=1048576),u.push(ne),b.push(ne)):(u[be]=ne,b[be]=ne)}else{const ne=ym(E,l,O+Y,U),be=ym(E,l,O,O+Y),Ve=ne>=0&&u[ne],Ye=be>=0&&u[be];if(f&&!Ye||!f&&!Ve){Uc(hd(T,b),_,E);const st=function Ky(a,l,u,h,f){const _=new Ca(a,u,dt);return _.multi=[],_.index=l,_.componentProviders=0,Zy(_,f,h&&!u),_}(f?Jf:s0,u.length,f,h,x);!f&&Ye&&(u[be].providerFactory=st),Yy(_,a,l.length,0),l.push(E),T.directiveStart++,T.directiveEnd++,f&&(T.providerIndexes+=1048576),u.push(st),b.push(st)}else Yy(_,a,ne>-1?ne:be,Zy(u[f?be:ne],x,!f&&h));!f&&h&&Ye&&u[be].componentProviders++}}}function Yy(a,l,u,h){const f=Gd(l),_=function ny(a){return!!a.useClass}(l);if(f||_){const x=(_?Q(l.useClass):l).prototype.ngOnDestroy;if(x){const T=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const O=T.indexOf(u);-1===O?T.push(u,[h,x]):T[O+1].push(h,x)}else T.push(u,x)}}}function Zy(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function ym(a,l,u,h){for(let f=u;f<h;f++)if(l[f]===a)return f;return-1}function s0(a,l,u,h){return Vr(this.multi,[])}function Jf(a,l,u,h){const f=this.multi;let _;if(this.providerFactory){const b=this.providerFactory.componentProviders,E=wo(u,u[1],this.providerFactory.index,h);_=E.slice(0,b),Vr(f,_);for(let x=b;x<E.length;x++)_.push(E[x])}else _=[],Vr(f,_);return _}function Vr(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function ep(a,l=[]){return u=>{u.providersResolver=(h,f)=>function dD(a,l,u){const h=rn();if(h.firstCreatePass){const f=Or(a);wu(u,h.data,h.blueprint,f,!0),wu(l,h.data,h.blueprint,f,!1)}}(h,f?f(a):a,l)}}class ch{}class Qy{}function o0(a,l){return new a0(a,l??null)}class a0 extends ch{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Er(this);const h=mr(l);this._bootstrapComponents=Gl(h.bootstrap),this._r3Injector=QE(l,u,[{provide:ch,useValue:this},{provide:If,useValue:this.componentFactoryResolver}],he(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class l0 extends Qy{constructor(l){super(),this.moduleType=l}create(l){return new a0(this.moduleType,l)}}class hD extends ch{constructor(l,u,h){super(),this.componentFactoryResolver=new Er(this),this.instance=null;const f=new Hb([...l,{provide:ch,useValue:this},{provide:If,useValue:this.componentFactoryResolver}],u||Tg(),h,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function Xy(a,l,u=null){return new hD(a,l,u).injector}let fD=(()=>{class a{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const h=Bb(0,u.type),f=h.length>0?Xy([h],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,f)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=tn({token:a,providedIn:"environment",factory:()=>new a(Ge(Yo))}),a})();function vm(a){a.getStandaloneInjector=l=>l.get(fD).getOrCreateStandaloneInjector(a)}function yD(a,l,u,h){return tv(De(),si(),a,l,u,h)}function tv(a,l,u,h,f,_){const b=l+u;return xr(a,b,f)?function ao(a,l,u){return a[l]=u}(a,b+1,_?h.call(_,f):h(f)):function Ya(a,l){const u=a[l];return u===Ft?void 0:u}(a,b+1)}function f0(a,l){const u=rn();let h;const f=a+22;u.firstCreatePass?(h=function Eu(a,l){if(l)for(let u=l.length-1;u>=0;u--){const h=l[u];if(a===h.name)return h}}(l,u.pipeRegistry),u.data[f]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(f,h.onDestroy)):h=u.data[f];const _=h.factory||(h.factory=nr(h.type)),b=zn(dt);try{const E=Bc(!1),x=_();return Bc(E),function Ex(a,l,u,h){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),l[u]=h}(u,De(),f,x),x}finally{zn(b)}}function Es(a,l,u){const h=a+22,f=De(),_=us(f,h);return function rp(a,l){return a[1].data[l].pure}(f,h)?tv(f,si(),l,_.transform,u,_):_.transform(u)}function p0(a){return l=>{setTimeout(a,void 0,l)}}const Ka=class Cm extends o.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,h){let f=l,_=u||(()=>null),b=h;if(l&&"object"==typeof l){const x=l;f=x.next?.bind(x),_=x.error?.bind(x),b=x.complete?.bind(x)}this.__isAsync&&(_=p0(_),f&&(f=p0(f)),b&&(b=p0(b)));const E=super.subscribe({next:f,error:_,complete:b});return l instanceof J.w0&&l.add(E),E}};function qt(){return this._results[ja()]()}class nv{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=ja(),h=nv.prototype;h[u]||(h[u]=qt)}get changes(){return this._changes||(this._changes=new Ka)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const h=this;h.dirty=!1;const f=Xt(l);(this._changesDetected=!function M_(a,l,u){if(a.length!==l.length)return!1;for(let h=0;h<a.length;h++){let f=a[h],_=l[h];if(u&&(f=u(f),_=u(_)),_!==f)return!1}return!0}(h._results,f,u))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let xu=(()=>{class a{}return a.__NG_ELEMENT_ID__=iv,a})();const Em=xu,xm=class extends Em{constructor(l,u,h){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(l,u){const h=this._declarationTContainer.tViews,f=uy(this._declarationLView,h,l,16,null,h.declTNode,null,null,null,null,u||null);f[17]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[19];return null!==b&&(f[19]=b.createEmbeddedView(h)),nw(h,f,l),new $d(f)}};function iv(){return Dm(Di(),De())}function Dm(a,l){return 4&a.type?new xm(l,a,Mg(a,l)):null}let Sm=(()=>{class a{}return a.__NG_ELEMENT_ID__=SD,a})();function SD(){return AD(Di(),De())}const pM=Sm,g0=class extends pM{constructor(l,u,h){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=h}get element(){return Mg(this._hostTNode,this._hostLView)}get injector(){return new jo(this._hostTNode,this._hostLView)}get parentInjector(){const l=wn(this._hostTNode,this._hostLView);if(Sa(l)){const u=xl(l,this._hostLView),h=El(l);return new jo(u[1].data[h+8],u)}return new jo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=m0(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,h){let f,_;"number"==typeof h?f=h:null!=h&&(f=h.index,_=h.injector);const b=l.createEmbeddedView(u||{},_);return this.insert(b,f),b}createComponent(l,u,h,f,_){const b=l&&!function zo(a){return"function"==typeof a}(l);let E;if(b)E=u;else{const U=u||{};E=U.index,h=U.injector,f=U.projectableNodes,_=U.environmentInjector||U.ngModuleRef}const x=b?l:new zg(pn(l)),T=h||this.parentInjector;if(!_&&null==x.ngModule){const Y=(b?T:this.parentInjector).get(Yo,null);Y&&(_=Y)}const O=x.create(T,f,void 0,_);return this.insert(O.hostView,E),O}insert(l,u){const h=l._lView,f=h[1];if(function _l(a){return _r(a[3])}(h)){const O=this.indexOf(l);if(-1!==O)this.detach(O);else{const U=h[3],Y=new g0(U,U[6],U[3]);Y.detach(Y.indexOf(l))}}const _=this._adjustIndex(u),b=this._lContainer;!function Qc(a,l,u,h){const f=10+h,_=u.length;h>0&&(u[f-1][4]=l),h<_-10?(l[4]=u[f],Je(u,10+h,l)):(u.push(l),l[4]=null),l[3]=u;const b=l[17];null!==b&&u!==b&&function j_(a,l){const u=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===u?a[9]=[l]:u.push(l)}(b,l);const E=l[19];null!==E&&E.insertView(a),l[2]|=64}(f,h,b,_);const E=Nl(_,b),x=h[11],T=Id(x,b[7]);return null!==T&&function Sb(a,l,u,h,f,_){h[0]=f,h[6]=l,kd(a,h,u,1,f,_)}(f,b[6],x,h,T,E),l.attachToViewContainerRef(),Je(_0(b),_,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=m0(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),h=yf(this._lContainer,u);h&&(lt(_0(this._lContainer),u),Fl(h[1],h))}detach(l){const u=this._adjustIndex(l,-1),h=yf(this._lContainer,u);return h&&null!=lt(_0(this._lContainer),u)?new $d(h):null}_adjustIndex(l,u=0){return l??this.length+u}};function m0(a){return a[8]}function _0(a){return a[8]||(a[8]=[])}function AD(a,l){let u;const h=l[a.index];if(_r(h))u=h;else{let f;if(8&a.type)f=fi(h);else{const _=l[11];f=_.createComment("");const b=ir(a,l);oo(_,Id(_,b),f,function Us(a,l){return a.nextSibling(l)}(_,b),!1)}l[a.index]=u=lx(h,l,f,a),Pf(l,u)}return new g0(u,a,l)}class y0{constructor(l){this.queryList=l,this.matches=null}clone(){return new y0(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ki{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const h=null!==l.contentQueries?l.contentQueries[0]:u.length,f=[];for(let _=0;_<h;_++){const b=u.getByIndex(_);f.push(this.queries[b.indexInDeclarationView].clone())}return new Ki(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==D0(l,u).matches&&this.queries[u].setDirty()}}class rv{constructor(l,u,h=null){this.predicate=l,this.flags=u,this.read=h}}class sv{constructor(l=[]){this.queries=l}elementStart(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let h=0;h<this.length;h++){const f=null!==u?u.length:0,_=this.getByIndex(h).embeddedTView(l,f);_&&(_.indexInDeclarationView=h,null!==u?u.push(_):u=[_])}return null!==u?new sv(u):null}template(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class hh{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new hh(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const _=h[f];this.matchTNodeWithReadOption(l,u,Qa(u,_)),this.matchTNodeWithReadOption(l,u,jc(u,l,_,!1,!1))}else h===xu?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,jc(u,l,h,!1,!1))}matchTNodeWithReadOption(l,u,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===Tf||f===Sm||f===xu&&4&u.type)this.addMatch(u.index,-2);else{const _=jc(u,l,f,!1,!1);null!==_&&this.addMatch(u.index,_)}else this.addMatch(u.index,h)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function Qa(a,l){const u=a.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===l)return u[h+1];return null}function ID(a,l,u,h){return-1===u?function v0(a,l){return 11&a.type?Mg(a,l):4&a.type?Dm(a,l):null}(l,a):-2===u?function Im(a,l,u){return u===Tf?Mg(l,a):u===xu?Dm(l,a):u===Sm?AD(l,a):void 0}(a,l,h):wo(a,a[1],u,l)}function b0(a,l,u,h){const f=l[19].queries[h];if(null===f.matches){const _=a.data,b=u.matches,E=[];for(let x=0;x<b.length;x+=2){const T=b[x];E.push(T<0?null:ID(l,_[T],b[x+1],u.metadata.read))}f.matches=E}return f.matches}function ov(a,l,u,h){const f=a.queries.getByIndex(u),_=f.matches;if(null!==_){const b=b0(a,l,f,u);for(let E=0;E<_.length;E+=2){const x=_[E];if(x>0)h.push(b[E/2]);else{const T=_[E+1],O=l[-x];for(let U=10;U<O.length;U++){const Y=O[U];Y[17]===Y[3]&&ov(Y[1],Y,T,h)}if(null!==O[9]){const U=O[9];for(let Y=0;Y<U.length;Y++){const ne=U[Y];ov(ne[1],ne,T,h)}}}}}return h}function w0(a){const l=De(),u=rn(),h=Wp();rd(h+1);const f=D0(u,h);if(a.dirty&&function Ic(a){return 4==(4&a[2])}(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const _=f.crossesNgTemplate?ov(u,l,h,[]):b0(u,l,f,h);a.reset(_,FE),a.notifyOnChanges()}return!0}return!1}function TD(a,l,u){const h=rn();h.firstCreatePass&&(E0(h,new rv(a,l,u),-1),2==(2&l)&&(h.staticViewQueries=!0)),kD(h,De(),l)}function MD(a,l,u,h){const f=rn();if(f.firstCreatePass){const _=Di();E0(f,new rv(l,u,h),_.index),function x0(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(f,a),2==(2&u)&&(f.staticContentQueries=!0)}kD(f,De(),u)}function sp(){return function C0(a,l){return a[19].queries[l].queryList}(De(),Wp())}function kD(a,l,u){const h=new nv(4==(4&u));ix(a,l,h,h.destroy),null===l[19]&&(l[19]=new Ki),l[19].queries.push(new y0(h))}function E0(a,l,u){null===a.queries&&(a.queries=new sv),a.queries.track(new hh(l,u))}function D0(a,l){return a.queries.getByIndex(l)}function Xa(...a){}const P0=new kn("Application Initializer");let pv=(()=>{class a{constructor(u){this.appInits=u,this.resolve=Xa,this.reject=Xa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const _=this.appInits[f]();if(Sy(_))u.push(_);else if(Sx(_)){const b=new Promise((E,x)=>{_.subscribe({complete:E,error:x})});u.push(b)}}Promise.all(u).then(()=>{h()}).catch(f=>{this.reject(f)}),0===u.length&&h(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(Ge(P0,8))},a.\u0275prov=tn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const qD=new kn("AppId",{providedIn:"root",factory:function WD(){return`${oc()}${oc()}${oc()}`}});function oc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Iu=new kn("Platform Initializer"),YD=new kn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ZD=new kn("appBootstrapListener"),F0=new kn("AnimationModuleType");let mv=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=tn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const Rm=new kn("LocaleId",{providedIn:"root",factory:()=>Xe(Rm,nt.Optional|nt.SkipSelf)||function MM(){return typeof $localize<"u"&&$localize.locale||yu}()}),Om=new kn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class KD{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let qs=(()=>{class a{compileModuleSync(u){return new l0(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),_=Gl(mr(u).declarations).reduce((b,E)=>{const x=pn(E);return x&&b.push(new zg(x)),b},[]);return new KD(h,_)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=tn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const ph=(()=>Promise.resolve(0))();function B0(a){typeof Zone>"u"?ph.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class dr{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ka(!1),this.onMicrotaskEmpty=new Ka(!1),this.onStable=new Ka(!1),this.onError=new Ka(!1),typeof Zone>"u")throw new pe(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&u,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function up(){let a=Vt.requestAnimationFrame,l=Vt.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function PM(a){const l=()=>{!function OM(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Vt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,H0(a),a.isCheckStableRunning=!0,U0(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),H0(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,f,_,b,E)=>{try{return Fm(a),u.invokeTask(f,_,b,E)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||a.shouldCoalesceRunChangeDetection)&&l(),G0(a)}},onInvoke:(u,h,f,_,b,E,x)=>{try{return Fm(a),u.invoke(f,_,b,E,x)}finally{a.shouldCoalesceRunChangeDetection&&l(),G0(a)}},onHasTask:(u,h,f,_)=>{u.hasTask(f,_),h===f&&("microTask"==_.change?(a._hasPendingMicrotasks=_.microTask,H0(a),U0(a)):"macroTask"==_.change&&(a.hasPendingMacrotasks=_.macroTask))},onHandleError:(u,h,f,_)=>(u.handleError(f,_),a.runOutsideAngular(()=>a.onError.emit(_)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dr.isInAngularZone())throw new pe(909,!1)}static assertNotInAngularZone(){if(dr.isInAngularZone())throw new pe(909,!1)}run(l,u,h){return this._inner.run(l,u,h)}runTask(l,u,h,f){const _=this._inner,b=_.scheduleEventTask("NgZoneEvent: "+f,l,XD,Xa,Xa);try{return _.runTask(b,u,h)}finally{_.cancelTask(b)}}runGuarded(l,u,h){return this._inner.runGuarded(l,u,h)}runOutsideAngular(l){return this._outer.run(l)}}const XD={};function U0(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function H0(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function Fm(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function G0(a){a._nesting--,U0(a)}class FM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ka,this.onMicrotaskEmpty=new Ka,this.onStable=new Ka,this.onError=new Ka}run(l,u,h){return l.apply(u,h)}runGuarded(l,u,h){return l.apply(u,h)}runOutsideAngular(l){return l()}runTask(l,u,h,f){return l.apply(u,h)}}const j0=new kn(""),JD=new kn("");let vv,eS=(()=>{class a{constructor(u,h,f){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vv||(function Nm(a){vv=a}(f),f.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dr.assertNotInAngularZone(),B0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())B0(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,f){let _=-1;h&&h>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==_),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:_,updateCb:f})}whenStable(u,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,f){return[]}}return a.\u0275fac=function(u){return new(u||a)(Ge(dr),Ge(Tu),Ge(JD))},a.\u0275prov=tn({token:a,factory:a.\u0275fac}),a})(),Tu=(()=>{class a{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return vv?.findTestabilityInTree(this,u,h)??null}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=tn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),lc=null;const tS=new kn("AllowMultipleToken"),bv=new kn("PlatformDestroyListeners");class LM{constructor(l,u){this.name=l,this.token=u}}function rS(a,l,u=[]){const h=`Platform: ${l}`,f=new kn(h);return(_=[])=>{let b=Lm();if(!b||b.injector.get(tS,!1)){const E=[...u,..._,{provide:f,useValue:!0}];a?a(E):function VM(a){if(lc&&!lc.get(tS,!1))throw new pe(400,!1);lc=a;const l=a.get(Cv);(function iS(a){const l=a.get(Iu,null);l&&l.forEach(u=>u())})(a)}(function sS(a=[],l){return su.create({name:l,providers:[{provide:iy,useValue:"platform"},{provide:bv,useValue:new Set([()=>lc=null])},...a]})}(E,h))}return function wv(a){const l=Lm();if(!l)throw new pe(401,!1);return l}()}}function Lm(){return lc?.get(Cv)??null}let Cv=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const f=function Vm(a,l){let u;return u="noop"===a?new FM:("zone.js"===a?void 0:a)||new dr(l),u}(h?.ngZone,function dp(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(h)),_=[{provide:dr,useValue:f}];return f.run(()=>{const b=su.create({providers:_,parent:this.injector,name:u.moduleType.name}),E=u.create(b),x=E.injector.get(Ba,null);if(!x)throw new pe(402,!1);return f.runOutsideAngular(()=>{const T=f.onError.subscribe({next:O=>{x.handleError(O)}});E.onDestroy(()=>{Dv(this._modules,E),T.unsubscribe()})}),function Ev(a,l,u){try{const h=u();return Sy(h)?h.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):h}catch(h){throw l.runOutsideAngular(()=>a.handleError(h)),h}}(x,f,()=>{const T=E.injector.get(pv);return T.runInitializers(),T.donePromise.then(()=>(function Ro(a){sn(a,"Expected localeId to be defined"),"string"==typeof a&&(cm=a.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Rm,yu)||yu),this._moduleDoBootstrap(E),E))})})}bootstrapModule(u,h=[]){const f=xv({},h);return function NM(a,l,u){const h=new l0(u);return Promise.resolve(h)}(0,0,u).then(_=>this.bootstrapModuleFactory(_,f))}_moduleDoBootstrap(u){const h=u.injector.get(Bm);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new pe(403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pe(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(bv,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(Ge(su))},a.\u0275prov=tn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function xv(a,l){return Array.isArray(l)?l.reduce(xv,a):{...a,...l}}let Bm=(()=>{class a{constructor(u,h,f){this._zone=u,this._injector=h,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new L.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),b=new L.y(E=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{dr.assertNotInAngularZone(),B0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{dr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{x.unsubscribe(),T.unsubscribe()}});this.isStable=(0,ae.T)(_,b.pipe((0,ce.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,h){const f=u instanceof RE;if(!this._injector.get(pv).done)throw!f&&Un(u),new pe(405,false);let b;b=f?u:this._injector.get(If).resolveComponentFactory(u),this.componentTypes.push(b.componentType);const E=function Ir(a){return a.isBoundToModule}(b)?void 0:this._injector.get(ch),T=b.create(su.NULL,[],h||b.selector,E),O=T.location.nativeElement,U=T.injector.get(j0,null);return U?.registerApplication(O),T.onDestroy(()=>{this.detachView(T.hostView),Dv(this.components,T),U?.unregisterApplication(O)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new pe(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;Dv(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(ZD,[]).concat(this._bootstrapListeners).forEach(f=>f(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Dv(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new pe(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(u){return new(u||a)(Ge(dr),Ge(Yo),Ge(Ba))},a.\u0275prov=tn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Dv(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}function $0(){return!1}function GM(){}let zM=(()=>{class a{}return a.__NG_ELEMENT_ID__=hp,a})();function hp(a){return function fp(a,l,u){if(wc(a)&&!u){const h=rr(a.index,l);return new $d(h,h)}return 47&a.type?new $d(l[16],l):null}(Di(),De(),16==(16&a))}class lS{constructor(){}supports(l){return zl(l)}create(l){return new cS(l)}}const XM=(a,l)=>l;class cS{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||XM}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,h=this._removalsHead,f=0,_=null;for(;u||h;){const b=!h||u&&u.currentIndex<K0(h,f,_)?u:h,E=K0(b,f,_),x=b.currentIndex;if(b===h)f--,h=h._nextRemoved;else if(u=u._next,null==b.previousIndex)f++;else{_||(_=[]);const T=E-f,O=x-f;if(T!=O){for(let Y=0;Y<T;Y++){const ne=Y<_.length?_[Y]:_[Y]=0,be=ne+Y;O<=be&&be<T&&(_[Y]=ne+1)}_[b.previousIndex]=O-T}}E!==x&&l(b,E,x)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!zl(l))throw new pe(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,_,b,u=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let E=0;E<this.length;E++)_=l[E],b=this._trackByFn(E,_),null!==u&&Object.is(u.trackById,b)?(h&&(u=this._verifyReinsertion(u,_,b,E)),Object.is(u.item,_)||this._addIdentityChange(u,_)):(u=this._mismatch(u,_,b,E),h=!0),u=u._next}else f=0,function Cs(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[ja()]();let h;for(;!(h=u.next()).done;)l(h.value)}}(l,E=>{b=this._trackByFn(f,E),null!==u&&Object.is(u.trackById,b)?(h&&(u=this._verifyReinsertion(u,E,b,f)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,b,f),h=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,h,f){let _;return null===l?_=this._itTail:(_=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,_,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,_,f)):l=this._addAfter(new Iv(u,h),_,f),l}_verifyReinsertion(l,u,h,f){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==_?l=this._reinsertAfter(_,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,_=l._nextRemoved;return null===f?this._removalsHead=_:f._nextRemoved=_,null===_?this._removalsTail=f:_._prevRemoved=f,this._insertAfter(l,u,h),this._addToMoves(l,h),l}_moveAfter(l,u,h){return this._unlink(l),this._insertAfter(l,u,h),this._addToMoves(l,h),l}_addAfter(l,u,h){return this._insertAfter(l,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,h){const f=null===u?this._itHead:u._next;return l._next=f,l._prev=u,null===f?this._itTail=l:f._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new Tv),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,h=l._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Tv),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class Iv{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Gm{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const u=l._prevDup,h=l._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class Tv{constructor(){this.map=new Map}put(l){const u=l.trackById;let h=this.map.get(u);h||(h=new Gm,this.map.set(u,h)),h.add(l)}get(l,u){const f=this.map.get(l);return f?f.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function K0(a,l,u){const h=a.previousIndex;if(null===h)return h;let f=0;return u&&h<u.length&&(f=u[h]),h+l+f}class uS{constructor(){}supports(l){return l instanceof Map||xy(l)}create(){return new JM}}class JM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||xy(l)))throw new pe(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const _=this._getOrCreateRecordForKey(f,h);u=this._insertBeforeOrAppend(u,_)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const h=l._prev;return u._next=l,u._prev=h,l._prev=u,h&&(h._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,u);const _=f._prev,b=f._next;return _&&(_._next=b),b&&(b._prev=_),f._next=null,f._prev=null,f}const h=new ek(l);return this._records.set(l,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(h=>u(l[h],h))}}class ek{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function dS(){return new jm([new lS])}let jm=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(null!=h){const f=h.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||dS()),deps:[[a,new kt,new gt]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(null!=h)return h;throw new pe(901,!1)}}return a.\u0275prov=tn({token:a,providedIn:"root",factory:dS}),a})();function hS(){return new mh([new uS])}let mh=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(h){const f=h.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||hS()),deps:[[a,new kt,new gt]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(h)return h;throw new pe(901,!1)}}return a.\u0275prov=tn({token:a,providedIn:"root",factory:hS}),a})();const zm=rS(null,"core",[]);let J0=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(Ge(Bm))},a.\u0275mod=dl({type:a}),a.\u0275inj=ts({}),a})();function pS(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(ct,Ee,F)=>{F.d(Ee,{Z:()=>We});var o=F(2090),J=F(4859),L=F(9681),ae=F(1877);class ce{constructor(pe,we){this._delegate=pe,this.firebase=we,(0,L._addComponent)(pe,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(pe,we=L._DEFAULT_ENTRY_NAME){var ge;this._delegate.checkDestroyed();const ke=this._delegate.container.getProvider(pe);return!ke.isInitialized()&&"EXPLICIT"===(null===(ge=ke.getComponent())||void 0===ge?void 0:ge.instantiationMode)&&ke.initialize(),ke.getImmediate({identifier:we})}_removeServiceInstance(pe,we=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(we)}_addComponent(pe){(0,L._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,L._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const X=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function de(){const it=function he(it){const pe={},we={__esModule:!0,initializeApp:function Be(He,fe={}){const q=L.initializeApp(He,fe);if((0,o.r3)(pe,q.name))return pe[q.name];const ie=new it(q,we);return pe[q.name]=ie,ie},app:ke,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function Ne(He){const fe=He.name,q=fe.replace("-compat","");if(L._registerComponent(He)&&"PUBLIC"===He.type){const ie=(re=ke())=>{if("function"!=typeof re[q])throw X.create("invalid-app-argument",{appName:fe});return re[q]()};void 0!==He.serviceProps&&(0,o.ZB)(ie,He.serviceProps),we[q]=ie,it.prototype[q]=function(...re){return this._getService.bind(this,fe).apply(this,He.multipleInstances?re:[])}}return"PUBLIC"===He.type?we[q]:null},removeApp:function ge(He){delete pe[He]},useAsService:function Qe(He,fe){return"serverAuth"===fe?null:fe},modularAPIs:L}};function ke(He){if(!(0,o.r3)(pe,He=He||L._DEFAULT_ENTRY_NAME))throw X.create("no-app",{appName:He});return pe[He]}return we.default=we,Object.defineProperty(we,"apps",{get:function ot(){return Object.keys(pe).map(He=>pe[He])}}),ke.App=it,we}(ce);return it.INTERNAL=Object.assign(Object.assign({},it.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function pe(we){(0,o.ZB)(it,we)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),it}(),W=new ae.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const it=self.firebase.SDK_VERSION;it&&it.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const We=j;!function Me(it){(0,L.registerVersion)("@firebase/app-compat","0.1.39",it)}()},9681:(ct,Ee,F)=>{F.r(Ee),F.d(Ee,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>sa,_DEFAULT_ENTRY_NAME:()=>_t,_addComponent:()=>jn,_addOrOverwriteComponent:()=>Br,_apps:()=>sn,_clearComponents:()=>ts,_components:()=>at,_getProvider:()=>tn,_registerComponent:()=>Ur,_removeServiceInstance:()=>ra,deleteApp:()=>Ri,getApp:()=>pr,getApps:()=>Oe,initializeApp:()=>Hr,onLog:()=>nt,registerVersion:()=>gr,setLogLevel:()=>Ks});var o=F(5861),J=F(4859),L=F(1877),ae=F(2090),ce=F(8766);class me{constructor(Ae){this.container=Ae}getPlatformInfoString(){return this.container.getProviders().map(Xe=>{if(function X(Ge){return"VERSION"===Ge.getComponent()?.type}(Xe)){const Mt=Xe.getImmediate();return`${Mt.library}/${Mt.version}`}return null}).filter(Xe=>Xe).join(" ")}}const he="@firebase/app",j=new L.Yd("@firebase/app"),_t="[DEFAULT]",ki={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},sn=new Map,at=new Map;function jn(Ge,Ae){try{Ge.container.addComponent(Ae)}catch(Xe){j.debug(`Component ${Ae.name} failed to register with FirebaseApp ${Ge.name}`,Xe)}}function Br(Ge,Ae){Ge.container.addOrOverwriteComponent(Ae)}function Ur(Ge){const Ae=Ge.name;if(at.has(Ae))return j.debug(`There were multiple attempts to register component ${Ae}.`),!1;at.set(Ae,Ge);for(const Xe of sn.values())jn(Xe,Ge);return!0}function tn(Ge,Ae){const Xe=Ge.container.getProvider("heartbeat").getImmediate({optional:!0});return Xe&&Xe.triggerHeartbeat(),Ge.container.getProvider(Ae)}function ra(Ge,Ae,Xe=_t){tn(Ge,Ae).clearInstance(Xe)}function ts(){at.clear()}const vn=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Vn{constructor(Ae,Xe,Mt){this._isDeleted=!1,this._options=Object.assign({},Ae),this._config=Object.assign({},Xe),this._name=Xe.name,this._automaticDataCollectionEnabled=Xe.automaticDataCollectionEnabled,this._container=Mt,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ae){this._isDeleted=Ae}checkDestroyed(){if(this.isDeleted)throw vn.create("app-deleted",{appName:this._name})}}const sa="9.14.0";function Hr(Ge,Ae={}){let Xe=Ge;"object"!=typeof Ae&&(Ae={name:Ae});const Mt=Object.assign({name:_t,automaticDataCollectionEnabled:!1},Ae),Ot=Mt.name;if("string"!=typeof Ot||!Ot)throw vn.create("bad-app-name",{appName:String(Ot)});if(Xe||(Xe=(0,ae.aH)()),!Xe)throw vn.create("no-options");const Kt=sn.get(Ot);if(Kt){if((0,ae.vZ)(Xe,Kt.options)&&(0,ae.vZ)(Mt,Kt.config))return Kt;throw vn.create("duplicate-app",{appName:Ot})}const z=new J.H0(Ot);for(const Z of at.values())z.addComponent(Z);const G=new Vn(Xe,Mt,z);return sn.set(Ot,G),G}function pr(Ge=_t){const Ae=sn.get(Ge);if(!Ae&&Ge===_t)return Hr();if(!Ae)throw vn.create("no-app",{appName:Ge});return Ae}function Oe(){return Array.from(sn.values())}function Ri(Ge){return an.apply(this,arguments)}function an(){return(an=(0,o.Z)(function*(Ge){const Ae=Ge.name;sn.has(Ae)&&(sn.delete(Ae),yield Promise.all(Ge.container.getProviders().map(Xe=>Xe.delete())),Ge.isDeleted=!0)})).apply(this,arguments)}function gr(Ge,Ae,Xe){var Mt;let Ot=null!==(Mt=ki[Ge])&&void 0!==Mt?Mt:Ge;Xe&&(Ot+=`-${Xe}`);const Kt=Ot.match(/\s|\//),z=Ae.match(/\s|\//);if(Kt||z){const G=[`Unable to register library "${Ot}" with version "${Ae}":`];return Kt&&G.push(`library name "${Ot}" contains illegal characters (whitespace or "/")`),Kt&&z&&G.push("and"),z&&G.push(`version name "${Ae}" contains illegal characters (whitespace or "/")`),void j.warn(G.join(" "))}Ur(new J.wA(`${Ot}-version`,()=>({library:Ot,version:Ae}),"VERSION"))}function nt(Ge,Ae){if(null!==Ge&&"function"!=typeof Ge)throw vn.create("invalid-log-argument");(0,L.Am)(Ge,Ae)}function Ks(Ge){(0,L.Ub)(Ge)}const Ei="firebase-heartbeat-store";let Xs=null;function Vt(){return Xs||(Xs=(0,ce.X3)("firebase-heartbeat-database",1,{upgrade:(Ge,Ae)=>{0===Ae&&Ge.createObjectStore(Ei)}}).catch(Ge=>{throw vn.create("idb-open",{originalErrorMessage:Ge.message})})),Xs}function bt(){return(bt=(0,o.Z)(function*(Ge){var Ae;try{return(yield Vt()).transaction(Ei).objectStore(Ei).get(Zn(Ge))}catch(Xe){if(Xe instanceof ae.ZR)j.warn(Xe.message);else{const Mt=vn.create("idb-get",{originalErrorMessage:null===(Ae=Xe)||void 0===Ae?void 0:Ae.message});j.warn(Mt.message)}}})).apply(this,arguments)}function ns(Ge,Ae){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,o.Z)(function*(Ge,Ae){var Xe;try{const Ot=(yield Vt()).transaction(Ei,"readwrite");return yield Ot.objectStore(Ei).put(Ae,Zn(Ge)),Ot.done}catch(Mt){if(Mt instanceof ae.ZR)j.warn(Mt.message);else{const Ot=vn.create("idb-set",{originalErrorMessage:null===(Xe=Mt)||void 0===Xe?void 0:Xe.message});j.warn(Ot.message)}}})).apply(this,arguments)}function Zn(Ge){return`${Ge.name}!${Ge.options.appId}`}class $n{constructor(Ae){this.container=Ae,this._heartbeatsCache=null;const Xe=this.container.getProvider("app").getImmediate();this._storage=new nn(Xe),this._heartbeatsCachePromise=this._storage.read().then(Mt=>(this._heartbeatsCache=Mt,Mt))}triggerHeartbeat(){var Ae=this;return(0,o.Z)(function*(){const Mt=Ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ot=Dn();if(null===Ae._heartbeatsCache&&(Ae._heartbeatsCache=yield Ae._heartbeatsCachePromise),Ae._heartbeatsCache.lastSentHeartbeatDate!==Ot&&!Ae._heartbeatsCache.heartbeats.some(Kt=>Kt.date===Ot))return Ae._heartbeatsCache.heartbeats.push({date:Ot,agent:Mt}),Ae._heartbeatsCache.heartbeats=Ae._heartbeatsCache.heartbeats.filter(Kt=>{const z=new Date(Kt.date).valueOf();return Date.now()-z<=2592e6}),Ae._storage.overwrite(Ae._heartbeatsCache)})()}getHeartbeatsHeader(){var Ae=this;return(0,o.Z)(function*(){if(null===Ae._heartbeatsCache&&(yield Ae._heartbeatsCachePromise),null===Ae._heartbeatsCache||0===Ae._heartbeatsCache.heartbeats.length)return"";const Xe=Dn(),{heartbeatsToSend:Mt,unsentEntries:Ot}=function Js(Ge,Ae=1024){const Xe=[];let Mt=Ge.slice();for(const Ot of Ge){const Kt=Xe.find(z=>z.agent===Ot.agent);if(Kt){if(Kt.dates.push(Ot.date),Kn(Xe)>Ae){Kt.dates.pop();break}}else if(Xe.push({agent:Ot.agent,dates:[Ot.date]}),Kn(Xe)>Ae){Xe.pop();break}Mt=Mt.slice(1)}return{heartbeatsToSend:Xe,unsentEntries:Mt}}(Ae._heartbeatsCache.heartbeats),Kt=(0,ae.L)(JSON.stringify({version:2,heartbeats:Mt}));return Ae._heartbeatsCache.lastSentHeartbeatDate=Xe,Ot.length>0?(Ae._heartbeatsCache.heartbeats=Ot,yield Ae._storage.overwrite(Ae._heartbeatsCache)):(Ae._heartbeatsCache.heartbeats=[],Ae._storage.overwrite(Ae._heartbeatsCache)),Kt})()}}function Dn(){return(new Date).toISOString().substring(0,10)}class nn{constructor(Ae){this.app=Ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ae=this;return(0,o.Z)(function*(){return(yield Ae._canUseIndexedDBPromise)&&(yield function vt(Ge){return bt.apply(this,arguments)}(Ae.app))||{heartbeats:[]}})()}overwrite(Ae){var Xe=this;return(0,o.Z)(function*(){var Mt;if(yield Xe._canUseIndexedDBPromise){const Kt=yield Xe.read();return ns(Xe.app,{lastSentHeartbeatDate:null!==(Mt=Ae.lastSentHeartbeatDate)&&void 0!==Mt?Mt:Kt.lastSentHeartbeatDate,heartbeats:Ae.heartbeats})}})()}add(Ae){var Xe=this;return(0,o.Z)(function*(){var Mt;if(yield Xe._canUseIndexedDBPromise){const Kt=yield Xe.read();return ns(Xe.app,{lastSentHeartbeatDate:null!==(Mt=Ae.lastSentHeartbeatDate)&&void 0!==Mt?Mt:Kt.lastSentHeartbeatDate,heartbeats:[...Kt.heartbeats,...Ae.heartbeats]})}})()}}function Kn(Ge){return(0,ae.L)(JSON.stringify({version:2,heartbeats:Ge})).length}!function Gr(Ge){Ur(new J.wA("platform-logger",Ae=>new me(Ae),"PRIVATE")),Ur(new J.wA("heartbeat",Ae=>new $n(Ae),"PRIVATE")),gr(he,"0.8.4",Ge),gr(he,"0.8.4","esm2017"),gr("fire-js","")}("")},4859:(ct,Ee,F)=>{F.d(Ee,{H0:()=>he,wA:()=>L,zt:()=>ce});var o=F(5861),J=F(2090);class L{constructor(j,W,Q){this.name=j,this.instanceFactory=W,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const ae="[DEFAULT]";class ce{constructor(j,W){this.name=j,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const W=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(W)){const Q=new J.BH;if(this.instancesDeferred.set(W,Q),this.isInitialized(W)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:W});Ue&&Q.resolve(Ue)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(j){var W;const Q=this.normalizeInstanceIdentifier(j?.identifier),Ue=null!==(W=j?.optional)&&void 0!==W&&W;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Me){if(Ue)return null;throw Me}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function X(de){return"EAGER"===de.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[W,Q]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(W);try{const Me=this.getOrInitializeService({instanceIdentifier:Ue});Q.resolve(Me)}catch{}}}}clearInstance(j=ae){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,o.Z)(function*(){const W=Array.from(j.instances.values());yield Promise.all([...W.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...W.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=ae){return this.instances.has(j)}getOptions(j=ae){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:W={}}=j,Q=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:Q,options:W});for(const[Me,We]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Me)&&We.resolve(Ue);return Ue}onInit(j,W){var Q;const Ue=this.normalizeInstanceIdentifier(W),Me=null!==(Q=this.onInitCallbacks.get(Ue))&&void 0!==Q?Q:new Set;Me.add(j),this.onInitCallbacks.set(Ue,Me);const We=this.instances.get(Ue);return We&&j(We,Ue),()=>{Me.delete(j)}}invokeOnInitCallbacks(j,W){const Q=this.onInitCallbacks.get(W);if(Q)for(const Ue of Q)try{Ue(j,W)}catch{}}getOrInitializeService({instanceIdentifier:j,options:W={}}){let Q=this.instances.get(j);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(de=j,de===ae?void 0:de),options:W}),this.instances.set(j,Q),this.instancesOptions.set(j,W),this.invokeOnInitCallbacks(Q,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,Q)}catch{}var de;return Q||null}normalizeInstanceIdentifier(j=ae){return this.component?this.component.multipleInstances?j:ae:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const W=this.getProvider(j.name);if(W.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);W.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const W=new ce(j,this);return this.providers.set(j,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:(ct,Ee,F)=>{F.d(Ee,{Am:()=>de,Ub:()=>he,Yd:()=>X,in:()=>J});const o=[];var J=(()=>{return(j=J||(J={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",J;var j})();const L={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},ae=J.INFO,ce={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},me=(j,W,...Q)=>{if(W<j.logLevel)return;const Ue=(new Date).toISOString(),Me=ce[W];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[Me](`[${Ue}]  ${j.name}:`,...Q)};class X{constructor(W){this.name=W,this._logLevel=ae,this._logHandler=me,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in J))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?L[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...W),this._logHandler(this,J.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...W),this._logHandler(this,J.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,J.INFO,...W),this._logHandler(this,J.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,J.WARN,...W),this._logHandler(this,J.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...W),this._logHandler(this,J.ERROR,...W)}}function he(j){o.forEach(W=>{W.setLogLevel(j)})}function de(j,W){for(const Q of o){let Ue=null;W&&W.level&&(Ue=L[W.level]),Q.userLogHandler=null===j?null:(Me,We,...it)=>{const pe=it.map(we=>{if(null==we)return null;if("string"==typeof we)return we;if("number"==typeof we||"boolean"==typeof we)return we.toString();if(we instanceof Error)return we.message;try{return JSON.stringify(we)}catch{return null}}).filter(we=>we).join(" ");We>=(Ue??Me.logLevel)&&j({level:J[We].toLowerCase(),message:pe,args:it,type:Me.name})}}}},8766:(ct,Ee,F)=>{F.d(Ee,{Lj:()=>Be,X3:()=>ke});var o=F(5861);let L,ae;const X=new WeakMap,he=new WeakMap,de=new WeakMap,j=new WeakMap,W=new WeakMap;let Me={get(fe,q,ie){if(fe instanceof IDBTransaction){if("done"===q)return he.get(fe);if("objectStoreNames"===q)return fe.objectStoreNames||de.get(fe);if("store"===q)return ie.objectStoreNames[1]?void 0:ie.objectStore(ie.objectStoreNames[0])}return we(fe[q])},set:(fe,q,ie)=>(fe[q]=ie,!0),has:(fe,q)=>fe instanceof IDBTransaction&&("done"===q||"store"===q)||q in fe};function pe(fe){return"function"==typeof fe?function it(fe){return fe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function me(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(fe)?function(...q){return fe.apply(ge(this),q),we(X.get(this))}:function(...q){return we(fe.apply(ge(this),q))}:function(q,...ie){const re=fe.call(ge(this),q,...ie);return de.set(re,q.sort?q.sort():[q]),we(re)}}(fe):(fe instanceof IDBTransaction&&function Ue(fe){if(he.has(fe))return;const q=new Promise((ie,re)=>{const xe=()=>{fe.removeEventListener("complete",_e),fe.removeEventListener("error",Le),fe.removeEventListener("abort",Le)},_e=()=>{ie(),xe()},Le=()=>{re(fe.error||new DOMException("AbortError","AbortError")),xe()};fe.addEventListener("complete",_e),fe.addEventListener("error",Le),fe.addEventListener("abort",Le)});he.set(fe,q)}(fe),((fe,q)=>q.some(ie=>fe instanceof ie))(fe,function ce(){return L||(L=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(fe,Me):fe)}function we(fe){if(fe instanceof IDBRequest)return function Q(fe){const q=new Promise((ie,re)=>{const xe=()=>{fe.removeEventListener("success",_e),fe.removeEventListener("error",Le)},_e=()=>{ie(we(fe.result)),xe()},Le=()=>{re(fe.error),xe()};fe.addEventListener("success",_e),fe.addEventListener("error",Le)});return q.then(ie=>{ie instanceof IDBCursor&&X.set(ie,fe)}).catch(()=>{}),W.set(q,fe),q}(fe);if(j.has(fe))return j.get(fe);const q=pe(fe);return q!==fe&&(j.set(fe,q),W.set(q,fe)),q}const ge=fe=>W.get(fe);function ke(fe,q,{blocked:ie,upgrade:re,blocking:xe,terminated:_e}={}){const Le=indexedDB.open(fe,q),wt=we(Le);return re&&Le.addEventListener("upgradeneeded",Wt=>{re(we(Le.result),Wt.oldVersion,Wt.newVersion,we(Le.transaction))}),ie&&Le.addEventListener("blocked",()=>ie()),wt.then(Wt=>{_e&&Wt.addEventListener("close",()=>_e()),xe&&Wt.addEventListener("versionchange",()=>xe())}).catch(()=>{}),wt}function Be(fe,{blocked:q}={}){const ie=indexedDB.deleteDatabase(fe);return q&&ie.addEventListener("blocked",()=>q()),we(ie).then(()=>{})}const ot=["get","getKey","getAll","getAllKeys","count"],Ne=["put","add","delete","clear"],Qe=new Map;function He(fe,q){if(!(fe instanceof IDBDatabase)||q in fe||"string"!=typeof q)return;if(Qe.get(q))return Qe.get(q);const ie=q.replace(/FromIndex$/,""),re=q!==ie,xe=Ne.includes(ie);if(!(ie in(re?IDBIndex:IDBObjectStore).prototype)||!xe&&!ot.includes(ie))return;const _e=function(){var Le=(0,o.Z)(function*(wt,...Wt){const Yn=this.transaction(wt,xe?"readwrite":"readonly");let _t=Yn.store;return re&&(_t=_t.index(Wt.shift())),(yield Promise.all([_t[ie](...Wt),xe&&Yn.done]))[0]});return function(Wt){return Le.apply(this,arguments)}}();return Qe.set(q,_e),_e}!function We(fe){Me=fe(Me)}(fe=>({...fe,get:(q,ie,re)=>He(q,ie)||fe.get(q,ie,re),has:(q,ie)=>!!He(q,ie)||fe.has(q,ie)}))},5861:(ct,Ee,F)=>{function o(L,ae,ce,me,X,he,de){try{var j=L[he](de),W=j.value}catch(Q){return void ce(Q)}j.done?ae(W):Promise.resolve(W).then(me,X)}function J(L){return function(){var ae=this,ce=arguments;return new Promise(function(me,X){var he=L.apply(ae,ce);function de(W){o(he,me,X,de,j,"next",W)}function j(W){o(he,me,X,de,j,"throw",W)}de(void 0)})}}F.d(Ee,{Z:()=>J})},7986:ct=>{ct.exports=JSON.parse('{"version":"1.1.0","develop":false}')}},ct=>{ct(ct.s=8485)}]);