(self.webpackChunknewprova4=self.webpackChunknewprova4||[]).push([[179],{5083:(zn,Ot,se)=>{"use strict";var o=se(4650);let Ge=null;function ue(){return Ge}class bt{}const Ze=new o.OlP("DocumentToken");let vt=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function dt(){return(0,o.LFG)(ke)}()},providedIn:"platform"}),n})();const Te=new o.OlP("Location Initialized");let ke=(()=>{class n extends vt{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ue().getBaseHref(this._doc)}onPopState(e){const i=ue().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=ue().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){Ke()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){Ke()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ze))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function on(){return new ke((0,o.LFG)(Ze))}()},providedIn:"platform"}),n})();function Ke(){return!!window.history.pushState}function Vt(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function pn(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Pn(n){return n&&"?"!==n[0]?"?"+n:n}let xt=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(yt)},providedIn:"root"}),n})();const Mt=new o.OlP("appBaseHref");let yt=(()=>{class n extends xt{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,o.f3M)(Ze).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Vt(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Pn(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const a=this.prepareExternalUrl(r+Pn(s));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,s){const a=this.prepareExternalUrl(r+Pn(s));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(vt),o.LFG(Mt,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gt=(()=>{class n extends xt{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Vt(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let a=this.prepareExternalUrl(r+Pn(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,s){let a=this.prepareExternalUrl(r+Pn(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(vt),o.LFG(Mt,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),rn=(()=>{class n{constructor(e){this._subject=new o.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=pn(In(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Pn(i))}normalize(e){return n.stripTrailingSlash(function $t(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,In(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Pn(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Pn(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Pn,n.joinWithSlash=Vt,n.stripTrailingSlash=pn,n.\u0275fac=function(e){return new(e||n)(o.LFG(xt))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Hn(){return new rn((0,o.LFG)(xt))}()},providedIn:"root"}),n})();function In(n){return n.replace(/\/index.html$/,"")}var Ct=(()=>((Ct=Ct||{})[Ct.Decimal=0]="Decimal",Ct[Ct.Percent=1]="Percent",Ct[Ct.Currency=2]="Currency",Ct[Ct.Scientific=3]="Scientific",Ct))(),it=(()=>((it=it||{})[it.Format=0]="Format",it[it.Standalone=1]="Standalone",it))(),rt=(()=>((rt=rt||{})[rt.Narrow=0]="Narrow",rt[rt.Abbreviated=1]="Abbreviated",rt[rt.Wide=2]="Wide",rt[rt.Short=3]="Short",rt))(),Nt=(()=>((Nt=Nt||{})[Nt.Short=0]="Short",Nt[Nt.Medium=1]="Medium",Nt[Nt.Long=2]="Long",Nt[Nt.Full=3]="Full",Nt))(),Et=(()=>((Et=Et||{})[Et.Decimal=0]="Decimal",Et[Et.Group=1]="Group",Et[Et.List=2]="List",Et[Et.PercentSign=3]="PercentSign",Et[Et.PlusSign=4]="PlusSign",Et[Et.MinusSign=5]="MinusSign",Et[Et.Exponential=6]="Exponential",Et[Et.SuperscriptingExponent=7]="SuperscriptingExponent",Et[Et.PerMille=8]="PerMille",Et[Et.Infinity=9]="Infinity",Et[Et.NaN=10]="NaN",Et[Et.TimeSeparator=11]="TimeSeparator",Et[Et.CurrencyDecimal=12]="CurrencyDecimal",Et[Et.CurrencyGroup=13]="CurrencyGroup",Et))();function qr(n,t){return rr((0,o.cg1)(n)[o.wAp.DateFormat],t)}function cl(n,t){return rr((0,o.cg1)(n)[o.wAp.TimeFormat],t)}function Pa(n,t){return rr((0,o.cg1)(n)[o.wAp.DateTimeFormat],t)}function $i(n,t){const e=(0,o.cg1)(n),i=e[o.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===Et.CurrencyDecimal)return e[o.wAp.NumberSymbols][Et.Decimal];if(t===Et.CurrencyGroup)return e[o.wAp.NumberSymbols][Et.Group]}return i}function Na(n){if(!n[o.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[o.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function rr(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function va(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Vr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ao={},ql=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var yi=(()=>((yi=yi||{})[yi.Short=0]="Short",yi[yi.ShortGMT=1]="ShortGMT",yi[yi.Long=2]="Long",yi[yi.Extended=3]="Extended",yi))(),Jn=(()=>((Jn=Jn||{})[Jn.FullYear=0]="FullYear",Jn[Jn.Month=1]="Month",Jn[Jn.Date=2]="Date",Jn[Jn.Hours=3]="Hours",Jn[Jn.Minutes=4]="Minutes",Jn[Jn.Seconds=5]="Seconds",Jn[Jn.FractionalSeconds=6]="FractionalSeconds",Jn[Jn.Day=7]="Day",Jn))(),ii=(()=>((ii=ii||{})[ii.DayPeriods=0]="DayPeriods",ii[ii.Days=1]="Days",ii[ii.Months=2]="Months",ii[ii.Eras=3]="Eras",ii))();function No(n,t,e,i){let r=function Yt(n){if(Gi(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,a=1]=n.split("-").map(l=>+l);return Nr(r,s-1,a)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Vr))return function wi(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const a=Number(n[4]||0)-e,l=Number(n[5]||0)-i,d=Number(n[6]||0),A=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,a,l,d,A),t}(i)}const t=new Date(n);if(!Gi(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Kr(e,t)||t;let l,a=[];for(;t;){if(l=ql.exec(t),!l){a.push(t);break}{a=a.concat(l.slice(1));const p=a.pop();if(!p)break;t=p}}let d=r.getTimezoneOffset();i&&(d=Ve(i,d),r=function lt(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function Dt(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(Ve(t,r)-r))}(r,i,!0));let A="";return a.forEach(p=>{const _=function xe(n){if(De[n])return De[n];let t;switch(n){case"G":case"GG":case"GGG":t=zi(ii.Eras,rt.Abbreviated);break;case"GGGG":t=zi(ii.Eras,rt.Wide);break;case"GGGGG":t=zi(ii.Eras,rt.Narrow);break;case"y":t=fr(Jn.FullYear,1,0,!1,!0);break;case"yy":t=fr(Jn.FullYear,2,0,!0,!0);break;case"yyy":t=fr(Jn.FullYear,3,0,!1,!0);break;case"yyyy":t=fr(Jn.FullYear,4,0,!1,!0);break;case"Y":t=Pi(1);break;case"YY":t=Pi(2,!0);break;case"YYY":t=Pi(3);break;case"YYYY":t=Pi(4);break;case"M":case"L":t=fr(Jn.Month,1,1);break;case"MM":case"LL":t=fr(Jn.Month,2,1);break;case"MMM":t=zi(ii.Months,rt.Abbreviated);break;case"MMMM":t=zi(ii.Months,rt.Wide);break;case"MMMMM":t=zi(ii.Months,rt.Narrow);break;case"LLL":t=zi(ii.Months,rt.Abbreviated,it.Standalone);break;case"LLLL":t=zi(ii.Months,rt.Wide,it.Standalone);break;case"LLLLL":t=zi(ii.Months,rt.Narrow,it.Standalone);break;case"w":t=di(1);break;case"ww":t=di(2);break;case"W":t=di(1,!0);break;case"d":t=fr(Jn.Date,1);break;case"dd":t=fr(Jn.Date,2);break;case"c":case"cc":t=fr(Jn.Day,1);break;case"ccc":t=zi(ii.Days,rt.Abbreviated,it.Standalone);break;case"cccc":t=zi(ii.Days,rt.Wide,it.Standalone);break;case"ccccc":t=zi(ii.Days,rt.Narrow,it.Standalone);break;case"cccccc":t=zi(ii.Days,rt.Short,it.Standalone);break;case"E":case"EE":case"EEE":t=zi(ii.Days,rt.Abbreviated);break;case"EEEE":t=zi(ii.Days,rt.Wide);break;case"EEEEE":t=zi(ii.Days,rt.Narrow);break;case"EEEEEE":t=zi(ii.Days,rt.Short);break;case"a":case"aa":case"aaa":t=zi(ii.DayPeriods,rt.Abbreviated);break;case"aaaa":t=zi(ii.DayPeriods,rt.Wide);break;case"aaaaa":t=zi(ii.DayPeriods,rt.Narrow);break;case"b":case"bb":case"bbb":t=zi(ii.DayPeriods,rt.Abbreviated,it.Standalone,!0);break;case"bbbb":t=zi(ii.DayPeriods,rt.Wide,it.Standalone,!0);break;case"bbbbb":t=zi(ii.DayPeriods,rt.Narrow,it.Standalone,!0);break;case"B":case"BB":case"BBB":t=zi(ii.DayPeriods,rt.Abbreviated,it.Format,!0);break;case"BBBB":t=zi(ii.DayPeriods,rt.Wide,it.Format,!0);break;case"BBBBB":t=zi(ii.DayPeriods,rt.Narrow,it.Format,!0);break;case"h":t=fr(Jn.Hours,1,-12);break;case"hh":t=fr(Jn.Hours,2,-12);break;case"H":t=fr(Jn.Hours,1);break;case"HH":t=fr(Jn.Hours,2);break;case"m":t=fr(Jn.Minutes,1);break;case"mm":t=fr(Jn.Minutes,2);break;case"s":t=fr(Jn.Seconds,1);break;case"ss":t=fr(Jn.Seconds,2);break;case"S":t=fr(Jn.FractionalSeconds,1);break;case"SS":t=fr(Jn.FractionalSeconds,2);break;case"SSS":t=fr(Jn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=wa(yi.Short);break;case"ZZZZZ":t=wa(yi.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=wa(yi.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=wa(yi.Long);break;default:return null}return De[n]=t,t}(p);A+=_?_(r,e,d):"''"===p?"'":p.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),A}function Nr(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Kr(n,t){const e=function li(n){return(0,o.cg1)(n)[o.wAp.LocaleId]}(n);if(ao[e]=ao[e]||{},ao[e][t])return ao[e][t];let i="";switch(t){case"shortDate":i=qr(n,Nt.Short);break;case"mediumDate":i=qr(n,Nt.Medium);break;case"longDate":i=qr(n,Nt.Long);break;case"fullDate":i=qr(n,Nt.Full);break;case"shortTime":i=cl(n,Nt.Short);break;case"mediumTime":i=cl(n,Nt.Medium);break;case"longTime":i=cl(n,Nt.Long);break;case"fullTime":i=cl(n,Nt.Full);break;case"short":const r=Kr(n,"shortTime"),s=Kr(n,"shortDate");i=ea(Pa(n,Nt.Short),[r,s]);break;case"medium":const a=Kr(n,"mediumTime"),l=Kr(n,"mediumDate");i=ea(Pa(n,Nt.Medium),[a,l]);break;case"long":const d=Kr(n,"longTime"),A=Kr(n,"longDate");i=ea(Pa(n,Nt.Long),[d,A]);break;case"full":const p=Kr(n,"fullTime"),_=Kr(n,"fullDate");i=ea(Pa(n,Nt.Full),[p,_])}return i&&(ao[e][t]=i),i}function ea(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Li(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let a=String(n);for(;a.length<t;)a="0"+a;return i&&(a=a.slice(a.length-t)),s+a}function fr(n,t,e=0,i=!1,r=!1){return function(s,a){let l=function xc(n,t){switch(n){case Jn.FullYear:return t.getFullYear();case Jn.Month:return t.getMonth();case Jn.Date:return t.getDate();case Jn.Hours:return t.getHours();case Jn.Minutes:return t.getMinutes();case Jn.Seconds:return t.getSeconds();case Jn.FractionalSeconds:return t.getMilliseconds();case Jn.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||l>-e)&&(l+=e),n===Jn.Hours)0===l&&-12===e&&(l=12);else if(n===Jn.FractionalSeconds)return function gs(n,t){return Li(n,3).substring(0,t)}(l,t);const d=$i(a,Et.MinusSign);return Li(l,t,d,i,r)}}function zi(n,t,e=it.Format,i=!1){return function(r,s){return function ts(n,t,e,i,r,s){switch(e){case ii.Months:return function ni(n,t,e){const i=(0,o.cg1)(n),s=rr([i[o.wAp.MonthsFormat],i[o.wAp.MonthsStandalone]],t);return rr(s,e)}(t,r,i)[n.getMonth()];case ii.Days:return function xs(n,t,e){const i=(0,o.cg1)(n),s=rr([i[o.wAp.DaysFormat],i[o.wAp.DaysStandalone]],t);return rr(s,e)}(t,r,i)[n.getDay()];case ii.DayPeriods:const a=n.getHours(),l=n.getMinutes();if(s){const A=function Ss(n){const t=(0,o.cg1)(n);return Na(t),(t[o.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?va(i):[va(i[0]),va(i[1])])}(t),p=function qt(n,t,e){const i=(0,o.cg1)(n);Na(i);const s=rr([i[o.wAp.ExtraData][0],i[o.wAp.ExtraData][1]],t)||[];return rr(s,e)||[]}(t,r,i),_=A.findIndex(x=>{if(Array.isArray(x)){const[C,F]=x,R=a>=C.hours&&l>=C.minutes,U=a<F.hours||a===F.hours&&l<F.minutes;if(C.hours<F.hours){if(R&&U)return!0}else if(R||U)return!0}else if(x.hours===a&&x.minutes===l)return!0;return!1});if(-1!==_)return p[_]}return function ji(n,t,e){const i=(0,o.cg1)(n),s=rr([i[o.wAp.DayPeriodsFormat],i[o.wAp.DayPeriodsStandalone]],t);return rr(s,e)}(t,r,i)[a<12?0:1];case ii.Eras:return function xo(n,t){return rr((0,o.cg1)(n)[o.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function wa(n){return function(t,e,i){const r=-1*i,s=$i(e,Et.MinusSign),a=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case yi.Short:return(r>=0?"+":"")+Li(a,2,s)+Li(Math.abs(r%60),2,s);case yi.ShortGMT:return"GMT"+(r>=0?"+":"")+Li(a,1,s);case yi.Long:return"GMT"+(r>=0?"+":"")+Li(a,2,s)+":"+Li(Math.abs(r%60),2,s);case yi.Extended:return 0===i?"Z":(r>=0?"+":"")+Li(a,2,s)+":"+Li(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function ui(n){return Nr(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function di(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();r=1+Math.floor((a+s)/7)}else{const s=ui(e),a=function yn(n){const t=Nr(n,0,1).getDay();return Nr(n,0,1+(t<=4?4:11)-t)}(s.getFullYear()),l=s.getTime()-a.getTime();r=1+Math.round(l/6048e5)}return Li(r,n,$i(i,Et.MinusSign))}}function Pi(n,t=!1){return function(e,i){return Li(ui(e).getFullYear(),n,$i(i,Et.MinusSign),t)}}const De={};function Ve(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Gi(n){return n instanceof Date&&!isNaN(n.valueOf())}const _r=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function hl(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function na(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let Es=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,o.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class So{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ds=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new So(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const l=i.get(s);i.move(l,a),Is(l,r)}});for(let r=0,s=i.length;r<s;r++){const l=i.get(r).context;l.index=r,l.count=s,l.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Is(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Is(n,t){n.context.$implicit=t.item}let Si=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Io,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ou("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ou("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Io{constructor(){this.$implicit=null,this.ngIf=null}}function Ou(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(t)}'.`)}class Di{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Lu=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Wc=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Di(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(Lu,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),ug=(()=>{class n{constructor(e,i,r){r._addDefault(new Di(e,i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(Lu,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),lo=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),a=-1===r.indexOf("-")?void 0:o.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,r,a)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();function Ha(n,t){return new o.vHH(2100,!1)}class Yr{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class Pu{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Nu=new Pu,Kl=new Yr;let xd=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,o.QGY)(e))return Nu;if((0,o.F4k)(e))return Kl;throw Ha()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO,16))},n.\u0275pipe=o.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const ba=new o.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Ch=new o.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Sd=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,s){if(null==e||""===e||e!=e)return null;try{return No(e,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(a){throw Ha()}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.soG,16),o.Y36(ba,24),o.Y36(Ch,24))},n.\u0275pipe=o.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),e_=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!function Sh(n){return!(null==n||""===n||n!=n)}(e))return null;r=r||this._locale;try{return function cg(n,t,e){return function wd(n,t,e,i,r,s,a=!1){let l="",d=!1;if(isFinite(n)){let A=function bd(n){let i,r,s,a,l,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;"0"===t.charAt(s);s++);if(s===(l=t.length))i=[0],r=1;else{for(l--;"0"===t.charAt(l);)l--;for(r-=s,i=[],a=0;s<=l;s++,a++)i[a]=Number(t.charAt(s))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);a&&(A=function CA(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(A));let p=t.minInt,_=t.minFrac,x=t.maxFrac;if(s){const K=s.match(_r);if(null===K)throw new Error(`${s} is not a valid digit info`);const ie=K[1],ce=K[3],pe=K[5];null!=ie&&(p=hl(ie)),null!=ce&&(_=hl(ce)),null!=pe?x=hl(pe):null!=ce&&_>x&&(x=_)}!function ta(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const s=Math.min(Math.max(t,r),e);let a=s+n.integerLen,l=i[a];if(a>0){i.splice(Math.max(n.integerLen,a));for(let _=a;_<i.length;_++)i[_]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,a=s+1),i[0]=0;for(let _=1;_<a;_++)i[_]=0}if(l>=5)if(a-1<0){for(let _=0;_>a;_--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[a-1]++;for(;r<Math.max(0,s);r++)i.push(0);let d=0!==s;const A=t+n.integerLen,p=i.reduceRight(function(_,x,C,F){return F[C]=(x+=_)<10?x:x-10,d&&(0===F[C]&&C>=A?F.pop():d=!1),x>=10?1:0},0);p&&(i.unshift(p),n.integerLen++)}(A,_,x);let C=A.digits,F=A.integerLen;const R=A.exponent;let U=[];for(d=C.every(K=>!K);F<p;F++)C.unshift(0);for(;F<0;F++)C.unshift(0);F>0?U=C.splice(F,C.length):(U=C,C=[0]);const Q=[];for(C.length>=t.lgSize&&Q.unshift(C.splice(-t.lgSize,C.length).join(""));C.length>t.gSize;)Q.unshift(C.splice(-t.gSize,C.length).join(""));C.length&&Q.unshift(C.join("")),l=Q.join($i(e,i)),U.length&&(l+=$i(e,r)+U.join("")),R&&(l+=$i(e,Et.Exponential)+"+"+R)}else l=$i(e,Et.Infinity);return l=n<0&&!d?t.negPre+l+t.negSuf:t.posPre+l+t.posSuf,l}(n,function wh(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],s=i[1],a=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],l=a[0],d=a[1]||"";e.posPre=l.substring(0,l.indexOf("#"));for(let p=0;p<d.length;p++){const _=d.charAt(p);"0"===_?e.minFrac=e.maxFrac=p+1:"#"===_?e.maxFrac=p+1:e.posSuf+=_}const A=l.split(",");if(e.gSize=A[1]?A[1].length:0,e.lgSize=A[2]||A[1]?(A[2]||A[1]).length:0,s){const p=r.length-e.posPre.length-e.posSuf.length,_=s.indexOf("#");e.negPre=s.substring(0,_).replace(/'/g,""),e.negSuf=s.slice(_+p).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function Zc(n,t){return(0,o.cg1)(n)[o.wAp.NumberFormats][t]}(t,Ct.Decimal),$i(t,Et.MinusSign)),t,Et.Group,Et.Decimal,e)}(function Ed(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),r,i)}catch(s){throw Ha()}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.soG,16))},n.\u0275pipe=o.Yjl({name:"number",type:n,pure:!0,standalone:!0}),n})();let Us=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const ra="browser";function Zl(n){return n===ra}function Ca(n){return"server"===n}let _s=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new fl((0,o.LFG)(Ze),window)}),n})();class fl{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Of(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const a=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=$c(this.window.history)||$c(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function $c(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Lf{}class To extends bt{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class _l extends To{static makeCurrent(){!function ht(n){Ge||(Ge=n)}(new _l)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Hf(){return Mr=Mr||document.querySelector("base"),Mr?Mr.getAttribute("href"):null}();return null==e?null:function OA(n){tu=tu||document.createElement("a"),tu.setAttribute("href",n);const t=tu.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Mr=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return na(document.cookie,t)}}let tu,Mr=null;const zu=new o.OlP("TRANSITION_ID"),mg=[{provide:o.ip1,useFactory:function Rd(n,t,e){return()=>{e.get(o.CZH).donePromise.then(()=>{const i=ue(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[zu,Ze,o.zs3],multi:!0}];let LA=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Hs=new o.OlP("EventManagerPlugins");let Ld=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const a=r[s];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Hs),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Qf{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=ue().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let o_=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Rl=(()=>{class n extends o_{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const a=this._doc.createElement("style");a.textContent=s,r.push(i.appendChild(a))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Pd),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Pd))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ze))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Pd(n){ue().remove(n)}const nu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},PA=/%COMP%/g;function Tc(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Tc(n,r,e):(r=r.replace(PA,n),e.push(r))}return e}function Rh(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Xl=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Ud(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case o.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Lh(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case o.ifc.ShadowDom:return new Ph(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Tc(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ld),o.LFG(Rl),o.LFG(o.AFp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Ud{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(nu[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Gu(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Gu(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=nu[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=nu[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(o.JOm.DashCase|o.JOm.Important)?t.style.setProperty(e,i,r&o.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&o.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Rh(i)):this.eventManager.addEventListener(t,e,Rh(i))}}function Gu(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Lh extends Ud{constructor(t,e,i,r){super(t),this.component=i;const s=Tc(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function Nd(n){return"_ngcontent-%COMP%".replace(PA,n)}(r+"-"+i.id),this.hostAttr=function _g(n){return"_nghost-%COMP%".replace(PA,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Ph extends Ud{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Tc(r.id,r.styles,[]);for(let a=0;a<s.length;a++){const l=document.createElement("style");l.textContent=s[a],this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let qu=(()=>{class n extends Qf{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ze))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const jf=["alt","control","meta","shift"],zf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Hd={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let c_=(()=>{class n extends Qf{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ue().onAndCancel(e,s.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),jf.forEach(A=>{const p=i.indexOf(A);p>-1&&(i.splice(p,1),a+=A+".")}),a+=s,0!=i.length||0===s.length)return null;const d={};return d.domEventName=r,d.fullKey=a,d}static matchEventFullKeyCode(e,i){let r=zf[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),jf.forEach(a=>{a!==r&&(0,Hd[a])(e)&&(s+=a+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ze))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Vd=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:ra},{provide:o.g9A,useValue:function Ir(){_l.makeCurrent()},multi:!0},{provide:Ze,useFactory:function NA(){return(0,o.RDi)(document),document},deps:[]}]),UA=new o.OlP(""),Ol=[{provide:o.rWj,useClass:class Od{addToWindow(t){o.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},o.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,a=!1;const l=function(d){a=a||d,s--,0==s&&i(a)};r.forEach(function(d){d.whenStable(l)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?ue().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:o.lri,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]}],Ku=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function ru(){return new o.qLn},deps:[]},{provide:Hs,useClass:qu,multi:!0,deps:[Ze,o.R0b,o.Lbi]},{provide:Hs,useClass:c_,multi:!0,deps:[Ze]},{provide:Xl,useClass:Xl,deps:[Ld,Rl,o.AFp]},{provide:o.FYo,useExisting:Xl},{provide:o_,useExisting:Rl},{provide:Rl,useClass:Rl,deps:[Ze]},{provide:Ld,useClass:Ld,deps:[Hs,o.R0b]},{provide:Lf,useClass:LA,deps:[]},[]];let Zu=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:o.AFp,useValue:e.appId},{provide:zu,useExisting:o.AFp},mg]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(UA,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[...Ku,...Ol],imports:[Us,o.hGG]}),n})(),Wu=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ze))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Nh(){return new Wu((0,o.LFG)(Ze))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Ll=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):o.LFG(Yf),i},providedIn:"root"}),n})(),Yf=(()=>{class n extends Ll{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case o.q3G.NONE:return i;case o.q3G.HTML:return(0,o.qzn)(i,"HTML")?(0,o.z3N)(i):(0,o.EiD)(this._doc,String(i)).toString();case o.q3G.STYLE:return(0,o.qzn)(i,"Style")?(0,o.z3N)(i):i;case o.q3G.SCRIPT:if((0,o.qzn)(i,"Script"))return(0,o.z3N)(i);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.qzn)(i,"URL")?(0,o.z3N)(i):(0,o.mCW)(String(i));case o.q3G.RESOURCE_URL:if((0,o.qzn)(i,"ResourceURL"))return(0,o.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${o.JZr})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${o.JZr})`)}}bypassSecurityTrustHtml(e){return(0,o.JVY)(e)}bypassSecurityTrustStyle(e){return(0,o.L6k)(e)}bypassSecurityTrustScript(e){return(0,o.eBb)(e)}bypassSecurityTrustUrl(e){return(0,o.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,o.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ze))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Yu(n){return new Yf(n.get(Ze))}(o.LFG(o.zs3)),i},providedIn:"root"}),n})();var Xn=se(8996),yl=se(3269);function vn(...n){const t=(0,yl.yG)(n);return(0,Xn.D)(n,t)}var tn=se(7579);class Ui extends tn.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const zh=(0,se(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var rs=se(9751);const{isArray:Gd}=Array,{getPrototypeOf:bg,prototype:Pl,keys:xa}=Object;function $f(n){if(1===n.length){const t=n[0];if(Gd(t))return{args:t,keys:null};if(function nc(n){return n&&"object"==typeof n&&bg(n)===Pl}(t)){const e=xa(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var gn=se(4671),Xt=se(4004);const{isArray:Cg}=Array;function j(n){return(0,Xt.U)(t=>function H(n,t){return Cg(t)?n(...t):n(t)}(n,t))}function $(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var ge=se(5403),je=se(9672);function at(...n){const t=(0,yl.yG)(n),e=(0,yl.jO)(n),{args:i,keys:r}=$f(n);if(0===i.length)return(0,Xn.D)([],t);const s=new rs.y(function Ht(n,t,e=gn.y){return i=>{An(t,()=>{const{length:r}=n,s=new Array(r);let a=r,l=r;for(let d=0;d<r;d++)An(t,()=>{const A=(0,Xn.D)(n[d],t);let p=!1;A.subscribe(new ge.Q(i,_=>{s[d]=_,p||(p=!0,l--),l||i.next(e(s.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,t,r?a=>$(r,a):gn.y));return e?s.pipe(j(e)):s}function An(n,t,e){n?(0,je.f)(e,n,t):t()}var Zn=se(8189);function hi(...n){return function si(){return(0,Zn.J)(1)}()((0,Xn.D)(n,(0,yl.yG)(n)))}var Vn=se(8421);function hs(n){return new rs.y(t=>{(0,Vn.Xf)(n()).subscribe(t)})}var uo=se(9635),vs=se(576);function ja(n,t){const e=(0,vs.m)(n)?n:()=>n,i=r=>r.error(e());return new rs.y(t?r=>t.schedule(i,0,r):i)}var za=se(515),Xs=se(727),Br=se(4482);function Ga(){return(0,Br.e)((n,t)=>{let e=null;n._refCount++;const i=new ge.Q(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Fc extends rs.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Br.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Xs.w0;const e=this.getSubject();t.add(this.source.subscribe(new ge.Q(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Xs.w0.EMPTY)}return t}refCount(){return Ga()(this)}}function Qr(n,t){return(0,Br.e)((e,i)=>{let r=null,s=0,a=!1;const l=()=>a&&!r&&i.complete();e.subscribe(new ge.Q(i,d=>{r?.unsubscribe();let A=0;const p=s++;(0,Vn.Xf)(n(d,p)).subscribe(r=new ge.Q(i,_=>i.next(t?t(d,_,p,A++):_),()=>{r=null,l()}))},()=>{a=!0,l()}))})}var zr=se(5698);function oa(...n){const t=(0,yl.yG)(n);return(0,Br.e)((e,i)=>{(t?hi(n,e,t):hi(n,e)).subscribe(i)})}function gr(n,t){return(0,Br.e)((e,i)=>{let r=0;e.subscribe(new ge.Q(i,s=>n.call(t,s,r++)&&i.next(s)))})}var Sa=se(5577);function jA(n){return(0,Br.e)((t,e)=>{let i=!1;t.subscribe(new ge.Q(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function vv(n=Jf){return(0,Br.e)((t,e)=>{let i=!1;t.subscribe(new ge.Q(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Jf(){return new zh}function ic(n,t){const e=arguments.length>=2;return i=>i.pipe(n?gr((r,s)=>n(r,s,i)):gn.y,(0,zr.q)(1),e?jA(t):vv(()=>new zh))}function kc(n,t){return(0,vs.m)(t)?(0,Sa.z)(n,t,1):(0,Sa.z)(n,1)}var Vs=se(8505);function rc(n){return(0,Br.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe(new ge.Q(e,void 0,void 0,a=>{s=(0,Vn.Xf)(n(a,rc(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function xg(n,t,e,i,r){return(s,a)=>{let l=e,d=t,A=0;s.subscribe(new ge.Q(a,p=>{const _=A++;d=l?n(d,p,_):(l=!0,p),i&&a.next(d)},r&&(()=>{l&&a.next(d),a.complete()})))}}function $u(n,t){return(0,Br.e)(xg(n,t,arguments.length>=2,!0))}function Gh(n){return n<=0?()=>za.E:(0,Br.e)((t,e)=>{let i=[];t.subscribe(new ge.Q(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Sg(n,t){const e=arguments.length>=2;return i=>i.pipe(n?gr((r,s)=>n(r,s,i)):gn.y,Gh(1),e?jA(t):vv(()=>new zh))}function zA(n,t=!1){return(0,Br.e)((e,i)=>{let r=0;e.subscribe(new ge.Q(i,s=>{const a=n(s,r++);(a||t)&&i.next(s),!a&&i.complete()}))})}function GA(n){return(0,Xt.U)(()=>n)}function Xf(n){return(0,Br.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Fi="primary",qA=Symbol("RouteTitle");class wv{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function KA(n){return new wv(n)}function h_(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const a=i[s],l=n[s];if(a.startsWith(":"))r[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function au(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!A_(n[r],t[r]))return!1;return!0}function A_(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function qa(n){return Array.prototype.concat.apply([],n)}function qh(n){return n.length>0?n[n.length-1]:null}function Qo(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Vo(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,Xn.D)(Promise.resolve(n)):vn(n)}const Eg=!1,Ig={exact:function xv(n,t,e){if(!lu(n.segments,t.segments)||!tp(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!xv(n.children[i],t.children[i],e))return!1;return!0},subset:Ev},Cv={exact:function p_(n,t){return au(n,t)},subset:function Sv(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>A_(n[e],t[e]))},ignored:()=>!0};function f_(n,t,e){return Ig[e.paths](n.root,t.root,e.matrixParams)&&Cv[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Ev(n,t,e){return ep(n,t,t.segments,e)}function ep(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!lu(r,e)||t.hasChildren()||!tp(r,e,i))}if(n.segments.length===e.length){if(!lu(n.segments,e)||!tp(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Ev(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(lu(n.segments,r)&&tp(n.segments,r,i)&&n.children[Fi])&&ep(n.children[Fi],t,s,i)}}function tp(n,t,e){return t.every((i,r)=>Cv[e](n[r].parameters,i.parameters))}class As{constructor(t=new ei([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=KA(this.queryParams)),this._queryParamMap}toString(){return Dv.serialize(this)}}class ei{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Qo(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tg(this)}}class Kh{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=KA(this.parameters)),this._parameterMap}toString(){return Zh(this)}}function lu(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let cu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return new Dg},providedIn:"root"}),n})();class Dg{parse(t){const e=new op(t);return new As(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ZA(t.root,!0)}`,i=function Tv(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${np(e)}=${np(r)}`).join("&"):`${np(e)}=${np(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function g_(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Dv=new Dg;function Tg(n){return n.segments.map(t=>Zh(t)).join("/")}function ZA(n,t){if(!n.hasChildren())return Tg(n);if(t){const e=n.children[Fi]?ZA(n.children[Fi],!1):"",i=[];return Qo(n.children,(r,s)=>{s!==Fi&&i.push(`${s}:${ZA(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function jo(n,t){let e=[];return Qo(n.children,(i,r)=>{r===Fi&&(e=e.concat(t(i,r)))}),Qo(n.children,(i,r)=>{r!==Fi&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Fi?[ZA(n.children[Fi],!1)]:[`${r}:${ZA(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Fi]?`${Tg(n)}/${e[0]}`:`${Tg(n)}/(${e.join("//")})`}}function Mg(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function np(n){return Mg(n).replace(/%3B/gi,";")}function ip(n){return Mg(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function WA(n){return decodeURIComponent(n)}function m_(n){return WA(n.replace(/\+/g,"%20"))}function Zh(n){return`${ip(n.path)}${function rp(n){return Object.keys(n).map(t=>`;${ip(t)}=${ip(n[t])}`).join("")}(n.parameters)}`}const __=/^[^\/()?;=#]+/;function Bg(n){const t=n.match(__);return t?t[0]:""}const sp=/^[^=?&#]+/,kg=/^[^&#]+/;class op{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ei([],{}):new ei([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Fi]=new ei(t,e)),i}parseSegment(){const t=Bg(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new o.vHH(4009,Eg);return this.capture(t),new Kh(WA(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Bg(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Bg(this.remaining);r&&(i=r,this.capture(i))}t[WA(e)]=WA(i)}parseQueryParam(t){const e=function Fg(n){const t=n.match(sp);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=function y_(n){const t=n.match(kg);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=m_(e),s=m_(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Bg(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new o.vHH(4010,Eg);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Fi);const a=this.parseChildren();e[s]=1===Object.keys(a).length?a[Fi]:new ei([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new o.vHH(4011,Eg)}}function YA(n){return n.segments.length>0?new ei([],{[Fi]:n}):n}function v_(n){const t={};for(const i of Object.keys(n.children)){const s=v_(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function Nl(n){if(1===n.numberOfChildren&&n.children[Fi]){const t=n.children[Fi];return new ei(n.segments.concat(t.segments),t.children)}return n}(new ei(n.segments,t))}function uu(n){return n instanceof As}function Pw(n,t,e,i,r){if(0===e.length)return Rc(t.root,t.root,t.root,i,r);const s=function Ng(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Kd(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const l={};return Qo(s.outlets,(d,A)=>{l[A]="string"==typeof d?d.split("/"):d}),[...r,{outlets:l}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===a?(s.split("/").forEach((l,d)=>{0==d&&"."===l||(0==d&&""===l?e=!0:".."===l?t++:""!=l&&r.push(l))}),r):[...r,s]},[]);return new Kd(e,t,i)}(e);return s.toRoot()?Rc(t.root,t.root,new ei([],{}),i,r):function a(d){const A=function Nw(n,t,e,i){if(n.isAbsolute)return new Wh(t.root,!0,0);if(-1===i)return new Wh(e,e===t.root,0);return function b_(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new o.vHH(4005,!1);r=i.segments.length}return new Wh(i,!1,r-s)}(e,i+(lp(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,n.snapshot?._urlSegment,d),p=A.processChildren?sc(A.segmentGroup,A.index,s.commands):Yh(A.segmentGroup,A.index,s.commands);return Rc(t.root,A.segmentGroup,p,i,r)}(n.snapshot?._lastPathIndex)}function lp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function qd(n){return"object"==typeof n&&null!=n&&n.outlets}function Rc(n,t,e,i,r){let a,s={};i&&Qo(i,(d,A)=>{s[A]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`}),a=n===t?e:Pg(n,t,e);const l=YA(v_(a));return new As(l,s,r)}function Pg(n,t,e){const i={};return Qo(n.children,(r,s)=>{i[s]=r===t?e:Pg(r,t,e)}),new ei(n.segments,i)}class Kd{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&lp(i[0]))throw new o.vHH(4003,!1);const r=i.find(qd);if(r&&r!==qh(i))throw new o.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wh{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Yh(n,t,e){if(n||(n=new ei([],{})),0===n.segments.length&&n.hasChildren())return sc(n,t,e);const i=function Ug(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const a=n.segments[r],l=e[i];if(qd(l))break;const d=`${l}`,A=i<e.length-1?e[i+1]:null;if(r>0&&void 0===d)break;if(d&&A&&"object"==typeof A&&void 0===A.outlets){if(!Zd(d,A,a))return s;i+=2}else{if(!Zd(d,{},a))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new ei(n.segments.slice(0,i.pathIndex),{});return s.children[Fi]=new ei(n.segments.slice(i.pathIndex),n.children),sc(s,0,r)}return i.match&&0===r.length?new ei(n.segments,{}):i.match&&!n.hasChildren()?$h(n,t,e):i.match?sc(n,0,r):$h(n,t,e)}function sc(n,t,e){if(0===e.length)return new ei(n.segments,{});{const i=function cp(n){return qd(n[0])?n[0].outlets:{[Fi]:n}}(e),r={};return Qo(i,(s,a)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[a]=Yh(n.children[a],t,s))}),Qo(n.children,(s,a)=>{void 0===i[a]&&(r[a]=s)}),new ei(n.segments,r)}}function $h(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(qd(s)){const d=Hg(s.outlets);return new ei(i,d)}if(0===r&&lp(e[0])){i.push(new Kh(n.segments[t].path,Uw(e[0]))),r++;continue}const a=qd(s)?s.outlets[Fi]:`${s}`,l=r<e.length-1?e[r+1]:null;a&&l&&lp(l)?(i.push(new Kh(a,Uw(l))),r+=2):(i.push(new Kh(a,{})),r++)}return new ei(i,{})}function Hg(n){const t={};return Qo(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=$h(new ei([],{}),0,e))}),t}function Uw(n){const t={};return Qo(n,(e,i)=>t[i]=`${e}`),t}function Zd(n,t,e){return n==e.path&&au(t,e.parameters)}class Ka{constructor(t,e){this.id=t,this.url=e}}class up extends Ka{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ju extends Ka{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class dp extends Ka{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $A extends Ka{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class C_ extends Ka{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qg extends Ka{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vg extends Ka{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Jh extends Ka{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wd extends Ka{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ms{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class du{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hu{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yd{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xu{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hp{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oc{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class JA{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=XA(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=XA(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=$d(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return $d(t,this._root).map(e=>e.value)}}function XA(n,t){if(n===t.value)return t;for(const e of t.children){const i=XA(n,e);if(i)return i}return null}function $d(n,t){if(n===t.value)return[t];for(const e of t.children){const i=$d(n,e);if(i.length)return i.unshift(t),i}return[]}class aa{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ul(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Za extends JA{constructor(t,e){super(t),this.snapshot=e,fp(this,t)}toString(){return this.snapshot.toString()}}function Lc(n,t){const e=function Hw(n,t){const a=new Ap([],{},{},"",{},Fi,t,null,n.root,-1,{});return new Jd("",new aa(a,[]))}(n,t),i=new Ui([new Kh("",{})]),r=new Ui({}),s=new Ui({}),a=new Ui({}),l=new Ui(""),d=new Au(i,r,a,l,s,Fi,t,e.root);return d.snapshot=e.root,new Za(new aa(d,[]),e)}class Au{constructor(t,e,i,r,s,a,l,d){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=l,this.title=this.data?.pipe((0,Xt.U)(A=>A[qA]))??vn(void 0),this._futureSnapshot=d}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Xt.U)(t=>KA(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Xt.U)(t=>KA(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ef(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function x_(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Ap{constructor(t,e,i,r,s,a,l,d,A,p,_){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=l,this.routeConfig=d,this._urlSegment=A,this._lastPathIndex=p,this._resolve=_}get title(){return this.data?.[qA]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=KA(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=KA(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Jd extends JA{constructor(t,e){super(e),this.url=t,fp(this,e)}toString(){return fu(this._root)}}function fp(n,t){t.value._routerState=n,t.children.forEach(e=>fp(n,e))}function fu(n){const t=n.children.length>0?` { ${n.children.map(fu).join(", ")} } `:"";return`${n.value}${t}`}function pp(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,au(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),au(t.params,e.params)||n.params.next(e.params),function bv(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!au(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),au(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function zg(n,t){const e=au(n.params,t.params)&&function Iv(n,t){return lu(n,t)&&n.every((e,i)=>au(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||zg(n.parent,t.parent))}function eA(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function Gg(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return eA(n,i,r);return eA(n,i)})}(n,t,e);return new aa(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(l=>eA(n,l)),a}}const i=function Wa(n){return new Au(new Ui(n.url),new Ui(n.params),new Ui(n.queryParams),new Ui(n.fragment),new Ui(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>eA(n,s));return new aa(i,r)}}const gp="ngNavigationCancelingError";function qg(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=uu(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Pc(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function Pc(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[gp]=!0,i.cancellationCode=t,e&&(i.url=e),i}function Ya(n){return tf(n)&&uu(n.url)}function tf(n){return n&&n[gp]}class Mv{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new tA,this.attachRef=null}}let tA=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Mv,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Kg=!1;let nA=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Fi,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.parentContexts=(0,o.f3M)(tA),this.location=(0,o.f3M)(o.s_b),this.changeDetector=(0,o.f3M)(o.sBO),this.environmentInjector=(0,o.f3M)(o.lqb)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.vHH(4012,Kg);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.vHH(4012,Kg);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.vHH(4012,Kg);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new o.vHH(4013,Kg);this._activatedRoute=e;const r=this.location,a=e.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new Qw(e,l,r.injector);if(i&&function Zg(n){return!!n.resolveComponentFactory}(i)){const A=i.resolveComponentFactory(a);this.activated=r.createComponent(A,r.length,d)}else this.activated=r.createComponent(a,{index:r.length,injector:d,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[o.TTD]}),n})();class Qw{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Au?this.route:t===tA?this.childContexts:this.parent.get(t,e)}}let S_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[o.jDz],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},dependencies:[nA],encapsulation:2}),n})();function bn(n,t){return n.providers&&!n._injector&&(n._injector=(0,o.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Kt(n){const t=n.children&&n.children.map(Kt),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Fi&&(e.component=S_),e}function Pt(n){return n.outlet||Fi}function Fn(n,t){const e=n.filter(i=>Pt(i)===t);return e.push(...n.filter(i=>Pt(i)!==t)),e}function kn(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class zo{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),pp(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Ul(e);t.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,r[a],i),delete r[a]}),Qo(r,(s,a)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Ul(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);if(i&&i.outlet){const a=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:l})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Ul(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Ul(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new hp(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Yd(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(pp(r),r===s)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),pp(l.route.value),this.activateChildRoutes(t,null,a.children)}else{const l=kn(r.snapshot),d=l?.get(o._Vd)??null;a.attachRef=null,a.route=r,a.resolver=d,a.injector=l,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}class Xd{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ed{constructor(t,e){this.component=t,this.route=e}}function E_(n,t,e){const i=n._root;return td(i,t?t._root:null,e,[i.value])}function eh(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,o.Z0I)(n)?t.get(n):n:i}function td(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ul(t);return n.children.forEach(a=>{(function Wg(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,a=t?t.value:null,l=e?e.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const d=function mp(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!lu(n.url,t.url);case"pathParamsOrQueryParamsChange":return!lu(n.url,t.url)||!au(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zg(n,t)||!au(n.queryParams,t.queryParams);default:return!zg(n,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new Xd(i)):(s.data=a.data,s._resolvedData=a._resolvedData),td(n,t,s.component?l?l.children:null:e,i,r),d&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new ed(l.outlet.component,a))}else a&&nd(t,l,r),r.canActivateChecks.push(new Xd(i)),td(n,null,s.component?l?l.children:null:e,i,r)})(a,s[a.value.outlet],e,i.concat([a.value]),r),delete s[a.value.outlet]}),Qo(s,(a,l)=>nd(a,e.getContext(l),r)),r}function nd(n,t,e){const i=Ul(n),r=n.value;Qo(i,(s,a)=>{nd(s,r.component?t?t.children.getContext(a):null:t,e)}),e.canDeactivateChecks.push(new ed(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function th(n){return"function"==typeof n}function D_(n){return n instanceof zh||"EmptyError"===n?.name}const iA=Symbol("INITIAL_VALUE");function nh(){return Qr(n=>at(n.map(t=>t.pipe((0,zr.q)(1),oa(iA)))).pipe((0,Xt.U)(t=>{for(const e of t)if(!0!==e){if(e===iA)return iA;if(!1===e||e instanceof As)return e}return!0}),gr(t=>t!==iA),(0,zr.q)(1)))}function qw(n){return(0,uo.z)((0,Vs.b)(t=>{if(uu(t))throw qg(0,t)}),(0,Xt.U)(t=>!0===t))}const B_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function FE(n,t,e,i,r){const s=F_(n,t,e);return s.matched?function a1(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?vn(r.map(a=>{const l=eh(a,n);return Vo(function $g(n){return n&&th(n.canMatch)}(l)?l.canMatch(t,e):n.runInContext(()=>l(t,e)))})).pipe(nh(),qw()):vn(!0)}(i=bn(t,i),t,e).pipe((0,Xt.U)(a=>!0===a?s:{...B_})):vn(s)}function F_(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...B_}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||h_)(e,n,t);if(!r)return{...B_};const s={};Qo(r.posParams,(l,d)=>{s[d]=l.path});const a=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function Fv(n,t,e,i){if(e.length>0&&function c1(n,t,e){return e.some(i=>kv(n,t,i)&&Pt(i)!==Fi)}(n,e,i)){const s=new ei(t,function l1(n,t,e,i){const r={};r[Fi]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&Pt(s)!==Fi){const a=new ei([],{});a._sourceSegment=n,a._segmentIndexShift=t.length,r[Pt(s)]=a}return r}(n,t,i,new ei(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function _p(n,t,e){return e.some(i=>kv(n,t,i))}(n,e,i)){const s=new ei(n.segments,function Kw(n,t,e,i,r){const s={};for(const a of i)if(kv(n,e,a)&&!r[Pt(a)]){const l=new ei([],{});l._sourceSegment=n,l._segmentIndexShift=t.length,s[Pt(a)]=l}return{...r,...s}}(n,t,e,i,n.children));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const r=new ei(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function kv(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Rv(n,t,e,i){return!!(Pt(n)===i||i!==Fi&&kv(t,e,n))&&("**"===n.path||F_(t,n,e).matched)}function S(n,t,e){return 0===t.length&&!n.children[e]}const b=!1;class D{constructor(t){this.segmentGroup=t||null}}class E{constructor(t){this.urlTree=t}}function P(n){return ja(new D(n))}function G(n){return ja(new E(n))}class Le{constructor(t,e,i,r,s){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=Fv(this.urlTree.root,[],[],this.config).segmentGroup,e=new ei(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Fi).pipe((0,Xt.U)(s=>this.createUrlTree(v_(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(rc(s=>{if(s instanceof E)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof D?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Fi).pipe((0,Xt.U)(r=>this.createUrlTree(v_(r),t.queryParams,t.fragment))).pipe(rc(r=>{throw r instanceof D?this.noMatchError(r):r}))}noMatchError(t){return new o.vHH(4002,b)}createUrlTree(t,e,i){const r=YA(t);return new As(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,Xt.U)(s=>new ei([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,Xn.D)(r).pipe(kc(s=>{const a=i.children[s],l=Fn(e,s);return this.expandSegmentGroup(t,l,a,s).pipe((0,Xt.U)(d=>({segment:d,outlet:s})))}),$u((s,a)=>(s[a.outlet]=a.segment,s),{}),Sg())}expandSegment(t,e,i,r,s,a){return(0,Xn.D)(i).pipe(kc(l=>this.expandSegmentAgainstRoute(t,e,i,l,r,s,a).pipe(rc(A=>{if(A instanceof D)return vn(null);throw A}))),ic(l=>!!l),rc((l,d)=>{if(D_(l))return S(e,r,s)?vn(new ei([],{})):P(e);throw l}))}expandSegmentAgainstRoute(t,e,i,r,s,a,l){return Rv(r,e,s,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,a):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a):P(e):P(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?G(s):this.lineralizeSegments(i,s).pipe((0,Sa.z)(a=>{const l=new ei(a,{});return this.expandSegment(t,l,e,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a){const{matched:l,consumedSegments:d,remainingSegments:A,positionalParamSegments:p}=F_(e,r,s);if(!l)return P(e);const _=this.applyRedirectCommands(d,r.redirectTo,p);return r.redirectTo.startsWith("/")?G(_):this.lineralizeSegments(r,_).pipe((0,Sa.z)(x=>this.expandSegment(t,e,i,x.concat(A),a,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){return"**"===i.path?(t=bn(i,t),i.loadChildren?(i._loadedRoutes?vn({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,Xt.U)(l=>(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,new ei(r,{})))):vn(new ei(r,{}))):FE(e,i,r,t).pipe(Qr(({matched:a,consumedSegments:l,remainingSegments:d})=>a?this.getChildConfig(t=i._injector??t,i,r).pipe((0,Sa.z)(p=>{const _=p.injector??t,x=p.routes,{segmentGroup:C,slicedSegments:F}=Fv(e,l,d,x),R=new ei(C.segments,C.children);if(0===F.length&&R.hasChildren())return this.expandChildren(_,x,R).pipe((0,Xt.U)(ie=>new ei(l,ie)));if(0===x.length&&0===F.length)return vn(new ei(l,{}));const U=Pt(i)===s;return this.expandSegment(_,R,x,F,U?Fi:s,!0).pipe((0,Xt.U)(K=>new ei(l.concat(K.segments),K.children)))})):P(e)))}getChildConfig(t,e,i){return e.children?vn({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?vn({routes:e._loadedRoutes,injector:e._loadedInjector}):function BE(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?vn(!0):vn(r.map(a=>{const l=eh(a,n);return Vo(function Bs(n){return n&&th(n.canLoad)}(l)?l.canLoad(t,e):n.runInContext(()=>l(t,e)))})).pipe(nh(),qw())}(t,e,i).pipe((0,Sa.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,Vs.b)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function fe(n){return ja(Pc(b,3))}())):vn({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return vn(i);if(r.numberOfChildren>1||!r.children[Fi])return ja(new o.vHH(4e3,b));r=r.children[Fi]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new As(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Qo(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const l=r.substring(1);i[s]=e[l]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let a={};return Qo(e.children,(l,d)=>{a[d]=this.createSegmentGroup(t,l,i,r)}),new ei(s,a)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new o.vHH(4001,b);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class It{}class Cn{constructor(t,e,i,r,s,a,l){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=a,this.urlSerializer=l}recognize(){const t=Fv(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Fi).pipe((0,Xt.U)(e=>{if(null===e)return null;const i=new Ap([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Fi,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new aa(i,e),s=new Jd(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,i=ef(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,Xn.D)(Object.keys(i.children)).pipe(kc(r=>{const s=i.children[r],a=Fn(e,r);return this.processSegmentGroup(t,a,s,r)}),$u((r,s)=>r&&s?(r.push(...s),r):null),zA(r=>null!==r),jA(null),Sg(),(0,Xt.U)(r=>{if(null===r)return null;const s=Fr(r);return function Ki(n){n.sort((t,e)=>t.value.outlet===Fi?-1:e.value.outlet===Fi?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,i,r,s){return(0,Xn.D)(e).pipe(kc(a=>this.processSegmentAgainstRoute(a._injector??t,a,i,r,s)),ic(a=>!!a),rc(a=>{if(D_(a))return S(i,r,s)?vn([]):vn(null);throw a}))}processSegmentAgainstRoute(t,e,i,r,s){if(e.redirectTo||!Rv(e,i,r,s))return vn(null);let a;if("**"===e.path){const l=r.length>0?qh(r).parameters:{},d=Tn(i)+r.length;a=vn({snapshot:new Ap(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sr(e),Pt(e),e.component??e._loadedComponent??null,e,Ai(i),d,Ei(e)),consumedSegments:[],remainingSegments:[]})}else a=FE(i,e,r,t).pipe((0,Xt.U)(({matched:l,consumedSegments:d,remainingSegments:A,parameters:p})=>{if(!l)return null;const _=Tn(i)+d.length;return{snapshot:new Ap(d,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sr(e),Pt(e),e.component??e._loadedComponent??null,e,Ai(i),_,Ei(e)),consumedSegments:d,remainingSegments:A}}));return a.pipe(Qr(l=>{if(null===l)return vn(null);const{snapshot:d,consumedSegments:A,remainingSegments:p}=l;t=e._injector??t;const _=e._loadedInjector??t,x=function Yn(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:C,slicedSegments:F}=Fv(i,A,p,x.filter(U=>void 0===U.redirectTo));if(0===F.length&&C.hasChildren())return this.processChildren(_,x,C).pipe((0,Xt.U)(U=>null===U?null:[new aa(d,U)]));if(0===x.length&&0===F.length)return vn([new aa(d,[])]);const R=Pt(e)===s;return this.processSegment(_,x,C,F,R?Fi:s).pipe((0,Xt.U)(U=>null===U?null:[new aa(d,U)]))}))}}function Gn(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Fr(n){const t=[],e=new Set;for(const i of n){if(!Gn(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Fr(i.children);t.push(new aa(i.value,r))}return t.filter(i=>!e.has(i))}function Ai(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Tn(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function sr(n){return n.data||{}}function Ei(n){return n.resolve||{}}function $a(n){return"string"==typeof n.title||null===n.title}function Ia(n){return Qr(t=>{const e=n(t);return e?(0,Xn.D)(e).pipe((0,Xt.U)(()=>t)):vn(t)})}const Ja=new o.OlP("ROUTES");let sA=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return vn(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Vo(e.loadComponent()).pipe((0,Xt.U)(ih),(0,Vs.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Xf(()=>{this.componentLoaders.delete(e)})),r=new Fc(i,()=>new tn.x).pipe(Ga());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return vn({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Xt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(i);let d,A,p=!1;Array.isArray(l)?A=l:(d=l.create(e).injector,A=qa(d.get(Ja,[],o.XFs.Self|o.XFs.Optional)));return{routes:A.map(Kt),injector:d}}),Xf(()=>{this.childrenLoaders.delete(i)})),a=new Fc(s,()=>new tn.x).pipe(Ga());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(e){return Vo(e()).pipe((0,Xt.U)(ih),(0,Sa.z)(r=>r instanceof o.YKP||Array.isArray(r)?vn(r):(0,Xn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.zs3),o.LFG(o.Sil))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ih(n){return function vp(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let id=(()=>{class n{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new tn.x,this.configLoader=(0,o.f3M)(sA),this.environmentInjector=(0,o.f3M)(o.lqb),this.urlSerializer=(0,o.f3M)(cu),this.rootContexts=(0,o.f3M)(tA),this.navigationId=0,this.configLoader.onLoadEndListener=r=>this.events.next(new du(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Ms(r))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new Ui({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(gr(i=>0!==i.id),(0,Xt.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),Qr(i=>{let r=!1,s=!1;return vn(i).pipe((0,Vs.b)(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Qr(a=>{const l=e.browserUrlTree.toString(),d=!e.navigated||a.extractedUrl.toString()!==l||l!==e.currentUrlTree.toString();if(("reload"===e.onSameUrlNavigation||d)&&e.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return wp(a.source)&&(e.browserUrlTree=a.extractedUrl),vn(a).pipe(Qr(p=>{const _=this.transitions?.getValue();return this.events.next(new up(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),_!==this.transitions?.getValue()?za.E:Promise.resolve(p)}),function ze(n,t,e,i){return Qr(r=>function Ae(n,t,e,i,r){return new Le(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,Xt.U)(s=>({...r,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,Vs.b)(p=>{this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects},i.urlAfterRedirects=p.urlAfterRedirects}),function Mo(n,t,e,i,r){return(0,Sa.z)(s=>function cn(n,t,e,i,r,s,a="emptyOnly"){return new Cn(n,t,e,i,r,a,s).recognize().pipe(Qr(l=>null===l?function Rn(n){return new rs.y(t=>t.error(n))}(new It):vn(l)))}(n,t,e,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r).pipe((0,Xt.U)(a=>({...s,targetSnapshot:a}))))}(this.environmentInjector,e.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,Vs.b)(p=>{if(i.targetSnapshot=p.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!p.extras.skipLocationChange){const x=e.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl);e.setBrowserUrl(x,p)}e.browserUrlTree=p.urlAfterRedirects}const _=new C_(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(_)}));if(d&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:_,extractedUrl:x,source:C,restoredState:F,extras:R}=a,U=new up(_,this.urlSerializer.serialize(x),C,F);this.events.next(U);const Q=Lc(x,e.rootComponentType).snapshot;return vn(i={...a,targetSnapshot:Q,urlAfterRedirects:x,extras:{...R,skipLocationChange:!1,replaceUrl:!1}})}return e.rawUrlTree=a.rawUrl,a.resolve(null),za.E}),(0,Vs.b)(a=>{const l=new Qg(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),(0,Xt.U)(a=>i={...a,guards:E_(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function yM(n,t){return(0,Sa.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:a}}=e;return 0===a.length&&0===s.length?vn({...e,guardsResult:!0}):function T_(n,t,e,i){return(0,Xn.D)(n).pipe((0,Sa.z)(r=>function ME(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?vn(s.map(l=>{const d=kn(t)??r,A=eh(l,d);return Vo(function Bv(n){return n&&th(n.canDeactivate)}(A)?A.canDeactivate(n,t,e,i):d.runInContext(()=>A(n,t,e,i))).pipe(ic())})).pipe(nh()):vn(!0)}(r.component,r.route,e,t,i)),ic(r=>!0!==r,!0))}(a,i,r,n).pipe((0,Sa.z)(l=>l&&function Vw(n){return"boolean"==typeof n}(l)?function M_(n,t,e,i){return(0,Xn.D)(t).pipe(kc(r=>hi(function zw(n,t){return null!==n&&t&&t(new hu(n)),vn(!0)}(r.route.parent,i),function jw(n,t){return null!==n&&t&&t(new Xu(n)),vn(!0)}(r.route,i),function Gw(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(a=>function I_(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(a)).filter(a=>null!==a).map(a=>hs(()=>vn(a.guards.map(d=>{const A=kn(a.node)??e,p=eh(d,A);return Vo(function pu(n){return n&&th(n.canActivateChild)}(p)?p.canActivateChild(i,n):A.runInContext(()=>p(i,n))).pipe(ic())})).pipe(nh())));return vn(s).pipe(nh())}(n,r.path,e),function o1(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return vn(!0);const r=i.map(s=>hs(()=>{const a=kn(t)??e,l=eh(s,a);return Vo(function Yg(n){return n&&th(n.canActivate)}(l)?l.canActivate(t,n):a.runInContext(()=>l(t,n))).pipe(ic())}));return vn(r).pipe(nh())}(n,r.route,e))),ic(r=>!0!==r,!0))}(i,s,n,t):vn(l)),(0,Xt.U)(l=>({...e,guardsResult:l})))})}(this.environmentInjector,a=>this.events.next(a)),(0,Vs.b)(a=>{if(i.guardsResult=a.guardsResult,uu(a.guardsResult))throw qg(0,a.guardsResult);const l=new Vg(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(l)}),gr(a=>!!a.guardsResult||(e.restoreHistory(a),this.cancelNavigationTransition(a,"",3,e),!1)),Ia(a=>{if(a.guards.canActivateChecks.length)return vn(a).pipe((0,Vs.b)(l=>{const d=new Jh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Qr(l=>{let d=!1;return vn(l).pipe(function oc(n,t){return(0,Sa.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return vn(e);let s=0;return(0,Xn.D)(r).pipe(kc(a=>function Nc(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!$a(r)&&(s[qA]=r.title),function ss(n,t,e,i){const r=function Ea(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return vn({});const s={};return(0,Xn.D)(r).pipe((0,Sa.z)(a=>function rA(n,t,e,i){const r=kn(t)??i,s=eh(n,r);return Vo(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[a],t,e,i).pipe(ic(),(0,Vs.b)(l=>{s[a]=l}))),Gh(1),GA(s),rc(a=>D_(a)?za.E:ja(a)))}(s,n,t,i).pipe((0,Xt.U)(a=>(n._resolvedData=a,n.data=ef(n,e).resolve,r&&$a(r)&&(n.data[qA]=r.title),null)))}(a.route,i,n,t)),(0,Vs.b)(()=>s++),Gh(1),(0,Sa.z)(a=>s===r.length?vn(e):za.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,Vs.b)({next:()=>d=!0,complete:()=>{d||(e.restoreHistory(l),this.cancelNavigationTransition(l,"",2,e))}}))}),(0,Vs.b)(l=>{const d=new Wd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Ia(a=>{const l=d=>{const A=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&A.push(this.configLoader.loadComponent(d.routeConfig).pipe((0,Vs.b)(p=>{d.component=p}),(0,Xt.U)(()=>{})));for(const p of d.children)A.push(...l(p));return A};return at(l(a.targetSnapshot.root)).pipe(jA(),(0,zr.q)(1))}),Ia(()=>e.afterPreactivation()),(0,Xt.U)(a=>{const l=function Xh(n,t,e){const i=eA(n,t._root,e?e._root:void 0);return new Za(i,t)}(e.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:l}}),(0,Vs.b)(a=>{e.currentUrlTree=a.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),e.routerState=a.targetRouterState,"deferred"===e.urlUpdateStrategy&&(a.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,a),e.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>(0,Xt.U)(i=>(new zo(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,a=>this.events.next(a)),(0,Vs.b)({next:a=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Ju(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{r=!0}}),Xf(()=>{r||s||this.cancelNavigationTransition(i,"",1,e),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),rc(a=>{if(s=!0,tf(a)){Ya(a)||(e.navigated=!0,e.restoreHistory(i,!0));const l=new dp(i.id,this.urlSerializer.serialize(i.extractedUrl),a.message,a.cancellationCode);if(this.events.next(l),Ya(a)){const d=e.urlHandlingStrategy.merge(a.url,e.rawUrlTree),A={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||wp(i.source)};e.scheduleNavigation(d,"imperative",null,A,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const l=new $A(i.id,this.urlSerializer.serialize(i.extractedUrl),a,i.targetSnapshot??void 0);this.events.next(l);try{i.resolve(e.errorHandler(a))}catch(d){i.reject(d)}}return za.E}))}))}cancelNavigationTransition(e,i,r,s){const a=new dp(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(a),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wp(n){return"imperative"!==n}let Jg=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Fi);return i}getResolvedTitleForRoute(e){return e.data[qA]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(Ov)},providedIn:"root"}),n})(),Ov=(()=>{class n extends Jg{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Wu))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(IP)},providedIn:"root"}),n})();class EP{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let IP=(()=>{class n extends EP{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kE=new o.OlP("",{providedIn:"root",factory:()=>({})});let vM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(GV)},providedIn:"root"}),n})(),GV=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qV(n){throw n}function wM(n,t,e){return t.parse("/")}const DP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function CM(){const n=(0,o.f3M)(cu),t=(0,o.f3M)(tA),e=(0,o.f3M)(rn),i=(0,o.f3M)(o.zs3),r=(0,o.f3M)(o.Sil),s=(0,o.f3M)(Ja,{optional:!0})??[],a=(0,o.f3M)(kE,{optional:!0})??{},l=new os(null,n,t,e,i,r,qa(s));return function TP(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(a,l),l}let os=(()=>{class n{constructor(e,i,r,s,a,l,d){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=d,this.disposed=!1,this.currentPageId=0,this.isNgZoneEnabled=!1,this.errorHandler=qV,this.malformedUriErrorHandler=wM,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>vn(void 0),this.urlHandlingStrategy=(0,o.f3M)(vM),this.routeReuseStrategy=(0,o.f3M)(bp),this.titleStrategy=(0,o.f3M)(Jg),this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.canceledNavigationResolution="replace",this.navigationTransitions=(0,o.f3M)(id),this.console=a.get(o.c2e);const A=a.get(o.R0b);this.isNgZoneEnabled=A instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(d),this.currentUrlTree=new As,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Lc(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe(p=>{this.lastSuccessfulId=p.id,this.currentPageId=p.targetPageId},p=>{this.console.warn(`Unhandled Navigation Error: ${p}`)})}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=e.state?.navigationId?e.state:null;if(e.state){const l={...e.state};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(r.state=l)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(Kt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:d}=i,A=r||this.routerState.root,p=d?this.currentUrlTree.fragment:a;let _=null;switch(l){case"merge":_={...this.currentUrlTree.queryParams,...s};break;case"preserve":_=this.currentUrlTree.queryParams;break;default:_=s||null}return null!==_&&(_=this.removeEmptyProps(_)),Pw(A,this.currentUrlTree,e,_,p??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=uu(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function MP(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new o.vHH(4008,!1)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...DP}:!1===i?{...bM}:i,uu(e))return f_(this.currentUrlTree,e,r);const s=this.parseUrl(e);return f_(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(e,i,r,s,a){if(this.disposed)return Promise.resolve(!1);let l,d,A,p;return a?(l=a.resolve,d=a.reject,A=a.promise):A=new Promise((_,x)=>{l=_,d=x}),"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),p=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):p=0,this.navigationTransitions.handleNavigationRequest({targetPageId:p,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:l,reject:d,promise:A,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),A.catch(_=>Promise.reject(_))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:function(){return CM()},providedIn:"root"}),n})(),Xg=(()=>{class n{constructor(e,i,r,s,a,l){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=a,this.locationStrategy=l,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new tn.x;const d=a.nativeElement.tagName;this.isAnchorElement="A"===d||"AREA"===d,this.isAnchorElement?this.subscription=e.events.subscribe(A=>{A instanceof Ju&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,o.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,o.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,o.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,s,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||s||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,o.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(os),o.Y36(Au),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(xt))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&o.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[o.TTD]}),n})();class xM{}let RP=(()=>{class n{constructor(e,i,r,s,a){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(gr(e=>e instanceof Ju),kc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,o.MMx)(s.providers,e,`Route: ${s.path}`));const a=s._injector??e,l=s._loadedInjector??a;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(a,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(l,s.children??s._loadedRoutes))}return(0,Xn.D)(r).pipe((0,Zn.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):vn(null);const s=r.pipe((0,Sa.z)(a=>null===a?vn(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(i.loadComponent&&!i._loadedComponent){const a=this.loader.loadComponent(i);return(0,Xn.D)([s,a]).pipe((0,Zn.J)())}return s})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(os),o.LFG(o.Sil),o.LFG(o.lqb),o.LFG(xM),o.LFG(sA))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const OE=new o.OlP("");let SM=(()=>{class n{constructor(e,i,r,s,a={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof up?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ju&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Oc&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Oc(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function k_(n,t){return{\u0275kind:n,\u0275providers:t}}function NE(){const n=(0,o.f3M)(o.zs3);return t=>{const e=n.get(o.z2F);if(t!==e.components[0])return;const i=n.get(os),r=n.get(EM);1===n.get(UE)&&i.initialNavigation(),n.get(em,null,o.XFs.Optional)?.setUpPreloading(),n.get(OE,null,o.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const EM=new o.OlP("",{factory:()=>new tn.x}),UE=new o.OlP("",{providedIn:"root",factory:()=>1});const em=new o.OlP("");function NP(n){return k_(0,[{provide:em,useExisting:RP},{provide:xM,useExisting:n}])}const UP=new o.OlP("ROUTER_FORROOT_GUARD"),$V=[rn,{provide:cu,useClass:Dg},{provide:os,useFactory:CM},tA,{provide:Au,useFactory:function LE(n){return n.routerState.root},deps:[os]},sA,[]];function JV(){return new o.PXZ("Router",os)}let MM=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[$V,[],{provide:Ja,multi:!0,useValue:e},{provide:UP,useFactory:Lv,deps:[[os,new o.FiY,new o.tp0]]},{provide:kE,useValue:i||{}},i?.useHash?{provide:xt,useClass:Gt}:{provide:xt,useClass:yt},{provide:OE,useFactory:()=>{const n=(0,o.f3M)(_s),t=(0,o.f3M)(o.R0b),e=(0,o.f3M)(kE),i=(0,o.f3M)(id),r=(0,o.f3M)(cu);return e.scrollOffset&&n.setOffset(e.scrollOffset),new SM(r,i,n,t,e)}},i?.preloadingStrategy?NP(i.preloadingStrategy).\u0275providers:[],{provide:o.PXZ,multi:!0,useFactory:JV},i?.initialNavigation?QP(i):[],[{provide:HE,useFactory:NE},{provide:o.tb,multi:!0,useExisting:HE}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Ja,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(UP,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[S_]}),n})();function Lv(n){return"guarded"}function QP(n){return["disabled"===n.initialNavigation?k_(3,[{provide:o.ip1,multi:!0,useFactory:()=>{const t=(0,o.f3M)(os);return()=>{t.setUpLocationChangeListener()}}},{provide:UE,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?k_(2,[{provide:UE,useValue:0},{provide:o.ip1,multi:!0,deps:[o.zs3],useFactory:t=>{const e=t.get(Te,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const s=t.get(os),a=t.get(EM);(function i(r){t.get(os).events.pipe(gr(a=>a instanceof Ju||a instanceof dp||a instanceof $A),(0,Xt.U)(a=>a instanceof Ju||a instanceof dp&&(0===a.code||1===a.code)&&null),gr(a=>null!==a),(0,zr.q)(1)).subscribe(()=>{r()})})(()=>{r(!0)}),s.afterPreactivation=()=>(r(!0),a.closed?vn(void 0):a),s.initialNavigation()}))}}]).\u0275providers:[]]}const HE=new o.OlP("");class Zw{}class QE{}class rh{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof rh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new rh;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof rh?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let a=this.headers.get(e);if(!a)return;a=a.filter(l=>-1===s.indexOf(l)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class VP{encodeKey(t){return VE(t)}encodeValue(t){return VE(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const FM=/%(\d[a-f0-9])/gi,zP={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function VE(n){return encodeURIComponent(n).replace(FM,(t,e)=>zP[e]??t)}function Ww(n){return`${n}`}class rf{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new VP,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function jP(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[a,l]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],d=e.get(a)||[];d.push(l),e.set(a,d)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(Ww):[Ww(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new rf({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Ww(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(Ww(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class jE{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function qP(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function O_(n){return typeof Blob<"u"&&n instanceof Blob}function zE(n){return typeof FormData<"u"&&n instanceof FormData}class Pv{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function GP(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new rh),this.context||(this.context=new jE),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const l=e.indexOf("?");this.urlWithParams=e+(-1===l?"?":l<e.length-1?"&":"")+a}}else this.params=new rf,this.urlWithParams=e}serializeBody(){return null===this.body?null:qP(this.body)||O_(this.body)||zE(this.body)||function KP(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof rf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||zE(this.body)?null:O_(this.body)?this.body.type||null:qP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let d=t.headers||this.headers,A=t.params||this.params;const p=t.context??this.context;return void 0!==t.setHeaders&&(d=Object.keys(t.setHeaders).reduce((_,x)=>_.set(x,t.setHeaders[x]),d)),t.setParams&&(A=Object.keys(t.setParams).reduce((_,x)=>_.set(x,t.setParams[x]),A)),new Pv(e,i,s,{params:A,headers:d,context:p,reportProgress:l,responseType:r,withCredentials:a})}}var Da=(()=>((Da=Da||{})[Da.Sent=0]="Sent",Da[Da.UploadProgress=1]="UploadProgress",Da[Da.ResponseHeader=2]="ResponseHeader",Da[Da.DownloadProgress=3]="DownloadProgress",Da[Da.Response=4]="Response",Da[Da.User=5]="User",Da))();class GE{constructor(t,e=200,i="OK"){this.headers=t.headers||new rh,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Nv extends GE{constructor(t={}){super(t),this.type=Da.ResponseHeader}clone(t={}){return new Nv({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Cp extends GE{constructor(t={}){super(t),this.type=Da.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Cp({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class d1 extends GE{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function L_(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let P_=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof Pv)s=e;else{let d,A;d=r.headers instanceof rh?r.headers:new rh(r.headers),r.params&&(A=r.params instanceof rf?r.params:new rf({fromObject:r.params})),s=new Pv(e,i,void 0!==r.body?r.body:null,{headers:d,context:r.context,params:A,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=vn(s).pipe(kc(d=>this.handler.handle(d)));if(e instanceof Pv||"events"===r.observe)return a;const l=a.pipe(gr(d=>d instanceof Cp));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe((0,Xt.U)(d=>{if(null!==d.body&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return l.pipe((0,Xt.U)(d=>{if(null!==d.body&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return l.pipe((0,Xt.U)(d=>{if(null!==d.body&&"string"!=typeof d.body)throw new Error("Response is not a string.");return d.body}));default:return l.pipe((0,Xt.U)(d=>d.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new rf).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,L_(r,i))}post(e,i,r={}){return this.request("POST",e,L_(r,i))}put(e,i,r={}){return this.request("PUT",e,L_(r,i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Zw))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Yw(n,t){return t(n)}function kM(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const KE=new o.OlP("HTTP_INTERCEPTORS"),N_=new o.OlP("HTTP_INTERCEPTOR_FNS");function RM(){let n=null;return(t,e)=>(null===n&&(n=((0,o.f3M)(KE,{optional:!0})??[]).reduceRight(kM,Yw)),n(t,e))}let h1=(()=>{class n extends Zw{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=Array.from(new Set(this.injector.get(N_)));this.chain=i.reduceRight((r,s)=>function qE(n,t,e){return(i,r)=>e.runInContext(()=>t(i,s=>n(s,r)))}(r,s,this.injector),Yw)}return this.chain(e,i=>this.backend.handle(i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(QE),o.LFG(o.lqb))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const o8=/^\)\]\}',?\n/;let WE=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new rs.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((C,F)=>r.setRequestHeader(C,F.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const C=e.detectContentTypeHeader();null!==C&&r.setRequestHeader("Content-Type",C)}if(e.responseType){const C=e.responseType.toLowerCase();r.responseType="json"!==C?C:"text"}const s=e.serializeBody();let a=null;const l=()=>{if(null!==a)return a;const C=r.statusText||"OK",F=new rh(r.getAllResponseHeaders()),R=function ZE(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return a=new Nv({headers:F,status:r.status,statusText:C,url:R}),a},d=()=>{let{headers:C,status:F,statusText:R,url:U}=l(),Q=null;204!==F&&(Q=typeof r.response>"u"?r.responseText:r.response),0===F&&(F=Q?200:0);let K=F>=200&&F<300;if("json"===e.responseType&&"string"==typeof Q){const ie=Q;Q=Q.replace(o8,"");try{Q=""!==Q?JSON.parse(Q):null}catch(ce){Q=ie,K&&(K=!1,Q={error:ce,text:Q})}}K?(i.next(new Cp({body:Q,headers:C,status:F,statusText:R,url:U||void 0})),i.complete()):i.error(new d1({error:Q,headers:C,status:F,statusText:R,url:U||void 0}))},A=C=>{const{url:F}=l(),R=new d1({error:C,status:r.status||0,statusText:r.statusText||"Unknown Error",url:F||void 0});i.error(R)};let p=!1;const _=C=>{p||(i.next(l()),p=!0);let F={type:Da.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(F.total=C.total),"text"===e.responseType&&!!r.responseText&&(F.partialText=r.responseText),i.next(F)},x=C=>{let F={type:Da.UploadProgress,loaded:C.loaded};C.lengthComputable&&(F.total=C.total),i.next(F)};return r.addEventListener("load",d),r.addEventListener("error",A),r.addEventListener("timeout",A),r.addEventListener("abort",A),e.reportProgress&&(r.addEventListener("progress",_),null!==s&&r.upload&&r.upload.addEventListener("progress",x)),r.send(s),i.next({type:Da.Sent}),()=>{r.removeEventListener("error",A),r.removeEventListener("abort",A),r.removeEventListener("load",d),r.removeEventListener("timeout",A),e.reportProgress&&(r.removeEventListener("progress",_),null!==s&&r.upload&&r.upload.removeEventListener("progress",x)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Lf))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const YE=new o.OlP("XSRF_ENABLED"),LM="XSRF-TOKEN",PM=new o.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>LM}),$E="X-XSRF-TOKEN",NM=new o.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>$E});class UM{}let JE=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=na(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ze),o.LFG(o.Lbi),o.LFG(PM))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function XP(n,t){const e=n.url.toLowerCase();if(!(0,o.f3M)(YE)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=(0,o.f3M)(UM).getToken(),r=(0,o.f3M)(NM);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var la=(()=>((la=la||{})[la.Interceptors=0]="Interceptors",la[la.LegacyInterceptors=1]="LegacyInterceptors",la[la.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",la[la.NoXsrfProtection=3]="NoXsrfProtection",la[la.JsonpSupport=4]="JsonpSupport",la[la.RequestsMadeViaParent=5]="RequestsMadeViaParent",la))();function Uv(n,t){return{\u0275kind:n,\u0275providers:t}}function eN(...n){const t=[P_,WE,h1,{provide:Zw,useExisting:h1},{provide:QE,useExisting:WE},{provide:N_,useValue:XP,multi:!0},{provide:YE,useValue:!0},{provide:UM,useClass:JE}];for(const e of n)t.push(...e.\u0275providers);return(0,o.MR2)(t)}const A1=new o.OlP("LEGACY_INTERCEPTOR_FN");function nN({cookieName:n,headerName:t}){const e=[];return void 0!==n&&e.push({provide:PM,useValue:n}),void 0!==t&&e.push({provide:NM,useValue:t}),Uv(la.CustomXsrfConfiguration,e)}let XE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[eN(Uv(la.LegacyInterceptors,[{provide:A1,useFactory:RM},{provide:N_,useExisting:A1,multi:!0}]),nN({cookieName:LM,headerName:$E}))]}),n})();class Hv{constructor(){this.guid="",this.author="",this.date=new Date,this.title="",this.like=0,this.tipologia="",this.utenti=new Array,this.delay=0}}class $w{constructor(){this.macro=new Hv,this.azione="",this.value="",this.descrizione="",this.tipologia=""}}class Jw{constructor(){this.comando="",this.settings=new Array,this.type="",this.code="",this.subCode=""}}class Xw extends Jw{constructor(){super(...arguments),this.function="",this.index=0}}class f1{constructor(){this.settings=new Array,this.macro=new Hv,this.descrizione=""}}class eI{constructor(){this.checked=!0,this.settings=new Array,this.macro=new $w}}let oA;try{oA=typeof Intl<"u"&&Intl.v8BreakIterator}catch{oA=!1}let sf,Fs=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Zl(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!oA)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),g1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const HM=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function tI(){if(sf)return sf;if("object"!=typeof document||!document)return sf=new Set(HM),sf;let n=document.createElement("input");return sf=new Set(HM.filter(t=>(n.setAttribute("type",t),n.type===t))),sf}let Vv,tm,U_,nI;function eb(n){return function oN(){if(null==Vv&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Vv=!0}))}finally{Vv=Vv||!1}return Vv}()?n:!!n.capture}function aN(){if(null==U_){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return U_=!1,U_;if("scrollBehavior"in document.documentElement.style)U_=!0;else{const n=Element.prototype.scrollTo;U_=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return U_}function tb(){if("object"!=typeof document||!document)return 0;if(null==tm){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),tm=0,0===n.scrollLeft&&(n.scrollLeft=1,tm=0===n.scrollLeft?1:2),n.remove()}return tm}function QM(n){if(function lN(){if(null==nI){const n=typeof document<"u"?document.head:null;nI=!(!n||!n.createShadowRoot&&!n.attachShadow)}return nI}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function iI(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function H_(n){return n.composedPath?n.composedPath()[0]:n.target}function rI(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}class af{constructor(){}xmlToJson(t){let e={};if(1===t.nodeType){if(t.attributes.length>0){e["@attributes"]={};for(let i=0;i<t.attributes.length;i+=1){const r=t.attributes.item(i);e["@attributes"][r.nodeName]=r.nodeValue}}}else 3===t.nodeType&&(e=t.nodeValue);if(t.hasChildNodes()&&1===t.childNodes.length&&3===t.childNodes[0].nodeType)e=t.childNodes[0].nodeValue;else if(t.hasChildNodes())for(let i=0;i<t.childNodes.length;i+=1){const r=t.childNodes.item(i),s=r.nodeName;if(typeof e[s]>"u")e[s]=this.xmlToJson(r);else{if(typeof e[s].push>"u"){const a=e[s];e[s]=[],e[s].push(a)}e[s].push(this.xmlToJson(r))}}return e}}af.\u0275fac=function(t){return new(t||af)},af.\u0275prov=o.Yz7({token:af,factory:af.\u0275fac,providedIn:"root"}),af.ngInjectableDef=(0,o.Ez6)({factory:function(){return new af},token:af,providedIn:"root"});var Q_=se(4986),eo=se(5813);function sI(){return(0,Br.e)((n,t)=>{let e,i=!1;n.subscribe(new ge.Q(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}function V_(n,t=gn.y){return n=n??cN,(0,Br.e)((e,i)=>{let r,s=!0;e.subscribe(new ge.Q(i,a=>{const l=t(a);(s||!n(r,l))&&(s=!1,r=l,i.next(a))}))})}function cN(n,t){return n===t}var ti,Hc=se(2011),jM=(se(822),se(3942)),Tt=se(5861),sh=se(9681),Sp=se(4859),lf=se(1877),he=se(2090),m1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qc={},j_=j_||{},Hi=m1||self;function _1(){}function jv(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function nb(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var z_="closure_uid_"+(1e9*Math.random()>>>0),ac=0;function G_(n,t,e){return n.call.apply(n.bind,arguments)}function y1(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function ks(n,t,e){return(ks=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?G_:y1).apply(null,arguments)}function zv(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Go(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Wb=function(i,r,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[r].apply(i,a)}}function rd(){this.s=this.s,this.o=this.o}rd.prototype.s=!1,rd.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function cf(n){Object.prototype.hasOwnProperty.call(n,z_)&&n[z_]||(n[z_]=++ac)}(this)},rd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const q_=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function nm(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function K_(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(jv(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let a=0;a<s;a++)n[r+a]=i[a]}else n.push(i)}}function ca(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}ca.prototype.h=function(){this.defaultPrevented=!0};var qv=function(){if(!Hi.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Hi.addEventListener("test",_1,t),Hi.removeEventListener("test",_1,t)}catch{}return n}();function Ep(n){return/^[\s\xa0]*$/.test(n)}var oI=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function v1(n,t){return n<t?-1:n>t?1:0}function ib(){var n=Hi.navigator;return n&&(n=n.userAgent)?n:""}function aA(n){return-1!=ib().indexOf(n)}function w1(n){return w1[" "](n),n}w1[" "]=_1;var rb,n,GM=aA("Opera"),Z_=aA("Trident")||aA("MSIE"),aI=aA("Edge"),lI=aI||Z_,qM=aA("Gecko")&&!(-1!=ib().toLowerCase().indexOf("webkit")&&!aA("Edge"))&&!(aA("Trident")||aA("MSIE"))&&!aA("Edge"),KM=-1!=ib().toLowerCase().indexOf("webkit")&&!aA("Edge");function ZM(){var n=Hi.document;return n?n.documentMode:void 0}e:{var sb="",ob=(n=ib(),qM?/rv:([^\);]+)(\)|;)/.exec(n):aI?/Edge\/([\d\.]+)/.exec(n):Z_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):KM?/WebKit\/(\S+)/.exec(n):GM?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ob&&(sb=ob?ob[1]:""),Z_){var cI=ZM();if(null!=cI&&cI>parseFloat(sb)){rb=String(cI);break e}}rb=sb}var b1={};var x1=Hi.document&&Z_&&(ZM()||parseInt(rb,10))||void 0;function im(n,t){if(ca.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(qM){e:{try{w1(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:uI[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&im.X.h.call(this)}}Go(im,ca);var uI={2:"touch",3:"pen",4:"mouse"};im.prototype.h=function(){im.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Kv="closure_listenable_"+(1e6*Math.random()|0),dI=0;function YM(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=r,this.key=++dI,this.ba=this.ea=!1}function lb(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function cb(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function S1(n){const t={};for(const e in n)t[e]=n[e];return t}const $M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hI(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<$M.length;s++)e=$M[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function ub(n){this.src=n,this.g={},this.h=0}function E1(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=q_(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(lb(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function I1(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ba&&s.listener==t&&s.capture==!!e&&s.ha==i)return r}return-1}ub.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var a=I1(n,t,i,r);return-1<a?(t=n[a],e||(t.ea=!1)):((t=new YM(t,this.src,s,!!i,r)).ea=e,n.push(t)),t};var AI="closure_lm_"+(1e6*Math.random()|0),D1={};function fI(n,t,e,i,r){if(i&&i.once)return gI(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)fI(n,t[s],e,i,r);return null}return e=k1(e),n&&n[Kv]?n.N(t,e,nb(i)?!!i.capture:!!i,r):T1(n,t,e,!1,i,r)}function T1(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var a=nb(r)?!!r.capture:!!r,l=B1(n);if(l||(n[AI]=l=new ub(n)),(e=l.add(t,e,i,a,s)).proxy)return e;if(i=function pI(){const t=JM;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)qv||(r=a),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(_I(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function gI(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)gI(n,t[s],e,i,r);return null}return e=k1(e),n&&n[Kv]?n.O(t,e,nb(i)?!!i.capture:!!i,r):T1(n,t,e,!0,i,r)}function mI(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)mI(n,t[s],e,i,r);else i=nb(i)?!!i.capture:!!i,e=k1(e),n&&n[Kv]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=I1(s=n.g[t],e,i,r))&&(lb(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=B1(n))&&(t=n.g[t.toString()],n=-1,t&&(n=I1(t,e,i,r)),(e=-1<n?t[n]:null)&&M1(e))}function M1(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[Kv])E1(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(_I(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=B1(t))?(E1(e,n),0==e.h&&(e.src=null,t[AI]=null)):lb(n)}}}function _I(n){return n in D1?D1[n]:D1[n]="on"+n}function JM(n,t){if(n.ba)n=!0;else{t=new im(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&M1(n),n=e.call(i,t)}return n}function B1(n){return(n=n[AI])instanceof ub?n:null}var F1="__closure_events_fn_"+(1e9*Math.random()>>>0);function k1(n){return"function"==typeof n?n:(n[F1]||(n[F1]=function(t){return n.handleEvent(t)}),n[F1])}function ua(){rd.call(this),this.i=new ub(this),this.P=this,this.I=null}function ho(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new ca(t,n);else if(t instanceof ca)t.target=t.target||n;else{var r=t;hI(t=new ca(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var a=t.g=e[s];r=R1(a,i,!0,t)&&r}if(r=R1(a=t.g=n,i,!0,t)&&r,r=R1(a,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=R1(a=t.g=e[s],i,!1,t)&&r}function R1(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ba&&a.capture==e){var l=a.listener,d=a.ha||a.src;a.ea&&E1(n.i,a),r=!1!==l.call(d,i)&&r}}return r&&!i.defaultPrevented}Go(ua,rd),ua.prototype[Kv]=!0,ua.prototype.removeEventListener=function(n,t,e,i){mI(this,n,t,e,i)},ua.prototype.M=function(){if(ua.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)lb(e[i]);delete n.g[t],n.h--}}this.I=null},ua.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},ua.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var yI=Hi.JSON.stringify;function vI(){var n=CI;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var XM,O1=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new uN,n=>n.reset());class uN{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function wI(n){Hi.setTimeout(()=>{throw n},0)}function dN(n,t){XM||function hN(){var n=Hi.Promise.resolve(void 0);XM=function(){n.then(AN)}}(),bI||(XM(),bI=!0),CI.add(n,t)}var bI=!1,CI=new class W_{constructor(){this.h=this.g=null}add(t,e){const i=O1.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function AN(){for(var n;n=vI();){try{n.h.call(n.g)}catch(e){wI(e)}var t=O1;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}bI=!1}function qo(n,t){ua.call(this),this.h=n||1,this.g=t||Hi,this.j=ks(this.lb,this),this.l=Date.now()}function L1(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function xI(n,t,e){if("function"==typeof n)e&&(n=ks(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ks(n.handleEvent,n)}return 2147483647<Number(t)?-1:Hi.setTimeout(n,t||0)}function eB(n){n.g=xI(()=>{n.g=null,n.i&&(n.i=!1,eB(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Go(qo,ua),(ti=qo.prototype).ca=!1,ti.R=null,ti.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ho(this,"tick"),this.ca&&(L1(this),this.start()))}},ti.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ti.M=function(){qo.X.M.call(this),L1(this),delete this.g};class tB extends rd{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:eB(this)}M(){super.M(),this.g&&(Hi.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function db(n){rd.call(this),this.h=n,this.g={}}Go(db,rd);var SI=[];function EI(n,t,e,i){Array.isArray(e)||(e&&(SI[0]=e.toString()),e=SI);for(var r=0;r<e.length;r++){var s=fI(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function Y_(n){cb(n.g,function(t,e){this.g.hasOwnProperty(e)&&M1(t)},n),n.g={}}function P1(){this.g=!0}function Zv(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function p8(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<r.length;a++)r[a]=""}}}return yI(e)}catch{return t}}(n,e)+(i?" "+i:"")})}db.prototype.M=function(){db.X.M.call(this),Y_(this)},db.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},P1.prototype.Aa=function(){this.g=!1},P1.prototype.info=function(){};var Ip={},N1=null;function sd(){return N1=N1||new ua}function rB(n){ca.call(this,Ip.Pa,n)}function hb(n){const t=sd();ho(t,new rB(t))}function lA(n,t){ca.call(this,Ip.STAT_EVENT,n),this.stat=t}function to(n){const t=sd();ho(t,new lA(t,n))}function oh(n,t){ca.call(this,Ip.Qa,n),this.size=t}function Wv(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Hi.setTimeout(function(){n()},t)}Ip.Pa="serverreachability",Go(rB,ca),Ip.STAT_EVENT="statevent",Go(lA,ca),Ip.Qa="timingevent",Go(oh,ca);var Ab={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},sB={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function II(){}function aB(){}II.prototype.h=null;var U1,$_={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function J_(){ca.call(this,"d")}function DI(){ca.call(this,"c")}function H1(){}function Yv(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new db(this),this.O=Q1,this.T=new qo(n=lI?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new TI}function TI(){this.i=null,this.g="",this.h=!1}Go(J_,ca),Go(DI,ca),Go(H1,II),H1.prototype.g=function(){return new XMLHttpRequest},H1.prototype.i=function(){return{}},U1=new H1;var Q1=45e3,MI={},fb={};function V1(n,t,e){n.K=1,n.v=Z1(Dp(t)),n.s=e,n.P=!0,j1(n,null)}function j1(n,t){n.F=Date.now(),$v(n),n.A=Dp(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),RI(e.i,"t",i),n.C=0,e=n.l.H,n.h=new TI,n.g=xN(n.l,e?t:null,!n.s),0<n.N&&(n.L=new tB(ks(n.La,n,n.g),n.N)),EI(n.S,n.g,"readystatechange",n.ib),t=n.H?S1(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),hb(),function fN(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var a="",l=s.split("&"),d=0;d<l.length;d++){var A=l[d].split("=");if(1<A.length){var p=A[0];A=A[1];var _=p.split("_");a=2<=_.length&&"type"==_[1]?a+(p+"=")+A+"&":a+(p+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+a})}(n.j,n.u,n.A,n.m,n.U,n.s)}function pb(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function z1(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=lB(n,e),r==fb){4==t&&(n.o=4,to(14),i=!1),Zv(n.j,n.m,null,"[Incomplete Response]");break}if(r==MI){n.o=4,to(15),Zv(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Zv(n.j,n.m,r,null),G1(n,r)}pb(n)&&r!=fb&&r!=MI&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,to(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),rx(t),t.K=!0,to(11))):(Zv(n.j,n.m,e,"[Invalid Chunked Response]"),rm(n),Jv(n))}function lB(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?fb:(e=Number(t.substring(e,i)),isNaN(e)?MI:(i+=1)+e>t.length?fb:(t=t.substr(i,e),n.C=i+e,t))}function $v(n){n.V=Date.now()+n.O,BI(n,n.O)}function BI(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Wv(ks(n.gb,n),t)}function gb(n){n.B&&(Hi.clearTimeout(n.B),n.B=null)}function Jv(n){0==n.l.G||n.I||jI(n.l,n)}function rm(n){gb(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,L1(n.T),Y_(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function G1(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||sm(e.h,n)))if(!n.J&&sm(e.h,n)&&3==e.G){try{var i=e.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;sx(e),bb(e)}ix(e),to(18)}}else e.Ba=r[1],0<e.Ba-e.T&&37500>r[2]&&e.L&&0==e.A&&!e.v&&(e.v=Wv(ks(e.cb,e),6e3));if(1>=_B(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else ny(e,11)}else if((n.J||e.g==n)&&sx(e),!Ep(t))for(r=e.Fa.g.parse(t),t=0;t<r.length;t++){let A=r[t];if(e.T=A[0],A=A[1],2==e.G)if("c"==A[0]){e.I=A[1],e.ka=A[2];const p=A[3];null!=p&&(e.ma=p,e.j.info("VER="+e.ma));const _=A[4];null!=_&&(e.Ca=_,e.j.info("SVER="+e.Ca));const x=A[5];null!=x&&"number"==typeof x&&0<x&&(e.J=i=1.5*x,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const C=n.g;if(C){const F=C.g?C.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(F){var s=i.h;s.g||-1==F.indexOf("spdy")&&-1==F.indexOf("quic")&&-1==F.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(yB(s,s.h),s.h=null))}if(i.D){const R=C.g?C.g.getResponseHeader("X-HTTP-Session-Id"):null;R&&(i.za=R,Ao(i.F,i.D,R))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var a=n;if((i=e).sa=CN(i,i.H?i.ka:null,i.V),a.J){Y1(i.h,a);var l=a,d=i.J;d&&l.setTimeout(d),l.B&&(gb(l),$v(l)),i.g=a}else IB(i);0<e.i.length&&nx(e)}else"stop"!=A[0]&&"close"!=A[0]||ny(e,7);else 3==e.G&&("stop"==A[0]||"close"==A[0]?"stop"==A[0]?ny(e,7):tx(e):"noop"!=A[0]&&e.l&&e.l.wa(A),e.A=0)}hb()}catch{}}function uB(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(jv(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function pN(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(jv(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function cB(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(jv(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(ti=Yv.prototype).setTimeout=function(n){this.O=n},ti.ib=function(n){n=n.target;const t=this.L;t&&3==Mp(n)?t.l():this.La(n)},ti.La=function(n){try{if(n==this.g)e:{const p=Mp(this.g);var t=this.g.Ea();if(this.g.aa(),!(3>p)&&(3!=p||lI||this.g&&(this.h.h||this.g.fa()||e0(this.g)))){this.I||4!=p||7==t||hb(),gb(this);var e=this.g.aa();this.Y=e;t:if(pb(this)){var i=e0(this.g);n="";var r=i.length,s=4==Mp(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){rm(this),Jv(this);var a="";break t}this.h.i=new Hi.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,a=this.h.g}else a=this.g.fa();if(this.i=200==e,function nB(n,t,e,i,r,s,a){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.U,p,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var l,d=this.g;if((l=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ep(l)){var A=l;break t}}A=null}if(!(e=A)){this.i=!1,this.o=3,to(12),rm(this),Jv(this);break e}Zv(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,G1(this,e)}this.P?(z1(this,p,a),lI&&this.i&&3==p&&(EI(this.S,this.T,"tick",this.hb),this.T.start())):(Zv(this.j,this.m,a,null),G1(this,a)),4==p&&rm(this),this.i&&!this.I&&(4==p?jI(this.l,this):(this.i=!1,$v(this)))}else 400==e&&0<a.indexOf("Unknown SID")?(this.o=3,to(12)):(this.o=0,to(13)),rm(this),Jv(this)}}}catch{}},ti.hb=function(){if(this.g){var n=Mp(this.g),t=this.g.fa();this.C<t.length&&(gb(this),z1(this,n,t),this.i&&4!=n&&$v(this))}},ti.cancel=function(){this.I=!0,rm(this)},ti.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function iB(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(hb(),to(17)),rm(this),this.o=2,Jv(this)):BI(this,this.V-n)};var dB=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function X_(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof X_){this.h=void 0!==t?t:n.h,q1(this,n.j),this.s=n.s,this.g=n.g,K1(this,n.m),this.l=n.l,t=n.i;var e=new Xv;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),hB(this,e),this.o=n.o}else n&&(e=String(n).match(dB))?(this.h=!!t,q1(this,e[1]||"",!0),this.s=mb(e[2]||""),this.g=mb(e[3]||"",!0),K1(this,e[4]),this.l=mb(e[5]||"",!0),hB(this,e[6]||"",!0),this.o=mb(e[7]||"")):(this.h=!!t,this.i=new Xv(null,this.h))}function Dp(n){return new X_(n)}function q1(n,t,e){n.j=e?mb(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function K1(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function hB(n,t,e){t instanceof Xv?(n.i=t,function gB(n,t){t&&!n.j&&(Tp(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(FI(this,i),RI(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=_b(t,fB)),n.i=new Xv(t,n.h))}function Ao(n,t,e){n.i.set(t,e)}function Z1(n){return Ao(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function mb(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function _b(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,mN),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function mN(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}X_.prototype.toString=function(){var n=[],t=this.j;t&&n.push(_b(t,AB,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(_b(t,AB,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(_b(e,"/"==e.charAt(0)?yN:_N,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",_b(e,pB)),n.join("")};var AB=/[#\/\?@]/g,_N=/[#\?:]/g,yN=/[#\?]/g,fB=/[#\?@]/g,pB=/#/g;function Xv(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Tp(n){n.g||(n.g=new Map,n.h=0,n.i&&function gN(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function FI(n,t){Tp(n),t=ey(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function kI(n,t){return Tp(n),t=ey(n,t),n.g.has(t)}function RI(n,t,e){FI(n,t),0<e.length&&(n.i=null,n.g.set(ey(n,t),nm(e)),n.h+=e.length)}function ey(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function W1(n){this.l=n||ty,n=Hi.PerformanceNavigationTiming?0<(n=Hi.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Hi.g&&Hi.g.Ga&&Hi.g.Ga()&&Hi.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ti=Xv.prototype).add=function(n,t){Tp(this),this.i=null,n=ey(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},ti.forEach=function(n,t){Tp(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},ti.oa=function(){Tp(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},ti.W=function(n){Tp(this);let t=[];if("string"==typeof n)kI(this,n)&&(t=t.concat(this.g.get(ey(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},ti.set=function(n,t){return Tp(this),this.i=null,kI(this,n=ey(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},ti.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},ti.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),a=this.W(i);for(i=0;i<a.length;i++){var r=s;""!==a[i]&&(r+="="+encodeURIComponent(String(a[i]))),n.push(r)}}return this.i=n.join("&")};var ty=10;function mB(n){return!!n.h||!!n.g&&n.g.size>=n.j}function _B(n){return n.h?1:n.g?n.g.size:0}function sm(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function yB(n,t){n.g?n.g.add(t):n.h=t}function Y1(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function vN(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return nm(n.i)}function $1(){}function vB(){this.g=new $1}function g8(n,t,e){const i=e||"";try{uB(n,function(r,s){let a=r;nb(r)&&(a=yI(r)),t.push(i+s+"="+encodeURIComponent(a))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function J1(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function yb(n){this.l=n.ac||null,this.j=n.jb||!1}function X1(n,t){ua.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=om,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}W1.prototype.cancel=function(){if(this.i=vN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},$1.prototype.stringify=function(n){return Hi.JSON.stringify(n,void 0)},$1.prototype.parse=function(n){return Hi.JSON.parse(n,void 0)},Go(yb,II),yb.prototype.g=function(){return new X1(this.l,this.j)},yb.prototype.i=function(n){return function(){return n}}({}),Go(X1,ua);var om=0;function wB(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function am(n){n.readyState=4,n.l=null,n.j=null,n.A=null,lm(n)}function lm(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ti=X1.prototype).open=function(n,t){if(this.readyState!=om)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,lm(this)},ti.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Hi).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},ti.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,am(this)),this.readyState=om},ti.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,lm(this)),this.g&&(this.readyState=3,lm(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Hi.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wB(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},ti.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?am(this):lm(this),3==this.readyState&&wB(this)}},ti.Va=function(n){this.g&&(this.response=this.responseText=n,am(this))},ti.Ua=function(n){this.g&&(this.response=n,am(this))},ti.ga=function(){this.g&&am(this)},ti.setRequestHeader=function(n,t){this.v.append(n,t)},ti.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ti.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(X1.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Ko=Hi.JSON.parse;function da(n){ua.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=LI,this.K=this.L=!1}Go(da,ua);var LI="",bB=/^https?$/i,wN=["POST","PUT"];function PI(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,NI(n),ex(n)}function NI(n){n.D||(n.D=!0,ho(n,"complete"),ho(n,"error"))}function UI(n){if(n.h&&typeof j_<"u"&&(!n.C[1]||4!=Mp(n)||2!=n.aa()))if(n.v&&4==Mp(n))xI(n.Ha,0,n);else if(ho(n,"readystatechange"),4==Mp(n)){n.h=!1;try{const l=n.aa();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===l){var r=String(n.H).match(dB)[1]||null;if(!r&&Hi.self&&Hi.self.location){var s=Hi.self.location.protocol;r=s.substr(0,s.length-1)}i=!bB.test(r?r.toLowerCase():"")}e=i}if(e)ho(n,"complete"),ho(n,"success");else{n.m=6;try{var a=2<Mp(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.aa()+"]",NI(n)}}finally{ex(n)}}}function ex(n,t){if(n.g){xB(n);const e=n.g,i=n.C[0]?_1:null;n.g=null,n.C=null,t||ho(n,"ready");try{e.onreadystatechange=i}catch{}}}function xB(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Hi.clearTimeout(n.A),n.A=null)}function Mp(n){return n.g?n.g.readyState:0}function e0(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case LI:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function SB(n){let t="";return cb(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function HI(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=SB(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Ao(n,t,e))}function vb(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function wb(n){this.Ca=0,this.i=[],this.j=new P1,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=vb("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=vb("baseRetryDelayMs",5e3,n),this.bb=vb("retryDelaySeedMs",1e4,n),this.$a=vb("forwardChannelMaxRetries",2,n),this.ta=vb("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new W1(n&&n.concurrentRequestLimit),this.Fa=new vB,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function tx(n){if(QI(n),3==n.G){var t=n.U++,e=Dp(n.F);Ao(e,"SID",n.I),Ao(e,"RID",t),Ao(e,"TYPE","terminate"),xb(n,e),(t=new Yv(n,n.j,t,void 0)).K=2,t.v=Z1(Dp(e)),e=!1,Hi.navigator&&Hi.navigator.sendBeacon&&(e=Hi.navigator.sendBeacon(t.v.toString(),"")),!e&&Hi.Image&&((new Image).src=t.v,e=!0),e||(t.g=xN(t.l,null),t.g.da(t.v)),t.F=Date.now(),$v(t)}bN(n)}function bb(n){n.g&&(rx(n),n.g.cancel(),n.g=null)}function QI(n){bb(n),n.u&&(Hi.clearTimeout(n.u),n.u=null),sx(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Hi.clearTimeout(n.m),n.m=null)}function nx(n){mB(n.h)||n.m||(n.m=!0,dN(n.Ja,n),n.C=0)}function t0(n,t){var e;e=t?t.m:n.U++;const i=Dp(n.F);Ao(i,"SID",n.I),Ao(i,"RID",e),Ao(i,"AID",n.T),xb(n,i),n.o&&n.s&&HI(i,n.o,n.s),e=new Yv(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=EB(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),yB(n.h,e),V1(e,i,t)}function xb(n,t){n.ia&&cb(n.ia,function(e,i){Ao(t,i,e)}),n.l&&uB({},function(e,i){Ao(t,i,e)})}function EB(n,t,e){e=Math.min(n.i.length,e);var i=n.l?ks(n.l.Ra,n.l,n):null;e:{var r=n.i;let s=-1;for(;;){const a=["count="+e];-1==s?0<e?(s=r[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);let l=!0;for(let d=0;d<e;d++){let A=r[d].h;const p=r[d].g;if(A-=s,0>A)s=Math.max(0,r[d].h-100),l=!1;else try{g8(p,a,"req"+A+"_")}catch{i&&i(p)}}if(l){i=a.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,i}function IB(n){n.g||n.u||(n.Z=1,dN(n.Ia,n),n.A=0)}function ix(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Wv(ks(n.Ia,n),DB(n,n.A)),n.A++,0))}function rx(n){null!=n.B&&(Hi.clearTimeout(n.B),n.B=null)}function VI(n){n.g=new Yv(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=Dp(n.sa);Ao(t,"RID","rpc"),Ao(t,"SID",n.I),Ao(t,"CI",n.L?"0":"1"),Ao(t,"AID",n.T),Ao(t,"TYPE","xmlhttp"),xb(n,t),n.o&&n.s&&HI(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=Z1(Dp(t)),e.s=null,e.P=!0,j1(e,n)}function sx(n){null!=n.v&&(Hi.clearTimeout(n.v),n.v=null)}function jI(n,t){var e=null;if(n.g==t){sx(n),rx(n),n.g=null;var i=2}else{if(!sm(n.h,t))return;e=t.D,Y1(n.h,t),i=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;ho(i=sd(),new oh(i,e)),nx(n)}else IB(n);else if(3==(r=t.o)||0==r&&0<n.pa||!(1==i&&function Cb(n,t){return!(_B(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Wv(ks(n.Ja,n,t),DB(n,n.C)),n.C++,0)))}(n,t)||2==i&&ix(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:ny(n,5);break;case 4:ny(n,10);break;case 3:ny(n,6);break;default:ny(n,2)}}function DB(n,t){let e=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(e*=2),e*t}function ny(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=ks(n.kb,n);e||(e=new X_("//www.google.com/images/cleardot.gif"),Hi.location&&"http"==Hi.location.protocol||q1(e,"https"),Z1(e)),function gi(n,t){const e=new P1;if(Hi.Image){const i=new Image;i.onload=zv(J1,e,i,"TestLoadImage: loaded",!0,t),i.onerror=zv(J1,e,i,"TestLoadImage: error",!1,t),i.onabort=zv(J1,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=zv(J1,e,i,"TestLoadImage: timeout",!1,t),Hi.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else to(2);n.G=0,n.l&&n.l.va(t),bN(n),QI(n)}function bN(n){if(n.G=0,n.la=[],n.l){const t=vN(n.h);(0!=t.length||0!=n.i.length)&&(K_(n.la,t),K_(n.la,n.i),n.h.i.length=0,nm(n.i),n.i.length=0),n.l.ua()}}function CN(n,t,e){var i=e instanceof X_?Dp(e):new X_(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),K1(i,i.m);else{var r=Hi.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new X_(null,void 0);i&&q1(s,i),t&&(s.g=t),r&&K1(s,r),e&&(s.l=e),i=s}return t=n.za,(e=n.D)&&t&&Ao(i,e,t),Ao(i,"VER",n.ma),xb(n,i),i}function xN(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new da(e&&n.Da&&!n.ra?new yb({jb:!0}):n.ra)).Ka(n.H),t}function SN(){}function zI(){if(Z_&&!(10<=Number(x1)))throw Error("Environmental error: no available transport.")}function ah(n,t){ua.call(this),this.g=new wb(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Yb)&&!Ep(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ep(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new n0(this)}function GI(n){J_.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function Sb(){DI.call(this),this.status=1}function n0(n){this.g=n}(ti=da.prototype).Ka=function(n){this.L=n},ti.da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():U1.g(),this.C=function oB(n){return n.h||(n.h=n.i())}(this.u?this.u:U1),this.g.onreadystatechange=ks(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){return void PI(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=Hi.FormData&&n instanceof Hi.FormData,!(0<=q_(wN,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of e)this.g.setRequestHeader(s,a);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{xB(this),0<this.B&&((this.K=function CB(n){return Z_&&function C1(){return function zM(n){var t=b1;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=oI(String(rb)).split("."),e=oI("9").split("."),i=Math.max(t.length,e.length);for(let a=0;0==n&&a<i;a++){var r=t[a]||"",s=e[a]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=v1(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||v1(0==r[2].length,0==s[2].length)||v1(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ks(this.qa,this)):this.A=xI(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){PI(this,s)}},ti.qa=function(){typeof j_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ho(this,"timeout"),this.abort(8))},ti.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ho(this,"complete"),ho(this,"abort"),ex(this))},ti.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ex(this,!0)),da.X.M.call(this)},ti.Ha=function(){this.s||(this.F||this.v||this.l?UI(this):this.fb())},ti.fb=function(){UI(this)},ti.aa=function(){try{return 2<Mp(this)?this.g.status:-1}catch{return-1}},ti.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},ti.Sa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),Ko(t)}},ti.Ea=function(){return this.m},ti.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ti=wb.prototype).ma=8,ti.G=1,ti.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new Yv(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=S1(s),hI(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=EB(this,r,t),Ao(e=Dp(this.F),"RID",n),Ao(e,"CVER",22),this.D&&Ao(e,"X-HTTP-Session-Id",this.D),xb(this,e),s&&(this.N?t="headers="+encodeURIComponent(String(SB(s)))+"&"+t:this.o&&HI(e,this.o,s)),yB(this.h,r),this.Ya&&Ao(e,"TYPE","init"),this.O?(Ao(e,"$req",t),Ao(e,"SID","null"),r.Z=!0,V1(r,e,null)):V1(r,e,t),this.G=2}}else 3==this.G&&(n?t0(this,n):0==this.i.length||mB(this.h)||t0(this))},ti.Ia=function(){if(this.u=null,VI(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Wv(ks(this.eb,this),n)}},ti.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,to(10),bb(this),VI(this))},ti.cb=function(){null!=this.v&&(this.v=null,bb(this),ix(this),to(19))},ti.kb=function(n){n?(this.j.info("Successfully pinged google.com"),to(2)):(this.j.info("Failed to ping google.com"),to(1))},(ti=SN.prototype).xa=function(){},ti.wa=function(){},ti.va=function(){},ti.ua=function(){},ti.Ra=function(){},zI.prototype.g=function(n,t){return new ah(n,t)},Go(ah,ua),ah.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;to(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=CN(n,null,n.V),nx(n)},ah.prototype.close=function(){tx(this.g)},ah.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=yI(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.ab++,n)),3==t.G&&nx(t)},ah.prototype.M=function(){this.g.l=null,delete this.j,tx(this.g),delete this.g,ah.X.M.call(this)},Go(GI,J_),Go(Sb,DI),Go(n0,SN),n0.prototype.xa=function(){ho(this.g,"a")},n0.prototype.wa=function(n){ho(this.g,new GI(n))},n0.prototype.va=function(n){ho(this.g,new Sb)},n0.prototype.ua=function(){ho(this.g,"b")},zI.prototype.createWebChannel=zI.prototype.g,ah.prototype.send=ah.prototype.u,ah.prototype.open=ah.prototype.m,ah.prototype.close=ah.prototype.close,Ab.NO_ERROR=0,Ab.TIMEOUT=8,Ab.HTTP_ERROR=6,sB.COMPLETE="complete",aB.EventType=$_,$_.OPEN="a",$_.CLOSE="b",$_.ERROR="c",$_.MESSAGE="d",ua.prototype.listen=ua.prototype.N,da.prototype.listenOnce=da.prototype.O,da.prototype.getLastError=da.prototype.Oa,da.prototype.getLastErrorCode=da.prototype.Ea,da.prototype.getStatus=da.prototype.aa,da.prototype.getResponseJson=da.prototype.Sa,da.prototype.getResponseText=da.prototype.fa,da.prototype.send=da.prototype.da,da.prototype.setWithCredentials=da.prototype.Ka;var EN=Qc.createWebChannelTransport=function(){return new zI},TB=Qc.getStatEventTarget=function(){return sd()},iy=Qc.ErrorCode=Ab,IN=Qc.EventType=sB,DN=Qc.Event=Ip,MB=Qc.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},TN=Qc.FetchXmlHttpFactory=yb,ox=Qc.WebChannel=aB,BB=Qc.XhrIo=da;const FB="@firebase/firestore";class vl{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}vl.UNAUTHENTICATED=new vl(null),vl.GOOGLE_CREDENTIALS=new vl("google-credentials-uid"),vl.FIRST_PARTY=new vl("first-party-uid"),vl.MOCK_USER=new vl("mock-user");let uf="9.14.0";const cm=new lf.Yd("@firebase/firestore");function ax(){return cm.logLevel}function en(n,...t){if(cm.logLevel<=lf.in.DEBUG){const e=t.map(qI);cm.debug(`Firestore (${uf}): ${n}`,...e)}}function ha(n,...t){if(cm.logLevel<=lf.in.ERROR){const e=t.map(qI);cm.error(`Firestore (${uf}): ${n}`,...e)}}function um(n,...t){if(cm.logLevel<=lf.in.WARN){const e=t.map(qI);cm.warn(`Firestore (${uf}): ${n}`,...e)}}function qI(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function qn(n="Unexpected state"){const t=`FIRESTORE (${uf}) INTERNAL ASSERTION FAILED: `+n;throw ha(t),new Error(t)}function Ci(n,t){n||qn()}function wn(n,t){return n}const wt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Zt extends he.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xa{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class lx{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class BN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(vl.UNAUTHENTICATED))}shutdown(){}}class RB{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class FN{constructor(t){this.t=t,this.currentUser=vl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=A=>this.i!==r?(r=this.i,e(A)):Promise.resolve();let a=new Xa;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Xa,t.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const A=a;t.enqueueRetryable((0,Tt.Z)(function*(){yield A.promise,yield s(i.currentUser)}))},d=A=>{en("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=A,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(A=>d(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?d(A):(en("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Xa)}},0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(en("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ci("string"==typeof i.accessToken),new lx(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ci(null===t||"string"==typeof t),new vl(t)}}class kN{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=vl.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ci(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class RN{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new kN(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(vl.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class OB{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ON{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=s=>{null!=s.error&&en("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.A;return this.A=s.token,en("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{en("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):en("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Ci("string"==typeof e.token),this.A=e.token,new OB(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function LN(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class LB{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=LN(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function Oi(n,t){return n<t?-1:n>t?1:0}function ry(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function PB(n){return n+"\0"}class fo{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Zt(wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Zt(wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Zt(wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Zt(wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return fo.fromMillis(Date.now())}static fromDate(t){return fo.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new fo(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Oi(this.nanoseconds,t.nanoseconds):Oi(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class vi{constructor(t){this.timestamp=t}static fromTimestamp(t){return new vi(t)}static min(){return new vi(new fo(0,0))}static max(){return new vi(new fo(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Eb{constructor(t,e,i){void 0===e?e=0:e>t.length&&qn(),void 0===i?i=t.length-e:i>t.length-e&&qn(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Eb.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Eb?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),a=e.get(r);if(s<a)return-1;if(s>a)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class kr extends Eb{construct(t,e,i){return new kr(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Zt(wt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new kr(e)}static emptyPath(){return new kr([])}}const PN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class po extends Eb{construct(t,e,i){return new po(t,e,i)}static isValidIdentifier(t){return PN.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),po.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new po(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Zt(wt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let a=!1;for(;r<t.length;){const l=t[r];if("\\"===l){if(r+1===t.length)throw new Zt(wt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[r+1];if("\\"!==d&&"."!==d&&"`"!==d)throw new Zt(wt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=d,r+=2}else"`"===l?(a=!a,r++):"."!==l||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new Zt(wt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new po(e)}static emptyPath(){return new po([])}}class mn{constructor(t){this.path=t}static fromPath(t){return new mn(kr.fromString(t))}static fromName(t){return new mn(kr.fromString(t).popFirst(5))}static empty(){return new mn(kr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===kr.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return kr.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mn(new kr(t.slice()))}}class Ib{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function Db(n){return n.fields.find(t=>2===t.kind)}function sy(n){return n.fields.filter(t=>2!==t.kind)}Ib.UNKNOWN_ID=-1;class r0{constructor(t,e){this.fieldPath=t,this.kind=e}}class s0{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new s0(0,od.min())}}function oy(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=vi.fromTimestamp(1e9===i?new fo(e+1,0):new fo(e,i));return new od(r,mn.empty(),t)}function KI(n){return new od(n.readTime,n.key,-1)}class od{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new od(vi.min(),mn.empty(),-1)}static max(){return new od(vi.max(),mn.empty(),-1)}}function NB(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=mn.comparator(n.documentKey,t.documentKey),0!==e?e:Oi(n.largestBatchId,t.largestBatchId))}const ZI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function dm(n){return Tb.apply(this,arguments)}function Tb(){return Tb=(0,Tt.Z)(function*(n){if(n.code!==wt.FAILED_PRECONDITION||n.message!==ZI)throw n;en("LocalStore","Unexpectedly lost primary lease")}),Tb.apply(this,arguments)}class gt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&qn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new gt((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof gt?e:gt.resolve(e)}catch(e){return gt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):gt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):gt.reject(e)}static resolve(t){return new gt((e,i)=>{e(t)})}static reject(t){return new gt((e,i)=>{i(t)})}static waitFor(t){return new gt((e,i)=>{let r=0,s=0,a=!1;t.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&e()},d=>i(d))}),a=!0,s===r&&e()})}static or(t){let e=gt.resolve(!1);for(const i of t)e=e.next(r=>r?gt.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new gt((i,r)=>{const s=t.length,a=new Array(s);let l=0;for(let d=0;d<s;d++){const A=d;e(t[A]).next(p=>{a[A]=p,++l,l===s&&i(a)},p=>r(p))}})}static doWhile(t,e){return new gt((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class Mb{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new Xa,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new o0(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=WI(i.target.error);this.P.reject(new o0(t,r))}}static open(t,e,i,r){try{return new Mb(e,t.transaction(r,i))}catch(s){throw new o0(e,s)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(en("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new HB(e)}}class ad{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===ad.D((0,he.z$)())&&ha("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return en("SimpleDb","Removing database:",t),ay(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,he.hl)())return!1;if(ad.N())return!0;const t=(0,he.z$)(),e=ad.D(t),i=0<e&&e<10,r=ad.k(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.O)}static M(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(t){var e=this;return(0,Tt.Z)(function*(){return e.db||(en("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=a=>{i(a.target.result)},s.onblocked=()=>{r(new o0(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=a=>{const l=a.target.error;r("VersionError"===l.name?new Zt(wt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===l.name?new Zt(wt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l):new o0(t,l))},s.onupgradeneeded=a=>{en("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',a.oldVersion),e.S.$(a.target.result,s.transaction,a.oldVersion,e.version).next(()=>{en("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,Tt.Z)(function*(){const a="readonly"===e;let l=0;for(;;){++l;try{s.db=yield s.F(t);const d=Mb.open(s.db,t,a?"readonly":"readwrite",i),A=r(d).next(p=>(d.V(),p)).catch(p=>(d.abort(p),gt.reject(p))).toPromise();return A.catch(()=>{}),yield d.v,A}catch(d){const A=d,p="FirebaseError"!==A.name&&l<3;if(en("SimpleDb","Transaction failed with error:",A.message,"Retrying:",p),s.close(),!p)return Promise.reject(A)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class UB{constructor(t){this.U=t,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(t){this.U=t}done(){this.q=!0}j(t){this.K=t}delete(){return ay(this.U.delete())}}class o0 extends Zt{constructor(t,e){super(wt.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Bp(n){return"IndexedDbTransactionError"===n.name}class HB{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(en("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(en("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),ay(i)}add(t){return en("SimpleDb","ADD",this.store.name,t,t),ay(this.store.add(t))}get(t){return ay(this.store.get(t)).next(e=>(void 0===e&&(e=null),en("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return en("SimpleDb","DELETE",this.store.name,t),ay(this.store.delete(t))}count(){return en("SimpleDb","COUNT",this.store.name),ay(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.H(r,(a,l)=>{s.push(l)}).next(()=>s)}{const r=this.store.getAll(i.range);return new gt((s,a)=>{r.onerror=l=>{a(l.target.error)},r.onsuccess=l=>{s(l.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new gt((r,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{r(a.target.result)}})}Y(t,e){en("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const r=this.cursor(i);return this.H(r,(s,a,l)=>l.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.H(r,e)}tt(t){const e=this.cursor({});return new gt((i,r)=>{e.onerror=s=>{const a=WI(s.target.error);r(a)},e.onsuccess=s=>{const a=s.target.result;a?t(a.primaryKey,a.value).next(l=>{l?a.continue():i()}):i()}})}H(t,e){const i=[];return new gt((r,s)=>{t.onerror=a=>{s(a.target.error)},t.onsuccess=a=>{const l=a.target.result;if(!l)return void r();const d=new UB(l),A=e(l.primaryKey,l.value,d);if(A instanceof gt){const p=A.catch(_=>(d.done(),gt.reject(_)));i.push(p)}d.isDone?r():null===d.G?l.continue():l.continue(d.G)}}).next(()=>gt.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function ay(n){return new gt((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=WI(i.target.error);e(r)}})}let QB=!1;function WI(n){const t=ad.D((0,he.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Zt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return QB||(QB=!0,setTimeout(()=>{throw i},0)),i}}return n}class HN{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;en("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Tt.Z)(function*(){e.task=null;try{en("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){Bp(i)?en("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield dm(i)}yield e.nt(6e4)}))}}class VB{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,Tt.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let r=e,s=!0;return gt.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(a=>{if(null!==a&&!i.has(a))return en("IndexBackiller",`Processing collection: ${a}`),this.rt(t,a,r).next(l=>{r-=l,i.add(a)});s=!1})).next(()=>e-r)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(t,a).next(()=>this.ot(r,s)).next(l=>(en("IndexBackiller",`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(t,e,l))).next(()=>a.size)}))}ot(t,e){let i=t;return e.changes.forEach((r,s)=>{const a=KI(s);NB(a,i)>0&&(i=a)}),new od(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class ld{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>e.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}function YI(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function ly(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function jB(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}ld.at=-1;class Aa{constructor(t,e){this.comparator=t,this.root=e||Hl.EMPTY}insert(t,e){return new Aa(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Hl.BLACK,null,null))}remove(t){return new Aa(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Hl.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ux(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ux(this.root,t,this.comparator,!1)}getReverseIterator(){return new ux(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ux(this.root,t,this.comparator,!0)}}class ux{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Hl{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??Hl.RED,this.left=r??Hl.EMPTY,this.right=s??Hl.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new Hl(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Hl.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Hl.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Hl.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Hl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qn();const t=this.left.check();if(t!==this.right.check())throw qn();return t+(this.isRed()?0:1)}}Hl.EMPTY=null,Hl.RED=!0,Hl.BLACK=!1,Hl.EMPTY=new class{constructor(){this.size=0}get key(){throw qn()}get value(){throw qn()}get color(){throw qn()}get left(){throw qn()}get right(){throw qn()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Hl(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fs{constructor(t){this.comparator=t,this.data=new Aa(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new $I(this.data.getIterator())}getIteratorFrom(t){return new $I(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof fs)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new fs(this.comparator);return e.data=t,e}}class $I{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function a0(n){return n.hasNext()?n.getNext():void 0}class mu{constructor(t){this.fields=t,t.sort(po.comparator)}static empty(){return new mu([])}unionWith(t){let e=new fs(po.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new mu(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return ry(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class el{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new el(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new el(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Oi(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}el.EMPTY_BYTE_STRING=new el("");const VN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hm(n){if(Ci(!!n),"string"==typeof n){let t=0;const e=VN.exec(n);if(Ci(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Zo(n.seconds),nanos:Zo(n.nanos)}}function Zo(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function cy(n){return"string"==typeof n?el.fromBase64String(n):el.fromUint8Array(n)}function uy(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function JI(n){const t=n.mapValue.fields.__previous_value__;return uy(t)?JI(t):t}function l0(n){const t=hm(n.mapValue.fields.__local_write_time__.timestampValue);return new fo(t.seconds,t.nanos)}class zB{constructor(t,e,i,r,s,a,l,d){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.useFetchStreams=d}}class Fp{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Fp("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Fp&&t.projectId===this.projectId&&t.database===this.database}}function c0(n){return null==n}function u0(n){return 0===n&&1/n==-1/0}function GB(n){return"number"==typeof n&&Number.isInteger(n)&&!u0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const dy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Bb={nullValue:"NULL_VALUE"};function Am(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?uy(n)?4:Ob(n)?9007199254740991:10:qn()}function df(n,t){if(n===t)return!0;const e=Am(n);if(e!==Am(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return l0(n).isEqual(l0(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=hm(i.timestampValue),a=hm(r.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,cy(n.bytesValue).isEqual(cy(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Zo(i.geoPointValue.latitude)===Zo(r.geoPointValue.latitude)&&Zo(i.geoPointValue.longitude)===Zo(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Zo(i.integerValue)===Zo(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Zo(i.doubleValue),a=Zo(r.doubleValue);return s===a?u0(s)===u0(a):isNaN(s)&&isNaN(a)}return!1}(n,t);case 9:return ry(n.arrayValue.values||[],t.arrayValue.values||[],df);case 10:return function(i,r){const s=i.mapValue.fields||{},a=r.mapValue.fields||{};if(YI(s)!==YI(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!df(s[l],a[l])))return!1;return!0}(n,t);default:return qn()}var r}function Fb(n,t){return void 0!==(n.values||[]).find(e=>df(e,t))}function fm(n,t){if(n===t)return 0;const e=Am(n),i=Am(t);if(e!==i)return Oi(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Oi(n.booleanValue,t.booleanValue);case 2:return function(r,s){const a=Zo(r.integerValue||r.doubleValue),l=Zo(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,t);case 3:return d0(n.timestampValue,t.timestampValue);case 4:return d0(l0(n),l0(t));case 5:return Oi(n.stringValue,t.stringValue);case 6:return function(r,s){const a=cy(r),l=cy(s);return a.compareTo(l)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const a=r.split("/"),l=s.split("/");for(let d=0;d<a.length&&d<l.length;d++){const A=Oi(a[d],l[d]);if(0!==A)return A}return Oi(a.length,l.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const a=Oi(Zo(r.latitude),Zo(s.latitude));return 0!==a?a:Oi(Zo(r.longitude),Zo(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const a=r.values||[],l=s.values||[];for(let d=0;d<a.length&&d<l.length;++d){const A=fm(a[d],l[d]);if(A)return A}return Oi(a.length,l.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===dy.mapValue&&s===dy.mapValue)return 0;if(r===dy.mapValue)return 1;if(s===dy.mapValue)return-1;const a=r.fields||{},l=Object.keys(a),d=s.fields||{},A=Object.keys(d);l.sort(),A.sort();for(let p=0;p<l.length&&p<A.length;++p){const _=Oi(l[p],A[p]);if(0!==_)return _;const x=fm(a[l[p]],d[A[p]]);if(0!==x)return x}return Oi(l.length,A.length)}(n.mapValue,t.mapValue);default:throw qn()}}function d0(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Oi(n,t);const e=hm(n),i=hm(t),r=Oi(e.seconds,i.seconds);return 0!==r?r:Oi(e.nanos,i.nanos)}function h0(n){return kb(n)}function kb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=hm(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?cy(n.bytesValue).toBase64():"referenceValue"in n?mn.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const a of i.values||[])s?s=!1:r+=",",r+=kb(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${kb(i.fields[l])}`;return s+"}"}(n.mapValue):qn();var t}function lc(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function XI(n){return!!n&&"integerValue"in n}function pm(n){return!!n&&"arrayValue"in n}function A0(n){return!!n&&"nullValue"in n}function qB(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dx(n){return!!n&&"mapValue"in n}function Rb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return ly(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Rb(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Rb(n.arrayValue.values[e]);return t}return Object.assign({},n)}function Ob(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function hx(n){return"nullValue"in n?Bb:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?lc(Fp.empty(),mn.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:qn()}function jN(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?lc(Fp.empty(),mn.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?dy:qn()}function KB(n,t){const e=fm(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function eD(n,t){const e=fm(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class wl{constructor(t){this.value=t}static empty(){return new wl({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!dx(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Rb(e)}setAll(t){let e=po.emptyPath(),i={},r=[];t.forEach((a,l)=>{if(!e.isImmediateParentOf(l)){const d=this.getFieldsMap(e);this.applyChanges(d,i,r),i={},r=[],e=l.popLast()}a?i[l.lastSegment()]=Rb(a):r.push(l.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());dx(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return df(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];dx(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){ly(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new wl(Rb(this.value))}}function Ax(n){const t=[];return ly(n.fields,(e,i)=>{const r=new po([e]);if(dx(i)){const s=Ax(i.mapValue).fields;if(0===s.length)t.push(r);else for(const a of s)t.push(r.child(a))}else t.push(r)}),new mu(t)}class Rs{constructor(t,e,i,r,s,a){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=s,this.documentState=a}static newInvalidDocument(t){return new Rs(t,0,vi.min(),vi.min(),wl.empty(),0)}static newFoundDocument(t,e,i){return new Rs(t,1,e,vi.min(),i,0)}static newNoDocument(t,e){return new Rs(t,2,e,vi.min(),wl.empty(),0)}static newUnknownDocument(t,e){return new Rs(t,3,e,vi.min(),wl.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=wl.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=wl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vi.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Rs&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Rs(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zN{constructor(t,e=null,i=[],r=[],s=null,a=null,l=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.ht=null}}function ZB(n,t=null,e=[],i=[],r=null,s=null,a=null){return new zN(n,t,e,i,r,s,a)}function f0(n){const t=wn(n);if(null===t.ht){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+h0(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),c0(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>h0(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>h0(i)).join(",")),t.ht=e}return t.ht}function hy(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!tF(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!df(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!nD(n.startAt,t.startAt)&&nD(n.endAt,t.endAt)}function Lb(n){return mn.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function p0(n,t){return n.filters.filter(e=>e instanceof Ql&&e.field.isEqual(t))}function fx(n,t,e){let i=Bb,r=!0;for(const s of p0(n,t)){let a=Bb,l=!0;switch(s.op){case"<":case"<=":a=hx(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,l=!1;break;case"!=":case"not-in":a=Bb}KB({value:i,inclusive:r},{value:a,inclusive:l})<0&&(i=a,r=l)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const a=e.position[s];KB({value:i,inclusive:r},{value:a,inclusive:e.inclusive})<0&&(i=a,r=e.inclusive);break}return{value:i,inclusive:r}}function WB(n,t,e){let i=dy,r=!0;for(const s of p0(n,t)){let a=dy,l=!0;switch(s.op){case">=":case">":a=jN(s.value),l=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,l=!1;break;case"!=":case"not-in":a=dy}eD({value:i,inclusive:r},{value:a,inclusive:l})>0&&(i=a,r=l)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const a=e.position[s];eD({value:i,inclusive:r},{value:a,inclusive:e.inclusive})>0&&(i=a,r=e.inclusive);break}return{value:i,inclusive:r}}class Ql extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.lt(t,e,i):new GN(t,e,i):"array-contains"===e?new $B(t,i):"in"===e?new JB(t,i):"not-in"===e?new XB(t,i):"array-contains-any"===e?new eF(t,i):new Ql(t,e,i)}static lt(t,e,i){return"in"===e?new qN(t,i):new YB(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.ft(fm(e,this.value)):null!==e&&Am(this.value)===Am(e)&&this.ft(fm(e,this.value))}ft(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return qn()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class GN extends Ql{constructor(t,e,i){super(t,e,i),this.key=mn.fromName(i.referenceValue)}matches(t){const e=mn.comparator(t.key,this.key);return this.ft(e)}}class qN extends Ql{constructor(t,e){super(t,"in",e),this.keys=px(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class YB extends Ql{constructor(t,e){super(t,"not-in",e),this.keys=px(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function px(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>mn.fromName(i.referenceValue))}class $B extends Ql{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return pm(e)&&Fb(e.arrayValue,this.value)}}class JB extends Ql{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Fb(this.value.arrayValue,e)}}class XB extends Ql{constructor(t,e){super(t,"not-in",e)}matches(t){if(Fb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Fb(this.value.arrayValue,e)}}class eF extends Ql{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!pm(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Fb(this.value.arrayValue,i))}}class gm{constructor(t,e){this.position=t,this.inclusive=e}}class Ay{constructor(t,e="asc"){this.field=t,this.dir=e}}function tF(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function nF(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],a=n.position[r];if(i=s.field.isKeyField()?mn.comparator(mn.fromName(a.referenceValue),e.key):fm(a,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function nD(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!df(n.position[e],t.position[e]))return!1;return!0}class kp{constructor(t,e=null,i=[],r=[],s=null,a="F",l=null,d=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=d,this._t=null,this.wt=null}}function cc(n,t,e,i,r,s,a,l){return new kp(n,t,e,i,r,s,a,l)}function cA(n){return new kp(n)}function iF(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function iD(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function rF(n){for(const t of n.filters)if(t.dt())return t.field;return null}function sF(n){return null!==n.collectionGroup}function fy(n){const t=wn(n);if(null===t._t){t._t=[];const e=rF(t),i=iD(t);if(null!==e&&null===i)e.isKeyField()||t._t.push(new Ay(e)),t._t.push(new Ay(po.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t._t.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new Ay(po.keyField(),s))}}}return t._t}function uc(n){const t=wn(n);if(!t.wt)if("F"===t.limitType)t.wt=ZB(t.path,t.collectionGroup,fy(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of fy(t))e.push(new Ay(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new gm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gm(t.startAt.position,t.startAt.inclusive):null;t.wt=ZB(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.wt}function mm(n,t,e){return new kp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Pb(n,t){return hy(uc(n),uc(t))&&n.limitType===t.limitType}function gx(n){return`${f0(uc(n))}|lt:${n.limitType}`}function rD(n){return`Query(target=${function tD(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${h0(i.value)}`;var i}).join(", ")}]`),c0(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>h0(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>h0(e)).join(",")),`Target(${t})`}(uc(n))}; limitType=${n.limitType})`}function mx(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):mn.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,a){const l=nF(r,s,a);return r.inclusive?l<=0:l<0}(e.startAt,fy(e),i)||e.endAt&&!function(r,s,a){const l=nF(r,s,a);return r.inclusive?l>=0:l>0}(e.endAt,fy(e),i)));var e,i}function oF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function aF(n){return(t,e)=>{let i=!1;for(const r of fy(n)){const s=KN(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function KN(n,t,e){const i=n.field.isKeyField()?mn.comparator(t.key,e.key):function(r,s,a){const l=s.data.field(r),d=a.data.field(r);return null!==l&&null!==d?fm(l,d):qn()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return qn()}}function _x(n,t){if(n.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:u0(t)?"-0":t}}function sD(n){return{integerValue:""+n}}function oD(n,t){return GB(t)?sD(t):_x(n,t)}class py{constructor(){this._=void 0}}function aD(n,t,e){return n instanceof g0?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof _m?gy(n,t):n instanceof my?cD(n,t):function(i,r){const s=lD(i,r),a=ZN(s)+ZN(i.yt);return XI(s)&&XI(i.yt)?sD(a):_x(i.It,a)}(n,t)}function _8(n,t,e){return n instanceof _m?gy(n,t):n instanceof my?cD(n,t):e}function lD(n,t){return n instanceof ym?XI(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class g0 extends py{}class _m extends py{constructor(t){super(),this.elements=t}}function gy(n,t){const e=lF(t);for(const i of n.elements)e.some(r=>df(r,i))||e.push(i);return{arrayValue:{values:e}}}class my extends py{constructor(t){super(),this.elements=t}}function cD(n,t){let e=lF(t);for(const i of n.elements)e=e.filter(r=>!df(r,i));return{arrayValue:{values:e}}}class ym extends py{constructor(t,e){super(),this.It=t,this.yt=e}}function ZN(n){return Zo(n.integerValue||n.doubleValue)}function lF(n){return pm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class yx{constructor(t,e){this.field=t,this.transform=e}}class YN{constructor(t,e){this.version=t,this.transformResults=e}}class go{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new go}static exists(t){return new go(void 0,t)}static updateTime(t){return new go(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Nb(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Ub{}function cF(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new yy(n.key,go.none()):new _y(n.key,n.data,go.none());{const e=n.data,i=wl.empty();let r=new fs(po.comparator);for(let s of t.fields)if(!r.has(s)){let a=e.field(s);null===a&&s.length>1&&(s=s.popLast(),a=e.field(s)),null===a?i.delete(s):i.set(s,a),r=r.add(s)}return new Rp(n.key,i,new mu(r.toArray()),go.none())}}function uF(n,t,e){n instanceof _y?function(i,r,s){const a=i.value.clone(),l=dD(i.fieldTransforms,r,s.transformResults);a.setAll(l),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,t,e):n instanceof Rp?function(i,r,s){if(!Nb(i.precondition,r))return void r.convertToUnknownDocument(s.version);const a=dD(i.fieldTransforms,r,s.transformResults),l=r.data;l.setAll(uD(i)),l.setAll(a),r.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function m0(n,t,e,i){return n instanceof _y?function(r,s,a,l){if(!Nb(r.precondition,s))return a;const d=r.value.clone(),A=hD(r.fieldTransforms,l,s);return d.setAll(A),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(n,t,e,i):n instanceof Rp?function(r,s,a,l){if(!Nb(r.precondition,s))return a;const d=hD(r.fieldTransforms,l,s),A=s.data;return A.setAll(uD(r)),A.setAll(d),s.convertToFoundDocument(s.version,A).setHasLocalMutations(),null===a?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(p=>p.field))}(n,t,e,i):(a=e,Nb(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function $N(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=lD(i.transform,r||null);null!=s&&(null===e&&(e=wl.empty()),e.set(i.field,s))}return e||null}function dF(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&ry(e,i,(r,s)=>function WN(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof _m&&i instanceof _m||e instanceof my&&i instanceof my?ry(e.elements,i.elements,df):e instanceof ym&&i instanceof ym?df(e.yt,i.yt):e instanceof g0&&i instanceof g0);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class _y extends Ub{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Rp extends Ub{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function uD(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function dD(n,t,e){const i=new Map;Ci(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],a=s.transform,l=t.data.field(s.field);i.set(s.field,_8(a,l,e[r]))}return i}function hD(n,t,e){const i=new Map;for(const r of n){const s=r.transform,a=e.data.field(r.field);i.set(r.field,aD(s,a,t))}return i}class yy extends Ub{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AD extends Ub{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class JN{constructor(t){this.count=t}}var tl,Dr;function XN(n){switch(n){default:return qn();case wt.CANCELLED:case wt.UNKNOWN:case wt.DEADLINE_EXCEEDED:case wt.RESOURCE_EXHAUSTED:case wt.INTERNAL:case wt.UNAVAILABLE:case wt.UNAUTHENTICATED:return!1;case wt.INVALID_ARGUMENT:case wt.NOT_FOUND:case wt.ALREADY_EXISTS:case wt.PERMISSION_DENIED:case wt.FAILED_PRECONDITION:case wt.ABORTED:case wt.OUT_OF_RANGE:case wt.UNIMPLEMENTED:case wt.DATA_LOSS:return!0}}function e5(n){if(void 0===n)return ha("GRPC error has no .code"),wt.UNKNOWN;switch(n){case tl.OK:return wt.OK;case tl.CANCELLED:return wt.CANCELLED;case tl.UNKNOWN:return wt.UNKNOWN;case tl.DEADLINE_EXCEEDED:return wt.DEADLINE_EXCEEDED;case tl.RESOURCE_EXHAUSTED:return wt.RESOURCE_EXHAUSTED;case tl.INTERNAL:return wt.INTERNAL;case tl.UNAVAILABLE:return wt.UNAVAILABLE;case tl.UNAUTHENTICATED:return wt.UNAUTHENTICATED;case tl.INVALID_ARGUMENT:return wt.INVALID_ARGUMENT;case tl.NOT_FOUND:return wt.NOT_FOUND;case tl.ALREADY_EXISTS:return wt.ALREADY_EXISTS;case tl.PERMISSION_DENIED:return wt.PERMISSION_DENIED;case tl.FAILED_PRECONDITION:return wt.FAILED_PRECONDITION;case tl.ABORTED:return wt.ABORTED;case tl.OUT_OF_RANGE:return wt.OUT_OF_RANGE;case tl.UNIMPLEMENTED:return wt.UNIMPLEMENTED;case tl.DATA_LOSS:return wt.DATA_LOSS;default:return qn()}}(Dr=tl||(tl={}))[Dr.OK=0]="OK",Dr[Dr.CANCELLED=1]="CANCELLED",Dr[Dr.UNKNOWN=2]="UNKNOWN",Dr[Dr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dr[Dr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dr[Dr.NOT_FOUND=5]="NOT_FOUND",Dr[Dr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dr[Dr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dr[Dr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dr[Dr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dr[Dr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dr[Dr.ABORTED=10]="ABORTED",Dr[Dr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dr[Dr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dr[Dr.INTERNAL=13]="INTERNAL",Dr[Dr.UNAVAILABLE=14]="UNAVAILABLE",Dr[Dr.DATA_LOSS=15]="DATA_LOSS";class vy{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){ly(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return jB(this.inner)}size(){return this.innerSize}}const y8=new Aa(mn.comparator);function cd(){return y8}const t5=new Aa(mn.comparator);function vx(...n){let t=t5;for(const e of n)t=t.insert(e.key,e);return t}function n5(n){let t=t5;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function ud(){return _0()}function i5(){return _0()}function _0(){return new vy(n=>n.toString(),(n,t)=>n.isEqual(t))}const wx=new Aa(mn.comparator),hF=new fs(mn.comparator);function Zi(...n){let t=hF;for(const e of n)t=t.add(e);return t}const v8=new fs(Oi);function y0(){return v8}class v0{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Hb.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new v0(vi.min(),r,y0(),cd(),Zi())}}class Hb{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Hb(i,e,Zi(),Zi(),Zi())}}class Qb{constructor(t,e,i,r){this.Tt=t,this.removedTargetIds=e,this.key=i,this.Et=r}}class r5{constructor(t,e){this.targetId=t,this.At=e}}class AF{constructor(t,e,i=el.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class fF{constructor(){this.Rt=0,this.bt=pF(),this.Pt=el.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(t){t.approximateByteSize()>0&&(this.Vt=!0,this.Pt=t)}xt(){let t=Zi(),e=Zi(),i=Zi();return this.bt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:qn()}}),new Hb(this.Pt,this.vt,t,e,i)}Nt(){this.Vt=!1,this.bt=pF()}kt(t,e){this.Vt=!0,this.bt=this.bt.insert(t,e)}Ot(t){this.Vt=!0,this.bt=this.bt.remove(t)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class s5{constructor(t){this.Bt=t,this.Lt=new Map,this.Ut=cd(),this.qt=Vb(),this.Kt=new fs(Oi)}Gt(t){for(const e of t.Tt)t.Et&&t.Et.isFoundDocument()?this.Qt(e,t.Et):this.jt(e,t.key,t.Et);for(const e of t.removedTargetIds)this.jt(e,t.key,t.Et)}Wt(t){this.forEachTarget(t,e=>{const i=this.zt(e);switch(t.state){case 0:this.Ht(e)&&i.Ct(t.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(t.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(e);break;case 3:this.Ht(e)&&(i.$t(),i.Ct(t.resumeToken));break;case 4:this.Ht(e)&&(this.Jt(e),i.Ct(t.resumeToken));break;default:qn()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Lt.forEach((i,r)=>{this.Ht(r)&&e(r)})}Yt(t){const e=t.targetId,i=t.At.count,r=this.Xt(e);if(r){const s=r.target;if(Lb(s))if(0===i){const a=new mn(s.path);this.jt(e,a,Rs.newNoDocument(a,vi.min()))}else Ci(1===i);else this.Zt(e)!==i&&(this.Jt(e),this.Kt=this.Kt.add(e))}}te(t){const e=new Map;this.Lt.forEach((s,a)=>{const l=this.Xt(a);if(l){if(s.current&&Lb(l.target)){const d=new mn(l.target.path);null!==this.Ut.get(d)||this.ee(a,d)||this.jt(a,d,Rs.newNoDocument(d,t))}s.Dt&&(e.set(a,s.xt()),s.Nt())}});let i=Zi();this.qt.forEach((s,a)=>{let l=!0;a.forEachWhile(d=>{const A=this.Xt(d);return!A||2===A.purpose||(l=!1,!1)}),l&&(i=i.add(s))}),this.Ut.forEach((s,a)=>a.setReadTime(t));const r=new v0(t,e,this.Kt,this.Ut,i);return this.Ut=cd(),this.qt=Vb(),this.Kt=new fs(Oi),r}Qt(t,e){if(!this.Ht(t))return;const i=this.ee(t,e.key)?2:0;this.zt(t).kt(e.key,i),this.Ut=this.Ut.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ne(e.key).add(t))}jt(t,e,i){if(!this.Ht(t))return;const r=this.zt(t);this.ee(t,e)?r.kt(e,1):r.Ot(e),this.qt=this.qt.insert(e,this.ne(e).delete(t)),i&&(this.Ut=this.Ut.insert(e,i))}removeTarget(t){this.Lt.delete(t)}Zt(t){const e=this.zt(t).xt();return this.Bt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Mt(t){this.zt(t).Mt()}zt(t){let e=this.Lt.get(t);return e||(e=new fF,this.Lt.set(t,e)),e}ne(t){let e=this.qt.get(t);return e||(e=new fs(Oi),this.qt=this.qt.insert(t,e)),e}Ht(t){const e=null!==this.Xt(t);return e||en("WatchChangeAggregator","Detected inactive target",t),e}Xt(t){const e=this.Lt.get(t);return e&&e.St?null:this.Bt.se(t)}Jt(t){this.Lt.set(t,new fF),this.Bt.getRemoteKeysForTarget(t).forEach(e=>{this.jt(t,e,null)})}ee(t,e){return this.Bt.getRemoteKeysForTarget(t).has(e)}}function Vb(){return new Aa(mn.comparator)}function pF(){return new Aa(mn.comparator)}const w8={asc:"ASCENDING",desc:"DESCENDING"},b8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class C8{constructor(t,e){this.databaseId=t,this.gt=e}}function jb(n,t){return n.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function gF(n,t){return n.gt?t.toBase64():t.toUint8Array()}function o5(n,t){return jb(n,t.toTimestamp())}function Vl(n){return Ci(!!n),vi.fromTimestamp(function(t){const e=hm(t);return new fo(e.seconds,e.nanos)}(n))}function fD(n,t){return(e=n,new kr(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function pD(n){const t=kr.fromString(n);return Ci(hf(t)),t}function w0(n,t){return fD(n.databaseId,t.path)}function Op(n,t){const e=pD(t);if(e.get(1)!==n.databaseId.projectId)throw new Zt(wt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Zt(wt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new mn(_F(e))}function dd(n,t){return fD(n.databaseId,t)}function mF(n){const t=pD(n);return 4===t.length?kr.emptyPath():_F(t)}function wy(n){return new kr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function _F(n){return Ci(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function a5(n,t,e){return{name:w0(n,t),fields:e.value.mapValue.fields}}function hd(n,t,e){const i=Op(n,t.name),r=Vl(t.updateTime),s=new wl({mapValue:{fields:t.fields}}),a=Rs.newFoundDocument(i,r,s);return e&&a.setHasCommittedMutations(),e?a.setHasCommittedMutations():a}function zb(n,t){let e;if(t instanceof _y)e={update:a5(n,t.key,t.value)};else if(t instanceof yy)e={delete:w0(n,t.key)};else if(t instanceof Rp)e={update:a5(n,t.key,t.data),updateMask:wD(t.fieldMask)};else{if(!(t instanceof AD))return qn();e={verify:w0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const a=s.transform;if(a instanceof g0)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof _m)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof my)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ym)return{fieldPath:s.field.canonicalString(),increment:a.yt};throw qn()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:o5(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:qn()),e;var r}function mD(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?go.updateTime(Vl(r.updateTime)):void 0!==r.exists?go.exists(r.exists):go.none():go.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,a){let l=null;"setToServerValue"in a?(Ci("REQUEST_TIME"===a.setToServerValue),l=new g0):"appendMissingElements"in a?l=new _m(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new my(a.removeAllFromArray.values||[]):"increment"in a?l=new ym(s,a.increment):qn();const d=po.fromServerFormat(a.fieldPath);return new yx(d,l)}(n,r)):[];var r;if(t.update){const r=Op(n,t.update.name),s=new wl({mapValue:{fields:t.update.fields}});if(t.updateMask){const a=new mu((t.updateMask.fieldPaths||[]).map(A=>po.fromServerFormat(A)));return new Rp(r,s,a,e,i)}return new _y(r,s,e,i)}if(t.delete){const r=Op(n,t.delete);return new yy(r,e)}if(t.verify){const r=Op(n,t.verify);return new AD(r,e)}return qn()}function yD(n,t){return{documents:[dd(n,t.path)]}}function bx(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=dd(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=dd(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(d){if(0===d.length)return;const A=d.map(p=>function(_){if("=="===_.op){if(qB(_.value))return{unaryFilter:{field:b0(_.field),op:"IS_NAN"}};if(A0(_.value))return{unaryFilter:{field:b0(_.field),op:"IS_NULL"}}}else if("!="===_.op){if(qB(_.value))return{unaryFilter:{field:b0(_.field),op:"IS_NOT_NAN"}};if(A0(_.value))return{unaryFilter:{field:b0(_.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:b0(_.field),op:wF(_.op),value:_.value}}}(p));return 1===A.length?A[0]:{compositeFilter:{op:"AND",filters:A}}}(t.filters);r&&(e.structuredQuery.where=r);const s=function(d){if(0!==d.length)return d.map(A=>{return{field:b0((p=A).field),direction:c5(p.dir)};var p})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const a=(A=t.limit,n.gt||c0(A)?A:{value:A});var A,l,d;return null!==a&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(e.structuredQuery.endAt={before:!(d=t.endAt).inclusive,values:d.position}),e}function yF(n){let t=mF(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Ci(1===i);const p=e.from[0];p.allDescendants?r=p.collectionId:t=t.child(p.collectionId)}let s=[];e.where&&(s=vD(e.where));let a=[];e.orderBy&&(a=e.orderBy.map(p=>{return new Ay(vm((_=p).field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction));var _}));let l=null;e.limit&&(l=function(p){let _;return _="object"==typeof p?p.value:p,c0(_)?null:_}(e.limit));let d=null;var p;e.startAt&&(d=new gm((p=e.startAt).values||[],!!p.before));let A=null;return e.endAt&&(A=function(p){return new gm(p.values||[],!p.before)}(e.endAt)),cc(t,r,a,s,l,"F",d,A)}function vD(n){return n?void 0!==n.unaryFilter?[bF(n)]:void 0!==n.fieldFilter?[wm(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>vD(t)).reduce((t,e)=>t.concat(e)):qn():[]}function c5(n){return w8[n]}function wF(n){return b8[n]}function b0(n){return{fieldPath:n.canonicalString()}}function vm(n){return po.fromServerFormat(n.fieldPath)}function wm(n){return Ql.create(vm(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qn()}}(n.fieldFilter.op),n.fieldFilter.value)}function bF(n){switch(n.unaryFilter.op){case"IS_NAN":const t=vm(n.unaryFilter.field);return Ql.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=vm(n.unaryFilter.field);return Ql.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=vm(n.unaryFilter.field);return Ql.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=vm(n.unaryFilter.field);return Ql.create(r,"!=",{nullValue:"NULL_VALUE"});default:return qn()}}function wD(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function hf(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Vc(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=CF(t)),t=x8(n.get(e),t);return CF(t)}function x8(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function CF(n){return n+"\x01\x01"}function Af(n){const t=n.length;if(Ci(t>=2),2===t)return Ci("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),kr.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const a=n.indexOf("\x01",s);switch((a<0||a>e)&&qn(),n.charAt(a+1)){case"\x01":const l=n.substring(s,a);let d;0===r.length?d=l:(r+=l,d=r,r=""),i.push(d);break;case"\x10":r+=n.substring(s,a),r+="\0";break;case"\x11":r+=n.substring(s,a+1);break;default:qn()}s=a+2}return new kr(i)}const xF=["userId","batchId"];function Cx(n,t){return[n,Vc(t)]}function bD(n,t,e){return[n,Vc(t),e]}const S8={},SF=["prefixPath","collectionGroup","readTime","documentId"],u5=["prefixPath","collectionGroup","documentId"],EF=["collectionGroup","readTime","prefixPath","documentId"],E8=["canonicalId","targetId"],CD=["targetId","path"],IF=["path","targetId"],DF=["collectionId","parent"],TF=["indexId","uid"],MF=["uid","sequenceNumber"],BF=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],xx=["indexId","uid","orderedDocumentKey"],Sx=["userId","collectionPath","documentId"],FF=["userId","collectionPath","largestBatchId"],d5=["userId","collectionGroup","largestBatchId"],kF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],h5=[...kF,"documentOverlays"],A5=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],f5=A5,RF=[...f5,"indexConfiguration","indexState","indexEntries"];class xD extends cx{constructor(t,e){super(),this.ie=t,this.currentSequenceNumber=e}}function bl(n,t){const e=wn(n);return ad.M(e.ie,t)}class SD{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&uF(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=m0(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=m0(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=i5();return this.mutations.forEach(r=>{const s=t.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=e.has(r.key)?null:l;const d=cF(a,l);null!==d&&i.set(r.key,d),a.isValidDocument()||a.convertToNoDocument(vi.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Zi())}isEqual(t){return this.batchId===t.batchId&&ry(this.mutations,t.mutations,(e,i)=>dF(e,i))&&ry(this.baseMutations,t.baseMutations,(e,i)=>dF(e,i))}}class OF{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Ci(t.mutations.length===i.length);let r=wx;const s=t.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new OF(t,e,i,r)}}class LF{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class by{constructor(t,e,i,r,s=vi.min(),a=vi.min(),l=el.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}withSequenceNumber(t){return new by(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new by(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new by(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class p5{constructor(t){this.re=t}}function PF(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Cy(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:w0(r=n.re,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:jb(r,s.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:xy(t.version)};else{if(!t.isUnknownDocument())return qn();i.unknownDocument={path:e.path.toArray(),version:xy(t.version)}}var r,s;return i}function Cy(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function xy(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Sy(n){const t=new fo(n.seconds,n.nanoseconds);return vi.fromTimestamp(t)}function bm(n,t){const e=(t.baseMutations||[]).map(s=>mD(n.re,s));for(let s=0;s<t.mutations.length-1;++s){const a=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(a.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const i=t.mutations.map(s=>mD(n.re,s)),r=fo.fromMillis(t.localWriteTimeMs);return new SD(t.batchId,r,e,i)}function uA(n){const t=Sy(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Sy(n.lastLimboFreeSnapshotVersion):vi.min();let i;var r;return void 0!==n.query.documents?(Ci(1===(r=n.query).documents.length),i=uc(cA(mF(r.documents[0])))):i=uc(yF(n.query)),new by(i,n.targetId,0,n.lastListenSequenceNumber,t,e,el.fromBase64String(n.resumeToken))}function ED(n,t){const e=xy(t.snapshotVersion),i=xy(t.lastLimboFreeSnapshotVersion);let r;r=Lb(t.target)?yD(n.re,t.target):bx(n.re,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:f0(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Gb(n){const t=yF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?mm(t,t.limit,"L"):t}function qb(n,t){return new LF(t.largestBatchId,mD(n.re,t.overlayMutation))}function NF(n,t){const e=t.path.lastSegment();return[n,Vc(t.path.popLast()),e]}function Ex(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:xy(i.readTime),documentKey:Vc(i.documentKey.path),largestBatchId:i.largestBatchId}}class ID{getBundleMetadata(t,e){return Kb(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Sy(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return Kb(t).put({bundleId:(i=e).id,createTime:xy(Vl(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return g5(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:Gb(r.bundledQuery),readTime:Sy(r.readTime)};var r})}saveNamedQuery(t,e){return g5(t).put({name:(i=e).name,readTime:xy(Vl(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Kb(n){return bl(n,"bundles")}function g5(n){return bl(n,"namedQueries")}class DD{constructor(t,e){this.It=t,this.userId=e}static oe(t,e){return new DD(t,e.uid||"")}getOverlay(t,e){return Ix(t).get(NF(this.userId,e)).next(i=>i?qb(this.It,i):null)}getOverlays(t,e){const i=ud();return gt.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,a)=>{const l=new LF(e,a);r.push(this.ue(t,l))}),gt.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(a=>r.add(Vc(a.getCollectionPath())));const s=[];return r.forEach(a=>{const l=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,i+1],!1,!0);s.push(Ix(t).Y("collectionPathOverlayIndex",l))}),gt.waitFor(s)}getOverlaysForCollection(t,e,i){const r=ud(),s=Vc(e),a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Ix(t).W("collectionPathOverlayIndex",a).next(l=>{for(const d of l){const A=qb(this.It,d);r.set(A.getKey(),A)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=ud();let a;const l=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Ix(t).Z({index:"collectionGroupOverlayIndex",range:l},(d,A,p)=>{const _=qb(this.It,A);s.size()<r||_.largestBatchId===a?(s.set(_.getKey(),_),a=_.largestBatchId):p.done()}).next(()=>s)}ue(t,e){return Ix(t).put(function(i,r,s){const[a,l,d]=NF(r,s.mutation.key);return{userId:r,collectionPath:l,documentId:d,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:zb(i.re,s.mutation)}}(this.It,this.userId,e))}}function Ix(n){return bl(n,"documentOverlays")}class C0{constructor(){}ce(t,e){this.ae(t,e),e.he()}ae(t,e){if("nullValue"in t)this.le(e,5);else if("booleanValue"in t)this.le(e,10),e.fe(t.booleanValue?1:0);else if("integerValue"in t)this.le(e,15),e.fe(Zo(t.integerValue));else if("doubleValue"in t){const i=Zo(t.doubleValue);isNaN(i)?this.le(e,13):(this.le(e,15),u0(i)?e.fe(0):e.fe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.le(e,20),"string"==typeof i?e.de(i):(e.de(`${i.seconds||""}`),e.fe(i.nanos||0))}else if("stringValue"in t)this._e(t.stringValue,e),this.we(e);else if("bytesValue"in t)this.le(e,30),e.me(cy(t.bytesValue)),this.we(e);else if("referenceValue"in t)this.ge(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.le(e,45),e.fe(i.latitude||0),e.fe(i.longitude||0)}else"mapValue"in t?Ob(t)?this.le(e,Number.MAX_SAFE_INTEGER):(this.ye(t.mapValue,e),this.we(e)):"arrayValue"in t?(this.pe(t.arrayValue,e),this.we(e)):qn()}_e(t,e){this.le(e,25),this.Ie(t,e)}Ie(t,e){e.de(t)}ye(t,e){const i=t.fields||{};this.le(e,55);for(const r of Object.keys(i))this._e(r,e),this.ae(i[r],e)}pe(t,e){const i=t.values||[];this.le(e,50);for(const r of i)this.ae(r,e)}ge(t,e){this.le(e,37),mn.fromName(t).path.forEach(i=>{this.le(e,60),this.Ie(i,e)})}le(t,e){t.fe(e)}we(t){t.fe(2)}}function UF(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function HF(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=UF(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}C0.Te=new C0;class m5{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Pe(i.value),i=e.next();this.ve()}Ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=e.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=e.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(t){const e=this.Ce(t),i=HF(e);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Ne(t){const e=this.Ce(t),i=HF(e);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(t){this.xe(t.length),this.buffer.set(t,this.position),this.position+=t.length}$e(){return this.buffer.slice(0,this.position)}Ce(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ae(t){const e=255&t;0===e?(this.Oe(0),this.Oe(255)):255===e?(this.Oe(255),this.Oe(0)):this.Oe(e)}Pe(t){const e=255&t;0===e?(this.Fe(0),this.Fe(255)):255===e?(this.Fe(255),this.Fe(0)):this.Fe(t)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(t){this.xe(1),this.buffer[this.position++]=t}Fe(t){this.xe(1),this.buffer[this.position++]=~t}xe(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class _5{constructor(t){this.Be=t}me(t){this.Be.Ee(t)}de(t){this.Be.Ve(t)}fe(t){this.Be.De(t)}he(){this.Be.ke()}}class y5{constructor(t){this.Be=t}me(t){this.Be.be(t)}de(t){this.Be.Se(t)}fe(t){this.Be.Ne(t)}he(){this.Be.Me()}}class x0{constructor(){this.Be=new m5,this.Le=new _5(this.Be),this.Ue=new y5(this.Be)}seed(t){this.Be.seed(t)}qe(t){return 0===t?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Cm{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Cm(this.indexId,this.documentKey,this.arrayValue,i)}}function xm(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=QF(n.arrayValue,t.arrayValue),0!==e?e:(e=QF(n.directionalValue,t.directionalValue),0!==e?e:mn.comparator(n.documentKey,t.documentKey)))}function QF(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class v5{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];for(const e of t.filters){const i=e;i.dt()?this.je=i:this.Qe.push(i)}}We(t){const e=Db(t);if(void 0!==e&&!this.ze(e))return!1;const i=sy(t);let r=0,s=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const a=i[r];if(!this.He(this.je,a)||!this.Je(this.Ge[s++],a))return!1;++r}for(;r<i.length;++r){const a=i[r];if(s>=this.Ge.length||!this.Je(this.Ge[s++],a))return!1}return!0}ze(t){for(const e of this.Qe)if(this.He(e,t))return!0;return!1}He(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Je(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class VF{constructor(){this.Ye=new Zb}addToCollectionParentIndex(t,e){return this.Ye.add(e),gt.resolve()}getCollectionParents(t,e){return gt.resolve(this.Ye.getEntries(e))}addFieldIndex(t,e){return gt.resolve()}deleteFieldIndex(t,e){return gt.resolve()}getDocumentsMatchingTarget(t,e){return gt.resolve(null)}getIndexType(t,e){return gt.resolve(0)}getFieldIndexes(t,e){return gt.resolve([])}getNextCollectionGroupToUpdate(t){return gt.resolve(null)}getMinOffset(t,e){return gt.resolve(od.min())}getMinOffsetFromCollectionGroup(t,e){return gt.resolve(od.min())}updateCollectionGroup(t,e,i){return gt.resolve()}updateIndexEntries(t,e){return gt.resolve()}}class Zb{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new fs(kr.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new fs(kr.comparator)).toArray()}}const TD=new Uint8Array(0);class jF{constructor(t,e){this.user=t,this.databaseId=e,this.Xe=new Zb,this.Ze=new vy(i=>f0(i),(i,r)=>hy(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Xe.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Xe.add(e)});const s={collectionId:i,parent:Vc(r)};return Dx(t).put(s)}return gt.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[PB(e),""],!1,!0);return Dx(t).W(r).next(s=>{for(const a of s){if(a.collectionId!==e)break;i.push(Af(a.parent))}return i})}addFieldIndex(t,e){const i=Tx(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete r.indexId;const s=i.add(r);if(e.indexState){const a=Mx(t);return s.next(l=>{a.put(Ex(l,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=Tx(t),r=Mx(t),s=Wb(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=Wb(t);let r=!0;const s=new Map;return gt.forEach(this.tn(e),a=>this.en(t,a).next(l=>{r&&(r=!!l),s.set(a,l)})).next(()=>{if(r){let a=Zi();const l=[];return gt.forEach(s,(d,A)=>{var p;en("IndexedDbIndexManager",`Using index ${p=d,`id=${p.indexId}|cg=${p.collectionGroup}|f=${p.fields.map(ie=>`${ie.fieldPath}:${ie.kind}`).join(",")}`} to execute ${f0(e)}`);const _=function(ie,ce){const pe=Db(ce);if(void 0===pe)return null;for(const Se of p0(ie,pe.fieldPath))switch(Se.op){case"array-contains-any":return Se.value.arrayValue.values||[];case"array-contains":return[Se.value]}return null}(A,d),x=function(ie,ce){const pe=new Map;for(const Se of sy(ce))for(const ve of p0(ie,Se.fieldPath))switch(ve.op){case"==":case"in":pe.set(Se.fieldPath.canonicalString(),ve.value);break;case"not-in":case"!=":return pe.set(Se.fieldPath.canonicalString(),ve.value),Array.from(pe.values())}return null}(A,d),C=function(ie,ce){const pe=[];let Se=!0;for(const ve of sy(ce)){const de=0===ve.kind?fx(ie,ve.fieldPath,ie.startAt):WB(ie,ve.fieldPath,ie.startAt);pe.push(de.value),Se&&(Se=de.inclusive)}return new gm(pe,Se)}(A,d),F=function(ie,ce){const pe=[];let Se=!0;for(const ve of sy(ce)){const de=0===ve.kind?WB(ie,ve.fieldPath,ie.endAt):fx(ie,ve.fieldPath,ie.endAt);pe.push(de.value),Se&&(Se=de.inclusive)}return new gm(pe,Se)}(A,d),R=this.nn(d,A,C),U=this.nn(d,A,F),Q=this.sn(d,A,x),K=this.rn(d.indexId,_,R,C.inclusive,U,F.inclusive,Q);return gt.forEach(K,ie=>i.J(ie,e.limit).next(ce=>{ce.forEach(pe=>{const Se=mn.fromSegments(pe.documentKey);a.has(Se)||(a=a.add(Se),l.push(Se))})}))}).next(()=>l)}return gt.resolve(null)})}tn(t){let e=this.Ze.get(t);return e||(e=[t],this.Ze.set(t,e),e)}rn(t,e,i,r,s,a,l){const d=(null!=e?e.length:1)*Math.max(i.length,s.length),A=d/(null!=e?e.length:1),p=[];for(let _=0;_<d;++_){const x=e?this.on(e[_/A]):TD,C=this.un(t,x,i[_%A],r),F=this.cn(t,x,s[_%A],a),R=l.map(U=>this.un(t,x,U,!0));p.push(...this.createRange(C,F,R))}return p}un(t,e,i,r){const s=new Cm(t,mn.empty(),e,i);return r?s:s.Ke()}cn(t,e,i,r){const s=new Cm(t,mn.empty(),e,i);return r?s.Ke():s}en(t,e){const i=new v5(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let a=null;for(const l of s)i.We(l)&&(!a||l.fields.length>a.fields.length)&&(a=l);return a})}getIndexType(t,e){let i=2;return gt.forEach(this.tn(e),r=>this.en(t,r).next(s=>{s?0!==i&&s.fields.length<function(a){let l=new fs(po.comparator),d=!1;for(const A of a.filters){const p=A;p.field.isKeyField()||("array-contains"===p.op||"array-contains-any"===p.op?d=!0:l=l.add(p.field))}for(const A of a.orderBy)A.field.isKeyField()||(l=l.add(A.field));return l.size+(d?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(t,e){const i=new x0;for(const r of sy(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const a=i.qe(r.kind);C0.Te.ce(s,a)}return i.$e()}on(t){const e=new x0;return C0.Te.ce(t,e.qe(0)),e.$e()}hn(t,e){const i=new x0;return C0.Te.ce(lc(this.databaseId,e),i.qe(function(r){const s=sy(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.$e()}sn(t,e,i){if(null===i)return[];let r=[];r.push(new x0);let s=0;for(const a of sy(t)){const l=i[s++];for(const d of r)if(this.ln(e,a.fieldPath)&&pm(l))r=this.fn(r,a,l);else{const A=d.qe(a.kind);C0.Te.ce(l,A)}}return this.dn(r)}nn(t,e,i){return this.sn(t,e,i.position)}dn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].$e();return e}fn(t,e,i){const r=[...t],s=[];for(const a of i.arrayValue.values||[])for(const l of r){const d=new x0;d.seed(l.$e()),C0.Te.ce(a,d.qe(e.kind)),s.push(d)}return s}ln(t,e){return!!t.filters.find(i=>i instanceof Ql&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=Tx(t),r=Mx(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(s=>{const a=[];return gt.forEach(s,l=>r.get([l.indexId,this.uid]).next(d=>{a.push(function(A,p){const _=p?new s0(p.sequenceNumber,new od(Sy(p.readTime),new mn(Af(p.documentKey)),p.largestBatchId)):s0.empty(),x=A.fields.map(([C,F])=>new r0(po.fromServerFormat(C),F));return new Ib(A.indexId,A.collectionGroup,x,_)}(l,d))})).next(()=>a)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Oi(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=Tx(t),s=Mx(t);return this._n(t).next(a=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(l=>gt.forEach(l,d=>s.put(Ex(d.indexId,this.user,a,i)))))}updateIndexEntries(t,e){const i=new Map;return gt.forEach(e,(r,s)=>{const a=i.get(r.collectionGroup);return(a?gt.resolve(a):this.getFieldIndexes(t,r.collectionGroup)).next(l=>(i.set(r.collectionGroup,l),gt.forEach(l,d=>this.wn(t,r,d).next(A=>{const p=this.mn(s,d);return A.isEqual(p)?gt.resolve():this.gn(t,s,d,A,p)}))))})}yn(t,e,i,r){return Wb(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,e.key),documentKey:e.key.path.toArray()})}pn(t,e,i,r){return Wb(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,e.key),e.key.path.toArray()])}wn(t,e,i){const r=Wb(t);let s=new fs(xm);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,e)])},(a,l)=>{s=s.add(new Cm(i.indexId,e,l.arrayValue,l.directionalValue))}).next(()=>s)}mn(t,e){let i=new fs(xm);const r=this.an(e,t);if(null==r)return i;const s=Db(e);if(null!=s){const a=t.data.field(s.fieldPath);if(pm(a))for(const l of a.arrayValue.values||[])i=i.add(new Cm(e.indexId,t.key,this.on(l),r))}else i=i.add(new Cm(e.indexId,t.key,TD,r));return i}gn(t,e,i,r,s){en("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const a=[];return function(l,d,A,p,_){const x=l.getIterator(),C=d.getIterator();let F=a0(x),R=a0(C);for(;F||R;){let U=!1,Q=!1;if(F&&R){const K=A(F,R);K<0?Q=!0:K>0&&(U=!0)}else null!=F?Q=!0:U=!0;U?(p(R),R=a0(C)):Q?(_(F),F=a0(x)):(F=a0(x),R=a0(C))}}(r,s,xm,l=>{a.push(this.yn(t,e,i,l))},l=>{a.push(this.pn(t,e,i,l))}),gt.waitFor(a)}_n(t){let e=1;return Mx(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((a,l)=>xm(a,l)).filter((a,l,d)=>!l||0!==xm(a,d[l-1]));const r=[];r.push(t);for(const a of i){const l=xm(a,t),d=xm(a,e);if(0===l)r[0]=t.Ke();else if(l>0&&d<0)r.push(a),r.push(a.Ke());else if(d>0)break}r.push(e);const s=[];for(let a=0;a<r.length;a+=2)s.push(IDBKeyRange.bound([r[a].indexId,this.uid,r[a].arrayValue,r[a].directionalValue,TD,[]],[r[a+1].indexId,this.uid,r[a+1].arrayValue,r[a+1].directionalValue,TD,[]]));return s}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(w5)}getMinOffset(t,e){return gt.mapArray(this.tn(e),i=>this.en(t,i).next(r=>r||qn())).next(w5)}}function Dx(n){return bl(n,"collectionParents")}function Wb(n){return bl(n,"indexEntries")}function Tx(n){return bl(n,"indexConfiguration")}function Mx(n){return bl(n,"indexState")}function w5(n){Ci(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;NB(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new od(t.readTime,t.documentKey,e)}const zF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _u{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new _u(t,_u.DEFAULT_COLLECTION_PERCENTILE,_u.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function GF(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],a=IDBKeyRange.only(e.batchId);let l=0;const d=i.Z({range:a},(p,_,x)=>(l++,x.delete()));s.push(d.next(()=>{Ci(1===l)}));const A=[];for(const p of e.mutations){const _=bD(t,p.key.path,e.batchId);s.push(r.delete(_)),A.push(p.key)}return gt.waitFor(s).next(()=>A)}function MD(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw qn();t=n.noDocument}return JSON.stringify(t).length}_u.DEFAULT_COLLECTION_PERCENTILE=10,_u.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_u.DEFAULT=new _u(41943040,_u.DEFAULT_COLLECTION_PERCENTILE,_u.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_u.DISABLED=new _u(-1,0,0);class BD{constructor(t,e,i,r){this.userId=t,this.It=e,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(t,e,i,r){Ci(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new BD(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ey(t).Z({index:"userMutationsIndex",range:i},(r,s,a)=>{e=!1,a.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=Yb(t),a=Ey(t);return a.add({}).next(l=>{Ci("number"==typeof l);const d=new SD(l,e,i,r),A=function(x,C,F){const R=F.baseMutations.map(Q=>zb(x.re,Q)),U=F.mutations.map(Q=>zb(x.re,Q));return{userId:C,batchId:F.batchId,localWriteTimeMs:F.localWriteTime.toMillis(),baseMutations:R,mutations:U}}(this.It,this.userId,d),p=[];let _=new fs((x,C)=>Oi(x.canonicalString(),C.canonicalString()));for(const x of r){const C=bD(this.userId,x.key.path,l);_=_.add(x.key.path.popLast()),p.push(a.put(A)),p.push(s.put(C,S8))}return _.forEach(x=>{p.push(this.indexManager.addToCollectionParentIndex(t,x))}),t.addOnCommittedListener(()=>{this.In[l]=d.keys()}),gt.waitFor(p).next(()=>d)})}lookupMutationBatch(t,e){return Ey(t).get(e).next(i=>i?(Ci(i.userId===this.userId),bm(this.It,i)):null)}Tn(t,e){return this.In[e]?gt.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.In[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Ey(t).Z({index:"userMutationsIndex",range:r},(a,l,d)=>{l.userId===this.userId&&(Ci(l.batchId>=i),s=bm(this.It,l)),d.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Ey(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(r,s,a)=>{i=s.batchId,a.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ey(t).W("userMutationsIndex",e).next(i=>i.map(r=>bm(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=Cx(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return Yb(t).Z({range:r},(a,l,d)=>{const[A,p,_]=a,x=Af(p);if(A===this.userId&&e.path.isEqual(x))return Ey(t).get(_).next(C=>{if(!C)throw qn();Ci(C.userId===this.userId),s.push(bm(this.It,C))});d.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new fs(Oi);const r=[];return e.forEach(s=>{const a=Cx(this.userId,s.path),l=IDBKeyRange.lowerBound(a),d=Yb(t).Z({range:l},(A,p,_)=>{const[x,C,F]=A,R=Af(C);x===this.userId&&s.path.isEqual(R)?i=i.add(F):_.done()});r.push(d)}),gt.waitFor(r).next(()=>this.En(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=Cx(this.userId,i),a=IDBKeyRange.lowerBound(s);let l=new fs(Oi);return Yb(t).Z({range:a},(d,A,p)=>{const[_,x,C]=d,F=Af(x);_===this.userId&&i.isPrefixOf(F)?F.length===r&&(l=l.add(C)):p.done()}).next(()=>this.En(t,l))}En(t,e){const i=[],r=[];return e.forEach(s=>{r.push(Ey(t).get(s).next(a=>{if(null===a)throw qn();Ci(a.userId===this.userId),i.push(bm(this.It,a))}))}),gt.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return GF(t.ie,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),gt.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return gt.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Yb(t).Z({range:i},(s,a,l)=>{if(s[0]===this.userId){const d=Af(s[1]);r.push(d)}else l.done()}).next(()=>{Ci(0===r.length)})})}containsKey(t,e){return b5(t,this.userId,e)}Rn(t){return qF(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function b5(n,t,e){const i=Cx(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let a=!1;return Yb(n).Z({range:s,X:!0},(l,d,A)=>{const[p,_,x]=l;p===t&&_===r&&(a=!0),A.done()}).next(()=>a)}function Ey(n){return bl(n,"mutations")}function Yb(n){return bl(n,"documentMutations")}function qF(n){return bl(n,"mutationQueues")}class S0{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new S0(0)}static vn(){return new S0(-1)}}class D8{constructor(t,e){this.referenceDelegate=t,this.It=e}allocateTargetId(t){return this.Vn(t).next(e=>{const i=new S0(e.highestTargetId);return e.highestTargetId=i.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>vi.fromTimestamp(new fo(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Vn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Sn(t,r)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(i=>(i.targetCount+=1,this.Cn(e,i),this.Sn(t,i))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>$b(t).delete(e.targetId)).next(()=>this.Vn(t)).next(i=>(Ci(i.targetCount>0),i.targetCount-=1,this.Sn(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return $b(t).Z((a,l)=>{const d=uA(l);d.sequenceNumber<=e&&null===i.get(d.targetId)&&(r++,s.push(this.removeTargetData(t,d)))}).next(()=>gt.waitFor(s)).next(()=>r)}forEachTarget(t,e){return $b(t).Z((i,r)=>{const s=uA(r);e(s)})}Vn(t){return C5(t).get("targetGlobalKey").next(e=>(Ci(null!==e),e))}Sn(t,e){return C5(t).put("targetGlobalKey",e)}Dn(t,e){return $b(t).put(ED(this.It,e))}Cn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=f0(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return $b(t).Z({range:r,index:"queryTargetsIndex"},(a,l,d)=>{const A=uA(l);hy(e,A.target)&&(s=A,d.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=Iy(t);return e.forEach(a=>{const l=Vc(a.path);r.push(s.put({targetId:i,path:l})),r.push(this.referenceDelegate.addReference(t,i,a))}),gt.waitFor(r)}removeMatchingKeys(t,e,i){const r=Iy(t);return gt.forEach(e,s=>{const a=Vc(s.path);return gt.waitFor([r.delete([i,a]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=Iy(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Iy(t);let s=Zi();return r.Z({range:i,X:!0},(a,l,d)=>{const A=Af(a[1]),p=new mn(A);s=s.add(p)}).next(()=>s)}containsKey(t,e){const i=Vc(e.path),r=IDBKeyRange.bound([i],[PB(i)],!1,!0);let s=0;return Iy(t).Z({index:"documentTargetsIndex",X:!0,range:r},([a,l],d,A)=>{0!==a&&(s++,A.done())}).next(()=>s>0)}se(t,e){return $b(t).get(e).next(i=>i?uA(i):null)}}function $b(n){return bl(n,"targets")}function C5(n){return bl(n,"targetGlobal")}function Iy(n){return bl(n,"targetDocuments")}function x5([n,t],[e,i]){const r=Oi(n,e);return 0===r?Oi(t,i):r}class c{constructor(t){this.xn=t,this.buffer=new fs(x5),this.Nn=0}kn(){return++this.Nn}On(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();x5(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class u{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(t){var e=this;en("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Tt.Z)(function*(){e.Mn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Bp(i)?en("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield dm(i)}yield e.Fn(3e5)}))}}class h{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return gt.resolve(ld.at);const i=new c(e);return this.$n.forEachTarget(t,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(t,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.$n.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(en("LruGarbageCollector","Garbage collection skipped; disabled"),gt.resolve(zF)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(en("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zF):this.Un(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}Un(t,e){let i,r,s,a,l,d,A;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(en("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),r=this.params.maximumSequenceNumbersToCollect):r=_,a=Date.now(),this.nthSequenceNumber(t,r))).next(_=>(i=_,l=Date.now(),this.removeTargets(t,i,e))).next(_=>(s=_,d=Date.now(),this.removeOrphanedDocuments(t,i))).next(_=>(A=Date.now(),ax()<=lf.in.DEBUG&&en("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-p}ms\n\tDetermined least recently used ${r} in `+(l-a)+`ms\n\tRemoved ${s} targets in `+(d-l)+`ms\n\tRemoved ${_} documents in `+(A-d)+`ms\nTotal Duration: ${A-p}ms`),gt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:_})))}}class f{constructor(t,e){this.db=t,this.garbageCollector=new h(this,e)}Bn(t){const e=this.qn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}qn(t){let e=0;return this.Ln(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(i,r)=>e(r))}addReference(t,e,i){return g(t,i)}removeReference(t,e,i){return g(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return g(t,e)}Gn(t,e){return function(i,r){let s=!1;return qF(i).tt(a=>b5(i,a,r).next(l=>(l&&(s=!0),gt.resolve(!l)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Kn(t,(a,l)=>{if(l<=e){const d=this.Gn(t,a).next(A=>{if(!A)return s++,i.getEntry(t,a).next(()=>(i.removeEntry(a,vi.min()),Iy(t).delete([0,Vc(a.path)])))});r.push(d)}}).next(()=>gt.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return g(t,e)}Kn(t,e){const i=Iy(t);let r,s=ld.at;return i.Z({index:"documentTargetsIndex"},([a,l],{path:d,sequenceNumber:A})=>{0===a?(s!==ld.at&&e(new mn(Af(r)),s),s=A,r=d):s=ld.at}).next(()=>{s!==ld.at&&e(new mn(Af(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function g(n,t){return Iy(n).put((i=n.currentSequenceNumber,{targetId:0,path:Vc(t.path),sequenceNumber:i}));var i}class w{constructor(){this.changes=new vy(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Rs.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?gt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class M{constructor(t){this.It=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return ee(t).put(i)}removeEntry(t,e,i){return ee(t).delete(function(r,s){const a=r.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Cy(s),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Qn(t,i)))}getEntry(t,e){let i=Rs.newInvalidDocument(e);return ee(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(me(e))},(r,s)=>{i=this.jn(e,s)}).next(()=>i)}Wn(t,e){let i={size:0,document:Rs.newInvalidDocument(e)};return ee(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(me(e))},(r,s)=>{i={document:this.jn(e,s),size:MD(s)}}).next(()=>i)}getEntries(t,e){let i=cd();return this.zn(t,e,(r,s)=>{const a=this.jn(r,s);i=i.insert(r,a)}).next(()=>i)}Hn(t,e){let i=cd(),r=new Aa(mn.comparator);return this.zn(t,e,(s,a)=>{const l=this.jn(s,a);i=i.insert(s,l),r=r.insert(s,MD(a))}).next(()=>({documents:i,Jn:r}))}zn(t,e,i){if(e.isEmpty())return gt.resolve();let r=new fs(st);e.forEach(d=>r=r.add(d));const s=IDBKeyRange.bound(me(r.first()),me(r.last())),a=r.getIterator();let l=a.getNext();return ee(t).Z({index:"documentKeyIndex",range:s},(d,A,p)=>{const _=mn.fromSegments([...A.prefixPath,A.collectionGroup,A.documentId]);for(;l&&st(l,_)<0;)i(l,null),l=a.getNext();l&&l.isEqual(_)&&(i(l,A),l=a.hasNext()?a.getNext():null),l?p.j(me(l)):p.done()}).next(()=>{for(;l;)i(l,null),l=a.hasNext()?a.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),Cy(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ee(t).W(IDBKeyRange.bound(r,s,!0)).next(a=>{let l=cd();for(const d of a){const A=this.jn(mn.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);l=l.insert(A.key,A)}return l})}getAllFromCollectionGroup(t,e,i,r){let s=cd();const a=Ne(e,i),l=Ne(e,od.max());return ee(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,l,!0)},(d,A,p)=>{const _=this.jn(mn.fromSegments(A.prefixPath.concat(A.collectionGroup,A.documentId)),A);s=s.insert(_.key,_),s.size===r&&p.done()}).next(()=>s)}newChangeBuffer(t){return new N(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return q(t).get("remoteDocumentGlobalKey").next(e=>(Ci(!!e),e))}Qn(t,e){return q(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const i=function I8(n,t){let e;if(t.document)e=hd(n.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=mn.fromSegments(t.noDocument.path),r=Sy(t.noDocument.readTime);e=Rs.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return qn();{const i=mn.fromSegments(t.unknownDocument.path),r=Sy(t.unknownDocument.version);e=Rs.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new fo(i[0],i[1]);return vi.fromTimestamp(r)}(t.readTime)),e}(this.It,e);if(!i.isNoDocument()||!i.version.isEqual(vi.min()))return i}return Rs.newInvalidDocument(t)}}function O(n){return new M(n)}class N extends w{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new vy(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new fs((s,a)=>Oi(s.canonicalString(),a.canonicalString()));return this.changes.forEach((s,a)=>{const l=this.Xn.get(s);if(e.push(this.Yn.removeEntry(t,s,l.readTime)),a.isValidDocument()){const d=PF(this.Yn.It,a);r=r.add(s.path.popLast());const A=MD(d);i+=A-l.size,e.push(this.Yn.addEntry(t,s,d))}else if(i-=l.size,this.trackRemovals){const d=PF(this.Yn.It,a.convertToNoDocument(vi.min()));e.push(this.Yn.addEntry(t,s,d))}}),r.forEach(s=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.Yn.updateMetadata(t,i)),gt.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(i=>(this.Xn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:i,Jn:r})=>(r.forEach((s,a)=>{this.Xn.set(s,{size:a,readTime:i.get(s).readTime})}),i))}}function q(n){return bl(n,"remoteDocumentGlobal")}function ee(n){return bl(n,"remoteDocumentsV14")}function me(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Ne(n,t){const e=t.documentKey.path.toArray();return[n,Cy(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function st(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=Oi(e[s],i[s]),r)return r;return r=Oi(e.length,i.length),r||(r=Oi(e[e.length-2],i[i.length-2]),r||Oi(e[e.length-1],i[i.length-1]))}class Ft{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class sn{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&m0(i.mutation,r,mu.empty(),fo.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Zi()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Zi()){const r=ud();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let a=vx();return s.forEach((l,d)=>{a=a.insert(l,d.overlayedDocument)}),a}))}getOverlayedDocuments(t,e){const i=ud();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Zi()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((a,l)=>{e.set(a,l)})})}computeViews(t,e,i,r){let s=cd();const a=_0(),l=_0();return e.forEach((d,A)=>{const p=i.get(A.key);r.has(A.key)&&(void 0===p||p.mutation instanceof Rp)?s=s.insert(A.key,A):void 0!==p&&(a.set(A.key,p.mutation.getFieldMask()),m0(p.mutation,A,p.mutation.getFieldMask(),fo.now()))}),this.recalculateAndSaveOverlays(t,s).next(d=>(d.forEach((A,p)=>a.set(A,p)),e.forEach((A,p)=>{var _;return l.set(A,new Ft(p,null!==(_=a.get(A))&&void 0!==_?_:null))}),l))}recalculateAndSaveOverlays(t,e){const i=_0();let r=new Aa((a,l)=>a-l),s=Zi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(a=>{for(const l of a)l.keys().forEach(d=>{const A=e.get(d);if(null===A)return;let p=i.get(d)||mu.empty();p=l.applyToLocalView(A,p),i.set(d,p);const _=(r.get(l.batchId)||Zi()).add(d);r=r.insert(l.batchId,_)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const d=l.getNext(),A=d.key,p=d.value,_=i5();p.forEach(x=>{if(!s.has(x)){const C=cF(e.get(x),i.get(x));null!==C&&_.set(x,C),s=s.add(x)}}),a.push(this.documentOverlayCache.saveOverlays(t,A,_))}return gt.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return mn.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):sF(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):gt.resolve(ud());let l=-1,d=s;return a.next(A=>gt.forEach(A,(p,_)=>(l<_.largestBatchId&&(l=_.largestBatchId),s.get(p)?gt.resolve():this.getBaseDocument(t,p,_).next(x=>{d=d.insert(p,x)}))).next(()=>this.populateOverlays(t,A,s)).next(()=>this.computeViews(t,d,A,Zi())).next(p=>({batchId:l,changes:n5(p)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new mn(e)).next(i=>{let r=vx();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=vx();return this.indexManager.getCollectionParents(t,r).next(a=>gt.forEach(a,l=>{const d=(A=e,p=l.child(r),new kp(p,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt));var A,p;return this.getDocumentsMatchingCollectionQuery(t,d,i).next(A=>{A.forEach((p,_)=>{s=s.insert(p,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(s=>{s.forEach((l,d)=>{const A=d.getKey();null===r.get(A)&&(r=r.insert(A,Rs.newInvalidDocument(A)))});let a=vx();return r.forEach((l,d)=>{const A=s.get(l);void 0!==A&&m0(A.mutation,d,mu.empty(),fo.now()),mx(e,d)&&(a=a.insert(l,d))}),a})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):gt.resolve(Rs.newInvalidDocument(e))}}class xn{constructor(t){this.It=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return gt.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:Vl(i.createTime)}),gt.resolve()}getNamedQuery(t,e){return gt.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(i=e).name,query:Gb(i.bundledQuery),readTime:Vl(i.readTime)}),gt.resolve();var i}}class Wn{constructor(){this.overlays=new Aa(mn.comparator),this.es=new Map}getOverlay(t,e){return gt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=ud();return gt.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.ue(t,e,s)}),gt.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),gt.resolve()}getOverlaysForCollection(t,e,i){const r=ud(),s=e.length+1,a=new mn(e.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const d=l.getNext().value,A=d.getKey();if(!e.isPrefixOf(A.path))break;A.path.length===s&&d.largestBatchId>i&&r.set(d.getKey(),d)}return gt.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new Aa((A,p)=>A-p);const a=this.overlays.getIterator();for(;a.hasNext();){const A=a.getNext().value;if(A.getKey().getCollectionGroup()===e&&A.largestBatchId>i){let p=s.get(A.largestBatchId);null===p&&(p=ud(),s=s.insert(A.largestBatchId,p)),p.set(A.getKey(),A)}}const l=ud(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((A,p)=>l.set(A,p)),!(l.size()>=r)););return gt.resolve(l)}ue(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const a=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new LF(e,i));let s=this.es.get(e);void 0===s&&(s=Zi(),this.es.set(e,s)),this.es.set(e,s.add(i.key))}}class fi{constructor(){this.ns=new fs(Lt.ss),this.rs=new fs(Lt.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new Lt(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new Lt(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new mn(new kr([])),i=new Lt(e,t),r=new Lt(e,t+1),s=[];return this.rs.forEachInRange([i,r],a=>{this.cs(a),s.push(a.key)}),s}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new mn(new kr([])),i=new Lt(e,t),r=new Lt(e,t+1);let s=Zi();return this.rs.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(t){const e=new Lt(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Lt{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return mn.comparator(t.key,e.key)||Oi(t._s,e._s)}static os(t,e){return Oi(t._s,e._s)||mn.comparator(t.key,e.key)}}class Qi{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new fs(Lt.ss)}checkEmpty(t){return gt.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.ws;this.ws++;const a=new SD(s,e,i,r);this.mutationQueue.push(a);for(const l of r)this.gs=this.gs.add(new Lt(l.key,s)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return gt.resolve(a)}lookupMutationBatch(t,e){return gt.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ps(e+1),s=r<0?0:r;return gt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return gt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return gt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Lt(e,0),r=new Lt(e,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],a=>{const l=this.ys(a._s);s.push(l)}),gt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new fs(Oi);return e.forEach(r=>{const s=new Lt(r,0),a=new Lt(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,a],l=>{i=i.add(l._s)})}),gt.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;mn.isDocumentKey(s)||(s=s.child(""));const a=new Lt(new mn(s),0);let l=new fs(Oi);return this.gs.forEachWhile(d=>{const A=d.key.path;return!!i.isPrefixOf(A)&&(A.length===r&&(l=l.add(d._s)),!0)},a),gt.resolve(this.Is(l))}Is(t){const e=[];return t.forEach(i=>{const r=this.ys(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Ci(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return gt.forEach(e.mutations,r=>{const s=new Lt(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new Lt(e,0),r=this.gs.firstAfterOrEqual(i);return gt.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return gt.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class mo{constructor(t){this.Es=t,this.docs=new Aa(mn.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,a=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return gt.resolve(i?i.document.mutableCopy():Rs.newInvalidDocument(e))}getEntries(t,e){let i=cd();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Rs.newInvalidDocument(r))}),gt.resolve(i)}getAllFromCollection(t,e,i){let r=cd();const s=new mn(e.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:l,value:{document:d}}=a.getNext();if(!e.isPrefixOf(l.path))break;l.path.length>e.length+1||NB(KI(d),i)<=0||(r=r.insert(d.key,d.mutableCopy()))}return gt.resolve(r)}getAllFromCollectionGroup(t,e,i,r){qn()}As(t,e){return gt.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new fa(this)}getSize(t){return gt.resolve(this.size)}}class fa extends w{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),gt.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class T8{constructor(t){this.persistence=t,this.Rs=new vy(e=>f0(e),hy),this.lastRemoteSnapshotVersion=vi.min(),this.highestTargetId=0,this.bs=0,this.Ps=new fi,this.targetCount=0,this.vs=S0.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,r)=>e(r)),gt.resolve()}getLastRemoteSnapshotVersion(t){return gt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return gt.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),gt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),gt.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new S0(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,gt.resolve()}updateTargetData(t,e){return this.Dn(e),gt.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,gt.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Rs.forEach((a,l)=>{l.sequenceNumber<=e&&null===i.get(l.targetId)&&(this.Rs.delete(a),s.push(this.removeMatchingKeysForTargetId(t,l.targetId)),r++)}),gt.waitFor(s).next(()=>r)}getTargetCount(t){return gt.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return gt.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),gt.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(a=>{s.push(r.markPotentiallyOrphaned(t,a))}),gt.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),gt.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return gt.resolve(i)}containsKey(t,e){return gt.resolve(this.Ps.containsKey(e))}}class M8{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new ld(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new T8(this),this.indexManager=new VF,this.remoteDocumentCache=new mo(i=>this.referenceDelegate.xs(i)),this.It=new p5(e),this.Ns=new xn(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Wn,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new Qi(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){en("MemoryPersistence","Starting transaction:",t);const r=new Vee(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Os(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ms(t,e){return gt.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class Vee extends cx{constructor(t){super(),this.currentSequenceNumber=t}}class KF{constructor(t){this.persistence=t,this.Fs=new fi,this.$s=null}static Bs(t){return new KF(t)}get Ls(){if(this.$s)return this.$s;throw qn()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),gt.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),gt.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),gt.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Os(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gt.forEach(this.Ls,i=>{const r=mn.fromPath(i);return this.Us(t,r).next(s=>{s||e.removeEntry(r,vi.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.Us(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}Us(t,e){return gt.or([()=>gt.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ms(t,e)])}}class jee{constructor(t){this.It=t}$(t,e,i,r){const s=new Mb("createOrUpgrade",e);var l;i<1&&r>=1&&(t.createObjectStore("owner"),(l=t).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xF,{unique:!0}),l.createObjectStore("documentMutations"),B8(t),function(l){l.createObjectStore("remoteDocuments")}(t));let a=gt.resolve();return i<3&&r>=3&&(0!==i&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(t),B8(t)),a=a.next(()=>function(l){const d=l.store("targetGlobal"),A={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:vi.min().toTimestamp(),targetCount:0};return d.put("targetGlobalKey",A)}(s))),i<4&&r>=4&&(0!==i&&(a=a.next(()=>function(l,d){return d.store("mutations").W().next(A=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xF,{unique:!0});const p=d.store("mutations"),_=A.map(x=>p.put(x));return gt.waitFor(_)})}(t,s))),a=a.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(a=a.next(()=>this.qs(s))),i<6&&r>=6&&(a=a.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(s)))),i<7&&r>=7&&(a=a.next(()=>this.Gs(s))),i<8&&r>=8&&(a=a.next(()=>this.Qs(t,s))),i<9&&r>=9&&(a=a.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(a=a.next(()=>this.js(s))),i<11&&r>=11&&(a=a.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(a=a.next(()=>{!function(l){const d=l.createObjectStore("documentOverlays",{keyPath:Sx});d.createIndex("collectionPathOverlayIndex",FF,{unique:!1}),d.createIndex("collectionGroupOverlayIndex",d5,{unique:!1})}(t)})),i<13&&r>=13&&(a=a.next(()=>function(l){const d=l.createObjectStore("remoteDocumentsV14",{keyPath:SF});d.createIndex("documentKeyIndex",u5),d.createIndex("collectionGroupIndex",EF)}(t)).next(()=>this.Ws(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(a=a.next(()=>this.zs(t,s))),i<15&&r>=15&&(a=a.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:TF}).createIndex("sequenceNumberIndex",MF,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:BF}).createIndex("documentKeyIndex",xx,{unique:!1})}(t))),a}Ks(t){let e=0;return t.store("remoteDocuments").Z((i,r)=>{e+=MD(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>gt.forEach(r,s=>{const a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",a).next(l=>gt.forEach(l,d=>{Ci(d.userId===s.userId);const A=bm(this.It,d);return GF(t,s.userId,A).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Z((a,l)=>{const d=new kr(a),A=[0,Vc(d)];s.push(e.get(A).next(p=>p?gt.resolve():e.put({targetId:0,path:Vc(d),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>gt.waitFor(s))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:DF});const i=e.store("collectionParents"),r=new Zb,s=a=>{if(r.add(a)){const l=a.lastSegment(),d=a.popLast();return i.put({collectionId:l,parent:Vc(d)})}};return e.store("remoteDocuments").Z({X:!0},(a,l)=>{const d=new kr(a);return s(d.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([a,l,d],A)=>{const p=Af(l);return s(p.popLast())}))}js(t){const e=t.store("targets");return e.Z((i,r)=>{const s=uA(r),a=ED(this.It,s);return e.put(a)})}Ws(t,e){const i=e.store("remoteDocuments"),r=[];return i.Z((s,a)=>{const l=e.store("remoteDocumentsV14"),d=(A=a,A.document?new mn(kr.fromString(A.document.name).popFirst(5)):A.noDocument?mn.fromSegments(A.noDocument.path):A.unknownDocument?mn.fromSegments(A.unknownDocument.path):qn()).path.toArray();var A;const p={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};r.push(l.put(p))}).next(()=>gt.waitFor(r))}zs(t,e){const i=e.store("mutations"),r=O(this.It),s=new M8(KF.Bs,this.It.re);return i.W().next(a=>{const l=new Map;return a.forEach(d=>{var A;let p=null!==(A=l.get(d.userId))&&void 0!==A?A:Zi();bm(this.It,d).keys().forEach(_=>p=p.add(_)),l.set(d.userId,p)}),gt.forEach(l,(d,A)=>{const p=new vl(A),_=DD.oe(this.It,p),x=s.getIndexManager(p),C=BD.oe(p,this.It,x,s.referenceDelegate);return new sn(r,C,_,x).recalculateAndSaveOverlaysForDocumentKeys(new xD(e,ld.at),d).next()})})}}function B8(n){n.createObjectStore("targetDocuments",{keyPath:CD}).createIndex("documentTargetsIndex",IF,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",E8,{unique:!0}),n.createObjectStore("targetGlobal")}const S5="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class E5{constructor(t,e,i,r,s,a,l,d,A,p,_=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Hs=s,this.window=a,this.document=l,this.Js=A,this.Ys=p,this.Xs=_,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=x=>Promise.resolve(),!E5.C())throw new Zt(wt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new f(this,r),this.ii=e+"main",this.It=new p5(d),this.ri=new ad(this.ii,this.Xs,new jee(this.It)),this.Cs=new D8(this.referenceDelegate,this.It),this.remoteDocumentCache=O(this.It),this.Ns=new ID,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===p&&ha("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Zt(wt.FAILED_PRECONDITION,S5);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new ld(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var i=(0,Tt.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,Tt.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,Tt.Z)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>ZF(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(Bp(t))return en("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return en("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return FD(t).get("owner").next(e=>gt.resolve(this.mi(e)))}gi(t){return ZF(t).delete(this.clientId)}yi(){var t=this;return(0,Tt.Z)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=bl(i,"clientMetadata");return r.W().next(s=>{const a=t.Ii(s,18e5),l=s.filter(d=>-1===a.indexOf(d));return gt.forEach(l,d=>r.delete(d.clientId)).next(()=>l)})}).catch(()=>[]);if(t.oi)for(const i of e)t.oi.removeItem(t.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?gt.resolve(!0):FD(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new Zt(wt.FAILED_PRECONDITION,S5);return!1}}return!(!this.networkEnabled||!this.inForeground)||ZF(t).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const a=!this.inForeground&&r.inForeground,l=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||a&&l)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&en("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Tt.Z)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new xD(e,ld.at);return t._i(i).next(()=>t.gi(i))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(i=>this.pi(i.updateTimeMs,e)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>ZF(t).W().next(e=>this.Ii(e,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return BD.oe(t,this.It,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new jF(t,this.It.re.databaseId)}getDocumentOverlayCache(t){return DD.oe(this.It,t)}getBundleCache(){return this.Ns}runTransaction(t,e,i){en("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(a=this.Xs)?RF:14===a?f5:13===a?A5:12===a?h5:11===a?kF:void qn();var a;let l;return this.ri.runTransaction(t,r,s,d=>(l=new xD(d,this.Ss?this.Ss.next():ld.at),"readwrite-primary"===e?this.fi(l).next(A=>!!A||this.di(l)).next(A=>{if(!A)throw ha(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Zt(wt.FAILED_PRECONDITION,ZI);return i(l)}).next(A=>this.wi(l).next(()=>A)):this.Vi(l).next(()=>i(l)))).then(d=>(l.raiseOnCommittedEvent(),d))}Vi(t){return FD(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Zt(wt.FAILED_PRECONDITION,S5)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return FD(t).put("owner",e)}static C(){return ad.C()}_i(t){const e=FD(t);return e.get("owner").next(i=>this.mi(i)?(en("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):gt.resolve())}pi(t,e){const i=Date.now();return!(t<i-e||t>i&&(ha(`Detected an update time that is in the future: ${t} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,he.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const i=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return en("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ha("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){ha("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function FD(n){return bl(n,"owner")}function ZF(n){return bl(n,"clientMetadata")}function I5(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class D5{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=r}static Ci(t,e){let i=Zi(),r=Zi();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new D5(t,e.fromCache,i,r)}}class F8{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.ki(t,e).next(s=>s||this.Oi(t,e,r,i)).next(s=>s||this.Mi(t,e))}ki(t,e){if(iF(e))return gt.resolve(null);let i=uc(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=mm(e,null,"F"),i=uc(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const a=Zi(...s);return this.Ni.getDocuments(t,a).next(l=>this.indexManager.getMinOffset(t,i).next(d=>{const A=this.Fi(e,l);return this.$i(e,A,a,d.readTime)?this.ki(t,mm(e,null,"F")):this.Bi(t,A,e,d)}))})))}Oi(t,e,i,r){return iF(e)||r.isEqual(vi.min())?this.Mi(t,e):this.Ni.getDocuments(t,i).next(s=>{const a=this.Fi(e,s);return this.$i(e,a,i,r)?this.Mi(t,e):(ax()<=lf.in.DEBUG&&en("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),rD(e)),this.Bi(t,a,e,oy(r,-1)))})}Fi(t,e){let i=new fs(aF(t));return e.forEach((r,s)=>{mx(t,s)&&(i=i.add(s))}),i}$i(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Mi(t,e){return ax()<=lf.in.DEBUG&&en("QueryEngine","Using full collection scan to execute query:",rD(e)),this.Ni.getDocumentsMatchingQuery(t,e,od.min())}Bi(t,e,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(a=>{s=s.insert(a.key,a)}),s))}}class zee{constructor(t,e,i,r){this.persistence=t,this.Li=e,this.It=r,this.Ui=new Aa(Oi),this.qi=new vy(s=>f0(s),hy),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new sn(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ui))}}function k8(n,t,e,i){return new zee(n,t,e,i)}function R8(n,t){return T5.apply(this,arguments)}function T5(){return T5=(0,Tt.Z)(function*(n,t){const e=wn(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let d=Zi();for(const A of r){a.push(A.batchId);for(const p of A.mutations)d=d.add(p.key)}for(const A of s){l.push(A.batchId);for(const p of A.mutations)d=d.add(p.key)}return e.localDocuments.getDocuments(i,d).next(A=>({ji:A,removedBatchIds:a,addedBatchIds:l}))})})}),T5.apply(this,arguments)}function Gee(n,t){const e=wn(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Gi.newChangeBuffer({trackRemovals:!0});return function(a,l,d,A){const p=d.batch,_=p.keys();let x=gt.resolve();return _.forEach(C=>{x=x.next(()=>A.getEntry(l,C)).next(F=>{const R=d.docVersions.get(C);Ci(null!==R),F.version.compareTo(R)<0&&(p.applyToRemoteDocument(F,d),F.isValidDocument()&&(F.setReadTime(d.commitVersion),A.addEntry(F)))})}),x.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Zi();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(l=l.add(a.batch.mutations[d].key));return l}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function O8(n){const t=wn(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function qee(n,t){const e=wn(n),i=t.snapshotVersion;let r=e.Ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=e.Gi.newChangeBuffer({trackRemovals:!0});r=e.Ui;const l=[];t.targetChanges.forEach((p,_)=>{const x=r.get(_);if(!x)return;l.push(e.Cs.removeMatchingKeys(s,p.removedDocuments,_).next(()=>e.Cs.addMatchingKeys(s,p.addedDocuments,_)));let C=x.withSequenceNumber(s.currentSequenceNumber);var F,R,U;t.targetMismatches.has(_)?C=C.withResumeToken(el.EMPTY_BYTE_STRING,vi.min()).withLastLimboFreeSnapshotVersion(vi.min()):p.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(p.resumeToken,i)),r=r.insert(_,C),R=C,U=p,(0===(F=x).resumeToken.approximateByteSize()||R.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8||U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0)&&l.push(e.Cs.updateTargetData(s,C))});let d=cd(),A=Zi();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&l.push(e.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(L8(s,a,t.documentUpdates).next(p=>{d=p.Wi,A=p.zi})),!i.isEqual(vi.min())){const p=e.Cs.getLastRemoteSnapshotVersion(s).next(_=>e.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(p)}return gt.waitFor(l).next(()=>a.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,d,A)).next(()=>d)}).then(s=>(e.Ui=r,s))}function L8(n,t,e){let i=Zi(),r=Zi();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let a=cd();return e.forEach((l,d)=>{const A=s.get(l);d.isFoundDocument()!==A.isFoundDocument()&&(r=r.add(l)),d.isNoDocument()&&d.version.isEqual(vi.min())?(t.removeEntry(l,d.readTime),a=a.insert(l,d)):!A.isValidDocument()||d.version.compareTo(A.version)>0||0===d.version.compareTo(A.version)&&A.hasPendingWrites?(t.addEntry(d),a=a.insert(l,d)):en("LocalStore","Ignoring outdated watch update for ",l,". Current version:",A.version," Watch version:",d.version)}),{Wi:a,zi:r}})}function Kee(n,t){const e=wn(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Bx(n,t){const e=wn(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Cs.getTargetData(i,t).next(s=>s?(r=s,gt.resolve(r)):e.Cs.allocateTargetId(i).next(a=>(r=new by(t,a,0,i.currentSequenceNumber),e.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ui=e.Ui.insert(i.targetId,i),e.qi.set(t,i.targetId)),i})}function Fx(n,t,e){return M5.apply(this,arguments)}function M5(){return M5=(0,Tt.Z)(function*(n,t,e){const i=wn(n),r=i.Ui.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!Bp(a))throw a;en("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}i.Ui=i.Ui.remove(t),i.qi.delete(r.target)}),M5.apply(this,arguments)}function WF(n,t,e){const i=wn(n);let r=vi.min(),s=Zi();return i.persistence.runTransaction("Execute query","readonly",a=>function(l,d,A){const p=wn(l),_=p.qi.get(A);return void 0!==_?gt.resolve(p.Ui.get(_)):p.Cs.getTargetData(d,A)}(i,a,uc(t)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(a,l.targetId).next(d=>{s=d})}).next(()=>i.Li.getDocumentsMatchingQuery(a,t,e?r:vi.min(),e?s:Zi())).next(l=>(U8(i,oF(t),l),{documents:l,Hi:s})))}function P8(n,t){const e=wn(n),i=wn(e.Cs),r=e.Ui.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.se(s,t).next(a=>a?a.target:null))}function N8(n,t){const e=wn(n),i=e.Ki.get(t)||vi.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Gi.getAllFromCollectionGroup(r,t,oy(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(U8(e,t,r),r))}function U8(n,t,e){let i=n.Ki.get(t)||vi.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ki.set(t,i)}function B5(){return B5=(0,Tt.Z)(function*(n,t,e,i){const r=wn(n);let s=Zi(),a=cd();for(const A of e){const p=t.Ji(A.metadata.name);A.document&&(s=s.add(p));const _=t.Yi(A);_.setReadTime(t.Xi(A.metadata.readTime)),a=a.insert(p,_)}const l=r.Gi.newChangeBuffer({trackRemovals:!0}),d=yield Bx(r,(A=i,uc(cA(kr.fromString(`__bundle__/docs/${A}`)))));var A;return r.persistence.runTransaction("Apply bundle documents","readwrite",A=>L8(A,l,a).next(p=>(l.apply(A),p)).next(p=>r.Cs.removeMatchingKeysForTargetId(A,d.targetId).next(()=>r.Cs.addMatchingKeys(A,s,d.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(A,p.Wi,p.zi)).next(()=>p.Wi)))}),B5.apply(this,arguments)}function Wee(n,t){return F5.apply(this,arguments)}function F5(){return F5=(0,Tt.Z)(function*(n,t,e=Zi()){const i=yield Bx(n,uc(Gb(t.bundledQuery))),r=wn(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const a=Vl(t.readTime);if(i.snapshotVersion.compareTo(a)>=0)return r.Ns.saveNamedQuery(s,t);const l=i.withResumeToken(el.EMPTY_BYTE_STRING,a);return r.Ui=r.Ui.insert(l.targetId,l),r.Cs.updateTargetData(s,l).next(()=>r.Cs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Cs.addMatchingKeys(s,e,i.targetId)).next(()=>r.Ns.saveNamedQuery(s,t))})}),F5.apply(this,arguments)}function H8(n,t){return`firestore_clients_${n}_${t}`}function Q8(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function k5(n,t){return`firestore_targets_${n}_${t}`}class YF{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Zi(t,e,i){const r=JSON.parse(i);let s,a="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(s=new Zt(r.error.code,r.error.message))),a?new YF(t,e,r.state,s):(ha("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class kD{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Zi(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Zt(i.error.code,i.error.message))),s?new kD(t,i.state,r):(ha("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class $F{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=y0();for(let a=0;r&&a<i.activeTargetIds.length;++a)r=GB(i.activeTargetIds[a]),s=s.add(i.activeTargetIds[a]);return r?new $F(t,s):(ha("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class R5{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new R5(e.clientId,e.onlineState):(ha("SharedClientState",`Failed to parse online state: ${t}`),null)}}class O5{constructor(){this.activeTargetIds=y0()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class L5{constructor(t,e,i,r,s){this.window=t,this.Hs=e,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Aa(Oi),this.started=!1,this.cr=[];const a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=H8(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new O5),this.lr=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Tt.Z)(function*(){const e=yield t.syncEngine.vi();for(const r of e){if(r===t.sr)continue;const s=t.getItem(H8(t.persistenceKey,r));if(s){const a=$F.Zi(r,s);a&&(t.ur=t.ur.insert(a.clientId,a))}}t.gr();const i=t.storage.getItem(t.wr);if(i){const r=t.yr(i);r&&t.pr(r)}for(const r of t.cr)t.rr(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,i){this.Tr(t,e,i),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(k5(this.persistenceKey,t));if(i){const r=kD.Zi(t,i);r&&(e=r.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(k5(this.persistenceKey,t))}updateQueryState(t,e,i){this.Rr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Er(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return en("SharedClientState","READ",t,e),e}setItem(t,e){en("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){en("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(en("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void ha("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Tt.Z)(function*(){if(e.started){if(null!==i.key)if(e.lr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Vr(r,null)}{const r=e.Sr(i.key,i.newValue);if(r)return e.Vr(r.clientId,r)}}else if(e.dr.test(i.key)){if(null!==i.newValue){const r=e.Dr(i.key,i.newValue);if(r)return e.Cr(r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Nr(i.key,i.newValue);if(r)return e.kr(r)}}else if(i.key===e.wr){if(null!==i.newValue){const r=e.yr(i.newValue);if(r)return e.pr(r)}}else if(i.key===e.hr){const r=function(s){let a=ld.at;if(null!=s)try{const l=JSON.parse(s);Ci("number"==typeof l),a=l}catch(l){ha("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(i.newValue);r!==ld.at&&e.sequenceNumberHandler(r)}else if(i.key===e.mr){const r=e.Or(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Mr(s)))}}else e.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,i){const r=new YF(this.currentUser,t,e,i),s=Q8(this.persistenceKey,this.currentUser,t);this.setItem(s,r.tr())}Er(t){const e=Q8(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,i){const r=k5(this.persistenceKey,t),s=new kD(t,e,i);this.setItem(r,s.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const i=this.vr(t);return $F.Zi(i,e)}Dr(t,e){const i=this.dr.exec(t),r=Number(i[1]);return YF.Zi(new vl(void 0!==i[2]?i[2]:null),r,e)}Nr(t,e){const i=this._r.exec(t),r=Number(i[1]);return kD.Zi(r,e)}yr(t){return R5.Zi(t)}Or(t){return JSON.parse(t)}Cr(t){var e=this;return(0,Tt.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);en("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const i=e?this.ur.insert(t,e):this.ur.remove(t),r=this.Ir(this.ur),s=this.Ir(i),a=[],l=[];return s.forEach(d=>{r.has(d)||a.push(d)}),r.forEach(d=>{s.has(d)||l.push(d)}),this.syncEngine.Br(a,l).then(()=>{this.ur=i})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=y0();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class V8{constructor(){this.Lr=new O5,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.Ur[t]||"not-current"}updateQueryState(t,e,i){this.Ur[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.Ur[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new O5,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Yee{qr(t){}shutdown(){}}class j8{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){en("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){en("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const $ee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Jee{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class Xee extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,e,i,r,s){const a=this.ho(t,e);en("RestConnection","Sending: ",a,i);const l={};return this.lo(l,r,s),this.fo(t,a,l,i).then(d=>(en("RestConnection","Received: ",d),d),d=>{throw um("RestConnection",`${t} failed with error: `,d,"url: ",a,"request:",i),d})}_o(t,e,i,r,s,a){return this.ao(t,e,i,r,s)}lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+uf,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}ho(t,e){return`${this.oo}/v1/${e}:${$ee[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,i,r){return new Promise((s,a)=>{const l=new BB;l.setWithCredentials(!0),l.listenOnce(IN.COMPLETE,()=>{var A;try{switch(l.getLastErrorCode()){case iy.NO_ERROR:const p=l.getResponseJson();en("Connection","XHR received:",JSON.stringify(p)),s(p);break;case iy.TIMEOUT:en("Connection",'RPC "'+t+'" timed out'),a(new Zt(wt.DEADLINE_EXCEEDED,"Request time out"));break;case iy.HTTP_ERROR:const _=l.getStatus();if(en("Connection",'RPC "'+t+'" failed with status:',_,"response text:",l.getResponseText()),_>0){let x=l.getResponseJson();Array.isArray(x)&&(x=x[0]);const C=null===(A=x)||void 0===A?void 0:A.error;if(C&&C.status&&C.message){const F=function(R){const U=R.toLowerCase().replace(/_/g,"-");return Object.values(wt).indexOf(U)>=0?U:wt.UNKNOWN}(C.status);a(new Zt(F,C.message))}else a(new Zt(wt.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Zt(wt.UNAVAILABLE,"Connection failed."));break;default:qn()}}finally{en("Connection",'RPC "'+t+'" completed.')}});const d=JSON.stringify(r);l.send(e,"POST",d,i,15)})}wo(t,e,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=EN(),a=TB(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new TN({})),this.lo(l.initMessageHeaders,e,i),l.encodeInitMessageHeaders=!0;const d=r.join("");en("Connection","Creating WebChannel: "+d,l);const A=s.createWebChannel(d,l);let p=!1,_=!1;const x=new Jee({Hr:F=>{_?en("Connection","Not sending because WebChannel is closed:",F):(p||(en("Connection","Opening WebChannel transport."),A.open(),p=!0),en("Connection","WebChannel sending:",F),A.send(F))},Jr:()=>A.close()}),C=(F,R,U)=>{F.listen(R,Q=>{try{U(Q)}catch(K){setTimeout(()=>{throw K},0)}})};return C(A,ox.EventType.OPEN,()=>{_||en("Connection","WebChannel transport opened.")}),C(A,ox.EventType.CLOSE,()=>{_||(_=!0,en("Connection","WebChannel transport closed"),x.io())}),C(A,ox.EventType.ERROR,F=>{_||(_=!0,um("Connection","WebChannel transport errored:",F),x.io(new Zt(wt.UNAVAILABLE,"The operation could not be completed")))}),C(A,ox.EventType.MESSAGE,F=>{var R;if(!_){const U=F.data[0];Ci(!!U);const Q=U,K=Q.error||(null===(R=Q[0])||void 0===R?void 0:R.error);if(K){en("Connection","WebChannel received error:",K);const ie=K.status;let ce=function(Se){const ve=tl[Se];if(void 0!==ve)return e5(ve)}(ie),pe=K.message;void 0===ce&&(ce=wt.INTERNAL,pe="Unknown error status: "+ie+" with message "+K.message),_=!0,x.io(new Zt(ce,pe)),A.close()}else en("Connection","WebChannel received:",U),x.ro(U)}}),C(a,DN.STAT_EVENT,F=>{F.stat===MB.PROXY?en("Connection","Detected buffering proxy"):F.stat===MB.NOPROXY&&en("Connection","Detected no buffering proxy")}),setTimeout(()=>{x.so()},0),x}}function z8(){return typeof window<"u"?window:null}function JF(){return typeof document<"u"?document:null}function RD(n){return new C8(n,!0)}class P5{constructor(t,e,i=1e3,r=1.5,s=6e4){this.Hs=t,this.timerId=e,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,e-i);r>0&&en("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class G8{constructor(t,e,i,r,s,a,l,d){this.Hs=t,this.vo=i,this.Vo=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=d,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new P5(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var t=this;return(0,Tt.Z)(function*(){t.No()&&(yield t.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}$o(){var t=this;return(0,Tt.Z)(function*(){if(t.ko())return t.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(t,e){var i=this;return(0,Tt.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==t?i.xo.reset():e&&e.code===wt.RESOURCE_EXHAUSTED?(ha(e.toString()),ha("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):e&&e.code===wt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Zr(e)})()}qo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===e&&this.Go(i,r)},i=>{t(()=>{const r=new Zt(wt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(t,e){const i=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var t=this;this.state=5,this.xo.Ro((0,Tt.Z)(function*(){t.state=0,t.start()}))}Qo(t){return en("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget(()=>this.So===t?e():(en("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ete extends G8{constructor(t,e,i,r,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,a),this.It=s}jo(t,e){return this.connection.wo("Listen",t,e)}onMessage(t){this.xo.reset();const e=function gD(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(d=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===d?1:"REMOVE"===d?2:"CURRENT"===d?3:"RESET"===d?4:qn(),r=t.targetChange.targetIds||[],s=function(d,A){return d.gt?(Ci(void 0===A||"string"==typeof A),el.fromBase64String(A||"")):(Ci(void 0===A||A instanceof Uint8Array),el.fromUint8Array(A||new Uint8Array))}(n,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(d){const A=void 0===d.code?wt.UNKNOWN:e5(d.code);return new Zt(A,d.message||"")}(a);e=new AF(i,r,s,l||null)}else if("documentChange"in t){const i=t.documentChange,r=Op(n,i.document.name),s=Vl(i.document.updateTime),a=new wl({mapValue:{fields:i.document.fields}}),l=Rs.newFoundDocument(r,s,a);e=new Qb(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){const i=t.documentDelete,r=Op(n,i.document),s=i.readTime?Vl(i.readTime):vi.min(),a=Rs.newNoDocument(r,s);e=new Qb([],i.removedTargetIds||[],a.key,a)}else if("documentRemove"in t){const i=t.documentRemove,r=Op(n,i.document);e=new Qb([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return qn();{const i=t.filter,s=new JN(i.count||0);e=new r5(i.targetId,s)}}var d;return e}(this.It,t),i=function(r){if(!("targetChange"in r))return vi.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?vi.min():s.readTime?Vl(s.readTime):vi.min()}(t);return this.listener.Wo(e,i)}zo(t){const e={};e.database=wy(this.It),e.addTarget=function(r,s){let a;const l=s.target;return a=Lb(l)?{documents:yD(r,l)}:{query:bx(r,l)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?a.resumeToken=gF(r,s.resumeToken):s.snapshotVersion.compareTo(vi.min())>0&&(a.readTime=jb(r,s.snapshotVersion.toTimestamp())),a}(this.It,t);const i=function vF(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return qn()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Bo(e)}Ho(t){const e={};e.database=wy(this.It),e.removeTarget=t,this.Bo(e)}}class tte extends G8{constructor(t,e,i,r,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,a),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(t,e){return this.connection.wo("Write",t,e)}onMessage(t){if(Ci(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function _D(n,t){return n&&n.length>0?(Ci(void 0!==t),n.map(e=>function(i,r){let s=Vl(i.updateTime?i.updateTime:r);return s.isEqual(vi.min())&&(s=Vl(r)),new YN(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Vl(t.commitTime);return this.listener.Zo(i,e)}return Ci(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=wy(this.It),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>zb(this.It,i))};this.Bo(e)}}class nte extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new Zt(wt.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,e,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.ao(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Zt(wt.UNKNOWN,r.toString())})}_o(t,e,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection._o(t,e,i,s,a,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Zt(wt.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class rte{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ha(e),this.ou=!1):en("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class ste{constructor(t,e,i,r,s){var a=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(l=>{i.enqueueAndForget((0,Tt.Z)(function*(){var d;Dy(a)&&(en("RemoteStore","Restarting streams for network reachability change."),yield(d=(0,Tt.Z)(function*(A){const p=wn(A);p._u.add(4),yield kx(p),p.gu.set("Unknown"),p._u.delete(4),yield OD(p)}),function(A){return d.apply(this,arguments)})(a))}))}),this.gu=new rte(i,r)}}function OD(n){return U5.apply(this,arguments)}function U5(){return U5=(0,Tt.Z)(function*(n){if(Dy(n))for(const t of n.wu)yield t(!0)}),U5.apply(this,arguments)}function kx(n){return H5.apply(this,arguments)}function H5(){return H5=(0,Tt.Z)(function*(n){for(const t of n.wu)yield t(!1)}),H5.apply(this,arguments)}function XF(n,t){const e=wn(n);e.du.has(t.targetId)||(e.du.set(t.targetId,t),j5(e)?V5(e):Ox(e).ko()&&Q5(e,t))}function LD(n,t){const e=wn(n),i=Ox(e);e.du.delete(t),i.ko()&&q8(e,t),0===e.du.size&&(i.ko()?i.Fo():Dy(e)&&e.gu.set("Unknown"))}function Q5(n,t){n.yu.Mt(t.targetId),Ox(n).zo(t)}function q8(n,t){n.yu.Mt(t),Ox(n).Ho(t)}function V5(n){n.yu=new s5({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),se:t=>n.du.get(t)||null}),Ox(n).start(),n.gu.uu()}function j5(n){return Dy(n)&&!Ox(n).No()&&n.du.size>0}function Dy(n){return 0===wn(n)._u.size}function K8(n){n.yu=void 0}function ote(n){return z5.apply(this,arguments)}function z5(){return z5=(0,Tt.Z)(function*(n){n.du.forEach((t,e)=>{Q5(n,t)})}),z5.apply(this,arguments)}function ate(n,t){return G5.apply(this,arguments)}function G5(){return G5=(0,Tt.Z)(function*(n,t){K8(n),j5(n)?(n.gu.hu(t),V5(n)):n.gu.set("Unknown")}),G5.apply(this,arguments)}function lte(n,t,e){return q5.apply(this,arguments)}function q5(){return q5=(0,Tt.Z)(function*(n,t,e){if(n.gu.set("Online"),t instanceof AF&&2===t.state&&t.cause)try{yield(i=(0,Tt.Z)(function*(r,s){const a=s.cause;for(const l of s.targetIds)r.du.has(l)&&(yield r.remoteSyncer.rejectListen(l,a),r.du.delete(l),r.yu.removeTarget(l))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){en("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield ek(n,i)}else if(t instanceof Qb?n.yu.Gt(t):t instanceof r5?n.yu.Yt(t):n.yu.Wt(t),!e.isEqual(vi.min()))try{const i=yield O8(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const a=r.yu.te(s);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){const A=r.du.get(d);A&&r.du.set(d,A.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach(l=>{const d=r.du.get(l);if(!d)return;r.du.set(l,d.withResumeToken(el.EMPTY_BYTE_STRING,d.snapshotVersion)),q8(r,l);const A=new by(d.target,l,1,d.sequenceNumber);Q5(r,A)}),r.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){en("RemoteStore","Failed to raise snapshot:",i),yield ek(n,i)}var i}),q5.apply(this,arguments)}function ek(n,t,e){return K5.apply(this,arguments)}function K5(){return K5=(0,Tt.Z)(function*(n,t,e){if(!Bp(t))throw t;n._u.add(1),yield kx(n),n.gu.set("Offline"),e||(e=()=>O8(n.localStore)),n.asyncQueue.enqueueRetryable((0,Tt.Z)(function*(){en("RemoteStore","Retrying IndexedDB access"),yield e(),n._u.delete(1),yield OD(n)}))}),K5.apply(this,arguments)}function Z8(n,t){return t().catch(e=>ek(n,e,t))}function Rx(n){return Z5.apply(this,arguments)}function Z5(){return Z5=(0,Tt.Z)(function*(n){const t=wn(n),e=E0(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;cte(t);)try{const r=yield Kee(t.localStore,i);if(null===r){0===t.fu.length&&e.Fo();break}i=r.batchId,ute(t,r)}catch(r){yield ek(t,r)}W8(t)&&Y8(t)}),Z5.apply(this,arguments)}function cte(n){return Dy(n)&&n.fu.length<10}function ute(n,t){n.fu.push(t);const e=E0(n);e.ko()&&e.Yo&&e.Xo(t.mutations)}function W8(n){return Dy(n)&&!E0(n).No()&&n.fu.length>0}function Y8(n){E0(n).start()}function dte(n){return W5.apply(this,arguments)}function W5(){return W5=(0,Tt.Z)(function*(n){E0(n).eu()}),W5.apply(this,arguments)}function hte(n){return Y5.apply(this,arguments)}function Y5(){return Y5=(0,Tt.Z)(function*(n){const t=E0(n);for(const e of n.fu)t.Xo(e.mutations)}),Y5.apply(this,arguments)}function Ate(n,t,e){return $5.apply(this,arguments)}function $5(){return $5=(0,Tt.Z)(function*(n,t,e){const i=n.fu.shift(),r=OF.from(i,t,e);yield Z8(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Rx(n)}),$5.apply(this,arguments)}function fte(n,t){return J5.apply(this,arguments)}function J5(){return J5=(0,Tt.Z)(function*(n,t){var e;t&&E0(n).Yo&&(yield(e=(0,Tt.Z)(function*(i,r){if(XN(s=r.code)&&s!==wt.ABORTED){const a=i.fu.shift();E0(i).Mo(),yield Z8(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),yield Rx(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),W8(n)&&Y8(n)}),J5.apply(this,arguments)}function $8(n,t){return X5.apply(this,arguments)}function X5(){return X5=(0,Tt.Z)(function*(n,t){const e=wn(n);e.asyncQueue.verifyOperationInProgress(),en("RemoteStore","RemoteStore received new credentials");const i=Dy(e);e._u.add(3),yield kx(e),i&&e.gu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),yield OD(e)}),X5.apply(this,arguments)}function eU(n,t){return tU.apply(this,arguments)}function tU(){return tU=(0,Tt.Z)(function*(n,t){const e=wn(n);t?(e._u.delete(2),yield OD(e)):t||(e._u.add(2),yield kx(e),e.gu.set("Unknown"))}),tU.apply(this,arguments)}function Ox(n){return n.pu||(n.pu=function(t,e,i){const r=wn(t);return r.su(),new ete(e,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:ote.bind(null,n),Zr:ate.bind(null,n),Wo:lte.bind(null,n)}),n.wu.push(function(){var t=(0,Tt.Z)(function*(e){e?(n.pu.Mo(),j5(n)?V5(n):n.gu.set("Unknown")):(yield n.pu.stop(),K8(n))});return function(e){return t.apply(this,arguments)}}())),n.pu}function E0(n){return n.Iu||(n.Iu=function(t,e,i){const r=wn(t);return r.su(),new tte(e,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:dte.bind(null,n),Zr:fte.bind(null,n),tu:hte.bind(null,n),Zo:Ate.bind(null,n)}),n.wu.push(function(){var t=(0,Tt.Z)(function*(e){e?(n.Iu.Mo(),yield Rx(n)):(yield n.Iu.stop(),n.fu.length>0&&(en("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Iu}class nU{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Xa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(t,e,i,r,s){const a=Date.now()+i,l=new nU(t,e,a,r,s);return l.start(i),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Zt(wt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lx(n,t){if(ha("AsyncQueue",`${t}: ${n}`),Bp(n))return new Zt(wt.UNAVAILABLE,`${t}: ${n}`);throw n}class Px{constructor(t){this.comparator=t?(e,i)=>t(e,i)||mn.comparator(e.key,i.key):(e,i)=>mn.comparator(e.key,i.key),this.keyedMap=vx(),this.sortedSet=new Aa(this.comparator)}static emptySet(t){return new Px(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Px)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Px;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class J8{constructor(){this.Tu=new Aa(mn.comparator)}track(t){const e=t.doc.key,i=this.Tu.get(e);i?0!==t.type&&3===i.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==i.type?this.Tu=this.Tu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Tu=this.Tu.remove(e):1===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):qn():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Nx{constructor(t,e,i,r,s,a,l,d,A){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=d,this.hasCachedResults=A}static fromInitialDocuments(t,e,i,r,s){const a=[];return e.forEach(l=>{a.push({type:0,doc:l})}),new Nx(t,e,Px.emptySet(e),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Pb(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class pte{constructor(){this.Au=void 0,this.listeners=[]}}class gte{constructor(){this.queries=new vy(t=>gx(t),Pb),this.onlineState="Unknown",this.Ru=new Set}}function iU(n,t){return rU.apply(this,arguments)}function rU(){return rU=(0,Tt.Z)(function*(n,t){const e=wn(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new pte),r)try{s.Au=yield e.onListen(i)}catch(a){const l=Lx(a,`Initialization of query '${rD(t.query)}' failed`);return void t.onError(l)}e.queries.set(i,s),s.listeners.push(t),t.bu(e.onlineState),s.Au&&t.Pu(s.Au)&&aU(e)}),rU.apply(this,arguments)}function sU(n,t){return oU.apply(this,arguments)}function oU(){return oU=(0,Tt.Z)(function*(n,t){const e=wn(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const a=s.listeners.indexOf(t);a>=0&&(s.listeners.splice(a,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),oU.apply(this,arguments)}function mte(n,t){const e=wn(n);let i=!1;for(const r of t){const a=e.queries.get(r.query);if(a){for(const l of a.listeners)l.Pu(r)&&(i=!0);a.Au=r}}i&&aU(e)}function _te(n,t,e){const i=wn(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function aU(n){n.Ru.forEach(t=>{t.next()})}class lU{constructor(t,e,i){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Nx(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){return!t.fromCache||(!this.options.Nu||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Du(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(t){t=Nx.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Vu=!0,this.vu.next(t)}}class yte{constructor(t,e){this.ku=t,this.byteLength=e}Ou(){return"metadata"in this.ku}}class X8{constructor(t){this.It=t}Ji(t){return Op(this.It,t)}Yi(t){return t.metadata.exists?hd(this.It,t.document,!1):Rs.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return Vl(t)}}class vte{constructor(t,e,i){this.Mu=t,this.localStore=e,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ej(t)}Fu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.ku.namedQuery)this.queries.push(t.ku.namedQuery);else if(t.ku.documentMetadata){this.documents.push({metadata:t.ku.documentMetadata}),t.ku.documentMetadata.exists||++e;const i=kr.fromString(t.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.ku.document&&(this.documents[this.documents.length-1].document=t.ku.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}$u(t){const e=new Map,i=new X8(this.It);for(const r of t)if(r.metadata.queries){const s=i.Ji(r.metadata.name);for(const a of r.metadata.queries){const l=(e.get(a)||Zi()).add(s);e.set(a,l)}}return e}complete(){var t=this;return(0,Tt.Z)(function*(){const e=yield function Zee(n,t,e,i){return B5.apply(this,arguments)}(t.localStore,new X8(t.It),t.documents,t.Mu.id),i=t.$u(t.documents);for(const r of t.queries)yield Wee(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Bu:t.collectionGroups,Lu:e}})()}}function ej(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class tj{constructor(t){this.key=t}}class nj{constructor(t){this.key=t}}class ij{constructor(t,e){this.query=t,this.Uu=e,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Zi(),this.mutatedKeys=Zi(),this.Gu=aF(t),this.Qu=new Px(this.Gu)}get ju(){return this.Uu}Wu(t,e){const i=e?e.zu:new J8,r=e?e.Qu:this.Qu;let s=e?e.mutatedKeys:this.mutatedKeys,a=r,l=!1;const d="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,A="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((p,_)=>{const x=r.get(p),C=mx(this.query,_)?_:null,F=!!x&&this.mutatedKeys.has(x.key),R=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let U=!1;x&&C?x.data.isEqual(C.data)?F!==R&&(i.track({type:3,doc:C}),U=!0):this.Hu(x,C)||(i.track({type:2,doc:C}),U=!0,(d&&this.Gu(C,d)>0||A&&this.Gu(C,A)<0)&&(l=!0)):!x&&C?(i.track({type:0,doc:C}),U=!0):x&&!C&&(i.track({type:1,doc:x}),U=!0,(d||A)&&(l=!0)),U&&(C?(a=a.add(C),s=R?s.add(p):s.delete(p)):(a=a.delete(p),s=s.delete(p)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const p="F"===this.query.limitType?a.last():a.first();a=a.delete(p.key),s=s.delete(p.key),i.track({type:1,doc:p})}return{Qu:a,zu:i,$i:l,mutatedKeys:s}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const s=t.zu.Eu();s.sort((A,p)=>function(_,x){const C=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qn()}};return C(_)-C(x)}(A.type,p.type)||this.Gu(A.doc,p.doc)),this.Ju(i);const a=e?this.Yu():[],l=0===this.Ku.size&&this.current?1:0,d=l!==this.qu;return this.qu=l,0!==s.length||d?{snapshot:new Nx(this.query,t.Qu,r,s,t.mutatedKeys,0===l,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:a}:{Xu:a}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new J8,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.Uu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(e=>this.Uu=this.Uu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Uu=this.Uu.delete(e)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=Zi(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const e=[];return t.forEach(i=>{this.Ku.has(i)||e.push(new nj(i))}),this.Ku.forEach(i=>{t.has(i)||e.push(new tj(i))}),e}tc(t){this.Uu=t.Hi,this.Ku=Zi();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ec(){return Nx.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class wte{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class bte{constructor(t){this.key=t,this.nc=!1}}class Cte{constructor(t,e,i,r,s,a){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.sc={},this.ic=new vy(l=>gx(l),Pb),this.rc=new Map,this.oc=new Set,this.uc=new Aa(mn.comparator),this.cc=new Map,this.ac=new fi,this.hc={},this.lc=new Map,this.fc=S0.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function xte(n,t){return cU.apply(this,arguments)}function cU(){return cU=(0,Tt.Z)(function*(n,t){const e=FU(n);let i,r;const s=e.ic.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.ec();else{const a=yield Bx(e.localStore,uc(t));e.isPrimaryClient&&XF(e.remoteStore,a);const l=e.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=yield uU(e,t,i,"current"===l,a.resumeToken)}return r}),cU.apply(this,arguments)}function uU(n,t,e,i,r){return dU.apply(this,arguments)}function dU(){return dU=(0,Tt.Z)(function*(n,t,e,i,r){n._c=(_,x,C)=>{return(F=(0,Tt.Z)(function*(R,U,Q,K){let ie=U.view.Wu(Q);ie.$i&&(ie=yield WF(R.localStore,U.query,!1).then(({documents:Se})=>U.view.Wu(Se,ie)));const ce=K&&K.targetChanges.get(U.targetId),pe=U.view.applyChanges(ie,R.isPrimaryClient,ce);return wU(R,U.targetId,pe.Xu),pe.snapshot}),function(R,U,Q,K){return F.apply(this,arguments)})(n,_,x,C);var F};const s=yield WF(n.localStore,t,!0),a=new ij(t,s.Hi),l=a.Wu(s.documents),d=Hb.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),A=a.applyChanges(l,n.isPrimaryClient,d);wU(n,e,A.Xu);const p=new wte(t,e,a);return n.ic.set(t,p),n.rc.has(e)?n.rc.get(e).push(t):n.rc.set(e,[t]),A.snapshot}),dU.apply(this,arguments)}function Ste(n,t){return hU.apply(this,arguments)}function hU(){return hU=(0,Tt.Z)(function*(n,t){const e=wn(n),i=e.ic.get(t),r=e.rc.get(i.targetId);if(r.length>1)return e.rc.set(i.targetId,r.filter(s=>!Pb(s,t))),void e.ic.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Fx(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),LD(e.remoteStore,i.targetId),Ux(e,i.targetId)}).catch(dm))):(Ux(e,i.targetId),yield Fx(e.localStore,i.targetId,!0))}),hU.apply(this,arguments)}function AU(){return AU=(0,Tt.Z)(function*(n,t,e){const i=kU(n);try{const r=yield function(s,a){const l=wn(s),d=fo.now(),A=a.reduce((x,C)=>x.add(C.key),Zi());let p,_;return l.persistence.runTransaction("Locally write mutations","readwrite",x=>{let C=cd(),F=Zi();return l.Gi.getEntries(x,A).next(R=>{C=R,C.forEach((U,Q)=>{Q.isValidDocument()||(F=F.add(U))})}).next(()=>l.localDocuments.getOverlayedDocuments(x,C)).next(R=>{p=R;const U=[];for(const Q of a){const K=$N(Q,p.get(Q.key).overlayedDocument);null!=K&&U.push(new Rp(Q.key,K,Ax(K.value.mapValue),go.exists(!0)))}return l.mutationQueue.addMutationBatch(x,d,U,a)}).next(R=>{_=R;const U=R.applyToLocalDocumentSet(p,F);return l.documentOverlayCache.saveOverlays(x,R.batchId,U)})}).then(()=>({batchId:_.batchId,changes:n5(p)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,l){let d=s.hc[s.currentUser.toKey()];d||(d=new Aa(Oi)),d=d.insert(a,l),s.hc[s.currentUser.toKey()]=d}(i,r.batchId,e),yield Ty(i,r.changes),yield Rx(i.remoteStore)}catch(r){const s=Lx(r,"Failed to persist write");e.reject(s)}}),AU.apply(this,arguments)}function rj(n,t){return fU.apply(this,arguments)}function fU(){return fU=(0,Tt.Z)(function*(n,t){const e=wn(n);try{const i=yield qee(e.localStore,t);t.targetChanges.forEach((r,s)=>{const a=e.cc.get(s);a&&(Ci(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.nc=!0:r.modifiedDocuments.size>0?Ci(a.nc):r.removedDocuments.size>0&&(Ci(a.nc),a.nc=!1))}),yield Ty(e,i,t)}catch(i){yield dm(i)}}),fU.apply(this,arguments)}function sj(n,t,e){const i=wn(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ic.forEach((s,a)=>{const l=a.view.bu(t);l.snapshot&&r.push(l.snapshot)}),function(s,a){const l=wn(s);l.onlineState=a;let d=!1;l.queries.forEach((A,p)=>{for(const _ of p.listeners)_.bu(a)&&(d=!0)}),d&&aU(l)}(i.eventManager,t),r.length&&i.sc.Wo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Ite(n,t,e){return pU.apply(this,arguments)}function pU(){return pU=(0,Tt.Z)(function*(n,t,e){const i=wn(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.cc.get(t),s=r&&r.key;if(s){let a=new Aa(mn.comparator);a=a.insert(s,Rs.newNoDocument(s,vi.min()));const l=Zi().add(s),d=new v0(vi.min(),new Map,new fs(Oi),a,l);yield rj(i,d),i.uc=i.uc.remove(s),i.cc.delete(t),bU(i)}else yield Fx(i.localStore,t,!1).then(()=>Ux(i,t,e)).catch(dm)}),pU.apply(this,arguments)}function Dte(n,t){return gU.apply(this,arguments)}function gU(){return gU=(0,Tt.Z)(function*(n,t){const e=wn(n),i=t.batch.batchId;try{const r=yield Gee(e.localStore,t);vU(e,i,null),yU(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Ty(e,r)}catch(r){yield dm(r)}}),gU.apply(this,arguments)}function Tte(n,t,e){return mU.apply(this,arguments)}function mU(){return mU=(0,Tt.Z)(function*(n,t,e){const i=wn(n);try{const r=yield function(s,a){const l=wn(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let A;return l.mutationQueue.lookupMutationBatch(d,a).next(p=>(Ci(null!==p),A=p.keys(),l.mutationQueue.removeMutationBatch(d,p))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,A,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,A)).next(()=>l.localDocuments.getDocuments(d,A))})}(i.localStore,t);vU(i,t,e),yU(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Ty(i,r)}catch(r){yield dm(r)}}),mU.apply(this,arguments)}function _U(){return _U=(0,Tt.Z)(function*(n,t){const e=wn(n);Dy(e.remoteStore)||en("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=wn(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(e.localStore);if(-1===i)return void t.resolve();const r=e.lc.get(i)||[];r.push(t),e.lc.set(i,r)}catch(i){const r=Lx(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),_U.apply(this,arguments)}function yU(n,t){(n.lc.get(t)||[]).forEach(e=>{e.resolve()}),n.lc.delete(t)}function vU(n,t,e){const i=wn(n);let r=i.hc[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.hc[i.currentUser.toKey()]=r}}function Ux(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.rc.get(t))n.ic.delete(i),e&&n.sc.wc(i,e);n.rc.delete(t),n.isPrimaryClient&&n.ac.ls(t).forEach(i=>{n.ac.containsKey(i)||oj(n,i)})}function oj(n,t){n.oc.delete(t.path.canonicalString());const e=n.uc.get(t);null!==e&&(LD(n.remoteStore,e),n.uc=n.uc.remove(t),n.cc.delete(e),bU(n))}function wU(n,t,e){for(const i of e)i instanceof tj?(n.ac.addReference(i.key,t),Bte(n,i)):i instanceof nj?(en("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,t),n.ac.containsKey(i.key)||oj(n,i.key)):qn()}function Bte(n,t){const e=t.key,i=e.path.canonicalString();n.uc.get(e)||n.oc.has(i)||(en("SyncEngine","New document in limbo: "+e),n.oc.add(i),bU(n))}function bU(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const t=n.oc.values().next().value;n.oc.delete(t);const e=new mn(kr.fromString(t)),i=n.fc.next();n.cc.set(i,new bte(e)),n.uc=n.uc.insert(e,i),XF(n.remoteStore,new by(uc(cA(e.path)),i,2,ld.at))}}function Ty(n,t,e){return CU.apply(this,arguments)}function CU(){return CU=(0,Tt.Z)(function*(n,t,e){const i=wn(n),r=[],s=[],a=[];var l;i.ic.isEmpty()||(i.ic.forEach((l,d)=>{a.push(i._c(d,t,e).then(A=>{if((A||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,A?.fromCache?"not-current":"current"),A){r.push(A);const p=D5.Ci(d.targetId,A);s.push(p)}}))}),yield Promise.all(a),i.sc.Wo(r),yield(l=(0,Tt.Z)(function*(d,A){const p=wn(d);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>gt.forEach(A,x=>gt.forEach(x.Si,C=>p.persistence.referenceDelegate.addReference(_,x.targetId,C)).next(()=>gt.forEach(x.Di,C=>p.persistence.referenceDelegate.removeReference(_,x.targetId,C)))))}catch(_){if(!Bp(_))throw _;en("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of A){const x=_.targetId;if(!_.fromCache){const C=p.Ui.get(x),R=C.withLastLimboFreeSnapshotVersion(C.snapshotVersion);p.Ui=p.Ui.insert(x,R)}}}),function(d,A){return l.apply(this,arguments)})(i.localStore,s))}),CU.apply(this,arguments)}function Fte(n,t){return xU.apply(this,arguments)}function xU(){return xU=(0,Tt.Z)(function*(n,t){const e=wn(n);if(!e.currentUser.isEqual(t)){en("SyncEngine","User change. New user:",t.toKey());const i=yield R8(e.localStore,t);e.currentUser=t,(r=e).lc.forEach(a=>{a.forEach(l=>{l.reject(new Zt(wt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Ty(e,i.ji)}var r}),xU.apply(this,arguments)}function kte(n,t){const e=wn(n),i=e.cc.get(t);if(i&&i.nc)return Zi().add(i.key);{let r=Zi();const s=e.rc.get(t);if(!s)return r;for(const a of s){const l=e.ic.get(a);r=r.unionWith(l.view.ju)}return r}}function Rte(n,t){return SU.apply(this,arguments)}function SU(){return SU=(0,Tt.Z)(function*(n,t){const e=wn(n),i=yield WF(e.localStore,t.query,!0),r=t.view.tc(i);return e.isPrimaryClient&&wU(e,t.targetId,r.Xu),r}),SU.apply(this,arguments)}function Ote(n,t){return EU.apply(this,arguments)}function EU(){return EU=(0,Tt.Z)(function*(n,t){const e=wn(n);return N8(e.localStore,t).then(i=>Ty(e,i))}),EU.apply(this,arguments)}function Lte(n,t,e,i){return IU.apply(this,arguments)}function IU(){return IU=(0,Tt.Z)(function*(n,t,e,i){const r=wn(n),s=yield function(a,l){const d=wn(a),A=wn(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",p=>A.Tn(p,l).next(_=>_?d.localDocuments.getDocuments(p,_):gt.resolve(null)))}(r.localStore,t);var l;null!==s?("pending"===e?yield Rx(r.remoteStore):"acknowledged"===e||"rejected"===e?(vU(r,t,i||null),yU(r,t),l=t,wn(wn(r.localStore).mutationQueue).An(l)):qn(),yield Ty(r,s)):en("SyncEngine","Cannot apply mutation batch with id: "+t)}),IU.apply(this,arguments)}function DU(){return DU=(0,Tt.Z)(function*(n,t){const e=wn(n);if(FU(e),kU(e),!0===t&&!0!==e.dc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield aj(e,i.toArray());e.dc=!0,yield eU(e.remoteStore,!0);for(const s of r)XF(e.remoteStore,s)}else if(!1===t&&!1!==e.dc){const i=[];let r=Promise.resolve();e.rc.forEach((s,a)=>{e.sharedClientState.isLocalQueryTarget(a)?i.push(a):r=r.then(()=>(Ux(e,a),Fx(e.localStore,a,!0))),LD(e.remoteStore,a)}),yield r,yield aj(e,i),function(s){const a=wn(s);a.cc.forEach((l,d)=>{LD(a.remoteStore,d)}),a.ac.fs(),a.cc=new Map,a.uc=new Aa(mn.comparator)}(e),e.dc=!1,yield eU(e.remoteStore,!1)}}),DU.apply(this,arguments)}function aj(n,t,e){return TU.apply(this,arguments)}function TU(){return TU=(0,Tt.Z)(function*(n,t,e){const i=wn(n),r=[],s=[];for(const a of t){let l;const d=i.rc.get(a);if(d&&0!==d.length){l=yield Bx(i.localStore,uc(d[0]));for(const A of d){const p=i.ic.get(A),_=yield Rte(i,p);_.snapshot&&s.push(_.snapshot)}}else{const A=yield P8(i.localStore,a);l=yield Bx(i.localStore,A),yield uU(i,lj(A),a,!1,l.resumeToken)}r.push(l)}return i.sc.Wo(s),r}),TU.apply(this,arguments)}function lj(n){return cc(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Nte(n){const t=wn(n);return wn(wn(t.localStore).persistence).vi()}function Ute(n,t,e,i){return MU.apply(this,arguments)}function MU(){return MU=(0,Tt.Z)(function*(n,t,e,i){const r=wn(n);if(r.dc)return void en("SyncEngine","Ignoring unexpected query state notification.");const s=r.rc.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const a=yield N8(r.localStore,oF(s[0])),l=v0.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,el.EMPTY_BYTE_STRING);yield Ty(r,a,l);break}case"rejected":yield Fx(r.localStore,t,!0),Ux(r,t,i);break;default:qn()}}),MU.apply(this,arguments)}function Hte(n,t,e){return BU.apply(this,arguments)}function BU(){return BU=(0,Tt.Z)(function*(n,t,e){const i=FU(n);if(i.dc){for(const r of t){if(i.rc.has(r)){en("SyncEngine","Adding an already active target "+r);continue}const s=yield P8(i.localStore,r),a=yield Bx(i.localStore,s);yield uU(i,lj(s),a.targetId,!1,a.resumeToken),XF(i.remoteStore,a)}for(const r of e)i.rc.has(r)&&(yield Fx(i.localStore,r,!1).then(()=>{LD(i.remoteStore,r),Ux(i,r)}).catch(dm))}}),BU.apply(this,arguments)}function FU(n){const t=wn(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=rj.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=kte.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ite.bind(null,t),t.sc.Wo=mte.bind(null,t.eventManager),t.sc.wc=_te.bind(null,t.eventManager),t}function kU(n){const t=wn(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Dte.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Tte.bind(null,t),t}class cj{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Tt.Z)(function*(){e.It=RD(t.databaseInfo.databaseId),e.sharedClientState=e.gc(t),e.persistence=e.yc(t),yield e.persistence.start(),e.localStore=e.Ic(t),e.gcScheduler=e.Tc(t,e.localStore),e.indexBackfillerScheduler=e.Ec(t,e.localStore)})()}Tc(t,e){return null}Ec(t,e){return null}Ic(t){return k8(this.persistence,new F8,t.initialUser,this.It)}yc(t){return new M8(KF.Bs,this.It)}gc(t){return new V8}terminate(){var t=this;return(0,Tt.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class uj extends cj{constructor(t,e,i){super(),this.Ac=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Tt.Z)(function*(){yield e().call(i,t),yield i.Ac.initialize(i,t),yield kU(i.Ac.syncEngine),yield Rx(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(t){return k8(this.persistence,new F8,t.initialUser,this.It)}Tc(t,e){return new u(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Ec(t,e){const i=new VB(e,this.persistence);return new HN(t.asyncQueue,i)}yc(t){const e=I5(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?_u.withCacheSize(this.cacheSizeBytes):_u.DEFAULT;return new E5(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,z8(),JF(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(t){return new V8}}class Vte extends uj{constructor(t,e){super(t,e,!1),this.Ac=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Tt.Z)(function*(){yield e().call(i,t);const r=i.Ac.syncEngine;i.sharedClientState instanceof L5&&(i.sharedClientState.syncEngine={Fr:Lte.bind(null,r),$r:Ute.bind(null,r),Br:Hte.bind(null,r),vi:Nte.bind(null,r),Mr:Ote.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var s=(0,Tt.Z)(function*(a){yield function Pte(n,t){return DU.apply(this,arguments)}(i.Ac.syncEngine,a),i.gcScheduler&&(a&&!i.gcScheduler.started?i.gcScheduler.start():a||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(a&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():a||i.indexBackfillerScheduler.stop())});return function(a){return s.apply(this,arguments)}}())})()}gc(t){const e=z8();if(!L5.C(e))throw new Zt(wt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=I5(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new L5(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class RU{initialize(t,e){var i=this;return(0,Tt.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>sj(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Fte.bind(null,i.syncEngine),yield eU(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new gte}createDatastore(t){const e=RD(t.databaseInfo.databaseId),i=new Xee(t.databaseInfo);return new nte(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=l=>sj(this.syncEngine,l,0),a=j8.C()?new j8:new Yee,new ste(e,i,r,s,a);var e,i,r,s,a}createSyncEngine(t,e){return function(i,r,s,a,l,d,A){const p=new Cte(i,r,s,a,l,d);return A&&(p.dc=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Tt.Z)(function*(e){const i=wn(e);en("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield kx(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function OU(n,t,e){if(!e)throw new Zt(wt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function dj(n,t,e,i){if(!0===t&&!0===i)throw new Zt(wt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function hj(n){if(!mn.isDocumentKey(n))throw new Zt(wt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Aj(n){if(mn.isDocumentKey(n))throw new Zt(wt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function tk(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":qn()}function Rr(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Zt(wt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=tk(n);throw new Zt(wt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function fj(n,t){if(t<=0)throw new Zt(wt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}const pj=new Map;class gj{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Zt(wt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Zt(wt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,dj("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class PD{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Zt(wt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Zt(wt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gj(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new BN;switch(e.type){case"gapi":return new RN(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Zt(wt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=pj.get(t);e&&(en("ComponentProvider","Removing Datastore"),pj.delete(t),e.terminate())}(this),Promise.resolve()}}class Bo{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sm(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Bo(this.firestore,t,this._key)}}class yu{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new yu(this.firestore,t,this._query)}}class Sm extends yu{constructor(t,e,i){super(t,e,cA(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Bo(this.firestore,null,new mn(t))}withConverter(t){return new Sm(this.firestore,t,this._path)}}function _j(n,t,...e){if(n=(0,he.m9)(n),OU("collection","path",t),n instanceof PD){const i=kr.fromString(t,...e);return Aj(i),new Sm(n,null,i)}{if(!(n instanceof Bo||n instanceof Sm))throw new Zt(wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(kr.fromString(t,...e));return Aj(i),new Sm(n.firestore,null,i)}}function nk(n,t,...e){if(n=(0,he.m9)(n),1===arguments.length&&(t=LB.R()),OU("doc","path",t),n instanceof PD){const i=kr.fromString(t,...e);return hj(i),new Bo(n,null,new mn(i))}{if(!(n instanceof Bo||n instanceof Sm))throw new Zt(wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(kr.fromString(t,...e));return hj(i),new Bo(n.firestore,n instanceof Sm?n.converter:null,new mn(i))}}function yj(n,t){return n=(0,he.m9)(n),t=(0,he.m9)(t),(n instanceof Bo||n instanceof Sm)&&(t instanceof Bo||t instanceof Sm)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function LU(n,t){return n=(0,he.m9)(n),t=(0,he.m9)(t),n instanceof yu&&t instanceof yu&&n.firestore===t.firestore&&Pb(n._query,t._query)&&n.converter===t.converter}function vj(n,t=10240){let e=0;return{read:()=>(0,Tt.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Tt.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ik{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):ha("Uncaught Error in snapshot listener:",t.toString())}bc(){this.muted=!0}Rc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class zte{constructor(t,e){this.Pc=t,this.It=e,this.metadata=new Xa,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var t=this;return(0,Tt.Z)(function*(){return t.metadata.promise})()}mc(){var t=this;return(0,Tt.Z)(function*(){return yield t.getMetadata(),t.Vc()})()}Vc(){var t=this;return(0,Tt.Z)(function*(){const e=yield t.Sc();if(null===e)return null;const i=t.vc.decode(e),r=Number(i);isNaN(r)&&t.Dc(`length string (${i}) is not valid number`);const s=yield t.Cc(r);return new yte(JSON.parse(s),e.length+r)})()}xc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Sc(){var t=this;return(0,Tt.Z)(function*(){for(;t.xc()<0&&!(yield t.Nc()););if(0===t.buffer.length)return null;const e=t.xc();e<0&&t.Dc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Cc(t){var e=this;return(0,Tt.Z)(function*(){for(;e.buffer.length<t;)(yield e.Nc())&&e.Dc("Reached the end of bundle when more is expected.");const i=e.vc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Dc(t){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${t}`)}Nc(){var t=this;return(0,Tt.Z)(function*(){const e=yield t.Pc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class Kte{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Tt.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Zt(wt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Tt.Z)(function*(s,a){const l=wn(s),d=wy(l.It)+"/documents",A={documents:a.map(C=>w0(l.It,C))},p=yield l._o("BatchGetDocuments",d,A,a.length),_=new Map;p.forEach(C=>{const F=function l5(n,t){return"found"in t?function(e,i){Ci(!!i.found);const r=Op(e,i.found.name),s=Vl(i.found.updateTime),a=new wl({mapValue:{fields:i.found.fields}});return Rs.newFoundDocument(r,s,a)}(n,t):"missing"in t?function(e,i){Ci(!!i.missing),Ci(!!i.readTime);const r=Op(e,i.missing),s=Vl(i.readTime);return Rs.newNoDocument(r,s)}(n,t):qn()}(l.It,C);_.set(F.key.toString(),F)});const x=[];return a.forEach(C=>{const F=_.get(C.toString());Ci(!!F),x.push(F)}),x}),function(s,a){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new yy(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Tt.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=mn.fromPath(r);t.mutations.push(new AD(s,t.precondition(s)))}),yield(i=(0,Tt.Z)(function*(r,s){const a=wn(r),l=wy(a.It)+"/documents",d={writes:s.map(A=>zb(a.It,A))};yield a.ao("Commit",l,d)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw qn();e=vi.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Zt(wt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(vi.min())?go.exists(!1):go.updateTime(e):go.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(vi.min()))throw new Zt(wt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return go.updateTime(e)}return go.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Zte{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.kc=i.maxAttempts,this.xo=new P5(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var t=this;this.xo.Ro((0,Tt.Z)(function*(){const e=new Kte(t.datastore),i=t.Mc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Fc(s)}))}).catch(r=>{t.Fc(r)})}))}Mc(t){try{const e=this.updateFunction(t);return!c0(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Fc(t){this.kc>0&&this.$c(t)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(t)}$c(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!XN(e)}return!1}}class Wte{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=vl.UNAUTHENTICATED,this.clientId=LB.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var a=(0,Tt.Z)(function*(l){en("FirestoreClient","Received user=",l.uid),yield s.authCredentialListener(l),s.user=l});return function(l){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(i,a=>(en("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var t=this;return(0,Tt.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Zt(wt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Xa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Tt.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Lx(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function wj(n,t){return PU.apply(this,arguments)}function PU(){return PU=(0,Tt.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),en("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Tt.Z)(function*(s){i.isEqual(s)||(yield R8(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),PU.apply(this,arguments)}function bj(n,t){return NU.apply(this,arguments)}function NU(){return NU=(0,Tt.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield UU(n);en("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>$8(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>$8(t.remoteStore,s)),n.onlineComponents=t}),NU.apply(this,arguments)}function UU(n){return HU.apply(this,arguments)}function HU(){return HU=(0,Tt.Z)(function*(n){return n.offlineComponents||(en("FirestoreClient","Using default OfflineComponentProvider"),yield wj(n,new cj)),n.offlineComponents}),HU.apply(this,arguments)}function rk(n){return QU.apply(this,arguments)}function QU(){return QU=(0,Tt.Z)(function*(n){return n.onlineComponents||(en("FirestoreClient","Using default OnlineComponentProvider"),yield bj(n,new RU)),n.onlineComponents}),QU.apply(this,arguments)}function Cj(n){return UU(n).then(t=>t.persistence)}function sk(n){return UU(n).then(t=>t.localStore)}function VU(n){return rk(n).then(t=>t.remoteStore)}function jU(n){return rk(n).then(t=>t.syncEngine)}function Hx(n){return zU.apply(this,arguments)}function zU(){return zU=(0,Tt.Z)(function*(n){const t=yield rk(n),e=t.eventManager;return e.onListen=xte.bind(null,t.syncEngine),e.onUnlisten=Ste.bind(null,t.syncEngine),e}),zU.apply(this,arguments)}function Sj(n,t,e={}){const i=new Xa;return n.asyncQueue.enqueueAndForget((0,Tt.Z)(function*(){return function(r,s,a,l,d){const A=new ik({next:_=>{s.enqueueAndForget(()=>sU(r,p));const x=_.docs.has(a);!x&&_.fromCache?d.reject(new Zt(wt.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&_.fromCache&&l&&"server"===l.source?d.reject(new Zt(wt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),p=new lU(cA(a.path),A,{includeMetadataChanges:!0,Nu:!0});return iU(r,p)}(yield Hx(n),n.asyncQueue,t,e,i)})),i.promise}function Ej(n,t,e={}){const i=new Xa;return n.asyncQueue.enqueueAndForget((0,Tt.Z)(function*(){return function(r,s,a,l,d){const A=new ik({next:_=>{s.enqueueAndForget(()=>sU(r,p)),_.fromCache&&"server"===l.source?d.reject(new Zt(wt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),p=new lU(a,A,{includeMetadataChanges:!0,Nu:!0});return iU(r,p)}(yield Hx(n),n.asyncQueue,t,e,i)})),i.promise}class ine{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new P5(this,"async_queue_retry"),this.Wc=()=>{const e=JF();e&&en("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.Po()};const t=JF();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.Uc){this.Uc=!0,this.Qc=t||!1;const e=JF();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.Uc)return new Promise(()=>{});const e=new Xa;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Lc.push(t),this.Jc()))}Jc(){var t=this;return(0,Tt.Z)(function*(){if(0!==t.Lc.length){try{yield t.Lc[0](),t.Lc.shift(),t.xo.reset()}catch(e){if(!Bp(e))throw e;en("AsyncQueue","Operation failed with retryable error: "+e)}t.Lc.length>0&&t.xo.Ro(()=>t.Jc())}})()}Hc(t){const e=this.Bc.then(()=>(this.Gc=!0,t().catch(i=>{throw this.Kc=i,this.Gc=!1,ha("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=e,e}enqueueAfterDelay(t,e,i){this.zc(),this.jc.indexOf(t)>-1&&(e=0);const r=nU.createAndSchedule(this,t,e,i,s=>this.Yc(s));return this.qc.push(r),r}zc(){this.Kc&&qn()}verifyOperationInProgress(){}Xc(){var t=this;return(0,Tt.Z)(function*(){let e;do{e=t.Bc,yield e}while(e!==t.Bc)})()}Zc(t){for(const e of this.qc)if(e.timerId===t)return!0;return!1}ta(t){return this.Xc().then(()=>{this.qc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.qc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Xc()})}ea(t){this.jc.push(t)}Yc(t){const e=this.qc.indexOf(t);this.qc.splice(e,1)}}function GU(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class rne{constructor(){this._progressObserver={},this._taskCompletionResolver=new Xa,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Fo extends PD{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new ine,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ij(this),this._firestoreClient.terminate()}}function nl(n){return n._firestoreClient||Ij(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Ij(n){var t;const e=n._freezeSettings(),i=(s=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new zB(n._databaseId,s,n._persistenceKey,(l=e).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams));var s,l;n._firestoreClient=new Wte(n._authCredentials,n._appCheckCredentials,n._queue,i)}function Dj(n,t,e){const i=new Xa;return n.asyncQueue.enqueue((0,Tt.Z)(function*(){try{yield wj(n,e),yield bj(n,t),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(a=s).name?a.code===wt.FAILED_PRECONDITION||a.code===wt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw s;um("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var a})).then(()=>i.promise)}function Tj(n){if(n._initialized||n._terminated)throw new Zt(wt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Em{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Em(el.fromBase64String(t))}catch(e){throw new Zt(wt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Em(el.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class My{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Zt(wt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new po(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Jb{constructor(t){this._methodName=t}}class ok{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Zt(wt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Zt(wt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Oi(this._lat,t._lat)||Oi(this._long,t._long)}}const fne=/^__.*__$/;class pne{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Rp(t,this.data,this.fieldMask,e,this.fieldTransforms):new _y(t,this.data,e,this.fieldTransforms)}}class Mj{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Rp(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Bj(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qn()}}class ak{constructor(t,e,i,r,s,a){this.settings=t,this.databaseId=e,this.It=i,this.ignoreUndefinedProperties=r,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new ak(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.ua(t),r}ca(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.na(),r}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return uk(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(0===t.length)throw this.ha("Document fields must not be empty");if(Bj(this.sa)&&fne.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class gne{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.It=i||RD(t)}da(t,e,i,r=!1){return new ak({sa:t,methodName:e,fa:i,path:po.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Xb(n){const t=n._freezeSettings(),e=RD(n._databaseId);return new gne(n._databaseId,!!t.ignoreUndefinedProperties,e)}function lk(n,t,e,i,r,s={}){const a=n.da(s.merge||s.mergeFields?2:0,t,e,r);WU("Data must be an object, but it was:",a,i);const l=Rj(i,a);let d,A;if(s.merge)d=new mu(a.fieldMask),A=a.fieldTransforms;else if(s.mergeFields){const p=[];for(const _ of s.mergeFields){const x=YU(t,_,e);if(!a.contains(x))throw new Zt(wt.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);Lj(p,x)||p.push(x)}d=new mu(p),A=a.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,A=a.fieldTransforms;return new pne(new wl(l),d,A)}class ND extends Jb{_toFieldTransform(t){if(2!==t.sa)throw t.ha(1===t.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ND}}function Fj(n,t,e){return new ak({sa:3,fa:t.settings.fa,methodName:n._methodName,oa:e},t.databaseId,t.It,t.ignoreUndefinedProperties)}class qU extends Jb{_toFieldTransform(t){return new yx(t.path,new g0)}isEqual(t){return t instanceof qU}}class mne extends Jb{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=Fj(this,t,!0),i=this._a.map(s=>eC(s,e)),r=new _m(i);return new yx(t.path,r)}isEqual(t){return this===t}}class _ne extends Jb{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=Fj(this,t,!0),i=this._a.map(s=>eC(s,e)),r=new my(i);return new yx(t.path,r)}isEqual(t){return this===t}}class yne extends Jb{constructor(t,e){super(t),this.wa=e}_toFieldTransform(t){const e=new ym(t.It,oD(t.It,this.wa));return new yx(t.path,e)}isEqual(t){return this===t}}function KU(n,t,e,i){const r=n.da(1,t,e);WU("Data must be an object, but it was:",r,i);const s=[],a=wl.empty();ly(i,(d,A)=>{const p=ck(t,d,e);A=(0,he.m9)(A);const _=r.ca(p);if(A instanceof ND)s.push(p);else{const x=eC(A,_);null!=x&&(s.push(p),a.set(p,x))}});const l=new mu(s);return new Mj(a,l,r.fieldTransforms)}function ZU(n,t,e,i,r,s){const a=n.da(1,t,e),l=[YU(t,i,e)],d=[r];if(s.length%2!=0)throw new Zt(wt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<s.length;x+=2)l.push(YU(t,s[x])),d.push(s[x+1]);const A=[],p=wl.empty();for(let x=l.length-1;x>=0;--x)if(!Lj(A,l[x])){const C=l[x];let F=d[x];F=(0,he.m9)(F);const R=a.ca(C);if(F instanceof ND)A.push(C);else{const U=eC(F,R);null!=U&&(A.push(C),p.set(C,U))}}const _=new mu(A);return new Mj(p,_,a.fieldTransforms)}function kj(n,t,e,i=!1){return eC(e,n.da(i?4:3,t))}function eC(n,t){if(Oj(n=(0,he.m9)(n)))return WU("Unsupported field value:",t,n),Rj(n,t);if(n instanceof Jb)return function(e,i){if(!Bj(i.sa))throw i.ha(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const a of e){let l=eC(a,i.aa(s));null==l&&(l={nullValue:"NULL_VALUE"}),r.push(l),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,he.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return oD(i.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=fo.fromDate(e);return{timestampValue:jb(i.It,r)}}if(e instanceof fo){const r=new fo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:jb(i.It,r)}}if(e instanceof ok)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Em)return{bytesValue:gF(i.It,e._byteString)};if(e instanceof Bo){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:fD(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ha(`Unsupported field value: ${tk(e)}`)}(n,t)}function Rj(n,t){const e={};return jB(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ly(n,(i,r)=>{const s=eC(r,t.ra(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function Oj(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof fo||n instanceof ok||n instanceof Em||n instanceof Bo||n instanceof Jb)}function WU(n,t,e){if(!Oj(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=tk(e);throw t.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function YU(n,t,e){if((t=(0,he.m9)(t))instanceof My)return t._internalPath;if("string"==typeof t)return ck(n,t);throw uk("Field path arguments must be of type string or ",n,!1,void 0,e)}const vne=new RegExp("[~\\*/\\[\\]]");function ck(n,t,e){if(t.search(vne)>=0)throw uk(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new My(...t.split("."))._internalPath}catch{throw uk(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function uk(n,t,e,i,r){const s=i&&!i.isEmpty(),a=void 0!==r;let l=`Function ${t}() called with invalid data`;e&&(l+=" (via `toFirestore()`)"),l+=". ";let d="";return(s||a)&&(d+=" (found",s&&(d+=` in field ${i}`),a&&(d+=` in document ${r}`),d+=")"),new Zt(wt.INVALID_ARGUMENT,l+n+d)}function Lj(n,t){return n.some(e=>e.isEqual(t))}class UD{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Bo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new wne(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(dk("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class wne extends UD{data(){return super.data()}}function dk(n,t){return"string"==typeof t?ck(n,t):t instanceof My?t._internalPath:t._delegate._internalPath}function Pj(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Zt(wt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class HD{}function I0(n,...t){for(const e of t)n=e._apply(n);return n}class bne extends HD{constructor(t,e,i){super(),this.ma=t,this.ga=e,this.ya=i,this.type="where"}_apply(t){const e=Xb(t.firestore),i=function(r,s,a,l,d,A,p){let _;if(d.isKeyField()){if("array-contains"===A||"array-contains-any"===A)throw new Zt(wt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if("in"===A||"not-in"===A){jj(p,A);const C=[];for(const F of p)C.push(Vj(l,r,F));_={arrayValue:{values:C}}}else _=Vj(l,r,p)}else"in"!==A&&"not-in"!==A&&"array-contains-any"!==A||jj(p,A),_=kj(a,"where",p,"in"===A||"not-in"===A);const x=Ql.create(d,A,_);return function(C,F){if(F.dt()){const U=rF(C);if(null!==U&&!U.isEqual(F.field))throw new Zt(wt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${U.toString()}' and '${F.field.toString()}'`);const Q=iD(C);null!==Q&&zj(0,F.field,Q)}const R=function(U,Q){for(const K of U.filters)if(Q.indexOf(K.op)>=0)return K.op;return null}(C,function(U){switch(U){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(F.op));if(null!==R)throw new Zt(wt.INVALID_ARGUMENT,R===F.op?`Invalid query. You cannot use more than one '${F.op.toString()}' filter.`:`Invalid query. You cannot use '${F.op.toString()}' filters with '${R.toString()}' filters.`)}(r,x),x}(t._query,0,e,t.firestore._databaseId,this.ma,this.ga,this.ya);return new yu(t.firestore,t.converter,function(r,s){const a=r.filters.concat([s]);return new kp(r.path,r.collectionGroup,r.explicitOrderBy.slice(),a,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class xne extends HD{constructor(t,e){super(),this.ma=t,this.pa=e,this.type="orderBy"}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new Zt(wt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Zt(wt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new Ay(r,s);return function(l,d){if(null===iD(l)){const A=rF(l);null!==A&&zj(0,A,d.field)}}(i,a),a}(t._query,this.ma,this.pa);return new yu(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new kp(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class Nj extends HD{constructor(t,e,i){super(),this.type=t,this.Ia=e,this.Ta=i}_apply(t){return new yu(t.firestore,t.converter,mm(t._query,this.Ia,this.Ta))}}class Uj extends HD{constructor(t,e,i){super(),this.type=t,this.Ea=e,this.Aa=i}_apply(t){const e=Qj(t,this.type,this.Ea,this.Aa);return new yu(t.firestore,t.converter,(r=e,new kp((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class Hj extends HD{constructor(t,e,i){super(),this.type=t,this.Ea=e,this.Aa=i}_apply(t){const e=Qj(t,this.type,this.Ea,this.Aa);return new yu(t.firestore,t.converter,(r=e,new kp((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function Qj(n,t,e,i){if(e[0]=(0,he.m9)(e[0]),e[0]instanceof UD)return function(r,s,a,l,d){if(!l)throw new Zt(wt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const A=[];for(const p of fy(r))if(p.field.isKeyField())A.push(lc(s,l.key));else{const _=l.data.field(p.field);if(uy(_))throw new Zt(wt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===_){const x=p.field.canonicalString();throw new Zt(wt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}A.push(_)}return new gm(A,d)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Xb(n.firestore);return function(s,a,l,d,A,p){const _=s.explicitOrderBy;if(A.length>_.length)throw new Zt(wt.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let C=0;C<A.length;C++){const F=A[C];if(_[C].field.isKeyField()){if("string"!=typeof F)throw new Zt(wt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof F}`);if(!sF(s)&&-1!==F.indexOf("/"))throw new Zt(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${F}' contains a slash.`);const R=s.path.child(kr.fromString(F));if(!mn.isDocumentKey(R))throw new Zt(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${R}' is not because it contains an odd number of segments.`);const U=new mn(R);x.push(lc(a,U))}else{const R=kj(l,d,F);x.push(R)}}return new gm(x,p)}(n._query,n.firestore._databaseId,r,t,e,i)}}function Vj(n,t,e){if("string"==typeof(e=(0,he.m9)(e))){if(""===e)throw new Zt(wt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sF(t)&&-1!==e.indexOf("/"))throw new Zt(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(kr.fromString(e));if(!mn.isDocumentKey(i))throw new Zt(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return lc(n,new mn(i))}if(e instanceof Bo)return lc(n,e._key);throw new Zt(wt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tk(e)}.`)}function jj(n,t){if(!Array.isArray(n)||0===n.length)throw new Zt(wt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Zt(wt.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function zj(n,t,e){if(!e.isEqual(t))throw new Zt(wt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class $U{convertValue(t,e="none"){switch(Am(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Zo(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(cy(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw qn()}}convertObject(t,e){const i={};return ly(t.fields,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new ok(Zo(t.latitude),Zo(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=JI(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(l0(t));default:return null}}convertTimestamp(t){const e=hm(t);return new fo(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=kr.fromString(t);Ci(hf(i));const r=new Fp(i.get(1),i.get(3)),s=new mn(i.popFirst(5));return r.isEqual(e)||ha(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function hk(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class Fne extends $U{constructor(t){super(),this.firestore=t}convertBytes(t){return new Em(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Bo(this.firestore,null,e)}}class tC{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class By extends UD{constructor(t,e,i,r,s,a){super(t,e,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new QD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(dk("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class QD extends By{data(t={}){return super.data(t)}}class D0{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new tC(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new QD(this._firestore,this._userDataWriter,i.key,i,new tC(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Zt(wt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new QD(i._firestore,i._userDataWriter,a.doc.key,a.doc,new tC(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>r||3!==a.type).map(a=>{const l=new QD(i._firestore,i._userDataWriter,a.doc.key,a.doc,new tC(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,A=-1;return 0!==a.type&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),A=s.indexOf(a.doc.key)),{type:kne(a.type),doc:l,oldIndex:d,newIndex:A}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function kne(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qn()}}function Gj(n,t){return n instanceof By&&t instanceof By?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof D0&&t instanceof D0&&n._firestore===t._firestore&&LU(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class T0 extends $U{constructor(t){super(),this.firestore=t}convertBytes(t){return new Em(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Bo(this.firestore,null,e)}}function qj(n,t,e){n=Rr(n,Bo);const i=Rr(n.firestore,Fo),r=hk(n.converter,t,e);return Qx(i,[lk(Xb(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,go.none())])}function Kj(n,t,e,...i){n=Rr(n,Bo);const r=Rr(n.firestore,Fo),s=Xb(r);let a;return a="string"==typeof(t=(0,he.m9)(t))||t instanceof My?ZU(s,"updateDoc",n._key,t,e,i):KU(s,"updateDoc",n._key,t),Qx(r,[a.toMutation(n._key,go.exists(!0))])}function Zj(n,...t){var e,i,r;n=(0,he.m9)(n);let s={includeMetadataChanges:!1},a=0;"object"!=typeof t[a]||GU(t[a])||(s=t[a],a++);const l={includeMetadataChanges:s.includeMetadataChanges};if(GU(t[a])){const _=t[a];t[a]=null===(e=_.next)||void 0===e?void 0:e.bind(_),t[a+1]=null===(i=_.error)||void 0===i?void 0:i.bind(_),t[a+2]=null===(r=_.complete)||void 0===r?void 0:r.bind(_)}let d,A,p;if(n instanceof Bo)A=Rr(n.firestore,Fo),p=cA(n._key.path),d={next:_=>{t[a]&&t[a](JU(A,n,_))},error:t[a+1],complete:t[a+2]};else{const _=Rr(n,yu);A=Rr(_.firestore,Fo),p=_._query;const x=new T0(A);d={next:C=>{t[a]&&t[a](new D0(A,x,_,C))},error:t[a+1],complete:t[a+2]},Pj(n._query)}return function(_,x,C,F){const R=new ik(F),U=new lU(x,R,C);return _.asyncQueue.enqueueAndForget((0,Tt.Z)(function*(){return iU(yield Hx(_),U)})),()=>{R.bc(),_.asyncQueue.enqueueAndForget((0,Tt.Z)(function*(){return sU(yield Hx(_),U)}))}}(nl(A),p,l,d)}function Qx(n,t){return function(e,i){const r=new Xa;return e.asyncQueue.enqueueAndForget((0,Tt.Z)(function*(){return function Ete(n,t,e){return AU.apply(this,arguments)}(yield jU(e),i,r)})),r.promise}(nl(n),t)}function JU(n,t,e){const i=e.docs.get(t._key),r=new T0(n);return new By(n,r,t._key,i,new tC(e.hasPendingWrites,e.fromCache),t.converter)}const jne={maxAttempts:5};class Wj{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Xb(t)}set(t,e,i){this._verifyNotCommitted();const r=M0(t,this._firestore),s=hk(r.converter,e,i),a=lk(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(a.toMutation(r._key,go.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=M0(t,this._firestore);let a;return a="string"==typeof(e=(0,he.m9)(e))||e instanceof My?ZU(this._dataReader,"WriteBatch.update",s._key,e,i,r):KU(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(a.toMutation(s._key,go.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=M0(t,this._firestore);return this._mutations=this._mutations.concat(new yy(e._key,go.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Zt(wt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function M0(n,t){if((n=(0,he.m9)(n)).firestore!==t)throw new Zt(wt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class zne extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Xb(t)}get(t){const e=M0(t,this._firestore),i=new Fne(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return qn();const s=r[0];if(s.isFoundDocument())return new UD(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new UD(this._firestore,i,e._key,null,e.converter);throw qn()})}set(t,e,i){const r=M0(t,this._firestore),s=hk(r.converter,e,i),a=lk(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,a),this}update(t,e,i,...r){const s=M0(t,this._firestore);let a;return a="string"==typeof(e=(0,he.m9)(e))||e instanceof My?ZU(this._dataReader,"Transaction.update",s._key,e,i,r):KU(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,a),this}delete(t){const e=M0(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=M0(t,this._firestore),i=new T0(this._firestore);return super.get(t).then(r=>new By(this._firestore,i,e._key,r._document,new tC(!1,!1),e.converter))}}function XU(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Zt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function $j(){if(typeof Uint8Array>"u")throw new Zt("unimplemented","Uint8Arrays are not available in this environment.")}function Jj(){if(!function QN(){return typeof atob<"u"}())throw new Zt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){uf=sh.SDK_VERSION,(0,sh._registerComponent)(new Sp.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),a=new Fo(new FN(e.getProvider("auth-internal")),new ON(e.getProvider("app-check-internal")),function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Zt(wt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fp(l.options.projectId,d)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),(0,sh.registerVersion)(FB,"3.7.3",n),(0,sh.registerVersion)(FB,"3.7.3","esm2017")}();class VD{constructor(t){this._delegate=t}static fromBase64String(t){return Jj(),new VD(Em.fromBase64String(t))}static fromUint8Array(t){return $j(),new VD(Em.fromUint8Array(t))}toBase64(){return Jj(),this._delegate.toBase64()}toUint8Array(){return $j(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function e3(n){return function Xne(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class eie{enableIndexedDbPersistence(t,e){return function one(n,t){Tj(n=Rr(n,Fo));const e=nl(n),i=n._freezeSettings(),r=new RU;return Dj(e,r,new uj(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function ane(n){Tj(n=Rr(n,Fo));const t=nl(n),e=n._freezeSettings(),i=new RU;return Dj(t,i,new Vte(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function lne(n){if(n._initialized&&!n._terminated)throw new Zt(wt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Xa;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Tt.Z)(function*(){try{yield(e=(0,Tt.Z)(function*(i){if(!ad.C())return Promise.resolve();const r=i+"main";yield ad.delete(r)}),function(i){return e.apply(this,arguments)})(I5(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class Xj{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Fp||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&um("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function mj(n,t,e,i={}){var r;const s=(n=Rr(n,PD))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&um("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=vl.MOCK_USER;else{a=(0,he.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new Zt(wt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new vl(d)}n._authCredentials=new RB(new lx(a,l))}}(this._delegate,t,e,i)}enableNetwork(){return function une(n){return function Yte(n){return n.asyncQueue.enqueue((0,Tt.Z)(function*(){const t=yield Cj(n),e=yield VU(n);return t.setNetworkEnabled(!0),function(i){const r=wn(i);return r._u.delete(0),OD(r)}(e)}))}(nl(n=Rr(n,Fo)))}(this._delegate)}disableNetwork(){return function dne(n){return function $te(n){return n.asyncQueue.enqueue((0,Tt.Z)(function*(){const t=yield Cj(n),e=yield VU(n);return t.setNetworkEnabled(!1),(i=(0,Tt.Z)(function*(r){const s=wn(r);s._u.add(0),yield kx(s),s.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(nl(n=Rr(n,Fo)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,dj("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function cne(n){return function(t){const e=new Xa;return t.asyncQueue.enqueueAndForget((0,Tt.Z)(function*(){return function Mte(n,t){return _U.apply(this,arguments)}(yield jU(t),e)})),e.promise}(nl(n=Rr(n,Fo)))}(this._delegate)}onSnapshotsInSync(t){return function Vne(n,t){return function ene(n,t){const e=new ik(t);return n.asyncQueue.enqueueAndForget((0,Tt.Z)(function*(){return i=yield Hx(n),r=e,wn(i).Ru.add(r),void r.next();var i,r})),()=>{e.bc(),n.asyncQueue.enqueueAndForget((0,Tt.Z)(function*(){return i=yield Hx(n),r=e,void wn(i).Ru.delete(r);var i,r}))}}(nl(n=Rr(n,Fo)),GU(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Zt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Vx(this,_j(this._delegate,t))}catch(e){throw Ad(e,"collection()","Firestore.collection()")}}doc(t){try{return new ff(this,nk(this._delegate,t))}catch(e){throw Ad(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new fd(this,function jte(n,t){if(n=Rr(n,PD),OU("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Zt(wt.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new yu(n,null,(e=t,new kp(kr.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Ad(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function Gne(n,t,e){n=Rr(n,Fo);const i=Object.assign(Object.assign({},jne),e);return function(r){if(r.maxAttempts<1)throw new Zt(wt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,a){const l=new Xa;return r.asyncQueue.enqueueAndForget((0,Tt.Z)(function*(){const d=yield function xj(n){return rk(n).then(t=>t.datastore)}(r);new Zte(r.asyncQueue,d,a,s,l).run()})),l.promise}(nl(n),r=>t(new zne(n,r)),i)}(this._delegate,e=>t(new ez(this,e)))}batch(){return nl(this._delegate),new tz(new Wj(this._delegate,t=>Qx(this._delegate,t)))}loadBundle(t){return function hne(n,t){const e=nl(n=Rr(n,Fo)),i=new rne;return function tne(n,t,e,i){const r=function(s,a){let l;return l="string"==typeof s?(new TextEncoder).encode(s):s,d=function(d,A){if(d instanceof Uint8Array)return vj(d,A);if(d instanceof ArrayBuffer)return vj(new Uint8Array(d),A);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new zte(d,a);var d}(e,RD(t));n.asyncQueue.enqueueAndForget((0,Tt.Z)(function*(){!function Qte(n,t,e){const i=wn(n);var r;(r=(0,Tt.Z)(function*(s,a,l){try{const d=yield a.getMetadata();if(yield function(x,C){const F=wn(x),R=Vl(C.createTime);return F.persistence.runTransaction("hasNewerBundle","readonly",U=>F.Ns.getBundleMetadata(U,C.id)).then(U=>!!U&&U.createTime.compareTo(R)>=0)}(s.localStore,d))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(x=d).totalDocuments,bytesLoaded:x.totalBytes,totalDocuments:x.totalDocuments,totalBytes:x.totalBytes}),Promise.resolve(new Set);l._updateProgress(ej(d));const A=new vte(d,s.localStore,a.It);let p=yield a.mc();for(;p;){const x=yield A.Fu(p);x&&l._updateProgress(x),p=yield a.mc()}const _=yield A.complete();return yield Ty(s,_.Lu,void 0),yield function(x,C){const F=wn(x);return F.persistence.runTransaction("Save bundle","readwrite",R=>F.Ns.saveBundleMetadata(R,C))}(s.localStore,d),l._completeWith(_.progress),Promise.resolve(_.Bu)}catch(d){return um("SyncEngine",`Loading bundle failed with ${d}`),l._failWith(d),Promise.resolve(new Set)}var x}),function(s,a,l){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield jU(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function Ane(n,t){return function nne(n,t){return n.asyncQueue.enqueue((0,Tt.Z)(function*(){return function(e,i){const r=wn(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ns.getNamedQuery(s,i))}(yield sk(n),t)}))}(nl(n=Rr(n,Fo)),t).then(e=>e?new yu(n,null,e.query):null)}(this._delegate,t).then(e=>e?new fd(this,e):null)}}class Ak extends $U{constructor(t){super(),this.firestore=t}convertBytes(t){return new VD(new Em(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return ff.forKey(e,this.firestore,null)}}class ez{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Ak(t)}get(t){const e=iC(t);return this._delegate.get(e).then(i=>new jD(this._firestore,new By(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=iC(t);return i?(XU("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=iC(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=iC(t);return this._delegate.delete(e),this}}class tz{constructor(t){this._delegate=t}set(t,e,i){const r=iC(t);return i?(XU("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=iC(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=iC(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class nC{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new QD(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new zD(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=nC.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new nC(t,new Ak(t),e),r.set(e,s)),s}}nC.INSTANCES=new WeakMap;class ff{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Ak(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Zt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new ff(e,new Bo(e._delegate,i,new mn(t)))}static forKey(t,e,i){return new ff(e,new Bo(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Vx(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Vx(this.firestore,_j(this._delegate,t))}catch(e){throw Ad(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,he.m9)(t))instanceof Bo&&yj(this._delegate,t)}set(t,e){e=XU("DocumentReference.set",e);try{return e?qj(this._delegate,t,e):qj(this._delegate,t)}catch(i){throw Ad(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?Kj(this._delegate,t):Kj(this._delegate,t,e,...i)}catch(r){throw Ad(r,"updateDoc()","DocumentReference.update()")}}delete(){return function Hne(n){return Qx(Rr(n.firestore,Fo),[new yy(n._key,go.none())])}(this._delegate)}onSnapshot(...t){const e=nz(t),i=iz(t,r=>new jD(this.firestore,new By(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return Zj(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function One(n){n=Rr(n,Bo);const t=Rr(n.firestore,Fo),e=nl(t),i=new T0(t);return function Jte(n,t){const e=new Xa;return n.asyncQueue.enqueueAndForget((0,Tt.Z)(function*(){return(i=(0,Tt.Z)(function*(r,s,a){try{const l=yield function(d,A){const p=wn(d);return p.persistence.runTransaction("read document","readonly",_=>p.localDocuments.getDocument(_,A))}(r,s);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new Zt(wt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const d=Lx(l,`Failed to get document '${s} from cache`);a.reject(d)}}),function(r,s,a){return i.apply(this,arguments)})(yield sk(n),t,e);var i})),e.promise}(e,n._key).then(r=>new By(t,i,n._key,r,new tC(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function Lne(n){n=Rr(n,Bo);const t=Rr(n.firestore,Fo);return Sj(nl(t),n._key,{source:"server"}).then(e=>JU(t,n,e))}(this._delegate):function Rne(n){n=Rr(n,Bo);const t=Rr(n.firestore,Fo);return Sj(nl(t),n._key).then(e=>JU(t,n,e))}(this._delegate),e.then(i=>new jD(this.firestore,new By(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new ff(this.firestore,this._delegate.withConverter(t?nC.getInstance(this.firestore,t):null))}}function Ad(n,t,e){return n.message=n.message.replace(t,e),n}function nz(n){for(const t of n)if("object"==typeof t&&!e3(t))return t;return{}}function iz(n,t){var e,i;let r;return r=e3(n[0])?n[0]:e3(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class jD{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new ff(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return Gj(this._delegate,t._delegate)}}class zD extends jD{data(t){const e=this._delegate.data(t);return function kB(n,t){n||qn()}(void 0!==e),e}}class fd{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Ak(t)}where(t,e,i){try{return new fd(this.firestore,I0(this._delegate,function Cne(n,t,e){const i=t,r=dk("where",n);return new bne(r,i,e)}(t,e,i)))}catch(r){throw Ad(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new fd(this.firestore,I0(this._delegate,function Sne(n,t="asc"){const e=t,i=dk("orderBy",n);return new xne(i,e)}(t,e)))}catch(i){throw Ad(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new fd(this.firestore,I0(this._delegate,function Ene(n){return fj("limit",n),new Nj("limit",n,"F")}(t)))}catch(e){throw Ad(e,"limit()","Query.limit()")}}limitToLast(t){try{return new fd(this.firestore,I0(this._delegate,function Ine(n){return fj("limitToLast",n),new Nj("limitToLast",n,"L")}(t)))}catch(e){throw Ad(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new fd(this.firestore,I0(this._delegate,function Dne(...n){return new Uj("startAt",n,!0)}(...t)))}catch(e){throw Ad(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new fd(this.firestore,I0(this._delegate,function Tne(...n){return new Uj("startAfter",n,!1)}(...t)))}catch(e){throw Ad(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new fd(this.firestore,I0(this._delegate,function Mne(...n){return new Hj("endBefore",n,!1)}(...t)))}catch(e){throw Ad(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new fd(this.firestore,I0(this._delegate,function Bne(...n){return new Hj("endAt",n,!0)}(...t)))}catch(e){throw Ad(e,"endAt()","Query.endAt()")}}isEqual(t){return LU(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function Nne(n){n=Rr(n,yu);const t=Rr(n.firestore,Fo),e=nl(t),i=new T0(t);return function Xte(n,t){const e=new Xa;return n.asyncQueue.enqueueAndForget((0,Tt.Z)(function*(){return(i=(0,Tt.Z)(function*(r,s,a){try{const l=yield WF(r,s,!0),d=new ij(s,l.Hi),A=d.Wu(l.documents),p=d.applyChanges(A,!1);a.resolve(p.snapshot)}catch(l){const d=Lx(l,`Failed to execute query '${s} against cache`);a.reject(d)}}),function(r,s,a){return i.apply(this,arguments)})(yield sk(n),t,e);var i})),e.promise}(e,n._query).then(r=>new D0(t,i,n,r))}(this._delegate):"server"===t?.source?function Une(n){n=Rr(n,yu);const t=Rr(n.firestore,Fo),e=nl(t),i=new T0(t);return Ej(e,n._query,{source:"server"}).then(r=>new D0(t,i,n,r))}(this._delegate):function Pne(n){n=Rr(n,yu);const t=Rr(n.firestore,Fo),e=nl(t),i=new T0(t);return Pj(n._query),Ej(e,n._query).then(r=>new D0(t,i,n,r))}(this._delegate),e.then(i=>new t3(this.firestore,new D0(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=nz(t),i=iz(t,r=>new t3(this.firestore,new D0(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return Zj(this._delegate,e,i)}withConverter(t){return new fd(this.firestore,this._delegate.withConverter(t?nC.getInstance(this.firestore,t):null))}}class nie{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new zD(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class t3{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new fd(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new zD(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new nie(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new zD(this._firestore,i))})}isEqual(t){return Gj(this._delegate,t._delegate)}}class Vx extends fd{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new ff(this.firestore,t):null}doc(t){try{return new ff(this.firestore,void 0===t?nk(this._delegate):nk(this._delegate,t))}catch(e){throw Ad(e,"doc()","CollectionReference.doc()")}}add(t){return function Qne(n,t){const e=Rr(n.firestore,Fo),i=nk(n),r=hk(n.converter,t);return Qx(e,[lk(Xb(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,go.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new ff(this.firestore,e))}isEqual(t){return yj(this._delegate,t._delegate)}withConverter(t){return new Vx(this.firestore,this._delegate.withConverter(t?nC.getInstance(this.firestore,t):null))}}function iC(n){return Rr(n,Bo)}class n3{constructor(...t){this._delegate=new My(...t)}static documentId(){return new n3(po.keyField().canonicalString())}isEqual(t){return(t=(0,he.m9)(t))instanceof My&&this._delegate._internalPath.isEqual(t._internalPath)}}class rC{constructor(t){this._delegate=t}static serverTimestamp(){const t=function Kne(){return new qU("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new rC(t)}static delete(){const t=function qne(){return new ND("deleteField")}();return t._methodName="FieldValue.delete",new rC(t)}static arrayUnion(...t){const e=function Zne(...n){return new mne("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new rC(e)}static arrayRemove(...t){const e=function Wne(...n){return new _ne("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new rC(e)}static increment(t){const e=function Yne(n){return new yne("increment",n)}(t);return e._methodName="FieldValue.increment",new rC(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const iie={Firestore:Xj,GeoPoint:ok,Timestamp:fo,Blob:VD,Transaction:ez,WriteBatch:tz,DocumentReference:ff,DocumentSnapshot:jD,Query:fd,QueryDocumentSnapshot:zD,QuerySnapshot:t3,CollectionReference:Vx,FieldPath:n3,FieldValue:rC,setLogLevel:function tie(n){!function MN(n){cm.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function sie(n){(function rie(n,t){n.INTERNAL.registerComponent(new Sp.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},iie)))})(n,(t,e)=>new Xj(t,e,new eie)),n.registerVersion("@firebase/firestore-compat","0.2.3")}(jM.Z);var vu=se(6451),fk=se(5363),oie=se(6063);class aie extends tn.x{constructor(t=1/0,e=1/0,i=oie.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:a}=this;e||(i.push(t),!r&&i.push(s.now()+a)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let a=0;a<s.length&&!t.closed;a+=i?1:2)t.next(s[a]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const a=e.now();let l=0;for(let d=1;d<i.length&&i[d]<=a;d+=2)l=d;l&&i.splice(0,l+1)}}}var r3=se(3099);function rz(n,t,e){var i,r;let s,a=!1;return n&&"object"==typeof n?(s=null!==(i=n.bufferSize)&&void 0!==i?i:1/0,t=null!==(r=n.windowTime)&&void 0!==r?r:1/0,a=!!n.refCount,e=n.scheduler):s=n??1/0,(0,r3.B)({connector:()=>new aie(s,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function sz(n,t){return(0,vs.m)(t)?Qr(()=>n,t):Qr(()=>n)}var s3=se(9468);se(5867);const a3=new Map,az={activated:!1,tokenObservers:[]},hie={initialized:!1,enabled:!1};function jc(n){return a3.get(n)||Object.assign({},az)}function gk(){return hie}class _ie{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Tt.Z)(function*(){e.stop();try{e.pending=new he.BH,yield function yie(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new he.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const pd=new he.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function cz(n){if(!jc(n).activated)throw pd.create("use-before-activation",{appName:n.name})}function u3(n,t){return d3.apply(this,arguments)}function d3(){return d3=(0,Tt.Z)(function*({url:n,body:t},e){var i,r;const s={"Content-Type":"application/json"},a=e.getImmediate({optional:!0});if(a){const C=yield a.getHeartbeatsHeader();C&&(s["X-Firebase-Client"]=C)}const l={method:"POST",body:JSON.stringify(t),headers:s};let d,A;try{d=yield fetch(n,l)}catch(C){throw pd.create("fetch-network-error",{originalErrorMessage:null===(i=C)||void 0===i?void 0:i.message})}if(200!==d.status)throw pd.create("fetch-status-error",{httpStatus:d.status});try{A=yield d.json()}catch(C){throw pd.create("fetch-parse-error",{originalErrorMessage:null===(r=C)||void 0===r?void 0:r.message})}const p=A.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw pd.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${A.ttl}`});const _=1e3*Number(p[1]),x=Date.now();return{token:A.token,expireTimeMillis:x+_,issuedAtTimeMillis:x}}),d3.apply(this,arguments)}function Cie(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const GD="firebase-app-check-store";let yk=null;function dz(){return yk||(yk=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var s;t(pd.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(GD,{keyPath:"compositeKey"})}}catch(i){t(pd.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),yk)}function h3(){return h3=(0,Tt.Z)(function*(n,t){const i=(yield dz()).transaction(GD,"readwrite"),s=i.objectStore(GD).put({compositeKey:n,value:t});return new Promise((a,l)=>{s.onsuccess=d=>{a()},i.onerror=d=>{var A;l(pd.create("storage-set",{originalErrorMessage:null===(A=d.target.error)||void 0===A?void 0:A.message}))}})}),h3.apply(this,arguments)}const qD=new lf.Yd("@firebase/app-check");function p3(n,t){return(0,he.hl)()?function Iie(n,t){return function hz(n,t){return h3.apply(this,arguments)}(function fz(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{qD.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function pz(){return gk().enabled}function gz(){return m3.apply(this,arguments)}function m3(){return m3=(0,Tt.Z)(function*(){const n=gk();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),m3.apply(this,arguments)}const kie={error:"UNKNOWN_ERROR"};function Rie(n){return he.US.encodeString(JSON.stringify(n),!1)}function vk(n){return _3.apply(this,arguments)}function _3(){return _3=(0,Tt.Z)(function*(n,t=!1){const e=n.app;cz(e);const i=jc(e);let s,r=i.token;if(r&&!jx(r)&&(i.token=void 0,r=void 0),!r){const d=yield i.cachedTokenPromise;d&&(jx(d)?r=d:yield p3(e,void 0))}if(!t&&r&&jx(r))return{token:r.token};let l,a=!1;if(pz()){i.exchangeTokenPromise||(i.exchangeTokenPromise=u3(Cie(e,yield gz()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const d=yield i.exchangeTokenPromise;return yield p3(e,d),i.token=d,{token:d.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),r=yield jc(e).exchangeTokenPromise}catch(d){"appCheck/throttled"===d.code?qD.warn(d.message):qD.error(d),s=d}return r?s?l=jx(r)?{token:r.token,internalError:s}:yz(s):(l={token:r.token},i.token=r,yield p3(e,r)):l=yz(s),a&&_z(e,l),l}),_3.apply(this,arguments)}function v3(n,t){const e=jc(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function mz(n){const{app:t}=n,e=jc(t);let i=e.tokenRefresher;i||(i=function Oie(n){const{app:t}=n;return new _ie((0,Tt.Z)(function*(){let i;if(i=jc(t).token?yield vk(n,!0):yield vk(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=jc(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function _z(n,t){const e=jc(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function jx(n){return n.expireTimeMillis-Date.now()>0}function yz(n){return{token:Rie(kie),error:n}}class Lie{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=jc(this.app);for(const e of t)v3(this.app,e.next);return Promise.resolve()}}const Iz="app-check-internal";!function Yie(){(0,sh._registerComponent)(new Sp.wA("app-check",n=>function Pie(n,t){return new Lie(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Iz).initialize()})),(0,sh._registerComponent)(new Sp.wA(Iz,n=>function Nie(n){return{getToken:t=>vk(n,t),addTokenListener:t=>function y3(n,t,e,i){const{app:r}=n,s=jc(r);if(s.tokenObservers=[...s.tokenObservers,{next:e,error:i,type:t}],s.token&&jx(s.token)){const l=s.token;Promise.resolve().then(()=>{e({token:l.token}),mz(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>mz(n))}(n,"INTERNAL",t),removeTokenListener:t=>v3(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,sh.registerVersion)("@firebase/app-check","0.5.17")}();class bk{constructor(){return(0,eo.vb)("app-check")}}typeof window<"u"&&window;var Tz=se(127);const S3=new o.OlP("angularfire2.auth.use-emulator"),E3=new o.OlP("angularfire2.auth.settings"),I3=new o.OlP("angularfire2.auth.tenant-id"),D3=new o.OlP("angularfire2.auth.langugage-code"),T3=new o.OlP("angularfire2.auth.use-device-language"),M3=new o.OlP("angularfire.auth.persistence"),B3=(n,t,e,i,r,s,a,l)=>(0,Hc.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const d=t.runOutsideAngular(()=>n.auth());if(e&&d.useEmulator(...e),i&&(d.tenantId=i),d.languageCode=r,s&&d.useDeviceLanguage(),a)for(const[A,p]of Object.entries(a))d.settings[A]=p;return l&&d.setPersistence(l),d},[e,i,r,s,a,l]);let Ck=(()=>{class n{constructor(e,i,r,s,a,l,d,A,p,_,x,C){const F=new tn.x,R=vn(void 0).pipe((0,fk.Q)(a.outsideAngular),Qr(()=>s.runOutsideAngular(()=>Promise.resolve().then(se.bind(se,822)))),(0,Xt.U)(()=>(0,Hc.on)(e,s,i)),(0,Xt.U)(U=>B3(U,s,l,A,p,_,d,x)),rz({bufferSize:1,refCount:!1}));if(Ca(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=vn(null);else{R.pipe(ic()).subscribe();const Q=R.pipe(Qr(ce=>ce.getRedirectResult().then(pe=>pe,()=>null)),eo.iC,rz({bufferSize:1,refCount:!1})),K=R.pipe(Qr(ce=>new rs.y(pe=>({unsubscribe:s.runOutsideAngular(()=>ce.onAuthStateChanged(Se=>pe.next(Se),Se=>pe.error(Se),()=>pe.complete()))})))),ie=R.pipe(Qr(ce=>new rs.y(pe=>({unsubscribe:s.runOutsideAngular(()=>ce.onIdTokenChanged(Se=>pe.next(Se),Se=>pe.error(Se),()=>pe.complete()))}))));this.authState=Q.pipe(sz(K),(0,s3.R)(a.outsideAngular),(0,fk.Q)(a.insideAngular)),this.user=Q.pipe(sz(ie),(0,s3.R)(a.outsideAngular),(0,fk.Q)(a.insideAngular)),this.idToken=this.user.pipe(Qr(ce=>ce?(0,Xn.D)(ce.getIdToken()):vn(null))),this.idTokenResult=this.user.pipe(Qr(ce=>ce?(0,Xn.D)(ce.getIdTokenResult()):vn(null))),this.credential=(0,vu.T)(Q,F,this.authState.pipe(gr(ce=>!ce))).pipe((0,Xt.U)(ce=>ce?.user?ce:null),(0,s3.R)(a.outsideAngular),(0,fk.Q)(a.insideAngular))}return(0,Hc.pX)(this,R,s,{spy:{apply:(U,Q,K)=>{(U.startsWith("signIn")||U.startsWith("createUser"))&&K.then(ie=>F.next(ie))}}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Hc.Dh),o.LFG(Hc.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(eo.HU),o.LFG(S3,8),o.LFG(E3,8),o.LFG(I3,8),o.LFG(D3,8),o.LFG(T3,8),o.LFG(M3,8),o.LFG(bk,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),nre=(()=>{class n{constructor(){Tz.Z.registerVersion("angularfire",eo.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Ck]}),n})();function Mz(n,t){return function ire(n,t=Q_.z){return new rs.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function F3(n,t){return Mz(n,t).pipe((0,Xt.U)(e=>({payload:e,type:"query"})))}function xk(n,t){return F3(n,t).pipe(oa(void 0),sI(),(0,Xt.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(a=>({type:a.type,payload:a}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,l)=>{const d=r.find(p=>p.doc.ref.isEqual(a.ref)),A=e?.payload.docs.find(p=>p.ref.isEqual(a.ref));d&&JSON.stringify(d.doc.metadata)===JSON.stringify(a.metadata)||!d&&A&&JSON.stringify(A.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),s}))}function Bz(n,t,e){return xk(n,e).pipe($u((i,r)=>function sre(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function ore(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return k3(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return k3(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return k3(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),V_(),(0,Xt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function k3(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function Fz(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class kz{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=xk(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Xt.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(oa(void 0),sI(),gr(([i,r])=>r.length>0||!i),(0,Xt.U)(([i,r])=>r),eo.iC)}auditTrail(t){return this.stateChanges(t).pipe($u((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=Fz(t);return Bz(this.query,e,this.afs.schedulers.outsideAngular).pipe(eo.iC)}valueChanges(t={}){return F3(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xt.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),eo.iC)}get(t){return(0,Xn.D)(this.query.get(t)).pipe(eo.iC)}add(t){return this.ref.add(t)}doc(t){return new Rz(this.ref.doc(t),this.afs)}}class Rz{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=Pz(i,e);return new kz(r,s,this.afs)}snapshotChanges(){return function rre(n,t){return Mz(n,t).pipe(oa(void 0),sI(),(0,Xt.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(eo.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Xt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Xn.D)(this.ref.get(t)).pipe(eo.iC)}}class are{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?xk(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xt.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),gr(e=>e.length>0),eo.iC):xk(this.query,this.afs.schedulers.outsideAngular).pipe(eo.iC)}auditTrail(t){return this.stateChanges(t).pipe($u((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=Fz(t);return Bz(this.query,e,this.afs.schedulers.outsideAngular).pipe(eo.iC)}valueChanges(t={}){return F3(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xt.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),eo.iC)}get(t){return(0,Xn.D)(this.query.get(t)).pipe(eo.iC)}}const Oz=new o.OlP("angularfire2.enableFirestorePersistence"),Lz=new o.OlP("angularfire2.firestore.persistenceSettings"),lre=new o.OlP("angularfire2.firestore.settings"),cre=new o.OlP("angularfire2.firestore.use-emulator");function Pz(n,t=(e=>e)){return{query:t(n),ref:n}}let Sk=(()=>{class n{constructor(e,i,r,s,a,l,d,A,p,_,x,C,F,R,U,Q,K){this.schedulers=d;const ie=(0,Hc.on)(e,l,i),ce=p;_&&B3(ie,l,x,F,R,U,C,Q),[this.firestore,this.persistenceEnabled$]=(0,Hc.cc)(`${ie.name}.firestore`,"AngularFirestore",ie.name,()=>{const pe=l.runOutsideAngular(()=>ie.firestore());if(s&&pe.settings(s),ce&&pe.useEmulator(...ce),r&&!Ca(a)){const Se=()=>{try{return(0,Xn.D)(pe.enablePersistence(A||void 0).then(()=>!0,()=>!1))}catch(ve){return typeof console<"u"&&console.warn(ve),vn(!1)}};return[pe,l.runOutsideAngular(Se)]}return[pe,vn(!1)]},[s,ce,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:a}=Pz(r,i),l=this.schedulers.ngZone.run(()=>s);return new kz(l,a,this)}collectionGroup(e,i){const r=i||(a=>a),s=this.firestore.collectionGroup(e);return new are(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new Rz(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Hc.Dh),o.LFG(Hc.xv,8),o.LFG(Oz,8),o.LFG(lre,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(eo.HU),o.LFG(Lz,8),o.LFG(cre,8),o.LFG(Ck,8),o.LFG(S3,8),o.LFG(E3,8),o.LFG(I3,8),o.LFG(D3,8),o.LFG(T3,8),o.LFG(M3,8),o.LFG(bk,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ure=(()=>{class n{constructor(){Tz.Z.registerVersion("angularfire",eo.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:Oz,useValue:!0},{provide:Lz,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Sk]}),n})();const dre=["Combattiva","Alza skill","Farming risorse","Generica"];let Ek=(()=>{class n{constructor(e){this.store=e}GetTipologieMacro(){return dre}capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}getMacro(e){return this.store.collection("MacroUser",r=>r.where("guid","==",e)).valueChanges().pipe((0,Xt.U)(r=>r.map(s=>{let a=new $w;return a.macro.author=s.author,a.macro.guid=s.guid,a.macro.like=s.like,a.tipologia=s.tipologia,a.macro.title=s.title,a.descrizione=s.descrizione,a.macro.utenti=s.utenti,a.macro.delay=s.delay,a})))}getMacroSettingsUser(e){return this.store.collection("MacroSettingsUser",r=>r.where("guid","==",e)).valueChanges().pipe((0,Xt.U)(r=>r.map(s=>{let a=new Xw;return a.comando=s.comando,a.settings=s.settings,a.type=s.type,a.function=s.function,a.index=s.index,a})))}getMacros(){return this.store.collection("MacroUser").valueChanges().pipe((0,Xt.U)(i=>i.map(r=>{let s=new Hv;return s.author=r.author,s.date=r.dateTimeStamp.toDate(),s.guid=r.guid,s.like=r.like,s.tipologia=r.tipologia,s.title=r.title,s.utenti=r.utenti,s.delay=r.delay,s})))}getMacroSettings(){return this.store.collection("MacroSettings").valueChanges().pipe((0,Xt.U)(i=>i.map(r=>{let s=new Jw;return s.comando=r.comando,s.settings=r.settings,s.type=r.type,s.code=r.code,s.subCode=r.subCode,s})))}addLikeMacro(e,i){var r=new tn.x,s=this.store.collection("MacroUser",a=>a.where("guid","==",e)).valueChanges({idField:"id"}).subscribe(a=>{if(null!=a&&a.length>0&&a[0].author!=i)return a[0].utenti.includes(i)?(a[0].utenti=a[0].utenti.filter(d=>d!=i),a[0].like--):(a[0].utenti.push(i),a[0].like++),this.store.collection("MacroUser").doc(`${a[0].id}`).set({like:a[0].like,utenti:a[0].utenti},{merge:!0}),s.unsubscribe(),r.next(!0)});return r.asObservable()}addMacros(e){this.store.collection("MacroUser").add({author:e.macro.author,title:this.capitalizeFirstLetter(e.macro.title),dateTimeStamp:e.macro.date,descrizione:this.capitalizeFirstLetter(e.descrizione),tipologia:e.macro.tipologia,like:0,guid:e.macro.guid,utenti:e.macro.utenti,delay:e.macro.delay}),e.settings.forEach(i=>{this.store.collection("MacroSettingsUser").add({guid:e.macro.guid,comando:i.comando,settings:i.settings,type:i.type,function:i.function,index:i.index})})}updateMacro(e){var i=this.store.collection("MacroUser",r=>r.where("guid","==",e.macro.guid)).valueChanges({idField:"id"}).subscribe(r=>{if(null!=r&&r.length>0){this.store.collection("MacroUser").doc(`${r[0].id}`).set({title:e.macro.title,descrizione:e.descrizione,tipologia:e.macro.tipologia,delay:e.macro.delay},{merge:!0});const a=this.store.collection("MacroSettingsUser",l=>l.where("guid","==",e.macro.guid)).valueChanges({idField:"id"}).subscribe(l=>{if(l.length>0)for(let d=0;d<l.length;d++)this.store.doc("MacroSettingsUser/"+l[d].id).delete(),d==l.length-1&&e.settings.forEach(A=>{this.store.collection("MacroSettingsUser").add({guid:e.macro.guid,comando:A.comando,settings:A.settings,type:A.type,function:A.function,index:A.index}),a.unsubscribe()})})}i.unsubscribe()},r=>console.error("Error"))}deleteMacro(e){const i=this.store.collection("MacroUser",r=>r.where("guid","==",e)).valueChanges({idField:"id"}).subscribe(r=>{if(r.length>0){this.store.doc("MacroUser/"+r[0].id).delete();const s=this.store.collection("MacroSettingsUser",a=>a.where("guid","==",e)).valueChanges({idField:"id"}).subscribe(a=>{if(a.length>0)for(let l=0;l<a.length;l++)this.store.doc("MacroSettingsUser/"+a[l].id).delete(),l==a.length-1&&(i.unsubscribe(),s.unsubscribe())})}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Sk))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hre=[{macro:"NW",subcode:"1"},{macro:"N",subcode:"2"},{macro:"NE",subcode:"3"},{macro:"E",subcode:"4"},{macro:"SE",subcode:"5"},{macro:"S",subcode:"6"},{macro:"SW",subcode:"7"},{macro:"W",subcode:"8"},{macro:"Anatomia",subcode:"21"},{macro:"Zoologia",subcode:"22"},{macro:"Addomesticare",subcode:"23"},{macro:"OsservareArmi",subcode:"24"},{macro:"Sbirciare",subcode:"25"},{macro:"AdorareTM",subcode:"26"},{macro:"ScovareNascondigli",subcode:"27"},{macro:"Infuriarsi",subcode:"28"},{macro:"PercezioneMagica",subcode:"29"},{macro:"AnalizzareCorpi",subcode:"30"},{macro:"Nascondersi",subcode:"31"},{macro:"GodersiTM",subcode:"32"},{macro:"Religione",subcode:"33"},{macro:"IdentificareOggetti",subcode:"34"},{macro:"Meditare",subcode:"35"},{macro:"Calmare",subcode:"36"},{macro:"Avvelenare",subcode:"37"},{macro:"Istigare",subcode:"38"},{macro:"DisarmareTrappole",subcode:"39"},{macro:"AscoltareSpiriti",subcode:"40"},{macro:"Rubare",subcode:"41"},{macro:"MuoversiSilenziosamente",subcode:"42"},{macro:"RingraziareTM",subcode:"43"},{macro:"SeguireTracce",subcode:"44"},{macro:"LeftHand",subcode:"45"},{macro:"RightHand",subcode:"46"},{macro:"Hostile",subcode:"193"},{macro:"Party",subcode:"194"},{macro:"Mobile",subcode:"195"}];let lh=(()=>{class n{constructor(e,i,r,s,a){this._platform=e,this.ngxXml2jsonService=i,this.macroService=r,this.activatedRoute=s,this.route=a,this.platform=e}isSmartphone(){return this.platform.ANDROID||this.platform.IOS}ConfirmPasswordValidator(e,i){return r=>{let a=r.controls[i];a?.errors&&!a?.errors.confirmPasswordValidator||a?.setErrors(r.controls[e]?.value!==a?.value?{confirmPasswordValidator:!0}:null)}}navigateOutAdmin(){const e=this.getCurrentPath();["/admin","/utenti","/tickets","/flussoDati","/aggiungiNews"].includes(e)&&this.route.navigate(["/"])}getCurrentPath(){let e=this.activatedRoute.snapshot;for(;e.firstChild;)e=e.firstChild;return this.getFullPath(e.url)}getFullPath(e){return`/${e.map(r=>r.path).join("/")}`}compareDates(e){const i=new Date(Date.now()),r=Math.floor(e.nanoseconds/1e6);return i>new Date(1e3*e.seconds+r)}getFromTimeStamp(e){const i=Math.floor(e?.nanoseconds/1e6);return new Date(1e3*e?.seconds+i)}addMillisecondsToCurrentDate(e){return new Date(Date.now()+e)}capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}MacrosXmlToObject(e){const r=(new DOMParser).parseFromString(e,"text/xml");var a=this.ngxXml2jsonService.xmlToJson(r).macros.macro;let l=new Array;a.forEach(A=>{let p=new Are;p.name=A["@attributes"].name;let _=A.actions.action;if(void 0===_.length){var x=_["@attributes"];p.action.push(new Nz(x.code,x.subcode,x.submenutype,x.text?x.text:null))}else _.forEach(C=>{var F=C["@attributes"];p.action.push(new Nz(F.code,F.subcode,F.submenutype,F.text?F.text:null))});l.push(p)});let d=["Paperdoll","Options","Journal","Backpack","Radar","Bow","Salute"];return l.filter(A=>!d.includes(A.name))}getAllMacrosByXml(e){var i=new tn.x,r=this.MacrosXmlToObject(e),s=new Array;return this.macroService.getMacroSettings().subscribe(a=>{let l=a;r.forEach(d=>{let A=new eI;A.macro.macro.title=d.name,d.action.forEach(p=>{let _=new Xw,x=l.find(C=>C.code==p.code);if(void 0!==x){x?.settings&&(_.settings=x?.settings),x?.comando&&(_.comando=x?.comando),x?.type&&(_.type=x?.type),"0"!=p.subcode&&(_.function=hre.filter(F=>F.subcode===p.subcode)[0].macro);let C=p.text;C&&(_.function=C),A.settings.push(_)}}),""!=A.macro.macro.title&&s.push(A)}),i.next(s)}),i.asObservable()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Fs),o.LFG(af),o.LFG(Ek),o.LFG(Au),o.LFG(os))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Are{constructor(){this.action=new Array}}class Nz{constructor(t,e,i,r){this.code=t,this.subcode=e,this.subMenuType=i,this.text=r||""}}class fre{static getRuoliFromRoles(t){var e=new Array;return t.forEach(i=>{switch(i){case"511946618682081281":e.push("Cittadino");break;case"511948559902572554":case"709809389766311998":e.push("Regnante");break;case"710160889990348820":e.push("Valinrim");break;case"1079385953765949480":e.push("Ceorita")}}),e}}class KD{static getGiorni(){const t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate()-7),i=[];for(let r=e.getDate();r<=t.getDate();r++){const s=new Date(e.getFullYear(),e.getMonth(),r),a=`${s.getDate()}/${s.getMonth()+1}`;i.push(a)}return i}static getMesi(){const t=new Date,e=[],i=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"];for(let r=11;r>=0;r--){const s=new Date(t.getFullYear(),t.getMonth()-r,1),a=`${i[s.getMonth()]} ${s.getFullYear()}`;e.push(a)}return e}static getGiorniNumber(){const t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate()-7),i=[];for(let r=e.getDate();r<=t.getDate();r++){const s=new Date(e.getFullYear(),e.getMonth(),r).getDate();i.push(s)}return i}static getMesiNumber(){const t=new Date,e=[];for(let i=11;i>=0;i--){const r=new Date(t.getFullYear(),t.getMonth()-i,1).getMonth();e.push(r)}return e}static occorrenzeMesi(t){const e=this.getMesiNumber();var i=new Array;return e.forEach(r=>{const s=t.filter(a=>a==r).length;i.push(s)}),i}static occorrenzeGiorni(t){const e=t.filter(s=>s.getMonth()==(new Date).getMonth()).map(s=>s.getDate());var i=new Array;return this.getGiorniNumber().forEach(s=>{const a=e.filter(l=>l==s).length;i.push(a)}),i}static occorrenzeServer(t){var e=new Array;return e.push(t.filter(i=>"the miracle shard"==i.toLowerCase()).length),e.push(t.filter(i=>"the miracle shard"!=i.toLowerCase()).length),e}}class pre{constructor(t,e,i,r){this.interno=!1,e?(this.id=e.user.id,this.username=e.user.username,this.ruoli=fre.getRuoliFromRoles(e.roles),this.roles=e.roles):(this.id=i,this.username=r,this.ruoli=[]),this.token=t}}function mi(n){return null!=n&&"false"!=`${n}`}function zc(n,t=0){return Uz(n)?Number(n):t}function Uz(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Ik(n){return Array.isArray(n)?n:[n]}function Cl(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Fy(n){return n instanceof o.SBq?n.nativeElement:n}var gre=se(1144);const mre=["addListener","removeListener"],_re=["addEventListener","removeEventListener"],yre=["on","off"];function B0(n,t,e,i){if((0,vs.m)(e)&&(i=e,e=void 0),i)return B0(n,t,e).pipe(j(i));const[r,s]=function bre(n){return(0,vs.m)(n.addEventListener)&&(0,vs.m)(n.removeEventListener)}(n)?_re.map(a=>l=>n[a](t,l,e)):function vre(n){return(0,vs.m)(n.addListener)&&(0,vs.m)(n.removeListener)}(n)?mre.map(Hz(n,t)):function wre(n){return(0,vs.m)(n.on)&&(0,vs.m)(n.off)}(n)?yre.map(Hz(n,t)):[];if(!r&&(0,gre.z)(n))return(0,Sa.z)(a=>B0(a,t,e))((0,Vn.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new rs.y(a=>{const l=(...d)=>a.next(1<d.length?d:d[0]);return r(l),()=>s(l)})}function Hz(n,t){return e=>i=>n[e](t,i)}var Qz=se(4408);const ZD={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=ZD;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new Xs.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=ZD;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=ZD;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var Vz=se(7565);new class xre extends Vz.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const s=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this._active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class Cre extends Qz.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=ZD.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(ZD.cancelAnimationFrame(e),t._scheduled=void 0)}});let R3,Ere=1;const Dk={};function jz(n){return n in Dk&&(delete Dk[n],!0)}const Ire={setImmediate(n){const t=Ere++;return Dk[t]=!0,R3||(R3=Promise.resolve()),R3.then(()=>jz(t)&&n()),t},clearImmediate(n){jz(n)}},{setImmediate:Dre,clearImmediate:Tre}=Ire,Tk={setImmediate(...n){const{delegate:t}=Tk;return(t?.setImmediate||Dre)(...n)},clearImmediate(n){const{delegate:t}=Tk;return(t?.clearImmediate||Tre)(n)},delegate:void 0};new class Bre extends Vz.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const s=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this._active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class Mre extends Qz.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Tk.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(Tk.clearImmediate(e),t._scheduled=void 0)}});var Rre=se(3532);function O3(n,t=Q_.P){return function kre(n){return(0,Br.e)((t,e)=>{let i=!1,r=null,s=null,a=!1;const l=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const A=r;r=null,e.next(A)}a&&e.complete()},d=()=>{s=null,a&&e.complete()};t.subscribe(new ge.Q(e,A=>{i=!0,r=A,s||(0,Vn.Xf)(n(A)).subscribe(s=new ge.Q(e,l,d))},()=>{a=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>function Lre(n=0,t,e=Q_.P){let i=-1;return null!=t&&((0,Rre.K)(t)?e=t:i=t),new rs.y(r=>{let s=function Ore(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,t))}var zz=se(5032);function Wi(n){return(0,Br.e)((t,e)=>{(0,Vn.Xf)(n).subscribe(new ge.Q(e,()=>e.complete(),zz.Z)),!e.closed&&t.subscribe(e)})}const Pre=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function Nre(){return(0,o.f3M)(Ze)}}),Ure=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let pf=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new o.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function Hre(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?Ure.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Pre,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),WD=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new tn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new rs.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(O3(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):vn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(gr(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Fy(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>B0(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(Fs),o.LFG(Ze,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YD=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new tn.x,this._elementScrolled=new rs.y(a=>this.ngZone.runOutsideAngular(()=>B0(this.elementRef.nativeElement,"scroll").pipe(Wi(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=tb()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==tb()?e.left=e.right:1==tb()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;aN()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const a=this.dir&&"rtl"==this.dir.value;return"start"==e?e=a?r:i:"end"==e&&(e=a?i:r),a&&2==tb()?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:a&&1==tb()?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(WD),o.Y36(o.R0b),o.Y36(pf,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),zx=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new tn.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(O3(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Fs),o.LFG(o.R0b),o.LFG(Ze,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),L3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[sC,Gx,sC,Gx]}),n})();class P3{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class qx extends P3{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class $D extends P3{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class jre extends P3{constructor(t){super(),this.element=t instanceof o.SBq?t.nativeElement:t}}class Mk{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof qx?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof $D?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof jre?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class zre extends Mk{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=a=>{const l=a.element,d=this._document.createComment("dom-portal");l.parentNode.insertBefore(d,l),this.outletElement.appendChild(l),this._attachedPortal=a,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(l,d)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||o.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Kx=(()=>{class n extends Mk{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new o.vpe,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(l,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36(Ze))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.qOj]}),n})(),oC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function Im(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}const Zz=aN();class nse{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Cl(-this._previousScrollPosition.left),t.style.top=Cl(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Zz&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Zz&&(i.scrollBehavior=s,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class ise{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Wz{enable(){}disable(){}attach(){}}function H3(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function Yz(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class rse{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();H3(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let sse=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new Wz,this.close=a=>new ise(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new nse(this._viewportRuler,this._document),this.reposition=a=>new rse(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(WD),o.LFG(zx),o.LFG(o.R0b),o.LFG(Ze))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Bk{constructor(t){if(this.scrollStrategy=new Wz,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class ose{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let $z=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ze))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ase=(()=>{class n extends $z{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){const l=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(r)):l.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ze),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lse=(()=>{class n extends $z{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=H_(s)},this._clickListener=s=>{const a=H_(s),l="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const d=this._attachedOverlays.slice();for(let A=d.length-1;A>-1;A--){const p=d[A];if(p._outsidePointerEvents.observers.length<1||!p.hasAttached())continue;if(p.overlayElement.contains(a)||p.overlayElement.contains(l))break;const _=p._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>_.next(s)):_.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ze),o.LFG(Fs),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fk=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||rI()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),rI()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ze),o.LFG(Fs))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class tT{constructor(t,e,i,r,s,a,l,d,A,p=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=a,this._document=l,this._location=d,this._outsideClickDispatcher=A,this._animationsDisabled=p,this._backdropElement=null,this._backdropClick=new tn.x,this._attachments=new tn.x,this._detachments=new tn.x,this._locationChanges=Xs.w0.EMPTY,this._backdropClickHandler=_=>this._backdropClick.next(_),this._backdropTransitionendHandler=_=>{this._disposeBackdrop(_.target)},this._keydownEvents=new tn.x,this._outsidePointerEvents=new tn.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,zr.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Cl(this._config.width),t.height=Cl(this._config.height),t.minWidth=Cl(this._config.minWidth),t.minHeight=Cl(this._config.minHeight),t.maxWidth=Cl(this._config.maxWidth),t.maxHeight=Cl(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=Ik(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Wi((0,vu.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Jz="cdk-overlay-connected-position-bounding-box",cse=/([A-Za-z%]+)$/;class use{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new tn.x,this._resizeSubscription=Xs.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Jz),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let a;for(let l of this._preferredPositions){let d=this._getOriginPoint(t,r,l),A=this._getOverlayPoint(d,e,l),p=this._getOverlayFit(A,e,i,l);if(p.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(l,d);this._canFitWithFlexibleDimensions(p,A,i)?s.push({position:l,origin:d,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(d,l)}):(!a||a.overlayFit.visibleArea<p.visibleArea)&&(a={overlayFit:p,overlayPoint:A,originPoint:d,position:l,overlayRect:e})}if(s.length){let l=null,d=-1;for(const A of s){const p=A.boundingBoxRect.width*A.boundingBoxRect.height*(A.position.weight||1);p>d&&(d=p,l=A)}return this._isPushed=!1,void this._applyPosition(l.position,l.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&aC(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Jz),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const a=this._isRtl()?t.right:t.left,l=this._isRtl()?t.left:t.right;r="start"==i.originX?a:l}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=eG(e);let{x:a,y:l}=t,d=this._getOffset(r,"x"),A=this._getOffset(r,"y");d&&(a+=d),A&&(l+=A);let x=0-l,C=l+s.height-i.height,F=this._subtractOverflows(s.width,0-a,a+s.width-i.width),R=this._subtractOverflows(s.height,x,C),U=F*R;return{visibleArea:U,isCompletelyWithinViewport:s.width*s.height===U,fitsInViewportVertically:R===s.height,fitsInViewportHorizontally:F==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,a=Xz(this._overlayRef.getConfig().minHeight),l=Xz(this._overlayRef.getConfig().minWidth),A=t.fitsInViewportHorizontally||null!=l&&l<=s;return(t.fitsInViewportVertically||null!=a&&a<=r)&&A}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=eG(e),s=this._viewportRect,a=Math.max(t.x+r.width-s.width,0),l=Math.max(t.y+r.height-s.height,0),d=Math.max(s.top-i.top-t.y,0),A=Math.max(s.left-i.left-t.x,0);let p=0,_=0;return p=r.width<=s.width?A||-a:t.x<this._viewportMargin?s.left-i.left-t.x:0,_=r.height<=s.height?d||-l:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:p,y:_},{x:t.x+p,y:t.y+_}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new ose(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,a,l,p,_,x;if("top"===e.overlayY)a=t.y,s=i.height-a+this._viewportMargin;else if("bottom"===e.overlayY)l=i.height-t.y+2*this._viewportMargin,s=i.height-l+this._viewportMargin;else{const C=Math.min(i.bottom-t.y+i.top,t.y),F=this._lastBoundingBoxSize.height;s=2*C,a=t.y-C,s>F&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-F/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)x=i.width-t.x+this._viewportMargin,p=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)_=t.x,p=i.right-t.x;else{const C=Math.min(i.right-t.x+i.left,t.x),F=this._lastBoundingBoxSize.width;p=2*C,_=t.x-C,p>F&&!this._isInitialRender&&!this._growAfterOpen&&(_=t.x-F/2)}return{top:a,left:_,bottom:l,right:x,width:p,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=Cl(i.height),r.top=Cl(i.top),r.bottom=Cl(i.bottom),r.width=Cl(i.width),r.left=Cl(i.left),r.right=Cl(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Cl(s)),a&&(r.maxWidth=Cl(a))}this._lastBoundingBoxSize=i,aC(this._boundingBox.style,r)}_resetBoundingBoxStyles(){aC(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){aC(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){const p=this._viewportRuler.getViewportScrollPosition();aC(i,this._getExactOverlayY(e,t,p)),aC(i,this._getExactOverlayX(e,t,p))}else i.position="static";let l="",d=this._getOffset(e,"x"),A=this._getOffset(e,"y");d&&(l+=`translateX(${d}px) `),A&&(l+=`translateY(${A}px)`),i.transform=l.trim(),a.maxHeight&&(r?i.maxHeight=Cl(a.maxHeight):s&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=Cl(a.maxWidth):s&&(i.maxWidth="")),aC(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Cl(s.y),r}_getExactOverlayX(t,e,i){let a,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),a=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===a?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Cl(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Yz(t,i),isOriginOutsideView:H3(t,i),isOverlayClipped:Yz(e,i),isOverlayOutsideView:H3(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Ik(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof o.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function aC(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Xz(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(cse);return e&&"px"!==e?null:parseFloat(t)}return n||null}function eG(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const tG="cdk-global-overlay-wrapper";class dse{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(tG),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:a,maxHeight:l}=i,d=!("100%"!==r&&"100vw"!==r||a&&"100%"!==a&&"100vw"!==a),A=!("100%"!==s&&"100vh"!==s||l&&"100%"!==l&&"100vh"!==l),p=this._xPosition,_=this._xOffset,x="rtl"===this._overlayRef.getConfig().direction;let C="",F="",R="";d?R="flex-start":"center"===p?(R="center",x?F=_:C=_):x?"left"===p||"end"===p?(R="flex-end",C=_):("right"===p||"start"===p)&&(R="flex-start",F=_):"left"===p||"start"===p?(R="flex-start",C=_):("right"===p||"end"===p)&&(R="flex-end",F=_),t.position=this._cssPosition,t.marginLeft=d?"0":C,t.marginTop=A?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=d?"0":F,e.justifyContent=R,e.alignItems=A?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(tG),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let hse=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new dse}flexibleConnectedTo(e){return new use(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(zx),o.LFG(Ze),o.LFG(Fs),o.LFG(Fk))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ase=0,gf=(()=>{class n{constructor(e,i,r,s,a,l,d,A,p,_,x,C){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=l,this._ngZone=d,this._document=A,this._directionality=p,this._location=_,this._outsideClickDispatcher=x,this._animationsModuleType=C}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),a=new Bk(e);return a.direction=a.direction||this._directionality.value,new tT(s,i,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Ase++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new zre(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(sse),o.LFG(Fk),o.LFG(o._Vd),o.LFG(hse),o.LFG(ase),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(Ze),o.LFG(pf),o.LFG(rn),o.LFG(lse),o.LFG(o.QbO,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const fse=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],nG=new o.OlP("cdk-connected-overlay-scroll-strategy");let iG=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),rG=(()=>{class n{constructor(e,i,r,s,a){this._overlay=e,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Xs.w0.EMPTY,this._attachSubscription=Xs.w0.EMPTY,this._detachSubscription=Xs.w0.EMPTY,this._positionSubscription=Xs.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new o.vpe,this.positionChange=new o.vpe,this.attach=new o.vpe,this.detach=new o.vpe,this.overlayKeydown=new o.vpe,this.overlayOutsideClick=new o.vpe,this._templatePortal=new $D(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=mi(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=mi(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=mi(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=mi(e)}get push(){return this._push}set push(e){this._push=mi(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=fse);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Im(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Bk({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof iG?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(zA(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(gf),o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(nG),o.Y36(pf,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[o.TTD]}),n})();const gse={provide:nG,deps:[gf],useFactory:function pse(n){return()=>n.scrollStrategies.reposition()}};let Zx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[gf,gse],imports:[sC,oC,L3,L3]}),n})();function kk(n,t=Q_.z){return(0,Br.e)((e,i)=>{let r=null,s=null,a=null;const l=()=>{if(r){r.unsubscribe(),r=null;const A=s;s=null,i.next(A)}};function d(){const A=a+n,p=t.now();if(p<A)return r=this.schedule(void 0,A-p),void i.add(r);l()}e.subscribe(new ge.Q(i,A=>{s=A,a=t.now(),r||(r=t.schedule(d,n),i.add(r))},()=>{l(),i.complete()},void 0,()=>{s=r=null}))})}function sG(n){return gr((t,e)=>n<=e)}let oG=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mse=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Fy(e);return new rs.y(r=>{const a=this._observeElement(i).subscribe(r);return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new tn.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(oG))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Q3=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new o.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=mi(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=zc(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(kk(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(mse),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Rk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[oG]}),n})();const aG=new Set;let Wx,_se=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):vse}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function yse(n){if(!aG.has(n))try{Wx||(Wx=document.createElement("style"),Wx.setAttribute("type","text/css"),document.head.appendChild(Wx)),Wx.sheet&&(Wx.sheet.insertRule(`@media ${n} {body{ }}`,0),aG.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Fs))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vse(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Ok=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new tn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return lG(Ik(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=at(lG(Ik(e)).map(a=>this._registerQuery(a).observable));return s=hi(s.pipe((0,zr.q)(1)),s.pipe(sG(1),kk(0))),s.pipe((0,Xt.U)(a=>{const l={matches:!1,breakpoints:{}};return a.forEach(({matches:d,query:A})=>{l.matches=l.matches||d,l.breakpoints[A]=d}),l}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new rs.y(a=>{const l=d=>this._zone.run(()=>a.next(d));return i.addListener(l),()=>{i.removeListener(l)}}).pipe(oa(i),(0,Xt.U)(({matches:a})=>({query:e,matches:a})),Wi(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(_se),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lG(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function Lk(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const dG="cdk-describedby-message",Pk="cdk-describedby-host";let V3=0,hG=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+V3++,this._document=e,this._id=(0,o.f3M)(o.AFp)+"-"+V3++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const s=j3(i,r);"string"!=typeof i?(AG(i,this._id),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const s=j3(i,r);if(this._isElementDescribedByMessage(e,s)&&this._removeMessageReference(e,s),"string"==typeof i){const a=this._messageRegistry.get(s);a&&0===a.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${Pk}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(Pk);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");AG(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(j3(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=Lk(e,"aria-describedby").filter(r=>0!=r.indexOf(dG));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function wse(n,t,e){const i=Lk(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(Pk,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function bse(n,t,e){const r=Lk(n,t).filter(s=>s!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(Pk)}_isElementDescribedByMessage(e,i){const r=Lk(e,"aria-describedby"),s=this._messageRegistry.get(i),a=s&&s.messageElement.id;return!!a&&-1!=r.indexOf(a)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=e.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ze),o.LFG(Fs))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function j3(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function AG(n,t){n.id||(n.id=`${dG}-${t}-${V3++}`)}class fG{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new tn.x,this._typeaheadSubscription=Xs.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new tn.x,this.change=new tn.x,t instanceof o.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Vs.b)(e=>this._pressedLetters.push(e)),kk(t),gr(()=>this._pressedLetters.length>0),(0,Xt.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,a=i[s];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Im(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof o.n_E?this._items.toArray():this._items}}class Cse extends fG{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class xse extends fG{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let nT=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Ese(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function Sse(n){try{return n.frameElement}catch{return null}}(function Rse(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===gG(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=gG(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Fse(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function kse(n){return!function Dse(n){return function Mse(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Ise(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function Tse(n){return function Bse(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||pG(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Fs))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pG(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function gG(n){if(!pG(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Ose{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,zr.q)(1)).subscribe(t)}}let Nk=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new Ose(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(nT),o.LFG(o.R0b),o.LFG(Ze))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mG(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function _G(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Lse=new o.OlP("cdk-input-modality-detector-options"),Pse={ignoreKeys:[18,17,224,91,16]},Yx=eb({passive:!0,capture:!0});let Nse=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Ui(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(l=>l===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=H_(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(mG(a)?"keyboard":"mouse"),this._mostRecentTarget=H_(a))},this._onTouchstart=a=>{_G(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=H_(a))},this._options={...Pse,...s},this.modalityDetected=this._modality.pipe(sG(1)),this.modalityChanged=this.modalityDetected.pipe(V_()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Yx),r.addEventListener("mousedown",this._onMousedown,Yx),r.addEventListener("touchstart",this._onTouchstart,Yx)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Yx),document.removeEventListener("mousedown",this._onMousedown,Yx),document.removeEventListener("touchstart",this._onTouchstart,Yx))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Fs),o.LFG(o.R0b),o.LFG(Ze),o.LFG(Lse,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Use=new o.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Hse(){return null}}),Qse=new o.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let z3=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,a;return 1===i.length&&"number"==typeof i[0]?a=i[0]:[s,a]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==a&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Use,8),o.LFG(o.R0b),o.LFG(Ze),o.LFG(Qse,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vse=new o.OlP("cdk-focus-monitor-default-options"),Uk=eb({passive:!0,capture:!0});let Lp=(()=>{class n{constructor(e,i,r,s,a){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new tn.x,this._rootNodeFocusAndBlurListener=l=>{for(let A=H_(l);A;A=A.parentElement)"focus"===l.type?this._onFocus(l,A):this._onBlur(l,A)},this._document=s,this._detectionMode=a?.detectionMode||0}monitor(e,i=!1){const r=Fy(e);if(!this._platform.isBrowser||1!==r.nodeType)return vn(null);const s=QM(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;const l={checkChildren:i,subject:new tn.x,rootNode:s};return this._elementInfo.set(r,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(e){const i=Fy(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=Fy(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([l,d])=>this._originChanged(l,i,d)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=H_(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Uk),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Uk)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Wi(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Uk),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Uk),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let a=0;a<s.length;a++)if(s[a].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(Fs),o.LFG(Nse),o.LFG(Ze,8),o.LFG(Vse,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vG="cdk-high-contrast-black-on-white",wG="cdk-high-contrast-white-on-black",G3="cdk-high-contrast-active";let bG=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,o.f3M)(Ok).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(G3,vG,wG),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(G3,vG):2===i&&e.add(G3,wG)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Fs),o.LFG(Ze))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CG=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(bG))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Rk]}),n})();function jse(n,t){if(1&n&&o._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=o.oxw();o.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function zse(n,t){if(1&n&&(o.TgZ(0,"span",5),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij("(",e.group.label,")")}}const Gse=["*"];let qse=(()=>{class n{}return n.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",n.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",n.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",n.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",n})(),Kse=(()=>{class n{}return n.COMPLEX="375ms",n.ENTERING="225ms",n.EXITING="195ms",n})();const Wse=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function Zse(){return!0}});let dr=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!rI()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(bG),o.LFG(Wse,8),o.LFG(Ze))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[sC,sC]}),n})();function lC(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=mi(t)}}}function F0(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Hk(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=mi(t)}}}function Qk(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?zc(e):this.defaultTabIndex}}}function EG(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}function IG(n){return class extends n{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new rs.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}const Yse=new o.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function $se(){return(0,o.f3M)(o.soG)}});class DG{constructor(){this._localeChanges=new tn.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const Jse=new o.OlP("mat-date-formats"),Xse=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function q3(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let eoe=(()=>{class n extends DG{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return q3(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return q3(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return q3(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let s=this._createDateWithOverflow(e,i,r);return s.getMonth(),s}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(Xse.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const s=new Date;return s.setFullYear(e,i,r),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Yse,8),o.LFG(Fs))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const toe={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let noe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:DG,useClass:eoe}]}),n})(),ioe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:Jse,useValue:toe}],imports:[noe]}),n})(),Vk=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class roe{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const TG={enterDuration:225,exitDuration:150},K3=eb({passive:!0}),MG=["mousedown","touchstart"],BG=["mouseup","mouseleave","touchend","touchcancel"];class ooe{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Fy(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...TG,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const a=i.radius||function aoe(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),l=t-r.left,d=e-r.top,A=s.enterDuration,p=document.createElement("div");p.classList.add("mat-ripple-element"),p.style.left=l-a+"px",p.style.top=d-a+"px",p.style.height=2*a+"px",p.style.width=2*a+"px",null!=i.color&&(p.style.backgroundColor=i.color),p.style.transitionDuration=`${A}ms`,this._containerElement.appendChild(p);const _=window.getComputedStyle(p),C=_.transitionDuration,F="none"===_.transitionProperty||"0s"===C||"0s, 0s"===C,R=new roe(this,p,i,F);p.style.transform="scale3d(1, 1, 1)",R.state=0,i.persistent||(this._mostRecentTransientRipple=R);let U=null;return!F&&(A||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Q=()=>this._finishRippleTransition(R),K=()=>this._destroyRipple(R);p.addEventListener("transitionend",Q),p.addEventListener("transitioncancel",K),U={onTransitionEnd:Q,onTransitionCancel:K}}),this._activeRipples.set(R,U),(F||!A)&&this._finishRippleTransition(R),R}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...TG,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Fy(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(MG))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(BG),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=mG(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!_G(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,K3)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(MG.forEach(t=>{this._triggerElement.removeEventListener(t,this,K3)}),this._pointerUpEventsRegistered&&BG.forEach(t=>{this._triggerElement.removeEventListener(t,this,K3)}))}}const loe=new o.OlP("mat-ripple-global-options");let cC=(()=>{class n{constructor(e,i,r,s,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new ooe(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(Fs),o.Y36(loe,8),o.Y36(o.QbO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),rT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[dr,dr]}),n})(),coe=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&o.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),uoe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[dr]}),n})();const FG=new o.OlP("MAT_OPTION_PARENT_COMPONENT"),kG=new o.OlP("MatOptgroup");let doe=0;class hoe{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let Aoe=(()=>{class n{constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+doe++,this.onSelectionChange=new o.vpe,this._stateChanges=new tn.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=mi(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Im(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new hoe(this,e))}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),uC=(()=>{class n extends Aoe{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(FG,8),o.Y36(kG,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&e&&(o.Ikx("id",i.id),o.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),o.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[o.qOj],ngContentSelectors:Gse,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(o.F$t(),o.YNc(0,jse,1,2,"mat-pseudo-checkbox",0),o.TgZ(1,"span",1),o.Hsn(2),o.qZA(),o.YNc(3,zse,2,1,"span",2),o._UZ(4,"div",3)),2&e&&(o.Q6J("ngIf",i.multiple),o.xp6(3),o.Q6J("ngIf",i.group&&i.group._inert),o.xp6(1),o.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[cC,Si,coe],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),n})();function RG(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let a=0;a<n+1;a++)i[a].group&&i[a].group===r[s]&&s++;return s}return 0}let OG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[rT,Us,dr,uoe]}),n})();const LG=["mat-button",""],PG=["*"],moe=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],_oe=F0(lC(Hk(class{constructor(n){this._elementRef=n}})));let wu=(()=>{class n extends _oe{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of moe)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Lp),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&o.Gf(cC,5),2&e){let r;o.iGM(r=o.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:LG,ngContentSelectors:PG,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1)(3,"span",2)),2&e&&(o.xp6(2),o.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[cC],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),NG=(()=>{class n extends wu{constructor(e,i,r,s){super(i,e,r),this._ngZone=s,this._haltDisabledEvents=a=>{this.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone?this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}):this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Lp),o.Y36(o.SBq),o.Y36(o.QbO,8),o.Y36(o.R0b,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("tabindex",i.disabled?-1:i.tabIndex)("disabled",i.disabled||null)("aria-disabled",i.disabled.toString()),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[o.qOj],attrs:LG,ngContentSelectors:PG,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1)(3,"span",2)),2&e&&(o.xp6(2),o.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[cC],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),jk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[rT,dr,dr]}),n})();class UG{}class yoe{}const ky="*";function dc(n,t){return{type:7,name:n,definitions:t,options:{}}}function _o(n,t=null){return{type:4,styles:t,timings:n}}function HG(n,t=null){return{type:3,steps:n,options:t}}function QG(n,t=null){return{type:2,steps:n,options:t}}function oi(n){return{type:6,styles:n,offset:null}}function Or(n,t,e){return{type:0,name:n,styles:t,options:e}}function sT(n){return{type:5,steps:n}}function js(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function zk(n=null){return{type:9,options:n}}function Gk(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function VG(n){Promise.resolve().then(n)}class oT{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){VG(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class jG{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?VG(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==s&&this._onFinish()}),a.onDestroy(()=>{++i==s&&this._onDestroy()}),a.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function voe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2)(1,"button",3),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.action())}),o._uU(2),o.qZA()()}if(2&n){const e=o.oxw();o.xp6(2),o.Oqu(e.data.action)}}function woe(n,t){}const zG=new o.OlP("MatSnackBarData");class qk{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const boe=Math.pow(2,31)-1;class W3{constructor(t,e){this._overlayRef=e,this._afterDismissed=new tn.x,this._afterOpened=new tn.x,this._onAction=new tn.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,boe))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let Coe=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(W3),o.Y36(zG))},n.\u0275cmp=o.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"span",0),o._uU(1),o.qZA(),o.YNc(2,voe,3,1,"div",1)),2&e&&(o.xp6(1),o.Oqu(i.data.message),o.xp6(1),o.Q6J("ngIf",i.hasAction))},dependencies:[Si,wu],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),n})();const xoe={snackBarState:dc("state",[Or("void, hidden",oi({transform:"scale(0.8)",opacity:0})),Or("visible",oi({transform:"scale(1)",opacity:1})),js("* => visible",_o("150ms cubic-bezier(0, 0, 0.2, 1)")),js("* => void, * => hidden",_o("75ms cubic-bezier(0.4, 0.0, 1, 1)",oi({opacity:0})))])};let Soe=(()=>{class n extends Mk{constructor(e,i,r,s,a){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=a,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new tn.x,this._onExit=new tn.x,this._onEnter=new tn.x,this._animationState="void",this.attachDomPortal=l=>{this._assertNotAttached();const d=this._portalOutlet.attachDomPortal(l);return this._afterPortalAttached(),d},this._live="assertive"!==a.politeness||a.announcementMessage?"off"===a.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,zr.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Fs),o.Y36(qk))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&o.Gf(Kx,7),2&e){let r;o.iGM(r=o.CRH())&&(i._portalOutlet=r.first)}},features:[o.qOj]}),n})(),Eoe=(()=>{class n extends Soe{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&o.WFA("@state.done",function(s){return i.onAnimationEnd(s)}),2&e&&o.d8E("@state",i._animationState)},features:[o.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.YNc(1,woe,0,0,"ng-template",1),o.qZA(),o._UZ(2,"div")),2&e&&(o.xp6(2),o.uIk("aria-live",i._live)("role",i._role))},dependencies:[Kx],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[xoe.snackBarState]}}),n})(),GG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Zx,oC,Us,jk,dr,dr]}),n})();const qG=new o.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function Ioe(){return new qk}});let Doe=(()=>{class n{constructor(e,i,r,s,a,l){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=a,this._defaultConfig=l,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const s={...this._defaultConfig,...r};return s.data={message:e,action:i},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const s=o.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:qk,useValue:i}]}),a=new qx(this.snackBarContainerComponent,i.viewContainerRef,s),l=e.attach(a);return l.instance.snackBarConfig=i,l.instance}_attach(e,i){const r={...new qk,...this._defaultConfig,...i},s=this._createOverlay(r),a=this._attachSnackBarContainer(s,r),l=new W3(a,s);if(e instanceof o.Rgc){const d=new $D(e,null,{$implicit:r.data,snackBarRef:l});l.instance=a.attachTemplatePortal(d)}else{const d=this._createInjector(r,l),A=new qx(e,void 0,d),p=a.attachComponentPortal(A);l.instance=p.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Wi(s.detachments())).subscribe(d=>{s.overlayElement.classList.toggle(this.handsetCssClass,d.matches)}),r.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(l,r),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new Bk;i.direction=e.direction;let r=this._overlay.position().global();const s="rtl"===e.direction,a="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,l=!a&&"center"!==e.horizontalPosition;return a?r.left("0"):l?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return o.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:W3,useValue:i},{provide:zG,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(gf),o.LFG(z3),o.LFG(o.zs3),o.LFG(Ok),o.LFG(n,12),o.LFG(qG))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),KG=(()=>{class n extends Doe{constructor(e,i,r,s,a,l){super(e,i,r,s,a,l),this.simpleSnackBarComponent=Coe,this.snackBarContainerComponent=Eoe,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(gf),o.LFG(z3),o.LFG(o.zs3),o.LFG(Ok),o.LFG(n,12),o.LFG(qG))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:GG}),n})();const aT="https://discord.com/api/v10";let gd=(()=>{class n{constructor(e,i,r,s,a,l){this.store=e,this._snackBar=i,this.activated=r,this.http=s,this.utils=a,this.route=l,this.isRotinrim=!1,this.develop=!1,this.redirectUrl="",this.clientId="",this.clientSecret="",this.loggedIn=new Ui(!1),this.regnanteIn=new Ui(!1);const d=se(7986);this.develop=d.develop,this.develop?(this.redirectUrl="http://localhost:4200/",this.clientId="960448858926768148",this.clientSecret="nQw62DUdZc5DaaYEZ6CB7IyqgtFqUnHY"):(this.redirectUrl="https://fabiodagostino.github.io/rot/",this.clientId="1106594210242625579",this.clientSecret="74VfRYTw1f-ERkI4rfJGSVGwP3ShCsNe")}get isLoggedInObs(){return this.loggedIn.asObservable()}get isRegnanteInObs(){return this.regnanteIn.asObservable()}getGuilds(e){const i=(new rh).set("Authorization",`Bearer ${e}`);return this.http.get(`${aT}/users/@me/guilds`,{headers:i})}getUserGuildInfo(e){const i=(new rh).set("Authorization",`Bearer ${e}`);return this.http.get(`${aT}/users/@me/guilds/511856322141093904/member`,{headers:i})}getUserInfo(e){const i=(new rh).set("Authorization",`Bearer ${e}`);return this.http.get(`${aT}/users/@me`,{headers:i})}logicaLogin(e){var i=new tn.x;return this.getGuilds(e.access_token).subscribe(r=>{r.find(s=>s.id.includes("511856322141093904"))?this.getUserGuildInfo(e.access_token).subscribe(s=>{const a=this.okLogin(e,"Rotiniel",s);i.next(a)},s=>{this.getUserInfo(e.access_token).subscribe(a=>{const l=this.okLogin(e,"Rotiniel",void 0,a.id,a.username);i.next(l)})}):r.find(s=>s.id.includes("608322373057249290"))?this.getUserInfo(e.access_token).subscribe(s=>{i.next(this.okLogin(e,"The Miracle Shard",void 0,s.id,s.username))}):this.openSnackBar("loginFallita")}),i.asObservable()}okLogin(e,i,r,s,a){var l,d;const A=new pre(e,r,s,a);return A.serverAutenticazione=i,this.checkUser(A).subscribe(),this.openSnackBar("login"),this.loggedIn.next(!0),localStorage.setItem("idUser",A.id),!(null===(l=A.ruoli)||void 0===l)&&l.includes("Cittadino")&&(this.isRotinrim=!0,A.interno=!0),!(null===(d=A.ruoli)||void 0===d)&&d.includes("Regnante")&&this.regnanteIn.next(!0),A}loginDiscord(e){var i=new tn.x;return this.getAccessToken(e).subscribe(r=>{this.logicaLogin(r).subscribe(s=>{this.userLoggato=s,this.loggedIn.next(!0),i.next(s)})}),i.asObservable()}getAccessToken(e){var i=new tn.x;let s=new URLSearchParams;return s.append("client_id",this.clientId),s.append("client_secret",this.clientSecret),s.append("grant_type","authorization_code"),s.append("code",e),s.append("redirect_uri",this.redirectUrl),this.http.post(`${aT}/oauth2/token`,s,{headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}}).subscribe(a=>{a.expires=this.utils.addMillisecondsToCurrentDate(a.expires_in),i.next(a)}),i.asObservable()}rekoveAccessToken(){let i=new URLSearchParams;i.append("client_id",this.clientId),i.append("client_secret",this.clientSecret),i.append("redirect_uri",this.redirectUrl),i.append("token",localStorage.getItem("token")),localStorage.getItem("token")&&this.http.post(`${aT}/oauth2/token/revoke`,i,{headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}}).subscribe(r=>{})}getQueryParams(){return this.activated.snapshot.queryParamMap.get("code")}checkUser(e){var i=new tn.x,r=this.store.collection("User",s=>s.where("username","==",e.username)).valueChanges({idField:"id"}).subscribe(s=>{s.length>0?this.store.collection("User").doc(`${s[0].id}`).set({lastExpiresToken:e.token.expires,ruoli:e.ruoli},{merge:!0}):this.registrati(e),r.unsubscribe()});return i.asObservable()}registrati(e){this.store.collection("User").add({username:e.username,roles:e.ruoli,lastExpiresToken:e.token.expires,id:e.id,serverAutenticazione:e.serverAutenticazione,registratoDate:new Date})}getUser(){const e=localStorage.getItem("idUser");var i=new tn.x,r=this.store.collection("User",s=>s.where("id","==",e)).valueChanges().subscribe(s=>{1==s.length&&(s[0].registratoDate=new Date(1e3*s[0].registratoDate.seconds),i.next(s[0]),r.unsubscribe())});return i.asObservable()}getUsers(){var e=new tn.x,i=this.store.collection("User").valueChanges().subscribe(r=>{r.length>0&&(r=r.map(s=>Object.assign(Object.assign({},s),{registratoDate:this.utils.getFromTimeStamp(s.registratoDate)})),e.next(r),i.unsubscribe())});return e.asObservable()}SalvaTicket(e){this.store.collection("Ticket").add({user:e.user,messaggio:e.messaggio,tipologia:e.tipologia,tool:e.tool,data:new Date}),this.openSnackBar("segnalazioneInviata")}isLogged(){var e=new tn.x;return localStorage.getItem("idUser")&&this.getUser().subscribe(r=>{var s,a;if(r){if(this.utils.compareDates(r.lastExpiresToken))return this.logoutPartial(),void this.openSnackBar("sessioneScaduta");this.userLoggato=r,this.loggedIn.next(!0),!(null===(s=this.userLoggato.ruoli)||void 0===s)&&s.includes("Cittadino")&&(this.isRotinrim=!0),!(null===(a=this.userLoggato.ruoli)||void 0===a)&&a.includes("Regnante")&&this.regnanteIn.next(!0),r.registratoDate=new Date(1e3*r.registratoDate.seconds)}else this.logoutPartial();e.next(!0)}),e.asObservable()}logout(){this.logoutPartial(),this.openSnackBar("logout")}logoutPartial(){this.isRotinrim=!1,this.loggedIn.next(!1),this.regnanteIn.next(!1),this.userLoggato=void 0,localStorage.removeItem("token"),localStorage.removeItem("idUser"),this.utils.navigateOutAdmin()}openSnackBar(e,i="top",r="end",s=""){switch(e){case"login":this.openSnack("Sei loggato correttamente!","blue-snackbar");break;case"logout":this.openSnack("Sei sloggato correttamente!","red-snackbar");break;case"registrazioneAvvenuta":this.openSnack("La registrazione \xe8 avvenuta con successo!","green-snackbar");break;case"registrazioneFallita":this.openSnack(""==s?"Hai sbagliato una o pi\xf9 risposte!":s,"red-snackbar",i,r);break;case"loginFallita":this.openSnack(""==s?"Per poter accedere devi essere presente nel server di Rotiniel o di The Miracle":s,"red-snackbar",i,r);break;case"segnalazioneInviata":this.openSnack("La segnalazione \xe8 stata inviata!","green-snackbar");break;case"infoAggiuntive":this.openSnack("Scarica il pdf per avere tutte le info aggiuntive.","green-snackbar",i,r);break;case"sessioneScaduta":this.openSnack("Sessione scaduta, effettua di nuovo la login!","yellow-snackbar",i,r);break;case"effettuaLogin":this.openSnack("Per poter inviare un ticket effettua la login!","yellow-snackbar",i,r)}}openSnack(e,i,r="top",s="end"){this._snackBar.open(e,"Ok",{duration:2e3,horizontalPosition:s,verticalPosition:r,panelClass:i})}canActivateAdmin(e,i){return this.isLoggedInObs.pipe((0,Xt.U)(r=>{var s,a;return!(!r||!(null===(a=null===(s=this.userLoggato)||void 0===s?void 0:s.ruoli)||void 0===a?void 0:a.includes("Regnante")))||this.route.parseUrl("/")}))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Sk),o.LFG(KG),o.LFG(Au),o.LFG(P_),o.LFG(lh),o.LFG(os))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class $x{constructor(){this.nome="",this.classe=new lT,this.skills=new Array,this.razza=new WG,this.stats=new $G,this.malusMagico=0,this.religione=new ZG,this.guid="",this.utilizzatoNVolte=0}}class Loe{constructor(){this.nome=""}}class Poe{constructor(){this.domanda="",this.risposta="",this.min=0}}class Y3{constructor(){this.nome="",this.classe="",this.razza="",this.forza=0,this.destrezza=0,this.intelligenza=0,this.divinita="",this.pantheon="",this.guid="",this.utilizzatoNVolte=0}static Convert(t,e){let i=new $x;return i.nome=t?.nome,i.stats=new $G(t?.forza,t?.destrezza,t?.intelligenza),i.religione=new ZG(t?.divinita),e.forEach(r=>{let s=new YG;s.nome=r?.nomeSkill,s.value=r?.valueSkill,s.isChecked=!0,s.idTipologiaSkill=r.idTipologiaSkill,s.id=r.idSkill,i.skills.push(s)}),i.guid=t?.guid,i.utilizzatoNVolte=t?.utilizzatoNVolte,i.razza=new WG(t?.razza),i.classe=new lT(0,t?.classe),i}}class Noe{constructor(){this.nome="",this.info="",this.procedura=new Array,this.classe=""}}class $3{constructor(){this.id=0,this.religione="",this.spell=Array(),this.aura=""}}class J3{constructor(){this.id=0,this.religione="",this.spell=Array()}}class ZG{constructor(t){this.id=0,this.nome="",this.pantheon="",t&&(this.nome=t)}}class WG{constructor(t){this.id=0,this.nome="",t&&(this.nome=t)}}class lT{constructor(t,e){this.id=0,this.nome="",this.notRazze=new Array,this.id=t,this.nome=e}static convertClasse(t){return new Uoe(t.id,t.nome)}}class cT{constructor(){this.nome="",this.id=0,this.classi=new Array,this.idTipologiaSkill=-1}static ConvertToSkillsChecked(t){let e=new Array;return t.forEach(i=>{let r=new YG;r.id=i.id,r.nome=i.nome,r.idTipologiaSkill=i.idTipologiaSkill,r.classi=i.classi,e.push(r)}),e}}class YG extends cT{constructor(){super(...arguments),this.isChecked=!1,this.value=0}}class $G{constructor(t,e,i){this.forza=0,this.destrezza=0,this.intelligenza=0,t&&e&&i&&(this.forza=t,this.destrezza=e,this.intelligenza=i)}}class Uoe extends lT{constructor(){super(...arguments),this.isChecked=!1}}const JG="@firebase/database",XG="0.13.10";let X3="";function e7(n){X3=n}class Voe{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,he.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,he.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class joe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,he.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const t7=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Voe(t)}}catch{}return new joe},dC=t7("localStorage"),e4=t7("sessionStorage"),Jx=new lf.Yd("@firebase/database"),n7=function(){let n=1;return function(){return n++}}(),i7=function(n){const t=(0,he.dS)(n),e=new he.gQ;e.update(t);const i=e.digest();return he.US.encodeByteArray(i)},uT=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=uT.apply(null,i):t+="object"==typeof i?(0,he.Wl)(i):i,t+=" "}return t};let hC=null,r7=!0;const s7=function(n,t){(0,he.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Jx.logLevel=lf.in.VERBOSE,hC=Jx.log.bind(Jx),t&&e4.set("logging_enabled",!0)):"function"==typeof n?hC=n:(hC=null,e4.remove("logging_enabled"))},hc=function(...n){if(!0===r7&&(r7=!1,null===hC&&!0===e4.get("logging_enabled")&&s7(!0)),hC){const t=uT.apply(null,n);hC(t)}},dT=function(n){return function(...t){hc(n,...t)}},t4=function(...n){const t="FIREBASE INTERNAL ERROR: "+uT(...n);Jx.error(t)},Dm=function(...n){const t=`FIREBASE FATAL ERROR: ${uT(...n)}`;throw Jx.error(t),new Error(t)},bu=function(...n){const t="FIREBASE WARNING: "+uT(...n);Jx.warn(t)},Kk=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Ry="[MIN_NAME]",Tm="[MAX_NAME]",AC=function(n,t){if(n===t)return 0;if(n===Ry||t===Tm)return-1;if(t===Ry||n===Tm)return 1;{const e=Zk(n),i=Zk(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},qoe=function(n,t){return n===t?0:n<t?-1:1},hT=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,he.Wl)(t))},n4=function(n){if("object"!=typeof n||null===n)return(0,he.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,he.Wl)(t[i]),e+=":",e+=n4(n[t[i]]);return e+="}",e},o7=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Ac(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const a7=function(n){(0,he.hu)(!Kk(n),"Invalid JSON number");const i=1023;let r,s,a,l,d;0===n?(s=0,a=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=l+i,a=Math.round(n*Math.pow(2,52-l)-Math.pow(2,52))):(s=0,a=Math.round(n/Math.pow(2,-1074))));const A=[];for(d=52;d;d-=1)A.push(a%2?1:0),a=Math.floor(a/2);for(d=11;d;d-=1)A.push(s%2?1:0),s=Math.floor(s/2);A.push(r?1:0),A.reverse();const p=A.join("");let _="";for(d=0;d<64;d+=8){let x=parseInt(p.substr(d,8),2).toString(16);1===x.length&&(x="0"+x),_+=x}return _.toLowerCase()},Yoe=new RegExp("^-?(0*)\\d{1,10}$"),l7=-2147483648,r4=2147483647,Zk=function(n){if(Yoe.test(n)){const t=Number(n);if(t>=l7&&t<=r4)return t}return null},Xx=function(n){try{n()}catch(t){setTimeout(()=>{throw bu("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},AT=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class Joe{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){bu(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Xoe{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(hc("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',bu(t)}}let fT=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const A7=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,g7="websocket",m7="long_polling";class o4{constructor(t,e,i,r,s=!1,a="",l=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=dC.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&dC.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function _7(n,t,e){let i;if((0,he.hu)("string"==typeof t,"typeof type must == string"),(0,he.hu)("object"==typeof e,"typeof params must == object"),t===g7)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==m7)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function eae(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Ac(e,(s,a)=>{r.push(s+"="+a)}),i+r.join("&")}class tae{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,he.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,he.p$)(this.counters_)}}const a4={},l4={};function c4(n){const t=n.toString();return a4[t]||(a4[t]=new tae),a4[t]}class iae{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Xx(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class k0{constructor(t,e,i,r,s,a,l){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=dT(t),this.stats_=c4(e),this.urlFn=d=>(this.appCheckToken&&(d.ac=this.appCheckToken),_7(e,m7,d))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new iae(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,he.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new u4((...s)=>{const[a,l,d,A,p]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===a)this.id=l,this.password=d;else{if("close"!==a)throw new Error("Unrecognized command received: "+a);l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[a,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,l)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&A7.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){k0.forceAllow_=!0}static forceDisallow(){k0.forceDisallow_=!0}static isAvailable(){return!((0,he.Yr)()||!k0.forceAllow_&&(k0.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,he.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,he.h$)(e),r=o7(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,he.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,he.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class u4{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,he.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=n7(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=u4.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(l){hc("frame writing exception"),l.stack&&hc(l.stack),hc(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||hc("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const a=this.pendingSegs.shift();i=i+"&seg"+r+"="+a.seg+"&ts"+r+"="+a.ts+"&d"+r+"="+a.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,he.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{hc("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let Yk=null;typeof MozWebSocket<"u"?Yk=MozWebSocket:typeof WebSocket<"u"&&(Yk=WebSocket);let eS=(()=>{class n{constructor(e,i,r,s,a,l,d){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=dT(this.connId),this.stats_=c4(i),this.connURL=n.connectionURL_(i,l,d,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,a){const l={v:"5"};return!(0,he.Yr)()&&typeof location<"u"&&location.hostname&&A7.test(location.hostname)&&(l.r="f"),i&&(l.s=i),r&&(l.ls=r),s&&(l.ac=s),a&&(l.p=a),_7(e,g7,l)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,dC.set("previous_websocket_failure",!0);try{let r;if((0,he.Yr)()){r={headers:{"User-Agent":`Firebase/5/${X3}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const a=process.env,l=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;l&&(r.proxy={origin:l})}this.mySock=new Yk(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==Yk&&!n.forceDisallow_}static previouslyFailed(){return dC.isInMemoryStorage||!0===dC.get("previous_websocket_failure")}markConnectionHealthy(){dC.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,he.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,he.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,he.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=o7(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),S7=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[k0,eS]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=eS&&eS.isAvailable();let r=i&&!eS.previouslyFailed();if(e.webSocketOnly&&(i||bu("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[eS];else{const s=this.transports_=[];for(const a of n.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class F7{constructor(t,e,i,r,s,a,l,d,A,p){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=d,this.onKill_=A,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=dT("c:"+this.id+":"),this.transportManager_=new S7(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=AT(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=hT("t",t),i=hT("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=hT("t",t),i=hT("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=hT("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?t4("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):t4("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&bu("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),AT(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):AT(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(dC.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class k7{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class R7{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,he.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,he.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class $k extends R7{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,he.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new $k}getInitialEvent(t){return(0,he.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class ws{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function as(){return new ws("")}function vr(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function R0(n){return n.pieces_.length-n.pieceNum_}function no(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new ws(n.pieces_,t)}function h4(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function pT(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function P7(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new ws(t,0)}function Wo(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof ws)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new ws(e,0)}function wr(n){return n.pieceNum_>=n.pieces_.length}function md(n,t){const e=vr(n),i=vr(t);if(null===e)return t;if(e===i)return md(no(n),no(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Sae(n,t){const e=pT(n,0),i=pT(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=AC(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function A4(n,t){if(R0(n)!==R0(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function mf(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(R0(n)>R0(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class Eae{constructor(t,e){this.errorPrefix_=e,this.parts_=pT(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,he.ug)(this.parts_[i]);N7(this)}}function N7(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+fC(n))}function fC(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class f4 extends R7{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new f4}getInitialEvent(t){return(0,he.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const gT=1e3;let Xk,pC=(()=>{class n extends k7{constructor(e,i,r,s,a,l,d,A){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=l,this.appCheckTokenProvider_=d,this.authOverride_=A,this.id=n.nextPersistentConnectionId_++,this.log_=dT("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=gT,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,A&&!(0,he.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");f4.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&$k.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,a={r:s,a:e,b:i};this.log_((0,he.Wl)(a)),(0,he.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new he.BH,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const d=l.d;"ok"===l.s?i.resolve(d):i.reject(d)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,s){this.initConnection_();const a=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),(0,he.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,he.hu)(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");const d={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(l).set(a,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const a={p:r};e.tag&&(a.q=i._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,d=>{const A=d.d,p=d.s;n.warnOnListenWarnings_(A,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",d),"ok"!==p&&this.removeListen_(r,s),e.onComplete&&e.onComplete(p,A))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,he.r3)(e,"w")){const r=(0,he.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',a=i._path.toString();bu(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,he.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,he.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const a=s.s,l=s.d||"error";this.authToken_===e&&("ok"===a?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,he.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const a={p:e};s&&(a.q=r,a.t=s),this.sendRequest("n",a)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const a={p:i,d:r};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,l=>{s&&setTimeout(()=>{s(l.s,l.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,a){this.initConnection_();const l={p:i,d:r};void 0!==a&&(l.h=a),this.outstandingPuts_.push({action:e,request:l,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,a=>{this.log_(i+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,he.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):t4("Unrecognized action received from server: "+(0,he.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,he.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=gT,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=gT,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=gT),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Tt.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),a=e.id+":"+n.nextConnectionId_++,l=e.lastSessionId;let d=!1,A=null;const p=function(){A?A.close():(d=!0,s())};e.realtime_={close:p,sendRequest:function(C){(0,he.hu)(A,"sendRequest call when we're not connected not allowed."),A.sendRequest(C)}};const x=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[C,F]=yield Promise.all([e.authTokenProvider_.getToken(x),e.appCheckTokenProvider_.getToken(x)]);d?hc("getToken() completed but was canceled"):(hc("getToken() completed. Creating connection."),e.authToken_=C&&C.accessToken,e.appCheckToken_=F&&F.token,A=new F7(a,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,R=>{bu(R+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},l))}catch(C){e.log_("Failed to get token: "+C),d||(e.repoInfo_.nodeAdmin&&bu(C),p())}}})()}interrupt(e){hc("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){hc("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,he.xb)(this.interruptReasons_)&&(this.reconnectDelay_=gT,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(a=>n4(a)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new ws(e).toString();let s;if(this.listens.has(r)){const a=this.listens.get(r);s=a.get(i),a.delete(i),0===a.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){hc("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){hc("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,he.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+X3.replace(/\./g,"-")]=1,(0,he.uI)()?e["framework.cordova"]=1:(0,he.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=$k.getInstance().currentlyOnline();return(0,he.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Cr{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Cr(t,e)}}class Jk{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Cr(Ry,t),r=new Cr(Ry,e);return 0!==this.compare(i,r)}minPost(){return Cr.MIN}}class Q7 extends Jk{static get __EMPTY_NODE(){return Xk}static set __EMPTY_NODE(t){Xk=t}compare(t,e){return AC(t.name,e.name)}isDefinedOn(t){throw(0,he.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Cr.MIN}maxPost(){return new Cr(Tm,Xk)}makePost(t,e){return(0,he.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Cr(t,Xk)}toString(){return".key"}}const Mm=new Q7;class eR{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(a=e?i(t.key,e):1,r&&(a*=-1),a<0)t=this.isReverse_?t.left:t.right;else{if(0===a){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let g4,Pp=(()=>{class n{constructor(e,i,r,s,a){this.key=e,this.value=i,this.color=r??n.RED,this.left=s??ch.EMPTY_NODE,this.right=a??ch.EMPTY_NODE}copy(e,i,r,s,a){return new n(e??this.key,i??this.value,r??this.color,s??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===a?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ch.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return ch.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ch{constructor(t,e=ch.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new ch(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Pp.BLACK,null,null))}remove(t){return new ch(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Pp.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new eR(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new eR(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new eR(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new eR(this.root_,null,this.comparator_,!0,t)}}function Rae(n,t){return AC(n.name,t.name)}function p4(n,t){return AC(n,t)}ch.EMPTY_NODE=new class kae{copy(t,e,i,r,s){return this}insert(t,e,i){return new Pp(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const V7=function(n){return"number"==typeof n?"number:"+a7(n):"string:"+n},j7=function(n){if(n.isLeafNode()){const t=n.val();(0,he.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,he.r3)(t,".sv"),"Priority must be a string or number.")}else(0,he.hu)(n===g4||n.isEmpty(),"priority of unexpected type.");(0,he.hu)(n===g4||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let z7,G7,q7,tS=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,he.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),j7(this.priorityNode_)}static set __childrenNodeConstructor(e){z7=e}static get __childrenNodeConstructor(){return z7}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return wr(e)?this:".priority"===vr(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=vr(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,he.hu)(".priority"!==r||1===R0(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(no(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+V7(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?a7(this.value_):this.value_,this.lazyHash_=i7(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,he.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),a=n.VALUE_TYPE_ORDER.indexOf(r);return(0,he.hu)(s>=0,"Unknown leaf type: "+i),(0,he.hu)(a>=0,"Unknown leaf type: "+r),s===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const yo=new class Nae extends Jk{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?AC(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Cr.MIN}maxPost(){return new Cr(Tm,new tS("[PRIORITY-POST]",q7))}makePost(t,e){const i=G7(t);return new Cr(e,new tS("[PRIORITY-POST]",i))}toString(){return".priority"}},Uae=Math.log(2);class Hae{constructor(t){this.count=parseInt(Math.log(t+1)/Uae,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const tR=function(n,t,e,i){n.sort(t);const r=function(d,A){const p=A-d;let _,x;if(0===p)return null;if(1===p)return _=n[d],x=e?e(_):_,new Pp(x,_.node,Pp.BLACK,null,null);{const C=parseInt(p/2,10)+d,F=r(d,C),R=r(C+1,A);return _=n[C],x=e?e(_):_,new Pp(x,_.node,Pp.BLACK,F,R)}},l=function(d){let A=null,p=null,_=n.length;const x=function(F,R){const U=_-F,Q=_;_-=F;const K=r(U+1,Q),ie=n[U],ce=e?e(ie):ie;C(new Pp(ce,ie.node,R,null,K))},C=function(F){A?(A.left=F,A=F):(p=F,A=F)};for(let F=0;F<d.count;++F){const R=d.nextBitIsOne(),U=Math.pow(2,d.count-(F+1));R?x(U,Pp.BLACK):(x(U,Pp.BLACK),x(U,Pp.RED))}return p}(new Hae(n.length));return new ch(i||t,l)};let m4;const nS={};class Oy{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,he.hu)(nS&&yo,"ChildrenNode.ts has not been loaded"),m4=m4||new Oy({".priority":nS},{".priority":yo}),m4}get(t){const e=(0,he.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof ch?e:null}hasIndex(t){return(0,he.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,he.hu)(t!==Mm,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(Cr.Wrap);let l,a=s.getNext();for(;a;)r=r||t.isDefinedOn(a.node),i.push(a),a=s.getNext();l=r?tR(i,t.getCompare()):nS;const d=t.toString(),A=Object.assign({},this.indexSet_);A[d]=t;const p=Object.assign({},this.indexes_);return p[d]=l,new Oy(p,A)}addToIndexes(t,e){const i=(0,he.UI)(this.indexes_,(r,s)=>{const a=(0,he.DV)(this.indexSet_,s);if((0,he.hu)(a,"Missing index implementation for "+s),r===nS){if(a.isDefinedOn(t.node)){const l=[],d=e.getIterator(Cr.Wrap);let A=d.getNext();for(;A;)A.name!==t.name&&l.push(A),A=d.getNext();return l.push(t),tR(l,a.getCompare())}return nS}{const l=e.get(t.name);let d=r;return l&&(d=d.remove(new Cr(t.name,l))),d.insert(t,t.node)}});return new Oy(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,he.UI)(this.indexes_,r=>{if(r===nS)return r;{const s=e.get(t.name);return s?r.remove(new Cr(t.name,s)):r}});return new Oy(i,this.indexSet_)}}let mT,or=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&j7(this.priorityNode_),this.children_.isEmpty()&&(0,he.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return mT||(mT=new n(new ch(p4),null,Oy.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||mT}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?mT:i}}getChild(e){const i=vr(e);return null===i?this:this.getImmediateChild(i).getChild(no(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,he.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new Cr(e,i);let s,a;i.isEmpty()?(s=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),a=this.indexMap_.addToIndexes(r,this.children_));const l=s.isEmpty()?mT:this.priorityNode_;return new n(s,l,a)}}updateChild(e,i){const r=vr(e);if(null===r)return i;{(0,he.hu)(".priority"!==vr(e)||1===R0(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(no(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,a=!0;if(this.forEachChild(yo,(l,d)=>{i[l]=d.val(e),r++,a&&n.INTEGER_REGEXP_.test(l)?s=Math.max(s,Number(l)):a=!1}),!e&&a&&s<2*r){const l=[];for(const d in i)l[d]=i[d];return l}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+V7(this.getPriority().val())+":"),this.forEachChild(yo,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":i7(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const a=s.getPredecessorKey(new Cr(e,i));return a?a.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Cr(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Cr(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Cr.Wrap);let a=s.peek();for(;null!=a&&i.compare(a,e)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Cr.Wrap);let a=s.peek();for(;null!=a&&i.compare(a,e)>0;)s.getNext(),a=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===_T?-1:0}withIndex(e){if(e===Mm||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Mm||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(yo),s=i.getIterator(yo);let a=r.getNext(),l=s.getNext();for(;a&&l;){if(a.name!==l.name||!a.node.equals(l.node))return!1;a=r.getNext(),l=s.getNext()}return null===a&&null===l}return!1}return!1}}resolveIndex_(e){return e===Mm?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const _T=new class Qae extends or{constructor(){super(new ch(p4),or.EMPTY_NODE,Oy.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return or.EMPTY_NODE}isEmpty(){return!1}};function pa(n,t=null){if(null===n)return or.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,he.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new tS(n,pa(t));if(n instanceof Array){let e=or.EMPTY_NODE;return Ac(n,(i,r)=>{if((0,he.r3)(n,i)&&"."!==i.substring(0,1)){const s=pa(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(pa(t))}{const e=[];let i=!1;if(Ac(n,(a,l)=>{if("."!==a.substring(0,1)){const d=pa(l);d.isEmpty()||(i=i||!d.getPriority().isEmpty(),e.push(new Cr(a,d)))}}),0===e.length)return or.EMPTY_NODE;const s=tR(e,Rae,a=>a.name,p4);if(i){const a=tR(e,yo.getCompare());return new or(s,pa(t),new Oy({".priority":a},{".priority":yo}))}return new or(s,pa(t),Oy.Default)}}Object.defineProperties(Cr,{MIN:{value:new Cr(Ry,or.EMPTY_NODE)},MAX:{value:new Cr(Tm,_T)}}),Q7.__EMPTY_NODE=or.EMPTY_NODE,tS.__childrenNodeConstructor=or,function Oae(n){g4=n}(_T),function Pae(n){q7=n}(_T),function Lae(n){G7=n}(pa);class _4 extends Jk{constructor(t){super(),this.indexPath_=t,(0,he.hu)(!wr(t)&&".priority"!==vr(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?AC(t.name,e.name):s}makePost(t,e){const i=pa(t),r=or.EMPTY_NODE.updateChild(this.indexPath_,i);return new Cr(e,r)}maxPost(){const t=or.EMPTY_NODE.updateChild(this.indexPath_,_T);return new Cr(Tm,t)}toString(){return pT(this.indexPath_,0).join("/")}}const y4=new class jae extends Jk{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?AC(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Cr.MIN}maxPost(){return Cr.MAX}makePost(t,e){const i=pa(t);return new Cr(e,i)}toString(){return".value"}},iS="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",zae=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=iS.charAt(e%64),e=Math.floor(e/64);(0,he.hu)(0===e,"Cannot push at time == 0");let a=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)a+=iS.charAt(t[r]);return(0,he.hu)(20===a.length,"nextPushId: Length should be 20."),a}}(),W7=function(n){if(n===""+r4)return"-";const t=Zk(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let a=0;a<e.length;a++)e[a]=n.charAt(a);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return Tm;const s=iS.charAt(iS.indexOf(e[i])+1);return e[i]=s,e.slice(0,i+1).join("")},Y7=function(n){if(n===""+l7)return Ry;const t=Zk(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+r4:(delete e[e.length-1],e.join("")):(e[e.length-1]=iS.charAt(iS.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function $7(n){return{type:"value",snapshotNode:n}}function rS(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function yT(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function vT(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class w4{constructor(t){this.index_=t}updateChild(t,e,i,r,s,a){(0,he.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=t.getImmediateChild(e);return l.getChild(r).equals(i.getChild(r))&&l.isEmpty()===i.isEmpty()||(null!=a&&(i.isEmpty()?t.hasChild(e)?a.trackChildChange(yT(e,l)):(0,he.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(rS(e,i)):a.trackChildChange(vT(e,i,l))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(yo,(r,s)=>{e.hasChild(r)||i.trackChildChange(yT(r,s))}),e.isLeafNode()||e.forEachChild(yo,(r,s)=>{if(t.hasChild(r)){const a=t.getImmediateChild(r);a.equals(s)||i.trackChildChange(vT(r,s,a))}else i.trackChildChange(rS(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?or.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class wT{constructor(t){this.indexedFilter_=new w4(t.getIndex()),this.index_=t.getIndex(),this.startPost_=wT.getStartPost_(t),this.endPost_=wT.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,s,a){return this.matches(new Cr(e,i))||(i=or.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,a)}updateFullNode(t,e,i){e.isLeafNode()&&(e=or.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(or.EMPTY_NODE);const s=this;return e.forEachChild(yo,(a,l)=>{s.matches(new Cr(a,l))||(r=r.updateImmediateChild(a,or.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class qae{constructor(t){this.rangedFilter_=new wT(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,s,a){return this.rangedFilter_.matches(new Cr(e,i))||(i=or.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,a):this.fullLimitUpdateChild_(t,e,i,s,a)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=or.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=or.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const l=s.getNext();let d;if(d=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),l)<=0:this.index_.compare(l,this.rangedFilter_.getEndPost())<=0,!d)break;r=r.updateImmediateChild(l.name,l.node),a++}}else{let s,a,l,d;if(r=e.withIndex(this.index_),r=r.updatePriority(or.EMPTY_NODE),this.reverse_){d=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),a=this.rangedFilter_.getStartPost();const _=this.index_.getCompare();l=(x,C)=>_(C,x)}else d=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),a=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();let A=0,p=!1;for(;d.hasNext();){const _=d.getNext();!p&&l(s,_)<=0&&(p=!0),p&&A<this.limit_&&l(_,a)<=0?A++:r=r.updateImmediateChild(_.name,or.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let a;if(this.reverse_){const _=this.index_.getCompare();a=(x,C)=>_(C,x)}else a=this.index_.getCompare();const l=t;(0,he.hu)(l.numChildren()===this.limit_,"");const d=new Cr(e,i),A=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),p=this.rangedFilter_.matches(d);if(l.hasChild(e)){const _=l.getImmediateChild(e);let x=r.getChildAfterChild(this.index_,A,this.reverse_);for(;null!=x&&(x.name===e||l.hasChild(x.name));)x=r.getChildAfterChild(this.index_,x,this.reverse_);const C=null==x?1:a(x,d);if(p&&!i.isEmpty()&&C>=0)return s?.trackChildChange(vT(e,i,_)),l.updateImmediateChild(e,i);{s?.trackChildChange(yT(e,_));const R=l.updateImmediateChild(e,or.EMPTY_NODE);return null!=x&&this.rangedFilter_.matches(x)?(s?.trackChildChange(rS(x.name,x.node)),R.updateImmediateChild(x.name,x.node)):R}}return i.isEmpty()?t:p&&a(A,d)>=0?(null!=s&&(s.trackChildChange(yT(A.name,A.node)),s.trackChildChange(rS(e,i))),l.updateImmediateChild(e,i).updateImmediateChild(A.name,or.EMPTY_NODE)):t}}class nR{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=yo}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,he.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,he.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ry}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,he.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,he.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Tm}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,he.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===yo}copy(){const t=new nR;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function b4(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function C4(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function iR(n,t){const e=n.copy();return e.index_=t,e}function J7(n){const t={};if(n.isDefault())return t;let e;return n.index_===yo?e="$priority":n.index_===y4?e="$value":n.index_===Mm?e="$key":((0,he.hu)(n.index_ instanceof _4,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,he.Wl)(e),n.startSet_&&(t.startAt=(0,he.Wl)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,he.Wl)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,he.Wl)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,he.Wl)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function X7(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==yo&&(t.i=n.index_.toString()),t}class rR extends k7{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=dT("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,he.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const a=rR.getListenId_(t,i),l={};this.listens_[a]=l;const d=J7(t._queryParams);this.restRequest_(s+".json",d,(A,p)=>{let _=p;if(404===A&&(_=null,A=null),null===A&&this.onDataUpdate_(s,_,!1,i),(0,he.DV)(this.listens_,a)===l){let x;x=A?401===A?"permission_denied":"rest_error:"+A:"ok",r(x,null)}})}unlisten(t,e){const i=rR.getListenId_(t,e);delete this.listens_[i]}get(t){const e=J7(t._queryParams),i=t._path.toString(),r=new he.BH;return this.restRequest_(i+".json",e,(s,a)=>{let l=a;404===s&&(l=null,s=null),null===s?(this.onDataUpdate_(i,l,!1,null),r.resolve(l)):r.reject(new Error(l))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,he.xO)(e);this.log_("Sending REST request for "+a);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(i&&4===l.readyState){this.log_("REST Response for "+a+" received. status:",l.status,"response:",l.responseText);let d=null;if(l.status>=200&&l.status<300){try{d=(0,he.cI)(l.responseText)}catch{bu("Failed to parse JSON response for "+a+": "+l.responseText)}i(null,d)}else 401!==l.status&&404!==l.status&&bu("Got unsuccessful REST response for "+a+" Status: "+l.status),i(l.status);i=null}},l.open("GET",a,!0),l.send()})}}class Jae{constructor(){this.rootNode_=or.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function sR(){return{value:null,children:new Map}}function sS(n,t,e){if(wr(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=vr(t);n.children.has(i)||n.children.set(i,sR()),sS(n.children.get(i),t=no(t),e)}}function x4(n,t){if(wr(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(yo,(i,r)=>{sS(n,new ws(i),r)}),x4(n,t)}}if(n.children.size>0){const e=vr(t);return t=no(t),n.children.has(e)&&x4(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function S4(n,t,e){null!==n.value?e(t,n.value):function Xae(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{S4(r,new ws(t.toString()+"/"+i),e)})}class ele{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Ac(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class ile{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new ele(t);const i=1e4+2e4*Math.random();AT(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Ac(t,(r,s)=>{s>0&&(0,he.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),AT(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var _f=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(_f||(_f={})),_f))();function D4(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class oR{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=_f.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(wr(this.path)){if(null!=this.affectedTree.value)return(0,he.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new ws(t));return new oR(as(),e,this.revert)}}return(0,he.hu)(vr(this.path)===t,"operationForChild called for unrelated child."),new oR(no(this.path),this.affectedTree,this.revert)}}class bT{constructor(t,e){this.source=t,this.path=e,this.type=_f.LISTEN_COMPLETE}operationForChild(t){return wr(this.path)?new bT(this.source,as()):new bT(this.source,no(this.path))}}class gC{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=_f.OVERWRITE}operationForChild(t){return wr(this.path)?new gC(this.source,as(),this.snap.getImmediateChild(t)):new gC(this.source,no(this.path),this.snap)}}class oS{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=_f.MERGE}operationForChild(t){if(wr(this.path)){const e=this.children.subtree(new ws(t));return e.isEmpty()?null:e.value?new gC(this.source,as(),e.value):new oS(this.source,as(),e)}return(0,he.hu)(vr(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new oS(this.source,no(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class O0{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(wr(t))return this.isFullyInitialized()&&!this.filtered_;const e=vr(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class rle{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function CT(n,t,e,i,r,s){const a=i.filter(l=>l.type===e);a.sort((l,d)=>function ale(n,t,e){if(null==t.childName||null==e.childName)throw(0,he.g5)("Should only compare child_ events.");const i=new Cr(t.childName,t.snapshotNode),r=new Cr(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,l,d)),a.forEach(l=>{const d=function ole(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,l,s);r.forEach(A=>{A.respondsTo(l.type)&&t.push(A.createEvent(d,n.query_))})})}function aR(n,t){return{eventCache:n,serverCache:t}}function xT(n,t,e,i){return aR(new O0(t,e,i),n.serverCache)}function tq(n,t,e,i){return aR(n.eventCache,new O0(t,e,i))}function lR(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function mC(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let T4;class vo{constructor(t,e=(()=>(T4||(T4=new ch(qoe)),T4))()){this.value=t,this.children=e}static fromObject(t){let e=new vo(null);return Ac(t,(i,r)=>{e=e.set(new ws(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:as(),value:this.value};if(wr(t))return null;{const i=vr(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(no(t),e);return null!=s?{path:Wo(new ws(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(wr(t))return this;{const e=vr(t),i=this.children.get(e);return null!==i?i.subtree(no(t)):new vo(null)}}set(t,e){if(wr(t))return new vo(e,this.children);{const i=vr(t),s=(this.children.get(i)||new vo(null)).set(no(t),e),a=this.children.insert(i,s);return new vo(this.value,a)}}remove(t){if(wr(t))return this.children.isEmpty()?new vo(null):new vo(null,this.children);{const e=vr(t),i=this.children.get(e);if(i){const r=i.remove(no(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new vo(null):new vo(this.value,s)}return this}}get(t){if(wr(t))return this.value;{const e=vr(t),i=this.children.get(e);return i?i.get(no(t)):null}}setTree(t,e){if(wr(t))return e;{const i=vr(t),s=(this.children.get(i)||new vo(null)).setTree(no(t),e);let a;return a=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new vo(this.value,a)}}fold(t){return this.fold_(as(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Wo(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,as(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(wr(t))return null;{const s=vr(t),a=this.children.get(s);return a?a.findOnPath_(no(t),Wo(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,as(),e)}foreachOnPath_(t,e,i){if(wr(t))return this;{this.value&&i(e,this.value);const r=vr(t),s=this.children.get(r);return s?s.foreachOnPath_(no(t),Wo(e,r),i):new vo(null)}}foreach(t){this.foreach_(as(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Wo(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Np{constructor(t){this.writeTree_=t}static empty(){return new Np(new vo(null))}}function ST(n,t,e){if(wr(t))return new Np(new vo(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const a=md(r,t);return s=s.updateChild(a,e),new Np(n.writeTree_.set(r,s))}{const r=new vo(e),s=n.writeTree_.setTree(t,r);return new Np(s)}}}function M4(n,t,e){let i=n;return Ac(e,(r,s)=>{i=ST(i,Wo(t,r),s)}),i}function nq(n,t){if(wr(t))return Np.empty();{const e=n.writeTree_.setTree(t,new vo(null));return new Np(e)}}function B4(n,t){return null!=_C(n,t)}function _C(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(md(e.path,t)):null}function iq(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(yo,(i,r)=>{t.push(new Cr(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new Cr(i,r.value))}),t}function L0(n,t){if(wr(t))return n;{const e=_C(n,t);return new Np(null!=e?new vo(e):n.writeTree_.subtree(t))}}function F4(n){return n.writeTree_.isEmpty()}function aS(n,t){return rq(as(),n.writeTree_,t)}function rq(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,he.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=rq(Wo(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Wo(n,".priority"),i)),e}}function cR(n,t){return cq(t,n)}function Ale(n,t){if(n.snap)return mf(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&mf(Wo(n.path,e),t))return!0;return!1}function ple(n){return n.visible}function sq(n,t,e){let i=Np.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const a=s.path;let l;if(s.snap)mf(e,a)?(l=md(e,a),i=ST(i,l,s.snap)):mf(a,e)&&(l=md(a,e),i=ST(i,as(),s.snap.getChild(l)));else{if(!s.children)throw(0,he.g5)("WriteRecord should have .snap or .children");if(mf(e,a))l=md(e,a),i=M4(i,l,s.children);else if(mf(a,e))if(l=md(a,e),wr(l))i=M4(i,as(),s.children);else{const d=(0,he.DV)(s.children,vr(l));if(d){const A=d.getChild(no(l));i=ST(i,as(),A)}}}}}return i}function oq(n,t,e,i,r){if(i||r){const s=L0(n.visibleWrites,t);return!r&&F4(s)?e:r||null!=e||B4(s,as())?aS(sq(n.allWrites,function(A){return(A.visible||r)&&(!i||!~i.indexOf(A.writeId))&&(mf(A.path,t)||mf(t,A.path))},t),e||or.EMPTY_NODE):null}{const s=_C(n.visibleWrites,t);if(null!=s)return s;{const a=L0(n.visibleWrites,t);return F4(a)?e:null!=e||B4(a,as())?aS(a,e||or.EMPTY_NODE):null}}}function uR(n,t,e,i){return oq(n.writeTree,n.treePath,t,e,i)}function k4(n,t){return function gle(n,t,e){let i=or.EMPTY_NODE;const r=_C(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(yo,(s,a)=>{i=i.updateImmediateChild(s,a)}),i;if(e){const s=L0(n.visibleWrites,t);return e.forEachChild(yo,(a,l)=>{const d=aS(L0(s,new ws(a)),l);i=i.updateImmediateChild(a,d)}),iq(s).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}return iq(L0(n.visibleWrites,t)).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}(n.writeTree,n.treePath,t)}function aq(n,t,e,i){return function mle(n,t,e,i,r){(0,he.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Wo(t,e);if(B4(n.visibleWrites,s))return null;{const a=L0(n.visibleWrites,s);return F4(a)?r.getChild(e):aS(a,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function dR(n,t){return function yle(n,t){return _C(n.visibleWrites,t)}(n.writeTree,Wo(n.treePath,t))}function R4(n,t,e){return function _le(n,t,e,i){const r=Wo(t,e),s=_C(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?aS(L0(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function lq(n,t){return cq(Wo(n.treePath,t),n.writeTree)}function cq(n,t){return{treePath:n,writeTree:t}}class Cle{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,he.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,he.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,vT(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,yT(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,rS(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,he.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,vT(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const uq=new class xle{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class O4{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new O0(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return R4(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:mC(this.viewCache_),s=function ble(n,t,e,i,r,s){return function vle(n,t,e,i,r,s,a){let l;const d=L0(n.visibleWrites,t),A=_C(d,as());if(null!=A)l=A;else{if(null==e)return[];l=aS(d,e)}if(l=l.withIndex(a),l.isEmpty()||l.isLeafNode())return[];{const p=[],_=a.getCompare(),x=s?l.getReverseIteratorFrom(i,a):l.getIteratorFrom(i,a);let C=x.getNext();for(;C&&p.length<r;)0!==_(C,i)&&p.push(C),C=x.getNext();return p}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function dq(n,t,e,i,r,s){const a=t.eventCache;if(null!=dR(i,e))return t;{let l,d;if(wr(e))if((0,he.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const A=mC(t),_=k4(i,A instanceof or?A:or.EMPTY_NODE);l=n.filter.updateFullNode(t.eventCache.getNode(),_,s)}else{const A=uR(i,mC(t));l=n.filter.updateFullNode(t.eventCache.getNode(),A,s)}else{const A=vr(e);if(".priority"===A){(0,he.hu)(1===R0(e),"Can't have a priority with additional path components");const p=a.getNode();d=t.serverCache.getNode();const _=aq(i,e,p,d);l=null!=_?n.filter.updatePriority(p,_):a.getNode()}else{const p=no(e);let _;if(a.isCompleteForChild(A)){d=t.serverCache.getNode();const x=aq(i,e,a.getNode(),d);_=null!=x?a.getNode().getImmediateChild(A).updateChild(p,x):a.getNode().getImmediateChild(A)}else _=R4(i,A,t.serverCache);l=null!=_?n.filter.updateChild(a.getNode(),A,_,p,r,s):a.getNode()}}return xT(t,l,a.isFullyInitialized()||wr(e),n.filter.filtersNodes())}}function hR(n,t,e,i,r,s,a,l){const d=t.serverCache;let A;const p=a?n.filter:n.filter.getIndexedFilter();if(wr(e))A=p.updateFullNode(d.getNode(),i,null);else if(p.filtersNodes()&&!d.isFiltered()){const C=d.getNode().updateChild(e,i);A=p.updateFullNode(d.getNode(),C,null)}else{const C=vr(e);if(!d.isCompleteForPath(e)&&R0(e)>1)return t;const F=no(e),U=d.getNode().getImmediateChild(C).updateChild(F,i);A=".priority"===C?p.updatePriority(d.getNode(),U):p.updateChild(d.getNode(),C,U,F,uq,null)}const _=tq(t,A,d.isFullyInitialized()||wr(e),p.filtersNodes());return dq(n,_,e,r,new O4(r,_,s),l)}function L4(n,t,e,i,r,s,a){const l=t.eventCache;let d,A;const p=new O4(r,t,s);if(wr(e))A=n.filter.updateFullNode(t.eventCache.getNode(),i,a),d=xT(t,A,!0,n.filter.filtersNodes());else{const _=vr(e);if(".priority"===_)A=n.filter.updatePriority(t.eventCache.getNode(),i),d=xT(t,A,l.isFullyInitialized(),l.isFiltered());else{const x=no(e),C=l.getNode().getImmediateChild(_);let F;if(wr(x))F=i;else{const R=p.getCompleteChild(_);F=null!=R?".priority"===h4(x)&&R.getChild(P7(x)).isEmpty()?R:R.updateChild(x,i):or.EMPTY_NODE}d=C.equals(F)?t:xT(t,n.filter.updateChild(l.getNode(),_,F,x,p,a),l.isFullyInitialized(),n.filter.filtersNodes())}}return d}function hq(n,t){return n.eventCache.isCompleteForChild(t)}function Aq(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function P4(n,t,e,i,r,s,a,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let A,d=t;A=wr(e)?i:new vo(null).setTree(e,i);const p=t.serverCache.getNode();return A.children.inorderTraversal((_,x)=>{if(p.hasChild(_)){const F=Aq(0,t.serverCache.getNode().getImmediateChild(_),x);d=hR(n,d,new ws(_),F,r,s,a,l)}}),A.children.inorderTraversal((_,x)=>{const C=!t.serverCache.isCompleteForChild(_)&&null===x.value;if(!p.hasChild(_)&&!C){const R=Aq(0,t.serverCache.getNode().getImmediateChild(_),x);d=hR(n,d,new ws(_),R,r,s,a,l)}}),d}class kle{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new w4(i.getIndex()),s=function Kae(n){return n.loadsAllData()?new w4(n.getIndex()):n.hasLimit()?new qae(n):new wT(n)}(i);this.processor_=function Sle(n){return{filter:n}}(s);const a=e.serverCache,l=e.eventCache,d=r.updateFullNode(or.EMPTY_NODE,a.getNode(),null),A=s.updateFullNode(or.EMPTY_NODE,l.getNode(),null),p=new O0(d,a.isFullyInitialized(),r.filtersNodes()),_=new O0(A,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=aR(_,p),this.eventGenerator_=new rle(this.query_)}get query(){return this.query_}}function Lle(n,t){const e=mC(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!wr(t)&&!e.getImmediateChild(vr(t)).isEmpty())?e.getChild(t):null}function fq(n){return 0===n.eventRegistrations_.length}function pq(n,t,e){const i=[];if(e){(0,he.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(e,r);a&&i.push(a)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const a=n.eventRegistrations_[s];if(a.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(a)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function gq(n,t,e,i){t.type===_f.MERGE&&null!==t.source.queryId&&((0,he.hu)(mC(n.viewCache_),"We should always have a full cache before handling merges"),(0,he.hu)(lR(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function Ile(n,t,e,i,r){const s=new Cle;let a,l;if(e.type===_f.OVERWRITE){const A=e;A.source.fromUser?a=L4(n,t,A.path,A.snap,i,r,s):((0,he.hu)(A.source.fromServer,"Unknown source."),l=A.source.tagged||t.serverCache.isFiltered()&&!wr(A.path),a=hR(n,t,A.path,A.snap,i,r,l,s))}else if(e.type===_f.MERGE){const A=e;A.source.fromUser?a=function Tle(n,t,e,i,r,s,a){let l=t;return i.foreach((d,A)=>{const p=Wo(e,d);hq(t,vr(p))&&(l=L4(n,l,p,A,r,s,a))}),i.foreach((d,A)=>{const p=Wo(e,d);hq(t,vr(p))||(l=L4(n,l,p,A,r,s,a))}),l}(n,t,A.path,A.children,i,r,s):((0,he.hu)(A.source.fromServer,"Unknown source."),l=A.source.tagged||t.serverCache.isFiltered(),a=P4(n,t,A.path,A.children,i,r,l,s))}else if(e.type===_f.ACK_USER_WRITE){const A=e;a=A.revert?function Fle(n,t,e,i,r,s){let a;if(null!=dR(i,e))return t;{const l=new O4(i,t,r),d=t.eventCache.getNode();let A;if(wr(e)||".priority"===vr(e)){let p;if(t.serverCache.isFullyInitialized())p=uR(i,mC(t));else{const _=t.serverCache.getNode();(0,he.hu)(_ instanceof or,"serverChildren would be complete if leaf node"),p=k4(i,_)}A=n.filter.updateFullNode(d,p,s)}else{const p=vr(e);let _=R4(i,p,t.serverCache);null==_&&t.serverCache.isCompleteForChild(p)&&(_=d.getImmediateChild(p)),A=null!=_?n.filter.updateChild(d,p,_,no(e),l,s):t.eventCache.getNode().hasChild(p)?n.filter.updateChild(d,p,or.EMPTY_NODE,no(e),l,s):d,A.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=uR(i,mC(t)),a.isLeafNode()&&(A=n.filter.updateFullNode(A,a,s)))}return a=t.serverCache.isFullyInitialized()||null!=dR(i,as()),xT(t,A,a,n.filter.filtersNodes())}}(n,t,A.path,i,r,s):function Mle(n,t,e,i,r,s,a){if(null!=dR(r,e))return t;const l=t.serverCache.isFiltered(),d=t.serverCache;if(null!=i.value){if(wr(e)&&d.isFullyInitialized()||d.isCompleteForPath(e))return hR(n,t,e,d.getNode().getChild(e),r,s,l,a);if(wr(e)){let A=new vo(null);return d.getNode().forEachChild(Mm,(p,_)=>{A=A.set(new ws(p),_)}),P4(n,t,e,A,r,s,l,a)}return t}{let A=new vo(null);return i.foreach((p,_)=>{const x=Wo(e,p);d.isCompleteForPath(x)&&(A=A.set(p,d.getNode().getChild(x)))}),P4(n,t,e,A,r,s,l,a)}}(n,t,A.path,A.affectedTree,i,r,s)}else{if(e.type!==_f.LISTEN_COMPLETE)throw(0,he.g5)("Unknown operation type: "+e.type);a=function Ble(n,t,e,i,r){const s=t.serverCache;return dq(n,tq(t,s.getNode(),s.isFullyInitialized()||wr(e),s.isFiltered()),e,i,uq,r)}(n,t,e.path,i,s)}const d=s.getChanges();return function Dle(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=lR(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push($7(lR(t)))}}(t,a,d),{viewCache:a,changes:d}}(n.processor_,r,t,e,i);return function Ele(n,t){(0,he.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,he.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,he.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,mq(n,s.changes,s.viewCache.eventCache.getNode(),null)}function mq(n,t,e,i){return function sle(n,t,e,i){const r=[],s=[];return t.forEach(a=>{"child_changed"===a.type&&n.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(function Gae(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(a.childName,a.snapshotNode))}),CT(n,r,"child_removed",t,i,e),CT(n,r,"child_added",t,i,e),CT(n,r,"child_moved",s,i,e),CT(n,r,"child_changed",t,i,e),CT(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let AR,pR;class _q{constructor(){this.views=new Map}}function N4(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,he.hu)(null!=s,"SyncTree gave us an op for an invalid query."),gq(s,t,e,i)}{let s=[];for(const a of n.views.values())s=s.concat(gq(a,t,e,i));return s}}function yq(n,t,e,i,r){const a=n.views.get(t._queryIdentifier);if(!a){let l=uR(e,r?i:null),d=!1;l?d=!0:i instanceof or?(l=k4(e,i),d=!1):(l=or.EMPTY_NODE,d=!1);const A=aR(new O0(l,d,!1),new O0(i,r,!1));return new kle(t,A)}return a}function vq(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function P0(n,t){let e=null;for(const i of n.views.values())e=e||Lle(i,t);return e}function wq(n,t){return t._queryParams.loadsAllData()?fR(n):n.views.get(t._queryIdentifier)}function bq(n,t){return null!=wq(n,t)}function N0(n){return null!=fR(n)}function fR(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let qle=1;class Cq{constructor(t){this.listenProvider_=t,this.syncPointTree_=new vo(null),this.pendingWriteTree_=function wle(){return{visibleWrites:Np.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function U4(n,t,e,i,r){return function cle(n,t,e,i,r){(0,he.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=ST(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?lS(n,new gC({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function U0(n,t,e=!1){const i=function dle(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function hle(n,t){const e=n.allWrites.findIndex(l=>l.writeId===t);(0,he.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,a=n.allWrites.length-1;for(;r&&a>=0;){const l=n.allWrites[a];l.visible&&(a>=e&&Ale(l,i.path)?r=!1:mf(i.path,l.path)&&(s=!0)),a--}return!!r&&(s?(function fle(n){n.visibleWrites=sq(n.allWrites,ple,as()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=nq(n.visibleWrites,i.path):Ac(i.children,d=>{n.visibleWrites=nq(n.visibleWrites,Wo(i.path,d))}),!0))}(n.pendingWriteTree_,t)){let s=new vo(null);return null!=i.snap?s=s.set(as(),!0):Ac(i.children,a=>{s=s.set(new ws(a),!0)}),lS(n,new oR(i.path,s,e))}return[]}function ET(n,t,e){return lS(n,new gC({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function gR(n,t,e,i,r=!1){const s=t._path,a=n.syncPointTree_.get(s);let l=[];if(a&&("default"===t._queryIdentifier||bq(a,t))){const d=function jle(n,t,e,i){const r=t._queryIdentifier,s=[];let a=[];const l=N0(n);if("default"===r)for(const[d,A]of n.views.entries())a=a.concat(pq(A,e,i)),fq(A)&&(n.views.delete(d),A.query._queryParams.loadsAllData()||s.push(A.query));else{const d=n.views.get(r);d&&(a=a.concat(pq(d,e,i)),fq(d)&&(n.views.delete(r),d.query._queryParams.loadsAllData()||s.push(d.query)))}return l&&!N0(n)&&s.push(new(function Hle(){return(0,he.hu)(AR,"Reference.ts has not been loaded"),AR}())(t._repo,t._path)),{removed:s,events:a}}(a,t,e,i);(function Qle(n){return 0===n.views.size})(a)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const A=d.removed;if(l=d.events,!r){const p=-1!==A.findIndex(x=>x._queryParams.loadsAllData()),_=n.syncPointTree_.findOnPath(s,(x,C)=>N0(C));if(p&&!_){const x=n.syncPointTree_.subtree(s);if(!x.isEmpty()){const C=function Xle(n){return n.fold((t,e,i)=>{if(e&&N0(e))return[fR(e)];{let r=[];return e&&(r=vq(e)),Ac(i,(s,a)=>{r=r.concat(a)}),r}})}(x);for(let F=0;F<C.length;++F){const R=C[F],U=R.query,Q=Iq(n,R);n.listenProvider_.startListening(DT(U),IT(n,U),Q.hashFn,Q.onComplete)}}}!_&&A.length>0&&!i&&(p?n.listenProvider_.stopListening(DT(t),null):A.forEach(x=>{const C=n.queryToTagMap.get(_R(x));n.listenProvider_.stopListening(DT(x),C)}))}!function ece(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=_R(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,A)}return l}function xq(n,t,e,i){const r=Q4(n,i);if(null!=r){const s=V4(r),a=s.path,l=s.queryId,d=md(a,t);return j4(n,a,new gC(D4(l),d,e))}return[]}function H4(n,t,e,i=!1){const r=t._path;let s=null,a=!1;n.syncPointTree_.foreachOnPath(r,(x,C)=>{const F=md(x,r);s=s||P0(C,F),a=a||N0(C)});let d,l=n.syncPointTree_.get(r);l?(a=a||N0(l),s=s||P0(l,as())):(l=new _q,n.syncPointTree_=n.syncPointTree_.set(r,l)),null!=s?d=!0:(d=!1,s=or.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((C,F)=>{const R=P0(F,as());R&&(s=s.updateImmediateChild(C,R))}));const A=bq(l,t);if(!A&&!t._queryParams.loadsAllData()){const x=_R(t);(0,he.hu)(!n.queryToTagMap.has(x),"View does not exist, but we have a tag");const C=function tce(){return qle++}();n.queryToTagMap.set(x,C),n.tagToQueryMap.set(C,x)}let _=function Vle(n,t,e,i,r,s){const a=yq(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,a),function Ple(n,t){n.eventRegistrations_.push(t)}(a,e),function Nle(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(yo,(s,a)=>{i.push(rS(s,a))}),e.isFullyInitialized()&&i.push($7(e.getNode())),mq(n,i,e.getNode(),t)}(a,e)}(l,t,e,cR(n.pendingWriteTree_,r),s,d);if(!A&&!a&&!i){const x=wq(l,t);_=_.concat(function nce(n,t,e){const i=t._path,r=IT(n,t),s=Iq(n,e),a=n.listenProvider_.startListening(DT(t),r,s.hashFn,s.onComplete),l=n.syncPointTree_.subtree(i);if(r)(0,he.hu)(!N0(l.value),"If we're adding a query, it shouldn't be shadowed");else{const d=l.fold((A,p,_)=>{if(!wr(A)&&p&&N0(p))return[fR(p).query];{let x=[];return p&&(x=x.concat(vq(p).map(C=>C.query))),Ac(_,(C,F)=>{x=x.concat(F)}),x}});for(let A=0;A<d.length;++A){const p=d[A];n.listenProvider_.stopListening(DT(p),IT(n,p))}}return a}(n,t,x))}return _}function mR(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(a,l)=>{const A=P0(l,md(a,t));if(A)return A});return oq(r,t,s,e,!0)}function lS(n,t){return Sq(t,n.syncPointTree_,null,cR(n.pendingWriteTree_,as()))}function Sq(n,t,e,i){if(wr(n.path))return Eq(n,t,e,i);{const r=t.get(as());null==e&&null!=r&&(e=P0(r,as()));let s=[];const a=vr(n.path),l=n.operationForChild(a),d=t.children.get(a);if(d&&l){const A=e?e.getImmediateChild(a):null,p=lq(i,a);s=s.concat(Sq(l,d,A,p))}return r&&(s=s.concat(N4(r,n,i,e))),s}}function Eq(n,t,e,i){const r=t.get(as());null==e&&null!=r&&(e=P0(r,as()));let s=[];return t.children.inorderTraversal((a,l)=>{const d=e?e.getImmediateChild(a):null,A=lq(i,a),p=n.operationForChild(a);p&&(s=s.concat(Eq(p,l,d,A)))}),r&&(s=s.concat(N4(r,n,i,e))),s}function Iq(n,t){const e=t.query,i=IT(n,e);return{hashFn:()=>(function Rle(n){return n.viewCache_.serverCache.getNode()}(t)||or.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function Yle(n,t,e){const i=Q4(n,e);if(i){const r=V4(i),s=r.path,a=r.queryId,l=md(s,t);return j4(n,s,new bT(D4(a),l))}return[]}(n,e._path,i):function Wle(n,t){return lS(n,new bT({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function Woe(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return gR(n,e,null,s)}}}}function IT(n,t){const e=_R(t);return n.queryToTagMap.get(e)}function _R(n){return n._path.toString()+"$"+n._queryIdentifier}function Q4(n,t){return n.tagToQueryMap.get(t)}function V4(n){const t=n.indexOf("$");return(0,he.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new ws(n.substr(0,t))}}function j4(n,t,e){const i=n.syncPointTree_.get(t);return(0,he.hu)(i,"Missing sync point for query tag that we're tracking"),N4(i,e,cR(n.pendingWriteTree_,t),null)}function DT(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Gle(){return(0,he.hu)(pR,"Reference.ts has not been loaded"),pR}())(n._repo,n._path):n}class z4{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new z4(e)}node(){return this.node_}}class G4{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Wo(this.path_,t);return new G4(this.syncTree_,e)}node(){return mR(this.syncTree_,this.path_)}}const Dq=function(n,t,e){return n&&"object"==typeof n?((0,he.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?rce(n[".sv"],t,e):"object"==typeof n[".sv"]?sce(n[".sv"],t):void(0,he.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},rce=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,he.hu)(!1,"Unexpected server value: "+n)},sce=function(n,t,e){n.hasOwnProperty("increment")||(0,he.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,he.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,he.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const a=r.getValue();return"number"!=typeof a?i:a+i},Tq=function(n,t,e,i){return K4(t,new G4(e,n),i)},q4=function(n,t,e){return K4(n,new z4(t),e)};function K4(n,t,e){const i=n.getPriority().val(),r=Dq(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const a=n,l=Dq(a.getValue(),t,e);return l!==a.getValue()||r!==a.getPriority().val()?new tS(l,pa(r)):n}{const a=n;return s=a,r!==a.getPriority().val()&&(s=s.updatePriority(new tS(r))),a.forEachChild(yo,(l,d)=>{const A=K4(d,t.getImmediateChild(l),e);A!==d&&(s=s.updateImmediateChild(l,A))}),s}}class Z4{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function yR(n,t){let e=t instanceof ws?t:new ws(t),i=n,r=vr(e);for(;null!==r;){const s=(0,he.DV)(i.node.children,r)||{children:{},childCount:0};i=new Z4(r,i,s),e=no(e),r=vr(e)}return i}function yC(n){return n.node.value}function W4(n,t){n.node.value=t,Y4(n)}function Mq(n){return n.node.childCount>0}function vR(n,t){Ac(n.node.children,(e,i)=>{t(new Z4(e,n,i))})}function Bq(n,t,e,i){e&&!i&&t(n),vR(n,r=>{Bq(r,t,!0,i)}),e&&i&&t(n)}function TT(n){return new ws(null===n.parent?n.name:TT(n.parent)+"/"+n.name)}function Y4(n){null!==n.parent&&function lce(n,t,e){const i=function oce(n){return void 0===yC(n)&&!Mq(n)}(e),r=(0,he.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,Y4(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,Y4(n))}(n.parent,n.name,n)}const cce=/[\[\].#$\/\u0000-\u001F\u007F]/,uce=/[\[\].#$\u0000-\u001F\u007F]/,$4=10485760,wR=function(n){return"string"==typeof n&&0!==n.length&&!cce.test(n)},Fq=function(n){return"string"==typeof n&&0!==n.length&&!uce.test(n)},MT=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Kk(n)||n&&"object"==typeof n&&(0,he.r3)(n,".sv")},Bm=function(n,t,e,i){i&&void 0===t||BT((0,he.gK)(n,"value"),t,e)},BT=function(n,t,e){const i=e instanceof ws?new Eae(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+fC(i));if("function"==typeof t)throw new Error(n+"contains a function "+fC(i)+" with contents = "+t.toString());if(Kk(t))throw new Error(n+"contains "+t.toString()+" "+fC(i));if("string"==typeof t&&t.length>$4/3&&(0,he.ug)(t)>$4)throw new Error(n+"contains a string greater than "+$4+" utf8 bytes "+fC(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(Ac(t,(a,l)=>{if(".value"===a)r=!0;else if(".priority"!==a&&".sv"!==a&&(s=!0,!wR(a)))throw new Error(n+" contains an invalid key ("+a+") "+fC(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Iae(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,he.ug)(t),N7(n)})(i,a),BT(n,l,i),function Dae(n){const t=n.parts_.pop();n.byteLength_-=(0,he.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+fC(i)+" in addition to actual children.")}},kq=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,he.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];Ac(t,(a,l)=>{const d=new ws(a);if(BT(r,l,Wo(e,d)),".priority"===h4(d)&&!MT(l))throw new Error(r+"contains an invalid value for '"+d.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(d)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=pT(i);for(let a=0;a<s.length;a++)if((".priority"!==s[a]||a!==s.length-1)&&!wR(s[a]))throw new Error(n+"contains an invalid key ("+s[a]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Sae);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&mf(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},J4=function(n,t,e){if(!e||void 0!==t){if(Kk(t))throw new Error((0,he.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!MT(t))throw new Error((0,he.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},FT=function(n,t,e,i){if(!(i&&void 0===e||wR(e)))throw new Error((0,he.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},kT=function(n,t,e,i){if(!(i&&void 0===e||Fq(e)))throw new Error((0,he.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},yf=function(n,t){if(".info"===vr(t))throw new Error(n+" failed = Can't modify data under /.info/")},Rq=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!wR(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Fq(n)}(e))throw new Error((0,he.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class fce{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function bR(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!A4(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function Oq(n,t,e){bR(n,e),Lq(n,i=>A4(i,t))}function dA(n,t,e){bR(n,e),Lq(n,i=>mf(i,t)||mf(t,i))}function Lq(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(pce(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function pce(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();hC&&hc("event: "+e.toString()),Xx(i)}}}const Pq="repo_interrupt";class mce{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fce,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=sR(),this.transactionQueueTree_=new Z4,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Nq(n){const e=n.infoData_.getNode(new ws(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function RT(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:Nq(n)})}function Uq(n,t,e,i,r){n.dataUpdateCount++;const s=new ws(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let a=[];if(r)if(i){const d=(0,he.UI)(e,A=>pa(A));a=function $le(n,t,e,i){const r=Q4(n,i);if(r){const s=V4(r),a=s.path,l=s.queryId,d=md(a,t),A=vo.fromObject(e);return j4(n,a,new oS(D4(l),d,A))}return[]}(n.serverSyncTree_,s,d,r)}else{const d=pa(e);a=xq(n.serverSyncTree_,s,d,r)}else if(i){const d=(0,he.UI)(e,A=>pa(A));a=function Zle(n,t,e){const i=vo.fromObject(e);return lS(n,new oS({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,d)}else{const d=pa(e);a=ET(n.serverSyncTree_,s,d)}let l=s;a.length>0&&(l=uS(n,s)),dA(n.eventQueue_,l,a)}function Hq(n,t){X4(n,"connected",t),!1===t&&function bce(n){cS(n,"onDisconnectEvents");const t=RT(n),e=sR();S4(n.onDisconnect_,as(),(r,s)=>{const a=Tq(r,s,n.serverSyncTree_,t);sS(e,r,a)});let i=[];S4(e,as(),(r,s)=>{i=i.concat(ET(n.serverSyncTree_,r,s));const a=i6(n,r);uS(n,a)}),n.onDisconnect_=sR(),dA(n.eventQueue_,as(),i)}(n)}function X4(n,t,e){const i=new ws("/.info/"+t),r=pa(e);n.infoData_.updateSnapshot(i,r);const s=ET(n.infoSyncTree_,i,r);dA(n.eventQueue_,i,s)}function CR(n){return n.nextWriteId_++}function e6(n,t,e,i,r){cS(n,"set",{path:t.toString(),value:e,priority:i});const s=RT(n),a=pa(e,i),l=mR(n.serverSyncTree_,t),d=q4(a,l,s),A=CR(n),p=U4(n.serverSyncTree_,t,d,A,!0);bR(n.eventQueue_,p),n.server_.put(t.toString(),a.val(!0),(x,C)=>{const F="ok"===x;F||bu("set at "+t+" failed: "+x);const R=U0(n.serverSyncTree_,A,!F);dA(n.eventQueue_,t,R),H0(0,r,x,C)});const _=i6(n,t);uS(n,_),dA(n.eventQueue_,_,[])}function Cce(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&x4(n.onDisconnect_,t),H0(0,e,i,r)})}function Qq(n,t,e,i){const r=pa(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,a)=>{"ok"===s&&sS(n.onDisconnect_,t,r),H0(0,i,s,a)})}function t6(n,t,e){let i;i=".info"===vr(t._path)?gR(n.infoSyncTree_,t,e):gR(n.serverSyncTree_,t,e),Oq(n.eventQueue_,t._path,i)}function Vq(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Pq)}function cS(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),hc(e,...t)}function H0(n,t,e,i){t&&Xx(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const a=new Error(s);a.code=r,t(a)}})}function n6(n,t,e){return mR(n.serverSyncTree_,t,e)||or.EMPTY_NODE}function xR(n,t=n.transactionQueueTree_){if(t||SR(n,t),yC(t)){const e=zq(n,t);(0,he.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function Tce(n,t,e){const i=e.map(A=>A.currentWriteId),r=n6(n,t,i);let s=r;const a=r.hash();for(let A=0;A<e.length;A++){const p=e[A];(0,he.hu)(0===p.status,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const _=md(t,p.path);s=s.updateChild(_,p.currentOutputSnapshotRaw)}const l=s.val(!0),d=t;n.server_.put(d.toString(),l,A=>{cS(n,"transaction put response",{path:d.toString(),status:A});let p=[];if("ok"===A){const _=[];for(let x=0;x<e.length;x++)e[x].status=2,p=p.concat(U0(n.serverSyncTree_,e[x].currentWriteId)),e[x].onComplete&&_.push(()=>e[x].onComplete(null,!0,e[x].currentOutputSnapshotResolved)),e[x].unwatcher();SR(n,yR(n.transactionQueueTree_,t)),xR(n,n.transactionQueueTree_),dA(n.eventQueue_,t,p);for(let x=0;x<_.length;x++)Xx(_[x])}else{if("datastale"===A)for(let _=0;_<e.length;_++)e[_].status=3===e[_].status?4:0;else{bu("transaction at "+d.toString()+" failed: "+A);for(let _=0;_<e.length;_++)e[_].status=4,e[_].abortReason=A}uS(n,t)}},a)}(n,TT(t),e)}else Mq(t)&&vR(t,e=>{xR(n,e)})}function uS(n,t){const e=jq(n,t),i=TT(e);return function Mce(n,t,e){if(0===t.length)return;const i=[];let r=[];const a=t.filter(l=>0===l.status).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const d=t[l],A=md(e,d.path);let _,p=!1;if((0,he.hu)(null!==A,"rerunTransactionsUnderNode_: relativePath should not be null."),4===d.status)p=!0,_=d.abortReason,r=r.concat(U0(n.serverSyncTree_,d.currentWriteId,!0));else if(0===d.status)if(d.retryCount>=25)p=!0,_="maxretry",r=r.concat(U0(n.serverSyncTree_,d.currentWriteId,!0));else{const x=n6(n,d.path,a);d.currentInputSnapshot=x;const C=t[l].update(x.val());if(void 0!==C){BT("transaction failed: Data returned ",C,d.path);let F=pa(C);"object"==typeof C&&null!=C&&(0,he.r3)(C,".priority")||(F=F.updatePriority(x.getPriority()));const U=d.currentWriteId,Q=RT(n),K=q4(F,x,Q);d.currentOutputSnapshotRaw=F,d.currentOutputSnapshotResolved=K,d.currentWriteId=CR(n),a.splice(a.indexOf(U),1),r=r.concat(U4(n.serverSyncTree_,d.path,K,d.currentWriteId,d.applyLocally)),r=r.concat(U0(n.serverSyncTree_,U,!0))}else p=!0,_="nodata",r=r.concat(U0(n.serverSyncTree_,d.currentWriteId,!0))}dA(n.eventQueue_,e,r),r=[],p&&(t[l].status=2,setTimeout(t[l].unwatcher,Math.floor(0)),t[l].onComplete&&i.push("nodata"===_?()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot):()=>t[l].onComplete(new Error(_),!1,null)))}SR(n,n.transactionQueueTree_);for(let l=0;l<i.length;l++)Xx(i[l]);xR(n,n.transactionQueueTree_)}(n,zq(n,e),i),i}function jq(n,t){let e,i=n.transactionQueueTree_;for(e=vr(t);null!==e&&void 0===yC(i);)i=yR(i,e),e=vr(t=no(t));return i}function zq(n,t){const e=[];return Gq(n,t,e),e.sort((i,r)=>i.order-r.order),e}function Gq(n,t,e){const i=yC(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);vR(t,r=>{Gq(n,r,e)})}function SR(n,t){const e=yC(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,W4(t,e.length>0?e:void 0)}vR(t,i=>{SR(n,i)})}function i6(n,t){const e=TT(jq(n,t)),i=yR(n.transactionQueueTree_,t);return function ace(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{r6(n,r)}),r6(n,i),Bq(i,r=>{r6(n,r)}),e}function r6(n,t){const e=yC(t);if(e){const i=[];let r=[],s=-1;for(let a=0;a<e.length;a++)3===e[a].status||(1===e[a].status?((0,he.hu)(s===a-1,"All SENT items should be at beginning of queue."),s=a,e[a].status=3,e[a].abortReason="set"):((0,he.hu)(0===e[a].status,"Unexpected transaction status in abort"),e[a].unwatcher(),r=r.concat(U0(n.serverSyncTree_,e[a].currentWriteId,!0)),e[a].onComplete&&i.push(e[a].onComplete.bind(null,new Error("set"),!1,null))));-1===s?W4(t,void 0):e.length=s+1,dA(n.eventQueue_,TT(t),r);for(let a=0;a<i.length;a++)Xx(i[a])}}const s6=function(n,t){const e=kce(n),i=e.namespace;return"firebase.com"===e.domain&&Dm(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Dm("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&bu("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new o4(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new ws(e.pathString)}},kce=function(n){let t="",e="",i="",r="",s="",a=!0,l="https",d=443;if("string"==typeof n){let A=n.indexOf("//");A>=0&&(l=n.substring(0,A-1),n=n.substring(A+2));let p=n.indexOf("/");-1===p&&(p=n.length);let _=n.indexOf("?");-1===_&&(_=n.length),t=n.substring(0,Math.min(p,_)),p<_&&(r=function Bce(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(p,_)));const x=function Fce(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):bu(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,_)));A=t.indexOf(":"),A>=0?(a="https"===l||"wss"===l,d=parseInt(t.substring(A+1),10)):A=t.length;const C=t.slice(0,A);if("localhost"===C.toLowerCase())e="localhost";else if(C.split(".").length<=2)e=C;else{const F=t.indexOf(".");i=t.substring(0,F).toLowerCase(),e=t.substring(F+1),s=i}"ns"in x&&(s=x.ns)}return{host:t,port:d,domain:e,subdomain:i,secure:a,scheme:l,pathString:r,namespace:s}};class qq{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,he.Wl)(this.snapshot.exportVal())}}class Kq{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class o6{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,he.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Zq{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new he.BH;return Cce(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){yf("OnDisconnect.remove",this._path);const t=new he.BH;return Qq(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){yf("OnDisconnect.set",this._path),Bm("OnDisconnect.set",t,this._path,!1);const e=new he.BH;return Qq(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){yf("OnDisconnect.setWithPriority",this._path),Bm("OnDisconnect.setWithPriority",t,this._path,!1),J4("OnDisconnect.setWithPriority",e,!1);const i=new he.BH;return function xce(n,t,e,i,r){const s=pa(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(a,l)=>{"ok"===a&&sS(n.onDisconnect_,t,s),H0(0,r,a,l)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){yf("OnDisconnect.update",this._path),kq("OnDisconnect.update",t,this._path,!1);const e=new he.BH;return function Sce(n,t,e,i){if((0,he.xb)(e))return hc("onDisconnect().update() called with empty data.  Don't do anything."),void H0(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&Ac(e,(a,l)=>{const d=pa(l);sS(n.onDisconnect_,Wo(t,a),d)}),H0(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class uh{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return wr(this._path)?null:h4(this._path)}get ref(){return new vf(this._repo,this._path)}get _queryIdentifier(){const t=X7(this._queryParams),e=n4(t);return"{}"===e?"default":e}get _queryObject(){return X7(this._queryParams)}isEqual(t){if(!((t=(0,he.m9)(t))instanceof uh))return!1;const e=this._repo===t._repo,i=A4(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function xae(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function ER(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Q0(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Mm){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Ry)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Tm)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===yo){if(null!=t&&!MT(t)||null!=e&&!MT(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,he.hu)(n.getIndex()instanceof _4||n.getIndex()===y4,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function IR(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class vf extends uh{constructor(t,e){super(t,e,new nR,!1)}get parent(){const t=P7(this._path);return null===t?null:new vf(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class vC{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new ws(t),i=wC(this.ref,t);return new vC(this._node.getChild(e),i,yo)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new vC(r,wC(this.ref,i),yo)))}hasChild(t){const e=new ws(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Wq(n,t){return(n=(0,he.m9)(n))._checkNotDeleted("ref"),void 0!==t?wC(n._root,t):n._root}function Yq(n,t){(n=(0,he.m9)(n))._checkNotDeleted("refFromURL");const e=s6(t,n._repo.repoInfo_.nodeAdmin);Rq("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Dm("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),Wq(n,e.path.toString())}function wC(n,t){return null===vr((n=(0,he.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),kT("child","path",e,!1)):kT("child","path",t,!1),new vf(n._repo,Wo(n._path,t));var e}function a6(n,t){n=(0,he.m9)(n),yf("set",n._path),Bm("set",t,n._path,!1);const e=new he.BH;return e6(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function Nce(n,t){kq("update",t,n._path,!1);const e=new he.BH;return function wce(n,t,e,i){cS(n,"update",{path:t.toString(),value:e});let r=!0;const s=RT(n),a={};if(Ac(e,(l,d)=>{r=!1,a[l]=Tq(Wo(t,l),pa(d),n.serverSyncTree_,s)}),r)hc("update() called with empty data.  Don't do anything."),H0(0,i,"ok",void 0);else{const l=CR(n),d=function Kle(n,t,e,i){!function ule(n,t,e,i){(0,he.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=M4(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=vo.fromObject(e);return lS(n,new oS({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,a,l);bR(n.eventQueue_,d),n.server_.merge(t.toString(),e,(A,p)=>{const _="ok"===A;_||bu("update at "+t+" failed: "+A);const x=U0(n.serverSyncTree_,l,!_),C=x.length>0?uS(n,t):t;dA(n.eventQueue_,C,x),H0(0,i,A,p)}),Ac(e,A=>{const p=i6(n,Wo(t,A));uS(n,p)}),dA(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function Uce(n){n=(0,he.m9)(n);const t=new o6(()=>{}),e=new OT(t);return function vce(n,t,e){const i=function Jle(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(A,p)=>{const _=md(A,e);i=i||P0(p,_)});let r=n.syncPointTree_.get(e);r?i=i||P0(r,as()):(r=new _q,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,a=s?new O0(i,!0,!1):null;return function Ole(n){return lR(n.viewCache_)}(yq(r,t,cR(n.pendingWriteTree_,t._path),s?a.getNode():or.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const s=pa(r).withIndex(t._queryParams.getIndex());let a;if(H4(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())a=ET(n.serverSyncTree_,t._path,s);else{const l=IT(n.serverSyncTree_,t);a=xq(n.serverSyncTree_,t._path,s,l)}return dA(n.eventQueue_,t._path,a),gR(n.serverSyncTree_,t,e,null,!0),s},r=>(cS(n,"get for query "+(0,he.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new vC(i,new vf(n._repo,n._path),n._queryParams.getIndex()))}class OT{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new qq("value",this,new vC(t.snapshotNode,new vf(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Kq(this,t,e):null}matches(t){return t instanceof OT&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class DR{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Kq(this,t,e):null}createEvent(t,e){(0,he.hu)(null!=t.childName,"Child events should have a childName.");const i=wC(new vf(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new qq(t.type,this,new vC(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof DR&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function LT(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const d=e,A=(p,_)=>{t6(n._repo,n,l),d(p,_)};A.userCallback=e.userCallback,A.context=e.context,e=A}const a=new o6(e,s||void 0),l="value"===t?new OT(a):new DR(t,a);return function Ece(n,t,e){let i;i=".info"===vr(t._path)?H4(n.infoSyncTree_,t,e):H4(n.serverSyncTree_,t,e),Oq(n.eventQueue_,t._path,i)}(n._repo,n,l),()=>t6(n._repo,n,l)}function l6(n,t,e,i){return LT(n,"value",t,e,i)}function $q(n,t,e,i){return LT(n,"child_added",t,e,i)}function Jq(n,t,e,i){return LT(n,"child_changed",t,e,i)}function Xq(n,t,e,i){return LT(n,"child_moved",t,e,i)}function eK(n,t,e,i){return LT(n,"child_removed",t,e,i)}function tK(n,t,e){let i=null;const r=e?new o6(e):null;"value"===t?i=new OT(r):t&&(i=new DR(t,r)),t6(n._repo,n,i)}class Up{}class nK extends Up{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Bm("endAt",this._value,t._path,!0);const e=C4(t._queryParams,this._value,this._key);if(IR(e),Q0(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new uh(t._repo,t._path,e,t._orderByCalled)}}class Qce extends Up{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Bm("endBefore",this._value,t._path,!1);const e=function $ae(n,t,e){let i,r;return n.index_===Mm?("string"==typeof t&&(t=Y7(t)),r=C4(n,t,e)):(i=null==e?Ry:Y7(e),r=C4(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(IR(e),Q0(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new uh(t._repo,t._path,e,t._orderByCalled)}}class iK extends Up{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Bm("startAt",this._value,t._path,!0);const e=b4(t._queryParams,this._value,this._key);if(IR(e),Q0(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new uh(t._repo,t._path,e,t._orderByCalled)}}class zce extends Up{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Bm("startAfter",this._value,t._path,!1);const e=function Yae(n,t,e){let i;if(n.index_===Mm)"string"==typeof t&&(t=W7(t)),i=b4(n,t,e);else{let r;r=null==e?Tm:W7(e),i=b4(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(IR(e),Q0(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new uh(t._repo,t._path,e,t._orderByCalled)}}class qce extends Up{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new uh(t._repo,t._path,function Zae(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class Zce extends Up{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new uh(t._repo,t._path,function Wae(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class Yce extends Up{constructor(t){super(),this._path=t}_apply(t){ER(t,"orderByChild");const e=new ws(this._path);if(wr(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new _4(e),r=iR(t._queryParams,i);return Q0(r),new uh(t._repo,t._path,r,!0)}}class Jce extends Up{_apply(t){ER(t,"orderByKey");const e=iR(t._queryParams,Mm);return Q0(e),new uh(t._repo,t._path,e,!0)}}class eue extends Up{_apply(t){ER(t,"orderByPriority");const e=iR(t._queryParams,yo);return Q0(e),new uh(t._repo,t._path,e,!0)}}class nue extends Up{_apply(t){ER(t,"orderByValue");const e=iR(t._queryParams,y4);return Q0(e),new uh(t._repo,t._path,e,!0)}}class rue extends Up{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Bm("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new nK(this._value,this._key)._apply(new iK(this._value,this._key)._apply(t))}}function Hp(n,...t){let e=(0,he.m9)(n);for(const i of t)e=i._apply(e);return e}(function Ule(n){(0,he.hu)(!AR,"__referenceConstructor has already been defined"),AR=n})(vf),function zle(n){(0,he.hu)(!pR,"__referenceConstructor has already been defined"),pR=n}(vf);const c6={};function sK(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Dm("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),hc("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let d,A,a=s6(s,r),l=a.repoInfo;typeof process<"u"&&process.env&&(A=process.env.FIREBASE_DATABASE_EMULATOR_HOST),A?(d=!0,s=`http://${A}?ns=${l.namespace}`,a=s6(s,r),l=a.repoInfo):d=!a.repoInfo.secure;const p=r&&d?new fT(fT.OWNER):new Xoe(n.name,n.options,t);Rq("Invalid Firebase Database URL",a),wr(a.path)||Dm("Database URL must point to the root of a Firebase Database (not including a child path).");const _=function cue(n,t,e,i){let r=c6[t.name];r||(r={},c6[t.name]=r);let s=r[n.toURLString()];return s&&Dm("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new mce(n,false,e,i),r[n.toURLString()]=s,s}(l,n,p,new Joe(n.name,e));return new due(_,n)}class due{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function _ce(n,t,e){if(n.stats_=c4(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new rR(n.repoInfo_,(i,r,s,a)=>{Uq(n,i,r,s,a)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Hq(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,he.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new pC(n.repoInfo_,t,(i,r,s,a)=>{Uq(n,i,r,s,a)},i=>{Hq(n,i)},i=>{!function yce(n,t){Ac(t,(e,i)=>{X4(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function nae(n,t){const e=n.toString();return l4[e]||(l4[e]=t()),l4[e]}(n.repoInfo_,()=>new ile(n.stats_,n.server_)),n.infoData_=new Jae,n.infoSyncTree_=new Cq({startListening:(i,r,s,a)=>{let l=[];const d=n.infoData_.getNode(i._path);return d.isEmpty()||(l=ET(n.infoSyncTree_,i._path,d),setTimeout(()=>{a("ok")},0)),l},stopListening:()=>{}}),X4(n,"connected",!1),n.serverSyncTree_=new Cq({startListening:(i,r,s,a)=>(n.server_.listen(i,s,r,(l,d)=>{const A=a(l,d);dA(n.eventQueue_,i._path,A)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new vf(this._repo,as())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function lue(n,t){const e=c6[t];(!e||e[n.key]!==n)&&Dm(`Database ${t}(${n.repoInfo_}) has already been deleted.`),Vq(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Dm("Cannot call "+t+" on a deleted database.")}}function oK(){S7.IS_TRANSPORT_INITIALIZED&&bu("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function hue(){oK(),k0.forceDisallow()}function Aue(){oK(),eS.forceDisallow(),k0.forceAllow()}function gue(n,t){s7(n,t)}const _ue={".sv":"timestamp"};class wue{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}pC.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},pC.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function mue(n){e7(sh.SDK_VERSION),(0,sh._registerComponent)(new Sp.wA("database",(t,{instanceIdentifier:e})=>sK(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,sh.registerVersion)(JG,XG,n),(0,sh.registerVersion)(JG,XG,"esm2017")}();const Sue=new lf.Yd("@firebase/database-compat"),lK=function(n){Sue.warn("FIREBASE WARNING: "+n)};class Due{constructor(t){this._delegate=t}cancel(t){(0,he.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,he.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,he.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,he.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,he.Dv)("OnDisconnect.set",1,2,arguments.length),(0,he.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,he.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,he.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,he.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,lK("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,he.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class Tue{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,he.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class V0{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,he.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,he.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,he.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,he.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,he.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),kT("DataSnapshot.child","path",t,!1),new V0(this._database,this._delegate.child(t))}hasChild(t){return(0,he.Dv)("DataSnapshot.hasChild",1,1,arguments.length),kT("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,he.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,he.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,he.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new V0(this._database,e)))}hasChildren(){return(0,he.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,he.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,he.Dv)("DataSnapshot.ref",0,0,arguments.length),new hA(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Gc{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,he.Dv)("Query.on",2,4,arguments.length),(0,he.Wj)("Query.on","callback",e,!1);const a=Gc.getCancelAndContextArgs_("Query.on",i,r),l=(A,p)=>{e.call(a.context,new V0(this.database,A),p)};l.userCallback=e,l.context=a.context;const d=null===(s=a.cancel)||void 0===s?void 0:s.bind(a.context);switch(t){case"value":return l6(this._delegate,l,d),e;case"child_added":return $q(this._delegate,l,d),e;case"child_removed":return eK(this._delegate,l,d),e;case"child_changed":return Jq(this._delegate,l,d),e;case"child_moved":return Xq(this._delegate,l,d),e;default:throw new Error((0,he.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,he.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,he.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,he.Wj)("Query.off","callback",e,!0),(0,he.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,tK(this._delegate,t,r)}else tK(this._delegate,t)}get(){return Uce(this._delegate).then(t=>new V0(this.database,t))}once(t,e,i,r){(0,he.Dv)("Query.once",1,4,arguments.length),(0,he.Wj)("Query.once","callback",e,!0);const s=Gc.getCancelAndContextArgs_("Query.once",i,r),a=new he.BH,l=(A,p)=>{const _=new V0(this.database,A);e&&e.call(s.context,_,p),a.resolve(_)};l.userCallback=e,l.context=s.context;const d=A=>{s.cancel&&s.cancel.call(s.context,A),a.reject(A)};switch(t){case"value":l6(this._delegate,l,d,{onlyOnce:!0});break;case"child_added":$q(this._delegate,l,d,{onlyOnce:!0});break;case"child_removed":eK(this._delegate,l,d,{onlyOnce:!0});break;case"child_changed":Jq(this._delegate,l,d,{onlyOnce:!0});break;case"child_moved":Xq(this._delegate,l,d,{onlyOnce:!0});break;default:throw new Error((0,he.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise}limitToFirst(t){return(0,he.Dv)("Query.limitToFirst",1,1,arguments.length),new Gc(this.database,Hp(this._delegate,function Kce(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new qce(n)}(t)))}limitToLast(t){return(0,he.Dv)("Query.limitToLast",1,1,arguments.length),new Gc(this.database,Hp(this._delegate,function Wce(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Zce(n)}(t)))}orderByChild(t){return(0,he.Dv)("Query.orderByChild",1,1,arguments.length),new Gc(this.database,Hp(this._delegate,function $ce(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return kT("orderByChild","path",n,!1),new Yce(n)}(t)))}orderByKey(){return(0,he.Dv)("Query.orderByKey",0,0,arguments.length),new Gc(this.database,Hp(this._delegate,function Xce(){return new Jce}()))}orderByPriority(){return(0,he.Dv)("Query.orderByPriority",0,0,arguments.length),new Gc(this.database,Hp(this._delegate,function tue(){return new eue}()))}orderByValue(){return(0,he.Dv)("Query.orderByValue",0,0,arguments.length),new Gc(this.database,Hp(this._delegate,function iue(){return new nue}()))}startAt(t=null,e){return(0,he.Dv)("Query.startAt",0,2,arguments.length),new Gc(this.database,Hp(this._delegate,function jce(n=null,t){return FT("startAt","key",t,!0),new iK(n,t)}(t,e)))}startAfter(t=null,e){return(0,he.Dv)("Query.startAfter",0,2,arguments.length),new Gc(this.database,Hp(this._delegate,function Gce(n,t){return FT("startAfter","key",t,!0),new zce(n,t)}(t,e)))}endAt(t=null,e){return(0,he.Dv)("Query.endAt",0,2,arguments.length),new Gc(this.database,Hp(this._delegate,function Hce(n,t){return FT("endAt","key",t,!0),new nK(n,t)}(t,e)))}endBefore(t=null,e){return(0,he.Dv)("Query.endBefore",0,2,arguments.length),new Gc(this.database,Hp(this._delegate,function Vce(n,t){return FT("endBefore","key",t,!0),new Qce(n,t)}(t,e)))}equalTo(t,e){return(0,he.Dv)("Query.equalTo",1,2,arguments.length),new Gc(this.database,Hp(this._delegate,function sue(n,t){return FT("equalTo","key",t,!0),new rue(n,t)}(t,e)))}toString(){return(0,he.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,he.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,he.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Gc))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,he.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,he.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,he.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new hA(this.database,new vf(this._delegate._repo,this._delegate._path))}}class hA extends Gc{constructor(t,e){super(t,new uh(e._repo,e._path,new nR,!1)),this.database=t,this._delegate=e}getKey(){return(0,he.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,he.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new hA(this.database,wC(this._delegate,t))}getParent(){(0,he.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new hA(this.database,t):null}getRoot(){return(0,he.Dv)("Reference.root",0,0,arguments.length),new hA(this.database,this._delegate.root)}set(t,e){(0,he.Dv)("Reference.set",1,2,arguments.length),(0,he.Wj)("Reference.set","onComplete",e,!0);const i=a6(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,he.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,lK("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}yf("Reference.update",this._delegate._path),(0,he.Wj)("Reference.update","onComplete",e,!0);const i=Nce(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,he.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,he.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function Pce(n,t,e){if(yf("setWithPriority",n._path),Bm("setWithPriority",t,n._path,!1),J4("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new he.BH;return e6(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,he.Dv)("Reference.remove",0,1,arguments.length),(0,he.Wj)("Reference.remove","onComplete",t,!0);const e=function Oce(n){return yf("remove",n._path),a6(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,he.Dv)("Reference.transaction",1,3,arguments.length),(0,he.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,he.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,he.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function bue(n,t,e){var i;if(n=(0,he.m9)(n),yf("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,s=new he.BH,l=l6(n,()=>{});return function Dce(n,t,e,i,r,s){cS(n,"transaction on "+t);const a={path:t,update:e,onComplete:i,status:null,order:n7(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=n6(n,t,void 0);a.currentInputSnapshot=l;const d=a.update(l.val());if(void 0===d)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{BT("transaction failed: Data returned ",d,a.path),a.status=0;const A=yR(n.transactionQueueTree_,t),p=yC(A)||[];let _;p.push(a),W4(A,p),"object"==typeof d&&null!==d&&(0,he.r3)(d,".priority")?(_=(0,he.DV)(d,".priority"),(0,he.hu)(MT(_),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):_=(mR(n.serverSyncTree_,t)||or.EMPTY_NODE).getPriority().val();const x=RT(n),C=pa(d,_),F=q4(C,l,x);a.currentOutputSnapshotRaw=C,a.currentOutputSnapshotResolved=F,a.currentWriteId=CR(n);const R=U4(n.serverSyncTree_,t,F,a.currentWriteId,a.applyLocally);dA(n.eventQueue_,t,R),xR(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(d,A,p)=>{let _=null;d?s.reject(d):(_=new vC(p,new vf(n._repo,n._path),yo),s.resolve(new wue(A,_)))},l,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new Tue(s.committed,new V0(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,he.Dv)("Reference.setPriority",1,2,arguments.length),(0,he.Wj)("Reference.setPriority","onComplete",e,!0);const i=function Lce(n,t){n=(0,he.m9)(n),yf("setPriority",n._path),J4("setPriority",t,!1);const e=new he.BH;return e6(n._repo,Wo(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,he.Dv)("Reference.push",0,2,arguments.length),(0,he.Wj)("Reference.push","onComplete",e,!0);const i=function Rce(n,t){n=(0,he.m9)(n),yf("push",n._path),Bm("push",t,n._path,!0);const e=Nq(n._repo),i=zae(e),r=wC(n,i),s=wC(n,i);let a;return a=null!=t?a6(s,t).then(()=>s):Promise.resolve(s),r.then=a.then.bind(a),r.catch=a.then.bind(a,void 0),r}(this._delegate,t),r=i.then(a=>new hA(this.database,a));e&&r.then(()=>e(null),a=>e(a));const s=new hA(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return yf("Reference.onDisconnect",this._delegate._path),new Due(new Zq(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class PT{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:hue,forceLongPolling:Aue}}useEmulator(t,e,i={}){!function aK(n,t,e,i={}){(n=(0,he.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Dm("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Dm('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new fT(fT.OWNER);else if(i.mockUserToken){const a="string"==typeof i.mockUserToken?i.mockUserToken:(0,he.Sg)(i.mockUserToken,n.app.options.projectId);s=new fT(a)}!function aue(n,t,e,i){n.repoInfo_=new o4(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if((0,he.Dv)("database.ref",0,1,arguments.length),t instanceof hA){const e=Yq(this._delegate,t.toString());return new hA(this,e)}{const e=Wq(this._delegate,t);return new hA(this,e)}}refFromURL(t){(0,he.Dv)("database.refFromURL",1,1,arguments.length);const i=Yq(this._delegate,t);return new hA(this,i)}goOffline(){return(0,he.Dv)("database.goOffline",0,0,arguments.length),function fue(n){(n=(0,he.m9)(n))._checkNotDeleted("goOffline"),Vq(n._repo)}(this._delegate)}goOnline(){return(0,he.Dv)("database.goOnline",0,0,arguments.length),function pue(n){(n=(0,he.m9)(n))._checkNotDeleted("goOnline"),function Ice(n){n.persistentConnection_&&n.persistentConnection_.resume(Pq)}(n._repo)}(this._delegate)}}PT.ServerValue={TIMESTAMP:function yue(){return _ue}(),increment:n=>function vue(n){return{".sv":{increment:n}}}(n)};var Bue=Object.freeze({__proto__:null,initStandalone:function Mue({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){e7(e);const a=new Sp.zt("auth-internal",new Sp.H0("database-standalone"));return a.setComponent(new Sp.wA("auth-internal",()=>i,"PRIVATE")),{instance:new PT(sK(n,a,void 0,t,s),n),namespace:r}}});const Fue=PT.ServerValue;function cK(n){return null==n}function uK(n){return"function"==typeof n.set}function dK(n,t){return uK(t)?t:n.ref(t)}function hK(n,t){if(function Rue(n){return"string"==typeof n}(n))return t.stringCase();if(uK(n))return t.firebaseCase();if(function Oue(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function NT(n,t,e="on",i=Q_.z){return new rs.y(r=>{let s=null;return s=n[e](t,(a,l)=>{i.schedule(()=>{r.next({snapshot:a,prevKey:l})}),"once"===e&&i.schedule(()=>r.complete())},a=>{i.schedule(()=>r.error(a))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe((0,Xt.U)(r=>{const{snapshot:s,prevKey:a}=r;let l=null;return s.exists()&&(l=s.key),{type:t,payload:s,prevKey:a,key:l}}),(0,r3.B)())}function AK(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function Nue(n,t){const{payload:e,prevKey:i,key:r}=t,s=AK(n,r),a=function Pue(n,t){if(cK(t))return 0;{const e=AK(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let l=null;t.payload.forEach(d=>{const A={payload:d,type:"value",prevKey:l,key:d.key};return l=d.key,n=[...n,A],!1})}return n;case"child_added":if(s>-1){const l=n[s-1];(l&&l.key||null)!==i&&(n=n.filter(d=>d.payload.key!==e.key)).splice(a,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(a,0,t)}return n;case"child_removed":return n.filter(l=>l.payload.key!==e.key);case"child_changed":return n.map(l=>l.payload.key===r?t:l);case"child_moved":if(s>-1){const l=n.splice(s,1)[0];return(n=n.slice()).splice(a,0,l),n}return n;default:return n}}function fK(n){return(cK(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function pK(n,t,e){return function Lue(n,t,e){return NT(n,"value","once",e).pipe(Qr(i=>{const r=[vn(i)];return t.forEach(s=>r.push(NT(n,s,"on",e))),(0,vu.T)(...r).pipe($u(Nue,[]))}),V_())}(n,t=fK(t),e)}function gK(n,t,e){const i=(t=fK(t)).map(r=>NT(n,r,"on",e));return(0,vu.T)(...i)}function mK(n,t){return function(i,r){return hK(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function Vue(n){return function(e){return e?hK(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function _K(n,t){return function(){return NT(n,"value","on",t)}}!function kue(n){n.INTERNAL.registerComponent(new Sp.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new PT(r,i)},"PUBLIC").setServiceProps({Reference:hA,Query:Gc,Database:PT,DataSnapshot:V0,enableLogging:gue,INTERNAL:Bue,ServerValue:Fue}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.10")}(jM.Z);const Gue=new o.OlP("angularfire2.realtimeDatabaseURL"),que=new o.OlP("angularfire2.database.use-emulator");let Kue=(()=>{class n{constructor(e,i,r,s,a,l,d,A,p,_,x,C,F,R,U){this.schedulers=l;const Q=d,K=(0,Hc.on)(e,a,i);A&&B3(K,a,p,x,C,F,_,R),this.database=(0,Hc.cc)(`${K.name}.database.${r}`,"AngularFireDatabase",K.name,()=>{const ie=a.runOutsideAngular(()=>K.database(r||void 0));return Q&&ie.useEmulator(...Q),ie},[Q])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>dK(this.database,e));let s=r;return i&&(s=i(r)),function jue(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:mK(i,"update"),set:mK(i,"set"),push:r=>i.push(r),remove:Vue(i),snapshotChanges:r=>pK(n,r,e).pipe(eo.iC),stateChanges:r=>gK(n,r,e).pipe(eo.iC),auditTrail:r=>function Uue(n,t,e){return function Que(n,t,e){return function Hue(n,t){return NT(n,"value","on",t).pipe((0,Xt.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function Hoe(...n){const t=(0,yl.jO)(n);return(0,Br.e)((e,i)=>{const r=n.length,s=new Array(r);let a=n.map(()=>!1),l=!1;for(let d=0;d<r;d++)(0,Vn.Xf)(n[d]).subscribe(new ge.Q(i,A=>{s[d]=A,!l&&!a[d]&&(a[d]=!0,(l=a.every(gn.y))&&(a=null))},zz.Z));e.subscribe(new ge.Q(i,d=>{if(l){const A=[d,...s];i.next(t?t(...A):A)}}))})}(t),(0,Xt.U)(([r,s])=>{const a=r.lastKeyToLoad,l=s.map(d=>d.key);return{actions:s,lastKeyToLoad:a,loadedKeys:l}}),function Qoe(n){return(0,Br.e)((t,e)=>{let i=!1,r=0;t.subscribe(new ge.Q(e,s=>(i||(i=!n(s,r++)))&&e.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,Xt.U)(r=>r.actions))}(n,gK(n,t).pipe($u((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(eo.iC),valueChanges:(r,s)=>pK(n,r,e).pipe((0,Xt.U)(l=>l.map(d=>s&&s.idField?Object.assign(Object.assign({},d.payload.val()),{[s.idField]:d.key}):d.payload.val())),eo.iC)}}(s,this)}object(e){return function zue(n,t){return{query:n,snapshotChanges:()=>_K(n,t.schedulers.outsideAngular)().pipe(eo.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>_K(n,t.schedulers.outsideAngular)().pipe(eo.iC,(0,Xt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>dK(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Hc.Dh),o.LFG(Hc.xv,8),o.LFG(Gue,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(eo.HU),o.LFG(que,8),o.LFG(Ck,8),o.LFG(S3,8),o.LFG(E3,8),o.LFG(I3,8),o.LFG(D3,8),o.LFG(T3,8),o.LFG(M3,8),o.LFG(bk,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),j0=(()=>{class n{constructor(e,i){this.store=e,this.angularFire=i,this.getObservable=r=>{const s=new Ui([]);return r.valueChanges({idField:"id"}).subscribe(a=>{s.next(a)}),s},this.getObservableSkill=r=>{const s=new Ui([]);return r.valueChanges({idField:"id"}).subscribe(a=>{s.next(a)}),s},this.getObservableTipologia=r=>{const s=new Ui([]);return r.valueChanges({idField:"id"}).subscribe(a=>{s.next(a)}),s},this.getObservableRazza=r=>{const s=new Ui([]);return r.valueChanges({idField:"id"}).subscribe(a=>{s.next(a)}),s},this.getObservableClasseSkills=r=>{const s=new Ui([]);return r.valueChanges({idField:"id"}).subscribe(a=>{s.next(a)}),s},this.getObservableReligioni=r=>{const s=new Ui([]);return r.valueChanges({idField:"id"}).subscribe(a=>{s.next(a)}),s},this.getObservableSpellPaladino=r=>{const s=new Ui([]);return r.valueChanges({idField:"id"}).subscribe(a=>{s.next(a)}),s},this.getObservablePg=r=>{const s=new Ui([]);return r.valueChanges({idField:"id"}).subscribe(a=>{s.next(a)}),s},this.getObservableSkillsPg=r=>{const s=new Ui([]);return r.valueChanges({idField:"id"}).subscribe(a=>{s.next(a)}),s},this.getObservableSpellChierico=r=>{const s=new Ui([]);return r.valueChanges({idField:"id"}).subscribe(a=>{s.next(a)}),s}}getAllClass(){return this.getObservable(this.store.collection("Classe"))}getSpellPaladinoFromDivinita(e){return this.store.collection("SpellPaladino",r=>r.where("religione","==",e)).valueChanges().pipe((0,Xt.U)(r=>r.map(s=>{let a=new $3;return a.aura=s.aura,a.religione=s.religione,a.id=s.id,a.spell=s.spell,a})))}getSpellChiericoFromDivinita(e){return this.store.collection("SpellChierico",r=>r.where("religione","==",e)).valueChanges().pipe((0,Xt.U)(r=>r.map(s=>{let a=new J3;return a.religione=s.religione,a.id=s.id,a.spell=s.spell,a})))}getRegni(){return this.store.collection("Regno").valueChanges().pipe((0,Xt.U)(i=>i.map(r=>{let s=new Loe;return s.nome=r.nome,s})))}getDomandeRisposte(){return this.store.collection("DomandeRisposte").valueChanges().pipe((0,Xt.U)(i=>i.map(r=>{let s=new Poe;return s.domanda=r.domanda,s.risposta=r.risposta,s.min=r.min,s})))}getInfoSkill(e){return this.store.collection("InfoSkill",r=>r.where("classe","==",e)).valueChanges().pipe((0,Xt.U)(r=>r.map(s=>{let a=new Noe;return a.info=s.info,a.nome=s.nome,a.procedura=s.procedura,a.classe=s.classe,a})))}getAllSkills(e=-1){return this.getObservableSkill(this.store.collection("Skill",-1===e?i=>i.orderBy("idTipologiaSkill"):i=>i.where("idTipologiaSkill","==",e.toString())))}getAllReligioni(e=""){return this.getObservableReligioni(""===e?this.store.collection("Religione"):this.store.collection("Religione",i=>i.where("pantheon","==",e)))}getClasseSkills(e){return this.getObservableClasseSkills(this.store.collection("Skill",i=>i.where("classi","array-contains",e)))}getAllRazze(){return this.getObservableRazza(this.store.collection("Razza"))}getAllTipologieSkill(){return this.getObservableTipologia(this.store.collection("TipologiaSkill"))}AddSkill(e){this.store.collection("Skill").add({nome:e.nome,classi:e.classi,idTipologiaSkill:e.idTipologiaSkill})}AddPg(e,i,r=!1){this.store.collection("Pg").add({nome:e.nome,classe:e.classe.nome,divinita:e.religione.nome,pantheon:e.religione.pantheon,razza:e.razza.nome,forza:e.stats.forza,destrezza:e.stats.destrezza,intelligenza:e.stats.intelligenza,guid:i,utilizzatoNVolte:r?1:0})}addSkillsPg(e,i){this.store.collection("SkillsPg").add({guidPg:i,nomeSkill:e.nome,valueSkill:e.value,idTipologiaSkill:e.idTipologiaSkill,idSkill:e.id})}getPg(e){return this.getObservablePg(this.store.collection("Pg",i=>i.where("guid","==",e)))}getSchedePgByClasse(e){return this.store.collection("Pg",r=>r.where("classe","==",e)).valueChanges().pipe((0,Xt.U)(r=>r.map(s=>{let a=new Y3;return a.nome=s.nome,a.classe=s.classe,a.destrezza=s.destrezza,a.forza=s.forza,a.intelligenza=s.intelligenza,a.guid=s.guid,a.utilizzatoNVolte=s.utilizzatoNVolte,a})))}updateSchedaPg(e,i){var r=this.store.collection("Pg",s=>s.where("guid","==",e)).valueChanges({idField:"id"}).subscribe(s=>{null!=s&&this.store.collection("Pg").doc(`${s[0].id}`).set({utilizzatoNVolte:i},{merge:!0}),r.unsubscribe()},s=>console.error("Error"))}getSkillsPg(e){return this.getObservableSkillsPg(this.store.collection("SkillsPg",i=>i.where("guidPg","==",e)))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Sk),o.LFG(Kue))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zue(n,t){}class TR{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let yK=(()=>{class n extends Mk{constructor(e,i,r,s,a,l,d,A){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=a,this._ngZone=l,this._overlayRef=d,this._focusMonitor=A,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=p=>{this._portalOutlet.hasAttached();const _=this._portalOutlet.attachDomPortal(p);return this._contentAttached(),_},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=iI(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=iI();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=iI())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Nk),o.Y36(Ze,8),o.Y36(TR),o.Y36(nT),o.Y36(o.R0b),o.Y36(tT),o.Y36(Lp))},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&o.Gf(Kx,7),2&e){let r;o.iGM(r=o.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&o.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&o.YNc(0,Zue,0,0,"ng-template",0)},dependencies:[Kx],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class u6{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new tn.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Im(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const vK=new o.OlP("DialogScrollStrategy"),Wue=new o.OlP("DialogData"),Yue=new o.OlP("DefaultDialogConfig"),Jue={provide:vK,deps:[gf],useFactory:function $ue(n){return()=>n.scrollStrategies.block()}};let Xue=0,wK=(()=>{class n{constructor(e,i,r,s,a,l){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new tn.x,this._afterOpenedAtThisLevel=new tn.x,this._ariaHiddenElements=new Map,this.afterAllClosed=hs(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(oa(void 0))),this._scrollStrategy=l}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new TR,...i}).id=i.id||"cdk-dialog-"+Xue++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),a=this._overlay.create(s),l=new u6(a,i),d=this._attachContainer(a,l,i);return l.containerInstance=d,this._attachDialogContent(e,l,d,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){d6(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){d6(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),d6(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new Bk({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const s=r.injector||r.viewContainerRef?.injector,a=[{provide:TR,useValue:r},{provide:u6,useValue:i},{provide:tT,useValue:e}];let l;r.container?"function"==typeof r.container?l=r.container:(l=r.container.type,a.push(...r.container.providers(r))):l=yK;const d=new qx(l,r.viewContainerRef,o.zs3.create({parent:s||this._injector,providers:a}),r.componentFactoryResolver);return e.attach(d).instance}_attachDialogContent(e,i,r,s){if(e instanceof o.Rgc){const a=this._createInjector(s,i,r,void 0);let l={$implicit:s.data,dialogRef:i};s.templateContext&&(l={...l,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new $D(e,null,l,a))}else{const a=this._createInjector(s,i,r,this._injector),l=r.attachComponentPortal(new qx(e,s.viewContainerRef,a,s.componentFactoryResolver));i.componentInstance=l.instance}}_createInjector(e,i,r,s){const a=e.injector||e.viewContainerRef?.injector,l=[{provide:Wue,useValue:e.data},{provide:u6,useValue:i}];return e.providers&&("function"==typeof e.providers?l.push(...e.providers(i,e,r)):l.push(...e.providers)),e.direction&&(!a||!a.get(pf,null,o.XFs.Optional))&&l.push({provide:pf,useValue:{value:e.direction,change:vn()}}),o.zs3.create({parent:a||s,providers:l})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,a)=>{s?a.setAttribute("aria-hidden",s):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(gf),o.LFG(o.zs3),o.LFG(Yue,8),o.LFG(n,12),o.LFG(Fk),o.LFG(vK))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function d6(n,t){let e=n.length;for(;e--;)t(n[e])}let ede=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[wK,Jue],imports:[Zx,oC,CG,oC]}),n})();function tde(n,t){}const dS={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},nde={dialogContainer:dc("dialogContainer",[Or("void, exit",oi({opacity:0,transform:"scale(0.7)"})),Or("enter",oi({transform:"none"})),js("* => enter",HG([_o("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",oi({transform:"none",opacity:1})),Gk("@*",zk(),{optional:!0})]),dS),js("* => void, * => exit",HG([_o("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",oi({opacity:0})),Gk("@*",zk(),{optional:!0})]),dS)])};class MR{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=dS.params.enterAnimationDuration,this.exitAnimationDuration=dS.params.exitAnimationDuration}}let ide=(()=>{class n extends yK{constructor(e,i,r,s,a,l,d,A){super(e,i,r,s,a,l,d,A),this._animationStateChanged=new o.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Nk),o.Y36(Ze,8),o.Y36(MR),o.Y36(nT),o.Y36(o.R0b),o.Y36(tT),o.Y36(Lp))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],features:[o.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),rde=(()=>{class n extends ide{constructor(e,i,r,s,a,l,d,A,p){super(e,i,r,s,a,l,d,p),this._changeDetectorRef=A,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||dS.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||dS.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Nk),o.Y36(Ze,8),o.Y36(MR),o.Y36(nT),o.Y36(o.R0b),o.Y36(tT),o.Y36(o.sBO),o.Y36(Lp))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&o.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(o.Ikx("id",i._config.id),o.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),o.d8E("@dialogContainer",i._getAnimationState()))},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&o.YNc(0,tde,0,0,"ng-template",0)},dependencies:[Kx],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[nde.dialogContainer]}}),n})();class z0{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new tn.x,this._beforeClosed=new tn.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(gr(r=>"opened"===r.state),(0,zr.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(gr(r=>"closed"===r.state),(0,zr.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,vu.T)(this.backdropClick(),this.keydownEvents().pipe(gr(r=>27===r.keyCode&&!this.disableClose&&!Im(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function sde(n,t,e){n._closeInteractionType=t,n.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(gr(e=>"closing"===e.state),(0,zr.q)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Fm=new o.OlP("MatDialogData"),ode=new o.OlP("mat-dialog-default-options"),bK=new o.OlP("mat-dialog-scroll-strategy"),lde={provide:bK,deps:[gf],useFactory:function ade(n){return()=>n.scrollStrategies.block()}};let cde=0,ude=(()=>{class n{constructor(e,i,r,s,a,l,d,A,p,_){this._overlay=e,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=d,this._dialogContainerType=A,this._dialogDataToken=p,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new tn.x,this._afterOpenedAtThisLevel=new tn.x,this._idPrefix="mat-dialog-",this.afterAllClosed=hs(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(oa(void 0))),this._scrollStrategy=l,this._dialog=i.get(wK)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let r;(i={...this._defaultOptions||new MR,...i}).id=i.id||`${this._idPrefix}${cde++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:MR,useValue:i},{provide:TR,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(a,l,d)=>(r=new this._dialogRefConstructor(a,i,d),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:d},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Ly=(()=>{class n extends ude{constructor(e,i,r,s,a,l,d,A){super(e,i,s,l,d,a,z0,rde,Fm,A)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(gf),o.LFG(o.zs3),o.LFG(rn,8),o.LFG(ode,8),o.LFG(bK),o.LFG(n,12),o.LFG(Fk),o.LFG(o.QbO,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),dde=0,CK=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+dde++}ngOnInit(){this._dialogRef||(this._dialogRef=function Ade(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(z0,8),o.Y36(o.SBq),o.Y36(Ly))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&o.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),hde=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),fde=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Ly,lde],imports:[ede,Zx,oC,dr,dr]}),n})();const pde=["*",[["mat-toolbar-row"]]],gde=["*","mat-toolbar-row"],mde=F0(class{constructor(n){this._elementRef=n}});let h6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),xK=(()=>{class n extends mde{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Fs),o.Y36(Ze))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,h6,5),2&e){let s;o.iGM(s=o.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[o.qOj],ngContentSelectors:gde,decls:2,vars:0,template:function(e,i){1&e&&(o.F$t(pde),o.Hsn(0),o.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),SK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[dr,dr]}),n})();function EK(...n){const t=(0,yl.jO)(n),{args:e,keys:i}=$f(n),r=new rs.y(s=>{const{length:a}=e;if(!a)return void s.complete();const l=new Array(a);let d=a,A=a;for(let p=0;p<a;p++){let _=!1;(0,Vn.Xf)(e[p]).subscribe(new ge.Q(s,x=>{_||(_=!0,A--),l[p]=x},()=>d--,void 0,()=>{(!d||!_)&&(A||s.next(i?$(i,l):l),s.complete())}))}});return t?r.pipe(j(t)):r}const _de=["*"];let BR;function UT(n){return function yde(){if(void 0===BR&&(BR=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(BR=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return BR}()?.createHTML(n)||n}function IK(n){return Error(`Unable to find icon with the name "${n}"`)}function DK(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function TK(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class bC{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let FR=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new bC(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const a=this._sanitizer.sanitize(o.q3G.HTML,r);if(!a)throw TK(r);const l=UT(a);return this._addSvgIconConfig(e,i,new bC("",l,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new bC(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(o.q3G.HTML,i);if(!s)throw TK(i);const a=UT(s);return this._addSvgIconSetConfig(e,new bC("",a,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,e);if(!i)throw DK(e);const r=this._cachedIconsByUrl.get(i);return r?vn(kR(r)):this._loadSvgIconFromConfig(new bC(e,null)).pipe((0,Vs.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,Xt.U)(s=>kR(s)))}getNamedSvgIcon(e,i=""){const r=MK(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(e,a):ja(IK(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?vn(kR(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,Xt.U)(i=>kR(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?vn(r):EK(i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(rc(l=>{const A=`Loading icon set URL: ${this._sanitizer.sanitize(o.q3G.RESOURCE_URL,a.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(A)),vn(null)})))).pipe((0,Xt.U)(()=>{const a=this._extractIconWithNameFromAnySet(e,i);if(!a)throw IK(e);return a}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const a=this._svgElementFromConfig(s),l=this._extractSvgIconFromSet(a,e,s.options);if(l)return l}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Vs.b)(i=>e.svgText=i),(0,Xt.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?vn(null):this._fetchIcon(e).pipe((0,Vs.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const a=s.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,r);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),r);const l=this._svgElementFromString(UT("<svg></svg>"));return l.appendChild(a),this._setSvgAttributes(l,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(UT("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:a,value:l}=r[s];"id"!==a&&i.setAttribute(a,l)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw function vde(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,i);if(!a)throw DK(i);const l=this._inProgressUrlFetches.get(a);if(l)return l;const d=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe((0,Xt.U)(A=>UT(A)),Xf(()=>this._inProgressUrlFetches.delete(a)),(0,r3.B)());return this._inProgressUrlFetches.set(a,d),d}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(MK(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return bde(s)?new bC(s.url,null,s.options):new bC(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(P_,8),o.LFG(Ll),o.LFG(Ze,8),o.LFG(o.qLn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kR(n){return n.cloneNode(!0)}function MK(n,t){return n+":"+t}function bde(n){return!(!n.url||!n.options)}const Cde=F0(class{constructor(n){this._elementRef=n}}),xde=new o.OlP("MAT_ICON_DEFAULT_OPTIONS"),Sde=new o.OlP("mat-icon-location",{providedIn:"root",factory:function Ede(){const n=(0,o.f3M)(Ze),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),BK=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Ide=BK.map(n=>`[${n}]`).join(", "),Dde=/^url\(['"]?#(.*?)['"]?\)$/;let Qp=(()=>{class n extends Cde{constructor(e,i,r,s,a,l){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Xs.w0.EMPTY,l&&(l.color&&(this.color=this.defaultColor=l.color),l.fontSet&&(this.fontSet=l.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=mi(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(a=>{s.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(Ide),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)BK.forEach(a=>{const l=i[s],d=l.getAttribute(a),A=d?d.match(Dde):null;if(A){let p=r.get(l);p||(p=[],r.set(l,p)),p.push({name:a,value:A[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,zr.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(FR),o.$8M("aria-hidden"),o.Y36(Sde),o.Y36(o.qLn),o.Y36(xde,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(o.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),o.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[o.qOj],ngContentSelectors:_de,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),FK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[dr,dr]}),n})();const RR=["*"],Tde=["content"];function Mde(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r._onBackdropClicked())}),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function Bde(n,t){1&n&&(o.TgZ(0,"mat-drawer-content"),o.Hsn(1,2),o.qZA())}const Fde=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],kde=["mat-drawer","mat-drawer-content","*"];function Rde(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r._onBackdropClicked())}),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function Ode(n,t){1&n&&(o.TgZ(0,"mat-sidenav-content"),o.Hsn(1,2),o.qZA())}const Lde=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Pde=["mat-sidenav","mat-sidenav-content","*"],kK={transformDrawer:dc("transform",[Or("open, open-instant",oi({transform:"none",visibility:"visible"})),Or("void",oi({"box-shadow":"none",visibility:"hidden"})),js("void => open-instant",_o("0ms")),js("void <=> open, open-instant => void",_o("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Ude=new o.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Hde(){return!1}}),A6=new o.OlP("MAT_DRAWER_CONTAINER");let OR=(()=>{class n extends YD{constructor(e,i,r,s,a){super(r,s,a),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>OK)),o.Y36(o.SBq),o.Y36(WD),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&o.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[o._Bn([{provide:YD,useExisting:n}]),o.qOj],ngContentSelectors:RR,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),RK=(()=>{class n{constructor(e,i,r,s,a,l,d,A){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=s,this._ngZone=a,this._interactivityChecker=l,this._doc=d,this._container=A,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new tn.x,this._animationEnd=new tn.x,this._animationState="void",this.openedChange=new o.vpe(!0),this._openedStream=this.openedChange.pipe(gr(p=>p),(0,Xt.U)(()=>{})),this.openedStart=this._animationStarted.pipe(gr(p=>p.fromState!==p.toState&&0===p.toState.indexOf("open")),GA(void 0)),this._closedStream=this.openedChange.pipe(gr(p=>!p),(0,Xt.U)(()=>{})),this.closedStart=this._animationStarted.pipe(gr(p=>p.fromState!==p.toState&&"void"===p.toState),GA(void 0)),this._destroyed=new tn.x,this.onPositionChanged=new o.vpe,this._modeChanged=new tn.x,this.openedChange.subscribe(p=>{p?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{B0(this._elementRef.nativeElement,"keydown").pipe(gr(p=>27===p.keyCode&&!this.disableClose&&!Im(p)),Wi(this._destroyed)).subscribe(p=>this._ngZone.run(()=>{this.close(),p.stopPropagation(),p.preventDefault()}))}),this._animationEnd.pipe(V_((p,_)=>p.fromState===_.fromState&&p.toState===_.toState)).subscribe(p=>{const{fromState:_,toState:x}=p;(0===x.indexOf("open")&&"void"===_||"void"===x&&0===_.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=mi(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=mi(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(mi(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe((0,zr.q)(1)).subscribe(a=>s(a?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Nk),o.Y36(Lp),o.Y36(Fs),o.Y36(o.R0b),o.Y36(nT),o.Y36(Ze,8),o.Y36(A6,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&o.Gf(Tde,5),2&e){let r;o.iGM(r=o.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&o.WFA("@transform.start",function(s){return i._animationStarted.next(s)})("@transform.done",function(s){return i._animationEnd.next(s)}),2&e&&(o.uIk("align",null),o.d8E("@transform",i._animationState),o.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:RR,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0,1),o.Hsn(2),o.qZA())},dependencies:[YD],encapsulation:2,data:{animation:[kK.transformDrawer]},changeDetection:0}),n})(),OK=(()=>{class n{constructor(e,i,r,s,a,l=!1,d){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=d,this._drawers=new o.n_E,this.backdropClick=new o.vpe,this._destroyed=new tn.x,this._doCheckSubject=new tn.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new tn.x,e&&e.change.pipe(Wi(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),a.change().pipe(Wi(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=l}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=mi(e)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(e){this._backdropOverride=null==e?null:mi(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(oa(this._allDrawers),Wi(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(oa(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(kk(10),Wi(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(gr(i=>i.fromState!==i.toState),Wi(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Wi(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(Wi(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,zr.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Wi((0,vu.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(pf,8),o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(zx),o.Y36(Ude),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,OR,5),o.Suo(r,RK,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._content=s.first),o.iGM(s=o.CRH())&&(i._allDrawers=s)}},viewQuery:function(e,i){if(1&e&&o.Gf(OR,5),2&e){let r;o.iGM(r=o.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[o._Bn([{provide:A6,useExisting:n}])],ngContentSelectors:kde,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(o.F$t(Fde),o.YNc(0,Mde,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,Bde,2,0,"mat-drawer-content",1)),2&e&&(o.Q6J("ngIf",i.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!i._content))},dependencies:[Si,OR],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),f6=(()=>{class n extends OR{constructor(e,i,r,s,a){super(e,i,r,s,a)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>PK)),o.Y36(o.SBq),o.Y36(WD),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&o.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[o._Bn([{provide:YD,useExisting:n}]),o.qOj],ngContentSelectors:RR,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),LK=(()=>{class n extends RK{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=mi(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=zc(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=zc(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(o.uIk("align",null),o.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),o.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[o.qOj],ngContentSelectors:RR,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0,1),o.Hsn(2),o.qZA())},dependencies:[YD],encapsulation:2,data:{animation:[kK.transformDrawer]},changeDetection:0}),n})(),PK=(()=>{class n extends OK{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,f6,5),o.Suo(r,LK,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._content=s.first),o.iGM(s=o.CRH())&&(i._allDrawers=s)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[o._Bn([{provide:A6,useExisting:n}]),o.qOj],ngContentSelectors:Pde,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(o.F$t(Lde),o.YNc(0,Rde,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,Ode,2,0,"mat-sidenav-content",1)),2&e&&(o.Q6J("ngIf",i.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!i._content))},dependencies:[Si,f6],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),Qde=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Us,dr,Gx,Gx,dr]}),n})(),HT=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=mi(e)}get inset(){return this._inset}set inset(e){this._inset=mi(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),o.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),Vde=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[dr,dr]}),n})();function NK(n){for(let t in n){let e=n[t]??"";switch(t){case"display":n.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+t]=e;break;case"flex-direction":n["-webkit-flex-direction"]=e,n["flex-direction"]=e;break;case"order":n.order=n["-webkit-"+t]=isNaN(+e)?"0":e}}return n}const p6="inline",LR=["row","column","row-reverse","column-reverse"];function UK(n){let[t,e,i]=HK(n);return function zde(n,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":t||null}}(t,e,i)}function HK(n){n=n?.toLowerCase()??"";let[t,e,i]=n.split(" ");return LR.find(r=>r===t)||(t=LR[0]),e===p6&&(e=i!==p6?i:"",i=p6),[t,jde(e),!!i]}function QT(n){let[t]=HK(n);return t.indexOf("row")>-1}function jde(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function Py(n,...t){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}const qde={provide:o.tb,useFactory:function Gde(n,t){return()=>{if(Zl(t)){const e=Array.from(n.querySelectorAll(`[class*=${QK}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(r=>{r.classList.contains(`${QK}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[Ze,o.Lbi],multi:!0},QK="flex-layout-";let g6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[qde]}),n})();class CC{constructor(t=!1,e="all",i="",r="",s=0){this.matches=t,this.mediaQuery=e,this.mqAlias=i,this.suffix=r,this.priority=s,this.property=""}clone(){return new CC(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let Kde=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(e,i,r){const s=this.stylesheet.get(e);s?s.set(i,r):this.stylesheet.set(e,new Map([[i,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,i){const r=this.stylesheet.get(e);let s="";if(r){const a=r.get(i);("number"==typeof a||"string"==typeof a)&&(s=a+"")}return s}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const m6={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Vp=new o.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>m6}),hS=new o.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),_6=new o.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function VK(n,t){return n=n?.clone()??new CC,t&&(n.mqAlias=t.alias,n.mediaQuery=t.mediaQuery,n.suffix=t.suffix,n.priority=t.priority),n}class Ta{constructor(){this.shouldCache=!0}sideEffect(t,e,i){}}let ko=(()=>{class n{constructor(e,i,r,s){this._serverStylesheet=e,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=s}applyStyleToElement(e,i,r=null){let s={};"string"==typeof i&&(s[i]=r,i=s),s=this.layoutConfig.disableVendorPrefixes?i:NK(i),this._applyMultiValueStyleToElement(s,e)}applyStyleToElements(e,i=[]){const r=this.layoutConfig.disableVendorPrefixes?e:NK(e);i.forEach(s=>{this._applyMultiValueStyleToElement(r,s)})}getFlowDirection(e){const i="flex-direction";let r=this.lookupStyle(e,i);return[r||"row",this.lookupInlineStyle(e,i)||Ca(this._platformId)&&this._serverModuleLoaded?r:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,i){return e.getAttribute(i)??""}lookupInlineStyle(e,i){return Zl(this._platformId)?e.style.getPropertyValue(i):function Zde(n,t){return jK(n)[t]??""}(e,i)}lookupStyle(e,i,r=!1){let s="";return e&&((s=this.lookupInlineStyle(e,i))||(Zl(this._platformId)?r||(s=getComputedStyle(e).getPropertyValue(i)):this._serverModuleLoaded&&(s=this._serverStylesheet.getStyleForElement(e,i)))),s?s.trim():""}_applyMultiValueStyleToElement(e,i){Object.keys(e).sort().forEach(r=>{const s=e[r],a=Array.isArray(s)?s:[s];a.sort();for(let l of a)l=l?l+"":"",Zl(this._platformId)||!this._serverModuleLoaded?Zl(this._platformId)?i.style.setProperty(r,l):Wde(i,r,l):this._serverStylesheet.addStyleToElement(i,r,l)})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Kde),o.LFG(hS),o.LFG(o.Lbi),o.LFG(Vp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Wde(n,t,e){t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=jK(n);i[t]=e??"",function Yde(n,t){let e="";for(const i in t)t[i]&&(e+=`${i}:${t[i]};`);n.setAttribute("style",e)}(n,i)}function jK(n){const t={},e=n.getAttribute("style");if(e){const i=e.split(/;+/g);for(let r=0;r<i.length;r++){const s=i[r].trim();if(s.length>0){const a=s.indexOf(":");if(-1===a)throw new Error(`Invalid CSS style: ${s}`);t[s.substr(0,a).trim()]=s.substr(a+1).trim()}}}return t}function VT(n,t){return(t&&t.priority||0)-(n&&n.priority||0)}function $de(n,t){return(n.priority||0)-(t.priority||0)}let y6=(()=>{class n{constructor(e,i,r){this._zone=e,this._platformId=i,this._document=r,this.source=new Ui(new CC(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((i,r)=>{i.matches&&e.push(r)}),e}isActive(e){return this.registry.get(e)?.matches??this.registerQuery(e).some(r=>r.matches)}observe(e,i=!1){if(e&&e.length){const r=this._observable$.pipe(gr(a=>!i||e.indexOf(a.mediaQuery)>-1)),s=new rs.y(a=>{const l=this.registerQuery(e);if(l.length){const d=l.pop();l.forEach(A=>{a.next(A)}),this.source.next(d)}a.complete()});return(0,vu.T)(s,r)}return this._observable$}registerQuery(e){const i=Array.isArray(e)?e:[e],r=[];return function Jde(n,t){const e=n.filter(i=>!zK[i]);if(e.length>0){const i=e.join(", ");try{const r=t.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),t.head.appendChild(r),e.forEach(s=>zK[s]=r)}catch(r){console.error(r)}}}(i,this._document),i.forEach(s=>{const a=d=>{this._zone.run(()=>this.source.next(new CC(d.matches,s)))};let l=this.registry.get(s);l||(l=this.buildMQL(s),l.addListener(a),this.pendingRemoveListenerFns.push(()=>l.removeListener(a)),this.registry.set(s,l)),l.matches&&r.push(new CC(!0,s))}),r}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function ehe(n,t){return t&&window.matchMedia("all").addListener?window.matchMedia(n):function Xde(n){const t=new EventTarget;return t.matches="all"===n||""===n,t.media=n,t.addListener=()=>{},t.removeListener=()=>{},t.addEventListener=()=>{},t.dispatchEvent=()=>!1,t.onchange=null,t}(n)}(e,Zl(this._platformId))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(o.Lbi),o.LFG(Ze))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zK={},the=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],GK="(orientation: portrait) and (max-width: 599.98px)",qK="(orientation: landscape) and (max-width: 959.98px)",KK="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",ZK="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",WK="(orientation: portrait) and (min-width: 840px)",YK="(orientation: landscape) and (min-width: 1280px)",Ny={HANDSET:`${GK}, ${qK}`,TABLET:`${KK} , ${ZK}`,WEB:`${WK}, ${YK} `,HANDSET_PORTRAIT:`${GK}`,TABLET_PORTRAIT:`${KK} `,WEB_PORTRAIT:`${WK}`,HANDSET_LANDSCAPE:`${qK}`,TABLET_LANDSCAPE:`${ZK}`,WEB_LANDSCAPE:`${YK}`},nhe=[{alias:"handset",priority:2e3,mediaQuery:Ny.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:Ny.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:Ny.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:Ny.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:Ny.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:Ny.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:Ny.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:Ny.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:Ny.WEB_PORTRAIT,overlapping:!0}],ihe=/(\.|-|_)/g;function rhe(n){let t=n.length>0?n.charAt(0):"",e=n.length>1?n.slice(1):"";return t.toUpperCase()+e}const lhe=new o.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=(0,o.f3M)(_6),t=(0,o.f3M)(Vp),e=[].concat.apply([],(n||[]).map(r=>Array.isArray(r)?r:[r]));return function ahe(n,t=[]){const e={};return n.forEach(i=>{e[i.alias]=i}),t.forEach(i=>{e[i.alias]?Py(e[i.alias],i):e[i.alias]=i}),function ohe(n){return n.forEach(t=>{t.suffix||(t.suffix=function she(n){return n.replace(ihe,"|").split("|").map(rhe).join("")}(t.alias),t.overlapping=!!t.overlapping)}),n}(Object.keys(e).map(i=>e[i]))}((t.disableDefaultBps?[]:the).concat(t.addOrientationBps?nhe:[]),e)}});let v6=(()=>{class n{constructor(e){this.findByMap=new Map,this.items=[...e].sort($de)}findByAlias(e){return e?this.findWithPredicate(e,i=>i.alias===e):null}findByQuery(e){return this.findWithPredicate(e,i=>i.mediaQuery===e)}get overlappings(){return this.items.filter(e=>e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e?.suffix??"")}findWithPredicate(e,i){let r=this.findByMap.get(e);return r||(r=this.items.find(i)??null,this.findByMap.set(e,r)),r??null}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(lhe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AS="print",che={alias:AS,mediaQuery:AS,priority:1e3};let uhe=(()=>{class n{constructor(e,i,r){this.breakpoints=e,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new dhe,this.deactivations=[]}withPrintQuery(e){return[...e,AS]}isPrintEvent(e){return e.mediaQuery.startsWith(AS)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const i=this.breakpoints.findByQuery(e);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(VT)}updateEvent(e){let i=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(i=this.getEventBreakpoints(e)[0],e.mediaQuery=i?.mediaQuery??""),VK(e,i)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new CC(!0,AS))),e.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(r)}interceptEvents(e){return i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(i)),e.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(e,i)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,i){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(e,i){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!i.matches){const r=this.breakpoints.findByQuery(i.mediaQuery);if(r){const s=this.formerActivations&&this.formerActivations.includes(r),a=!this.formerActivations&&e.activatedBreakpoints.includes(r);(s||a)&&(this.deactivations.push(r),this.deactivations.sort(VT))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(v6),o.LFG(Vp),o.LFG(Ze))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class dhe{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(che),t.sort(VT),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function hhe(n){return n?.mediaQuery.startsWith(AS)??!1}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}let Yo=(()=>{class n{constructor(e,i,r){this.matchMedia=e,this.breakpoints=i,this.hook=r,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new tn.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(e){this._activatedBreakpoints=[...e]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(e){this._useFallbacks=e}onMediaChange(e){const i=this.findByQuery(e.mediaQuery);if(i){e=VK(e,i);const r=this.activatedBreakpoints.indexOf(i);e.matches&&-1===r?(this._activatedBreakpoints.push(i),this._activatedBreakpoints.sort(VT),this.updateStyles()):!e.matches&&-1!==r&&(this._activatedBreakpoints.splice(r,1),this._activatedBreakpoints.sort(VT),this.updateStyles())}}init(e,i,r,s,a=[]){$K(this.updateMap,e,i,r),$K(this.clearMap,e,i,s),this.buildElementKeyMap(e,i),this.watchExtraTriggers(e,i,a)}getValue(e,i,r){const s=this.elementMap.get(e);if(s){const a=void 0!==r?s.get(r):this.getActivatedValues(s,i);if(a)return a.get(i)}}hasValue(e,i){const r=this.elementMap.get(e);if(r){const s=this.getActivatedValues(r,i);if(s)return void 0!==s.get(i)||!1}return!1}setValue(e,i,r,s){let a=this.elementMap.get(e);if(a){const d=(a.get(s)??new Map).set(i,r);a.set(s,d),this.elementMap.set(e,a)}else a=(new Map).set(s,(new Map).set(i,r)),this.elementMap.set(e,a);const l=this.getValue(e,i);void 0!==l&&this.updateElement(e,i,l)}trackValue(e,i){return this.subject.asObservable().pipe(gr(r=>r.element===e&&r.key===i))}updateStyles(){this.elementMap.forEach((e,i)=>{const r=new Set(this.elementKeyMap.get(i));let s=this.getActivatedValues(e);s&&s.forEach((a,l)=>{this.updateElement(i,l,a),r.delete(l)}),r.forEach(a=>{if(s=this.getActivatedValues(e,a),s){const l=s.get(a);this.updateElement(i,a,l)}else this.clearElement(i,a)})})}clearElement(e,i){const r=this.clearMap.get(e);if(r){const s=r.get(i);s&&(s(),this.subject.next({element:e,key:i,value:""}))}}updateElement(e,i,r){const s=this.updateMap.get(e);if(s){const a=s.get(i);a&&(a(r),this.subject.next({element:e,key:i,value:r}))}}releaseElement(e){const i=this.watcherMap.get(e);i&&(i.forEach(s=>s.unsubscribe()),this.watcherMap.delete(e));const r=this.elementMap.get(e);r&&(r.forEach((s,a)=>r.delete(a)),this.elementMap.delete(e))}triggerUpdate(e,i){const r=this.elementMap.get(e);if(r){const s=this.getActivatedValues(r,i);s&&(i?this.updateElement(e,i,s.get(i)):s.forEach((a,l)=>this.updateElement(e,l,a)))}}buildElementKeyMap(e,i){let r=this.elementKeyMap.get(e);r||(r=new Set,this.elementKeyMap.set(e,r)),r.add(i)}watchExtraTriggers(e,i,r){if(r&&r.length){let s=this.watcherMap.get(e);if(s||(s=new Map,this.watcherMap.set(e,s)),!s.get(i)){const l=(0,vu.T)(...r).subscribe(()=>{const d=this.getValue(e,i);this.updateElement(e,i,d)});s.set(i,l)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,i){for(let s=0;s<this.activatedBreakpoints.length;s++){const l=e.get(this.activatedBreakpoints[s].alias);if(l&&(void 0===i||l.has(i)&&null!=l.get(i)))return l}if(!this._useFallbacks)return;const r=e.get("");return void 0===i||r&&r.has(i)?r:void 0}observeActivations(){const e=this.breakpoints.items.map(i=>i.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe((0,Vs.b)(this.hook.interceptEvents(this)),gr(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(y6),o.LFG(v6),o.LFG(uhe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $K(n,t,e,i){if(void 0!==i){const r=n.get(t)??new Map;r.set(e,i),n.set(t,r)}}let ga=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.styleBuilder=i,this.styler=r,this.marshal=s,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new tn.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split(".").slice(1).join(".");this.setValue(e[i].currentValue,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,i){const r=this.styleBuilder,s=r.shouldCache;let a=this.styleCache.get(e);(!a||!s)&&(a=r.buildStyles(e,i),s&&this.styleCache.set(e,a)),this.mru={...a},this.applyStyleToElement(a),r.sideEffect(e,a,i)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,i=!1){if(e){const[r,s]=this.styler.getFlowDirection(e);if(!s&&i){const a=UK(r);this.styler.applyStyleToElements(a,[e])}return r.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,i,r=this.nativeElement){this.styler.applyStyleToElement(r,e,i)}setValue(e,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,i)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Ta),o.Y36(ko),o.Y36(Yo))},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();class fhe extends EventTarget{constructor(t){super(),this._mediaQuery=t,this._isActive=!1,this._listeners=[],this.onchange=null}get matches(){return this._isActive}get media(){return this._mediaQuery}destroy(){this.deactivate(),this._listeners=[]}activate(){return this._isActive||(this._isActive=!0,this._listeners.forEach(t=>{t.call(this,{matches:this.matches,media:this.media})})),this}deactivate(){return this._isActive&&(this._isActive=!1,this._listeners.forEach(t=>{t.call(this,{matches:this.matches,media:this.media})})),this}addListener(t){-1===this._listeners.indexOf(t)&&this._listeners.push(t),this._isActive&&t.call(this,{matches:this.matches,media:this.media})}removeListener(t){}dispatchEvent(t){return!1}}function JK(n,t="1",e="1"){let i=[t,e,n],r=n.indexOf("calc");if(r>0){i[2]=XK(n.substring(r).trim());let s=n.substr(0,r).trim().split(" ");2==s.length&&(i[0]=s[0],i[1]=s[1])}else if(0==r)i[2]=XK(n.trim());else{let s=n.split(" ");i=3===s.length?s:[t,e,n]}return i}function XK(n){return n.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}let phe=(()=>{class n extends Ta{buildStyles(e,{display:i}){const r=UK(e);return{...r,display:"none"===i?i:r.display}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ghe=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let mhe=(()=>{class n extends ga{constructor(e,i,r,s,a){super(e,r,i,s),this._config=a,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(e){const r=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=tZ.get(r)??new Map,tZ.set(r,this.styleCache),this.currentValue!==e&&(this.addStyles(e,{display:r}),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(ko),o.Y36(phe),o.Y36(Yo),o.Y36(Vp))},n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})(),fc=(()=>{class n extends mhe{constructor(){super(...arguments),this.inputs=ghe}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[o.qOj]}),n})();const tZ=new Map;let The=(()=>{class n extends Ta{constructor(e){super(),this.layoutConfig=e}buildStyles(e,i){let[r,s,...a]=e.split(" "),l=a.join(" ");const d=i.direction.indexOf("column")>-1?"column":"row",A=QT(d)?"max-width":"max-height",p=QT(d)?"min-width":"min-height",_=String(l).indexOf("calc")>-1,x=_||"auto"===l,C=String(l).indexOf("%")>-1&&!_,F=String(l).indexOf("px")>-1||String(l).indexOf("rem")>-1||String(l).indexOf("em")>-1||String(l).indexOf("vw")>-1||String(l).indexOf("vh")>-1;let R=_||F;r="0"==r?0:r,s="0"==s?0:s;const U=!r&&!s;let Q={};const K={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(l||""){case"":const ie=!1!==this.layoutConfig.useColumnBasisZero;l="row"===d?"0%":ie?"0.000000001px":"auto";break;case"initial":case"nogrow":r=0,l="auto";break;case"grow":l="100%";break;case"noshrink":s=0,l="auto";break;case"auto":break;case"none":r=0,s=0,l="auto";break;default:!R&&!C&&!isNaN(l)&&(l+="%"),"0%"===l&&(R=!0),"0px"===l&&(l="0%"),Q=Py(K,_?{"flex-grow":r,"flex-shrink":s,"flex-basis":R?l:"100%"}:{flex:`${r} ${s} ${R?l:"100%"}`})}return Q.flex||Q["flex-grow"]||(Q=Py(K,_?{"flex-grow":r,"flex-shrink":s,"flex-basis":l}:{flex:`${r} ${s} ${l}`})),"0%"!==l&&"0px"!==l&&"0.000000001px"!==l&&"auto"!==l&&(Q[p]=U||R&&r?l:null,Q[A]=U||!x&&s?l:null),Q[p]||Q[A]?i.hasWrap&&(Q[_?"flex-basis":"flex"]=Q[A]?_?Q[A]:`${r} ${s} ${Q[A]}`:_?Q[p]:`${r} ${s} ${Q[p]}`):Q=Py(K,_?{"flex-grow":r,"flex-shrink":s,"flex-basis":l}:{flex:`${r} ${s} ${l}`}),Py(Q,{"box-sizing":"border-box"})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Vp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mhe=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let Bhe=(()=>{class n extends ga{constructor(e,i,r,s,a){super(e,s,i,a),this.layoutConfig=r,this.marshal=a,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(e){this.flexShrink=e||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(e){this.flexGrow=e||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(Wi(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(Wi(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(e){const r=e.value.split(" ");this.direction=r[0],this.wrap=void 0!==r[1]&&"wrap"===r[1],this.triggerUpdate()}updateWithValue(e){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const r=this.direction,s=r.startsWith("row"),a=this.wrap;s&&a?this.styleCache=Rhe:s&&!a?this.styleCache=Fhe:!s&&a?this.styleCache=Ohe:!s&&!a&&(this.styleCache=khe);const d=JK(String(e).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(d.join(" "),{direction:r,hasWrap:a})}triggerReflow(){const e=this.activatedValue;if(void 0!==e){const i=JK(e+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,i.join(" "))}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(ko),o.Y36(Vp),o.Y36(The),o.Y36(Yo))},n.\u0275dir=o.lG2({type:n,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[o.qOj]}),n})(),il=(()=>{class n extends Bhe{constructor(){super(...arguments),this.inputs=Mhe}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[o.qOj]}),n})();const Fhe=new Map,khe=new Map,Rhe=new Map,Ohe=new Map;let rAe=(()=>{class n extends Ta{buildStyles(e,i){const r={},[s,a]=e.split(" ");switch(s){case"center":r["justify-content"]="center";break;case"space-around":r["justify-content"]="space-around";break;case"space-between":r["justify-content"]="space-between";break;case"space-evenly":r["justify-content"]="space-evenly";break;case"end":case"flex-end":r["justify-content"]="flex-end";break;default:r["justify-content"]="flex-start"}switch(a){case"start":case"flex-start":r["align-items"]=r["align-content"]="flex-start";break;case"center":r["align-items"]=r["align-content"]="center";break;case"end":case"flex-end":r["align-items"]=r["align-content"]="flex-end";break;case"space-between":r["align-content"]="space-between",r["align-items"]="stretch";break;case"space-around":r["align-content"]="space-around",r["align-items"]="stretch";break;case"baseline":r["align-content"]="stretch",r["align-items"]="baseline";break;default:r["align-items"]=r["align-content"]="stretch"}return Py(r,{display:i.inline?"inline-flex":"flex","flex-direction":i.layout,"box-sizing":"border-box","max-width":"stretch"===a?QT(i.layout)?null:"100%":null,"max-height":"stretch"===a&&QT(i.layout)?"100%":null})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sAe=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let oAe=(()=>{class n extends ga{constructor(e,i,r,s){super(e,r,i,s),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(Wi(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(e){const i=this.layout||"row",r=this.inline;"row"===i&&r?this.styleCache=dAe:"row"!==i||r?"row-reverse"===i&&r?this.styleCache=AAe:"row-reverse"!==i||r?"column"===i&&r?this.styleCache=hAe:"column"!==i||r?"column-reverse"===i&&r?this.styleCache=fAe:"column-reverse"===i&&!r&&(this.styleCache=uAe):this.styleCache=lAe:this.styleCache=cAe:this.styleCache=aAe,this.addStyles(e,{layout:i,inline:r})}onLayoutChange(e){const i=e.value.split(" ");this.layout=i[0],this.inline=e.value.includes("inline"),LR.find(r=>r===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(ko),o.Y36(rAe),o.Y36(Yo))},n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})(),_d=(()=>{class n extends oAe{constructor(){super(...arguments),this.inputs=sAe}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[o.qOj]}),n})();const aAe=new Map,lAe=new Map,cAe=new Map,uAe=new Map,dAe=new Map,hAe=new Map,AAe=new Map,fAe=new Map;let rZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[g6,sC]}),n})(),vAe=(()=>{class n extends ga{constructor(e,i,r,s,a,l,d){super(e,null,i,r),this.ngClassInstance=d,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new Es(s,a,e,l)),this.init(),this.setValue("","")}set klass(e){this.ngClassInstance.klass=e,this.setValue(e,"")}updateWithValue(e){this.ngClassInstance.ngClass=e,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(ko),o.Y36(Yo),o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.Qsj),o.Y36(Es,10))},n.\u0275dir=o.lG2({type:n,inputs:{klass:["class","klass"]},features:[o.qOj]}),n})();const wAe=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let UR=(()=>{class n extends vAe{constructor(){super(...arguments),this.inputs=wAe}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[o.qOj]}),n})();class EAe{constructor(t,e,i=!0){this.key=t,this.value=e,this.key=i?t.replace(/['"]/g,"").trim():t.trim(),this.value=i?e.replace(/['"]/g,"").trim():e.trim(),this.value=this.value.replace(/;/,"")}}function sZ(n){let t=typeof n;return"object"===t?n.constructor===Array?"array":n.constructor===Set?"set":"object":t}function aZ(n){const[t,...e]=n.split(":");return new EAe(t,e.join(":"))}function lZ(n,t){return t.key&&(n[t.key]=t.value),n}let TAe=(()=>{class n extends ga{constructor(e,i,r,s,a,l,d,A,p){super(e,null,i,r),this.sanitizer=s,this.ngStyleInstance=d,this.DIRECTIVE_KEY="ngStyle",this.ngStyleInstance||(this.ngStyleInstance=new lo(e,a,l)),this.init();const _=this.nativeElement.getAttribute("style")??"";this.fallbackStyles=this.buildStyleMap(_),this.isServer=A&&Ca(p)}updateWithValue(e){const i=this.buildStyleMap(e);this.ngStyleInstance.ngStyle={...this.fallbackStyles,...i},this.isServer&&this.applyStyleToElement(i),this.ngStyleInstance.ngDoCheck()}clearStyles(){this.ngStyleInstance.ngStyle=this.fallbackStyles,this.ngStyleInstance.ngDoCheck()}buildStyleMap(e){const i=r=>this.sanitizer.sanitize(o.q3G.STYLE,r)??"";if(e)switch(sZ(e)){case"string":return cZ(function IAe(n,t=";"){return String(n).trim().split(t).map(e=>e.trim()).filter(e=>""!==e)}(e),i);case"array":return cZ(e,i);default:return function oZ(n,t){let e=[];return"set"===sZ(n)?n.forEach(i=>e.push(i)):Object.keys(n).forEach(i=>{e.push(`${i}:${n[i]}`)}),function DAe(n,t){return n.map(aZ).filter(i=>!!i).map(i=>(t&&(i.value=t(i.value)),i)).reduce(lZ,{})}(e,t)}(e,i)}return{}}ngDoCheck(){this.ngStyleInstance.ngDoCheck()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(ko),o.Y36(Yo),o.Y36(Ll),o.Y36(o.aQg),o.Y36(o.Qsj),o.Y36(lo,10),o.Y36(hS),o.Y36(o.Lbi))},n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const MAe=["ngStyle","ngStyle.xs","ngStyle.sm","ngStyle.md","ngStyle.lg","ngStyle.xl","ngStyle.lt-sm","ngStyle.lt-md","ngStyle.lt-lg","ngStyle.lt-xl","ngStyle.gt-xs","ngStyle.gt-sm","ngStyle.gt-md","ngStyle.gt-lg"];let fS=(()=>{class n extends TAe{constructor(){super(...arguments),this.inputs=MAe}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","ngStyle",""],["","ngStyle.xs",""],["","ngStyle.sm",""],["","ngStyle.md",""],["","ngStyle.lg",""],["","ngStyle.xl",""],["","ngStyle.lt-sm",""],["","ngStyle.lt-md",""],["","ngStyle.lt-lg",""],["","ngStyle.lt-xl",""],["","ngStyle.gt-xs",""],["","ngStyle.gt-sm",""],["","ngStyle.gt-md",""],["","ngStyle.gt-lg",""]],inputs:{ngStyle:"ngStyle","ngStyle.xs":"ngStyle.xs","ngStyle.sm":"ngStyle.sm","ngStyle.md":"ngStyle.md","ngStyle.lg":"ngStyle.lg","ngStyle.xl":"ngStyle.xl","ngStyle.lt-sm":"ngStyle.lt-sm","ngStyle.lt-md":"ngStyle.lt-md","ngStyle.lt-lg":"ngStyle.lt-lg","ngStyle.lt-xl":"ngStyle.lt-xl","ngStyle.gt-xs":"ngStyle.gt-xs","ngStyle.gt-sm":"ngStyle.gt-sm","ngStyle.gt-md":"ngStyle.gt-md","ngStyle.gt-lg":"ngStyle.gt-lg"},features:[o.qOj]}),n})();function cZ(n,t){return n.map(aZ).filter(i=>!!i).map(i=>(t&&(i.value=t(i.value)),i)).reduce(lZ,{})}let uZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[g6]}),n})();const BAe=["tooltip"],dZ="tooltip-panel",hZ=eb({passive:!0}),AZ=new o.OlP("mat-tooltip-scroll-strategy"),OAe={provide:AZ,deps:[gf],useFactory:function RAe(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},LAe=new o.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function PAe(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let NAe=(()=>{class n{constructor(e,i,r,s,a,l,d,A,p,_,x,C){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=a,this._platform=l,this._ariaDescriber=d,this._focusMonitor=A,this._dir=_,this._defaultOptions=x,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new tn.x,this._scrollStrategy=p,this._document=C,x&&(x.position&&(this.position=x.position),x.touchGestures&&(this.touchGestures=x.touchGestures)),_.change.pipe(Wi(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=mi(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=zc(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=zc(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Wi(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,hZ)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const i=this._createOverlay();this._detach(),this._portal=this._portal||new qx(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(Wi(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(Wi(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${dZ}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Wi(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Wi(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Wi(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&27===r.keyCode&&!Im(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...s.main}),this._addOffset({...r.fallback,...s.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:s,y:a}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:a}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:a}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,zr.q)(1),Wi(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:s}=e;let a;if(a="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",a!==this._currentPosition){const l=this._overlayRef;if(l){const d=`${this._cssClassPrefix}-${dZ}-`;l.removePanelClass(d+this._currentPosition),l.addPanelClass(d+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,hZ)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),Uy=(()=>{class n extends NAe{constructor(e,i,r,s,a,l,d,A,p,_,x,C){super(e,i,r,s,a,l,d,A,p,_,x,C),this._tooltipComponent=HAe}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(gf),o.Y36(o.SBq),o.Y36(WD),o.Y36(o.s_b),o.Y36(o.R0b),o.Y36(Fs),o.Y36(hG),o.Y36(Lp),o.Y36(AZ),o.Y36(pf,8),o.Y36(LAe,8),o.Y36(Ze))},n.\u0275dir=o.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[o.qOj]}),n})(),UAe=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new tn.x,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(i.classList.remove(e?s:r),i.classList.add(e?r:s),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const a=getComputedStyle(i);("0s"===a.getPropertyValue("animation-duration")||"none"===a.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(o.QbO,8))},n.\u0275dir=o.lG2({type:n}),n})(),HAe=(()=>{class n extends UAe{constructor(e,i,r){super(e,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(Ok),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&o.Gf(BAe,7),2&e){let r;o.iGM(r=o.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("mouseleave",function(s){return i._handleMouseLeave(s)}),2&e&&o.Udp("zoom",i.isVisible()?1:null)},features:[o.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(o.TgZ(0,"div",0,1),o.NdJ("animationend",function(s){return i._handleAnimationEnd(s)}),o.ALo(2,"async"),o._uU(3),o.qZA()),2&e){let r;o.ekj("mat-tooltip-handset",null==(r=o.lcZ(2,4,i._isHandset))?null:r.matches),o.Q6J("ngClass",i.tooltipClass),o.xp6(3),o.Oqu(i.message)}},dependencies:[Es,xd],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),n})(),fZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[OAe],imports:[CG,Us,Zx,dr,dr,Gx]}),n})(),jT=(()=>{class n{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ll,16))},n.\u0275pipe=o.Yjl({name:"safe",type:n,pure:!0}),n})();function QAe(n,t){if(1&n&&(o.O4$(),o._UZ(0,"circle",4)),2&n){const e=o.oxw(),i=o.MAs(1);o.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),o.uIk("r",e._getCircleRadius())}}function VAe(n,t){if(1&n&&(o.O4$(),o._UZ(0,"circle",4)),2&n){const e=o.oxw(),i=o.MAs(1);o.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),o.uIk("r",e._getCircleRadius())}}const zAe=F0(class{constructor(n){this._elementRef=n}},"primary"),GAe=new o.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function qAe(){return{diameter:100}}});class Hy extends zAe{constructor(t,e,i,r,s,a,l,d){super(t),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=Xs.w0.EMPTY,this.mode="determinate";const A=Hy._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),A.has(i.head)||A.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!s&&!s._forceAnimations,"mat-spinner"===t.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),s&&(s.color&&(this.color=this.defaultColor=s.color),s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth)),e.isBrowser&&e.SAFARI&&l&&a&&d&&(this._resizeSubscription=l.change(150).subscribe(()=>{"indeterminate"===this.mode&&d.run(()=>a.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=zc(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=zc(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,zc(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=QM(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){const e=50*(t.currentScale??1);return`${e}% ${e}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=Hy._diameters;let r=i.get(t);if(!r||!r.has(e)){const s=this._document.createElement("style");s.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),s.textContent=this._getAnimationText(),t.appendChild(s),r||(r=new Set,i.set(t,r)),r.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Hy._diameters=new WeakMap,Hy.\u0275fac=function(t){return new(t||Hy)(o.Y36(o.SBq),o.Y36(Fs),o.Y36(Ze,8),o.Y36(o.QbO,8),o.Y36(GAe),o.Y36(o.sBO),o.Y36(zx),o.Y36(o.R0b))},Hy.\u0275cmp=o.Xpm({type:Hy,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(o.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),o.Udp("width",e.diameter,"px")("height",e.diameter,"px"),o.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[o.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(o.O4$(),o.TgZ(0,"svg",0,1),o.YNc(2,QAe,1,11,"circle",2),o.YNc(3,VAe,1,9,"circle",3),o.qZA()),2&t&&(o.Udp("width",e.diameter,"px")("height",e.diameter,"px"),o.Q6J("ngSwitch","indeterminate"===e.mode),o.uIk("viewBox",e._getViewBox()),o.xp6(2),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1))},dependencies:[Lu,Wc],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let pZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[dr,Us,dr]}),n})(),ZAe=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-progress-spinner"]],decls:3,vars:0,consts:[[1,"overlay"],[1,"center"],["diameter","50","mode","indeterminate","color","primary"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1),o._UZ(2,"mat-progress-spinner",2),o.qZA()())},dependencies:[Hy],styles:[".center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}.overlay[_ngcontent-%COMP%]{height:100vh;width:100%;background-color:#00000049;z-index:10;top:0;left:0;position:fixed}"]}),n})();function WAe(n,t){if(1&n&&(o.TgZ(0,"a",5)(1,"mat-icon",6),o._uU(2,"home"),o.qZA()()),2&n){const e=o.oxw();o.s9C("href",e.urlIFrame,o.LSH)}}function YAe(n,t){1&n&&o._UZ(0,"app-progress-spinner")}let $Ae=(()=>{class n{constructor(e,i,r){this.sanitizer=e,this._safePipe=i,this.utils=r,this.isLoading=!1,this.safePipe=new jT(this.sanitizer),this.eventsSubscription=new Xs.w0,this.events=new rs.y,this.urlIFrame="",this.isSmartphone=!1}ngOnInit(){this.isSmartphone=this.utils.isSmartphone(),this.eventsSubscription=this.events.subscribe(e=>{const i=e.includes("alatar")?2300:1e3;this.urlIFrame=e,""!=e&&(this.isLoading=!0,setTimeout(()=>{this.isLoading=!1},i))})}ngOnDestroy(){this.eventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ll),o.Y36(jT),o.Y36(lh))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-iframe-generator"]],inputs:{events:"events"},decls:7,vars:6,consts:[["fxFlex",""],["fxFlex","",1,"content","mat-elevation-z8",2,"overflow","hidden"],["target","_blank","mat-icon-button","","color","primary","class","vaiAlSito",3,"href",4,"ngIf"],[4,"ngIf"],["frameBorder","0",1,"iframe",3,"hidden","src"],["target","_blank","mat-icon-button","","color","primary",1,"vaiAlSito",3,"href"],["matTooltip","Vai al sito"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",0),o.YNc(3,WAe,3,1,"a",2),o.qZA(),o.YNc(4,YAe,1,0,"app-progress-spinner",3),o._UZ(5,"iframe",4),o.ALo(6,"safe"),o.qZA()()),2&e&&(o.xp6(3),o.Q6J("ngIf",""!==i.urlIFrame&&!i.isLoading),o.xp6(1),o.Q6J("ngIf",i.isLoading),o.xp6(1),o.Q6J("hidden",""!=i.urlIFrame&&i.isLoading)("src",o.lcZ(6,4,i.urlIFrame),o.uOi))},dependencies:[Si,Qp,NG,il,Uy,ZAe,jT],styles:[".iframe[_ngcontent-%COMP%]{width:100%;height:100%;border:unset;border:none;border-radius:10px}.content[_ngcontent-%COMP%]{height:calc(100vh - 130px);border-radius:10px;margin:16px 16px 16px 32px;padding:4px;overflow:auto;position:relative}.vaiAlSito[_ngcontent-%COMP%]{position:absolute;bottom:0;margin:20px;max-width:100%;line-height:.4em;padding:1.1em .75em;display:flex;flex-direction:column}"]}),n})(),JAe=(()=>{class n{constructor(e,i){this.sanitizer=e,this._safePipe=i,this.eventsSubscription=new Xs.w0,this.iFrameEmitter=new tn.x,this.events=new rs.y,this.url=""}ngOnInit(){this.eventsSubscription=this.events.subscribe(e=>{this.url=e,this.iFrameEmitter.next(e)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ll),o.Y36(jT))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-home"]],inputs:{events:"events"},decls:2,vars:1,consts:[[3,"events"]],template:function(e,i){1&e&&(o.TgZ(0,"mat-sidenav-content"),o._UZ(1,"app-iframe-generator",0),o.qZA()),2&e&&(o.xp6(1),o.Q6J("events",i.iFrameEmitter.asObservable()))},dependencies:[f6,$Ae]}),n})();function XAe(n,t){1&n&&(o.TgZ(0,"mat-icon"),o._uU(1," menu "),o.qZA())}function efe(n,t){1&n&&(o.TgZ(0,"mat-icon"),o._uU(1," close "),o.qZA())}function tfe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",18),o.NdJ("click",function(){o.CHM(e),o.oxw();const r=o.MAs(13);return o.KtG(r.toggle())}),o.YNc(1,XAe,2,0,"mat-icon",17),o.YNc(2,efe,2,0,"mat-icon",17),o.qZA()}if(2&n){o.oxw();const e=o.MAs(13);o.xp6(1),o.Q6J("ngIf",!e.opened),o.xp6(1),o.Q6J("ngIf",e.opened)}}const nfe=function(){return{"margin-right":"6vw"}},ife=function(){return{"":""}};function rfe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",19),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.goAdmin())}),o.TgZ(1,"span",20)(2,"mat-icon",21),o._uU(3,"admin_panel_settings"),o.qZA()()()}if(2&n){const e=o.oxw();o.Q6J("ngStyle",e.isSmartphone?o.DdM(1,nfe):o.DdM(2,ife))}}function sfe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",22),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.openLogin())}),o.TgZ(1,"span",23),o._uU(2,"discord"),o.qZA()()}}function ofe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",24),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.logOut())}),o.TgZ(1,"span",20),o._uU(2," person_off "),o.qZA()()}}function afe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",25),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.MAs(13).toggle(),o.KtG(r.boolHome=!1)}),o.TgZ(1,"mat-icon"),o._uU(2,"help"),o.qZA(),o.TgZ(3,"span"),o._uU(4,"Help"),o.qZA()()}}function lfe(n,t){if(1&n&&o._UZ(0,"app-home",26),2&n){const e=o.oxw();o.Q6J("events",e.iFrameEmitter.asObservable())}}function cfe(n,t){1&n&&o._UZ(0,"router-outlet")}let hfe=(()=>{class n{constructor(e,i,r,s,a){this.service=e,this.UserService=i,this.dialog=r,this.router=s,this.utils=a,this.iFrameEmitter=new tn.x,this.boolHome=!1,this.class=new Array,this.develop=!1,this.isLoggedIn=!1,this.isRegnante=!1,this.isSmartphone=!1}ngOnInit(){const e=se(7986);this.develop=e.develop,this.UserService.isLoggedInObs.subscribe(i=>{this.isLoggedIn=i}),this.regnanteIn(),this.isSmartphone=this.utils.isSmartphone()}goChild(e){this.boolHome=!0,setTimeout(()=>{this.iFrameEmitter.next(e)},100)}openLogin(){localStorage.setItem("lastUrl",this.router.url),window.location.href=this.develop?"https://discord.com/api/oauth2/authorize?client_id=960448858926768148&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2F&response_type=code&scope=identify%20connections%20guilds":"https://discord.com/api/oauth2/authorize?client_id=1106594210242625579&redirect_uri=https%3A%2F%2Ffabiodagostino.github.io%2Frot%2F&response_type=code&scope=identify%20connections%20guilds"}logOut(){this.UserService.logout()}goAdmin(){this.router.navigate(["/admin"])}regnanteIn(){this.UserService.isRegnanteInObs.subscribe(e=>{console.log(e),this.isRegnante=e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(j0),o.Y36(gd),o.Y36(Ly),o.Y36(os),o.Y36(lh))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-menu-bar"]],decls:45,vars:7,consts:[[1,"mat-elevation-z8"],["mat-icon-button","",3,"click",4,"ngIf"],["routerLink","/",1,"material-icons","ank",2,"color","rgb(255, 210, 48)","font-size","56px","-webkit-text-stroke-width","0px",3,"click"],["fxFlex","96"],["mat-icon-button","","fxFlex","4","matTooltip","Admin",3,"ngStyle","click",4,"ngIf"],["mat-icon-button","","fxFlex","4","matTooltip","Login",3,"click",4,"ngIf"],["mat-icon-button","","fxFlex","4","matTooltip","Logout",3,"click",4,"ngIf"],["sidenav","matSidenav"],[1,"name"],["mat-raised-button","","routerLink","/",1,"but",3,"click"],["mat-raised-button","","routerLink","/schedaPersonaggio",1,"but",3,"click"],["mat-raised-button","","routerLink","/bacheca",1,"but",3,"click"],["mat-raised-button","","routerLink","/macro",1,"but",3,"click"],["mat-raised-button","","routerLink","/news",1,"menu-button",3,"click"],["mat-raised-button","","class","menu-button","routerLink","/help",3,"click",4,"ngIf"],["mat-raised-button","","routerLink","/credits",1,"menu-button",3,"click"],[3,"events",4,"ngIf"],[4,"ngIf"],["mat-icon-button","",3,"click"],["mat-icon-button","","fxFlex","4","matTooltip","Admin",3,"ngStyle","click"],[1,"material-symbols-outlined"],[2,"color","gold"],["mat-icon-button","","fxFlex","4","matTooltip","Login",3,"click"],[1,"material-icons"],["mat-icon-button","","fxFlex","4","matTooltip","Logout",3,"click"],["mat-raised-button","","routerLink","/help",1,"menu-button",3,"click"],[3,"events"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"mat-toolbar",0),o.YNc(1,tfe,3,2,"button",1),o._uU(2," \xa0\n"),o.TgZ(3,"span",2),o.NdJ("click",function(){return i.boolHome=!1}),o._uU(4,"anchor"),o.qZA(),o._uU(5,"\n\xa0\n"),o.TgZ(6,"div",3),o._uU(7," Rotiniel Tools\n"),o.qZA(),o.YNc(8,rfe,4,3,"button",4),o.YNc(9,sfe,3,0,"button",5),o.YNc(10,ofe,3,0,"button",6),o.qZA(),o.TgZ(11,"mat-sidenav-container")(12,"mat-sidenav",0,7)(14,"h4",8),o._uU(15,"Tools"),o.qZA(),o._UZ(16,"mat-divider"),o.TgZ(17,"a",9),o.NdJ("click",function(){o.CHM(r);const a=o.MAs(13);return i.goChild("https://bitmed.github.io/tmarmor/"),o.KtG(a.toggle())}),o._uU(18,"Infondere armature"),o.qZA(),o.TgZ(19,"a",9),o.NdJ("click",function(){o.CHM(r);const a=o.MAs(13);return i.goChild("https://bitmed.github.io/tmenchant/"),o.KtG(a.toggle())}),o._uU(20,"TM Enchant"),o.qZA(),o.TgZ(21,"a",9),o.NdJ("click",function(){o.CHM(r);const a=o.MAs(13);return i.goChild("https://alatarl.github.io/CalendarioTM/"),o.KtG(a.toggle())}),o._uU(22,"Calendario TM"),o.qZA(),o.TgZ(23,"a",9),o.NdJ("click",function(){o.CHM(r);const a=o.MAs(13);return i.goChild("https://alatarl.github.io/ElficoTM/"),o.KtG(a.toggle())}),o._uU(24,"Dizionario elfico"),o.qZA(),o.TgZ(25,"a",10),o.NdJ("click",function(){return o.CHM(r),o.MAs(13).toggle(),o.KtG(i.boolHome=!1)}),o._uU(26,"Scheda personaggio"),o.qZA(),o.TgZ(27,"a",11),o.NdJ("click",function(){return o.CHM(r),o.MAs(13).toggle(),o.KtG(i.boolHome=!1)}),o._uU(28,"Paginazione Bacheche"),o.qZA(),o.TgZ(29,"a",12),o.NdJ("click",function(){return o.CHM(r),o.MAs(13).toggle(),o.KtG(i.boolHome=!1)}),o._uU(30,"Macro Utili"),o.qZA(),o._UZ(31,"mat-divider"),o.TgZ(32,"button",13),o.NdJ("click",function(){return o.CHM(r),o.MAs(13).toggle(),o.KtG(i.boolHome=!1)}),o.TgZ(33,"mat-icon"),o._uU(34,"newspaper"),o.qZA(),o.TgZ(35,"span"),o._uU(36,"News"),o.qZA()(),o.YNc(37,afe,5,0,"button",14),o.TgZ(38,"button",15),o.NdJ("click",function(){return o.CHM(r),o.MAs(13).toggle(),o.KtG(i.boolHome=!1)}),o.TgZ(39,"mat-icon"),o._uU(40,"info"),o.qZA(),o.TgZ(41,"span"),o._uU(42,"Credits"),o.qZA()()(),o.YNc(43,lfe,1,1,"app-home",16),o.YNc(44,cfe,1,0,"router-outlet",17),o.qZA()}if(2&e){const r=o.MAs(13);o.xp6(1),o.Q6J("ngIf","over"===r.mode),o.xp6(7),o.Q6J("ngIf",i.isRegnante),o.xp6(1),o.Q6J("ngIf",!i.isLoggedIn),o.xp6(1),o.Q6J("ngIf",i.isLoggedIn),o.xp6(27),o.Q6J("ngIf",i.isLoggedIn),o.xp6(6),o.Q6J("ngIf",i.boolHome),o.xp6(1),o.Q6J("ngIf",!i.boolHome)}},dependencies:[Si,lo,nA,Xg,xK,Qp,LK,PK,HT,wu,NG,il,fS,Uy,JAe],styles:["mat-toolbar[_ngcontent-%COMP%]{background:#004a9f;color:#fff}mat-sidenav[_ngcontent-%COMP%]{width:250px;margin:3px;border-right:none;background:#002b5c;color:#fff;border-radius:10px;padding:16px;text-align:center}.content[_ngcontent-%COMP%]{height:calc(100vh - 130px);border-radius:10px;margin:16px 16px 16px 32px;padding:4px;overflow:auto}mat-sidenav-container[_ngcontent-%COMP%]{height:calc(100vh - 87px)}.menu-button[_ngcontent-%COMP%]{width:90%;margin:7px;display:flex;align-items:center;justify-content:flex-start;font-size:1rem}.avatar[_ngcontent-%COMP%]{margin-top:16px;width:100px;height:100px;border-radius:50%}mat-divider[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:16px;background-color:#ffffff80}.but[_ngcontent-%COMP%]{text-decoration:unset;background-color:#fff;width:90%;margin:7px;display:flex;align-items:center;justify-content:center;font-size:1rem;color:#004a9f;font-weight:700}.ank[_ngcontent-%COMP%]{cursor:pointer}html[_ngcontent-%COMP%]{position:relative;min-height:100%}body[_ngcontent-%COMP%]{margin-bottom:60px}.immagine[_ngcontent-%COMP%]{border:7px solid #004a9f;border-radius:3px}"]}),n})(),Afe=(()=>{class n{constructor(){this.version=""}ngOnInit(){const e=se(7986);this.version=e.version}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-footer"]],decls:5,vars:1,consts:[[1,"footer","mat-elevation-z8"],[2,"float","right","margin-right","0.5%","font-size","10px"]],template:function(e,i){1&e&&(o.TgZ(0,"footer",0)(1,"span"),o._uU(2," Rotiniel Inc. "),o.qZA(),o.TgZ(3,"span",1),o._uU(4),o.qZA()()),2&e&&(o.xp6(4),o.hij(" Version: ",i.version," "))},styles:[".footer[_ngcontent-%COMP%]{background-color:#004a9f;width:100%;line-height:22px;text-align:center;color:#fff}"]}),n})(),gZ=(()=>{class n{constructor(e){this.userService=e,this.title="newprova4"}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(gd))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(e,i){1&e&&o._UZ(0,"app-menu-bar")(1,"app-footer")},dependencies:[hfe,Afe]}),n})();const ffe=["*",[["mat-card-footer"]]],pfe=["*","mat-card-footer"],gfe=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],mfe=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let pS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),zT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),mZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),km=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:pfe,decls:2,vars:0,template:function(e,i){1&e&&(o.F$t(ffe),o.Hsn(0),o.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),GT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:mfe,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(e,i){1&e&&(o.F$t(gfe),o.Hsn(0),o.TgZ(1,"div",0),o.Hsn(2,1),o.qZA(),o.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),_fe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[dr,dr]}),n})(),yfe=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-credits"]],decls:76,vars:3,consts:[[2,"padding","2%"],["fxLayout","column","fxLayoutAlign","center center"],["fxLayout","column","fxLayoutAlign","center","fxFlex","",2,"margin","4%"],["href","https://bitmed.github.io/tmarmor/","target","_blank"],["href","https://bitmed.github.io/tmenchant/","target","_blank"],["href","https://alatarl.github.io/ElficoTM/","target","_blank"],["href","https://alatarl.github.io/CalendarioTM/","target","_blank"],[1,"material-icons","ank",2,"color","rgb(255, 210, 48)","font-size","25px","position","relative","top","6px","-webkit-text-stroke-width","0px"],["target","_blank",3,"routerLink"],["href","https://themiraclegdr.com/","target","_blank"],[2,"text-align","center"],["src","https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Octicons-mark-github.svg/900px-Octicons-mark-github.svg.png?20180806170715","width","30","height","30"],["src","https://camo.githubusercontent.com/df1439c289b9cb4558e079a9110731e666976c4f2b6ef387b8fee78ca95375dc/68747470733a2f2f696d672e69636f6e73382e636f6d2f636f6c6f722f3435322f66697265626173652e706e67","width","34","height","34"],[2,"text-align","right"],[2,"color","#004a9f"]],template:function(e,i){1&e&&(o._UZ(0,"div",0),o.TgZ(1,"div",1)(2,"mat-card",2)(3,"mat-card-header")(4,"mat-card-title"),o._uU(5," Credits "),o.qZA(),o.TgZ(6,"mat-card-subtitle"),o._uU(7," Ringraziamenti "),o.qZA()(),o.TgZ(8,"mat-card-content")(9,"ul")(10,"li")(11,"p")(12,"b"),o._uU(13,"Paperellion"),o.qZA(),o._uU(14," per "),o.TgZ(15,"a",3),o._uU(16,'"Infondere Armature"'),o.qZA(),o._uU(17," e "),o.TgZ(18,"a",4),o._uU(19,'"TM Enchant"'),o.qZA()()(),o.TgZ(20,"li")(21,"p")(22,"b"),o._uU(23,"Alatar"),o.qZA(),o._uU(24," per "),o.TgZ(25,"a",5),o._uU(26,'"Dizionario elfico"'),o.qZA(),o._uU(27," e "),o.TgZ(28,"a",6),o._uU(29,'"Calendario TM"'),o.qZA()()(),o.TgZ(30,"li")(31,"p")(32,"b"),o._uU(33,"Yoridyon"),o.qZA(),o._uU(34," per "),o.TgZ(35,"span",7),o._uU(36,"anchor"),o.qZA(),o.TgZ(37,"b"),o._uU(38," Rotiniel Tools"),o.qZA(),o._uU(39,", "),o.TgZ(40,"a",8),o._uU(41,'"Scheda Personaggio"'),o.qZA(),o._uU(42,", "),o.TgZ(43,"a",8),o._uU(44,'"Paginazione Bacheche"'),o.qZA(),o._uU(45," e "),o.TgZ(46,"a",8),o._uU(47,'"Macro Utili"'),o.qZA()()(),o.TgZ(48,"li")(49,"p"),o._uU(50,"Tutti i membri della community che hanno contribuito allo sviluppo dei tools"),o.qZA()(),o.TgZ(51,"li")(52,"p"),o._uU(53,"Lo Staff di "),o.TgZ(54,"a",9),o._uU(55,"The Miracle Shard"),o.qZA(),o._uU(56," per aver creato il gioco e averlo mantenuto attivo (e in costante aggiornamento) per oltre vent'anni"),o.qZA()(),o.TgZ(57,"li")(58,"p"),o._uU(59,"Tutti i player e gli amici di "),o.TgZ(60,"b"),o._uU(61,"Rotiniel"),o.qZA(),o._uU(62," che rendono piacevoli le ore di gioco passate assieme "),o.qZA()()(),o._UZ(63,"br"),o.TgZ(64,"div",10)(65,"b"),o._uU(66,"Powered by:"),o.qZA(),o._uU(67,"\xa0 "),o._UZ(68,"img",11),o._uU(69," \xa0"),o._UZ(70,"img",12),o.qZA(),o._UZ(71,"br")(72,"br"),o.TgZ(73,"div",13)(74,"b",14),o._uU(75,"Enjoy TM!"),o.qZA()()()()()),2&e&&(o.xp6(40),o.Q6J("routerLink","/schedaPersonaggio"),o.xp6(3),o.Q6J("routerLink","/bacheca"),o.xp6(3),o.Q6J("routerLink","/macro"))},dependencies:[Xg,fc,_d,il,km,GT,pS,zT,mZ],styles:["a[_ngcontent-%COMP%]{color:#004a9f;font-weight:700}a[_ngcontent-%COMP%]:hover{color:#000}mat-card[_ngcontent-%COMP%]{border:7px solid #004a9f;border-radius:3px}mat-card-title[_ngcontent-%COMP%]{color:#004a9f}"]}),n})(),_Z=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),xC=(()=>{class n extends _Z{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const wf=new o.OlP("NgValueAccessor"),wfe={provide:wf,useExisting:(0,o.Gpc)(()=>Qy),multi:!0},Cfe=new o.OlP("CompositionEventMode");let Qy=(()=>{class n extends _Z{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function bfe(){const n=ue()?ue().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(Cfe,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[o._Bn([wfe]),o.qOj]}),n})();function G0(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function vZ(n){return null!=n&&"number"==typeof n.length}const pc=new o.OlP("NgValidators"),q0=new o.OlP("NgAsyncValidators"),Sfe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ma{static min(t){return wZ(t)}static max(t){return function bZ(n){return t=>{if(G0(t.value)||G0(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function CZ(n){return G0(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function xZ(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function SZ(n){return G0(n.value)||Sfe.test(n.value)?null:{email:!0}}(t)}static minLength(t){return EZ(t)}static maxLength(t){return function IZ(n){return t=>vZ(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function DZ(n){if(!n)return HR;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(G0(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return RZ(t)}static composeAsync(t){return OZ(t)}}function wZ(n){return t=>{if(G0(t.value)||G0(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function EZ(n){return t=>G0(t.value)||!vZ(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}function HR(n){return null}function TZ(n){return null!=n}function MZ(n){return(0,o.QGY)(n)?(0,Xn.D)(n):n}function BZ(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function FZ(n,t){return t.map(e=>e(n))}function kZ(n){return n.map(t=>function Efe(n){return!n.validate}(t)?t:e=>t.validate(e))}function RZ(n){if(!n)return null;const t=n.filter(TZ);return 0==t.length?null:function(e){return BZ(FZ(e,t))}}function C6(n){return null!=n?RZ(kZ(n)):null}function OZ(n){if(!n)return null;const t=n.filter(TZ);return 0==t.length?null:function(e){return EK(FZ(e,t).map(MZ)).pipe((0,Xt.U)(BZ))}}function x6(n){return null!=n?OZ(kZ(n)):null}function LZ(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function PZ(n){return n._rawValidators}function NZ(n){return n._rawAsyncValidators}function S6(n){return n?Array.isArray(n)?n:[n]:[]}function QR(n,t){return Array.isArray(n)?n.includes(t):n===t}function UZ(n,t){const e=S6(t);return S6(n).forEach(r=>{QR(e,r)||e.push(r)}),e}function HZ(n,t){return S6(t).filter(e=>!QR(n,e))}class QZ{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=C6(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=x6(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class yd extends QZ{get formDirective(){return null}get path(){return null}}class Rm extends QZ{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class VZ{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let K0=(()=>{class n extends VZ{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Rm,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[o.qOj]}),n})(),jZ=(()=>{class n extends VZ{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(yd,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[o.qOj]}),n})();const qT="VALID",jR="INVALID",gS="PENDING",KT="DISABLED";function T6(n){return(zR(n)?n.validators:n)||null}function M6(n,t){return(zR(t)?t.asyncValidators:n)||null}function zR(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function GZ(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new o.vHH(1e3,"");if(!i[e])throw new o.vHH(1001,"")}function qZ(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new o.vHH(1002,"")})}class GR{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===qT}get invalid(){return this.status===jR}get pending(){return this.status==gS}get disabled(){return this.status===KT}get enabled(){return this.status!==KT}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(UZ(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(UZ(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(HZ(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(HZ(t,this._rawAsyncValidators))}hasValidator(t){return QR(this._rawValidators,t)}hasAsyncValidator(t){return QR(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=gS,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=KT,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=qT,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qT||this.status===gS)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?KT:qT}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=gS,this._hasOwnPendingAsyncValidator=!0;const e=MZ(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?KT:this.errors?jR:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gS)?gS:this._anyControlsHaveStatus(jR)?jR:qT}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){zR(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function kfe(n){return Array.isArray(n)?C6(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Rfe(n){return Array.isArray(n)?x6(n):n||null}(this._rawAsyncValidators)}}class Z0 extends GR{constructor(t,e,i){super(T6(e),M6(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){qZ(this,0,t),Object.keys(t).forEach(i=>{GZ(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class KZ extends Z0{}const mS=new o.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>qR}),qR="always";function KR(n,t){return[...t.path,n]}function ZT(n,t,e=qR){B6(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function Lfe(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&ZZ(n,t)})}(n,t),function Nfe(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Pfe(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&ZZ(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Ofe(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function ZR(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),YR(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function WR(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function B6(n,t){const e=PZ(n);null!==t.validator?n.setValidators(LZ(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=NZ(n);null!==t.asyncValidator?n.setAsyncValidators(LZ(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();WR(t._rawValidators,r),WR(t._rawAsyncValidators,r)}function YR(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=PZ(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=NZ(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return WR(t._rawValidators,i),WR(t._rawAsyncValidators,i),e}function ZZ(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function WZ(n,t){B6(n,t)}function k6(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function YZ(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function R6(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===Qy?e=s:function Qfe(n){return Object.getPrototypeOf(n.constructor)===xC}(s)?i=s:r=s}),r||i||e||null}const jfe={provide:yd,useExisting:(0,o.Gpc)(()=>YT)},WT=(()=>Promise.resolve())();let YT=(()=>{class n extends yd{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new Z0({},C6(e),x6(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){WT.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),ZT(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){WT.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){WT.then(()=>{const i=this._findContainer(e.path),r=new Z0({});WZ(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){WT.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){WT.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,YZ(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(pc,10),o.Y36(q0,10),o.Y36(mS,8))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([jfe]),o.qOj]}),n})();function $Z(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function JZ(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ls=class extends GR{constructor(t=null,e,i){super(T6(e),M6(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zR(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=JZ(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){$Z(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){$Z(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){JZ(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},qfe={provide:Rm,useExisting:(0,o.Gpc)(()=>SC)},t9=(()=>Promise.resolve())();let SC=(()=>{class n extends Rm{constructor(e,i,r,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new ls,this._registered=!1,this.update=new o.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=R6(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),k6(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ZT(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){t9.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,o.D6c)(i);t9.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?KR(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(yd,9),o.Y36(pc,10),o.Y36(q0,10),o.Y36(wf,10),o.Y36(o.sBO,8),o.Y36(mS,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([qfe]),o.qOj,o.TTD]}),n})(),n9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Kfe={provide:wf,useExisting:(0,o.Gpc)(()=>$T),multi:!0};let $T=(()=>{class n extends xC{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[o._Bn([Kfe]),o.qOj]}),n})(),i9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const O6=new o.OlP("NgModelWithFormControlWarning"),$fe={provide:Rm,useExisting:(0,o.Gpc)(()=>JT)};let JT=(()=>{class n extends Rm{constructor(e,i,r,s,a){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=a,this.update=new o.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=R6(0,r)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&ZR(i,this,!1),ZT(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}k6(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&ZR(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(o.Y36(pc,10),o.Y36(q0,10),o.Y36(wf,10),o.Y36(O6,8),o.Y36(mS,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[o._Bn([$fe]),o.qOj,o.TTD]}),n})();const Jfe={provide:yd,useExisting:(0,o.Gpc)(()=>_S)};let _S=(()=>{class n extends yd{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(YR(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return ZT(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){ZR(e.control||null,e,!1),function Vfe(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,YZ(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(ZR(i||null,e),(n=>n instanceof ls)(r)&&(ZT(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);WZ(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Ufe(n,t){return YR(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){B6(this.form,this),this._oldForm&&YR(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(pc,10),o.Y36(q0,10),o.Y36(mS,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([Jfe]),o.qOj,o.TTD]}),n})();const tpe={provide:Rm,useExisting:(0,o.Gpc)(()=>N6)};let N6=(()=>{class n extends Rm{constructor(e,i,r,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=R6(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),k6(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return KR(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(o.Y36(yd,13),o.Y36(pc,10),o.Y36(q0,10),o.Y36(wf,10),o.Y36(O6,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([tpe]),o.qOj,o.TTD]}),n})();let EC=(()=>{class n{constructor(){this._validator=HR}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):HR,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();const cpe={provide:pc,useExisting:(0,o.Gpc)(()=>Q6),multi:!0};let Q6=(()=>{class n extends EC{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>function u9(n){return"number"==typeof n?n:parseFloat(n)}(e),this.createValidator=e=>wZ(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&o.uIk("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[o._Bn([cpe]),o.qOj]}),n})();const Ape={provide:pc,useExisting:(0,o.Gpc)(()=>j6),multi:!0};let j6=(()=>{class n extends EC{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>function c9(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>EZ(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&o.uIk("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[o._Bn([Ape]),o.qOj]}),n})(),p9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[i9]}),n})(),gpe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:mS,useValue:e.callSetDisabledState??qR}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[p9]}),n})(),g9=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:O6,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:mS,useValue:e.callSetDisabledState??qR}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[p9]}),n})();class m9 extends GR{constructor(t,e,i){super(T6(e),M6(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){qZ(this,0,t),t.forEach((i,r)=>{GZ(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function _9(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let mpe=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let s={};return _9(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Z0(r,s)}record(e,i=null){const r=this._reduceControls(e);return new KZ(r,i)}control(e,i,r){let s={};return this.useNonNullable?(_9(i)?s=i:(s.validators=i,s.asyncValidators=r),new ls(e,{...s,nonNullable:!0})):new ls(e,i,r)}array(e,i,r){const s=e.map(a=>this._createControl(a));return new m9(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof ls||e instanceof GR?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:g9}),n})();const _pe=["connectionContainer"],ype=["inputContainer"],vpe=["label"];function wpe(n,t){1&n&&(o.ynx(0),o.TgZ(1,"div",14),o._UZ(2,"div",15)(3,"div",16)(4,"div",17),o.qZA(),o.TgZ(5,"div",18),o._UZ(6,"div",15)(7,"div",16)(8,"div",17),o.qZA(),o.BQk())}function bpe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",19),o.NdJ("cdkObserveContent",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.updateOutlineGap())}),o.Hsn(1,1),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function Cpe(n,t){if(1&n&&(o.ynx(0),o.Hsn(1,2),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.BQk()),2&n){const e=o.oxw(2);o.xp6(3),o.Oqu(e._control.placeholder)}}function xpe(n,t){1&n&&o.Hsn(0,3,["*ngSwitchCase","true"])}function Spe(n,t){1&n&&(o.TgZ(0,"span",23),o._uU(1," *"),o.qZA())}function Epe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"label",20,21),o.NdJ("cdkObserveContent",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.updateOutlineGap())}),o.YNc(2,Cpe,4,1,"ng-container",12),o.YNc(3,xpe,1,0,"ng-content",12),o.YNc(4,Spe,2,0,"span",22),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),o.uIk("for",e._control.id)("aria-owns",e._control.id),o.xp6(2),o.Q6J("ngSwitchCase",!1),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function Ipe(n,t){1&n&&(o.TgZ(0,"div",24),o.Hsn(1,4),o.qZA())}function Dpe(n,t){if(1&n&&(o.TgZ(0,"div",25),o._UZ(1,"span",26),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function Tpe(n,t){if(1&n&&(o.TgZ(0,"div"),o.Hsn(1,5),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState)}}function Mpe(n,t){if(1&n&&(o.TgZ(0,"div",30),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.Q6J("id",e._hintLabelId),o.xp6(1),o.Oqu(e.hintLabel)}}function Bpe(n,t){if(1&n&&(o.TgZ(0,"div",27),o.YNc(1,Mpe,2,2,"div",28),o.Hsn(2,6),o._UZ(3,"div",29),o.Hsn(4,7),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",e.hintLabel)}}const Fpe=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],kpe=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let Rpe=0;const y9=new o.OlP("MatError");let v9=(()=>{class n{constructor(e,i){this.id="mat-error-"+Rpe++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(o.$8M("aria-live"),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&o.uIk("id",i.id)},inputs:{id:"id"},features:[o._Bn([{provide:y9,useExisting:n}])]}),n})();const Ope={transitionMessages:dc("transitionMessages",[Or("enter",oi({opacity:1,transform:"translateY(0%)"})),js("void => enter",[oi({opacity:0,transform:"translateY(-5px)"}),_o("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let JR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n}),n})(),Lpe=0;const w9=new o.OlP("MatHint");let Ppe=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+Lpe++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,i){2&e&&(o.uIk("id",i.id)("align",null),o.ekj("mat-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},features:[o._Bn([{provide:w9,useExisting:n}])]}),n})(),W0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-label"]]}),n})(),Npe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const Upe=new o.OlP("MatPrefix"),b9=new o.OlP("MatSuffix");let Hpe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSuffix",""]],features:[o._Bn([{provide:b9,useExisting:n}])]}),n})(),C9=0;const Vpe=F0(class{constructor(n){this._elementRef=n}},"primary"),jpe=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),z6=new o.OlP("MatFormField");let IC=(()=>{class n extends Vpe{constructor(e,i,r,s,a,l,d){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=a,this._ngZone=l,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new tn.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+C9++,this._labelId="mat-form-field-label-"+C9++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==d,this.appearance=s?.appearance||"legacy",s&&(this._hideRequiredMarker=Boolean(s.hideRequiredMarker),s.color&&(this.color=this.defaultColor=s.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=mi(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(oa(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Wi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Wi(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,vu.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(oa(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(oa(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Wi(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,B0(this._label.nativeElement,"transitionend").pipe((0,zr.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const p=i.querySelectorAll(`${r}, ${s}`);for(let _=0;_<p.length;_++)p[_].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let a=0,l=0;const d=i.querySelectorAll(r),A=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const p=i.getBoundingClientRect();if(0===p.width&&0===p.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const _=this._getStartEnd(p),x=e.children,C=this._getStartEnd(x[0].getBoundingClientRect());let F=0;for(let R=0;R<x.length;R++)F+=x[R].offsetWidth;a=Math.abs(C-_)-5,l=F>0?.75*F+10:0}for(let p=0;p<d.length;p++)d[p].style.width=`${a}px`;for(let p=0;p<A.length;p++)A[p].style.width=`${l}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(pf,8),o.Y36(jpe,8),o.Y36(Fs),o.Y36(o.R0b),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,JR,5),o.Suo(r,JR,7),o.Suo(r,W0,5),o.Suo(r,W0,7),o.Suo(r,Npe,5),o.Suo(r,y9,5),o.Suo(r,w9,5),o.Suo(r,Upe,5),o.Suo(r,b9,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._controlNonStatic=s.first),o.iGM(s=o.CRH())&&(i._controlStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildNonStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildStatic=s.first),o.iGM(s=o.CRH())&&(i._placeholderChild=s.first),o.iGM(s=o.CRH())&&(i._errorChildren=s),o.iGM(s=o.CRH())&&(i._hintChildren=s),o.iGM(s=o.CRH())&&(i._prefixChildren=s),o.iGM(s=o.CRH())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(_pe,7),o.Gf(ype,5),o.Gf(vpe,5)),2&e){let r;o.iGM(r=o.CRH())&&(i._connectionContainerRef=r.first),o.iGM(r=o.CRH())&&(i._inputContainerRef=r.first),o.iGM(r=o.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&o.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:z6,useExisting:n}]),o.qOj],ngContentSelectors:kpe,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(o.F$t(Fpe),o.TgZ(0,"div",0)(1,"div",1,2),o.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),o.YNc(3,wpe,9,0,"ng-container",3),o.YNc(4,bpe,2,1,"div",4),o.TgZ(5,"div",5,6),o.Hsn(7),o.TgZ(8,"span",7),o.YNc(9,Epe,5,16,"label",8),o.qZA()(),o.YNc(10,Ipe,2,0,"div",9),o.qZA(),o.YNc(11,Dpe,2,4,"div",10),o.TgZ(12,"div",11),o.YNc(13,Tpe,2,1,"div",12),o.YNc(14,Bpe,5,2,"div",13),o.qZA()()),2&e&&(o.xp6(3),o.Q6J("ngIf","outline"==i.appearance),o.xp6(1),o.Q6J("ngIf",i._prefixChildren.length),o.xp6(5),o.Q6J("ngIf",i._hasFloatingLabel()),o.xp6(1),o.Q6J("ngIf",i._suffixChildren.length),o.xp6(1),o.Q6J("ngIf","outline"!=i.appearance),o.xp6(1),o.Q6J("ngSwitch",i._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},dependencies:[Si,Lu,Wc,Q3],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[Ope.transitionMessages]},changeDetection:0}),n})(),XR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Us,dr,Rk,dr]}),n})();class zpe{}function G6(n){return n&&"function"==typeof n.connect&&!(n instanceof Fc)}class S9{applyChanges(t,e,i,r,s){t.forEachOperation((a,l,d)=>{let A,p;if(null==a.previousIndex){const _=i(a,l,d);A=e.createEmbeddedView(_.templateRef,_.context,_.index),p=1}else null==d?(e.remove(l),p=3):(A=e.get(l),e.move(A,d),p=2);s&&s({context:A?.context,operation:p,record:a})})}detach(){}}class Gpe{constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new tn.x,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){if(this.compareWith){for(const e of this._selection)if(this.compareWith(e,t))return!0;return!1}return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let I9=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const XT=new o.OlP("_ViewRepeater"),qpe=["trigger"],Kpe=["panel"];function Zpe(n,t){if(1&n&&(o.TgZ(0,"span",8),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.placeholder)}}function Wpe(n,t){if(1&n&&(o.TgZ(0,"span",12),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Oqu(e.triggerValue)}}function Ype(n,t){1&n&&o.Hsn(0,0,["*ngSwitchCase","true"])}function $pe(n,t){if(1&n&&(o.TgZ(0,"span",9),o.YNc(1,Wpe,2,1,"span",10),o.YNc(2,Ype,1,0,"ng-content",11),o.qZA()),2&n){const e=o.oxw();o.Q6J("ngSwitch",!!e.customTrigger),o.xp6(2),o.Q6J("ngSwitchCase",!0)}}function Jpe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",13)(1,"div",14,15),o.NdJ("@transformPanel.done",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._handleKeydown(r))}),o.Hsn(3,1),o.qZA()()}if(2&n){const e=o.oxw();o.Q6J("@transformPanelWrap",void 0),o.xp6(1),o.Gre("mat-select-panel ",e._getPanelTheme(),""),o.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),o.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),o.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Xpe=[[["mat-select-trigger"]],"*"],ege=["mat-select-trigger","*"],D9={transformPanelWrap:dc("transformPanelWrap",[js("* => void",Gk("@transformPanel",[zk()],{optional:!0}))]),transformPanel:dc("transformPanel",[Or("void",oi({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Or("showing",oi({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Or("showing-multiple",oi({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),js("void => *",_o("120ms cubic-bezier(0, 0, 0.2, 1)")),js("* => void",_o("100ms 25ms linear",oi({opacity:0})))])};let T9=0;const B9=new o.OlP("mat-select-scroll-strategy"),rge=new o.OlP("MAT_SELECT_CONFIG"),sge={provide:B9,deps:[gf],useFactory:function ige(n){return()=>n.scrollStrategies.reposition()}};class oge{constructor(t,e){this.source=t,this.value=e}}const age=Hk(Qk(lC(EG(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new tn.x}})))),lge=new o.OlP("MatSelectTrigger");let cge=(()=>{class n extends age{constructor(e,i,r,s,a,l,d,A,p,_,x,C,F,R){super(a,s,d,A,_),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=l,this._parentFormField=p,this._liveAnnouncer=F,this._defaultOptions=R,this._panelOpen=!1,this._compareWith=(U,Q)=>U===Q,this._uid="mat-select-"+T9++,this._triggerAriaLabelledBy=null,this._destroy=new tn.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+T9++,this._panelDoneAnimatingStream=new tn.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=hs(()=>{const U=this.options;return U?U.changes.pipe(oa(U),Qr(()=>(0,vu.T)(...U.map(Q=>Q.onSelectionChange)))):this._ngZone.onStable.pipe((0,zr.q)(1),Qr(()=>this.optionSelectionChanges))}),this.openedChange=new o.vpe,this._openedStream=this.openedChange.pipe(gr(U=>U),(0,Xt.U)(()=>{})),this._closedStream=this.openedChange.pipe(gr(U=>!U),(0,Xt.U)(()=>{})),this.selectionChange=new o.vpe,this.valueChange=new o.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=R?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=R.typeaheadDebounceInterval),this._scrollStrategyFactory=C,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(x)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(ma.required)??!1}set required(e){this._required=mi(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=mi(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=mi(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=zc(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Gpe(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(V_(),Wi(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Wi(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(oa(null),Wi(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,a=this._keyManager;if(!a.isTyping()&&s&&!Im(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const l=this.selected;a.onKeydown(e);const d=this.selected;d&&l!==d&&this._liveAnnouncer.announce(d.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,a=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(a||13!==r&&32!==r||!i.activeItem||Im(e))if(!a&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const l=this.options.some(d=>!d.disabled&&!d.selected);this.options.forEach(d=>{d.disabled||(l?d.select():d.deselect())})}else{const l=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==l&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,zr.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new Cse(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Wi(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Wi(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,vu.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Wi(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,vu.T)(...this.options.map(i=>i._stateChanges)).pipe(Wi(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(zx),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(Vk),o.Y36(o.SBq),o.Y36(pf,8),o.Y36(YT,8),o.Y36(_S,8),o.Y36(z6,8),o.Y36(Rm,10),o.$8M("tabindex"),o.Y36(B9),o.Y36(z3),o.Y36(rge,8))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&(o.Gf(qpe,5),o.Gf(Kpe,5),o.Gf(rG,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.trigger=r.first),o.iGM(r=o.CRH())&&(i.panel=r.first),o.iGM(r=o.CRH())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[o.qOj,o.TTD]}),n})(),vS=(()=>{class n extends cge{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const s=this._getItemHeight();return Math.min(Math.max(0,s*e-i+s/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Wi(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,zr.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=RG(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function foe(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new oge(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),s=this.multiple?56:32;let a;if(this.multiple)a=40;else if(this.disableOptionCentering)a=16;else{let A=this._selectionModel.selected[0]||this.options.first;a=A&&A.group?32:16}r||(a*=-1);const l=0-(e.left+a-(r?s:0)),d=e.right+a-i.width+(r?0:s);l>0?a+=l+8:d>0&&(a-=d+8),this._overlayDir.offsetX=Math.round(a),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const s=this._getItemHeight(),a=(s-this._triggerRect.height)/2,l=Math.floor(256/s);let d;return this.disableOptionCentering?0:(d=0===this._scrollTop?e*s:this._scrollTop===r?(e-(this._getItemCount()-l))*s+(s-(this._getItemCount()*s-256)%s):i-s/2,Math.round(-1*d-a))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,a=r.height-this._triggerRect.bottom-8,l=Math.abs(this._offsetY),A=Math.min(this._getItemCount()*i,256)-l-this._triggerRect.height;A>a?this._adjustPanelUp(A,a):l>s?this._adjustPanelDown(l,s,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const s=Math.round(e-i);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),a=i*e-r;let l;l=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),l+=RG(l,this.options,this.optionGroups);const d=r/2;this._scrollTop=this._calculateOverlayScroll(l,d,a),this._offsetY=this._calculateOverlayOffsetY(l,d,a),this._checkOverlayWithinViewport(a)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,lge,5),o.Suo(r,uC,5),o.Suo(r,kG,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.customTrigger=s.first),o.iGM(s=o.CRH())&&(i.options=s),o.iGM(s=o.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(e,i){1&e&&o.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(o.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),o.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[o._Bn([{provide:JR,useExisting:n},{provide:FG,useExisting:n}]),o.qOj],ngContentSelectors:ege,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(o.F$t(Xpe),o.TgZ(0,"div",0,1),o.NdJ("click",function(){return i.toggle()}),o.TgZ(3,"div",2),o.YNc(4,Zpe,2,1,"span",3),o.YNc(5,$pe,3,2,"span",4),o.qZA(),o.TgZ(6,"div",5),o._UZ(7,"div",6),o.qZA()(),o.YNc(8,Jpe,4,14,"ng-template",7),o.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=o.MAs(1);o.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),o.xp6(3),o.Q6J("ngSwitch",i.empty),o.uIk("id",i._valueId),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1),o.xp6(3),o.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},dependencies:[Es,Lu,Wc,ug,rG,iG],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[D9.transformPanelWrap,D9.transformPanel]},changeDetection:0}),n})(),F9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[sge],imports:[Us,Zx,OG,dr,Gx,XR,OG,dr]}),n})();const k9=eb({passive:!0});let uge=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return za.E;const i=Fy(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new tn.x,a="cdk-text-field-autofilled",l=d=>{"cdk-text-field-autofill-start"!==d.animationName||i.classList.contains(a)?"cdk-text-field-autofill-end"===d.animationName&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>s.next({target:d.target,isAutofilled:!1}))):(i.classList.add(a),this._ngZone.run(()=>s.next({target:d.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",l,k9),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",l,k9)}}),s}stopMonitoring(e){const i=Fy(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Fs),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dge=(()=>{class n{constructor(e,i,r,s){this._elementRef=e,this._platform=i,this._ngZone=r,this._destroyed=new tn.x,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=a=>{this._hasFocus="focus"===a.type},this._document=s,this._textareaElement=this._elementRef.nativeElement}get minRows(){return this._minRows}set minRows(e){this._minRows=zc(e),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(e){this._maxRows=zc(e),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(e){e=mi(e),this._enabled!==e&&((this._enabled=e)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(e){this._cachedPlaceholderHeight=void 0,e?this._textareaElement.setAttribute("placeholder",e):this._textareaElement.removeAttribute("placeholder"),this._cacheTextareaPlaceholderHeight()}_setMinHeight(){const e=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;e&&(this._textareaElement.style.minHeight=e)}_setMaxHeight(){const e=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;e&&(this._textareaElement.style.maxHeight=e)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{B0(this._getWindow(),"resize").pipe(O3(16),Wi(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let e=this._textareaElement.cloneNode(!1);e.rows=1,e.style.position="absolute",e.style.visibility="hidden",e.style.border="none",e.style.padding="0",e.style.height="",e.style.minHeight="",e.style.maxHeight="",e.style.overflow="hidden",this._textareaElement.parentNode.appendChild(e),this._cachedLineHeight=e.clientHeight,e.remove(),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){const e=this._textareaElement,i=e.style.marginBottom||"",r=this._platform.FIREFOX,s=r&&this._hasFocus,a=r?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";s&&(e.style.marginBottom=`${e.clientHeight}px`),e.classList.add(a);const l=e.scrollHeight-4;return e.classList.remove(a),s&&(e.style.marginBottom=i),l}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||null!=this._cachedPlaceholderHeight)return;if(!this.placeholder)return void(this._cachedPlaceholderHeight=0);const e=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=e}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(e=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight))return;const i=this._elementRef.nativeElement,r=i.value;if(!e&&this._minRows===this._previousMinRows&&r===this._previousValue)return;const s=this._measureScrollHeight(),a=Math.max(s,this._cachedPlaceholderHeight||0);i.style.height=`${a}px`,this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame<"u"?requestAnimationFrame(()=>this._scrollToCaretPosition(i)):setTimeout(()=>this._scrollToCaretPosition(i))}),this._previousValue=r,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(e){const{selectionStart:i,selectionEnd:r}=e;!this._destroyed.isStopped&&this._hasFocus&&e.setSelectionRange(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Fs),o.Y36(o.R0b),o.Y36(Ze,8))},n.\u0275dir=o.lG2({type:n,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(e,i){1&e&&o.NdJ("input",function(){return i._noopInputHandler()})},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"]}),n})(),R9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const hge=new o.OlP("MAT_INPUT_VALUE_ACCESSOR"),Age=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let fge=0;const pge=EG(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new tn.x}});let DC=(()=>{class n extends pge{constructor(e,i,r,s,a,l,d,A,p,_){super(l,s,a,r),this._elementRef=e,this._platform=i,this._autofillMonitor=A,this._formField=_,this._uid="mat-input-"+fge++,this.focused=!1,this.stateChanges=new tn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(F=>tI().has(F)),this._iOSKeyupListener=F=>{const R=F.target;!R.value&&0===R.selectionStart&&0===R.selectionEnd&&(R.setSelectionRange(1,1),R.setSelectionRange(0,0))};const x=this._elementRef.nativeElement,C=x.nodeName.toLowerCase();this._inputValueAccessor=d||x,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&p.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===C,this._isTextarea="textarea"===C,this._isInFormField=!!_,this._isNativeSelect&&(this.controlType=x.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=mi(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(ma.required)??!1}set required(e){this._required=mi(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&tI().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=mi(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){Age.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Fs),o.Y36(Rm,10),o.Y36(YT,8),o.Y36(_S,8),o.Y36(Vk),o.Y36(hge,10),o.Y36(uge),o.Y36(o.R0b),o.Y36(z6,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&o.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(o.Ikx("disabled",i.disabled)("required",i.required),o.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),o.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[o._Bn([{provide:JR,useExisting:n}]),o.qOj,o.TTD]}),n})(),gge=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Vk],imports:[R9,XR,dr,R9,XR]}),n})();const mge=["input"],_ge=["label"],yge=function(n){return{enterDuration:n}},vge=["*"],wge=new o.OlP("mat-checkbox-default-options",{providedIn:"root",factory:O9});function O9(){return{color:"accent",clickAction:"check-indeterminate"}}let bge=0;const L9=O9(),Cge={provide:wf,useExisting:(0,o.Gpc)(()=>t2),multi:!0};class xge{}const Sge=Qk(F0(Hk(lC(class{constructor(n){this._elementRef=n}}))));let Ege=(()=>{class n extends Sge{constructor(e,i,r,s,a,l,d){super(i),this._changeDetectorRef=r,this._ngZone=s,this._animationMode=l,this._options=d,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new o.vpe,this.indeterminateChange=new o.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||L9,this.color=this.defaultColor=this._options.color||L9.color,this.tabIndex=parseInt(a)||0,this.id=this._uniqueId=`${e}${++bge}`}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=mi(e)}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){const i=mi(e);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const i=mi(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=mi(e),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(i!==e&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const e=this._options?.clickAction;this.disabled||"noop"===e?!this.disabled&&"noop"===e&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==e&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";switch(e){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&(o.Gf(mge,5),o.Gf(_ge,5),o.Gf(cC,5)),2&e){let r;o.iGM(r=o.CRH())&&(i._inputElement=r.first),o.iGM(r=o.CRH())&&(i._labelElement=r.first),o.iGM(r=o.CRH())&&(i.ripple=r.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[o.qOj]}),n})(),t2=(()=>{class n extends Ege{constructor(e,i,r,s,a,l,d){super("mat-checkbox-",e,i,s,a,l,d),this._focusMonitor=r,this._animationClasses={uncheckedToChecked:"mat-checkbox-anim-unchecked-checked",uncheckedToIndeterminate:"mat-checkbox-anim-unchecked-indeterminate",checkedToUnchecked:"mat-checkbox-anim-checked-unchecked",checkedToIndeterminate:"mat-checkbox-anim-checked-indeterminate",indeterminateToChecked:"mat-checkbox-anim-indeterminate-checked",indeterminateToUnchecked:"mat-checkbox-anim-indeterminate-unchecked"}}_createChangeEvent(e){const i=new xge;return i.source=this,i.checked=e,i}_getAnimationTargetElement(){return this._elementRef.nativeElement}ngAfterViewInit(){super.ngAfterViewInit(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||this._onBlur()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onInputClick(e){e.stopPropagation(),super._handleInputClick()}focus(e,i){e?this._focusMonitor.focusVia(this._inputElement,e,i):this._inputElement.nativeElement.focus(i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Lp),o.Y36(o.R0b),o.$8M("tabindex"),o.Y36(o.QbO,8),o.Y36(wge,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(e,i){2&e&&(o.Ikx("id",i.id),o.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),o.ekj("mat-checkbox-indeterminate",i.indeterminate)("mat-checkbox-checked",i.checked)("mat-checkbox-disabled",i.disabled)("mat-checkbox-label-before","before"==i.labelPosition)("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[o._Bn([Cge]),o.qOj],ngContentSelectors:vge,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,i){if(1&e&&(o.F$t(),o.TgZ(0,"label",0,1)(2,"span",2)(3,"input",3,4),o.NdJ("change",function(s){return i._onInteractionEvent(s)})("click",function(s){return i._onInputClick(s)}),o.qZA(),o.TgZ(5,"span",5),o._UZ(6,"span",6),o.qZA(),o._UZ(7,"span",7),o.TgZ(8,"span",8),o.O4$(),o.TgZ(9,"svg",9),o._UZ(10,"path",10),o.qZA(),o.kcU(),o._UZ(11,"span",11),o.qZA()(),o.TgZ(12,"span",12,13),o.NdJ("cdkObserveContent",function(){return i._onLabelTextChange()}),o.TgZ(14,"span",14),o._uU(15,"\xa0"),o.qZA(),o.Hsn(16),o.qZA()()),2&e){const r=o.MAs(1),s=o.MAs(13);o.uIk("for",i.inputId),o.xp6(2),o.ekj("mat-checkbox-inner-container-no-side-margin",!s.textContent||!s.textContent.trim()),o.xp6(1),o.Q6J("id",i.inputId)("required",i.required)("checked",i.checked)("disabled",i.disabled)("tabIndex",i.tabIndex),o.uIk("value",i.value)("name",i.name)("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-checked",i._getAriaChecked())("aria-describedby",i.ariaDescribedby),o.xp6(2),o.Q6J("matRippleTrigger",r)("matRippleDisabled",i._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",o.VKq(19,yge,"NoopAnimations"===i._animationMode?0:150))}},dependencies:[cC,Q3],styles:['@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);position:relative}.mat-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:rgba(0,0,0,0);transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:rgba(0,0,0,0)}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox-input:focus~.mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),P9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),Tge=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[rT,dr,Rk,P9,dr,P9]}),n})();function Mge(n,t){if(1&n&&(o.TgZ(0,"mat-option",22),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.id),o.xp6(1),o.Oqu(e.nome)}}function Bge(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",18)(1,"mat-form-field",19)(2,"mat-label"),o._uU(3,"Tipologia Skill"),o.qZA(),o.TgZ(4,"mat-select",20),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw(2);return o.KtG(s.newSkill.idTipologiaSkill=r)}),o.YNc(5,Mge,2,2,"mat-option",21),o.qZA()()()}if(2&n){const e=o.oxw(2);o.xp6(4),o.Q6J("ngModel",e.newSkill.idTipologiaSkill),o.xp6(1),o.Q6J("ngForOf",e.tipologiaSkills)}}function Fge(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-checkbox",23),o.NdJ("change",function(){const s=o.CHM(e).$implicit,a=o.oxw(2);return o.KtG(a.toggle(s))}),o._uU(1),o.qZA()}if(2&n){const e=t.$implicit;o.xp6(1),o.Oqu(e.nome)}}function kge(n,t){if(1&n&&(o.TgZ(0,"ul")(1,"li"),o._uU(2),o.qZA()()),2&n){const e=t.$implicit;o.xp6(2),o.Oqu(e)}}function Rge(n,t){if(1&n&&(o.TgZ(0,"li",25)(1,"b"),o._uU(2),o.qZA(),o.YNc(3,kge,3,1,"ul",26),o.qZA()),2&n){const e=t.$implicit;o.xp6(2),o.hij("*",e.nome,""),o.xp6(1),o.Q6J("ngForOf",e.classi)}}function Oge(n,t){if(1&n&&(o.TgZ(0,"ul"),o.YNc(1,Rge,4,2,"li",24),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",e.skills)}}function Lge(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"div",4)(2,"mat-card",5)(3,"mat-card-header")(4,"mat-card-title"),o._uU(5,"Salva nuova skill"),o.qZA()(),o.TgZ(6,"mat-card-content",6)(7,"div",7)(8,"mat-form-field",8)(9,"mat-label"),o._uU(10,"Nome skill"),o.qZA(),o.TgZ(11,"input",9),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.newSkill.nome=r)}),o.qZA(),o.TgZ(12,"button",10),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.newSkill.nome="")}),o.TgZ(13,"mat-icon"),o._uU(14,"close"),o.qZA()()()(),o.YNc(15,Bge,6,2,"div",11),o.TgZ(16,"div",12)(17,"section"),o.YNc(18,Fge,2,1,"mat-checkbox",13),o.qZA()(),o.TgZ(19,"div",14)(20,"button",15),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.SalvaSkill())}),o._uU(21,"Salva"),o.qZA()()()()(),o.TgZ(22,"div",16)(23,"mat-card",17),o.YNc(24,Oge,2,1,"ul",0),o.qZA()()()}if(2&n){const e=o.oxw();o.xp6(11),o.Q6J("ngModel",e.newSkill.nome),o.xp6(4),o.Q6J("ngIf",e.tipologiaSkills.length>0),o.xp6(3),o.Q6J("ngForOf",e.classi),o.xp6(2),o.Q6J("disabled",""==e.newSkill.nome||-1===e.newSkill.idTipologiaSkill),o.xp6(4),o.Q6J("ngIf",e.skills.length>0)}}let Pge=(()=>{class n{constructor(e,i,r){this.service=e,this.userService=i,this.utils=r,this.skills=new Array,this.newSkill=new cT,this.classi=new Array,this.tipologiaSkills=new Array,this.idsClassiScelte=new Array,this.notChecked=!1,this.develop=!1,this.area=""}ngOnInit(){const e=se(7986);this.develop=e.develop,this.service.getAllSkills().subscribe(i=>this.skills=i),this.service.getAllClass().subscribe(i=>{this.classi=i}),this.service.getAllTipologieSkill().subscribe(i=>this.tipologiaSkills=i),this.discord()}SalvaSkill(){const e=this.newSkill;e.nome=(e.nome.charAt(0).toUpperCase()+e.nome.slice(1)).trim(),this.service.AddSkill(this.newSkill),this.service.getAllClass().subscribe(i=>{this.classi=i}),this.newSkill=new cT}toggle(e){this.newSkill.classi.push(e.nome)}checkSession(){}logout(){this.userService.logout()}registrati(){}login(){}goText(){this.utils.MacrosXmlToObject(this.area)}discord(){var e=this.userService.getQueryParams();e&&this.userService.loginDiscord(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(j0),o.Y36(gd),o.Y36(lh))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-develop"]],decls:19,vars:2,consts:[[4,"ngIf"],[3,"click"],[3,"ngModel","ngModelChange"],["href","https://discord.com/api/oauth2/authorize?client_id=960448858926768148&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fdevelop&response_type=code&scope=identify%20email%20connections%20guilds%20guilds.join%20guilds.members.read%20role_connections.write"],["fxLayout","row",1,"home"],["fxFlex","70","fxLayout","column",1,"container"],["fxFlex","100","fxLayoutAlign","center center",2,"height","300px"],["fxFlex","30","fxLayout","column"],[1,"example-form-field"],["matInput","","type","text","fxFlex","","color","primary",3,"ngModel","ngModelChange"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["fxLayout","column","fxFlex","30",4,"ngIf"],["fxFlex","30","fxLayout","column",2,"margin-left","10%"],["style","padding:4px","color","primary",3,"change",4,"ngFor","ngForOf"],["fxFlex","",2,"margin-left","5%","margin-right","5%"],["mat-raised-button","","color","primary",3,"disabled","click"],["fxLayout","row","fxLayoutAlign","center center",1,"skills"],["fxFlex","","fxLayout","row","fxFlex","",2,"height","300px","overflow-y","auto"],["fxLayout","column","fxFlex","30"],["appearance","fill"],["color","primary",3,"ngModel","ngModelChange"],["color","primary",3,"value",4,"ngFor","ngForOf"],["color","primary",3,"value"],["color","primary",2,"padding","4px",3,"change"],["fxLayout","column","style","padding: 5px;",4,"ngFor","ngForOf"],["fxLayout","column",2,"padding","5px"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(o.YNc(0,Lge,25,5,"div",0),o._UZ(1,"br")(2,"br")(3,"br")(4,"br")(5,"br")(6,"br")(7,"br"),o.TgZ(8,"button",1),o.NdJ("click",function(){return i.checkSession()}),o._uU(9,"Check session"),o.qZA(),o.TgZ(10,"button",1),o.NdJ("click",function(){return i.logout()}),o._uU(11,"logout"),o.qZA(),o._UZ(12,"br"),o.TgZ(13,"textarea",2),o.NdJ("ngModelChange",function(s){return i.area=s}),o._uU(14,"\n"),o.qZA(),o.TgZ(15,"button",1),o.NdJ("click",function(){return i.goText()}),o._uU(16,"Ciao"),o.qZA(),o.TgZ(17,"a",3),o._uU(18,"Redirect"),o.qZA()),2&e&&(o.Q6J("ngIf",i.develop),o.xp6(13),o.Q6J("ngModel",i.area))},dependencies:[ds,Si,Qy,K0,Qp,wu,fc,_d,il,SC,IC,W0,Hpe,vS,uC,DC,t2,km,GT,pS,zT],styles:[".example-form-field[_ngcontent-%COMP%]{width:200px}.container[_ngcontent-%COMP%]{height:100%;padding:15px;display:flex;margin-top:5%}.home[_ngcontent-%COMP%]{height:auto;padding:0;display:flex;justify-content:center;margin-top:5%}.skills[_ngcontent-%COMP%]{width:50%;padding:0;display:flex;justify-content:center;margin-top:5%}"]}),n})();class Nge{constructor(t,e,i){this.tipologia="",this.tool="",this.messaggio="",this.user="",this.tipologia=t,this.tool=e,this.messaggio=i}}function Uge(n,t){1&n&&(o.TgZ(0,"mat-form-field",4)(1,"mat-label"),o._uU(2,"User"),o.qZA(),o._UZ(3,"input",11),o.qZA())}function Hge(n,t){if(1&n&&(o.TgZ(0,"mat-option",12),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e),o.xp6(1),o.Oqu(e)}}function Qge(n,t){if(1&n&&(o.TgZ(0,"mat-option",12),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e),o.xp6(1),o.Oqu(e)}}function Vge(n,t){if(1&n&&(o.TgZ(0,"mat-form-field",13)(1,"mat-label"),o._uU(2,"Seleziona tool"),o.qZA(),o.TgZ(3,"mat-select",14),o.YNc(4,Qge,2,2,"mat-option",6),o.qZA()()),2&n){const e=o.oxw();o.xp6(4),o.Q6J("ngForOf",e.tools)}}let jge=(()=>{class n{constructor(e,i,r){this._formBuilder=e,this._userService=i,this._utils=r,this.tipologiaTicket=["Correzione dati tool","Malfunzionamento","Consigli"],this.tools=["Scheda personaggio","Dizionario Elfico","Enchant TM","Calendario TM","Armature infuse","Macro Utili"],this.firstFormGroup=this._formBuilder.group({user:["",ma.required],tipologia:["",ma.required],tool:[""],ticket:["",ma.compose([ma.minLength(20),ma.required])]}),this.isLoggedIn=!1}ngOnInit(){this.isSmartphone(),this._userService.isLoggedInObs.subscribe(e=>{this.isLoggedIn=e,this.isLoggedIn||this._userService.openSnackBar("effettuaLogin")})}salva(){var e,i,r,s;if(this.firstFormGroup.valid){var a=null===(e=this.firstFormGroup.get("tipologia"))||void 0===e?void 0:e.value,l=null===(i=this.firstFormGroup.get("ticket"))||void 0===i?void 0:i.value,d=null===(r=this.firstFormGroup.get("tool"))||void 0===r?void 0:r.value;if(d||(d="Blank"),a&&l&&d){var A=new Nge(a,d,l),p=null===(s=this.firstFormGroup.get("user"))||void 0===s?void 0:s.value,_=localStorage.getItem("user");!this.isLoggedIn&&p&&(A.user=p),this.isLoggedIn&&_&&(A.user=_),this._userService.SalvaTicket(A),this.firstFormGroup.reset()}}}isSmartphone(){return this._utils.isSmartphone()}width(){return this.isSmartphone()?"100":"50"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(mpe),o.Y36(gd),o.Y36(lh))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-help"]],decls:23,vars:10,consts:[["fxLayoutAlign","center center",2,"padding-top","2%"],["fxFlex","","fxLayout","column",3,"fxFlex"],["fxFlex","","fxLayout","column","fxLayoutAlign","center",3,"formGroup"],["appearance","fill",4,"ngIf"],["appearance","fill"],["formControlName","tipologia"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill","fxFlex","",4,"ngIf"],["rows","100","cols","100","matInput","","formControlName","ticket","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["autosize","cdkTextareaAutosize"],["mat-raised-button","","color","primary",3,"disabled","click"],["matInput","","type","text","formControlName","user","readonly","true"],[3,"value"],["appearance","fill","fxFlex",""],["formControlName","tool"]],template:function(e,i){if(1&e&&(o.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),o._uU(4," Help "),o.qZA(),o.TgZ(5,"mat-card-subtitle"),o._uU(6," Invia ticket (al fuoco... al fuoco...) "),o.qZA()(),o.TgZ(7,"mat-card-content")(8,"form",2),o.YNc(9,Uge,4,0,"mat-form-field",3),o.TgZ(10,"mat-form-field",4)(11,"mat-label"),o._uU(12,"Tipo errore"),o.qZA(),o.TgZ(13,"mat-select",5),o.YNc(14,Hge,2,2,"mat-option",6),o.qZA()(),o.YNc(15,Vge,5,1,"mat-form-field",7),o.TgZ(16,"mat-form-field",4)(17,"mat-label"),o._uU(18,"Ticket"),o.qZA(),o._UZ(19,"textarea",8,9),o.qZA(),o.TgZ(21,"button",10),o.NdJ("click",function(){return i.salva()}),o._uU(22,"Invia"),o.qZA()()()()()),2&e){let r,s,a,l;o.xp6(1),o.Q6J("fxFlex",i.width()),o.xp6(7),o.Q6J("formGroup",i.firstFormGroup),o.xp6(1),o.Q6J("ngIf",!i.isLoggedIn),o.xp6(5),o.Q6J("ngForOf",i.tipologiaTicket),o.xp6(1),o.Q6J("ngIf",(null==(r=i.firstFormGroup.get("tipologia"))?null:r.value)==i.tipologiaTicket[0]),o.xp6(1),o.Udp("visibility",null!=(s=i.firstFormGroup.get("tipologia"))&&s.valid||(null==(s=i.firstFormGroup.get("tipologia"))?null:s.value)===i.tipologiaTicket[1]?"visible":"hidden"),o.xp6(5),o.Udp("visibility",null!=(a=i.firstFormGroup.get("tool"))&&a.valid||(null==(a=i.firstFormGroup.get("tipologia"))?null:a.value)===i.tipologiaTicket[1]?"visible":"hidden"),o.Q6J("disabled",(null==(l=i.firstFormGroup.get("ticket"))?null:l.invalid)||(null==(l=i.firstFormGroup.get("user"))?null:l.invalid))}},dependencies:[ds,Si,n9,Qy,K0,jZ,_S,N6,wu,fc,_d,il,IC,W0,vS,uC,dge,DC,km,GT,pS,zT,mZ],styles:["mat-card[_ngcontent-%COMP%]{border:2px solid #004a9f;border-radius:3px;margin:3%}mat-card-title[_ngcontent-%COMP%]{color:#004a9f}"]}),n})(),zge=(()=>{class n{constructor(e,i,r){this._utils=e,this.userService=i,this.router=r}ngOnInit(){this.discord()}isSmartphone(){return this._utils.isSmartphone()?"80":"55"}discord(){var e=this.userService.getQueryParams();if(e){this.router.navigate([],{queryParams:{code:null},queryParamsHandling:"merge"});const i=localStorage.getItem("lastUrl");i&&this.router.navigate([i]),this.userService.loginDiscord(e).subscribe(r=>{})}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(lh),o.Y36(gd),o.Y36(os))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-home-view"]],decls:4,vars:1,consts:[["fxLayout","column","fxLayoutAlign","center","fxFlex",""],["fxFlex","50",2,"padding","1%"],["fxLayout","row","fxFlex","","fxLayoutAlign","center"],["src","https://media.discordapp.net/attachments/511856322141093914/916417399123746878/122446285_3745805028787577_1420736271386283273_n-1.png",1,"immagine",3,"fxFlex"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o._UZ(1,"div",1),o.TgZ(2,"div",2),o._UZ(3,"img",3),o.qZA()()),2&e&&(o.xp6(3),o.Q6J("fxFlex",i.isSmartphone()))},dependencies:[fc,_d,il],styles:[".immagine[_ngcontent-%COMP%]{border:7px solid #004a9f;border-radius:3px}"]}),n})();function Gge(n,t){1&n&&(o.TgZ(0,"div")(1,"b"),o._uU(2," Scegli un file .txt e caricalo nella piattaforma."),o._UZ(3,"br"),o._uU(4," Il sistema lo elaborer\xe0 e lo render\xe0 adatto alle bacheche del gioco. "),o.qZA(),o._UZ(5,"br")(6,"br"),o.qZA())}function qge(n,t){if(1&n&&(o.TgZ(0,"div")(1,"span"),o._uU(2),o.qZA()()),2&n){const e=t.$implicit;o.xp6(2),o.Oqu(e)}}function Kge(n,t){if(1&n&&(o.TgZ(0,"div",9),o.YNc(1,qge,3,1,"div",10),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("ngForOf",e)}}function Zge(n,t){if(1&n&&(o.TgZ(0,"mat-card",7)(1,"mat-card-content"),o.YNc(2,Kge,2,1,"div",8),o.qZA()()),2&n){const e=o.oxw();o.xp6(2),o.Q6J("ngForOf",e.bacheche)}}function Wge(n,t){if(1&n&&(o.TgZ(0,"div")(1,"span"),o._uU(2),o.qZA()()),2&n){const e=t.$implicit;o.xp6(2),o.Oqu(e)}}function Yge(n,t){if(1&n&&(o.TgZ(0,"div",9),o.YNc(1,Wge,3,1,"div",10),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("ngForOf",e)}}function $ge(n,t){if(1&n&&(o.TgZ(0,"div",11),o.YNc(1,Yge,2,1,"div",8),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.bacheche)}}let Jge=(()=>{class n{constructor(e,i){this.utils=e,this.service=i,this.bacheche=new Array,this.isSmartphone=!1}ngOnInit(){this.isSmartphone=this.utils.isSmartphone()}onChange(e){var i=this;return(0,Tt.Z)(function*(){var r=e.target.files[0];let s=yield r.text();i.elabTextToBachecaMessage(s)})()}elabTextToBachecaMessage(e){var i="",r=new Array,s=new Array;let a=this.cleanArray(e);a.forEach(l=>{i.length+l.length<=32?i+=l+" ":(i=i.substring(0,i.lastIndexOf(" ")),r.push(i),i=l+" "),l==a[a.length-1]&&(i=i.substring(0,i.lastIndexOf(" ")),r.push(i)),39==r.length&&(s.push(r),r=new Array)}),s.push(r),this.bacheche=s}checkWords(e){for(let r=0;r<e.length;r++)if(e[r].includes("\n\r")){var i=e[r].split("\r\n");i=i.filter(s=>""!=s),e.splice(r,i.length,...i)}return e}cleanArray(e){var i,r=(e=e.replace(/[\r\n]/g," ")).split(" ");r=r.filter(l=>""!=l);let s=(new Array).concat(r),a=0;for(;r.filter(l=>l.length>32).length>0;){if((null===(i=s[a])||void 0===i?void 0:i.length)>=32){let l=new Array,d=0;for(let A=0;A<s[a].length/32;A++)l.push(s[a].substring(d,d+31)),d+=31;s=this.mergeArray(s,l,a)}r=s,a++}return r}mergeArray(e,i,r=0){return(e=e.filter(s=>s!==e[r])).slice(0,r).concat(i,e.slice(r))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(lh),o.Y36(gd))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-bacheca"]],decls:7,vars:3,consts:[["fxLayout","column","fxFlex","","fxLayoutAlign","space-evenly center"],["fxFlex","",2,"padding","1%"],[2,"text-align","center"],[4,"ngIf"],["type","file",1,"form-control",3,"change"],["class","pergamene",4,"ngIf"],["class","pergameneSmarth",4,"ngIf"],[1,"pergamene"],["class","pergamena",4,"ngFor","ngForOf"],[1,"pergamena"],[4,"ngFor","ngForOf"],[1,"pergameneSmarth"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2),o.YNc(3,Gge,7,0,"div",3),o.TgZ(4,"input",4),o.NdJ("change",function(s){return i.onChange(s)}),o.qZA()()(),o.YNc(5,Zge,3,1,"mat-card",5),o.YNc(6,$ge,2,1,"div",6),o.qZA()),2&e&&(o.xp6(3),o.Q6J("ngIf",0==i.bacheche.length),o.xp6(2),o.Q6J("ngIf",i.bacheche.length>0&&!i.isSmartphone),o.xp6(1),o.Q6J("ngIf",i.bacheche.length>0&&i.isSmartphone))},dependencies:[ds,Si,fc,_d,il,km,pS],styles:[".pergamena[_ngcontent-%COMP%]{background-image:url(https://img.freepik.com/premium-photo/old-parchment-paper-texture-background-wallpaper_118047-11580.jpg);font-family:Playfair Display,serif;font-size:20px;padding:10px;margin:6px;border-radius:10px;text-align:center}.pergamene[_ngcontent-%COMP%]{width:40%;max-height:65vh;overflow-y:auto}.pergameneSmarth[_ngcontent-%COMP%]{width:80%;max-height:65vh;overflow-y:auto}.font[_ngcontent-%COMP%]{font-family:Playfair Display,serif}"]}),n})();function Xge(n,t){if(1&n&&(o.TgZ(0,"mat-option",19),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e),o.xp6(1),o.hij(" ",e," ")}}function eme(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-form-field",16)(1,"mat-select",17),o.NdJ("selectionChange",function(r){o.CHM(e);const s=o.oxw(2);return o.KtG(s._changePageSize(r.value))}),o.YNc(2,Xge,2,2,"mat-option",18),o.qZA()()}if(2&n){const e=o.oxw(2);o.Q6J("appearance",e._formFieldAppearance)("color",e.color),o.xp6(1),o.Q6J("value",e.pageSize)("disabled",e.disabled)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering)("aria-label",e._intl.itemsPerPageLabel),o.xp6(1),o.Q6J("ngForOf",e._displayedPageSizeOptions)}}function tme(n,t){if(1&n&&(o.TgZ(0,"div",20),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Oqu(e.pageSize)}}function nme(n,t){if(1&n&&(o.TgZ(0,"div",12)(1,"div",13),o._uU(2),o.qZA(),o.YNc(3,eme,3,8,"mat-form-field",14),o.YNc(4,tme,2,1,"div",15),o.qZA()),2&n){const e=o.oxw();o.xp6(2),o.hij(" ",e._intl.itemsPerPageLabel," "),o.xp6(1),o.Q6J("ngIf",e._displayedPageSizeOptions.length>1),o.xp6(1),o.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function ime(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",21),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.firstPage())}),o.O4$(),o.TgZ(1,"svg",7),o._UZ(2,"path",22),o.qZA()()}if(2&n){const e=o.oxw();o.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),o.uIk("aria-label",e._intl.firstPageLabel)}}function rme(n,t){if(1&n){const e=o.EpF();o.O4$(),o.kcU(),o.TgZ(0,"button",23),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.lastPage())}),o.O4$(),o.TgZ(1,"svg",7),o._UZ(2,"path",24),o.qZA()()}if(2&n){const e=o.oxw();o.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),o.uIk("aria-label",e._intl.lastPageLabel)}}let tO=(()=>{class n{constructor(){this.changes=new tn.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const s=e*i;return`${s+1} \u2013 ${s<(r=Math.max(r,0))?Math.min(s+i,r):s+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ome={provide:tO,deps:[[new o.FiY,new o.tp0,tO]],useFactory:function sme(n){return n||new tO}};class lme{}const cme=new o.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),ume=lC(IG(class{}));let dme=(()=>{class n extends ume{constructor(e,i,r){if(super(),this._intl=e,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new o.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:s,pageSizeOptions:a,hidePageSize:l,showFirstLastButtons:d}=r;null!=s&&(this._pageSize=s),null!=a&&(this._pageSizeOptions=a),null!=l&&(this._hidePageSize=l),null!=d&&(this._showFirstLastButtons=d)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(zc(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=zc(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(zc(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>zc(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=mi(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=mi(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[o.qOj]}),n})(),n2=(()=>{class n extends dme{constructor(e,i,r){super(e,i,r),r&&null!=r.formFieldAppearance&&(this._formFieldAppearance=r.formFieldAppearance)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(tO),o.Y36(o.sBO),o.Y36(cme,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[o.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","panelClass","disableOptionCentering","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1),o.YNc(2,nme,5,3,"div",2),o.TgZ(3,"div",3)(4,"div",4),o._uU(5),o.qZA(),o.YNc(6,ime,3,5,"button",5),o.TgZ(7,"button",6),o.NdJ("click",function(){return i.previousPage()}),o.O4$(),o.TgZ(8,"svg",7),o._UZ(9,"path",8),o.qZA()(),o.kcU(),o.TgZ(10,"button",9),o.NdJ("click",function(){return i.nextPage()}),o.O4$(),o.TgZ(11,"svg",7),o._UZ(12,"path",10),o.qZA()(),o.YNc(13,rme,3,5,"button",11),o.qZA()()()),2&e&&(o.xp6(2),o.Q6J("ngIf",!i.hidePageSize),o.xp6(3),o.hij(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),o.xp6(1),o.Q6J("ngIf",i.showFirstLastButtons),o.xp6(1),o.Q6J("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),o.uIk("aria-label",i._intl.previousPageLabel),o.xp6(3),o.Q6J("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),o.uIk("aria-label",i._intl.nextPageLabel),o.xp6(3),o.Q6J("ngIf",i.showFirstLastButtons))},dependencies:[ds,Si,wu,IC,vS,uC,Uy],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{display:inline-block;width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),hme=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[ome],imports:[Us,jk,F9,fZ,dr]}),n})();const Ame=["mat-sort-header",""];function fme(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",3),o.NdJ("@arrowPosition.start",function(){o.CHM(e);const r=o.oxw();return o.KtG(r._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){o.CHM(e);const r=o.oxw();return o.KtG(r._disableViewStateAnimation=!1)}),o._UZ(1,"div",4),o.TgZ(2,"div",5),o._UZ(3,"div",6)(4,"div",7)(5,"div",8),o.qZA()()}if(2&n){const e=o.oxw();o.Q6J("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),o.xp6(2),o.Q6J("@indicator",e._getArrowDirectionState()),o.xp6(1),o.Q6J("@leftPointer",e._getArrowDirectionState()),o.xp6(1),o.Q6J("@rightPointer",e._getArrowDirectionState())}}const pme=["*"],N9=new o.OlP("MAT_SORT_DEFAULT_OPTIONS"),gme=IG(lC(class{}));let r2=(()=>{class n extends gme{constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new tn.x,this.start="asc",this._direction="",this.sortChange=new o.vpe}get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=mi(e)}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let r=function mme(n,t){let e=["asc","desc"];return"desc"==n&&e.reverse(),t||e.push(""),e}(e.start||this.start,e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),s=r.indexOf(this.direction)+1;return s>=r.length&&(s=0),r[s]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(N9,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[o.qOj,o.TTD]}),n})();const Y0=Kse.ENTERING+" "+qse.STANDARD_CURVE,wS={indicator:dc("indicator",[Or("active-asc, asc",oi({transform:"translateY(0px)"})),Or("active-desc, desc",oi({transform:"translateY(10px)"})),js("active-asc <=> active-desc",_o(Y0))]),leftPointer:dc("leftPointer",[Or("active-asc, asc",oi({transform:"rotate(-45deg)"})),Or("active-desc, desc",oi({transform:"rotate(45deg)"})),js("active-asc <=> active-desc",_o(Y0))]),rightPointer:dc("rightPointer",[Or("active-asc, asc",oi({transform:"rotate(45deg)"})),Or("active-desc, desc",oi({transform:"rotate(-45deg)"})),js("active-asc <=> active-desc",_o(Y0))]),arrowOpacity:dc("arrowOpacity",[Or("desc-to-active, asc-to-active, active",oi({opacity:1})),Or("desc-to-hint, asc-to-hint, hint",oi({opacity:.54})),Or("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",oi({opacity:0})),js("* => asc, * => desc, * => active, * => hint, * => void",_o("0ms")),js("* <=> *",_o(Y0))]),arrowPosition:dc("arrowPosition",[js("* => desc-to-hint, * => desc-to-active",_o(Y0,sT([oi({transform:"translateY(-25%)"}),oi({transform:"translateY(0)"})]))),js("* => hint-to-desc, * => active-to-desc",_o(Y0,sT([oi({transform:"translateY(0)"}),oi({transform:"translateY(25%)"})]))),js("* => asc-to-hint, * => asc-to-active",_o(Y0,sT([oi({transform:"translateY(25%)"}),oi({transform:"translateY(0)"})]))),js("* => hint-to-asc, * => active-to-asc",_o(Y0,sT([oi({transform:"translateY(0)"}),oi({transform:"translateY(-25%)"})]))),Or("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",oi({transform:"translateY(0)"})),Or("hint-to-desc, active-to-desc, desc",oi({transform:"translateY(-25%)"})),Or("hint-to-asc, active-to-asc, asc",oi({transform:"translateY(25%)"}))]),allowChildren:dc("allowChildren",[js("* <=> *",[Gk("@*",zk(),{optional:!0})])])};let nO=(()=>{class n{constructor(){this.changes=new tn.x}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yme={provide:nO,deps:[[new o.FiY,new o.tp0,nO]],useFactory:function _me(n){return n||new nO}},vme=lC(class{});let U9=(()=>{class n extends vme{constructor(e,i,r,s,a,l,d,A){super(),this._intl=e,this._changeDetectorRef=i,this._sort=r,this._columnDef=s,this._focusMonitor=a,this._elementRef=l,this._ariaDescriber=d,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",A?.arrowPosition&&(this.arrowPosition=A?.arrowPosition),this._handleStateChanges()}get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=mi(e)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const i=!!e;i!==this._showIndicatorHint&&(this._setIndicatorHintVisible(i),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,e)),this._sortActionDescription=e}_handleStateChanges(){this._rerenderSubscription=(0,vu.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(nO),o.Y36(o.sBO),o.Y36(r2,8),o.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),o.Y36(Lp),o.Y36(o.SBq),o.Y36(hG,8),o.Y36(N9,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i._handleClick()})("keydown",function(s){return i._handleKeydown(s)})("mouseenter",function(){return i._setIndicatorHintVisible(!0)})("mouseleave",function(){return i._setIndicatorHintVisible(!1)}),2&e&&(o.uIk("aria-sort",i._getAriaSortAttribute()),o.ekj("mat-sort-header-disabled",i._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[o.qOj],attrs:Ame,ngContentSelectors:pme,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0)(1,"div",1),o.Hsn(2),o.qZA(),o.YNc(3,fme,6,6,"div",2),o.qZA()),2&e&&(o.ekj("mat-sort-header-sorted",i._isSorted())("mat-sort-header-position-before","before"===i.arrowPosition),o.uIk("tabindex",i._isDisabled()?null:0)("role",i._isDisabled()?null:"button"),o.xp6(3),o.Q6J("ngIf",i._renderArrow()))},dependencies:[Si],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[wS.indicator,wS.leftPointer,wS.rightPointer,wS.arrowOpacity,wS.arrowPosition,wS.allowChildren]},changeDetection:0}),n})(),wme=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[yme],imports:[Us,dr]}),n})();const Cme=[[["caption"]],[["colgroup"],["col"]]],xme=["caption","colgroup, col"];function q6(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=mi(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const bS=new o.OlP("CDK_TABLE");let CS=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),xS=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),iO=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class Dme{}const Tme=q6(Dme);let Vy=(()=>{class n extends Tme{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=mi(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(bS,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,CS,5),o.Suo(r,xS,5),o.Suo(r,iO,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.cell=s.first),o.iGM(s=o.CRH())&&(i.headerCell=s.first),o.iGM(s=o.CRH())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[o._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),o.qOj]}),n})();class K6{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let Z6=(()=>{class n extends K6{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Vy),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[o.qOj]}),n})(),W6=(()=>{class n extends K6{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Vy),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[o.qOj]}),n})();class Q9{constructor(){this.tasks=[],this.endTasks=[]}}const Y6=new o.OlP("_COALESCED_STYLE_SCHEDULER");let V9=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new tn.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Q9,this._getScheduleObservable().pipe(Wi(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new Q9;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Xn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,zr.q)(1))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),$6=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof s2?e.headerCell.template:this instanceof o2?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();class Mme extends $6{}const Bme=q6(Mme);let s2=(()=>{class n extends Bme{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(bS,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),n})();class Fme extends $6{}const kme=q6(Fme);let o2=(()=>{class n extends kme{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(bS,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),n})(),rO=(()=>{class n extends $6{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(bS,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[o.qOj]}),n})(),jy=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),J6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},dependencies:[jy],encapsulation:2}),n})(),eH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},dependencies:[jy],encapsulation:2}),n})(),sO=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const j9=["top","bottom","left","right"];class Rme{constructor(t,e,i,r,s=!0,a=!0,l){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=a,this._positionListener=l,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(x=>x)&&!i.some(x=>x))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=t[0],a=s.children.length,l=this._getCellWidths(s,r),d=this._getStickyStartColumnPositions(l,e),A=this._getStickyEndColumnPositions(l,i),p=e.lastIndexOf(!0),_=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const x="rtl"===this.direction,C=x?"right":"left",F=x?"left":"right";for(const R of t)for(let U=0;U<a;U++){const Q=R.children[U];e[U]&&this._addStickyStyle(Q,C,d[U],U===p),i[U]&&this._addStickyStyle(Q,F,A[U],U===_)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===p?[]:l.slice(0,p+1).map((R,U)=>e[U]?R:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===_?[]:l.slice(_).map((R,U)=>i[U+_]?R:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,s="bottom"===i?e.slice().reverse():e,a=[],l=[],d=[];for(let p=0,_=0;p<r.length;p++){if(!s[p])continue;a[p]=_;const x=r[p];d[p]=this._isNativeHtmlTable?Array.from(x.children):[x];const C=x.getBoundingClientRect().height;_+=C,l[p]=C}const A=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let p=0;p<r.length;p++){if(!s[p])continue;const _=a[p],x=p===A;for(const C of d[p])this._addStickyStyle(C,i,_,x)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:l,offsets:a,elements:d}):this._positionListener?.stickyFooterRowsUpdated({sizes:l,offsets:a,elements:d})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);j9.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of j9)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let s=0;s<t.length;s++)e[s]&&(i[s]=r,r+=t[s]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let s=t.length;s>0;s--)e[s]&&(i[s]=r,r+=t[s]);return i}}const tH=new o.OlP("CDK_SPL");let oO=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),aO=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),lO=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),cO=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),uO=(()=>{class n{constructor(e,i,r,s,a,l,d,A,p,_,x,C){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=a,this._platform=d,this._viewRepeater=A,this._coalescedStyleScheduler=p,this._viewportRuler=_,this._stickyPositioningListener=x,this._ngZone=C,this._onDestroy=new tn.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new o.vpe,this.viewChange=new Ui({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=l,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=mi(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=mi(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Wi(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),G6(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,s,a)=>this._getEmbeddedViewArgs(r.item,a),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&o.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,zr.q)(1),Wi(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const s=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,s,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const s=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((s,a)=>{this._addStickyColumnStyles([s],this._headerRowDefs[a])}),this._rowDefs.forEach(s=>{const a=[];for(let l=0;l<i.length;l++)this._renderRows[l].rowDef===s&&a.push(i[l]);this._addStickyColumnStyles(a,s)}),r.forEach((s,a)=>{this._addStickyColumnStyles([s],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const a=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let l=0;l<a.length;l++){let d=a[l];const A=this._cachedRenderRowsMap.get(d.data);A.has(d.rowDef)?A.get(d.rowDef).push(d):A.set(d.rowDef,[d]),e.push(d)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(a=>{const l=r&&r.has(a)?r.get(a):[];if(l.length){const d=l.shift();return d.dataIndex=i,d}return{data:e,rowDef:a,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),dO(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=dO(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=dO(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=dO(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(a,l)=>a||!!l.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(e,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(e){this._data=[],G6(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;G6(this.dataSource)?e=this.dataSource.connect(this):function bme(n){return!!n&&(n instanceof rs.y||(0,vs.m)(n.lift)&&(0,vs.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=vn(this.dataSource)),this._renderChangeSubscription=e.pipe(Wi(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(l=>this._columnDefsByName.get(l)),s=r.map(l=>l.sticky),a=r.map(l=>l.stickyEnd);this._stickyStyler.updateStickyColumns(e,s,a,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const s=e.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,e));else{let s=this._rowDefs.find(a=>a.when&&a.when(i,e))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,s={}){const a=e.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),a}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))jy.mostRecentCellOutlet&&jy.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const a=e.get(i).context;a.count=r,a.first=0===i,a.last=i===r-1,a.even=i%2==0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[i].dataIndex,a.renderIndex=i):a.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const a of r.outlets)s.appendChild(a.elementRef.nativeElement);e.appendChild(s)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Rme(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:vn()).pipe(Wi(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(e.templateRef),a=s.rootNodes[0];1===s.rootNodes.length&&a?.nodeType===this._document.ELEMENT_NODE&&(a.setAttribute("role","row"),a.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.sBO),o.Y36(o.SBq),o.$8M("role"),o.Y36(pf,8),o.Y36(Ze),o.Y36(Fs),o.Y36(XT),o.Y36(Y6),o.Y36(zx),o.Y36(tH,12),o.Y36(o.R0b,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,sO,5),o.Suo(r,Vy,5),o.Suo(r,rO,5),o.Suo(r,s2,5),o.Suo(r,o2,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._noDataRow=s.first),o.iGM(s=o.CRH())&&(i._contentColumnDefs=s),o.iGM(s=o.CRH())&&(i._contentRowDefs=s),o.iGM(s=o.CRH())&&(i._contentHeaderRowDefs=s),o.iGM(s=o.CRH())&&(i._contentFooterRowDefs=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(oO,7),o.Gf(aO,7),o.Gf(lO,7),o.Gf(cO,7)),2&e){let r;o.iGM(r=o.CRH())&&(i._rowOutlet=r.first),o.iGM(r=o.CRH())&&(i._headerRowOutlet=r.first),o.iGM(r=o.CRH())&&(i._footerRowOutlet=r.first),o.iGM(r=o.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[o._Bn([{provide:bS,useExisting:n},{provide:XT,useClass:S9},{provide:Y6,useClass:V9},{provide:tH,useValue:null}])],ngContentSelectors:xme,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(o.F$t(Cme),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[oO,aO,lO,cO],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function dO(n,t){return n.concat(Array.from(t))}let Lme=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[L3]}),n})();const Pme=[[["caption"]],[["colgroup"],["col"]]],Nme=["caption","colgroup, col"];let nH=(()=>{class n extends uO{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[o._Bn([{provide:XT,useClass:S9},{provide:uO,useExisting:n},{provide:bS,useExisting:n},{provide:Y6,useClass:V9},{provide:tH,useValue:null}]),o.qOj],ngContentSelectors:Nme,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(o.F$t(Pme),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[oO,aO,lO,cO],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})(),hO=(()=>{class n extends CS{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matCellDef",""]],features:[o._Bn([{provide:CS,useExisting:n}]),o.qOj]}),n})(),AO=(()=>{class n extends xS{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[o._Bn([{provide:xS,useExisting:n}]),o.qOj]}),n})(),fO=(()=>{class n extends Vy{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[o._Bn([{provide:Vy,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),o.qOj]}),n})(),pO=(()=>{class n extends Z6{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[o.qOj]}),n})(),gO=(()=>{class n extends W6{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[o.qOj]}),n})(),iH=(()=>{class n extends s2{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[o._Bn([{provide:s2,useExisting:n}]),o.qOj]}),n})(),rH=(()=>{class n extends rO{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[o._Bn([{provide:rO,useExisting:n}]),o.qOj]}),n})(),sH=(()=>{class n extends J6{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[o._Bn([{provide:J6,useExisting:n}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},dependencies:[jy],encapsulation:2}),n})(),G9=(()=>{class n extends eH{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[o._Bn([{provide:eH,useExisting:n}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},dependencies:[jy],encapsulation:2}),n})(),Zme=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Lme,dr,dr]}),n})();class Yme extends zpe{constructor(t=[]){super(),this._renderData=new Ui([]),this._filter=new Ui(""),this._internalPageChanges=new tn.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(Uz(r)){const s=Number(r);return s<9007199254740991?s:r}return r},this.sortData=(e,i)=>{const r=i.active,s=i.direction;return r&&""!=s?e.sort((a,l)=>{let d=this.sortingDataAccessor(a,r),A=this.sortingDataAccessor(l,r);const p=typeof d,_=typeof A;p!==_&&("number"===p&&(d+=""),"number"===_&&(A+=""));let x=0;return null!=d&&null!=A?d>A?x=1:d<A&&(x=-1):null!=d?x=1:null!=A&&(x=-1),x*("asc"==s?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((a,l)=>a+e[l]+"\u25ec","").toLowerCase(),s=i.trim().toLowerCase();return-1!=r.indexOf(s)},this._data=new Ui(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?(0,vu.T)(this._sort.sortChange,this._sort.initialized):vn(null),e=this._paginator?(0,vu.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):vn(null),r=at([this._data,this._filter]).pipe((0,Xt.U)(([l])=>this._filterData(l))),s=at([r,t]).pipe((0,Xt.U)(([l])=>this._orderData(l))),a=at([s,e]).pipe((0,Xt.U)(([l])=>this._pageData(l)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=a.subscribe(l=>this._renderData.next(l))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class oH extends Yme{}class $me{constructor(t,e){this._document=e;const i=this._textarea=this._document.createElement("textarea"),r=i.style;r.position="fixed",r.top=r.opacity="0",r.left="-999em",i.setAttribute("aria-hidden","true"),i.value=t,i.readOnly=!0,this._document.body.appendChild(i)}copy(){const t=this._textarea;let e=!1;try{if(t){const i=this._document.activeElement;t.select(),t.setSelectionRange(0,t.value.length),e=this._document.execCommand("copy"),i&&i.focus()}}catch{}return e}destroy(){const t=this._textarea;t&&(t.remove(),this._textarea=void 0)}}let Jme=(()=>{class n{constructor(e){this._document=e}copy(e){const i=this.beginCopy(e),r=i.copy();return i.destroy(),r}beginCopy(e){return new $me(e,this._document)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ze))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xme=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function e_e(n,t){1&n&&(o.TgZ(0,"mat-icon"),o._uU(1,"content_copy"),o.qZA()),2&n&&o.Q6J("@copyIconTransition","copy")}function t_e(n,t){1&n&&(o.TgZ(0,"mat-icon",11),o._uU(1,"done"),o.qZA()),2&n&&o.Q6J("@copyIconTransition","done")}let n_e=(()=>{class n{constructor(e,i,r,s){this.data=e,this.clipboard=i,this.snackBar=r,this.dialog=s,this.shareLink="",this.copyIcon="content_copy",this.copyTooltipText="Copia il link",this.iconState="initial",this.showCopyIcon=!0,this.shareLink=e.link}ngOnInit(){this.copyLink()}copyLink(){this.clipboard.copy(this.shareLink),this.showCopiedSnackBar(),this.showCopyIcon=!1,setTimeout(()=>{this.showCopyIcon=!0},700)}showCopiedSnackBar(){this.snackBar.open("Link copiato negli appunti","Chiudi",{duration:2e3})}closeModal(){this.copyIcon="content_copy",this.copyTooltipText="Copia il link",this.dialog.closeAll()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Fm),o.Y36(Jme),o.Y36(KG),o.Y36(Ly))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-share-link"]],decls:14,vars:8,consts:[[1,"modal-container"],[1,"modal-title"],[1,"modal-content"],[1,"link-label"],[1,"link-container"],["type","text","readonly","",1,"link-input",3,"value"],["mat-icon-button","",1,"copy-button",3,"matTooltip"],[4,"ngIf"],["class","done-icon",4,"ngIf"],[1,"modal-actions"],["mat-raised-button","","color","primary",3,"click"],[1,"done-icon"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"h2",1),o._uU(2,"Link di condivisione"),o.qZA(),o.TgZ(3,"div",2)(4,"p",3),o._uU(5,"Il link di condivisione \xe8:"),o.qZA(),o.TgZ(6,"div",4),o._UZ(7,"input",5),o.TgZ(8,"button",6),o.YNc(9,e_e,2,1,"mat-icon",7),o.YNc(10,t_e,2,1,"mat-icon",8),o.qZA()()(),o.TgZ(11,"div",9)(12,"button",10),o.NdJ("click",function(){return i.closeModal()}),o._uU(13,"Chiudi"),o.qZA()()()),2&e&&(o.xp6(7),o.Q6J("value",i.shareLink),o.xp6(1),o.ekj("copy",i.showCopyIcon)("done",!i.showCopyIcon),o.Q6J("matTooltip",i.copyTooltipText),o.xp6(1),o.Q6J("ngIf",!i.showCopyIcon),o.xp6(1),o.Q6J("ngIf",i.showCopyIcon))},dependencies:[Si,Qp,wu,Uy],styles:[".modal-container[_ngcontent-%COMP%]{background-color:#fff;padding:20px;max-width:400px;width:100%;border-radius:8px;box-shadow:0 2px 10px #00000026}.modal-title[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px;font-size:24px;font-weight:700}.modal-content[_ngcontent-%COMP%]{margin-bottom:20px}.link-label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:10px}.link-container[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#f5f5f5;border-radius:4px;overflow:hidden}.link-input[_ngcontent-%COMP%]{flex:1;padding:10px;border:none;background-color:transparent;font-family:Roboto,sans-serif}.copy-button[_ngcontent-%COMP%]{position:relative;color:#999;margin-right:8px;transition:color .3s,opacity .3s}.copy-button[_ngcontent-%COMP%]:hover{color:#555}.copy-button.done[_ngcontent-%COMP%]   .copy-icon[_ngcontent-%COMP%]{position:absolute;inset:0;opacity:1;transition:opacity .3s}.copy-button.done[_ngcontent-%COMP%]   .done-icon[_ngcontent-%COMP%]{opacity:0;transform:rotate(0);transition:opacity .3s,transform .5s}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.button-done[_ngcontent-%COMP%]{display:inline-block;padding:5px 10px;border-radius:4px;background-color:#4caf50;color:#fff;opacity:0;transition:opacity .3s}.button-done.show[_ngcontent-%COMP%]{opacity:1}.modal-container.show-copy[_ngcontent-%COMP%]   .copy-button.copy[_ngcontent-%COMP%]   .copy-icon[_ngcontent-%COMP%]{opacity:0}.modal-container.show-copy[_ngcontent-%COMP%]   .copy-button.copy[_ngcontent-%COMP%]   .done-icon[_ngcontent-%COMP%]{opacity:1;transform:rotate(360deg);color:#4caf50}.done-icon[_ngcontent-%COMP%]{color:green}"],data:{animation:[dc("copyIconTransition",[Or("copy",oi({transform:"rotate(0deg)",opacity:1})),Or("done",oi({transform:"rotate(0deg)",opacity:1})),js("copy => done",[oi({transform:"rotate(0deg)",opacity:0}),_o("500ms ease-in",oi({opacity:1}))]),js("done => copy",[oi({transform:"rotate(0deg)",opacity:1}),_o("500ms ease-out",oi({opacity:0}))])])]}}),n})();function i_e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",16),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2);return r.edit=!0,o.KtG(r.detail=!1)}),o.TgZ(1,"mat-icon"),o._uU(2,"edit"),o.qZA()()}}function r_e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"span",17)(1,"button",18),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.likeIt())}),o.TgZ(2,"mat-icon"),o._uU(3,"thumb_up"),o.qZA()()()}}function s_e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"span",17)(1,"button",19),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.likeIt())}),o.TgZ(2,"mat-icon"),o._uU(3,"thumb_up"),o.qZA()()()}}function o_e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",11)(1,"button",12),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.deleteMacro())}),o.TgZ(2,"mat-icon"),o._uU(3,"delete_forever"),o.qZA()(),o.YNc(4,i_e,3,0,"button",13),o.TgZ(5,"button",14),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.share())}),o.TgZ(6,"mat-icon"),o._uU(7,"share"),o.qZA()(),o.YNc(8,r_e,4,0,"span",15),o.YNc(9,s_e,4,0,"span",15),o.qZA()}if(2&n){const e=o.oxw();o.xp6(4),o.Q6J("ngIf",!e.edit),o.xp6(4),o.Q6J("ngIf",e.isRegnante&&e.detail&&e.checkThumb()),o.xp6(1),o.Q6J("ngIf",e.isRegnante&&e.detail&&e.checkIfVote())}}function a_e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",11)(1,"button",18),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.likeIt())}),o.TgZ(2,"mat-icon"),o._uU(3,"thumb_up"),o.qZA()(),o.TgZ(4,"button",14),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.share())}),o.TgZ(5,"mat-icon"),o._uU(6,"share"),o.qZA()()()}}function l_e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",11)(1,"button",19),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.likeIt())}),o.TgZ(2,"mat-icon"),o._uU(3,"thumb_up"),o.qZA()(),o.TgZ(4,"button",14),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.share())}),o.TgZ(5,"mat-icon"),o._uU(6,"share"),o.qZA()()()}}function c_e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",11)(1,"button",14),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.share())}),o.TgZ(2,"mat-icon"),o._uU(3,"share"),o.qZA()()()}}function u_e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-option",30),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.editMultiInsert())}),o._uU(1),o.qZA()}if(2&n){const e=t.$implicit,i=o.oxw(2);o.Q6J("value",e)("disabled",!(null!=i.macroMultiInsert&&i.macroMultiInsert.checked)),o.xp6(1),o.hij(" ",e," ")}}function d_e(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Seleziona una tipologia "),o.qZA())}function h_e(n,t){if(1&n&&(o.TgZ(0,"li")(1,"b"),o._uU(2),o.qZA(),o._uU(3),o.qZA()),2&n){const e=o.oxw().$implicit;o.xp6(2),o.hij("",e.comando,":"),o.xp6(1),o.hij(" ",e.function,"")}}function A_e(n,t){if(1&n&&(o.TgZ(0,"li")(1,"b"),o._uU(2),o.qZA()()),2&n){const e=o.oxw().$implicit;o.xp6(2),o.Oqu(e.comando)}}function f_e(n,t){if(1&n&&(o.TgZ(0,"ul"),o.YNc(1,h_e,4,2,"li",3),o.YNc(2,A_e,3,1,"li",3),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("ngIf",""!=e.function),o.xp6(1),o.Q6J("ngIf",""==e.function)}}function p_e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"div",20)(2,"mat-form-field")(3,"mat-label"),o._uU(4,"Autore"),o.qZA(),o.TgZ(5,"input",21),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.macroMultiInsert.macro.macro.author=r)}),o.qZA()(),o.TgZ(6,"mat-form-field")(7,"mat-label"),o._uU(8,"Titolo"),o.qZA(),o.TgZ(9,"input",22),o.NdJ("keyup",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.editMultiInsert())}),o.qZA()(),o.TgZ(10,"mat-form-field")(11,"mat-label"),o._uU(12,"Delay MacroUO"),o.qZA(),o.TgZ(13,"input",23),o.NdJ("change",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.editMultiInsert(r))}),o.qZA()(),o.TgZ(14,"textarea",24),o.NdJ("keyup",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.editMultiInsert())}),o.qZA(),o.TgZ(15,"mat-form-field",25)(16,"mat-label"),o._uU(17,"Tipologia"),o.qZA(),o.TgZ(18,"mat-select",26),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.macroMultiInsert.macro.tipologia=r)}),o.YNc(19,u_e,2,3,"mat-option",27),o.qZA(),o.YNc(20,d_e,2,0,"mat-error",3),o.qZA()(),o.TgZ(21,"div",28),o.YNc(22,f_e,3,2,"ul",29),o.qZA()()}if(2&n){const e=o.oxw();o.xp6(5),o.Q6J("readonly",!0)("ngModel",e.macroMultiInsert.macro.macro.author),o.xp6(4),o.Q6J("formControl",e.macroFullForm.controls.titolo)("readonly",!(null!=e.macroMultiInsert&&e.macroMultiInsert.checked)),o.xp6(4),o.Q6J("formControl",e.macroFullForm.controls.delay)("readonly",!(null!=e.macroMultiInsert&&e.macroMultiInsert.checked)),o.xp6(1),o.Q6J("formControl",e.macroFullForm.controls.descrizione)("readonly",!(null!=e.macroMultiInsert&&e.macroMultiInsert.checked)),o.xp6(4),o.Q6J("ngModel",e.macroMultiInsert.macro.tipologia),o.xp6(1),o.Q6J("ngForOf",e.tipologieMacro),o.xp6(1),o.Q6J("ngIf",""==e.macroMultiInsert.macro.tipologia),o.xp6(2),o.Q6J("ngForOf",null==e.macroMultiInsert?null:e.macroMultiInsert.settings)}}function g_e(n,t){if(1&n&&(o.TgZ(0,"mat-option",39),o._uU(1),o.qZA()),2&n){const e=t.$implicit,i=o.oxw(2);o.Q6J("value",e)("disabled",!i.edit&&i.detail),o.xp6(1),o.hij(" ",e," ")}}function m_e(n,t){1&n&&(o.TgZ(0,"b",40),o._uU(1,"Crea la tua macro"),o.qZA())}function __e(n,t){1&n&&(o.TgZ(0,"mat-icon",52),o._uU(1,"remove_circle"),o.qZA())}function y_e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-option",53),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw().index,l=o.oxw(3);return o.KtG(l.addMacroToList(s,a))}),o._uU(1),o.qZA()}if(2&n){const e=t.$implicit;o.Q6J("value",e),o.xp6(1),o.hij(" ",e.comando," ")}}function v_e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-option",53),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw(2).index,l=o.oxw(3);return o.KtG(l.addMacroToListUpdate(a,s,null))}),o._uU(1),o.qZA()}if(2&n){const e=t.$implicit;o.Q6J("value",e),o.xp6(1),o.hij(" ",e," ")}}function w_e(n,t){if(1&n&&(o.TgZ(0,"mat-form-field",47)(1,"mat-label"),o._uU(2),o.qZA(),o.TgZ(3,"mat-select"),o.YNc(4,v_e,2,2,"mat-option",50),o.qZA()()),2&n){const e=o.oxw().$implicit;o.xp6(2),o.Oqu(e.comando),o.xp6(2),o.Q6J("ngForOf",e.settings)}}function b_e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-form-field")(1,"mat-label"),o._uU(2),o.qZA(),o.TgZ(3,"input",54),o.NdJ("keyup",function(r){o.CHM(e);const s=o.oxw().index,a=o.oxw(3);return o.KtG(a.addMacroToListUpdate(s,"",r))}),o.qZA()()}if(2&n){const e=o.oxw().$implicit;o.xp6(2),o.Oqu(e.comando)}}function C_e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",20),o._UZ(1,"div",7),o.TgZ(2,"div",45)(3,"button",43),o.NdJ("click",function(){const s=o.CHM(e).index,a=o.oxw(3);return o.KtG(a.eliminaMacroEdit(s))}),o.YNc(4,__e,2,0,"mat-icon",46),o.qZA()(),o.TgZ(5,"mat-form-field",47)(6,"mat-label",48),o._uU(7,"Macro"),o.qZA(),o.TgZ(8,"mat-select",49),o.YNc(9,y_e,2,2,"mat-option",50),o.qZA()(),o.YNc(10,w_e,5,2,"mat-form-field",51),o.YNc(11,b_e,4,1,"mat-form-field",3),o.TgZ(12,"div",7),o._UZ(13,"hr"),o.qZA()()}if(2&n){const e=t.$implicit,i=o.oxw(3);o.xp6(4),o.Q6J("ngIf",!i.detail),o.xp6(4),o.Q6J("compareWith",i.compareSettings)("ngModel",e),o.xp6(1),o.Q6J("ngForOf",i.macroSettings),o.xp6(1),o.Q6J("ngIf",e&&(null==e?null:e.settings).length>0),o.xp6(1),o.Q6J("ngIf",e&&"text"==(null==e?null:e.type))}}function x_e(n,t){1&n&&(o.TgZ(0,"mat-icon",55),o._uU(1,"add_circle"),o.qZA())}function S_e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",41),o.YNc(1,C_e,14,6,"div",42),o.TgZ(2,"button",43),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.addMacro())}),o.YNc(3,x_e,2,0,"mat-icon",44),o.qZA()()}if(2&n){const e=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",e.insertMacroSettings),o.xp6(2),o.Q6J("ngIf",!e.detail)}}function E_e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",56),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.saveMacro())}),o._uU(1,"Salva"),o.qZA()}if(2&n){const e=o.oxw(2);o.Q6J("disabled",e.disabledButton())}}function I_e(n,t){if(1&n&&(o.TgZ(0,"div",20)(1,"mat-form-field")(2,"mat-label"),o._uU(3,"Autore"),o.qZA(),o._UZ(4,"input",31),o.qZA(),o.TgZ(5,"mat-form-field")(6,"mat-label"),o._uU(7,"Titolo"),o.qZA(),o._UZ(8,"input",32),o.qZA(),o.TgZ(9,"mat-form-field")(10,"mat-label"),o._uU(11,"Delay MacroUO"),o.qZA(),o._UZ(12,"input",33),o.qZA(),o._UZ(13,"textarea",34),o.TgZ(14,"mat-form-field",25)(15,"mat-label"),o._uU(16,"Tipologia"),o.qZA(),o.TgZ(17,"mat-select",35),o.YNc(18,g_e,2,3,"mat-option",36),o.qZA()(),o.YNc(19,m_e,2,0,"b",37),o.YNc(20,S_e,4,2,"div",6),o._UZ(21,"div",7),o.YNc(22,E_e,2,1,"button",38),o.qZA()),2&n){const e=o.oxw();o.xp6(4),o.Q6J("readonly",!0)("formControl",e.macroFullForm.controls.author)("ngModel",e.macroFull.macro.author),o.xp6(4),o.Q6J("formControl",e.macroFullForm.controls.titolo)("readonly",!e.edit&&e.detail),o.xp6(4),o.Q6J("formControl",e.macroFullForm.controls.delay)("readonly",!e.edit&&e.detail),o.xp6(1),o.Q6J("formControl",e.macroFullForm.controls.descrizione)("readonly",!e.edit&&e.detail),o.xp6(4),o.Q6J("formControl",e.macroFullForm.controls.tipologia),o.xp6(1),o.Q6J("ngForOf",e.tipologieMacro),o.xp6(1),o.Q6J("ngIf",!e.edit&&!e.detail&&e.insert&&!e.multiInsert),o.xp6(1),o.Q6J("ngIf",!e.edit&&!e.detail&&e.insert),o.xp6(2),o.Q6J("ngIf",!e.detail&&!e.edit)}}function D_e(n,t){1&n&&(o.TgZ(0,"b",57),o._uU(1,"Modifica la tua macro"),o.qZA())}function T_e(n,t){1&n&&(o.TgZ(0,"mat-icon",52),o._uU(1,"remove_circle"),o.qZA())}function M_e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-option",59),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw().index,l=o.oxw(2);return o.KtG(l.editSettings(s,a))}),o._uU(1),o.qZA()}if(2&n){const e=t.$implicit,i=o.oxw(3);o.Q6J("value",e)("disabled",i.detail),o.xp6(1),o.hij(" ",e.comando," ")}}function B_e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-option",59),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw(2).index,l=o.oxw(2);return o.KtG(l.editSubSettings(s,a))}),o._uU(1),o.qZA()}if(2&n){const e=t.$implicit,i=o.oxw(4);o.Q6J("value",e)("disabled",i.detail),o.xp6(1),o.hij(" ",e," ")}}function F_e(n,t){if(1&n&&(o.TgZ(0,"mat-form-field",47)(1,"mat-label",48),o._uU(2),o.qZA(),o.TgZ(3,"mat-select",49),o.YNc(4,B_e,2,3,"mat-option",58),o.qZA()()),2&n){const e=o.oxw().$implicit,i=o.oxw(2);o.xp6(2),o.Oqu(e.comando),o.xp6(1),o.Q6J("compareWith",i.compareSottoSettings)("ngModel",e.function),o.xp6(1),o.Q6J("ngForOf",e.settings)}}function k_e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-form-field")(1,"mat-label"),o._uU(2),o.qZA(),o.TgZ(3,"input",60),o.NdJ("keyup",function(r){o.CHM(e);const s=o.oxw().index,a=o.oxw(2);return o.KtG(a.editSubSettings(r.target,s))}),o.qZA()()}if(2&n){const e=o.oxw().$implicit,i=o.oxw(2);o.xp6(2),o.Oqu(e.comando),o.xp6(1),o.Q6J("ngModel",e.function)("readonly",i.detail)}}function R_e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",20)(1,"div",45)(2,"button",43),o.NdJ("click",function(){const s=o.CHM(e).index,a=o.oxw(2);return o.KtG(a.eliminaMacroEdit(s))}),o.YNc(3,T_e,2,0,"mat-icon",46),o.qZA()(),o.TgZ(4,"mat-form-field",47)(5,"mat-label",48),o._uU(6,"Macro"),o.qZA(),o.TgZ(7,"mat-select",49),o.YNc(8,M_e,2,3,"mat-option",58),o.qZA()(),o.YNc(9,F_e,5,4,"mat-form-field",51),o.YNc(10,k_e,4,3,"mat-form-field",3),o.TgZ(11,"div",7),o._UZ(12,"hr"),o.qZA()()}if(2&n){const e=t.$implicit,i=o.oxw(2);o.xp6(3),o.Q6J("ngIf",!i.detail),o.xp6(4),o.Q6J("compareWith",i.compareSettings)("ngModel",e),o.xp6(1),o.Q6J("ngForOf",i.macroSettings),o.xp6(1),o.Q6J("ngIf","command"==e.type&&e.settings.length>0),o.xp6(1),o.Q6J("ngIf","text"==e.type&&0==e.settings.length)}}function O_e(n,t){1&n&&(o.TgZ(0,"mat-icon",55),o._uU(1,"add_circle"),o.qZA())}function L_e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",41),o.YNc(1,R_e,13,6,"div",42),o.TgZ(2,"button",43),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.addMacro())}),o.YNc(3,O_e,2,0,"mat-icon",44),o.qZA()()}if(2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.detailMacroSettings),o.xp6(2),o.Q6J("ngIf",!e.detail)}}function P_e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",61),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.saveMacro())}),o._uU(1,"Modifica"),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("disabled",e.disabeldEditButton())}}function N_e(n,t){if(1&n&&(o.TgZ(0,"li")(1,"b"),o._uU(2),o.qZA(),o._uU(3),o.qZA()),2&n){const e=o.oxw().$implicit;o.xp6(2),o.hij("",e.comando,":"),o.xp6(1),o.hij(" ",e.function,"")}}function U_e(n,t){if(1&n&&(o.TgZ(0,"li")(1,"b"),o._uU(2),o.qZA()()),2&n){const e=o.oxw().$implicit;o.xp6(2),o.Oqu(e.comando)}}function H_e(n,t){if(1&n&&(o.TgZ(0,"ul"),o.YNc(1,N_e,4,2,"li",3),o.YNc(2,U_e,3,1,"li",3),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("ngIf",""!=e.function),o.xp6(1),o.Q6J("ngIf",""==e.function)}}function Q_e(n,t){if(1&n&&(o.TgZ(0,"div",28),o.YNc(1,H_e,3,2,"ul",29),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.detailMacroSettings)}}const V_e=function(n){return{"border-color":n}},j_e=function(n){return{"cont panel":n}};let q9=(()=>{class n{constructor(e,i,r,s,a,l,d){this.utils=e,this.service=i,this.data=r,this.userService=s,this.dialog=a,this.activated=l,this.router=d,this.editMacro=new o.vpe,this.multiInsert=!1,this.detail=!1,this.insert=!1,this.isUpdateable=!1,this.edit=!1,this.username="",this.macroFull=new $w,this.tipologieMacro=new Array,this.macroSettings=new Array,this.insertMacroSettings=new Array,this.detailMacroSettings=new Array,this.isRegnante=!1,this.utenteLoggato="",this.macroFullForm=new Z0({author:new ls(""),titolo:new ls(""),tipologia:new ls(""),settings:new ls(""),descrizione:new ls(""),delay:new ls("0",ma.minLength(0))}),r&&(-1!=r.id&&(this.detail=!0),1==r.insert&&(this.insert=r.insert))}ngOnInit(){this.inizializza(),this.removeLink()}removeLink(){this.activated.snapshot.queryParamMap.get("link")&&this.router.navigate([],{queryParams:{link:null},queryParamsHandling:"merge"})}ngOnChanges(e){this.macroMultiInsert&&this.setMultiInsert()}setMultiInsert(){var e,i,r,s,a,l;this.multiInsert=!0,null===(e=this.macroFullForm.get("titolo"))||void 0===e||e.setValue(this.macroMultiInsert.macro.macro.title),null===(i=this.macroFullForm.get("descrizione"))||void 0===i||i.setValue(this.macroMultiInsert.macro.descrizione),null===(r=this.macroFullForm.get("delay"))||void 0===r||r.setValue(this.macroMultiInsert.macro.macro.delay.toString()),""==(null===(s=this.macroFullForm.get("tipologia"))||void 0===s?void 0:s.value)&&(null===(a=this.macroFullForm.get("tipologia"))||void 0===a||a.setValue("")),this.edit=1==(null===(l=this.macroMultiInsert)||void 0===l?void 0:l.checked)}editMultiInsert(e=null){var i,r;const s=null===(i=this.macroFullForm.get("descrizione"))||void 0===i?void 0:i.value;s&&(this.macroMultiInsert.macro.descrizione=s);const a=null===(r=this.macroFullForm.get("titolo"))||void 0===r?void 0:r.value;null!=a&&(this.macroMultiInsert.macro.macro.title=a),e&&null!=e.target.value&&(this.macroMultiInsert.macro.macro.delay=Number(e.target.value)),this.editMacro.emit(this.macroMultiInsert)}inizializza(){this.tipologieMacro=this.service.GetTipologieMacro(),this.macroMultiInsert||(this.getMacroSettings(),this.getMacro(),this.insert&&this.checkUser())}getMacro(){const e=this.service.getMacro(this.data.id).subscribe(i=>{var r;if(null!==(r=i[0])&&void 0!==r&&r.macro.author){e.unsubscribe();const s=this.service.getMacroSettingsUser(this.data.id).subscribe(a=>{a.length>0&&(this.setAllValue(i[0],a),s.unsubscribe())})}})}setAllValue(e,i){var r,s,a,l;this.macroFull.macro.author=e.macro.author,this.macroFull.macro.date=e.macro.date,this.macroFull.macro.like=e.macro.like,this.macroFull.macro.guid=e.macro.guid,this.macroFull.macro.utenti=e.macro.utenti,null===(r=this.macroFullForm.get("titolo"))||void 0===r||r.setValue(e.macro.title),null===(s=this.macroFullForm.get("descrizione"))||void 0===s||s.setValue(e.descrizione),null===(a=this.macroFullForm.get("tipologia"))||void 0===a||a.setValue(e.tipologia),null===(l=this.macroFullForm.get("delay"))||void 0===l||l.setValue(e.macro.delay.toString()),this.detailMacroSettings=i.sort(function(d,A){return d.index>A.index?1:-1}),this.checkUser()}compareSettings(e,i){return e.comando===i.comando}compareSottoSettings(e,i){return e==i}getSubSettings(e){return document.getElementById("targetRed").scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"}),this.macroSettings.filter(i=>i.comando==e)[0].settings}checkUser(){var e,i;const r=this.userService.userLoggato;r&&(this.utenteLoggato=r.username,(r.username===this.macroFull.macro.author||(null===(e=r.ruoli)||void 0===e?void 0:e.includes("Regnante")))&&(this.isUpdateable=!0),this.insert&&null!=this.utenteLoggato&&(this.macroFull.macro.author=this.utenteLoggato),this.macroFull.macro.author!=r.username&&(null===(i=r.ruoli)||void 0===i?void 0:i.includes("Regnante"))&&(this.isRegnante=!0))}getMacroSettings(){this.service.getMacroSettings().subscribe(e=>this.macroSettings=e)}addMacro(){this.insert&&this.insertMacroSettings.push(new Xw),this.edit&&this.detailMacroSettings.push(new Xw),document.getElementById("targetRed").scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}eliminaMacroEdit(e){e>-1&&this.edit&&this.detailMacroSettings.splice(e,1),e>-1&&this.insert&&this.insertMacroSettings.splice(e,1)}editSettings(e,i){var r;null==(null===(r=this.detailMacroSettings[i])||void 0===r?void 0:r.comando)&&(this.detailMacroSettings[i]=new Xw),this.detailMacroSettings[i].comando=e.comando,this.detailMacroSettings[i].type=e.type,this.detailMacroSettings[i].settings=e.settings,this.detailMacroSettings[i].function=""}editSubSettings(e,i){this.detailMacroSettings[i].function="string"==typeof e?e:e.value,document.getElementById("targetRed").scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}addMacroToList(e,i){var r;null==(null===(r=this.insertMacroSettings[i])||void 0===r?void 0:r.comando)&&(this.insertMacroSettings[i]=new Xw),this.insertMacroSettings[i].comando=e.comando,this.insertMacroSettings[i].settings=e.settings,this.insertMacroSettings[i].type=e.type}addMacroToListUpdate(e,i="",r){""!=i&&(this.insertMacroSettings[e].function=i),r&&(this.insertMacroSettings[e].function=r.target.value)}disabledButton(){var e,i,r,s;return""==this.macroFull.macro.author||null==this.insertMacroSettings[0]||""==(null===(e=this.insertMacroSettings[0])||void 0===e?void 0:e.comando)||""==(null===(i=this.macroFullForm.get("delay"))||void 0===i?void 0:i.value)||""==(null===(r=this.macroFullForm.get("tipologia"))||void 0===r?void 0:r.value)||""==(null===(s=this.macroFullForm.get("titolo"))||void 0===s?void 0:s.value)}disabeldEditButton(){var e,i,r,s;return""==this.macroFull.macro.author||null==this.detailMacroSettings[0]||""==(null===(e=this.detailMacroSettings[0])||void 0===e?void 0:e.comando)||""==(null===(i=this.macroFullForm.get("delay"))||void 0===i?void 0:i.value)||""==(null===(r=this.macroFullForm.get("tipologia"))||void 0===r?void 0:r.value)||""==(null===(s=this.macroFullForm.get("titolo"))||void 0===s?void 0:s.value)}saveMacro(){var e,i;if(!this.disabledButton()||this.edit&&!this.disabeldEditButton()){let r=new f1;r.macro.author=this.macroFull.macro.author;const s=this.macroFullForm.get("titolo").value;s&&(r.macro.title=s);const a=this.macroFullForm.get("descrizione").value;a&&(r.descrizione=a);const l=null===(e=this.macroFullForm.get("tipologia"))||void 0===e?void 0:e.value;l&&(r.macro.tipologia=l);const d=null===(i=this.macroFullForm.get("delay"))||void 0===i?void 0:i.value;d&&(r.macro.delay=Number(d)),this.insert&&(r.settings=this.orderMacro(this.insertMacroSettings),r.macro.date=new Date,r.macro.like=0,r.macro.guid=crypto.randomUUID(),this.service.addMacros(r)),this.edit&&(r.settings=this.orderMacro(this.detailMacroSettings),r.macro.date=this.macroFull.macro.date,r.macro.like=this.macroFull.macro.like,r.macro.guid=this.macroFull.macro.guid,this.service.updateMacro(r)),this.dialog.closeAll()}}orderMacro(e){for(let i=0;i<e.length;i++)e[i].index=i;return e}deleteMacro(){confirm("Sei sicuro di voler cancellare la macro?")&&(this.service.deleteMacro(this.macroFull.macro.guid),this.dialog.closeAll())}checkThumb(){return this.detail&&!this.macroFull.macro.utenti.includes(this.utenteLoggato)&&""!=this.utenteLoggato}checkIfVote(){return this.macroFull.macro.utenti.includes(this.utenteLoggato)}likeIt(){const e=this.service.addLikeMacro(this.macroFull.macro.guid,this.utenteLoggato).subscribe(i=>{i&&(this.getMacro(),e.unsubscribe())})}share(){const e=this.macroFull.macro,i=window.location.href,r=new URLSearchParams;r.set("link",e.guid);const s=`${i}?${r.toString()}`;this.dialog.open(n_e,{width:"500px",data:{link:s}})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(lh),o.Y36(Ek),o.Y36(Fm),o.Y36(gd),o.Y36(Ly),o.Y36(Au),o.Y36(os))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-macro-insert-edit"]],inputs:{macroMultiInsert:"macroMultiInsert"},outputs:{editMacro:"editMacro"},features:[o.TTD],decls:15,vars:16,consts:[["fxLayout","column","fxLayoutAlign","space-around stretch"],[1,"cont",3,"ngStyle","ngClass"],["class","edit",4,"ngIf"],[4,"ngIf"],["fxLayout","column",4,"ngIf"],["style","width:100%;text-align: center; ",4,"ngIf"],["class","customTextArea",4,"ngIf"],[2,"padding-top","2vh"],["mat-raised-button","","color","accent","style","width:100%",3,"disabled","click",4,"ngIf"],["class","customTextArea","style","text-align: left;",4,"ngIf"],["id","targetRed",2,"padding-top","1vh","width","100%"],[1,"edit"],["mat-mini-fab","","matTooltip","Elimina","color","warn",2,"margin-right","1vw",3,"click"],["mat-mini-fab","","matTooltip","Modifica",3,"click",4,"ngIf"],["mat-mini-fab","","matTooltip","Condividi","color","primary",2,"margin-left","1vw",3,"click"],["class","edit","style","margin-right:1vw;",4,"ngIf"],["mat-mini-fab","","matTooltip","Modifica",3,"click"],[1,"edit",2,"margin-right","1vw"],["mat-mini-fab","","matTooltip","Mi piace","color","primary",3,"click"],["mat-mini-fab","","matTooltip","Non mi piace",2,"background-color","grey",3,"click"],["fxLayout","column"],["matInput","",3,"readonly","ngModel","ngModelChange"],["matInput","",3,"formControl","readonly","keyup"],["matInput","","type","number","minlength","0","min","0",3,"formControl","readonly","change"],["appTextareaAutosize","","placeholder","Descrizione...",1,"text-inputSmart",3,"formControl","readonly","keyup"],["appearance","fill",2,"padding-top","2vh"],[3,"ngModel","ngModelChange"],[3,"value","disabled","click",4,"ngFor","ngForOf"],[1,"customTextArea",2,"text-align","left"],[4,"ngFor","ngForOf"],[3,"value","disabled","click"],["matInput","",3,"readonly","formControl","ngModel"],["matInput","",3,"formControl","readonly"],["matInput","","type","number","minlength","0","min","0",3,"formControl","readonly"],["appTextareaAutosize","","placeholder","Descrizione...",1,"text-inputSmart",3,"formControl","readonly"],[3,"formControl"],[3,"value","disabled",4,"ngFor","ngForOf"],["style","text-align: center;",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],[3,"value","disabled"],[2,"text-align","center"],[1,"customTextArea"],["fxLayout","column",4,"ngFor","ngForOf"],["mat-icon-button","",3,"click"],["matTooltip","Aggiungi una nuova macro","class","Custom",4,"ngIf"],[1,"delete"],["matTooltip","Elimina Macro",4,"ngIf"],["appearance","fill"],[1,"label"],[3,"compareWith","ngModel"],["fxFlex","",3,"value","click",4,"ngFor","ngForOf"],["appearance","fill",4,"ngIf"],["matTooltip","Elimina Macro"],["fxFlex","",3,"value","click"],["matInput","","type","text",3,"keyup"],["matTooltip","Aggiungi una nuova macro",1,"Custom"],["mat-raised-button","","color","primary",3,"disabled","click"],[2,"width","100%","text-align","center"],["fxFlex","",3,"value","disabled","click",4,"ngFor","ngForOf"],["fxFlex","",3,"value","disabled","click"],["matInput","","type","text",3,"ngModel","readonly","keyup"],["mat-raised-button","","color","accent",2,"width","100%",3,"disabled","click"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"mat-card",1),o.YNc(2,o_e,10,3,"div",2),o.YNc(3,a_e,7,0,"div",2),o.YNc(4,l_e,7,0,"div",2),o.YNc(5,c_e,4,0,"div",2),o.TgZ(6,"mat-card-content"),o.YNc(7,p_e,23,12,"div",3),o.YNc(8,I_e,23,14,"div",4),o.YNc(9,D_e,2,0,"b",5),o.YNc(10,L_e,4,2,"div",6),o._UZ(11,"div",7),o.YNc(12,P_e,2,1,"button",8),o.YNc(13,Q_e,2,1,"div",9),o.qZA()()(),o._UZ(14,"div",10)),2&e&&(o.xp6(1),o.Q6J("ngStyle",o.VKq(12,V_e,i.macroMultiInsert&&!i.macroMultiInsert.checked?"grey":""))("ngClass",o.VKq(14,j_e,i.multiInsert)),o.xp6(1),o.Q6J("ngIf",i.isUpdateable&&i.detail),o.xp6(1),o.Q6J("ngIf",!i.isUpdateable&&i.detail&&i.checkThumb()),o.xp6(1),o.Q6J("ngIf",!i.isUpdateable&&i.detail&&i.checkIfVote()),o.xp6(1),o.Q6J("ngIf",!i.utenteLoggato&&i.detail&&!i.multiInsert),o.xp6(2),o.Q6J("ngIf",i.multiInsert),o.xp6(1),o.Q6J("ngIf",!i.multiInsert),o.xp6(1),o.Q6J("ngIf",i.edit&&!i.detail&&!i.insert&&!i.multiInsert),o.xp6(1),o.Q6J("ngIf",i.edit&&!i.detail&&!i.insert),o.xp6(2),o.Q6J("ngIf",i.edit&&!i.multiInsert),o.xp6(1),o.Q6J("ngIf",i.detail&&!i.edit&&!i.insert&&!i.multiInsert))},dependencies:[Es,ds,Si,lo,Qy,$T,K0,j6,Q6,JT,Qp,wu,fc,_d,il,UR,fS,Uy,SC,v9,IC,W0,vS,uC,DC,km,pS],styles:[".cont[_ngcontent-%COMP%]{border:2px solid #004a9f;border-radius:5px}.panel[_ngcontent-%COMP%]{height:45vh;overflow-y:auto}.text-inputSmart[_ngcontent-%COMP%]{resize:none;height:80px}.customTextArea[_ngcontent-%COMP%]{border:1px solid black;width:100%;text-align:center}.Custom[_ngcontent-%COMP%]{color:#004a9f}.miniSelect[_ngcontent-%COMP%]{width:10px}hr[_ngcontent-%COMP%]{border:2px solid #004a9f}.edit[_ngcontent-%COMP%]{text-align:right;width:100%;height:5vh}.delete[_ngcontent-%COMP%]{text-align:right;width:100%;color:red}"]}),n})(),z_e=(()=>{class n{constructor(e,i,r,s){this.data=e,this.userService=i,this.service=r,this.dialog=s,this.macros=new Array,this.macro=new eI,this.index=0,this.checkAll=!0,null!=e.macros&&(this.macros=e.macros)}ngOnInit(){this.macro=this.macros[0],this.checkUser()}changeScheda(e){"right"==e&&this.index<this.macros.length-1?this.index++:"left"==e&&this.index>0&&this.index--,this.macro=this.macros[this.index]}resetMacro(){this.macro.checked||(this.macro.macro.tipologia=""),this.checkAllMacro(),this.checkedMacros()}checkUser(){const e=this.userService.userLoggato;e?this.macros.forEach(i=>i.macro.macro.author=e.username):this.userService.openSnackBar("registrazioneFallita","bottom","center","Effettua prima la login")}setMacro(e){this.macro=e,this.checkAllMacro()}saveAll(){this.checkAllMacro()||this.macros.filter(i=>1==i.checked).forEach(i=>{let r=new f1;r.descrizione=i.macro.descrizione,r.macro.author=i.macro.macro.author,r.macro.delay=i.macro.macro.delay,r.macro.tipologia=i.macro.tipologia,r.macro.title=i.macro.macro.title,r.macro.date=new Date,r.macro.like=0,r.macro.guid=crypto.randomUUID(),r.settings=this.orderMacro(i.settings),this.service.addMacros(r)}),this.dialog.closeAll()}orderMacro(e){for(let i=0;i<e.length;i++)e[i].index=i;return e}checkAllMacro(){let e=!1,i=!1;return this.macros.forEach(r=>{r.checked&&(e=""==r.macro.macro.author||null==r.settings[0]||r.macro.macro.delay<0||""==r.macro.tipologia||0==r.macro.macro.title.length,e&&(i=e))}),0==this.macros.filter(r=>1==r.checked).length&&(i=!0),i}checkedMacros(){return this.macros.filter(e=>1==e.checked).length==this.macros.length?(this.checkAll=!0,"primary"):0!==this.macros.filter(e=>1==e.checked).length?(this.checkAll=!0,"accent"):0==this.macros.filter(e=>1==e.checked).length?"warn":null}setAllChecked(e){e?(this.checkAll=!0,this.macros.forEach(i=>i.checked=!0)):(this.checkAll=!1,this.macros.forEach(i=>i.checked=!1))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Fm),o.Y36(gd),o.Y36(Ek),o.Y36(Ly))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-macro-multi-insert"]],decls:27,vars:8,consts:[[3,"color","ngModel","ngModelChange","change"],["fxLayout","row","fxLayoutAlign","space-around center",1,"skipScheda"],["color","primary",3,"ngModel","ngModelChange","change"],["fxFlex",""],["mat-icon-button","",3,"click"],[2,"color","black"],[1,"panel",3,"multiInsert","macroMultiInsert","editMacro"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,i){1&e&&(o.TgZ(0,"section")(1,"mat-checkbox",0),o.NdJ("ngModelChange",function(s){return i.checkAll=s})("change",function(s){return i.setAllChecked(s.checked)}),o.TgZ(2,"b"),o._uU(3,"Seleziona tutto"),o.qZA()()(),o.TgZ(4,"div",1)(5,"section")(6,"mat-checkbox",2),o.NdJ("ngModelChange",function(s){return i.macro.checked=s})("change",function(){return i.resetMacro()}),o.TgZ(7,"b"),o._uU(8,"Inserisci Macro"),o.qZA()()(),o.TgZ(9,"div",3)(10,"button",4),o.NdJ("click",function(){return i.changeScheda("left")}),o.TgZ(11,"mat-icon"),o._uU(12,"keyboard_arrow_left"),o.qZA()(),o.TgZ(13,"b",5),o._uU(14),o.qZA(),o.TgZ(15,"button",4),o.NdJ("click",function(){return i.changeScheda("right")}),o.TgZ(16,"mat-icon"),o._uU(17,"keyboard_arrow_right"),o.qZA()()()(),o.TgZ(18,"app-macro-insert-edit",6),o.NdJ("editMacro",function(s){return i.setMacro(s)}),o.qZA(),o.TgZ(19,"div",7)(20,"h6"),o._uU(21,'*Per salvare le macro selezionate ricorda di valorizzare il campo "tipologia" '),o._UZ(22,"br"),o._uU(23,"\n*Per rendere la tua macro facilmente ricercabile dalle un titolo semplice, esplicativo e breve"),o.qZA(),o.TgZ(24,"div")(25,"button",8),o.NdJ("click",function(){return i.saveAll()}),o._uU(26,"Salva"),o.qZA()()()),2&e&&(o.xp6(1),o.Q6J("color",i.checkedMacros())("ngModel",i.checkAll),o.xp6(5),o.Q6J("ngModel",i.macro.checked),o.xp6(8),o.AsE("",i.index+1,"/",i.macros.length,""),o.xp6(4),o.Q6J("multiInsert",!0)("macroMultiInsert",i.macro),o.xp6(7),o.Q6J("disabled",i.checkAllMacro()))},dependencies:[K0,Qp,wu,fc,_d,il,SC,t2,q9],styles:[".skipScheda[_ngcontent-%COMP%]{width:100%;text-align:right;color:#004a9f}"]}),n})();function G_e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-option",31),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw(2);return o.KtG(a.applyFilter(s,"tipologia"))}),o._uU(1),o.qZA()}if(2&n){const e=t.$implicit;o.Q6J("value",e),o.xp6(1),o.hij(" ",e," ")}}function q_e(n,t){1&n&&(o.TgZ(0,"mat-header-cell"),o._uU(1," Data "),o.qZA())}function K_e(n,t){if(1&n&&(o.TgZ(0,"mat-cell"),o._uU(1),o.ALo(2,"date"),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",o.xi3(2,1,e.date,"dd.MM.y")," ")}}function Z_e(n,t){1&n&&(o.TgZ(0,"mat-header-cell",32),o._uU(1," Autore "),o.qZA())}function W_e(n,t){if(1&n&&(o.TgZ(0,"mat-cell"),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.author," ")}}function Y_e(n,t){1&n&&(o.TgZ(0,"mat-header-cell",33),o._uU(1," Titolo "),o.qZA())}function $_e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-cell")(1,"div",34),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw(2);return o.KtG(a.detailMacro(s.guid))}),o._uU(2),o.qZA()()}if(2&n){const e=t.$implicit;o.xp6(2),o.Oqu(e.title)}}function J_e(n,t){1&n&&(o.TgZ(0,"mat-header-cell",35),o._uU(1," Like "),o.qZA())}function X_e(n,t){if(1&n&&(o.TgZ(0,"mat-cell"),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.like," ")}}function eye(n,t){1&n&&(o.TgZ(0,"mat-header-cell",36),o._uU(1,"Tipologia "),o.qZA())}function tye(n,t){if(1&n&&(o.TgZ(0,"mat-cell"),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.tipologia," ")}}function nye(n,t){1&n&&o._UZ(0,"mat-header-cell")}function iye(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",39),o.NdJ("click",function(){o.CHM(e);const r=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.likeIt(r.guid))}),o.TgZ(1,"mat-icon",40),o._uU(2,"thumb_up"),o.qZA()()}}function rye(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",41),o.NdJ("click",function(){o.CHM(e);const r=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.likeIt(r.guid))}),o.TgZ(1,"mat-icon",42),o._uU(2,"thumb_up"),o.qZA()()}}function sye(n,t){if(1&n&&(o.TgZ(0,"mat-cell"),o.YNc(1,iye,3,0,"button",37),o.YNc(2,rye,3,0,"button",38),o.qZA()),2&n){const e=t.$implicit,i=o.oxw(2);o.xp6(1),o.Q6J("ngIf",i.checkThumb(e)),o.xp6(1),o.Q6J("ngIf",i.checkIfVote(e))}}function oye(n,t){1&n&&o._UZ(0,"mat-header-row")}function aye(n,t){1&n&&o._UZ(0,"mat-header-row")}const K9=function(){return[5,10]};function lye(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"mat-form-field",4)(4,"mat-label"),o._uU(5,"Autore"),o.qZA(),o.TgZ(6,"input",5),o.NdJ("keyup",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.applyFilter(r.target,"author"))}),o.qZA()(),o.TgZ(7,"mat-form-field",4)(8,"mat-label"),o._uU(9,"Titolo"),o.qZA(),o.TgZ(10,"input",5),o.NdJ("keyup",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.applyFilter(r.target,"macro"))}),o.qZA()(),o.TgZ(11,"mat-form-field",6)(12,"mat-label"),o._uU(13,"Tipologia"),o.qZA(),o.TgZ(14,"mat-select",7),o.YNc(15,G_e,2,2,"mat-option",8),o.qZA()()(),o.TgZ(16,"mat-table",9),o.NdJ("matSortChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.sortData(r))}),o.ynx(17,10),o.YNc(18,q_e,2,0,"mat-header-cell",11),o.YNc(19,K_e,3,4,"mat-cell",12),o.BQk(),o.ynx(20,13),o.YNc(21,Z_e,2,0,"mat-header-cell",14),o.YNc(22,W_e,2,1,"mat-cell",12),o.BQk(),o.ynx(23,15),o.YNc(24,Y_e,2,0,"mat-header-cell",16),o.YNc(25,$_e,3,1,"mat-cell",12),o.BQk(),o.ynx(26,17),o.YNc(27,J_e,2,0,"mat-header-cell",18),o.YNc(28,X_e,2,1,"mat-cell",12),o.BQk(),o.ynx(29,19),o.YNc(30,eye,2,0,"mat-header-cell",20),o.YNc(31,tye,2,1,"mat-cell",12),o.BQk(),o.ynx(32,21),o.YNc(33,nye,1,0,"mat-header-cell",11),o.YNc(34,sye,3,2,"mat-cell",12),o.BQk(),o.YNc(35,oye,1,0,"mat-header-row",22),o.YNc(36,aye,1,0,"mat-header-row",23),o.qZA(),o.TgZ(37,"mat-toolbar",24)(38,"mat-toolbar-row")(39,"button",25),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.insertMacro())}),o.TgZ(40,"mat-icon",26),o._uU(41,"add_circle"),o.qZA()(),o.TgZ(42,"button",25),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.fileInput())}),o.TgZ(43,"mat-icon",27),o._uU(44,"add_to_photos"),o.qZA()(),o.TgZ(45,"input",28),o.NdJ("change",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.openMultiInsert(r))}),o.qZA(),o.TgZ(46,"div",29),o._UZ(47,"mat-paginator",30),o.qZA()()()()()}if(2&n){const e=o.oxw();o.xp6(6),o.Q6J("formControl",e.macroFullForm.controls.author),o.xp6(4),o.Q6J("formControl",e.macroFullForm.controls.macro),o.xp6(4),o.Q6J("formControl",e.macroFullForm.controls.tipologia),o.xp6(1),o.Q6J("ngForOf",e.tipologieMacro),o.xp6(1),o.Q6J("dataSource",e.dataSource),o.xp6(19),o.Q6J("matHeaderRowDef",e.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",e.displayedColumns),o.xp6(11),o.Q6J("pageSizeOptions",o.DdM(8,K9))}}function cye(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-option",31),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw(2);return o.KtG(a.applyFilter(s,"tipologia"))}),o._uU(1),o.qZA()}if(2&n){const e=t.$implicit;o.Q6J("value",e),o.xp6(1),o.hij(" ",e," ")}}function uye(n,t){1&n&&(o.TgZ(0,"mat-header-cell"),o._uU(1," Data "),o.qZA())}function dye(n,t){if(1&n&&(o.TgZ(0,"mat-cell"),o._uU(1),o.ALo(2,"date"),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",o.xi3(2,1,e.date,"dd.MM.y")," ")}}function hye(n,t){1&n&&(o.TgZ(0,"mat-header-cell",32),o._uU(1," Autore "),o.qZA())}function Aye(n,t){if(1&n&&(o.TgZ(0,"mat-cell"),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.author," ")}}function fye(n,t){1&n&&(o.TgZ(0,"mat-header-cell",33),o._uU(1," Titolo "),o.qZA())}function pye(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-cell")(1,"div",34),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw(2);return o.KtG(a.detailMacro(s.guid))}),o._uU(2),o.qZA()()}if(2&n){const e=t.$implicit;o.xp6(2),o.Oqu(e.title)}}function gye(n,t){1&n&&(o.TgZ(0,"mat-header-cell",35)(1,"mat-icon",40),o._uU(2,"thumb_up"),o.qZA()())}function mye(n,t){if(1&n&&(o.TgZ(0,"mat-cell"),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.like," ")}}function _ye(n,t){1&n&&(o.TgZ(0,"mat-header-cell",36),o._uU(1,"Tipo "),o.qZA())}function yye(n,t){if(1&n&&(o.TgZ(0,"mat-cell"),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.tipologia," ")}}function vye(n,t){1&n&&o._UZ(0,"mat-header-row")}function wye(n,t){1&n&&o._UZ(0,"mat-header-row")}function bye(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",1)(1,"div",43)(2,"div",3)(3,"mat-form-field",4)(4,"mat-label"),o._uU(5,"Autore"),o.qZA(),o.TgZ(6,"input",5),o.NdJ("keyup",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.applyFilter(r.target,"author"))}),o.qZA()(),o.TgZ(7,"mat-form-field",4)(8,"mat-label"),o._uU(9,"Macro"),o.qZA(),o.TgZ(10,"input",5),o.NdJ("keyup",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.applyFilter(r.target,"macro"))}),o.qZA()(),o.TgZ(11,"mat-form-field",6)(12,"mat-label"),o._uU(13,"Tipologia"),o.qZA(),o.TgZ(14,"mat-select",7),o.YNc(15,cye,2,2,"mat-option",8),o.qZA()()(),o.TgZ(16,"div",44)(17,"mat-table",9),o.NdJ("matSortChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.sortData(r))}),o.ynx(18,10),o.YNc(19,uye,2,0,"mat-header-cell",11),o.YNc(20,dye,3,4,"mat-cell",12),o.BQk(),o.ynx(21,13),o.YNc(22,hye,2,0,"mat-header-cell",14),o.YNc(23,Aye,2,1,"mat-cell",12),o.BQk(),o.ynx(24,15),o.YNc(25,fye,2,0,"mat-header-cell",16),o.YNc(26,pye,3,1,"mat-cell",12),o.BQk(),o.ynx(27,17),o.YNc(28,gye,3,0,"mat-header-cell",18),o.YNc(29,mye,2,1,"mat-cell",12),o.BQk(),o.ynx(30,19),o.YNc(31,_ye,2,0,"mat-header-cell",20),o.YNc(32,yye,2,1,"mat-cell",12),o.BQk(),o.YNc(33,vye,1,0,"mat-header-row",22),o.YNc(34,wye,1,0,"mat-header-row",23),o.qZA(),o.TgZ(35,"mat-toolbar",45)(36,"mat-toolbar-row")(37,"div")(38,"button",25),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.insertMacro())}),o.TgZ(39,"mat-icon",26),o._uU(40,"add_circle"),o.qZA()()()()(),o._UZ(41,"mat-paginator",30),o.qZA()()()}if(2&n){const e=o.oxw();o.xp6(6),o.Q6J("formControl",e.macroFullForm.controls.author),o.xp6(4),o.Q6J("formControl",e.macroFullForm.controls.macro),o.xp6(4),o.Q6J("formControl",e.macroFullForm.controls.tipologia),o.xp6(1),o.Q6J("ngForOf",e.tipologieMacro),o.xp6(2),o.Q6J("dataSource",e.dataSource),o.xp6(16),o.Q6J("matHeaderRowDef",e.getDisplayedColumns()),o.xp6(1),o.Q6J("matRowDefColumns",e.getDisplayedColumns()),o.xp6(7),o.Q6J("pageSizeOptions",o.DdM(8,K9))}}let Cye=(()=>{class n{constructor(e,i,r,s,a){this.utils=e,this.service=i,this.dialog=r,this.userService=s,this.activated=a,this.macroFullForm=new Z0({author:new ls(""),macro:new ls(""),tipologia:new ls("")}),this.user="",this.filtroData="",this.displayedColumns=["autore","data","like","tipologia","title","likeIt"],this.dataSource=new oH,this.sortedData=new Array,this.tipologieMacro=new Array,this.isLoggedIn=!1}ngOnInit(){var e;this.getMacros(),this.userService.isLoggedInObs.subscribe(i=>{this.isLoggedIn=i,this.checkUser(),this.getLink()}),this.tipologieMacro=this.service.GetTipologieMacro().slice(),this.tipologieMacro.push("Tutte"),null===(e=this.macroFullForm.get("tipologia"))||void 0===e||e.setValue("Tutte")}getLink(){const e=this.activated.snapshot.queryParamMap.get("link");e&&this.detailMacro(e)}getMacros(){this.service.getMacros().subscribe(e=>{this.dataSource=new oH(e),this.sortedData=this.dataSource.data.slice(),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(e,i){if("tipologia"!=i){let r=e.value.trim().toLowerCase();this.dataSource.filter=r}else this.dataSource.data="Tutte"!=e?this.sortedData.filter(r=>r.tipologia.includes(e)):this.sortedData}sortData(e){const i=this.dataSource.data.slice();e.active&&""!==e.direction?(this.sortedData=i.sort((r,s)=>{const a="asc"===e.direction;switch(e.active){case"author":return this.compare(r.author,s.author,a);case"like":return this.compare(r.like,s.like,a);case"title":return this.compare(r.title,s.title,a);case"tiplogia":return this.compare(r.tipologia,s.tipologia,a);default:return 0}}),this.dataSource.data=this.sortedData):this.sortedData=i}compare(e,i,r){return(e<i?-1:1)*(r?1:-1)}getDisplayedColumns(){return this.displayedColumns=["autore","tipologia","title","like"]}detailMacro(e){this.dialogInsertEdit(e,!1)}insertMacro(){this.user?this.dialogInsertEdit(-1,!0).afterClosed().subscribe(i=>{this.getMacros()}):this.userService.openSnackBar("registrazioneFallita","bottom","center","Effettua prima la login")}dialogInsertEdit(e=-1,i=!1){return this.dialog.open(q9,{data:{id:e,insert:i},width:this.utils.isSmartphone()?"100vw":"50vw",height:this.utils.isSmartphone()?"90vh":"70vh"})}checkUser(){const e=this.userService.userLoggato;e&&(this.user=e.username)}checkThumb(e){return this.isLoggedIn&&""!=this.user&&this.user!=e.author&&!e.utenti.includes(this.user)}checkIfVote(e){return e.utenti.includes(this.user)&&this.isLoggedIn}likeIt(e){this.service.addLikeMacro(e,this.user)}fileInput(){var e;""!=this.user&&null!=this.user?null===(e=document.getElementById("fileInput"))||void 0===e||e.click():this.userService.openSnackBar("registrazioneFallita","bottom","center","Effettua prima la login")}openMultiInsert(e){var i=this;return(0,Tt.Z)(function*(){var r=e.target.files[0];if("macros.xml"!=r.name)return void alert("Inserisci il file macros.xml! (The Miracle/Data/Profiles/nomeAccount/The Miracle 3/nomePg/macros.xml)");const a=i.utils.getAllMacrosByXml(yield r.text()).subscribe(l=>{l.length>0?(i.dialog.open(z_e,{data:{macros:l},width:i.utils.isSmartphone()?"100vw":"45vw",height:i.utils.isSmartphone()?"90vh":"74vh"}),a.unsubscribe()):alert("Nessuna macro presente nel file macros.xml!")});e.target.value=null})()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(lh),o.Y36(Ek),o.Y36(Ly),o.Y36(gd),o.Y36(Au))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-macro-list"]],viewQuery:function(e,i){if(1&e&&(o.Gf(n2,5),o.Gf(r2,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.paginator=r.first),o.iGM(r=o.CRH())&&(i.sort=r.first)}},decls:2,vars:2,consts:[["fxFlex","100","fxLayout","row","fxLayoutAlign","center center",4,"ngIf"],["fxFlex","100","fxLayout","row","fxLayoutAlign","center center"],["fxFlex","","fxLayout","column","fxLayoutAlign","space-around stretch","fxFlex","70",2,"padding-top","3vh"],["fxFlex","100","fxLayout","row wrap","fxLayoutAlign","space-around center",1,"input"],["fxFlex","30"],["matInput","",3,"formControl","keyup"],["appearance","fill","fxFlex","30"],[3,"formControl"],[3,"value","click",4,"ngFor","ngForOf"],["fxFlex","100","fxLayout","column","matSort","",1,"table",3,"dataSource","matSortChange"],["matColumnDef","data"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","autore"],["mat-sort-header","author","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","title"],["mat-sort-header","title","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","like"],["mat-sort-header","like","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","tipologia"],["mat-sort-header","tipologia","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","likeIt"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[2,"background-color","white"],["mat-icon-button","",3,"click"],["matTooltip","Aggiungi una nuova macro",1,"Custom"],["matTooltip","Importa file macros.xml",1,"Custom"],["type","file","hidden","","type","file","id","fileInput","accept",".xml",3,"change"],[2,"width","100%","padding","0"],["showFirstLastButtons","",1,"paginator",3,"pageSizeOptions"],[3,"value","click"],["mat-sort-header","author","mat-header-cell",""],["mat-sort-header","title","mat-header-cell",""],[1,"macro",3,"click"],["mat-sort-header","like","mat-header-cell",""],["mat-sort-header","tipologia","mat-header-cell",""],["mat-button","","matTooltip","Mi piace",3,"click",4,"ngIf"],["mat-button","","matTooltip","Non mi piace",3,"click",4,"ngIf"],["mat-button","","matTooltip","Mi piace",3,"click"],[1,"Custom"],["mat-button","","matTooltip","Non mi piace",3,"click"],[2,"color","grey"],["fxFlex","","fxLayout","column","fxLayoutAlign","stretch stretch","fxFlex","100",2,"padding-top","3vh"],["fxLayout","column","fxLayoutAlign","stretch stretch"],[2,"background-color","white","padding","0"]],template:function(e,i){1&e&&(o.YNc(0,lye,48,9,"div",0),o.YNc(1,bye,42,9,"div",0)),2&e&&(o.Q6J("ngIf",!i.utils.isSmartphone()),o.xp6(1),o.Q6J("ngIf",i.utils.isSmartphone()))},dependencies:[ds,Si,Qy,K0,JT,xK,h6,Qp,wu,fc,_d,il,Uy,IC,W0,vS,uC,DC,n2,r2,U9,nH,AO,iH,fO,hO,rH,pO,gO,sH,Sd],styles:[".macro[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;cursor:pointer;font-weight:700;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical}.macro[_ngcontent-%COMP%]:hover{color:#004a9f;font-weight:700}.Custom[_ngcontent-%COMP%]{color:#004a9f}mat-header-cell[_ngcontent-%COMP%]{color:#004a9f;font-weight:700}"]}),n})(),xye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-macro"]],decls:2,vars:0,consts:[["fxFlex",""]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o._UZ(1,"app-macro-list",0),o.qZA())},dependencies:[il,Cye]}),n})();const Sye=["primaryValueBar"],Eye=F0(class{constructor(n){this._elementRef=n}},"primary"),Iye=new o.OlP("mat-progress-bar-location",{providedIn:"root",factory:function Dye(){const n=(0,o.f3M)(Ze),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),Tye=new o.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let Mye=0,Z9=(()=>{class n extends Eye{constructor(e,i,r,s,a,l){super(e),this._ngZone=i,this._animationMode=r,this._changeDetectorRef=l,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new o.vpe,this._animationEndSubscription=Xs.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+Mye++;const d=s?s.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${d}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===r,a&&(a.color&&(this.color=this.defaultColor=a.color),this.mode=a.mode||this.mode)}get value(){return this._value}set value(e){this._value=W9(zc(e)||0),this._changeDetectorRef?.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(e){this._bufferValue=W9(e||0),this._changeDetectorRef?.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=B0(e,"transitionend").pipe(gr(i=>i.target===e)).subscribe(()=>{0!==this.animationEnd.observers.length&&("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(o.QbO,8),o.Y36(Iye,8),o.Y36(Tye,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(e,i){if(1&e&&o.Gf(Sye,5),2&e){let r;o.iGM(r=o.CRH())&&(i._primaryValueBar=r.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,i){2&e&&(o.uIk("aria-valuenow","indeterminate"===i.mode||"query"===i.mode?null:i.value)("mode",i.mode),o.ekj("_mat-animation-noopable",i._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[o.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.O4$(),o.TgZ(1,"svg",1)(2,"defs")(3,"pattern",2),o._UZ(4,"circle",3),o.qZA()(),o._UZ(5,"rect",4),o.qZA(),o.kcU(),o._UZ(6,"div",5)(7,"div",6,7)(9,"div",8),o.qZA()),2&e&&(o.xp6(3),o.Q6J("id",i.progressbarId),o.xp6(2),o.uIk("fill",i._rectangleFillValue),o.xp6(1),o.Q6J("ngStyle",i._bufferTransform()),o.xp6(1),o.Q6J("ngStyle",i._primaryTransform()))},dependencies:[lo],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}.mat-progress-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}'],encapsulation:2,changeDetection:0}),n})();function W9(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let Bye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Us,dr,dr]}),n})();function Fye(n,t){1&n&&(o.TgZ(0,"span",18),o._uU(1," collections_bookmark "),o.qZA())}function kye(n,t){1&n&&(o.TgZ(0,"span",18),o._uU(1," music_note "),o.qZA())}function Rye(n,t){1&n&&(o.TgZ(0,"span",18),o._uU(1," receipt_long "),o.qZA())}function Oye(n,t){1&n&&(o.TgZ(0,"span",18),o._uU(1," school "),o.qZA())}function Lye(n,t){1&n&&(o.TgZ(0,"span",18),o._uU(1," auto_fix "),o.qZA())}function Pye(n,t){1&n&&(o.TgZ(0,"span",18),o._uU(1," swords "),o.qZA())}function Nye(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"input",19),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw().$implicit;return o.KtG(s.value=r)})("keyup",function(){o.CHM(e);const r=o.oxw().$implicit,s=o.oxw();return o.KtG(s.checkNumber(r))}),o.qZA()}if(2&n){const e=o.oxw().$implicit;o.Q6J("ngModel",e.value)}}function Uye(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"li")(1,"div",14)(2,"button",15),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.setSkill(s))}),o.YNc(3,Fye,2,0,"span",16),o.YNc(4,kye,2,0,"span",16),o.YNc(5,Rye,2,0,"span",16),o.YNc(6,Oye,2,0,"span",16),o.YNc(7,Lye,2,0,"span",16),o.YNc(8,Pye,2,0,"span",16),o._uU(9),o.qZA(),o.YNc(10,Nye,1,1,"input",17),o.qZA()()}if(2&n){const e=t.$implicit;o.xp6(2),o.Q6J("color",e.isChecked?"primary":"white"),o.xp6(1),o.Q6J("ngIf",4==e.idTipologiaSkill),o.xp6(1),o.Q6J("ngIf",5==e.idTipologiaSkill),o.xp6(1),o.Q6J("ngIf",0==e.idTipologiaSkill),o.xp6(1),o.Q6J("ngIf",3==e.idTipologiaSkill),o.xp6(1),o.Q6J("ngIf",2==e.idTipologiaSkill),o.xp6(1),o.Q6J("ngIf",1==e.idTipologiaSkill),o.xp6(1),o.hij(" ",e.nome," "),o.xp6(1),o.Q6J("ngIf",e.isChecked)}}function Hye(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",20),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.reset())}),o._uU(1,"Reset "),o.TgZ(2,"mat-icon"),o._uU(3,"undo"),o.qZA()()}}function Qye(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",21),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.salvaSkills())}),o._uU(1,"Salva "),o.TgZ(2,"mat-icon"),o._uU(3,"done"),o.qZA()()}if(2&n){const e=o.oxw();o.Q6J("disabled",e.valueTotale>1200)}}const Vye=function(n){return{content:n}};let jye=(()=>{class n{constructor(e,i,r,s){this.service=e,this.utils=i,this.dialogRef=r,this.data=s,this.classe=new lT,this.tipologieSkill=new Array,this.skillDiClasse=new Array,this.combattive=new Array,this.miscellanee=new Array,this.musicali=new Array,this.magiche=new Array,this.lavorative=new Array,this.conoscitive=new Array,this.skillsComplessive=new Array,this.skillForm=new ls(0,[ma.required]),this.arraySkills=new Array,this.valueTotale=0,this.salva=!1,this.skillScelte=new Array,this.isSmartphone=!1,this.skills=new Array,this.expanded=!0,this.classe=s?.classe,this.skills=s?.skills}ngOnInit(){this.isSmartphone=this.utils.isSmartphone(),this.reload()}setSkill(e){e.isChecked?(e.isChecked=!1,e.value=0,this.removeSkill(e)):(e.isChecked=!0,e.value=100,this.skillScelte.push(e)),this.resultSkills()}checkNumber(e){let i="cercare minerali"==e.nome.toLowerCase()||"fare legna"==e.nome.toLowerCase()||"pescare"==e.nome.toLowerCase()||"erboristeria"==e.nome.toLowerCase()||"agricoltura"==e.nome.toLowerCase();0==e.idTipologiaSkill&&e.value>200&&!i&&(e.value=200),(e.idTipologiaSkill>0||i)&&e.value>100&&(e.value=100),e.value<0&&(e.value=0),this.updateSkill(e),this.resultSkills()}getStandardSkills(e){let i=cT.ConvertToSkillsChecked(e);return i.forEach(r=>{r.value=100,r.isChecked=!0}),i}setStandardSkills(e,i=-1){return this.skillDiClasse.forEach(r=>{let s=e.findIndex(a=>a.id==r.id);-1!=s&&(-1==i?(e[s].isChecked=!0,e[s].value=100):(e[s].isChecked=!1,e[s].value=0))}),e}setAll(e){e.checked?(this.skillsComplessive=this.setStandardSkills(this.skillsComplessive),this.getSkillsChecked()):this.skillsComplessive=this.setStandardSkills(this.skillsComplessive,1),this.resultSkills()}resultSkills(){this.valueTotale=0,this.valueTotale+=this.skillsComplessive.reduce((e,i)=>e+i.value,0)}reload(){this.service.getClasseSkills(this.classe.nome).subscribe(e=>{this.skillDiClasse=this.getStandardSkills(e),this.service.getAllSkills().subscribe(i=>{this.skillsComplessive=cT.ConvertToSkillsChecked(i),this.reloadSkills()})})}removeSkill(e){this.skillScelte=this.skillScelte.filter(i=>i.id!==e.id)}updateSkill(e){var i=this.skillScelte.findIndex(r=>r.id==e.id);this.skillScelte[i].value=e.value}salvaSkills(){this.getSkillsChecked(),this.dialogRef.close({data:this.skillScelte})}reloadSkills(){this.skills.length>0&&(this.skills.forEach(e=>{var i;let r=this.skillsComplessive.findIndex(s=>s.id==e.id);void 0!==(null===(i=this.skillsComplessive[r])||void 0===i?void 0:i.value)&&(this.skillsComplessive[r].value=e.value,this.skillsComplessive[r].isChecked=e.isChecked)}),this.resultSkills())}getSkillsChecked(){this.skillScelte=new Array,this.skillScelte=this.skillScelte.concat(this.skillsComplessive.filter(e=>e.isChecked&&e.value>0))}reset(){this.skillsComplessive.forEach(e=>{e.value=0,e.isChecked=!1}),this.valueTotale=0,this.skillScelte=new Array}spazioSmartphone(){return{"margin-top":this.utils.isSmartphone()?"150em":"135em"}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(j0),o.Y36(lh),o.Y36(z0),o.Y36(Fm))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-modale-skills"]],decls:24,vars:12,consts:[["mat-dialog-title","","fxLayout","column","fxLayoutAlign","space-around"],[2,"margin-top","0.5em"],["mode","determinate",3,"color","value"],["fxFlex","","fxlayout","column",2,"margin-top","0.5em"],["fxFlex","","fxlayout","column",1,"example-section"],["color","primary",1,"example-margin",2,"margin-left","12px",3,"change"],["fxLayout","column","fxLayoutAlign","space-around",3,"ngClass"],["fxFlex","","fxLayout","column",1,"home",3,"ngStyle"],["fxLayout","column",1,"skills"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-around center"],[2,"margin-top","1%"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["fxFlex",""],["mat-raised-button","","fxFlex","",1,"skill",3,"color","click"],["class","material-symbols-outlined",4,"ngIf"],["class","value","matInput","","type","number","fxFlex","30","placeholder","Valore skill",3,"ngModel","ngModelChange","keyup",4,"ngIf"],[1,"material-symbols-outlined"],["matInput","","type","number","fxFlex","30","placeholder","Valore skill",1,"value",3,"ngModel","ngModelChange","keyup"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,i){1&e&&(o.TgZ(0,"div")(1,"div",0)(2,"span"),o._uU(3,"Scegli le skills del tuo pg"),o.qZA(),o.TgZ(4,"div",1),o._UZ(5,"mat-progress-bar",2),o.qZA(),o.TgZ(6,"div",3)(7,"h4"),o._uU(8,"Totale skills selezionate: "),o.TgZ(9,"u"),o._uU(10),o.qZA(),o._uU(11,"/1200"),o.qZA()(),o.TgZ(12,"section",4)(13,"mat-checkbox",5),o.NdJ("change",function(s){return i.setAll(s)}),o._uU(14,"Applica skills consigliate"),o.qZA()()(),o.TgZ(15,"mat-dialog-content",6)(16,"div",7)(17,"div",8),o.YNc(18,Uye,11,9,"li",9),o.qZA()()(),o.TgZ(19,"mat-toolbar-row",10)(20,"div",11),o.YNc(21,Hye,4,0,"button",12),o.qZA(),o.TgZ(22,"div",11),o.YNc(23,Qye,4,1,"button",13),o.qZA()()()),2&e&&(o.xp6(5),o.Q6J("color",i.valueTotale<=1200?"primary":"warn")("value",i.valueTotale/12),o.xp6(4),o.Udp("color",i.valueTotale>1200?"red":"#004a9f"),o.xp6(1),o.Oqu(i.valueTotale),o.xp6(5),o.Q6J("ngClass",o.VKq(10,Vye,i.utils.isSmartphone())),o.xp6(1),o.Q6J("ngStyle",i.spazioSmartphone()),o.xp6(2),o.Q6J("ngForOf",i.skillsComplessive),o.xp6(3),o.Q6J("ngIf",i.expanded),o.xp6(2),o.Q6J("ngIf",i.expanded))},dependencies:[Es,ds,Si,lo,Qy,$T,K0,h6,Qp,wu,fc,_d,il,UR,fS,SC,DC,t2,CK,hde,Z9],styles:['.skill[_ngcontent-%COMP%]{cursor:pointer;padding:2px;margin:4px;height:3em;overflow-y:clip}.value[_ngcontent-%COMP%]{text-align:center;border:2px solid #004a9f;border-radius:7px;margin:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 48}.content[_ngcontent-%COMP%]{max-height:50vh}']}),n})();function zye(n,t){if(1&n&&(o.TgZ(0,"li"),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e," ")}}let Gye=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.data=i,this.service=r,this.spellsPaladino=new $3,this.religione="",null!=i&&""!==i&&(this.religione=i)}ngOnInit(){this.getSpells()}getSpells(){null!=this.religione&&""!=this.religione&&this.service.getSpellPaladinoFromDivinita(this.religione).subscribe(e=>{e.length>0&&(this.spellsPaladino=e[0])})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(z0),o.Y36(Fm),o.Y36(j0))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-modale-paladino"]],decls:19,vars:3,consts:[["fxFlex","100","fxLayout","column",1,"home"],[1,"title"],[1,"blue"],[1,"li"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(o.TgZ(0,"mat-card",0)(1,"div",1)(2,"b",2),o._uU(3,"Info Spell Paladino"),o.qZA()(),o.TgZ(4,"ul")(5,"li",3)(6,"b"),o._uU(7,"Religione:"),o.qZA(),o._uU(8),o.qZA(),o._UZ(9,"br"),o.TgZ(10,"li",3)(11,"b"),o._uU(12,"Aura:"),o.qZA(),o._uU(13),o.qZA(),o._UZ(14,"br"),o.TgZ(15,"b"),o._uU(16,"Spells:"),o.qZA(),o.TgZ(17,"ul"),o.YNc(18,zye,2,1,"li",4),o.qZA()()()),2&e&&(o.xp6(8),o.hij(" ",i.spellsPaladino.religione,""),o.xp6(5),o.hij(" ",i.spellsPaladino.aura,""),o.xp6(5),o.Q6J("ngForOf",null==i.spellsPaladino?null:i.spellsPaladino.spell))},dependencies:[ds,fc,il,km],styles:["mat-card[_ngcontent-%COMP%]{border:2px solid #004a9f;border-radius:3px;margin:3%}mat-card-title[_ngcontent-%COMP%]{color:#004a9f}.blue[_ngcontent-%COMP%]{color:#004a9f}.title[_ngcontent-%COMP%]{font-size:20px}"]}),n})();function Os(n){return(Os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}var zs=Uint8Array,gc=Uint16Array,$0=Uint32Array,SS=new zs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ES=new zs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a2=new zs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$9=function(n,t){for(var e=new gc(31),i=0;i<31;++i)e[i]=t+=1<<n[i-1];var r=new $0(e[30]);for(i=1;i<30;++i)for(var s=e[i];s<e[i+1];++s)r[s]=s-e[i]<<5|i;return[e,r]},J9=$9(SS,2),aH=J9[0],mO=J9[1];aH[28]=258,mO[258]=28;for(var X9=$9(ES,0),eW=X9[0],lH=X9[1],l2=new gc(32768),Ro=0;Ro<32768;++Ro){var J0=(43690&Ro)>>>1|(21845&Ro)<<1;l2[Ro]=((65280&(J0=(61680&(J0=(52428&J0)>>>2|(13107&J0)<<2))>>>4|(3855&J0)<<4))>>>8|(255&J0)<<8)>>>1}var bf=function(n,t,e){for(var i=n.length,r=0,s=new gc(t);r<i;++r)++s[n[r]-1];var l,a=new gc(t);for(r=0;r<t;++r)a[r]=a[r-1]+s[r-1]<<1;if(e){l=new gc(1<<t);var d=15-t;for(r=0;r<i;++r)if(n[r])for(var A=r<<4|n[r],p=t-n[r],_=a[n[r]-1]++<<p,x=_|(1<<p)-1;_<=x;++_)l[l2[_]>>>d]=A}else for(l=new gc(i),r=0;r<i;++r)l[r]=l2[a[n[r]-1]++]>>>15-n[r];return l},zy=new zs(288);for(Ro=0;Ro<144;++Ro)zy[Ro]=8;for(Ro=144;Ro<256;++Ro)zy[Ro]=9;for(Ro=256;Ro<280;++Ro)zy[Ro]=7;for(Ro=280;Ro<288;++Ro)zy[Ro]=8;var IS=new zs(32);for(Ro=0;Ro<32;++Ro)IS[Ro]=5;var tW=bf(zy,9,0),nW=bf(zy,9,1),iW=bf(IS,5,0),rW=bf(IS,5,1),_O=function(n){for(var t=n[0],e=1;e<n.length;++e)n[e]>t&&(t=n[e]);return t},Cf=function(n,t,e){var i=t/8>>0;return(n[i]|n[i+1]<<8)>>>(7&t)&e},yO=function(n,t){var e=t/8>>0;return(n[e]|n[e+1]<<8|n[e+2]<<16)>>>(7&t)},c2=function(n){return(n/8>>0)+(7&n&&1)},TC=function(n,t,e){(null==t||t<0)&&(t=0),(null==e||e>n.length)&&(e=n.length);var i=new(n instanceof gc?gc:n instanceof $0?$0:zs)(e-t);return i.set(n.subarray(t,e)),i},Om=function(n,t,e){var i=t/8>>0;n[i]|=e<<=7&t,n[i+1]|=e>>>8},DS=function(n,t,e){var i=t/8>>0;n[i]|=e<<=7&t,n[i+1]|=e>>>8,n[i+2]|=e>>>16},wO=function(n,t){for(var e=[],i=0;i<n.length;++i)n[i]&&e.push({s:i,f:n[i]});var r=e.length,s=e.slice();if(!r)return[new zs(0),0];if(1==r){var a=new zs(e[0].s+1);return a[e[0].s]=1,[a,1]}e.sort(function(pe,Se){return pe.f-Se.f}),e.push({s:-1,f:25001});var l=e[0],d=e[1],A=0,p=1,_=2;for(e[0]={s:-1,f:l.f+d.f,l,r:d};p!=r-1;)l=e[e[A].f<e[_].f?A++:_++],d=e[A!=p&&e[A].f<e[_].f?A++:_++],e[p++]={s:-1,f:l.f+d.f,l,r:d};var x=s[0].s;for(i=1;i<r;++i)s[i].s>x&&(x=s[i].s);var C=new gc(x+1),F=bO(e[p-1],C,0);if(F>t){i=0;var R=0,U=F-t,Q=1<<U;for(s.sort(function(Se,ve){return C[ve.s]-C[Se.s]||Se.f-ve.f});i<r;++i){var K=s[i].s;if(!(C[K]>t))break;R+=Q-(1<<F-C[K]),C[K]=t}for(R>>>=U;R>0;){var ie=s[i].s;C[ie]<t?R-=1<<t-C[ie]++-1:++i}for(;i>=0&&R;--i){var ce=s[i].s;C[ce]==t&&(--C[ce],++R)}F=t}return[new zs(C),F]},bO=function(n,t,e){return-1==n.s?Math.max(bO(n.l,t,e+1),bO(n.r,t,e+1)):t[n.s]=e},cH=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new gc(++t),i=0,r=n[0],s=1,a=function(d){e[i++]=d},l=1;l<=t;++l)if(n[l]==r&&l!=t)++s;else{if(!r&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(r),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(r);s=1,r=n[l]}return[e.subarray(0,i),t]},TS=function(n,t){for(var e=0,i=0;i<t.length;++i)e+=n[i]*t[i];return e},u2=function(n,t,e){var i=e.length,r=c2(t+2);n[r]=255&i,n[r+1]=i>>>8,n[r+2]=255^n[r],n[r+3]=255^n[r+1];for(var s=0;s<i;++s)n[r+s+4]=e[s];return 8*(r+4+i)},uH=function(n,t,e,i,r,s,a,l,d,A,p){Om(t,p++,e),++r[256];for(var _=wO(r,15),x=_[0],C=_[1],F=wO(s,15),R=F[0],U=F[1],Q=cH(x),K=Q[0],ie=Q[1],ce=cH(R),pe=ce[0],Se=ce[1],ve=new gc(19),de=0;de<K.length;++de)ve[31&K[de]]++;for(de=0;de<pe.length;++de)ve[31&pe[de]]++;for(var We=wO(ve,7),et=We[0],ae=We[1],oe=19;oe>4&&!et[a2[oe-1]];--oe);var Me,Qe,Re,tt,Be=A+5<<3,Ee=TS(r,zy)+TS(s,IS)+a,ct=TS(r,x)+TS(s,R)+a+14+3*oe+TS(ve,et)+(2*ve[16]+3*ve[17]+7*ve[18]);if(Be<=Ee&&Be<=ct)return u2(t,p,n.subarray(d,d+A));if(Om(t,p,1+(ct<Ee)),p+=2,ct<Ee){Me=bf(x,C,0),Qe=x,Re=bf(R,U,0),tt=R;var _t=bf(et,ae,0);for(Om(t,p,ie-257),Om(t,p+5,Se-1),Om(t,p+10,oe-4),p+=14,de=0;de<oe;++de)Om(t,p+3*de,et[a2[de]]);p+=3*oe;for(var fn=[K,pe],J=0;J<2;++J){var ye=fn[J];for(de=0;de<ye.length;++de)Om(t,p,_t[we=31&ye[de]]),p+=et[we],we>15&&(Om(t,p,ye[de]>>>5&127),p+=ye[de]>>>12)}}else Me=tW,Qe=zy,Re=iW,tt=IS;for(de=0;de<l;++de)if(i[de]>255){var we;DS(t,p,Me[257+(we=i[de]>>>18&31)]),p+=Qe[we+257],we>7&&(Om(t,p,i[de]>>>23&31),p+=SS[we]);var Pe=31&i[de];DS(t,p,Re[Pe]),p+=tt[Pe],Pe>3&&(DS(t,p,i[de]>>>5&8191),p+=ES[Pe])}else DS(t,p,Me[i[de]]),p+=Qe[i[de]];return DS(t,p,Me[256]),p+Qe[256]},sW=new $0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),oW=new zs(0),xO=function(n,t,e,i,r){return function(n,t,e,i,r,s){var a=n.length,l=new zs(i+a+5*(1+Math.floor(a/7e3))+r),d=l.subarray(i,l.length-r),A=0;if(!t||a<8)for(var p=0;p<=a;p+=65535){var _=p+65535;_<a?A=u2(d,A,n.subarray(p,_)):(d[p]=s,A=u2(d,A,n.subarray(p,a)))}else{for(var x=sW[t-1],C=x>>>13,F=8191&x,R=(1<<e)-1,U=new gc(32768),Q=new gc(R+1),K=Math.ceil(e/3),ie=2*K,ce=function(Ri){return(n[Ri]^n[Ri+1]<<K^n[Ri+2]<<ie)&R},pe=new $0(25e3),Se=new gc(288),ve=new gc(32),de=0,We=0,et=(p=0,0),ae=0,oe=0;p<a;++p){var Be=ce(p),Ee=32767&p,ct=Q[Be];if(U[Ee]=ct,Q[Be]=Ee,ae<=p){var Me=a-p;if((de>7e3||et>24576)&&Me>423){A=uH(n,d,0,pe,Se,ve,We,et,oe,p-oe,A),et=de=We=0,oe=p;for(var Qe=0;Qe<286;++Qe)Se[Qe]=0;for(Qe=0;Qe<30;++Qe)ve[Qe]=0}var Re=2,tt=0,_t=F,fn=Ee-ct&32767;if(Me>2&&Be==ce(p-fn))for(var J=Math.min(C,Me)-1,ye=Math.min(32767,p),we=Math.min(258,Me);fn<=ye&&--_t&&Ee!=ct;){if(n[p+Re]==n[p+Re-fn]){for(var Pe=0;Pe<we&&n[p+Pe]==n[p+Pe-fn];++Pe);if(Pe>Re){if(Re=Pe,tt=fn,Pe>J)break;var Ye=Math.min(fn,Pe-2),ot=0;for(Qe=0;Qe<Ye;++Qe){var mt=p-fn+Qe+32768&32767,hn=mt-U[mt]+32768&32767;hn>ot&&(ot=hn,ct=mt)}}}fn+=(Ee=ct)-(ct=U[Ee])+32768&32767}if(tt){pe[et++]=268435456|mO[Re]<<18|lH[tt];var un=31&mO[Re],Nn=31&lH[tt];We+=SS[un]+ES[Nn],++Se[257+un],++ve[Nn],ae=p+Re,++de}else pe[et++]=n[p],++Se[n[p]]}}A=uH(n,d,s,pe,Se,ve,We,et,oe,p-oe,A),s||(A=u2(d,A,oW))}return TC(l,0,i+c2(A)+r)}(n,t.level??6,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(n.length)))):12+t.mem,e,i,!r)};function h2(n,t){void 0===t&&(t={});var e=function(){var n=1,t=0;return{p:function(e){for(var i=n,r=t,s=e.length,a=0;a!=s;){for(var l=Math.min(a+5552,s);a<l;++a)r+=i+=e[a];i%=65521,r%=65521}n=i,t=r},d:function(){return(n>>>8<<16|(255&t)<<8|t>>>8)+2*((255&n)<<23)}}}();e.p(n);var i=xO(n,t,2,4);return function(n,t){var e=t.level,i=0==e?0:e<6?1:9==e?3:2;n[0]=120,n[1]=i<<6|(i?32-2*i:1)}(i,t),function(n,t,e){for(;e;++t)n[t]=e,e>>>=8}(i,i.length-4,e.d()),i}function IO(n,t){return function(n,t,e){var i=n.length,r=!t||e,s=!e||e.i;e||(e={}),t||(t=new zs(3*i));var a=function(Ye){var ot=t.length;if(Ye>ot){var mt=new zs(Math.max(2*ot,Ye));mt.set(t),t=mt}},l=e.f||0,d=e.p||0,A=e.b||0,p=e.l,_=e.d,x=e.m,C=e.n,F=8*i;do{if(!p){e.f=l=Cf(n,d,1);var R=Cf(n,d+1,3);if(d+=3,!R){var Q=n[(U=c2(d)+4)-4]|n[U-3]<<8,K=U+Q;if(K>i){if(s)throw"unexpected EOF";break}r&&a(A+Q),t.set(n.subarray(U,K),A),e.b=A+=Q,e.p=d=8*K;continue}if(1==R)p=nW,_=rW,x=9,C=5;else{if(2!=R)throw"invalid block type";var ie=Cf(n,d,31)+257,ce=Cf(n,d+10,15)+4,pe=ie+Cf(n,d+5,31)+1;d+=14;for(var Se=new zs(pe),ve=new zs(19),de=0;de<ce;++de)ve[a2[de]]=Cf(n,d+3*de,7);d+=3*ce;var We=_O(ve),et=(1<<We)-1;if(!s&&d+pe*(We+7)>F)break;var ae=bf(ve,We,1);for(de=0;de<pe;){var U,oe=ae[Cf(n,d,et)];if(d+=15&oe,(U=oe>>>4)<16)Se[de++]=U;else{var Be=0,Ee=0;for(16==U?(Ee=3+Cf(n,d,3),d+=2,Be=Se[de-1]):17==U?(Ee=3+Cf(n,d,7),d+=3):18==U&&(Ee=11+Cf(n,d,127),d+=7);Ee--;)Se[de++]=Be}}var ct=Se.subarray(0,ie),Me=Se.subarray(ie);x=_O(ct),C=_O(Me),p=bf(ct,x,1),_=bf(Me,C,1)}if(d>F)throw"unexpected EOF"}r&&a(A+131072);for(var Qe=(1<<x)-1,Re=(1<<C)-1,tt=x+C+18;s||d+tt<F;){var _t=(Be=p[yO(n,d)&Qe])>>>4;if((d+=15&Be)>F)throw"unexpected EOF";if(!Be)throw"invalid length/literal";if(_t<256)t[A++]=_t;else{if(256==_t){p=null;break}var fn=_t-254;_t>264&&(fn=Cf(n,d,(1<<(J=SS[de=_t-257]))-1)+aH[de],d+=J);var ye=_[yO(n,d)&Re],we=ye>>>4;if(!ye)throw"invalid distance";if(d+=15&ye,Me=eW[we],we>3){var J=ES[we];Me+=yO(n,d)&(1<<J)-1,d+=J}if(d>F)throw"unexpected EOF";r&&a(A+131072);for(var Pe=A+fn;A<Pe;A+=4)t[A]=t[A-Me],t[A+1]=t[A+1-Me],t[A+2]=t[A+2-Me],t[A+3]=t[A+3-Me];A=Pe}}e.l=p,e.p=d,e.b=A,p&&(l=1,e.m=x,e.d=_,e.n=C)}while(!l);return A==t.length?t:TC(t,0,A)}((function(n){if(8!=(15&n[0])||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(32&n[1])throw"invalid zlib data: preset dictionaries not supported"}(n),n.subarray(2,-4)),t)}var ki=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function gH(){ki.console&&"function"==typeof ki.console.log&&ki.console.log.apply(ki.console,arguments)}var io={log:gH,warn:function(n){ki.console&&("function"==typeof ki.console.warn?ki.console.warn.apply(ki.console,arguments):gH.call(null,arguments))},error:function(n){ki.console&&("function"==typeof ki.console.error?ki.console.error.apply(ki.console,arguments):gH(n))}};function mH(n,t,e){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){MC(i.response,t,e)},i.onerror=function(){io.error("could not download file")},i.send()}function SW(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function TO(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var A2,_H,MC=ki.saveAs||("object"!==(typeof window>"u"?"undefined":Os(window))||window!==ki?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var i=ki.URL||ki.webkitURL,r=document.createElement("a");r.download=t=t||n.name||"download",r.rel="noopener","string"==typeof n?(r.href=n,r.origin!==location.origin?SW(r.href)?mH(n,t,e):TO(r,r.target="_blank"):TO(r)):(r.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){TO(r)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download","string"==typeof n)if(SW(n))mH(n,t,e);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){TO(i)})}else navigator.msSaveOrOpenBlob((r=n,void 0===(s=e)?s={autoBom:!1}:"object"!==Os(s)&&(io.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob([String.fromCharCode(65279),r],{type:r.type}):r),t);var r,s}:function(n,t,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof n)return mH(n,t,e);var r="application/octet-stream"===n.type,s=/constructor/i.test(ki.HTMLElement)||ki.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||r&&s)&&"object"===(typeof FileReader>"u"?"undefined":Os(FileReader))){var l=new FileReader;l.onloadend=function(){var p=l.result;p=a?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=p:location=p,i=null},l.readAsDataURL(n)}else{var d=ki.URL||ki.webkitURL,A=d.createObjectURL(n);i?i.location=A:location.href=A,i=null,setTimeout(function(){d.revokeObjectURL(A)},4e4)}});function EW(n){var t;n=n||"",this.ok=!1,"#"==n.charAt(0)&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],i=0;i<e.length;i++){var s=e[i].process,a=e[i].re.exec(n);a&&(t=s(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),d=this.g.toString(16),A=this.b.toString(16);return 1==l.length&&(l="0"+l),1==d.length&&(d="0"+d),1==A.length&&(A="0"+A),"#"+l+d+A}}function yH(n,t){var e=n[0],i=n[1],r=n[2],s=n[3];e=Cu(e,i,r,s,t[0],7,-680876936),s=Cu(s,e,i,r,t[1],12,-389564586),r=Cu(r,s,e,i,t[2],17,606105819),i=Cu(i,r,s,e,t[3],22,-1044525330),e=Cu(e,i,r,s,t[4],7,-176418897),s=Cu(s,e,i,r,t[5],12,1200080426),r=Cu(r,s,e,i,t[6],17,-1473231341),i=Cu(i,r,s,e,t[7],22,-45705983),e=Cu(e,i,r,s,t[8],7,1770035416),s=Cu(s,e,i,r,t[9],12,-1958414417),r=Cu(r,s,e,i,t[10],17,-42063),i=Cu(i,r,s,e,t[11],22,-1990404162),e=Cu(e,i,r,s,t[12],7,1804603682),s=Cu(s,e,i,r,t[13],12,-40341101),r=Cu(r,s,e,i,t[14],17,-1502002290),e=xu(e,i=Cu(i,r,s,e,t[15],22,1236535329),r,s,t[1],5,-165796510),s=xu(s,e,i,r,t[6],9,-1069501632),r=xu(r,s,e,i,t[11],14,643717713),i=xu(i,r,s,e,t[0],20,-373897302),e=xu(e,i,r,s,t[5],5,-701558691),s=xu(s,e,i,r,t[10],9,38016083),r=xu(r,s,e,i,t[15],14,-660478335),i=xu(i,r,s,e,t[4],20,-405537848),e=xu(e,i,r,s,t[9],5,568446438),s=xu(s,e,i,r,t[14],9,-1019803690),r=xu(r,s,e,i,t[3],14,-187363961),i=xu(i,r,s,e,t[8],20,1163531501),e=xu(e,i,r,s,t[13],5,-1444681467),s=xu(s,e,i,r,t[2],9,-51403784),r=xu(r,s,e,i,t[7],14,1735328473),e=Su(e,i=xu(i,r,s,e,t[12],20,-1926607734),r,s,t[5],4,-378558),s=Su(s,e,i,r,t[8],11,-2022574463),r=Su(r,s,e,i,t[11],16,1839030562),i=Su(i,r,s,e,t[14],23,-35309556),e=Su(e,i,r,s,t[1],4,-1530992060),s=Su(s,e,i,r,t[4],11,1272893353),r=Su(r,s,e,i,t[7],16,-155497632),i=Su(i,r,s,e,t[10],23,-1094730640),e=Su(e,i,r,s,t[13],4,681279174),s=Su(s,e,i,r,t[0],11,-358537222),r=Su(r,s,e,i,t[3],16,-722521979),i=Su(i,r,s,e,t[6],23,76029189),e=Su(e,i,r,s,t[9],4,-640364487),s=Su(s,e,i,r,t[12],11,-421815835),r=Su(r,s,e,i,t[15],16,530742520),e=Eu(e,i=Su(i,r,s,e,t[2],23,-995338651),r,s,t[0],6,-198630844),s=Eu(s,e,i,r,t[7],10,1126891415),r=Eu(r,s,e,i,t[14],15,-1416354905),i=Eu(i,r,s,e,t[5],21,-57434055),e=Eu(e,i,r,s,t[12],6,1700485571),s=Eu(s,e,i,r,t[3],10,-1894986606),r=Eu(r,s,e,i,t[10],15,-1051523),i=Eu(i,r,s,e,t[1],21,-2054922799),e=Eu(e,i,r,s,t[8],6,1873313359),s=Eu(s,e,i,r,t[15],10,-30611744),r=Eu(r,s,e,i,t[6],15,-1560198380),i=Eu(i,r,s,e,t[13],21,1309151649),e=Eu(e,i,r,s,t[4],6,-145523070),s=Eu(s,e,i,r,t[11],10,-1120210379),r=Eu(r,s,e,i,t[2],15,718787259),i=Eu(i,r,s,e,t[9],21,-343485551),n[0]=ew(e,n[0]),n[1]=ew(i,n[1]),n[2]=ew(r,n[2]),n[3]=ew(s,n[3])}function MO(n,t,e,i,r,s){return t=ew(ew(t,n),ew(i,s)),ew(t<<r|t>>>32-r,e)}function Cu(n,t,e,i,r,s,a){return MO(t&e|~t&i,n,t,r,s,a)}function xu(n,t,e,i,r,s,a){return MO(t&i|e&~i,n,t,r,s,a)}function Su(n,t,e,i,r,s,a){return MO(t^e^i,n,t,r,s,a)}function Eu(n,t,e,i,r,s,a){return MO(e^(t|~i),n,t,r,s,a)}function IW(n){var t,e=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)yH(i,ive(n.substring(t-64,t)));n=n.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)r[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(yH(i,r),t=0;t<16;t++)r[t]=0;return r[14]=8*e,yH(i,r),i}function ive(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}A2=ki.atob.bind(ki),_H=ki.btoa.bind(ki);var DW="0123456789abcdef".split("");function rve(n){for(var t="",e=0;e<4;e++)t+=DW[n>>8*e+4&15]+DW[n>>8*e&15];return t}function sve(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function vH(n){return IW(n).map(sve).join("")}var ove="5d41402abc4b2a76b9719d911017c592"!=function(n){for(var t=0;t<n.length;t++)n[t]=rve(n[t]);return n.join("")}(IW("hello"));function ew(n,t){if(ove){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}function wH(n,t){var e,i,r;if(n!==e){for(var a=(r=n,new Array(1+(256/n.length>>0)+1).join(r)),l=[],d=0;d<256;d++)l[d]=d;var A=0;for(d=0;d<256;d++){var p=l[d];A=(A+p+a.charCodeAt(d))%256,l[d]=l[A],l[A]=p}e=n,i=l}else l=i;var _=t.length,x=0,C=0,F="";for(d=0;d<_;d++)C=(C+(p=l[x=(x+1)%256]))%256,l[x]=l[C],l[C]=p,a=l[(l[x]+l[C])%256],F+=String.fromCharCode(t.charCodeAt(d)^a);return F}var TW={print:4,modify:8,copy:16,"annot-forms":32};function BS(n,t,e,i){this.v=1,this.r=2;var r=192;n.forEach(function(l){if(void 0!==TW.perm)throw new Error("Invalid permission: "+l);r+=TW[l]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var s=(t+this.padding).substr(0,32),a=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^r)),this.encryptionKey=vH(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=wH(this.encryptionKey,this.padding)}function FS(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,i=0;i<e;i++){var r=n.charCodeAt(i);t+=r<33||35===r||37===r||40===r||41===r||47===r||60===r||62===r||91===r||93===r||123===r||125===r||r>126?"#"+("0"+r.toString(16)).slice(-2):n[i]}return t}function MW(n){if("object"!==Os(n))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,i,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof i||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[i,!!r],s},this.unsubscribe=function(e){for(var i in t)if(t[i][e])return delete t[i][e],0===Object.keys(t[i]).length&&delete t[i],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var s in t[e]){var a=t[e][s];try{a[0].apply(n,i)}catch(l){ki.console&&io.error("jsPDF PubSub Error",l.message,l)}a[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function BO(n){if(!(this instanceof BO))return new BO(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function BW(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function BC(n,t,e,i,r){if(!(this instanceof BC))return new BC(n,t,e,i,r);this.type="axial"===n?2:3,this.coords=t,this.colors=e,BW.call(this,i,r)}function kS(n,t,e,i,r){if(!(this instanceof kS))return new kS(n,t,e,i,r);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,BW.call(this,i,r)}function Ti(n){var t,e="string"==typeof arguments[0]?arguments[0]:"p",i=arguments[1],r=arguments[2],s=arguments[3],a=[],l=1,d=16,A="S",p=null;"object"===Os(n=n||{})&&(e=n.orientation,i=n.unit||i,r=n.format||r,s=n.compress||n.compressPdf||s,null!==(p=n.encryption||null)&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),l="number"==typeof n.userUnit?Math.abs(n.userUnit):1,void 0!==n.precision&&(t=n.precision),void 0!==n.floatPrecision&&(d=n.floatPrecision),A=n.defaultPathOperation||"S"),a=n.filters||(!0===s?["FlateEncode"]:a),i=i||"mm",e=(""+(e||"P")).toLowerCase();var _=n.putOnlyUsedFonts||!1,x={},C={internal:{},__private__:{}};C.__private__.PubSub=MW;var F="1.3",R=C.__private__.getPdfVersion=function(){return F};C.__private__.setPdfVersion=function(k){F=k};var U={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};C.__private__.getPageFormats=function(){return U};var Q=C.__private__.getPageFormat=function(k){return U[k]};r=r||"a4";var K={COMPAT:"compat",ADVANCED:"advanced"},ie=K.COMPAT;function ce(){this.saveGraphicsState(),Ie(new Mi(Ln,0,0,-Ln,0,mw()*Ln).toString()+" cm"),this.setFontSize(this.getFontSize()/Ln),A="n",ie=K.ADVANCED}function pe(){this.restoreGraphicsState(),A="S",ie=K.COMPAT}var Se=C.__private__.combineFontStyleAndFontWeight=function(k,Y){if("bold"==k&&"normal"==Y||"bold"==k&&400==Y||"normal"==k&&"italic"==Y||"bold"==k&&"italic"==Y)throw new Error("Invalid Combination of fontweight and fontstyle");return Y&&(k=400==Y||"normal"===Y?"italic"===k?"italic":"normal":700!=Y&&"bold"!==Y||"normal"!==k?(700==Y?"bold":Y)+""+k:"bold"),k};C.advancedAPI=function(k){var Y=ie===K.COMPAT;return Y&&ce.call(this),"function"!=typeof k||(k(this),Y&&pe.call(this)),this},C.compatAPI=function(k){var Y=ie===K.ADVANCED;return Y&&pe.call(this),"function"!=typeof k||(k(this),Y&&ce.call(this)),this},C.isAdvancedAPI=function(){return ie===K.ADVANCED};var ve,de=function(k){if(ie!==K.ADVANCED)throw new Error(k+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},We=C.roundToPrecision=C.__private__.roundToPrecision=function(k,Y){var be=t||Y;if(isNaN(k)||isNaN(be))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return k.toFixed(be).replace(/0+$/,"")};ve=C.hpf=C.__private__.hpf="number"==typeof d?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return We(k,d)}:"smart"===d?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return We(k,k>-1&&k<1?16:5)}:function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return We(k,16)};var et=C.f2=C.__private__.f2=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f2");return We(k,2)},ae=C.__private__.f3=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f3");return We(k,3)},oe=C.scale=C.__private__.scale=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.scale");return ie===K.COMPAT?k*Ln:ie===K.ADVANCED?k:void 0},Be=function(k){return ie===K.COMPAT?mw()-k:ie===K.ADVANCED?k:void 0},Ee=function(k){return oe(Be(k))};C.__private__.setPrecision=C.setPrecision=function(k){"number"==typeof parseInt(k,10)&&(t=parseInt(k,10))};var ct,Me="00000000000000000000000000000000",Qe=C.__private__.getFileId=function(){return Me},Re=C.__private__.setFileId=function(k){return Me=void 0!==k&&/^[a-fA-F0-9]{32}$/.test(k)?k.toUpperCase():Me.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==p&&(Bu=new BS(p.userPermissions,p.userPassword,p.ownerPassword,Me)),Me};C.setFileId=function(k){return Re(k),this},C.getFileId=function(){return Qe()};var tt=C.__private__.convertDateToPDFDate=function(k){var Y=k.getTimezoneOffset(),be=Y<0?"+":"-",Oe=Math.floor(Math.abs(Y/60)),nt=Math.abs(Y%60),Bt=[be,we(Oe),"'",we(nt),"'"].join("");return["D:",k.getFullYear(),we(k.getMonth()+1),we(k.getDate()),we(k.getHours()),we(k.getMinutes()),we(k.getSeconds()),Bt].join("")},_t=C.__private__.convertPDFDateToDate=function(k){var Y=parseInt(k.substr(2,4),10),be=parseInt(k.substr(6,2),10)-1,Oe=parseInt(k.substr(8,2),10),nt=parseInt(k.substr(10,2),10),Bt=parseInt(k.substr(12,2),10),nn=parseInt(k.substr(14,2),10);return new Date(Y,be,Oe,nt,Bt,nn,0)},fn=C.__private__.setCreationDate=function(k){var Y;if(void 0===k&&(k=new Date),k instanceof Date)Y=tt(k);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(k))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Y=k}return ct=Y},J=C.__private__.getCreationDate=function(k){var Y=ct;return"jsDate"===k&&(Y=_t(ct)),Y};C.setCreationDate=function(k){return fn(k),this},C.getCreationDate=function(k){return J(k)};var ye,we=C.__private__.padd2=function(k){return("0"+parseInt(k)).slice(-2)},Pe=C.__private__.padd2Hex=function(k){return("00"+(k=k.toString())).substr(k.length)},Ye=0,ot=[],mt=[],pt=0,hn=[],un=[],Nn=!1,Kn=mt,Ri=function(){Ye=0,pt=0,mt=[],ot=[],hn=[],nv=xl(),$p=xl()};C.__private__.setCustomOutputDestination=function(k){Nn=!0,Kn=k};var kt=function(k){Nn||(Kn=k)};C.__private__.resetCustomOutputDestination=function(){Nn=!1,Kn=mt};var Ie=C.__private__.out=function(k){return k=k.toString(),pt+=k.length+1,Kn.push(k),Kn},ar=C.__private__.write=function(k){return Ie(1===arguments.length?k.toString():Array.prototype.join.call(arguments," "))},ri=C.__private__.getArrayBuffer=function(k){for(var Y=k.length,be=new ArrayBuffer(Y),Oe=new Uint8Array(be);Y--;)Oe[Y]=k.charCodeAt(Y);return be},dn=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];C.__private__.getStandardFonts=function(){return dn};var Sn=n.fontSize||16;C.__private__.setFontSize=C.setFontSize=function(k){return Sn=ie===K.ADVANCED?k/Ln:k,this};var On,Bn=C.__private__.getFontSize=C.getFontSize=function(){return ie===K.COMPAT?Sn:Sn*Ln},pi=n.R2L||!1;C.__private__.setR2L=C.setR2L=function(k){return pi=k,this},C.__private__.getR2L=C.getR2L=function(){return pi};var tr,mr=C.__private__.setZoomMode=function(k){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(k))On=k;else if(isNaN(k)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(k))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+k+'" is not recognized.');On=k}else On=parseInt(k,10)};C.__private__.getZoomMode=function(){return On};var xr,Jr=C.__private__.setPageMode=function(k){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(k))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+k+'" is not recognized.');tr=k};C.__private__.getPageMode=function(){return tr};var Gs=C.__private__.setLayoutMode=function(k){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(k))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+k+'" is not recognized.');xr=k};C.__private__.getLayoutMode=function(){return xr},C.__private__.setDisplayMode=C.setDisplayMode=function(k,Y,be){return mr(k),Gs(Y),Jr(be),this};var Vi={title:"",subject:"",author:"",keywords:"",creator:""};C.__private__.getDocumentProperty=function(k){if(-1===Object.keys(Vi).indexOf(k))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Vi[k]},C.__private__.getDocumentProperties=function(){return Vi},C.__private__.setDocumentProperties=C.setProperties=C.setDocumentProperties=function(k){for(var Y in Vi)Vi.hasOwnProperty(Y)&&k[Y]&&(Vi[Y]=k[Y]);return this},C.__private__.setDocumentProperty=function(k,Y){if(-1===Object.keys(Vi).indexOf(k))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Vi[k]=Y};var Tr,Ln,Mu,cs,Zp,ro={},Jo={},jm=[],bs={},WC={},ka={},Wp={},tv=null,Ra=0,nr=[],Cs=new MW(C),YC=n.hotfixes||[],qc={},zm={},Gm=[],Mi=function k(Y,be,Oe,nt,Bt,nn){if(!(this instanceof k))return new k(Y,be,Oe,nt,Bt,nn);isNaN(Y)&&(Y=1),isNaN(be)&&(be=0),isNaN(Oe)&&(Oe=0),isNaN(nt)&&(nt=1),isNaN(Bt)&&(Bt=0),isNaN(nn)&&(nn=0),this._matrix=[Y,be,Oe,nt,Bt,nn]};Object.defineProperty(Mi.prototype,"sx",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(Mi.prototype,"shy",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(Mi.prototype,"shx",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(Mi.prototype,"sy",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(Mi.prototype,"tx",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(Mi.prototype,"ty",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(Mi.prototype,"a",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(Mi.prototype,"b",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(Mi.prototype,"c",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(Mi.prototype,"d",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(Mi.prototype,"e",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(Mi.prototype,"f",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(Mi.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Mi.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Mi.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Mi.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Mi.prototype.join=function(k){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ve).join(k)},Mi.prototype.multiply=function(k){return new Mi(k.sx*this.sx+k.shy*this.shx,k.sx*this.shy+k.shy*this.sy,k.shx*this.sx+k.sy*this.shx,k.shx*this.shy+k.sy*this.sy,k.tx*this.sx+k.ty*this.shx+this.tx,k.tx*this.shy+k.ty*this.sy+this.ty)},Mi.prototype.decompose=function(){var k=this.sx,Y=this.shy,be=this.shx,Oe=this.sy,nt=this.tx,Bt=this.ty,nn=Math.sqrt(k*k+Y*Y),Un=(k/=nn)*be+(Y/=nn)*Oe;be-=k*Un,Oe-=Y*Un;var _i=Math.sqrt(be*be+Oe*Oe);return Un/=_i,k*(Oe/=_i)<Y*(be/=_i)&&(k=-k,Y=-Y,Un=-Un,nn=-nn),{scale:new Mi(nn,0,0,_i,0,0),translate:new Mi(1,0,0,1,nt,Bt),rotate:new Mi(k,Y,-Y,k,0,0),skew:new Mi(1,0,Un,1,0,0)}},Mi.prototype.toString=function(k){return this.join(" ")},Mi.prototype.inversed=function(){var k=this.sx,Y=this.shy,be=this.shx,Oe=this.sy,nt=this.tx,Bt=this.ty,nn=1/(k*Oe-Y*be),Un=Oe*nn,_i=-Y*nn,lr=-be*nn,yr=k*nn;return new Mi(Un,_i,lr,yr,-Un*nt-lr*Bt,-_i*nt-yr*Bt)},Mi.prototype.applyToPoint=function(k){return new fE(k.x*this.sx+k.y*this.shx+this.tx,k.x*this.shy+k.y*this.sy+this.ty)},Mi.prototype.applyToRectangle=function(k){var Y=this.applyToPoint(k),be=this.applyToPoint(new fE(k.x+k.w,k.y+k.h));return new X2(Y.x,Y.y,be.x-Y.x,be.y-Y.y)},Mi.prototype.clone=function(){return new Mi(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},C.Matrix=Mi;var Yp=C.matrixMult=function(k,Y){return Y.multiply(k)},qm=new Mi(1,0,0,1,0,0);C.unitMatrix=C.identityMatrix=qm;var fh=function(k,Y){if(!WC[k]){var be=(Y instanceof BC?"Sh":"P")+(Object.keys(bs).length+1).toString(10);Y.id=be,WC[k]=be,bs[be]=Y,Cs.publish("addPattern",Y)}};C.ShadingPattern=BC,C.TilingPattern=kS,C.addShadingPattern=function(k,Y){return de("addShadingPattern()"),fh(k,Y),this},C.beginTilingPattern=function(k){de("beginTilingPattern()"),iP(k.boundingBox[0],k.boundingBox[1],k.boundingBox[2]-k.boundingBox[0],k.boundingBox[3]-k.boundingBox[1],k.matrix)},C.endTilingPattern=function(k,Y){de("endTilingPattern()"),Y.stream=un[ye].join("\n"),fh(k,Y),Cs.publish("endTilingPattern",Y),Gm.pop().restore()};var zl=C.__private__.newObject=function(){var k=xl();return mA(k,!0),k},xl=C.__private__.newObjectDeferred=function(){return Ye++,ot[Ye]=function(){return pt},Ye},mA=function(k,Y){return Y="boolean"==typeof Y&&Y,ot[k]=pt,Y&&Ie(k+" 0 obj"),k},tE=C.__private__.newAdditionalObject=function(){var k={objId:xl(),content:""};return hn.push(k),k},nv=xl(),$p=xl(),Jp=C.__private__.decodeColorString=function(k){var Y=k.split(" ");if(2!==Y.length||"g"!==Y[1]&&"G"!==Y[1])5===Y.length&&("k"===Y[4]||"K"===Y[4])&&(Y=[(1-Y[0])*(1-Y[3]),(1-Y[1])*(1-Y[3]),(1-Y[2])*(1-Y[3]),"r"]);else{var be=parseFloat(Y[0]);Y=[be,be,be,"r"]}for(var Oe="#",nt=0;nt<3;nt++)Oe+=("0"+Math.floor(255*parseFloat(Y[nt])).toString(16)).slice(-2);return Oe},Xp=C.__private__.encodeColorString=function(k){var Y;"string"==typeof k&&(k={ch1:k});var be=k.ch1,Oe=k.ch2,nt=k.ch3,Bt=k.ch4,nn="draw"===k.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof be&&"#"!==be.charAt(0)){var Un=new EW(be);if(Un.ok)be=Un.toHex();else if(!/^\d*\.?\d*$/.test(be))throw new Error('Invalid color "'+be+'" passed to jsPDF.encodeColorString.')}if("string"==typeof be&&/^#[0-9A-Fa-f]{3}$/.test(be)&&(be="#"+be[1]+be[1]+be[2]+be[2]+be[3]+be[3]),"string"==typeof be&&/^#[0-9A-Fa-f]{6}$/.test(be)){var _i=parseInt(be.substr(1),16);be=_i>>16&255,Oe=_i>>8&255,nt=255&_i}if(void 0===Oe||void 0===Bt&&be===Oe&&Oe===nt)Y="string"==typeof be?be+" "+nn[0]:2===k.precision?et(be/255)+" "+nn[0]:ae(be/255)+" "+nn[0];else if(void 0===Bt||"object"===Os(Bt)){if(Bt&&!isNaN(Bt.a)&&0===Bt.a)return["1.","1.","1.",nn[1]].join(" ");Y="string"==typeof be?[be,Oe,nt,nn[1]].join(" "):2===k.precision?[et(be/255),et(Oe/255),et(nt/255),nn[1]].join(" "):[ae(be/255),ae(Oe/255),ae(nt/255),nn[1]].join(" ")}else Y="string"==typeof be?[be,Oe,nt,Bt,nn[2]].join(" "):2===k.precision?[et(be),et(Oe),et(nt),et(Bt),nn[2]].join(" "):[ae(be),ae(Oe),ae(nt),ae(Bt),nn[2]].join(" ");return Y},Km=C.__private__.getFilters=function(){return a},If=C.__private__.putStream=function(k){var Y=(k=k||{}).data||"",be=k.filters||Km(),Oe=k.alreadyAppliedFilters||[],nt=k.addLength1||!1,Bt=Y.length,nn=k.objectId,Un=function(Fu){return Fu};if(null!==p&&void 0===nn)throw new Error("ObjectId must be passed to putStream for file encryption");null!==p&&(Un=Bu.encryptor(nn,0));var _i={};!0===be&&(be=["FlateEncode"]);var lr=k.additionalKeyValues||[],yr=(_i=void 0!==Ti.API.processDataByFilters?Ti.API.processDataByFilters(Y,be):{data:Y,reverseChain:[]}).reverseChain+(Array.isArray(Oe)?Oe.join(" "):Oe.toString());if(0!==_i.data.length&&(lr.push({key:"Length",value:_i.data.length}),!0===nt&&lr.push({key:"Length1",value:Bt})),0!=yr.length)if(yr.split("/").length-1==1)lr.push({key:"Filter",value:yr});else{lr.push({key:"Filter",value:"["+yr+"]"});for(var Gr=0;Gr<lr.length;Gr+=1)if("DecodeParms"===lr[Gr].key){for(var ya=[],Oa=0;Oa<_i.reverseChain.split("/").length-1;Oa+=1)ya.push("null");ya.push(lr[Gr].value),lr[Gr].value="["+ya.join(" ")+"]"}}Ie("<<");for(var Sl=0;Sl<lr.length;Sl++)Ie("/"+lr[Sl].key+" "+lr[Sl].value);Ie(">>"),0!==_i.data.length&&(Ie("stream"),Ie(Un(_i.data)),Ie("endstream"))},Zm=C.__private__.putPage=function(k){var Y=k.number,be=k.data,Oe=k.objId,nt=k.contentsObjId;mA(Oe,!0),Ie("<</Type /Page"),Ie("/Parent "+k.rootDictionaryObjId+" 0 R"),Ie("/Resources "+k.resourceDictionaryObjId+" 0 R"),Ie("/MediaBox ["+parseFloat(ve(k.mediaBox.bottomLeftX))+" "+parseFloat(ve(k.mediaBox.bottomLeftY))+" "+ve(k.mediaBox.topRightX)+" "+ve(k.mediaBox.topRightY)+"]"),null!==k.cropBox&&Ie("/CropBox ["+ve(k.cropBox.bottomLeftX)+" "+ve(k.cropBox.bottomLeftY)+" "+ve(k.cropBox.topRightX)+" "+ve(k.cropBox.topRightY)+"]"),null!==k.bleedBox&&Ie("/BleedBox ["+ve(k.bleedBox.bottomLeftX)+" "+ve(k.bleedBox.bottomLeftY)+" "+ve(k.bleedBox.topRightX)+" "+ve(k.bleedBox.topRightY)+"]"),null!==k.trimBox&&Ie("/TrimBox ["+ve(k.trimBox.bottomLeftX)+" "+ve(k.trimBox.bottomLeftY)+" "+ve(k.trimBox.topRightX)+" "+ve(k.trimBox.topRightY)+"]"),null!==k.artBox&&Ie("/ArtBox ["+ve(k.artBox.bottomLeftX)+" "+ve(k.artBox.bottomLeftY)+" "+ve(k.artBox.topRightX)+" "+ve(k.artBox.topRightY)+"]"),"number"==typeof k.userUnit&&1!==k.userUnit&&Ie("/UserUnit "+k.userUnit),Cs.publish("putPage",{objId:Oe,pageContext:nr[Y],pageNumber:Y,page:be}),Ie("/Contents "+nt+" 0 R"),Ie(">>"),Ie("endobj");var Bt=be.join("\n");return ie===K.ADVANCED&&(Bt+="\nQ"),mA(nt,!0),If({data:Bt,filters:Km(),objectId:nt}),Ie("endobj"),Oe},$C=C.__private__.putPages=function(){var k,Y,be=[];for(k=1;k<=Ra;k++)nr[k].objId=xl(),nr[k].contentsObjId=xl();for(k=1;k<=Ra;k++)be.push(Zm({number:k,data:un[k],objId:nr[k].objId,contentsObjId:nr[k].contentsObjId,mediaBox:nr[k].mediaBox,cropBox:nr[k].cropBox,bleedBox:nr[k].bleedBox,trimBox:nr[k].trimBox,artBox:nr[k].artBox,userUnit:nr[k].userUnit,rootDictionaryObjId:nv,resourceDictionaryObjId:$p}));mA(nv,!0),Ie("<</Type /Pages");var Oe="/Kids [";for(Y=0;Y<Ra;Y++)Oe+=be[Y]+" 0 R ";Ie(Oe+"]"),Ie("/Count "+Ra),Ie(">>"),Ie("endobj"),Cs.publish("postPutPages")},nE=function(k){Cs.publish("putFont",{font:k,out:Ie,newObject:zl,putStream:If}),!0!==k.isAlreadyPutted&&(k.objectNumber=zl(),Ie("<<"),Ie("/Type /Font"),Ie("/BaseFont /"+FS(k.postScriptName)),Ie("/Subtype /Type1"),"string"==typeof k.encoding&&Ie("/Encoding /"+k.encoding),Ie("/FirstChar 32"),Ie("/LastChar 255"),Ie(">>"),Ie("endobj"))},iE=function(){for(var k in ro)ro.hasOwnProperty(k)&&(!1===_||!0===_&&x.hasOwnProperty(k))&&nE(ro[k])},rE=function(k){k.objectNumber=zl();var Y=[];Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Form"}),Y.push({key:"BBox",value:"["+[ve(k.x),ve(k.y),ve(k.x+k.width),ve(k.y+k.height)].join(" ")+"]"}),Y.push({key:"Matrix",value:"["+k.matrix.toString()+"]"});var be=k.pages[1].join("\n");If({data:be,additionalKeyValues:Y,objectId:k.objectNumber}),Ie("endobj")},sE=function(){for(var k in qc)qc.hasOwnProperty(k)&&rE(qc[k])},UL=function(k,Y){var be,Oe=[],nt=1/(Y-1);for(be=0;be<1;be+=nt)Oe.push(be);Oe.push(1),0!=k[0].offset&&k.unshift({offset:0,color:k[0].color}),1!=k[k.length-1].offset&&k.push({offset:1,color:k[k.length-1].color});for(var Un="",_i=0,lr=0;lr<Oe.length;lr++){for(be=Oe[lr];be>k[_i+1].offset;)_i++;var yr=k[_i].offset,Gr=(be-yr)/(k[_i+1].offset-yr),ya=k[_i].color,Oa=k[_i+1].color;Un+=Pe(Math.round((1-Gr)*ya[0]+Gr*Oa[0]).toString(16))+Pe(Math.round((1-Gr)*ya[1]+Gr*Oa[1]).toString(16))+Pe(Math.round((1-Gr)*ya[2]+Gr*Oa[2]).toString(16))}return Un.trim()},eV=function(k,Y){Y||(Y=21);var be=zl(),Oe=UL(k.colors,Y),nt=[];nt.push({key:"FunctionType",value:"0"}),nt.push({key:"Domain",value:"[0.0 1.0]"}),nt.push({key:"Size",value:"["+Y+"]"}),nt.push({key:"BitsPerSample",value:"8"}),nt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),nt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),If({data:Oe,additionalKeyValues:nt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:be}),Ie("endobj"),k.objectNumber=zl(),Ie("<< /ShadingType "+k.type),Ie("/ColorSpace /DeviceRGB");var Bt="/Coords ["+ve(parseFloat(k.coords[0]))+" "+ve(parseFloat(k.coords[1]))+" ";Bt+=2===k.type?ve(parseFloat(k.coords[2]))+" "+ve(parseFloat(k.coords[3])):ve(parseFloat(k.coords[2]))+" "+ve(parseFloat(k.coords[3]))+" "+ve(parseFloat(k.coords[4]))+" "+ve(parseFloat(k.coords[5])),Ie(Bt+="]"),k.matrix&&Ie("/Matrix ["+k.matrix.toString()+"]"),Ie("/Function "+be+" 0 R"),Ie("/Extend [true true]"),Ie(">>"),Ie("endobj")},tV=function(k,Y){var be=xl(),Oe=zl();Y.push({resourcesOid:be,objectOid:Oe}),k.objectNumber=Oe;var nt=[];nt.push({key:"Type",value:"/Pattern"}),nt.push({key:"PatternType",value:"1"}),nt.push({key:"PaintType",value:"1"}),nt.push({key:"TilingType",value:"1"}),nt.push({key:"BBox",value:"["+k.boundingBox.map(ve).join(" ")+"]"}),nt.push({key:"XStep",value:ve(k.xStep)}),nt.push({key:"YStep",value:ve(k.yStep)}),nt.push({key:"Resources",value:be+" 0 R"}),k.matrix&&nt.push({key:"Matrix",value:"["+k.matrix.toString()+"]"}),If({data:k.stream,additionalKeyValues:nt,objectId:k.objectNumber}),Ie("endobj")},oE=function(k){var Y;for(Y in bs)bs.hasOwnProperty(Y)&&(bs[Y]instanceof BC?eV(bs[Y]):bs[Y]instanceof kS&&tV(bs[Y],k))},HL=function(k){for(var Y in k.objectNumber=zl(),Ie("<<"),k)switch(Y){case"opacity":Ie("/ca "+et(k[Y]));break;case"stroke-opacity":Ie("/CA "+et(k[Y]))}Ie(">>"),Ie("endobj")},nV=function(){var k;for(k in ka)ka.hasOwnProperty(k)&&HL(ka[k])},j2=function(){for(var k in Ie("/XObject <<"),qc)qc.hasOwnProperty(k)&&qc[k].objectNumber>=0&&Ie("/"+k+" "+qc[k].objectNumber+" 0 R");Cs.publish("putXobjectDict"),Ie(">>")},iV=function(){Bu.oid=zl(),Ie("<<"),Ie("/Filter /Standard"),Ie("/V "+Bu.v),Ie("/R "+Bu.r),Ie("/U <"+Bu.toHexString(Bu.U)+">"),Ie("/O <"+Bu.toHexString(Bu.O)+">"),Ie("/P "+Bu.P),Ie(">>"),Ie("endobj")},QL=function(){for(var k in Ie("/Font <<"),ro)ro.hasOwnProperty(k)&&(!1===_||!0===_&&x.hasOwnProperty(k))&&Ie("/"+k+" "+ro[k].objectNumber+" 0 R");Ie(">>")},rV=function(){if(Object.keys(bs).length>0){for(var k in Ie("/Shading <<"),bs)bs.hasOwnProperty(k)&&bs[k]instanceof BC&&bs[k].objectNumber>=0&&Ie("/"+k+" "+bs[k].objectNumber+" 0 R");Cs.publish("putShadingPatternDict"),Ie(">>")}},aE=function(k){if(Object.keys(bs).length>0){for(var Y in Ie("/Pattern <<"),bs)bs.hasOwnProperty(Y)&&bs[Y]instanceof C.TilingPattern&&bs[Y].objectNumber>=0&&bs[Y].objectNumber<k&&Ie("/"+Y+" "+bs[Y].objectNumber+" 0 R");Cs.publish("putTilingPatternDict"),Ie(">>")}},sV=function(){if(Object.keys(ka).length>0){var k;for(k in Ie("/ExtGState <<"),ka)ka.hasOwnProperty(k)&&ka[k].objectNumber>=0&&Ie("/"+k+" "+ka[k].objectNumber+" 0 R");Cs.publish("putGStateDict"),Ie(">>")}},al=function(k){mA(k.resourcesOid,!0),Ie("<<"),Ie("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),QL(),rV(),aE(k.objectOid),sV(),j2(),Ie(">>"),Ie("endobj")},VL=function(){var k=[];iE(),nV(),sE(),oE(k),Cs.publish("putResources"),k.forEach(al),al({resourcesOid:$p,objectOid:Number.MAX_SAFE_INTEGER}),Cs.publish("postPutResources")},jL=function(){Cs.publish("putAdditionalObjects");for(var k=0;k<hn.length;k++){var Y=hn[k];mA(Y.objId,!0),Ie(Y.content),Ie("endobj")}Cs.publish("postPutAdditionalObjects")},zL=function(k){Jo[k.fontName]=Jo[k.fontName]||{},Jo[k.fontName][k.fontStyle]=k.id},z2=function(k,Y,be,Oe,nt){var Bt={id:"F"+(Object.keys(ro).length+1).toString(10),postScriptName:k,fontName:Y,fontStyle:be,encoding:Oe,isStandardFont:nt||!1,metadata:{}};return Cs.publish("addFont",{font:Bt,instance:this}),ro[Bt.id]=Bt,zL(Bt),Bt.id},oV=function(k){for(var Y=0,be=dn.length;Y<be;Y++){var Oe=z2.call(this,k[Y][0],k[Y][1],k[Y][2],dn[Y][3],!0);!1===_&&(x[Oe]=!0);var nt=k[Y][0].split("-");zL({id:Oe,fontName:nt[0],fontStyle:nt[1]||""})}Cs.publish("addFonts",{fonts:ro,dictionary:Jo})},eg=function(k){return k.foo=function(){try{return k.apply(this,arguments)}catch(Oe){var Y=Oe.stack||"";~Y.indexOf(" at ")&&(Y=Y.split(" at ")[1]);var be="Error in function "+Y.split("\n")[0].split("<")[0]+": "+Oe.message;if(!ki.console)throw new Error(be);ki.console.error(be,Oe),ki.alert&&alert(be)}},k.foo.bar=k,k.foo},lE=function(k,Y){var be,Oe,nt,Bt,nn,Un,_i,lr,yr;if(nt=(Y=Y||{}).sourceEncoding||"Unicode",nn=Y.outputEncoding,(Y.autoencode||nn)&&ro[Tr].metadata&&ro[Tr].metadata[nt]&&ro[Tr].metadata[nt].encoding&&(Bt=ro[Tr].metadata[nt].encoding,!nn&&ro[Tr].encoding&&(nn=ro[Tr].encoding),!nn&&Bt.codePages&&(nn=Bt.codePages[0]),"string"==typeof nn&&(nn=Bt[nn]),nn)){for(_i=!1,Un=[],be=0,Oe=k.length;be<Oe;be++)(lr=nn[k.charCodeAt(be)])?Un.push(String.fromCharCode(lr)):Un.push(k[be]),Un[be].charCodeAt(0)>>8&&(_i=!0);k=Un.join("")}for(be=k.length;void 0===_i&&0!==be;)k.charCodeAt(be-1)>>8&&(_i=!0),be--;if(!_i)return k;for(Un=Y.noBOM?[]:[254,255],be=0,Oe=k.length;be<Oe;be++){if((yr=(lr=k.charCodeAt(be))>>8)>>8)throw new Error("Character at position "+be+" of string '"+k+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Un.push(yr),Un.push(lr-(yr<<8))}return String.fromCharCode.apply(void 0,Un)},ph=C.__private__.pdfEscape=C.pdfEscape=function(k,Y){return lE(k,Y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},G2=C.__private__.beginPage=function(k){un[++Ra]=[],nr[Ra]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(k[0]),topRightY:Number(k[1])}},qL(Ra),kt(un[ye])},GL=function(k,Y){var be,Oe,nt;switch(e=Y||e,"string"==typeof k&&(be=Q(k.toLowerCase()),Array.isArray(be)&&(Oe=be[0],nt=be[1])),Array.isArray(k)&&(Oe=k[0]*Ln,nt=k[1]*Ln),isNaN(Oe)&&(Oe=r[0],nt=r[1]),(Oe>14400||nt>14400)&&(io.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Oe=Math.min(14400,Oe),nt=Math.min(14400,nt)),r=[Oe,nt],e.substr(0,1)){case"l":nt>Oe&&(r=[nt,Oe]);break;case"p":Oe>nt&&(r=[nt,Oe])}G2(r),JL(W2),Ie(tg),0!==$2&&Ie($2+" J"),0!==J2&&Ie(J2+" j"),Cs.publish("addPage",{pageNumber:Ra})},aV=function(k){k>0&&k<=Ra&&(un.splice(k,1),nr.splice(k,1),Ra--,ye>Ra&&(ye=Ra),this.setPage(ye))},qL=function(k){k>0&&k<=Ra&&(ye=k)},lV=C.__private__.getNumberOfPages=C.getNumberOfPages=function(){return un.length-1},KL=function(k,Y,be){var Oe,nt=void 0;return be=be||{},Y=void 0!==Y?Y:ro[Tr].fontStyle,Oe=(k=void 0!==k?k:ro[Tr].fontName).toLowerCase(),void 0!==Jo[Oe]&&void 0!==Jo[Oe][Y]?nt=Jo[Oe][Y]:void 0!==Jo[k]&&void 0!==Jo[k][Y]?nt=Jo[k][Y]:!1===be.disableWarning&&io.warn("Unable to look up font label for font '"+k+"', '"+Y+"'. Refer to getFontList() for available fonts."),nt||be.noFallback||null==(nt=Jo.times[Y])&&(nt=Jo.times.normal),nt},cV=C.__private__.putInfo=function(){var k=zl(),Y=function(Oe){return Oe};for(var be in null!==p&&(Y=Bu.encryptor(k,0)),Ie("<<"),Ie("/Producer ("+ph(Y("jsPDF "+Ti.version))+")"),Vi)Vi.hasOwnProperty(be)&&Vi[be]&&Ie("/"+be.substr(0,1).toUpperCase()+be.substr(1)+" ("+ph(Y(Vi[be]))+")");Ie("/CreationDate ("+ph(Y(ct))+")"),Ie(">>"),Ie("endobj")},q2=C.__private__.putCatalog=function(k){var Y=(k=k||{}).rootDictionaryObjId||nv;switch(zl(),Ie("<<"),Ie("/Type /Catalog"),Ie("/Pages "+Y+" 0 R"),On||(On="fullwidth"),On){case"fullwidth":Ie("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ie("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ie("/OpenAction [3 0 R /Fit]");break;case"original":Ie("/OpenAction [3 0 R /XYZ null null 1]");break;default:var be=""+On;"%"===be.substr(be.length-1)&&(On=parseInt(On)/100),"number"==typeof On&&Ie("/OpenAction [3 0 R /XYZ null null "+et(On)+"]")}switch(xr||(xr="continuous"),xr){case"continuous":Ie("/PageLayout /OneColumn");break;case"single":Ie("/PageLayout /SinglePage");break;case"two":case"twoleft":Ie("/PageLayout /TwoColumnLeft");break;case"tworight":Ie("/PageLayout /TwoColumnRight")}tr&&Ie("/PageMode /"+tr),Cs.publish("putCatalog"),Ie(">>"),Ie("endobj")},uV=C.__private__.putTrailer=function(){Ie("trailer"),Ie("<<"),Ie("/Size "+(Ye+1)),Ie("/Root "+Ye+" 0 R"),Ie("/Info "+(Ye-1)+" 0 R"),null!==p&&Ie("/Encrypt "+Bu.oid+" 0 R"),Ie("/ID [ <"+Me+"> <"+Me+"> ]"),Ie(">>")},dV=C.__private__.putHeader=function(){Ie("%PDF-"+F),Ie("%\xba\xdf\xac\xe0")},hV=C.__private__.putXRef=function(){var k="0000000000";Ie("xref"),Ie("0 "+(Ye+1)),Ie("0000000000 65535 f ");for(var Y=1;Y<=Ye;Y++)Ie("function"==typeof ot[Y]?(k+ot[Y]()).slice(-10)+" 00000 n ":void 0!==ot[Y]?(k+ot[Y]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},iv=C.__private__.buildDocument=function(){Ri(),kt(mt),Cs.publish("buildDocument"),dV(),$C(),jL(),VL(),null!==p&&iV(),cV(),q2();var k=pt;return hV(),uV(),Ie("startxref"),Ie(""+k),Ie("%%EOF"),kt(un[ye]),mt.join("\n")},cE=C.__private__.getBlob=function(k){return new Blob([ri(k)],{type:"application/pdf"})},uE=C.output=C.__private__.output=eg(function(k,Y){switch("string"==typeof(Y=Y||{})?Y={filename:Y}:Y.filename=Y.filename||"generated.pdf",k){case void 0:return iv();case"save":C.save(Y.filename);break;case"arraybuffer":return ri(iv());case"blob":return cE(iv());case"bloburi":case"bloburl":if(void 0!==ki.URL&&"function"==typeof ki.URL.createObjectURL)return ki.URL&&ki.URL.createObjectURL(cE(iv()))||void 0;io.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var be="",Oe=iv();try{be=_H(Oe)}catch{be=_H(unescape(encodeURIComponent(Oe)))}return"data:application/pdf;filename="+Y.filename+";base64,"+be;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(ki)){var nt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Bt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Y.pdfObjectUrl&&(nt=Y.pdfObjectUrl,Bt="");var nn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+nt+'"'+Bt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Y)+");<\/script></body></html>",Un=ki.open();return null!==Un&&Un.document.write(nn),Un}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(ki)){var _i='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Y.filename+'" width="500px" height="400px" /></body></html>',lr=ki.open();if(null!==lr){lr.document.write(_i);var yr=this;lr.document.documentElement.querySelector("#pdfViewer").onload=function(){lr.document.title=Y.filename,lr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(yr.output("bloburl"))}}return lr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(ki))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Gr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Y)+'"></iframe></body></html>',ya=ki.open();if(null!==ya&&(ya.document.write(Gr),ya.document.title=Y.filename),ya||typeof safari>"u")return ya;break;case"datauri":case"dataurl":return ki.document.location.href=this.output("datauristring",Y);default:return null}}),ZL=function(k){return!0===Array.isArray(YC)&&YC.indexOf(k)>-1};switch(i){case"pt":Ln=1;break;case"mm":Ln=72/25.4;break;case"cm":Ln=72/2.54;break;case"in":Ln=72;break;case"px":Ln=1==ZL("px_scaling")?.75:96/72;break;case"pc":case"em":Ln=12;break;case"ex":Ln=6;break;default:if("number"!=typeof i)throw new Error("Invalid unit: "+i);Ln=i}var Bu=null;fn(),Re();var AV=function(k){return null!==p?Bu.encryptor(k,0):function(Y){return Y}},WL=C.__private__.getPageInfo=C.getPageInfo=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:nr[k].objId,pageNumber:k,pageContext:nr[k]}},Yi=C.__private__.getPageInfoByObjId=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Y in nr)if(nr[Y].objId===k)break;return WL(Y)},fV=C.__private__.getCurrentPageInfo=C.getCurrentPageInfo=function(){return{objId:nr[ye].objId,pageNumber:ye,pageContext:nr[ye]}};C.addPage=function(){return GL.apply(this,arguments),this},C.setPage=function(){return qL.apply(this,arguments),kt.call(this,un[ye]),this},C.insertPage=function(k){return this.addPage(),this.movePage(ye,k),this},C.movePage=function(k,Y){var be,Oe;if(k>Y){be=un[k],Oe=nr[k];for(var nt=k;nt>Y;nt--)un[nt]=un[nt-1],nr[nt]=nr[nt-1];un[Y]=be,nr[Y]=Oe,this.setPage(Y)}else if(k<Y){be=un[k],Oe=nr[k];for(var Bt=k;Bt<Y;Bt++)un[Bt]=un[Bt+1],nr[Bt]=nr[Bt+1];un[Y]=be,nr[Y]=Oe,this.setPage(Y)}return this},C.deletePage=function(){return aV.apply(this,arguments),this},C.__private__.text=C.text=function(k,Y,be,Oe,nt){var Bt,nn,Un,_i,lr,yr,Gr,ya,Oa,Sl=(Oe=Oe||{}).scope||this;if("number"==typeof k&&"number"==typeof Y&&("string"==typeof be||Array.isArray(be))){var Fu=be;be=Y,Y=k,k=Fu}if(arguments[3]instanceof Mi?(de("The transform parameter of text() with a Matrix value"),Oa=nt):(Un=arguments[4],_i=arguments[5],"object"===Os(Gr=arguments[3])&&null!==Gr||("string"==typeof Un&&(_i=Un,Un=null),"string"==typeof Gr&&(_i=Gr,Gr=null),"number"==typeof Gr&&(Un=Gr,Gr=null),Oe={flags:Gr,angle:Un,align:_i})),isNaN(Y)||isNaN(be)||null==k)throw new Error("Invalid arguments passed to jsPDF.text");if(0===k.length)return Sl;var wc="",ng=!1,_A="number"==typeof Oe.lineHeightFactor?Oe.lineHeightFactor:XC,sv=Sl.internal.scaleFactor;function rP(bo){return bo=bo.split("\t").join(Array(Oe.TabLen||9).join(" ")),ph(bo,Gr)}function iM(bo){for(var Co,ll=bo.concat(),Gl=[],cv=ll.length;cv--;)"string"==typeof(Co=ll.shift())?Gl.push(Co):Array.isArray(bo)&&(1===Co.length||void 0===Co[1]&&void 0===Co[2])?Gl.push(Co[0]):Gl.push([Co[0],Co[1],Co[2]]);return Gl}function rM(bo,Co){var ll;if("string"==typeof bo)ll=Co(bo)[0];else if(Array.isArray(bo)){for(var Gl,cv,bw=bo.concat(),xE=[],oP=bw.length;oP--;)"string"==typeof(Gl=bw.shift())?xE.push(Co(Gl)[0]):Array.isArray(Gl)&&"string"==typeof Gl[0]&&(cv=Co(Gl[0],Gl[1],Gl[2]),xE.push([cv[0],cv[1],cv[2]]));ll=xE}return ll}var gE=!1,sM=!0;if("string"==typeof k)gE=!0;else if(Array.isArray(k)){var oM=k.concat();nn=[];for(var mE,gh=oM.length;gh--;)("string"!=typeof(mE=oM.shift())||Array.isArray(mE)&&"string"!=typeof mE[0])&&(sM=!1);gE=sM}if(!1===gE)throw new Error('Type of text must be string or Array. "'+k+'" is not recognized.');"string"==typeof k&&(k=k.match(/[\r?\n]/)?k.split(/\r\n|\r|\n/g):[k]);var _E=Sn/Sl.internal.scaleFactor,yE=_E*(_A-1);switch(Oe.baseline){case"bottom":be-=yE;break;case"top":be+=_E-yE;break;case"hanging":be+=_E-2*yE;break;case"middle":be+=_E/2-yE}if((yr=Oe.maxWidth||0)>0&&("string"==typeof k?k=Sl.splitTextToSize(k,yr):"[object Array]"===Object.prototype.toString.call(k)&&(k=k.reduce(function(bo,Co){return bo.concat(Sl.splitTextToSize(Co,yr))},[]))),Cs.publish("preProcessText",Bt={text:k,x:Y,y:be,options:Oe,mutex:{pdfEscape:ph,activeFontKey:Tr,fonts:ro,activeFontSize:Sn}}),k=Bt.text,Un=(Oe=Bt.options).angle,Oa instanceof Mi||!Un||"number"!=typeof Un)Un&&Un instanceof Mi&&(Oa=Un);else{Un*=Math.PI/180,0===Oe.rotationDirection&&(Un=-Un),ie===K.ADVANCED&&(Un=-Un);var vE=Math.cos(Un),aM=Math.sin(Un);Oa=new Mi(vE,aM,-aM,vE,0,0)}ie!==K.ADVANCED||Oa||(Oa=qm),void 0!==(lr=Oe.charSpace||AE)&&(wc+=ve(oe(lr))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(ya=Oe.horizontalScale)&&(wc+=ve(100*ya)+" Tz\n");var mh=-1,xV=void 0!==Oe.renderingMode?Oe.renderingMode:Oe.stroke,lM=Sl.internal.getCurrentPageInfo().pageContext;switch(xV){case 0:case!1:case"fill":mh=0;break;case 1:case!0:case"stroke":mh=1;break;case 2:case"fillThenStroke":mh=2;break;case 3:case"invisible":mh=3;break;case 4:case"fillAndAddForClipping":mh=4;break;case 5:case"strokeAndAddPathForClipping":mh=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":mh=6;break;case 7:case"addToPathForClipping":mh=7}var sP=void 0!==lM.usedRenderingMode?lM.usedRenderingMode:-1;-1!==mh?wc+=mh+" Tr\n":-1!==sP&&(wc+="0 Tr\n"),-1!==mh&&(lM.usedRenderingMode=mh),_i=Oe.align||"left";var ig,cM=Sn*_A,SV=Sl.internal.pageSize.getWidth(),EV=ro[Tr];lr=Oe.charSpace||AE,yr=Oe.maxWidth||0,Gr=Object.assign({autoencode:!0,noBOM:!0},Oe.flags);var _w=[];if("[object Array]"===Object.prototype.toString.call(k)){var Df;nn=iM(k),"left"!==_i&&(ig=nn.map(function(bo){return Sl.getStringUnitWidth(bo,{font:EV,charSpace:lr,fontSize:Sn,doKerning:!1})*Sn/sv}));var rg,yw=0;if("right"===_i){Y-=ig[0],k=[],gh=nn.length;for(var Ym=0;Ym<gh;Ym++)0===Ym?(rg=rv(Y),Df=pw(be)):(rg=oe(yw-ig[Ym]),Df=-cM),k.push([nn[Ym],rg,Df]),yw=ig[Ym]}else if("center"===_i){Y-=ig[0]/2,k=[],gh=nn.length;for(var ov=0;ov<gh;ov++)0===ov?(rg=rv(Y),Df=pw(be)):(rg=oe((yw-ig[ov])/2),Df=-cM),k.push([nn[ov],rg,Df]),yw=ig[ov]}else if("left"===_i){k=[],gh=nn.length;for(var wE=0;wE<gh;wE++)k.push(nn[wE])}else{if("justify"!==_i)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');k=[],gh=nn.length,yr=0!==yr?yr:SV;for(var sg=0;sg<gh;sg++)Df=0===sg?pw(be):-cM,rg=0===sg?rv(Y):0,_w.push(sg<gh-1?ve(oe((yr-ig[sg])/(nn[sg].split(" ").length-1))):0),k.push([nn[sg],rg,Df])}}var bE="boolean"==typeof Oe.R2L?Oe.R2L:pi;!0===bE&&(k=rM(k,function(bo,Co,ll){return[bo.split("").reverse().join(""),Co,ll]})),Cs.publish("postProcessText",Bt={text:k,x:Y,y:be,options:Oe,mutex:{pdfEscape:ph,activeFontKey:Tr,fonts:ro,activeFontSize:Sn}}),k=Bt.text,ng=Bt.mutex.isHex||!1;var uM=ro[Tr].encoding;"WinAnsiEncoding"!==uM&&"StandardEncoding"!==uM||(k=rM(k,function(bo,Co,ll){return[rP(bo),Co,ll]})),nn=iM(k),k=[];for(var vw,og,av,n1=0,CE=1,r1=Array.isArray(nn[0])?CE:n1,ww="",dM=function(bo,Co,ll){var Gl="";return ll instanceof Mi?(ll="number"==typeof Oe.angle?Yp(ll,new Mi(1,0,0,1,bo,Co)):Yp(new Mi(1,0,0,1,bo,Co),ll),ie===K.ADVANCED&&(ll=Yp(new Mi(1,0,0,-1,0,0),ll)),Gl=ll.join(" ")+" Tm\n"):Gl=ve(bo)+" "+ve(Co)+" Td\n",Gl},Tf=0;Tf<nn.length;Tf++){switch(ww="",r1){case CE:av=(ng?"<":"(")+nn[Tf][0]+(ng?">":")"),vw=parseFloat(nn[Tf][1]),og=parseFloat(nn[Tf][2]);break;case n1:av=(ng?"<":"(")+nn[Tf]+(ng?">":")"),vw=rv(Y),og=pw(be)}void 0!==_w&&void 0!==_w[Tf]&&(ww=_w[Tf]+" Tw\n"),0===Tf?k.push(ww+dM(vw,og,Oa)+av):r1===n1?k.push(ww+av):r1===CE&&k.push(ww+dM(vw,og,Oa)+av)}k=k.join(r1===n1?" Tj\nT* ":" Tj\n"),k+=" Tj\n";var lv="BT\n/";return lv+=Tr+" "+Sn+" Tf\n",lv+=ve(Sn*_A)+" TL\n",lv+=e1+"\n",lv+=wc,lv+=k,Ie(lv+="ET"),x[Tr]=!0,Sl};var pV=C.__private__.clip=C.clip=function(k){return Ie("evenodd"===k?"W*":"W"),this};C.clipEvenOdd=function(){return pV("evenodd")},C.__private__.discardPath=C.discardPath=function(){return Ie("n"),this};var Wm=C.__private__.isValidStyle=function(k){var Y=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(k)&&(Y=!0),Y};C.__private__.setDefaultPathOperation=C.setDefaultPathOperation=function(k){return Wm(k)&&(A=k),this};var YL=C.__private__.getStyle=C.getStyle=function(k){var Y=A;switch(k){case"D":case"S":Y="S";break;case"F":Y="f";break;case"FD":case"DF":Y="B";break;case"f":case"f*":case"B":case"B*":Y=k}return Y},$L=C.close=function(){return Ie("h"),this};C.stroke=function(){return Ie("S"),this},C.fill=function(k){return dE("f",k),this},C.fillEvenOdd=function(k){return dE("f*",k),this},C.fillStroke=function(k){return dE("B",k),this},C.fillStrokeEvenOdd=function(k){return dE("B*",k),this};var dE=function(k,Y){"object"===Os(Y)?mV(Y,k):Ie(k)},K2=function(k){null===k||ie===K.ADVANCED&&void 0===k||(k=YL(k),Ie(k))};function gV(k,Y,be,Oe,nt){var Bt=new kS(Y||this.boundingBox,be||this.xStep,Oe||this.yStep,this.gState,nt||this.matrix);Bt.stream=this.stream;var nn=k+"$$"+this.cloneIndex+++"$$";return fh(nn,Bt),Bt}var mV=function(k,Y){var be=WC[k.key],Oe=bs[be];if(Oe instanceof BC)Ie("q"),Ie(_V(Y)),Oe.gState&&C.setGState(Oe.gState),Ie(k.matrix.toString()+" cm"),Ie("/"+be+" sh"),Ie("Q");else if(Oe instanceof kS){var nt=new Mi(1,0,0,-1,0,mw());k.matrix&&(nt=nt.multiply(k.matrix||qm),be=gV.call(Oe,k.key,k.boundingBox,k.xStep,k.yStep,nt).id),Ie("q"),Ie("/Pattern cs"),Ie("/"+be+" scn"),Oe.gState&&C.setGState(Oe.gState),Ie(Y),Ie("Q")}},_V=function(k){switch(k){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Z2=C.moveTo=function(k,Y){return Ie(ve(oe(k))+" "+ve(Ee(Y))+" m"),this},JC=C.lineTo=function(k,Y){return Ie(ve(oe(k))+" "+ve(Ee(Y))+" l"),this},fw=C.curveTo=function(k,Y,be,Oe,nt,Bt){return Ie([ve(oe(k)),ve(Ee(Y)),ve(oe(be)),ve(Ee(Oe)),ve(oe(nt)),ve(Ee(Bt)),"c"].join(" ")),this};C.__private__.line=C.line=function(k,Y,be,Oe,nt){if(isNaN(k)||isNaN(Y)||isNaN(be)||isNaN(Oe)||!Wm(nt))throw new Error("Invalid arguments passed to jsPDF.line");return ie===K.COMPAT?this.lines([[be-k,Oe-Y]],k,Y,[1,1],nt||"S"):this.lines([[be-k,Oe-Y]],k,Y,[1,1]).stroke()},C.__private__.lines=C.lines=function(k,Y,be,Oe,nt,Bt){var nn,Un,_i,lr,yr,Fu,wc,ng;if("number"==typeof k&&(ng=be,be=Y,Y=k,k=ng),Oe=Oe||[1,1],Bt=Bt||!1,isNaN(Y)||isNaN(be)||!Array.isArray(k)||!Array.isArray(Oe)||!Wm(nt)||"boolean"!=typeof Bt)throw new Error("Invalid arguments passed to jsPDF.lines");for(Z2(Y,be),nn=Oe[0],Un=Oe[1],lr=k.length,Fu=Y,wc=be,_i=0;_i<lr;_i++)2===(yr=k[_i]).length?JC(Fu=yr[0]*nn+Fu,wc=yr[1]*Un+wc):fw(yr[0]*nn+Fu,yr[1]*Un+wc,yr[2]*nn+Fu,yr[3]*Un+wc,Fu=yr[4]*nn+Fu,wc=yr[5]*Un+wc);return Bt&&$L(),K2(nt),this},C.path=function(k){for(var Y=0;Y<k.length;Y++){var be=k[Y],Oe=be.c;switch(be.op){case"m":Z2(Oe[0],Oe[1]);break;case"l":JC(Oe[0],Oe[1]);break;case"c":fw.apply(this,Oe);break;case"h":$L()}}return this},C.__private__.rect=C.rect=function(k,Y,be,Oe,nt){if(isNaN(k)||isNaN(Y)||isNaN(be)||isNaN(Oe)||!Wm(nt))throw new Error("Invalid arguments passed to jsPDF.rect");return ie===K.COMPAT&&(Oe=-Oe),Ie([ve(oe(k)),ve(Ee(Y)),ve(oe(be)),ve(oe(Oe)),"re"].join(" ")),K2(nt),this},C.__private__.triangle=C.triangle=function(k,Y,be,Oe,nt,Bt,nn){if(isNaN(k)||isNaN(Y)||isNaN(be)||isNaN(Oe)||isNaN(nt)||isNaN(Bt)||!Wm(nn))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[be-k,Oe-Y],[nt-be,Bt-Oe],[k-nt,Y-Bt]],k,Y,[1,1],nn,!0),this},C.__private__.roundedRect=C.roundedRect=function(k,Y,be,Oe,nt,Bt,nn){if(isNaN(k)||isNaN(Y)||isNaN(be)||isNaN(Oe)||isNaN(nt)||isNaN(Bt)||!Wm(nn))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Un=4/3*(Math.SQRT2-1);return nt=Math.min(nt,.5*be),Bt=Math.min(Bt,.5*Oe),this.lines([[be-2*nt,0],[nt*Un,0,nt,Bt-Bt*Un,nt,Bt],[0,Oe-2*Bt],[0,Bt*Un,-nt*Un,Bt,-nt,Bt],[2*nt-be,0],[-nt*Un,0,-nt,-Bt*Un,-nt,-Bt],[0,2*Bt-Oe],[0,-Bt*Un,nt*Un,-Bt,nt,-Bt]],k+nt,Y,[1,1],nn,!0),this},C.__private__.ellipse=C.ellipse=function(k,Y,be,Oe,nt){if(isNaN(k)||isNaN(Y)||isNaN(be)||isNaN(Oe)||!Wm(nt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Bt=4/3*(Math.SQRT2-1)*be,nn=4/3*(Math.SQRT2-1)*Oe;return Z2(k+be,Y),fw(k+be,Y-nn,k+Bt,Y-Oe,k,Y-Oe),fw(k-Bt,Y-Oe,k-be,Y-nn,k-be,Y),fw(k-be,Y+nn,k-Bt,Y+Oe,k,Y+Oe),fw(k+Bt,Y+Oe,k+be,Y+nn,k+be,Y),K2(nt),this},C.__private__.circle=C.circle=function(k,Y,be,Oe){if(isNaN(k)||isNaN(Y)||isNaN(be)||!Wm(Oe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(k,Y,be,be,Oe)},C.setFont=function(k,Y,be){return be&&(Y=Se(Y,be)),Tr=KL(k,Y,{disableWarning:!1}),this};var yV=C.__private__.getFont=C.getFont=function(){return ro[KL.apply(C,arguments)]};C.__private__.getFontList=C.getFontList=function(){var k,Y,be={};for(k in Jo)if(Jo.hasOwnProperty(k))for(Y in be[k]=[],Jo[k])Jo[k].hasOwnProperty(Y)&&be[k].push(Y);return be},C.addFont=function(k,Y,be,Oe,nt){var Bt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==Bt.indexOf(arguments[3])?nt=arguments[3]:arguments[3]&&-1==Bt.indexOf(arguments[3])&&(be=Se(be,Oe)),z2.call(this,k,Y,be,nt=nt||"Identity-H")};var XC,W2=n.lineWidth||.200025,hE=C.__private__.getLineWidth=C.getLineWidth=function(){return W2},JL=C.__private__.setLineWidth=C.setLineWidth=function(k){return W2=k,Ie(ve(oe(k))+" w"),this};C.__private__.setLineDash=Ti.API.setLineDash=Ti.API.setLineDashPattern=function(k,Y){if(k=k||[],Y=Y||0,isNaN(Y)||!Array.isArray(k))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return k=k.map(function(be){return ve(oe(be))}).join(" "),Y=ve(oe(Y)),Ie("["+k+"] "+Y+" d"),this};var XL=C.__private__.getLineHeight=C.getLineHeight=function(){return Sn*XC};C.__private__.getLineHeight=C.getLineHeight=function(){return Sn*XC};var eP=C.__private__.setLineHeightFactor=C.setLineHeightFactor=function(k){return"number"==typeof(k=k||1.15)&&(XC=k),this},tP=C.__private__.getLineHeightFactor=C.getLineHeightFactor=function(){return XC};eP(n.lineHeight);var rv=C.__private__.getHorizontalCoordinate=function(k){return oe(k)},pw=C.__private__.getVerticalCoordinate=function(k){return ie===K.ADVANCED?k:nr[ye].mediaBox.topRightY-nr[ye].mediaBox.bottomLeftY-oe(k)},vV=C.__private__.getHorizontalCoordinateString=C.getHorizontalCoordinateString=function(k){return ve(rv(k))},gw=C.__private__.getVerticalCoordinateString=C.getVerticalCoordinateString=function(k){return ve(pw(k))},tg=n.strokeColor||"0 G";C.__private__.getStrokeColor=C.getDrawColor=function(){return Jp(tg)},C.__private__.setStrokeColor=C.setDrawColor=function(k,Y,be,Oe){return tg=Xp({ch1:k,ch2:Y,ch3:be,ch4:Oe,pdfColorType:"draw",precision:2}),Ie(tg),this};var Y2=n.fillColor||"0 g";C.__private__.getFillColor=C.getFillColor=function(){return Jp(Y2)},C.__private__.setFillColor=C.setFillColor=function(k,Y,be,Oe){return Y2=Xp({ch1:k,ch2:Y,ch3:be,ch4:Oe,pdfColorType:"fill",precision:2}),Ie(Y2),this};var e1=n.textColor||"0 g",wV=C.__private__.getTextColor=C.getTextColor=function(){return Jp(e1)};C.__private__.setTextColor=C.setTextColor=function(k,Y,be,Oe){return e1=Xp({ch1:k,ch2:Y,ch3:be,ch4:Oe,pdfColorType:"text",precision:3}),this};var AE=n.charSpace,bV=C.__private__.getCharSpace=C.getCharSpace=function(){return parseFloat(AE||0)};C.__private__.setCharSpace=C.setCharSpace=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return AE=k,this};var $2=0;C.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},C.__private__.setLineCap=C.setLineCap=function(k){var Y=C.CapJoinStyles[k];if(void 0===Y)throw new Error("Line cap style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $2=Y,Ie(Y+" J"),this};var J2=0;C.__private__.setLineJoin=C.setLineJoin=function(k){var Y=C.CapJoinStyles[k];if(void 0===Y)throw new Error("Line join style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return J2=Y,Ie(Y+" j"),this},C.__private__.setLineMiterLimit=C.__private__.setMiterLimit=C.setLineMiterLimit=C.setMiterLimit=function(k){if(k=k||0,isNaN(k))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ie(ve(oe(k))+" M"),this},C.GState=BO,C.setGState=function(k){(k="string"==typeof k?ka[Wp[k]]:nP(null,k)).equals(tv)||(Ie("/"+k.id+" gs"),tv=k)};var nP=function(k,Y){if(!k||!Wp[k]){var be=!1;for(var Oe in ka)if(ka.hasOwnProperty(Oe)&&ka[Oe].equals(Y)){be=!0;break}if(be)Y=ka[Oe];else{var nt="GS"+(Object.keys(ka).length+1).toString(10);ka[nt]=Y,Y.id=nt}return k&&(Wp[k]=Y.id),Cs.publish("addGState",Y),Y}};C.addGState=function(k,Y){return nP(k,Y),this},C.saveGraphicsState=function(){return Ie("q"),jm.push({key:Tr,size:Sn,color:e1}),this},C.restoreGraphicsState=function(){Ie("Q");var k=jm.pop();return Tr=k.key,Sn=k.size,e1=k.color,tv=null,this},C.setCurrentTransformationMatrix=function(k){return Ie(k.toString()+" cm"),this},C.comment=function(k){return Ie("#"+k),this};var fE=function(k,Y){var be=k||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return be},set:function(Bt){isNaN(Bt)||(be=parseFloat(Bt))}});var Oe=Y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Oe},set:function(Bt){isNaN(Bt)||(Oe=parseFloat(Bt))}});var nt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return nt},set:function(Bt){nt=Bt.toString()}}),this},X2=function(k,Y,be,Oe){fE.call(this,k,Y),this.type="rect";var nt=be||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return nt},set:function(nn){isNaN(nn)||(nt=parseFloat(nn))}});var Bt=Oe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Bt},set:function(nn){isNaN(nn)||(Bt=parseFloat(nn))}}),this},eM=function(){this.page=Ra,this.currentPage=ye,this.pages=un.slice(0),this.pagesContext=nr.slice(0),this.x=Mu,this.y=cs,this.matrix=Zp,this.width=t1(ye),this.height=mw(ye),this.outputDestination=Kn,this.id="",this.objectNumber=-1};eM.prototype.restore=function(){Ra=this.page,nr=this.pagesContext,un=this.pages,Mu=this.x,cs=this.y,Zp=this.matrix,tM(ye=this.currentPage,this.width),nM(ye,this.height),Kn=this.outputDestination};var iP=function(k,Y,be,Oe,nt){Gm.push(new eM),Ra=ye=0,un=[],Mu=k,cs=Y,Zp=nt,G2([be,Oe])},CV=function(k){if(zm[k])Gm.pop().restore();else{var Y=new eM,be="Xo"+(Object.keys(qc).length+1).toString(10);Y.id=be,zm[k]=be,qc[be]=Y,Cs.publish("addFormObject",Y),Gm.pop().restore()}};for(var pE in C.beginFormObject=function(k,Y,be,Oe,nt){return iP(k,Y,be,Oe,nt),this},C.endFormObject=function(k){return CV(k),this},C.doFormObject=function(k,Y){var be=qc[zm[k]];return Ie("q"),Ie(Y.toString()+" cm"),Ie("/"+be.id+" Do"),Ie("Q"),this},C.getFormObject=function(k){var Y=qc[zm[k]];return{x:Y.x,y:Y.y,width:Y.width,height:Y.height,matrix:Y.matrix}},C.save=function(k,Y){return k=k||"generated.pdf",(Y=Y||{}).returnPromise=Y.returnPromise||!1,!1===Y.returnPromise?(MC(cE(iv()),k),"function"==typeof MC.unload&&ki.setTimeout&&setTimeout(MC.unload,911),this):new Promise(function(be,Oe){try{var nt=MC(cE(iv()),k);"function"==typeof MC.unload&&ki.setTimeout&&setTimeout(MC.unload,911),be(nt)}catch(Bt){Oe(Bt.message)}})},Ti.API)Ti.API.hasOwnProperty(pE)&&("events"===pE&&Ti.API.events.length?function(k,Y){var Oe,nt;for(nt=Y.length-1;-1!==nt;nt--)k.subscribe.apply(k,[Y[nt][0]].concat("function"==typeof(Oe=Y[nt][1])?[Oe]:Oe))}(Cs,Ti.API.events):C[pE]=Ti.API[pE]);var t1=C.getPageWidth=function(k){return(nr[k=k||ye].mediaBox.topRightX-nr[k].mediaBox.bottomLeftX)/Ln},tM=C.setPageWidth=function(k,Y){nr[k].mediaBox.topRightX=Y*Ln+nr[k].mediaBox.bottomLeftX},mw=C.getPageHeight=function(k){return(nr[k=k||ye].mediaBox.topRightY-nr[k].mediaBox.bottomLeftY)/Ln},nM=C.setPageHeight=function(k,Y){nr[k].mediaBox.topRightY=Y*Ln+nr[k].mediaBox.bottomLeftY};return C.internal={pdfEscape:ph,getStyle:YL,getFont:yV,getFontSize:Bn,getCharSpace:bV,getTextColor:wV,getLineHeight:XL,getLineHeightFactor:tP,getLineWidth:hE,write:ar,getHorizontalCoordinate:rv,getVerticalCoordinate:pw,getCoordinateString:vV,getVerticalCoordinateString:gw,collections:{},newObject:zl,newAdditionalObject:tE,newObjectDeferred:xl,newObjectDeferredBegin:mA,getFilters:Km,putStream:If,events:Cs,scaleFactor:Ln,pageSize:{getWidth:function(){return t1(ye)},setWidth:function(k){tM(ye,k)},getHeight:function(){return mw(ye)},setHeight:function(k){nM(ye,k)}},encryptionOptions:p,encryption:Bu,getEncryptor:AV,output:uE,getNumberOfPages:lV,pages:un,out:Ie,f2:et,f3:ae,getPageInfo:WL,getPageInfoByObjId:Yi,getCurrentPageInfo:fV,getPDFVersion:R,Point:fE,Rectangle:X2,Matrix:Mi,hasHotfix:ZL},Object.defineProperty(C.internal.pageSize,"width",{get:function(){return t1(ye)},set:function(k){tM(ye,k)},enumerable:!0,configurable:!0}),Object.defineProperty(C.internal.pageSize,"height",{get:function(){return mw(ye)},set:function(k){nM(ye,k)},enumerable:!0,configurable:!0}),oV.call(C,dn),Tr="F1",GL(r,e),Cs.publish("initialized"),C}BS.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},BS.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},BS.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},BS.prototype.processOwnerPassword=function(n,t){return wH(vH(t).substr(0,5),n)},BS.prototype.encryptor=function(n,t){var e=vH(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return wH(e,i)}},BO.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||Os(n)!==Os(this))return!1;var i=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;i++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&i--;return 0===i},Ti.API={events:[]},Ti.version="2.5.1";var Ma=Ti.API,bH=1,FC=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},RS=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},er=function(n){return n.toFixed(2)},tw=function(n){return n.toFixed(5)};Ma.__acroform__={};var dh=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},FW=function(n){return n*bH},Lm=function(n){var t=new RW,e=$n.internal.getHeight(n)||0,i=$n.internal.getWidth(n)||0;return t.BBox=[0,0,Number(er(i)),Number(er(e))],t},ave=Ma.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<t},lve=Ma.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<t)},cve=Ma.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(n&1<<t)?0:1},rl=Ma.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return cve(n,t-1)},sl=Ma.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ave(n,t-1)},ol=Ma.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return lve(n,t-1)},uve=Ma.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,r=n[0],s=n[1],a=n[2],l=n[3],d={};return d.lowerLeft_X=e(r)||0,d.lowerLeft_Y=i(s+l)||0,d.upperRight_X=e(r+a)||0,d.upperRight_Y=i(s)||0,[Number(er(d.lowerLeft_X)),Number(er(d.lowerLeft_Y)),Number(er(d.upperRight_X)),Number(er(d.upperRight_Y))]},dve=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],i=CH(n,n._V||n.DV),r=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+r+" "+er(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Lm(n);return s.scope=n.scope,s.stream=t.join("\n"),s}},CH=function(n,t){var e=0===n.fontSize?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},r=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");r=r.map(n.multiline?function(ae){return ae.split("\n")}:function(ae){return[ae]});var s=e,a=$n.internal.getHeight(n)||0;a=a<0?-a:a;var ae,l=$n.internal.getWidth(n)||0;l=l<0?-l:l,s++;e:for(;s>0;){t="",s--;var A,p,_=FO("3",n,s).height,x=n.multiline?a-s:(a-_)/2,C=x+=2,F=0,R=0,U=0;if(s<=0){t="(...) Tj\n",t+="% Width of Text: "+FO(t,n,s=12).width+", FieldWidth:"+l+"\n";break}for(var Q="",K=0,ie=0;ie<r.length;ie++)if(r.hasOwnProperty(ie)){var ce=!1;if(1!==r[ie].length&&U!==r[ie].length-1){if((_+2)*(K+2)+2>a)continue e;Q+=r[ie][U],ce=!0,R=ie,ie--}else{Q=" "==(Q+=r[ie][U]+" ").substr(Q.length-1)?Q.substr(0,Q.length-1):Q;var pe=parseInt(ie),Se=(ae=pe)+1<r.length&&FO(Q+" "+r[ae+1][0],n,s).width<=l-4,ve=ie>=r.length-1;if(Se&&!ve){Q+=" ",U=0;continue}if(Se||ve){if(ve)R=pe;else if(n.multiline&&(_+2)*(K+2)+2>a)continue e}else{if(!n.multiline||(_+2)*(K+2)+2>a)continue e;R=pe}}for(var de="",We=F;We<=R;We++){var et=r[We];if(n.multiline){if(We===R){de+=et[U]+" ",U=(U+1)%et.length;continue}if(We===F){de+=et[et.length-1]+" ";continue}}de+=et[0]+" "}switch(de=" "==de.substr(de.length-1)?de.substr(0,de.length-1):de,p=FO(de,n,s).width,n.textAlign){case"right":A=l-p-2;break;case"center":A=(l-p)/2;break;default:A=2}t+=er(A)+" "+er(C)+" Td\n",t+="("+FC(de)+") Tj\n",t+=-er(A)+" 0 Td\n",C=-(s+2),p=0,F=ce?R:R+1,K++,Q=""}break}return i.text=t,i.fontSize=s,i},FO=function(n,t,e){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:r}},hve={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Ave=function(n,t){var e={type:"reference",object:n};void 0===t.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===e.type&&i.object===e.object})&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},kW=Ma.__acroform__.arrayToPdfArray=function(n,t,e){var i=function(a){return a};if(Array.isArray(n)){for(var r="[",s=0;s<n.length;s++)switch(0!==s&&(r+=" "),Os(n[s])){case"boolean":case"number":case"object":r+=n[s].toString();break;case"string":"/"!==n[s].substr(0,1)?(void 0!==t&&e&&(i=e.internal.getEncryptor(t)),r+="("+FC(i(n[s].toString()))+")"):r+=n[s].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},xH=function(n,t,e){var i=function(r){return r};return void 0!==t&&e&&(i=e.internal.getEncryptor(t)),(n=n||"").toString(),"("+FC(i(n))+")"},Pm=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Pm.prototype.toString=function(){return this.objId+" 0 R"},Pm.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Pm.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(s){return"content"!=s&&"appearanceStreamContent"!=s&&"scope"!=s&&"objId"!=s&&"_"!=s.substring(0,1)});for(var e in t)if(!1===Object.getOwnPropertyDescriptor(this,t[e]).configurable){var i=t[e],r=this[i];r&&(Array.isArray(r)?n.push({key:i,value:kW(r,this.objId,this.scope)}):r instanceof Pm?(r.scope=this.scope,n.push({key:i,value:r.objId+" 0 R"})):"function"!=typeof r&&n.push({key:i,value:r}))}return n};var RW=function(){Pm.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};dh(RW,Pm);var OW=function(){Pm.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+FC(e(n))+")"}},set:function(e){n=e}})};dh(OW,Pm);var zp=function n(){Pm.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(Q){if(isNaN(Q))throw new Error('Invalid value "'+Q+'" for attribute F supplied.');t=Q}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(rl(t,3))},set:function(Q){this.F=!0===Boolean(Q)?sl(t,3):ol(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(Q){if(isNaN(Q))throw new Error('Invalid value "'+Q+'" for attribute Ff supplied.');e=Q}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==i.length)return i},set:function(Q){i=void 0!==Q?Q:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(Q){i[0]=Q}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(Q){i[1]=Q}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(Q){i[2]=Q}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(Q){i[3]=Q}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(Q){switch(Q){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=Q;break;default:throw new Error('Invalid value "'+Q+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof OO)return;s="FieldObject"+n.FieldNum++}var Q=function(K){return K};return this.scope&&(Q=this.scope.internal.getEncryptor(this.objId)),"("+FC(Q(s))+")"},set:function(Q){s=Q.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(Q){s=Q}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(Q){a=Q}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(Q){l=Q}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(Q){d=Q}});var A=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===A?50/bH:A},set:function(Q){A=Q}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(Q){p=Q}});var _="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!_||this instanceof OO||this instanceof kC))return xH(_,this.objId,this.scope)},set:function(Q){Q=Q.toString(),_=Q}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof yc?x:xH(x,this.objId,this.scope)},set:function(Q){Q=Q.toString(),x=this instanceof yc?Q:"("===Q.substr(0,1)?RS(Q.substr(1,Q.length-2)):RS(Q)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof yc?RS(x.substr(1,x.length-1)):x},set:function(Q){Q=Q.toString(),x=this instanceof yc?"/"+Q:Q}});var C=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(C)return C},set:function(Q){this.V=Q}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(C)return this instanceof yc?C:xH(C,this.objId,this.scope)},set:function(Q){Q=Q.toString(),C=this instanceof yc?Q:"("===Q.substr(0,1)?RS(Q.substr(1,Q.length-2)):RS(Q)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof yc?RS(C.substr(1,C.length-1)):C},set:function(Q){Q=Q.toString(),C=this instanceof yc?"/"+Q:Q}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var F,R=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return R},set:function(Q){Q=Boolean(Q),R=Q}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(F)return F},set:function(Q){F=Q}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(rl(this.Ff,1))},set:function(Q){this.Ff=!0===Boolean(Q)?sl(this.Ff,1):ol(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(rl(this.Ff,2))},set:function(Q){this.Ff=!0===Boolean(Q)?sl(this.Ff,2):ol(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(rl(this.Ff,3))},set:function(Q){this.Ff=!0===Boolean(Q)?sl(this.Ff,3):ol(this.Ff,3)}});var U=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==U)return U},set:function(Q){if(-1===[0,1,2].indexOf(Q))throw new Error('Invalid value "'+Q+'" for attribute Q supplied.');U=Q}}),Object.defineProperty(this,"textAlign",{get:function(){var Q;switch(U){case 0:default:Q="left";break;case 1:Q="center";break;case 2:Q="right"}return Q},configurable:!0,enumerable:!0,set:function(Q){switch(Q){case"right":case 2:U=2;break;case"center":case 1:U=1;break;default:U=0}}})};dh(zp,Pm);var OS=function(){zp.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return kW(t,this.objId,this.scope)},set:function(e){var i,r;r=[],"string"==typeof(i=e)&&(r=function(s,a,l){l||(l=1);for(var d,A=[];d=a.exec(s);)A.push(d[l]);return A}(i,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==i););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(rl(this.Ff,18))},set:function(e){this.Ff=!0===Boolean(e)?sl(this.Ff,18):ol(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(rl(this.Ff,19))},set:function(e){!0===this.combo&&(this.Ff=!0===Boolean(e)?sl(this.Ff,19):ol(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(rl(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=sl(this.Ff,20),t.sort()):this.Ff=ol(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(rl(this.Ff,22))},set:function(e){this.Ff=!0===Boolean(e)?sl(this.Ff,22):ol(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(rl(this.Ff,23))},set:function(e){this.Ff=!0===Boolean(e)?sl(this.Ff,23):ol(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(rl(this.Ff,27))},set:function(e){this.Ff=!0===Boolean(e)?sl(this.Ff,27):ol(this.Ff,27)}}),this.hasAppearanceStream=!1};dh(OS,zp);var LS=function(){OS.call(this),this.fontName="helvetica",this.combo=!1};dh(LS,OS);var PS=function(){LS.call(this),this.combo=!0};dh(PS,LS);var kO=function(){PS.call(this),this.edit=!0};dh(kO,PS);var yc=function(){zp.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(rl(this.Ff,15))},set:function(e){this.Ff=!0===Boolean(e)?sl(this.Ff,15):ol(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(rl(this.Ff,16))},set:function(e){this.Ff=!0===Boolean(e)?sl(this.Ff,16):ol(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(rl(this.Ff,17))},set:function(e){this.Ff=!0===Boolean(e)?sl(this.Ff,17):ol(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(rl(this.Ff,26))},set:function(e){this.Ff=!0===Boolean(e)?sl(this.Ff,26):ol(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(s){return s};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var i,r=[];for(i in r.push("<<"),t)r.push("/"+i+" ("+FC(e(t[i]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===Os(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};dh(yc,zp);var RO=function(){yc.call(this),this.pushButton=!0};dh(RO,yc);var NS=function(){yc.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=void 0!==t?t:[]}})};dh(NS,yc);var OO=function(){var n,t;zp.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(l){return l};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),i)a.push("/"+s+" ("+FC(r(i[s]))+")");return a.push(">>"),a.join("\n")},set:function(r){"object"===Os(r)&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){"string"==typeof r&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=$n.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};dh(OO,zp),NS.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},NS.prototype.createOption=function(n){var t=new OO;return t.Parent=this,t.optionName=n,this.Kids.push(t),gve.call(this.scope,t),t};var LO=function(){yc.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=$n.CheckBox.createAppearanceStream()};dh(LO,yc);var kC=function(){zp.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(rl(this.Ff,13))},set:function(t){this.Ff=!0===Boolean(t)?sl(this.Ff,13):ol(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(rl(this.Ff,21))},set:function(t){this.Ff=!0===Boolean(t)?sl(this.Ff,21):ol(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(rl(this.Ff,23))},set:function(t){this.Ff=!0===Boolean(t)?sl(this.Ff,23):ol(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(rl(this.Ff,24))},set:function(t){this.Ff=!0===Boolean(t)?sl(this.Ff,24):ol(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(rl(this.Ff,25))},set:function(t){this.Ff=!0===Boolean(t)?sl(this.Ff,25):ol(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(rl(this.Ff,26))},set:function(t){this.Ff=!0===Boolean(t)?sl(this.Ff,26):ol(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};dh(kC,zp);var PO=function(){kC.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(rl(this.Ff,14))},set:function(n){this.Ff=!0===Boolean(n)?sl(this.Ff,14):ol(this.Ff,14)}}),this.password=!0};dh(PO,kC);var $n={CheckBox:{createAppearanceStream:function(){return{N:{On:$n.CheckBox.YesNormal},D:{On:$n.CheckBox.YesPushDown,Off:$n.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=Lm(n);t.scope=n.scope;var e=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=CH(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+er($n.internal.getWidth(n))+" "+er($n.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+er(s.fontSize)+" Tf "+r),e.push("BT"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join("\n"),t},YesNormal:function(n){var t=Lm(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),r=[],s=$n.internal.getHeight(n),a=$n.internal.getWidth(n),l=CH(n,n.caption);return r.push("1 g"),r.push("0 0 "+er(a)+" "+er(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+er(a-1)+" "+er(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+e+" "+er(l.fontSize)+" Tf "+i),r.push(l.text),r.push("ET"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(n){var t=Lm(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+er($n.internal.getWidth(n))+" "+er($n.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:$n.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=$n.RadioButton.Circle.YesNormal,t.D[n]=$n.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=Lm(n);t.scope=n.scope;var e=[],i=$n.internal.getWidth(n)<=$n.internal.getHeight(n)?$n.internal.getWidth(n)/4:$n.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var s=Number((i*$n.internal.Bezier_C).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+tw($n.internal.getWidth(n)/2)+" "+tw($n.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),e.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),e.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),e.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join("\n"),t},YesPushDown:function(n){var t=Lm(n);t.scope=n.scope;var e=[],i=$n.internal.getWidth(n)<=$n.internal.getHeight(n)?$n.internal.getWidth(n)/4:$n.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*$n.internal.Bezier_C).toFixed(5)),a=Number((i*$n.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+tw($n.internal.getWidth(n)/2)+" "+tw($n.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+tw($n.internal.getWidth(n)/2)+" "+tw($n.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),e.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),e.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),e.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join("\n"),t},OffPushDown:function(n){var t=Lm(n);t.scope=n.scope;var e=[],i=$n.internal.getWidth(n)<=$n.internal.getHeight(n)?$n.internal.getWidth(n)/4:$n.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*$n.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+tw($n.internal.getWidth(n)/2)+" "+tw($n.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join("\n"),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:$n.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=$n.RadioButton.Cross.YesNormal,t.D[n]=$n.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=Lm(n);t.scope=n.scope;var e=[],i=$n.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+er($n.internal.getWidth(n)-2)+" "+er($n.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(er(i.x1.x)+" "+er(i.x1.y)+" m"),e.push(er(i.x2.x)+" "+er(i.x2.y)+" l"),e.push(er(i.x4.x)+" "+er(i.x4.y)+" m"),e.push(er(i.x3.x)+" "+er(i.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join("\n"),t},YesPushDown:function(n){var t=Lm(n);t.scope=n.scope;var e=$n.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+er($n.internal.getWidth(n))+" "+er($n.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+er($n.internal.getWidth(n)-2)+" "+er($n.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(er(e.x1.x)+" "+er(e.x1.y)+" m"),i.push(er(e.x2.x)+" "+er(e.x2.y)+" l"),i.push(er(e.x4.x)+" "+er(e.x4.y)+" m"),i.push(er(e.x3.x)+" "+er(e.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(n){var t=Lm(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+er($n.internal.getWidth(n))+" "+er($n.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join("\n"),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};$n.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=$n.internal.getWidth(n),e=$n.internal.getHeight(n),i=Math.min(t,e);return{x1:{x:(t-i)/2,y:(e-i)/2+i},x2:{x:(t-i)/2+i,y:(e-i)/2},x3:{x:(t-i)/2,y:(e-i)/2},x4:{x:(t-i)/2+i,y:(e-i)/2+i}}}},$n.internal.getWidth=function(n){var t=0;return"object"===Os(n)&&(t=FW(n.Rect[2])),t},$n.internal.getHeight=function(n){var t=0;return"object"===Os(n)&&(t=FW(n.Rect[3])),t};var gve=Ma.addField=function(n){if(function(n,t){if(t.scope=n,void 0!==n.internal&&(void 0===n.internal.acroformPlugin||!1===n.internal.acroformPlugin.isInitialized)){if(zp.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(hve)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");bH=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new OW,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){var e;(e=n).internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0}),n.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];s.objId=void 0,s.hasAnnotation&&Ave(s,e)}}(n)}),n.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(n)}),n.internal.events.subscribe("postPutPages",function(e){!function(i,r){var s=!i;for(var a in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(a)){var l=i[a],d=[],A=l.Rect;if(l.Rect&&(l.Rect=uve(l.Rect,r)),r.internal.newObjectDeferredBegin(l.objId,!0),l.DA=$n.createDefaultAppearanceStream(l),"object"===Os(l)&&"function"==typeof l.getKeyValueListForStream&&(d=l.getKeyValueListForStream()),l.Rect=A,l.hasAppearanceStream&&!l.appearanceStreamContent){var p=dve(l);d.push({key:"AP",value:"<</N "+p+">>"}),r.internal.acroformPlugin.xForms.push(p)}if(l.appearanceStreamContent){var _="";for(var x in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(x)){var C=l.appearanceStreamContent[x];if(_+="/"+x+" ",_+="<<",Object.keys(C).length>=1||Array.isArray(C)){for(var a in C)if(C.hasOwnProperty(a)){var F=C[a];"function"==typeof F&&(F=F.call(r,l)),_+="/"+a+" "+F+" ",r.internal.acroformPlugin.xForms.indexOf(F)>=0||r.internal.acroformPlugin.xForms.push(F)}}else"function"==typeof(F=C)&&(F=F.call(r,l)),_+="/"+a+" "+F,r.internal.acroformPlugin.xForms.indexOf(F)>=0||r.internal.acroformPlugin.xForms.push(F);_+=">>"}d.push({key:"AP",value:"<<\n"+_+">>"})}r.internal.putStream({additionalKeyValues:d,objectId:l.objId}),r.internal.out("endobj")}s&&function(n,t){for(var e in n)if(n.hasOwnProperty(e)){var i=e,r=n[e];t.internal.newObjectDeferredBegin(r.objId,!0),"object"===Os(r)&&"function"==typeof r.putStream&&r.putStream(),delete n[i]}}(r.internal.acroformPlugin.xForms,r)}(e,n)}),n.internal.acroformPlugin.isInitialized=!0}}(this,n),!(n instanceof zp))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};function LW(n){return n.reduce(function(t,e,i){return t[e]=i,t},{})}Ma.AcroFormChoiceField=OS,Ma.AcroFormListBox=LS,Ma.AcroFormComboBox=PS,Ma.AcroFormEditBox=kO,Ma.AcroFormButton=yc,Ma.AcroFormPushButton=RO,Ma.AcroFormRadioButton=NS,Ma.AcroFormCheckBox=LO,Ma.AcroFormTextField=kC,Ma.AcroFormPasswordField=PO,Ma.AcroFormAppearance=$n,Ma.AcroForm={ChoiceField:OS,ListBox:LS,ComboBox:PS,EditBox:kO,Button:yc,PushButton:RO,RadioButton:NS,CheckBox:LO,TextField:kC,PasswordField:PO,Appearance:$n},Ti.AcroForm={ChoiceField:OS,ListBox:LS,ComboBox:PS,EditBox:kO,Button:yc,PushButton:RO,RadioButton:NS,CheckBox:LO,TextField:kC,PasswordField:PO,Appearance:$n},function(n){n.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(ae,oe){var Be,Ee,ct,Me,Qe,Re=t;if("RGBA"===(oe=oe||t)||void 0!==ae.data&&ae.data instanceof Uint8ClampedArray&&"height"in ae&&"width"in ae)return"RGBA";if(Se(ae))for(Qe in e)for(ct=e[Qe],Be=0;Be<ct.length;Be+=1){for(Me=!0,Ee=0;Ee<ct[Be].length;Ee+=1)if(void 0!==ct[Be][Ee]&&ct[Be][Ee]!==ae[Ee]){Me=!1;break}if(!0===Me){Re=Qe;break}}else for(Qe in e)for(ct=e[Qe],Be=0;Be<ct.length;Be+=1){for(Me=!0,Ee=0;Ee<ct[Be].length;Ee+=1)if(void 0!==ct[Be][Ee]&&ct[Be][Ee]!==ae.charCodeAt(Ee)){Me=!1;break}if(!0===Me){Re=Qe;break}}return Re===t&&oe!==t&&(Re=oe),Re},r=function ae(oe){for(var Be=this.internal.write,Ee=this.internal.putStream,ct=(0,this.internal.getFilters)();-1!==ct.indexOf("FlateEncode");)ct.splice(ct.indexOf("FlateEncode"),1);oe.objectId=this.internal.newObject();var Me=[];if(Me.push({key:"Type",value:"/XObject"}),Me.push({key:"Subtype",value:"/Image"}),Me.push({key:"Width",value:oe.width}),Me.push({key:"Height",value:oe.height}),oe.colorSpace===U.INDEXED?Me.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(oe.palette.length/3-1)+" "+("sMask"in oe&&void 0!==oe.sMask?oe.objectId+2:oe.objectId+1)+" 0 R]"}):(Me.push({key:"ColorSpace",value:"/"+oe.colorSpace}),oe.colorSpace===U.DEVICE_CMYK&&Me.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Me.push({key:"BitsPerComponent",value:oe.bitsPerComponent}),"decodeParameters"in oe&&void 0!==oe.decodeParameters&&Me.push({key:"DecodeParms",value:"<<"+oe.decodeParameters+">>"}),"transparency"in oe&&Array.isArray(oe.transparency)){for(var Qe="",Re=0,tt=oe.transparency.length;Re<tt;Re++)Qe+=oe.transparency[Re]+" "+oe.transparency[Re]+" ";Me.push({key:"Mask",value:"["+Qe+"]"})}if(void 0!==oe.sMask&&Me.push({key:"SMask",value:oe.objectId+1+" 0 R"}),Ee({data:oe.data,additionalKeyValues:Me,alreadyAppliedFilters:void 0!==oe.filter?["/"+oe.filter]:void 0,objectId:oe.objectId}),Be("endobj"),"sMask"in oe&&void 0!==oe.sMask){var J={width:oe.width,height:oe.height,colorSpace:"DeviceGray",bitsPerComponent:oe.bitsPerComponent,decodeParameters:"/Predictor "+oe.predictor+" /Colors 1 /BitsPerComponent "+oe.bitsPerComponent+" /Columns "+oe.width,data:oe.sMask};"filter"in oe&&(J.filter=oe.filter),ae.call(this,J)}if(oe.colorSpace===U.INDEXED){var ye=this.internal.newObject();Ee({data:de(new Uint8Array(oe.palette)),objectId:ye}),Be("endobj")}},s=function(){var ae=this.internal.collections.addImage_images;for(var oe in ae)r.call(this,ae[oe])},a=function(){var ae,oe=this.internal.collections.addImage_images,Be=this.internal.write;for(var Ee in oe)Be("/I"+(ae=oe[Ee]).index,ae.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},d=function(){var ae=this.internal.collections.addImage_images;return l.call(this),ae},A=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(ae){return"function"==typeof n["process"+ae.toUpperCase()]},_=function(ae){return"object"===Os(ae)&&1===ae.nodeType},x=function(ae,oe){if("IMG"===ae.nodeName&&ae.hasAttribute("src")){var Be=""+ae.getAttribute("src");if(0===Be.indexOf("data:image/"))return A2(unescape(Be).split("base64,").pop());var Ee=n.loadFile(Be,!0);if(void 0!==Ee)return Ee}if("CANVAS"===ae.nodeName){if(0===ae.width||0===ae.height)throw new Error("Given canvas must have data. Canvas width: "+ae.width+", height: "+ae.height);var ct;switch(oe){case"PNG":ct="image/png";break;case"WEBP":ct="image/webp";break;default:ct="image/jpeg"}return A2(ae.toDataURL(ct,1).split("base64,").pop())}},C=function(ae){var oe=this.internal.collections.addImage_images;if(oe)for(var Be in oe)if(ae===oe[Be].alias)return oe[Be]},F=function(ae,oe,Be){return ae||oe||(ae=-96,oe=-96),ae<0&&(ae=-1*Be.width*72/ae/this.internal.scaleFactor),oe<0&&(oe=-1*Be.height*72/oe/this.internal.scaleFactor),0===ae&&(ae=oe*Be.width/Be.height),0===oe&&(oe=ae*Be.height/Be.width),[ae,oe]},R=function(ae,oe,Be,Ee,ct,Me){var Qe=F.call(this,Be,Ee,ct),Re=this.internal.getCoordinateString,tt=this.internal.getVerticalCoordinateString,_t=d.call(this);if(Be=Qe[0],Ee=Qe[1],_t[ct.index]=ct,Me){Me*=Math.PI/180;var fn=Math.cos(Me),J=Math.sin(Me),ye=function(Pe){return Pe.toFixed(4)},we=[ye(fn),ye(J),ye(-1*J),ye(fn),0,0,"cm"]}this.internal.write("q"),Me?(this.internal.write([1,"0","0",1,Re(ae),tt(oe+Ee),"cm"].join(" ")),this.internal.write(we.join(" ")),this.internal.write([Re(Be),"0","0",Re(Ee),"0","0","cm"].join(" "))):this.internal.write([Re(Be),"0","0",Re(Ee),Re(ae),tt(oe+Ee),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ct.index+" Do"),this.internal.write("Q")},U=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Q=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},K=n.__addimage__.sHashCode=function(ae){var oe,Be,Ee=0;if("string"==typeof ae)for(Be=ae.length,oe=0;oe<Be;oe++)Ee=(Ee<<5)-Ee+ae.charCodeAt(oe),Ee|=0;else if(Se(ae))for(Be=ae.byteLength/2,oe=0;oe<Be;oe++)Ee=(Ee<<5)-Ee+ae[oe],Ee|=0;return Ee},ie=n.__addimage__.validateStringAsBase64=function(ae){(ae=ae||"").toString().trim();var oe=!0;return 0===ae.length&&(oe=!1),ae.length%4!=0&&(oe=!1),!1===/^[A-Za-z0-9+/]+$/.test(ae.substr(0,ae.length-2))&&(oe=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(ae.substr(-2))&&(oe=!1),oe},ce=n.__addimage__.extractImageFromDataUrl=function(ae){var oe=(ae=ae||"").split("base64,"),Be=null;if(2===oe.length){var Ee=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(oe[0]);Array.isArray(Ee)&&(Be={mimeType:Ee[1],charset:Ee[2],data:oe[1]})}return Be},pe=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(ae){return pe()&&ae instanceof ArrayBuffer};var Se=n.__addimage__.isArrayBufferView=function(ae){return pe()&&typeof Uint32Array<"u"&&(ae instanceof Int8Array||ae instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&ae instanceof Uint8ClampedArray||ae instanceof Int16Array||ae instanceof Uint16Array||ae instanceof Int32Array||ae instanceof Uint32Array||ae instanceof Float32Array||ae instanceof Float64Array)},ve=n.__addimage__.binaryStringToUint8Array=function(ae){for(var oe=ae.length,Be=new Uint8Array(oe),Ee=0;Ee<oe;Ee++)Be[Ee]=ae.charCodeAt(Ee);return Be},de=n.__addimage__.arrayBufferToBinaryString=function(ae){for(var oe="",Be=Se(ae)?ae:new Uint8Array(ae),Ee=0;Ee<Be.length;Ee+=8192)oe+=String.fromCharCode.apply(null,Be.subarray(Ee,Ee+8192));return oe};n.addImage=function(){var ae,oe,Be,Ee,ct,Me,Qe,Re,tt;if("number"==typeof arguments[1]?(oe=t,Be=arguments[1],Ee=arguments[2],ct=arguments[3],Me=arguments[4],Qe=arguments[5],Re=arguments[6],tt=arguments[7]):(oe=arguments[1],Be=arguments[2],Ee=arguments[3],ct=arguments[4],Me=arguments[5],Qe=arguments[6],Re=arguments[7],tt=arguments[8]),"object"===Os(ae=arguments[0])&&!_(ae)&&"imageData"in ae){var _t=ae;ae=_t.imageData,oe=_t.format||oe||t,Be=_t.x||Be||0,Ee=_t.y||Ee||0,ct=_t.w||_t.width||ct,Me=_t.h||_t.height||Me,Qe=_t.alias||Qe,Re=_t.compression||Re,tt=_t.rotation||_t.angle||tt}var fn=this.internal.getFilters();if(void 0===Re&&-1!==fn.indexOf("FlateEncode")&&(Re="SLOW"),isNaN(Be)||isNaN(Ee))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var J=We.call(this,ae,oe,Qe,Re);return R.call(this,Be,Ee,ct,Me,J,tt),this};var We=function(ae,oe,Be,Ee){var ct,Me,Qe,tt;if("string"==typeof ae&&i(ae)===t){ae=unescape(ae);var Re=et(ae,!1);(""!==Re||void 0!==(Re=n.loadFile(ae,!0)))&&(ae=Re)}if(_(ae)&&(ae=x(ae,oe)),oe=i(ae,oe),!p(oe))throw new Error("addImage does not support files of type '"+oe+"', please ensure that a plugin for '"+oe+"' support is added.");if((null==(Qe=Be)||0===Qe.length)&&(Be="string"==typeof(tt=ae)||Se(tt)?K(tt):Se(tt.data)?K(tt.data):null),(ct=C.call(this,Be))||(pe()&&(ae instanceof Uint8Array||"RGBA"===oe||(Me=ae,ae=ve(ae))),ct=this["process"+oe.toUpperCase()](ae,A.call(this),Be,function(tt){return tt&&"string"==typeof tt&&(tt=tt.toUpperCase()),tt in n.image_compression?tt:Q.NONE}(Ee),Me)),!ct)throw new Error("An unknown error occurred whilst processing the image.");return ct},et=n.__addimage__.convertBase64ToBinaryString=function(ae,oe){var Be;oe="boolean"!=typeof oe||oe;var Ee,ct="";if("string"==typeof ae){Ee=null!==(Be=ce(ae))?Be.data:ae;try{ct=A2(Ee)}catch(Me){if(oe)throw ie(Ee)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Me.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ct};n.getImageProperties=function(ae){var oe,Be,Ee="";if(_(ae)&&(ae=x(ae)),"string"==typeof ae&&i(ae)===t&&(""===(Ee=et(ae,!1))&&(Ee=n.loadFile(ae)||""),ae=Ee),Be=i(ae),!p(Be))throw new Error("addImage does not support files of type '"+Be+"', please ensure that a plugin for '"+Be+"' support is added.");if(!pe()||ae instanceof Uint8Array||(ae=ve(ae)),!(oe=this["process"+Be.toUpperCase()](ae)))throw new Error("An unknown error occurred whilst processing the image");return oe.fileType=Be,oe}}(Ti.API),function(n){var t=function(e){if(void 0!==e&&""!=e)return!0};Ti.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var i,r,s,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(e.objId),A=e.pageContext.annotations,p=!1,_=0;_<A.length&&!p;_++)switch((i=A[_]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(0!=p){this.internal.write("/Annots [");for(var x=0;x<A.length;x++){i=A[x];var C=this.internal.pdfEscape,F=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var R=this.internal.newAdditionalObject(),U=this.internal.newAdditionalObject(),Q=this.internal.getEncryptor(R.objId),K=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+a(i.bounds.x)+" "+l(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w)+" "+l(i.bounds.y)+"] ")+"/Contents ("+C(Q(i.contents))+")",s+=" /Popup "+U.objId+" 0 R",s+=" /P "+d.objId+" 0 R",s+=" /T ("+C(Q(K))+") >>",R.content=s;var ie=R.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+a(i.bounds.x+30)+" "+l(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w+30)+" "+l(i.bounds.y)+"] ")+" /Parent "+ie,i.open&&(s+=" /Open true"),U.content=s+=" >>",this.internal.write(R.objId,"0 R",U.objId,"0 R");break;case"freetext":r="/Rect ["+a(i.bounds.x)+" "+l(i.bounds.y)+" "+a(i.bounds.x+i.bounds.w)+" "+l(i.bounds.y+i.bounds.h)+"] ";var ce=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+C(F(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+ce+")",s+=" /Border [0 0 0]",this.internal.write(s+=" >>");break;case"link":if(i.options.name){var pe=this.annotations._nameMap[i.options.name];i.options.pageNumber=pe.page,i.options.top=pe.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+C(F(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;default:var Se=l(i.options.top);i.options.left=i.options.left||0,void 0===i.options.zoom&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+Se+" "+i.options.zoom+"]"}""!=s&&this.internal.write(s+=" >>")}}this.internal.write("]")}}]),n.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},n.link=function(e,i,r,s,a){var l=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:d(e),y:A(i),w:d(e+r),h:A(i+s)},options:a,type:"link"})},n.textWithLink=function(e,i,r,s){var a,l,d=this.getTextWidth(e),A=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==s.maxWidth){var p=this.splitTextToSize(e,l=s.maxWidth).length;a=Math.ceil(A*p)}else l=d,a=A;return this.text(e,i,r,s),"center"===s.align&&(i-=d/2),"right"===s.align&&(i-=d),this.link(i,(r+=.2*A)-A,l,a,s),d},n.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor}}(Ti.API),function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(R){return void 0!==t[R.charCodeAt(0)]},a=n.__arabicParser__.isArabicLetter=function(R){return"string"==typeof R&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(R)},l=n.__arabicParser__.isArabicEndLetter=function(R){return a(R)&&s(R)&&t[R.charCodeAt(0)].length<=2},d=n.__arabicParser__.isArabicAlfLetter=function(R){return a(R)&&r.indexOf(R.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(R){return a(R)&&s(R)&&t[R.charCodeAt(0)].length>=1};var A=n.__arabicParser__.arabicLetterHasFinalForm=function(R){return a(R)&&s(R)&&t[R.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(R){return a(R)&&s(R)&&t[R.charCodeAt(0)].length>=3};var p=n.__arabicParser__.arabicLetterHasMedialForm=function(R){return a(R)&&s(R)&&4==t[R.charCodeAt(0)].length},_=n.__arabicParser__.resolveLigatures=function(R){var U=0,Q=e,K="",ie=0;for(U=0;U<R.length;U+=1)void 0!==Q[R.charCodeAt(U)]?(ie++,"number"==typeof(Q=Q[R.charCodeAt(U)])&&(K+=String.fromCharCode(Q),Q=e,ie=0),U===R.length-1&&(Q=e,K+=R.charAt(U-(ie-1)),U-=ie-1,ie=0)):(Q=e,K+=R.charAt(U-ie),U-=ie,ie=0);return K};n.__arabicParser__.isArabicDiacritic=function(R){return void 0!==R&&void 0!==i[R.charCodeAt(0)]};var x=n.__arabicParser__.getCorrectForm=function(R,U,Q){return a(R)?!1===s(R)?-1:!A(R)||!a(U)&&!a(Q)||!a(Q)&&l(U)||l(R)&&!a(U)||l(R)&&d(U)||l(R)&&l(U)?0:p(R)&&a(U)&&!l(U)&&a(Q)&&A(Q)?3:l(R)||!a(Q)?1:2:-1},C=function(R){var U=0,Q=0,K=0,ie="",ce="",pe="",Se=(R=R||"").split("\\s+"),ve=[];for(U=0;U<Se.length;U+=1){for(ve.push(""),Q=0;Q<Se[U].length;Q+=1)ce=Se[U][Q-1],pe=Se[U][Q+1],a(ie=Se[U][Q])?(K=x(ie,ce,pe),ve[U]+=-1!==K?String.fromCharCode(t[ie.charCodeAt(0)][K]):ie):ve[U]+=ie;ve[U]=_(ve[U])}return ve.join(" ")},F=n.__arabicParser__.processArabic=n.processArabic=function(){var R,U="string"==typeof arguments[0]?arguments[0]:arguments[0].text,Q=[];if(Array.isArray(U)){var K=0;for(Q=[],K=0;K<U.length;K+=1)Array.isArray(U[K])?Q.push([C(U[K][0]),U[K][1],U[K][2]]):Q.push([C(U[K])]);R=Q}else R=C(U);return"string"==typeof arguments[0]?R:(arguments[0].text=R,arguments[0])};n.events.push(["preProcessText",F])}(Ti.API),Ti.API.autoPrint=function(n){var t;return"javascript"===((n=n||{}).variant=n.variant||"non-conform",n.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(l){e=l}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(l){i=isNaN(l)||!1===Number.isInteger(l)||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(l){r=isNaN(l)||!1===Number.isInteger(l)||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,i){var r;if("2d"!==(e=e||"2d"))return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ti.API),function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,i=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(R){d=R}});var A=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return A},set:function(R){A=R}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(R){p=R}});var _=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return _},set:function(R){_=R}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(R){x=R}});var C=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return C},set:function(R){C=R}});var F=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return F},set:function(R){F=R}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(d){return i.call(this),this.internal.__cell__.headerFunction="function"==typeof d?d:void 0,this},n.getTextDimensions=function(d,A){i.call(this);var p=(A=A||{}).fontSize||this.getFontSize(),_=A.font||this.getFont(),x=A.scaleFactor||this.internal.scaleFactor,C=0,F=0,R=0,U=this;if(!Array.isArray(d)&&"string"!=typeof d){if("number"!=typeof d)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var Q=A.maxWidth;Q>0?"string"==typeof d?d=this.splitTextToSize(d,Q):"[object Array]"===Object.prototype.toString.call(d)&&(d=d.reduce(function(ie,ce){return ie.concat(U.splitTextToSize(ce,Q))},[])):d=Array.isArray(d)?d:[d];for(var K=0;K<d.length;K++)C<(R=this.getStringUnitWidth(d[K],{font:_})*p)&&(C=R);return 0!==C&&(F=d.length),{w:C/=x,h:Math.max((F*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/x,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var d=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=n.cell=function(){var d;d=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var A=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,_=this.internal.__cell__.margins||t,x=this.internal.__cell__.tableHeaderRow,C=this.internal.__cell__.printHeaders;return void 0!==A.lineNumber&&(A.lineNumber===d.lineNumber?(d.x=(A.x||0)+(A.width||0),d.y=A.y||0):A.y+A.height+d.height+_.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=_.top,C&&x&&(this.printHeaderRow(d.lineNumber,!0),d.y+=x[0].height)):d.y=A.y+A.height||d.y),void 0!==d.text[0]&&(this.rect(d.x,d.y,d.width,d.height,!0===e?"FD":void 0),"right"===d.align?this.text(d.text,d.x+d.width-p,d.y+p,{align:"right",baseline:"top"}):"center"===d.align?this.text(d.text,d.x+d.width/2,d.y+p,{align:"center",baseline:"top",maxWidth:d.width-p-p}):this.text(d.text,d.x+p,d.y+p,{align:"left",baseline:"top",maxWidth:d.width-p-p})),this.internal.__cell__.lastCell=d,this};n.table=function(d,A,p,_,x){if(i.call(this),!p)throw new Error("No data for PDF table.");var C,F,R,U,Q=[],K=[],ie=[],ce={},pe={},Se=[],ve=[],de=(x=x||{}).autoSize||!1,We=!1!==x.printHeaders,et=x.css&&void 0!==x.css["font-size"]?16*x.css["font-size"]:x.fontSize||12,ae=x.margins||Object.assign({width:this.getPageWidth()},t),oe="number"==typeof x.padding?x.padding:3,Be=x.headerBackgroundColor||"#c8c8c8",Ee=x.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=We,this.internal.__cell__.margins=ae,this.internal.__cell__.table_font_size=et,this.internal.__cell__.padding=oe,this.internal.__cell__.headerBackgroundColor=Be,this.internal.__cell__.headerTextColor=Ee,this.setFontSize(et),null==_)K=Q=Object.keys(p[0]),ie=Q.map(function(){return"left"});else if(Array.isArray(_)&&"object"===Os(_[0]))for(Q=_.map(function(_t){return _t.name}),K=_.map(function(_t){return _t.prompt||_t.name||""}),ie=_.map(function(_t){return _t.align||"left"}),C=0;C<_.length;C+=1)pe[_[C].name]=_[C].width*(19.049976/25.4);else Array.isArray(_)&&"string"==typeof _[0]&&(K=Q=_,ie=Q.map(function(){return"left"}));if(de||Array.isArray(_)&&"string"==typeof _[0])for(C=0;C<Q.length;C+=1){for(ce[U=Q[C]]=p.map(function(_t){return _t[U]}),this.setFont(void 0,"bold"),Se.push(this.getTextDimensions(K[C],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),F=ce[U],this.setFont(void 0,"normal"),R=0;R<F.length;R+=1)Se.push(this.getTextDimensions(F[R],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);pe[U]=Math.max.apply(null,Se)+oe+oe,Se=[]}if(We){var ct={};for(C=0;C<Q.length;C+=1)ct[Q[C]]={},ct[Q[C]].text=K[C],ct[Q[C]].align=ie[C];var Me=l.call(this,ct,pe);ve=Q.map(function(_t){return new s(d,A,pe[_t],Me,ct[_t].text,void 0,ct[_t].align)}),this.setTableHeaderRow(ve),this.printHeaderRow(1,!1)}var Qe=_.reduce(function(_t,fn){return _t[fn.name]=fn.align,_t},{});for(C=0;C<p.length;C+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:C,data:p[C]},this);var Re=l.call(this,p[C],pe);for(R=0;R<Q.length;R+=1){var tt=p[C][Q[R]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:C,col:R,data:tt},this),a.call(this,new s(d,A,pe[Q[R]],Re,tt,C+2,Qe[Q[R]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=A,this};var l=function(d,A){var p=this.internal.__cell__.padding,_=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(d).map(function(C){var F=d[C];return this.splitTextToSize(F.hasOwnProperty("text")?F.text:F,A[C]-p-p)},this).map(function(C){return this.getLineHeightFactor()*C.length*_/x+p+p},this).reduce(function(C,F){return Math.max(C,F)},0)};n.setTableHeaderRow=function(d){i.call(this),this.internal.__cell__.tableHeaderRow=d},n.printHeaderRow=function(d,A){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(e=!0,"function"==typeof this.internal.__cell__.headerFunction){var _=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(_[0],_[1],_[2],_[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],C=0;C<this.internal.__cell__.tableHeaderRow.length;C+=1){p=this.internal.__cell__.tableHeaderRow[C].clone(),A&&(p.y=this.internal.__cell__.margins.top||0,x.push(p)),p.lineNumber=d;var F=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,p),this.setTextColor(F)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),e=!1}}(Ti.API);var PW={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},NW=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],SH=LW(NW),UW=[100,200,300,400,500,600,700,800,900],mve=LW(UW);function EH(n){var s,t=n.family.replace(/"|'/g,"").toLowerCase(),e=PW[s=(s=n.style)||"normal"]?s:"normal",i=function(s){return s?"number"==typeof s?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):"bold"===s?700:400:400}(n.weight),r=function(s){return"number"==typeof SH[s=s||"normal"]?s:"normal"}(n.stretch);return{family:t,style:e,weight:i,stretch:r,src:n.src||[],ref:n.ref||{name:t,style:[r,e,i].join(" ")}}}function HW(n,t,e,i){var r;for(r=e;r>=0&&r<t.length;r+=i)if(n[t[r]])return n[t[r]];for(r=e;r>=0&&r<t.length;r-=i)if(n[t[r]])return n[t[r]]}var _ve={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},QW={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function VW(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function jW(n){return n.trimLeft()}function vve(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function wve(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],n.substring(t[0].length)]}var NO,zW,GW,IH=["times"];(function(n){var t,e,i,r,s,a,l,d,A,p=function(J){return this.isStrokeTransparent=(J=J||{}).isStrokeTransparent||!1,this.strokeOpacity=J.strokeOpacity||1,this.strokeStyle=J.strokeStyle||"#000000",this.fillStyle=J.fillStyle||"#000000",this.isFillTransparent=J.isFillTransparent||!1,this.fillOpacity=J.fillOpacity||1,this.font=J.font||"10px sans-serif",this.textBaseline=J.textBaseline||"alphabetic",this.textAlign=J.textAlign||"left",this.lineWidth=J.lineWidth||1,this.lineJoin=J.lineJoin||"miter",this.lineCap=J.lineCap||"butt",this.path=J.path||[],this.transform=void 0!==J.transform?J.transform.clone():new d,this.globalCompositeOperation=J.globalCompositeOperation||"normal",this.globalAlpha=J.globalAlpha||1,this.clip_path=J.clip_path||[],this.currentPoint=J.currentPoint||new a,this.miterLimit=J.miterLimit||10,this.lastPoint=J.lastPoint||new a,this.lineDashOffset=J.lineDashOffset||0,this.lineDash=J.lineDash||[],this.margin=J.margin||[0,0,0,0],this.prevPageLastElemOffset=J.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof J.ignoreClearRect||J.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new _(this),t=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,d=this.internal.Matrix,A=new p}]);var _=function(J){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var ye=J;Object.defineProperty(this,"pdf",{get:function(){return ye}});var we=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return we},set:function(kt){we=Boolean(kt)}});var Pe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Pe},set:function(kt){Pe=Boolean(kt)}});var Ye=0;Object.defineProperty(this,"posX",{get:function(){return Ye},set:function(kt){isNaN(kt)||(Ye=kt)}});var ot=0;Object.defineProperty(this,"posY",{get:function(){return ot},set:function(kt){isNaN(kt)||(ot=kt)}}),Object.defineProperty(this,"margin",{get:function(){return A.margin},set:function(kt){var Ie;"number"==typeof kt?Ie=[kt,kt,kt,kt]:((Ie=new Array(4))[0]=kt[0],Ie[1]=kt.length>=2?kt[1]:Ie[0],Ie[2]=kt.length>=3?kt[2]:Ie[0],Ie[3]=kt.length>=4?kt[3]:Ie[1]),A.margin=Ie}});var mt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return mt},set:function(kt){mt=kt}});var pt=0;Object.defineProperty(this,"lastBreak",{get:function(){return pt},set:function(kt){pt=kt}});var hn=[];Object.defineProperty(this,"pageBreaks",{get:function(){return hn},set:function(kt){hn=kt}}),Object.defineProperty(this,"ctx",{get:function(){return A},set:function(kt){kt instanceof p&&(A=kt)}}),Object.defineProperty(this,"path",{get:function(){return A.path},set:function(kt){A.path=kt}});var un=[];Object.defineProperty(this,"ctxStack",{get:function(){return un},set:function(kt){un=kt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(kt){var Ie;Ie=x(kt),this.ctx.fillStyle=Ie.style,this.ctx.isFillTransparent=0===Ie.a,this.ctx.fillOpacity=Ie.a,this.pdf.setFillColor(Ie.r,Ie.g,Ie.b,{a:Ie.a}),this.pdf.setTextColor(Ie.r,Ie.g,Ie.b,{a:Ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(kt){var Ie=x(kt);this.ctx.strokeStyle=Ie.style,this.ctx.isStrokeTransparent=0===Ie.a,this.ctx.strokeOpacity=Ie.a,0===Ie.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(Ie.r,Ie.g,Ie.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(kt){-1!==["butt","round","square"].indexOf(kt)&&(this.ctx.lineCap=kt,this.pdf.setLineCap(kt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(kt){isNaN(kt)||(this.ctx.lineWidth=kt,this.pdf.setLineWidth(kt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(kt){-1!==["bevel","round","miter"].indexOf(kt)&&(this.ctx.lineJoin=kt,this.pdf.setLineJoin(kt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(kt){isNaN(kt)||(this.ctx.miterLimit=kt,this.pdf.setMiterLimit(kt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(kt){this.ctx.textBaseline=kt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(kt){-1!==["right","end","center","left","start"].indexOf(kt)&&(this.ctx.textAlign=kt)}});var Nn=null,Ri=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ri},set:function(kt){Nn=null,Ri=kt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(kt){var Ie;if(this.ctx.font=kt,null!==(Ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(kt))){var ar=Ie[1],ri=Ie[3],dn=Ie[4],Sn=Ie[6],On=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(dn)[2];dn=Math.floor("px"===On?parseFloat(dn)*this.pdf.internal.scaleFactor:"em"===On?parseFloat(dn)*this.pdf.getFontSize():parseFloat(dn)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(dn);var Bn=function(Vi){var Tr,Ln,Mu=[],cs=Vi.trim();if(""===cs)return IH;if(cs in QW)return[QW[cs]];for(;""!==cs;){switch(Ln=null,Tr=(cs=jW(cs)).charAt(0)){case'"':case"'":Ln=vve(cs.substring(1),Tr);break;default:Ln=wve(cs)}if(null===Ln||(Mu.push(Ln[0]),""!==(cs=jW(Ln[1]))&&","!==cs.charAt(0)))return IH;cs=cs.replace(/^,/,"")}return Mu}(Sn);if(this.fontFaces){var pi=function yve(n,t,e){for(var i=(e=e||{}).defaultFontFamily||"times",r=Object.assign({},_ve,e.genericFontFamilies||{}),s=null,a=null,l=0;l<t.length;++l)if(r[(s=EH(t[l])).family]&&(s.family=r[s.family]),n.hasOwnProperty(s.family)){a=n[s.family];break}if(!(a=a||n[i]))throw new Error("Could not find a font-family for the rule '"+VW(s)+"' and default family '"+i+"'.");if(a=function(d,A){if(A[d])return A[d];var p=SH[d],x=HW(A,NW,p,p<=SH.normal?-1:1);if(!x)throw new Error("Could not find a matching font-stretch value for "+d);return x}(s.stretch,a),a=function(d,A){if(A[d])return A[d];for(var p=PW[d],_=0;_<p.length;++_)if(A[p[_]])return A[p[_]];throw new Error("Could not find a matching font-style for "+d)}(s.style,a),!(a=function(d,A){if(A[d])return A[d];if(400===d&&A[500])return A[500];if(500===d&&A[400])return A[400];var _=HW(A,UW,mve[d],d<400?-1:1);if(!_)throw new Error("Could not find a matching font-weight for value "+d);return _}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+VW(s)+"'.");return a}(function Kn(kt,Ie){if(null===Nn){var ar=(ri=kt.getFontList(),dn=[],Object.keys(ri).forEach(function(Sn){ri[Sn].forEach(function(On){var Bn=null;switch(On){case"bold":Bn={family:Sn,weight:"bold"};break;case"italic":Bn={family:Sn,style:"italic"};break;case"bolditalic":Bn={family:Sn,weight:"bold",style:"italic"};break;case"":case"normal":Bn={family:Sn}}null!==Bn&&(Bn.ref={name:Sn,style:On},dn.push(Bn))})}),dn);Nn=function(ri){for(var dn={},Sn=0;Sn<ri.length;++Sn){var On=EH(ri[Sn]),Bn=On.family,pi=On.stretch,tr=On.style,mr=On.weight;dn[Bn]=dn[Bn]||{},dn[Bn][pi]=dn[Bn][pi]||{},dn[Bn][pi][tr]=dn[Bn][pi][tr]||{},dn[Bn][pi][tr][mr]=On}return dn}(ar.concat(Ie))}var ri,dn;return Nn}(this.pdf,this.fontFaces),Bn.map(function(Vi){return{family:Vi,stretch:"normal",weight:ri,style:ar}}));this.pdf.setFont(pi.ref.name,pi.ref.style)}else{var tr="";("bold"===ri||parseInt(ri,10)>=700||"bold"===ar)&&(tr="bold"),"italic"===ar&&(tr+="italic"),0===tr.length&&(tr="normal");for(var mr="",xr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Jr=0;Jr<Bn.length;Jr++){if(void 0!==this.pdf.internal.getFont(Bn[Jr],tr,{noFallback:!0,disableWarning:!0})){mr=Bn[Jr];break}if("bolditalic"===tr&&void 0!==this.pdf.internal.getFont(Bn[Jr],"bold",{noFallback:!0,disableWarning:!0}))mr=Bn[Jr],tr="bold";else if(void 0!==this.pdf.internal.getFont(Bn[Jr],"normal",{noFallback:!0,disableWarning:!0})){mr=Bn[Jr],tr="normal";break}}if(""===mr)for(var Gs=0;Gs<Bn.length;Gs++)if(xr[Bn[Gs]]){mr=xr[Bn[Gs]];break}this.pdf.setFont(mr=""===mr?"Times":mr,tr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(kt){this.ctx.globalCompositeOperation=kt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(kt){this.ctx.globalAlpha=kt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(kt){this.ctx.lineDashOffset=kt,fn.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(kt){this.ctx.lineDash=kt,fn.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(kt){this.ctx.ignoreClearRect=Boolean(kt)}})};_.prototype.setLineDash=function(J){this.lineDash=J},_.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},_.prototype.fill=function(){ce.call(this,"fill",!1)},_.prototype.stroke=function(){ce.call(this,"stroke",!1)},_.prototype.beginPath=function(){this.path=[{type:"begin"}]},_.prototype.moveTo=function(J,ye){if(isNaN(J)||isNaN(ye))throw io.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var we=this.ctx.transform.applyToPoint(new a(J,ye));this.path.push({type:"mt",x:we.x,y:we.y}),this.ctx.lastPoint=new a(J,ye)},_.prototype.closePath=function(){var J=new a(0,0),ye=0;for(ye=this.path.length-1;-1!==ye;ye--)if("begin"===this.path[ye].type&&"object"===Os(this.path[ye+1])&&"number"==typeof this.path[ye+1].x){J=new a(this.path[ye+1].x,this.path[ye+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(J.x,J.y)},_.prototype.lineTo=function(J,ye){if(isNaN(J)||isNaN(ye))throw io.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var we=this.ctx.transform.applyToPoint(new a(J,ye));this.path.push({type:"lt",x:we.x,y:we.y}),this.ctx.lastPoint=new a(we.x,we.y)},_.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ce.call(this,null,!0)},_.prototype.quadraticCurveTo=function(J,ye,we,Pe){if(isNaN(we)||isNaN(Pe)||isNaN(J)||isNaN(ye))throw io.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Ye=this.ctx.transform.applyToPoint(new a(we,Pe)),ot=this.ctx.transform.applyToPoint(new a(J,ye));this.path.push({type:"qct",x1:ot.x,y1:ot.y,x:Ye.x,y:Ye.y}),this.ctx.lastPoint=new a(Ye.x,Ye.y)},_.prototype.bezierCurveTo=function(J,ye,we,Pe,Ye,ot){if(isNaN(Ye)||isNaN(ot)||isNaN(J)||isNaN(ye)||isNaN(we)||isNaN(Pe))throw io.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var mt=this.ctx.transform.applyToPoint(new a(Ye,ot)),pt=this.ctx.transform.applyToPoint(new a(J,ye)),hn=this.ctx.transform.applyToPoint(new a(we,Pe));this.path.push({type:"bct",x1:pt.x,y1:pt.y,x2:hn.x,y2:hn.y,x:mt.x,y:mt.y}),this.ctx.lastPoint=new a(mt.x,mt.y)},_.prototype.arc=function(J,ye,we,Pe,Ye,ot){if(isNaN(J)||isNaN(ye)||isNaN(we)||isNaN(Pe)||isNaN(Ye))throw io.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ot=Boolean(ot),!this.ctx.transform.isIdentity){var mt=this.ctx.transform.applyToPoint(new a(J,ye));J=mt.x,ye=mt.y;var pt=this.ctx.transform.applyToPoint(new a(0,we)),hn=this.ctx.transform.applyToPoint(new a(0,0));we=Math.sqrt(Math.pow(pt.x-hn.x,2)+Math.pow(pt.y-hn.y,2))}Math.abs(Ye-Pe)>=2*Math.PI&&(Pe=0,Ye=2*Math.PI),this.path.push({type:"arc",x:J,y:ye,radius:we,startAngle:Pe,endAngle:Ye,counterclockwise:ot})},_.prototype.arcTo=function(J,ye,we,Pe,Ye){throw new Error("arcTo not implemented.")},_.prototype.rect=function(J,ye,we,Pe){if(isNaN(J)||isNaN(ye)||isNaN(we)||isNaN(Pe))throw io.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(J,ye),this.lineTo(J+we,ye),this.lineTo(J+we,ye+Pe),this.lineTo(J,ye+Pe),this.lineTo(J,ye),this.lineTo(J+we,ye),this.lineTo(J,ye)},_.prototype.fillRect=function(J,ye,we,Pe){if(isNaN(J)||isNaN(ye)||isNaN(we)||isNaN(Pe))throw io.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!C.call(this)){var Ye={};"butt"!==this.lineCap&&(Ye.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(Ye.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(J,ye,we,Pe),this.fill(),Ye.hasOwnProperty("lineCap")&&(this.lineCap=Ye.lineCap),Ye.hasOwnProperty("lineJoin")&&(this.lineJoin=Ye.lineJoin)}},_.prototype.strokeRect=function(J,ye,we,Pe){if(isNaN(J)||isNaN(ye)||isNaN(we)||isNaN(Pe))throw io.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");F.call(this)||(this.beginPath(),this.rect(J,ye,we,Pe),this.stroke())},_.prototype.clearRect=function(J,ye,we,Pe){if(isNaN(J)||isNaN(ye)||isNaN(we)||isNaN(Pe))throw io.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(J,ye,we,Pe))},_.prototype.save=function(J){J="boolean"!=typeof J||J;for(var ye=this.pdf.internal.getCurrentPageInfo().pageNumber,we=0;we<this.pdf.internal.getNumberOfPages();we++)this.pdf.setPage(we+1),this.pdf.internal.out("q");if(this.pdf.setPage(ye),J){this.ctx.fontSize=this.pdf.internal.getFontSize();var Pe=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Pe}},_.prototype.restore=function(J){J="boolean"!=typeof J||J;for(var ye=this.pdf.internal.getCurrentPageInfo().pageNumber,we=0;we<this.pdf.internal.getNumberOfPages();we++)this.pdf.setPage(we+1),this.pdf.internal.out("Q");this.pdf.setPage(ye),J&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},_.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(J){var ye,we,Pe,Ye;if(!0===J.isCanvasGradient&&(J=J.getColor()),!J)return{r:0,g:0,b:0,a:0,style:J};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(J))ye=0,we=0,Pe=0,Ye=0;else{var ot=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(J);if(null!==ot)ye=parseInt(ot[1]),we=parseInt(ot[2]),Pe=parseInt(ot[3]),Ye=1;else if(null!==(ot=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(J)))ye=parseInt(ot[1]),we=parseInt(ot[2]),Pe=parseInt(ot[3]),Ye=parseFloat(ot[4]);else{if(Ye=1,"string"==typeof J&&"#"!==J.charAt(0)){var mt=new EW(J);J=mt.ok?mt.toHex():"#000000"}4===J.length?(ye=J.substring(1,2),ye+=ye,we=J.substring(2,3),we+=we,Pe=J.substring(3,4),Pe+=Pe):(ye=J.substring(1,3),we=J.substring(3,5),Pe=J.substring(5,7)),ye=parseInt(ye,16),we=parseInt(we,16),Pe=parseInt(Pe,16)}}return{r:ye,g:we,b:Pe,a:Ye,style:J}},C=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},F=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};_.prototype.fillText=function(J,ye,we,Pe){if(isNaN(ye)||isNaN(we)||"string"!=typeof J)throw io.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Pe=isNaN(Pe)?void 0:Pe,!C.call(this)){var Ye=Re(this.ctx.transform.rotation),ot=this.ctx.transform.scaleX;oe.call(this,{text:J,x:ye,y:we,scale:ot,angle:Ye,align:this.textAlign,maxWidth:Pe})}},_.prototype.strokeText=function(J,ye,we,Pe){if(isNaN(ye)||isNaN(we)||"string"!=typeof J)throw io.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!F.call(this)){Pe=isNaN(Pe)?void 0:Pe;var Ye=Re(this.ctx.transform.rotation),ot=this.ctx.transform.scaleX;oe.call(this,{text:J,x:ye,y:we,scale:ot,renderingMode:"stroke",angle:Ye,align:this.textAlign,maxWidth:Pe})}},_.prototype.measureText=function(J){if("string"!=typeof J)throw io.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ye=this.pdf,we=this.pdf.internal.scaleFactor,Pe=ye.internal.getFontSize(),Ye=ye.getStringUnitWidth(J)*Pe/ye.internal.scaleFactor,ot=function(mt){var pt=(mt=mt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pt}}),this};return new ot({width:Ye*=Math.round(96*we/72*1e4)/1e4})},_.prototype.scale=function(J,ye){if(isNaN(J)||isNaN(ye))throw io.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var we=new d(J,0,0,ye,0,0);this.ctx.transform=this.ctx.transform.multiply(we)},_.prototype.rotate=function(J){if(isNaN(J))throw io.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ye=new d(Math.cos(J),Math.sin(J),-Math.sin(J),Math.cos(J),0,0);this.ctx.transform=this.ctx.transform.multiply(ye)},_.prototype.translate=function(J,ye){if(isNaN(J)||isNaN(ye))throw io.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var we=new d(1,0,0,1,J,ye);this.ctx.transform=this.ctx.transform.multiply(we)},_.prototype.transform=function(J,ye,we,Pe,Ye,ot){if(isNaN(J)||isNaN(ye)||isNaN(we)||isNaN(Pe)||isNaN(Ye)||isNaN(ot))throw io.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var mt=new d(J,ye,we,Pe,Ye,ot);this.ctx.transform=this.ctx.transform.multiply(mt)},_.prototype.setTransform=function(J,ye,we,Pe,Ye,ot){J=isNaN(J)?1:J,ye=isNaN(ye)?0:ye,we=isNaN(we)?0:we,Pe=isNaN(Pe)?1:Pe,Ye=isNaN(Ye)?0:Ye,ot=isNaN(ot)?0:ot,this.ctx.transform=new d(J,ye,we,Pe,Ye,ot)};var R=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};_.prototype.drawImage=function(J,ye,we,Pe,Ye,ot,mt,pt,hn){var un=this.pdf.getImageProperties(J),Nn=1,Kn=1,Ri=1,kt=1;void 0!==Pe&&void 0!==pt&&(Ri=pt/Pe,kt=hn/Ye,Nn=un.width/Pe*pt/Pe,Kn=un.height/Ye*hn/Ye),void 0===ot&&(ot=ye,mt=we,ye=0,we=0),void 0!==Pe&&void 0===pt&&(pt=Pe,hn=Ye),void 0===Pe&&void 0===pt&&(pt=un.width,hn=un.height);for(var Ie,ar=this.ctx.transform.decompose(),ri=Re(ar.rotate.shx),dn=new d,Sn=(dn=(dn=(dn=dn.multiply(ar.translate)).multiply(ar.skew)).multiply(ar.scale)).applyToRectangle(new l(ot-ye*Ri,mt-we*kt,Pe*Nn,Ye*Kn)),On=U.call(this,Sn),Bn=[],pi=0;pi<On.length;pi+=1)-1===Bn.indexOf(On[pi])&&Bn.push(On[pi]);if(ie(Bn),this.autoPaging)for(var tr=Bn[0],mr=Bn[Bn.length-1],xr=tr;xr<mr+1;xr++){this.pdf.setPage(xr);var Jr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Gs=1===xr?this.posY+this.margin[0]:this.margin[0],Tr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ln=1===xr?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(xr-2)*Tr;if(0!==this.ctx.clip_path.length){var Mu=this.path;Ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=K(Ie,this.posX+this.margin[3],-Ln+Gs+this.ctx.prevPageLastElemOffset),pe.call(this,"fill",!0),this.path=Mu}var cs=JSON.parse(JSON.stringify(Sn));cs=K([cs],this.posX+this.margin[3],-Ln+Gs+this.ctx.prevPageLastElemOffset)[0];var Zp=(xr>tr||xr<mr)&&R.call(this);Zp&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jr,Tr,null).clip().discardPath()),this.pdf.addImage(J,"JPEG",cs.x,cs.y,cs.w,cs.h,null,null,ri),Zp&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(J,"JPEG",Sn.x,Sn.y,Sn.w,Sn.h,null,null,ri)};var U=function(J,ye,we){var Pe=[];ye=ye||this.pdf.internal.pageSize.width,we=we||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Ye=this.posY+this.ctx.prevPageLastElemOffset;switch(J.type){default:case"mt":case"lt":Pe.push(Math.floor((J.y+Ye)/we)+1);break;case"arc":Pe.push(Math.floor((J.y+Ye-J.radius)/we)+1),Pe.push(Math.floor((J.y+Ye+J.radius)/we)+1);break;case"qct":var ot=tt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,J.x1,J.y1,J.x,J.y);Pe.push(Math.floor((ot.y+Ye)/we)+1),Pe.push(Math.floor((ot.y+ot.h+Ye)/we)+1);break;case"bct":var mt=_t(this.ctx.lastPoint.x,this.ctx.lastPoint.y,J.x1,J.y1,J.x2,J.y2,J.x,J.y);Pe.push(Math.floor((mt.y+Ye)/we)+1),Pe.push(Math.floor((mt.y+mt.h+Ye)/we)+1);break;case"rect":Pe.push(Math.floor((J.y+Ye)/we)+1),Pe.push(Math.floor((J.y+J.h+Ye)/we)+1)}for(var pt=0;pt<Pe.length;pt+=1)for(;this.pdf.internal.getNumberOfPages()<Pe[pt];)Q.call(this);return Pe},Q=function(){var J=this.fillStyle,ye=this.strokeStyle,we=this.font,Pe=this.lineCap,Ye=this.lineWidth,ot=this.lineJoin;this.pdf.addPage(),this.fillStyle=J,this.strokeStyle=ye,this.font=we,this.lineCap=Pe,this.lineWidth=Ye,this.lineJoin=ot},K=function(J,ye,we){for(var Pe=0;Pe<J.length;Pe++)switch(J[Pe].type){case"bct":J[Pe].x2+=ye,J[Pe].y2+=we;case"qct":J[Pe].x1+=ye,J[Pe].y1+=we;default:J[Pe].x+=ye,J[Pe].y+=we}return J},ie=function(J){return J.sort(function(ye,we){return ye-we})},ce=function(J,ye){for(var we,Pe,Ye=this.fillStyle,ot=this.strokeStyle,mt=this.lineCap,pt=this.lineWidth,hn=Math.abs(pt*this.ctx.transform.scaleX),un=this.lineJoin,Nn=JSON.parse(JSON.stringify(this.path)),Kn=JSON.parse(JSON.stringify(this.path)),Ri=[],kt=0;kt<Kn.length;kt++)if(void 0!==Kn[kt].x)for(var Ie=U.call(this,Kn[kt]),ar=0;ar<Ie.length;ar+=1)-1===Ri.indexOf(Ie[ar])&&Ri.push(Ie[ar]);for(var ri=0;ri<Ri.length;ri++)for(;this.pdf.internal.getNumberOfPages()<Ri[ri];)Q.call(this);if(ie(Ri),this.autoPaging)for(var dn=Ri[0],Sn=Ri[Ri.length-1],On=dn;On<Sn+1;On++){this.pdf.setPage(On),this.fillStyle=Ye,this.strokeStyle=ot,this.lineCap=mt,this.lineWidth=hn,this.lineJoin=un;var Bn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],pi=1===On?this.posY+this.margin[0]:this.margin[0],mr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],xr=1===On?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(On-2)*mr;if(0!==this.ctx.clip_path.length){var Jr=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=K(we,this.posX+this.margin[3],-xr+pi+this.ctx.prevPageLastElemOffset),pe.call(this,J,!0),this.path=Jr}if(Pe=JSON.parse(JSON.stringify(Nn)),this.path=K(Pe,this.posX+this.margin[3],-xr+pi+this.ctx.prevPageLastElemOffset),!1===ye||0===On){var Gs=(On>dn||On<Sn)&&R.call(this);Gs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Bn,mr,null).clip().discardPath()),pe.call(this,J,ye),Gs&&this.pdf.restoreGraphicsState()}this.lineWidth=pt}else this.lineWidth=hn,pe.call(this,J,ye),this.lineWidth=pt;this.path=Nn},pe=function(J,ye){if(("stroke"!==J||ye||!F.call(this))&&("stroke"===J||ye||!C.call(this))){for(var we,Pe,Ye=[],ot=this.path,mt=0;mt<ot.length;mt++){var pt=ot[mt];switch(pt.type){case"begin":Ye.push({begin:!0});break;case"close":Ye.push({close:!0});break;case"mt":Ye.push({start:pt,deltas:[],abs:[]});break;case"lt":var hn=Ye.length;if(ot[mt-1]&&!isNaN(ot[mt-1].x)&&(we=[pt.x-ot[mt-1].x,pt.y-ot[mt-1].y],hn>0))for(;hn>=0;hn--)if(!0!==Ye[hn-1].close&&!0!==Ye[hn-1].begin){Ye[hn-1].deltas.push(we),Ye[hn-1].abs.push(pt);break}break;case"bct":Ye[Ye.length-1].deltas.push(we=[pt.x1-ot[mt-1].x,pt.y1-ot[mt-1].y,pt.x2-ot[mt-1].x,pt.y2-ot[mt-1].y,pt.x-ot[mt-1].x,pt.y-ot[mt-1].y]);break;case"qct":Ye[Ye.length-1].deltas.push(we=[ot[mt-1].x+2/3*(pt.x1-ot[mt-1].x)-ot[mt-1].x,ot[mt-1].y+2/3*(pt.y1-ot[mt-1].y)-ot[mt-1].y,pt.x+2/3*(pt.x1-pt.x)-ot[mt-1].x,pt.y+2/3*(pt.y1-pt.y)-ot[mt-1].y,pt.x-ot[mt-1].x,pt.y-ot[mt-1].y]);break;case"arc":Ye.push({deltas:[],abs:[],arc:!0}),Array.isArray(Ye[Ye.length-1].abs)&&Ye[Ye.length-1].abs.push(pt)}}Pe=ye?null:"stroke"===J?"stroke":"fill";for(var ar=!1,ri=0;ri<Ye.length;ri++)if(Ye[ri].arc)for(var dn=Ye[ri].abs,Sn=0;Sn<dn.length;Sn++){var On=dn[Sn];"arc"===On.type?de.call(this,On.x,On.y,On.radius,On.startAngle,On.endAngle,On.counterclockwise,void 0,ye,!ar):Be.call(this,On.x,On.y),ar=!0}else!0===Ye[ri].close?(this.pdf.internal.out("h"),ar=!1):!0!==Ye[ri].begin&&(Ee.call(this,Ye[ri].deltas,Ye[ri].start.x,Ye[ri].start.y),ar=!0);Pe&&We.call(this,Pe),ye&&et.call(this)}},Se=function(J){var ye=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,we=ye*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return J-we;case"top":return J+ye-we;case"hanging":return J+ye-2*we;case"middle":return J+ye/2-we;default:return J}},ve=function(J){return J+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};_.prototype.createLinearGradient=function(){var J=function(){};return J.colorStops=[],J.addColorStop=function(ye,we){this.colorStops.push([ye,we])},J.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},J.isCanvasGradient=!0,J},_.prototype.createPattern=function(){return this.createLinearGradient()},_.prototype.createRadialGradient=function(){return this.createLinearGradient()};var de=function(J,ye,we,Pe,Ye,ot,mt,pt,hn){for(var un=Me.call(this,we,Pe,Ye,ot),Nn=0;Nn<un.length;Nn++){var Kn=un[Nn];0===Nn&&(hn?ae.call(this,Kn.x1+J,Kn.y1+ye):Be.call(this,Kn.x1+J,Kn.y1+ye)),ct.call(this,J,ye,Kn.x2,Kn.y2,Kn.x3,Kn.y3,Kn.x4,Kn.y4)}pt?et.call(this):We.call(this,mt)},We=function(J){switch(J){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},et=function(){this.pdf.clip(),this.pdf.discardPath()},ae=function(J,ye){this.pdf.internal.out(e(J)+" "+i(ye)+" m")},oe=function(J){var ye;switch(J.align){case"right":case"end":ye="right";break;case"center":ye="center";break;default:ye="left"}var we=this.pdf.getTextDimensions(J.text),Pe=Se.call(this,J.y),Ye=ve.call(this,Pe)-we.h,ot=this.ctx.transform.applyToPoint(new a(J.x,Pe)),mt=this.ctx.transform.decompose(),pt=new d;pt=(pt=(pt=pt.multiply(mt.translate)).multiply(mt.skew)).multiply(mt.scale);for(var hn,un,Nn,Kn=this.ctx.transform.applyToRectangle(new l(J.x,Pe,we.w,we.h)),Ri=pt.applyToRectangle(new l(J.x,Ye,we.w,we.h)),kt=U.call(this,Ri),Ie=[],ar=0;ar<kt.length;ar+=1)-1===Ie.indexOf(kt[ar])&&Ie.push(kt[ar]);if(ie(Ie),this.autoPaging)for(var ri=Ie[0],dn=Ie[Ie.length-1],Sn=ri;Sn<dn+1;Sn++){this.pdf.setPage(Sn);var On=1===Sn?this.posY+this.margin[0]:this.margin[0],pi=this.pdf.internal.pageSize.height-this.margin[2],tr=pi-this.margin[0],mr=this.pdf.internal.pageSize.width-this.margin[1],xr=mr-this.margin[3],Jr=1===Sn?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Sn-2)*tr;if(0!==this.ctx.clip_path.length){var Gs=this.path;hn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=K(hn,this.posX+this.margin[3],-1*Jr+On),pe.call(this,"fill",!0),this.path=Gs}var Vi=K([JSON.parse(JSON.stringify(Ri))],this.posX+this.margin[3],-Jr+On+this.ctx.prevPageLastElemOffset)[0];J.scale>=.01&&(un=this.pdf.internal.getFontSize(),this.pdf.setFontSize(un*J.scale),this.lineWidth=(Nn=this.lineWidth)*J.scale);var Tr="text"!==this.autoPaging;if(Tr||Vi.y+Vi.h<=pi){if(Tr||Vi.y>=On&&Vi.x<=mr){var Ln=Tr?J.text:this.pdf.splitTextToSize(J.text,J.maxWidth||mr-Vi.x)[0],Mu=K([JSON.parse(JSON.stringify(Kn))],this.posX+this.margin[3],-Jr+On+this.ctx.prevPageLastElemOffset)[0],cs=Tr&&(Sn>ri||Sn<dn)&&R.call(this);cs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xr,tr,null).clip().discardPath()),this.pdf.text(Ln,Mu.x,Mu.y,{angle:J.angle,align:ye,renderingMode:J.renderingMode}),cs&&this.pdf.restoreGraphicsState()}}else Vi.y<pi&&(this.ctx.prevPageLastElemOffset+=pi-Vi.y);J.scale>=.01&&(this.pdf.setFontSize(un),this.lineWidth=Nn)}else J.scale>=.01&&(un=this.pdf.internal.getFontSize(),this.pdf.setFontSize(un*J.scale),this.lineWidth=(Nn=this.lineWidth)*J.scale),this.pdf.text(J.text,ot.x+this.posX,ot.y+this.posY,{angle:J.angle,align:ye,renderingMode:J.renderingMode,maxWidth:J.maxWidth}),J.scale>=.01&&(this.pdf.setFontSize(un),this.lineWidth=Nn)},Be=function(J,ye,we,Pe){Pe=Pe||0,this.pdf.internal.out(e(J+(we=we||0))+" "+i(ye+Pe)+" l")},Ee=function(J,ye,we){return this.pdf.lines(J,ye,we,null,null)},ct=function(J,ye,we,Pe,Ye,ot,mt,pt){this.pdf.internal.out([t(r(we+J)),t(s(Pe+ye)),t(r(Ye+J)),t(s(ot+ye)),t(r(mt+J)),t(s(pt+ye)),"c"].join(" "))},Me=function(J,ye,we,Pe){for(var Ye=2*Math.PI,ot=Math.PI/2;ye>we;)ye-=Ye;var mt=Math.abs(we-ye);mt<Ye&&Pe&&(mt=Ye-mt);for(var pt=[],hn=Pe?-1:1,un=ye;mt>1e-5;){var Nn=un+hn*Math.min(mt,ot);pt.push(Qe.call(this,J,un,Nn)),mt-=Math.abs(Nn-un),un=Nn}return pt},Qe=function(J,ye,we){var Pe=(we-ye)/2,Ye=J*Math.cos(Pe),ot=J*Math.sin(Pe),mt=Ye,pt=-ot,hn=mt*mt+pt*pt,un=hn+mt*Ye+pt*ot,Nn=4/3*(Math.sqrt(2*hn*un)-un)/(mt*ot-pt*Ye),Kn=mt-Nn*pt,Ri=pt+Nn*mt,kt=Kn,Ie=-Ri,ar=Pe+ye,ri=Math.cos(ar),dn=Math.sin(ar);return{x1:J*Math.cos(ye),y1:J*Math.sin(ye),x2:Kn*ri-Ri*dn,y2:Kn*dn+Ri*ri,x3:kt*ri-Ie*dn,y3:kt*dn+Ie*ri,x4:J*Math.cos(we),y4:J*Math.sin(we)}},Re=function(J){return 180*J/Math.PI},tt=function(J,ye,we,Pe,Ye,ot){var mt=J+.5*(we-J),pt=ye+.5*(Pe-ye),hn=Ye+.5*(we-Ye),un=ot+.5*(Pe-ot),Nn=Math.min(J,Ye,mt,hn),Kn=Math.max(J,Ye,mt,hn),Ri=Math.min(ye,ot,pt,un),kt=Math.max(ye,ot,pt,un);return new l(Nn,Ri,Kn-Nn,kt-Ri)},_t=function(J,ye,we,Pe,Ye,ot,mt,pt){var hn,un,Nn,Kn,Ri,kt,Ie,ar,ri,dn,Sn,On,Bn,pi,tr=we-J,mr=Pe-ye,xr=Ye-we,Jr=ot-Pe,Gs=mt-Ye,Vi=pt-ot;for(un=0;un<41;un++)ri=(Ie=(Nn=J+(hn=un/40)*tr)+hn*((Ri=we+hn*xr)-Nn))+hn*(Ri+hn*(Ye+hn*Gs-Ri)-Ie),dn=(ar=(Kn=ye+hn*mr)+hn*((kt=Pe+hn*Jr)-Kn))+hn*(kt+hn*(ot+hn*Vi-kt)-ar),0==un?(Sn=ri,On=dn,Bn=ri,pi=dn):(Sn=Math.min(Sn,ri),On=Math.min(On,dn),Bn=Math.max(Bn,ri),pi=Math.max(pi,dn));return new l(Math.round(Sn),Math.round(On),Math.round(Bn-Sn),Math.round(pi-On))},fn=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var we=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==we&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=we)}}})(Ti.API),function(n){var t=function(s){var a,l,d,A,p,_,x,C,F,R;for(/[^\x00-\xFF]/.test(s),l=[],d=0,A=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;A>d;d+=4)0!==(p=(s.charCodeAt(d)<<24)+(s.charCodeAt(d+1)<<16)+(s.charCodeAt(d+2)<<8)+s.charCodeAt(d+3))?(_=(p=((p=((p=((p=(p-(R=p%85))/85)-(F=p%85))/85)-(C=p%85))/85)-(x=p%85))/85)%85,l.push(_+33,x+33,C+33,F+33,R+33)):l.push(122);return function(U,Q){for(var K=Q;K>0;K--)U.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},e=function(s){var a,l,d,A,p,_=String,x="length",C=255,F="charCodeAt",R="slice",U="replace";for(s[R](-2),s=s[R](0,-2)[U](/\s/g,"")[U]("z","!!!!!"),d=[],A=0,p=(s+=a="uuuuu"[R](s[x]%5||5))[x];p>A;A+=5)l=52200625*(s[F](A)-33)+614125*(s[F](A+1)-33)+7225*(s[F](A+2)-33)+85*(s[F](A+3)-33)+(s[F](A+4)-33),d.push(C&l>>24,C&l>>16,C&l>>8,C&l);return function(Q,K){for(var ie=K;ie>0;ie--)Q.pop()}(d,a[x]),_.fromCharCode.apply(_,d)},i=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(s=s.replace(/\s/g,"")).indexOf(">")&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),!1===a.test(s))return"";for(var l="",d=0;d<s.length;d+=2)l+=String.fromCharCode("0x"+(s[d]+s[d+1]));return l},r=function(s){for(var a=new Uint8Array(s.length),l=s.length;l--;)a[l]=s.charCodeAt(l);return(a=h2(a)).reduce(function(d,A){return d+String.fromCharCode(A)},"")};n.processDataByFilters=function(s,a){var l=0,d=s||"",A=[];for("string"==typeof(a=a||[])&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":d=e(d),A.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),A.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=i(d),A.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=d.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",A.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=r(d),A.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:d,reverseChain:A.reverse().join(" ")}}}(Ti.API),function(n){n.loadFile=function(t,e,i){return function(r,s,a){s=!1!==s,a="function"==typeof a?a:function(){};var l=void 0;try{l=function(d,A,p){var _=new XMLHttpRequest,x=0,C=function(F){var R=F.length,U=[],Q=String.fromCharCode;for(x=0;x<R;x+=1)U.push(Q(255&F.charCodeAt(x)));return U.join("")};if(_.open("GET",d,!A),_.overrideMimeType("text/plain; charset=x-user-defined"),!1===A&&(_.onload=function(){p(200===_.status?C(this.responseText):void 0)}),_.send(null),A&&200===_.status)return C(_.responseText)}(r,s,a)}catch{}return l}(t,e,i)},n.loadImageFile=n.loadFile}(Ti.API),function(n){function t(){return(ki.html2canvas?Promise.resolve(ki.html2canvas):Promise.resolve().then(se.t.bind(se,4159,23))).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function e(){return(ki.DOMPurify?Promise.resolve(ki.DOMPurify):se.e(735).then(se.t.bind(se,2735,23))).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var i=function(a){var l=Os(a);return"undefined"===l?"undefined":"string"===l||a instanceof String?"string":"number"===l||a instanceof Number?"number":"function"===l||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&1===a.nodeType?"element":"object"===l?"object":"unknown"},r=function(a,l){var d=document.createElement(a);for(var A in l.className&&(d.className=l.className),l.innerHTML&&l.dompurify&&(d.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)d.style[A]=l.style[A];return d},s=function a(l){var d=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),A=a.convert(Promise.resolve(),d);return(A=A.setProgress(1,a,1,[a])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,l){return a.__proto__=l||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(d){switch(i(d)){case"string":return"string";case"element":return"canvas"===d.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(e).then(function(d){return this.set({src:r("div",{innerHTML:a,dompurify:d})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function d(A,p){for(var _=3===A.nodeType?document.createTextNode(A.nodeValue):A.cloneNode(!1),x=A.firstChild;x;x=x.nextSibling)!0!==p&&1===x.nodeType&&"SCRIPT"===x.nodeName||_.appendChild(d(x,p));return 1===A.nodeType&&("CANVAS"===A.nodeName?(_.width=A.width,_.height=A.height,_.getContext("2d").drawImage(A,0,0)):"TEXTAREA"!==A.nodeName&&"SELECT"!==A.nodeName||(_.value=A.value),_.addEventListener("load",function(){_.scrollTop=A.scrollTop,_.scrollLeft=A.scrollLeft},!0)),_}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===l.tagName&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(t).then(function(l){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,l(this.prop.container,d)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(t).then(function(l){var d=this.opt.jsPDF,A=this.opt.fontFaces,p="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,d.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=A,A)for(var x=0;x<A.length;++x){var C=A[x],F=C.src.find(function(R){return"truetype"===R.format});F&&d.addFont(F.url,C.ref.name,C.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=0==_.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,d.context2d.save(!0),l(this.prop.container,_)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,l,d){return"img"===(d=d||"pdf").toLowerCase()||"image"===d.toLowerCase()?this.outputImg(a,l):this.outputPdf(a,l)},s.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if("object"!==i(a))return this;var l=Object.keys(a||{}).map(function(d){if(d in s.template.prop)return function(){this.prop[d]=a[d]};switch(d){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[d]=a[d]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(a,l){return this.then(function(){var d=a in s.template.prop?this.prop[a]:this.opt[a];return l?l(d):d})},s.prototype.setMargin=function(a){return this.then(function(){switch(i(a)){case"number":a=[a,a,a,a];case"array":if(2===a.length&&(a=[a[0],a[1],a[0],a[1]]),4===a.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function l(d,A){return Math.floor(d*A/72*96)}return this.then(function(){(a=a||Ti.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,l,d,A){return null!=a&&(this.progress.val=a),null!=l&&(this.progress.state=l),null!=d&&(this.progress.n=d),null!=A&&(this.progress.stack=A),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,l,d,A){return this.setProgress(a?this.progress.val+a:null,l||null,d?this.progress.n+d:null,A?this.progress.stack.concat(A):null)},s.prototype.then=function(a,l){var d=this;return this.thenCore(a,l,function(A,p){return d.updateProgress(null,null,1,[A]),Promise.prototype.then.call(this,function(_){return d.updateProgress(null,A),_}).then(A,p).then(function(_){return d.updateProgress(1),_})})},s.prototype.thenCore=function(a,l,d){d=d||Promise.prototype.then,a&&(a=a.bind(this)),l&&(l=l.bind(this));var A=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:s.convert(Object.assign({},this),Promise.prototype),p=d.call(A,a,l);return s.convert(p,this.__proto__)},s.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},s.prototype.thenList=function(a){var l=this;return a.forEach(function(d){l=l.thenCore(d)}),l},s.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return s.convert(l,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Ti.getPageSize=function(a,l,d){if("object"===Os(a)){var A=a;a=A.orientation,l=A.unit||l,d=A.format||d}l=l||"mm",d=d||"a4",a=(""+(a||"P")).toLowerCase();var p,_=(""+d).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+l}var C,F=0,R=0;if(x.hasOwnProperty(_))F=x[_][1]/p,R=x[_][0]/p;else try{F=d[1],R=d[0]}catch{throw new Error("Invalid format: "+d)}if("p"===a||"portrait"===a)a="p",R>F&&(C=R,R=F,F=C);else{if("l"!==a&&"landscape"!==a)throw"Invalid orientation: "+a;a="l",F>R&&(C=R,R=F,F=C)}return{width:R,height:F,unit:l,k:p,orientation:a}},n.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(EH):null;var d=new s(l);return l.worker?d:d.from(a).doCallback()}}(Ti.API),Ti.API.addJS=function(n){return GW=n,this.internal.events.subscribe("postPutResources",function(){NO=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(NO+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zW=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+GW+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==NO&&void 0!==zW&&this.internal.out("/Names <</JavaScript "+NO+" 0 R>>")}),this},function(n){var t;n.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),s=0;s<r.length;s++){var a=r[s],l=i.exec(a);null!=l&&e.internal.newObjectDeferredBegin(l[1],!1),e.internal.write(a)}if(this.outline.createNamedDestinations){var A=this.internal.pages.length,p=[];for(s=0;s<A;s++){var _=e.internal.newObject();p.push(_);var x=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var C=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<p.length;s++)e.internal.write("(page_"+(s+1)+")"+p[s]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+C+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,r,s){var a={title:r,options:s,children:[]};return null==i&&(i=this.root),i.children.push(a),a},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var a=i.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);if(l>0&&this.line("/Count "+l),a.options&&a.options.pageNumber){var d=e.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var A=0;A<i.children.length;A++)this.renderItems(i.children[A])},e.outline.line=function(i){this.ctx.val+=i+"\r\n"},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+="\r\n"+i.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(i,r){for(var s=0;s<r.children.length;s++)i.count++,this.count_r(i,r.children[s]);return i.count}}])}(Ti.API),function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,i,r,s,a,l){var d,A=this.decode.DCT_DECODE,p=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=this.__addimage__.isArrayBuffer(e=a||e)?new Uint8Array(e):e,(d=function(_){for(var x,C=256*_.charCodeAt(4)+_.charCodeAt(5),F=_.length,R={width:0,height:0,numcomponents:1},U=4;U<F;U+=2){if(-1!==t.indexOf(_.charCodeAt((U+=C)+1))){x=256*_.charCodeAt(U+5)+_.charCodeAt(U+6),R={width:256*_.charCodeAt(U+7)+_.charCodeAt(U+8),height:x,numcomponents:_.charCodeAt(U+9)};break}C=256*_.charCodeAt(U+2)+_.charCodeAt(U+3)}return R}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}p={data:e,width:d.width,height:d.height,colorSpace:l,bitsPerComponent:8,filter:A,index:i,alias:r}}return p}}(Ti.API);var US,UO,qW,KW,ZW,bve=function(){var n,t,e;function i(s){var a,d,A,p,_,x,C,F,R,U,Q,K,ie;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},_=null;;){switch(a=this.readUInt32(),F=function(){var ce,pe;for(pe=[],ce=0;ce<4;++ce)pe.push(String.fromCharCode(this.data[this.pos++]));return pe}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":_&&this.animation.frames.push(_),this.pos+=4,_={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),A=this.readUInt16()||100,_.delay=1e3*p/A,_.disposeOp=this.data[this.pos++],_.blendOp=this.data[this.pos++],_.data=[];break;case"IDAT":case"fdAT":for("fdAT"===F&&(this.pos+=4,a-=4),s=_?.data||this.imgData,Q=0;0<=a?Q<a:Q>a;0<=a?++Q:--Q)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(d=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>d)throw new Error("More transparent colors than palette size");if((R=d-this.transparency.indexed.length)>0)for(K=0;0<=R?K<R:K>R;0<=R?++K:--K)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":x=(U=this.read(a)).indexOf(0),C=String.fromCharCode.apply(String,U.slice(0,x)),this.text[C]=String.fromCharCode.apply(String,U.slice(x+1));break;case"IEND":return _&&this.animation.frames.push(_),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(ie=this.colorType)||6===ie,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(s){var a,l;for(l=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)l.push(this.data[this.pos++]);return l},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*a),d=0,A=this;if(null==s&&(s=this.imgData),0===s.length)return new Uint8Array(0);function p(_,x,C,F){var R,U,Q,K,ie,ce,pe,Se,de,We,et,ae,oe,Be,Ee,ct,Me,Qe,Re,tt,_t=Math.ceil((A.width-_)/C),fn=Math.ceil((A.height-x)/F),J=A.width==_t&&A.height==fn;for(oe=a*_t,et=J?l:new Uint8Array(oe*fn),ce=s.length,ae=0,U=0;ae<fn&&d<ce;){switch(s[d++]){case 0:for(K=ct=0;ct<oe;K=ct+=1)et[U++]=s[d++];break;case 1:for(K=Me=0;Me<oe;K=Me+=1)R=s[d++],ie=K<a?0:et[U-a],et[U++]=(R+ie)%256;break;case 2:for(K=Qe=0;Qe<oe;K=Qe+=1)R=s[d++],Q=(K-K%a)/a,et[U++]=((Be=ae&&et[(ae-1)*oe+Q*a+K%a])+R)%256;break;case 3:for(K=Re=0;Re<oe;K=Re+=1)R=s[d++],Q=(K-K%a)/a,ie=K<a?0:et[U-a],Be=ae&&et[(ae-1)*oe+Q*a+K%a],et[U++]=(R+Math.floor((ie+Be)/2))%256;break;case 4:for(K=tt=0;tt<oe;K=tt+=1)R=s[d++],Q=(K-K%a)/a,0===ae?Be=Ee=0:(Be=et[(ae-1)*oe+Q*a+K%a],Ee=Q&&et[(ae-1)*oe+(Q-1)*a+K%a]),pe=(ie=K<a?0:et[U-a])+Be-Ee,Se=Math.abs(pe-ie),de=Math.abs(pe-Be),We=Math.abs(pe-Ee),et[U++]=(R+(Se<=de&&Se<=We?ie:de<=We?Be:Ee))%256;break;default:throw new Error("Invalid filter algorithm: "+s[d-1])}if(!J){var ye=((x+ae*F)*A.width+_)*a,we=ae*oe;for(K=0;K<_t;K+=1){for(var Pe=0;Pe<a;Pe+=1)l[ye++]=et[we++];ye+=(C-1)*a}}ae++}}return s=IO(s),1==A.interlaceMethod?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),l},i.prototype.decodePalette=function(){var s,a,l,d,A,p,_,x,C;for(l=this.palette,p=this.transparency.indexed||[],A=new Uint8Array((p.length||0)+l.length),d=0,s=0,a=_=0,x=l.length;_<x;a=_+=3)A[d++]=l[a],A[d++]=l[a+1],A[d++]=l[a+2],A[d++]=null!=(C=p[s++])?C:255;return A},i.prototype.copyToImageData=function(s,a){var l,d,A,p,_,x,C,F,R,U,Q;if(d=this.colors,R=null,l=this.hasAlphaChannel,this.palette.length&&(R=null!=(Q=this._decodedPalette)?Q:this._decodedPalette=this.decodePalette(),d=4,l=!0),F=(A=s.data||s).length,_=R||a,p=x=0,1===d)for(;p<F;)C=R?4*a[p/4]:x,U=_[C++],A[p++]=U,A[p++]=U,A[p++]=U,A[p++]=l?_[C++]:255,x=C;else for(;p<F;)C=R?4*a[p/4]:x,A[p++]=_[C++],A[p++]=_[C++],A[p++]=_[C++],A[p++]=l?_[C++]:255,x=C},i.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var r=function(){if("[object Window]"===Object.prototype.toString.call(ki)){try{t=ki.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return r(),n=function(s){var a;if(!0===r())return e.width=s.width,e.height=s.height,e.clearRect(0,0,s.width,s.height),e.putImageData(s,0,0),(a=new Image).src=t.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(s){var a,l,d,A,p,_,x,C;if(this.animation){for(C=[],l=p=0,_=(x=this.animation.frames).length;p<_;l=++p)d=s.createImageData((a=x[l]).width,a.height),A=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(d,A),a.imageData=d,C.push(a.image=n(d));return C}},i.prototype.renderFrame=function(s,a){var l,d,A;return l=(d=this.animation.frames)[a],A=d[a-1],0===a&&s.clearRect(0,0,this.width,this.height),1===A?.disposeOp?s.clearRect(A.xOffset,A.yOffset,A.width,A.height):2===A?.disposeOp&&s.putImageData(A.imageData,A.xOffset,A.yOffset),0===l.blendOp&&s.clearRect(l.xOffset,l.yOffset,l.width,l.height),s.drawImage(l.image,l.xOffset,l.yOffset)},i.prototype.animate=function(s){var a,l,d,A,p,_,x=this;return l=0,A=(_=this.animation).numFrames,d=_.frames,p=_.numPlays,(a=function(){var C,F;if(C=l++%A,F=d[C],x.renderFrame(s,C),A>1&&l/A<p)return x.animation._timeout=setTimeout(a,F.delay)})()},i.prototype.stopAnimation=function(){var s;return clearTimeout(null!=(s=this.animation)?s._timeout:void 0)},i.prototype.render=function(s){var a,l;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(l=a.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),a.putImageData(l,0,0))},i}();function Cve(n){var t=0;if(71!==n[t++]||73!==n[t++]||70!==n[t++]||56!==n[t++]||56!=(n[t++]+1&253)||97!==n[t++])throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,i=n[t++]|n[t++]<<8,r=n[t++],a=1<<1+(7&r);t++,t++;var l=null,d=null;r>>7&&(l=t,d=a,t+=3*a);var A=!0,p=[],_=0,x=null,C=0,F=null;for(this.width=e,this.height=i;A&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(11!==n[t]||78==n[t+1]&&69==n[t+2]&&84==n[t+3]&&83==n[t+4]&&67==n[t+5]&&65==n[t+6]&&80==n[t+7]&&69==n[t+8]&&50==n[t+9]&&46==n[t+10]&&48==n[t+11]&&3==n[t+12]&&1==n[t+13]&&0==n[t+16])t+=14,F=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((ae=n[t++])>=0))throw Error("Invalid block size");if(0===ae)break;t+=ae}break;case 249:if(4!==n[t++]||0!==n[t+4])throw new Error("Invalid graphics extension block.");var R=n[t++];_=n[t++]|n[t++]<<8,x=n[t++],0==(1&R)&&(x=null),C=R>>2&7,t++;break;case 254:for(;;){if(!((ae=n[t++])>=0))throw Error("Invalid block size");if(0===ae)break;t+=ae}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var U=n[t++]|n[t++]<<8,Q=n[t++]|n[t++]<<8,K=n[t++]|n[t++]<<8,ie=n[t++]|n[t++]<<8,ce=n[t++],pe=ce>>6&1,Se=1<<1+(7&ce),ve=l,de=d,We=!1;ce>>7&&(We=!0,ve=t,de=Se,t+=3*Se);var et=t;for(t++;;){var ae;if(!((ae=n[t++])>=0))throw Error("Invalid block size");if(0===ae)break;t+=ae}p.push({x:U,y:Q,width:K,height:ie,has_local_palette:We,palette_offset:ve,palette_size:de,data_offset:et,data_length:t-et,transparent_index:x,interlaced:!!pe,delay:_,disposal:C});break;case 59:A=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return F},this.frameInfo=function(oe){if(oe<0||oe>=p.length)throw new Error("Frame index out of range.");return p[oe]},this.decodeAndBlitFrameBGRA=function(oe,Be){var Ee=this.frameInfo(oe),ct=Ee.width*Ee.height,Me=new Uint8Array(ct);WW(n,Ee.data_offset,Me,ct);var Qe=Ee.palette_offset,Re=Ee.transparent_index;null===Re&&(Re=256);var tt=Ee.width,_t=e-tt,fn=tt,J=4*(Ee.y*e+Ee.x),ye=4*((Ee.y+Ee.height)*e+Ee.x),we=J,Pe=4*_t;!0===Ee.interlaced&&(Pe+=4*e*7);for(var Ye=8,ot=0,mt=Me.length;ot<mt;++ot){var pt=Me[ot];if(0===fn&&(fn=tt,(we+=Pe)>=ye&&(Pe=4*_t+4*e*(Ye-1),we=J+(tt+_t)*(Ye<<1),Ye>>=1)),pt===Re)we+=4;else{var hn=n[Qe+3*pt],un=n[Qe+3*pt+1];Be[we++]=n[Qe+3*pt+2],Be[we++]=un,Be[we++]=hn,Be[we++]=255}--fn}},this.decodeAndBlitFrameRGBA=function(oe,Be){var Ee=this.frameInfo(oe),ct=Ee.width*Ee.height,Me=new Uint8Array(ct);WW(n,Ee.data_offset,Me,ct);var Qe=Ee.palette_offset,Re=Ee.transparent_index;null===Re&&(Re=256);var tt=Ee.width,_t=e-tt,fn=tt,J=4*(Ee.y*e+Ee.x),ye=4*((Ee.y+Ee.height)*e+Ee.x),we=J,Pe=4*_t;!0===Ee.interlaced&&(Pe+=4*e*7);for(var Ye=8,ot=0,mt=Me.length;ot<mt;++ot){var pt=Me[ot];if(0===fn&&(fn=tt,(we+=Pe)>=ye&&(Pe=4*_t+4*e*(Ye-1),we=J+(tt+_t)*(Ye<<1),Ye>>=1)),pt===Re)we+=4;else{var un=n[Qe+3*pt+1],Nn=n[Qe+3*pt+2];Be[we++]=n[Qe+3*pt],Be[we++]=un,Be[we++]=Nn,Be[we++]=255}--fn}}}function WW(n,t,e,i){for(var r=n[t++],s=1<<r,a=s+1,l=a+1,d=r+1,A=(1<<d)-1,p=0,_=0,x=0,C=n[t++],F=new Int32Array(4096),R=null;;){for(;p<16&&0!==C;)_|=n[t++]<<p,p+=8,1===C?C=n[t++]:--C;if(p<d)break;var U=_&A;if(_>>=d,p-=d,U!==s){if(U===a)break;for(var Q=U<l?U:R,K=0,ie=Q;ie>s;)ie=F[ie]>>8,++K;var ce=ie;if(x+K+(Q!==U?1:0)>i)return void io.log("Warning, gif stream longer than expected.");e[x++]=ce;var pe=x+=K;for(Q!==U&&(e[x++]=ce),ie=Q;K--;)e[--pe]=255&(ie=F[ie]),ie>>=8;null!==R&&l<4096&&(F[l++]=R<<8|ce,l>=A+1&&d<12&&(++d,A=A<<1|1)),R=U}else l=a+1,A=(1<<(d=r+1))-1,R=null}return x!==i&&io.log("Warning, gif stream shorter than expected."),e}function DH(n){var t,e,i,r,s,a=Math.floor,l=new Array(64),d=new Array(64),A=new Array(64),p=new Array(64),_=new Array(65535),x=new Array(65535),C=new Array(64),F=new Array(64),R=[],U=0,Q=7,K=new Array(64),ie=new Array(64),ce=new Array(64),pe=new Array(256),Se=new Array(2048),ve=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],de=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],We=[0,1,2,3,4,5,6,7,8,9,10,11],et=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],ae=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],oe=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Be=[0,1,2,3,4,5,6,7,8,9,10,11],Ee=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ct=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Me(J,ye){for(var we=0,Pe=0,Ye=new Array,ot=1;ot<=16;ot++){for(var mt=1;mt<=J[ot];mt++)Ye[ye[Pe]]=[],Ye[ye[Pe]][0]=we,Ye[ye[Pe]][1]=ot,Pe++,we++;we*=2}return Ye}function Qe(J){for(var ye=J[0],we=J[1]-1;we>=0;)ye&1<<we&&(U|=1<<Q),we--,--Q<0&&(255==U?(Re(255),Re(0)):Re(U),Q=7,U=0)}function Re(J){R.push(J)}function tt(J){Re(J>>8&255),Re(255&J)}function _t(J,ye,we,Pe,Ye){for(var ot,mt=Ye[0],pt=Ye[240],hn=function(dn,Sn){var On,Bn,pi,tr,mr,xr,Jr,Gs,Vi,Tr,Ln=0;for(Vi=0;Vi<8;++Vi){var Mu=(On=dn[Ln])+(Gs=dn[Ln+7]),cs=On-Gs,Zp=(Bn=dn[Ln+1])+(Jr=dn[Ln+6]),ro=Bn-Jr,Jo=(pi=dn[Ln+2])+(xr=dn[Ln+5]),jm=pi-xr,bs=(tr=dn[Ln+3])+(mr=dn[Ln+4]),WC=tr-mr,ka=Mu+bs,Wp=Mu-bs,tv=Zp+Jo,Ra=Zp-Jo;dn[Ln]=ka+tv,dn[Ln+4]=ka-tv;var nr=.707106781*(Ra+Wp);dn[Ln+2]=Wp+nr,dn[Ln+6]=Wp-nr;var Cs=.382683433*((ka=WC+jm)-(Ra=ro+cs)),YC=.5411961*ka+Cs,qc=1.306562965*Ra+Cs,zm=.707106781*(tv=jm+ro),Gm=cs+zm,Mi=cs-zm;dn[Ln+5]=Mi+YC,dn[Ln+3]=Mi-YC,dn[Ln+1]=Gm+qc,dn[Ln+7]=Gm-qc,Ln+=8}for(Ln=0,Vi=0;Vi<8;++Vi){var Yp=(On=dn[Ln])+(Gs=dn[Ln+56]),qm=On-Gs,fh=(Bn=dn[Ln+8])+(Jr=dn[Ln+48]),zl=Bn-Jr,xl=(pi=dn[Ln+16])+(xr=dn[Ln+40]),mA=pi-xr,tE=(tr=dn[Ln+24])+(mr=dn[Ln+32]),nv=tr-mr,$p=Yp+tE,Jp=Yp-tE,Xp=fh+xl,Km=fh-xl;dn[Ln]=$p+Xp,dn[Ln+32]=$p-Xp;var If=.707106781*(Km+Jp);dn[Ln+16]=Jp+If,dn[Ln+48]=Jp-If;var Zm=.382683433*(($p=nv+mA)-(Km=zl+qm)),$C=.5411961*$p+Zm,nE=1.306562965*Km+Zm,iE=.707106781*(Xp=mA+zl),rE=qm+iE,sE=qm-iE;dn[Ln+40]=sE+$C,dn[Ln+24]=sE-$C,dn[Ln+8]=rE+nE,dn[Ln+56]=rE-nE,Ln++}for(Vi=0;Vi<64;++Vi)C[Vi]=(Tr=dn[Vi]*Sn[Vi])>0?Tr+.5|0:Tr-.5|0;return C}(J,ye),un=0;un<64;++un)F[ve[un]]=hn[un];var Nn=F[0]-we;we=F[0],0==Nn?Qe(Pe[0]):(Qe(Pe[x[ot=32767+Nn]]),Qe(_[ot]));for(var Kn=63;Kn>0&&0==F[Kn];)Kn--;if(0==Kn)return Qe(mt),we;for(var Ri,kt=1;kt<=Kn;){for(var Ie=kt;0==F[kt]&&kt<=Kn;)++kt;var ar=kt-Ie;if(ar>=16){Ri=ar>>4;for(var ri=1;ri<=Ri;++ri)Qe(pt);ar&=15}Qe(Ye[(ar<<4)+x[ot=32767+F[kt]]]),Qe(_[ot]),kt++}return 63!=Kn&&Qe(mt),we}function fn(J){J=Math.min(Math.max(J,1),100),s!=J&&(function(ye){for(var we=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Pe=0;Pe<64;Pe++){var Ye=a((we[Pe]*ye+50)/100);Ye=Math.min(Math.max(Ye,1),255),l[ve[Pe]]=Ye}for(var ot=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],mt=0;mt<64;mt++){var pt=a((ot[mt]*ye+50)/100);pt=Math.min(Math.max(pt,1),255),d[ve[mt]]=pt}for(var hn=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],un=0,Nn=0;Nn<8;Nn++)for(var Kn=0;Kn<8;Kn++)A[un]=1/(l[ve[un]]*hn[Nn]*hn[Kn]*8),p[un]=1/(d[ve[un]]*hn[Nn]*hn[Kn]*8),un++}(J<50?Math.floor(5e3/J):Math.floor(200-2*J)),s=J)}this.encode=function(J,ye){var Bn,pi;ye&&fn(ye),R=new Array,U=0,Q=7,tt(65496),tt(65504),tt(16),Re(74),Re(70),Re(73),Re(70),Re(0),Re(1),Re(1),Re(0),tt(1),tt(1),Re(0),Re(0),function(){tt(65499),tt(132),Re(0);for(var Bn=0;Bn<64;Bn++)Re(l[Bn]);Re(1);for(var pi=0;pi<64;pi++)Re(d[pi])}(),Bn=J.width,pi=J.height,tt(65472),tt(17),Re(8),tt(pi),tt(Bn),Re(3),Re(1),Re(17),Re(0),Re(2),Re(17),Re(1),Re(3),Re(17),Re(1),function(){tt(65476),tt(418),Re(0);for(var Bn=0;Bn<16;Bn++)Re(de[Bn+1]);for(var pi=0;pi<=11;pi++)Re(We[pi]);Re(16);for(var tr=0;tr<16;tr++)Re(et[tr+1]);for(var mr=0;mr<=161;mr++)Re(ae[mr]);Re(1);for(var xr=0;xr<16;xr++)Re(oe[xr+1]);for(var Jr=0;Jr<=11;Jr++)Re(Be[Jr]);Re(17);for(var Gs=0;Gs<16;Gs++)Re(Ee[Gs+1]);for(var Vi=0;Vi<=161;Vi++)Re(ct[Vi])}(),tt(65498),tt(12),Re(3),Re(1),Re(0),Re(2),Re(17),Re(3),Re(17),Re(0),Re(63),Re(0);var we=0,Pe=0,Ye=0;U=0,Q=7,this.encode.displayName="_encode_";for(var ot,mt,pt,hn,un,Nn,Kn,Ri,kt,Ie=J.data,ri=J.height,dn=4*J.width,Sn=0;Sn<ri;){for(ot=0;ot<dn;){for(un=dn*Sn+ot,Kn=-1,Ri=0,kt=0;kt<64;kt++)Nn=un+(Ri=kt>>3)*dn+(Kn=4*(7&kt)),Sn+Ri>=ri&&(Nn-=dn*(Sn+1+Ri-ri)),ot+Kn>=dn&&(Nn-=ot+Kn-dn+4),mt=Ie[Nn++],pt=Ie[Nn++],hn=Ie[Nn++],K[kt]=(Se[mt]+Se[pt+256>>0]+Se[hn+512>>0]>>16)-128,ie[kt]=(Se[mt+768>>0]+Se[pt+1024>>0]+Se[hn+1280>>0]>>16)-128,ce[kt]=(Se[mt+1280>>0]+Se[pt+1536>>0]+Se[hn+1792>>0]>>16)-128;we=_t(K,A,we,t,i),Pe=_t(ie,p,Pe,e,r),Ye=_t(ce,p,Ye,e,r),ot+=32}Sn+=8}if(Q>=0){var On=[];On[1]=Q+1,On[0]=(1<<Q+1)-1,Qe(On)}return tt(65497),new Uint8Array(R)},n=n||50,function(){for(var J=String.fromCharCode,ye=0;ye<256;ye++)pe[ye]=J(ye)}(),t=Me(de,We),e=Me(oe,Be),i=Me(et,ae),r=Me(Ee,ct),function(){for(var J=1,ye=2,we=1;we<=15;we++){for(var Pe=J;Pe<ye;Pe++)x[32767+Pe]=we,_[32767+Pe]=[],_[32767+Pe][1]=we,_[32767+Pe][0]=Pe;for(var Ye=-(ye-1);Ye<=-J;Ye++)x[32767+Ye]=we,_[32767+Ye]=[],_[32767+Ye][1]=we,_[32767+Ye][0]=ye-1+Ye;J<<=1,ye<<=1}}(),function(){for(var J=0;J<256;J++)Se[J]=19595*J,Se[J+256>>0]=38470*J,Se[J+512>>0]=7471*J+32768,Se[J+768>>0]=-11059*J,Se[J+1024>>0]=-21709*J,Se[J+1280>>0]=32768*J+8421375,Se[J+1536>>0]=-27439*J,Se[J+1792>>0]=-5329*J}(),fn(n)}function Gp(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function YW(n){function t(de){if(!de)throw Error("assert :P")}function e(de,We,et){for(var ae=0;4>ae;ae++)if(de[We+ae]!=et.charCodeAt(ae))return!0;return!1}function i(de,We,et,ae,oe){for(var Be=0;Be<oe;Be++)de[We+Be]=et[ae+Be]}function r(de,We,et,ae){for(var oe=0;oe<ae;oe++)de[We+oe]=et}function s(de){return new Int32Array(de)}function a(de,We){for(var et=[],ae=0;ae<de;ae++)et.push(new We);return et}function l(de,We){var et=[];return function ae(oe,Be,Ee){for(var ct=Ee[Be],Me=0;Me<ct&&(oe.push(Ee.length>Be+1?[]:new We),!(Ee.length<Be+1));Me++)ae(oe[Me],Be+1,Ee)}(et,0,de),et}var d=function(){var de=this;function We(v,T){for(var L=1<<T-1>>>0;v&L;)L>>>=1;return L?(v&L-1)+L:v}function et(v,T,L,z,W){t(!(z%L));do{v[T+(z-=L)]=W}while(0<z)}function ae(v,T,L,z,W){if(t(2328>=W),512>=W)var te=s(512);else if(null==(te=s(W)))return 0;return function(ne,re,le,_e,Ue,At){var ft,$e,zt=re,St=1<<le,He=s(16),qe=s(16);for(t(0!=Ue),t(null!=_e),t(null!=ne),t(0<le),$e=0;$e<Ue;++$e){if(15<_e[$e])return 0;++He[_e[$e]]}if(He[0]==Ue)return 0;for(qe[1]=0,ft=1;15>ft;++ft){if(He[ft]>1<<ft)return 0;qe[ft+1]=qe[ft]+He[ft]}for($e=0;$e<Ue;++$e)ft=_e[$e],0<_e[$e]&&(At[qe[ft]++]=$e);if(1==qe[15])return(_e=new oe).g=0,_e.value=At[0],et(ne,zt,1,St,_e),St;var Qt,Wt=-1,jt=St-1,jn=0,En=1,xi=1,Mn=1<<le;for($e=0,ft=1,Ue=2;ft<=le;++ft,Ue<<=1){if(En+=xi<<=1,0>(xi-=He[ft]))return 0;for(;0<He[ft];--He[ft])(_e=new oe).g=ft,_e.value=At[$e++],et(ne,zt+jn,Ue,Mn,_e),jn=We(jn,ft)}for(ft=le+1,Ue=2;15>=ft;++ft,Ue<<=1){if(En+=xi<<=1,0>(xi-=He[ft]))return 0;for(;0<He[ft];--He[ft]){if(_e=new oe,(jn&jt)!=Wt){for(zt+=Mn,Qt=1<<(Wt=ft)-le;15>Wt&&!(0>=(Qt-=He[Wt]));)++Wt,Qt<<=1;St+=Mn=1<<(Qt=Wt-le),ne[re+(Wt=jn&jt)].g=Qt+le,ne[re+Wt].value=zt-re-Wt}_e.g=ft-le,_e.value=At[$e++],et(ne,zt+(jn>>le),Ue,Mn,_e),jn=We(jn,ft)}}return En!=2*qe[15]-1?0:St}(v,T,L,z,W,te)}function oe(){this.value=this.g=0}function Be(){this.value=this.g=0}function Ee(){this.G=a(5,oe),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(gh,Be)}function ct(v,T,L,z){t(null!=v),t(null!=T),t(2147483648>z),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=T,v.pa=L,v.Jd=T,v.Yc=L+z,v.Zc=4<=z?L+z-4+1:L,ot(v)}function Me(v,T){for(var L=0;0<T--;)L|=pt(v,128)<<T;return L}function Qe(v,T){var L=Me(v,T);return mt(v)?-L:L}function Re(v,T,L,z){var W,te=0;for(t(null!=v),t(null!=T),t(4294967288>z),v.Sb=z,v.Ra=0,v.u=0,v.h=0,4<z&&(z=4),W=0;W<z;++W)te+=T[L+W]<<8*W;v.Ra=te,v.bb=z,v.oa=T,v.pa=L}function tt(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<vE-8>>>0,++v.bb,v.u-=8;we(v)&&(v.h=1,v.u=0)}function _t(v,T){if(t(0<=T),!v.h&&T<=yE){var L=ye(v)&_E[T];return v.u+=T,tt(v),L}return v.h=1,v.u=0}function fn(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function J(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ye(v){return v.Ra>>>(v.u&vE-1)>>>0}function we(v){return t(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>vE}function Pe(v,T){v.u=T,v.h=we(v)}function Ye(v){v.u>=aM&&(t(v.u>=aM),tt(v))}function ot(v){t(null!=v&&null!=v.oa),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(t(null!=v&&null!=v.oa),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function mt(v){return Me(v,1)}function pt(v,T){var L=v.Ca;0>v.b&&ot(v);var z=v.b,W=L*T>>>8,te=(v.I>>>z>W)+0;for(te?(L-=W,v.I-=W+1<<z>>>0):L=W+1,z=L,W=0;256<=z;)W+=8,z>>=8;return v.b-=z=7^W+mh[z],v.Ca=(L<<z)-1,te}function hn(v,T,L){v[T+0]=L>>24&255,v[T+1]=L>>16&255,v[T+2]=L>>8&255,v[T+3]=L>>0&255}function un(v,T){return v[T+0]<<0|v[T+1]<<8}function Nn(v,T){return un(v,T)|v[T+2]<<16}function Kn(v,T){return un(v,T)|un(v,T+2)<<16}function Ri(v,T){var L=1<<T;return t(null!=v),t(0<T),v.X=s(L),null==v.X?0:(v.Mb=32-T,v.Xa=T,1)}function kt(v,T){t(null!=v),t(null!=T),t(v.Xa==T.Xa),i(T.X,0,v.X,0,1<<T.Xa)}function Ie(){this.X=[],this.Xa=this.Mb=0}function ar(v,T,L,z){t(null!=L),t(null!=z);var W=L[0],te=z[0];return 0==W&&(W=(v*te+T/2)/T),0==te&&(te=(T*W+v/2)/v),0>=W||0>=te?0:(L[0]=W,z[0]=te,1)}function ri(v,T){return v+(1<<T)-1>>>T}function dn(v,T){return((4278255360&v)+(4278255360&T)>>>0&4278255360)+((16711935&v)+(16711935&T)>>>0&16711935)>>>0}function Sn(v,T){de[T]=function(L,z,W,te,ne,re,le){var _e;for(_e=0;_e<ne;++_e){var Ue=de[v](re[le+_e-1],W,te+_e);re[le+_e]=dn(L[z+_e],Ue)}}}function On(){this.ud=this.hd=this.jd=0}function Bn(v,T){return((4278124286&(v^T))>>>1)+(v&T)>>>0}function pi(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function tr(v,T){return pi(v+(v-T+.5>>1))}function mr(v,T,L){return Math.abs(T-L)-Math.abs(v-L)}function xr(v,T,L,z,W,te,ne){for(z=te[ne-1],L=0;L<W;++L)te[ne+L]=z=dn(v[T+L],z)}function Jr(v,T,L,z,W){var te;for(te=0;te<L;++te){var ne=v[T+te],re=ne>>8&255,le=16711935&(le=(le=16711935&ne)+((re<<16)+re));z[W+te]=(4278255360&ne)+le>>>0}}function Gs(v,T){T.jd=v>>0&255,T.hd=v>>8&255,T.ud=v>>16&255}function Vi(v,T,L,z,W,te){var ne;for(ne=0;ne<z;++ne){var re=T[L+ne],le=re>>>8,_e=re,Ue=255&(Ue=(Ue=re>>>16)+((v.jd<<24>>24)*(le<<24>>24)>>>5));_e=255&(_e=(_e+=(v.hd<<24>>24)*(le<<24>>24)>>>5)+((v.ud<<24>>24)*(Ue<<24>>24)>>>5)),W[te+ne]=(4278255360&re)+(Ue<<16)+_e}}function Tr(v,T,L,z,W){de[T]=function(te,ne,re,le,_e,Ue,At,ft,$e){for(le=At;le<ft;++le)for(At=0;At<$e;++At)_e[Ue++]=W(re[z(te[ne++])])},de[v]=function(te,ne,re,le,_e,Ue,At){var ft=8>>te.b,$e=te.Ea,zt=te.K[0],St=te.w;if(8>ft)for(te=(1<<te.b)-1,St=(1<<ft)-1;ne<re;++ne){var He,qe=0;for(He=0;He<$e;++He)He&te||(qe=z(le[_e++])),Ue[At++]=W(zt[qe&St]),qe>>=ft}else de["VP8LMapColor"+L](le,_e,zt,St,Ue,At,ne,re,$e)}}function Ln(v,T,L,z,W){for(L=T+L;T<L;){var te=v[T++];z[W++]=te>>16&255,z[W++]=te>>8&255,z[W++]=te>>0&255}}function Mu(v,T,L,z,W){for(L=T+L;T<L;){var te=v[T++];z[W++]=te>>16&255,z[W++]=te>>8&255,z[W++]=te>>0&255,z[W++]=te>>24&255}}function cs(v,T,L,z,W){for(L=T+L;T<L;){var te=(ne=v[T++])>>16&240|ne>>12&15,ne=ne>>0&240|ne>>28&15;z[W++]=te,z[W++]=ne}}function Zp(v,T,L,z,W){for(L=T+L;T<L;){var te=(ne=v[T++])>>16&248|ne>>13&7,ne=ne>>5&224|ne>>3&31;z[W++]=te,z[W++]=ne}}function ro(v,T,L,z,W){for(L=T+L;T<L;){var te=v[T++];z[W++]=te>>0&255,z[W++]=te>>8&255,z[W++]=te>>16&255}}function Jo(v,T,L,z,W,te){if(0==te)for(L=T+L;T<L;)hn(z,((te=v[T++])[0]>>24|te[1]>>8&65280|te[2]<<8&16711680|te[3]<<24)>>>0),W+=32;else i(z,W,v,T,L)}function jm(v,T){de[T][0]=de[v+"0"],de[T][1]=de[v+"1"],de[T][2]=de[v+"2"],de[T][3]=de[v+"3"],de[T][4]=de[v+"4"],de[T][5]=de[v+"5"],de[T][6]=de[v+"6"],de[T][7]=de[v+"7"],de[T][8]=de[v+"8"],de[T][9]=de[v+"9"],de[T][10]=de[v+"10"],de[T][11]=de[v+"11"],de[T][12]=de[v+"12"],de[T][13]=de[v+"13"],de[T][14]=de[v+"0"],de[T][15]=de[v+"0"]}function bs(v){return v==TV||v==MV||v==hP||v==BV}function WC(){this.eb=[],this.size=this.A=this.fb=0}function ka(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Wp(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new WC,this.f.kb=new ka,this.sd=null}function tv(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ra(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function nr(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function Cs(v,T){var L=v.T,z=T.ba.f.RGBA,W=z.eb,te=z.fb+v.ka*z.A,ne=Bf[T.ba.S],re=v.y,le=v.O,_e=v.f,Ue=v.N,At=v.ea,ft=v.W,$e=T.cc,zt=T.dc,St=T.Mc,He=T.Nc,qe=v.ka,Qt=v.ka+v.T,Wt=v.U,jt=Wt+1>>1;for(0==qe?ne(re,le,null,null,_e,Ue,At,ft,_e,Ue,At,ft,W,te,null,null,Wt):(ne(T.ec,T.fc,re,le,$e,zt,St,He,_e,Ue,At,ft,W,te-z.A,W,te,Wt),++L);qe+2<Qt;qe+=2)ne(re,(le+=2*v.fa)-v.fa,re,le,$e=_e,zt=Ue,St=At,He=ft,_e,Ue+=v.Rc,At,ft+=v.Rc,W,(te+=2*z.A)-z.A,W,te,Wt);return le+=v.fa,v.j+Qt<v.o?(i(T.ec,T.fc,re,le,Wt),i(T.cc,T.dc,_e,Ue,jt),i(T.Mc,T.Nc,At,ft,jt),L--):1&Qt||ne(re,le,null,null,_e,Ue,At,ft,_e,Ue,At,ft,W,te+z.A,null,null,Wt),L}function YC(v,T,L){var z=v.F,W=[v.J];if(null!=z){var te=v.U,ne=T.ba.S,re=ne==dP||ne==hP;T=T.ba.f.RGBA;var le=[0],_e=v.ka;le[0]=v.T,v.Kb&&(0==_e?--le[0]:(--_e,W[0]-=v.width),v.j+v.ka+v.T==v.o&&(le[0]=v.o-v.j-_e));var Ue=T.eb;v=oP(z,W[0],v.width,te,le,Ue,(_e=T.fb+_e*T.A)+(re?0:3),T.A),t(L==le),v&&bs(ne)&&bw(Ue,_e,re,te,le,T.A)}return 0}function qc(v){var T=v.ma,L=T.ba.S,z=11>L,W=L==cP||L==uP||L==dP||L==DV||12==L||bs(L);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!sM(T.Oa,v,W?11:12))return 0;if(W&&bs(L)&&nn(),v.da)alert("todo:use_scaling");else{if(z){if(T.Ib=nr,v.Kb){if(T.memory=s(v.U+2*(L=v.U+1>>1)),null==T.memory)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+v.U,T.Mc=T.cc,T.Nc=T.dc+L,T.Ib=Cs,nn()}}else alert("todo:EmitYUV");W&&(T.Jb=YC,z&&nt())}if(z&&!bee){for(v=0;256>v;++v)$ke[v]=89858*(v-128)+fP>>AP,eRe[v]=-22014*(v-128)+fP,Xke[v]=-45773*(v-128),Jke[v]=113618*(v-128)+fP>>AP;for(v=AM;v<RV;++v)tRe[v-AM]=_A(T=76283*(v-16)+fP>>AP,255),nRe[v-AM]=_A(T+8>>4,15);bee=1}return 1}function zm(v){var T=v.ma,L=v.U,z=v.T;return t(!(1&v.ka)),0>=L||0>=z?0:(L=T.Ib(v,T),null!=T.Jb&&T.Jb(v,T,L),T.Dc+=L,1)}function Gm(v){v.ma.memory=null}function Mi(v,T,L,z){return 47!=_t(v,8)?0:(T[0]=_t(v,14)+1,L[0]=_t(v,14)+1,z[0]=_t(v,1),0!=_t(v,3)?0:!v.h)}function Yp(v,T){if(4>v)return v+1;var L=v-2>>1;return(2+(1&v)<<L)+_t(T,L)+1}function qm(v,T){return 120<T?T-120:1<=(L=((L=Pke[T-1])>>4)*v+(8-(15&L)))?L:1;var L}function fh(v,T,L){var z=ye(L),W=v[T+=255&z].g-8;return 0<W&&(Pe(L,L.u+8),z=ye(L),T+=v[T].value,T+=z&(1<<W)-1),Pe(L,L.u+v[T].g),v[T].value}function zl(v,T,L){return L.g+=v.g,L.value+=v.value<<T>>>0,t(8>=L.g),v.g}function xl(v,T,L){var z=v.xc;return t((T=0==z?0:v.vc[v.md*(L>>z)+(T>>z)])<v.Wb),v.Ya[T]}function mA(v,T,L,z){var W=v.ab,te=v.c*T,ne=v.C;T=ne+T;var re=L,le=z;for(z=v.Ta,L=v.Ua;0<W--;){var _e=v.gc[W],Ue=ne,At=T,ft=re,$e=le,zt=(le=z,re=L,_e.Ea);switch(t(Ue<At),t(At<=_e.nc),_e.hc){case 2:sP(ft,$e,(At-Ue)*zt,le,re);break;case 0:var St=Ue,He=At,qe=le,Qt=re,Wt=(Mn=_e).Ea;0==St&&(xV(ft,$e,null,null,1,qe,Qt),xr(ft,$e+1,0,0,Wt-1,qe,Qt+1),$e+=Wt,Qt+=Wt,++St);for(var jt=1<<Mn.b,jn=jt-1,En=ri(Wt,Mn.b),xi=Mn.K,Mn=Mn.w+(St>>Mn.b)*En;St<He;){var ps=xi,Ps=Mn,Xr=1;for(lM(ft,$e,qe,Qt-Wt,1,qe,Qt);Xr<Wt;){var Pr=(Xr&~jn)+jt;Pr>Wt&&(Pr=Wt),(0,_w[ps[Ps++]>>8&15])(ft,$e+ +Xr,qe,Qt+Xr-Wt,Pr-Xr,qe,Qt+Xr),Xr=Pr}$e+=Wt,Qt+=Wt,++St&jn||(Mn+=En)}At!=_e.nc&&i(le,re-zt,le,re+(At-Ue-1)*zt,zt);break;case 1:for(zt=ft,He=$e,Wt=(ft=_e.Ea)-(Qt=ft&~(qe=($e=1<<_e.b)-1)),St=ri(ft,_e.b),jt=_e.K,_e=_e.w+(Ue>>_e.b)*St;Ue<At;){for(jn=jt,En=_e,xi=new On,Mn=He+Qt,ps=He+ft;He<Mn;)Gs(jn[En++],xi),Df(xi,zt,He,$e,le,re),He+=$e,re+=$e;He<ps&&(Gs(jn[En++],xi),Df(xi,zt,He,Wt,le,re),He+=Wt,re+=Wt),++Ue&qe||(_e+=St)}break;case 3:if(ft==le&&$e==re&&0<_e.b){for(He=le,ft=zt=re+(At-Ue)*zt-(Qt=(At-Ue)*ri(_e.Ea,_e.b)),$e=le,qe=re,St=[],Qt=(Wt=Qt)-1;0<=Qt;--Qt)St[Qt]=$e[qe+Qt];for(Qt=Wt-1;0<=Qt;--Qt)He[ft+Qt]=St[Qt];ig(_e,Ue,At,le,zt,le,re)}else ig(_e,Ue,At,ft,$e,le,re)}re=z,le=L}le!=L&&i(z,L,re,le,te)}function tE(v,T){var L=v.V,z=v.Ba+v.c*v.C,W=T-v.C;if(t(T<=v.l.o),t(16>=W),0<W){var te=v.l,ne=v.Ta,re=v.Ua,le=te.width;if(mA(v,W,L,z),W=re=[re],t((L=v.C)<(z=T)),t(te.v<te.va),z>te.o&&(z=te.o),L<te.j){var _e=te.j-L;L=te.j,W[0]+=_e*le}if(L>=z?L=0:(W[0]+=4*te.v,te.ka=L-te.j,te.U=te.va-te.v,te.T=z-L,L=1),L){if(re=re[0],11>(L=v.ca).S){var Ue=L.f.RGBA,At=(z=L.S,W=te.U,te=te.T,_e=Ue.eb,Ue.A),ft=te;for(Ue=Ue.fb+v.Ma*Ue.A;0<ft--;){var $e=ne,zt=re,St=W,He=_e,qe=Ue;switch(z){case lP:rg($e,zt,St,He,qe);break;case cP:yw($e,zt,St,He,qe);break;case TV:yw($e,zt,St,He,qe),bw(He,qe,0,St,1,0);break;case hee:wE($e,zt,St,He,qe);break;case uP:Jo($e,zt,St,He,qe,1);break;case MV:Jo($e,zt,St,He,qe,1),bw(He,qe,0,St,1,0);break;case dP:Jo($e,zt,St,He,qe,0);break;case hP:Jo($e,zt,St,He,qe,0),bw(He,qe,1,St,1,0);break;case DV:Ym($e,zt,St,He,qe);break;case BV:Ym($e,zt,St,He,qe),xE(He,qe,St,1,0);break;case Aee:ov($e,zt,St,He,qe);break;default:t(0)}re+=le,Ue+=At}v.Ma+=te}else alert("todo:EmitRescaledRowsYUVA");t(v.Ma<=L.height)}}v.C=T,t(v.C<=v.i)}function nv(v){var T;if(0<v.ua)return 0;for(T=0;T<v.Wb;++T){var L=v.Ya[T].G,z=v.Ya[T].H;if(0<L[1][z[1]+0].g||0<L[2][z[2]+0].g||0<L[3][z[3]+0].g)return 0}return 1}function $p(v,T,L,z,W,te){if(0!=v.Z){var ne=v.qd,re=v.rd;for(t(null!=xw[v.Z]);T<L;++T)xw[v.Z](ne,re,z,W,z,W,te),ne=z,re=W,W+=te;v.qd=ne,v.rd=re}}function Jp(v,T){var L=v.l.ma,z=0==L.Z||1==L.Z?v.l.j:v.C;if(z=v.C<z?z:v.C,t(T<=v.l.o),T>z){var W=v.l.width,te=L.ca,ne=L.tb+W*z,re=v.V,le=v.Ba+v.c*z,_e=v.gc;t(1==v.ab),t(3==_e[0].hc),SV(_e[0],z,T,re,le,te,ne),$p(L,z,T,te,ne,W)}v.C=v.Ma=T}function Xp(v,T,L,z,W,te,ne){var re=v.$/z,le=v.$%z,_e=v.m,Ue=v.s,At=L+v.$,ft=At;W=L+z*W;var $e=L+z*te,zt=280+Ue.ua,St=v.Pb?re:16777216,He=0<Ue.ua?Ue.Wa:null,qe=Ue.wc,Qt=At<$e?xl(Ue,le,re):null;t(v.C<te),t($e<=W);var Wt=!1;e:for(;;){for(;Wt||At<$e;){var jt=0;if(re>=St){var jn=At-L;t((St=v).Pb),St.wd=St.m,St.xd=jn,0<St.s.ua&&kt(St.s.Wa,St.s.vb),St=re+Uke}if(le&qe||(Qt=xl(Ue,le,re)),t(null!=Qt),Qt.Qb&&(T[At]=Qt.qb,Wt=!0),!Wt)if(Ye(_e),Qt.jc){jn=T;var En=At,xi=Qt.pd[ye(jt=_e)&gh-1];t(Qt.jc),256>xi.g?(Pe(jt,jt.u+xi.g),jn[En]=xi.value,jt=0):(Pe(jt,jt.u+xi.g-256),t(256<=xi.value),jt=xi.value),0==jt&&(Wt=!0)}else jt=fh(Qt.G[0],Qt.H[0],_e);if(_e.h)break;if(Wt||256>jt){if(!Wt)if(Qt.nd)T[At]=(Qt.qb|jt<<8)>>>0;else{if(Ye(_e),Wt=fh(Qt.G[1],Qt.H[1],_e),Ye(_e),jn=fh(Qt.G[2],Qt.H[2],_e),En=fh(Qt.G[3],Qt.H[3],_e),_e.h)break;T[At]=(En<<24|Wt<<16|jt<<8|jn)>>>0}if(Wt=!1,++At,++le>=z&&(le=0,++re,null!=ne&&re<=te&&!(re%16)&&ne(v,re),null!=He))for(;ft<At;)jt=T[ft++],He.X[(506832829*jt&4294967295)>>>He.Mb]=jt}else if(280>jt){if(jt=Yp(jt-256,_e),jn=fh(Qt.G[4],Qt.H[4],_e),Ye(_e),jn=qm(z,jn=Yp(jn,_e)),_e.h)break;if(At-L<jn||W-At<jt)break e;for(En=0;En<jt;++En)T[At+En]=T[At+En-jn];for(At+=jt,le+=jt;le>=z;)le-=z,++re,null!=ne&&re<=te&&!(re%16)&&ne(v,re);if(t(At<=W),le&qe&&(Qt=xl(Ue,le,re)),null!=He)for(;ft<At;)jt=T[ft++],He.X[(506832829*jt&4294967295)>>>He.Mb]=jt}else{if(!(jt<zt))break e;for(Wt=jt-280,t(null!=He);ft<At;)jt=T[ft++],He.X[(506832829*jt&4294967295)>>>He.Mb]=jt;jt=At,t(!(Wt>>>(jn=He).Xa)),T[jt]=jn.X[Wt],Wt=!0}Wt||t(_e.h==we(_e))}if(v.Pb&&_e.h&&At<W)t(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&kt(v.s.vb,v.s.Wa);else{if(_e.h)break e;ne?.(v,re>te?te:re),v.a=0,v.$=At-L}return 1}return v.a=3,0}function Km(v){t(null!=v),v.vc=null,v.yc=null,v.Ya=null;var T=v.Wa;null!=T&&(T.X=null),v.vb=null,t(null!=v)}function If(){var v=new CV;return null==v?null:(v.a=0,v.xb=gee,jm("Predictor","VP8LPredictors"),jm("Predictor","VP8LPredictors_C"),jm("PredictorAdd","VP8LPredictorsAdd"),jm("PredictorAdd","VP8LPredictorsAdd_C"),sP=Jr,Df=Vi,rg=Ln,yw=Mu,Ym=cs,ov=Zp,wE=ro,de.VP8LMapColor32b=cM,de.VP8LMapColor8b=EV,v)}function Zm(v,T,L,z,W){var te=1,ne=[v],re=[T],le=z.m,_e=z.s,Ue=null,At=0;e:for(;;){if(L)for(;te&&_t(le,1);){var ft=ne,$e=re,zt=z,St=1,He=zt.m,qe=zt.gc[zt.ab],Qt=_t(He,2);if(zt.Oc&1<<Qt)te=0;else{switch(zt.Oc|=1<<Qt,qe.hc=Qt,qe.Ea=ft[0],qe.nc=$e[0],qe.K=[null],++zt.ab,t(4>=zt.ab),Qt){case 0:case 1:qe.b=_t(He,3)+2,St=Zm(ri(qe.Ea,qe.b),ri(qe.nc,qe.b),0,zt,qe.K),qe.K=qe.K[0];break;case 3:var Wt,jt=_t(He,8)+1,jn=16<jt?0:4<jt?1:2<jt?2:3;if(ft[0]=ri(qe.Ea,jn),qe.b=jn,Wt=St=Zm(jt,1,0,zt,qe.K)){var En,xi=jt,Mn=qe,ps=1<<(8>>Mn.b),Ps=s(ps);if(null==Ps)Wt=0;else{var Xr=Mn.K[0],Pr=Mn.w;for(Ps[0]=Mn.K[0][0],En=1;En<1*xi;++En)Ps[En]=dn(Xr[Pr+En],Ps[En-1]);for(;En<4*ps;++En)Ps[En]=0;Mn.K[0]=null,Mn.K[0]=Ps,Wt=1}}St=Wt;break;case 2:break;default:t(0)}te=St}}if(ne=ne[0],re=re[0],te&&_t(le,1)&&!(te=1<=(At=_t(le,4))&&11>=At)){z.a=3;break e}var so;if(so=te)t:{var qs,Ar,El,_h=z,Il=ne,yh=re,Ns=At,vA=L,wA=_h.m,bc=_h.s,Kc=[null],vd=1,Ff=0,$m=Nke[Ns];n:for(;;){if(vA&&_t(wA,1)){var Cc=_t(wA,3)+2,dv=ri(Il,Cc),s1=ri(yh,Cc),SE=dv*s1;if(!Zm(dv,s1,0,_h,Kc))break n;for(Kc=Kc[0],bc.xc=Cc,qs=0;qs<SE;++qs){var Sw=Kc[qs]>>8&65535;Kc[qs]=Sw,Sw>=vd&&(vd=Sw+1)}}if(wA.h)break n;for(Ar=0;5>Ar;++Ar){var La=fee[Ar];!Ar&&0<Ns&&(La+=1<<Ns),Ff<La&&(Ff=La)}var OV=a(vd*$m,oe),See=vd,Eee=a(See,Ee);if(null==Eee)var gP=null;else t(65536>=See),gP=Eee;var fM=s(Ff);if(null==gP||null==fM||null==OV){_h.a=1;break n}var mP=OV;for(qs=El=0;qs<vd;++qs){var lg=gP[qs],EE=lg.G,IE=lg.H,Iee=0,_P=1,Dee=0;for(Ar=0;5>Ar;++Ar){La=fee[Ar],EE[Ar]=mP,IE[Ar]=El,!Ar&&0<Ns&&(La+=1<<Ns);r:{var yP,LV=La,vP=_h,pM=fM,sRe=mP,oRe=El,PV=0,Ew=vP.m,aRe=_t(Ew,1);if(r(pM,0,0,LV),aRe){var lRe=_t(Ew,1)+1,cRe=_t(Ew,1),Tee=_t(Ew,0==cRe?1:8);pM[Tee]=1,2==lRe&&(pM[Tee=_t(Ew,8)]=1);var wP=1}else{var Mee=s(19),Bee=_t(Ew,4)+4;if(19<Bee){vP.a=3;var bP=0;break r}for(yP=0;yP<Bee;++yP)Mee[Lke[yP]]=_t(Ew,3);var NV=void 0,gM=void 0,Fee=vP,uRe=Mee,CP=LV,kee=pM,UV=0,Iw=Fee.m,Ree=8,Oee=a(128,oe);i:for(;ae(Oee,0,7,uRe,19);){if(_t(Iw,1)){var dRe=2+2*_t(Iw,3);if((NV=2+_t(Iw,dRe))>CP)break i}else NV=CP;for(gM=0;gM<CP&&NV--;){Ye(Iw);var Lee=Oee[0+(127&ye(Iw))];Pe(Iw,Iw.u+Lee.g);var DE=Lee.value;if(16>DE)kee[gM++]=DE,0!=DE&&(Ree=DE);else{var hRe=16==DE,Pee=DE-16,ARe=Rke[Pee],Nee=_t(Iw,kke[Pee])+ARe;if(gM+Nee>CP)break i;for(var fRe=hRe?Ree:0;0<Nee--;)kee[gM++]=fRe}}UV=1;break i}UV||(Fee.a=3),wP=UV}(wP=wP&&!Ew.h)&&(PV=ae(sRe,oRe,8,pM,LV)),wP&&0!=PV?bP=PV:(vP.a=3,bP=0)}if(0==bP)break n;if(_P&&1==Oke[Ar]&&(_P=0==mP[El].g),Iee+=mP[El].g,El+=bP,3>=Ar){var mM,HV=fM[0];for(mM=1;mM<La;++mM)fM[mM]>HV&&(HV=fM[mM]);Dee+=HV}}if(lg.nd=_P,lg.Qb=0,_P&&(lg.qb=(EE[3][IE[3]+0].value<<24|EE[1][IE[1]+0].value<<16|EE[2][IE[2]+0].value)>>>0,0==Iee&&256>EE[0][IE[0]+0].value&&(lg.Qb=1,lg.qb+=EE[0][IE[0]+0].value<<8)),lg.jc=!lg.Qb&&6>Dee,lg.jc){var xP,hv=lg;for(xP=0;xP<gh;++xP){var Dw=xP,Tw=hv.pd[Dw],SP=hv.G[0][hv.H[0]+Dw];256<=SP.value?(Tw.g=SP.g+256,Tw.value=SP.value):(Tw.g=0,Tw.value=0,Dw>>=zl(SP,8,Tw),Dw>>=zl(hv.G[1][hv.H[1]+Dw],16,Tw),Dw>>=zl(hv.G[2][hv.H[2]+Dw],0,Tw),zl(hv.G[3][hv.H[3]+Dw],24,Tw))}}}bc.vc=Kc,bc.Wb=vd,bc.Ya=gP,bc.yc=OV,so=1;break t}so=0}if(!(te=so)){z.a=3;break e}if(0<At){if(_e.ua=1<<At,!Ri(_e.Wa,At)){z.a=1,te=0;break e}}else _e.ua=0;var QV=z,Uee=ne,pRe=re,VV=QV.s,jV=VV.xc;if(QV.c=Uee,QV.i=pRe,VV.md=ri(Uee,jV),VV.wc=0==jV?-1:(1<<jV)-1,L){z.xb=qke;break e}if(null==(Ue=s(ne*re))){z.a=1,te=0;break e}te=(te=Xp(z,Ue,0,ne,re,re,null))&&!le.h;break e}return te?(null!=W?W[0]=Ue:(t(null==Ue),t(L)),z.$=0,L||Km(_e)):Km(_e),te}function $C(v,T){var L=v.c*v.i,z=L+T+16*T;return t(v.c<=T),v.V=s(z),null==v.V?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+L+T,1)}function nE(v,T){var L=v.C,z=T-L,W=v.V,te=v.Ba+v.c*L;for(t(T<=v.l.o);0<z;){var ne=16<z?16:z,re=v.l.ma,le=v.l.width,_e=le*ne,Ue=re.ca,At=re.tb+le*L,ft=v.Ta,$e=v.Ua;mA(v,ne,W,te),oee(ft,$e,Ue,At,_e),$p(re,L,L+ne,Ue,At,le),z-=ne,W+=ne*v.c,L+=ne}t(L==T),v.C=v.Ma=T}function iE(){this.ub=this.yd=this.td=this.Rb=0}function rE(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function sE(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function UL(){var v;this.Yb=(function T(L,z,W){for(var te=W[z],ne=0;ne<te&&(L.push(W.length>z+1?[]:0),!(W.length<z+1));ne++)T(L[ne],z+1,W)}(v=[],0,[3,11]),v)}function eV(){this.jb=s(3),this.Wc=l([4,8],UL),this.Xc=l([4,17],UL)}function tV(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function oE(){this.ld=this.La=this.dd=this.tc=0}function HL(){this.Na=this.la=0}function nV(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function j2(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function iV(){this.uc=this.M=this.Nb=0,this.wa=Array(new oE),this.Y=0,this.ya=Array(new j2),this.aa=0,this.l=new aE}function QL(){this.y=s(16),this.f=s(8),this.ea=s(8)}function rV(){this.cb=this.a=0,this.sc="",this.m=new fn,this.Od=new iE,this.Kc=new rE,this.ed=new tV,this.Qa=new sE,this.Ic=this.$c=this.Aa=0,this.D=new iV,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,fn),this.ia=0,this.pb=a(4,nV),this.Pa=new eV,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new QL),this.Hd=0,this.rb=Array(new HL),this.sb=0,this.wa=Array(new oE),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new j2),this.L=this.aa=0,this.gd=l([4,2],oE),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function aE(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function sV(){var v=new rV;return null!=v&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,hM||(hM=zL)),v}function al(v,T,L){return 0==v.a&&(v.a=T,v.sc=L,v.cb=0),0}function VL(v,T,L){return 3<=L&&157==v[T+0]&&1==v[T+1]&&42==v[T+2]}function jL(v,T){if(null==v)return 0;if(v.a=0,v.sc="OK",null==T)return al(v,2,"null VP8Io passed to VP8GetHeaders()");var L=T.data,z=T.w,W=T.ha;if(4>W)return al(v,7,"Truncated header.");var te=L[z+0]|L[z+1]<<8|L[z+2]<<16,ne=v.Od;if(ne.Rb=!(1&te),ne.td=te>>1&7,ne.yd=te>>4&1,ne.ub=te>>5,3<ne.td)return al(v,3,"Incorrect keyframe parameters.");if(!ne.yd)return al(v,4,"Frame not displayable.");z+=3,W-=3;var re=v.Kc;if(ne.Rb){if(7>W)return al(v,7,"cannot parse picture header");if(!VL(L,z,W))return al(v,3,"Bad code word");re.c=16383&(L[z+4]<<8|L[z+3]),re.Td=L[z+4]>>6,re.i=16383&(L[z+6]<<8|L[z+5]),re.Ud=L[z+6]>>6,z+=7,W-=7,v.za=re.c+15>>4,v.Ub=re.i+15>>4,T.width=re.c,T.height=re.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,r((te=v.Pa).jb,0,255,te.jb.length),t(null!=(te=v.Qa)),te.Cb=0,te.Bb=0,te.Fb=1,r(te.Zb,0,0,te.Zb.length),r(te.Lb,0,0,te.Lb)}if(ne.ub>W)return al(v,7,"bad partition length");ct(te=v.m,L,z,ne.ub),z+=ne.ub,W-=ne.ub,ne.Rb&&(re.Ld=mt(te),re.Kd=mt(te)),re=v.Qa;var le,_e=v.Pa;if(t(null!=te),t(null!=re),re.Cb=mt(te),re.Cb){if(re.Bb=mt(te),mt(te)){for(re.Fb=mt(te),le=0;4>le;++le)re.Zb[le]=mt(te)?Qe(te,7):0;for(le=0;4>le;++le)re.Lb[le]=mt(te)?Qe(te,6):0}if(re.Bb)for(le=0;3>le;++le)_e.jb[le]=mt(te)?Me(te,8):255}else re.Bb=0;if(te.Ka)return al(v,3,"cannot parse segment header");if((re=v.ed).zd=mt(te),re.Tb=Me(te,6),re.wb=Me(te,3),re.Pc=mt(te),re.Pc&&mt(te)){for(_e=0;4>_e;++_e)mt(te)&&(re.vd[_e]=Qe(te,6));for(_e=0;4>_e;++_e)mt(te)&&(re.od[_e]=Qe(te,6))}if(v.L=0==re.Tb?0:re.zd?1:2,te.Ka)return al(v,3,"cannot parse filter header");var Ue=W;if(W=le=z,z=le+Ue,re=Ue,v.Xb=(1<<Me(v.m,2))-1,Ue<3*(_e=v.Xb))L=7;else{for(le+=3*_e,re-=3*_e,Ue=0;Ue<_e;++Ue){var At=L[W+0]|L[W+1]<<8|L[W+2]<<16;At>re&&(At=re),ct(v.Jc[+Ue],L,le,At),le+=At,re-=At,W+=3}ct(v.Jc[+_e],L,le,re),L=le<z?0:5}if(0!=L)return al(v,L,"cannot parse partitions");for(L=Me(le=v.m,7),W=mt(le)?Qe(le,4):0,z=mt(le)?Qe(le,4):0,re=mt(le)?Qe(le,4):0,_e=mt(le)?Qe(le,4):0,le=mt(le)?Qe(le,4):0,Ue=v.Qa,At=0;4>At;++At){if(Ue.Cb){var ft=Ue.Zb[At];Ue.Fb||(ft+=L)}else{if(0<At){v.pb[At]=v.pb[0];continue}ft=L}var $e=v.pb[At];$e.Sc[0]=FV[_A(ft+W,127)],$e.Sc[1]=kV[_A(ft+0,127)],$e.Eb[0]=2*FV[_A(ft+z,127)],$e.Eb[1]=101581*kV[_A(ft+re,127)]>>16,8>$e.Eb[1]&&($e.Eb[1]=8),$e.Qc[0]=FV[_A(ft+_e,117)],$e.Qc[1]=kV[_A(ft+le,127)],$e.lc=ft+le}if(!ne.Rb)return al(v,4,"Not a key frame.");for(mt(te),ne=v.Pa,L=0;4>L;++L){for(W=0;8>W;++W)for(z=0;3>z;++z)for(re=0;11>re;++re)_e=pt(te,zke[L][W][z][re])?Me(te,8):Vke[L][W][z][re],ne.Wc[L][W].Yb[z][re]=_e;for(W=0;17>W;++W)ne.Xc[L][W]=ne.Wc[L][Gke[W]]}return v.kc=mt(te),v.kc&&(v.Bd=Me(te,8)),v.cb=1}function zL(v,T,L,z,W,te,ne){var re=T[W].Yb[L];for(L=0;16>W;++W){if(!pt(v,re[L+0]))return W;for(;!pt(v,re[L+1]);)if(re=T[++W].Yb[0],L=0,16==W)return 16;var le=T[W+1].Yb;if(pt(v,re[L+2])){var _e=v,Ue=0;if(pt(_e,(ft=re)[(At=L)+3]))if(pt(_e,ft[At+6])){for(re=0,At=2*(Ue=pt(_e,ft[At+8]))+(ft=pt(_e,ft[At+9+Ue])),Ue=0,ft=Hke[At];ft[re];++re)Ue+=Ue+pt(_e,ft[re]);Ue+=3+(8<<At)}else pt(_e,ft[At+7])?(Ue=7+2*pt(_e,165),Ue+=pt(_e,145)):Ue=5+pt(_e,159);else Ue=pt(_e,ft[At+4])?3+pt(_e,ft[At+5]):2;re=le[2]}else Ue=1,re=le[1];le=ne+Qke[W],0>(_e=v).b&&ot(_e);var At,ft=_e.b,$e=(At=_e.Ca>>1)-(_e.I>>ft)>>31;--_e.b,_e.Ca+=$e,_e.Ca|=1,_e.I-=(At+1&$e)<<ft,te[le]=((Ue^$e)-$e)*z[(0<W)+0]}return 16}function z2(v){var T=v.rb[v.sb-1];T.la=0,T.Na=0,r(v.zc,0,0,v.zc.length),v.ja=0}function eg(v,T,L,z,W){v[T+L+32*z]=-256&(W=v[T+L+32*z]+(W>>3))?0>W?0:255:W}function lE(v,T,L,z,W,te){eg(v,T,0,L,z+W),eg(v,T,1,L,z+te),eg(v,T,2,L,z-te),eg(v,T,3,L,z-W)}function ph(v){return(20091*v>>16)+v}function G2(v,T,L,z){var W,te=0,ne=s(16);for(W=0;4>W;++W){var re=v[T+0]+v[T+8],le=v[T+0]-v[T+8],_e=(35468*v[T+4]>>16)-ph(v[T+12]),Ue=ph(v[T+4])+(35468*v[T+12]>>16);ne[te+0]=re+Ue,ne[te+1]=le+_e,ne[te+2]=le-_e,ne[te+3]=re-Ue,te+=4,T++}for(W=te=0;4>W;++W)re=(v=ne[te+0]+4)+ne[te+8],le=v-ne[te+8],_e=(35468*ne[te+4]>>16)-ph(ne[te+12]),eg(L,z,0,0,re+(Ue=ph(ne[te+4])+(35468*ne[te+12]>>16))),eg(L,z,1,0,le+_e),eg(L,z,2,0,le-_e),eg(L,z,3,0,re-Ue),te++,z+=32}function GL(v,T,L,z){var W=v[T+0]+4,te=35468*v[T+4]>>16,ne=ph(v[T+4]),re=35468*v[T+1]>>16;lE(L,z,0,W+ne,v=ph(v[T+1]),re),lE(L,z,1,W+te,v,re),lE(L,z,2,W-te,v,re),lE(L,z,3,W-ne,v,re)}function aV(v,T,L,z,W){G2(v,T,L,z),W&&G2(v,T+16,L,z+4)}function qL(v,T,L,z){bE(v,T+0,L,z,1),bE(v,T+32,L,z+128,1)}function lV(v,T,L,z){var W;for(v=v[T+0]+4,W=0;4>W;++W)for(T=0;4>T;++T)eg(L,z,T,W,v)}function KL(v,T,L,z){v[T+0]&&og(v,T+0,L,z),v[T+16]&&og(v,T+16,L,z+4),v[T+32]&&og(v,T+32,L,z+128),v[T+48]&&og(v,T+48,L,z+128+4)}function cV(v,T,L,z){var W,te=s(16);for(W=0;4>W;++W){var ne=v[T+0+W]+v[T+12+W],re=v[T+4+W]+v[T+8+W],le=v[T+4+W]-v[T+8+W],_e=v[T+0+W]-v[T+12+W];te[0+W]=ne+re,te[8+W]=ne-re,te[4+W]=_e+le,te[12+W]=_e-le}for(W=0;4>W;++W)ne=(v=te[0+4*W]+3)+te[3+4*W],le=te[1+4*W]-te[2+4*W],_e=v-te[3+4*W],L[z+0]=ne+(re=te[1+4*W]+te[2+4*W])>>3,L[z+16]=_e+le>>3,L[z+32]=ne-re>>3,L[z+48]=_e-le>>3,z+=64}function q2(v,T,L){var z,W=T-32,te=yA,ne=255-v[W-1];for(z=0;z<L;++z){var re,le=te,_e=ne+v[T-1];for(re=0;re<L;++re)v[T+re]=le[_e+v[W+re]];T+=32}}function uV(v,T){q2(v,T,4)}function dV(v,T){q2(v,T,8)}function hV(v,T){q2(v,T,16)}function iv(v,T){var L;for(L=0;16>L;++L)i(v,T+32*L,v,T-32,16)}function cE(v,T){var L;for(L=16;0<L;--L)r(v,T,v[T-1],16),T+=32}function uE(v,T,L){var z;for(z=0;16>z;++z)r(T,L+32*z,v,16)}function ZL(v,T){var L,z=16;for(L=0;16>L;++L)z+=v[T-1+32*L]+v[T+L-32];uE(z>>5,v,T)}function Bu(v,T){var L,z=8;for(L=0;16>L;++L)z+=v[T-1+32*L];uE(z>>4,v,T)}function AV(v,T){var L,z=8;for(L=0;16>L;++L)z+=v[T+L-32];uE(z>>4,v,T)}function WL(v,T){uE(128,v,T)}function Yi(v,T,L){return v+2*T+L+2>>2}function fV(v,T){var L,z=T-32;for(z=new Uint8Array([Yi(v[z-1],v[z+0],v[z+1]),Yi(v[z+0],v[z+1],v[z+2]),Yi(v[z+1],v[z+2],v[z+3]),Yi(v[z+2],v[z+3],v[z+4])]),L=0;4>L;++L)i(v,T+32*L,z,0,z.length)}function pV(v,T){var L=v[T-1],z=v[T-1+32],W=v[T-1+64],te=v[T-1+96];hn(v,T+0,16843009*Yi(v[T-1-32],L,z)),hn(v,T+32,16843009*Yi(L,z,W)),hn(v,T+64,16843009*Yi(z,W,te)),hn(v,T+96,16843009*Yi(W,te,te))}function Wm(v,T){var L,z=4;for(L=0;4>L;++L)z+=v[T+L-32]+v[T-1+32*L];for(z>>=3,L=0;4>L;++L)r(v,T+32*L,z,4)}function YL(v,T){var L=v[T-1+0],z=v[T-1+32],W=v[T-1+64],te=v[T-1-32],ne=v[T+0-32],re=v[T+1-32],le=v[T+2-32],_e=v[T+3-32];v[T+0+96]=Yi(z,W,v[T-1+96]),v[T+1+96]=v[T+0+64]=Yi(L,z,W),v[T+2+96]=v[T+1+64]=v[T+0+32]=Yi(te,L,z),v[T+3+96]=v[T+2+64]=v[T+1+32]=v[T+0+0]=Yi(ne,te,L),v[T+3+64]=v[T+2+32]=v[T+1+0]=Yi(re,ne,te),v[T+3+32]=v[T+2+0]=Yi(le,re,ne),v[T+3+0]=Yi(_e,le,re)}function $L(v,T){var L=v[T+1-32],z=v[T+2-32],W=v[T+3-32],te=v[T+4-32],ne=v[T+5-32],re=v[T+6-32],le=v[T+7-32];v[T+0+0]=Yi(v[T+0-32],L,z),v[T+1+0]=v[T+0+32]=Yi(L,z,W),v[T+2+0]=v[T+1+32]=v[T+0+64]=Yi(z,W,te),v[T+3+0]=v[T+2+32]=v[T+1+64]=v[T+0+96]=Yi(W,te,ne),v[T+3+32]=v[T+2+64]=v[T+1+96]=Yi(te,ne,re),v[T+3+64]=v[T+2+96]=Yi(ne,re,le),v[T+3+96]=Yi(re,le,le)}function dE(v,T){var L=v[T-1+0],z=v[T-1+32],W=v[T-1+64],te=v[T-1-32],ne=v[T+0-32],re=v[T+1-32],le=v[T+2-32],_e=v[T+3-32];v[T+0+0]=v[T+1+64]=te+ne+1>>1,v[T+1+0]=v[T+2+64]=ne+re+1>>1,v[T+2+0]=v[T+3+64]=re+le+1>>1,v[T+3+0]=le+_e+1>>1,v[T+0+96]=Yi(W,z,L),v[T+0+64]=Yi(z,L,te),v[T+0+32]=v[T+1+96]=Yi(L,te,ne),v[T+1+32]=v[T+2+96]=Yi(te,ne,re),v[T+2+32]=v[T+3+96]=Yi(ne,re,le),v[T+3+32]=Yi(re,le,_e)}function K2(v,T){var L=v[T+0-32],z=v[T+1-32],W=v[T+2-32],te=v[T+3-32],ne=v[T+4-32],re=v[T+5-32],le=v[T+6-32],_e=v[T+7-32];v[T+0+0]=L+z+1>>1,v[T+1+0]=v[T+0+64]=z+W+1>>1,v[T+2+0]=v[T+1+64]=W+te+1>>1,v[T+3+0]=v[T+2+64]=te+ne+1>>1,v[T+0+32]=Yi(L,z,W),v[T+1+32]=v[T+0+96]=Yi(z,W,te),v[T+2+32]=v[T+1+96]=Yi(W,te,ne),v[T+3+32]=v[T+2+96]=Yi(te,ne,re),v[T+3+64]=Yi(ne,re,le),v[T+3+96]=Yi(re,le,_e)}function gV(v,T){var L=v[T-1+0],z=v[T-1+32],W=v[T-1+64],te=v[T-1+96];v[T+0+0]=L+z+1>>1,v[T+2+0]=v[T+0+32]=z+W+1>>1,v[T+2+32]=v[T+0+64]=W+te+1>>1,v[T+1+0]=Yi(L,z,W),v[T+3+0]=v[T+1+32]=Yi(z,W,te),v[T+3+32]=v[T+1+64]=Yi(W,te,te),v[T+3+64]=v[T+2+64]=v[T+0+96]=v[T+1+96]=v[T+2+96]=v[T+3+96]=te}function mV(v,T){var L=v[T-1+0],z=v[T-1+32],W=v[T-1+64],te=v[T-1+96],ne=v[T-1-32],re=v[T+0-32],le=v[T+1-32],_e=v[T+2-32];v[T+0+0]=v[T+2+32]=L+ne+1>>1,v[T+0+32]=v[T+2+64]=z+L+1>>1,v[T+0+64]=v[T+2+96]=W+z+1>>1,v[T+0+96]=te+W+1>>1,v[T+3+0]=Yi(re,le,_e),v[T+2+0]=Yi(ne,re,le),v[T+1+0]=v[T+3+32]=Yi(L,ne,re),v[T+1+32]=v[T+3+64]=Yi(z,L,ne),v[T+1+64]=v[T+3+96]=Yi(W,z,L),v[T+1+96]=Yi(te,W,z)}function _V(v,T){var L;for(L=0;8>L;++L)i(v,T+32*L,v,T-32,8)}function Z2(v,T){var L;for(L=0;8>L;++L)r(v,T,v[T-1],8),T+=32}function JC(v,T,L){var z;for(z=0;8>z;++z)r(T,L+32*z,v,8)}function fw(v,T){var L,z=8;for(L=0;8>L;++L)z+=v[T+L-32]+v[T-1+32*L];JC(z>>4,v,T)}function yV(v,T){var L,z=4;for(L=0;8>L;++L)z+=v[T+L-32];JC(z>>3,v,T)}function XC(v,T){var L,z=4;for(L=0;8>L;++L)z+=v[T-1+32*L];JC(z>>3,v,T)}function W2(v,T){JC(128,v,T)}function hE(v,T,L){var z=v[T-L],W=v[T+0],te=3*(W-z)+IV[1020+v[T-2*L]-v[T+L]],ne=aP[112+(te+4>>3)];v[T-L]=yA[255+z+aP[112+(te+3>>3)]],v[T+0]=yA[255+W-ne]}function JL(v,T,L,z){return Mf[255+v[T-2*L]-v[T-L]]>z||Mf[255+v[T+L]-v[T+0]]>z}function XL(v,T,L,z){return 4*Mf[255+v[T-L]-v[T+0]]+Mf[255+v[T-2*L]-v[T+L]]<=z}function eP(v,T,L,z,W){var te=v[T-3*L],ne=v[T-2*L],re=v[T-L],le=v[T+0],_e=v[T+L],Ue=v[T+2*L];return 4*Mf[255+re-le]+Mf[255+ne-_e]>z?0:Mf[255+v[T-4*L]-te]<=W&&Mf[255+te-ne]<=W&&Mf[255+ne-re]<=W&&Mf[255+v[T+3*L]-Ue]<=W&&Mf[255+Ue-_e]<=W&&Mf[255+_e-le]<=W}function tP(v,T,L,z){var W=2*z+1;for(z=0;16>z;++z)XL(v,T+z,L,W)&&hE(v,T+z,L)}function rv(v,T,L,z){var W=2*z+1;for(z=0;16>z;++z)XL(v,T+z*L,1,W)&&hE(v,T+z*L,1)}function pw(v,T,L,z){var W;for(W=3;0<W;--W)tP(v,T+=4*L,L,z)}function vV(v,T,L,z){var W;for(W=3;0<W;--W)rv(v,T+=4,L,z)}function gw(v,T,L,z,W,te,ne,re){for(te=2*te+1;0<W--;){if(eP(v,T,L,te,ne))if(JL(v,T,L,re))hE(v,T,L);else{var le=v,_e=T,Ue=L,At=le[_e-2*Ue],ft=le[_e-Ue],$e=le[_e+0],zt=le[_e+Ue],St=le[_e+2*Ue],He=27*(Qt=IV[1020+3*($e-ft)+IV[1020+At-zt]])+63>>7,qe=18*Qt+63>>7,Qt=9*Qt+63>>7;le[_e-3*Ue]=yA[255+le[_e-3*Ue]+Qt],le[_e-2*Ue]=yA[255+At+qe],le[_e-Ue]=yA[255+ft+He],le[_e+0]=yA[255+$e-He],le[_e+Ue]=yA[255+zt-qe],le[_e+2*Ue]=yA[255+St-Qt]}T+=z}}function tg(v,T,L,z,W,te,ne,re){for(te=2*te+1;0<W--;){if(eP(v,T,L,te,ne))if(JL(v,T,L,re))hE(v,T,L);else{var le=v,_e=T,Ue=L,At=le[_e-Ue],ft=le[_e+0],$e=le[_e+Ue],zt=aP[112+(4+(St=3*(ft-At))>>3)],St=aP[112+(St+3>>3)],He=zt+1>>1;le[_e-2*Ue]=yA[255+le[_e-2*Ue]+He],le[_e-Ue]=yA[255+At+St],le[_e+0]=yA[255+ft-zt],le[_e+Ue]=yA[255+$e-He]}T+=z}}function Y2(v,T,L,z,W,te){gw(v,T,L,1,16,z,W,te)}function e1(v,T,L,z,W,te){gw(v,T,1,L,16,z,W,te)}function wV(v,T,L,z,W,te){var ne;for(ne=3;0<ne;--ne)tg(v,T+=4*L,L,1,16,z,W,te)}function AE(v,T,L,z,W,te){var ne;for(ne=3;0<ne;--ne)tg(v,T+=4,1,L,16,z,W,te)}function bV(v,T,L,z,W,te,ne,re){gw(v,T,W,1,8,te,ne,re),gw(L,z,W,1,8,te,ne,re)}function $2(v,T,L,z,W,te,ne,re){gw(v,T,1,W,8,te,ne,re),gw(L,z,1,W,8,te,ne,re)}function J2(v,T,L,z,W,te,ne,re){tg(v,T+4*W,W,1,8,te,ne,re),tg(L,z+4*W,W,1,8,te,ne,re)}function nP(v,T,L,z,W,te,ne,re){tg(v,T+4,1,W,8,te,ne,re),tg(L,z+4,1,W,8,te,ne,re)}function fE(){this.ba=new Wp,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ra,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function X2(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function eM(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function iP(){this.ua=0,this.Wa=new Ie,this.vb=new Ie,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Ee,this.yc=new oe}function CV(){this.xb=this.a=0,this.l=new aE,this.ca=new Wp,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new J,this.Pb=0,this.wd=new J,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new iP,this.ab=0,this.gc=a(4,eM),this.Oc=0}function pE(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new aE,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function t1(v,T,L,z,W,te,ne){for(v=null==v?0:v[T+0],T=0;T<ne;++T)W[te+T]=v+L[z+T]&255,v=W[te+T]}function tM(v,T,L,z,W,te,ne){var re;if(null==v)t1(null,null,L,z,W,te,ne);else for(re=0;re<ne;++re)W[te+re]=v[T+re]+L[z+re]&255}function mw(v,T,L,z,W,te,ne){if(null==v)t1(null,null,L,z,W,te,ne);else{var re,le=v[T+0],_e=le,Ue=le;for(re=0;re<ne;++re)_e=Ue+(le=v[T+re])-_e,Ue=L[z+re]+(-256&_e?0>_e?0:255:_e)&255,_e=le,W[te+re]=Ue}}function nM(v,T,L,z){var W=T.width,te=T.o;if(t(null!=v&&null!=T),0>L||0>=z||L+z>te)return null;if(!v.Cc){if(null==v.ga){var ne;if(v.ga=new pE,(ne=null==v.ga)||(ne=T.width*T.o,t(0==v.Gb.length),v.Gb=s(ne),v.Uc=0,null==v.Gb?ne=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,ne=1),ne=!ne),!ne){var re=v.Fa,le=v.P,_e=v.qc,Ue=v.mb,At=v.nb,ft=le+1,$e=_e-1,zt=(ne=v.ga).l;if(t(null!=re&&null!=Ue&&null!=T),xw[0]=null,xw[1]=t1,xw[2]=tM,xw[3]=mw,ne.ca=Ue,ne.tb=At,ne.c=T.width,ne.i=T.height,t(0<ne.c&&0<ne.i),1>=_e)T=0;else if(ne.$a=re[le+0]>>0&3,ne.Z=re[le+0]>>2&3,ne.Lc=re[le+0]>>4&3,le=re[le+0]>>6&3,0>ne.$a||1<ne.$a||4<=ne.Z||1<ne.Lc||le)T=0;else if(zt.put=zm,zt.ac=qc,zt.bc=Gm,zt.ma=ne,zt.width=T.width,zt.height=T.height,zt.Da=T.Da,zt.v=T.v,zt.va=T.va,zt.j=T.j,zt.o=T.o,ne.$a)e:{t(1==ne.$a),T=If();t:for(;;){if(null==T){T=0;break e}if(t(null!=ne),ne.mc=T,T.c=ne.c,T.i=ne.i,T.l=ne.l,T.l.ma=ne,T.l.width=ne.c,T.l.height=ne.i,T.a=0,Re(T.m,re,ft,$e),!Zm(ne.c,ne.i,1,T,null)||(1==T.ab&&3==T.gc[0].hc&&nv(T.s)?(ne.ic=1,re=T.c*T.i,T.Ta=null,T.Ua=0,T.V=s(re),T.Ba=0,null==T.V?(T.a=1,T=0):T=1):(ne.ic=0,T=$C(T,ne.c)),!T))break t;T=1;break e}ne.mc=null,T=0}else T=$e>=ne.c*ne.i;ne=!T}if(ne)return null;1!=v.ga.Lc?v.Ga=0:z=te-L}t(null!=v.ga),t(L+z<=te);e:{if(T=(re=v.ga).c,te=re.l.o,0==re.$a){if(ft=v.rc,$e=v.Vc,zt=v.Fa,_e=v.mb,Ue=v.nb+L*T,t((le=v.P+1+L*T)<=v.P+v.qc),0!=re.Z)for(t(null!=xw[re.Z]),ne=0;ne<z;++ne)xw[re.Z](ft,$e,zt,le,_e,Ue,T),ft=_e,$e=Ue,Ue+=T,le+=T;else for(ne=0;ne<z;++ne)i(_e,Ue,zt,le,T),ft=_e,$e=Ue,Ue+=T,le+=T;v.rc=ft,v.Vc=$e}else{if(t(null!=re.mc),T=L+z,t(null!=(ne=re.mc)),t(T<=ne.i),ne.C>=T)T=1;else if(re.ic||nt(),re.ic){re=ne.V,ft=ne.Ba;var St=ne.i,He=(zt=1,le=ne.$/($e=ne.c),_e=ne.$%$e,Ue=ne.m,At=ne.s,ne.$),qe=$e*St,Qt=$e*T,Wt=At.wc,jt=He<Qt?xl(At,_e,le):null;t(He<=qe),t(T<=St),t(nv(At));t:for(;;){for(;!Ue.h&&He<Qt;){if(_e&Wt||(jt=xl(At,_e,le)),t(null!=jt),Ye(Ue),256>(St=fh(jt.G[0],jt.H[0],Ue)))re[ft+He]=St,++He,++_e>=$e&&(_e=0,++le<=T&&!(le%16)&&Jp(ne,le));else{if(!(280>St)){zt=0;break t}St=Yp(St-256,Ue);var jn,En=fh(jt.G[4],jt.H[4],Ue);if(Ye(Ue),!(He>=(En=qm($e,En=Yp(En,Ue)))&&qe-He>=St)){zt=0;break t}for(jn=0;jn<St;++jn)re[ft+He+jn]=re[ft+He+jn-En];for(He+=St,_e+=St;_e>=$e;)_e-=$e,++le<=T&&!(le%16)&&Jp(ne,le);He<Qt&&_e&Wt&&(jt=xl(At,_e,le))}t(Ue.h==we(Ue))}Jp(ne,le>T?T:le);break t}!zt||Ue.h&&He<qe?(zt=0,ne.a=Ue.h?5:3):ne.$=He,T=zt}else T=Xp(ne,ne.V,ne.Ba,ne.c,ne.i,T,nE);if(!T){z=0;break e}}L+z>=te&&(v.Cc=1),z=1}if(!z)return null;if(v.Cc&&(null!=(z=v.ga)&&(z.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+L*W}function k(v,T,L,z,W,te){for(;0<W--;){var ne,re=v,le=T+(L?1:0),_e=v,Ue=T+(L?0:3);for(ne=0;ne<z;++ne){var At=_e[Ue+4*ne];255!=At&&(re[le+4*ne+0]=re[le+4*ne+0]*(At*=32897)>>23,re[le+4*ne+1]=re[le+4*ne+1]*At>>23,re[le+4*ne+2]=re[le+4*ne+2]*At>>23)}T+=te}}function Y(v,T,L,z,W){for(;0<z--;){var te;for(te=0;te<L;++te){var ne=v[T+2*te+0],re=15&(_e=v[T+2*te+1]),le=4369*re,_e=(240&_e|_e>>4)*le>>16;v[T+2*te+0]=(240&ne|ne>>4)*le>>16&240|(15&ne|ne<<4)*le>>16>>4&15,v[T+2*te+1]=240&_e|re}T+=W}}function be(v,T,L,z,W,te,ne,re){var le,_e,Ue=255;for(_e=0;_e<W;++_e){for(le=0;le<z;++le){var At=v[T+le];te[ne+4*le]=At,Ue&=At}T+=L,ne+=re}return 255!=Ue}function Oe(v,T,L,z,W){var te;for(te=0;te<W;++te)L[z+te]=v[T+te]>>8}function nt(){bw=k,xE=Y,oP=be,oee=Oe}function Bt(v,T,L){de[v]=function(z,W,te,ne,re,le,_e,Ue,At,ft,$e,zt,St,He,qe,Qt,Wt){var jt,jn=Wt-1>>1,En=re[le+0]|_e[Ue+0]<<16,xi=At[ft+0]|$e[zt+0]<<16;t(null!=z);var Mn=3*En+xi+131074>>2;for(T(z[W+0],255&Mn,Mn>>16,St,He),null!=te&&T(te[ne+0],255&(Mn=3*xi+En+131074>>2),Mn>>16,qe,Qt),jt=1;jt<=jn;++jt){var ps=re[le+jt]|_e[Ue+jt]<<16,Ps=At[ft+jt]|$e[zt+jt]<<16,Xr=En+ps+xi+Ps+524296,Pr=Xr+2*(ps+xi)>>3;Mn=Pr+En>>1,En=(Xr=Xr+2*(En+Ps)>>3)+ps>>1,T(z[W+2*jt-1],255&Mn,Mn>>16,St,He+(2*jt-1)*L),T(z[W+2*jt-0],255&En,En>>16,St,He+(2*jt-0)*L),null!=te&&(En=Pr+Ps>>1,T(te[ne+2*jt-1],255&(Mn=Xr+xi>>1),Mn>>16,qe,Qt+(2*jt-1)*L),T(te[ne+2*jt+0],255&En,En>>16,qe,Qt+(2*jt+0)*L)),En=ps,xi=Ps}1&Wt||(T(z[W+Wt-1],255&(Mn=3*En+xi+131074>>2),Mn>>16,St,He+(Wt-1)*L),null!=te&&T(te[ne+Wt-1],255&(Mn=3*xi+En+131074>>2),Mn>>16,qe,Qt+(Wt-1)*L))}}function nn(){Bf[lP]=Kke,Bf[cP]=mee,Bf[hee]=Zke,Bf[uP]=_ee,Bf[dP]=yee,Bf[DV]=vee,Bf[Aee]=Wke,Bf[TV]=mee,Bf[MV]=_ee,Bf[hP]=yee,Bf[BV]=vee}function Un(v){return v&~Yke?0>v?0:255:v>>wee}function _i(v,T){return Un((19077*v>>8)+(26149*T>>8)-14234)}function lr(v,T,L){return Un((19077*v>>8)-(6419*T>>8)-(13320*L>>8)+8708)}function yr(v,T){return Un((19077*v>>8)+(33050*T>>8)-17685)}function Gr(v,T,L,z,W){z[W+0]=_i(v,L),z[W+1]=lr(v,T,L),z[W+2]=yr(v,T)}function ya(v,T,L,z,W){z[W+0]=yr(v,T),z[W+1]=lr(v,T,L),z[W+2]=_i(v,L)}function Oa(v,T,L,z,W){var te=lr(v,T,L);T=te<<3&224|yr(v,T)>>3,z[W+0]=248&_i(v,L)|te>>5,z[W+1]=T}function Sl(v,T,L,z,W){var te=240&yr(v,T)|15;z[W+0]=240&_i(v,L)|lr(v,T,L)>>4,z[W+1]=te}function Fu(v,T,L,z,W){z[W+0]=255,Gr(v,T,L,z,W+1)}function wc(v,T,L,z,W){ya(v,T,L,z,W),z[W+3]=255}function ng(v,T,L,z,W){Gr(v,T,L,z,W),z[W+3]=255}function _A(v,T){return 0>v?0:v>T?T:v}function sv(v,T,L){de[v]=function(z,W,te,ne,re,le,_e,Ue,At){for(var ft=Ue+(-2&At)*L;Ue!=ft;)T(z[W+0],te[ne+0],re[le+0],_e,Ue),T(z[W+1],te[ne+0],re[le+0],_e,Ue+L),W+=2,++ne,++le,Ue+=2*L;1&At&&T(z[W+0],te[ne+0],re[le+0],_e,Ue)}}function rP(v,T,L){return 0==L?0==v?0==T?6:5:0==T?4:0:L}function iM(v,T,L,z,W){switch(v>>>30){case 3:bE(T,L,z,W,0);break;case 2:uM(T,L,z,W);break;case 1:og(T,L,z,W)}}function rM(v,T){var L,z,W=T.M,te=T.Nb,ne=v.oc,re=v.pc+40,le=v.oc,_e=v.pc+584,Ue=v.oc,At=v.pc+600;for(L=0;16>L;++L)ne[re+32*L-1]=129;for(L=0;8>L;++L)le[_e+32*L-1]=129,Ue[At+32*L-1]=129;for(0<W?ne[re-1-32]=le[_e-1-32]=Ue[At-1-32]=129:(r(ne,re-32-1,127,21),r(le,_e-32-1,127,9),r(Ue,At-32-1,127,9)),z=0;z<v.za;++z){var ft=T.ya[T.aa+z];if(0<z){for(L=-1;16>L;++L)i(ne,re+32*L-4,ne,re+32*L+12,4);for(L=-1;8>L;++L)i(le,_e+32*L-4,le,_e+32*L+4,4),i(Ue,At+32*L-4,Ue,At+32*L+4,4)}var $e=v.Gd,zt=v.Hd+z,St=ft.ad,He=ft.Hc;if(0<W&&(i(ne,re-32,$e[zt].y,0,16),i(le,_e-32,$e[zt].f,0,8),i(Ue,At-32,$e[zt].ea,0,8)),ft.Za){var qe=ne,Qt=re-32+16;for(0<W&&(z>=v.za-1?r(qe,Qt,$e[zt].y[15],4):i(qe,Qt,$e[zt+1].y,0,4)),L=0;4>L;L++)qe[Qt+128+L]=qe[Qt+256+L]=qe[Qt+384+L]=qe[Qt+0+L];for(L=0;16>L;++L,He<<=2)ag[ft.Ob[L]](qe=ne,Qt=re+Cee[L]),iM(He,St,16*+L,qe,Qt)}else if(qe=rP(z,W,ft.Ob[0]),Cw[qe](ne,re),0!=He)for(L=0;16>L;++L,He<<=2)iM(He,St,16*+L,ne,re+Cee[L]);for(L=ft.Gc,qe=rP(z,W,ft.Dd),uv[qe](le,_e),uv[qe](Ue,At),He=St,qe=le,Qt=_e,255&(ft=L>>0)&&(170&ft?vw(He,256,qe,Qt):av(He,256,qe,Qt)),ft=Ue,He=At,255&(L>>=8)&&(170&L?vw(St,320,ft,He):av(St,320,ft,He)),W<v.Ub-1&&(i($e[zt].y,0,ne,re+480,16),i($e[zt].f,0,le,_e+224,8),i($e[zt].ea,0,Ue,At+224,8)),$e=v.sa,zt=v.ta+16*z+16*te*v.R,St=v.qa,ft=v.ra+8*z+(L=8*te*v.B),He=v.Ha,qe=v.Ia+8*z+L,L=0;16>L;++L)i($e,zt+L*v.R,ne,re+32*L,16);for(L=0;8>L;++L)i(St,ft+L*v.B,le,_e+32*L,8),i(He,qe+L*v.B,Ue,At+32*L,8)}}function gE(v,T,L,z,W,te,ne,re,le){var _e=[0],Ue=[0],At=0,ft=null!=le?le.kd:0,$e=le??new X2;if(null==v||12>L)return 7;$e.data=v,$e.w=T,$e.ha=L,T=[T],L=[L],$e.gb=[$e.gb];e:{var zt=T,St=L,He=$e.gb;if(t(null!=v),t(null!=St),t(null!=He),He[0]=0,12<=St[0]&&!e(v,zt[0],"RIFF")){if(e(v,zt[0]+8,"WEBP")){He=3;break e}var qe=Kn(v,zt[0]+4);if(12>qe||4294967286<qe){He=3;break e}if(ft&&qe>St[0]-8){He=7;break e}He[0]=qe,zt[0]+=12,St[0]-=12}He=0}if(0!=He)return He;for(qe=0<$e.gb[0],L=L[0];;){e:{var Qt=v;St=T,He=L;var Wt=_e,jt=Ue,jn=zt=[0];if((Mn=At=[At])[0]=0,8>He[0])He=7;else{if(!e(Qt,St[0],"VP8X")){if(10!=Kn(Qt,St[0]+4)){He=3;break e}if(18>He[0]){He=7;break e}var En=Kn(Qt,St[0]+8),xi=1+Nn(Qt,St[0]+12);if(2147483648<=xi*(Qt=1+Nn(Qt,St[0]+15))){He=3;break e}null!=jn&&(jn[0]=En),null!=Wt&&(Wt[0]=xi),null!=jt&&(jt[0]=Qt),St[0]+=18,He[0]-=18,Mn[0]=1}He=0}}if(At=At[0],0!=He)return He;if(St=!!(2&(zt=zt[0])),!qe&&At)return 3;if(null!=te&&(te[0]=!!(16&zt)),null!=ne&&(ne[0]=St),null!=re&&(re[0]=0),ne=_e[0],zt=Ue[0],At&&St&&null==le){He=0;break}if(4>L){He=7;break}if(qe&&At||!qe&&!At&&!e(v,T[0],"ALPH")){L=[L],$e.na=[$e.na],$e.P=[$e.P],$e.Sa=[$e.Sa];e:{He=T,qe=L;var Mn=$e.gb;Wt=$e.na,jt=$e.P,jn=$e.Sa,xi=22,t(null!=(En=v)),t(null!=qe),Qt=He[0];var ps=qe[0];for(t(null!=Wt),t(null!=jn),Wt[0]=null,jt[0]=null,jn[0]=0;;){if(He[0]=Qt,qe[0]=ps,8>ps){He=7;break e}var Ps=Kn(En,Qt+4);if(4294967286<Ps){He=3;break e}var Xr=8+Ps+1&-2;if(xi+=Xr,0<Mn&&xi>Mn){He=3;break e}if(!e(En,Qt,"VP8 ")||!e(En,Qt,"VP8L")){He=0;break e}if(ps[0]<Xr){He=7;break e}e(En,Qt,"ALPH")||(Wt[0]=En,jt[0]=Qt+8,jn[0]=Ps),Qt+=Xr,ps-=Xr}}if(L=L[0],$e.na=$e.na[0],$e.P=$e.P[0],$e.Sa=$e.Sa[0],0!=He)break}L=[L],$e.Ja=[$e.Ja],$e.xa=[$e.xa];e:if(Mn=v,He=T,qe=L,Wt=$e.gb[0],jt=$e.Ja,jn=$e.xa,En=He[0],Qt=!e(Mn,En,"VP8 "),xi=!e(Mn,En,"VP8L"),t(null!=Mn),t(null!=qe),t(null!=jt),t(null!=jn),8>qe[0])He=7;else{if(Qt||xi){if(Mn=Kn(Mn,En+4),12<=Wt&&Mn>Wt-12){He=3;break e}if(ft&&Mn>qe[0]-8){He=7;break e}jt[0]=Mn,He[0]+=8,qe[0]-=8,jn[0]=xi}else jn[0]=5<=qe[0]&&47==Mn[En+0]&&!(Mn[En+4]>>5),jt[0]=qe[0];He=0}if(L=L[0],$e.Ja=$e.Ja[0],$e.xa=$e.xa[0],T=T[0],0!=He)break;if(4294967286<$e.Ja)return 3;if(null==re||St||(re[0]=$e.xa?2:1),ne=[ne],zt=[zt],$e.xa){if(5>L){He=7;break}re=ne,ft=zt,St=te,null==v||5>L?v=0:5<=L&&47==v[T+0]&&!(v[T+4]>>5)?(qe=[0],Mn=[0],Wt=[0],Re(jt=new J,v,T,L),Mi(jt,qe,Mn,Wt)?(null!=re&&(re[0]=qe[0]),null!=ft&&(ft[0]=Mn[0]),null!=St&&(St[0]=Wt[0]),v=1):v=0):v=0}else{if(10>L){He=7;break}re=zt,null==v||10>L||!VL(v,T+3,L-3)?v=0:(ft=v[T+0]|v[T+1]<<8|v[T+2]<<16,St=16383&(v[T+7]<<8|v[T+6]),v=16383&(v[T+9]<<8|v[T+8]),1&ft||3<(ft>>1&7)||!(ft>>4&1)||ft>>5>=$e.Ja||!St||!v?v=0:(ne&&(ne[0]=St),re&&(re[0]=v),v=1))}if(!v||(ne=ne[0],zt=zt[0],At&&(_e[0]!=ne||Ue[0]!=zt)))return 3;null!=le&&(le[0]=$e,le.offset=T-le.w,t(4294967286>T-le.w),t(le.offset==le.ha-L));break}return 0==He||7==He&&At&&null==le?(null!=te&&(te[0]|=null!=$e.na&&0<$e.na.length),null!=z&&(z[0]=ne),null!=W&&(W[0]=zt),0):He}function sM(v,T,L){var z=T.width,W=T.height,te=0,ne=0,re=z,le=W;if(T.Da=null!=v&&0<v.Da,T.Da&&(re=v.cd,le=v.bd,te=v.v,ne=v.j,11>L||(te&=-2,ne&=-2),0>te||0>ne||0>=re||0>=le||te+re>z||ne+le>W))return 0;if(T.v=te,T.j=ne,T.va=te+re,T.o=ne+le,T.U=re,T.T=le,T.da=null!=v&&0<v.da,T.da){if(!ar(re,le,L=[v.ib],te=[v.hb]))return 0;T.ib=L[0],T.hb=te[0]}return T.ob=null!=v&&v.ob,T.Kb=null==v||!v.Sd,T.da&&(T.ob=T.ib<3*z/4&&T.hb<3*W/4,T.Kb=0),1}function oM(v){if(null==v)return 2;if(11>v.S){var T=v.f.RGBA;T.fb+=(v.height-1)*T.A,T.A=-T.A}else(T=v.f.kb).O+=((v=v.height)-1)*T.fa,T.fa=-T.fa,T.N+=(v-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(v-1>>1)*T.Db,T.Db=-T.Db,null!=T.F&&(T.J+=(v-1)*T.lb,T.lb=-T.lb);return 0}function mE(v,T,L,z){if(null==z||0>=v||0>=T)return 2;if(null!=L){if(L.Da){var W=L.cd,te=L.bd,ne=-2&L.v,re=-2&L.j;if(0>ne||0>re||0>=W||0>=te||ne+W>v||re+te>T)return 2;v=W,T=te}if(L.da){if(!ar(v,T,W=[L.ib],te=[L.hb]))return 2;v=W[0],T=te[0]}}z.width=v,z.height=T;e:{var le=z.width,_e=z.height;if(v=z.S,0>=le||0>=_e||!(v>=lP&&13>v))v=2;else{if(0>=z.Rd&&null==z.sd){ne=te=W=T=0;var Ue=(re=le*xee[v])*_e;if(11>v||(te=(_e+1)/2*(T=(le+1)/2),12==v&&(ne=(W=le)*_e)),null==(_e=s(Ue+2*te+ne))){v=1;break e}z.sd=_e,11>v?((le=z.f.RGBA).eb=_e,le.fb=0,le.A=re,le.size=Ue):((le=z.f.kb).y=_e,le.O=0,le.fa=re,le.Fd=Ue,le.f=_e,le.N=0+Ue,le.Ab=T,le.Cd=te,le.ea=_e,le.W=0+Ue+te,le.Db=T,le.Ed=te,12==v&&(le.F=_e,le.J=0+Ue+2*te),le.Tc=ne,le.lb=W)}if(T=1,te=z.width,ne=z.height,(W=z.S)>=lP&&13>W)if(11>W)v=z.f.RGBA,T&=(re=Math.abs(v.A))*(ne-1)+te<=v.size,T&=re>=te*xee[W],T&=null!=v.eb;else{v=z.f.kb,re=(te+1)/2,Ue=(ne+1)/2,le=Math.abs(v.fa),_e=Math.abs(v.Ab);var At=Math.abs(v.Db),ft=Math.abs(v.lb);T&=le*(ne-1)+te<=v.Fd,T&=_e*(Ue-1)+re<=v.Cd,T=(T&=At*(Ue-1)+re<=v.Ed)&le>=te&_e>=re&At>=re,T&=null!=v.y,T&=null!=v.f,T&=null!=v.ea,12==W&&(T&=ft>=te,T&=ft*(ne-1)+te<=v.Tc,T&=null!=v.F)}else T=0;v=T?0:2}}return 0!=v||null!=L&&L.fd&&(v=oM(z)),v}var gh=64,_E=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],yE=24,vE=32,aM=8,mh=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Sn("Predictor0","PredictorAdd0"),de.Predictor0=function(){return 4278190080},de.Predictor1=function(v){return v},de.Predictor2=function(v,T,L){return T[L+0]},de.Predictor3=function(v,T,L){return T[L+1]},de.Predictor4=function(v,T,L){return T[L-1]},de.Predictor5=function(v,T,L){return Bn(Bn(v,T[L+1]),T[L+0])},de.Predictor6=function(v,T,L){return Bn(v,T[L-1])},de.Predictor7=function(v,T,L){return Bn(v,T[L+0])},de.Predictor8=function(v,T,L){return Bn(T[L-1],T[L+0])},de.Predictor9=function(v,T,L){return Bn(T[L+0],T[L+1])},de.Predictor10=function(v,T,L){return Bn(Bn(v,T[L-1]),Bn(T[L+0],T[L+1]))},de.Predictor11=function(v,T,L){var z=T[L+0];return 0>=mr(z>>24&255,v>>24&255,(T=T[L-1])>>24&255)+mr(z>>16&255,v>>16&255,T>>16&255)+mr(z>>8&255,v>>8&255,T>>8&255)+mr(255&z,255&v,255&T)?z:v},de.Predictor12=function(v,T,L){var z=T[L+0];return(pi((v>>24&255)+(z>>24&255)-((T=T[L-1])>>24&255))<<24|pi((v>>16&255)+(z>>16&255)-(T>>16&255))<<16|pi((v>>8&255)+(z>>8&255)-(T>>8&255))<<8|pi((255&v)+(255&z)-(255&T)))>>>0},de.Predictor13=function(v,T,L){var z=T[L-1];return(tr((v=Bn(v,T[L+0]))>>24&255,z>>24&255)<<24|tr(v>>16&255,z>>16&255)<<16|tr(v>>8&255,z>>8&255)<<8|tr(v>>0&255,z>>0&255))>>>0};var xV=de.PredictorAdd0;de.PredictorAdd1=xr,Sn("Predictor2","PredictorAdd2"),Sn("Predictor3","PredictorAdd3"),Sn("Predictor4","PredictorAdd4"),Sn("Predictor5","PredictorAdd5"),Sn("Predictor6","PredictorAdd6"),Sn("Predictor7","PredictorAdd7"),Sn("Predictor8","PredictorAdd8"),Sn("Predictor9","PredictorAdd9"),Sn("Predictor10","PredictorAdd10"),Sn("Predictor11","PredictorAdd11"),Sn("Predictor12","PredictorAdd12"),Sn("Predictor13","PredictorAdd13");var lM=de.PredictorAdd2;Tr("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),Tr("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var sP,ig=de.ColorIndexInverseTransform,cM=de.MapARGB,SV=de.VP8LColorIndexInverseTransformAlpha,EV=de.MapAlpha,_w=de.VP8LPredictorsAdd=[];_w.length=16,(de.VP8LPredictors=[]).length=16,(de.VP8LPredictorsAdd_C=[]).length=16,(de.VP8LPredictors_C=[]).length=16;var Df,rg,yw,Ym,ov,wE,sg,bE,uM,vw,og,av,n1,CE,r1,ww,dM,Tf,lv,bo,Co,ll,Gl,cv,bw,xE,oP,oee,aee=s(511),lee=s(2041),cee=s(225),uee=s(767),dee=0,IV=lee,aP=cee,yA=uee,Mf=aee,lP=0,cP=1,hee=2,uP=3,dP=4,DV=5,Aee=6,TV=7,MV=8,hP=9,BV=10,kke=[2,3,7],Rke=[3,3,11],fee=[280,256,256,256,40],Oke=[0,1,1,1,0],Lke=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Pke=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Nke=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Uke=8,FV=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],kV=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],hM=null,Hke=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Qke=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],pee=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Vke=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],jke=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],zke=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Gke=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Cw=[],ag=[],uv=[],qke=1,gee=2,xw=[],Bf=[];Bt("UpsampleRgbLinePair",Gr,3),Bt("UpsampleBgrLinePair",ya,3),Bt("UpsampleRgbaLinePair",ng,4),Bt("UpsampleBgraLinePair",wc,4),Bt("UpsampleArgbLinePair",Fu,4),Bt("UpsampleRgba4444LinePair",Sl,2),Bt("UpsampleRgb565LinePair",Oa,2);var Kke=de.UpsampleRgbLinePair,Zke=de.UpsampleBgrLinePair,mee=de.UpsampleRgbaLinePair,_ee=de.UpsampleBgraLinePair,yee=de.UpsampleArgbLinePair,vee=de.UpsampleRgba4444LinePair,Wke=de.UpsampleRgb565LinePair,AP=16,fP=1<<AP-1,AM=-227,RV=482,wee=6,Yke=(256<<wee)-1,bee=0,$ke=s(256),Jke=s(256),Xke=s(256),eRe=s(256),tRe=s(RV-AM),nRe=s(RV-AM);sv("YuvToRgbRow",Gr,3),sv("YuvToBgrRow",ya,3),sv("YuvToRgbaRow",ng,4),sv("YuvToBgraRow",wc,4),sv("YuvToArgbRow",Fu,4),sv("YuvToRgba4444Row",Sl,2),sv("YuvToRgb565Row",Oa,2);var Cee=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],pP=[0,2,8],iRe=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(v,T,L,z,W){var te=cP,ne=new fE,re=new Wp;ne.ba=re,re.S=te,re.width=[re.width],re.height=[re.height];var le=re.width,_e=re.height,Ue=new tv;if(null==Ue||null==v)var At=2;else t(null!=Ue),At=gE(v,T,L,Ue.width,Ue.height,Ue.Pd,Ue.Qd,Ue.format,null);if(0!=At?le=0:(null!=le&&(le[0]=Ue.width[0]),null!=_e&&(_e[0]=Ue.height[0]),le=1),le){re.width=re.width[0],re.height=re.height[0],null!=z&&(z[0]=re.width),null!=W&&(W[0]=re.height);e:{if(z=new aE,(W=new X2).data=v,W.w=T,W.ha=L,W.kd=1,T=[0],t(null!=W),(0==(v=gE(W.data,W.w,W.ha,null,null,null,T,null,W))||7==v)&&T[0]&&(v=4),0==(T=v)){if(t(null!=ne),z.data=W.data,z.w=W.w+W.offset,z.ha=W.ha-W.offset,z.put=zm,z.ac=qc,z.bc=Gm,z.ma=ne,W.xa){if(null==(v=If())){ne=1;break e}if(function(ft,$e){var zt=[0],St=[0],He=[0];t:for(;;){if(null==ft)return 0;if(null==$e)return ft.a=2,0;if(ft.l=$e,ft.a=0,Re(ft.m,$e.data,$e.w,$e.ha),!Mi(ft.m,zt,St,He)){ft.a=3;break t}if(ft.xb=gee,$e.width=zt[0],$e.height=St[0],!Zm(zt[0],St[0],1,ft,null))break t;return 1}return t(0!=ft.a),0}(v,z)){if(z=0==(T=mE(z.width,z.height,ne.Oa,ne.ba))){t:{z=v;n:for(;;){if(null==z){z=0;break t}if(t(null!=z.s.yc),t(null!=z.s.Ya),t(0<z.s.Wb),t(null!=(L=z.l)),t(null!=(W=L.ma)),0!=z.xb){if(z.ca=W.ba,z.tb=W.tb,t(null!=z.ca),!sM(W.Oa,L,uP)){z.a=2;break n}if(!$C(z,L.width)||L.da)break n;if((L.da||bs(z.ca.S))&&nt(),11>z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=z.ca.f.kb.F&&nt()),z.Pb&&0<z.s.ua&&null==z.s.vb.X&&!Ri(z.s.vb,z.s.Wa.Xa)){z.a=1;break n}z.xb=0}if(!Xp(z,z.V,z.Ba,z.c,z.i,L.o,tE))break n;W.Dc=z.Ma,z=1;break t}t(0!=z.a),z=0}z=!z}z&&(T=v.a)}else T=v.a}else{if(null==(v=new sV)){ne=1;break e}if(v.Fa=W.na,v.P=W.P,v.qc=W.Sa,jL(v,z)){if(0==(T=mE(z.width,z.height,ne.Oa,ne.ba))){if(v.Aa=0,L=ne.Oa,t(null!=(W=v)),null!=L){if(0<(le=0>(le=L.Md)?0:100<le?255:255*le/100)){for(_e=Ue=0;4>_e;++_e)12>(At=W.pb[_e]).lc&&(At.ia=le*iRe[0>At.lc?0:At.lc]>>3),Ue|=At.ia;Ue&&(alert("todo:VP8InitRandom"),W.ia=1)}W.Ga=L.Id,100<W.Ga?W.Ga=100:0>W.Ga&&(W.Ga=0)}(function oV(v,T){if(null==v)return 0;if(null==T)return al(v,2,"NULL VP8Io parameter in VP8Decode().");if(!v.cb&&!jL(v,T))return 0;if(t(v.cb),null==T.ac||T.ac(T)){T.ob&&(v.L=0);var L=pP[v.L];if(2==v.L?(v.yb=0,v.zb=0):(v.yb=T.v-L>>4,v.zb=T.j-L>>4,0>v.yb&&(v.yb=0),0>v.zb&&(v.zb=0)),v.Va=T.o+15+L>>4,v.Hb=T.va+15+L>>4,v.Hb>v.za&&(v.Hb=v.za),v.Va>v.Ub&&(v.Va=v.Ub),0<v.L){var z=v.ed;for(L=0;4>L;++L){var W;if(v.Qa.Cb){var te=v.Qa.Lb[L];v.Qa.Fb||(te+=z.Tb)}else te=z.Tb;for(W=0;1>=W;++W){var ne=v.gd[L][W],re=te;if(z.Pc&&(re+=z.vd[0],W&&(re+=z.od[0])),0<(re=0>re?0:63<re?63:re)){var le=re;0<z.wb&&(le=4<z.wb?le>>2:le>>1)>9-z.wb&&(le=9-z.wb),1>le&&(le=1),ne.dd=le,ne.tc=2*re+le,ne.ld=40<=re?2:15<=re?1:0}else ne.tc=0;ne.La=W}}}L=0}else al(v,6,"Frame setup failed"),L=v.a;if(L=0==L){if(L){v.$c=0,0<v.Aa||(v.Ic=1);e:{z=4*(le=v.za);var _e=32*le,Ue=le+1,At=0<v.L?le*(0<v.Aa?2:1):0,ft=(2==v.Aa?2:1)*le;if((ne=z+832+(W=3*(16*(L=v.Ic)+pP[v.L])/2*_e)+(te=null!=v.Fa&&0<v.Fa.length?v.Kc.c*v.Kc.i:0))!=ne)L=0;else{if(ne>v.Vb){if(v.Vb=0,v.Ec=s(ne),v.Fc=0,null==v.Ec){L=al(v,1,"no memory during frame initialization.");break e}v.Vb=ne}re=v.Fc,v.Ac=ne=v.Ec,v.Bc=re,re+=z,v.Gd=a(_e,QL),v.Hd=0,v.rb=a(Ue+1,HL),v.sb=1,v.wa=At?a(At,oE):null,v.Y=0,v.D.Nb=0,v.D.wa=v.wa,v.D.Y=v.Y,0<v.Aa&&(v.D.Y+=le),t(!0),v.oc=ne,v.pc=re,re+=832,v.ya=a(ft,j2),v.aa=0,v.D.ya=v.ya,v.D.aa=v.aa,2==v.Aa&&(v.D.aa+=le),v.R=16*le,v.B=8*le,le=(_e=pP[v.L])*v.R,_e=_e/2*v.B,v.sa=ne,v.ta=re+le,v.qa=v.sa,v.ra=v.ta+16*L*v.R+_e,v.Ha=v.qa,v.Ia=v.ra+8*L*v.B+_e,v.$c=0,re+=W,v.mb=te?ne:null,v.nb=te?re:null,t(re+te<=v.Fc+v.Vb),z2(v),r(v.Ac,v.Bc,0,z),L=1}}if(L){if(T.ka=0,T.y=v.sa,T.O=v.ta,T.f=v.qa,T.N=v.ra,T.ea=v.Ha,T.Vd=v.Ia,T.fa=v.R,T.Rc=v.B,T.F=null,T.J=0,!dee){for(L=-255;255>=L;++L)aee[255+L]=0>L?-L:L;for(L=-1020;1020>=L;++L)lee[1020+L]=-128>L?-128:127<L?127:L;for(L=-112;112>=L;++L)cee[112+L]=-16>L?-16:15<L?15:L;for(L=-255;510>=L;++L)uee[255+L]=0>L?0:255<L?255:L;dee=1}sg=cV,bE=aV,vw=qL,og=lV,av=KL,uM=GL,n1=Y2,CE=e1,r1=bV,ww=$2,dM=wV,Tf=AE,lv=J2,bo=nP,Co=tP,ll=rv,Gl=pw,cv=vV,ag[0]=Wm,ag[1]=uV,ag[2]=fV,ag[3]=pV,ag[4]=YL,ag[5]=dE,ag[6]=$L,ag[7]=K2,ag[8]=mV,ag[9]=gV,Cw[0]=ZL,Cw[1]=hV,Cw[2]=iv,Cw[3]=cE,Cw[4]=Bu,Cw[5]=AV,Cw[6]=WL,uv[0]=fw,uv[1]=dV,uv[2]=_V,uv[3]=Z2,uv[4]=XC,uv[5]=yV,uv[6]=W2,L=1}else L=0}L&&(L=function($e,zt){for($e.M=0;$e.M<$e.Va;++$e.M){var St,He=$e.Jc[$e.M&$e.Xb],qe=$e.m,Qt=$e;for(St=0;St<Qt.za;++St){var Wt=qe,jt=Qt,jn=jt.Ac,En=jt.Bc+4*St,xi=jt.zc,Mn=jt.ya[jt.aa+St];if(Mn.$b=jt.Qa.Bb?pt(Wt,jt.Pa.jb[0])?2+pt(Wt,jt.Pa.jb[2]):pt(Wt,jt.Pa.jb[1]):0,jt.kc&&(Mn.Ad=pt(Wt,jt.Bd)),Mn.Za=!pt(Wt,145)+0,Mn.Za){var ps=Mn.Ob,Ps=0;for(jt=0;4>jt;++jt){var Xr,Pr=xi[0+jt];for(Xr=0;4>Xr;++Xr){for(var so=pee[pt(Wt,(Pr=jke[jn[En+Xr]][Pr])[0])];0<so;)so=pee[2*so+pt(Wt,Pr[so])];jn[En+Xr]=Pr=-so}i(ps,Ps,jn,En,4),Ps+=4,xi[0+jt]=Pr}}else Pr=pt(Wt,156)?pt(Wt,128)?1:3:pt(Wt,163)?2:0,Mn.Ob[0]=Pr,r(jn,En,Pr,4),r(xi,0,Pr,4);Mn.Dd=pt(Wt,142)?pt(Wt,114)?pt(Wt,183)?1:3:2:0}if(Qt.m.Ka)return al($e,7,"Premature end-of-partition0 encountered.");for(;$e.ja<$e.za;++$e.ja){if(Qt=He,Wt=(qe=$e).rb[qe.sb-1],jn=qe.rb[qe.sb+qe.ja],St=qe.ya[qe.aa+qe.ja],En=qe.kc?St.Ad:0)Wt.la=jn.la=0,St.Za||(Wt.Na=jn.Na=0),St.Hc=0,St.Gc=0,St.ia=0;else{var qs,Ar;if(Wt=jn,jn=Qt,En=qe.Pa.Xc,Mn=qe.pb[(xi=qe.ya[qe.aa+qe.ja]).$b],Ps=qe.rb[qe.sb-1],Pr=Xr=0,r(jt=xi.ad,ps=0,0,384),xi.Za)var El=0,_h=En[3];else{so=s(16);var Il=Wt.Na+Ps.Na;if(Il=hM(jn,En[1],Il,Mn.Eb,0,so,0),Wt.Na=Ps.Na=(0<Il)+0,1<Il)sg(so,0,jt,ps);else{var yh=so[0]+3>>3;for(so=0;256>so;so+=16)jt[ps+so]=yh}El=1,_h=En[0]}var Ns=15&Wt.la,vA=15&Ps.la;for(so=0;4>so;++so){var wA=1&vA;for(yh=Ar=0;4>yh;++yh)Ns=Ns>>1|(wA=(Il=hM(jn,_h,Il=wA+(1&Ns),Mn.Sc,El,jt,ps))>El)<<7,Ar=Ar<<2|(3<Il?3:1<Il?2:0!=jt[ps+0]),ps+=16;Ns>>=4,vA=vA>>1|wA<<7,Xr=(Xr<<8|Ar)>>>0}for(_h=Ns,El=vA>>4,qs=0;4>qs;qs+=2){for(Ar=0,Ns=Wt.la>>4+qs,vA=Ps.la>>4+qs,so=0;2>so;++so){for(wA=1&vA,yh=0;2>yh;++yh)Ns=Ns>>1|(wA=0<(Il=hM(jn,En[2],Il=wA+(1&Ns),Mn.Qc,0,jt,ps)))<<3,Ar=Ar<<2|(3<Il?3:1<Il?2:0!=jt[ps+0]),ps+=16;Ns>>=2,vA=vA>>1|wA<<5}Pr|=Ar<<4*qs,_h|=Ns<<4<<qs,El|=(240&vA)<<qs}Wt.la=_h,Ps.la=El,xi.Hc=Xr,xi.Gc=Pr,xi.ia=43690&Pr?0:Mn.ia,En=!(Xr|Pr)}if(0<qe.L&&(qe.wa[qe.Y+qe.ja]=qe.gd[St.$b][St.Za],qe.wa[qe.Y+qe.ja].La|=!En),Qt.Ka)return al($e,7,"Premature end-of-file encountered.")}if(z2($e),qe=zt,Qt=1,St=(He=$e).D,Wt=0<He.L&&He.M>=He.zb&&He.M<=He.Va,0==He.Aa)e:{if(St.M=He.M,St.uc=Wt,rM(He,St),Qt=1,St=(Ar=He.D).Nb,Wt=(Pr=pP[He.L])*He.R,En=He.sa,xi=He.ta-Wt+(so=16*St*He.R),Mn=He.qa,jt=He.ra-(jn=Pr/2*He.B)+(yh=8*St*He.B),ps=He.Ha,Ps=He.Ia-jn+yh,vA=0==(Ns=Ar.M),Xr=Ns>=He.Va-1,2==He.Aa&&rM(He,Ar),Ar.uc)for(wA=(Il=He).D.M,t(Il.D.uc),Ar=Il.yb;Ar<Il.Hb;++Ar){_h=wA;var bc=(Kc=(La=Il).D).Nb,Kc=Kc.wa[Kc.Y+(El=Ar)],vd=La.sa,Ff=La.ta+16*bc*(qs=La.R)+16*El,$m=Kc.dd,Cc=Kc.tc;if(0!=Cc)if(t(3<=Cc),1==La.L)0<El&&ll(vd,Ff,qs,Cc+4),Kc.La&&cv(vd,Ff,qs,Cc),0<_h&&Co(vd,Ff,qs,Cc+4),Kc.La&&Gl(vd,Ff,qs,Cc);else{var dv=La.B,s1=La.qa,SE=La.ra+8*bc*dv+8*El,Sw=La.Ha,La=La.Ia+8*bc*dv+8*El;bc=Kc.ld,0<El&&(CE(vd,Ff,qs,Cc+4,$m,bc),ww(s1,SE,Sw,La,dv,Cc+4,$m,bc)),Kc.La&&(Tf(vd,Ff,qs,Cc,$m,bc),bo(s1,SE,Sw,La,dv,Cc,$m,bc)),0<_h&&(n1(vd,Ff,qs,Cc+4,$m,bc),r1(s1,SE,Sw,La,dv,Cc+4,$m,bc)),Kc.La&&(dM(vd,Ff,qs,Cc,$m,bc),lv(s1,SE,Sw,La,dv,Cc,$m,bc))}}if(He.ia&&alert("todo:DitherRow"),null!=qe.put){if(Ar=16*Ns,Ns=16*(Ns+1),vA?(qe.y=He.sa,qe.O=He.ta+so,qe.f=He.qa,qe.N=He.ra+yh,qe.ea=He.Ha,qe.W=He.Ia+yh):(Ar-=Pr,qe.y=En,qe.O=xi,qe.f=Mn,qe.N=jt,qe.ea=ps,qe.W=Ps),Xr||(Ns-=Pr),Ns>qe.o&&(Ns=qe.o),qe.F=null,qe.J=null,null!=He.Fa&&0<He.Fa.length&&Ar<Ns&&(qe.J=nM(He,qe,Ar,Ns-Ar),qe.F=He.mb,null==qe.F&&0==qe.F.length)){Qt=al(He,3,"Could not decode alpha data.");break e}Ar<qe.j&&(Pr=qe.j-Ar,Ar=qe.j,t(!(1&Pr)),qe.O+=He.R*Pr,qe.N+=He.B*(Pr>>1),qe.W+=He.B*(Pr>>1),null!=qe.F&&(qe.J+=qe.width*Pr)),Ar<Ns&&(qe.O+=qe.v,qe.N+=qe.v>>1,qe.W+=qe.v>>1,null!=qe.F&&(qe.J+=qe.v),qe.ka=Ar-qe.j,qe.U=qe.va-qe.v,qe.T=Ns-Ar,Qt=qe.put(qe))}St+1!=He.Ic||Xr||(i(He.sa,He.ta-Wt,En,xi+16*He.R,Wt),i(He.qa,He.ra-jn,Mn,jt+8*He.B,jn),i(He.Ha,He.Ia-jn,ps,Ps+8*He.B,jn))}if(!Qt)return al($e,6,"Output aborted.")}return 1}(v,T)),null!=T.bc&&T.bc(T),L&=1}return L?(v.cb=0,L):0})(v,z)||(T=v.a)}}else T=v.a}0==T&&null!=ne.Oa&&ne.Oa.fd&&(T=oM(ne.ba))}ne=T}te=0!=ne?null:11>te?re.f.RGBA.eb:re.f.kb.y}else te=null;return te};var xee=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function A(de,We){for(var et="",ae=0;ae<4;ae++)et+=String.fromCharCode(de[We++]);return et}function p(de,We){return(de[We+0]<<0|de[We+1]<<8|de[We+2]<<16)>>>0}function _(de,We){return(de[We+0]<<0|de[We+1]<<8|de[We+2]<<16|de[We+3]<<24)>>>0}new d;var x=[0],C=[0],F=[],R=new d,U=n,Q=function(de,We){var et={},ae=0,oe=!1,Be=0,Ee=0;if(et.frames=[],!function(ye,we,Pe,Ye){for(var ot=0;ot<4;ot++)if(ye[we+ot]!="RIFF".charCodeAt(ot))return!0;return!1}(de,We)){var ct,Me;for(_(de,We+=4),We+=8;We<de.length;){var Qe=A(de,We),Re=_(de,We+=4);We+=4;var tt=Re+(1&Re);switch(Qe){case"VP8 ":case"VP8L":void 0===et.frames[ae]&&(et.frames[ae]={}),(J=et.frames[ae]).src_off=oe?Ee:We-8,J.src_size=Be+Re+8,ae++,oe&&(oe=!1,Be=0,Ee=0);break;case"VP8X":(J=et.header={}).feature_flags=de[We];var _t=We+4;J.canvas_width=1+p(de,_t),J.canvas_height=1+p(de,_t+=3),_t+=3;break;case"ALPH":oe=!0,Be=tt+8,Ee=We-8;break;case"ANIM":(J=et.header).bgcolor=_(de,We),J.loop_count=(ct=de)[(Me=_t=We+4)+0]<<0|ct[Me+1]<<8,_t+=2;break;case"ANMF":var fn,J;(J=et.frames[ae]={}).offset_x=2*p(de,We),J.offset_y=2*p(de,We+=3),J.width=1+p(de,We+=3),J.height=1+p(de,We+=3),J.duration=p(de,We+=3),We+=3,fn=de[We++],J.dispose=1&fn,J.blend=fn>>1&1}"ANMF"!=Qe&&(We+=tt)}return et}}(U,0);Q.response=U,Q.rgbaoutput=!0,Q.dataurl=!1;var K=Q.header?Q.header:null,ie=Q.frames?Q.frames:null;if(K){K.loop_counter=K.loop_count,x=[K.canvas_height],C=[K.canvas_width];for(var ce=0;ce<ie.length&&0!=ie[ce].blend;ce++);}var pe=ie[0],Se=R.WebPDecodeRGBA(U,pe.src_off,pe.src_size,C,x);pe.rgba=Se,pe.imgwidth=C[0],pe.imgheight=x[0];for(var ve=0;ve<C[0]*x[0]*4;ve++)F[ve]=Se[ve];return this.width=C,this.height=x,this.data=F,this}(function(n){var e=function(x,C,F,R){var U=4,Q=a;switch(R){case n.image_compression.FAST:U=1,Q=s;break;case n.image_compression.MEDIUM:U=6,Q=l;break;case n.image_compression.SLOW:U=9,Q=d}var K=h2(x=i(x,C,F,Q),{level:U});return n.__addimage__.arrayBufferToBinaryString(K)},i=function(x,C,F,R){for(var U,Q,K,ie=x.length/C,ce=new Uint8Array(x.length+ie),pe=p(),Se=0;Se<ie;Se+=1){if(U=x.subarray(K=Se*C,K+C),R)ce.set(R(U,F,Q),K+Se);else{for(var ve,de=pe.length,We=[];ve<de;ve+=1)We[ve]=pe[ve](U,F,Q);var et=_(We.concat());ce.set(We[et],K+Se)}Q=U}return ce},r=function(x){var C=Array.apply([],x);return C.unshift(0),C},s=function(x,C){var R=[],U=x.length;R[0]=1;for(var Q=0;Q<U;Q+=1)R[Q+1]=x[Q]-(x[Q-C]||0)+256&255;return R},a=function(x,C,F){var U=[],Q=x.length;U[0]=2;for(var K=0;K<Q;K+=1)U[K+1]=x[K]-(F&&F[K]||0)+256&255;return U},l=function(x,C,F){var Q=[],K=x.length;Q[0]=3;for(var ie=0;ie<K;ie+=1)Q[ie+1]=x[ie]+256-((x[ie-C]||0)+(F&&F[ie]||0)>>>1)&255;return Q},d=function(x,C,F){var K,ie=[],ce=x.length;ie[0]=4;for(var pe=0;pe<ce;pe+=1)K=A(x[pe-C]||0,F&&F[pe]||0,F&&F[pe-C]||0),ie[pe+1]=x[pe]-K+256&255;return ie},A=function(x,C,F){if(x===C&&C===F)return x;var R=Math.abs(C-F),U=Math.abs(x-F),Q=Math.abs(x+C-F-F);return R<=U&&R<=Q?x:U<=Q?C:F},p=function(){return[r,s,a,l,d]},_=function(x){var C=x.map(function(F){return F.reduce(function(R,U){return R+Math.abs(U)},0)});return C.indexOf(Math.min.apply(null,C))};n.processPNG=function(x,C,F,R){var U,Q,K,ie,ce,pe,Se,ve,de,We,et,ae,oe,Be,Ee,ct=this.decode.FLATE_DECODE,Me="";if(this.__addimage__.isArrayBuffer(x)&&(x=new Uint8Array(x)),this.__addimage__.isArrayBufferView(x)){if(x=(K=new bve(x)).imgData,Q=K.bits,U=K.colorSpace,ce=K.colors,-1!==[4,6].indexOf(K.colorType)){if(8===K.bits){de=(ve=32==K.pixelBitlength?new Uint32Array(K.decodePixels().buffer):16==K.pixelBitlength?new Uint16Array(K.decodePixels().buffer):new Uint8Array(K.decodePixels().buffer)).length,et=new Uint8Array(de*K.colors),We=new Uint8Array(de);var Qe,Re=K.pixelBitlength-K.bits;for(Be=0,Ee=0;Be<de;Be++){for(oe=ve[Be],Qe=0;Qe<Re;)et[Ee++]=oe>>>Qe&255,Qe+=K.bits;We[Be]=oe>>>Qe&255}}if(16===K.bits){de=(ve=new Uint32Array(K.decodePixels().buffer)).length,et=new Uint8Array(de*(32/K.pixelBitlength)*K.colors),We=new Uint8Array(de*(32/K.pixelBitlength)),ae=K.colors>1,Be=0,Ee=0;for(var tt=0;Be<de;)oe=ve[Be++],et[Ee++]=oe>>>0&255,ae&&(et[Ee++]=oe>>>16&255,oe=ve[Be++],et[Ee++]=oe>>>0&255),We[tt++]=oe>>>16&255;Q=8}R!==n.image_compression.NONE?(x=e(et,K.width*K.colors,K.colors,R),Se=e(We,K.width,1,R)):(x=et,Se=We,ct=void 0)}if(3===K.colorType&&(U=this.color_spaces.INDEXED,pe=K.palette,K.transparency.indexed)){var _t=K.transparency.indexed,fn=0;for(Be=0,de=_t.length;Be<de;++Be)fn+=_t[Be];if((fn/=255)==de-1&&-1!==_t.indexOf(0))ie=[_t.indexOf(0)];else if(fn!==de){for(ve=K.decodePixels(),We=new Uint8Array(ve.length),Be=0,de=ve.length;Be<de;Be++)We[Be]=_t[ve[Be]];Se=e(We,K.width,1)}}var J=function(ye){var we;switch(ye){case n.image_compression.FAST:we=11;break;case n.image_compression.MEDIUM:we=13;break;case n.image_compression.SLOW:we=14;break;default:we=12}return we}(R);return ct===this.decode.FLATE_DECODE&&(Me="/Predictor "+J+" "),Me+="/Colors "+ce+" /BitsPerComponent "+Q+" /Columns "+K.width,(this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),(Se&&this.__addimage__.isArrayBuffer(Se)||this.__addimage__.isArrayBufferView(Se))&&(Se=this.__addimage__.arrayBufferToBinaryString(Se)),{alias:F,data:x,index:C,filter:ct,decodeParameters:Me,transparency:ie,palette:pe,sMask:Se,predictor:J,width:K.width,height:K.height,bitsPerComponent:Q,colorSpace:U}}}})(Ti.API),function(n){n.processGIF89A=function(t,e,i,r){var s=new Cve(t),a=s.width,l=s.height,d=[];s.decodeAndBlitFrameRGBA(0,d);var A={data:d,width:a,height:l},p=new DH(100).encode(A,100);return n.processJPEG.call(this,p,e,i,r)},n.processGIF87A=n.processGIF89A}(Ti.API),Gp.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:i,blue:e,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Gp.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[n]()}catch(e){io.log("bit decode error:"+e)}},Gp.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<t;r++)for(var s=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+8*r*4,l=0;l<8&&8*r+l<this.width;l++){var d=this.palette[s>>7-l&1];this.data[a+4*l]=d.blue,this.data[a+4*l+1]=d.green,this.data[a+4*l+2]=d.red,this.data[a+4*l+3]=255}0!==e&&(this.pos+=4-e)}},Gp.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<n;r++){var s=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+2*r*4,d=15&s,A=this.palette[s>>4];if(this.data[a]=A.blue,this.data[a+1]=A.green,this.data[a+2]=A.red,this.data[a+3]=255,2*r+1>=this.width)break;this.data[a+4]=(A=this.palette[d]).blue,this.data[a+4+1]=A.green,this.data[a+4+2]=A.red,this.data[a+4+3]=255}0!==t&&(this.pos+=4-t)}},Gp.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*i;if(r<this.palette.length){var a=this.palette[r];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!==n&&(this.pos+=4-n)}},Gp.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,l=(s>>5&t)/t*255|0,A=s>>15?255:0,p=i*this.width*4+4*r;this.data[p]=(s>>10&t)/t*255|0,this.data[p+1]=l,this.data[p+2]=a,this.data[p+3]=A}this.pos+=n}},Gp.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&t)/t*255|0,d=(a>>5&e)/e*255|0,p=r*this.width*4+4*s;this.data[p]=(a>>11)/t*255|0,this.data[p+1]=d,this.data[p+2]=l,this.data[p+3]=255}this.pos+=n}},Gp.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*e;this.data[a]=s,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=255}this.pos+=this.width%4}},Gp.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*e;this.data[l]=s,this.data[l+1]=r,this.data[l+2]=i,this.data[l+3]=a}},Gp.prototype.getData=function(){return this.data},function(n){n.processBMP=function(t,e,i,r){var s=new Gp(t,!1),a=s.width,l=s.height,d={data:s.getData(),width:a,height:l},A=new DH(100).encode(d,100);return n.processJPEG.call(this,A,e,i,r)}}(Ti.API),YW.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(t,e,i,r){var s=new YW(t,!1),a=s.width,l=s.height,d={data:s.getData(),width:a,height:l},A=new DH(100).encode(d,100);return n.processJPEG.call(this,A,e,i,r)}}(Ti.API),Ti.API.processRGBA=function(n,t,e){for(var i=n.data,r=i.length,s=new Uint8Array(r/4*3),a=new Uint8Array(r/4),l=0,d=0,A=0;A<r;A+=4){var _=i[A+1],x=i[A+2],C=i[A+3];s[l++]=i[A],s[l++]=_,s[l++]=x,a[d++]=C}var F=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:F,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Ti.API.setLanguage=function(n){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]&&(this.internal.languageSettings.languageCode=n,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},UO=(US=Ti.API).getCharWidthsArray=function(n,t){var e,i,r=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:r.metadata.Unicode.widths,d=l.fof?l.fof:1,A=t.kerning?t.kerning:r.metadata.Unicode.kerning,p=A.fof?A.fof:1,_=!1!==t.doKerning,x=0,C=n.length,F=0,R=l[0]||d,U=[];for(e=0;e<C;e++)i=n.charCodeAt(e),"function"==typeof r.metadata.widthOfString?U.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+a*(1e3/s)||0)/1e3):(x=_&&"object"===Os(A[i])&&!isNaN(parseInt(A[i][F],10))?A[i][F]/p:0,U.push((l[i]||R)/d+x)),F=i;return U},qW=US.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return US.processArabic&&(n=US.processArabic(n)),"function"==typeof i.metadata.widthOfString?i.metadata.widthOfString(n,e,r)/e:UO.apply(this,arguments).reduce(function(s,a){return s+a},0)},KW=function(n,t,e,i){for(var r=[],s=0,a=n.length,l=0;s!==a&&l+t[s]<e;)l+=t[s],s++;r.push(n.slice(0,s));var d=s;for(l=0;s!==a;)l+t[s]>i&&(r.push(n.slice(d,s)),l=0,d=s),l+=t[s],s++;return d!==s&&r.push(n.slice(d,s)),r},ZW=function(n,t,e){e||(e={});var i,r,s,a,l,d,p=[],_=[p],x=e.textIndent||0,C=0,F=0,R=n.split(" "),U=UO.apply(this,[" ",e])[0];if(d=-1===e.lineIndent?R[0].length+2:e.lineIndent||0){var Q=Array(d).join(" "),K=[];R.map(function(ce){(ce=ce.split(/\s*\n/)).length>1?K=K.concat(ce.map(function(pe,Se){return(Se&&pe.length?"\n":"")+pe})):K.push(ce[0])}),R=K,d=qW.apply(this,[Q,e])}for(s=0,a=R.length;s<a;s++){var ie=0;if(i=R[s],d&&"\n"==i[0]&&(i=i.substr(1),ie=1),x+C+(F=(r=UO.apply(this,[i,e])).reduce(function(ce,pe){return ce+pe},0))>t||ie){if(F>t){for(l=KW.apply(this,[i,r,t-(x+C),t]),p.push(l.shift()),p=[l.pop()];l.length;)_.push([l.shift()]);F=r.slice(i.length-(p[0]?p[0].length:0)).reduce(function(ce,pe){return ce+pe},0)}else p=[i];_.push(p),x=F+d,C=U}else p.push(i),x+=C+F,C=U}return _.map(d?function(ce,pe){return(pe?Q:"")+ce.join(" ")}:function(ce){return ce.join(" ")})},US.splitTextToSize=function(n,t,e){var i,r=(e=e||{}).fontSize||this.internal.getFontSize(),s=function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var _=this.internal.getFont(p.fontName,p.fontStyle);return _.metadata.Unicode?{widths:_.metadata.Unicode.widths||{0:1},kerning:_.metadata.Unicode.kerning||{}}:{font:_.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,e);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/r;s.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=e.lineIndent;var l,d,A=[];for(l=0,d=i.length;l<d;l++)A=A.concat(ZW.apply(this,[i[l],a,s]));return A},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},i={},r=0;r<t.length;r++)e[t[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=t[r];var s=function(_){return"0x"+parseInt(_,10).toString(16)},a=n.__fontmetrics__.compress=function(_){var x,C,F,R,U=["{"];for(var Q in _){if(x=_[Q],isNaN(parseInt(Q,10))?C="'"+Q+"'":(Q=parseInt(Q,10),C=(C=s(Q).slice(2)).slice(0,-1)+i[C.slice(-1)]),"number"==typeof x)x<0?(F=s(x).slice(3),R="-"):(F=s(x).slice(2),R=""),F=R+F.slice(0,-1)+i[F.slice(-1)];else{if("object"!==Os(x))throw new Error("Don't know what to do with value type "+Os(x)+".");F=a(x)}U.push(C+F)}return U.push("}"),U.join("")},l=n.__fontmetrics__.uncompress=function(_){if("string"!=typeof _)throw new Error("Invalid argument passed to uncompress.");for(var x,C,F,R,U={},Q=1,K=U,ie=[],ce="",pe="",Se=_.length-1,ve=1;ve<Se;ve+=1)"'"==(R=_[ve])?x?(F=x.join(""),x=void 0):x=[]:x?x.push(R):"{"==R?(ie.push([K,F]),K={},F=void 0):"}"==R?((C=ie.pop())[0][C[1]]=K,F=void 0,K=C[0]):"-"==R?Q=-1:void 0===F?e.hasOwnProperty(R)?(ce+=e[R],F=parseInt(ce,16)*Q,Q=1,ce=""):ce+=R:e.hasOwnProperty(R)?(pe+=e[R],K[F]=parseInt(pe,16)*Q,Q=1,F=void 0,pe=""):pe+=R;return U},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},A={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},p={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(_){var x=_.font,C=p.Unicode[x.postScriptName];C&&(x.metadata.Unicode={},x.metadata.Unicode.widths=C.widths,x.metadata.Unicode.kerning=C.kerning);var F=A.Unicode[x.postScriptName];F&&(x.metadata.Unicode.encoding=F,x.encoding=F.codePages[0])}])}(Ti.API),function(n){var t=function(e){for(var i=e.length,r=new Uint8Array(i),s=0;s<i;s++)r[s]=e.charCodeAt(s);return r};n.API.events.push(["addFont",function(e){var a,l,i=void 0,r=e.font,s=e.instance;if(!r.isStandardFont){if(void 0===s)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if("string"!=typeof(i=!1===s.existsFileInVFS(r.postScriptName)?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");a=r,l=/^\x00\x01\x00\x00/.test(l=i)?t(l):t(A2(l)),a.metadata=n.API.TTFFont.open(l),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]}}])}(Ti),function(n){function t(){return(ki.canvg?Promise.resolve(ki.canvg):se.e(489).then(se.bind(se,6489))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}Ti.API.addSvgAsImage=function(e,i,r,s,a,l,d,A){if(isNaN(i)||isNaN(r))throw io.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw io.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=s,p.height=a;var _=p.getContext("2d");_.fillStyle="#fff",_.fillRect(0,0,p.width,p.height);var x={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},C=this;return t().then(function(F){return F.fromString(_,e,x)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(F){return F.render(x)}).then(function(){C.addImage(p.toDataURL("image/jpeg",1),i,r,s,a,d,A)})}}(),Ti.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(t,e);return this},Ti.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var i,r,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),d=[],A=0,p=0,_=0;function x(F,R){var U,Q=!1;for(U=0;U<F.length;U+=1)F[U]===R&&(Q=!0);return Q}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,"reset"===n||!0===t){var C=l.length;for(_=0;_<C;_+=1)e[l[_]].value=e[l[_]].defaultValue,e[l[_]].explicitSet=!1}if("object"===Os(n))for(r in n)if(s=n[r],x(l,r)&&void 0!==s){if("boolean"===e[r].type&&"boolean"==typeof s)e[r].value=s;else if("name"===e[r].type&&x(e[r].valueSet,s))e[r].value=s;else if("integer"===e[r].type&&Number.isInteger(s))e[r].value=s;else if("array"===e[r].type){for(A=0;A<s.length;A+=1)if(i=!0,1===s[A].length&&"number"==typeof s[A][0])d.push(String(s[A]-1));else if(s[A].length>1){for(p=0;p<s[A].length;p+=1)"number"!=typeof s[A][p]&&(i=!1);!0===i&&d.push([s[A][0]-1,s[A][1]-1].join(" "))}e[r].value="["+d.join(" ")+"]"}else e[r].value=e[r].defaultValue;e[r].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var F,R=[];for(F in e)!0===e[F].explicitSet&&R.push("name"===e[F].type?"/"+F+" /"+e[F].value:"/"+F+" "+e[F].value);0!==R.length&&this.internal.write("/ViewerPreferences\n<<\n"+R.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(n){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),A=s.length+a.length+l.length+r.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+A+" >>"),this.internal.write("stream"),this.internal.write(r+s+a+l+d),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(Ti.API),function(n){var t=n.API,e=t.pdfEscape16=function(s,a){for(var l,d=a.metadata.Unicode.widths,A=["","0","00","000","0000"],p=[""],_=0,x=s.length;_<x;++_){if(l=a.metadata.characterToGlyph(s.charCodeAt(_)),a.metadata.glyIdsUsed.push(l),a.metadata.toUnicode[l]=s.charCodeAt(_),-1==d.indexOf(l)&&(d.push(l),d.push([parseInt(a.metadata.widthOfGlyph(l),10)])),"0"==l)return p.join("");l=l.toString(16),p.push(A[4-l.length],l)}return p.join("")},i=function(s){var a,l,d,A,p,_,x;for(p="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",d=[],_=0,x=(l=Object.keys(s).sort(function(C,F){return C-F})).length;_<x;_++)a=l[_],d.length>=100&&(p+="\n"+d.length+" beginbfchar\n"+d.join("\n")+"\nendbfchar",d=[]),null!=s[a]&&"function"==typeof s[a].toString&&(A=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),d.push("<"+a+"><"+A+">"));return d.length&&(p+="\n"+d.length+" beginbfchar\n"+d.join("\n")+"\nendbfchar\n"),p+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(s){!function(a){var l=a.font,d=a.out,A=a.newObject,p=a.putStream;if(l.metadata instanceof n.API.TTFFont&&"Identity-H"===l.encoding){for(var _=l.metadata.Unicode.widths,x=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),C="",F=0;F<x.length;F++)C+=String.fromCharCode(x[F]);var R=A();p({data:C,addLength1:!0,objectId:R}),d("endobj");var U=A();p({data:i(l.metadata.toUnicode),addLength1:!0,objectId:U}),d("endobj");var Q=A();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+FS(l.fontName)),d("/FontFile2 "+R+" 0 R"),d("/FontBBox "+n.API.PDFObject.convert(l.metadata.bbox)),d("/Flags "+l.metadata.flags),d("/StemV "+l.metadata.stemV),d("/ItalicAngle "+l.metadata.italicAngle),d("/Ascent "+l.metadata.ascender),d("/Descent "+l.metadata.decender),d("/CapHeight "+l.metadata.capHeight),d(">>"),d("endobj");var K=A();d("<<"),d("/Type /Font"),d("/BaseFont /"+FS(l.fontName)),d("/FontDescriptor "+Q+" 0 R"),d("/W "+n.API.PDFObject.convert(_)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+l.encoding+")"),d(">>"),d(">>"),d("endobj"),l.objectNumber=A(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+U+" 0 R"),d("/BaseFont /"+FS(l.fontName)),d("/Encoding /"+l.encoding),d("/DescendantFonts ["+K+" 0 R]"),d(">>"),d("endobj"),l.isAlreadyPutted=!0}}(s)}]),t.events.push(["putFont",function(s){!function(a){var l=a.font,d=a.out,A=a.newObject,p=a.putStream;if(l.metadata instanceof n.API.TTFFont&&"WinAnsiEncoding"===l.encoding){for(var _=l.metadata.rawData,x="",C=0;C<_.length;C++)x+=String.fromCharCode(_[C]);var F=A();p({data:x,addLength1:!0,objectId:F}),d("endobj");var R=A();p({data:i(l.metadata.toUnicode),addLength1:!0,objectId:R}),d("endobj");var U=A();d("<<"),d("/Descent "+l.metadata.decender),d("/CapHeight "+l.metadata.capHeight),d("/StemV "+l.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+F+" 0 R"),d("/Flags 96"),d("/FontBBox "+n.API.PDFObject.convert(l.metadata.bbox)),d("/FontName /"+FS(l.fontName)),d("/ItalicAngle "+l.metadata.italicAngle),d("/Ascent "+l.metadata.ascender),d(">>"),d("endobj"),l.objectNumber=A();for(var Q=0;Q<l.metadata.hmtx.widths.length;Q++)l.metadata.hmtx.widths[Q]=parseInt(l.metadata.hmtx.widths[Q]*(1e3/l.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+R+" 0 R/BaseFont/"+FS(l.fontName)+"/FontDescriptor "+U+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),d("endobj"),l.isAlreadyPutted=!0}}(s)}]);var r=function(s){var a,l=s.text||"",d=s.x,A=s.y,p=s.options||{},_=s.mutex||{},x=_.pdfEscape,C=_.activeFontKey,F=_.fonts,R=C,U="",Q=0,K="",ie=F[R].encoding;if("Identity-H"!==F[R].encoding)return{text:l,x:d,y:A,options:p,mutex:_};for(K=l,R=C,Array.isArray(l)&&(K=l[0]),Q=0;Q<K.length;Q+=1)F[R].metadata.hasOwnProperty("cmap")&&(a=F[R].metadata.cmap.unicode.codeMap[K[Q].charCodeAt(0)]),a||K[Q].charCodeAt(0)<256&&F[R].metadata.hasOwnProperty("Unicode")?U+=K[Q]:U+="";var ce="";return parseInt(R.slice(1))<14||"WinAnsiEncoding"===ie?ce=x(U,R).split("").map(function(pe){return pe.charCodeAt(0).toString(16)}).join(""):"Identity-H"===ie&&(ce=e(U,F[R])),_.isHex=!0,{text:ce,x:d,y:A,options:p,mutex:_}};t.events.push(["postProcessText",function(s){var a=s.text||"",l=[],d={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var A=0;for(A=0;A<a.length;A+=1)Array.isArray(a[A])&&3===a[A].length?l.push([r(Object.assign({},d,{text:a[A][0]})).text,a[A][1],a[A][2]]):l.push(r(Object.assign({},d,{text:a[A]})).text);s.text=l}else s.text=r(Object.assign({},d,{text:a})).text}])}(Ti),function(n){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},n.addFileToVFS=function(e,i){return t.call(this),this.internal.vFS[e]=i,this},n.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(Ti.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var r,s,a,l,d,A,p,_=t,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],C=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],F={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},R={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},U=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],Q=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),K=!1,ie=0;this.__bidiEngine__={};var ce=function(ae){var oe=ae.charCodeAt(),Be=oe>>8,Ee=R[Be];return void 0!==Ee?_[256*Ee+(255&oe)]:252===Be||253===Be?"AL":Q.test(Be)?"L":8===Be?"R":"N"},pe=function(ae){for(var oe,Be=0;Be<ae.length;Be++){if("L"===(oe=ce(ae.charAt(Be))))return!1;if("R"===oe)return!0}return!1},Se=function(ae,oe,Be,Ee){var ct,Me,Qe,Re,tt=oe[Ee];switch(tt){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":K=!1;break;case"N":case"AN":break;case"EN":K&&(tt="AN");break;case"AL":K=!0,tt="R";break;case"WS":case"BN":tt="N";break;case"CS":Ee<1||Ee+1>=oe.length||"EN"!==(ct=Be[Ee-1])&&"AN"!==ct||"EN"!==(Me=oe[Ee+1])&&"AN"!==Me?tt="N":K&&(Me="AN"),tt=Me===ct?Me:"N";break;case"ES":tt="EN"===(ct=Ee>0?Be[Ee-1]:"B")&&Ee+1<oe.length&&"EN"===oe[Ee+1]?"EN":"N";break;case"ET":if(Ee>0&&"EN"===Be[Ee-1]){tt="EN";break}if(K){tt="N";break}for(Qe=Ee+1,Re=oe.length;Qe<Re&&"ET"===oe[Qe];)Qe++;tt=Qe<Re&&"EN"===oe[Qe]?"EN":"N";break;case"NSM":if(a&&!l){for(Re=oe.length,Qe=Ee+1;Qe<Re&&"NSM"===oe[Qe];)Qe++;if(Qe<Re){var _t=ae[Ee];if(ct=oe[Qe],(_t>=1425&&_t<=2303||64286===_t)&&("R"===ct||"AL"===ct)){tt="R";break}}}tt=Ee<1||"B"===(ct=oe[Ee-1])?"N":Be[Ee-1];break;case"B":K=!1,r=!0,tt=ie;break;case"S":s=!0,tt="N"}return tt},ve=function(ae,oe,Be){var Ee=ae.split("");return Be&&de(Ee,Be,{hiLevel:ie}),Ee.reverse(),oe&&oe.reverse(),Ee.join("")},de=function(ae,oe,Be){var Ee,ct,Me,Qe,Re,tt=-1,_t=ae.length,fn=0,J=[],ye=ie?C:x,we=[];for(K=!1,r=!1,s=!1,ct=0;ct<_t;ct++)we[ct]=ce(ae[ct]);for(Me=0;Me<_t;Me++){if(Re=fn,J[Me]=Se(ae,we,J,Me),Ee=240&(fn=ye[Re][F[J[Me]]]),oe[Me]=Qe=ye[fn&=15][5],Ee>0)if(16===Ee){for(ct=tt;ct<Me;ct++)oe[ct]=1;tt=-1}else tt=-1;if(ye[fn][6])-1===tt&&(tt=Me);else if(tt>-1){for(ct=tt;ct<Me;ct++)oe[ct]=Qe;tt=-1}"B"===we[Me]&&(oe[Me]=0),Be.hiLevel|=Qe}s&&function(Pe,Ye,ot){for(var mt=0;mt<ot;mt++)if("S"===Pe[mt]){Ye[mt]=ie;for(var pt=mt-1;pt>=0&&"WS"===Pe[pt];pt--)Ye[pt]=ie}}(we,oe,_t)},We=function(ae,oe,Be,Ee,ct){if(!(ct.hiLevel<ae)){if(1===ae&&1===ie&&!r)return oe.reverse(),void(Be&&Be.reverse());for(var Me,Qe,Re,tt,_t=oe.length,fn=0;fn<_t;){if(Ee[fn]>=ae){for(Re=fn+1;Re<_t&&Ee[Re]>=ae;)Re++;for(tt=fn,Qe=Re-1;tt<Qe;tt++,Qe--)Me=oe[tt],oe[tt]=oe[Qe],oe[Qe]=Me,Be&&(Me=Be[tt],Be[tt]=Be[Qe],Be[Qe]=Me);fn=Re}fn++}}},et=function(ae,oe,Be){var Ee=ae.split(""),ct={hiLevel:ie};return Be||(Be=[]),de(Ee,Be,ct),function(Me,Qe,Re){if(0!==Re.hiLevel&&p)for(var tt,_t=0;_t<Me.length;_t++)1===Qe[_t]&&(tt=U.indexOf(Me[_t]))>=0&&(Me[_t]=U[tt+1])}(Ee,Be,ct),We(2,Ee,oe,Be,ct),We(1,Ee,oe,Be,ct),Ee.join("")};return this.__bidiEngine__.doBidiReorder=function(ae,oe,Be){if(function(ct,Me){if(Me)for(var Qe=0;Qe<ct.length;Qe++)Me[Qe]=Qe;void 0===l&&(l=pe(ct)),void 0===A&&(A=pe(ct))}(ae,oe),a||!d||A)if(a&&d&&l^A)ie=l?1:0,ae=ve(ae,oe,Be);else if(!a&&d&&A)ie=l?1:0,ae=et(ae,oe,Be),ae=ve(ae,oe);else if(!a||l||d||A){if(a&&!d&&l^A)ae=ve(ae,oe),l?(ie=0,ae=et(ae,oe,Be)):(ie=1,ae=et(ae,oe,Be),ae=ve(ae,oe));else if(a&&l&&!d&&A)ie=1,ae=et(ae,oe,Be),ae=ve(ae,oe);else if(!a&&!d&&l^A){var Ee=p;l?(ie=1,ae=et(ae,oe,Be),ie=0,p=!1,ae=et(ae,oe,Be),p=Ee):(ie=0,ae=et(ae,oe,Be),ae=ve(ae,oe),ie=1,p=!1,ae=et(ae,oe,Be),p=Ee,ae=ve(ae,oe))}}else ie=0,ae=et(ae,oe,Be);else ie=l?1:0,ae=et(ae,oe,Be);return ae},this.__bidiEngine__.setOptions=function(ae){ae&&(a=ae.isInputVisual,d=ae.isOutputVisual,l=ae.isInputRtl,A=ae.isOutputRtl,p=ae.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var r=i.text,s=i.options||{},a=[];if(s.isInputVisual="boolean"!=typeof s.isInputVisual||s.isInputVisual,e.setOptions(s),"[object Array]"===Object.prototype.toString.call(r)){var l=0;for(a=[],l=0;l<r.length;l+=1)"[object Array]"===Object.prototype.toString.call(r[l])?a.push([e.doBidiReorder(r[l][0]),r[l][1],r[l][2]]):a.push([e.doBidiReorder(r[l])]);i.text=a}else i.text=e.doBidiReorder(r);e.setOptions({isInputVisual:!0})}])}(Ti),Ti.API.TTFFont=function(){function n(t){var e;if(this.rawData=t,e=this.contents=new nw(t),this.contents.pos=4,"ttcf"===e.readString(4))throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new Nve(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new xve(this.contents),this.head=new Eve(this),this.name=new Bve(this),this.cmap=new JW(this),this.toUnicode={},this.hhea=new Ive(this),this.maxp=new Fve(this),this.hmtx=new kve(this),this.post=new Tve(this),this.os2=new Dve(this),this.loca=new Pve(this),this.glyf=new Rve(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,i,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var a,l,d,A;for(A=[],a=0,l=(d=this.bbox).length;a<l;a++)A.push(Math.round(d[a]*this.scaleFactor));return A}.call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),0!=(32768&(e=r>>16))&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(s=this.familyClass)||2===s||3===s||4===s||5===s||7===s,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return(null!=(e=this.cmap.unicode)?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,i){var r,s,a,l;for(a=0,s=0,l=(t=""+t).length;0<=l?s<l:s>l;s=0<=l?++s:--s)r=t.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/e)||0;return a*(e/1e3)},n.prototype.lineHeight=function(t,e){return null==e&&(e=!1),(this.ascender+(e?this.lineGap:0)-this.decender)/1e3*t},n}();var qp,nw=function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(t){var e,i,r;for(r=[],e=0,i=t.length;0<=i?e<i:e>i;e=0<=i?++e:--e)r.push(this.writeByte(t.charCodeAt(e)));return r},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,i,r,s,a,l,d;return t=this.readByte(),e=this.readByte(),i=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),d=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^s)+65536*(255^a)+256*(255^l)+(255^d)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*r+16777216*s+65536*a+256*l+d},n.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)e.push(this.readByte());return e},n.prototype.write=function(t){var i,r,s;for(s=[],i=0,r=t.length;i<r;i++)s.push(this.writeByte(t[i]));return s},n}(),xve=function(){var n;function t(e){var i,r,s;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(e){var i,r,a,l,d,A,p,_,x,C,F,R;for(R in C=Object.keys(e).length,d=Math.log(2),_=16*Math.floor(Math.log(C)/d),a=Math.floor(_/d),p=16*C-_,(r=new nw).writeInt(this.scalarType),r.writeShort(C),r.writeShort(_),r.writeShort(a),r.writeShort(p),A=r.pos+16*C,l=null,F=[],e)for(x=e[R],r.writeString(R),r.writeInt(n(x)),r.writeInt(A),r.writeInt(x.length),F=F.concat(x),"head"===R&&(l=A),A+=x.length;A%4;)F.push(0),A++;return r.write(F),i=2981146554-n(r.data),r.pos=l+8,r.writeUInt32(i),r.data},n=function(e){var i,r,s,a;for(e=XW.call(e);e.length%4;)e.push(0);for(s=new nw(e),r=0,i=0,a=e.length;i<a;i=i+=4)r+=s.readUInt32();return 4294967295&r},t}(),Sve={}.hasOwnProperty,Nm=function(n,t){for(var e in t)Sve.call(t,e)&&(n[e]=t[e]);function i(){this.constructor=n}return i.prototype=t.prototype,n.prototype=new i,n.__super__=t.prototype,n};qp=function(){function n(t){var e;this.file=t,this.exists=!!(e=this.file.directory.tables[this.tag]),e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var Eve=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Nm(t,qp),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var i;return(i=new nw).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(e),i.writeShort(this.glyphDataFormat),i.data},t}(),$W=function(){function n(t,e){var i,r,s,a,l,d,A,p,_,x,C,F,R,U,Q,K,ie;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),_=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=t.readByte();break;case 4:for(C=t.readUInt16(),x=C/2,t.pos+=6,s=function(){var ce,pe;for(pe=[],d=ce=0;0<=x?ce<x:ce>x;d=0<=x?++ce:--ce)pe.push(t.readUInt16());return pe}(),t.pos+=2,R=function(){var ce,pe;for(pe=[],d=ce=0;0<=x?ce<x:ce>x;d=0<=x?++ce:--ce)pe.push(t.readUInt16());return pe}(),A=function(){var ce,pe;for(pe=[],d=ce=0;0<=x?ce<x:ce>x;d=0<=x?++ce:--ce)pe.push(t.readUInt16());return pe}(),p=function(){var ce,pe;for(pe=[],d=ce=0;0<=x?ce<x:ce>x;d=0<=x?++ce:--ce)pe.push(t.readUInt16());return pe}(),r=(this.length-t.pos+this.offset)/2,l=function(){var ce,pe;for(pe=[],d=ce=0;0<=r?ce<r:ce>r;d=0<=r?++ce:--ce)pe.push(t.readUInt16());return pe}(),d=Q=0,ie=s.length;Q<ie;d=++Q)for(U=s[d],i=K=F=R[d];F<=U?K<=U:K>=U;i=F<=U?++K:--K)0===p[d]?a=i+A[d]:0!==(a=l[p[d]/2+(i-F)-(x-d)]||0)&&(a+=A[d]),this.codeMap[i]=65535&a}t.pos=_}return n.encode=function(t,e){var i,r,s,a,l,d,A,p,_,x,C,F,R,U,Q,K,ie,pe,Se,ve,de,We,et,ae,oe,Be,Ee,ct,Me,Qe,Re,tt,_t,fn,J,ye,we,Pe,Ye,ot,mt,pt,hn,un,Nn;switch(Ee=new nw,a=Object.keys(t).sort(function(Kn,Ri){return Kn-Ri}),e){case"macroman":for(R=0,U=function(){var Kn=[];for(F=0;F<256;++F)Kn.push(0);return Kn}(),K={0:0},s={},ct=0,tt=a.length;ct<tt;ct++)null==K[pt=t[r=a[ct]]]&&(K[pt]=++R),s[r]={old:t[r],new:K[t[r]]},U[r]=K[t[r]];return Ee.writeUInt16(1),Ee.writeUInt16(0),Ee.writeUInt32(12),Ee.writeUInt16(0),Ee.writeUInt16(262),Ee.writeUInt16(0),Ee.write(U),{charMap:s,subtable:Ee.data,maxGlyphID:R+1};case"unicode":for(oe=[],_=[],ie=0,K={},i={},Q=A=null,Me=0,_t=a.length;Me<_t;Me++)null==K[pe=t[r=a[Me]]]&&(K[pe]=++ie),i[r]={old:pe,new:K[pe]},l=K[pe]-r,null!=Q&&l===A||(Q&&_.push(Q),oe.push(r),A=l),Q=r;for(Q&&_.push(Q),_.push(65535),oe.push(65535),et=2*(We=oe.length),de=2*Math.pow(Math.log(We)/Math.LN2,2),x=Math.log(de/2)/Math.LN2,ve=2*We-de,d=[],Se=[],C=[],F=Qe=0,fn=oe.length;Qe<fn;F=++Qe){if(p=_[F],65535===(ae=oe[F])){d.push(0),Se.push(0);break}if(ae-(Be=i[ae].new)>=32768)for(d.push(0),Se.push(2*(C.length+We-F)),r=Re=ae;ae<=p?Re<=p:Re>=p;r=ae<=p?++Re:--Re)C.push(i[r].new);else d.push(Be-ae),Se.push(0)}for(Ee.writeUInt16(3),Ee.writeUInt16(1),Ee.writeUInt32(12),Ee.writeUInt16(4),Ee.writeUInt16(16+8*We+2*C.length),Ee.writeUInt16(0),Ee.writeUInt16(et),Ee.writeUInt16(de),Ee.writeUInt16(x),Ee.writeUInt16(ve),ot=0,J=_.length;ot<J;ot++)Ee.writeUInt16(r=_[ot]);for(Ee.writeUInt16(0),mt=0,ye=oe.length;mt<ye;mt++)Ee.writeUInt16(r=oe[mt]);for(hn=0,we=d.length;hn<we;hn++)Ee.writeUInt16(l=d[hn]);for(un=0,Pe=Se.length;un<Pe;un++)Ee.writeUInt16(Se[un]);for(Nn=0,Ye=C.length;Nn<Ye;Nn++)Ee.writeUInt16(R=C[Nn]);return{charMap:i,subtable:Ee.data,maxGlyphID:ie+1}}},n}(),JW=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Nm(t,qp),t.prototype.tag="cmap",t.prototype.parse=function(e){var i,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)i=new $W(e,this.offset),this.tables.push(i),i.isUnicode&&null==this.unicode&&(this.unicode=i);return!0},t.encode=function(e,i){var r,s;return null==i&&(i="macroman"),r=$W.encode(e,i),(s=new nw).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},t}(),Ive=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Nm(t,qp),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),Dve=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Nm(t,qp),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var i,r;for(r=[],i=0;i<10;++i)r.push(e.readByte());return r}(),this.charRange=function(){var i,r;for(r=[],i=0;i<4;++i)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var i,r;for(r=[],i=0;i<2;i=++i)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),Tve=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Nm(t,qp),t.prototype.tag="post",t.prototype.parse=function(e){var i,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)i=e.readByte(),s.push(this.names.push(e.readString(i)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=function(){var l,d,A;for(A=[],a=l=0,d=this.file.maxp.numGlyphs;0<=d?l<d:l>d;a=0<=d?++l:--l)A.push(e.readUInt32());return A}.call(this)}},t}(),Mve=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Bve=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Nm(t,qp),t.prototype.tag="name",t.prototype.parse=function(e){var i,r,s,a,l,d,A,p,_,x,C;for(e.pos=this.offset,e.readShort(),i=e.readShort(),d=e.readShort(),r=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+d+e.readShort()});for(A={},a=_=0,x=r.length;_<x;a=++_)e.pos=(s=r[a]).offset,p=e.readString(s.length),l=new Mve(p,s),null==A[C=s.nameID]&&(A[C]=[]),A[s.nameID].push(l);this.strings=A,this.copyright=A[0],this.fontFamily=A[1],this.fontSubfamily=A[2],this.uniqueSubfamily=A[3],this.fontName=A[4],this.version=A[5];try{this.postscriptName=A[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=A[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=A[7],this.manufacturer=A[8],this.designer=A[9],this.description=A[10],this.vendorUrl=A[11],this.designerUrl=A[12],this.license=A[13],this.licenseUrl=A[14],this.preferredFamily=A[15],this.preferredSubfamily=A[17],this.compatibleFull=A[18],this.sampleText=A[19]},t}(),Fve=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Nm(t,qp),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),kve=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Nm(t,qp),t.prototype.tag="hmtx",t.prototype.parse=function(e){var i,r,s,l,d,A;for(e.pos=this.offset,this.metrics=[],i=0,d=this.file.hhea.numberOfMetrics;0<=d?i<d:i>d;i=0<=d?++i:--i)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,_;for(_=[],i=p=0;0<=s?p<s:p>s;i=0<=s?++p:--p)_.push(e.readInt16());return _}(),this.widths=function(){var p,_,x,C;for(C=[],p=0,_=(x=this.metrics).length;p<_;p++)C.push(x[p].advance);return C}.call(this),r=this.widths[this.widths.length-1],A=[],i=l=0;0<=s?l<s:l>s;i=0<=s?++l:--l)A.push(this.widths.push(r));return A},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),XW=[].slice,Rve=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Nm(t,qp),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var i,r,s,a,l,d,A,p,_,x;return e in this.cache?this.cache[e]:(i=this.file.contents,r=(a=this.file.loca).indexOf(e),0===(s=a.lengthOf(e))?this.cache[e]=null:(i.pos=this.offset+r,l=(d=new nw(i.read(s))).readShort(),p=d.readShort(),x=d.readShort(),A=d.readShort(),_=d.readShort(),this.cache[e]=-1===l?new Lve(d,p,x,A,_):new Ove(d,l,p,x,A,_),this.cache[e]))},t.prototype.encode=function(e,i,r){var s,a,l,d,A;for(l=[],a=[],d=0,A=i.length;d<A;d++)s=e[i[d]],a.push(l.length),s&&(l=l.concat(s.encode(r)));return a.push(l.length),{table:l,offsets:a}},t}(),Ove=function(){function n(t,e,i,r,s,a){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=r,this.xMax=s,this.yMax=a,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),Lve=function(){function n(t,e,i,r,s){var a,l;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;l=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&l;)a.pos+=1&l?4:2,128&l?a.pos+=8:64&l?a.pos+=4:8&l&&(a.pos+=2)}return n.prototype.encode=function(){var t,e,i;for(e=new nw(XW.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)e.pos=this.glyphOffsets[t];return e.data},n}(),Pve=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Nm(t,qp),t.prototype.tag="loca",t.prototype.parse=function(e){var r;return e.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var s,a;for(a=[],r=0,s=this.length;r<s;r+=2)a.push(2*e.readUInt16());return a}.call(this):function(){var s,a;for(a=[],r=0,s=this.length;r<s;r+=4)a.push(e.readUInt32());return a}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,i){for(var r=new Uint32Array(this.offsets.length),s=0,a=0,l=0;l<r.length;++l)if(r[l]=s,a<i.length&&i[a]==l){++a,r[l]=s;var A=this.offsets[l+1]-this.offsets[l];A>0&&(s+=A)}for(var p=new Array(4*r.length),_=0;_<r.length;++_)p[4*_+3]=255&r[_],p[4*_+2]=(65280&r[_])>>8,p[4*_+1]=(16711680&r[_])>>16,p[4*_]=(4278190080&r[_])>>24;return p},t}(),Nve=function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,r,s;for(e in r=this.font.cmap.tables[0].codeMap,t={},s=this.subset)t[e]=r[s[e]];return t},n.prototype.glyphsFor=function(t){var e,i,r,s,a,l,d;for(r={},a=0,l=t.length;a<l;a++)r[s=t[a]]=this.font.glyf.glyphFor(s);for(s in e=[],r)null!=(i=r[s])&&i.compound&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(s in d=this.glyphsFor(e))r[s]=i=d[s];return r},n.prototype.encode=function(t,e){var i,r,s,a,d,A,p,_,x,C,F,R,U,Q;for(r in i=JW.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),C={0:0},Q=i.charMap)C[(d=Q[r]).old]=d.new;for(F in x=i.maxGlyphID,a)F in C||(C[F]=x++);return p=function(K){var ie,ce;for(ie in ce={},K)ce[K[ie]]=ie;return ce}(C),_=Object.keys(p).sort(function(K,ie){return K-ie}),R=function(){var K,ie,ce;for(ce=[],K=0,ie=_.length;K<ie;K++)ce.push(p[_[K]]);return ce}(),s=this.font.glyf.encode(a,R,C),A=this.font.loca.encode(s.offsets,R),U={cmap:this.font.cmap.raw(),glyf:s.table,loca:A,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(U["OS/2"]=this.font.os2.raw()),this.font.directory.encode(U)},n}();Ti.API.PDFObject=function(){var n;function t(){}return n=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},t.convert=function(e){var r,s;if(Array.isArray(e))return"["+function(){var l,d,A;for(A=[],l=0,d=e.length;l<d;l++)A.push(t.convert(e[l]));return A}().join(" ")+"]";if("string"==typeof e)return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(e)){for(r in s=["<<"],e)s.push("/"+r+" "+t.convert(e[r]));return s.push(">>"),s.join("\n")}return""+e},t}();const Uve=Ti;var Hve=se(4159),eY=se.n(Hve);function Qve(n,t){1&n&&(o.TgZ(0,"span",10),o._uU(1," collections_bookmark "),o.qZA())}function Vve(n,t){1&n&&(o.TgZ(0,"span",10),o._uU(1," music_note "),o.qZA())}function jve(n,t){1&n&&(o.TgZ(0,"span",10),o._uU(1," receipt_long "),o.qZA())}function zve(n,t){1&n&&(o.TgZ(0,"span",10),o._uU(1," school "),o.qZA())}function Gve(n,t){1&n&&(o.TgZ(0,"span",10),o._uU(1," auto_fix "),o.qZA())}function qve(n,t){1&n&&(o.TgZ(0,"span",10),o._uU(1," swords "),o.qZA())}function Kve(n,t){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,Qve,2,0,"span",20),o.YNc(2,Vve,2,0,"span",20),o.YNc(3,jve,2,0,"span",20),o.YNc(4,zve,2,0,"span",20),o.YNc(5,Gve,2,0,"span",20),o.YNc(6,qve,2,0,"span",20),o.TgZ(7,"span",7),o._uU(8),o.qZA(),o._uU(9),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("ngIf",4==e.idTipologiaSkill),o.xp6(1),o.Q6J("ngIf",5==e.idTipologiaSkill),o.xp6(1),o.Q6J("ngIf",0==e.idTipologiaSkill),o.xp6(1),o.Q6J("ngIf",3==e.idTipologiaSkill),o.xp6(1),o.Q6J("ngIf",2==e.idTipologiaSkill),o.xp6(1),o.Q6J("ngIf",1==e.idTipologiaSkill),o.xp6(2),o.hij("",e.nome," "),o.xp6(1),o.Oqu(e.value)}}function Zve(n,t){1&n&&(o.TgZ(0,"div",21)(1,"b"),o._uU(2,"Scarica il pdf per avere tutte le info aggiuntive"),o.qZA()())}function Wve(n,t){if(1&n&&(o.TgZ(0,"li"),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e," ")}}function Yve(n,t){if(1&n&&(o.TgZ(0,"div")(1,"b",24),o._uU(2,"Spells:"),o.qZA(),o.TgZ(3,"ul"),o.YNc(4,Wve,2,1,"li",12),o.qZA()()),2&n){const e=o.oxw(2);o.xp6(4),o.Q6J("ngForOf",null==e.spellsChierico?null:e.spellsChierico.spell)}}function $ve(n,t){if(1&n&&(o.TgZ(0,"li"),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e," ")}}function Jve(n,t){if(1&n&&(o.TgZ(0,"div")(1,"b",25),o._uU(2,"Aura:"),o.qZA(),o._uU(3),o._UZ(4,"br")(5,"br"),o.TgZ(6,"b",26),o._uU(7,"Spells:"),o.qZA(),o.TgZ(8,"ul"),o.YNc(9,$ve,2,1,"li",12),o.qZA()()),2&n){const e=o.oxw(2);o.xp6(3),o.hij(" ",e.spellsPaladino.aura,""),o.xp6(6),o.Q6J("ngForOf",null==e.spellsPaladino?null:e.spellsPaladino.spell)}}function Xve(n,t){if(1&n&&(o.TgZ(0,"div",22),o._UZ(1,"br"),o.TgZ(2,"div")(3,"div",6),o._uU(4,"Info aggiuntive chierico/paladino"),o.qZA(),o._UZ(5,"br")(6,"br"),o.YNc(7,Yve,5,1,"div",23),o.YNc(8,Jve,10,2,"div",23),o.qZA()()),2&n){const e=o.oxw();o.xp6(7),o.Q6J("ngIf","Chierico"===e.schedaPg.classe.nome),o.xp6(1),o.Q6J("ngIf","Paladino"===e.schedaPg.classe.nome)}}function e0e(n,t){if(1&n&&(o.TgZ(0,"div")(1,"b"),o._uU(2,"Info:"),o.qZA(),o.TgZ(3,"span",32),o._uU(4),o.qZA(),o._UZ(5,"br")(6,"br"),o.qZA()),2&n){const e=o.oxw().$implicit;o.xp6(4),o.hij(" ",e.info,"")}}function t0e(n,t){if(1&n&&(o.TgZ(0,"ul")(1,"li",33),o._uU(2),o.qZA()()),2&n){const e=t.$implicit;o.xp6(2),o.hij(" ",e,"")}}function n0e(n,t){if(1&n&&(o.TgZ(0,"ul")(1,"li",31)(2,"b"),o._uU(3,"Skill:"),o.qZA(),o._uU(4),o.qZA(),o._UZ(5,"br"),o.YNc(6,e0e,7,1,"div",23),o._UZ(7,"br"),o.TgZ(8,"b"),o._uU(9,"Procedura:"),o.qZA(),o._UZ(10,"br"),o.YNc(11,t0e,3,1,"ul",12),o._UZ(12,"br"),o.qZA()),2&n){const e=t.$implicit;o.xp6(4),o.hij(" ",e.nome,""),o.xp6(2),o.Q6J("ngIf",e.info.length>0),o.xp6(5),o.Q6J("ngForOf",e.procedura)}}function i0e(n,t){if(1&n&&(o.TgZ(0,"div")(1,"div",28),o._uU(2,"Info Skills"),o.qZA(),o._UZ(3,"br")(4,"br"),o.TgZ(5,"div",29)(6,"b"),o._uU(7,"Classe: "),o.qZA(),o.TgZ(8,"b",30),o._uU(9),o.qZA()(),o.YNc(10,n0e,13,3,"ul",12),o.qZA()),2&n){const e=o.oxw(2);o.xp6(9),o.Oqu(e.infoSkills[0].classe),o.xp6(1),o.Q6J("ngForOf",e.infoSkills)}}function r0e(n,t){if(1&n&&(o.TgZ(0,"div",27),o._UZ(1,"br"),o.YNc(2,i0e,11,2,"div",23),o.qZA()),2&n){const e=o.oxw();o.xp6(2),o.Q6J("ngIf",e.infoSkills.length>0)}}function s0e(n,t){if(1&n&&(o.TgZ(0,"li"),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e," ")}}function o0e(n,t){if(1&n&&(o.TgZ(0,"div")(1,"b",36),o._uU(2,"Spells:"),o.qZA(),o.TgZ(3,"ul"),o.YNc(4,s0e,2,1,"li",12),o.qZA()()),2&n){const e=o.oxw(2);o.xp6(4),o.Q6J("ngForOf",null==e.spellsChierico?null:e.spellsChierico.spell)}}function a0e(n,t){if(1&n&&(o.TgZ(0,"li"),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e," ")}}function l0e(n,t){if(1&n&&(o.TgZ(0,"div")(1,"b"),o._uU(2,"Aura:"),o.qZA(),o._uU(3),o._UZ(4,"br")(5,"br"),o.TgZ(6,"b",36),o._uU(7,"Spells:"),o.qZA(),o.TgZ(8,"ul"),o.YNc(9,a0e,2,1,"li",12),o.qZA()()),2&n){const e=o.oxw(2);o.xp6(3),o.hij(" ",e.spellsPaladino.aura,""),o.xp6(6),o.Q6J("ngForOf",null==e.spellsPaladino?null:e.spellsPaladino.spell)}}function c0e(n,t){if(1&n&&(o.TgZ(0,"div",34),o._UZ(1,"br"),o.TgZ(2,"div")(3,"div",35),o._uU(4,"Info aggiuntive chierico/paladino"),o.qZA(),o._UZ(5,"br")(6,"br"),o.YNc(7,o0e,5,1,"div",23),o.YNc(8,l0e,10,2,"div",23),o.qZA()()),2&n){const e=o.oxw();o.xp6(7),o.Q6J("ngIf","Chierico"===e.schedaPg.classe.nome),o.xp6(1),o.Q6J("ngIf","Paladino"===e.schedaPg.classe.nome)}}function u0e(n,t){if(1&n&&(o.TgZ(0,"div")(1,"b"),o._uU(2,"Info:"),o.qZA(),o.TgZ(3,"span",32),o._uU(4),o.qZA(),o._UZ(5,"br")(6,"br"),o.qZA()),2&n){const e=o.oxw().$implicit;o.xp6(4),o.hij(" ",e.info,"")}}function d0e(n,t){if(1&n&&(o.TgZ(0,"ul")(1,"li"),o._uU(2),o.qZA()()),2&n){const e=t.$implicit;o.xp6(2),o.hij(" ",e,"")}}function h0e(n,t){if(1&n&&(o.TgZ(0,"ul")(1,"li")(2,"b"),o._uU(3,"Skill:"),o.qZA(),o._uU(4),o.qZA(),o._UZ(5,"br"),o.YNc(6,u0e,7,1,"div",23),o.TgZ(7,"b"),o._uU(8,"Procedura:"),o.qZA(),o._UZ(9,"br"),o.YNc(10,d0e,3,1,"ul",12),o._UZ(11,"br"),o.qZA()),2&n){const e=t.$implicit;o.xp6(4),o.hij(" ",e.nome,""),o.xp6(2),o.Q6J("ngIf",e.info.length>0),o.xp6(4),o.Q6J("ngForOf",e.procedura)}}function A0e(n,t){if(1&n&&(o.TgZ(0,"div")(1,"div",35),o._uU(2,"Info Skills"),o.qZA(),o._UZ(3,"br")(4,"br"),o.TgZ(5,"div")(6,"b"),o._uU(7,"Classe: "),o.qZA(),o.TgZ(8,"b",30),o._uU(9),o.qZA()(),o.YNc(10,h0e,12,3,"ul",12),o.qZA()),2&n){const e=o.oxw(2);o.xp6(9),o.Oqu(e.infoSkills[0].classe),o.xp6(1),o.Q6J("ngForOf",e.infoSkills)}}function f0e(n,t){if(1&n&&(o.TgZ(0,"div",37),o._UZ(1,"br"),o.YNc(2,A0e,11,2,"div",23),o.qZA()),2&n){const e=o.oxw();o.xp6(2),o.Q6J("ngIf",e.infoSkills.length>0)}}let p0e=(()=>{class n{constructor(e,i,r,s,a,l,d){this.dialogRef=e,this.cdr=i,this.renderer=r,this.service=s,this.data=a,this.userService=l,this._utils=d,this.schedaPg=new $x,this.guid="",this.spellsPaladino=new $3,this.spellsChierico=new J3,this.infoSkills=new Array,this.schedaPg=a.pg,this.guid=a.guid,this.infoSkills=a.infoSkills}ngOnInit(){this.schedaPg.skills=this.schedaPg.skills.sort(e=>e.idTipologiaSkill),this.getInfoAggiuntive(),this.userService.openSnackBar("infoAggiuntive","bottom","center")}getInfoAggiuntive(){switch(this.schedaPg.classe.nome){case"Paladino":this.service.getSpellPaladinoFromDivinita(this.schedaPg.religione.nome).subscribe(e=>this.spellsPaladino=e[0]);break;case"Chierico":this.service.getSpellChiericoFromDivinita(this.schedaPg.religione.nome).subscribe(e=>this.spellsChierico=e[0])}}exportAsPDF(){let e=document.getElementById("MyPdf"),i=(this.spellsChierico.spell.length>0||this.spellsPaladino.spell.length>0)&&this.isRotinrim()?document.getElementById("MyPdf2"):null,r=this.infoSkills.length>0&&this.isRotinrim()?document.getElementById("MyPdf3"):null;null!=e&&eY()(e).then(s=>{const a=s.toDataURL("image/png");let l=new Uve("p","cm","a4");l.addImage(a,"PNG",5.5,1,11,15.5),null!=i&&null==r?this.canvas(i,l).subscribe(d=>{l=d,this.pdfSave(l)}):null!=r&&null==i?this.canvas(r,l).subscribe(d=>{l=d,this.pdfSave(l)}):r&&i?this.canvas(i,l).subscribe(d=>{l=d,this.canvas(r,l).subscribe(A=>{l=A,this.pdfSave(l)})}):this.pdfSave(l)})}canvas(e,i){let r=new tn.x;return eY()(e).then(s=>{i.addPage();const a=i.getImageProperties(s),l=i.internal.pageSize.getWidth(),d=a.height*l/a.width,A=s.toDataURL("image/png");i.addImage(A,"PNG",.1,.5,l-1.1,d),r.next(i)}),r.asObservable()}pdfSave(e){e.save("RT "+this.schedaPg.nome+" schedaPersonaggio.pdf")}isSmartphone(){return this._utils.isSmartphone()}isRotinrim(){return this.userService.isRotinrim}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(z0),o.Y36(o.sBO),o.Y36(o.Qsj),o.Y36(j0),o.Y36(Fm),o.Y36(gd),o.Y36(lh))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-finish-wizard"]],decls:92,vars:22,consts:[["fxLayoutAlign","","fxLayout","column",1,"external"],["fxFlex","2","mat-dialog-title","",1,"title"],["fxFlex",""],["fxLayout","row wrap","fxLayoutAlign","space-around  stretch","fxFlex","100","id","MyPdf"],["fxLayout","column","fxFlex","40",1,"generic","yBar"],["fxFlex","25"],[1,"subtitle"],[1,"nome"],["fxFlex","15"],["fxFlex","30",1,"stats"],[1,"material-symbols-outlined"],["fxLayout","column","fxFlex","60",1,"generic"],[4,"ngFor","ngForOf"],["fxFlex","10","style","text-align:center",4,"ngIf"],["fxLayoutAlign","space-around center","fxFlex","10"],["mat-raised-button","","color","primary","matTooltip","Download pdf",3,"click"],["id","MyPdf2","style","font-size:20px; position: absolute; bottom:1000px; width: 50%;",4,"ngIf"],["id","MyPdf3","style","font-size:25px; position: absolute; bottom:900px;",4,"ngIf"],["id","MyPdf2","style"," position: absolute; bottom:1000px; width:200%; height:1000px",4,"ngIf"],["id","MyPdf3","style"," position: absolute; bottom:2000px; width:200%; height:2000px",4,"ngIf"],["class","material-symbols-outlined",4,"ngIf"],["fxFlex","10",2,"text-align","center"],["id","MyPdf2",2,"font-size","20px","position","absolute","bottom","1000px","width","50%"],[4,"ngIf"],[2,"text-align","center","font-size","17px"],[1,"classe"],[1,"classe",2,"text-align","center","font-size","17px"],["id","MyPdf3",2,"font-size","25px","position","absolute","bottom","900px"],[1,"subtitle",2,"font-size","30px"],[2,"font-size","27px"],[1,"blue"],[1,"li","skill"],[2,"line-height","1"],[1,"li"],["id","MyPdf2",2,"position","absolute","bottom","1000px","width","200%","height","1000px"],[1,"titleSmartphone"],[2,"text-align","center"],["id","MyPdf3",2,"position","absolute","bottom","2000px","width","200%","height","2000px"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1),o._uU(2,"Scheda Personaggio "),o._UZ(3,"mat-divider"),o.qZA(),o.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6),o._uU(9,"Info generiche "),o._UZ(10,"br"),o.qZA(),o.TgZ(11,"div")(12,"span",7),o._uU(13,"Nome: "),o.qZA(),o._uU(14),o.qZA(),o.TgZ(15,"div")(16,"span",7),o._uU(17,"Razza: "),o.qZA(),o._uU(18),o.qZA(),o.TgZ(19,"div")(20,"span",7),o._uU(21,"Classe: "),o.qZA(),o._uU(22),o.qZA(),o.TgZ(23,"div")(24,"span",7),o._uU(25,"Divinit\xe0: "),o.qZA(),o._uU(26),o.qZA()(),o.TgZ(27,"div",8)(28,"div",6),o._uU(29,"Guid"),o.qZA(),o._uU(30),o.qZA(),o.TgZ(31,"div",9)(32,"div",6),o._uU(33,"Stats "),o._UZ(34,"br"),o.qZA(),o.TgZ(35,"div")(36,"span",10),o._uU(37," fitness_center "),o.qZA(),o.TgZ(38,"span",7),o._uU(39,"Forza: "),o.qZA(),o._uU(40),o.qZA(),o.TgZ(41,"div")(42,"span",10),o._uU(43," sprint "),o.qZA(),o.TgZ(44,"span",7),o._uU(45,"Destrezza: "),o.qZA(),o._uU(46),o.qZA(),o.TgZ(47,"div")(48,"span",10),o._uU(49," psychology "),o.qZA(),o.TgZ(50,"span",7),o._uU(51,"Intelligenza: "),o.qZA(),o._uU(52),o.qZA()(),o.TgZ(53,"div",9)(54,"div",6),o._uU(55,"Info "),o._UZ(56,"br"),o.qZA(),o.TgZ(57,"div")(58,"span",10),o._uU(59," favorite "),o.qZA(),o.TgZ(60,"span",7),o._uU(61,"HP: "),o.qZA(),o._uU(62,"?"),o.qZA(),o.TgZ(63,"div")(64,"span",10),o._uU(65," bolt "),o.qZA(),o.TgZ(66,"span",7),o._uU(67,"Stamina: "),o.qZA(),o._uU(68),o.ALo(69,"number"),o.qZA(),o.TgZ(70,"div")(71,"span",10),o._uU(72," backpack "),o.qZA(),o.TgZ(73,"span",7),o._uU(74,"Stone: "),o.qZA(),o._uU(75),o.ALo(76,"number"),o.qZA()()(),o.TgZ(77,"div",11)(78,"div",2)(79,"div",6),o._uU(80,"Skills"),o.qZA(),o.YNc(81,Kve,10,8,"div",12),o.qZA(),o.YNc(82,Zve,3,0,"div",13),o.qZA()()(),o._UZ(83,"mat-divider"),o.TgZ(84,"div",14)(85,"button",15),o.NdJ("click",function(){return i.exportAsPDF()}),o.TgZ(86,"span",10),o._uU(87," download "),o.qZA()()()(),o.YNc(88,Xve,9,2,"div",16),o.YNc(89,r0e,3,1,"div",17),o.YNc(90,c0e,9,2,"div",18),o.YNc(91,f0e,3,1,"div",19)),2&e&&(o.xp6(14),o.Oqu(i.schedaPg.nome),o.xp6(4),o.Oqu(i.schedaPg.razza.nome),o.xp6(4),o.Oqu(i.schedaPg.classe.nome),o.xp6(4),o.Oqu(i.schedaPg.religione.nome),o.xp6(4),o.hij(" ",i.guid," "),o.xp6(10),o.Oqu(i.schedaPg.stats.forza),o.xp6(6),o.Oqu(i.schedaPg.stats.destrezza),o.xp6(6),o.Oqu(i.schedaPg.stats.intelligenza),o.xp6(16),o.Oqu(o.xi3(69,16,.75*i.schedaPg.stats.destrezza+.25*i.schedaPg.stats.forza,"1.0-0")),o.xp6(7),o.Oqu(o.xi3(76,19,40+3.5*i.schedaPg.stats.forza,"1.0-0")),o.xp6(6),o.Q6J("ngForOf",i.schedaPg.skills),o.xp6(1),o.Q6J("ngIf",!i.isSmartphone()&&i.isRotinrim()),o.xp6(6),o.Q6J("ngIf",!i.isSmartphone()),o.xp6(1),o.Q6J("ngIf",!i.isSmartphone()),o.xp6(1),o.Q6J("ngIf",i.isSmartphone()),o.xp6(1),o.Q6J("ngIf",i.isSmartphone()))},dependencies:[ds,Si,HT,wu,fc,_d,il,Uy,CK,e_],styles:[".generic[_ngcontent-%COMP%]{overflow:auto}.yBar[_ngcontent-%COMP%]{border-right:2px solid #004a9f}.stats[_ngcontent-%COMP%]{height:100%}.external[_ngcontent-%COMP%]{height:calc(100vh - 100px);width:calc(100vh - 300px);border:3px solid #004a9f;border-radius:10px;margin:0;padding:0;overflow-y:auto}.subtitle[_ngcontent-%COMP%]{color:#004a9f;font-weight:700;font-family:Playfair Display,serif;text-align:center;width:100%;padding-bottom:3%}mat-divider[_ngcontent-%COMP%]{border-top-color:#004a9f;border-top-width:2px}.nome[_ngcontent-%COMP%]{font-size:medium;font-weight:700;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;color:#000;padding:2%}.title[_ngcontent-%COMP%]{text-align:center;color:#000;font-family:Playfair Display,serif;font-weight:700}.classe[_ngcontent-%COMP%]{font-size:15px}.skill[_ngcontent-%COMP%]{font-size:30px}li[_ngcontent-%COMP%]{padding:10px;line-height:1}.titleSmartphone[_ngcontent-%COMP%]{font-size:15px;color:#004a9f;text-align:center;font-weight:700}element.style[_ngcontent-%COMP%]{overflow:unset}"]}),n})();function g0e(n,t){if(1&n&&(o.TgZ(0,"li"),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e," ")}}let m0e=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.data=i,this.service=r,this.spellChierico=new J3,this.religione="",null!=i&&""!==i&&(this.religione=i)}ngOnInit(){this.getSpells()}getSpells(){this.spellChierico.religione="",null!=this.religione&&""!=this.religione&&this.service.getSpellChiericoFromDivinita(this.religione).subscribe(e=>{e.length>0&&(this.spellChierico=e[0])})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(z0),o.Y36(Fm),o.Y36(j0))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-modale-chierico"]],decls:14,vars:2,consts:[["fxFlex","100","fxLayout","column",1,"home"],[1,"title"],[1,"blue"],[1,"li"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(o.TgZ(0,"mat-card",0)(1,"div",1)(2,"b",2),o._uU(3,"Info Spell Chierico"),o.qZA()(),o.TgZ(4,"ul")(5,"li",3)(6,"b"),o._uU(7,"Religione:"),o.qZA(),o._uU(8),o.qZA(),o._UZ(9,"br"),o.TgZ(10,"b"),o._uU(11,"Spells:"),o.qZA(),o.TgZ(12,"ul"),o.YNc(13,g0e,2,1,"li",4),o.qZA()()()),2&e&&(o.xp6(8),o.hij(" ",i.spellChierico.religione,""),o.xp6(5),o.Q6J("ngForOf",null==i.spellChierico?null:i.spellChierico.spell))},dependencies:[ds,fc,il,km],styles:["mat-card[_ngcontent-%COMP%]{border:2px solid #004a9f;border-radius:3px;margin:3%}mat-card-title[_ngcontent-%COMP%]{color:#004a9f}.blue[_ngcontent-%COMP%]{color:#004a9f}.title[_ngcontent-%COMP%]{font-size:20px}"]}),n})();function _0e(n,t){if(1&n&&(o.TgZ(0,"div")(1,"b"),o._uU(2,"Info:"),o.qZA(),o._uU(3),o._UZ(4,"br")(5,"br"),o.qZA()),2&n){const e=o.oxw().$implicit;o.xp6(3),o.hij(" ",e.info," ")}}function y0e(n,t){if(1&n&&(o.TgZ(0,"ul")(1,"li",4),o._uU(2),o.qZA()()),2&n){const e=t.$implicit;o.xp6(2),o.hij(" ",e,"")}}function v0e(n,t){if(1&n&&(o.TgZ(0,"ul")(1,"li",4)(2,"b"),o._uU(3,"Skill:"),o.qZA(),o._uU(4),o.qZA(),o._UZ(5,"br"),o.YNc(6,_0e,6,1,"div",5),o.TgZ(7,"b"),o._uU(8,"Procedura:"),o.qZA(),o.YNc(9,y0e,3,1,"ul",3),o._UZ(10,"br")(11,"mat-divider"),o.qZA()),2&n){const e=t.$implicit;o.xp6(4),o.hij(" ",e.nome,""),o.xp6(2),o.Q6J("ngIf",e.info.length>0),o.xp6(3),o.Q6J("ngForOf",e.procedura)}}let w0e=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i,this.infoSkills=new Array,this.infoSkills=i}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(z0),o.Y36(Fm))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-info-skills"]],decls:7,vars:2,consts:[["fxFlex","","fxLayout","column",1,"home"],[1,"title"],[1,"blue"],[4,"ngFor","ngForOf"],[1,"li"],[4,"ngIf"]],template:function(e,i){1&e&&(o.TgZ(0,"mat-card",0)(1,"div",1)(2,"b"),o._uU(3,"Classe: "),o.qZA(),o.TgZ(4,"b",2),o._uU(5),o.qZA()(),o.YNc(6,v0e,12,3,"ul",3),o.qZA()),2&e&&(o.xp6(5),o.Oqu(i.infoSkills[0].classe),o.xp6(1),o.Q6J("ngForOf",i.infoSkills))},dependencies:[ds,Si,HT,fc,il,km],styles:["mat-card[_ngcontent-%COMP%]{border:2px solid #004a9f;border-radius:3px;margin:3%}mat-card-title[_ngcontent-%COMP%]{color:#004a9f}.blue[_ngcontent-%COMP%]{color:#004a9f}.title[_ngcontent-%COMP%]{font-size:20px}"]}),n})(),b0e=0;const TH=new o.OlP("CdkAccordion");let C0e=(()=>{class n{constructor(){this._stateChanges=new tn.x,this._openCloseAllActions=new tn.x,this.id="cdk-accordion-"+b0e++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=mi(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[o._Bn([{provide:TH,useExisting:n}]),o.TTD]}),n})(),x0e=0,S0e=(()=>{class n{constructor(e,i,r){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=Xs.w0.EMPTY,this.closed=new o.vpe,this.opened=new o.vpe,this.destroyed=new o.vpe,this.expandedChange=new o.vpe,this.id="cdk-accordion-child-"+x0e++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((s,a)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===a&&this.id!==s&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(e){e=mi(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=mi(e)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(TH,12),o.Y36(o.sBO),o.Y36(I9))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[o._Bn([{provide:TH,useValue:void 0}])]}),n})(),E0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const I0e=["body"];function D0e(n,t){}const T0e=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],M0e=["mat-expansion-panel-header","*","mat-action-row"];function B0e(n,t){if(1&n&&o._UZ(0,"span",2),2&n){const e=o.oxw();o.Q6J("@indicatorRotate",e._getExpandedState())}}const F0e=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],k0e=["mat-panel-title","mat-panel-description","*"],MH=new o.OlP("MAT_ACCORDION"),tY="225ms cubic-bezier(0.4,0.0,0.2,1)",nY={indicatorRotate:dc("indicatorRotate",[Or("collapsed, void",oi({transform:"rotate(0deg)"})),Or("expanded",oi({transform:"rotate(180deg)"})),js("expanded <=> collapsed, void => collapsed",_o(tY))]),bodyExpansion:dc("bodyExpansion",[Or("collapsed, void",oi({height:"0px",visibility:"hidden"})),Or("expanded",oi({height:"*",visibility:"visible"})),js("expanded <=> collapsed, void => collapsed",_o(tY))])},iY=new o.OlP("MAT_EXPANSION_PANEL");let R0e=(()=>{class n{constructor(e,i){this._template=e,this._expansionPanel=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(iY,8))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),O0e=0;const rY=new o.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let sY=(()=>{class n extends S0e{constructor(e,i,r,s,a,l,d){super(e,i,r),this._viewContainerRef=s,this._animationMode=l,this._hideToggle=!1,this.afterExpand=new o.vpe,this.afterCollapse=new o.vpe,this._inputChanges=new tn.x,this._headerId="mat-expansion-panel-header-"+O0e++,this._bodyAnimationDone=new tn.x,this.accordion=e,this._document=a,this._bodyAnimationDone.pipe(V_((A,p)=>A.fromState===p.fromState&&A.toState===p.toState)).subscribe(A=>{"void"!==A.fromState&&("expanded"===A.toState?this.afterExpand.emit():"collapsed"===A.toState&&this.afterCollapse.emit())}),d&&(this.hideToggle=d.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=mi(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(oa(null),gr(()=>this.expanded&&!this._portal),(0,zr.q)(1)).subscribe(()=>{this._portal=new $D(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(MH,12),o.Y36(o.sBO),o.Y36(I9),o.Y36(o.s_b),o.Y36(Ze),o.Y36(o.QbO,8),o.Y36(rY,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,R0e,5),2&e){let s;o.iGM(s=o.CRH())&&(i._lazyContent=s.first)}},viewQuery:function(e,i){if(1&e&&o.Gf(I0e,5),2&e){let r;o.iGM(r=o.CRH())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,i){2&e&&o.ekj("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[o._Bn([{provide:MH,useValue:void 0},{provide:iY,useExisting:n}]),o.qOj,o.TTD],ngContentSelectors:M0e,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(o.F$t(T0e),o.Hsn(0),o.TgZ(1,"div",0,1),o.NdJ("@bodyExpansion.done",function(s){return i._bodyAnimationDone.next(s)}),o.TgZ(3,"div",2),o.Hsn(4,1),o.YNc(5,D0e,0,0,"ng-template",3),o.qZA(),o.Hsn(6,2),o.qZA()),2&e&&(o.xp6(1),o.Q6J("@bodyExpansion",i._getExpandedState())("id",i.id),o.uIk("aria-labelledby",i._headerId),o.xp6(4),o.Q6J("cdkPortalOutlet",i._portal))},dependencies:[Kx],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[nY.bodyExpansion]},changeDetection:0}),n})();class L0e{}const P0e=Qk(L0e);let oY=(()=>{class n extends P0e{constructor(e,i,r,s,a,l,d){super(),this.panel=e,this._element=i,this._focusMonitor=r,this._changeDetectorRef=s,this._animationMode=l,this._parentChangeSubscription=Xs.w0.EMPTY;const A=e.accordion?e.accordion._stateChanges.pipe(gr(p=>!(!p.hideToggle&&!p.togglePosition))):za.E;this.tabIndex=parseInt(d||"")||0,this._parentChangeSubscription=(0,vu.T)(e.opened,e.closed,A,e._inputChanges.pipe(gr(p=>!!(p.hideToggle||p.disabled||p.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(gr(()=>e._containsFocus())).subscribe(()=>r.focusVia(i,"program")),a&&(this.expandedHeight=a.expandedHeight,this.collapsedHeight=a.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Im(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(sY,1),o.Y36(o.SBq),o.Y36(Lp),o.Y36(o.sBO),o.Y36(rY,8),o.Y36(o.QbO,8),o.$8M("tabindex"))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i._toggle()})("keydown",function(s){return i._keydown(s)}),2&e&&(o.uIk("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),o.Udp("height",i._getHeaderHeight()),o.ekj("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[o.qOj],ngContentSelectors:k0e,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,i){1&e&&(o.F$t(F0e),o.TgZ(0,"span",0),o.Hsn(1),o.Hsn(2,1),o.Hsn(3,2),o.qZA(),o.YNc(4,B0e,1,1,"span",1)),2&e&&(o.ekj("mat-content-hide-toggle",!i._showToggle()),o.xp6(4),o.Q6J("ngIf",i._showToggle()))},dependencies:[Si],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[nY.indicatorRotate]},changeDetection:0}),n})(),N0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),U0e=(()=>{class n extends C0e{constructor(){super(...arguments),this._ownHeaders=new o.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=mi(e)}ngAfterContentInit(){this._headers.changes.pipe(oa(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new xse(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-accordion"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,oY,5),2&e){let s;o.iGM(s=o.CRH())&&(i._headers=s)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[o._Bn([{provide:MH,useExisting:n}]),o.qOj]}),n})(),H0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Us,dr,E0e,oC]}),n})();function Q0e(n,t){1&n&&(o.TgZ(0,"span",11),o._uU(1," collections_bookmark "),o.qZA())}function V0e(n,t){1&n&&(o.TgZ(0,"span",11),o._uU(1," music_note "),o.qZA())}function j0e(n,t){1&n&&(o.TgZ(0,"span",11),o._uU(1," receipt_long "),o.qZA())}function z0e(n,t){1&n&&(o.TgZ(0,"span",11),o._uU(1," school "),o.qZA())}function G0e(n,t){1&n&&(o.TgZ(0,"span",11),o._uU(1," auto_fix "),o.qZA())}function q0e(n,t){1&n&&(o.TgZ(0,"span",11),o._uU(1," swords "),o.qZA())}function K0e(n,t){if(1&n&&(o.TgZ(0,"div",13),o.YNc(1,Q0e,2,0,"span",14),o.YNc(2,V0e,2,0,"span",14),o.YNc(3,j0e,2,0,"span",14),o.YNc(4,z0e,2,0,"span",14),o.YNc(5,G0e,2,0,"span",14),o.YNc(6,q0e,2,0,"span",14),o.TgZ(7,"span"),o._uU(8),o.TgZ(9,"b"),o._uU(10),o.qZA()()()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("ngIf",4==e.idTipologiaSkill),o.xp6(1),o.Q6J("ngIf",5==e.idTipologiaSkill),o.xp6(1),o.Q6J("ngIf",0==e.idTipologiaSkill),o.xp6(1),o.Q6J("ngIf",3==e.idTipologiaSkill),o.xp6(1),o.Q6J("ngIf",2==e.idTipologiaSkill),o.xp6(1),o.Q6J("ngIf",1==e.idTipologiaSkill),o.xp6(2),o.hij("",e.nome,": "),o.xp6(2),o.Oqu(e.value)}}const Z0e=function(n,t,e){return{"":n,selected:t,notSelected:e}};function W0e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-accordion",9)(1,"mat-expansion-panel",10),o.NdJ("opened",function(){const r=o.CHM(e),s=r.$implicit,a=r.index,l=o.oxw(2);return o.KtG(l.select(s,a))}),o.TgZ(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"b"),o._uU(5,"Nome:\xa0"),o.qZA(),o._uU(6),o.TgZ(7,"b"),o._uU(8,"Classe:\xa0"),o.qZA(),o._uU(9),o.TgZ(10,"span",11),o._uU(11," fitness_center "),o.qZA(),o._uU(12,"\xa0"),o.TgZ(13,"b"),o._uU(14),o.TgZ(15,"b"),o._uU(16,"\xa0 "),o.TgZ(17,"span",11),o._uU(18," sprint "),o.qZA(),o._uU(19," \xa0"),o.qZA(),o._uU(20),o.qZA(),o._uU(21,"\xa0 "),o.TgZ(22,"span",11),o._uU(23," psychology "),o.qZA(),o._uU(24,"\xa0"),o.TgZ(25,"b"),o._uU(26),o.qZA(),o._uU(27," \xa0\xa0\xa0\xa0 Utilizzata \xa0"),o.TgZ(28,"b"),o._uU(29),o.qZA(),o._uU(30,"\xa0 volta/e "),o.qZA()(),o.YNc(31,K0e,11,8,"div",12),o._UZ(32,"br"),o.qZA(),o._UZ(33,"mat-divider")(34,"div"),o.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=o.oxw(2);o.xp6(1),o.Q6J("ngClass",o.kEZ(9,Z0e,-1==r.selezionato,r.selezionato===i,r.selezionato!==i&&-1!==r.selezionato))("expanded",r.selezionato==i),o.xp6(5),o.hij("",e.nome," \xa0\xa0\xa0\xa0 "),o.xp6(3),o.hij("",e.classe.nome," \xa0\xa0\xa0\xa0 "),o.xp6(5),o.hij("",e.stats.forza,"\xa0"),o.xp6(6),o.hij("",e.stats.destrezza,"\xa0"),o.xp6(6),o.Oqu(e.stats.intelligenza),o.xp6(3),o.Oqu(e.utilizzatoNVolte),o.xp6(2),o.Q6J("ngForOf",e.skills)}}const Y0e=function(){return[5]};function $0e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2)(1,"div",3)(2,"u")(3,"b"),o._uU(4,"Seleziona un template cliccando su una scheda personaggio"),o.qZA()()(),o.TgZ(5,"div",4),o.YNc(6,W0e,35,13,"mat-accordion",5),o.TgZ(7,"mat-paginator",6),o.NdJ("page",function(r){o.CHM(e);const s=o.oxw();return s.pageEvent=r,o.KtG(s.onPaginateChange(r))}),o.qZA()(),o.TgZ(8,"div",7)(9,"button",8),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.selectTemplate())}),o._uU(10,"Seleziona il Template "),o.TgZ(11,"mat-icon"),o._uU(12,"done"),o.qZA()()()()}if(2&n){const e=o.oxw();o.xp6(6),o.Q6J("ngForOf",e.pgPaginati),o.xp6(1),o.Q6J("length",e.schedePg.length)("pageSize",e.pageSize)("pageSizeOptions",o.DdM(5,Y0e)),o.xp6(2),o.Q6J("disabled",-1==e.selezionato)}}function J0e(n,t){1&n&&(o.TgZ(0,"span",11),o._uU(1," collections_bookmark "),o.qZA())}function X0e(n,t){1&n&&(o.TgZ(0,"span",11),o._uU(1," music_note "),o.qZA())}function ewe(n,t){1&n&&(o.TgZ(0,"span",11),o._uU(1," receipt_long "),o.qZA())}function twe(n,t){1&n&&(o.TgZ(0,"span",11),o._uU(1," school "),o.qZA())}function nwe(n,t){1&n&&(o.TgZ(0,"span",11),o._uU(1," auto_fix "),o.qZA())}function iwe(n,t){1&n&&(o.TgZ(0,"span",11),o._uU(1," swords "),o.qZA())}function rwe(n,t){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,J0e,2,0,"span",14),o.YNc(2,X0e,2,0,"span",14),o.YNc(3,ewe,2,0,"span",14),o.YNc(4,twe,2,0,"span",14),o.YNc(5,nwe,2,0,"span",14),o.YNc(6,iwe,2,0,"span",14),o.TgZ(7,"span"),o._uU(8),o.TgZ(9,"b"),o._uU(10),o.qZA()()()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("ngIf",4==e.idTipologiaSkill),o.xp6(1),o.Q6J("ngIf",5==e.idTipologiaSkill),o.xp6(1),o.Q6J("ngIf",0==e.idTipologiaSkill),o.xp6(1),o.Q6J("ngIf",3==e.idTipologiaSkill),o.xp6(1),o.Q6J("ngIf",2==e.idTipologiaSkill),o.xp6(1),o.Q6J("ngIf",1==e.idTipologiaSkill),o.xp6(2),o.hij("",e.nome,": "),o.xp6(2),o.Oqu(e.value)}}function swe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-accordion")(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"b"),o._uU(5),o.qZA(),o._UZ(6,"br"),o.qZA()(),o.TgZ(7,"b"),o._uU(8,"F:"),o.qZA(),o._uU(9),o.TgZ(10,"b"),o._uU(11,"D:"),o.qZA(),o._uU(12),o.TgZ(13,"b"),o._uU(14,"I:"),o.qZA(),o._uU(15),o._UZ(16,"br")(17,"br"),o._uU(18," Utilizzata "),o.TgZ(19,"b"),o._uU(20),o.qZA(),o._uU(21," volta/e "),o._UZ(22,"br")(23,"br"),o.YNc(24,rwe,11,8,"div",16),o._UZ(25,"br"),o.TgZ(26,"div",17)(27,"button",18),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw(2);return o.KtG(a.selectTemplate(s))}),o._uU(28,"Seleziona il Template "),o.TgZ(29,"mat-icon"),o._uU(30,"done"),o.qZA()()()(),o._UZ(31,"mat-divider")(32,"div"),o.qZA()}if(2&n){const e=t.$implicit;o.xp6(5),o.Oqu(e.nome),o.xp6(4),o.hij("",e.stats.forza," - "),o.xp6(3),o.hij(" ",e.stats.destrezza," - "),o.xp6(3),o.hij(" ",e.stats.intelligenza,""),o.xp6(5),o.Oqu(e.utilizzatoNVolte),o.xp6(4),o.Q6J("ngForOf",e.skills)}}const owe=function(){return[5,10]};function awe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",15)(1,"div"),o.YNc(2,swe,33,6,"mat-accordion",16),o.TgZ(3,"mat-paginator",6),o.NdJ("page",function(r){o.CHM(e);const s=o.oxw();return s.pageEvent=r,o.KtG(s.onPaginateChange(r))}),o.qZA()()()}if(2&n){const e=o.oxw();o.xp6(2),o.Q6J("ngForOf",e.pgPaginati),o.xp6(1),o.Q6J("length",e.schedePg.length)("pageSize",e.pageSize)("pageSizeOptions",o.DdM(4,owe))}}let lwe=(()=>{class n{constructor(e,i,r,s){this.service=e,this.dialogRef=i,this.data=r,this.utils=s,this.pgToSave=new $x,this.schedePg=new Array,this.pgPaginati=new Array,this.pageEvent=new lme,this.pageSize=5,this.isSmartphone=!1,this.isOpened=!0,this.selezionato=-1,this.classe=new lT,r&&(this.selezionato=r.Selezionato,this.classe=r.Classe)}ngOnInit(){this.isSmartphone=this.utils.isSmartphone(),null!=this.classe.nome&&this.service.getSchedePgByClasse(this.classe.nome).subscribe(e=>{var i;void 0!==(null===(i=e[0])||void 0===i?void 0:i.nome)&&this.elabSkills(e)})}elabSkills(e){this.schedePg=new Array,e.forEach(i=>{null!=i.guid&&this.service.getSkillsPg(i.guid).subscribe(r=>{i.utilizzatoNVolte>0&&this.schedePg.push(Y3.Convert(i,r))})}),this.getPaginate()}getPaginate(){setTimeout(()=>{this.schedePg=[...new Map(this.schedePg.map(e=>[e.guid,e])).values()],this.pgPaginati=this.schedePg.slice(0,this.pageSize),this.pgPaginati=this.pgPaginati.sort(e=>e.utilizzatoNVolte).reverse(),this.pgPaginati.forEach(e=>{e.skills=e.skills.sort(function(i,r){return i.idTipologiaSkill>r.idTipologiaSkill?1:-1})})},500)}onPaginateChange(e){this.pgPaginati=this.schedePg.slice(e.pageIndex*e.pageSize,e.pageIndex*e.pageSize+e.pageSize)}selectTemplate(e=new $x){this.dialogRef.close(e.nome?{Pg:e,Selezionato:this.selezionato}:{Pg:this.pgToSave,Selezionato:this.selezionato})}select(e,i){this.selezionato=i,this.pgToSave=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(j0),o.Y36(z0),o.Y36(Fm),o.Y36(lh))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-template-stat-skills"]],decls:2,vars:2,consts:[["class","row",4,"ngIf"],["class","row","class","containerSmart",4,"ngIf"],[1,"row"],[2,"padding-bottom","3vh","text-align","center"],[1,"container"],["multi","false",4,"ngFor","ngForOf"],[3,"length","pageSize","pageSizeOptions","page"],["fxLayout","column","fxLayoutAlign","space-around start",2,"padding-top","3vh"],["mat-raised-button","","color","primary","fxLayout","row","fxFlex","",3,"disabled","click"],["multi","false"],[3,"ngClass","expanded","opened"],[1,"material-symbols-outlined"],["fxLayout","row",4,"ngFor","ngForOf"],["fxLayout","row"],["class","material-symbols-outlined",4,"ngIf"],[1,"containerSmart"],[4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutAlign","center center",2,"padding-top","3vh"],["mat-raised-button","","fxLayout","row","fxFlex","","color","primary",3,"click"]],template:function(e,i){1&e&&(o.YNc(0,$0e,13,6,"div",0),o.YNc(1,awe,4,5,"div",1)),2&e&&(o.Q6J("ngIf",!i.isSmartphone),o.xp6(1),o.Q6J("ngIf",i.isSmartphone))},dependencies:[Es,ds,Si,Qp,HT,wu,fc,_d,il,UR,U0e,sY,oY,N0e,n2],styles:[".selected[_ngcontent-%COMP%]{border:3px outset #004a9f}.notSelected[_ngcontent-%COMP%]{border:2px outset red}.container[_ngcontent-%COMP%]{max-height:80vh}.containerSmart[_ngcontent-%COMP%]{max-height:60vh}"]}),n})();function cwe(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Aggiungi il nome del PG "),o.qZA())}function uwe(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Nome troppo breve "),o.qZA())}function dwe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-option",39),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return r.changeRazza="changed",r.getReligioni(),o.KtG(r.getClassi())}),o._uU(1),o.qZA()}if(2&n){const e=t.$implicit;o.Q6J("value",e.nome),o.xp6(1),o.Oqu(e.nome)}}function hwe(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Seleziona una razza "),o.qZA())}function Awe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-option",40),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return r.getReligioni(),r.autoSetStat(),r.getInfoSkill(),o.KtG(r.enableButtonTemplate())}),o._uU(1),o.qZA()}if(2&n){const e=t.$implicit,i=o.oxw();o.Q6J("disabled",i.classi.length<1)("value",e.nome),o.xp6(1),o.Oqu(e.nome)}}function fwe(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Seleziona una classe "),o.qZA())}function pwe(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Seleziona prima una razza "),o.qZA())}function gwe(n,t){if(1&n&&(o.TgZ(0,"mat-option",41),o._uU(1),o.qZA()),2&n){const e=t.$implicit,i=o.oxw();o.Q6J("value",e.nome)("disabled",void 0===i.schedaPg.classe.nome||0==i.religioni.length),o.xp6(1),o.Oqu(e.nome)}}function mwe(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Seleziona una religione "),o.qZA())}function _we(n,t){1&n&&(o.TgZ(0,"mat-hint"),o._uU(1," Seleziona prima una razza e una classe "),o.qZA())}function ywe(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Aggiungi la forza del pg "),o.qZA())}function vwe(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Aggiungi la destrezza del pg "),o.qZA())}function wwe(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Aggiungi l'intelligenza del pg "),o.qZA())}function bwe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",38),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.selectSkills())}),o._uU(1,"Scegli skills "),o.TgZ(2,"mat-icon"),o._uU(3,"assignment"),o.qZA()()}if(2&n){const e=o.oxw();o.Q6J("disabled",void 0===e.schedaPg.classe.nome)}}function Cwe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",42),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.selectSkills())}),o._uU(1,"Skills selezionate "),o.TgZ(2,"mat-icon"),o._uU(3,"done"),o.qZA()()}}const xwe=function(n){return{color:n}};let Iwe=(()=>{class n{constructor(e,i,r,s){this.service=e,this.dialog=i,this.userService=r,this.utils=s,this.nomeForm=new ls,this.classeForm=new ls,this.razzaForm=new ls,this.religioneForm=new ls,this.forzaForm=new ls,this.destrezzaForm=new ls,this.intelligenzaForm=new ls,this.statsChecked=!1,this.colorBar="primary",this.schedaPg=new $x,this.classi=new Array,this.razze=new Array,this.religioni=new Array,this.skills=new Array,this.skillConsigliate=new Array,this.changeRazza="",this.isDruido=!1,this.infoSkills=new Array,this.totaleStat=0,this.fromTemplate=!1,this.buttonTemplate=!1,this.selezionato=-1}ngOnInit(){this.resetFormControl(),this.service.getAllRazze().subscribe(e=>this.razze=e)}getReligioni(){if("Druido"==this.schedaPg.classe.nome)return this.service.getAllReligioni("Druidi").subscribe(e=>this.religioni=e),void(this.isDruido=!0);if("Druido"!==this.schedaPg.classe.nome&&("changed"==this.changeRazza||""==this.changeRazza)||this.isDruido){switch(this.schedaPg.razza.nome){case"Quenya":case"Telero":case"Sindar":this.service.getAllReligioni("Elfico").subscribe(e=>this.religioni=e);break;case"Umano comune":this.service.getAllReligioni("Umano").subscribe(e=>this.religioni=e);break;case"Nordico":this.service.getAllReligioni("Nordico").subscribe(e=>this.religioni=e);break;case"Nano":this.service.getAllReligioni("Nanico").subscribe(e=>this.religioni=e);break;case"Tremecciano":this.service.getAllReligioni("Tremecciano").subscribe(e=>this.religioni=e);break;case"Qwaylar":this.service.getAllReligioni("Qwaylar").subscribe(e=>this.religioni=e);break;case"Mezz'elfo":this.service.getAllReligioni().subscribe(e=>this.religioni=e)}this.isDruido=!1,this.changeRazza="notChanged"}}selectSkills(){this.dialog.open(jye,{width:this.utils.isSmartphone()?"80%":"40%",data:this.schedaPg}).afterClosed().subscribe(i=>{void 0!==i?.data&&(this.schedaPg.skills=i?.data)})}filterClassi(e){return e.filter(r=>null==r?.notRazze||!r.notRazze.includes(this.schedaPg.razza.nome))}getClassi(){this.service.getAllClass().subscribe(e=>this.classi=this.filterClassi(e))}getInfoSkill(){this.service.getInfoSkill(this.schedaPg.classe.nome).subscribe(e=>{this.infoSkills=e.length>0?e:new Array})}openInfoSkills(){this.dialog.open(w0e,{data:this.infoSkills,height:this.utils.isSmartphone()?"60%":""})}checkForza(){this.schedaPg.stats.forza>120&&(this.schedaPg.stats.forza=120),this.schedaPg.stats.forza<0&&(this.schedaPg.stats.forza=1),this.totStat()}checkDestrezza(){this.schedaPg.stats.destrezza>120&&(this.schedaPg.stats.destrezza=120),this.schedaPg.stats.destrezza<0&&(this.schedaPg.stats.destrezza=1),this.totStat()}checkIntelligenza(){this.schedaPg.stats.intelligenza>120&&(this.schedaPg.stats.intelligenza=120),this.schedaPg.stats.intelligenza<0&&(this.schedaPg.stats.intelligenza=1),this.totStat()}autoSetStat(){if(this.statsChecked)switch(this.schedaPg.classe.nome){case"Guerriero":case"Berserker":this.schedaPg.stats.forza=120,this.schedaPg.stats.destrezza=79,this.schedaPg.stats.intelligenza=1;break;case"Mago":case"Chierico":this.schedaPg.stats.forza=70,this.schedaPg.stats.destrezza=10,this.schedaPg.stats.intelligenza=120;break;case"Paladino":this.schedaPg.stats.forza=100,this.schedaPg.stats.destrezza=70,this.schedaPg.stats.intelligenza=30;break;case"Ranger":case"Geniere":this.schedaPg.stats.forza=79,this.schedaPg.stats.destrezza=120,this.schedaPg.stats.intelligenza=1;break;case"Bardo":this.schedaPg.stats.forza=99,this.schedaPg.stats.destrezza=100,this.schedaPg.stats.intelligenza=1;break;default:this.schedaPg.stats.forza=0,this.schedaPg.stats.intelligenza=0,this.schedaPg.stats.destrezza=0}else this.schedaPg.stats.forza=0,this.schedaPg.stats.intelligenza=0,this.schedaPg.stats.destrezza=0;this.totStat()}totStat(){this.totaleStat=this.schedaPg.stats.forza+this.schedaPg.stats.destrezza+this.schedaPg.stats.intelligenza,this.colorBar=this.totaleStat>200&&this.totaleStat<215?"accent":this.totaleStat>215?"warn":"primary"}openPaladino(){this.dialog.open(Gye,{data:this.schedaPg.religione.nome})}openChierico(){this.dialog.open(m0e,{data:this.schedaPg.religione.nome})}checkSalva(){const e=this.schedaPg.stats;return 0!==e.forza&&0!==e.destrezza&&0!==e.intelligenza&&this.nomeForm.valid&&""!==this.schedaPg.religione.nome&&this.classeForm.valid&&this.razzaForm.valid&&this.schedaPg.skills.length>0}savePg(){let e=crypto.randomUUID();var i=confirm("Vuoi salvare la scheda pg in modo da poterla recuperare con il codice guid o utilizzarla come template di stat-skills?");i&&(this.service.AddPg(this.schedaPg,e,i),this.schedaPg.skills.forEach(r=>{this.service.addSkillsPg(r,e)})),this.fromTemplate&&(this.checkSalva(),this.service.updateSchedaPg(this.schedaPg.guid,this.schedaPg.utilizzatoNVolte+1)),this.openFinishWizard(e),this.reset()}reset(){this.totaleStat=0,this.schedaPg=new $x,this.resetFormControl()}openFinishWizard(e){this.dialog.open(p0e,{data:{pg:this.schedaPg,guid:e,infoSkills:this.infoSkills}}).afterOpened().subscribe(r=>this.infoSkills=new Array)}resetFormControl(){this.nomeForm=new ls("",[ma.required,ma.minLength(3)]),this.classeForm=new ls(null,[ma.required]),this.razzaForm=new ls(null,[ma.required]),this.religioneForm=new ls(null,[ma.required]),this.forzaForm=new ls(0,[ma.required,ma.minLength(1),ma.maxLength(3)]),this.destrezzaForm=new ls(0,[ma.required,ma.minLength(1),ma.maxLength(3)]),this.intelligenzaForm=new ls(0,[ma.required,ma.minLength(1),ma.maxLength(3)])}recuperaScheda(){let e=prompt("Inserisci il guid per recuperare una scheda gi\xe0 compilata");36==e?.length?(this.getClassi(),this.service.getPg(e).subscribe(i=>{var r;void 0!==(null===(r=i[0])||void 0===r?void 0:r.nome)&&(e?this.service.getSkillsPg(e).subscribe(s=>{this.schedaPg=Y3.Convert(i[0],s)}):alert("Nessuna scheda pg presente col guid inserito."))})):e&&alert("Formato guid non valido"),setTimeout(()=>{this.getReligioni()},500)}compareWith(e){return e===this.schedaPg.religione.nome}isChierico(){return"Chierico"===this.schedaPg.classe.nome}isRotinrim(){return this.userService.isRotinrim}spazioSmartphone(){return{margin:this.utils.isSmartphone()?"4%":"1%"}}openTemplate(){this.dialog.open(lwe,{width:this.utils.isSmartphone()?"100%":"50%",data:{Classe:this.schedaPg.classe,Selezionato:this.selezionato}}).afterClosed().subscribe(i=>{null!=i.Pg&&(this.selezionato=i.Selezionato,this.setTemplate(i.Pg))})}setTemplate(e){this.schedaPg.skills=e.skills,this.schedaPg.stats=e.stats,this.schedaPg.guid=e.guid,this.schedaPg.utilizzatoNVolte=e.utilizzatoNVolte,this.fromTemplate=!0,this.totStat()}enableButtonTemplate(){this.service.getSchedePgByClasse(this.schedaPg.classe.nome).subscribe(e=>{var i;if(void 0!==(null===(i=e[0])||void 0===i?void 0:i.nome)){var r=e.filter(s=>s.utilizzatoNVolte>0&&null!=s.utilizzatoNVolte);this.buttonTemplate=r.length>0}else this.buttonTemplate=!1})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(j0),o.Y36(Ly),o.Y36(gd),o.Y36(lh))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-scheda-personaggio"]],decls:94,vars:48,consts:[["fxLayout","column","fxFlex",""],["fxLayout","row","fxLayoutAlign","center center",1,"title"],["mat-icon-button","","matTooltip","Recupera una scheda gi\xe0 compilata",3,"click"],[1,"material-symbols-outlined",2,"color","green"],["fxLayout","row","fxLayoutAlign","space-around center",2,"text-align","center","margin-bottom","10px"],["fxLayout","row",2,"border-top-color","#004a9f"],[2,"padding","8px"],["fxLayout","column","fxFlex","100",1,"firstForm"],["fxLayout","row","fxLayoutAlign","end center"],["mat-icon-button","","color","primary",3,"matTooltip","click"],[2,"color","green"],["mat-icon-button","","color","primary","matTooltip","Info macraggio skills",3,"click"],[2,"color","#004a9f"],["fxLayout","row wrap","fxLayoutAlign","space-evenly center","fxFlex",""],["fxFlex.xs","100","fxFlex.sm","60","fxFlex.md","70","fxFlex.lg","100","fxFlex.xl","100"],["type","text","matInput","","placeholder","Nome pg","fxFlex","",3,"ngModel","formControl","ngModelChange"],[4,"ngIf"],["color","primary","fxFlex","",3,"ngModel","formControl","ngModelChange"],["color","primary",3,"value","click",4,"ngFor","ngForOf"],["color","primary",3,"disabled","value","click",4,"ngFor","ngForOf"],["color","primary",3,"value","disabled",4,"ngFor","ngForOf"],[3,"ngStyle"],["fxLayout","column","fxFlex","100",1,"firstForm",2,"margin-top","2%"],["mat-icon-button","","matTooltip","Seleziona un template stat/skills predefinito",1,"bottoneTemplate",3,"disabled","click"],[2,"color","#004a9f",3,"ngStyle"],["fxFlex","","fxlayout","column",1,"example-section",2,"padding-bottom","2%"],["color","primary",1,"example-margin",3,"ngModel","ngModelChange","change"],["type","number","matInput","","placeholder","Forza","fxFlex","",3,"ngModel","formControl","ngModelChange","keyup"],["type","number","matInput","","placeholder","Destrezza","fxFlex","",3,"ngModel","formControl","ngModelChange","keyup"],["type","number","matInput","","placeholder","Intelligenza","fxFlex","",3,"ngModel","formControl","ngModelChange","keyup"],[3,"color","value","ngStyle"],["div","","fxLayout","row wrap","fxLayoutAlign","center center"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","","class","green",3,"click",4,"ngIf"],["fxLayout","row",2,"margin","5px","border-top-color","#004a9f"],["fxLayout","row wrap","fxLayoutAlign","space-around center","fxFlex",""],[2,"margin-top","1%"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],["color","primary",3,"value","click"],["color","primary",3,"disabled","value","click"],["color","primary",3,"value","disabled"],["mat-raised-button","",1,"green",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1),o._uU(2," Scheda Personaggio "),o.TgZ(3,"button",2),o.NdJ("click",function(){return i.recuperaScheda()}),o.TgZ(4,"span",3),o._uU(5," downloading "),o.qZA()()(),o.TgZ(6,"div",4)(7,"b"),o._uU(8,"Compila il form e scarica il pdf con tutte le caratteristiche del tuo pg!"),o.qZA()(),o._UZ(9,"mat-divider",5)(10,"div",6),o.TgZ(11,"mat-card",7)(12,"mat-card-header")(13,"mat-card-title"),o._uU(14," Info generiche "),o.qZA()(),o.TgZ(15,"div",8)(16,"button",9),o.NdJ("click",function(){return i.isChierico()?i.openChierico():i.openPaladino()}),o.TgZ(17,"mat-icon",10),o._uU(18,"info"),o.qZA()(),o.TgZ(19,"button",11),o.NdJ("click",function(){return i.openInfoSkills()}),o.TgZ(20,"mat-icon",12),o._uU(21,"info"),o.qZA()()(),o.TgZ(22,"div",13)(23,"div")(24,"mat-form-field",14)(25,"input",15),o.NdJ("ngModelChange",function(s){return i.schedaPg.nome=s}),o.qZA(),o.YNc(26,cwe,2,0,"mat-error",16),o.YNc(27,uwe,2,0,"mat-error",16),o.qZA()(),o.TgZ(28,"div")(29,"mat-form-field",14)(30,"mat-label"),o._uU(31,"Razza"),o.qZA(),o.TgZ(32,"mat-select",17),o.NdJ("ngModelChange",function(s){return i.schedaPg.razza.nome=s}),o.YNc(33,dwe,2,2,"mat-option",18),o.qZA(),o.YNc(34,hwe,2,0,"mat-error",16),o.qZA()()(),o.TgZ(35,"div",13)(36,"div")(37,"mat-form-field",14)(38,"mat-label"),o._uU(39,"Classe"),o.qZA(),o.TgZ(40,"mat-select",17),o.NdJ("ngModelChange",function(s){return i.schedaPg.classe.nome=s}),o.YNc(41,Awe,2,3,"mat-option",19),o.qZA(),o.YNc(42,fwe,2,0,"mat-error",16),o.YNc(43,pwe,2,0,"mat-error",16),o.qZA()(),o.TgZ(44,"div")(45,"mat-form-field",14)(46,"mat-label"),o._uU(47,"Religione"),o.qZA(),o.TgZ(48,"mat-select",17),o.NdJ("ngModelChange",function(s){return i.schedaPg.religione.nome=s}),o.YNc(49,gwe,2,3,"mat-option",20),o.qZA(),o.YNc(50,mwe,2,0,"mat-error",16),o.YNc(51,_we,2,0,"mat-hint",16),o.qZA()()(),o._UZ(52,"div",21),o.qZA(),o.TgZ(53,"mat-card",22)(54,"mat-card-title"),o._uU(55," Stats"),o.TgZ(56,"button",23),o.NdJ("click",function(){return i.openTemplate()}),o.TgZ(57,"mat-icon",24),o._uU(58,"search"),o.qZA()()(),o.TgZ(59,"div")(60,"section",25)(61,"mat-checkbox",26),o.NdJ("ngModelChange",function(s){return i.statsChecked=s})("change",function(){return i.autoSetStat()}),o._uU(62,"Applica stats consigliate"),o.qZA()()(),o.TgZ(63,"div",13)(64,"div")(65,"mat-form-field",14)(66,"input",27),o.NdJ("ngModelChange",function(s){return i.schedaPg.stats.forza=s})("keyup",function(){return i.checkForza()}),o.qZA(),o.YNc(67,ywe,2,0,"mat-error",16),o.qZA()(),o.TgZ(68,"div")(69,"mat-form-field",14)(70,"input",28),o.NdJ("ngModelChange",function(s){return i.schedaPg.stats.destrezza=s})("keyup",function(){return i.checkDestrezza()}),o.qZA(),o.YNc(71,vwe,2,0,"mat-error",16),o.qZA()(),o.TgZ(72,"div")(73,"mat-form-field",14)(74,"input",29),o.NdJ("ngModelChange",function(s){return i.schedaPg.stats.intelligenza=s})("keyup",function(){return i.checkIntelligenza()}),o.qZA(),o.YNc(75,wwe,2,0,"mat-error",16),o.qZA()(),o._UZ(76,"mat-progress-bar",30),o.qZA()(),o.TgZ(77,"div",31)(78,"div",21),o.YNc(79,bwe,4,1,"button",32),o.YNc(80,Cwe,4,0,"button",33),o.qZA()(),o._UZ(81,"mat-divider",34),o.TgZ(82,"div",35)(83,"div",36)(84,"button",37),o.NdJ("click",function(){return i.reset()}),o._uU(85,"Reset "),o.TgZ(86,"mat-icon"),o._uU(87,"undo"),o.qZA()()(),o.TgZ(88,"div",36)(89,"button",38),o.NdJ("click",function(){return i.savePg()}),o._uU(90,"Salva "),o.TgZ(91,"mat-icon"),o._uU(92,"done"),o.qZA()()()(),o._UZ(93,"div",21),o.qZA()),2&e&&(o.xp6(16),o.Udp("visibility","Paladino"!==i.schedaPg.classe.nome&&"Chierico"!==i.schedaPg.classe.nome||""===i.schedaPg.religione.nome||!i.isRotinrim()?"hidden":"visible"),o.Q6J("matTooltip",i.isChierico()?"Info spell chierico":"Info spell paladino"),o.xp6(3),o.Udp("visibility",i.infoSkills.length>0&&i.isRotinrim()?"visible":"hidden"),o.xp6(6),o.Q6J("ngModel",i.schedaPg.nome)("formControl",i.nomeForm),o.xp6(1),o.Q6J("ngIf",i.nomeForm.hasError("required")),o.xp6(1),o.Q6J("ngIf",i.nomeForm.hasError("minlength")),o.xp6(5),o.Q6J("ngModel",i.schedaPg.razza.nome)("formControl",i.razzaForm),o.xp6(1),o.Q6J("ngForOf",i.razze),o.xp6(1),o.Q6J("ngIf",i.classeForm.hasError("required")&&null==i.schedaPg.razza),o.xp6(6),o.Q6J("ngModel",i.schedaPg.classe.nome)("formControl",i.classeForm),o.xp6(1),o.Q6J("ngForOf",i.classi),o.xp6(1),o.Q6J("ngIf",i.classeForm.hasError("required")&&null==i.schedaPg.classe),o.xp6(1),o.Q6J("ngIf",i.classeForm.hasError("required")&&""==i.schedaPg.razza.nome),o.xp6(5),o.Q6J("ngModel",i.schedaPg.religione.nome)("formControl",i.religioneForm),o.xp6(1),o.Q6J("ngForOf",i.religioni),o.xp6(1),o.Q6J("ngIf",i.classeForm.hasError("required")&&null==i.schedaPg.religione.nome),o.xp6(1),o.Q6J("ngIf",void 0===i.schedaPg.classe.nome||void 0===i.schedaPg.classe.nome),o.xp6(1),o.Q6J("ngStyle",i.spazioSmartphone()),o.xp6(4),o.Q6J("disabled",null==i.schedaPg.classe.nome||0==i.buttonTemplate),o.xp6(1),o.Q6J("ngStyle",o.VKq(46,xwe,null==i.schedaPg.classe.nome||0==i.buttonTemplate?"grey":"#004a9f")),o.xp6(3),o.Udp("visibility",void 0===i.schedaPg.classe.nome?"hidden":"visible"),o.xp6(1),o.Q6J("ngModel",i.statsChecked),o.xp6(5),o.Q6J("ngModel",i.schedaPg.stats.forza)("formControl",i.forzaForm),o.xp6(1),o.Q6J("ngIf",i.forzaForm.hasError("required")),o.xp6(3),o.Q6J("ngModel",i.schedaPg.stats.destrezza)("formControl",i.destrezzaForm),o.xp6(1),o.Q6J("ngIf",i.destrezzaForm.hasError("required")),o.xp6(3),o.Q6J("ngModel",i.schedaPg.stats.intelligenza)("formControl",i.intelligenzaForm),o.xp6(1),o.Q6J("ngIf",i.intelligenzaForm.hasError("required")),o.xp6(1),o.Q6J("color",i.colorBar)("value",i.totaleStat/2)("ngStyle",i.spazioSmartphone()),o.xp6(2),o.Q6J("ngStyle",i.spazioSmartphone()),o.xp6(1),o.Q6J("ngIf",0==i.schedaPg.skills.length),o.xp6(1),o.Q6J("ngIf",i.schedaPg.skills.length>0),o.xp6(9),o.Q6J("disabled",!i.checkSalva()),o.xp6(4),o.Q6J("ngStyle",i.spazioSmartphone()))},dependencies:[ds,Si,lo,Qy,$T,K0,JT,Qp,HT,wu,fc,_d,il,fS,Uy,SC,v9,IC,Ppe,W0,vS,uC,DC,t2,km,GT,zT,Z9],styles:['.content[_ngcontent-%COMP%]{height:calc(100vh - 130px);border-radius:10px;margin:16px 16px 16px 32px;padding:4px;overflow:auto}.home[_ngcontent-%COMP%]{border:2px solid black}.title[_ngcontent-%COMP%]{padding:5px;font-size:x-large;font-weight:700;font-family:Playfair Display,serif;color:#004a9f}.form[_ngcontent-%COMP%]{padding:10px;margin:10px}.firstForm[_ngcontent-%COMP%]{border:2px solid #004a9f;border-radius:10px;padding-left:3%;padding-right:3%;padding-bottom:3%;margin-right:15%;margin-left:15%}.green[_ngcontent-%COMP%]{background-color:#388e3c;color:#fff}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}.bottoneTemplate[_ngcontent-%COMP%]{position:relative;bottom:2px}']}),n})(),Dwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-news"]],decls:29,vars:1,consts:[[1,"container"],[1,"page-title"],[1,"news-list"],[1,"news-item"],[1,"news-title"],[1,"news-content"],[1,"news-content",2,"text-align","center","font-weight","bold"],[1,"news-date"],["href","https://docs.google.com/document/d/15-PV85hLet-2kS6gHf3xknh2TMRppxMHiUyPJ-m4CJ0/edit?usp=share_link","target","_blank",1,"news-link"],[1,"news-bug-report"],[1,"news-bug-link",3,"routerLink"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"h1",1),o._uU(2,"Ultime News"),o.qZA(),o.TgZ(3,"div",2)(4,"div",3)(5,"h2",4),o._uU(6,"Nuove funzionalit\xe0 di accesso tramite Discord e tool di salvataggio macro (1.4.0)"),o.qZA(),o.TgZ(7,"p",5),o._uU(8,'Siamo entusiasti di annunciare i recenti miglioramenti apportati al nostro sito web. Abbiamo introdotto un nuovo sistema di accesso tramite Discord, che semplifica il processo di login e registrazione. Ora gli utenti possono accedere al sito utilizzando come provider Discord per rendere l\'accesso pi\xf9 rapido e sicuro. Ma non \xe8 tutto: abbiamo anche implementato features speciali per offrire una assistenza maggiore agli utenti che partecipano al server di Rotiniel con il ruolo "Cittadino". Questi utenti avranno accesso a funzionalit\xe0 esclusive e potranno godere di vantaggi aggiuntivi rispetto agli altri utenti.'),o._UZ(9,"br"),o._uU(10," Inoltre, siamo lieti di presentare il nuovo strumento di salvataggio macro. Ora gli utenti possono salvare e fruire delle macro inserite dagli altri membri direttamente dal nostro sito."),o._UZ(11,"br"),o._uU(12," Apprezziamo molto il feedback della nostra community e vogliamo assicurarci che il sito funzioni al meglio. Se riscontri bug o anomalie durante l'utilizzo del sito, ti incoraggiamo a segnalarli nella sezione apposita. Il tuo contributo ci aiuter\xe0 a identificare e risolvere tempestivamente eventuali problemi, offrendo un'esperienza di utilizzo ancora migliore a tutti gli utenti."),o._UZ(13,"br"),o._uU(14," Continueremo a lavorare per offrire ulteriori miglioramenti e nuove funzionalit\xe0 in futuro."),o._UZ(15,"br"),o._uU(16," Grazie a tutti per il vostro supporto costante!"),o.qZA(),o.TgZ(17,"p",6),o._uU(18,"(si ma mo nun t'allarg\xe0 chatgpt)"),o.qZA(),o.TgZ(19,"p",7),o._uU(20,"Pubblicato il 13/05/2023"),o.qZA(),o.TgZ(21,"div",5)(22,"a",8),o._uU(23,"Guida all'utilizzo"),o.qZA()()()(),o.TgZ(24,"div",9)(25,"p"),o._uU(26,"Hai riscontrato un bug o un'anomalia?"),o.qZA(),o.TgZ(27,"a",10),o._uU(28,"Segnala il bug qui"),o.qZA()()()),2&e&&(o.xp6(27),o.Q6J("routerLink","/help"))},dependencies:[Xg],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.page-title[_ngcontent-%COMP%]{color:#004a9f;font-size:24px;font-weight:700;margin-bottom:20px}.news-list[_ngcontent-%COMP%]{background-color:#fff}.news-item[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;box-shadow:0 2px 4px #0000001a;margin-bottom:20px;padding:20px}.news-title[_ngcontent-%COMP%]{color:#004a9f;font-size:20px;font-weight:700;margin-bottom:10px}.news-content[_ngcontent-%COMP%]{color:#000;font-size:16px;margin-bottom:10px}.news-date[_ngcontent-%COMP%]{color:#000;font-size:14px}.news-bug-report[_ngcontent-%COMP%]{margin-top:20px;font-size:14px;font-weight:700}.news-bug-link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;color:#004a9f}.news-bug-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.news-link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:700;color:#004a9f}.news-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),n})(),Twe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-admin"]],decls:23,vars:4,consts:[[1,"admin-panel"],[1,"panel-title"],[1,"section"],[1,"section-title"],[1,"section-link",3,"routerLink"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"h2",1),o._uU(2,"Pannello Amministratore"),o.qZA(),o.TgZ(3,"div",2)(4,"h3",3),o._uU(5,"Utenti"),o.qZA(),o.TgZ(6,"a",4),o._uU(7,"Gestione Utenti"),o.qZA()(),o.TgZ(8,"div",2)(9,"h3",3),o._uU(10,"Flusso dati"),o.qZA(),o.TgZ(11,"a",4),o._uU(12,"Gestione Flusso Dati"),o.qZA()(),o.TgZ(13,"div",2)(14,"h3",3),o._uU(15,"Tickets"),o.qZA(),o.TgZ(16,"a",4),o._uU(17,"Gestione Tickets"),o.qZA()(),o.TgZ(18,"div",2)(19,"h3",3),o._uU(20,"News"),o.qZA(),o.TgZ(21,"a",4),o._uU(22,"Gestione News"),o.qZA()()()),2&e&&(o.xp6(6),o.Q6J("routerLink","/utenti"),o.xp6(5),o.Q6J("routerLink","/flussoDati"),o.xp6(5),o.Q6J("routerLink","/tickets"),o.xp6(5),o.Q6J("routerLink","/aggiungi-news"))},dependencies:[Xg],styles:[".admin-panel[_ngcontent-%COMP%]{background-color:#fff;color:#004a9f;padding:20px;border-radius:5px;display:flex;flex-direction:column}.panel-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:20px}.section[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:20px}.section-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;margin-bottom:10px}.section-link[_ngcontent-%COMP%]{color:#004a9f;text-decoration:none;transition:color .2s ease}.section-link[_ngcontent-%COMP%]:hover{color:#002c64}"]}),n})(),Mwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-tickets"]],decls:2,vars:0,template:function(e,i){1&e&&(o.TgZ(0,"p"),o._uU(1,"tickets works!"),o.qZA())}}),n})();function HS(n){return n+.5|0}const Gy=(n,t,e)=>Math.max(Math.min(n,e),t);function f2(n){return Gy(HS(2.55*n),0,255)}function iw(n){return Gy(HS(255*n),0,255)}function qy(n){return Gy(HS(n/2.55)/100,0,1)}function lY(n){return Gy(HS(100*n),0,100)}const xf={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},BH=[..."0123456789ABCDEF"],Bwe=n=>BH[15&n],Fwe=n=>BH[(240&n)>>4]+BH[15&n],HO=n=>(240&n)>>4==(15&n);const Pwe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function cY(n,t,e){const i=t*Math.min(e,1-e),r=(s,a=(s+n/30)%12)=>e-i*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function Nwe(n,t,e){const i=(r,s=(r+n/60)%6)=>e-e*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function Uwe(n,t,e){const i=cY(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function FH(n){const e=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(e,i,r),a=Math.min(e,i,r),l=(s+a)/2;let d,A,p;return s!==a&&(p=s-a,A=l>.5?p/(2-s-a):p/(s+a),d=function Hwe(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}(e,i,r,p,s),d=60*d+.5),[0|d,A||0,l]}function kH(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(iw)}function RH(n,t,e){return kH(cY,n,t,e)}function uY(n){return(n%360+360)%360}const dY={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},hY={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let QO;const Zwe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,OH=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,QS=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function VO(n,t,e){if(n){let i=FH(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,0===t?360:1)),i=RH(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function AY(n,t){return n&&Object.assign(t||{},n)}function fY(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=iw(n[3]))):(t=AY(n,{r:0,g:0,b:0,a:1})).a=iw(t.a),t}function Jwe(n){return"r"===n.charAt(0)?function Wwe(n){const t=Zwe.exec(n);let i,r,s,e=255;if(t){if(t[7]!==i){const a=+t[7];e=t[8]?f2(a):Gy(255*a,0,255)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?f2(i):Gy(i,0,255)),r=255&(t[4]?f2(r):Gy(r,0,255)),s=255&(t[6]?f2(s):Gy(s,0,255)),{r:i,g:r,b:s,a:e}}}(n):function jwe(n){const t=Pwe.exec(n);let i,e=255;if(!t)return;t[5]!==i&&(e=t[6]?f2(+t[5]):iw(+t[5]));const r=uY(+t[2]),s=+t[3]/100,a=+t[4]/100;return i="hwb"===t[1]?function Qwe(n,t,e){return kH(Uwe,n,t,e)}(r,s,a):"hsv"===t[1]?function Vwe(n,t,e){return kH(Nwe,n,t,e)}(r,s,a):RH(r,s,a),{r:i[0],g:i[1],b:i[2],a:e}}(n)}class VS{constructor(t){if(t instanceof VS)return t;const e=typeof t;let i;"object"===e?i=fY(t):"string"===e&&(i=function Rwe(n){var e,t=n.length;return"#"===n[0]&&(4===t||5===t?e={r:255&17*xf[n[1]],g:255&17*xf[n[2]],b:255&17*xf[n[3]],a:5===t?17*xf[n[4]]:255}:(7===t||9===t)&&(e={r:xf[n[1]]<<4|xf[n[2]],g:xf[n[3]]<<4|xf[n[4]],b:xf[n[5]]<<4|xf[n[6]],a:9===t?xf[n[7]]<<4|xf[n[8]]:255})),e}(t)||function Kwe(n){QO||(QO=function qwe(){const n={},t=Object.keys(hY),e=Object.keys(dY);let i,r,s,a,l;for(i=0;i<t.length;i++){for(a=l=t[i],r=0;r<e.length;r++)s=e[r],l=l.replace(s,dY[s]);s=parseInt(hY[a],16),n[l]=[s>>16&255,s>>8&255,255&s]}return n}(),QO.transparent=[0,0,0,0]);const t=QO[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||Jwe(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=AY(this._rgb);return t&&(t.a=qy(t.a)),t}set rgb(t){this._rgb=fY(t)}rgbString(){return this._valid?function Ywe(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${qy(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function Lwe(n){var t=(n=>HO(n.r)&&HO(n.g)&&HO(n.b)&&HO(n.a))(n)?Bwe:Fwe;return n?"#"+t(n.r)+t(n.g)+t(n.b)+((n,t)=>n<255?t(n):"")(n.a,t):void 0}(this._rgb):void 0}hslString(){return this._valid?function Gwe(n){if(!n)return;const t=FH(n),e=t[0],i=lY(t[1]),r=lY(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${qy(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let s;const a=e===s?.5:e,l=2*a-1,d=i.a-r.a,A=((l*d==-1?l:(l+d)/(1+l*d))+1)/2;s=1-A,i.r=255&A*i.r+s*r.r+.5,i.g=255&A*i.g+s*r.g+.5,i.b=255&A*i.b+s*r.b+.5,i.a=a*i.a+(1-a)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=function $we(n,t,e){const i=QS(qy(n.r)),r=QS(qy(n.g)),s=QS(qy(n.b));return{r:iw(OH(i+e*(QS(qy(t.r))-i))),g:iw(OH(r+e*(QS(qy(t.g))-r))),b:iw(OH(s+e*(QS(qy(t.b))-s))),a:n.a+e*(t.a-n.a)}}(this._rgb,t._rgb,e)),this}clone(){return new VS(this.rgb)}alpha(t){return this._rgb.a=iw(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=HS(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return VO(this._rgb,2,t),this}darken(t){return VO(this._rgb,2,-t),this}saturate(t){return VO(this._rgb,1,t),this}desaturate(t){return VO(this._rgb,1,-t),this}rotate(t){return function zwe(n,t){var e=FH(n);e[0]=uY(e[0]+t),e=RH(e),n.r=e[0],n.g=e[1],n.b=e[2]}(this._rgb,t),this}}function Ky(){}const Xwe=(()=>{let n=0;return()=>n++})();function $r(n){return null===n||typeof n>"u"}function Oo(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Lr(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}function Ba(n){return("number"==typeof n||n instanceof Number)&&isFinite(+n)}function AA(n,t){return Ba(n)?n:t}function hr(n,t){return typeof n>"u"?t:n}const pY=(n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*t:+n;function wo(n,t,e){if(n&&"function"==typeof n.call)return n.apply(e,t)}function Ls(n,t,e,i){let r,s,a;if(Oo(n))if(s=n.length,i)for(r=s-1;r>=0;r--)t.call(e,n[r],r);else for(r=0;r<s;r++)t.call(e,n[r],r);else if(Lr(n))for(a=Object.keys(n),s=a.length,r=0;r<s;r++)t.call(e,n[a[r]],a[r])}function jO(n,t){let e,i,r,s;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],s=t[e],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function zO(n){if(Oo(n))return n.map(zO);if(Lr(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=zO(n[e[r]]);return t}return n}function gY(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function tbe(n,t,e,i){if(!gY(n))return;const r=t[n],s=e[n];Lr(r)&&Lr(s)?p2(r,s,i):t[n]=zO(s)}function p2(n,t,e){const i=Oo(t)?t:[t],r=i.length;if(!Lr(n))return n;const s=(e=e||{}).merger||tbe;let a;for(let l=0;l<r;++l){if(a=i[l],!Lr(a))continue;const d=Object.keys(a);for(let A=0,p=d.length;A<p;++A)s(d[A],n,a,e)}return n}function g2(n,t){return p2(n,t,{merger:nbe})}function nbe(n,t,e){if(!gY(n))return;const i=t[n],r=e[n];Lr(i)&&Lr(r)?g2(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=zO(r))}const mY={"":n=>n,x:n=>n.x,y:n=>n.y};function rw(n,t){return(mY[t]||(mY[t]=function rbe(n){const t=function ibe(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}(n);return e=>{for(const i of t){if(""===i)break;e=e&&e[i]}return e}}(t)))(n)}function LH(n){return n.charAt(0).toUpperCase()+n.slice(1)}const m2=n=>typeof n<"u",sw=n=>"function"==typeof n,_Y=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0},$o=Math.PI,Lo=2*$o,obe=Lo+$o,GO=Number.POSITIVE_INFINITY,abe=$o/180,Fa=$o/2,RC=$o/4,yY=2*$o/3,ow=Math.log10,Um=Math.sign;function _2(n,t,e){return Math.abs(n-t)<e}function vY(n){const t=Math.round(n);n=_2(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(ow(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function jS(n){return!isNaN(parseFloat(n))&&isFinite(n)}function wY(n,t,e){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][e],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Kp(n){return n*($o/180)}function PH(n){return n*(180/$o)}function bY(n){if(!Ba(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function CY(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let s=Math.atan2(i,e);return s<-.5*$o&&(s+=Lo),{angle:s,distance:r}}function NH(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function ube(n,t){return(n-t+obe)%Lo-$o}function fA(n){return(n%Lo+Lo)%Lo}function y2(n,t,e,i){const r=fA(n),s=fA(t),a=fA(e),l=fA(s-r),d=fA(a-r),A=fA(r-s),p=fA(r-a);return r===s||r===a||i&&s===a||l>d&&A<p}function vc(n,t,e){return Math.max(t,Math.min(e,n))}function Zy(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function UH(n,t,e){e=e||(a=>n[a]<t);let s,i=n.length-1,r=0;for(;i-r>1;)s=r+i>>1,e(s)?r=s:i=s;return{lo:r,hi:i}}const Wy=(n,t,e,i)=>UH(n,e,i?r=>{const s=n[r][t];return s<e||s===e&&n[r+1][t]===e}:r=>n[r][t]<e),hbe=(n,t,e)=>UH(n,e,i=>n[i][t]>=e),xY=["push","pop","shift","splice","unshift"];function SY(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),!(i.length>0)&&(xY.forEach(s=>{delete n[s]}),delete n._chartjs)}function EY(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const IY=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function DY(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,IY.call(window,()=>{i=!1,n.apply(t,e)}))}}const HH=n=>"start"===n?"left":"end"===n?"right":"center",Iu=(n,t,e)=>"start"===n?t:"end"===n?e:(t+e)/2;function TY(n,t,e){const i=t.length;let r=0,s=i;if(n._sorted){const{iScale:a,_parsed:l}=n,d=a.axis,{min:A,max:p,minDefined:_,maxDefined:x}=a.getUserBounds();_&&(r=vc(Math.min(Wy(l,a.axis,A).lo,e?i:Wy(t,d,a.getPixelForValue(A)).lo),0,i-1)),s=x?vc(Math.max(Wy(l,a.axis,p,!0).hi+1,e?0:Wy(t,d,a.getPixelForValue(p),!0).hi+1),r,i)-r:i-r}return{start:r,count:s}}function MY(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),s}const qO=n=>0===n||1===n,BY=(n,t,e)=>-Math.pow(2,10*(n-=1))*Math.sin((n-t)*Lo/e),FY=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Lo/e)+1,v2={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*Fa),easeOutSine:n=>Math.sin(n*Fa),easeInOutSine:n=>-.5*(Math.cos($o*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>qO(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>qO(n)?n:BY(n,.075,.3),easeOutElastic:n=>qO(n)?n:FY(n,.075,.3),easeInOutElastic:n=>qO(n)?n:n<.5?.5*BY(2*n,.1125,.45):.5+.5*FY(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let t=1.70158;return(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},easeInBounce:n=>1-v2.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*v2.easeInBounce(2*n):.5*v2.easeOutBounce(2*n-1)+.5};function QH(n){if(n&&"object"==typeof n){const t=n.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function kY(n){return QH(n)?n:new VS(n)}function VH(n){return QH(n)?n:new VS(n).saturate(.5).darken(.1).hexString()}const mbe=["x","y","borderWidth","radius","tension"],_be=["color","borderColor","backgroundColor"],RY=new Map;function w2(n,t,e){return function wbe(n,t){t=t||{};const e=n+JSON.stringify(t);let i=RY.get(e);return i||(i=new Intl.NumberFormat(n,t),RY.set(e,i)),i}(t,e).format(n)}const OY={values:n=>Oo(n)?n:""+n,numeric(n,t,e){if(0===n)return"0";const i=this.chart.options.locale;let r,s=n;if(e.length>1){const A=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(A<1e-4||A>1e15)&&(r="scientific"),s=function bbe(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}(n,e)}const a=ow(Math.abs(s)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),d={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(d,this.options.ticks.format),w2(n,i,d)},logarithmic(n,t,e){if(0===n)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(ow(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?OY.numeric.call(this,n,t,e):""}};var KO={formatters:OY};const OC=Object.create(null),jH=Object.create(null);function b2(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const s=e[i];n=n[s]||(n[s]=Object.create(null))}return n}function zH(n,t,e){return"string"==typeof t?p2(b2(n,t),e):p2(b2(n,""),t)}class xbe{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>VH(r.backgroundColor),this.hoverBorderColor=(i,r)=>VH(r.borderColor),this.hoverColor=(i,r)=>VH(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return zH(this,t,e)}get(t){return b2(this,t)}describe(t,e){return zH(jH,t,e)}override(t,e){return zH(OC,t,e)}route(t,e,i,r){const s=b2(this,t),a=b2(this,i),l="_"+e;Object.defineProperties(s,{[l]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){const d=this[l],A=a[r];return Lr(d)?Object.assign({},A,d):hr(d,A)},set(d){this[l]=d}}})}apply(t){t.forEach(e=>e(this))}}var _a=new xbe({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function ybe(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),n.set("animations",{colors:{type:"color",properties:_be},numbers:{type:"number",properties:mbe}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function vbe(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function Cbe(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:KO.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function ZO(n,t,e,i,r){let s=t[r];return s||(s=t[r]=n.measureText(r).width,e.push(r)),s>i&&(i=s),i}function Ebe(n,t,e,i){let r=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},s=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let a=0;const l=e.length;let d,A,p,_,x;for(d=0;d<l;d++)if(_=e[d],null==_||Oo(_)){if(Oo(_))for(A=0,p=_.length;A<p;A++)x=_[A],null!=x&&!Oo(x)&&(a=ZO(n,r,s,a,x))}else a=ZO(n,r,s,a,_);n.restore();const C=s.length/2;if(C>e.length){for(d=0;d<C;d++)delete r[s[d]];s.splice(0,C)}return a}function LC(n,t,e){const i=n.currentDevicePixelRatio,r=0!==e?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function LY(n,t){(t=t||n.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore()}function GH(n,t,e,i){PY(n,t,e,i,null)}function PY(n,t,e,i,r){let s,a,l,d,A,p,_,x;const C=t.pointStyle,F=t.rotation,R=t.radius;let U=(F||0)*abe;if(C&&"object"==typeof C&&(s=C.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return n.save(),n.translate(e,i),n.rotate(U),n.drawImage(C,-C.width/2,-C.height/2,C.width,C.height),void n.restore();if(!(isNaN(R)||R<=0)){switch(n.beginPath(),C){default:r?n.ellipse(e,i,r/2,R,0,0,Lo):n.arc(e,i,R,0,Lo),n.closePath();break;case"triangle":p=r?r/2:R,n.moveTo(e+Math.sin(U)*p,i-Math.cos(U)*R),U+=yY,n.lineTo(e+Math.sin(U)*p,i-Math.cos(U)*R),U+=yY,n.lineTo(e+Math.sin(U)*p,i-Math.cos(U)*R),n.closePath();break;case"rectRounded":A=.516*R,d=R-A,a=Math.cos(U+RC)*d,_=Math.cos(U+RC)*(r?r/2-A:d),l=Math.sin(U+RC)*d,x=Math.sin(U+RC)*(r?r/2-A:d),n.arc(e-_,i-l,A,U-$o,U-Fa),n.arc(e+x,i-a,A,U-Fa,U),n.arc(e+_,i+l,A,U,U+Fa),n.arc(e-x,i+a,A,U+Fa,U+$o),n.closePath();break;case"rect":if(!F){d=Math.SQRT1_2*R,p=r?r/2:d,n.rect(e-p,i-d,2*p,2*d);break}U+=RC;case"rectRot":_=Math.cos(U)*(r?r/2:R),a=Math.cos(U)*R,l=Math.sin(U)*R,x=Math.sin(U)*(r?r/2:R),n.moveTo(e-_,i-l),n.lineTo(e+x,i-a),n.lineTo(e+_,i+l),n.lineTo(e-x,i+a),n.closePath();break;case"crossRot":U+=RC;case"cross":_=Math.cos(U)*(r?r/2:R),a=Math.cos(U)*R,l=Math.sin(U)*R,x=Math.sin(U)*(r?r/2:R),n.moveTo(e-_,i-l),n.lineTo(e+_,i+l),n.moveTo(e+x,i-a),n.lineTo(e-x,i+a);break;case"star":_=Math.cos(U)*(r?r/2:R),a=Math.cos(U)*R,l=Math.sin(U)*R,x=Math.sin(U)*(r?r/2:R),n.moveTo(e-_,i-l),n.lineTo(e+_,i+l),n.moveTo(e+x,i-a),n.lineTo(e-x,i+a),U+=RC,_=Math.cos(U)*(r?r/2:R),a=Math.cos(U)*R,l=Math.sin(U)*R,x=Math.sin(U)*(r?r/2:R),n.moveTo(e-_,i-l),n.lineTo(e+_,i+l),n.moveTo(e+x,i-a),n.lineTo(e-x,i+a);break;case"line":a=r?r/2:Math.cos(U)*R,l=Math.sin(U)*R,n.moveTo(e-a,i-l),n.lineTo(e+a,i+l);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(U)*(r?r/2:R),i+Math.sin(U)*R);break;case!1:n.closePath()}n.fill(),t.borderWidth>0&&n.stroke()}}function Yy(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function WO(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function YO(n){n.restore()}function Ibe(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if("middle"===r){const s=(t.x+e.x)/2;n.lineTo(s,t.y),n.lineTo(s,e.y)}else"after"===r!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function Dbe(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function Mbe(n,t,e,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),a=t-s.actualBoundingBoxLeft,l=t+s.actualBoundingBoxRight,d=e-s.actualBoundingBoxAscent,A=e+s.actualBoundingBoxDescent,p=r.strikethrough?(d+A)/2:A;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(a,p),n.lineTo(l,p),n.stroke()}}function Bbe(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function PC(n,t,e,i,r,s={}){const a=Oo(t)?t:[t],l=s.strokeWidth>0&&""!==s.strokeColor;let d,A;for(n.save(),n.font=r.string,function Tbe(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),$r(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}(n,s),d=0;d<a.length;++d)A=a[d],s.backdrop&&Bbe(n,s.backdrop),l&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),$r(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(A,e,i,s.maxWidth)),n.fillText(A,e,i,s.maxWidth),Mbe(n,e,i,A,s),i+=Number(r.lineHeight);n.restore()}function C2(n,t){const{x:e,y:i,w:r,h:s,radius:a}=t;n.arc(e+a.topLeft,i+a.topLeft,a.topLeft,-Fa,$o,!0),n.lineTo(e,i+s-a.bottomLeft),n.arc(e+a.bottomLeft,i+s-a.bottomLeft,a.bottomLeft,$o,Fa,!0),n.lineTo(e+r-a.bottomRight,i+s),n.arc(e+r-a.bottomRight,i+s-a.bottomRight,a.bottomRight,Fa,0,!0),n.lineTo(e+r,i+a.topRight),n.arc(e+r-a.topRight,i+a.topRight,a.topRight,0,-Fa,!0),n.lineTo(e+a.topLeft,i)}const Fbe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,kbe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Rbe(n,t){const e=(""+n).match(Fbe);if(!e||"normal"===e[1])return 1.2*t;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100}return t*n}const Obe=n=>+n||0;function qH(n,t){const e={},i=Lr(t),r=i?Object.keys(t):t,s=Lr(n)?i?a=>hr(n[a],n[t[a]]):a=>n[a]:()=>n;for(const a of r)e[a]=Obe(s(a));return e}function NY(n){return qH(n,{top:"y",right:"x",bottom:"y",left:"x"})}function NC(n){return qH(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Du(n){const t=NY(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function jl(n,t){let e=hr((n=n||{}).size,(t=t||_a.font).size);"string"==typeof e&&(e=parseInt(e,10));let i=hr(n.style,t.style);i&&!(""+i).match(kbe)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:hr(n.family,t.family),lineHeight:Rbe(hr(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:hr(n.weight,t.weight),string:""};return r.string=function Sbe(n){return!n||$r(n.size)||$r(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(r),r}function x2(n,t,e,i){let s,a,l,r=!0;for(s=0,a=n.length;s<a;++s)if(l=n[s],void 0!==l&&(void 0!==t&&"function"==typeof l&&(l=l(t),r=!1),void 0!==e&&Oo(l)&&(l=l[e%l.length],r=!1),void 0!==l))return i&&!r&&(i.cacheable=!1),l}function aw(n,t){return Object.assign(Object.create(n),t)}function KH(n,t=[""],e,i,r=(()=>n[0])){const s=e||n;typeof i>"u"&&(i=jY("_fallback",n));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:l=>KH([l,...n],t,s,i)};return new Proxy(a,{deleteProperty:(l,d)=>(delete l[d],delete l._keys,delete n[0][d],!0),get:(l,d)=>HY(l,d,()=>function zbe(n,t,e,i){let r;for(const s of t)if(r=jY(Pbe(s,n),e),typeof r<"u")return ZH(n,r)?WH(e,i,n,r):r}(d,t,n,l)),getOwnPropertyDescriptor:(l,d)=>Reflect.getOwnPropertyDescriptor(l._scopes[0],d),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(l,d)=>zY(l).includes(d),ownKeys:l=>zY(l),set(l,d,A){const p=l._storage||(l._storage=r());return l[d]=p[d]=A,delete l._keys,!0}})}function zS(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:UY(n,i),setContext:s=>zS(n,s,e,i),override:s=>zS(n.override(s),t,e,i)};return new Proxy(r,{deleteProperty:(s,a)=>(delete s[a],delete n[a],!0),get:(s,a,l)=>HY(s,a,()=>function Nbe(n,t,e){const{_proxy:i,_context:r,_subProxy:s,_descriptors:a}=n;let l=i[t];return sw(l)&&a.isScriptable(t)&&(l=function Ube(n,t,e,i){const{_proxy:r,_context:s,_subProxy:a,_stack:l}=e;if(l.has(n))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+n);l.add(n);let d=t(s,a||i);return l.delete(n),ZH(n,d)&&(d=WH(r._scopes,r,n,d)),d}(t,l,n,e)),Oo(l)&&l.length&&(l=function Hbe(n,t,e,i){const{_proxy:r,_context:s,_subProxy:a,_descriptors:l}=e;if(typeof s.index<"u"&&i(n))return t[s.index%t.length];if(Lr(t[0])){const d=t,A=r._scopes.filter(p=>p!==d);t=[];for(const p of d){const _=WH(A,r,n,p);t.push(zS(_,s,a&&a[n],l))}}return t}(t,l,n,a.isIndexable)),ZH(t,l)&&(l=zS(l,r,s&&s[t],a)),l}(s,a,l)),getOwnPropertyDescriptor:(s,a)=>s._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(s,a)=>Reflect.has(n,a),ownKeys:()=>Reflect.ownKeys(n),set:(s,a,l)=>(n[a]=l,delete s[a],!0)})}function UY(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:sw(e)?e:()=>e,isIndexable:sw(i)?i:()=>i}}const Pbe=(n,t)=>n?n+LH(t):t,ZH=(n,t)=>Lr(t)&&"adapters"!==n&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function HY(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t))return n[t];const i=e();return n[t]=i,i}function QY(n,t,e){return sw(n)?n(t,e):n}const Qbe=(n,t)=>!0===n?t:"string"==typeof n?rw(t,n):void 0;function Vbe(n,t,e,i,r){for(const s of t){const a=Qbe(e,s);if(a){n.add(a);const l=QY(a._fallback,e,r);if(typeof l<"u"&&l!==e&&l!==i)return l}else if(!1===a&&typeof i<"u"&&e!==i)return null}return!1}function WH(n,t,e,i){const r=t._rootScopes,s=QY(t._fallback,e,i),a=[...n,...r],l=new Set;l.add(i);let d=VY(l,a,e,s||e,i);return!(null===d||typeof s<"u"&&s!==e&&(d=VY(l,a,s,d,i),null===d))&&KH(Array.from(l),[""],r,s,()=>function jbe(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Oo(r)&&Lr(e)?e:r||{}}(t,e,i))}function VY(n,t,e,i,r){for(;e;)e=Vbe(n,t,e,i,r);return e}function jY(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function zY(n){let t=n._keys;return t||(t=n._keys=function Gbe(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}(n._scopes)),t}function GY(n,t,e,i){const{iScale:r}=n,{key:s="r"}=this._parsing,a=new Array(i);let l,d,A,p;for(l=0,d=i;l<d;++l)A=l+e,p=t[A],a[l]={r:r.parse(rw(p,s),A)};return a}const qbe=Number.EPSILON||1e-14,GS=(n,t)=>t<n.length&&!n[t].skip&&n[t],qY=n=>"x"===n?"y":"x";function Kbe(n,t,e,i){const r=n.skip?t:n,s=t,a=e.skip?t:e,l=NH(s,r),d=NH(a,s);let A=l/(l+d),p=d/(l+d);A=isNaN(A)?0:A,p=isNaN(p)?0:p;const _=i*A,x=i*p;return{previous:{x:s.x-_*(a.x-r.x),y:s.y-_*(a.y-r.y)},next:{x:s.x+x*(a.x-r.x),y:s.y+x*(a.y-r.y)}}}function $O(n,t,e){return Math.max(Math.min(n,e),t)}function Jbe(n,t,e,i,r){let s,a,l,d;if(t.spanGaps&&(n=n.filter(A=>!A.skip)),"monotone"===t.cubicInterpolationMode)!function Ybe(n,t="x"){const e=qY(t),i=n.length,r=Array(i).fill(0),s=Array(i);let a,l,d,A=GS(n,0);for(a=0;a<i;++a)if(l=d,d=A,A=GS(n,a+1),d){if(A){const p=A[t]-d[t];r[a]=0!==p?(A[e]-d[e])/p:0}s[a]=l?A?Um(r[a-1])!==Um(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}(function Zbe(n,t,e){const i=n.length;let r,s,a,l,d,A=GS(n,0);for(let p=0;p<i-1;++p)if(d=A,A=GS(n,p+1),d&&A){if(_2(t[p],0,qbe)){e[p]=e[p+1]=0;continue}r=e[p]/t[p],s=e[p+1]/t[p],l=Math.pow(r,2)+Math.pow(s,2),!(l<=9)&&(a=3/Math.sqrt(l),e[p]=r*a*t[p],e[p+1]=s*a*t[p])}})(n,r,s),function Wbe(n,t,e="x"){const i=qY(e),r=n.length;let s,a,l,d=GS(n,0);for(let A=0;A<r;++A){if(a=l,l=d,d=GS(n,A+1),!l)continue;const p=l[e],_=l[i];a&&(s=(p-a[e])/3,l[`cp1${e}`]=p-s,l[`cp1${i}`]=_-s*t[A]),d&&(s=(d[e]-p)/3,l[`cp2${e}`]=p+s,l[`cp2${i}`]=_+s*t[A])}}(n,s,t)}(n,r);else{let A=i?n[n.length-1]:n[0];for(s=0,a=n.length;s<a;++s)l=n[s],d=Kbe(A,l,n[Math.min(s+1,a-(i?0:1))%a],t.tension),l.cp1x=d.previous.x,l.cp1y=d.previous.y,l.cp2x=d.next.x,l.cp2y=d.next.y,A=l}t.capBezierPoints&&function $be(n,t){let e,i,r,s,a,l=Yy(n[0],t);for(e=0,i=n.length;e<i;++e)a=s,s=l,l=e<i-1&&Yy(n[e+1],t),s&&(r=n[e],a&&(r.cp1x=$O(r.cp1x,t.left,t.right),r.cp1y=$O(r.cp1y,t.top,t.bottom)),l&&(r.cp2x=$O(r.cp2x,t.left,t.right),r.cp2y=$O(r.cp2y,t.top,t.bottom)))}(n,e)}function KY(){return typeof window<"u"&&typeof document<"u"}function YH(n){let t=n.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function JO(n,t,e){let i;return"string"==typeof n?(i=parseInt(n,10),-1!==n.indexOf("%")&&(i=i/100*t.parentNode[e])):i=n,i}const XO=n=>n.ownerDocument.defaultView.getComputedStyle(n,null),eCe=["top","right","bottom","left"];function UC(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const s=eCe[r];i[s]=parseFloat(n[t+"-"+s+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function HC(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=XO(e),s="border-box"===r.boxSizing,a=UC(r,"padding"),l=UC(r,"border","width"),{x:d,y:A,box:p}=function nCe(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:s}=i;let l,d,a=!1;if(((n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot))(r,s,n.target))l=r,d=s;else{const A=t.getBoundingClientRect();l=i.clientX-A.left,d=i.clientY-A.top,a=!0}return{x:l,y:d,box:a}}(n,e),_=a.left+(p&&l.left),x=a.top+(p&&l.top);let{width:C,height:F}=t;return s&&(C-=a.width+l.width,F-=a.height+l.height),{x:Math.round((d-_)/C*e.width/i),y:Math.round((A-x)/F*e.height/i)}}const eL=n=>Math.round(10*n)/10;function ZY(n,t,e){const i=t||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const a=n.canvas;return a.style&&(e||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==i||a.height!==r||a.width!==s)&&(n.currentDevicePixelRatio=i,a.height=r,a.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0)}const sCe=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return n}();function WY(n,t){const e=function Xbe(n,t){return XO(n).getPropertyValue(t)}(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function QC(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function oCe(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:"middle"===i?e<.5?n.y:t.y:"after"===i?e<1?n.y:t.y:e>0?t.y:n.y}}function aCe(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},s={x:t.cp1x,y:t.cp1y},a=QC(n,r,e),l=QC(r,s,e),d=QC(s,t,e),A=QC(a,l,e),p=QC(l,d,e);return QC(A,p,e)}function qS(n,t,e){return n?function(n,t){return{x:e=>n+n+t-e,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,i)=>e-i,leftForLtr:(e,i)=>e-i}}(t,e):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,t)=>n+t,leftForLtr:(n,t)=>n}}function YY(n,t){let e,i;("ltr"===t||"rtl"===t)&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function $Y(n,t){void 0!==t&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function JY(n){return"angle"===n?{between:y2,compare:ube,normalize:fA}:{between:Zy,compare:(t,e)=>t-e,normalize:t=>t}}function XY({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e==0,style:r}}function e$(n,t,e){if(!e)return[n];const{property:i,start:r,end:s}=e,a=t.length,{compare:l,between:d,normalize:A}=JY(i),{start:p,end:_,loop:x,style:C}=function uCe(n,t,e){const{property:i,start:r,end:s}=e,{between:a,normalize:l}=JY(i),d=t.length;let x,C,{start:A,end:p,loop:_}=n;if(_){for(A+=d,p+=d,x=0,C=d;x<C&&a(l(t[A%d][i]),r,s);++x)A--,p--;A%=d,p%=d}return p<A&&(p+=d),{start:A,end:p,loop:_,style:n.style}}(n,t,e),F=[];let Q,K,ie,R=!1,U=null;for(let de=p,We=p;de<=_;++de)K=t[de%a],!K.skip&&(Q=A(K[i]),Q!==ie&&(R=d(Q,r,s),null===U&&(R||d(r,ie,Q)&&0!==l(r,ie))&&(U=0===l(Q,r)?de:We),null!==U&&(!R||0===l(s,Q)||d(s,ie,Q))&&(F.push(XY({start:U,end:de,loop:x,count:a,style:C})),U=null),We=de,ie=Q));return null!==U&&F.push(XY({start:U,end:_,loop:x,count:a,style:C})),F}function t$(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const s=e$(i[r],n.points,t);s.length&&e.push(...s)}return e}function i$(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function pCe(n,t){if(!t)return!1;const e=[],i=function(r,s){return QH(s)?(e.includes(s)||e.push(s),e.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(t,i)}class gCe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const a=e.duration;e.listeners[r].forEach(l=>l({chart:t,initial:e.initial,numSteps:a,currentStep:Math.min(i-e.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=IY.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let d,a=s.length-1,l=!1;for(;a>=0;--a)d=s[a],d._active?(d._total>i.duration&&(i.duration=d._total),d.tick(t),l=!0):(s[a]=s[s.length-1],s.pop());l&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=s.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);!e||(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var $y=new gCe;const r$="transparent",mCe={boolean:(n,t,e)=>e>.5?t:n,color(n,t,e){const i=kY(n||r$),r=i.valid&&kY(t||r$);return r&&r.valid?r.mix(i,e).hexString():t},number:(n,t,e)=>n+(t-n)*e};class _Ce{constructor(t,e,i,r){const s=e[i];r=x2([t.to,r,s,t.from]);const a=x2([t.from,s,r]);this._active=!0,this._fn=t.fn||mCe[t.type||typeof a],this._easing=v2[t.easing]||v2.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,a=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=x2([t.to,e,r,t.from]),this._from=x2([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,s=this._from,a=this._loop,l=this._to;let d;if(this._active=s!==l&&(a||e<i),!this._active)return this._target[r]=l,void this._notify(!0);e<0?this._target[r]=s:(d=e/i%2,d=a&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[r]=this._fn(s,l,d))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class s${constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Lr(t))return;const e=Object.keys(_a.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const s=t[r];if(!Lr(s))return;const a={};for(const l of e)a[l]=s[l];(Oo(s.properties)&&s.properties||[r]).forEach(l=>{(l===r||!i.has(l))&&i.set(l,a)})})}_animateOptions(t,e){const i=e.options,r=function vCe(n,t){if(!t)return;let e=n.options;if(e)return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;n.options=t}(t,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&function yCe(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,e){const i=this._properties,r=[],s=t.$animations||(t.$animations={}),a=Object.keys(e),l=Date.now();let d;for(d=a.length-1;d>=0;--d){const A=a[d];if("$"===A.charAt(0))continue;if("options"===A){r.push(...this._animateOptions(t,e));continue}const p=e[A];let _=s[A];const x=i.get(A);if(_){if(x&&_.active()){_.update(x,p,l);continue}_.cancel()}x&&x.duration?(s[A]=_=new _Ce(x,t,A,p),r.push(_)):t[A]=p}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?($y.add(this._chart,i),!0):void 0}}function o$(n,t){const e=n&&n.options||{},i=e.reverse,r=void 0===e.min?t:0,s=void 0===e.max?t:0;return{start:i?s:r,end:i?r:s}}function a$(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)e.push(i[r].index);return e}function l$(n,t,e,i={}){const r=n.keys,s="single"===i.mode;let a,l,d,A;if(null!==t){for(a=0,l=r.length;a<l;++a){if(d=+r[a],d===e){if(i.all)continue;break}A=n.values[d],Ba(A)&&(s||0===t||Um(t)===Um(A))&&(t+=A)}return t}}function c$(n,t){const e=n&&n.options.stacked;return e||void 0===e&&void 0!==t.stack}function ECe(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function u$(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(e&&s>0||!e&&s<0)return r.index}return null}function d$(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:s,vScale:a,index:l}=i,d=s.axis,A=a.axis,p=function xCe(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}(s,a,i),_=t.length;let x;for(let C=0;C<_;++C){const F=t[C],{[d]:R,[A]:U}=F;x=(F._stacks||(F._stacks={}))[A]=ECe(r,p,R),x[l]=U,x._top=u$(x,a,!0,i.type),x._bottom=u$(x,a,!1,i.type),(x._visualValues||(x._visualValues={}))[l]=U}}function $H(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function S2(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const s=r._stacks;if(!s||void 0===s[i]||void 0===s[i][e])return;delete s[i][e],void 0!==s[i]._visualValues&&void 0!==s[i]._visualValues[e]&&delete s[i]._visualValues[e]}}}const JH=n=>"reset"===n||"none"===n,h$=(n,t)=>t?n:Object.assign({},n);class lw{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=c$(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&S2(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(_,x,C,F)=>"x"===_?x:"r"===_?F:C,s=e.xAxisID=hr(i.xAxisID,$H(t,"x")),a=e.yAxisID=hr(i.yAxisID,$H(t,"y")),l=e.rAxisID=hr(i.rAxisID,$H(t,"r")),d=e.indexAxis,A=e.iAxisID=r(d,s,a,l),p=e.vAxisID=r(d,a,s,l);e.xScale=this.getScaleForId(s),e.yScale=this.getScaleForId(a),e.rScale=this.getScaleForId(l),e.iScale=this.getScaleForId(A),e.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&SY(this._data,this),t._stacked&&S2(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Lr(e))this._data=function CCe(n){const t=Object.keys(n),e=new Array(t.length);let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i],e[i]={x:s,y:n[s]};return e}(e);else if(i!==e){if(i){SY(i,this);const r=this._cachedMeta;S2(r),r._parsed=[]}e&&Object.isExtensible(e)&&function fbe(n,t){n._chartjs?n._chartjs.listeners.push(t):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),xY.forEach(e=>{const i="_onData"+LH(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...s){const a=r.apply(this,s);return n._chartjs.listeners.forEach(l=>{"function"==typeof l[i]&&l[i](...s)}),a}})}))}(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=e._stacked;e._stacked=c$(e.vScale,e),e.stack!==i.stack&&(r=!0,S2(e),e.stack=i.stack),this._resyncElements(t),(r||s!==e._stacked)&&d$(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:a}=i,l=s.axis;let p,_,x,d=0===t&&e===r.length||i._sorted,A=t>0&&i._parsed[t-1];if(!1===this._parsing)i._parsed=r,i._sorted=!0,x=r;else{x=Oo(r[t])?this.parseArrayData(i,r,t,e):Lr(r[t])?this.parseObjectData(i,r,t,e):this.parsePrimitiveData(i,r,t,e);const C=()=>null===_[l]||A&&_[l]<A[l];for(p=0;p<e;++p)i._parsed[p+t]=_=x[p],d&&(C()&&(d=!1),A=_);i._sorted=d}a&&d$(this,x)}parsePrimitiveData(t,e,i,r){const{iScale:s,vScale:a}=t,l=s.axis,d=a.axis,A=s.getLabels(),p=s===a,_=new Array(r);let x,C,F;for(x=0,C=r;x<C;++x)F=x+i,_[x]={[l]:p||s.parse(A[F],F),[d]:a.parse(e[F],F)};return _}parseArrayData(t,e,i,r){const{xScale:s,yScale:a}=t,l=new Array(r);let d,A,p,_;for(d=0,A=r;d<A;++d)p=d+i,_=e[p],l[d]={x:s.parse(_[0],p),y:a.parse(_[1],p)};return l}parseObjectData(t,e,i,r){const{xScale:s,yScale:a}=t,{xAxisKey:l="x",yAxisKey:d="y"}=this._parsing,A=new Array(r);let p,_,x,C;for(p=0,_=r;p<_;++p)x=p+i,C=e[x],A[p]={x:s.parse(rw(C,l),x),y:a.parse(rw(C,d),x)};return A}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this._cachedMeta,a=e[t.axis];return l$({keys:a$(this.chart,!0),values:e._stacks[t.axis]._visualValues},a,s.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const s=i[e.axis];let a=null===s?NaN:s;const l=r&&i._stacks[e.axis];r&&l&&(r.values=l,a=l$(r,s,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&t===i.iScale,a=r.length,l=this._getOtherScale(t),d=((n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:a$(this.chart,!0),values:null})(e,i),A={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:_}=function SCe(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}(l);let x,C;function F(){C=r[x];const R=C[l.axis];return!Ba(C[t.axis])||p>R||_<R}for(x=0;x<a&&(F()||(this.updateRangeFromParsed(A,t,C,d),!s));++x);if(s)for(x=a-1;x>=0;--x)if(!F()){this.updateRangeFromParsed(A,t,C,d);break}return A}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,s,a;for(r=0,s=e.length;r<s;++r)a=e[r][t.axis],Ba(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function bCe(n){let t,e,i,r;return Lr(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:!1===n}}(hr(this.options.clip,function wCe(n,t,e){if(!1===e)return!1;const i=o$(n,e),r=o$(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,i=this._cachedMeta,r=i.data||[],s=this.chart.chartArea,a=[],l=this._drawStart||0,d=this._drawCount||r.length-l,A=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,s,l,d),p=l;p<l+d;++p){const _=r[p];_.hidden||(_.active&&A?a.push(_):_.draw(t,s))}for(p=0;p<a.length;++p)a[p].draw(t,s)}getStyle(t,e){const i=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];s=a.$context||(a.$context=function DCe(n,t,e){return aw(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}(this.getContext(),t,a)),s.parsed=this.getParsed(t),s.raw=r.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=function ICe(n,t){return aw(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!e,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r="active"===e,s=this._cachedDataOpts,a=t+"-"+e,l=s[a],d=this.enableOptionSharing&&m2(i);if(l)return h$(l,d);const A=this.chart.config,p=A.datasetElementScopeKeys(this._type,t),_=r?[`${t}Hover`,"hover",t,""]:[t,""],x=A.getOptionScopes(this.getDataset(),p),C=Object.keys(_a.elements[t]),R=A.resolveNamedOptions(x,C,()=>this.getContext(i,r,e),_);return R.$shared&&(R.$shared=d,s[a]=Object.freeze(h$(R,d))),R}_resolveAnimations(t,e,i){const r=this.chart,s=this._cachedDataOpts,a=`animation-${e}`,l=s[a];if(l)return l;let d;if(!1!==r.options.animation){const p=this.chart.config,_=p.datasetAnimationScopeKeys(this._type,e),x=p.getOptionScopes(this.getDataset(),_);d=p.createResolver(x,this.getContext(t,i,e))}const A=new s$(r,d&&d.animations);return d&&d._cacheable&&(s[a]=Object.freeze(A)),A}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||JH(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(e,s)||s!==r;return this.updateSharedOptions(s,e,i),{sharedOptions:s,includeOptions:a}}updateElement(t,e,i,r){JH(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!JH(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const s=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[l,d,A]of this._syncList)this[l](d,A);this._syncList=[];const r=i.length,s=e.length,a=Math.min(s,r);a&&this.parse(0,a),s>r?this._insertElements(r,s-r,t):s<r&&this._removeElements(s,r-s)}_insertElements(t,e,i=!0){const r=this._cachedMeta,s=r.data,a=t+e;let l;const d=A=>{for(A.length+=e,l=A.length-1;l>=a;l--)A[l]=A[l-e]};for(d(s),l=t;l<a;++l)s[l]=new this.dataElementType;this._parsing&&d(r._parsed),this.parse(t,e),i&&this.updateElements(s,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&S2(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function BCe(n){const t=n.iScale,e=function MCe(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,s=e.length;r<s;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=EY(i.sort((r,s)=>r-s))}return n._cache.$bar}(t,n.type);let r,s,a,l,i=t._length;const d=()=>{32767===a||-32768===a||(m2(l)&&(i=Math.min(i,Math.abs(a-l)||i)),l=a)};for(r=0,s=e.length;r<s;++r)a=t.getPixelForValue(e[r]),d();for(l=void 0,r=0,s=t.ticks.length;r<s;++r)a=t.getPixelForTick(r),d();return i}function A$(n,t,e,i){return Oo(n)?function RCe(n,t,e,i){const r=e.parse(n[0],i),s=e.parse(n[1],i),a=Math.min(r,s),l=Math.max(r,s);let d=a,A=l;Math.abs(a)>Math.abs(l)&&(d=l,A=a),t[e.axis]=A,t._custom={barStart:d,barEnd:A,start:r,end:s,min:a,max:l}}(n,t,e,i):t[e.axis]=e.parse(n,i),t}function f$(n,t,e,i){const r=n.iScale,s=n.vScale,a=r.getLabels(),l=r===s,d=[];let A,p,_,x;for(A=e,p=e+i;A<p;++A)x=t[A],_={},_[r.axis]=l||r.parse(a[A],A),d.push(A$(x,_,s,A));return d}function XH(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function PCe(n,t,e,i){let r=t.borderSkipped;const s={};if(!r)return void(n.borderSkipped=s);if(!0===r)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:l,reverse:d,top:A,bottom:p}=function LCe(n){let t,e,i,r,s;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:e,end:i,reverse:t,top:r,bottom:s}}(n);"middle"===r&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=A:(e._bottom||0)===i?r=p:(s[p$(p,a,l,d)]=!0,r=A)),s[p$(r,a,l,d)]=!0,n.borderSkipped=s}function p$(n,t,e,i){return i?(n=function NCe(n,t,e){return n===t?e:n===e?t:n}(n,t,e),n=g$(n,e,t)):n=g$(n,t,e),n}function g$(n,t,e){return"start"===n?t:"end"===n?e:n}function UCe(n,{inflateAmount:t},e){n.inflateAmount="auto"===t?1===e?.33:0:t}class eQ extends lw{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((s,a)=>{const d=t.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:r,lineWidth:d.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=i;else{let a,l,s=d=>+i[d];if(Lr(i[t])){const{key:d="value"}=this._parsing;s=A=>+rw(i[A],d)}for(a=t,l=t+e;a<l;++a)r._parsed[a]=s(a)}}_getRotation(){return Kp(this.options.rotation-90)}_getCircumference(){return Kp(this.options.circumference)}_getRotationExtents(){let t=Lo,e=-Lo;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),a=r._getCircumference();t=Math.min(t,s),e=Math.max(e,s+a)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,s=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-a)/2,0),d=Math.min(((n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:+n/t)(this.options.cutout,l),1),A=this._getRingWeight(this.index),{circumference:p,rotation:_}=this._getRotationExtents(),{ratioX:x,ratioY:C,offsetX:F,offsetY:R}=function VCe(n,t,e){let i=1,r=1,s=0,a=0;if(t<Lo){const l=n,d=l+t,A=Math.cos(l),p=Math.sin(l),_=Math.cos(d),x=Math.sin(d),C=(ie,ce,pe)=>y2(ie,l,d,!0)?1:Math.max(ce,ce*e,pe,pe*e),F=(ie,ce,pe)=>y2(ie,l,d,!0)?-1:Math.min(ce,ce*e,pe,pe*e),R=C(0,A,_),U=C(Fa,p,x),Q=F($o,A,_),K=F($o+Fa,p,x);i=(R-Q)/2,r=(U-K)/2,s=-(R+Q)/2,a=-(U+K)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:a}}(_,p,d),K=Math.max(Math.min((i.width-a)/x,(i.height-a)/C)/2,0),ie=pY(this.options.radius,K),pe=(ie-Math.max(ie*d,0))/this._getVisibleDatasetWeightTotal();this.offsetX=F*ie,this.offsetY=R*ie,r.total=this.calculateTotal(),this.outerRadius=ie-pe*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-pe*A,0),this.updateElements(s,0,s.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||null===r._parsed[t]||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*s/Lo)}updateElements(t,e,i,r){const s="reset"===r,a=this.chart,l=a.chartArea,p=(l.left+l.right)/2,_=(l.top+l.bottom)/2,x=s&&a.options.animation.animateScale,C=x?0:this.innerRadius,F=x?0:this.outerRadius,{sharedOptions:R,includeOptions:U}=this._getSharedOptions(e,r);let K,Q=this._getRotation();for(K=0;K<e;++K)Q+=this._circumference(K,s);for(K=e;K<e+i;++K){const ie=this._circumference(K,s),ce=t[K],pe={x:p+this.offsetX,y:_+this.offsetY,startAngle:Q,endAngle:Q+ie,circumference:ie,outerRadius:F,innerRadius:C};U&&(pe.options=R||this.resolveDataElementOptions(K,ce.active?"active":r)),Q+=ie,this.updateElement(ce,K,pe,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let r,i=0;for(r=0;r<e.length;r++){const s=t._parsed[r];null!==s&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Lo*(Math.abs(t)/e):0}getLabelAndValue(t){const i=this.chart,r=i.data.labels||[],s=w2(this._cachedMeta._parsed[t],i.options.locale);return{label:r[t]||"",value:s}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,s,a,l,d;if(!t)for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){a=i.getDatasetMeta(r),t=a.data,l=a.controller;break}if(!t)return 0;for(r=0,s=t.length;r<s;++r)d=l.resolveDataElementOptions(r),"inner"!==d.borderAlign&&(e=Math.max(e,d.borderWidth||0,d.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const s=this.resolveDataElementOptions(i);e=Math.max(e,s.offset||0,s.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(hr(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class m$ extends lw{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((s,a)=>{const d=t.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:r,lineWidth:d.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const i=this.chart,r=i.data.labels||[],s=w2(this._cachedMeta._parsed[t].r,i.options.locale);return{label:r[t]||"",value:s}}parseObjectData(t,e,i,r){return GY.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((i,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<e.min&&(e.min=s),s>e.max&&(e.max=s))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),s=Math.max(r/2,0),l=(s-Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(t,e,i,r){const s="reset"===r,a=this.chart,d=a.options.animation,A=this._cachedMeta.rScale,p=A.xCenter,_=A.yCenter,x=A.getIndexAngle(0)-.5*$o;let F,C=x;const R=360/this.countVisibleElements();for(F=0;F<e;++F)C+=this._computeAngle(F,r,R);for(F=e;F<e+i;F++){const U=t[F];let Q=C,K=C+this._computeAngle(F,r,R),ie=a.getDataVisibility(F)?A.getDistanceFromCenterForValue(this.getParsed(F).r):0;C=K,s&&(d.animateScale&&(ie=0),d.animateRotate&&(Q=K=x));const ce={x:p,y:_,innerRadius:0,outerRadius:ie,startAngle:Q,endAngle:K,options:this.resolveDataElementOptions(F,U.active?"active":r)};this.updateElement(U,F,ce,r)}}countVisibleElements(){let e=0;return this._cachedMeta.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?Kp(this.resolveDataElementOptions(t,e).angle||i):0}}var KCe=Object.freeze({__proto__:null,BarController:class HCe extends lw{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return f$(t,e,i,r)}parseArrayData(t,e,i,r){return f$(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:s,vScale:a}=t,{xAxisKey:l="x",yAxisKey:d="y"}=this._parsing,A="x"===s.axis?l:d,p="x"===a.axis?l:d,_=[];let x,C,F,R;for(x=i,C=i+r;x<C;++x)R=e[x],F={},F[s.axis]=s.parse(rw(R,A),x),_.push(A$(rw(R,p),F,a,x));return _}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const s=i._custom;s&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,s=this.getParsed(t),a=s._custom,l=XH(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const s="reset"===r,{index:a,_cachedMeta:{vScale:l}}=this,d=l.getBasePixel(),A=l.isHorizontal(),p=this._getRuler(),{sharedOptions:_,includeOptions:x}=this._getSharedOptions(e,r);for(let C=e;C<e+i;C++){const F=this.getParsed(C),R=s||$r(F[l.axis])?{base:d,head:d}:this._calculateBarValuePixels(C),U=this._calculateBarIndexPixels(C,p),Q=(F._stacks||{})[l.axis],K={horizontal:A,base:R.base,enableBorderRadius:!Q||XH(F._custom)||a===Q._top||a===Q._bottom,x:A?R.head:U.center,y:A?U.center:R.head,height:A?U.size:Math.abs(R.size),width:A?Math.abs(R.size):U.size};x&&(K.options=_||this.resolveDataElementOptions(C,t[C].active?"active":r));const ie=K.options||t[C].options;PCe(K,ie,Q,a),UCe(K,ie,p.ratio),this.updateElement(t[C],C,K,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),s=i.options.stacked,a=[],l=d=>{const A=d.controller.getParsed(e),p=A&&A[d.vScale.axis];if($r(p)||isNaN(p))return!0};for(const d of r)if((void 0===e||!l(d))&&((!1===s||-1===a.indexOf(d.stack)||void 0===s&&void 0===d.stack)&&a.push(d.stack),d.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const r=this._getStacks(t,i),s=void 0!==e?r.indexOf(e):-1;return-1===s?r.length-1:s}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let s,a;for(s=0,a=e.data.length;s<a;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const l=t.barThickness;return{min:l||BCe(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:s,minBarLength:a}}=this,l=s||0,d=this.getParsed(t),A=d._custom,p=XH(A);let F,R,_=d[e.axis],x=0,C=i?this.applyStack(e,d,i):_;C!==_&&(x=C-_,C=_),p&&(_=A.barStart,C=A.barEnd-A.barStart,0!==_&&Um(_)!==Um(A.barEnd)&&(x=0),x+=_);const U=$r(s)||p?x:s;let Q=e.getPixelForValue(U);if(F=this.chart.getDataVisibility(t)?e.getPixelForValue(x+C):Q,R=F-Q,Math.abs(R)<a){R=function OCe(n,t,e){return 0!==n?Um(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}(R,e,l)*a,_===l&&(Q-=R/2);const K=e.getPixelForDecimal(0),ie=e.getPixelForDecimal(1),ce=Math.min(K,ie),pe=Math.max(K,ie);Q=Math.max(Math.min(Q,pe),ce),F=Q+R,i&&!p&&(d._stacks[e.axis]._visualValues[r]=e.getValueForPixel(F)-e.getValueForPixel(Q))}if(Q===e.getPixelForValue(l)){const K=Um(R)*e.getLineWidthForValue(l)/2;Q+=K,R-=K}return{size:R,base:Q,head:F,center:F+R/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,s=r.skipNull,a=hr(r.maxBarThickness,1/0);let l,d;if(e.grouped){const A=s?this._getStackCount(t):e.stackCount,p="flex"===r.barThickness?function kCe(n,t,e,i){const r=t.pixels,s=r[n];let a=n>0?r[n-1]:null,l=n<r.length-1?r[n+1]:null;const d=e.categoryPercentage;null===a&&(a=s-(null===l?t.end-t.start:l-s)),null===l&&(l=s+s-a);const A=s-(s-Math.min(a,l))/2*d;return{chunk:Math.abs(l-a)/2*d/i,ratio:e.barPercentage,start:A}}(t,e,r,A):function FCe(n,t,e,i){const r=e.barThickness;let s,a;return $r(r)?(s=t.min*e.categoryPercentage,a=e.barPercentage):(s=r*i,a=1),{chunk:s/i,ratio:a,start:t.pixels[n]-s/2}}(t,e,r,A),_=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0);l=p.start+p.chunk*_+p.chunk/2,d=Math.min(a,p.chunk*p.ratio)}else l=i.getPixelForValue(this.getParsed(t)[i.axis],t),d=Math.min(a,e.min*e.ratio);return{base:l-d/2,head:l+d/2,center:l,size:d}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let s=0;for(;s<r;++s)null!==this.getParsed(s)[e.axis]&&i[s].draw(this._ctx)}},BubbleController:class QCe extends lw{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,r){const s=super.parsePrimitiveData(t,e,i,r);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+i).radius;return s}parseArrayData(t,e,i,r){const s=super.parseArrayData(t,e,i,r);for(let a=0;a<s.length;a++)s[a]._custom=hr(e[i+a][2],this.resolveDataElementOptions(a+i).radius);return s}parseObjectData(t,e,i,r){const s=super.parseObjectData(t,e,i,r);for(let a=0;a<s.length;a++){const l=e[i+a];s[a]._custom=hr(l&&l.r&&+l.r,this.resolveDataElementOptions(a+i).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=e,a=this.getParsed(t),l=r.getLabelForValue(a.x),d=s.getLabelForValue(a.y),A=a._custom;return{label:i[t]||"",value:"("+l+", "+d+(A?", "+A:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,r){const s="reset"===r,{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:d,includeOptions:A}=this._getSharedOptions(e,r),p=a.axis,_=l.axis;for(let x=e;x<e+i;x++){const C=t[x],F=!s&&this.getParsed(x),R={},U=R[p]=s?a.getPixelForDecimal(.5):a.getPixelForValue(F[p]),Q=R[_]=s?l.getBasePixel():l.getPixelForValue(F[_]);R.skip=isNaN(U)||isNaN(Q),A&&(R.options=d||this.resolveDataElementOptions(x,C.active?"active":r),s&&(R.options.radius=0)),this.updateElement(C,x,R,r)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return"active"!==e&&(r.radius=0),r.radius+=hr(i&&i._custom,s),r}},DoughnutController:eQ,LineController:class jCe extends lw{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=e,a=this.chart._animationsDisabled;let{start:l,count:d}=TY(e,r,a);this._drawStart=l,this._drawCount=d,MY(e)&&(l=0,d=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const A=this.resolveDatasetElementOptions(t);this.options.showLine||(A.borderWidth=0),A.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:A},t),this.updateElements(r,l,d,t)}updateElements(t,e,i,r){const s="reset"===r,{iScale:a,vScale:l,_stacked:d,_dataset:A}=this._cachedMeta,{sharedOptions:p,includeOptions:_}=this._getSharedOptions(e,r),x=a.axis,C=l.axis,{spanGaps:F,segment:R}=this.options,U=jS(F)?F:Number.POSITIVE_INFINITY,Q=this.chart._animationsDisabled||s||"none"===r,K=e+i,ie=t.length;let ce=e>0&&this.getParsed(e-1);for(let pe=0;pe<ie;++pe){const Se=t[pe],ve=Q?Se:{};if(pe<e||pe>=K){ve.skip=!0;continue}const de=this.getParsed(pe),We=$r(de[C]),et=ve[x]=a.getPixelForValue(de[x],pe),ae=ve[C]=s||We?l.getBasePixel():l.getPixelForValue(d?this.applyStack(l,de,d):de[C],pe);ve.skip=isNaN(et)||isNaN(ae)||We,ve.stop=pe>0&&Math.abs(de[x]-ce[x])>U,R&&(ve.parsed=de,ve.raw=A.data[pe]),_&&(ve.options=p||this.resolveDataElementOptions(pe,Se.active?"active":r)),Q||this.updateElement(Se,pe,ve,r),ce=de}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,a)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}},PieController:class zCe extends eQ{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}},PolarAreaController:m$,RadarController:class GCe extends lw{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,r){return GY.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta,i=e.dataset,r=e.data||[],s=e.iScale.getLabels();if(i.points=r,"resize"!==t){const a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0),this.updateElement(i,void 0,{_loop:!0,_fullLoop:s.length===r.length,options:a},t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,i,r){const s=this._cachedMeta.rScale,a="reset"===r;for(let l=e;l<e+i;l++){const d=t[l],A=this.resolveDataElementOptions(l,d.active?"active":r),p=s.getPointPositionForValue(l,this.getParsed(l).r),_=a?s.xCenter:p.x,x=a?s.yCenter:p.y,C={x:_,y:x,angle:p.angle,skip:isNaN(_)||isNaN(x),options:A};this.updateElement(d,l,C,r)}}},ScatterController:class qCe extends lw{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=e,a=this.getParsed(t),l=r.getLabelForValue(a.x),d=s.getLabelForValue(a.y);return{label:i[t]||"",value:"("+l+", "+d+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,r=this.chart._animationsDisabled;let{start:s,count:a}=TY(e,i,r);if(this._drawStart=s,this._drawCount=a,MY(e)&&(s=0,a=i.length),this.options.showLine){const{dataset:l,_dataset:d}=e;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!d._decimated,l.points=i;const A=this.resolveDatasetElementOptions(t);A.segment=this.options.segment,this.updateElement(l,void 0,{animated:!r,options:A},t)}this.updateElements(i,s,a,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,r){const s="reset"===r,{iScale:a,vScale:l,_stacked:d,_dataset:A}=this._cachedMeta,p=this.resolveDataElementOptions(e,r),_=this.getSharedOptions(p),x=this.includeOptions(r,_),C=a.axis,F=l.axis,{spanGaps:R,segment:U}=this.options,Q=jS(R)?R:Number.POSITIVE_INFINITY,K=this.chart._animationsDisabled||s||"none"===r;let ie=e>0&&this.getParsed(e-1);for(let ce=e;ce<e+i;++ce){const pe=t[ce],Se=this.getParsed(ce),ve=K?pe:{},de=$r(Se[F]),We=ve[C]=a.getPixelForValue(Se[C],ce),et=ve[F]=s||de?l.getBasePixel():l.getPixelForValue(d?this.applyStack(l,Se,d):Se[F],ce);ve.skip=isNaN(We)||isNaN(et)||de,ve.stop=ce>0&&Math.abs(Se[C]-ie[C])>Q,U&&(ve.parsed=Se,ve.raw=A.data[ce]),x&&(ve.options=_||this.resolveDataElementOptions(ce,pe.active?"active":r)),K||this.updateElement(pe,ce,ve,r),ie=Se}this.updateSharedOptions(_,r,p)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let l=0;for(let d=e.length-1;d>=0;--d)l=Math.max(l,e[d].size(this.resolveDataElementOptions(d))/2);return l>0&&l}const i=t.dataset,r=i.options&&i.options.borderWidth||0;if(!e.length)return r;const s=e[0].size(this.resolveDataElementOptions(0)),a=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,s,a)/2}}});function VC(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class tQ{static override(t){Object.assign(tQ.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return VC()}parse(){return VC()}format(){return VC()}add(){return VC()}diff(){return VC()}startOf(){return VC()}endOf(){return VC()}}var ZCe__date=tQ;function WCe(n,t,e,i){const{controller:r,data:s,_sorted:a}=n,l=r._cachedMeta.iScale;if(l&&t===l.axis&&"r"!==t&&a&&s.length){const d=l._reversePixels?hbe:Wy;if(!i)return d(s,t,e);if(r._sharedOptions){const A=s[0],p="function"==typeof A.getRange&&A.getRange(t);if(p){const _=d(s,t,e-p),x=d(s,t,e+p);return{lo:_.lo,hi:x.hi}}}}return{lo:0,hi:s.length-1}}function E2(n,t,e,i,r){const s=n.getSortedVisibleDatasetMetas(),a=e[t];for(let l=0,d=s.length;l<d;++l){const{index:A,data:p}=s[l],{lo:_,hi:x}=WCe(s[l],t,a,r);for(let C=_;C<=x;++C){const F=p[C];F.skip||i(F,A,C)}}}function nQ(n,t,e,i,r){const s=[];return!r&&!n.isPointInArea(t)||E2(n,e,t,function(l,d,A){!r&&!Yy(l,n.chartArea,0)||l.inRange(t.x,t.y,i)&&s.push({element:l,datasetIndex:d,index:A})},!0),s}function iQ(n,t,e,i,r,s){return s||n.isPointInArea(t)?"r"!==e||i?function JCe(n,t,e,i,r,s){let a=[];const l=function YCe(n){const t=-1!==n.indexOf("x"),e=-1!==n.indexOf("y");return function(i,r){const s=t?Math.abs(i.x-r.x):0,a=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}(e);let d=Number.POSITIVE_INFINITY;return E2(n,e,t,function A(p,_,x){const C=p.inRange(t.x,t.y,r);if(i&&!C)return;const F=p.getCenterPoint(r);if(!s&&!n.isPointInArea(F)&&!C)return;const U=l(t,F);U<d?(a=[{element:p,datasetIndex:_,index:x}],d=U):U===d&&a.push({element:p,datasetIndex:_,index:x})}),a}(n,t,e,i,r,s):function $Ce(n,t,e,i){let r=[];return E2(n,e,t,function s(a,l,d){const{startAngle:A,endAngle:p}=a.getProps(["startAngle","endAngle"],i),{angle:_}=CY(a,{x:t.x,y:t.y});y2(_,A,p)&&r.push({element:a,datasetIndex:l,index:d})}),r}(n,t,e,r):[]}function _$(n,t,e,i,r){const s=[],a="x"===e?"inXRange":"inYRange";let l=!1;return E2(n,e,t,(d,A,p)=>{d[a](t[e],r)&&(s.push({element:d,datasetIndex:A,index:p}),l=l||d.inRange(t.x,t.y,r))}),i&&!l?[]:s}var XCe={evaluateInteractionItems:E2,modes:{index(n,t,e,i){const r=HC(t,n),s=e.axis||"x",a=e.includeInvisible||!1,l=e.intersect?nQ(n,r,s,i,a):iQ(n,r,s,!1,i,a),d=[];return l.length?(n.getSortedVisibleDatasetMetas().forEach(A=>{const p=l[0].index,_=A.data[p];_&&!_.skip&&d.push({element:_,datasetIndex:A.index,index:p})}),d):[]},dataset(n,t,e,i){const r=HC(t,n),s=e.axis||"xy",a=e.includeInvisible||!1;let l=e.intersect?nQ(n,r,s,i,a):iQ(n,r,s,!1,i,a);if(l.length>0){const d=l[0].datasetIndex,A=n.getDatasetMeta(d).data;l=[];for(let p=0;p<A.length;++p)l.push({element:A[p],datasetIndex:d,index:p})}return l},point:(n,t,e,i)=>nQ(n,HC(t,n),e.axis||"xy",i,e.includeInvisible||!1),nearest:(n,t,e,i)=>iQ(n,HC(t,n),e.axis||"xy",e.intersect,i,e.includeInvisible||!1),x:(n,t,e,i)=>_$(n,HC(t,n),"x",e.intersect,i),y:(n,t,e,i)=>_$(n,HC(t,n),"y",e.intersect,i)}};const y$=["left","top","right","bottom"];function I2(n,t){return n.filter(e=>e.pos===t)}function v$(n,t){return n.filter(e=>-1===y$.indexOf(e.pos)&&e.box.axis===t)}function D2(n,t){return n.sort((e,i)=>{const r=t?i:e,s=t?e:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function w$(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function b$(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function r1e(n,t,e,i){const{pos:r,box:s}=e,a=n.maxPadding;if(!Lr(r)){e.size&&(n[r]-=e.size);const _=i[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?s.height:s.width),e.size=_.size/_.count,n[r]+=e.size}s.getPadding&&b$(a,s.getPadding());const l=Math.max(0,t.outerWidth-w$(a,n,"left","right")),d=Math.max(0,t.outerHeight-w$(a,n,"top","bottom")),A=l!==n.w,p=d!==n.h;return n.w=l,n.h=d,e.horizontal?{same:A,other:p}:{same:p,other:A}}function o1e(n,t){const e=t.maxPadding;return function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{s[a]=Math.max(t[a],e[a])}),s}(n?["left","right"]:["top","bottom"])}function T2(n,t,e,i){const r=[];let s,a,l,d,A,p;for(s=0,a=n.length,A=0;s<a;++s){l=n[s],d=l.box,d.update(l.width||t.w,l.height||t.h,o1e(l.horizontal,t));const{same:_,other:x}=r1e(t,e,l,i);A|=_&&r.length,p=p||x,d.fullSize||r.push(l)}return A&&T2(r,t,e,i)||p}function tL(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function C$(n,t,e,i){const r=e.padding;let{x:s,y:a}=t;for(const l of n){const d=l.box,A=i[l.stack]||{count:1,placed:0,weight:1},p=l.stackWeight/A.weight||1;if(l.horizontal){const _=t.w*p,x=A.size||d.height;m2(A.start)&&(a=A.start),d.fullSize?tL(d,r.left,a,e.outerWidth-r.right-r.left,x):tL(d,t.left+A.placed,a,_,x),A.start=a,A.placed+=_,a=d.bottom}else{const _=t.h*p,x=A.size||d.width;m2(A.start)&&(s=A.start),d.fullSize?tL(d,s,r.top,x,e.outerHeight-r.bottom-r.top):tL(d,s,t.top+A.placed,x,_),A.start=s,A.placed+=_,s=d.right}}t.x=s,t.y=a}var Tu={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;-1!==e&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=Du(n.options.layout.padding),s=Math.max(t-r.width,0),a=Math.max(e-r.height,0),l=function i1e(n){const t=function e1e(n){const t=[];let e,i,r,s,a,l;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],({position:s,options:{stack:a,stackWeight:l=1}}=r),t.push({index:e,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&s+a,stackWeight:l});return t}(n),e=D2(t.filter(A=>A.box.fullSize),!0),i=D2(I2(t,"left"),!0),r=D2(I2(t,"right")),s=D2(I2(t,"top"),!0),a=D2(I2(t,"bottom")),l=v$(t,"x"),d=v$(t,"y");return{fullSize:e,leftAndTop:i.concat(s),rightAndBottom:r.concat(d).concat(a).concat(l),chartArea:I2(t,"chartArea"),vertical:i.concat(r).concat(d),horizontal:s.concat(a).concat(l)}}(n.boxes),d=l.vertical,A=l.horizontal;Ls(n.boxes,R=>{"function"==typeof R.beforeLayout&&R.beforeLayout()});const p=d.reduce((R,U)=>U.box.options&&!1===U.box.options.display?R:R+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/p,hBoxMaxHeight:a/2}),x=Object.assign({},r);b$(x,Du(i));const C=Object.assign({maxPadding:x,w:s,h:a,x:r.left,y:r.top},r),F=function n1e(n,t){const e=function t1e(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:s}=e;if(!i||!y$.includes(r))continue;const a=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return t}(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,a,l;for(s=0,a=n.length;s<a;++s){l=n[s];const{fullSize:d}=l.box,A=e[l.stack],p=A&&l.stackWeight/A.weight;l.horizontal?(l.width=p?p*i:d&&t.availableWidth,l.height=r):(l.width=i,l.height=p?p*r:d&&t.availableHeight)}return e}(d.concat(A),_);T2(l.fullSize,C,_,F),T2(d,C,_,F),T2(A,C,_,F)&&T2(d,C,_,F),function s1e(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}(C),C$(l.leftAndTop,C,_,F),C.x+=C.w,C.y+=C.h,C$(l.rightAndBottom,C,_,F),n.chartArea={left:C.left,top:C.top,right:C.left+C.w,bottom:C.top+C.h,height:C.h,width:C.w},Ls(l.chartArea,R=>{const U=R.box;Object.assign(U,n.chartArea),U.update(C.w,C.h,{left:0,top:0,right:0,bottom:0})})}};class x${acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class a1e extends x${acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const nL="$chartjs",l1e={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},S$=n=>null===n||""===n,E$=!!sCe&&{passive:!0};function d1e(n,t,e){n.canvas.removeEventListener(t,e,E$)}function iL(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function A1e(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||iL(l.addedNodes,i),a=a&&!iL(l.removedNodes,i);a&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function f1e(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||iL(l.removedNodes,i),a=a&&!iL(l.addedNodes,i);a&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const M2=new Map;let I$=0;function D$(){const n=window.devicePixelRatio;n!==I$&&(I$=n,M2.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function m1e(n,t,e){const i=n.canvas,r=i&&YH(i);if(!r)return;const s=DY((l,d)=>{const A=r.clientWidth;e(l,d),A<r.clientWidth&&e()},window),a=new ResizeObserver(l=>{const d=l[0],A=d.contentRect.width,p=d.contentRect.height;0===A&&0===p||s(A,p)});return a.observe(r),function p1e(n,t){M2.size||window.addEventListener("resize",D$),M2.set(n,t)}(n,s),a}function rQ(n,t,e){e&&e.disconnect(),"resize"===t&&function g1e(n){M2.delete(n),M2.size||window.removeEventListener("resize",D$)}(n)}function _1e(n,t,e){const i=n.canvas,r=DY(s=>{null!==n.ctx&&e(function h1e(n,t){const e=l1e[n.type]||n.type,{x:i,y:r}=HC(n,t);return{type:e,chart:t,native:n,x:void 0!==i?i:null,y:void 0!==r?r:null}}(s,n))},n);return function u1e(n,t,e){n.addEventListener(t,e,E$)}(i,t,r),r}class y1e extends x${acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function c1e(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[nL]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",S$(r)){const s=WY(n,"width");void 0!==s&&(n.width=s)}if(S$(i))if(""===n.style.height)n.height=n.width/(t||2);else{const s=WY(n,"height");void 0!==s&&(n.height=s)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[nL])return!1;const i=e[nL].initial;["height","width"].forEach(s=>{const a=i[s];$r(a)?e.removeAttribute(s):e.setAttribute(s,a)});const r=i.style||{};return Object.keys(r).forEach(s=>{e.style[s]=r[s]}),e.width=e.width,delete e[nL],!0}addEventListener(t,e,i){this.removeEventListener(t,e),(t.$proxies||(t.$proxies={}))[e]=({attach:A1e,detach:f1e,resize:m1e}[e]||_1e)(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];r&&(({attach:rQ,detach:rQ,resize:rQ}[e]||d1e)(t,e,r),i[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return function rCe(n,t,e,i){const r=XO(n),s=UC(r,"margin"),a=JO(r.maxWidth,n,"clientWidth")||GO,l=JO(r.maxHeight,n,"clientHeight")||GO,d=function iCe(n,t,e){let i,r;if(void 0===t||void 0===e){const s=YH(n);if(s){const a=s.getBoundingClientRect(),l=XO(s),d=UC(l,"border","width"),A=UC(l,"padding");t=a.width-A.width-d.width,e=a.height-A.height-d.height,i=JO(l.maxWidth,s,"clientWidth"),r=JO(l.maxHeight,s,"clientHeight")}else t=n.clientWidth,e=n.clientHeight}return{width:t,height:e,maxWidth:i||GO,maxHeight:r||GO}}(n,t,e);let{width:A,height:p}=d;if("content-box"===r.boxSizing){const x=UC(r,"border","width"),C=UC(r,"padding");A-=C.width+x.width,p-=C.height+x.height}return A=Math.max(0,A-s.width),p=Math.max(0,i?A/i:p-s.height),A=eL(Math.min(A,a,d.maxWidth)),p=eL(Math.min(p,l,d.maxHeight)),A&&!p&&(p=eL(A/2)),(void 0!==t||void 0!==e)&&i&&d.height&&p>d.height&&(p=d.height,A=eL(Math.floor(p*i))),{width:A,height:p}}(t,e,i,r)}isAttached(t){const e=YH(t);return!(!e||!e.isConnected)}}class Jy{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return jS(this.x)&&jS(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}function rL(n,t,e,i,r){const s=hr(i,0),a=Math.min(hr(r,n.length),n.length);let d,A,p,l=0;for(e=Math.ceil(e),r&&(d=r-i,e=d/Math.floor(d/e)),p=s;p<0;)l++,p=Math.round(s+l*e);for(A=Math.max(s,0);A<a;A++)A===p&&(t.push(n[A]),l++,p=Math.round(s+l*e))}const T$=(n,t,e)=>"top"===t||"left"===t?n[t]+e:n[t]-e,M$=(n,t)=>Math.min(t||n,n);function B$(n,t){const e=[],i=n.length/t,r=n.length;let s=0;for(;s<r;s+=i)e.push(n[Math.floor(s)]);return e}function D1e(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),s=n._startPixel,a=n._endPixel,l=1e-6;let A,d=n.getPixelForTick(r);if(!(e&&(A=1===i?Math.max(d-s,a-d):0===t?(n.getPixelForTick(1)-d)/2:(d-n.getPixelForTick(r-1))/2,d+=r<t?A:-A,d<s-l||d>a+l)))return d}function B2(n){return n.drawTicks?n.tickLength:0}function F$(n,t){if(!n.display)return 0;const e=jl(n.font,t),i=Du(n.padding);return(Oo(n.text)?n.text.length:1)*e.lineHeight+i.height}function F1e(n,t,e){let i=HH(n);return(e&&"right"!==t||!e&&"right"===t)&&(i=(n=>"left"===n?"right":"right"===n?"left":n)(i)),i}class jC extends Jy{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=AA(t,Number.POSITIVE_INFINITY),e=AA(e,Number.NEGATIVE_INFINITY),i=AA(i,Number.POSITIVE_INFINITY),r=AA(r,Number.NEGATIVE_INFINITY),{min:AA(t,i),max:AA(e,r),minDefined:Ba(t),maxDefined:Ba(e)}}getMinMax(t){let a,{min:e,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:e,max:i};const l=this.getMatchingVisibleMetas();for(let d=0,A=l.length;d<A;++d)a=l[d].controller.getMinMax(this,t),r||(e=Math.min(e,a.min)),s||(i=Math.max(i,a.max));return e=s&&e>i?i:e,i=r&&e>i?e:i,{min:AA(e,AA(i,e)),max:AA(i,AA(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){wo(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:s,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function Lbe(n,t,e){const{min:i,max:r}=n,s=pY(t,(r-i)/2),a=(l,d)=>e&&0===l?0:l+d;return{min:a(i,-Math.abs(s)),max:a(r,s)}}(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=l<this.ticks.length;this._convertTicksToLabels(d?B$(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=function w1e(n,t){const e=n.options.ticks,i=function b1e(n){const t=n.options.offset,e=n._tickSize();return Math.floor(Math.min(n._length/e+(t?0:1),n._maxLength/e))}(n),r=Math.min(e.maxTicksLimit||i,i),s=e.major.enabled?function x1e(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}(t):[],a=s.length,l=s[0],d=s[a-1],A=[];if(a>r)return function S1e(n,t,e,i){let a,r=0,s=e[0];for(i=Math.ceil(i),a=0;a<n.length;a++)a===s&&(t.push(n[a]),r++,s=e[r*i])}(t,A,s,a/r),A;const p=function C1e(n,t,e){const i=function E1e(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}(n),r=t.length/e;if(!i)return Math.max(r,1);const s=function lbe(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i==0&&(t.push(i),t.push(n/i));return e===(0|e)&&t.push(e),t.sort((r,s)=>r-s).pop(),t}(i);for(let a=0,l=s.length-1;a<l;a++){const d=s[a];if(d>r)return d}return Math.max(r,1)}(s,t,r);if(a>0){let _,x;const C=a>1?Math.round((d-l)/(a-1)):null;for(rL(t,A,p,$r(C)?0:l-C,l),_=0,x=a-1;_<x;_++)rL(t,A,p,s[_],s[_+1]);return rL(t,A,p,d,$r(C)?t.length:d+C),A}return rL(t,A,p),A}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,i,t=this.options.reverse;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){wo(this.options.afterUpdate,[this])}beforeSetDimensions(){wo(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){wo(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),wo(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){wo(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=wo(e.callback,[s.value,i,t],this)}afterTickToLabelConversion(){wo(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){wo(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=M$(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,s=e.maxRotation;let l,d,A,a=r;if(!this._isVisible()||!e.display||r>=s||i<=1||!this.isHorizontal())return void(this.labelRotation=r);const p=this._getLabelSizes(),_=p.widest.width,x=p.highest.height,C=vc(this.chart.width-_,0,this.maxWidth);l=t.offset?this.maxWidth/i:C/(i-1),_+6>l&&(l=C/(i-(t.offset?.5:1)),d=this.maxHeight-B2(t.grid)-e.padding-F$(t.title,this.chart.options.font),A=Math.sqrt(_*_+x*x),a=PH(Math.min(Math.asin(vc((p.highest.height+6)/l,-1,1)),Math.asin(vc(d/A,-1,1))-Math.asin(vc(x/A,-1,1)))),a=Math.max(r,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){wo(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){wo(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:s}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const d=F$(r,e.options.font);if(l?(t.width=this.maxWidth,t.height=B2(s)+d):(t.height=this.maxHeight,t.width=B2(s)+d),i.display&&this.ticks.length){const{first:A,last:p,widest:_,highest:x}=this._getLabelSizes(),C=2*i.padding,F=Kp(this.labelRotation),R=Math.cos(F),U=Math.sin(F);l?t.height=Math.min(this.maxHeight,t.height+(i.mirror?0:U*_.width+R*x.height)+C):t.width=Math.min(this.maxWidth,t.width+(i.mirror?0:R*_.width+U*x.height)+C),this._calculatePadding(A,p,U,R)}}this._handleMargins(),l?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:s,padding:a},position:l}=this.options,d=0!==this.labelRotation,A="top"!==l&&"x"===this.axis;if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,C=0;d?A?(x=r*t.width,C=i*e.height):(x=i*t.height,C=r*e.width):"start"===s?C=e.width:"end"===s?x=t.width:"inner"!==s&&(x=t.width/2,C=e.width/2),this.paddingLeft=Math.max((x-p+a)*this.width/(this.width-p),0),this.paddingRight=Math.max((C-_+a)*this.width/(this.width-_),0)}else{let p=e.height/2,_=t.height/2;"start"===s?(p=0,_=t.height):"end"===s&&(p=e.height,_=0),this.paddingTop=p+a,this.paddingBottom=_+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){wo(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)$r(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=B$(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:s}=this,a=[],l=[],d=Math.floor(e/M$(e,i));let _,x,C,F,R,U,Q,K,ie,ce,pe,A=0,p=0;for(_=0;_<e;_+=d){if(F=t[_].label,R=this._resolveTickFontOptions(_),r.font=U=R.string,Q=s[U]=s[U]||{data:{},gc:[]},K=R.lineHeight,ie=ce=0,$r(F)||Oo(F)){if(Oo(F))for(x=0,C=F.length;x<C;++x)pe=F[x],!$r(pe)&&!Oo(pe)&&(ie=ZO(r,Q.data,Q.gc,ie,pe),ce+=K)}else ie=ZO(r,Q.data,Q.gc,ie,F),ce=K;a.push(ie),l.push(ce),A=Math.max(ie,A),p=Math.max(ce,p)}!function T1e(n,t){Ls(n,e=>{const i=e.gc,r=i.length/2;let s;if(r>t){for(s=0;s<r;++s)delete e.data[i[s]];i.splice(0,r)}})}(s,e);const Se=a.indexOf(A),ve=l.indexOf(p),de=We=>({width:a[We]||0,height:l[We]||0});return{first:de(0),last:de(e-1),widest:de(Se),highest:de(ve),widths:a,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return function dbe(n){return vc(n,-32768,32767)}(this._alignToPixels?LC(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function B1e(n,t,e){return aw(n,{tick:e,index:t,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=function M1e(n,t){return aw(n,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Kp(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),s=this._getLabelSizes(),a=t.autoSkipPadding||0,l=s?s.widest.width+a:0,d=s?s.highest.height+a:0;return this.isHorizontal()?d*i>l*r?l/i:d/r:d*r<l*i?d/i:l/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:s,position:a,border:l}=r,d=s.offset,A=this.isHorizontal(),_=this.ticks.length+(d?1:0),x=B2(s),C=[],F=l.setContext(this.getContext()),R=F.display?F.width:0,U=R/2,Q=function(Me){return LC(i,Me,R)};let K,ie,ce,pe,Se,ve,de,We,et,ae,oe,Be;if("top"===a)K=Q(this.bottom),ve=this.bottom-x,We=K-U,ae=Q(t.top)+U,Be=t.bottom;else if("bottom"===a)K=Q(this.top),ae=t.top,Be=Q(t.bottom)-U,ve=K+U,We=this.top+x;else if("left"===a)K=Q(this.right),Se=this.right-x,de=K-U,et=Q(t.left)+U,oe=t.right;else if("right"===a)K=Q(this.left),et=t.left,oe=Q(t.right)-U,Se=K+U,de=this.left+x;else if("x"===e){if("center"===a)K=Q((t.top+t.bottom)/2+.5);else if(Lr(a)){const Me=Object.keys(a)[0];K=Q(this.chart.scales[Me].getPixelForValue(a[Me]))}ae=t.top,Be=t.bottom,ve=K+U,We=ve+x}else if("y"===e){if("center"===a)K=Q((t.left+t.right)/2);else if(Lr(a)){const Me=Object.keys(a)[0];K=Q(this.chart.scales[Me].getPixelForValue(a[Me]))}Se=K-U,de=Se-x,et=t.left,oe=t.right}const Ee=hr(r.ticks.maxTicksLimit,_),ct=Math.max(1,Math.ceil(_/Ee));for(ie=0;ie<_;ie+=ct){const Me=this.getContext(ie),Qe=s.setContext(Me),Re=l.setContext(Me),tt=Qe.lineWidth,_t=Qe.color,fn=Re.dash||[],J=Re.dashOffset,ye=Qe.tickWidth,we=Qe.tickColor,Pe=Qe.tickBorderDash||[],Ye=Qe.tickBorderDashOffset;ce=D1e(this,ie,d),void 0!==ce&&(pe=LC(i,ce,tt),A?Se=de=et=oe=pe:ve=We=ae=Be=pe,C.push({tx1:Se,ty1:ve,tx2:de,ty2:We,x1:et,y1:ae,x2:oe,y2:Be,width:tt,color:_t,borderDash:fn,borderDashOffset:J,tickWidth:ye,tickColor:we,tickBorderDash:Pe,tickBorderDashOffset:Ye}))}return this._ticksLength=_,this._borderValue=K,C}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:s}=i,a=this.isHorizontal(),l=this.ticks,{align:d,crossAlign:A,padding:p,mirror:_}=s,x=B2(i.grid),C=x+p,F=_?-p:C,R=-Kp(this.labelRotation),U=[];let Q,K,ie,ce,pe,Se,ve,de,We,et,ae,oe,Be="middle";if("top"===r)Se=this.bottom-F,ve=this._getXAxisLabelAlignment();else if("bottom"===r)Se=this.top+F,ve=this._getXAxisLabelAlignment();else if("left"===r){const ct=this._getYAxisLabelAlignment(x);ve=ct.textAlign,pe=ct.x}else if("right"===r){const ct=this._getYAxisLabelAlignment(x);ve=ct.textAlign,pe=ct.x}else if("x"===e){if("center"===r)Se=(t.top+t.bottom)/2+C;else if(Lr(r)){const ct=Object.keys(r)[0];Se=this.chart.scales[ct].getPixelForValue(r[ct])+C}ve=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)pe=(t.left+t.right)/2-C;else if(Lr(r)){const ct=Object.keys(r)[0];pe=this.chart.scales[ct].getPixelForValue(r[ct])}ve=this._getYAxisLabelAlignment(x).textAlign}"y"===e&&("start"===d?Be="top":"end"===d&&(Be="bottom"));const Ee=this._getLabelSizes();for(Q=0,K=l.length;Q<K;++Q){ie=l[Q],ce=ie.label;const ct=s.setContext(this.getContext(Q));de=this.getPixelForTick(Q)+s.labelOffset,We=this._resolveTickFontOptions(Q),et=We.lineHeight,ae=Oo(ce)?ce.length:1;const Me=ae/2,Qe=ct.color,Re=ct.textStrokeColor,tt=ct.textStrokeWidth;let fn,_t=ve;if(a?(pe=de,"inner"===ve&&(_t=Q===K-1?this.options.reverse?"left":"right":0===Q?this.options.reverse?"right":"left":"center"),oe="top"===r?"near"===A||0!==R?-ae*et+et/2:"center"===A?-Ee.highest.height/2-Me*et+et:et/2-Ee.highest.height:"near"===A||0!==R?et/2:"center"===A?Ee.highest.height/2-Me*et:Ee.highest.height-ae*et,_&&(oe*=-1),0!==R&&!ct.showLabelBackdrop&&(pe+=et/2*Math.sin(R))):(Se=de,oe=(1-ae)*et/2),ct.showLabelBackdrop){const J=Du(ct.backdropPadding),ye=Ee.heights[Q],we=Ee.widths[Q];let Pe=oe-J.top,Ye=0-J.left;switch(Be){case"middle":Pe-=ye/2;break;case"bottom":Pe-=ye}switch(ve){case"center":Ye-=we/2;break;case"right":Ye-=we}fn={left:Ye,top:Pe,width:we+J.width,height:ye+J.height,color:ct.backdropColor}}U.push({label:ce,font:We,textOffset:oe,options:{rotation:R,color:Qe,strokeColor:Re,strokeWidth:tt,textAlign:_t,textBaseline:Be,translation:[pe,Se],backdrop:fn}})}return U}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Kp(this.labelRotation))return"top"===t?"left":"right";let r="center";return"start"===e.align?r="left":"end"===e.align?r="right":"inner"===e.align&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,l=t+s,d=this._getLabelSizes().widest.width;let A,p;return"left"===e?r?(p=this.right+s,"near"===i?A="left":"center"===i?(A="center",p+=d/2):(A="right",p+=d)):(p=this.right-l,"near"===i?A="right":"center"===i?(A="center",p-=d/2):(A="left",p=this.left)):"right"===e?r?(p=this.left+s,"near"===i?A="right":"center"===i?(A="center",p-=d/2):(A="left",p-=d)):(p=this.left+l,"near"===i?A="left":"center"===i?(A="center",p+=d/2):(A="right",p=this.right)):A="right",{textAlign:A,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:s,height:a}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,s,a),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(s=>s.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,a;const l=(d,A,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(d.x,d.y),i.lineTo(A.x,A.y),i.stroke(),i.restore())};if(e.display)for(s=0,a=r.length;s<a;++s){const d=r[s];e.drawOnChartArea&&l({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),e.drawTicks&&l({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),a=i.display?s.width:0;if(!a)return;const l=r.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let A,p,_,x;this.isHorizontal()?(A=LC(t,this.left,a)-a/2,p=LC(t,this.right,l)+l/2,_=x=d):(_=LC(t,this.top,a)-a/2,x=LC(t,this.bottom,l)+l/2,A=p=d),e.save(),e.lineWidth=s.width,e.strokeStyle=s.color,e.beginPath(),e.moveTo(A,_),e.lineTo(p,x),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&WO(i,r);const s=this.getLabelItems(t);for(const a of s)PC(i,a.label,0,a.textOffset,a.font,a.options);r&&YO(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const s=jl(i.font),a=Du(i.padding),l=i.align;let d=s.lineHeight/2;"bottom"===e||"center"===e||Lr(e)?(d+=a.bottom,Oo(i.text)&&(d+=s.lineHeight*(i.text.length-1))):d+=a.top;const{titleX:A,titleY:p,maxWidth:_,rotation:x}=function k1e(n,t,e,i){const{top:r,left:s,bottom:a,right:l,chart:d}=n,{chartArea:A,scales:p}=d;let x,C,F,_=0;const R=a-r,U=l-s;if(n.isHorizontal()){if(C=Iu(i,s,l),Lr(e)){const Q=Object.keys(e)[0];F=p[Q].getPixelForValue(e[Q])+R-t}else F="center"===e?(A.bottom+A.top)/2+R-t:T$(n,e,t);x=l-s}else{if(Lr(e)){const Q=Object.keys(e)[0];C=p[Q].getPixelForValue(e[Q])-U+t}else C="center"===e?(A.left+A.right)/2-U+t:T$(n,e,t);F=Iu(i,a,r),_="left"===e?-Fa:Fa}return{titleX:C,titleY:F,maxWidth:x,rotation:_}}(this,d,e,l);PC(t,i.text,0,0,s,{color:i.color,maxWidth:_,rotation:x,textAlign:F1e(l,e,r),textBaseline:"middle",translation:[A,p]})}draw(t){!this._isVisible()||(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=hr(t.grid&&t.grid.z,-1),r=hr(t.border&&t.border.z,0);return this._isVisible()&&this.draw===jC.prototype.draw?[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:s=>{this.drawLabels(s)}}]:[{z:e,draw:s=>{this.draw(s)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,a;for(s=0,a=e.length;s<a;++s){const l=e[s];l[i]===this.id&&(!t||l.type===t)&&r.push(l)}return r}_resolveTickFontOptions(t){return jl(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class sL{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function L1e(n){return"id"in n&&"defaults"in n})(e)&&(i=this.register(e));const r=this.items,s=t.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,function R1e(n,t,e){const i=p2(Object.create(null),[e?_a.get(e):{},_a.get(t),n.defaults]);_a.set(t,i),n.defaultRoutes&&function O1e(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),s=[n].concat(i).join("."),a=t[e].split("."),l=a.pop(),d=a.join(".");_a.route(s,r,d,l)})}(t,n.defaultRoutes),n.descriptors&&_a.describe(t,n.descriptors)}(t,a,i),this.override&&_a.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in _a[r]&&(delete _a[r][i],this.override&&delete OC[i])}}class P1e{constructor(){this.controllers=new sL(lw,"datasets",!0),this.elements=new sL(Jy,"elements"),this.plugins=new sL(Object,"plugins"),this.scales=new sL(jC,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):Ls(r,a=>{const l=i||this._getRegistryForType(a);this._exec(t,l,a)})})}_exec(t,e,i){const r=LH(t);wo(i["before"+r],[],i),e[t](i),wo(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Hm=new P1e;class N1e{constructor(){this._init=[]}notify(t,e,i,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=r?this._descriptors(t).filter(r):this._descriptors(t),a=this._notify(s,t,e,i);return"afterDestroy"===e&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,e,i,r){r=r||{};for(const s of t){const a=s.plugin;if(!1===wo(a[i],[e,r,s.options],a)&&r.cancelable)return!1}return!0}invalidate(){$r(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=hr(i.options&&i.options.plugins,{}),s=function U1e(n){const t={},e=[],i=Object.keys(Hm.plugins.items);for(let s=0;s<i.length;s++)e.push(Hm.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const a=r[s];-1===e.indexOf(a)&&(e.push(a),t[a.id]=!0)}return{plugins:e,localIds:t}}(i);return!1!==r||e?function Q1e(n,{plugins:t,localIds:e},i,r){const s=[],a=n.getContext();for(const l of t){const d=l.id,A=H1e(i[d],r);null!==A&&s.push({plugin:l,options:V1e(n.config,{plugin:l,local:e[d]},A,a)})}return s}(t,s,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(s,a)=>s.filter(l=>!a.some(d=>l.plugin.id===d.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function H1e(n,t){return t||!1!==n?!0===n?{}:n:null}function V1e(n,{plugin:t,local:e},i,r){const s=n.pluginScopeKeys(t),a=n.getOptionScopes(i,s);return e&&t.defaults&&a.push(t.defaults),n.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function sQ(n,t){return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||(_a.datasets[n]||{}).indexAxis||"x"}function k$(n){if("x"===n||"y"===n||"r"===n)return n}function G1e(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}function oQ(n,...t){if(k$(n))return n;for(const e of t){const i=e.axis||G1e(e.position)||n.length>1&&k$(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function R$(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function O$(n){const t=n.options||(n.options={});t.plugins=hr(t.plugins,{}),t.scales=function K1e(n,t){const e=OC[n.type]||{scales:{}},i=t.scales||{},r=sQ(n.type,t),s=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!Lr(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const d=oQ(a,l,function q1e(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return R$(n,"x",e[0])||R$(n,"y",e[0])}return{}}(a,n),_a.scales[l.type]),A=function z1e(n,t){return n===t?"_index_":"_value_"}(d,r),p=e.scales||{};s[a]=g2(Object.create(null),[{axis:d},l,p[d],p[A]])}),n.data.datasets.forEach(a=>{const l=a.type||n.type,d=a.indexAxis||sQ(l,t),p=(OC[l]||{}).scales||{};Object.keys(p).forEach(_=>{const x=function j1e(n,t){let e=n;return"_index_"===n?e=t:"_value_"===n&&(e="x"===t?"y":"x"),e}(_,d),C=a[x+"AxisID"]||x;s[C]=s[C]||Object.create(null),g2(s[C],[{axis:x},i[C],p[_]])})}),Object.keys(s).forEach(a=>{const l=s[a];g2(l,[_a.scales[l.type],_a.scale])}),s}(n,t)}function L$(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const P$=new Map,N$=new Set;function oL(n,t){let e=P$.get(n);return e||(e=t(),P$.set(n,e),N$.add(e)),e}const F2=(n,t,e)=>{const i=rw(t,e);void 0!==i&&n.add(i)};class W1e{constructor(t){this._config=function Z1e(n){return(n=n||{}).data=L$(n.data),O$(n),n}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=L$(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),O$(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return oL(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return oL(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return oL(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return oL(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:s}=this,a=this._cachedScopes(t,i),l=a.get(e);if(l)return l;const d=new Set;e.forEach(p=>{t&&(d.add(t),p.forEach(_=>F2(d,t,_))),p.forEach(_=>F2(d,r,_)),p.forEach(_=>F2(d,OC[s]||{},_)),p.forEach(_=>F2(d,_a,_)),p.forEach(_=>F2(d,jH,_))});const A=Array.from(d);return 0===A.length&&A.push(Object.create(null)),N$.has(e)&&a.set(e,A),A}chartOptionScopes(){const{options:t,type:e}=this;return[t,OC[e]||{},_a.datasets[e]||{},{type:e},_a,jH]}resolveNamedOptions(t,e,i,r=[""]){const s={$shared:!0},{resolver:a,subPrefixes:l}=U$(this._resolverCache,t,r);let d=a;(function $1e(n,t){const{isScriptable:e,isIndexable:i}=UY(n);for(const r of t){const s=e(r),a=i(r),l=(a||s)&&n[r];if(s&&(sw(l)||Y1e(l))||a&&Oo(l))return!0}return!1})(a,e)&&(s.$shared=!1,d=zS(a,i=sw(i)?i():i,this.createResolver(t,i,l)));for(const A of e)s[A]=d[A];return s}createResolver(t,e,i=[""],r){const{resolver:s}=U$(this._resolverCache,t,i);return Lr(e)?zS(s,e,void 0,r):s}}function U$(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let s=i.get(r);return s||(s={resolver:KH(t,e),subPrefixes:e.filter(l=>!l.toLowerCase().includes("hover"))},i.set(r,s)),s}const Y1e=n=>Lr(n)&&Object.getOwnPropertyNames(n).reduce((t,e)=>t||sw(n[e]),!1),X1e=["top","bottom","left","right","chartArea"];function H$(n,t){return"top"===n||"bottom"===n||-1===X1e.indexOf(n)&&"x"===t}function Q$(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function V$(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),wo(e&&e.onComplete,[n],t)}function exe(n){const t=n.chart,e=t.options.animation;wo(e&&e.onProgress,[n],t)}function j$(n){return KY()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const aL={},z$=n=>{const t=j$(n);return Object.values(aL).filter(e=>e.canvas===t).pop()};function txe(n,t,e){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=t){const a=n[r];delete n[r],(e>0||s>t)&&(n[s+e]=a)}}}class lL{static defaults=_a;static instances=aL;static overrides=OC;static registry=Hm;static version="4.3.0";static getChart=z$;static register(...t){Hm.add(...t),G$()}static unregister(...t){Hm.remove(...t),G$()}constructor(t,e){const i=this.config=new W1e(e),r=j$(t),s=z$(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function v1e(n){return!KY()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?a1e:y1e}(r)),this.platform.updateConfig(i);const l=this.platform.acquireContext(r,a.aspectRatio),d=l&&l.canvas,A=d&&d.height,p=d&&d.width;this.id=Xwe(),this.ctx=l,this.canvas=d,this.width=p,this.height=A,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new N1e,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function pbe(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}(_=>this.update(_),a.resizeDelay||0),this._dataChanges=[],aL[this.id]=this,l&&d?($y.listen(this,"complete",V$),$y.listen(this,"progress",exe),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:s}=this;return $r(t)?e&&s?s:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Hm}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ZY(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return LY(this.canvas,this.ctx),this}stop(){return $y.stop(this),this}resize(t,e){$y.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,a=this.platform.getMaximumSize(this.canvas,t,e,i.maintainAspectRatio&&this.aspectRatio),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,ZY(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),wo(i.onResize,[this,a],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){Ls(this.options.scales||{},(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((a,l)=>(a[l]=!1,a),{});let s=[];e&&(s=s.concat(Object.keys(e).map(a=>{const l=e[a],d=oQ(a,l),A="r"===d,p="x"===d;return{options:l,dposition:A?"chartArea":p?"bottom":"left",dtype:A?"radialLinear":p?"category":"linear"}}))),Ls(s,a=>{const l=a.options,d=l.id,A=oQ(d,l),p=hr(l.type,a.dtype);(void 0===l.position||H$(l.position,A)!==H$(a.dposition))&&(l.position=a.dposition),r[d]=!0;let _=null;d in i&&i[d].type===p?_=i[d]:(_=new(Hm.getScale(p))({id:d,type:p,ctx:this.ctx,chart:this}),i[_.id]=_),_.init(l,t)}),Ls(r,(a,l)=>{a||delete i[l]}),Ls(i,a=>{Tu.configure(this,a,a.options),Tu.addBox(this,a)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,s)=>r.index-s.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(Q$("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{0===e.filter(s=>s===i._dataset).length&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const s=e[i];let a=this.getDatasetMeta(i);const l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=l,a.indexAxis=s.indexAxis||sQ(l,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const d=Hm.getController(l),{datasetElementType:A,dataElementType:p}=_a.datasets[l];Object.assign(d,{dataElementType:Hm.getElement(p),datasetElementType:A&&Hm.getElement(A)}),a.controller=new d(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){Ls(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let A=0,p=this.data.datasets.length;A<p;A++){const{controller:_}=this.getDatasetMeta(A),x=!r&&-1===s.indexOf(_);_.buildOrUpdateElements(x),a=Math.max(+_.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),r||Ls(s,A=>{A.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Q$("z","_idx"));const{_active:l,_lastEvent:d}=this;d?this._eventHandler(d,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Ls(this.scales,t=>{Tu.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!_Y(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of e)txe(t,r,"_removeElements"===i?-s:s)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=s=>new Set(t.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),r=i(0);for(let s=1;s<e;s++)if(!_Y(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Tu.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Ls(this.boxes,r=>{i&&"chartArea"===r.position||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,sw(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&($y.has(this)?this.attached&&!$y.running(this)&&$y.start(this):(this.draw(),V$({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,s;for(r=0,s=e.length;r<s;++r){const a=e[r];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,r=!i.disabled,s=function ixe(n){const{xScale:t,yScale:e}=n;if(t&&e)return{left:t.left,right:t.right,top:e.top,bottom:e.bottom}}(t)||this.chartArea,a={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(r&&WO(e,{left:!1===i.left?0:s.left-i.left,right:!1===i.right?this.width:s.right+i.right,top:!1===i.top?0:s.top-i.top,bottom:!1===i.bottom?this.height:s.bottom+i.bottom}),t.controller.draw(),r&&YO(e),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return Yy(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const s=XCe.modes[e];return"function"==typeof s?s(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(s=>s&&s._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=aw(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return"boolean"==typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",s=this.getDatasetMeta(t),a=s.controller._resolveAnimations(void 0,r);m2(e)?(s.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(s,{visible:i}),this.update(l=>l.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),$y.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),LY(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete aL[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(s,a)=>{e.addEventListener(this,s,a),t[s]=a},r=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};Ls(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(d,A)=>{e.addEventListener(this,d,A),t[d]=A},r=(d,A)=>{t[d]&&(e.removeEventListener(this,d,A),delete t[d])},s=(d,A)=>{this.canvas&&this.resize(d,A)};let a;const l=()=>{r("attach",l),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",l)},e.isAttached(this.canvas)?l():a()}unbindEvents(){Ls(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Ls(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let s,a,l,d;for("dataset"===e&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),l=0,d=t.length;l<d;++l){a=t[l];const A=a&&this.getDatasetMeta(a.datasetIndex).controller;A&&A[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:s,index:a})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!jO(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return 1===this._plugins._cache.filter(e=>e.plugin.id===t).length}_updateHoverStyles(t,e,i){const r=this.options.hover,s=(d,A)=>d.filter(p=>!A.some(_=>p.datasetIndex===_.datasetIndex&&p.index===_.index)),a=s(e,t),l=i?t:s(t,e);a.length&&this.updateHoverStyle(a,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=a=>(a.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",i,r))return;const s=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:s}=this,l=this._getActiveElements(t,r,i,e),d=function sbe(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(t),A=function nxe(n,t,e,i){return e&&"mouseout"!==n.type?i?t:n:null}(t,this._lastEvent,i,d);i&&(this._lastEvent=null,wo(s.onHover,[t,l,this],this),d&&wo(s.onClick,[t,l,this],this));const p=!jO(l,r);return(p||e)&&(this._active=l,this._updateHoverStyles(l,r,e)),this._lastEvent=A,p}_getActiveElements(t,e,i,r){if("mouseout"===t.type)return[];if(!i)return e;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,r)}}function G$(){return Ls(lL.instances,n=>n._plugins.invalidate())}function KS(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function cL(n,t,e,i,r,s){const{x:a,y:l,startAngle:d,pixelMargin:A,innerRadius:p}=t,_=Math.max(t.outerRadius+i+e-A,0),x=p>0?p+i+e+A:0;let C=0;const F=r-d;if(i){const Qe=((p>0?p-i:0)+(_>0?_-i:0))/2;C=(F-(0!==Qe?F*Qe/(Qe+i):F))/2}const U=(F-Math.max(.001,F*_-e/$o)/_)/2,Q=d+U+C,K=r-U-C,{outerStart:ie,outerEnd:ce,innerStart:pe,innerEnd:Se}=function oxe(n,t,e,i){const r=function sxe(n){return qH(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),s=(e-t)/2,a=Math.min(s,i*t/2),l=d=>{const A=(e-Math.min(s,d))*i/2;return vc(d,0,Math.min(s,A))};return{outerStart:l(r.outerStart),outerEnd:l(r.outerEnd),innerStart:vc(r.innerStart,0,a),innerEnd:vc(r.innerEnd,0,a)}}(t,x,_,K-Q),ve=_-ie,de=_-ce,We=Q+ie/ve,et=K-ce/de,ae=x+pe,oe=x+Se,Be=Q+pe/ae,Ee=K-Se/oe;if(n.beginPath(),s){const ct=(We+et)/2;if(n.arc(a,l,_,We,ct),n.arc(a,l,_,ct,et),ce>0){const tt=KS(de,et,a,l);n.arc(tt.x,tt.y,ce,et,K+Fa)}const Me=KS(oe,K,a,l);if(n.lineTo(Me.x,Me.y),Se>0){const tt=KS(oe,Ee,a,l);n.arc(tt.x,tt.y,Se,K+Fa,Ee+Math.PI)}const Qe=(K-Se/x+(Q+pe/x))/2;if(n.arc(a,l,x,K-Se/x,Qe,!0),n.arc(a,l,x,Qe,Q+pe/x,!0),pe>0){const tt=KS(ae,Be,a,l);n.arc(tt.x,tt.y,pe,Be+Math.PI,Q-Fa)}const Re=KS(ve,Q,a,l);if(n.lineTo(Re.x,Re.y),ie>0){const tt=KS(ve,We,a,l);n.arc(tt.x,tt.y,ie,Q-Fa,We)}}else{n.moveTo(a,l);const ct=Math.cos(We)*_+a,Me=Math.sin(We)*_+l;n.lineTo(ct,Me);const Qe=Math.cos(et)*_+a,Re=Math.sin(et)*_+l;n.lineTo(Qe,Re)}n.closePath()}function q$(n,t,e=t){n.lineCap=hr(e.borderCapStyle,t.borderCapStyle),n.setLineDash(hr(e.borderDash,t.borderDash)),n.lineDashOffset=hr(e.borderDashOffset,t.borderDashOffset),n.lineJoin=hr(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=hr(e.borderWidth,t.borderWidth),n.strokeStyle=hr(e.borderColor,t.borderColor)}function uxe(n,t,e){n.lineTo(e.x,e.y)}function K$(n,t,e={}){const i=n.length,{start:r=0,end:s=i-1}=e,{start:a,end:l}=t,d=Math.max(r,a),A=Math.min(s,l);return{count:i,start:d,loop:t.loop,ilen:A<d&&!(r<a&&s<a||r>l&&s>l)?i+A-d:A-d}}function hxe(n,t,e,i){const{points:r,options:s}=t,{count:a,start:l,loop:d,ilen:A}=K$(r,e,i),p=function dxe(n){return n.stepped?Ibe:n.tension||"monotone"===n.cubicInterpolationMode?Dbe:uxe}(s);let C,F,R,{move:_=!0,reverse:x}=i||{};for(C=0;C<=A;++C)F=r[(l+(x?A-C:C))%a],!F.skip&&(_?(n.moveTo(F.x,F.y),_=!1):p(n,R,F,x,s.stepped),R=F);return d&&(F=r[(l+(x?A:0))%a],p(n,R,F,x,s.stepped)),!!d}function Axe(n,t,e,i){const r=t.points,{count:s,start:a,ilen:l}=K$(r,e,i),{move:d=!0,reverse:A}=i||{};let x,C,F,R,U,Q,p=0,_=0;const K=ce=>(a+(A?l-ce:ce))%s,ie=()=>{R!==U&&(n.lineTo(p,U),n.lineTo(p,R),n.lineTo(p,Q))};for(d&&(C=r[K(0)],n.moveTo(C.x,C.y)),x=0;x<=l;++x){if(C=r[K(x)],C.skip)continue;const ce=C.x,pe=C.y,Se=0|ce;Se===F?(pe<R?R=pe:pe>U&&(U=pe),p=(_*p+ce)/++_):(ie(),n.lineTo(ce,pe),F=Se,_=0,R=U=pe),Q=pe}ie()}function aQ(n){const t=n.options;return n._decimated||n._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?hxe:Axe}const mxe="function"==typeof Path2D;class uL extends Jy{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;!i.tension&&"monotone"!==i.cubicInterpolationMode||i.stepped||this._pointsUpdated||(Jbe(this._points,i,t,i.spanGaps?this._loop:this._fullLoop,e),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function ACe(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const s=!!n._loop,{start:a,end:l}=function dCe(n,t,e,i){let r=0,s=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(s+=r);s>r&&n[s%t].skip;)s--;return s%=t,{start:r,end:s}}(e,r,s,i);return function n$(n,t,e,i){return i&&i.setContext&&e?function fCe(n,t,e,i){const r=n._chart.getContext(),s=i$(n.options),{_datasetIndex:a,options:{spanGaps:l}}=n,d=e.length,A=[];let p=s,_=t[0].start,x=_;function C(F,R,U,Q){const K=l?-1:1;if(F!==R){for(F+=d;e[F%d].skip;)F-=K;for(;e[R%d].skip;)R+=K;F%d!=R%d&&(A.push({start:F%d,end:R%d,loop:U,style:Q}),p=Q,_=R%d)}}for(const F of t){_=l?_:F.start;let U,R=e[_%d];for(x=_+1;x<=F.end;x++){const Q=e[x%d];U=i$(i.setContext(aw(r,{type:"segment",p0:R,p1:Q,p0DataIndex:(x-1)%d,p1DataIndex:x%d,datasetIndex:a}))),pCe(U,p)&&C(_,x-1,F.loop,p),R=Q,p=U}_<x-1&&C(_,x-1,F.loop,p)}return A}(n,t,e,i):t}(n,!0===i?[{start:a,end:l,loop:s}]:function hCe(n,t,e,i){const r=n.length,s=[];let d,a=t,l=n[t];for(d=t+1;d<=e;++d){const A=n[d%r];A.skip||A.stop?l.skip||(s.push({start:t%r,end:(d-1)%r,loop:i=!1}),t=a=A.stop?d:null):(a=d,l.skip&&(t=d)),l=A}return null!==a&&s.push({start:t%r,end:a%r,loop:i}),s}(e,a,l<a?l+r:l,!!n._fullLoop&&0===a&&l===r-1),e,t)}(this,this.options.segment))}first(){const t=this.segments;return t.length&&this.points[t[0].start]}last(){const t=this.segments,i=t.length;return i&&this.points[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],s=this.points,a=t$(this,{property:e,start:r,end:r});if(!a.length)return;const l=[],d=function fxe(n){return n.stepped?oCe:n.tension||"monotone"===n.cubicInterpolationMode?aCe:QC}(i);let A,p;for(A=0,p=a.length;A<p;++A){const{start:_,end:x}=a[A],C=s[_],F=s[x];if(C===F){l.push(C);continue}const U=d(C,F,Math.abs((r-C[e])/(F[e]-C[e])),i.stepped);U[e]=t[e],l.push(U)}return 1===l.length?l[0]:l}pathSegment(t,e,i){return aQ(this)(t,this,e,i)}path(t,e,i){const r=this.segments,s=aQ(this);let a=this._loop;e=e||0,i=i||this.points.length-e;for(const l of r)a&=s(t,this,l,{start:e,end:e+i-1});return!!a}draw(t,e,i,r){(this.points||[]).length&&(this.options||{}).borderWidth&&(t.save(),function _xe(n,t,e,i){mxe&&!t.options.segment?function pxe(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),q$(n,t.options),n.stroke(r)}(n,t,e,i):function gxe(n,t,e,i){const{segments:r,options:s}=t,a=aQ(t);for(const l of r)q$(n,s,l.style),n.beginPath(),a(n,t,l,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}(n,t,e,i)}(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Z$(n,t,e,i){const r=n.options,{[e]:s}=n.getProps([e],i);return Math.abs(t-s)<r.radius+r.hitRadius}function W$(n,t){const{x:e,y:i,base:r,width:s,height:a}=n.getProps(["x","y","base","width","height"],t);let l,d,A,p,_;return n.horizontal?(_=a/2,l=Math.min(e,r),d=Math.max(e,r),A=i-_,p=i+_):(_=s/2,l=e-_,d=e+_,A=Math.min(i,r),p=Math.max(i,r)),{left:l,top:A,right:d,bottom:p}}function cw(n,t,e,i){return n?0:vc(t,e,i)}function lQ(n,t,e,i){const r=null===t,s=null===e,l=n&&!(r&&s)&&W$(n,i);return l&&(r||Zy(t,l.left,l.right))&&(s||Zy(e,l.top,l.bottom))}function xxe(n,t){n.rect(t.x,t.y,t.w,t.h)}function cQ(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0;return{x:n.x+i,y:n.y+r,w:n.w+((n.x+n.w!==e.x+e.w?t:0)-i),h:n.h+((n.y+n.h!==e.y+e.h?t:0)-r),radius:n.radius}}var Exe=Object.freeze({__proto__:null,ArcElement:class cxe extends Jy{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:s,distance:a}=CY(r,{x:t,y:e}),{startAngle:l,endAngle:d,innerRadius:A,outerRadius:p,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),x=(this.options.spacing+this.options.borderWidth)/2,F=hr(_,d-l)>=Lo||y2(s,l,d),R=Zy(a,A+x,p+x);return F&&R}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:s,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:A}=this.options,p=(r+s)/2,_=(a+l+A+d)/2;return{x:e+Math.cos(p)*_,y:i+Math.sin(p)*_}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,s=(e.spacing||0)/2,a=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>Lo?Math.floor(i/Lo):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();const l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*r,Math.sin(l)*r);const A=r*(1-Math.sin(Math.min($o,i||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function axe(n,t,e,i,r){const{fullCircles:s,startAngle:a,circumference:l}=t;let d=t.endAngle;if(s){cL(n,t,e,i,d,r);for(let A=0;A<s;++A)n.fill();isNaN(l)||(d=a+(l%Lo||Lo))}cL(n,t,e,i,d,r),n.fill()}(t,this,A,s,a),function lxe(n,t,e,i,r){const{fullCircles:s,startAngle:a,circumference:l,options:d}=t,{borderWidth:A,borderJoinStyle:p,borderDash:_,borderDashOffset:x}=d,C="inner"===d.borderAlign;if(!A)return;n.setLineDash(_||[]),n.lineDashOffset=x,C?(n.lineWidth=2*A,n.lineJoin=p||"round"):(n.lineWidth=A,n.lineJoin=p||"bevel");let F=t.endAngle;if(s){cL(n,t,e,i,F,r);for(let R=0;R<s;++R)n.stroke();isNaN(l)||(F=a+(l%Lo||Lo))}C&&function rxe(n,t,e){const{startAngle:i,pixelMargin:r,x:s,y:a,outerRadius:l,innerRadius:d}=t;let A=r/l;n.beginPath(),n.arc(s,a,l,i-A,e+A),d>r?(A=r/d,n.arc(s,a,d,e+A,i-A,!0)):n.arc(s,a,r,e+Fa,i-Fa),n.closePath(),n.clip()}(n,t,F),s||(cL(n,t,e,i,F,r),n.stroke())}(t,this,A,s,a),t.restore()}},BarElement:class Sxe extends Jy{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:a}=function bxe(n){const t=W$(n),e=t.right-t.left,i=t.bottom-t.top,r=function vxe(n,t,e){const r=n.borderSkipped,s=NY(n.options.borderWidth);return{t:cw(r.top,s.top,0,e),r:cw(r.right,s.right,0,t),b:cw(r.bottom,s.bottom,0,e),l:cw(r.left,s.left,0,t)}}(n,e/2,i/2),s=function wxe(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=NC(r),a=Math.min(t,e),l=n.borderSkipped,d=i||Lr(r);return{topLeft:cw(!d||l.top||l.left,s.topLeft,0,a),topRight:cw(!d||l.top||l.right,s.topRight,0,a),bottomLeft:cw(!d||l.bottom||l.left,s.bottomLeft,0,a),bottomRight:cw(!d||l.bottom||l.right,s.bottomRight,0,a)}}(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}(this),l=function Cxe(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(a.radius)?C2:xxe;t.save(),(a.w!==s.w||a.h!==s.h)&&(t.beginPath(),l(t,cQ(a,e,s)),t.clip(),l(t,cQ(s,-e,a)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),l(t,cQ(s,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return lQ(this,t,e,i)}inXRange(t,e){return lQ(this,t,null,e)}inYRange(t,e){return lQ(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+r)/2:e,y:s?i:(i+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}},LineElement:uL,PointElement:class yxe extends Jy{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:s,y:a}=this.getProps(["x","y"],i);return Math.pow(t-s,2)+Math.pow(e-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return Z$(this,t,"x",e)}inYRange(t,e){return Z$(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){let e=(t=t||this.options||{}).radius||0;return e=Math.max(e,e&&t.hoverRadius||0),2*(e+(e&&t.borderWidth||0))}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Yy(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,GH(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}});const uQ=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Y$=uQ.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function $$(n){return uQ[n%uQ.length]}function J$(n){return Y$[n%Y$.length]}function X$(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}var Fxe={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:r}=n.config,{elements:s}=r;if(!e.forceOverride&&(X$(i)||function Bxe(n){return n&&(n.borderColor||n.backgroundColor)}(r)||s&&X$(s)))return;const a=function Mxe(n){let t=0;return(e,i)=>{const r=n.getDatasetMeta(i).controller;r instanceof eQ?t=function Dxe(n,t){return n.backgroundColor=n.data.map(()=>$$(t++)),t}(e,t):r instanceof m$?t=function Txe(n,t){return n.backgroundColor=n.data.map(()=>J$(t++)),t}(e,t):r&&(t=function Ixe(n,t){return n.borderColor=$$(t),n.backgroundColor=J$(t),++t}(e,t))}}(n);i.forEach(a)}};function eJ(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function tJ(n){n.data.datasets.forEach(t=>{eJ(t)})}var Lxe={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled)return void tJ(n);const i=n.width;n.data.datasets.forEach((r,s)=>{const{_data:a,indexAxis:l}=r,d=n.getDatasetMeta(s),A=a||r.data;if("y"===x2([l,n.options.indexAxis])||!d.controller.supportsDecimation)return;const p=n.scales[d.xAxisID];if("linear"!==p.type&&"time"!==p.type||n.options.parsing)return;let F,{start:_,count:x}=function Oxe(n,t){const e=t.length;let r,i=0;const{iScale:s}=n,{min:a,max:l,minDefined:d,maxDefined:A}=s.getUserBounds();return d&&(i=vc(Wy(t,s.axis,a).lo,0,e-1)),r=A?vc(Wy(t,s.axis,l).hi+1,i,e)-i:e-i,{start:i,count:r}}(d,A);if(x<=(e.threshold||4*i))eJ(r);else{switch($r(a)&&(r._data=A,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(R){this._data=R}})),e.algorithm){case"lttb":F=function kxe(n,t,e,i,r){const s=r.samples||i;if(s>=e)return n.slice(t,t+e);const a=[],l=(e-2)/(s-2);let d=0;const A=t+e-1;let _,x,C,F,R,p=t;for(a[d++]=n[p],_=0;_<s-2;_++){let K,U=0,Q=0;const ie=Math.floor((_+1)*l)+1+t,ce=Math.min(Math.floor((_+2)*l)+1,e)+t,pe=ce-ie;for(K=ie;K<ce;K++)U+=n[K].x,Q+=n[K].y;U/=pe,Q/=pe;const Se=Math.floor(_*l)+1+t,ve=Math.min(Math.floor((_+1)*l)+1,e)+t,{x:de,y:We}=n[p];for(C=F=-1,K=Se;K<ve;K++)F=.5*Math.abs((de-U)*(n[K].y-We)-(de-n[K].x)*(Q-We)),F>C&&(C=F,x=n[K],R=K);a[d++]=x,p=R}return a[d++]=n[A],a}(A,_,x,i,e);break;case"min-max":F=function Rxe(n,t,e,i){let a,l,d,A,p,_,x,C,F,R,r=0,s=0;const U=[],K=n[t].x,ce=n[t+e-1].x-K;for(a=t;a<t+e;++a){l=n[a],d=(l.x-K)/ce*i,A=l.y;const pe=0|d;if(pe===p)A<F?(F=A,_=a):A>R&&(R=A,x=a),r=(s*r+l.x)/++s;else{const Se=a-1;if(!$r(_)&&!$r(x)){const ve=Math.min(_,x),de=Math.max(_,x);ve!==C&&ve!==Se&&U.push({...n[ve],x:r}),de!==C&&de!==Se&&U.push({...n[de],x:r})}a>0&&Se!==C&&U.push(n[Se]),U.push(l),p=pe,s=0,F=R=A,_=x=C=a}}return U}(A,_,x,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=F}})},destroy(n){tJ(n)}};function dQ(n,t,e,i){if(i)return;let r=t[n],s=e[n];return"angle"===n&&(r=fA(r),s=fA(s)),{property:n,start:r,end:s}}function hQ(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function nJ(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function iJ(n,t){let e=[],i=!1;return Oo(n)?(i=!0,e=n):e=function Nxe(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,s=[];return t.segments.forEach(({start:a,end:l})=>{l=hQ(a,l,r);const d=r[a],A=r[l];null!==i?(s.push({x:d.x,y:i}),s.push({x:A.x,y:i})):null!==e&&(s.push({x:e,y:d.y}),s.push({x:e,y:A.y}))}),s}(n,t),e.length?new uL({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function rJ(n){return n&&!1!==n.fill}function Uxe(n,t,e){let r=n[t].fill;const s=[t];let a;if(!e)return r;for(;!1!==r&&-1===s.indexOf(r);){if(!Ba(r))return r;if(a=n[r],!a)return!1;if(a.visible)return r;s.push(r),r=a.fill}return!1}function Hxe(n,t,e){const i=function zxe(n){const t=n.options,e=t.fill;let i=hr(e&&e.target,e);return void 0===i&&(i=!!t.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(n);if(Lr(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return Ba(r)&&Math.floor(r)===r?function Qxe(n,t,e,i){return("-"===n||"+"===n)&&(e=t+e),!(e===t||e<0||e>=i)&&e}(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Kxe(n,t,e){const i=[];for(let r=0;r<e.length;r++){const s=e[r],{first:a,last:l,point:d}=Zxe(s,t,"x");if(!(!d||a&&l))if(a)i.unshift(d);else if(n.push(d),!l)break}n.push(...i)}function Zxe(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],s=n.segments,a=n.points;let l=!1,d=!1;for(let A=0;A<s.length;A++){const p=s[A],_=a[p.start][e],x=a[p.end][e];if(Zy(r,_,x)){l=r===_,d=r===x;break}}return{first:l,last:d,point:i}}class sJ{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:s,radius:a}=this;return t.arc(r,s,a,(e=e||{start:0,end:Lo}).end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,s=t.angle;return{x:e+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function AQ(n,t,e){const i=function Wxe(n){const{chart:t,fill:e,line:i}=n;if(Ba(e))return function Yxe(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}(t,e);if("stack"===e)return function Gxe(n){const{scale:t,index:e,line:i}=n,r=[],s=i.segments,a=i.points,l=function qxe(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===t)break;s.hidden||e.unshift(s.dataset)}return e}(t,e);l.push(iJ({x:null,y:t.bottom},i));for(let d=0;d<s.length;d++){const A=s[d];for(let p=A.start;p<=A.end;p++)Kxe(r,a[p],l)}return new uL({points:r,options:{}})}(n);if("shape"===e)return!0;const r=function $xe(n){return(n.scale||{}).getPointPositionForValue?function Xxe(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,s=i.reverse?t.max:t.min,a=function jxe(n,t,e){let i;return i="start"===n?e:"end"===n?t.options.reverse?t.min:t.max:Lr(n)?n.value:t.getBaseValue(),i}(e,t,s),l=[];if(i.grid.circular){const d=t.getPointPositionForValue(0,s);return new sJ({x:d.x,y:d.y,radius:t.getDistanceFromCenterForValue(a)})}for(let d=0;d<r;++d)l.push(t.getPointPositionForValue(d,a));return l}(n):function Jxe(n){const{scale:t={},fill:e}=n,i=function Vxe(n,t){let e=null;return"start"===n?e=t.bottom:"end"===n?e=t.top:Lr(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}(e,t);if(Ba(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}(n)}(n);return r instanceof sJ?r:iJ(r,i)}(t),{line:r,scale:s,axis:a}=t,l=r.options,d=l.fill,A=l.backgroundColor,{above:p=A,below:_=A}=d||{};i&&r.points.length&&(WO(n,e),function eSe(n,t){const{line:e,target:i,above:r,below:s,area:a,scale:l}=t,d=e._loop?"angle":t.axis;n.save(),"x"===d&&s!==r&&(oJ(n,i,a.top),aJ(n,{line:e,target:i,color:r,scale:l,property:d}),n.restore(),n.save(),oJ(n,i,a.bottom)),aJ(n,{line:e,target:i,color:s,scale:l,property:d}),n.restore()}(n,{line:r,target:i,above:p,below:_,area:e,scale:s,axis:a}),YO(n))}function oJ(n,t,e){const{segments:i,points:r}=t;let s=!0,a=!1;n.beginPath();for(const l of i){const{start:d,end:A}=l,p=r[d],_=r[hQ(d,A,r)];s?(n.moveTo(p.x,p.y),s=!1):(n.lineTo(p.x,e),n.lineTo(p.x,p.y)),a=!!t.pathSegment(n,l,{move:a}),a?n.closePath():n.lineTo(_.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function aJ(n,t){const{line:e,target:i,property:r,color:s,scale:a}=t,l=function Pxe(n,t,e){const i=n.segments,r=n.points,s=t.points,a=[];for(const l of i){let{start:d,end:A}=l;A=hQ(d,A,r);const p=dQ(e,r[d],r[A],l.loop);if(!t.segments){a.push({source:l,target:p,start:r[d],end:r[A]});continue}const _=t$(t,p);for(const x of _){const C=dQ(e,s[x.start],s[x.end],x.loop),F=e$(l,r,C);for(const R of F)a.push({source:R,target:x,start:{[e]:nJ(p,C,"start",Math.max)},end:{[e]:nJ(p,C,"end",Math.min)}})}}return a}(e,i,r);for(const{source:d,target:A,start:p,end:_}of l){const{style:{backgroundColor:x=s}={}}=d,C=!0!==i;n.save(),n.fillStyle=x,tSe(n,a,C&&dQ(r,p,_)),n.beginPath();const F=!!e.pathSegment(n,d);let R;if(C){F?n.closePath():lJ(n,i,_,r);const U=!!i.pathSegment(n,A,{move:F,reverse:!0});R=F&&U,R||lJ(n,i,p,r)}n.closePath(),n.fill(R?"evenodd":"nonzero"),n.restore()}}function tSe(n,t,e){const{top:i,bottom:r}=t.chart.chartArea,{property:s,start:a,end:l}=e||{};"x"===s&&(n.beginPath(),n.rect(a,i,l-a,r-i),n.clip())}function lJ(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var nSe={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let s,a,l,d;for(a=0;a<i;++a)s=n.getDatasetMeta(a),l=s.dataset,d=null,l&&l.options&&l instanceof uL&&(d={visible:n.isDatasetVisible(a),index:a,fill:Hxe(l,a,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=d,r.push(d);for(a=0;a<i;++a)d=r[a],d&&!1!==d.fill&&(d.fill=Uxe(r,a,e.propagate))},beforeDraw(n,t,e){const i="beforeDraw"===e.drawTime,r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let a=r.length-1;a>=0;--a){const l=r[a].$filler;!l||(l.line.updateControlPoints(s,l.axis),i&&l.fill&&AQ(n.ctx,l,s))}},beforeDatasetsDraw(n,t,e){if("beforeDatasetsDraw"!==e.drawTime)return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;rJ(s)&&AQ(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!rJ(i)||"beforeDatasetDraw"!==e.drawTime||AQ(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const cJ=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}};class uJ extends Jy{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=wo(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,r=jl(i.font),s=r.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:d}=cJ(i,s);let A,p;e.font=r.string,this.isHorizontal()?(A=this.maxWidth,p=this._fitRows(a,s,l,d)+10):(p=this.maxHeight,A=this._fitCols(a,r,l,d)+10),this.width=Math.min(A,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:s,maxWidth:a,options:{labels:{padding:l}}}=this,d=this.legendHitBoxes=[],A=this.lineWidths=[0],p=r+l;let _=t;s.textAlign="left",s.textBaseline="middle";let x=-1,C=-p;return this.legendItems.forEach((F,R)=>{const U=i+e/2+s.measureText(F.text).width;(0===R||A[A.length-1]+U+2*l>a)&&(_+=p,A[A.length-(R>0?0:1)]=0,C+=p,x++),d[R]={left:0,top:C,row:x,width:U,height:r},A[A.length-1]+=U+l}),_}_fitCols(t,e,i,r){const{ctx:s,maxHeight:a,options:{labels:{padding:l}}}=this,d=this.legendHitBoxes=[],A=this.columnSizes=[],p=a-t;let _=l,x=0,C=0,F=0,R=0;return this.legendItems.forEach((U,Q)=>{const{itemWidth:K,itemHeight:ie}=function rSe(n,t,e,i,r){const s=function sSe(n,t,e,i){let r=n.text;return r&&"string"!=typeof r&&(r=r.reduce((s,a)=>s.length>a.length?s:a)),t+e.size/2+i.measureText(r).width}(i,n,t,e),a=function oSe(n,t,e){let i=n;return"string"!=typeof t.text&&(i=dJ(t,e)),i}(r,i,t.lineHeight);return{itemWidth:s,itemHeight:a}}(i,e,s,U,r);Q>0&&C+ie+2*l>p&&(_+=x+l,A.push({width:x,height:C}),F+=x+l,R++,x=C=0),d[Q]={left:F,top:C,col:R,width:K,height:ie},x=Math.max(x,K),C+=ie+l}),_+=x,A.push({width:x,height:C}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:s}}=this,a=qS(s,this.left,this.width);if(this.isHorizontal()){let l=0,d=Iu(i,this.left+r,this.right-this.lineWidths[l]);for(const A of e)l!==A.row&&(l=A.row,d=Iu(i,this.left+r,this.right-this.lineWidths[l])),A.top+=this.top+t+r,A.left=a.leftForLtr(a.x(d),A.width),d+=A.width+r}else{let l=0,d=Iu(i,this.top+t+r,this.bottom-this.columnSizes[l].height);for(const A of e)A.col!==l&&(l=A.col,d=Iu(i,this.top+t+r,this.bottom-this.columnSizes[l].height)),A.top=d,A.left+=this.left+r,A.left=a.leftForLtr(a.x(A.left),A.width),d+=A.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;WO(t,this),this._draw(),YO(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:s,labels:a}=t,l=_a.color,d=qS(t.rtl,this.left,this.width),A=jl(a.font),{padding:p}=a,_=A.size,x=_/2;let C;this.drawTitle(),r.textAlign=d.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=A.string;const{boxWidth:F,boxHeight:R,itemHeight:U}=cJ(a,_),ie=this.isHorizontal(),ce=this._computeTitleHeight();C=ie?{x:Iu(s,this.left+p,this.right-i[0]),y:this.top+p+ce,line:0}:{x:this.left+p,y:Iu(s,this.top+ce+p,this.bottom-e[0].height),line:0},YY(this.ctx,t.textDirection);const pe=U+p;this.legendItems.forEach((Se,ve)=>{r.strokeStyle=Se.fontColor,r.fillStyle=Se.fontColor;const de=r.measureText(Se.text).width,We=d.textAlign(Se.textAlign||(Se.textAlign=a.textAlign)),et=F+x+de;let ae=C.x,oe=C.y;d.setWidth(this.width),ie?ve>0&&ae+et+p>this.right&&(oe=C.y+=pe,C.line++,ae=C.x=Iu(s,this.left+p,this.right-i[C.line])):ve>0&&oe+pe>this.bottom&&(ae=C.x=ae+e[C.line].width+p,C.line++,oe=C.y=Iu(s,this.top+ce+p,this.bottom-e[C.line].height)),function(Se,ve,de){if(isNaN(F)||F<=0||isNaN(R)||R<0)return;r.save();const We=hr(de.lineWidth,1);if(r.fillStyle=hr(de.fillStyle,l),r.lineCap=hr(de.lineCap,"butt"),r.lineDashOffset=hr(de.lineDashOffset,0),r.lineJoin=hr(de.lineJoin,"miter"),r.lineWidth=We,r.strokeStyle=hr(de.strokeStyle,l),r.setLineDash(hr(de.lineDash,[])),a.usePointStyle){const et={radius:R*Math.SQRT2/2,pointStyle:de.pointStyle,rotation:de.rotation,borderWidth:We},ae=d.xPlus(Se,F/2);PY(r,et,ae,ve+x,a.pointStyleWidth&&F)}else{const et=ve+Math.max((_-R)/2,0),ae=d.leftForLtr(Se,F),oe=NC(de.borderRadius);r.beginPath(),Object.values(oe).some(Be=>0!==Be)?C2(r,{x:ae,y:et,w:F,h:R,radius:oe}):r.rect(ae,et,F,R),r.fill(),0!==We&&r.stroke()}r.restore()}(d.x(ae),oe,Se),ae=((n,t,e,i)=>n===(i?"left":"right")?e:"center"===n?(t+e)/2:t)(We,ae+F+x,ie?ae+et:this.right,t.rtl),function(Se,ve,de){PC(r,de.text,Se,ve+U/2,A,{strikethrough:de.hidden,textAlign:d.textAlign(de.textAlign)})}(d.x(ae),oe,Se),ie?C.x+=et+p:C.y+="string"!=typeof Se.text?dJ(Se,A.lineHeight):pe}),$Y(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=jl(e.font),r=Du(e.padding);if(!e.display)return;const s=qS(t.rtl,this.left,this.width),a=this.ctx,l=e.position,A=r.top+i.size/2;let p,_=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),p=this.top+A,_=Iu(t.align,_,this.right-x);else{const F=this.columnSizes.reduce((R,U)=>Math.max(R,U.height),0);p=A+Iu(t.align,this.top,this.bottom-F-t.labels.padding-this._computeTitleHeight())}const C=Iu(l,_,_+x);a.textAlign=s.textAlign(HH(l)),a.textBaseline="middle",a.strokeStyle=e.color,a.fillStyle=e.color,a.font=i.string,PC(a,e.text,C,p,i)}_computeTitleHeight(){const t=this.options.title,e=jl(t.font),i=Du(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,s;if(Zy(t,this.left,this.right)&&Zy(e,this.top,this.bottom))for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Zy(t,r.left,r.left+r.width)&&Zy(e,r.top,r.top+r.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function aSe(n,t){return!(("mousemove"!==n&&"mouseout"!==n||!t.onHover&&!t.onLeave)&&(!t.onClick||"click"!==n&&"mouseup"!==n))}(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const r=this._hoveredItem,s=((n,t)=>null!==n&&null!==t&&n.datasetIndex===t.datasetIndex&&n.index===t.index)(r,i);r&&!s&&wo(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&wo(e.onHover,[t,i,this],this)}else i&&wo(e.onClick,[t,i,this],this)}}function dJ(n,t){return t*(n.text?n.text.length+.5:0)}var lSe={id:"legend",_element:uJ,start(n,t,e){const i=n.legend=new uJ({ctx:n.ctx,options:e,chart:n});Tu.configure(n,i,e),Tu.addBox(n,i)},stop(n){Tu.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Tu.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:s,useBorderRadius:a,borderRadius:l}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const A=d.controller.getStyle(e?0:void 0),p=Du(A.borderWidth);return{text:t[d.index].label,fillStyle:A.backgroundColor,fontColor:s,hidden:!d.visible,lineCap:A.borderCapStyle,lineDash:A.borderDash,lineDashOffset:A.borderDashOffset,lineJoin:A.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:A.borderColor,pointStyle:i||A.pointStyle,rotation:A.rotation,textAlign:r||A.textAlign,borderRadius:a&&(l||A.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class fQ extends Jy{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const r=Oo(i.text)?i.text.length:1;this._padding=Du(i.padding);const s=r*jl(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:r,right:s,options:a}=this,l=a.align;let A,p,_,d=0;return this.isHorizontal()?(p=Iu(l,i,s),_=e+t,A=s-i):("left"===a.position?(p=i+t,_=Iu(l,r,e),d=-.5*$o):(p=s-t,_=Iu(l,e,r),d=.5*$o),A=r-e),{titleX:p,titleY:_,maxWidth:A,rotation:d}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=jl(e.font),s=i.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:d,rotation:A}=this._drawArgs(s);PC(t,e.text,0,0,i,{color:e.color,maxWidth:d,rotation:A,textAlign:HH(e.align),textBaseline:"middle",translation:[a,l]})}}var uSe={id:"title",_element:fQ,start(n,t,e){!function cSe(n,t){const e=new fQ({ctx:n.ctx,options:t,chart:n});Tu.configure(n,e,t),Tu.addBox(n,e),n.titleBlock=e}(n,e)},stop(n){Tu.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Tu.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const dL=new WeakMap;var dSe={id:"subtitle",start(n,t,e){const i=new fQ({ctx:n.ctx,options:e,chart:n});Tu.configure(n,i,e),Tu.addBox(n,i),dL.set(n,i)},stop(n){Tu.removeBox(n,dL.get(n)),dL.delete(n)},beforeUpdate(n,t,e){const i=dL.get(n);Tu.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const k2={average(n){if(!n.length)return!1;let t,e,i=0,r=0,s=0;for(t=0,e=n.length;t<e;++t){const a=n[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i+=l.x,r+=l.y,++s}}return{x:i/s,y:r/s}},nearest(n,t){if(!n.length)return!1;let s,a,l,e=t.x,i=t.y,r=Number.POSITIVE_INFINITY;for(s=0,a=n.length;s<a;++s){const d=n[s].element;if(d&&d.hasValue()){const p=NH(t,d.getCenterPoint());p<r&&(r=p,l=d)}}if(l){const d=l.tooltipPosition();e=d.x,i=d.y}return{x:e,y:i}}};function Qm(n,t){return t&&(Oo(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Xy(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function hSe(n,t){const{element:e,datasetIndex:i,index:r}=t,s=n.getDatasetMeta(i).controller,{label:a,value:l}=s.getLabelAndValue(r);return{chart:n,label:a,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:l,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function hJ(n,t){const e=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:a,boxHeight:l}=t,d=jl(t.bodyFont),A=jl(t.titleFont),p=jl(t.footerFont),_=s.length,x=r.length,C=i.length,F=Du(t.padding);let R=F.height,U=0,Q=i.reduce((ce,pe)=>ce+pe.before.length+pe.lines.length+pe.after.length,0);Q+=n.beforeBody.length+n.afterBody.length,_&&(R+=_*A.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),Q&&(R+=C*(t.displayColors?Math.max(l,d.lineHeight):d.lineHeight)+(Q-C)*d.lineHeight+(Q-1)*t.bodySpacing),x&&(R+=t.footerMarginTop+x*p.lineHeight+(x-1)*t.footerSpacing);let K=0;const ie=function(ce){U=Math.max(U,e.measureText(ce).width+K)};return e.save(),e.font=A.string,Ls(n.title,ie),e.font=d.string,Ls(n.beforeBody.concat(n.afterBody),ie),K=t.displayColors?a+2+t.boxPadding:0,Ls(i,ce=>{Ls(ce.before,ie),Ls(ce.lines,ie),Ls(ce.after,ie)}),K=0,e.font=p.string,Ls(n.footer,ie),e.restore(),U+=F.width,{width:U,height:R}}function pSe(n,t,e,i){const{x:r,width:s}=e,{width:a,chartArea:{left:l,right:d}}=n;let A="center";return"center"===i?A=r<=(l+d)/2?"left":"right":r<=s/2?A="left":r>=a-s/2&&(A="right"),function fSe(n,t,e,i){const{x:r,width:s}=i,a=e.caretSize+e.caretPadding;if("left"===n&&r+s+a>t.width||"right"===n&&r-s-a<0)return!0}(A,n,t,e)&&(A="center"),A}function AJ(n,t,e){const i=e.yAlign||t.yAlign||function ASe(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}(n,e);return{xAlign:e.xAlign||t.xAlign||pSe(n,t,e,i),yAlign:i}}function fJ(n,t,e,i){const{caretSize:r,caretPadding:s,cornerRadius:a}=n,{xAlign:l,yAlign:d}=e,A=r+s,{topLeft:p,topRight:_,bottomLeft:x,bottomRight:C}=NC(a);let F=function gSe(n,t){let{x:e,width:i}=n;return"right"===t?e-=i:"center"===t&&(e-=i/2),e}(t,l);const R=function mSe(n,t,e){let{y:i,height:r}=n;return"top"===t?i+=e:i-="bottom"===t?r+e:r/2,i}(t,d,A);return"center"===d?"left"===l?F+=A:"right"===l&&(F-=A):"left"===l?F-=Math.max(p,x)+r:"right"===l&&(F+=Math.max(_,C)+r),{x:vc(F,0,i.width-t.width),y:vc(R,0,i.height-t.height)}}function hL(n,t,e){const i=Du(e.padding);return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-i.right:n.x+i.left}function pJ(n){return Qm([],Xy(n))}function gJ(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const mJ={beforeTitle:Ky,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Ky,beforeBody:Ky,beforeLabel:Ky,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return $r(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ky,afterBody:Ky,beforeFooter:Ky,footer:Ky,afterFooter:Ky};function hh(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?mJ[t].call(e,i):r}class _J extends Jy{static positioners=k2;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,s=new s$(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=function _Se(n,t,e){return aw(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=hh(i,"beforeTitle",this,t),s=hh(i,"title",this,t),a=hh(i,"afterTitle",this,t);let l=[];return l=Qm(l,Xy(r)),l=Qm(l,Xy(s)),l=Qm(l,Xy(a)),l}getBeforeBody(t,e){return pJ(hh(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Ls(t,s=>{const a={before:[],lines:[],after:[]},l=gJ(i,s);Qm(a.before,Xy(hh(l,"beforeLabel",this,s))),Qm(a.lines,hh(l,"label",this,s)),Qm(a.after,Xy(hh(l,"afterLabel",this,s))),r.push(a)}),r}getAfterBody(t,e){return pJ(hh(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=hh(i,"beforeFooter",this,t),s=hh(i,"footer",this,t),a=hh(i,"afterFooter",this,t);let l=[];return l=Qm(l,Xy(r)),l=Qm(l,Xy(s)),l=Qm(l,Xy(a)),l}_createItems(t){const e=this._active,i=this.chart.data,r=[],s=[],a=[];let d,A,l=[];for(d=0,A=e.length;d<A;++d)l.push(hSe(this.chart,e[d]));return t.filter&&(l=l.filter((p,_,x)=>t.filter(p,_,x,i))),t.itemSort&&(l=l.sort((p,_)=>t.itemSort(p,_,i))),Ls(l,p=>{const _=gJ(t.callbacks,p);r.push(hh(_,"labelColor",this,p)),s.push(hh(_,"labelPointStyle",this,p)),a.push(hh(_,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let s,a=[];if(r.length){const l=k2[i.position].call(this,r,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const d=this._size=hJ(this,i),A=Object.assign({},l,d),p=AJ(this.chart,i,A),_=fJ(i,A,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,s={opacity:1,x:_.x,y:_.y,width:d.width,height:d.height,caretX:l.x,caretY:l.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const s=this.getCaretPosition(t,i,r);e.lineTo(s.x1,s.y1),e.lineTo(s.x2,s.y2),e.lineTo(s.x3,s.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:s}=this,{caretSize:a,cornerRadius:l}=i,{topLeft:d,topRight:A,bottomLeft:p,bottomRight:_}=NC(l),{x,y:C}=t,{width:F,height:R}=e;let U,Q,K,ie,ce,pe;return"center"===s?(ce=C+R/2,"left"===r?(U=x,Q=U-a,ie=ce+a,pe=ce-a):(U=x+F,Q=U+a,ie=ce-a,pe=ce+a),K=U):(Q="left"===r?x+Math.max(d,p)+a:"right"===r?x+F-Math.max(A,_)-a:this.caretX,"top"===s?(ie=C,ce=ie-a,U=Q-a,K=Q+a):(ie=C+R,ce=ie+a,U=Q+a,K=Q-a),pe=ie),{x1:U,x2:Q,x3:K,y1:ie,y2:ce,y3:pe}}drawTitle(t,e,i){const r=this.title,s=r.length;let a,l,d;if(s){const A=qS(i.rtl,this.x,this.width);for(t.x=hL(this,i.titleAlign,i),e.textAlign=A.textAlign(i.titleAlign),e.textBaseline="middle",a=jl(i.titleFont),l=i.titleSpacing,e.fillStyle=i.titleColor,e.font=a.string,d=0;d<s;++d)e.fillText(r[d],A.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+l,d+1===s&&(t.y+=i.titleMarginBottom-l)}}_drawColorBox(t,e,i,r,s){const a=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:d,boxWidth:A}=s,p=jl(s.bodyFont),_=hL(this,"left",s),x=r.x(_),F=e.y+(d<p.lineHeight?(p.lineHeight-d)/2:0);if(s.usePointStyle){const R={radius:Math.min(A,d)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},U=r.leftForLtr(x,A)+A/2,Q=F+d/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,GH(t,R,U,Q),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,GH(t,R,U,Q)}else{t.lineWidth=Lr(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const R=r.leftForLtr(x,A),U=r.leftForLtr(r.xPlus(x,1),A-2),Q=NC(a.borderRadius);Object.values(Q).some(K=>0!==K)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,C2(t,{x:R,y:F,w:A,h:d,radius:Q}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),C2(t,{x:U,y:F+1,w:A-2,h:d-2,radius:Q}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(R,F,A,d),t.strokeRect(R,F,A,d),t.fillStyle=a.backgroundColor,t.fillRect(U,F+1,A-2,d-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:d,boxWidth:A,boxPadding:p}=i,_=jl(i.bodyFont);let x=_.lineHeight,C=0;const F=qS(i.rtl,this.x,this.width),R=function(de){e.fillText(de,F.x(t.x+C),t.y+x/2),t.y+=x+s},U=F.textAlign(a);let Q,K,ie,ce,pe,Se,ve;for(e.textAlign=a,e.textBaseline="middle",e.font=_.string,t.x=hL(this,U,i),e.fillStyle=i.bodyColor,Ls(this.beforeBody,R),C=l&&"right"!==U?"center"===a?A/2+p:A+2+p:0,ce=0,Se=r.length;ce<Se;++ce){for(Q=r[ce],K=this.labelTextColors[ce],e.fillStyle=K,Ls(Q.before,R),ie=Q.lines,l&&ie.length&&(this._drawColorBox(e,t,ce,F,i),x=Math.max(_.lineHeight,d)),pe=0,ve=ie.length;pe<ve;++pe)R(ie[pe]),x=_.lineHeight;Ls(Q.after,R)}C=0,x=_.lineHeight,Ls(this.afterBody,R),t.y-=s}drawFooter(t,e,i){const r=this.footer,s=r.length;let a,l;if(s){const d=qS(i.rtl,this.x,this.width);for(t.x=hL(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=d.textAlign(i.footerAlign),e.textBaseline="middle",a=jl(i.footerFont),e.fillStyle=i.footerColor,e.font=a.string,l=0;l<s;++l)e.fillText(r[l],d.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:s,yAlign:a}=this,{x:l,y:d}=t,{width:A,height:p}=i,{topLeft:_,topRight:x,bottomLeft:C,bottomRight:F}=NC(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(l+_,d),"top"===a&&this.drawCaret(t,e,i,r),e.lineTo(l+A-x,d),e.quadraticCurveTo(l+A,d,l+A,d+x),"center"===a&&"right"===s&&this.drawCaret(t,e,i,r),e.lineTo(l+A,d+p-F),e.quadraticCurveTo(l+A,d+p,l+A-F,d+p),"bottom"===a&&this.drawCaret(t,e,i,r),e.lineTo(l+C,d+p),e.quadraticCurveTo(l,d+p,l,d+p-C),"center"===a&&"left"===s&&this.drawCaret(t,e,i,r),e.lineTo(l,d+_),e.quadraticCurveTo(l,d,l+_,d),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const a=k2[t.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=hJ(this,t),d=Object.assign({},a,this._size),A=AJ(e,t,d),p=fJ(t,d,A,e);(r._to!==p.x||s._to!==p.y)&&(this.xAlign=A.xAlign,this.yAlign=A.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=Du(e.padding);e.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,r,e),YY(t,e.textDirection),s.y+=a.top,this.drawTitle(s,t,e),this.drawBody(s,t,e),this.drawFooter(s,t,e),$Y(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:l,index:d})=>{const A=this.chart.getDatasetMeta(l);if(!A)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:A.data[d],index:d}}),s=!jO(i,r),a=this._positionChanged(r,e);(s||a)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],a=this._getActiveElements(t,s,e,i),l=this._positionChanged(a,t),d=e||!jO(a,s)||l;return d&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),d}_getActiveElements(t,e,i,r){const s=this.options;if("mouseout"===t.type)return[];if(!r)return e;const a=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(t,e){const{caretX:i,caretY:r,options:s}=this,a=k2[s.position].call(this,t,e);return!1!==a&&(i!==a.x||r!==a.y)}}var ySe={id:"tooltip",_element:_J,positioners:k2,afterInit(n,t,e){e&&(n.tooltip=new _J({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(!1===n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0}))return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){n.tooltip&&n.tooltip.handleEvent(t.event,t.replay,t.inChartArea)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:mJ},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},vSe=Object.freeze({__proto__:null,Colors:Fxe,Decimation:Lxe,Filler:nSe,Legend:lSe,SubTitle:dSe,Title:uSe,Tooltip:ySe});function yJ(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}function vJ(n,t,{horizontal:e,minRotation:i}){const r=Kp(i),s=(e?Math.sin(r):Math.cos(r))||.001;return Math.min(t/s,.75*t*(""+n).length)}class AL extends jC{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return $r(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const a=d=>r=e?r:d,l=d=>s=i?s:d;if(t){const d=Um(r),A=Um(s);d<0&&A<0?l(0):d>0&&A>0&&a(0)}if(r===s){let d=0===s?1:Math.abs(.05*s);l(s+d),t||a(r-d)}this.min=r,this.max=s}getTickLimit(){const t=this.options.ticks;let r,{maxTicksLimit:e,stepSize:i}=t;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a=function SSe(n,t){const e=[],{bounds:r,step:s,min:a,max:l,precision:d,count:A,maxTicks:p,maxDigits:_,includeBounds:x}=n,C=s||1,F=p-1,{min:R,max:U}=t,Q=!$r(a),K=!$r(l),ie=!$r(A),ce=(U-R)/(_+1);let Se,ve,de,We,pe=vY((U-R)/F/C)*C;if(pe<1e-14&&!Q&&!K)return[{value:R},{value:U}];We=Math.ceil(U/pe)-Math.floor(R/pe),We>F&&(pe=vY(We*pe/F/C)*C),$r(d)||(Se=Math.pow(10,d),pe=Math.ceil(pe*Se)/Se),"ticks"===r?(ve=Math.floor(R/pe)*pe,de=Math.ceil(U/pe)*pe):(ve=R,de=U),Q&&K&&s&&function cbe(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}((l-a)/s,pe/1e3)?(We=Math.round(Math.min((l-a)/pe,p)),pe=(l-a)/We,ve=a,de=l):ie?(ve=Q?a:ve,de=K?l:de,We=A-1,pe=(de-ve)/We):(We=(de-ve)/pe,We=_2(We,Math.round(We),pe/1e3)?Math.round(We):Math.ceil(We));const et=Math.max(bY(pe),bY(ve));Se=Math.pow(10,$r(d)?et:d),ve=Math.round(ve*Se)/Se,de=Math.round(de*Se)/Se;let ae=0;for(Q&&(x&&ve!==a?(e.push({value:a}),ve<a&&ae++,_2(Math.round((ve+ae*pe)*Se)/Se,a,vJ(a,ce,n))&&ae++):ve<a&&ae++);ae<We;++ae){const oe=Math.round((ve+ae*pe)*Se)/Se;if(K&&oe>l)break;e.push({value:oe})}return K&&x&&de!==l?e.length&&_2(e[e.length-1].value,l,vJ(l,ce,n))?e[e.length-1].value=l:e.push({value:l}):(!K||de===l)&&e.push({value:de}),e}({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&wY(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return w2(t,this.chart.options.locale,this.options.ticks.format)}}const R2=n=>Math.floor(ow(n)),zC=(n,t)=>Math.pow(10,R2(n)+t);function wJ(n){return n/Math.pow(10,R2(n))==1}function bJ(n,t,e){const i=Math.pow(10,e),r=Math.floor(n/i);return Math.ceil(t/i)-r}function pQ(n){const t=n.ticks;if(t.display&&n.display){const e=Du(t.backdropPadding);return hr(t.font&&t.font.size,_a.font.size)+e.height}return 0}function MSe(n,t,e){return e=Oo(e)?e:[e],{w:Ebe(n,t.string,e),h:e.length*t.lineHeight}}function CJ(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function FSe(n,t,e,i,r){const s=Math.abs(Math.sin(e)),a=Math.abs(Math.cos(e));let l=0,d=0;i.start<t.l?(l=(t.l-i.start)/s,n.l=Math.min(n.l,t.l-l)):i.end>t.r&&(l=(i.end-t.r)/s,n.r=Math.max(n.r,t.r+l)),r.start<t.t?(d=(t.t-r.start)/a,n.t=Math.min(n.t,t.t-d)):r.end>t.b&&(d=(r.end-t.b)/a,n.b=Math.max(n.b,t.b+d))}function kSe(n,t,e){const i=n.drawingArea,{extra:r,additionalAngle:s,padding:a,size:l}=e,d=n.getPointPosition(t,i+r+a,s),A=Math.round(PH(fA(d.angle+Fa))),p=function NSe(n,t,e){return 90===e||270===e?n-=t/2:(e>270||e<90)&&(n-=t),n}(d.y,l.h,A),_=function LSe(n){return 0===n||180===n?"center":n<180?"left":"right"}(A),x=function PSe(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}(d.x,l.w,_);return{visible:!0,x:d.x,y:p,textAlign:_,left:x,top:p,right:x+l.w,bottom:p+l.h}}function RSe(n,t){if(!t)return!0;const{left:e,top:i,right:r,bottom:s}=n;return!(Yy({x:e,y:i},t)||Yy({x:e,y:s},t)||Yy({x:r,y:i},t)||Yy({x:r,y:s},t))}function USe(n,t,e){const{left:i,top:r,right:s,bottom:a}=e,{backdropColor:l}=t;if(!$r(l)){const d=NC(t.borderRadius),A=Du(t.backdropPadding);n.fillStyle=l;const p=i-A.left,_=r-A.top,x=s-i+A.width,C=a-r+A.height;Object.values(d).some(F=>0!==F)?(n.beginPath(),C2(n,{x:p,y:_,w:x,h:C,radius:d}),n.fill()):n.fillRect(p,_,x,C)}}function xJ(n,t,e,i){const{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,Lo);else{let s=n.getPointPosition(0,t);r.moveTo(s.x,s.y);for(let a=1;a<i;a++)s=n.getPointPosition(a,t),r.lineTo(s.x,s.y)}}const fL={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ah=Object.keys(fL);function zSe(n,t){return n-t}function SJ(n,t){if($r(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let a=t;return"function"==typeof i&&(a=i(a)),Ba(a)||(a="string"==typeof i?e.parse(a,i):e.parse(a)),null===a?null:(r&&(a="week"!==r||!jS(s)&&!0!==s?e.startOf(a,r):e.startOf(a,"isoWeek",s)),+a)}function EJ(n,t,e,i){const r=Ah.length;for(let s=Ah.indexOf(n);s<r-1;++s){const a=fL[Ah[s]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((e-t)/(l*a.size))<=i)return Ah[s]}return Ah[r-1]}function IJ(n,t,e){if(e){if(e.length){const{lo:i,hi:r}=UH(e,t);n[e[i]>=t?e[i]:e[r]]=!0}}else n[t]=!0}function DJ(n,t,e){const i=[],r={},s=t.length;let a,l;for(a=0;a<s;++a)l=t[a],r[l]=a,i.push({value:l,major:!1});return 0!==s&&e?function KSe(n,t,e,i){const r=n._adapter,s=+r.startOf(t[0].value,i),a=t[t.length-1].value;let l,d;for(l=s;l<=a;l=+r.add(l,1,i))d=e[l],d>=0&&(t[d].major=!0);return t}(n,i,r,e):i}class gQ extends jC{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new ZCe__date(t.adapters.date);r.init(e),g2(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:SJ(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function d(A){!a&&!isNaN(A.min)&&(r=Math.min(r,A.min)),!l&&!isNaN(A.max)&&(s=Math.max(s,A.max))}(!a||!l)&&(d(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&d(this.getMinMax(!1))),r=Ba(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),s=Ba(s)&&!isNaN(s)?s:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,l=function Abe(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}(r,s,this.max);return this._unit=e.unit||(i.autoSkip?EJ(e.minUnit,this.min,this.max,this._getLabelCapacity(s)):function GSe(n,t,e,i,r){for(let s=Ah.length-1;s>=Ah.indexOf(e);s--){const a=Ah[s];if(fL[a].common&&n._adapter.diff(r,i,a)>=t-1)return a}return Ah[e?Ah.indexOf(e):0]}(this,l.length,e.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function qSe(n){for(let t=Ah.indexOf(n)+1,e=Ah.length;t<e;++t)if(fL[Ah[t]].common)return Ah[t]}(this._unit):void 0,this.initOffsets(r),t.reverse&&l.reverse(),DJ(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let r,s,e=0,i=0;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),e=1===t.length?1-r:(this.getDecimalForValue(t[1])-r)/2,s=this.getDecimalForValue(t[t.length-1]),i=1===t.length?s:(s-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;e=vc(e,0,a),i=vc(i,0,a),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,s=r.time,a=s.unit||EJ(s.minUnit,e,i,this._getLabelCapacity(e)),l=hr(r.ticks.stepSize,1),d="week"===a&&s.isoWeekday,A=jS(d)||!0===d,p={};let x,C,_=e;if(A&&(_=+t.startOf(_,"isoWeek",d)),_=+t.startOf(_,A?"day":a),t.diff(i,e,a)>1e5*l)throw new Error(e+" and "+i+" are too far apart with stepSize of "+l+" "+a);const F="data"===r.ticks.source&&this.getDataTimestamps();for(x=_,C=0;x<i;x=+t.add(x,l,a),C++)IJ(p,x,F);return(x===i||"ticks"===r.bounds||1===C)&&IJ(p,x,F),Object.keys(p).sort((R,U)=>R-U).map(R=>+R)}getLabelForValue(t){const i=this.options.time;return this._adapter.format(t,i.tooltipFormat?i.tooltipFormat:i.displayFormats.datetime)}format(t,e){return this._adapter.format(t,e||this.options.time.displayFormats[this._unit])}_tickFormatFunction(t,e,i,r){const s=this.options,a=s.ticks.callback;if(a)return wo(a,[t,e,i],this);const l=s.time.displayFormats,d=this._unit,A=this._majorUnit,_=A&&l[A],x=i[e];return this._adapter.format(t,r||(A&&_&&x&&x.major?_:d&&l[d]))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Kp(this.isHorizontal()?e.maxRotation:e.minRotation),s=Math.cos(r),a=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:i*s+l*a,h:i*a+l*s}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,s=this._tickFormatFunction(t,0,DJ(this,[t],this._majorUnit),r),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e,i,t=this._cache.data||[];if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(SJ(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return EY(t.sort(zSe))}}function pL(n,t,e){let s,a,l,d,i=0,r=n.length-1;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Wy(n,"pos",t)),({pos:s,time:l}=n[i]),({pos:a,time:d}=n[r])):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Wy(n,"time",t)),({time:s,pos:l}=n[i]),({time:a,pos:d}=n[r]));const A=a-s;return A?l+(d-l)*(t-s)/A:l}var WSe=Object.freeze({__proto__:null,CategoryScale:class xSe extends jC{static id="category";static defaults={ticks:{callback:yJ}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:s}of e)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if($r(t))return null;const i=this.getLabels();return((n,t)=>null===n?null:vc(Math.round(n),0,t))(e=isFinite(e)&&i[e]===t?e:function bSe(n,t,e,i){const r=n.indexOf(t);return-1===r?((n,t,e,i)=>("string"==typeof t?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e))(n,t,e,i):r!==n.lastIndexOf(t)?e:r}(i,t,hr(e,t),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=0===t&&e===s.length-1?s:s.slice(t,e+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=e;a++)r.push({value:a});return r}getLabelForValue(t){return yJ.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}},LinearScale:class ESe extends AL{static id="linear";static defaults={ticks:{callback:KO.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Ba(t)?t:0,this.max=Ba(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Kp(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},LogarithmicScale:class TSe extends jC{static id="logarithmic";static defaults={ticks:{callback:KO.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=AL.prototype.parse.apply(this,[t,e]);if(0!==i)return Ba(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Ba(t)?Math.max(0,t):null,this.max=Ba(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ba(this._userMin)&&(this.min=t===zC(this.min,0)?zC(this.min,-1):zC(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,r=this.max;const s=l=>i=t?i:l,a=l=>r=e?r:l;i===r&&(i<=0?(s(1),a(10)):(s(zC(i,-1)),a(zC(r,1)))),i<=0&&s(zC(r,-1)),r<=0&&a(zC(i,1)),this.min=i,this.max=r}buildTicks(){const t=this.options,i=function DSe(n,{min:t,max:e}){t=AA(n.min,t);const i=[],r=R2(t);let s=function ISe(n,t){let i=R2(t-n);for(;bJ(n,t,i)>10;)i++;for(;bJ(n,t,i)<10;)i--;return Math.min(i,R2(n))}(t,e),a=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),d=r>s?Math.pow(10,r):0,A=Math.round((t-d)*a)/a,p=Math.floor((t-d)/l/10)*l*10;let _=Math.floor((A-p)/Math.pow(10,s)),x=AA(n.min,Math.round((d+p+_*Math.pow(10,s))*a)/a);for(;x<e;)i.push({value:x,major:wJ(x),significand:_}),_>=10?_=_<15?15:20:_++,_>=20&&(s++,_=2,a=s>=0?1:a),x=Math.round((d+p+_*Math.pow(10,s))*a)/a;const C=AA(n.max,x);return i.push({value:C,major:wJ(C),significand:_}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&wY(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return void 0===t?"0":w2(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=ow(t),this._valueRange=ow(this.max)-ow(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(ow(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}},RadialLinearScale:class jSe extends AL{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:KO.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Du(pQ(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Ba(t)&&!isNaN(t)?t:0,this.max=Ba(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/pQ(this.options))}generateTickLabels(t){AL.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const r=wo(this.options.pointLabels.callback,[e,i],this);return r||0===r?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?function BSe(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],s=n._pointLabels.length,a=n.options.pointLabels,l=a.centerPointLabels?$o/s:0;for(let d=0;d<s;d++){const A=a.setContext(n.getPointLabelContext(d));r[d]=A.padding;const p=n.getPointPosition(d,n.drawingArea+r[d],l),_=jl(A.font),x=MSe(n.ctx,_,n._pointLabels[d]);i[d]=x;const C=fA(n.getIndexAngle(d)+l),F=Math.round(PH(C));FSe(e,t,C,CJ(F,p.x,x.w,0,180),CJ(F,p.y,x.h,90,270))}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=function OSe(n,t,e){const i=[],r=n._pointLabels.length,s=n.options,{centerPointLabels:a,display:l}=s.pointLabels,d={extra:pQ(s)/2,additionalAngle:a?$o/r:0};let A;for(let p=0;p<r;p++){d.padding=e[p],d.size=t[p];const _=kSe(n,p,d);i.push(_),"auto"===l&&(_.visible=RSe(_,A),_.visible&&(A=_))}return i}(n,i,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){return fA(t*(Lo/(this._pointLabels.length||1))+Kp(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if($r(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if($r(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return function VSe(n,t,e){return aw(n,{label:e,index:t,type:"pointLabel"})}(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const r=this.getIndexAngle(t)-Fa+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:r,bottom:s}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),xJ(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:r,border:s}=e,a=this._pointLabels.length;let l,d,A;if(e.pointLabels.display&&function HSe(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){const s=n._pointLabelItems[r];if(!s.visible)continue;const a=i.setContext(n.getPointLabelContext(r));USe(e,a,s);const l=jl(a.font),{x:d,y:A,textAlign:p}=s;PC(e,n._pointLabels[r],d,A+l.lineHeight/2,l,{color:a.color,textAlign:p,textBaseline:"middle"})}}(this,a),r.display&&this.ticks.forEach((p,_)=>{if(0!==_){d=this.getDistanceFromCenterForValue(p.value);const x=this.getContext(_),C=r.setContext(x),F=s.setContext(x);!function QSe(n,t,e,i,r){const s=n.ctx,a=t.circular,{color:l,lineWidth:d}=t;!a&&!i||!l||!d||e<0||(s.save(),s.strokeStyle=l,s.lineWidth=d,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),xJ(n,e,a,i),s.closePath(),s.stroke(),s.restore())}(this,C,d,a,F)}}),i.display){for(t.save(),l=a-1;l>=0;l--){const p=i.setContext(this.getPointLabelContext(l)),{color:_,lineWidth:x}=p;!x||!_||(t.lineWidth=x,t.strokeStyle=_,t.setLineDash(p.borderDash),t.lineDashOffset=p.borderDashOffset,d=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),A=this.getPointPosition(l,d),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(A.x,A.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,a;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((l,d)=>{if(0===d&&!e.reverse)return;const A=i.setContext(this.getContext(d)),p=jl(A.font);if(s=this.getDistanceFromCenterForValue(this.ticks[d].value),A.showLabelBackdrop){t.font=p.string,a=t.measureText(l.label).width,t.fillStyle=A.backdropColor;const _=Du(A.backdropPadding);t.fillRect(-a/2-_.left,-s-p.size/2-_.top,a+_.width,p.size+_.height)}PC(t,l.label,0,-s,p,{color:A.color})}),t.restore()}drawTitle(){}},TimeScale:gQ,TimeSeriesScale:class ZSe extends gQ{static id="timeseries";static defaults=gQ.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=pL(e,this.min),this._tableRange=pL(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],s=[];let a,l,d,A,p;for(a=0,l=t.length;a<l;++a)A=t[a],A>=e&&A<=i&&r.push(A);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(a=0,l=r.length;a<l;++a)p=r[a+1],d=r[a-1],A=r[a],Math.round((p+d)/2)!==A&&s.push({time:A,pos:a/(l-1)});return s}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(pL(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return pL(this._table,i*this._tableRange+this._minPos,!0)}}});const YSe=[KCe,Exe,vSe,WSe],gL=function XSe(n,t){return n===t||n!=n&&t!=t},mL=function eEe(n,t){for(var e=n.length;e--;)if(gL(n[e][0],t))return e;return-1};var nEe=Array.prototype.splice;function ZS(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}ZS.prototype.clear=function $Se(){this.__data__=[],this.size=0},ZS.prototype.delete=function iEe(n){var t=this.__data__,e=mL(t,n);return!(e<0||(e==t.length-1?t.pop():nEe.call(t,e,1),--this.size,0))},ZS.prototype.get=function sEe(n){var t=this.__data__,e=mL(t,n);return e<0?void 0:t[e][1]},ZS.prototype.has=function aEe(n){return mL(this.__data__,n)>-1},ZS.prototype.set=function cEe(n,t){var e=this.__data__,i=mL(e,n);return i<0?(++this.size,e.push([n,t])):e[i][1]=t,this};const _L=ZS,TJ="object"==typeof global&&global&&global.Object===Object&&global;var vEe="object"==typeof self&&self&&self.Object===Object&&self;const WS=TJ||vEe||Function("return this")();var bEe=WS.Symbol,MJ=Object.prototype,CEe=MJ.hasOwnProperty,xEe=MJ.toString,O2=bEe?bEe.toStringTag:void 0;var DEe=Object.prototype.toString;var BJ=bEe?bEe.toStringTag:void 0;const vL=function kEe(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":BJ&&BJ in Object(n)?function SEe(n){var t=CEe.call(n,O2),e=n[O2];try{n[O2]=void 0;var i=!0}catch{}var r=xEe.call(n);return i&&(t?n[O2]=e:delete n[O2]),r}(n):function TEe(n){return DEe.call(n)}(n)},GC=function REe(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)},mQ=function UEe(n){if(!GC(n))return!1;var t=vL(n);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},_Q=WS["__core-js_shared__"];var FJ=function(){var n=/[^.]+$/.exec(_Q&&_Q.keys&&_Q.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();var zEe=Function.prototype.toString;var ZEe=/^\[object .+?Constructor\]$/,XEe=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const tIe=function eIe(n){return!(!GC(n)||function QEe(n){return!!FJ&&FJ in n}(n))&&(mQ(n)?XEe:ZEe).test(function GEe(n){if(null!=n){try{return zEe.call(n)}catch{}try{return n+""}catch{}}return""}(n))},yQ=function rIe(n,t){var e=function nIe(n,t){return n?.[t]}(n,t);return tIe(e)?e:void 0},kJ=yQ(WS,"Map"),L2=yQ(Object,"create");var AIe=Object.prototype.hasOwnProperty;var mIe=Object.prototype.hasOwnProperty;function YS(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}YS.prototype.clear=function aIe(){this.__data__=L2?L2(null):{},this.size=0},YS.prototype.delete=function cIe(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t},YS.prototype.get=function fIe(n){var t=this.__data__;if(L2){var e=t[n];return"__lodash_hash_undefined__"===e?void 0:e}return AIe.call(t,n)?t[n]:void 0},YS.prototype.has=function _Ie(n){var t=this.__data__;return L2?void 0!==t[n]:mIe.call(t,n)},YS.prototype.set=function wIe(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=L2&&void 0===t?"__lodash_hash_undefined__":t,this};const RJ=YS,wL=function IIe(n,t){var e=n.__data__;return function SIe(n){var t=typeof n;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n}(t)?e["string"==typeof t?"string":"hash"]:e.map};function $S(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}$S.prototype.clear=function CIe(){this.size=0,this.__data__={hash:new RJ,map:new(kJ||_L),string:new RJ}},$S.prototype.delete=function DIe(n){var t=wL(this,n).delete(n);return this.size-=t?1:0,t},$S.prototype.get=function MIe(n){return wL(this,n).get(n)},$S.prototype.has=function FIe(n){return wL(this,n).has(n)},$S.prototype.set=function RIe(n,t){var e=wL(this,n),i=e.size;return e.set(n,t),this.size+=e.size==i?0:1,this};const LIe=$S;function JS(n){var t=this.__data__=new _L(n);this.size=t.size}JS.prototype.clear=function dEe(){this.__data__=new _L,this.size=0},JS.prototype.delete=function AEe(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e},JS.prototype.get=function pEe(n){return this.__data__.get(n)},JS.prototype.has=function mEe(n){return this.__data__.has(n)},JS.prototype.set=function NIe(n,t){var e=this.__data__;if(e instanceof _L){var i=e.__data__;if(!kJ||i.length<199)return i.push([n,t]),this.size=++e.size,this;e=this.__data__=new LIe(i)}return e.set(n,t),this.size=e.size,this};const HIe=JS;var QIe=function(){try{var n=yQ(Object,"defineProperty");return n({},"",{}),n}catch{}}();const bL=QIe,vQ=function VIe(n,t,e){"__proto__"==t&&bL?bL(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e},wQ=function jIe(n,t,e){(void 0!==e&&!gL(n[t],e)||void 0===e&&!(t in n))&&vQ(n,t,e)};var GIe=function zIe(n){return function(t,e,i){for(var r=-1,s=Object(t),a=i(t),l=a.length;l--;){var d=a[n?l:++r];if(!1===e(s[d],d,s))break}return t}}();const qIe=GIe;var OJ="object"==typeof exports&&exports&&!exports.nodeType&&exports,LJ=OJ&&"object"==typeof module&&module&&!module.nodeType&&module,PJ=LJ&&LJ.exports===OJ?WS.Buffer:void 0,NJ=PJ?PJ.allocUnsafe:void 0;const UJ=WS.Uint8Array,eDe=function XIe(n,t){var e=t?function $Ie(n){var t=new n.constructor(n.byteLength);return new UJ(t).set(new UJ(n)),t}(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)};var HJ=Object.create,iDe=function(){function n(){}return function(t){if(!GC(t))return{};if(HJ)return HJ(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}();const rDe=iDe;var oDe=function sDe(n,t){return function(e){return n(t(e))}}(Object.getPrototypeOf,Object);const QJ=oDe;var aDe=Object.prototype;const VJ=function lDe(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||aDe)},P2=function dDe(n){return null!=n&&"object"==typeof n},jJ=function ADe(n){return P2(n)&&"[object Arguments]"==vL(n)};var zJ=Object.prototype,fDe=zJ.hasOwnProperty,pDe=zJ.propertyIsEnumerable,gDe=jJ(function(){return arguments}())?jJ:function(n){return P2(n)&&fDe.call(n,"callee")&&!pDe.call(n,"callee")};const bQ=gDe,CQ=Array.isArray,GJ=function yDe(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991},xQ=function vDe(n){return null!=n&&GJ(n.length)&&!mQ(n)};var qJ="object"==typeof exports&&exports&&!exports.nodeType&&exports,KJ=qJ&&"object"==typeof module&&module&&!module.nodeType&&module,ZJ=KJ&&KJ.exports===qJ?WS.Buffer:void 0;const WJ=(ZJ?ZJ.isBuffer:void 0)||function CDe(){return!1};var YJ=Function.prototype.toString,BDe=Object.prototype.hasOwnProperty,FDe=YJ.call(Object);var Po={};Po["[object Float32Array]"]=Po["[object Float64Array]"]=Po["[object Int8Array]"]=Po["[object Int16Array]"]=Po["[object Int32Array]"]=Po["[object Uint8Array]"]=Po["[object Uint8ClampedArray]"]=Po["[object Uint16Array]"]=Po["[object Uint32Array]"]=!0,Po["[object Arguments]"]=Po["[object Array]"]=Po["[object ArrayBuffer]"]=Po["[object Boolean]"]=Po["[object DataView]"]=Po["[object Date]"]=Po["[object Error]"]=Po["[object Function]"]=Po["[object Map]"]=Po["[object Number]"]=Po["[object Object]"]=Po["[object RegExp]"]=Po["[object Set]"]=Po["[object String]"]=Po["[object WeakMap]"]=!1;var $J="object"==typeof exports&&exports&&!exports.nodeType&&exports,N2=$J&&"object"==typeof module&&module&&!module.nodeType&&module,SQ=N2&&N2.exports===$J&&TJ.process,uTe=function(){try{return N2&&N2.require&&N2.require("util").types||SQ&&SQ.binding&&SQ.binding("util")}catch{}}(),XJ=uTe&&uTe.isTypedArray;const eX=XJ?function aTe(n){return function(t){return n(t)}}(XJ):function sTe(n){return P2(n)&&GJ(n.length)&&!!Po[vL(n)]},EQ=function hTe(n,t){if(("constructor"!==t||"function"!=typeof n[t])&&"__proto__"!=t)return n[t]};var fTe=Object.prototype.hasOwnProperty;const gTe=function pTe(n,t,e){var i=n[t];(!fTe.call(n,t)||!gL(i,e)||void 0===e&&!(t in n))&&vQ(n,t,e)};var bTe=/^(?:0|[1-9]\d*)$/;const tX=function CTe(n,t){var e=typeof n;return!!(t=t??9007199254740991)&&("number"==e||"symbol"!=e&&bTe.test(n))&&n>-1&&n%1==0&&n<t};var STe=Object.prototype.hasOwnProperty;const ITe=function ETe(n,t){var e=CQ(n),i=!e&&bQ(n),r=!e&&!i&&WJ(n),s=!e&&!i&&!r&&eX(n),a=e||i||r||s,l=a?function yTe(n,t){for(var e=-1,i=Array(n);++e<n;)i[e]=t(e);return i}(n.length,String):[],d=l.length;for(var A in n)(t||STe.call(n,A))&&(!a||!("length"==A||r&&("offset"==A||"parent"==A)||s&&("buffer"==A||"byteLength"==A||"byteOffset"==A)||tX(A,d)))&&l.push(A);return l};var BTe=Object.prototype.hasOwnProperty;const kTe=function FTe(n){if(!GC(n))return function DTe(n){var t=[];if(null!=n)for(var e in Object(n))t.push(e);return t}(n);var t=VJ(n),e=[];for(var i in n)"constructor"==i&&(t||!BTe.call(n,i))||e.push(i);return e},nX=function RTe(n){return xQ(n)?ITe(n,!0):kTe(n)},LTe=function OTe(n){return function mTe(n,t,e,i){var r=!e;e||(e={});for(var s=-1,a=t.length;++s<a;){var l=t[s],d=i?i(e[l],n[l],l,e,n):void 0;void 0===d&&(d=n[l]),r?vQ(e,l,d):gTe(e,l,d)}return e}(n,nX(n))},NTe=function PTe(n,t,e,i,r,s,a){var l=EQ(n,e),d=EQ(t,e),A=a.get(d);if(A)wQ(n,e,A);else{var p=s?s(l,d,e+"",n,t,a):void 0,_=void 0===p;if(_){var x=CQ(d),C=!x&&WJ(d),F=!x&&!C&&eX(d);p=d,x||C||F?CQ(l)?p=l:function wDe(n){return P2(n)&&xQ(n)}(l)?p=function tDe(n,t){var e=-1,i=n.length;for(t||(t=Array(i));++e<i;)t[e]=n[e];return t}(l):C?(_=!1,p=function ZIe(n,t){if(t)return n.slice();var e=n.length,i=NJ?NJ(e):new n.constructor(e);return n.copy(i),i}(d,!0)):F?(_=!1,p=eDe(d,!0)):p=[]:function kDe(n){if(!P2(n)||"[object Object]"!=vL(n))return!1;var t=QJ(n);if(null===t)return!0;var e=BDe.call(t,"constructor")&&t.constructor;return"function"==typeof e&&e instanceof e&&YJ.call(e)==FDe}(d)||bQ(d)?(p=l,bQ(l)?p=LTe(l):(!GC(l)||mQ(l))&&(p=function cDe(n){return"function"!=typeof n.constructor||VJ(n)?{}:rDe(QJ(n))}(d))):_=!1}_&&(a.set(d,p),r(p,d,i,s,a),a.delete(d)),wQ(n,e,p)}},UTe=function iX(n,t,e,i,r){n!==t&&qIe(t,function(s,a){if(r||(r=new HIe),GC(s))NTe(n,t,a,e,iX,i,r);else{var l=i?i(EQ(n,a),s,a+"",n,t,r):void 0;void 0===l&&(l=s),wQ(n,a,l)}},nX)},rX=function HTe(n){return n},VTe=function QTe(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)};var sX=Math.max;const qTe=function GTe(n){return function(){return n}};var KTe=bL?function(n,t){return bL(n,"toString",{configurable:!0,enumerable:!1,value:qTe(t),writable:!0})}:rX,$Te=Date.now,XTe=function JTe(n){var t=0,e=0;return function(){var i=$Te(),r=16-(i-e);if(e=i,r>0){if(++t>=800)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}(KTe);const e2e=XTe,n2e=function t2e(n,t){return e2e(function jTe(n,t,e){return t=sX(void 0===t?n.length-1:t,0),function(){for(var i=arguments,r=-1,s=sX(i.length-t,0),a=Array(s);++r<s;)a[r]=i[t+r];r=-1;for(var l=Array(t+1);++r<t;)l[r]=i[r];return l[t]=e(a),VTe(n,this,l)}}(n,t,rX),n+"")};var o2e=function s2e(n){return n2e(function(t,e){var i=-1,r=e.length,s=r>1?e[r-1]:void 0,a=r>2?e[2]:void 0;for(s=n.length>3&&"function"==typeof s?(r--,s):void 0,a&&function i2e(n,t,e){if(!GC(e))return!1;var i=typeof t;return!!("number"==i?xQ(e)&&tX(t,e.length):"string"==i&&t in e)&&gL(e[t],n)}(e[0],e[1],a)&&(s=r<3?void 0:s,r=1),t=Object(t);++i<r;){var l=e[i];l&&n(t,l,i,s)}return t})}(function(n,t,e){UTe(n,t,e)});const oX=o2e;let a2e=(()=>{class n{constructor(){this.colorschemesOptions=new Ui(void 0)}setColorschemesOptions(e){this.pColorschemesOptions=e,this.colorschemesOptions.next(e)}getColorschemesOptions(){return this.pColorschemesOptions}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),l2e=(()=>{class n{constructor(e,i,r){this.zone=i,this.themeService=r,this.type="bar",this.plugins=[],this.chartClick=new o.vpe,this.chartHover=new o.vpe,this.subs=[],this.themeOverrides={},this.ctx=e.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(V_()).subscribe(s=>this.themeChanged(s)))}ngOnChanges(e){const i=["type"],r=Object.getOwnPropertyNames(e);if(r.some(s=>i.includes(s))||r.every(s=>e[s].isFirstChange()))this.render();else{const s=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,s.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,s.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,s.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(e=>e.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new lL(this.ctx,this.getChartConfiguration()))}update(e){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(e))}hideDataset(e,i){this.chart&&(this.chart.getDatasetMeta(e).hidden=i,this.update())}isDatasetHidden(e){return this.chart?.getDatasetMeta(e)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(e){this.themeOverrides=e,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return oX({onHover:(e,i)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:e,active:i}))},onClick:(e,i)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:e,active:i}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(a2e))},n.\u0275dir=o.lG2({type:n,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[o.TTD]}),n})();const c2e=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],u2e={plugins:{colors:{enabled:!1}},datasets:{line:{backgroundColor:n=>uw(dw(n.datasetIndex),.4),borderColor:n=>uw(dw(n.datasetIndex),1),pointBackgroundColor:n=>uw(dw(n.datasetIndex),1),pointBorderColor:"#fff"},bar:{backgroundColor:n=>uw(dw(n.datasetIndex),.6),borderColor:n=>uw(dw(n.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:n=>uw(dw(n.dataIndex),.6),borderColor:"#fff"},get pie(){return this.doughnut},polarArea:{backgroundColor:n=>uw(dw(n.dataIndex),.6),borderColor:n=>uw(dw(n.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function uw(n,t){return"rgba("+n.concat(t).join(",")+")"}function IQ(n,t){return Math.floor(Math.random()*(t-n+1))+n}function dw(n=0){return c2e[n]||function d2e(){return[IQ(0,255),IQ(0,255),IQ(0,255)]}()}let aX=(()=>{class n{constructor(){this.generateColors=!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();lL.register(...YSe);let h2e=(()=>{class n{constructor(e){e?.plugins&&lL.register(...e?.plugins);const i=oX(e?.generateColors?u2e:{},e?.defaults||{});_a.set(i)}static forRoot(e){return{ngModule:n,providers:[{provide:aX,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(aX,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function A2e(n,t){if(1&n&&(o.TgZ(0,"div",5),o._UZ(1,"canvas",6),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("datasets",e.monthlyData)("labels",e.months)("options",e.chartOptions)("chartType",e.chartType)}}function f2e(n,t){if(1&n&&(o.TgZ(0,"div",5),o._UZ(1,"canvas",6),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("datasets",e.weeklyData)("labels",e.weeks)("options",e.chartOptions)("chartType",e.chartType)}}function p2e(n,t){if(1&n&&(o.TgZ(0,"div",5),o._UZ(1,"canvas",6),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("datasets",e.serverData)("labels",e.server)("options",e.chartOptions)("chartType",e.chartType)}}let g2e=(()=>{class n{constructor(e){this.userService=e,this.registrationMesiCounts=new Array,this.registrationGiorniCounts=new Array,this.serverCounts=new Array,this.monthlyData=[],this.weeklyData=[],this.serverData=[],this.barColors=["rgba(0, 74, 159, 0.7)"],this.months=KD.getMesi(),this.weeks=KD.getGiorni(),this.server=["The Miracle Shard","Rotiniel"],this.chartOptions={responsive:!0},this.chartType="bar",this.selectedTab="monthly",this.title=""}changeChartType(e){switch(this.selectedTab=e,e){case"monthly":this.chartType="bar",this.title="Registrazioni Mensili";break;case"days":this.chartType="line",this.title="Registrazioni Settimanali";break;case"server":this.chartType="pie",this.title="Autenticazioni Server"}}ngOnInit(){this.getUsersData().subscribe(e=>{e&&(this.monthlyData=[{data:this.registrationMesiCounts,label:"Mensile",backgroundColor:this.barColors}],this.weeklyData=[{data:this.registrationGiorniCounts,label:"Settimanale",backgroundColor:this.barColors}],this.serverData=[{data:this.serverCounts,label:"Autenticazioni",backgroundColor:this.barColors}])})}getUsersData(){var e=new tn.x;return this.userService.getUsers().subscribe(i=>{this.registrationMesiCounts=KD.occorrenzeMesi(i.map(r=>r.registratoDate.getMonth())),this.registrationGiorniCounts=KD.occorrenzeGiorni(i.map(r=>r.registratoDate)),this.serverCounts=KD.occorrenzeServer(i.map(r=>r.serverAutenticazione)),e.next(!0)}),e.asObservable()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(gd))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-flusso-dati"]],decls:17,vars:4,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"chart-container"],["fxFlex","50",1,"chart-card"],[1,"chart-buttons"],["mat-raised-button","","color","primary",2,"margin","2px",3,"click"],["class","chart",4,"ngIf"],[1,"chart"],["baseChart","",3,"datasets","labels","options","chartType"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"mat-card")(3,"mat-card-header")(4,"mat-card-title"),o._uU(5),o.qZA()(),o.TgZ(6,"mat-card-content")(7,"div",2)(8,"button",3),o.NdJ("click",function(){return i.changeChartType("monthly")}),o._uU(9,"Mensile"),o.qZA(),o.TgZ(10,"button",3),o.NdJ("click",function(){return i.changeChartType("days")}),o._uU(11,"Settimanale"),o.qZA(),o.TgZ(12,"button",3),o.NdJ("click",function(){return i.changeChartType("server")}),o._uU(13,"Dati server"),o.qZA()(),o.YNc(14,A2e,2,4,"div",4),o.YNc(15,f2e,2,4,"div",4),o.YNc(16,p2e,2,4,"div",4),o.qZA()()()()),2&e&&(o.xp6(5),o.Oqu(i.title),o.xp6(9),o.Q6J("ngIf","monthly"===i.selectedTab),o.xp6(1),o.Q6J("ngIf","days"===i.selectedTab),o.xp6(1),o.Q6J("ngIf","server"===i.selectedTab))},dependencies:[Si,wu,fc,_d,il,km,GT,pS,zT,l2e],styles:[".chart-container[_ngcontent-%COMP%]{height:100%;padding:16px;background-color:#f5f5f5}"]}),n})(),m2e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-aggiungi-news"]],decls:2,vars:0,template:function(e,i){1&e&&(o.TgZ(0,"p"),o._uU(1,"aggiungi-news works!"),o.qZA())}}),n})(),_2e=(()=>{class n{transform(e){const i=1e3*e.seconds+Math.round(e.nanoseconds/1e6);return new Date(i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=o.Yjl({name:"timestampToDate",type:n,pure:!0}),n})();function y2e(n,t){1&n&&(o.TgZ(0,"th",21),o._uU(1,"Id"),o.qZA())}function v2e(n,t){if(1&n&&(o.TgZ(0,"td",22),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(e.id)}}function w2e(n,t){1&n&&(o.TgZ(0,"th",21),o._uU(1,"Username"),o.qZA())}function b2e(n,t){if(1&n&&(o.TgZ(0,"td",22),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(e.username)}}function C2e(n,t){1&n&&(o.TgZ(0,"th",21),o._uU(1,"Last Expires Token"),o.qZA())}function x2e(n,t){if(1&n&&(o.TgZ(0,"td",22),o._uU(1),o.ALo(2,"date"),o.ALo(3,"timestampToDate"),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(o.xi3(2,1,o.lcZ(3,4,e.lastExpiresToken),"dd/MM/yy HH:mm:ss"))}}function S2e(n,t){1&n&&(o.TgZ(0,"th",21),o._uU(1,"Server Autenticazione"),o.qZA())}function E2e(n,t){if(1&n&&(o.TgZ(0,"td",22),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(e.serverAutenticazione)}}function I2e(n,t){1&n&&(o.TgZ(0,"th",21),o._uU(1,"Ruoli"),o.qZA())}function D2e(n,t){if(1&n&&(o.TgZ(0,"td",22),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(null==e.ruoli?null:e.ruoli.join(", "))}}function T2e(n,t){1&n&&(o.TgZ(0,"th",23),o._uU(1,"Status"),o.qZA())}const M2e=function(n){return{color:n}};function B2e(n,t){if(1&n&&(o.TgZ(0,"td",22)(1,"mat-icon",24),o._uU(2),o.qZA()()),2&n){const e=t.$implicit,i=o.oxw();o.xp6(1),o.Q6J("matTooltip",i.isUserActive(e.lastExpiresToken)?"Loggato":"Non loggato")("ngStyle",o.VKq(3,M2e,i.isUserActive(e.lastExpiresToken)?"green":"gray")),o.xp6(1),o.hij(" ",i.isUserActive(e.lastExpiresToken)?"circle":"highlight_off"," ")}}function F2e(n,t){1&n&&(o.TgZ(0,"th",23),o._uU(1,"Actions"),o.qZA())}function k2e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",22)(1,"button",25),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.editUser(s.id))}),o.TgZ(2,"mat-icon"),o._uU(3,"edit"),o.qZA()(),o.TgZ(4,"button",26),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.deleteUser(s.id))}),o.TgZ(5,"mat-icon"),o._uU(6,"delete"),o.qZA()()()}}function R2e(n,t){1&n&&o._UZ(0,"tr",27)}function O2e(n,t){1&n&&o._UZ(0,"tr",28)}const L2e=function(){return[5,10,20]};let P2e=(()=>{class n{constructor(e,i){this.userService=e,this.utils=i,this.displayedColumns=["id","username","lastExpiresToken","serverAutenticazione","ruoli","actions","status"],this.isSmartphone=!1,this.userForm=new Z0({id:new ls,username:new ls,lastLogin:new ls}),this.dataSource=new oH}ngOnInit(){this.userService.getUsers().subscribe(e=>{this.dataSource.data=e,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,console.log(e)}),this.isSmartphone=this.utils.isSmartphone()}applyFilter(e,i){const r=e.value.trim().toLowerCase();"username"===i?this.dataSource.filterPredicate=(s,a)=>s.username.toLowerCase().includes(a):"lastLogin"===i&&(this.dataSource.filterPredicate=(s,a)=>new Date(1e3*s.lastExpiresToken.seconds+Math.floor(s.lastExpiresToken.nanoseconds/1e6)).toLocaleString().includes(a)),this.dataSource.filter=r}editUser(e){alert("Non ancora implementato")}deleteUser(e){alert("Non ancora implementato")}sortData(e){const i=e.active,r=e.direction;this.dataSource.sortingDataAccessor=(s,a)=>{var l;switch(a){case"id":return s.id;case"username":return s.username;case"lastExpiresToken":return s.lastExpiresToken;case"serverAutenticazione":return s.serverAutenticazione;case"ruoli":return null===(l=s.ruoli)||void 0===l?void 0:l.join(", ");default:return""}},this.dataSource.sort=this.sort,this.dataSource.sort.sort({id:i,start:r,disableClear:!1})}isUserActive(e){const i=new Date(1e3*e.seconds),s=(new Date).getTime()-i.getTime();return Math.floor(s/1e3/60)<=10}getDisplayedColumns(){return this.isSmartphone?["username","lastExpiresToken","ruoli","actions","status"]:["id","username","lastExpiresToken","serverAutenticazione","ruoli","actions","status"]}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(gd),o.Y36(lh))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-utenti"]],viewQuery:function(e,i){if(1&e&&(o.Gf(r2,7),o.Gf(n2,7)),2&e){let r;o.iGM(r=o.CRH())&&(i.sort=r.first),o.iGM(r=o.CRH())&&(i.paginator=r.first)}},decls:38,vars:5,consts:[["fxLayoutAlign","center center"],["fxFlex","","fxLayout","column","fxLayoutAlign","space-around stretch","fxFlex","70",1,"table-container",2,"padding-top","3vh"],["fxLayout","row","fxLayoutAlign","center center",1,"table-controls"],["fxLayout","column","fxLayoutAlign","center center"],["fxLayout","row wrap"],["appearance","outline"],["matInput","",3,"input"],["mat-table","","matSort","","fxFlex","100",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","username"],["matColumnDef","lastExpiresToken"],["matColumnDef","serverAutenticazione"],["matColumnDef","ruoli"],["matColumnDef","status"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[3,"matTooltip","ngStyle"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"mat-form-field",5)(6,"mat-label"),o._uU(7,"Filtro per User"),o.qZA(),o.TgZ(8,"input",6),o.NdJ("input",function(s){return i.applyFilter(s.target,"username")}),o.qZA()(),o.TgZ(9,"mat-form-field",5)(10,"mat-label"),o._uU(11,"Filtro per Data"),o.qZA(),o.TgZ(12,"input",6),o.NdJ("input",function(s){return i.applyFilter(s.target,"lastExpiresToken")}),o.qZA()()()()(),o.TgZ(13,"table",7),o.ynx(14,8),o.YNc(15,y2e,2,0,"th",9),o.YNc(16,v2e,2,1,"td",10),o.BQk(),o.ynx(17,11),o.YNc(18,w2e,2,0,"th",9),o.YNc(19,b2e,2,1,"td",10),o.BQk(),o.ynx(20,12),o.YNc(21,C2e,2,0,"th",9),o.YNc(22,x2e,4,6,"td",10),o.BQk(),o.ynx(23,13),o.YNc(24,S2e,2,0,"th",9),o.YNc(25,E2e,2,1,"td",10),o.BQk(),o.ynx(26,14),o.YNc(27,I2e,2,0,"th",9),o.YNc(28,D2e,2,1,"td",10),o.BQk(),o.ynx(29,15),o.YNc(30,T2e,2,0,"th",16),o.YNc(31,B2e,3,5,"td",10),o.BQk(),o.ynx(32,17),o.YNc(33,F2e,2,0,"th",16),o.YNc(34,k2e,7,0,"td",10),o.BQk(),o.YNc(35,R2e,1,0,"tr",18),o.YNc(36,O2e,1,0,"tr",19),o.qZA(),o._UZ(37,"mat-paginator",20),o.qZA()()),2&e&&(o.xp6(13),o.Q6J("dataSource",i.dataSource),o.xp6(22),o.Q6J("matHeaderRowDef",i.getDisplayedColumns()),o.xp6(1),o.Q6J("matRowDefColumns",i.getDisplayedColumns()),o.xp6(1),o.Q6J("pageSizeOptions",o.DdM(4,L2e)))},dependencies:[lo,Qp,wu,fc,_d,il,fS,Uy,IC,W0,DC,n2,r2,U9,nH,AO,iH,fO,hO,rH,pO,gO,sH,G9,Sd,_2e],styles:[".table-container[_ngcontent-%COMP%]{align-items:center}mat-form-field[_ngcontent-%COMP%]{margin-right:10px}.mat-table-container[_ngcontent-%COMP%]{overflow:auto}.semaforo[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%}.active[_ngcontent-%COMP%]{background-color:green}.inactive[_ngcontent-%COMP%]{background-color:gray}"]}),n})(),XS=(()=>{class n{constructor(e,i){this.userService=e,this.router=i}canActivate(e,i){return this.userService.isLoggedInObs.pipe((0,Xt.U)(s=>{var a,l;return!(!s||!(null===(l=null===(a=this.userService.userLoggato)||void 0===a?void 0:a.ruoli)||void 0===l?void 0:l.includes("Regnante")))||this.router.parseUrl("/unauthorized")}))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(gd),o.LFG(os))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const N2e=[{path:"test",component:gZ},{path:"help",component:jge},{path:"credits",component:yfe},{path:"develop",component:Pge},{path:"schedaPersonaggio",component:Iwe},{path:"bacheca",component:Jge},{path:"macro",component:xye},{path:"news",component:Dwe},{path:"admin",component:Twe,canActivate:[XS]},{path:"tickets",component:Mwe,canActivate:[XS]},{path:"flussoDati",component:g2e,canActivate:[XS]},{path:"aggiungi-news",component:m2e,canActivate:[XS]},{path:"utenti",component:P2e,canActivate:[XS]},{path:"",component:zge}];let U2e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[MM.forRoot(N2e),MM]}),n})();function lX(n){return new o.vHH(3e3,!1)}function vMe(){return typeof window<"u"&&typeof window.document<"u"}function DQ(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function hw(n){switch(n.length){case 0:return new oT;case 1:return n[0];default:return new jG(n)}}function cX(n,t,e,i,r=new Map,s=new Map){const a=[],l=[];let d=-1,A=null;if(i.forEach(p=>{const _=p.get("offset"),x=_==d,C=x&&A||new Map;p.forEach((F,R)=>{let U=R,Q=F;if("offset"!==R)switch(U=t.normalizePropertyName(U,a),Q){case"!":Q=r.get(R);break;case ky:Q=s.get(R);break;default:Q=t.normalizeStyleValue(R,U,Q,a)}C.set(U,Q)}),x||l.push(C),A=C,d=_}),a.length)throw function lMe(n){return new o.vHH(3502,!1)}();return l}function TQ(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&MQ(e,"start",n)));break;case"done":n.onDone(()=>i(e&&MQ(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&MQ(e,"destroy",n)))}}function MQ(n,t,e){const s=BQ(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),a=n._data;return null!=a&&(s._data=a),s}function BQ(n,t,e,i,r="",s=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!a}}function pA(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function uX(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let FQ=(n,t)=>!1,dX=(n,t,e)=>[],hX=null;function kQ(n){const t=n.parentNode||n.host;return t===hX?null:t}(DQ()||typeof Element<"u")&&(vMe()?(hX=(()=>document.documentElement)(),FQ=(n,t)=>{for(;t;){if(t===n)return!0;t=kQ(t)}return!1}):FQ=(n,t)=>n.contains(t),dX=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let qC=null,AX=!1;const fX=FQ,pX=dX;let gX=(()=>{class n{validateStyleProperty(e){return function bMe(n){qC||(qC=function CMe(){return typeof document<"u"?document.body:null}()||{},AX=!!qC.style&&"WebkitAppearance"in qC.style);let t=!0;return qC.style&&!function wMe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in qC.style,!t&&AX&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in qC.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return fX(e,i)}getParentElement(e){return kQ(e)}query(e,i,r){return pX(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,a,l=[],d){return new oT(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),RQ=(()=>{class n{}return n.NOOP=new gX,n})();const OQ="ng-enter",CL="ng-leave",xL="ng-trigger",SL=".ng-trigger",_X="ng-animating",LQ=".ng-animating";function ev(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:PQ(parseFloat(t[1]),t[2])}function PQ(n,t){return"s"===t?1e3*n:n}function EL(n,t,e){return n.hasOwnProperty("duration")?n:function EMe(n,t,e){let r,s=0,a="";if("string"==typeof n){const l=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return t.push(lX()),{duration:0,delay:0,easing:""};r=PQ(parseFloat(l[1]),l[2]);const d=l[3];null!=d&&(s=PQ(parseFloat(d),l[4]));const A=l[5];A&&(a=A)}else r=n;if(!e){let l=!1,d=t.length;r<0&&(t.push(function H2e(){return new o.vHH(3100,!1)}()),l=!0),s<0&&(t.push(function Q2e(){return new o.vHH(3101,!1)}()),l=!0),l&&t.splice(d,0,lX())}return{duration:r,delay:s,easing:a}}(n,t,e)}function U2(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function yX(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Aw(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function wX(n,t,e){return e?t+":"+e+";":""}function bX(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=wX(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=wX(0,MMe(e),n.style[e]));n.setAttribute("style",t)}function Vm(n,t,e){n.style&&(t.forEach((i,r)=>{const s=UQ(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i}),DQ()&&bX(n))}function KC(n,t){n.style&&(t.forEach((e,i)=>{const r=UQ(i);n.style[r]=""}),DQ()&&bX(n))}function H2(n){return Array.isArray(n)?1==n.length?n[0]:QG(n):n}const NQ=new RegExp("{{\\s*(.+?)\\s*}}","g");function CX(n){let t=[];if("string"==typeof n){let e;for(;e=NQ.exec(n);)t.push(e[1]);NQ.lastIndex=0}return t}function Q2(n,t,e){const i=n.toString(),r=i.replace(NQ,(s,a)=>{let l=t[a];return null==l&&(e.push(function j2e(n){return new o.vHH(3003,!1)}()),l=""),l.toString()});return r==i?n:r}function IL(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const TMe=/-+([a-z0-9])/g;function UQ(n){return n.replace(TMe,(...t)=>t[1].toUpperCase())}function MMe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function gA(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function z2e(n){return new o.vHH(3004,!1)}()}}function xX(n,t){return window.getComputedStyle(n)[t]}function LMe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function PMe(n,t,e){if(":"==n[0]){const d=function NMe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function rMe(n){return new o.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof d)return void t.push(d);n=d}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function iMe(n){return new o.vHH(3015,!1)}()),t;const r=i[1],s=i[2],a=i[3];t.push(SX(r,a));"<"==s[0]&&!("*"==r&&"*"==a)&&t.push(SX(a,r))}(i,e,t)):e.push(n),e}const BL=new Set(["true","1"]),FL=new Set(["false","0"]);function SX(n,t){const e=BL.has(n)||FL.has(n),i=BL.has(t)||FL.has(t);return(r,s)=>{let a="*"==n||n==r,l="*"==t||t==s;return!a&&e&&"boolean"==typeof r&&(a=r?BL.has(n):FL.has(n)),!l&&i&&"boolean"==typeof s&&(l=s?BL.has(t):FL.has(t)),a&&l}}const UMe=new RegExp("s*:selfs*,?","g");function HQ(n,t,e,i){return new HMe(n).build(t,e,i)}class HMe{constructor(t){this._driver=t}build(t,e,i){const r=new jMe(e);return this._resetContextStyleTimingState(r),gA(this,H2(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push(function q2e(){return new o.vHH(3006,!1)}()),t.definitions.forEach(l=>{if(this._resetContextStyleTimingState(e),0==l.type){const d=l,A=d.name;A.toString().split(/\s*,\s*/).forEach(p=>{d.name=p,s.push(this.visitState(d,e))}),d.name=A}else if(1==l.type){const d=this.visitTransition(l,e);i+=d.queryCount,r+=d.depCount,a.push(d)}else e.errors.push(function K2e(){return new o.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,a=r||{};i.styles.forEach(l=>{l instanceof Map&&l.forEach(d=>{CX(d).forEach(A=>{a.hasOwnProperty(A)||s.add(A)})})}),s.size&&(IL(s.values()),e.errors.push(function Z2e(n,t){return new o.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=gA(this,H2(t.animation),e);return{type:1,matchers:LMe(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:ZC(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>gA(this,i,e)),options:ZC(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(a=>{e.currentTime=i;const l=gA(this,a,e);return r=Math.max(r,e.currentTime),l});return e.currentTime=r,{type:3,steps:s,options:ZC(t.options)}}visitAnimate(t,e){const i=function GMe(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return QQ(EL(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=QQ(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=EL(e,t);return QQ(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:oi({});if(5==s.type)r=this.visitKeyframes(s,e);else{let a=t.styles,l=!1;if(!a){l=!0;const A={};i.easing&&(A.easing=i.easing),a=oi(A)}e.currentTime+=i.duration+i.delay;const d=this.visitStyle(a,e);d.isEmptyStep=l,r=d}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let l of r)"string"==typeof l?l===ky?i.push(l):e.errors.push(new o.vHH(3002,!1)):i.push(yX(l));let s=!1,a=null;return i.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(a=l.get("easing"),l.delete("easing")),!s))for(let d of l.values())if(d.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:a,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,d)=>{const A=e.collectedStyles.get(e.currentQuerySelector),p=A.get(d);let _=!0;p&&(s!=r&&s>=p.startTime&&r<=p.endTime&&(e.errors.push(function Y2e(n,t,e,i,r){return new o.vHH(3010,!1)}()),_=!1),s=p.startTime),_&&A.set(d,{startTime:s,endTime:r}),e.options&&function DMe(n,t,e){const i=t.params||{},r=CX(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function V2e(n){return new o.vHH(3001,!1)}())})}(l,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function $2e(){return new o.vHH(3011,!1)}()),i;let s=0;const a=[];let l=!1,d=!1,A=0;const p=t.steps.map(Q=>{const K=this._makeStyleAst(Q,e);let ie=null!=K.offset?K.offset:function zMe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(K.styles),ce=0;return null!=ie&&(s++,ce=K.offset=ie),d=d||ce<0||ce>1,l=l||ce<A,A=ce,a.push(ce),K});d&&e.errors.push(function J2e(){return new o.vHH(3012,!1)}()),l&&e.errors.push(function X2e(){return new o.vHH(3200,!1)}());const _=t.steps.length;let x=0;s>0&&s<_?e.errors.push(function eMe(){return new o.vHH(3202,!1)}()):0==s&&(x=1/(_-1));const C=_-1,F=e.currentTime,R=e.currentAnimateTimings,U=R.duration;return p.forEach((Q,K)=>{const ie=x>0?K==C?1:x*K:a[K],ce=ie*U;e.currentTime=F+R.delay+ce,R.duration=ce,this._validateStyleAst(Q,e),Q.offset=ie,i.styles.push(Q)}),i}visitReference(t,e){return{type:8,animation:gA(this,H2(t.animation),e),options:ZC(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:ZC(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:ZC(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,a]=function QMe(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(UMe,"")),n=n.replace(/@\*/g,SL).replace(/@\w+/g,e=>SL+"-"+e.slice(1)).replace(/:animating/g,LQ),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,pA(e.collectedStyles,e.currentQuerySelector,new Map);const l=gA(this,H2(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:l,originalSelector:t.selector,options:ZC(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function tMe(){return new o.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:EL(t.timings,e.errors,!0);return{type:12,animation:gA(this,H2(t.animation),e),timings:i,options:null}}}class jMe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ZC(n){return n?(n=U2(n)).params&&(n.params=function VMe(n){return n?U2(n):null}(n.params)):n={},n}function QQ(n,t,e){return{duration:n,delay:t,easing:e}}function VQ(n,t,e,i,r,s,a=null,l=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:a,subTimeline:l}}class kL{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const ZMe=new RegExp(":enter","g"),YMe=new RegExp(":leave","g");function jQ(n,t,e,i,r,s=new Map,a=new Map,l,d,A=[]){return(new $Me).buildKeyframes(n,t,e,i,r,s,a,l,d,A)}class $Me{buildKeyframes(t,e,i,r,s,a,l,d,A,p=[]){A=A||new kL;const _=new zQ(t,e,A,r,s,p,[]);_.options=d;const x=d.delay?ev(d.delay):0;_.currentTimeline.delayNextStep(x),_.currentTimeline.setStyles([a],null,_.errors,d),gA(this,i,_);const C=_.timelines.filter(F=>F.containsAnimation());if(C.length&&l.size){let F;for(let R=C.length-1;R>=0;R--){const U=C[R];if(U.element===e){F=U;break}}F&&!F.allowOnlyTimelineStyles()&&F.setStyles([l],null,_.errors,d)}return C.length?C.map(F=>F.buildKeyframes()):[VQ(e,[],[],[],0,x,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);s!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const a="number"==typeof s?s:ev(Q2(s,r?.params??{},e.errors));i.delayNextStep(a)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const a=null!=i.duration?ev(i.duration):null,l=null!=i.delay?ev(i.delay):null;return 0!==a&&t.forEach(d=>{const A=e.appendInstructionToTimeline(d,a,l);s=Math.max(s,A.duration+A.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),gA(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=RL);const a=ev(s.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>gA(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?ev(t.options.delay):0;t.steps.forEach(a=>{const l=e.createSubContext(t.options);s&&l.delayNextStep(s),gA(this,a,l),r=Math.max(r,l.currentTimeline.currentTime),i.push(l.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return EL(e.params?Q2(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,l=e.createSubContext().currentTimeline;l.easing=i.easing,t.styles.forEach(d=>{l.forwardTime((d.offset||0)*s),l.setStyles(d.styles,d.easing,e.errors,e.options),l.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(l),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?ev(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=RL);let a=i;const l=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=l.length;let d=null;l.forEach((A,p)=>{e.currentQueryIndex=p;const _=e.createSubContext(t.options,A);s&&_.delayNextStep(s),A===e.element&&(d=_.currentTimeline),gA(this,t.animation,_),_.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,_.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),d&&(e.currentTimeline.mergeTimelineCollectedStyles(d),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,a=Math.abs(s.duration),l=a*(e.currentQueryTotal-1);let d=a*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":d=l-d;break;case"full":d=i.currentStaggerTime}const p=e.currentTimeline;d&&p.delayNextStep(d);const _=p.currentTime;gA(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-_+(r.startTime-i.currentTimeline.startTime)}}const RL={};class zQ{constructor(t,e,i,r,s,a,l,d){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=a,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=RL,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=d||new OL(this._driver,e,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=ev(i.duration)),null!=i.delay&&(r.delay=ev(i.delay));const s=i.params;if(s){let a=r.params;a||(a=this.options.params={}),Object.keys(s).forEach(l=>{(!e||!a.hasOwnProperty(l))&&(a[l]=Q2(s[l],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new zQ(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=RL,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new JMe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,a){let l=[];if(r&&l.push(this.element),t.length>0){t=(t=t.replace(ZMe,"."+this._enterClassName)).replace(YMe,"."+this._leaveClassName);let A=this._driver.query(this.element,t,1!=i);0!==i&&(A=i<0?A.slice(A.length+i,A.length):A.slice(0,i)),l.push(...A)}return!s&&0==l.length&&a.push(function nMe(n){return new o.vHH(3014,!1)}()),l}}class OL{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new OL(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||ky),this._currentKeyframe.set(e,ky);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},a=function XMe(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,ky)}else Aw(r,e)}),e}(t,this._globalTimelineStyles);for(let[l,d]of a){const A=Q2(d,s,i);this._pendingStyles.set(l,A),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??ky),this._updateStyle(l,A)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((l,d)=>{const A=Aw(l,new Map,this._backFill);A.forEach((p,_)=>{"!"===p?t.add(_):p===ky&&e.add(_)}),i||A.set("offset",d/this.duration),r.push(A)});const s=t.size?IL(t.values()):[],a=e.size?IL(e.values()):[];if(i){const l=r[0],d=new Map(l);l.set("offset",0),d.set("offset",1),r=[l,d]}return VQ(this.element,r,s,a,this.duration,this.startTime,this.easing,!1)}}class JMe extends OL{constructor(t,e,i,r,s,a,l=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=l,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],a=i+e,l=e/a,d=Aw(t[0]);d.set("offset",0),s.push(d);const A=Aw(t[0]);A.set("offset",DX(l)),s.push(A);const p=t.length-1;for(let _=1;_<=p;_++){let x=Aw(t[_]);const C=x.get("offset");x.set("offset",DX((e+C*i)/a)),s.push(x)}i=a,e=0,r="",t=s}return VQ(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function DX(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class GQ{}const eBe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class tBe extends GQ{normalizePropertyName(t,e){return UQ(t)}normalizeStyleValue(t,e,i,r){let s="";const a=i.toString().trim();if(eBe.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const l=i.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&r.push(function G2e(n,t){return new o.vHH(3005,!1)}())}return a+s}}function TX(n,t,e,i,r,s,a,l,d,A,p,_,x){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:a,timelines:l,queriedElements:d,preStyleProps:A,postStyleProps:p,totalTime:_,errors:x}}const qQ={};class MX{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function nBe(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,a,l,d,A,p){const _=[],x=this.ast.options&&this.ast.options.params||qQ,F=this.buildStyles(i,l&&l.params||qQ,_),R=d&&d.params||qQ,U=this.buildStyles(r,R,_),Q=new Set,K=new Map,ie=new Map,ce="void"===r,pe={params:iBe(R,x),delay:this.ast.options?.delay},Se=p?[]:jQ(t,e,this.ast.animation,s,a,F,U,pe,A,_);let ve=0;if(Se.forEach(We=>{ve=Math.max(We.duration+We.delay,ve)}),_.length)return TX(e,this._triggerName,i,r,ce,F,U,[],[],K,ie,ve,_);Se.forEach(We=>{const et=We.element,ae=pA(K,et,new Set);We.preStyleProps.forEach(Be=>ae.add(Be));const oe=pA(ie,et,new Set);We.postStyleProps.forEach(Be=>oe.add(Be)),et!==e&&Q.add(et)});const de=IL(Q.values());return TX(e,this._triggerName,i,r,ce,F,U,Se,de,K,ie,ve)}}function iBe(n,t){const e=U2(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class rBe{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=U2(this.defaultParams);return Object.keys(t).forEach(s=>{const a=t[s];null!==a&&(r[s]=a)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{a&&(a=Q2(a,r,e));const d=this.normalizer.normalizePropertyName(l,e);a=this.normalizer.normalizeStyleValue(l,d,a,e),i.set(d,a)})}),i}}class oBe{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new rBe(r.style,r.options&&r.options.params||{},i))}),BX(this.states,"true","1"),BX(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new MX(t,r,this.states))}),this.fallbackTransition=function aBe(n,t,e){return new MX(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,l)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function BX(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const lBe=new kL;class cBe{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=HQ(this._driver,e,i,[]);if(i.length)throw function cMe(n){return new o.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=cX(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let a;const l=new Map;if(s?(a=jQ(this._driver,e,s,OQ,CL,new Map,new Map,i,lBe,r),a.forEach(p=>{const _=pA(l,p.element,new Map);p.postStyleProps.forEach(x=>_.set(x,null))})):(r.push(function uMe(){return new o.vHH(3300,!1)}()),a=[]),r.length)throw function dMe(n){return new o.vHH(3504,!1)}();l.forEach((p,_)=>{p.forEach((x,C)=>{p.set(C,this._driver.computeStyle(_,C,ky))})});const A=hw(a.map(p=>{const _=l.get(p.element);return this._buildPlayer(p,new Map,_)}));return this._playersById.set(t,A),A.onDestroy(()=>this.destroy(t)),this.players.push(A),A}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function hMe(n){return new o.vHH(3301,!1)}();return e}listen(t,e,i,r){const s=BQ(e,"","","");return TQ(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const FX="ng-animate-queued",KQ="ng-animate-disabled",fBe=[],kX={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pBe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Sf="__ng_removed";class ZQ{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function yBe(n){return n??null}(i?t.value:t),i){const s=U2(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const V2="void",WQ=new ZQ(V2);class gBe{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ef(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function AMe(n,t){return new o.vHH(3302,!1)}();if(null==i||0==i.length)throw function fMe(n){return new o.vHH(3303,!1)}();if(!function vBe(n){return"start"==n||"done"==n}(i))throw function pMe(n,t){return new o.vHH(3400,!1)}();const s=pA(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};s.push(a);const l=pA(this._engine.statesByElement,t,new Map);return l.has(e)||(Ef(t,xL),Ef(t,xL+"-"+e),l.set(e,WQ)),()=>{this._engine.afterFlush(()=>{const d=s.indexOf(a);d>=0&&s.splice(d,1),this._triggers.has(e)||l.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function gMe(n){return new o.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),a=new YQ(this.id,e,t);let l=this._engine.statesByElement.get(t);l||(Ef(t,xL),Ef(t,xL+"-"+e),this._engine.statesByElement.set(t,l=new Map));let d=l.get(e);const A=new ZQ(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&d&&A.absorbOptions(d.options),l.set(e,A),d||(d=WQ),A.value!==V2&&d.value===A.value){if(!function CBe(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(d.params,A.params)){const R=[],U=s.matchStyles(d.value,d.params,R),Q=s.matchStyles(A.value,A.params,R);R.length?this._engine.reportError(R):this._engine.afterFlush(()=>{KC(t,U),Vm(t,Q)})}return}const x=pA(this._engine.playersByElement,t,[]);x.forEach(R=>{R.namespaceId==this.id&&R.triggerName==e&&R.queued&&R.destroy()});let C=s.matchTransition(d.value,A.value,t,A.params),F=!1;if(!C){if(!r)return;C=s.fallbackTransition,F=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:C,fromState:d,toState:A,player:a,isFallbackTransition:F}),F||(Ef(t,FX),a.onStart(()=>{eE(t,FX)})),a.onDone(()=>{let R=this.players.indexOf(a);R>=0&&this.players.splice(R,1);const U=this._engine.playersByElement.get(t);if(U){let Q=U.indexOf(a);Q>=0&&U.splice(Q,1)}}),this.players.push(a),x.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,SL,!0);i.forEach(r=>{if(r[Sf])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),a=new Map;if(s){const l=[];if(s.forEach((d,A)=>{if(a.set(A,d.value),this._triggers.has(A)){const p=this.trigger(t,A,V2,r);p&&l.push(p)}}),l.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&hw(l).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const a=s.name;if(r.has(a))return;r.add(a);const d=this._triggers.get(a).fallbackTransition,A=i.get(a)||WQ,p=new ZQ(V2),_=new YQ(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:d,fromState:A,toState:p,player:_,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Sf];(!s||s===kX)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ef(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,a=this._elementListeners.get(s);a&&a.forEach(l=>{if(l.name==i.triggerName){const d=BQ(s,i.triggerName,i.fromState.value,i.toState.value);d._data=t,TQ(i.player,l.phase,d,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class mBe{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new gBe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,l=this.driver.getParentElement(e);for(;l;){const d=r.get(l);if(d){const A=i.indexOf(d);i.splice(A+1,0,t),a=!0;break}l=this.driver.getParentElement(l)}a||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(LL(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!LL(e))return;const s=e[Sf];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ef(t,KQ)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),eE(t,KQ))}removeNode(t,e,i,r){if(LL(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[Sf]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return LL(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,SL,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,LQ,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return hw(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Sf];if(e&&e.setForRemoval){if(t[Sf]=kX,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(KQ)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ef(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?hw(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function mMe(n){return new o.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new kL,r=[],s=new Map,a=[],l=new Map,d=new Map,A=new Map,p=new Set;this.disabledNodes.forEach(Me=>{p.add(Me);const Qe=this.driver.query(Me,".ng-animate-queued",!0);for(let Re=0;Re<Qe.length;Re++)p.add(Qe[Re])});const _=this.bodyNode,x=Array.from(this.statesByElement.keys()),C=LX(x,this.collectedEnterElements),F=new Map;let R=0;C.forEach((Me,Qe)=>{const Re=OQ+R++;F.set(Qe,Re),Me.forEach(tt=>Ef(tt,Re))});const U=[],Q=new Set,K=new Set;for(let Me=0;Me<this.collectedLeaveElements.length;Me++){const Qe=this.collectedLeaveElements[Me],Re=Qe[Sf];Re&&Re.setForRemoval&&(U.push(Qe),Q.add(Qe),Re.hasAnimation?this.driver.query(Qe,".ng-star-inserted",!0).forEach(tt=>Q.add(tt)):K.add(Qe))}const ie=new Map,ce=LX(x,Array.from(Q));ce.forEach((Me,Qe)=>{const Re=CL+R++;ie.set(Qe,Re),Me.forEach(tt=>Ef(tt,Re))}),t.push(()=>{C.forEach((Me,Qe)=>{const Re=F.get(Qe);Me.forEach(tt=>eE(tt,Re))}),ce.forEach((Me,Qe)=>{const Re=ie.get(Qe);Me.forEach(tt=>eE(tt,Re))}),U.forEach(Me=>{this.processLeaveNode(Me)})});const pe=[],Se=[];for(let Me=this._namespaceList.length-1;Me>=0;Me--)this._namespaceList[Me].drainQueuedTransitions(e).forEach(Re=>{const tt=Re.player,_t=Re.element;if(pe.push(tt),this.collectedEnterElements.length){const ot=_t[Sf];if(ot&&ot.setForMove){if(ot.previousTriggersValues&&ot.previousTriggersValues.has(Re.triggerName)){const mt=ot.previousTriggersValues.get(Re.triggerName),pt=this.statesByElement.get(Re.element);if(pt&&pt.has(Re.triggerName)){const hn=pt.get(Re.triggerName);hn.value=mt,pt.set(Re.triggerName,hn)}}return void tt.destroy()}}const fn=!_||!this.driver.containsElement(_,_t),J=ie.get(_t),ye=F.get(_t),we=this._buildInstruction(Re,i,ye,J,fn);if(we.errors&&we.errors.length)return void Se.push(we);if(fn)return tt.onStart(()=>KC(_t,we.fromStyles)),tt.onDestroy(()=>Vm(_t,we.toStyles)),void r.push(tt);if(Re.isFallbackTransition)return tt.onStart(()=>KC(_t,we.fromStyles)),tt.onDestroy(()=>Vm(_t,we.toStyles)),void r.push(tt);const Pe=[];we.timelines.forEach(ot=>{ot.stretchStartingKeyframe=!0,this.disabledNodes.has(ot.element)||Pe.push(ot)}),we.timelines=Pe,i.append(_t,we.timelines),a.push({instruction:we,player:tt,element:_t}),we.queriedElements.forEach(ot=>pA(l,ot,[]).push(tt)),we.preStyleProps.forEach((ot,mt)=>{if(ot.size){let pt=d.get(mt);pt||d.set(mt,pt=new Set),ot.forEach((hn,un)=>pt.add(un))}}),we.postStyleProps.forEach((ot,mt)=>{let pt=A.get(mt);pt||A.set(mt,pt=new Set),ot.forEach((hn,un)=>pt.add(un))})});if(Se.length){const Me=[];Se.forEach(Qe=>{Me.push(function _Me(n,t){return new o.vHH(3505,!1)}())}),pe.forEach(Qe=>Qe.destroy()),this.reportError(Me)}const ve=new Map,de=new Map;a.forEach(Me=>{const Qe=Me.element;i.has(Qe)&&(de.set(Qe,Qe),this._beforeAnimationBuild(Me.player.namespaceId,Me.instruction,ve))}),r.forEach(Me=>{const Qe=Me.element;this._getPreviousPlayers(Qe,!1,Me.namespaceId,Me.triggerName,null).forEach(tt=>{pA(ve,Qe,[]).push(tt),tt.destroy()})});const We=U.filter(Me=>NX(Me,d,A)),et=new Map;OX(et,this.driver,K,A,ky).forEach(Me=>{NX(Me,d,A)&&We.push(Me)});const oe=new Map;C.forEach((Me,Qe)=>{OX(oe,this.driver,new Set(Me),d,"!")}),We.forEach(Me=>{const Qe=et.get(Me),Re=oe.get(Me);et.set(Me,new Map([...Array.from(Qe?.entries()??[]),...Array.from(Re?.entries()??[])]))});const Be=[],Ee=[],ct={};a.forEach(Me=>{const{element:Qe,player:Re,instruction:tt}=Me;if(i.has(Qe)){if(p.has(Qe))return Re.onDestroy(()=>Vm(Qe,tt.toStyles)),Re.disabled=!0,Re.overrideTotalTime(tt.totalTime),void r.push(Re);let _t=ct;if(de.size>1){let J=Qe;const ye=[];for(;J=J.parentNode;){const we=de.get(J);if(we){_t=we;break}ye.push(J)}ye.forEach(we=>de.set(we,_t))}const fn=this._buildAnimation(Re.namespaceId,tt,ve,s,oe,et);if(Re.setRealPlayer(fn),_t===ct)Be.push(Re);else{const J=this.playersByElement.get(_t);J&&J.length&&(Re.parentPlayer=hw(J)),r.push(Re)}}else KC(Qe,tt.fromStyles),Re.onDestroy(()=>Vm(Qe,tt.toStyles)),Ee.push(Re),p.has(Qe)&&r.push(Re)}),Ee.forEach(Me=>{const Qe=s.get(Me.element);if(Qe&&Qe.length){const Re=hw(Qe);Me.setRealPlayer(Re)}}),r.forEach(Me=>{Me.parentPlayer?Me.syncPlayerEvents(Me.parentPlayer):Me.destroy()});for(let Me=0;Me<U.length;Me++){const Qe=U[Me],Re=Qe[Sf];if(eE(Qe,CL),Re&&Re.hasAnimation)continue;let tt=[];if(l.size){let fn=l.get(Qe);fn&&fn.length&&tt.push(...fn);let J=this.driver.query(Qe,LQ,!0);for(let ye=0;ye<J.length;ye++){let we=l.get(J[ye]);we&&we.length&&tt.push(...we)}}const _t=tt.filter(fn=>!fn.destroyed);_t.length?wBe(this,Qe,_t):this.processLeaveNode(Qe)}return U.length=0,Be.forEach(Me=>{this.players.push(Me),Me.onDone(()=>{Me.destroy();const Qe=this.players.indexOf(Me);this.players.splice(Qe,1)}),Me.play()}),Be}elementContainsData(t,e){let i=!1;const r=e[Sf];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let a=[];if(e){const l=this.playersByQueriedElement.get(t);l&&(a=l)}else{const l=this.playersByElement.get(t);if(l){const d=!s||s==V2;l.forEach(A=>{A.queued||!d&&A.triggerName!=r||a.push(A)})}}return(i||r)&&(a=a.filter(l=>!(i&&i!=l.namespaceId||r&&r!=l.triggerName))),a}_beforeAnimationBuild(t,e,i){const s=e.element,a=e.isRemovalTransition?void 0:t,l=e.isRemovalTransition?void 0:e.triggerName;for(const d of e.timelines){const A=d.element,p=A!==s,_=pA(i,A,[]);this._getPreviousPlayers(A,p,a,l,e.toState).forEach(C=>{const F=C.getRealPlayer();F.beforeDestroy&&F.beforeDestroy(),C.destroy(),_.push(C)})}KC(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,a){const l=e.triggerName,d=e.element,A=[],p=new Set,_=new Set,x=e.timelines.map(F=>{const R=F.element;p.add(R);const U=R[Sf];if(U&&U.removedBeforeQueried)return new oT(F.duration,F.delay);const Q=R!==d,K=function bBe(n){const t=[];return PX(n,t),t}((i.get(R)||fBe).map(ve=>ve.getRealPlayer())).filter(ve=>!!ve.element&&ve.element===R),ie=s.get(R),ce=a.get(R),pe=cX(0,this._normalizer,0,F.keyframes,ie,ce),Se=this._buildPlayer(F,pe,K);if(F.subTimeline&&r&&_.add(R),Q){const ve=new YQ(t,l,R);ve.setRealPlayer(Se),A.push(ve)}return Se});A.forEach(F=>{pA(this.playersByQueriedElement,F.element,[]).push(F),F.onDone(()=>function _Be(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,F.element,F))}),p.forEach(F=>Ef(F,_X));const C=hw(x);return C.onDestroy(()=>{p.forEach(F=>eE(F,_X)),Vm(d,e.toStyles)}),_.forEach(F=>{pA(r,F,[]).push(C)}),C}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new oT(t.duration,t.delay)}}class YQ{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new oT,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>TQ(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){pA(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function LL(n){return n&&1===n.nodeType}function RX(n,t){const e=n.style.display;return n.style.display=t??"none",e}function OX(n,t,e,i,r){const s=[];e.forEach(d=>s.push(RX(d)));const a=[];i.forEach((d,A)=>{const p=new Map;d.forEach(_=>{const x=t.computeStyle(A,_,r);p.set(_,x),(!x||0==x.length)&&(A[Sf]=pBe,a.push(A))}),n.set(A,p)});let l=0;return e.forEach(d=>RX(d,s[l++])),a}function LX(n,t){const e=new Map;if(n.forEach(l=>e.set(l,[])),0==t.length)return e;const r=new Set(t),s=new Map;function a(l){if(!l)return 1;let d=s.get(l);if(d)return d;const A=l.parentNode;return d=e.has(A)?A:r.has(A)?1:a(A),s.set(l,d),d}return t.forEach(l=>{const d=a(l);1!==d&&e.get(d).push(l)}),e}function Ef(n,t){n.classList?.add(t)}function eE(n,t){n.classList?.remove(t)}function wBe(n,t,e){hw(e).onDone(()=>n.processLeaveNode(t))}function PX(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof jG?PX(i.players,t):t.push(i)}}function NX(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class PL{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new mBe(t,e,i),this._timelineEngine=new cBe(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const a=t+"-"+r;let l=this._triggerCache[a];if(!l){const d=[],p=HQ(this._driver,s,d,[]);if(d.length)throw function aMe(n,t){return new o.vHH(3404,!1)}();l=function sBe(n,t,e){return new oBe(n,t,e)}(r,p,this._normalizer),this._triggerCache[a]=l}this._transitionEngine.registerTrigger(e,r,l)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,a]=uX(i);this._timelineEngine.command(s,e,a,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[a,l]=uX(i);return this._timelineEngine.listen(a,e,l,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let SBe=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Vm(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Vm(this._element,this._initialStyles),this._endStyles&&(Vm(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(KC(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(KC(this._element,this._endStyles),this._endStyles=null),Vm(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function $Q(n){let t=null;return n.forEach((e,i)=>{(function EBe(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class UX{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:xX(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class IBe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return fX(t,e)}getParentElement(t){return kQ(t)}query(t,e,i){return pX(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,a=[]){const d={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(d.easing=s);const A=new Map,p=a.filter(C=>C instanceof UX);(function BMe(n,t){return 0===n||0===t})(i,r)&&p.forEach(C=>{C.currentSnapshot.forEach((F,R)=>A.set(R,F))});let _=function IMe(n){return n.length?n[0]instanceof Map?n:n.map(t=>yX(t)):[]}(e).map(C=>Aw(C));_=function FMe(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,a)=>{i.has(a)||r.push(a),i.set(a,s)}),r.length)for(let s=1;s<t.length;s++){let a=t[s];r.forEach(l=>a.set(l,xX(n,l)))}}return t}(t,_,A);const x=function xBe(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=$Q(t[0]),t.length>1&&(i=$Q(t[t.length-1]))):t instanceof Map&&(e=$Q(t)),e||i?new SBe(n,e,i):null}(t,_);return new UX(t,_,d,x)}}let DBe=(()=>{class n extends UG{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?QG(e):e;return HX(this._renderer,null,i,"register",[r]),new TBe(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(Ze))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class TBe extends yoe{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new MBe(this._id,t,e||{},this._renderer)}}class MBe{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return HX(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function HX(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const QX="@.disabled";let BBe=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,a)=>{const l=a?.parentNode(s);l&&a.removeChild(l,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let p=this._rendererCache.get(s);return p||(p=new VX("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,p)),p}const a=i.id,l=i.id+"-"+this._currentId;this._currentId++,this.engine.register(l,e);const d=p=>{Array.isArray(p)?p.forEach(d):this.engine.registerTrigger(a,l,e,p.name,p)};return i.data.animation.forEach(d),new FBe(this,l,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,l]=s;a(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(PL),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class VX{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==QX?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class FBe extends VX{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==QX?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function kBe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),a="";return"@"!=s.charAt(0)&&([s,a]=function RBe(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,a,l=>{this.factory.scheduleListenerCallback(l._data||-1,i,l)})}return this.delegate.listen(t,e,i)}}let OBe=(()=>{class n extends PL{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ze),o.LFG(RQ),o.LFG(GQ),o.LFG(o.z2F))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const jX=[{provide:UG,useClass:DBe},{provide:GQ,useFactory:function LBe(){return new tBe}},{provide:PL,useClass:OBe},{provide:o.FYo,useFactory:function PBe(n,t,e){return new BBe(n,t,e)},deps:[Xl,PL,o.R0b]}],JQ=[{provide:RQ,useFactory:()=>new IBe},{provide:o.QbO,useValue:"BrowserAnimations"},...jX],zX=[{provide:RQ,useClass:gX},{provide:o.QbO,useValue:"NoopAnimations"},...jX];let GX=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?zX:JQ}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:JQ,imports:[Zu]}),n})(),qX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),YBe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[qX,rT,dr,Rk,qX,dr]}),n})(),eee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[g6]}),n})(),_ke=(()=>{class n{constructor(e,i){Ca(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:Vp,useValue:{...m6,...e}},{provide:_6,useValue:i,multi:!0},{provide:hS,useValue:!0}]:[{provide:Vp,useValue:{...m6,...e}},{provide:_6,useValue:i,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(hS),o.LFG(o.Lbi))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[rZ,uZ,eee,rZ,uZ,eee]}),n})();const tee_firebaseConfig={apiKey:"AIzaSyBNWbqdAaq44dWHELm2m1jU0xY6graA9uo",authDomain:"rotiniel-35c5b.firebaseapp.com",projectId:"rotiniel-35c5b",storageBucket:"rotiniel-35c5b.appspot.com",messagingSenderId:"546264380520",appId:"1:546264380520:web:b09f4bc5e62c611818f7dd",measurementId:"G-VXQ0LYQVDB"};let yke=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[sC]}),n})(),XQ=(()=>{class n{constructor(){this.changes=new tn.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mke={provide:XQ,deps:[[new o.FiY,new o.tp0,XQ]],useFactory:function Tke(n){return n||new XQ}};let Bke=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Mke,Vk],imports:[dr,Us,oC,jk,yke,FK,rT,dr]}),n})(),see=(()=>{class n{constructor(e){this.userService=e}initializeApp(){var e=this.userService.isLogged();return new Promise((i,r)=>{setTimeout(()=>{i(e)},2e3)})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(gd))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Fke=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[gZ]}),n.\u0275inj=o.cJS({providers:[jT,Ly,P_,see,{provide:o.ip1,useFactory:t=>()=>t.initializeApp(),deps:[see],multi:!0},XS],imports:[Zu,U2e,GX,YBe,ioe,g9,SK,FK,SK,Qde,Vde,jk,pZ,Zx,pZ,_ke,g1,fZ,Hc.hO.initializeApp(tee_firebaseConfig),nre,ure,gpe,F9,gge,Tge,_fe,fde,H0e,Bye,GG,Bke,XR,hme,wme,Zme,XE,Xme,GX,h2e]}),n})();(0,o.G48)(),Vd().bootstrapModule(Fke).catch(n=>console.error(n))},2011:(zn,Ot,se)=>{"use strict";se.d(Ot,{Dh:()=>vt,GT:()=>bt,cc:()=>Vt,hO:()=>on,on:()=>Te,pX:()=>ht,xv:()=>dt});var o=se(4650),Ge=se(127),ue=se(5813);zn=se.hmd(zn);const ut=["ngOnDestroy"],ht=(Mt,yt,Gt,rn={})=>new Proxy(Mt,{get:(Hn,$t)=>Gt.runOutsideAngular(()=>{var In;if(Mt[$t])return!(null===(In=rn?.spy)||void 0===In)&&In.get&&rn.spy.get($t,Mt[$t]),Mt[$t];if(ut.indexOf($t)>-1)return()=>{};const an=yt.toPromise().then(Ct=>{const Fe=Ct&&Ct[$t];return"function"==typeof Fe?Fe.bind(Ct):Fe&&Fe.then?Fe.then(it=>Gt.run(()=>it)):Gt.run(()=>Fe)});return new Proxy(()=>{},{get:(Ct,Fe)=>an[Fe],apply:(Ct,Fe,it)=>an.then(rt=>{var Nt;const Et=rt&&rt(...it);return!(null===(Nt=rn?.spy)||void 0===Nt)&&Nt.apply&&rn.spy.apply($t,it,Et),Et})})})}),bt=(Mt,yt)=>{yt.forEach(Gt=>{Object.getOwnPropertyNames(Gt.prototype||Gt).forEach(rn=>{Object.defineProperty(Mt.prototype,rn,Object.getOwnPropertyDescriptor(Gt.prototype||Gt,rn))})})};class Ze{constructor(yt){return yt}}const vt=new o.OlP("angularfire2.app.options"),dt=new o.OlP("angularfire2.app.name");function Te(Mt,yt,Gt){const Hn="object"==typeof Gt&&Gt||{};Hn.name=Hn.name||"string"==typeof Gt&&Gt||"[DEFAULT]";const In=Ge.Z.apps.filter(an=>an&&an.name===Hn.name)[0]||yt.runOutsideAngular(()=>Ge.Z.initializeApp(Mt,Hn));try{JSON.stringify(Mt)!==JSON.stringify(In.options)&&ke("error",`${In.name} Firebase App already initialized with different options${zn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ze(In)}const ke=(Mt,...yt)=>{(0,o.X6Q)()&&typeof console<"u"&&console[Mt](...yt)},Ke={provide:Ze,useFactory:Te,deps:[vt,o.R0b,[new o.FiY,dt]]};let on=(()=>{class Mt{constructor(Gt){Ge.Z.registerVersion("angularfire",ue.q4.full,"core"),Ge.Z.registerVersion("angularfire",ue.q4.full,"app-compat"),Ge.Z.registerVersion("angular",o.q4F.full,Gt.toString())}static initializeApp(Gt,rn){return{ngModule:Mt,providers:[{provide:vt,useValue:Gt},{provide:dt,useValue:rn}]}}}return Mt.\u0275fac=function(Gt){return new(Gt||Mt)(o.LFG(o.Lbi))},Mt.\u0275mod=o.oAB({type:Mt}),Mt.\u0275inj=o.cJS({providers:[Ke]}),Mt})();function Vt(Mt,yt,Gt,rn,Hn){const[,$t,In]=globalThis.\u0275AngularfireInstanceCache.find(an=>an[0]===Mt)||[];if($t)return function pn(Mt,yt){try{return Mt.toString()===yt.toString()}catch{return Mt===yt}}(Hn,In)||(xt("error",`${yt} was already initialized on the ${Gt} Firebase App with different settings.${Pn?" You may need to reload as Firebase is not HMR aware.":""}`),xt("warn",{is:Hn,was:In})),$t;{const an=rn();return globalThis.\u0275AngularfireInstanceCache.push([Mt,an,Hn]),an}}const Pn=!!zn.hot,xt=(Mt,...yt)=>{(0,o.X6Q)()&&typeof console<"u"&&console[Mt](...yt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(zn,Ot,se)=>{"use strict";se.d(Ot,{q4:()=>_v,iC:()=>nc,HU:()=>rs,vb:()=>tn,JM:()=>vn});var o=se(4650),Ge=se(5867),ue=se(5861),ut=se(9681),ht=se(2090),bt=se(4859),Ze=se(1877),vt=se(8766);const dt="@firebase/installations",Te="0.5.16",Ke=`w:${Te}`,on="FIS_v2",yt=new ht.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Gt(H){return H instanceof ht.ZR&&H.code.includes("request-failed")}function rn({projectId:H}){return`https://firebaseinstallations.googleapis.com/v1/projects/${H}/installations`}function Hn(H){return{token:H.token,requestStatus:2,expiresIn:rt(H.expiresIn),creationTime:Date.now()}}function $t(H,j){return In.apply(this,arguments)}function In(){return(In=(0,ue.Z)(function*(H,j){const ge=(yield j.json()).error;return yt.create("request-failed",{requestName:H,serverCode:ge.code,serverMessage:ge.message,serverStatus:ge.status})})).apply(this,arguments)}function an({apiKey:H}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":H})}function Ct(H,{refreshToken:j}){const $=an(H);return $.append("Authorization",function Nt(H){return`${on} ${H}`}(j)),$}function Fe(H){return it.apply(this,arguments)}function it(){return(it=(0,ue.Z)(function*(H){const j=yield H();return j.status>=500&&j.status<600?H():j})).apply(this,arguments)}function rt(H){return Number(H.replace("s","000"))}function Et(H,j){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,ue.Z)(function*({appConfig:H,heartbeatServiceProvider:j},{fid:$}){const ge=rn(H),je=an(H),at=j.getImmediate({optional:!0});if(at){const si=yield at.getHeartbeatsHeader();si&&je.append("x-firebase-client",si)}const An={method:"POST",headers:je,body:JSON.stringify({fid:$,authVersion:on,appId:H.appId,sdkVersion:Ke})},Zn=yield Fe(()=>fetch(ge,An));if(Zn.ok){const si=yield Zn.json();return{fid:si.fid||$,registrationStatus:2,refreshToken:si.refreshToken,authToken:Hn(si.authToken)}}throw yield $t("Create Installation",Zn)})).apply(this,arguments)}function li(H){return new Promise(j=>{setTimeout(j,H)})}const xs=/^[cdef][\w-]{21}$/;function xo(){try{const H=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(H),H[0]=112+H[0]%16;const $=function ir(H){return function ji(H){return btoa(String.fromCharCode(...H)).replace(/\+/g,"-").replace(/\//g,"_")}(H).substr(0,22)}(H);return xs.test($)?$:""}catch{return""}}function Qn(H){return`${H.appName}!${H.appId}`}const qr=new Map;function cl(H,j){const $=Qn(H);Zc($,j),function ul(H,j){const $=function Sr(){return!Xo&&"BroadcastChannel"in self&&(Xo=new BroadcastChannel("[Firebase] FID Change"),Xo.onmessage=H=>{Zc(H.data.key,H.data.fid)}),Xo}();$&&$.postMessage({key:H,fid:j}),function es(){0===qr.size&&Xo&&(Xo.close(),Xo=null)}()}($,j)}function Zc(H,j){const $=qr.get(H);if($)for(const ge of $)ge(j)}let Xo=null;const Ss="firebase-installations-store";let qt=null;function oo(){return qt||(qt=(0,vt.X3)("firebase-installations-database",1,{upgrade:(H,j)=>{0===j&&H.createObjectStore(Ss)}})),qt}function rr(H,j){return va.apply(this,arguments)}function va(){return(va=(0,ue.Z)(function*(H,j){const $=Qn(H),je=(yield oo()).transaction(Ss,"readwrite"),at=je.objectStore(Ss),Ht=yield at.get($);return yield at.put(j,$),yield je.done,(!Ht||Ht.fid!==j.fid)&&cl(H,j.fid),j})).apply(this,arguments)}function Dn(H){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,ue.Z)(function*(H){const j=Qn(H),ge=(yield oo()).transaction(Ss,"readwrite");yield ge.objectStore(Ss).delete(j),yield ge.done})).apply(this,arguments)}function dl(H,j){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,ue.Z)(function*(H,j){const $=Qn(H),je=(yield oo()).transaction(Ss,"readwrite"),at=je.objectStore(Ss),Ht=yield at.get($),An=j(Ht);return void 0===An?yield at.delete($):yield at.put(An,$),yield je.done,An&&(!Ht||Ht.fid!==An.fid)&&cl(H,An.fid),An})).apply(this,arguments)}function ao(H){return ql.apply(this,arguments)}function ql(){return(ql=(0,ue.Z)(function*(H){let j;const $=yield dl(H.appConfig,ge=>{const je=yi(ge),at=Jn(H,je);return j=at.registrationPromise,at.installationEntry});return""===$.fid?{installationEntry:yield j}:{installationEntry:$,registrationPromise:j}})).apply(this,arguments)}function yi(H){return Li(H||{fid:xo(),registrationStatus:0})}function Jn(H,j){if(0===j.registrationStatus){if(!navigator.onLine)return{installationEntry:j,registrationPromise:Promise.reject(yt.create("app-offline"))};const $={fid:j.fid,registrationStatus:1,registrationTime:Date.now()},ge=function ii(H,j){return No.apply(this,arguments)}(H,$);return{installationEntry:$,registrationPromise:ge}}return 1===j.registrationStatus?{installationEntry:j,registrationPromise:Nr(H)}:{installationEntry:j}}function No(){return(No=(0,ue.Z)(function*(H,j){try{const $=yield Et(H,j);return rr(H.appConfig,$)}catch($){throw Gt($)&&409===$.customData.serverCode?yield Dn(H.appConfig):yield rr(H.appConfig,{fid:j.fid,registrationStatus:0}),$}})).apply(this,arguments)}function Nr(H){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,ue.Z)(function*(H){let j=yield ea(H.appConfig);for(;1===j.registrationStatus;)yield li(100),j=yield ea(H.appConfig);if(0===j.registrationStatus){const{installationEntry:$,registrationPromise:ge}=yield ao(H);return ge||$}return j})).apply(this,arguments)}function ea(H){return dl(H,j=>{if(!j)throw yt.create("installation-not-found");return Li(j)})}function Li(H){return function gs(H){return 1===H.registrationStatus&&H.registrationTime+1e4<Date.now()}(H)?{fid:H.fid,registrationStatus:0}:H}function fr(H,j){return xc.apply(this,arguments)}function xc(){return(xc=(0,ue.Z)(function*({appConfig:H,heartbeatServiceProvider:j},$){const ge=zi(H,$),je=Ct(H,$),at=j.getImmediate({optional:!0});if(at){const si=yield at.getHeartbeatsHeader();si&&je.append("x-firebase-client",si)}const An={method:"POST",headers:je,body:JSON.stringify({installation:{sdkVersion:Ke,appId:H.appId}})},Zn=yield Fe(()=>fetch(ge,An));if(Zn.ok)return Hn(yield Zn.json());throw yield $t("Generate Auth Token",Zn)})).apply(this,arguments)}function zi(H,{fid:j}){return`${rn(H)}/${j}/authTokens:generate`}function ts(H){return wa.apply(this,arguments)}function wa(){return(wa=(0,ue.Z)(function*(H,j=!1){let $;const ge=yield dl(H.appConfig,at=>{if(!Pi(at))throw yt.create("not-registered");const Ht=at.authToken;if(!j&&De(Ht))return at;if(1===Ht.requestStatus)return $=ln(H,j),at;{if(!navigator.onLine)throw yt.create("app-offline");const An=Ve(at);return $=ui(H,An),An}});return $?yield $:ge.authToken})).apply(this,arguments)}function ln(H,j){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,ue.Z)(function*(H,j){let $=yield yn(H.appConfig);for(;1===$.authToken.requestStatus;)yield li(100),$=yield yn(H.appConfig);const ge=$.authToken;return 0===ge.requestStatus?ts(H,j):ge})).apply(this,arguments)}function yn(H){return dl(H,j=>{if(!Pi(j))throw yt.create("not-registered");return function Dt(H){return 1===H.requestStatus&&H.requestTime+1e4<Date.now()}(j.authToken)?Object.assign(Object.assign({},j),{authToken:{requestStatus:0}}):j})}function ui(H,j){return di.apply(this,arguments)}function di(){return(di=(0,ue.Z)(function*(H,j){try{const $=yield fr(H,j),ge=Object.assign(Object.assign({},j),{authToken:$});return yield rr(H.appConfig,ge),$}catch($){if(!Gt($)||401!==$.customData.serverCode&&404!==$.customData.serverCode){const ge=Object.assign(Object.assign({},j),{authToken:{requestStatus:0}});yield rr(H.appConfig,ge)}else yield Dn(H.appConfig);throw $}})).apply(this,arguments)}function Pi(H){return void 0!==H&&2===H.registrationStatus}function De(H){return 2===H.requestStatus&&!function xe(H){const j=Date.now();return j<H.creationTime||H.creationTime+H.expiresIn<j+36e5}(H)}function Ve(H){const j={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},H),{authToken:j})}function Yt(){return(Yt=(0,ue.Z)(function*(H){const j=H,{installationEntry:$,registrationPromise:ge}=yield ao(j);return ge?ge.catch(console.error):ts(j).catch(console.error),$.fid})).apply(this,arguments)}function Gi(){return(Gi=(0,ue.Z)(function*(H,j=!1){const $=H;return yield _r($),(yield ts($,j)).token})).apply(this,arguments)}function _r(H){return ai.apply(this,arguments)}function ai(){return(ai=(0,ue.Z)(function*(H){const{registrationPromise:j}=yield ao(H);j&&(yield j)})).apply(this,arguments)}function vh(H){return yt.create("missing-app-config-values",{valueName:H})}const kf="installations",wh=H=>{const j=H.getProvider("app").getImmediate(),$=function wd(H){if(!H||!H.options)throw vh("App Configuration");if(!H.name)throw vh("App Name");const j=["projectId","apiKey","appId"];for(const $ of j)if(!H.options[$])throw vh($);return{appName:H.name,projectId:H.options.projectId,apiKey:H.options.apiKey,appId:H.options.appId}}(j);return{app:j,appConfig:$,heartbeatServiceProvider:(0,ut._getProvider)(j,"heartbeat"),_delete:()=>Promise.resolve()}},CA=H=>{const j=H.getProvider("app").getImmediate(),$=(0,ut._getProvider)(j,kf).getImmediate();return{getId:()=>function lt(H){return Yt.apply(this,arguments)}($),getToken:je=>function wi(H){return Gi.apply(this,arguments)}($,je)}};(function bd(){(0,ut._registerComponent)(new bt.wA(kf,wh,"PUBLIC")),(0,ut._registerComponent)(new bt.wA("installations-internal",CA,"PRIVATE"))})(),(0,ut.registerVersion)(dt,Te),(0,ut.registerVersion)(dt,Te,"esm2017");const ta="@firebase/remote-config",us=new ht.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class lo{constructor(j,$,ge,je){this.client=j,this.storage=$,this.storageCache=ge,this.logger=je}isCachedDataFresh(j,$){if(!$)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ge=Date.now()-$,je=ge<=j;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ge}. Cache max age millis (minimumFetchIntervalMillis setting): ${j}. Is cache hit: ${je}.`),je}fetch(j){var $=this;return(0,ue.Z)(function*(){const[ge,je]=yield Promise.all([$.storage.getLastSuccessfulFetchTimestampMillis(),$.storage.getLastSuccessfulFetchResponse()]);if(je&&$.isCachedDataFresh(j.cacheMaxAgeMillis,ge))return je;j.eTag=je&&je.eTag;const at=yield $.client.fetch(j),Ht=[$.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===at.status&&Ht.push($.storage.setLastSuccessfulFetchResponse(at)),yield Promise.all(Ht),at})()}}function Tl(H=navigator){return H.languages&&H.languages[0]||H.language}class bh{constructor(j,$,ge,je,at,Ht){this.firebaseInstallations=j,this.sdkVersion=$,this.namespace=ge,this.projectId=je,this.apiKey=at,this.appId=Ht}fetch(j){var $=this;return(0,ue.Z)(function*(){var ge,je,at;const[Ht,An]=yield Promise.all([$.firebaseInstallations.getId(),$.firebaseInstallations.getToken()]),si=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${$.projectId}/namespaces/${$.namespace}:fetch?key=${$.apiKey}`,hi={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":j.eTag||"*"},Vn={sdk_version:$.sdkVersion,app_instance_id:Ht,app_instance_id_token:An,app_id:$.appId,language_code:Tl()},hs={method:"POST",headers:hi,body:JSON.stringify(Vn)},uo=fetch(si,hs),vs=new Promise((Fc,Qr)=>{j.signal.addEventListener(()=>{const zr=new Error("The operation was aborted.");zr.name="AbortError",Qr(zr)})});let ja;try{yield Promise.race([uo,vs]),ja=yield uo}catch(Fc){let Qr="fetch-client-network";throw"AbortError"===(null===(ge=Fc)||void 0===ge?void 0:ge.name)&&(Qr="fetch-timeout"),us.create(Qr,{originalErrorMessage:null===(je=Fc)||void 0===je?void 0:je.message})}let za=ja.status;const Xs=ja.headers.get("ETag")||void 0;let Br,Ga;if(200===ja.status){let Fc;try{Fc=yield ja.json()}catch(Qr){throw us.create("fetch-client-parse",{originalErrorMessage:null===(at=Qr)||void 0===at?void 0:at.message})}Br=Fc.entries,Ga=Fc.state}if("INSTANCE_STATE_UNSPECIFIED"===Ga?za=500:"NO_CHANGE"===Ga?za=304:("NO_TEMPLATE"===Ga||"EMPTY_CONFIG"===Ga)&&(Br={}),304!==za&&200!==za)throw us.create("fetch-status",{httpStatus:za});return{status:za,eTag:Xs,config:Br}})()}}class Pu{constructor(j,$){this.client=j,this.storage=$}fetch(j){var $=this;return(0,ue.Z)(function*(){const ge=(yield $.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return $.attemptFetch(j,ge)})()}attemptFetch(j,{throttleEndTimeMillis:$,backoffCount:ge}){var je=this;return(0,ue.Z)(function*(){yield function Ha(H,j){return new Promise(($,ge)=>{const je=Math.max(j-Date.now(),0),at=setTimeout($,je);H.addEventListener(()=>{clearTimeout(at),ge(us.create("fetch-throttle",{throttleEndTimeMillis:j}))})})}(j.signal,$);try{const at=yield je.client.fetch(j);return yield je.storage.deleteThrottleMetadata(),at}catch(at){if(!function Yr(H){if(!(H instanceof ht.ZR&&H.customData))return!1;const j=Number(H.customData.httpStatus);return 429===j||500===j||503===j||504===j}(at))throw at;const Ht={throttleEndTimeMillis:Date.now()+(0,ht.$s)(ge),backoffCount:ge+1};return yield je.storage.setThrottleMetadata(Ht),je.attemptFetch(j,Ht)}})()}}class xd{constructor(j,$,ge,je,at){this.app=j,this._client=$,this._storageCache=ge,this._storage=je,this._logger=at,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ec(H,j){var $;const ge=H.target.error||void 0;return us.create(j,{originalErrorMessage:ge&&(null===($=ge)||void 0===$?void 0:$.message)})}const Al="app_namespace_store";class ba{constructor(j,$,ge,je=function ia(){return new Promise((H,j)=>{var $;try{const ge=indexedDB.open("firebase_remote_config",1);ge.onerror=je=>{j(Ec(je,"storage-open"))},ge.onsuccess=je=>{H(je.target.result)},ge.onupgradeneeded=je=>{0===je.oldVersion&&je.target.result.createObjectStore(Al,{keyPath:"compositeKey"})}}catch(ge){j(us.create("storage-open",{originalErrorMessage:null===($=ge)||void 0===$?void 0:$.message}))}})}()){this.appId=j,this.appName=$,this.namespace=ge,this.openDbPromise=je}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(j){return this.set("last_fetch_status",j)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(j){return this.set("last_successful_fetch_timestamp_millis",j)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(j){return this.set("last_successful_fetch_response",j)}getActiveConfig(){return this.get("active_config")}setActiveConfig(j){return this.set("active_config",j)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(j){return this.set("active_config_etag",j)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(j){return this.set("throttle_metadata",j)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(j){var $=this;return(0,ue.Z)(function*(){const ge=yield $.openDbPromise;return new Promise((je,at)=>{var Ht;const Zn=ge.transaction([Al],"readonly").objectStore(Al),si=$.createCompositeKey(j);try{const hi=Zn.get(si);hi.onerror=Vn=>{at(Ec(Vn,"storage-get"))},hi.onsuccess=Vn=>{const hs=Vn.target.result;je(hs?hs.value:void 0)}}catch(hi){at(us.create("storage-get",{originalErrorMessage:null===(Ht=hi)||void 0===Ht?void 0:Ht.message}))}})})()}set(j,$){var ge=this;return(0,ue.Z)(function*(){const je=yield ge.openDbPromise;return new Promise((at,Ht)=>{var An;const si=je.transaction([Al],"readwrite").objectStore(Al),hi=ge.createCompositeKey(j);try{const Vn=si.put({compositeKey:hi,value:$});Vn.onerror=hs=>{Ht(Ec(hs,"storage-set"))},Vn.onsuccess=()=>{at()}}catch(Vn){Ht(us.create("storage-set",{originalErrorMessage:null===(An=Vn)||void 0===An?void 0:An.message}))}})})()}delete(j){var $=this;return(0,ue.Z)(function*(){const ge=yield $.openDbPromise;return new Promise((je,at)=>{var Ht;const Zn=ge.transaction([Al],"readwrite").objectStore(Al),si=$.createCompositeKey(j);try{const hi=Zn.delete(si);hi.onerror=Vn=>{at(Ec(Vn,"storage-delete"))},hi.onsuccess=()=>{je()}}catch(hi){at(us.create("storage-delete",{originalErrorMessage:null===(Ht=hi)||void 0===Ht?void 0:Ht.message}))}})})()}createCompositeKey(j){return[this.appId,this.appName,this.namespace,j].join()}}class Ch{constructor(j){this.storage=j}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var j=this;return(0,ue.Z)(function*(){const $=j.storage.getLastFetchStatus(),ge=j.storage.getLastSuccessfulFetchTimestampMillis(),je=j.storage.getActiveConfig(),at=yield $;at&&(j.lastFetchStatus=at);const Ht=yield ge;Ht&&(j.lastSuccessfulFetchTimestampMillis=Ht);const An=yield je;An&&(j.activeConfig=An)})()}setLastFetchStatus(j){return this.lastFetchStatus=j,this.storage.setLastFetchStatus(j)}setLastSuccessfulFetchTimestampMillis(j){return this.lastSuccessfulFetchTimestampMillis=j,this.storage.setLastSuccessfulFetchTimestampMillis(j)}setActiveConfig(j){return this.activeConfig=j,this.storage.setActiveConfig(j)}}function xA(){return Rf.apply(this,arguments)}function Rf(){return(Rf=(0,ue.Z)(function*(){if(!(0,ht.hl)())return!1;try{return yield(0,ht.eu)()}catch{return!1}})).apply(this,arguments)}!function Sd(){(0,ut._registerComponent)(new bt.wA("remote-config",function H(j,{instanceIdentifier:$}){const ge=j.getProvider("app").getImmediate(),je=j.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw us.create("registration-window");if(!(0,ht.hl)())throw us.create("indexed-db-unavailable");const{projectId:at,apiKey:Ht,appId:An}=ge.options;if(!at)throw us.create("registration-project-id");if(!Ht)throw us.create("registration-api-key");if(!An)throw us.create("registration-app-id");const Zn=new ba(An,ge.name,$=$||"firebase"),si=new Ch(Zn),hi=new Ze.Yd(ta);hi.logLevel=Ze.in.ERROR;const Vn=new bh(je,ut.SDK_VERSION,$,at,Ht,An),hs=new Pu(Vn,Zn),uo=new lo(hs,Zn,si,hi),vs=new xd(ge,uo,si,Zn,hi);return function Si(H){const j=(0,ht.m9)(H);j._initializePromise||(j._initializePromise=j._storageCache.loadFromStorage().then(()=>{j._isInitializationComplete=!0}))}(vs),vs},"PUBLIC").setMultipleInstances(!0)),(0,ut.registerVersion)(ta,"0.3.15"),(0,ut.registerVersion)(ta,"0.3.15","esm2017")}();const SA="/firebase-messaging-sw.js",Xm="/firebase-cloud-messaging-push-scope",EA="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",IA="google.c.a.c_id",t_="google.c.a.c_l",Sh="google.c.a.ts",Ed="google.c.a.e";var Ts=(()=>{return(H=Ts||(Ts={})).PUSH_RECEIVED="push-received",H.NOTIFICATION_CLICKED="notification-clicked",Ts;var H})();function Us(H){const j=new Uint8Array(H);return btoa(String.fromCharCode(...j)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ra(H){const $=(H+"=".repeat((4-H.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ge=atob($),je=new Uint8Array(ge.length);for(let at=0;at<ge.length;++at)je[at]=ge.charCodeAt(at);return je}const dg="fcm_token_details_db",n_="fcm_token_object_Store";function Zl(H){return Ca.apply(this,arguments)}function Ca(){return Ca=(0,ue.Z)(function*(H){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(at=>at.name).includes(dg))return null;let j=null;return(yield(0,vt.X3)(dg,5,{upgrade:(ge=(0,ue.Z)(function*(je,at,Ht,An){var Zn;if(at<2||!je.objectStoreNames.contains(n_))return;const si=An.objectStore(n_),hi=yield si.index("fcmSenderId").get(H);if(yield si.clear(),hi)if(2===at){const Vn=hi;if(!Vn.auth||!Vn.p256dh||!Vn.endpoint)return;j={token:Vn.fcmToken,createTime:null!==(Zn=Vn.createTime)&&void 0!==Zn?Zn:Date.now(),subscriptionOptions:{auth:Vn.auth,p256dh:Vn.p256dh,endpoint:Vn.endpoint,swScope:Vn.swScope,vapidKey:"string"==typeof Vn.vapidKey?Vn.vapidKey:Us(Vn.vapidKey)}}}else if(3===at){const Vn=hi;j={token:Vn.fcmToken,createTime:Vn.createTime,subscriptionOptions:{auth:Us(Vn.auth),p256dh:Us(Vn.p256dh),endpoint:Vn.endpoint,swScope:Vn.swScope,vapidKey:Us(Vn.vapidKey)}}}else if(4===at){const Vn=hi;j={token:Vn.fcmToken,createTime:Vn.createTime,subscriptionOptions:{auth:Us(Vn.auth),p256dh:Us(Vn.p256dh),endpoint:Vn.endpoint,swScope:Vn.swScope,vapidKey:Us(Vn.vapidKey)}}}}),function(at,Ht,An,Zn){return ge.apply(this,arguments)})})).close(),yield(0,vt.Lj)(dg),yield(0,vt.Lj)("fcm_vapid_details_db"),yield(0,vt.Lj)("undefined"),DA(j)?j:null;var ge}),Ca.apply(this,arguments)}function DA(H){if(!H||!H.subscriptionOptions)return!1;const{subscriptionOptions:j}=H;return"number"==typeof H.createTime&&H.createTime>0&&"string"==typeof H.token&&H.token.length>0&&"string"==typeof j.auth&&j.auth.length>0&&"string"==typeof j.p256dh&&j.p256dh.length>0&&"string"==typeof j.endpoint&&j.endpoint.length>0&&"string"==typeof j.swScope&&j.swScope.length>0&&"string"==typeof j.vapidKey&&j.vapidKey.length>0}const _s="firebase-messaging-store";let fl=null;function $c(){return fl||(fl=(0,vt.X3)("firebase-messaging-database",1,{upgrade:(H,j)=>{0===j&&H.createObjectStore(_s)}})),fl}function Of(H){return Id.apply(this,arguments)}function Id(){return(Id=(0,ue.Z)(function*(H){const j=Wl(H),ge=yield(yield $c()).transaction(_s).objectStore(_s).get(j);if(ge)return ge;{const je=yield Zl(H.appConfig.senderId);if(je)return yield Lf(H,je),je}})).apply(this,arguments)}function Lf(H,j){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,ue.Z)(function*(H,j){const $=Wl(H),je=(yield $c()).transaction(_s,"readwrite");return yield je.objectStore(_s).put(j,$),yield je.done,j})).apply(this,arguments)}function pl(H){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,ue.Z)(function*(H){const j=Wl(H),ge=(yield $c()).transaction(_s,"readwrite");yield ge.objectStore(_s).delete(j),yield ge.done})).apply(this,arguments)}function Wl({appConfig:H}){return H.appId}const Er=new ht.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ih(H,j){return Pf.apply(this,arguments)}function Pf(){return(Pf=(0,ue.Z)(function*(H,j){var $;const ge=yield BA(H),je=sa(j),at={method:"POST",headers:ge,body:JSON.stringify(je)};let Ht;try{Ht=yield(yield fetch(MA(H.appConfig),at)).json()}catch(An){throw Er.create("token-subscribe-failed",{errorInfo:null===($=An)||void 0===$?void 0:$.toString()})}if(Ht.error)throw Er.create("token-subscribe-failed",{errorInfo:Ht.error.message});if(!Ht.token)throw Er.create("token-subscribe-no-token");return Ht.token})).apply(this,arguments)}function Ml(H,j){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,ue.Z)(function*(H,j){var $;const ge=yield BA(H),je=sa(j.subscriptionOptions),at={method:"PATCH",headers:ge,body:JSON.stringify(je)};let Ht;try{Ht=yield(yield fetch(`${MA(H.appConfig)}/${j.token}`,at)).json()}catch(An){throw Er.create("token-update-failed",{errorInfo:null===($=An)||void 0===$?void 0:$.toString()})}if(Ht.error)throw Er.create("token-update-failed",{errorInfo:Ht.error.message});if(!Ht.token)throw Er.create("token-update-no-token");return Ht.token})).apply(this,arguments)}function TA(H,j){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,ue.Z)(function*(H,j){var $;const je={method:"DELETE",headers:yield BA(H)};try{const Ht=yield(yield fetch(`${MA(H.appConfig)}/${j}`,je)).json();if(Ht.error)throw Er.create("token-unsubscribe-failed",{errorInfo:Ht.error.message})}catch(at){throw Er.create("token-unsubscribe-failed",{errorInfo:null===($=at)||void 0===$?void 0:$.toString()})}})).apply(this,arguments)}function MA({projectId:H}){return`https://fcmregistrations.googleapis.com/v1/projects/${H}/registrations`}function BA(H){return Do.apply(this,arguments)}function Do(){return(Do=(0,ue.Z)(function*({appConfig:H,installations:j}){const $=yield j.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":H.apiKey,"x-goog-firebase-installations-auth":`FIS ${$}`})})).apply(this,arguments)}function sa({p256dh:H,auth:j,endpoint:$,vapidKey:ge}){const je={web:{endpoint:$,auth:j,p256dh:H}};return ge!==EA&&(je.web.applicationPubKey=ge),je}const fv=6048e5;function FA(H){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,ue.Z)(function*(H){const j=yield Jc(H.swRegistration,H.vapidKey),$={vapidKey:H.vapidKey,swScope:H.swRegistration.scope,endpoint:j.endpoint,auth:Us(j.getKey("auth")),p256dh:Us(j.getKey("p256dh"))},ge=yield Of(H.firebaseDependencies);if(ge){if(Xc(ge.subscriptionOptions,$))return Date.now()>=ge.createTime+fv?Qu(H,{token:ge.token,createTime:Date.now(),subscriptionOptions:$}):ge.token;try{yield TA(H.firebaseDependencies,ge.token)}catch(je){console.warn(je)}return qi(H.firebaseDependencies,$)}return qi(H.firebaseDependencies,$)})).apply(this,arguments)}function Ho(H){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,ue.Z)(function*(H){const j=yield Of(H.firebaseDependencies);j&&(yield TA(H.firebaseDependencies,j.token),yield pl(H.firebaseDependencies));const $=yield H.swRegistration.pushManager.getSubscription();return!$||$.unsubscribe()})).apply(this,arguments)}function Qu(H,j){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,ue.Z)(function*(H,j){try{const $=yield Ml(H.firebaseDependencies,j),ge=Object.assign(Object.assign({},j),{token:$,createTime:Date.now()});return yield Lf(H.firebaseDependencies,ge),$}catch($){throw yield Ho(H),$}})).apply(this,arguments)}function qi(H,j){return Td.apply(this,arguments)}function Td(){return(Td=(0,ue.Z)(function*(H,j){const ge={token:yield Ih(H,j),createTime:Date.now(),subscriptionOptions:j};return yield Lf(H,ge),ge.token})).apply(this,arguments)}function Jc(H,j){return ci.apply(this,arguments)}function ci(){return(ci=(0,ue.Z)(function*(H,j){return(yield H.pushManager.getSubscription())||H.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ra(j)})})).apply(this,arguments)}function Xc(H,j){return j.vapidKey===H.vapidKey&&j.endpoint===H.endpoint&&j.auth===H.auth&&j.p256dh===H.p256dh}function br(H){const j={from:H.from,collapseKey:H.collapse_key,messageId:H.fcmMessageId};return function i_(H,j){if(!j.notification)return;H.notification={};const $=j.notification.title;$&&(H.notification.title=$);const ge=j.notification.body;ge&&(H.notification.body=ge);const je=j.notification.image;je&&(H.notification.image=je);const at=j.notification.icon;at&&(H.notification.icon=at)}(j,H),function Ic(H,j){!j.data||(H.data=j.data)}(j,H),function ys(H,j){var $,ge,je,at,Ht;if(!(j.fcmOptions||null!==($=j.notification)&&void 0!==$&&$.click_action))return;H.fcmOptions={};const An=null!==(je=null===(ge=j.fcmOptions)||void 0===ge?void 0:ge.link)&&void 0!==je?je:null===(at=j.notification)||void 0===at?void 0:at.click_action;An&&(H.fcmOptions.link=An);const Zn=null===(Ht=j.fcmOptions)||void 0===Ht?void 0:Ht.analytics_label;Zn&&(H.fcmOptions.analyticsLabel=Zn)}(j,H),j}function kA(H){return"object"==typeof H&&!!H&&IA in H}function co(H,j){const $=[];for(let ge=0;ge<H.length;ge++)$.push(H.charAt(ge)),ge<j.length&&$.push(j.charAt(ge));return $.join("")}function Rt(H){return Er.create("missing-app-config-values",{valueName:H})}co("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),co("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ni{constructor(j,$,ge){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const je=function RA(H){if(!H||!H.options)throw Rt("App Configuration Object");if(!H.name)throw Rt("App Name");const j=["projectId","apiKey","appId","messagingSenderId"],{options:$}=H;for(const ge of j)if(!$[ge])throw Rt(ge);return{appName:H.name,projectId:$.projectId,apiKey:$.apiKey,appId:$.appId,senderId:$.messagingSenderId}}(j);this.firebaseDependencies={app:j,appConfig:je,installations:$,analyticsProvider:ge}}_delete(){return Promise.resolve()}}function Ur(H){return Md.apply(this,arguments)}function Md(){return(Md=(0,ue.Z)(function*(H){var j;try{H.swRegistration=yield navigator.serviceWorker.register(SA,{scope:Xm}),H.swRegistration.update().catch(()=>{})}catch($){throw Er.create("failed-service-worker-registration",{browserErrorMessage:null===(j=$)||void 0===j?void 0:j.message})}})).apply(this,arguments)}function Zs(H,j){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,ue.Z)(function*(H,j){if(!j&&!H.swRegistration&&(yield Ur(H)),j||!H.swRegistration){if(!(j instanceof ServiceWorkerRegistration))throw Er.create("invalid-sw-registration");H.swRegistration=j}})).apply(this,arguments)}function Dc(H,j){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,ue.Z)(function*(H,j){j?H.vapidKey=j:H.vapidKey||(H.vapidKey=EA)})).apply(this,arguments)}function Th(){return(Th=(0,ue.Z)(function*(H,j){if(!navigator)throw Er.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Er.create("permission-blocked");return yield Dc(H,j?.vapidKey),yield Zs(H,j?.serviceWorkerRegistration),FA(H)})).apply(this,arguments)}function ml(H,j,$){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,ue.Z)(function*(H,j,$){const ge=$l(j);(yield H.firebaseDependencies.analyticsProvider.get()).logEvent(ge,{message_id:$[IA],message_name:$[t_],message_time:$[Sh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function $l(H){switch(H){case Ts.NOTIFICATION_CLICKED:return"notification_open";case Ts.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Hr(){return(Hr=(0,ue.Z)(function*(H,j){const $=j.data;if(!$.isFirebaseMessaging)return;H.onMessageHandler&&$.messageType===Ts.PUSH_RECEIVED&&("function"==typeof H.onMessageHandler?H.onMessageHandler(br($)):H.onMessageHandler.next(br($)));const ge=$.data;kA(ge)&&"1"===ge[Ed]&&(yield ml(H,$.messageType,ge))})).apply(this,arguments)}const Fl="@firebase/messaging",ju=H=>{const j=new Ni(H.getProvider("app").getImmediate(),H.getProvider("installations-internal").getImmediate(),H.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",$=>function Ys(H,j){return Hr.apply(this,arguments)}(j,$)),j},kl=H=>{const j=H.getProvider("messaging").getImmediate();return{getToken:ge=>function gl(H,j){return Th.apply(this,arguments)}(j,ge)}};function eu(){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,ue.Z)(function*(){try{yield(0,ht.eu)()}catch{return!1}return typeof window<"u"&&(0,ht.hl)()&&(0,ht.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function pv(){(0,ut._registerComponent)(new bt.wA("messaging",ju,"PUBLIC")),(0,ut._registerComponent)(new bt.wA("messaging-internal",kl,"PRIVATE")),(0,ut.registerVersion)(Fl,"0.11.0"),(0,ut.registerVersion)(Fl,"0.11.0","esm2017")}();const Fd="analytics",r_="firebase_id",Fh="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gg="https://www.googletagmanager.com/gtag/js",$s=new Ze.Yd("@firebase/analytics");function To(H){return Promise.all(H.map(j=>j.catch($=>$)))}function _l(H,j){const $=document.createElement("script");$.src=`${gg}?l=${H}&id=${j}`,$.async=!0,document.head.appendChild($)}function Hf(H,j,$,ge,je,at){return tu.apply(this,arguments)}function tu(){return(tu=(0,ue.Z)(function*(H,j,$,ge,je,at){const Ht=ge[je];try{if(Ht)yield j[Ht];else{const Zn=(yield To($)).find(si=>si.measurementId===je);Zn&&(yield j[Zn.appId])}}catch(An){$s.error(An)}H("config",je,at)})).apply(this,arguments)}function OA(H,j,$,ge,je){return zu.apply(this,arguments)}function zu(){return(zu=(0,ue.Z)(function*(H,j,$,ge,je){try{let at=[];if(je&&je.send_to){let Ht=je.send_to;Array.isArray(Ht)||(Ht=[Ht]);const An=yield To($);for(const Zn of Ht){const si=An.find(Vn=>Vn.measurementId===Zn),hi=si&&j[si.appId];if(!hi){at=[];break}at.push(hi)}}0===at.length&&(at=Object.values(j)),yield Promise.all(at),H("event",ge,je||{})}catch(at){$s.error(at)}})).apply(this,arguments)}function Od(H){const j=window.document.getElementsByTagName("script");for(const $ of Object.values(j))if($.src&&$.src.includes(gg)&&$.src.includes(H))return $;return null}const Hs=new ht.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Rl=new class o_{constructor(j={},$=1e3){this.throttleMetadata=j,this.intervalMillis=$}getThrottleMetadata(j){return this.throttleMetadata[j]}setThrottleMetadata(j,$){this.throttleMetadata[j]=$}deleteThrottleMetadata(j){delete this.throttleMetadata[j]}};function Pd(H){return new Headers({Accept:"application/json","x-goog-api-key":H})}function nu(H){return PA.apply(this,arguments)}function PA(){return(PA=(0,ue.Z)(function*(H){var j;const{appId:$,apiKey:ge}=H,je={method:"GET",headers:Pd(ge)},at=Fh.replace("{app-id}",$),Ht=yield fetch(at,je);if(200!==Ht.status&&304!==Ht.status){let An="";try{const Zn=yield Ht.json();null!==(j=Zn.error)&&void 0!==j&&j.message&&(An=Zn.error.message)}catch{}throw Hs.create("config-fetch-failed",{httpStatus:Ht.status,responseMessage:An})}return Ht.json()})).apply(this,arguments)}function Vf(H){return iu.apply(this,arguments)}function iu(){return(iu=(0,ue.Z)(function*(H,j=Rl,$){const{appId:ge,apiKey:je,measurementId:at}=H.options;if(!ge)throw Hs.create("no-app-id");if(!je){if(at)return{measurementId:at,appId:ge};throw Hs.create("no-api-key")}const Ht=j.getThrottleMetadata(ge)||{backoffCount:0,throttleEndTimeMillis:Date.now()},An=new Tc;return setTimeout((0,ue.Z)(function*(){An.abort()}),void 0!==$?$:6e4),a_({appId:ge,apiKey:je,measurementId:at},Ht,An,j)})).apply(this,arguments)}function a_(H,j,$){return kh.apply(this,arguments)}function kh(){return(kh=(0,ue.Z)(function*(H,{throttleEndTimeMillis:j,backoffCount:$},ge,je=Rl){var at,Ht;const{appId:An,measurementId:Zn}=H;try{yield Nd(ge,j)}catch(si){if(Zn)return $s.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Zn} provided in the "measurementId" field in the local Firebase config. [${null===(at=si)||void 0===at?void 0:at.message}]`),{appId:An,measurementId:Zn};throw si}try{const si=yield nu(H);return je.deleteThrottleMetadata(An),si}catch(si){const hi=si;if(!_g(hi)){if(je.deleteThrottleMetadata(An),Zn)return $s.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Zn} provided in the "measurementId" field in the local Firebase config. [${hi?.message}]`),{appId:An,measurementId:Zn};throw si}const Vn=503===Number(null===(Ht=hi?.customData)||void 0===Ht?void 0:Ht.httpStatus)?(0,ht.$s)($,je.intervalMillis,30):(0,ht.$s)($,je.intervalMillis),hs={throttleEndTimeMillis:Date.now()+Vn,backoffCount:$+1};return je.setThrottleMetadata(An,hs),$s.debug(`Calling attemptFetch again in ${Vn} millis`),a_(H,hs,ge,je)}})).apply(this,arguments)}function Nd(H,j){return new Promise(($,ge)=>{const je=Math.max(j-Date.now(),0),at=setTimeout($,je);H.addEventListener(()=>{clearTimeout(at),ge(Hs.create("fetch-throttle",{throttleEndTimeMillis:j}))})})}function _g(H){if(!(H instanceof ht.ZR&&H.customData))return!1;const j=Number(H.customData.httpStatus);return 429===j||500===j||503===j||504===j}class Tc{constructor(){this.listeners=[]}addEventListener(j){this.listeners.push(j)}abort(){this.listeners.forEach(j=>j())}}let Rh,zf;function Xl(){return(Xl=(0,ue.Z)(function*(H,j,$,ge,je){if(je&&je.global)H("event",$,ge);else{const at=yield j;H("event",$,Object.assign(Object.assign({},ge),{send_to:at}))}})).apply(this,arguments)}function Hd(H){zf=H}function c_(H){Rh=H}function Js(){return yg.apply(this,arguments)}function yg(){return(yg=(0,ue.Z)(function*(){var H;if(!(0,ht.hl)())return $s.warn(Hs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ht.eu)()}catch(j){return $s.warn(Hs.create("indexeddb-unavailable",{errorInfo:null===(H=j)||void 0===H?void 0:H.toString()}).message),!1}return!0})).apply(this,arguments)}function ec(){return(ec=(0,ue.Z)(function*(H,j,$,ge,je,at,Ht){var An;const Zn=Vf(H);Zn.then(uo=>{$[uo.measurementId]=uo.appId,H.options.measurementId&&uo.measurementId!==H.options.measurementId&&$s.warn(`The measurement ID in the local Firebase config (${H.options.measurementId}) does not match the measurement ID fetched from the server (${uo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(uo=>$s.error(uo)),j.push(Zn);const si=Js().then(uo=>{if(uo)return ge.getId()}),[hi,Vn]=yield Promise.all([Zn,si]);Od(at)||_l(at,hi.measurementId),zf&&(je("consent","default",zf),Hd(void 0)),je("js",new Date);const hs=null!==(An=Ht?.config)&&void 0!==An?An:{};return hs.origin="firebase",hs.update=!0,null!=Vn&&(hs[r_]=Vn),je("config",hi.measurementId,hs),Rh&&(je("set",Rh),c_(void 0)),hi.measurementId})).apply(this,arguments)}class u_{constructor(j){this.app=j}_delete(){return delete Ir[this.app.options.appId],Promise.resolve()}}let Ir={},ru=[];const NA={};let UA,Ol,Qd="dataLayer",Ku=!1;function vg(H,j,$){!function su(){const H=[];if((0,ht.ru)()&&H.push("This is a browser extension environment."),(0,ht.zI)()||H.push("Cookies are not available."),H.length>0){const j=H.map((ge,je)=>`(${je+1}) ${ge}`).join(" "),$=Hs.create("invalid-analytics-context",{errorInfo:j});$s.warn($.message)}}();const ge=H.options.appId;if(!ge)throw Hs.create("no-app-id");if(!H.options.apiKey){if(!H.options.measurementId)throw Hs.create("no-api-key");$s.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${H.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ir[ge])throw Hs.create("already-exists",{id:ge});if(!Ku){!function Mr(H){let j=[];Array.isArray(window[H])?j=window[H]:window[H]=j}(Qd);const{wrappedGtag:at,gtagCore:Ht}=function mg(H,j,$,ge,je){let at=function(...Ht){window[ge].push(arguments)};return window[je]&&"function"==typeof window[je]&&(at=window[je]),window[je]=function Rd(H,j,$,ge){function at(){return(at=(0,ue.Z)(function*(Ht,An,Zn){try{"event"===Ht?yield OA(H,j,$,An,Zn):"config"===Ht?yield Hf(H,j,$,ge,An,Zn):"consent"===Ht?H("consent","update",Zn):H("set",An)}catch(si){$s.error(si)}})).apply(this,arguments)}return function je(Ht,An,Zn){return at.apply(this,arguments)}}(at,H,j,$),{gtagCore:at,wrappedGtag:window[je]}}(Ir,ru,NA,Qd,"gtag");Ol=at,UA=Ht,Ku=!0}return Ir[ge]=function Gf(H,j,$,ge,je,at,Ht){return ec.apply(this,arguments)}(H,ru,NA,j,UA,Qd,$),new u_(H)}function Wu(){return Uh.apply(this,arguments)}function Uh(){return(Uh=(0,ue.Z)(function*(){if((0,ht.ru)()||!(0,ht.zI)()||!(0,ht.hl)())return!1;try{return yield(0,ht.eu)()}catch{return!1}})).apply(this,arguments)}const ou="@firebase/analytics";!function wg(){(0,ut._registerComponent)(new bt.wA(Fd,(j,{options:$})=>vg(j.getProvider("app").getImmediate(),j.getProvider("installations-internal").getImmediate(),$),"PUBLIC")),(0,ut._registerComponent)(new bt.wA("analytics-internal",function H(j){try{const $=j.getProvider(Fd).getImmediate();return{logEvent:(ge,je,at)=>function jd(H,j,$,ge){H=(0,ht.m9)(H),function l_(H,j,$,ge,je){return Xl.apply(this,arguments)}(Ol,Ir[H.app.options.appId],j,$,ge).catch(je=>$s.error(je))}($,ge,je,at)}}catch($){throw Hs.create("interop-component-reg-failed",{reason:$})}},"PRIVATE")),(0,ut.registerVersion)(ou,"0.8.4"),(0,ut.registerVersion)(ou,"0.8.4","esm2017")}();var Vh=se(4408),Kf=se(7565);const mv=new class jr extends Kf.v{}(class Fw extends Vh.o{constructor(j,$){super(j,$),this.scheduler=j,this.work=$}schedule(j,$=0){return $>0?super.schedule(j,$):(this.delay=$,this.state=j,this.scheduler.flush(this),this)}execute(j,$){return $>0||this.closed?super.execute(j,$):this._execute(j,$)}requestAsyncId(j,$,ge=0){return null!=ge&&ge>0||null==ge&&this.delay>0?super.requestAsyncId(j,$,ge):j.flush(this)}});var Rw=se(4986),VA=se(8505),Zf=se(9468),Ow=se(5363);const _v=new o.GfV("7.5.0"),zd="__angularfire_symbol__analyticsIsSupportedValue",Wf="__angularfire_symbol__analyticsIsSupported",d_="__angularfire_symbol__remoteConfigIsSupportedValue",Qs="__angularfire_symbol__remoteConfigIsSupported",Ll="__angularfire_symbol__messagingIsSupportedValue",Yu="__angularfire_symbol__messagingIsSupported";function vn(H,j,$){if(j){if(1===j.length)return j[0];const at=j.filter(Ht=>Ht.app===$);if(1===at.length)return at[0]}return $.container.getProvider(H).getImmediate({optional:!0})}globalThis[Wf]||(globalThis[Wf]=Wu().then(H=>globalThis[zd]=H).catch(()=>globalThis[zd]=!1)),globalThis[Yu]||(globalThis[Yu]=eu().then(H=>globalThis[Ll]=H).catch(()=>globalThis[Ll]=!1)),globalThis[Qs]||(globalThis[Qs]=xA().then(H=>globalThis[d_]=H).catch(()=>globalThis[d_]=!1));const tn=(H,j)=>{const $=j?[j]:(0,Ge.C6)(),ge=[];return $.forEach(je=>{je.container.getProvider(H).instances.forEach(Ht=>{ge.includes(Ht)||ge.push(Ht)})}),ge};function Ui(){}class jh{constructor(j,$=mv){this.zone=j,this.delegate=$}now(){return this.delegate.now()}schedule(j,$,ge){const je=this.zone;return this.delegate.schedule(function(Ht){je.runGuarded(()=>{j.apply(this,[Ht])})},$,ge)}}class zh{constructor(j){this.zone=j,this.task=null}call(j,$){const ge=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ui,{},Ui,Ui)),$.pipe((0,VA.b)({next:ge,complete:ge,error:ge})).subscribe(j).add(ge)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let rs=(()=>{class H{constructor($){this.ngZone=$,this.outsideAngular=$.runOutsideAngular(()=>new jh(Zone.current)),this.insideAngular=$.run(()=>new jh(Zone.current,Rw.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return H.\u0275fac=function($){return new($||H)(o.LFG(o.R0b))},H.\u0275prov=o.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})();function Gd(){const H=globalThis.\u0275AngularFireScheduler;if(!H)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return H}function nc(H){return Gd(),function gn(H){return function($){return($=$.lift(new zh(H.ngZone))).pipe((0,Zf.R)(H.outsideAngular),(0,Ow.Q)(H.insideAngular))}}(Gd())(H)}},2090:(zn,Ot,se)=>{"use strict";se.d(Ot,{$s:()=>yn,BH:()=>ni,DV:()=>Ss,Dv:()=>Nr,G6:()=>$t,GJ:()=>ku,L:()=>vt,LL:()=>qr,Pz:()=>xs,Sg:()=>xo,UG:()=>pn,UI:()=>oo,US:()=>bt,Wj:()=>Li,Wl:()=>Zc,Yr:()=>Hn,ZB:()=>ke,ZR:()=>Qn,aH:()=>ji,b$:()=>Mt,cI:()=>$i,dS:()=>fr,eu:()=>an,g5:()=>ue,gK:()=>Kr,gQ:()=>ao,h$:()=>Ze,hl:()=>In,hu:()=>Ge,jU:()=>Pn,lb:()=>gs,m9:()=>Pi,ne:()=>ql,p$:()=>Te,pd:()=>Vr,r3:()=>Na,ru:()=>xt,tV:()=>dt,uI:()=>Vt,ug:()=>xc,vZ:()=>rr,w1:()=>Gt,w9:()=>es,xO:()=>Dl,xb:()=>qt,z$:()=>on,zI:()=>Ct,zd:()=>dl});const Ge=function(De,xe){if(!De)throw ue(xe)},ue=function(De){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+De)},ut=function(De){const xe=[];let Ve=0;for(let Dt=0;Dt<De.length;Dt++){let lt=De.charCodeAt(Dt);lt<128?xe[Ve++]=lt:lt<2048?(xe[Ve++]=lt>>6|192,xe[Ve++]=63&lt|128):55296==(64512&lt)&&Dt+1<De.length&&56320==(64512&De.charCodeAt(Dt+1))?(lt=65536+((1023&lt)<<10)+(1023&De.charCodeAt(++Dt)),xe[Ve++]=lt>>18|240,xe[Ve++]=lt>>12&63|128,xe[Ve++]=lt>>6&63|128,xe[Ve++]=63&lt|128):(xe[Ve++]=lt>>12|224,xe[Ve++]=lt>>6&63|128,xe[Ve++]=63&lt|128)}return xe},bt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(De,xe){if(!Array.isArray(De))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ve=xe?this.byteToCharMapWebSafe_:this.byteToCharMap_,Dt=[];for(let lt=0;lt<De.length;lt+=3){const Yt=De[lt],wi=lt+1<De.length,Gi=wi?De[lt+1]:0,_r=lt+2<De.length,ai=_r?De[lt+2]:0;let Ua=(15&Gi)<<2|ai>>6,Ru=63&ai;_r||(Ru=64,wi||(Ua=64)),Dt.push(Ve[Yt>>2],Ve[(3&Yt)<<4|Gi>>4],Ve[Ua],Ve[Ru])}return Dt.join("")},encodeString(De,xe){return this.HAS_NATIVE_SUPPORT&&!xe?btoa(De):this.encodeByteArray(ut(De),xe)},decodeString(De,xe){return this.HAS_NATIVE_SUPPORT&&!xe?atob(De):function(De){const xe=[];let Ve=0,Dt=0;for(;Ve<De.length;){const lt=De[Ve++];if(lt<128)xe[Dt++]=String.fromCharCode(lt);else if(lt>191&&lt<224){const Yt=De[Ve++];xe[Dt++]=String.fromCharCode((31&lt)<<6|63&Yt)}else if(lt>239&&lt<365){const _r=((7&lt)<<18|(63&De[Ve++])<<12|(63&De[Ve++])<<6|63&De[Ve++])-65536;xe[Dt++]=String.fromCharCode(55296+(_r>>10)),xe[Dt++]=String.fromCharCode(56320+(1023&_r))}else{const Yt=De[Ve++],wi=De[Ve++];xe[Dt++]=String.fromCharCode((15&lt)<<12|(63&Yt)<<6|63&wi)}}return xe.join("")}(this.decodeStringToByteArray(De,xe))},decodeStringToByteArray(De,xe){this.init_();const Ve=xe?this.charToByteMapWebSafe_:this.charToByteMap_,Dt=[];for(let lt=0;lt<De.length;){const Yt=Ve[De.charAt(lt++)],Gi=lt<De.length?Ve[De.charAt(lt)]:0;++lt;const ai=lt<De.length?Ve[De.charAt(lt)]:64;++lt;const Bi=lt<De.length?Ve[De.charAt(lt)]:64;if(++lt,null==Yt||null==Gi||null==ai||null==Bi)throw Error();Dt.push(Yt<<2|Gi>>4),64!==ai&&(Dt.push(Gi<<4&240|ai>>2),64!==Bi&&Dt.push(ai<<6&192|Bi))}return Dt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let De=0;De<this.ENCODED_VALS.length;De++)this.byteToCharMap_[De]=this.ENCODED_VALS.charAt(De),this.charToByteMap_[this.byteToCharMap_[De]]=De,this.byteToCharMapWebSafe_[De]=this.ENCODED_VALS_WEBSAFE.charAt(De),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[De]]=De,De>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(De)]=De,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(De)]=De)}}},Ze=function(De){const xe=ut(De);return bt.encodeByteArray(xe,!0)},vt=function(De){return Ze(De).replace(/\./g,"")},dt=function(De){try{return bt.decodeString(De,!0)}catch(xe){console.error("base64Decode failed: ",xe)}return null};function Te(De){return ke(void 0,De)}function ke(De,xe){if(!(xe instanceof Object))return xe;switch(xe.constructor){case Date:return new Date(xe.getTime());case Object:void 0===De&&(De={});break;case Array:De=[];break;default:return xe}for(const Ve in xe)!xe.hasOwnProperty(Ve)||!Ke(Ve)||(De[Ve]=ke(De[Ve],xe[Ve]));return De}function Ke(De){return"__proto__"!==De}function on(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Vt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function pn(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Pn(){return"object"==typeof self&&self.self===self}function xt(){const De="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof De&&void 0!==De.id}function Mt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Gt(){const De=on();return De.indexOf("MSIE ")>=0||De.indexOf("Trident/")>=0}function Hn(){return!1}function $t(){return!pn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function In(){return"object"==typeof indexedDB}function an(){return new Promise((De,xe)=>{try{let Ve=!0;const Dt="validate-browser-context-for-indexeddb-analytics-module",lt=self.indexedDB.open(Dt);lt.onsuccess=()=>{lt.result.close(),Ve||self.indexedDB.deleteDatabase(Dt),De(!0)},lt.onupgradeneeded=()=>{Ve=!1},lt.onerror=()=>{var Yt;xe((null===(Yt=lt.error)||void 0===Yt?void 0:Yt.message)||"")}}catch(Ve){xe(Ve)}})}function Ct(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Et=()=>{try{return function Fe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const De=process.env.__FIREBASE_DEFAULTS__;return De?JSON.parse(De):void 0})()||(()=>{if(typeof document>"u")return;let De;try{De=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const xe=De&&dt(De[1]);return xe&&JSON.parse(xe)})()}catch(De){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${De}`)}},ji=()=>{var De;return null===(De=Et())||void 0===De?void 0:De.config},xs=De=>{var xe;return null===(xe=Et())||void 0===xe?void 0:xe[`_${De}`]};class ni{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((xe,Ve)=>{this.resolve=xe,this.reject=Ve})}wrapCallback(xe){return(Ve,Dt)=>{Ve?this.reject(Ve):this.resolve(Dt),"function"==typeof xe&&(this.promise.catch(()=>{}),1===xe.length?xe(Ve):xe(Ve,Dt))}}}function xo(De,xe){if(De.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Dt=xe||"demo-project",lt=De.iat||0,Yt=De.sub||De.user_id;if(!Yt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const wi=Object.assign({iss:`https://securetoken.google.com/${Dt}`,aud:Dt,iat:lt,exp:lt+3600,auth_time:lt,sub:Yt,user_id:Yt,firebase:{sign_in_provider:"custom",identities:{}}},De);return[vt(JSON.stringify({alg:"none",type:"JWT"})),vt(JSON.stringify(wi)),""].join(".")}class Qn extends Error{constructor(xe,Ve,Dt){super(Ve),this.code=xe,this.customData=Dt,this.name="FirebaseError",Object.setPrototypeOf(this,Qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qr.prototype.create)}}class qr{constructor(xe,Ve,Dt){this.service=xe,this.serviceName=Ve,this.errors=Dt}create(xe,...Ve){const Dt=Ve[0]||{},lt=`${this.service}/${xe}`,Yt=this.errors[xe],wi=Yt?function cl(De,xe){return De.replace(Pa,(Ve,Dt)=>{const lt=xe[Dt];return null!=lt?String(lt):`<${Dt}?>`})}(Yt,Dt):"Error";return new Qn(lt,`${this.serviceName}: ${wi} (${lt}).`,Dt)}}const Pa=/\{\$([^}]+)}/g;function $i(De){return JSON.parse(De)}function Zc(De){return JSON.stringify(De)}const ul=function(De){let xe={},Ve={},Dt={},lt="";try{const Yt=De.split(".");xe=$i(dt(Yt[0])||""),Ve=$i(dt(Yt[1])||""),lt=Yt[2],Dt=Ve.d||{},delete Ve.d}catch{}return{header:xe,claims:Ve,data:Dt,signature:lt}},es=function(De){const Ve=ul(De).claims;return!!Ve&&"object"==typeof Ve&&Ve.hasOwnProperty("iat")},ku=function(De){const xe=ul(De).claims;return"object"==typeof xe&&!0===xe.admin};function Na(De,xe){return Object.prototype.hasOwnProperty.call(De,xe)}function Ss(De,xe){if(Object.prototype.hasOwnProperty.call(De,xe))return De[xe]}function qt(De){for(const xe in De)if(Object.prototype.hasOwnProperty.call(De,xe))return!1;return!0}function oo(De,xe,Ve){const Dt={};for(const lt in De)Object.prototype.hasOwnProperty.call(De,lt)&&(Dt[lt]=xe.call(Ve,De[lt],lt,De));return Dt}function rr(De,xe){if(De===xe)return!0;const Ve=Object.keys(De),Dt=Object.keys(xe);for(const lt of Ve){if(!Dt.includes(lt))return!1;const Yt=De[lt],wi=xe[lt];if(va(Yt)&&va(wi)){if(!rr(Yt,wi))return!1}else if(Yt!==wi)return!1}for(const lt of Dt)if(!Ve.includes(lt))return!1;return!0}function va(De){return null!==De&&"object"==typeof De}function Dl(De){const xe=[];for(const[Ve,Dt]of Object.entries(De))Array.isArray(Dt)?Dt.forEach(lt=>{xe.push(encodeURIComponent(Ve)+"="+encodeURIComponent(lt))}):xe.push(encodeURIComponent(Ve)+"="+encodeURIComponent(Dt));return xe.length?"&"+xe.join("&"):""}function dl(De){const xe={};return De.replace(/^\?/,"").split("&").forEach(Dt=>{if(Dt){const[lt,Yt]=Dt.split("=");xe[decodeURIComponent(lt)]=decodeURIComponent(Yt)}}),xe}function Vr(De){const xe=De.indexOf("?");if(!xe)return"";const Ve=De.indexOf("#",xe);return De.substring(xe,Ve>0?Ve:void 0)}class ao{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let xe=1;xe<this.blockSize;++xe)this.pad_[xe]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(xe,Ve){Ve||(Ve=0);const Dt=this.W_;if("string"==typeof xe)for(let Bi=0;Bi<16;Bi++)Dt[Bi]=xe.charCodeAt(Ve)<<24|xe.charCodeAt(Ve+1)<<16|xe.charCodeAt(Ve+2)<<8|xe.charCodeAt(Ve+3),Ve+=4;else for(let Bi=0;Bi<16;Bi++)Dt[Bi]=xe[Ve]<<24|xe[Ve+1]<<16|xe[Ve+2]<<8|xe[Ve+3],Ve+=4;for(let Bi=16;Bi<80;Bi++){const Ua=Dt[Bi-3]^Dt[Bi-8]^Dt[Bi-14]^Dt[Bi-16];Dt[Bi]=4294967295&(Ua<<1|Ua>>>31)}let ai,Zr,lt=this.chain_[0],Yt=this.chain_[1],wi=this.chain_[2],Gi=this.chain_[3],_r=this.chain_[4];for(let Bi=0;Bi<80;Bi++){Bi<40?Bi<20?(ai=Gi^Yt&(wi^Gi),Zr=1518500249):(ai=Yt^wi^Gi,Zr=1859775393):Bi<60?(ai=Yt&wi|Gi&(Yt|wi),Zr=2400959708):(ai=Yt^wi^Gi,Zr=3395469782);const Ua=(lt<<5|lt>>>27)+ai+_r+Zr+Dt[Bi]&4294967295;_r=Gi,Gi=wi,wi=4294967295&(Yt<<30|Yt>>>2),Yt=lt,lt=Ua}this.chain_[0]=this.chain_[0]+lt&4294967295,this.chain_[1]=this.chain_[1]+Yt&4294967295,this.chain_[2]=this.chain_[2]+wi&4294967295,this.chain_[3]=this.chain_[3]+Gi&4294967295,this.chain_[4]=this.chain_[4]+_r&4294967295}update(xe,Ve){if(null==xe)return;void 0===Ve&&(Ve=xe.length);const Dt=Ve-this.blockSize;let lt=0;const Yt=this.buf_;let wi=this.inbuf_;for(;lt<Ve;){if(0===wi)for(;lt<=Dt;)this.compress_(xe,lt),lt+=this.blockSize;if("string"==typeof xe){for(;lt<Ve;)if(Yt[wi]=xe.charCodeAt(lt),++wi,++lt,wi===this.blockSize){this.compress_(Yt),wi=0;break}}else for(;lt<Ve;)if(Yt[wi]=xe[lt],++wi,++lt,wi===this.blockSize){this.compress_(Yt),wi=0;break}}this.inbuf_=wi,this.total_+=Ve}digest(){const xe=[];let Ve=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let lt=this.blockSize-1;lt>=56;lt--)this.buf_[lt]=255&Ve,Ve/=256;this.compress_(this.buf_);let Dt=0;for(let lt=0;lt<5;lt++)for(let Yt=24;Yt>=0;Yt-=8)xe[Dt]=this.chain_[lt]>>Yt&255,++Dt;return xe}}function ql(De,xe){const Ve=new yi(De,xe);return Ve.subscribe.bind(Ve)}class yi{constructor(xe,Ve){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ve,this.task.then(()=>{xe(this)}).catch(Dt=>{this.error(Dt)})}next(xe){this.forEachObserver(Ve=>{Ve.next(xe)})}error(xe){this.forEachObserver(Ve=>{Ve.error(xe)}),this.close(xe)}complete(){this.forEachObserver(xe=>{xe.complete()}),this.close()}subscribe(xe,Ve,Dt){let lt;if(void 0===xe&&void 0===Ve&&void 0===Dt)throw new Error("Missing Observer.");lt=function ii(De,xe){if("object"!=typeof De||null===De)return!1;for(const Ve of xe)if(Ve in De&&"function"==typeof De[Ve])return!0;return!1}(xe,["next","error","complete"])?xe:{next:xe,error:Ve,complete:Dt},void 0===lt.next&&(lt.next=No),void 0===lt.error&&(lt.error=No),void 0===lt.complete&&(lt.complete=No);const Yt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?lt.error(this.finalError):lt.complete()}catch{}}),this.observers.push(lt),Yt}unsubscribeOne(xe){void 0===this.observers||void 0===this.observers[xe]||(delete this.observers[xe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(xe){if(!this.finalized)for(let Ve=0;Ve<this.observers.length;Ve++)this.sendOne(Ve,xe)}sendOne(xe,Ve){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[xe])try{Ve(this.observers[xe])}catch(Dt){typeof console<"u"&&console.error&&console.error(Dt)}})}close(xe){this.finalized||(this.finalized=!0,void 0!==xe&&(this.finalError=xe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function No(){}const Nr=function(De,xe,Ve,Dt){let lt;if(Dt<xe?lt="at least "+xe:Dt>Ve&&(lt=0===Ve?"none":"no more than "+Ve),lt)throw new Error(De+" failed: Was called with "+Dt+(1===Dt?" argument.":" arguments.")+" Expects "+lt+".")};function Kr(De,xe){return`${De} failed: ${xe} argument `}function Li(De,xe,Ve,Dt){if((!Dt||Ve)&&"function"!=typeof Ve)throw new Error(Kr(De,xe)+"must be a valid function.")}function gs(De,xe,Ve,Dt){if((!Dt||Ve)&&("object"!=typeof Ve||null===Ve))throw new Error(Kr(De,xe)+"must be a valid context object.")}const fr=function(De){const xe=[];let Ve=0;for(let Dt=0;Dt<De.length;Dt++){let lt=De.charCodeAt(Dt);if(lt>=55296&&lt<=56319){const Yt=lt-55296;Dt++,Ge(Dt<De.length,"Surrogate pair missing trail surrogate."),lt=65536+(Yt<<10)+(De.charCodeAt(Dt)-56320)}lt<128?xe[Ve++]=lt:lt<2048?(xe[Ve++]=lt>>6|192,xe[Ve++]=63&lt|128):lt<65536?(xe[Ve++]=lt>>12|224,xe[Ve++]=lt>>6&63|128,xe[Ve++]=63&lt|128):(xe[Ve++]=lt>>18|240,xe[Ve++]=lt>>12&63|128,xe[Ve++]=lt>>6&63|128,xe[Ve++]=63&lt|128)}return xe},xc=function(De){let xe=0;for(let Ve=0;Ve<De.length;Ve++){const Dt=De.charCodeAt(Ve);Dt<128?xe++:Dt<2048?xe+=2:Dt>=55296&&Dt<=56319?(xe+=4,Ve++):xe+=3}return xe};function yn(De,xe=1e3,Ve=2){const Dt=xe*Math.pow(Ve,De),lt=Math.round(.5*Dt*(Math.random()-.5)*2);return Math.min(144e5,Dt+lt)}function Pi(De){return De&&De._delegate?De._delegate:De}},5867:(zn,Ot,se)=>{"use strict";se.d(Ot,{C6:()=>o.getApps,Mq:()=>o.getApp});var o=se(9681);(0,o.registerVersion)("firebase","9.14.0","app")},127:(zn,Ot,se)=>{"use strict";se.d(Ot,{Z:()=>o.Z});var o=se(3942);o.Z.registerVersion("firebase","9.14.0","app-compat")},822:(zn,Ot,se)=>{"use strict";se.r(Ot);var o=se(5861),Ge=se(3942),ue=se(2090),ut=se(9681),ht=se(1877);function dt(I,m){var y={};for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&m.indexOf(B)<0&&(y[B]=I[B]);if(null!=I&&"function"==typeof Object.getOwnPropertySymbols){var V=0;for(B=Object.getOwnPropertySymbols(I);V<B.length;V++)m.indexOf(B[V])<0&&Object.prototype.propertyIsEnumerable.call(I,B[V])&&(y[B[V]]=I[B[V]])}return y}var li=se(4859);const cl=function Qn(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Pa=function qr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},$i=new ue.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ul=new ht.Yd("@firebase/auth");function Xo(I,...m){ul.logLevel<=ht.in.ERROR&&ul.error(`Auth (${ut.SDK_VERSION}): ${I}`,...m)}function Sr(I,...m){throw Ss(I,...m)}function es(I,...m){return Ss(I,...m)}function ku(I,m,y){const B=Object.assign(Object.assign({},Pa()),{[m]:y});return new ue.LL("auth","Firebase",B).create(m,{appName:I.name})}function Na(I,m,y){if(!(m instanceof y))throw y.name!==m.constructor.name&&Sr(I,"argument-error"),ku(I,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ss(I,...m){if("string"!=typeof I){const y=m[0],B=[...m.slice(1)];return B[0]&&(B[0].appName=I.name),I._errorFactory.create(y,...B)}return $i.create(I,...m)}function qt(I,m,...y){if(!I)throw Ss(m,...y)}function oo(I){const m="INTERNAL ASSERTION FAILED: "+I;throw Xo(m),new Error(m)}function rr(I,m){I||oo(m)}const va=new Map;function Dn(I){rr(I instanceof Function,"Expected a class definition");let m=va.get(I);return m?(rr(m instanceof I,"Instance stored in cache mismatched with class"),m):(m=new I,va.set(I,m),m)}function Vr(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function ao(){return"http:"===ql()||"https:"===ql()}function ql(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class ii{constructor(m,y){this.shortDelay=m,this.longDelay=y,rr(y>m,"Short delay should be less than long delay!"),this.isMobile=(0,ue.uI)()||(0,ue.b$)()}get(){return function yi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ao()||(0,ue.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function No(I,m){rr(I.emulator,"Emulator should always be set here");const{url:y}=I.emulator;return m?`${y}${m.startsWith("/")?m.slice(1):m}`:y}class Nr{static initialize(m,y,B){this.fetchImpl=m,y&&(this.headersImpl=y),B&&(this.responseImpl=B)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void oo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void oo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void oo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Kr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ea=new ii(3e4,6e4);function Li(I,m){return I.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:I.tenantId}):m}function gs(I,m,y,B){return fr.apply(this,arguments)}function fr(){return(fr=(0,o.Z)(function*(I,m,y,B,V={}){return xc(I,V,(0,o.Z)(function*(){let Z={},Ce={};B&&("GET"===m?Ce=B:Z={body:JSON.stringify(B)});const Je=(0,ue.xO)(Object.assign({key:I.config.apiKey},Ce)).slice(1),Kt=yield I._getAdditionalHeaders();return Kt["Content-Type"]="application/json",I.languageCode&&(Kt["X-Firebase-Locale"]=I.languageCode),Nr.fetch()(ln(I,I.config.apiHost,y,Je),Object.assign({method:m,headers:Kt,referrerPolicy:"no-referrer"},Z))}))})).apply(this,arguments)}function xc(I,m,y){return zi.apply(this,arguments)}function zi(){return(zi=(0,o.Z)(function*(I,m,y){I._canInitEmulator=!1;const B=Object.assign(Object.assign({},Kr),m);try{const V=new Ut(I),Z=yield Promise.race([y(),V.promise]);V.clearNetworkTimeout();const Ce=yield Z.json();if("needConfirmation"in Ce)throw yn(I,"account-exists-with-different-credential",Ce);if(Z.ok&&!("errorMessage"in Ce))return Ce;{const Je=Z.ok?Ce.errorMessage:Ce.error.message,[Kt,Pt]=Je.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Kt)throw yn(I,"credential-already-in-use",Ce);if("EMAIL_EXISTS"===Kt)throw yn(I,"email-already-in-use",Ce);if("USER_DISABLED"===Kt)throw yn(I,"user-disabled",Ce);const Fn=B[Kt]||Kt.toLowerCase().replace(/[_\s]+/g,"-");if(Pt)throw ku(I,Fn,Pt);Sr(I,Fn)}}catch(V){if(V instanceof ue.ZR)throw V;Sr(I,"network-request-failed")}})).apply(this,arguments)}function ts(I,m,y,B){return wa.apply(this,arguments)}function wa(){return(wa=(0,o.Z)(function*(I,m,y,B,V={}){const Z=yield gs(I,m,y,B,V);return"mfaPendingCredential"in Z&&Sr(I,"multi-factor-auth-required",{_serverResponse:Z}),Z})).apply(this,arguments)}function ln(I,m,y,B){const V=`${m}${y}?${B}`;return I.config.emulator?No(I.config,V):`${I.config.apiScheme}://${V}`}class Ut{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((y,B)=>{this.timer=setTimeout(()=>B(es(this.auth,"network-request-failed")),ea.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yn(I,m,y){const B={appName:I.name};y.email&&(B.email=y.email),y.phoneNumber&&(B.phoneNumber=y.phoneNumber);const V=es(I,m,B);return V.customData._tokenResponse=y,V}function di(){return(di=(0,o.Z)(function*(I,m){return gs(I,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Pi(I,m){return De.apply(this,arguments)}function De(){return(De=(0,o.Z)(function*(I,m){return gs(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function xe(I,m){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,o.Z)(function*(I,m){return gs(I,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Dt(I){if(I)try{const m=new Date(Number(I));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function wi(){return(wi=(0,o.Z)(function*(I,m=!1){const y=(0,ue.m9)(I),B=yield y.getIdToken(m),V=_r(B);qt(V&&V.exp&&V.auth_time&&V.iat,y.auth,"internal-error");const Z="object"==typeof V.firebase?V.firebase:void 0,Ce=Z?.sign_in_provider;return{claims:V,token:B,authTime:Dt(Gi(V.auth_time)),issuedAtTime:Dt(Gi(V.iat)),expirationTime:Dt(Gi(V.exp)),signInProvider:Ce||null,signInSecondFactor:Z?.sign_in_second_factor||null}})).apply(this,arguments)}function Gi(I){return 1e3*Number(I)}function _r(I){var m;const[y,B,V]=I.split(".");if(void 0===y||void 0===B||void 0===V)return Xo("JWT malformed, contained fewer than 3 sections"),null;try{const Z=(0,ue.tV)(B);return Z?JSON.parse(Z):(Xo("Failed to decode base64 JWT payload"),null)}catch(Z){return Xo("Caught error parsing JWT payload as JSON",null===(m=Z)||void 0===m?void 0:m.toString()),null}}function Zr(I,m){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,o.Z)(function*(I,m,y=!1){if(y)return m;try{return yield m}catch(B){throw B instanceof ue.ZR&&Ua(B)&&I.auth.currentUser===I&&(yield I.auth.signOut()),B}})).apply(this,arguments)}function Ua({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class Ru{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var y;if(m){const B=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),B}{this.errorBackoff=3e4;const V=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,V)}}schedule(m=!1){var y=this;if(!this.isRunning)return;const B=this.getInterval(m);this.timerId=setTimeout((0,o.Z)(function*(){yield y.iteration()}),B)}iteration(){var m=this;return(0,o.Z)(function*(){var y;try{yield m.user.getIdToken(!0)}catch(B){return void("auth/network-request-failed"===(null===(y=B)||void 0===y?void 0:y.code)&&m.schedule(!0))}m.schedule()})()}}class Uo{constructor(m,y){this.createdAt=m,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dt(this.lastLoginAt),this.creationTime=Dt(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Sc(I){return bA.apply(this,arguments)}function bA(){return(bA=(0,o.Z)(function*(I){var m;const y=I.auth,B=yield I.getIdToken(),V=yield Zr(I,xe(y,{idToken:B}));qt(V?.users.length,y,"internal-error");const Z=V.users[0];I._notifyReloadListener(Z);const Ce=null!==(m=Z.providerUserInfo)&&void 0!==m&&m.length?cg(Z.providerUserInfo):[],Je=kf(I.providerData,Ce),Fn=!!I.isAnonymous&&!(I.email&&Z.passwordHash||Je?.length),kn={uid:Z.localId,displayName:Z.displayName||null,photoURL:Z.photoUrl||null,email:Z.email||null,emailVerified:Z.emailVerified||!1,phoneNumber:Z.phoneNumber||null,tenantId:Z.tenantId||null,providerData:Je,metadata:new Uo(Z.createdAt,Z.lastLoginAt),isAnonymous:Fn};Object.assign(I,kn)})).apply(this,arguments)}function vh(){return(vh=(0,o.Z)(function*(I){const m=(0,ue.m9)(I);yield Sc(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function kf(I,m){return[...I.filter(B=>!m.some(V=>V.providerId===B.providerId)),...m]}function cg(I){return I.map(m=>{var{providerId:y}=m,B=dt(m,["providerId"]);return{providerId:y,uid:B.rawId||"",displayName:B.displayName||null,email:B.email||null,phoneNumber:B.phoneNumber||null,photoURL:B.photoUrl||null}})}function CA(){return(CA=(0,o.Z)(function*(I,m){const y=yield xc(I,{},(0,o.Z)(function*(){const B=(0,ue.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:V,apiKey:Z}=I.config,Ce=ln(I,V,"/v1/token",`key=${Z}`),Je=yield I._getAdditionalHeaders();return Je["Content-Type"]="application/x-www-form-urlencoded",Nr.fetch()(Ce,{method:"POST",headers:Je,body:B})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class bd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){qt(m.idToken,"internal-error"),qt(typeof m.idToken<"u","internal-error"),qt(typeof m.refreshToken<"u","internal-error");const y="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function ai(I){const m=_r(I);return qt(m,"internal-error"),qt(typeof m.exp<"u","internal-error"),qt(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,y)}getToken(m,y=!1){var B=this;return(0,o.Z)(function*(){return qt(!B.accessToken||B.refreshToken,m,"user-token-expired"),y||!B.accessToken||B.isExpired?B.refreshToken?(yield B.refresh(m,B.refreshToken),B.accessToken):null:B.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,y){var B=this;return(0,o.Z)(function*(){const{accessToken:V,refreshToken:Z,expiresIn:Ce}=yield function wh(I,m){return CA.apply(this,arguments)}(m,y);B.updateTokensAndExpiration(V,Z,Number(Ce))})()}updateTokensAndExpiration(m,y,B){this.refreshToken=y||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*B}static fromJSON(m,y){const{refreshToken:B,accessToken:V,expirationTime:Z}=y,Ce=new bd;return B&&(qt("string"==typeof B,"internal-error",{appName:m}),Ce.refreshToken=B),V&&(qt("string"==typeof V,"internal-error",{appName:m}),Ce.accessToken=V),Z&&(qt("number"==typeof Z,"internal-error",{appName:m}),Ce.expirationTime=Z),Ce}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new bd,this.toJSON())}_performRefresh(){return oo("not implemented")}}function ta(I,m){qt("string"==typeof I||typeof I>"u","internal-error",{appName:m})}class hl{constructor(m){var{uid:y,auth:B,stsTokenManager:V}=m,Z=dt(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ru(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=B,this.stsTokenManager=V,this.accessToken=V.accessToken,this.displayName=Z.displayName||null,this.email=Z.email||null,this.emailVerified=Z.emailVerified||!1,this.phoneNumber=Z.phoneNumber||null,this.photoURL=Z.photoURL||null,this.isAnonymous=Z.isAnonymous||!1,this.tenantId=Z.tenantId||null,this.providerData=Z.providerData?[...Z.providerData]:[],this.metadata=new Uo(Z.createdAt||void 0,Z.lastLoginAt||void 0)}getIdToken(m){var y=this;return(0,o.Z)(function*(){const B=yield Zr(y,y.stsTokenManager.getToken(y.auth,m));return qt(B,y.auth,"internal-error"),y.accessToken!==B&&(y.accessToken=B,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),B})()}getIdTokenResult(m){return function Yt(I){return wi.apply(this,arguments)}(this,m)}reload(){return function wd(I){return vh.apply(this,arguments)}(this)}_assign(m){this!==m&&(qt(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(y=>Object.assign({},y)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new hl(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){qt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,y=!1){var B=this;return(0,o.Z)(function*(){let V=!1;m.idToken&&m.idToken!==B.stsTokenManager.accessToken&&(B.stsTokenManager.updateFromServerResponse(m),V=!0),y&&(yield Sc(B)),yield B.auth._persistUserIfCurrent(B),V&&B.auth._notifyListenersIfCurrent(B)})()}delete(){var m=this;return(0,o.Z)(function*(){const y=yield m.getIdToken();return yield Zr(m,function ui(I,m){return di.apply(this,arguments)}(m.auth,{idToken:y})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,y){var B,V,Z,Ce,Je,Kt,Pt,Fn;const kn=null!==(B=y.displayName)&&void 0!==B?B:void 0,Ji=null!==(V=y.email)&&void 0!==V?V:void 0,zo=null!==(Z=y.phoneNumber)&&void 0!==Z?Z:void 0,Xd=null!==(Ce=y.photoURL)&&void 0!==Ce?Ce:void 0,ed=null!==(Je=y.tenantId)&&void 0!==Je?Je:void 0,E_=null!==(Kt=y._redirectEventId)&&void 0!==Kt?Kt:void 0,I_=null!==(Pt=y.createdAt)&&void 0!==Pt?Pt:void 0,eh=null!==(Fn=y.lastLoginAt)&&void 0!==Fn?Fn:void 0,{uid:td,emailVerified:Wg,isAnonymous:mp,providerData:nd,stsTokenManager:th}=y;qt(td&&th,m,"internal-error");const Vw=bd.fromJSON(this.name,th);qt("string"==typeof td,m,"internal-error"),ta(kn,m.name),ta(Ji,m.name),qt("boolean"==typeof Wg,m,"internal-error"),qt("boolean"==typeof mp,m,"internal-error"),ta(zo,m.name),ta(Xd,m.name),ta(ed,m.name),ta(E_,m.name),ta(I_,m.name),ta(eh,m.name);const Bs=new hl({uid:td,auth:m,email:Ji,emailVerified:Wg,displayName:kn,isAnonymous:mp,photoURL:Xd,phoneNumber:zo,tenantId:ed,stsTokenManager:Vw,createdAt:I_,lastLoginAt:eh});return nd&&Array.isArray(nd)&&(Bs.providerData=nd.map(Yg=>Object.assign({},Yg))),E_&&(Bs._redirectEventId=E_),Bs}static _fromIdTokenResponse(m,y,B=!1){return(0,o.Z)(function*(){const V=new bd;V.updateFromServerResponse(y);const Z=new hl({uid:y.localId,auth:m,stsTokenManager:V,isAnonymous:B});return yield Sc(Z),Z})()}}const ns=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(y,B){var V=this;return(0,o.Z)(function*(){V.storage[y]=B})()}_get(y){var B=this;return(0,o.Z)(function*(){const V=B.storage[y];return void 0===V?null:V})()}_remove(y){var B=this;return(0,o.Z)(function*(){delete B.storage[y]})()}_addListener(y,B){}_removeListener(y,B){}}return I.type="NONE",I})();function Wr(I,m,y){return`firebase:${I}:${m}:${y}`}class us{constructor(m,y,B){this.persistence=m,this.auth=y,this.userKey=B;const{config:V,name:Z}=this.auth;this.fullUserKey=Wr(this.userKey,V.apiKey,Z),this.fullPersistenceKey=Wr("persistence",V.apiKey,Z),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,o.Z)(function*(){const y=yield m.persistence._get(m.fullUserKey);return y?hl._fromJSON(m.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var y=this;return(0,o.Z)(function*(){if(y.persistence===m)return;const B=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=m,B?y.setCurrentUser(B):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,y,B="authUser"){return(0,o.Z)(function*(){if(!y.length)return new us(Dn(ns),m,B);const V=(yield Promise.all(y.map(function(){var Pt=(0,o.Z)(function*(Fn){if(yield Fn._isAvailable())return Fn});return function(Fn){return Pt.apply(this,arguments)}}()))).filter(Pt=>Pt);let Z=V[0]||Dn(ns);const Ce=Wr(B,m.config.apiKey,m.name);let Je=null;for(const Pt of y)try{const Fn=yield Pt._get(Ce);if(Fn){const kn=hl._fromJSON(m,Fn);Pt!==Z&&(Je=kn),Z=Pt;break}}catch{}const Kt=V.filter(Pt=>Pt._shouldAllowMigration);return Z._shouldAllowMigration&&Kt.length?(Z=Kt[0],Je&&(yield Z._set(Ce,Je.toJSON())),yield Promise.all(y.map(function(){var Pt=(0,o.Z)(function*(Fn){if(Fn!==Z)try{yield Fn._remove(Ce)}catch{}});return function(Fn){return Pt.apply(this,arguments)}}())),new us(Z,m,B)):new us(Z,m,B)})()}}function na(I){const m=I.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(is(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Es(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(ds(m))return"Blackberry";if(Is(m))return"Webos";if(_n(m))return"Safari";if((m.includes("chrome/")||bi(m))&&!m.includes("edge/"))return"Chrome";if(So(m))return"Android";{const B=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===B?.length)return B[1]}return"Other"}function Es(I=(0,ue.z$)()){return/firefox\//i.test(I)}function _n(I=(0,ue.z$)()){const m=I.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function bi(I=(0,ue.z$)()){return/crios\//i.test(I)}function is(I=(0,ue.z$)()){return/iemobile/i.test(I)}function So(I=(0,ue.z$)()){return/android/i.test(I)}function ds(I=(0,ue.z$)()){return/blackberry/i.test(I)}function Is(I=(0,ue.z$)()){return/webos/i.test(I)}function Eo(I=(0,ue.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Di(I=(0,ue.z$)()){return Eo(I)||So(I)||Is(I)||ds(I)||/windows phone/i.test(I)||is(I)}function Wc(I,m=[]){let y;switch(I){case"Browser":y=na((0,ue.z$)());break;case"Worker":y=`${na((0,ue.z$)())}-${I}`;break;default:y=I}const B=m.length?m.join(","):"FirebaseCore-web";return`${y}/JsCore/${ut.SDK_VERSION}/${B}`}class ug{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,y){const B=Z=>new Promise((Ce,Je)=>{try{Ce(m(Z))}catch(Kt){Je(Kt)}});B.onAbort=y,this.queue.push(B);const V=this.queue.length-1;return()=>{this.queue[V]=()=>Promise.resolve()}}runMiddleware(m){var y=this;return(0,o.Z)(function*(){var B;if(y.auth.currentUser===m)return;const V=[];try{for(const Z of y.queue)yield Z(m),Z.onAbort&&V.push(Z.onAbort)}catch(Z){V.reverse();for(const Ce of V)try{Ce()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:null===(B=Z)||void 0===B?void 0:B.message})}})()}}class Yc{constructor(m,y,B){this.app=m,this.heartbeatServiceProvider=y,this.config=B,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cd(this),this.idTokenSubscription=new Cd(this),this.beforeStateQueue=new ug(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$i,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=B.sdkClientVersion}_initializeWithPersistence(m,y){var B=this;return y&&(this._popupRedirectResolver=Dn(y)),this._initializationPromise=this.queue((0,o.Z)(function*(){var V,Z;if(!B._deleted&&(B.persistenceManager=yield us.create(B,m),!B._deleted)){if(null!==(V=B._popupRedirectResolver)&&void 0!==V&&V._shouldInitProactively)try{yield B._popupRedirectResolver._initialize(B)}catch{}yield B.initializeCurrentUser(y),B.lastNotifiedUid=(null===(Z=B.currentUser)||void 0===Z?void 0:Z.uid)||null,!B._deleted&&(B._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,o.Z)(function*(){if(m._deleted)return;const y=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||y){if(m.currentUser&&y&&m.currentUser.uid===y.uid)return m._currentUser._assign(y),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(y,!0)}})()}initializeCurrentUser(m){var y=this;return(0,o.Z)(function*(){var B;const V=yield y.assertedPersistence.getCurrentUser();let Z=V,Ce=!1;if(m&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Je=null===(B=y.redirectUser)||void 0===B?void 0:B._redirectEventId,Kt=Z?._redirectEventId,Pt=yield y.tryRedirectSignIn(m);(!Je||Je===Kt)&&Pt?.user&&(Z=Pt.user,Ce=!0)}if(!Z)return y.directlySetCurrentUser(null);if(!Z._redirectEventId){if(Ce)try{yield y.beforeStateQueue.runMiddleware(Z)}catch(Je){Z=V,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Je))}return Z?y.reloadAndSetCurrentUserOrClear(Z):y.directlySetCurrentUser(null)}return qt(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===Z._redirectEventId?y.directlySetCurrentUser(Z):y.reloadAndSetCurrentUserOrClear(Z)})()}tryRedirectSignIn(m){var y=this;return(0,o.Z)(function*(){let B=null;try{B=yield y._popupRedirectResolver._completeRedirectFn(y,m,!0)}catch{yield y._setRedirectUser(null)}return B})()}reloadAndSetCurrentUserOrClear(m){var y=this;return(0,o.Z)(function*(){var B;try{yield Sc(m)}catch(V){if("auth/network-request-failed"!==(null===(B=V)||void 0===B?void 0:B.code))return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Jn(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var m=this;return(0,o.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var y=this;return(0,o.Z)(function*(){const B=m?(0,ue.m9)(m):null;return B&&qt(B.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(B&&B._clone(y))})()}_updateCurrentUser(m,y=!1){var B=this;return(0,o.Z)(function*(){if(!B._deleted)return m&&qt(B.tenantId===m.tenantId,B,"tenant-id-mismatch"),y||(yield B.beforeStateQueue.runMiddleware(m)),B.queue((0,o.Z)(function*(){yield B.directlySetCurrentUser(m),B.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,o.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var y=this;return this.queue((0,o.Z)(function*(){yield y.assertedPersistence.setPersistence(Dn(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new ue.LL("auth","Firebase",m())}onAuthStateChanged(m,y,B){return this.registerStateListener(this.authStateSubscription,m,y,B)}beforeAuthStateChanged(m,y){return this.beforeStateQueue.pushCallback(m,y)}onIdTokenChanged(m,y,B){return this.registerStateListener(this.idTokenSubscription,m,y,B)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,y){var B=this;return(0,o.Z)(function*(){const V=yield B.getOrInitRedirectPersistenceManager(y);return null===m?V.removeCurrentUser():V.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var y=this;return(0,o.Z)(function*(){if(!y.redirectPersistenceManager){const B=m&&Dn(m)||y._popupRedirectResolver;qt(B,y,"argument-error"),y.redirectPersistenceManager=yield us.create(y,[Dn(B._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(m){var y=this;return(0,o.Z)(function*(){var B,V;return y._isInitialized&&(yield y.queue((0,o.Z)(function*(){}))),(null===(B=y._currentUser)||void 0===B?void 0:B._redirectEventId)===m?y._currentUser:(null===(V=y.redirectUser)||void 0===V?void 0:V._redirectEventId)===m?y.redirectUser:null})()}_persistUserIfCurrent(m){var y=this;return(0,o.Z)(function*(){if(m===y.currentUser)return y.queue((0,o.Z)(function*(){return y.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const B=null!==(y=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==B&&(this.lastNotifiedUid=B,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,y,B,V){if(this._deleted)return()=>{};const Z="function"==typeof y?y:y.next.bind(y),Ce=this._isInitialized?Promise.resolve():this._initializationPromise;return qt(Ce,this,"internal-error"),Ce.then(()=>Z(this.currentUser)),"function"==typeof y?m.addObserver(y,B,V):m.addObserver(y)}directlySetCurrentUser(m){var y=this;return(0,o.Z)(function*(){y.currentUser&&y.currentUser!==m&&y._currentUser._stopProactiveRefresh(),m&&y.isProactiveRefreshEnabled&&m._startProactiveRefresh(),y.currentUser=m,m?yield y.assertedPersistence.setCurrentUser(m):yield y.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return qt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Wc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,o.Z)(function*(){var y;const B={"X-Client-Version":m.clientVersion};m.app.options.appId&&(B["X-Firebase-gmpid"]=m.app.options.appId);const V=yield null===(y=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return V&&(B["X-Firebase-Client"]=V),B})()}}function pr(I){return(0,ue.m9)(I)}class Cd{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,ue.ne)(y=>this.observer=y)}get next(){return qt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Tl(I){const m=I.indexOf(":");return m<0?"":I.substr(0,m+1)}function Ha(I){if(!I)return null;const m=Number(I);return isNaN(m)?null:m}class Pu{constructor(m,y){this.providerId=m,this.signInMethod=y}toJSON(){return oo("not implemented")}_getIdTokenResponse(m){return oo("not implemented")}_linkToIdToken(m,y){return oo("not implemented")}_getReauthenticationResolver(m){return oo("not implemented")}}function Nu(I,m){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,o.Z)(function*(I,m){return gs(I,"POST","/v1/accounts:resetPassword",Li(I,m))})).apply(this,arguments)}function xd(I,m){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,o.Z)(function*(I,m){return gs(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Al(I,m){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,o.Z)(function*(I,m){return gs(I,"POST","/v1/accounts:update",Li(I,m))})).apply(this,arguments)}function ia(){return(ia=(0,o.Z)(function*(I,m){return ts(I,"POST","/v1/accounts:signInWithPassword",Li(I,m))})).apply(this,arguments)}function ba(I,m){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,o.Z)(function*(I,m){return gs(I,"POST","/v1/accounts:sendOobCode",Li(I,m))})).apply(this,arguments)}function Sd(I,m){return xh.apply(this,arguments)}function xh(){return(xh=(0,o.Z)(function*(I,m){return ba(I,m)})).apply(this,arguments)}function ms(I,m){return xA.apply(this,arguments)}function xA(){return(xA=(0,o.Z)(function*(I,m){return ba(I,m)})).apply(this,arguments)}function Rf(I,m){return SA.apply(this,arguments)}function SA(){return(SA=(0,o.Z)(function*(I,m){return ba(I,m)})).apply(this,arguments)}function Xm(I,m){return EA.apply(this,arguments)}function EA(){return(EA=(0,o.Z)(function*(I,m){return ba(I,m)})).apply(this,arguments)}function IA(){return(IA=(0,o.Z)(function*(I,m){return ts(I,"POST","/v1/accounts:signInWithEmailLink",Li(I,m))})).apply(this,arguments)}function Sh(){return(Sh=(0,o.Z)(function*(I,m){return ts(I,"POST","/v1/accounts:signInWithEmailLink",Li(I,m))})).apply(this,arguments)}class Ed extends Pu{constructor(m,y,B,V=null){super("password",B),this._email=m,this._password=y,this._tenantId=V}static _fromEmailAndPassword(m,y){return new Ed(m,y,"password")}static _fromEmailAndCode(m,y,B=null){return new Ed(m,y,"emailLink",B)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(m){var y=this;return(0,o.Z)(function*(){switch(y.signInMethod){case"password":return function Jm(I,m){return ia.apply(this,arguments)}(m,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function e_(I,m){return IA.apply(this,arguments)}(m,{email:y._email,oobCode:y._password});default:Sr(m,"internal-error")}})()}_linkToIdToken(m,y){var B=this;return(0,o.Z)(function*(){switch(B.signInMethod){case"password":return xd(m,{idToken:y,returnSecureToken:!0,email:B._email,password:B._password});case"emailLink":return function t_(I,m){return Sh.apply(this,arguments)}(m,{idToken:y,email:B._email,oobCode:B._password});default:Sr(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Uu(I,m){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,o.Z)(function*(I,m){return ts(I,"POST","/v1/accounts:signInWithIdp",Li(I,m))})).apply(this,arguments)}class ra extends Pu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const y=new ra(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(y.idToken=m.idToken),m.accessToken&&(y.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(y.nonce=m.nonce),m.pendingToken&&(y.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(y.accessToken=m.oauthToken,y.secret=m.oauthTokenSecret):Sr("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:B,signInMethod:V}=y,Z=dt(y,["providerId","signInMethod"]);if(!B||!V)return null;const Ce=new ra(B,V);return Ce.idToken=Z.idToken||void 0,Ce.accessToken=Z.accessToken||void 0,Ce.secret=Z.secret,Ce.nonce=Z.nonce,Ce.pendingToken=Z.pendingToken||null,Ce}_getIdTokenResponse(m){return Uu(m,this.buildRequest())}_linkToIdToken(m,y){const B=this.buildRequest();return B.idToken=y,Uu(m,B)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,Uu(m,y)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),m.postBody=(0,ue.xO)(y)}return m}}function dg(I,m){return hg.apply(this,arguments)}function hg(){return(hg=(0,o.Z)(function*(I,m){return gs(I,"POST","/v1/accounts:sendVerificationCode",Li(I,m))})).apply(this,arguments)}function Zl(){return(Zl=(0,o.Z)(function*(I,m){return ts(I,"POST","/v1/accounts:signInWithPhoneNumber",Li(I,m))})).apply(this,arguments)}function DA(){return(DA=(0,o.Z)(function*(I,m){const y=yield ts(I,"POST","/v1/accounts:signInWithPhoneNumber",Li(I,m));if(y.temporaryProof)throw yn(I,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const Av={USER_NOT_FOUND:"user-not-found"};function _s(){return(_s=(0,o.Z)(function*(I,m){return ts(I,"POST","/v1/accounts:signInWithPhoneNumber",Li(I,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Av)})).apply(this,arguments)}class fl extends Pu{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,y){return new fl({verificationId:m,verificationCode:y})}static _fromTokenResponse(m,y){return new fl({phoneNumber:m,temporaryProof:y})}_getIdTokenResponse(m){return function n_(I,m){return Zl.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,y){return function Ca(I,m){return DA.apply(this,arguments)}(m,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Mw(I,m){return _s.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:y,verificationId:B,verificationCode:V}=this.params;return m&&y?{temporaryProof:m,phoneNumber:y}:{sessionInfo:B,code:V}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:y,verificationCode:B,phoneNumber:V,temporaryProof:Z}=m;return B||y||V||Z?new fl({verificationId:y,verificationCode:B,phoneNumber:V,temporaryProof:Z}):null}}class Id{constructor(m){var y,B,V,Z,Ce,Je;const Kt=(0,ue.zd)((0,ue.pd)(m)),Pt=null!==(y=Kt.apiKey)&&void 0!==y?y:null,Fn=null!==(B=Kt.oobCode)&&void 0!==B?B:null,kn=function $c(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(V=Kt.mode)&&void 0!==V?V:null);qt(Pt&&Fn&&kn,"argument-error"),this.apiKey=Pt,this.operation=kn,this.code=Fn,this.continueUrl=null!==(Z=Kt.continueUrl)&&void 0!==Z?Z:null,this.languageCode=null!==(Ce=Kt.languageCode)&&void 0!==Ce?Ce:null,this.tenantId=null!==(Je=Kt.tenantId)&&void 0!==Je?Je:null}static parseLink(m){const y=function Of(I){const m=(0,ue.zd)((0,ue.pd)(I)).link,y=m?(0,ue.zd)((0,ue.pd)(m)).deep_link_id:null,B=(0,ue.zd)((0,ue.pd)(I)).deep_link_id;return(B?(0,ue.zd)((0,ue.pd)(B)).link:null)||B||y||m||I}(m);try{return new Id(y)}catch{return null}}}let Eh=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(y,B){return Ed._fromEmailAndPassword(y,B)}static credentialWithLink(y,B){const V=Id.parseLink(B);return qt(V,"argument-error"),Ed._fromEmailAndCode(y,V.code,V.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class pl{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Hu extends pl{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Wl extends Hu{static credentialFromJSON(m){const y="string"==typeof m?JSON.parse(m):m;return qt("providerId"in y&&"signInMethod"in y,"argument-error"),ra._fromParams(y)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return qt(m.idToken||m.accessToken,"argument-error"),ra._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Wl.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Wl.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:y,oauthAccessToken:B,oauthTokenSecret:V,pendingToken:Z,nonce:Ce,providerId:Je}=m;if(!B&&!V&&!y&&!Z||!Je)return null;try{return new Wl(Je)._credential({idToken:y,accessToken:B,nonce:Ce,pendingToken:Z})}catch{return null}}}let Ag=(()=>{class I extends Hu{constructor(){super("facebook.com")}static credential(y){return ra._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return I.credential(y.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Er=(()=>{class I extends Hu{constructor(){super("google.com"),this.addScope("profile")}static credential(y,B){return ra._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:B})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:B,oauthAccessToken:V}=y;if(!B&&!V)return null;try{return I.credential(B,V)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Ih=(()=>{class I extends Hu{constructor(){super("github.com")}static credential(y){return ra._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return I.credential(y.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Ml extends Pu{constructor(m,y){super(m,m),this.pendingToken=y}_getIdTokenResponse(m){return Uu(m,this.buildRequest())}_linkToIdToken(m,y){const B=this.buildRequest();return B.idToken=y,Uu(m,B)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,Uu(m,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:B,signInMethod:V,pendingToken:Z}=y;return B&&V&&Z&&B===V?new Ml(B,Z):null}static _create(m,y){return new Ml(m,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class TA extends pl{constructor(m){qt(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return TA.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return TA.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const y=Ml.fromJSON(m);return qt(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:y,providerId:B}=m;if(!y||!B)return null;try{return Ml._create(B,y)}catch{return null}}}let Ks=(()=>{class I extends Hu{constructor(){super("twitter.com")}static credential(y,B){return ra._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:B})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:B,oauthTokenSecret:V}=y;if(!B||!V)return null;try{return I.credential(B,V)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function MA(I,m){return BA.apply(this,arguments)}function BA(){return(BA=(0,o.Z)(function*(I,m){return ts(I,"POST","/v1/accounts:signUp",Li(I,m))})).apply(this,arguments)}class Do{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,y,B,V=!1){return(0,o.Z)(function*(){const Z=yield hl._fromIdTokenResponse(m,B,V),Ce=sa(B);return new Do({user:Z,providerId:Ce,_tokenResponse:B,operationType:y})})()}static _forOperation(m,y,B){return(0,o.Z)(function*(){yield m._updateTokensIfNecessary(B,!0);const V=sa(B);return new Do({user:m,providerId:V,_tokenResponse:B,operationType:y})})()}}function sa(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function FA(){return(FA=(0,o.Z)(function*(I){var m;const y=pr(I);if(yield y._initializationPromise,null!==(m=y.currentUser)&&void 0!==m&&m.isAnonymous)return new Do({user:y.currentUser,providerId:null,operationType:"signIn"});const B=yield MA(y,{returnSecureToken:!0}),V=yield Do._fromIdTokenResponse(y,"signIn",B,!0);return yield y._updateCurrentUser(V.user),V})).apply(this,arguments)}class Qa extends ue.ZR{constructor(m,y,B,V){var Z;super(y.code,y.message),this.operationType=B,this.user=V,Object.setPrototypeOf(this,Qa.prototype),this.customData={appName:m.name,tenantId:null!==(Z=m.tenantId)&&void 0!==Z?Z:void 0,_serverResponse:y.customData._serverResponse,operationType:B}}static _fromErrorAndOperation(m,y,B,V){return new Qa(m,y,B,V)}}function Ho(I,m,y,B){return("reauthenticate"===m?y._getReauthenticationResolver(I):y._getIdTokenResponse(I)).catch(Z=>{throw"auth/multi-factor-auth-required"===Z.code?Qa._fromErrorAndOperation(I,Z,m,B):Z})}function Dh(I){return new Set(I.map(({providerId:m})=>m).filter(m=>!!m))}function Yl(){return(Yl=(0,o.Z)(function*(I,m){const y=(0,ue.m9)(I);yield Jc(!0,y,m);const{providerUserInfo:B}=yield Pi(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[m]}),V=Dh(B||[]);return y.providerData=y.providerData.filter(Z=>V.has(Z.providerId)),V.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function qi(I,m){return Td.apply(this,arguments)}function Td(){return(Td=(0,o.Z)(function*(I,m,y=!1){const B=yield Zr(I,m._linkToIdToken(I.auth,yield I.getIdToken()),y);return Do._forOperation(I,"link",B)})).apply(this,arguments)}function Jc(I,m,y){return ci.apply(this,arguments)}function ci(){return(ci=(0,o.Z)(function*(I,m,y){yield Sc(m);const V=!1===I?"provider-already-linked":"no-such-provider";qt(Dh(m.providerData).has(y)===I,m.auth,V)})).apply(this,arguments)}function Xc(I,m){return br.apply(this,arguments)}function br(){return(br=(0,o.Z)(function*(I,m,y=!1){var B;const{auth:V}=I,Z="reauthenticate";try{const Ce=yield Zr(I,Ho(V,Z,m,I),y);qt(Ce.idToken,V,"internal-error");const Je=_r(Ce.idToken);qt(Je,V,"internal-error");const{sub:Kt}=Je;return qt(I.uid===Kt,V,"user-mismatch"),Do._forOperation(I,Z,Ce)}catch(Ce){throw"auth/user-not-found"===(null===(B=Ce)||void 0===B?void 0:B.code)&&Sr(V,"user-mismatch"),Ce}})).apply(this,arguments)}function i_(I,m){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,o.Z)(function*(I,m,y=!1){const B="signIn",V=yield Ho(I,B,m),Z=yield Do._fromIdTokenResponse(I,B,V);return y||(yield I._updateCurrentUser(Z.user)),Z})).apply(this,arguments)}function ys(I,m){return kA.apply(this,arguments)}function kA(){return(kA=(0,o.Z)(function*(I,m){return i_(pr(I),m)})).apply(this,arguments)}function co(I,m){return RA.apply(this,arguments)}function RA(){return(RA=(0,o.Z)(function*(I,m){const y=(0,ue.m9)(I);return yield Jc(!1,y,m.providerId),qi(y,m)})).apply(this,arguments)}function Rt(I,m){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,o.Z)(function*(I,m){return Xc((0,ue.m9)(I),m)})).apply(this,arguments)}function Ur(I,m){return Md.apply(this,arguments)}function Md(){return(Md=(0,o.Z)(function*(I,m){return ts(I,"POST","/v1/accounts:signInWithCustomToken",Li(I,m))})).apply(this,arguments)}function Vu(){return(Vu=(0,o.Z)(function*(I,m){const y=pr(I),B=yield Ur(y,{token:m,returnSecureToken:!0}),V=yield Do._fromIdTokenResponse(y,"signIn",B);return yield y._updateCurrentUser(V.user),V})).apply(this,arguments)}class Dc{constructor(m,y){this.factorId=m,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(m,y){return"phoneInfo"in y?Ws._fromServerResponse(m,y):Sr(m,"internal-error")}}class Ws extends Dc{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,y){return new Ws(y)}}function gl(I,m,y){var B;qt((null===(B=y.url)||void 0===B?void 0:B.length)>0,I,"invalid-continue-uri"),qt(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),m.continueUrl=y.url,m.dynamicLinkDomain=y.dynamicLinkDomain,m.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(qt(y.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),m.iOSBundleId=y.iOS.bundleId),y.android&&(qt(y.android.packageName.length>0,I,"missing-android-pkg-name"),m.androidInstallApp=y.android.installApp,m.androidMinimumVersionCode=y.android.minimumVersion,m.androidPackageName=y.android.packageName)}function ml(){return(ml=(0,o.Z)(function*(I,m,y){const B=(0,ue.m9)(I),V={requestType:"PASSWORD_RESET",email:m};y&&gl(B,V,y),yield ms(B,V)})).apply(this,arguments)}function $l(){return($l=(0,o.Z)(function*(I,m,y){yield Nu((0,ue.m9)(I),{oobCode:m,newPassword:y})})).apply(this,arguments)}function Hr(){return(Hr=(0,o.Z)(function*(I,m){yield Al((0,ue.m9)(I),{oobCode:m})})).apply(this,arguments)}function Fl(I,m){return Mh.apply(this,arguments)}function Mh(){return(Mh=(0,o.Z)(function*(I,m){const y=(0,ue.m9)(I),B=yield Nu(y,{oobCode:m}),V=B.requestType;switch(qt(V,y,"internal-error"),V){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":qt(B.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":qt(B.mfaInfo,y,"internal-error");default:qt(B.email,y,"internal-error")}let Z=null;return B.mfaInfo&&(Z=Dc._fromServerResponse(pr(y),B.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===B.requestType?B.newEmail:B.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===B.requestType?B.email:B.newEmail)||null,multiFactorInfo:Z},operation:V}})).apply(this,arguments)}function kl(){return(kl=(0,o.Z)(function*(I,m){const{data:y}=yield Fl((0,ue.m9)(I),m);return y.email})).apply(this,arguments)}function eu(){return(eu=(0,o.Z)(function*(I,m,y){const B=pr(I),V=yield MA(B,{returnSecureToken:!0,email:m,password:y}),Z=yield Do._fromIdTokenResponse(B,"signIn",V);return yield B._updateCurrentUser(Z.user),Z})).apply(this,arguments)}function Bd(){return(Bd=(0,o.Z)(function*(I,m,y){const B=(0,ue.m9)(I),V={requestType:"EMAIL_SIGNIN",email:m};qt(y.handleCodeInApp,B,"argument-error"),y&&gl(B,V,y),yield Rf(B,V)})).apply(this,arguments)}function Nf(){return(Nf=(0,o.Z)(function*(I,m,y){const B=(0,ue.m9)(I),V=Eh.credentialWithLink(m,y||Vr());return qt(V._tenantId===(B.tenantId||null),B,"tenant-id-mismatch"),ys(B,V)})).apply(this,arguments)}function Uf(I,m){return Va.apply(this,arguments)}function Va(){return(Va=(0,o.Z)(function*(I,m){return gs(I,"POST","/v1/accounts:createAuthUri",Li(I,m))})).apply(this,arguments)}function Fd(){return(Fd=(0,o.Z)(function*(I,m){const B={identifier:m,continueUri:ao()?Vr():"http://localhost"},{signinMethods:V}=yield Uf((0,ue.m9)(I),B);return V||[]})).apply(this,arguments)}function kd(){return(kd=(0,o.Z)(function*(I,m){const y=(0,ue.m9)(I),V={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};m&&gl(y.auth,V,m);const{email:Z}=yield Sd(y.auth,V);Z!==I.email&&(yield I.reload())})).apply(this,arguments)}function Fh(){return(Fh=(0,o.Z)(function*(I,m,y){const B=(0,ue.m9)(I),Z={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:m};y&&gl(B.auth,Z,y);const{email:Ce}=yield Xm(B.auth,Z);Ce!==I.email&&(yield I.reload())})).apply(this,arguments)}function gg(I,m){return $s.apply(this,arguments)}function $s(){return($s=(0,o.Z)(function*(I,m){return gs(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function _l(){return(_l=(0,o.Z)(function*(I,{displayName:m,photoURL:y}){if(void 0===m&&void 0===y)return;const B=(0,ue.m9)(I),Z={idToken:yield B.getIdToken(),displayName:m,photoUrl:y,returnSecureToken:!0},Ce=yield Zr(B,gg(B.auth,Z));B.displayName=Ce.displayName||null,B.photoURL=Ce.photoUrl||null;const Je=B.providerData.find(({providerId:Kt})=>"password"===Kt);Je&&(Je.displayName=B.displayName,Je.photoURL=B.photoURL),yield B._updateTokensIfNecessary(Ce)})).apply(this,arguments)}function tu(I,m,y){return OA.apply(this,arguments)}function OA(){return(OA=(0,o.Z)(function*(I,m,y){const{auth:B}=I,Z={idToken:yield I.getIdToken(),returnSecureToken:!0};m&&(Z.email=m),y&&(Z.password=y);const Ce=yield Zr(I,xd(B,Z));yield I._updateTokensIfNecessary(Ce,!0)})).apply(this,arguments)}class Rd{constructor(m,y,B={}){this.isNewUser=m,this.providerId=y,this.profile=B}}class mg extends Rd{constructor(m,y,B,V){super(m,y,B),this.username=V}}class Od extends Rd{constructor(m,y){super(m,"facebook.com",y)}}class LA extends mg{constructor(m,y){super(m,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class Hs extends Rd{constructor(m,y){super(m,"google.com",y)}}class Ld extends mg{constructor(m,y,B){super(m,"twitter.com",y,B)}}function Qf(I){const{user:m,_tokenResponse:y}=I;return m.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function zu(I){var m,y;if(!I)return null;const{providerId:B}=I,V=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},Z=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!B&&I?.idToken){const Ce=null===(y=null===(m=_r(I.idToken))||void 0===m?void 0:m.firebase)||void 0===y?void 0:y.sign_in_provider;if(Ce)return new Rd(Z,"anonymous"!==Ce&&"custom"!==Ce?Ce:null)}if(!B)return null;switch(B){case"facebook.com":return new Od(Z,V);case"github.com":return new LA(Z,V);case"google.com":return new Hs(Z,V);case"twitter.com":return new Ld(Z,V,I.screenName||null);case"custom":case"anonymous":return new Rd(Z,null);default:return new Rd(Z,B,V)}}(y)}class Nd{constructor(m,y,B){this.type=m,this.credential=y,this.auth=B}static _fromIdtoken(m,y){return new Nd("enroll",m,y)}static _fromMfaPendingCredential(m){return new Nd("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var y,B;if(m?.multiFactorSession){if(null!==(y=m.multiFactorSession)&&void 0!==y&&y.pendingCredential)return Nd._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(B=m.multiFactorSession)&&void 0!==B&&B.idToken)return Nd._fromIdtoken(m.multiFactorSession.idToken)}return null}}class _g{constructor(m,y,B){this.session=m,this.hints=y,this.signInResolver=B}static _fromError(m,y){const B=pr(m),V=y.customData._serverResponse,Z=(V.mfaInfo||[]).map(Je=>Dc._fromServerResponse(B,Je));qt(V.mfaPendingCredential,B,"internal-error");const Ce=Nd._fromMfaPendingCredential(V.mfaPendingCredential);return new _g(Ce,Z,function(){var Je=(0,o.Z)(function*(Kt){const Pt=yield Kt._process(B,Ce);delete V.mfaInfo,delete V.mfaPendingCredential;const Fn=Object.assign(Object.assign({},V),{idToken:Pt.idToken,refreshToken:Pt.refreshToken});switch(y.operationType){case"signIn":const kn=yield Do._fromIdTokenResponse(B,y.operationType,Fn);return yield B._updateCurrentUser(kn.user),kn;case"reauthenticate":return qt(y.user,B,"internal-error"),Do._forOperation(y.user,y.operationType,Fn);default:Sr(B,"internal-error")}});return function(Kt){return Je.apply(this,arguments)}}())}resolveSignIn(m){var y=this;return(0,o.Z)(function*(){return y.signInResolver(m)})()}}function Rh(I,m){return gs(I,"POST","/v2/accounts/mfaEnrollment:start",Li(I,m))}class Ud{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(B=>Dc._fromServerResponse(m.auth,B)))})}static _fromUser(m){return new Ud(m)}getSession(){var m=this;return(0,o.Z)(function*(){return Nd._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,y){var B=this;return(0,o.Z)(function*(){const V=m,Z=yield B.getSession(),Ce=yield Zr(B.user,V._process(B.user.auth,Z,y));return yield B.user._updateTokensIfNecessary(Ce),B.user.reload()})()}unenroll(m){var y=this;return(0,o.Z)(function*(){var B;const V="string"==typeof m?m:m.uid,Z=yield y.user.getIdToken(),Ce=yield Zr(y.user,function Xl(I,m){return gs(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Li(I,m))}(y.user.auth,{idToken:Z,mfaEnrollmentId:V}));y.enrolledFactors=y.enrolledFactors.filter(({uid:Je})=>Je!==V),yield y.user._updateTokensIfNecessary(Ce);try{yield y.user.reload()}catch(Je){if("auth/user-token-expired"!==(null===(B=Je)||void 0===B?void 0:B.code))throw Je}})()}}const Mc=new WeakMap,Gu="__sak";class Lh{constructor(m,y){this.storageRetriever=m,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Gu,"1"),this.storage.removeItem(Gu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,y){return this.storage.setItem(m,JSON.stringify(y)),Promise.resolve()}_get(m){const y=this.storage.getItem(m);return Promise.resolve(y?JSON.parse(y):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Hd=(()=>{class I extends Lh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,B)=>this.onStorageEvent(y,B),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ph(){const I=(0,ue.z$)();return _n(I)||Eo(I)}()&&function Lu(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Di(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const B of Object.keys(this.listeners)){const V=this.storage.getItem(B),Z=this.localCache[B];V!==Z&&y(B,Z,V)}}onStorageEvent(y,B=!1){if(!y.key)return void this.forAllChangedKeys((Je,Kt,Pt)=>{this.notifyListeners(Je,Pt)});const V=y.key;if(B?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Je=this.storage.getItem(V);if(y.newValue!==Je)null!==y.newValue?this.storage.setItem(V,y.newValue):this.storage.removeItem(V);else if(this.localCache[V]===y.newValue&&!B)return}const Z=()=>{const Je=this.storage.getItem(V);!B&&this.localCache[V]===Je||this.notifyListeners(V,Je)},Ce=this.storage.getItem(V);!function Ou(){return(0,ue.w1)()&&10===document.documentMode}()||Ce===y.newValue||y.newValue===y.oldValue?Z():setTimeout(Z,10)}notifyListeners(y,B){this.localCache[y]=B;const V=this.listeners[y];if(V)for(const Z of Array.from(V))Z(B&&JSON.parse(B))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,B,V)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:B,newValue:V}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,B){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(B)}_removeListener(y,B){this.listeners[y]&&(this.listeners[y].delete(B),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,B){var V=()=>super._set,Z=this;return(0,o.Z)(function*(){yield V().call(Z,y,B),Z.localCache[y]=JSON.stringify(B)})()}_get(y){var B=()=>super._get,V=this;return(0,o.Z)(function*(){const Z=yield B().call(V,y);return V.localCache[y]=JSON.stringify(Z),Z})()}_remove(y){var B=()=>super._remove,V=this;return(0,o.Z)(function*(){yield B().call(V,y),delete V.localCache[y]})()}}return I.type="LOCAL",I})(),Js=(()=>{class I extends Lh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,B){}_removeListener(y,B){}}return I.type="SESSION",I})();let Gf=(()=>{class I{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const B=this.receivers.find(Z=>Z.isListeningto(y));if(B)return B;const V=new I(y);return this.receivers.push(V),V}isListeningto(y){return this.eventTarget===y}handleEvent(y){var B=this;return(0,o.Z)(function*(){const V=y,{eventId:Z,eventType:Ce,data:Je}=V.data,Kt=B.handlersMap[Ce];if(!Kt?.size)return;V.ports[0].postMessage({status:"ack",eventId:Z,eventType:Ce});const Pt=Array.from(Kt).map(function(){var kn=(0,o.Z)(function*(Ji){return Ji(V.origin,Je)});return function(Ji){return kn.apply(this,arguments)}}()),Fn=yield function yg(I){return Promise.all(I.map(function(){var m=(0,o.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(B){return{fulfilled:!1,reason:B}}});return function(y){return m.apply(this,arguments)}}()))}(Pt);V.ports[0].postMessage({status:"done",eventId:Z,eventType:Ce,response:Fn})})()}_subscribe(y,B){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(B)}_unsubscribe(y,B){this.handlersMap[y]&&B&&this.handlersMap[y].delete(B),(!B||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function ec(I="",m=10){let y="";for(let B=0;B<m;B++)y+=Math.floor(10*Math.random());return I+y}class u_{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,y,B=50){var V=this;return(0,o.Z)(function*(){const Z=typeof MessageChannel<"u"?new MessageChannel:null;if(!Z)throw new Error("connection_unavailable");let Ce,Je;return new Promise((Kt,Pt)=>{const Fn=ec("",20);Z.port1.start();const kn=setTimeout(()=>{Pt(new Error("unsupported_event"))},B);Je={messageChannel:Z,onMessage(Ji){const zo=Ji;if(zo.data.eventId===Fn)switch(zo.data.status){case"ack":clearTimeout(kn),Ce=setTimeout(()=>{Pt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ce),Kt(zo.data.response);break;default:clearTimeout(kn),clearTimeout(Ce),Pt(new Error("invalid_response"))}}},V.handlers.add(Je),Z.port1.addEventListener("message",Je.onMessage),V.target.postMessage({eventType:m,eventId:Fn,data:y},[Z.port2])}).finally(()=>{Je&&V.removeMessageHandler(Je)})})()}}function Ir(){return window}function NA(){return typeof Ir().WorkerGlobalScope<"u"&&"function"==typeof Ir().importScripts}function Vd(){return(Vd=(0,o.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ku="firebaseLocalStorageDb",su="firebaseLocalStorage",vg="fbase_key";class HA{constructor(m){this.request=m}toPromise(){return new Promise((m,y)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Nh(I,m){return I.transaction([su],m?"readwrite":"readonly").objectStore(su)}function Uh(){const I=indexedDB.open(Ku,1);return new Promise((m,y)=>{I.addEventListener("error",()=>{y(I.error)}),I.addEventListener("upgradeneeded",()=>{const B=I.result;try{B.createObjectStore(su,{keyPath:vg})}catch(V){y(V)}}),I.addEventListener("success",(0,o.Z)(function*(){const B=I.result;B.objectStoreNames.contains(su)?m(B):(B.close(),yield function Wu(){const I=indexedDB.deleteDatabase(Ku);return new HA(I).toPromise()}(),m(yield Uh()))}))})}function Hh(I,m,y){return qf.apply(this,arguments)}function qf(){return(qf=(0,o.Z)(function*(I,m,y){const B=Nh(I,!0).put({[vg]:m,value:y});return new HA(B).toPromise()})).apply(this,arguments)}function QA(){return(QA=(0,o.Z)(function*(I,m){const y=Nh(I,!1).get(m),B=yield new HA(y).toPromise();return void 0===B?null:B.value})).apply(this,arguments)}function tc(I,m){const y=Nh(I,!0).delete(m);return new HA(y).toPromise()}const Bc=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,o.Z)(function*(){return y.db||(y.db=yield Uh()),y.db})()}_withRetries(y){var B=this;return(0,o.Z)(function*(){let V=0;for(;;)try{const Z=yield B._openDb();return yield y(Z)}catch(Z){if(V++>3)throw Z;B.db&&(B.db.close(),B.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,o.Z)(function*(){return NA()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,o.Z)(function*(){y.receiver=Gf._getInstance(function Ol(){return NA()?self:null}()),y.receiver._subscribe("keyChanged",function(){var B=(0,o.Z)(function*(V,Z){return{keyProcessed:(yield y._poll()).includes(Z.key)}});return function(V,Z){return B.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var B=(0,o.Z)(function*(V,Z){return["keyChanged"]});return function(V,Z){return B.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,o.Z)(function*(){var B,V;if(y.activeServiceWorker=yield function Qd(){return Vd.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new u_(y.activeServiceWorker);const Z=yield y.sender._send("ping",{},800);!Z||(null===(B=Z[0])||void 0===B?void 0:B.fulfilled)&&(null===(V=Z[0])||void 0===V?void 0:V.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var B=this;return(0,o.Z)(function*(){if(B.sender&&B.activeServiceWorker&&function UA(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===B.activeServiceWorker)try{yield B.sender._send("keyChanged",{key:y},B.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Uh();return yield Hh(y,Gu,"1"),yield tc(y,Gu),!0}catch{}return!1})()}_withPendingWrite(y){var B=this;return(0,o.Z)(function*(){B.pendingWrites++;try{yield y()}finally{B.pendingWrites--}})()}_set(y,B){var V=this;return(0,o.Z)(function*(){return V._withPendingWrite((0,o.Z)(function*(){return yield V._withRetries(Z=>Hh(Z,y,B)),V.localCache[y]=B,V.notifyServiceWorker(y)}))})()}_get(y){var B=this;return(0,o.Z)(function*(){const V=yield B._withRetries(Z=>function Bw(I,m){return QA.apply(this,arguments)}(Z,y));return B.localCache[y]=V,V})()}_remove(y){var B=this;return(0,o.Z)(function*(){return B._withPendingWrite((0,o.Z)(function*(){return yield B._withRetries(V=>tc(V,y)),delete B.localCache[y],B.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,o.Z)(function*(){const B=yield y._withRetries(Ce=>{const Je=Nh(Ce,!1).getAll();return new HA(Je).toPromise()});if(!B)return[];if(0!==y.pendingWrites)return[];const V=[],Z=new Set;for(const{fbase_key:Ce,value:Je}of B)Z.add(Ce),JSON.stringify(y.localCache[Ce])!==JSON.stringify(Je)&&(y.notifyListeners(Ce,Je),V.push(Ce));for(const Ce of Object.keys(y.localCache))y.localCache[Ce]&&!Z.has(Ce)&&(y.notifyListeners(Ce,null),V.push(Ce));return V})()}notifyListeners(y,B){this.localCache[y]=B;const V=this.listeners[y];if(V)for(const Z of Array.from(V))Z(B)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,B){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(B)}_removeListener(y,B){this.listeners[y]&&(this.listeners[y].delete(B),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function wg(I,m){return gs(I,"POST","/v2/accounts/mfaSignIn:start",Li(I,m))}function Kf(){return(Kf=(0,o.Z)(function*(I){return(yield gs(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function mv(I){return new Promise((m,y)=>{const B=document.createElement("script");B.setAttribute("src",I),B.onload=m,B.onerror=V=>{const Z=es("internal-error");Z.customData=V,y(Z)},B.type="text/javascript",B.charset="UTF-8",function jr(){var I,m;return null!==(m=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==m?m:document}().appendChild(B)})}function kw(I){return`__${I}${Math.floor(1e6*Math.random())}`}const Zf=1e12;class Ow{constructor(m){this.auth=m,this.counter=Zf,this._widgets=new Map}render(m,y){const B=this.counter;return this._widgets.set(B,new _v(m,this.auth.name,y||{})),this.counter++,B}reset(m){var y;const B=m||Zf;null===(y=this._widgets.get(B))||void 0===y||y.delete(),this._widgets.delete(B)}getResponse(m){var y;return(null===(y=this._widgets.get(m||Zf))||void 0===y?void 0:y.getResponse())||""}execute(m){var y=this;return(0,o.Z)(function*(){var B;return null===(B=y._widgets.get(m||Zf))||void 0===B||B.execute(),""})()}}class _v{constructor(m,y,B){this.params=B,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const V="string"==typeof m?document.getElementById(m):m;qt(V,"argument-error",{appName:y}),this.container=V,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function zd(I){const m=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let B=0;B<I;B++)m.push(y.charAt(Math.floor(Math.random()*y.length)));return m.join("")}(50);const{callback:m,"expired-callback":y}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Wf=kw("rcb"),d_=new ii(3e4,6e4);class Ll{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Ir().grecaptcha)||void 0===m||!m.render)}load(m,y=""){return qt(function Yu(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(y),m,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(Ir().grecaptcha):new Promise((B,V)=>{const Z=Ir().setTimeout(()=>{V(es(m,"network-request-failed"))},d_.get());Ir()[Wf]=()=>{Ir().clearTimeout(Z),delete Ir()[Wf];const Je=Ir().grecaptcha;if(!Je)return void V(es(m,"internal-error"));const Kt=Je.render;Je.render=(Pt,Fn)=>{const kn=Kt(Pt,Fn);return this.counter++,kn},this.hostLanguage=y,B(Je)},mv(`https://www.google.com/recaptcha/api.js??${(0,ue.xO)({onload:Wf,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(Z),V(es(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var y;return!(null===(y=Ir().grecaptcha)||void 0===y||!y.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Yf{load(m){return(0,o.Z)(function*(){return new Ow(m)})()}clearedOneInstance(){}}const yv="recaptcha",Xn={theme:"light",type:"image"};class yl{constructor(m,y=Object.assign({},Xn),B){this.parameters=y,this.type=yv,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pr(B),this.isInvisible="invisible"===this.parameters.size,qt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const V="string"==typeof m?document.getElementById(m):m;qt(V,this.auth,"argument-error"),this.container=V,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Yf:new Ll,this.validateStartingState()}verify(){var m=this;return(0,o.Z)(function*(){m.assertNotDestroyed();const y=yield m.render(),B=m.getAssertedRecaptcha();return B.getResponse(y)||new Promise(Z=>{const Ce=Je=>{!Je||(m.tokenChangeListeners.delete(Ce),Z(Je))};m.tokenChangeListeners.add(Ce),m.isInvisible&&B.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){qt(!this.parameters.sitekey,this.auth,"argument-error"),qt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),qt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return y=>{if(this.tokenChangeListeners.forEach(B=>B(y)),"function"==typeof m)m(y);else if("string"==typeof m){const B=Ir()[m];"function"==typeof B&&B(y)}}}assertNotDestroyed(){qt(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,o.Z)(function*(){if(yield m.init(),!m.widgetId){let y=m.container;if(!m.isInvisible){const B=document.createElement("div");y.appendChild(B),y=B}m.widgetId=m.getAssertedRecaptcha().render(y,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,o.Z)(function*(){qt(ao()&&!NA(),m.auth,"internal-error"),yield function vn(){let I=null;return new Promise(m=>{"complete"!==document.readyState?(I=()=>m(),window.addEventListener("load",I)):m()}).catch(m=>{throw I&&window.removeEventListener("load",I),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const y=yield function Fw(I){return Kf.apply(this,arguments)}(m.auth);qt(y,m.auth,"internal-error"),m.parameters.sitekey=y})()}getAssertedRecaptcha(){return qt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class tn{constructor(m,y){this.verificationId=m,this.onConfirmation=y}confirm(m){const y=fl._fromVerification(this.verificationId,m);return this.onConfirmation(y)}}function jh(){return(jh=(0,o.Z)(function*(I,m,y){const B=pr(I),V=yield Pl(B,m,(0,ue.m9)(y));return new tn(V,Z=>ys(B,Z))})).apply(this,arguments)}function rs(){return(rs=(0,o.Z)(function*(I,m,y){const B=(0,ue.m9)(I);yield Jc(!1,B,"phone");const V=yield Pl(B.auth,m,(0,ue.m9)(y));return new tn(V,Z=>co(B,Z))})).apply(this,arguments)}function bg(){return(bg=(0,o.Z)(function*(I,m,y){const B=(0,ue.m9)(I),V=yield Pl(B.auth,m,(0,ue.m9)(y));return new tn(V,Z=>Rt(B,Z))})).apply(this,arguments)}function Pl(I,m,y){return xa.apply(this,arguments)}function xa(){return(xa=(0,o.Z)(function*(I,m,y){var B;const V=yield y.verify();try{let Z;if(qt("string"==typeof V,I,"argument-error"),qt(y.type===yv,I,"argument-error"),Z="string"==typeof m?{phoneNumber:m}:m,"session"in Z){const Ce=Z.session;if("phoneNumber"in Z)return qt("enroll"===Ce.type,I,"internal-error"),(yield Rh(I,{idToken:Ce.credential,phoneEnrollmentInfo:{phoneNumber:Z.phoneNumber,recaptchaToken:V}})).phoneSessionInfo.sessionInfo;{qt("signin"===Ce.type,I,"internal-error");const Je=(null===(B=Z.multiFactorHint)||void 0===B?void 0:B.uid)||Z.multiFactorUid;return qt(Je,I,"missing-multi-factor-info"),(yield wg(I,{mfaPendingCredential:Ce.credential,mfaEnrollmentId:Je,phoneSignInInfo:{recaptchaToken:V}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ce}=yield dg(I,{phoneNumber:Z.phoneNumber,recaptchaToken:V});return Ce}}finally{y._reset()}})).apply(this,arguments)}function nc(){return(nc=(0,o.Z)(function*(I,m){yield qi((0,ue.m9)(I),m)})).apply(this,arguments)}let gn=(()=>{class I{constructor(y){this.providerId=I.PROVIDER_ID,this.auth=pr(y)}verifyPhoneNumber(y,B){return Pl(this.auth,y,(0,ue.m9)(B))}static credential(y,B){return fl._fromVerification(y,B)}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:B,temporaryProof:V}=y;return B&&V?fl._fromTokenResponse(B,V):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Xt(I,m){return m?Dn(m):(qt(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Cg extends Pu{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Uu(m,this._buildIdpRequest())}_linkToIdToken(m,y){return Uu(m,this._buildIdpRequest(y))}_getReauthenticationResolver(m){return Uu(m,this._buildIdpRequest())}_buildIdpRequest(m){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(y.idToken=m),y}}function H(I){return i_(I.auth,new Cg(I),I.bypassAuthState)}function j(I){const{auth:m,user:y}=I;return qt(y,m,"internal-error"),Xc(y,new Cg(I),I.bypassAuthState)}function $(I){return ge.apply(this,arguments)}function ge(){return(ge=(0,o.Z)(function*(I){const{auth:m,user:y}=I;return qt(y,m,"internal-error"),qi(y,new Cg(I),I.bypassAuthState)})).apply(this,arguments)}class je{constructor(m,y,B,V,Z=!1){this.auth=m,this.resolver=B,this.user=V,this.bypassAuthState=Z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var m=this;return new Promise(function(){var y=(0,o.Z)(function*(B,V){m.pendingPromise={resolve:B,reject:V};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(Z){m.reject(Z)}});return function(B,V){return y.apply(this,arguments)}}())}onAuthEvent(m){var y=this;return(0,o.Z)(function*(){const{urlResponse:B,sessionId:V,postBody:Z,tenantId:Ce,error:Je,type:Kt}=m;if(Je)return void y.reject(Je);const Pt={auth:y.auth,requestUri:B,sessionId:V,tenantId:Ce||void 0,postBody:Z||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Kt)(Pt))}catch(Fn){y.reject(Fn)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return H;case"linkViaPopup":case"linkViaRedirect":return $;case"reauthViaPopup":case"reauthViaRedirect":return j;default:Sr(this.auth,"internal-error")}}resolve(m){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const at=new ii(2e3,1e4);function An(){return(An=(0,o.Z)(function*(I,m,y){const B=pr(I);Na(I,m,pl);const V=Xt(B,y);return new hs(B,"signInViaPopup",m,V).executeNotNull()})).apply(this,arguments)}function si(){return(si=(0,o.Z)(function*(I,m,y){const B=(0,ue.m9)(I);Na(B.auth,m,pl);const V=Xt(B.auth,y);return new hs(B.auth,"reauthViaPopup",m,V,B).executeNotNull()})).apply(this,arguments)}function Vn(){return(Vn=(0,o.Z)(function*(I,m,y){const B=(0,ue.m9)(I);Na(B.auth,m,pl);const V=Xt(B.auth,y);return new hs(B.auth,"linkViaPopup",m,V,B).executeNotNull()})).apply(this,arguments)}let hs=(()=>{class I extends je{constructor(y,B,V,Z,Ce){super(y,B,Z,Ce),this.provider=V,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var y=this;return(0,o.Z)(function*(){const B=yield y.execute();return qt(B,y.auth,"internal-error"),B})()}onExecution(){var y=this;return(0,o.Z)(function*(){rr(1===y.filter.length,"Popup operations only handle one event");const B=ec();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],B),y.authWindow.associatedEvent=B,y.resolver._originValidation(y.auth).catch(V=>{y.reject(V)}),y.resolver._isIframeWebStorageSupported(y.auth,V=>{V||y.reject(es(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(es(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const y=()=>{var B,V;this.pollId=null!==(V=null===(B=this.authWindow)||void 0===B?void 0:B.window)&&void 0!==V&&V.closed?window.setTimeout(()=>{this.pollId=null,this.reject(es(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,at.get())};y()}}return I.currentPopupAction=null,I})();const vs=new Map;class ja extends je{constructor(m,y,B=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,B),this.eventId=null}execute(){var m=()=>super.execute,y=this;return(0,o.Z)(function*(){let B=vs.get(y.auth._key());if(!B){try{const Z=(yield function za(I,m){return Xs.apply(this,arguments)}(y.resolver,y.auth))?yield m().call(y):null;B=()=>Promise.resolve(Z)}catch(V){B=()=>Promise.reject(V)}vs.set(y.auth._key(),B)}return y.bypassAuthState||vs.set(y.auth._key(),()=>Promise.resolve(null)),B()})()}onAuthEvent(m){var y=()=>super.onAuthEvent,B=this;return(0,o.Z)(function*(){if("signInViaRedirect"===m.type)return y().call(B,m);if("unknown"!==m.type){if(m.eventId){const V=yield B.auth._redirectUserForId(m.eventId);if(V)return B.user=V,y().call(B,m);B.resolve(null)}}else B.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function Xs(){return(Xs=(0,o.Z)(function*(I,m){const y=oa(m),B=zr(I);if(!(yield B._isAvailable()))return!1;const V="true"===(yield B._get(y));return yield B._remove(y),V})).apply(this,arguments)}function Br(I,m){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,o.Z)(function*(I,m){return zr(I)._set(oa(m),"true")})).apply(this,arguments)}function Qr(I,m){vs.set(I._key(),m)}function zr(I){return Dn(I._redirectPersistence)}function oa(I){return Wr("pendingRedirect",I.config.apiKey,I.name)}function jA(){return(jA=(0,o.Z)(function*(I,m,y){const B=pr(I);Na(I,m,pl);const V=Xt(B,y);return yield Br(V,B),V._openRedirect(B,m,"signInViaRedirect")})).apply(this,arguments)}function ic(){return(ic=(0,o.Z)(function*(I,m,y){const B=(0,ue.m9)(I);Na(B.auth,m,pl);const V=Xt(B.auth,y);yield Br(V,B.auth);const Z=yield zA(B);return V._openRedirect(B.auth,m,"reauthViaRedirect",Z)})).apply(this,arguments)}function rc(){return(rc=(0,o.Z)(function*(I,m,y){const B=(0,ue.m9)(I);Na(B.auth,m,pl);const V=Xt(B.auth,y);yield Jc(!1,B,m.providerId),yield Br(V,B.auth);const Z=yield zA(B);return V._openRedirect(B.auth,m,"linkViaRedirect",Z)})).apply(this,arguments)}function $u(){return($u=(0,o.Z)(function*(I,m){return yield pr(I)._initializationPromise,Gh(I,m,!1)})).apply(this,arguments)}function Gh(I,m){return Sg.apply(this,arguments)}function Sg(){return(Sg=(0,o.Z)(function*(I,m,y=!1){const B=pr(I),V=Xt(B,m),Ce=yield new ja(B,V,y).execute();return Ce&&!y&&(delete Ce.user._redirectEventId,yield B._persistUserIfCurrent(Ce.user),yield B._setRedirectUser(null,m)),Ce})).apply(this,arguments)}function zA(I){return GA.apply(this,arguments)}function GA(){return(GA=(0,o.Z)(function*(I){const m=ec(`${I.uid}:::`);return I._redirectEventId=m,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),m})).apply(this,arguments)}class Fi{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let y=!1;return this.consumers.forEach(B=>{this.isEventForConsumer(m,B)&&(y=!0,this.sendToConsumer(m,B),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function KA(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wv(I);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=m,y=!0)),y}sendToConsumer(m,y){var B;if(m.error&&!wv(m)){const V=(null===(B=m.error.code)||void 0===B?void 0:B.split("auth/")[1])||"internal-error";y.onError(es(this.auth,V))}else y.onAuthEvent(m)}isEventForConsumer(m,y){const B=null===y.eventId||!!m.eventId&&m.eventId===y.eventId;return y.filter.includes(m.type)&&B}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qA(m))}saveEventToCache(m){this.cachedEventUids.add(qA(m)),this.lastProcessedEventTime=Date.now()}}function qA(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(m=>m).join("-")}function wv({type:I,error:m}){return"unknown"===I&&"auth/no-auth-event"===m?.code}function h_(I){return bv.apply(this,arguments)}function bv(){return(bv=(0,o.Z)(function*(I,m={}){return gs(I,"GET","/v1/projects",m)})).apply(this,arguments)}const au=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A_=/^https?/;function qh(){return(qh=(0,o.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:m}=yield h_(I);for(const y of m)try{if(Lw(y))return}catch{}Sr(I,"unauthorized-domain")})).apply(this,arguments)}function Lw(I){const m=Vr(),{protocol:y,hostname:B}=new URL(m);if(I.startsWith("chrome-extension://")){const Ce=new URL(I);return""===Ce.hostname&&""===B?"chrome-extension:"===y&&I.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===y&&Ce.hostname===B}if(!A_.test(y))return!1;if(au.test(I))return B===I;const V=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+V+"|"+V+")$","i").test(B)}const Qo=new ii(3e4,6e4);function Vo(){const I=Ir().___jsl;if(I?.H)for(const m of Object.keys(I.H))if(I.H[m].r=I.H[m].r||[],I.H[m].L=I.H[m].L||[],I.H[m].r=[...I.H[m].L],I.CP)for(let y=0;y<I.CP.length;y++)I.CP[y]=null}let Ig=null;function Cv(I){return Ig=Ig||function Eg(I){return new Promise((m,y)=>{var B,V,Z;function Ce(){Vo(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Vo(),y(es(I,"network-request-failed"))},timeout:Qo.get()})}if(null!==(V=null===(B=Ir().gapi)||void 0===B?void 0:B.iframes)&&void 0!==V&&V.Iframe)m(gapi.iframes.getContext());else{if(null===(Z=Ir().gapi)||void 0===Z||!Z.load){const Je=kw("iframefcb");return Ir()[Je]=()=>{gapi.load?Ce():y(es(I,"network-request-failed"))},mv(`https://apis.google.com/js/api.js?onload=${Je}`).catch(Kt=>y(Kt))}Ce()}}).catch(m=>{throw Ig=null,m})}(I),Ig}const f_=new ii(5e3,15e3),Sv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ev=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ep(I){const m=I.config;qt(m.authDomain,I,"auth-domain-config-required");const y=m.emulator?No(m,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,B={apiKey:m.apiKey,appName:I.name,v:ut.SDK_VERSION},V=Ev.get(I.config.apiHost);V&&(B.eid=V);const Z=I._getFrameworks();return Z.length&&(B.fw=Z.join(",")),`${y}?${(0,ue.xO)(B).slice(1)}`}function As(){return As=(0,o.Z)(function*(I){const m=yield Cv(I),y=Ir().gapi;return qt(y,I,"internal-error"),m.open({where:document.body,url:ep(I),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sv,dontclear:!0},B=>new Promise(function(){var V=(0,o.Z)(function*(Z,Ce){yield B.restyle({setHideOnLeave:!1});const Je=es(I,"network-request-failed"),Kt=Ir().setTimeout(()=>{Ce(Je)},f_.get());function Pt(){Ir().clearTimeout(Kt),Z(B)}B.ping(Pt).then(Pt,()=>{Ce(Je)})});return function(Z,Ce){return V.apply(this,arguments)}}()))}),As.apply(this,arguments)}const ei={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class cu{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Mg(I,m,y,B,V,Z){qt(I.config.authDomain,I,"auth-domain-config-required"),qt(I.config.apiKey,I,"invalid-api-key");const Ce={apiKey:I.config.apiKey,appName:I.name,authType:y,redirectUrl:B,v:ut.SDK_VERSION,eventId:V};if(m instanceof pl){m.setDefaultLanguage(I.languageCode),Ce.providerId=m.providerId||"",(0,ue.xb)(m.getCustomParameters())||(Ce.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Kt,Pt]of Object.entries(Z||{}))Ce[Kt]=Pt}if(m instanceof Hu){const Kt=m.getScopes().filter(Pt=>""!==Pt);Kt.length>0&&(Ce.scopes=Kt.join(","))}I.tenantId&&(Ce.tid=I.tenantId);const Je=Ce;for(const Kt of Object.keys(Je))void 0===Je[Kt]&&delete Je[Kt];return`${function np({config:I}){return I.emulator?No(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,ue.xO)(Je).slice(1)}`}const g_="webStorageSupport",WA=class ip{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Js,this._completeRedirectFn=Gh,this._overrideRedirectResult=Qr}_openPopup(m,y,B,V){var Z=this;return(0,o.Z)(function*(){var Ce;rr(null===(Ce=Z.eventManagers[m._key()])||void 0===Ce?void 0:Ce.manager,"_initialize() not called before _openPopup()");const Je=Mg(m,y,B,Vr(),V);return function Dg(I,m,y,B=500,V=600){const Z=Math.max((window.screen.availHeight-V)/2,0).toString(),Ce=Math.max((window.screen.availWidth-B)/2,0).toString();let Je="";const Kt=Object.assign(Object.assign({},ei),{width:B.toString(),height:V.toString(),top:Z,left:Ce}),Pt=(0,ue.z$)().toLowerCase();y&&(Je=bi(Pt)?"_blank":y),Es(Pt)&&(m=m||"http://localhost",Kt.scrollbars="yes");const Fn=Object.entries(Kt).reduce((Ji,[zo,Xd])=>`${Ji}${zo}=${Xd},`,"");if(function Io(I=(0,ue.z$)()){var m;return Eo(I)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Pt)&&"_self"!==Je)return function Dv(I,m){const y=document.createElement("a");y.href=I,y.target=m;const B=document.createEvent("MouseEvent");B.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(B)}(m||"",Je),new cu(null);const kn=window.open(m||"",Je,Fn);qt(kn,I,"popup-blocked");try{kn.focus()}catch{}return new cu(kn)}(m,Je,ec())})()}_openRedirect(m,y,B,V){var Z=this;return(0,o.Z)(function*(){return yield Z._originValidation(m),function ru(I){Ir().location.href=I}(Mg(m,y,B,Vr(),V)),new Promise(()=>{})})()}_initialize(m){const y=m._key();if(this.eventManagers[y]){const{manager:V,promise:Z}=this.eventManagers[y];return V?Promise.resolve(V):(rr(Z,"If manager is not set, promise should be"),Z)}const B=this.initAndGetManager(m);return this.eventManagers[y]={promise:B},B.catch(()=>{delete this.eventManagers[y]}),B}initAndGetManager(m){var y=this;return(0,o.Z)(function*(){const B=yield function tp(I){return As.apply(this,arguments)}(m),V=new Fi(m);return B.register("authEvent",Z=>(qt(Z?.authEvent,m,"invalid-auth-event"),{status:V.onEvent(Z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[m._key()]={manager:V},y.iframes[m._key()]=B,V})()}_isIframeWebStorageSupported(m,y){this.iframes[m._key()].send(g_,{type:g_},V=>{var Z;const Ce=null===(Z=V?.[0])||void 0===Z?void 0:Z[g_];void 0!==Ce&&y(!!Ce),Sr(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const y=m._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function qa(I){return qh.apply(this,arguments)}(m)),this.originValidationPromises[y]}get _shouldInitProactively(){return Di()||_n()||Eo()}};class m_{constructor(m){this.factorId=m}_process(m,y,B){switch(y.type){case"enroll":return this._finalizeEnroll(m,y.credential,B);case"signin":return this._finalizeSignIn(m,y.credential);default:return oo("unexpected MultiFactorSessionType")}}}class Zh extends m_{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Zh(m)}_finalizeEnroll(m,y,B){return function l_(I,m){return gs(I,"POST","/v2/accounts/mfaEnrollment:finalize",Li(I,m))}(m,{idToken:y,displayName:B,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,y){return function Vh(I,m){return gs(I,"POST","/v2/accounts/mfaSignIn:finalize",Li(I,m))}(m,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let rp=(()=>{class I{constructor(){}static assertion(y){return Zh._fromCredential(y)}}return I.FACTOR_ID="phone",I})();var Tv="@firebase/auth",__="0.20.11";class Bg{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var y=this;return(0,o.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const y=this.auth.onIdTokenChanged(B=>{var V;m((null===(V=B)||void 0===V?void 0:V.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,y),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const y=this.internalListeners.get(m);!y||(this.internalListeners.delete(m),y(),this.updateProactiveRefresh())}assertAuthConfigured(){qt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Nl(){return window}function ap(){return(ap=(0,o.Z)(function*(I,m,y){var B;const{BuildInfo:V}=Nl();rr(m.sessionId,"AuthEvent did not contain a session ID");const Z=yield Pg(m.sessionId),Ce={};return Eo()?Ce.ibi=V.packageName:So()?Ce.apn=V.packageName:Sr(I,"operation-not-supported-in-this-environment"),V.displayName&&(Ce.appDisplayName=V.displayName),Ce.sessionId=Z,Mg(I,y,m.type,void 0,null!==(B=m.eventId)&&void 0!==B?B:void 0,Ce)})).apply(this,arguments)}function Lg(){return(Lg=(0,o.Z)(function*(I){const{BuildInfo:m}=Nl(),y={};Eo()?y.iosBundleId=m.packageName:So()?y.androidPackageName=m.packageName:Sr(I,"operation-not-supported-in-this-environment"),yield h_(I,y)})).apply(this,arguments)}function qd(){return(qd=(0,o.Z)(function*(I,m,y){const{cordova:B}=Nl();let V=()=>{};try{yield new Promise((Z,Ce)=>{let Je=null;function Kt(){var kn;Z();const Ji=null===(kn=B.plugins.browsertab)||void 0===kn?void 0:kn.close;"function"==typeof Ji&&Ji(),"function"==typeof y?.close&&y.close()}function Pt(){Je||(Je=window.setTimeout(()=>{Ce(es(I,"redirect-cancelled-by-user"))},2e3))}function Fn(){"visible"===document?.visibilityState&&Pt()}m.addPassiveListener(Kt),document.addEventListener("resume",Pt,!1),So()&&document.addEventListener("visibilitychange",Fn,!1),V=()=>{m.removePassiveListener(Kt),document.removeEventListener("resume",Pt,!1),document.removeEventListener("visibilitychange",Fn,!1),Je&&window.clearTimeout(Je)}})}finally{V()}})).apply(this,arguments)}function Pg(I){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,o.Z)(function*(I){const m=Ng(I),y=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(y)).map(V=>V.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ng(I){if(rr(/[0-9a-zA-Z]+/.test(I),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(I);const m=new ArrayBuffer(I.length),y=new Uint8Array(m);for(let B=0;B<I.length;B++)y[B]=I.charCodeAt(B);return y}(0,ue.Pz)("authIdTokenMaxAge"),function Fg(I){(0,ut._registerComponent)(new li.wA("auth",(m,{options:y})=>{const B=m.getProvider("app").getImmediate(),V=m.getProvider("heartbeat"),{apiKey:Z,authDomain:Ce}=B.options;return((Je,Kt)=>{qt(Z&&!Z.includes(":"),"invalid-api-key",{appName:Je.name}),qt(!Ce?.includes(":"),"argument-error",{appName:Je.name});const Pt={apiKey:Z,authDomain:Ce,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wc(I)},Fn=new Yc(Je,Kt,Pt);return function dl(I,m){const y=m?.persistence||[],B=(Array.isArray(y)?y:[y]).map(Dn);m?.errorMap&&I._updateErrorMap(m.errorMap),I._initializeWithPersistence(B,m?.popupRedirectResolver)}(Fn,y),Fn})(B,V)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,y,B)=>{m.getProvider("auth-internal").initialize()})),(0,ut._registerComponent)(new li.wA("auth-internal",m=>{const y=pr(m.getProvider("auth").getImmediate());return new Bg(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ut.registerVersion)(Tv,__,function sp(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,ut.registerVersion)(Tv,__,"esm2017")}("Browser");class w_ extends Fi{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(y=>y(m)),super.onEvent(m)}initialized(){var m=this;return(0,o.Z)(function*(){yield m.initPromise})()}}function cp(I){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,o.Z)(function*(I){const m=yield $h()._get(Hg(I));return m&&(yield $h()._remove(Hg(I))),m})).apply(this,arguments)}function Ug(){const I=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<20;y++){const B=Math.floor(Math.random()*m.length);I.push(m.charAt(B))}return I.join("")}function $h(){return Dn(Hd)}function Hg(I){return Wr("authEvent",I.config.apiKey,I.name)}function Ka(I){if(!I?.includes("?"))return{};const[m,...y]=I.split("?");return(0,ue.zd)(y.join("?"))}const dp=class Ju{constructor(){this._redirectPersistence=Js,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Gh,this._overrideRedirectResult=Qr}_initialize(m){var y=this;return(0,o.Z)(function*(){const B=m._key();let V=y.eventManagers.get(B);return V||(V=new w_(m),y.eventManagers.set(B,V),y.attachCallbackListeners(m,V)),V})()}_openPopup(m){Sr(m,"operation-not-supported-in-this-environment")}_openRedirect(m,y,B,V){var Z=this;return(0,o.Z)(function*(){!function Rc(I){var m,y,B,V,Z,Ce,Je,Kt,Pt,Fn;const kn=Nl();qt("function"==typeof(null===(m=kn?.universalLinks)||void 0===m?void 0:m.subscribe),I,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),qt(typeof(null===(y=kn?.BuildInfo)||void 0===y?void 0:y.packageName)<"u",I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),qt("function"==typeof(null===(Z=null===(V=null===(B=kn?.cordova)||void 0===B?void 0:B.plugins)||void 0===V?void 0:V.browsertab)||void 0===Z?void 0:Z.openUrl),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),qt("function"==typeof(null===(Kt=null===(Je=null===(Ce=kn?.cordova)||void 0===Ce?void 0:Ce.plugins)||void 0===Je?void 0:Je.browsertab)||void 0===Kt?void 0:Kt.isAvailable),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),qt("function"==typeof(null===(Fn=null===(Pt=kn?.cordova)||void 0===Pt?void 0:Pt.InAppBrowser)||void 0===Fn?void 0:Fn.open),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const Ce=yield Z._initialize(m);yield Ce.initialized(),Ce.resetRedirect(),function Fc(){vs.clear()}(),yield Z._originValidation(m);const Je=function Nw(I,m,y=null){return{type:m,eventId:y,urlResponse:null,sessionId:Ug(),postBody:null,tenantId:I.tenantId,error:es(I,"no-auth-event")}}(m,B,V);yield function b_(I,m){return $h()._set(Hg(I),m)}(m,Je);const Kt=yield function Rg(I,m,y){return ap.apply(this,arguments)}(m,Je,y),Pt=yield function Pw(I){const{cordova:m}=Nl();return new Promise(y=>{m.plugins.browsertab.isAvailable(B=>{let V=null;B?m.plugins.browsertab.openUrl(I):V=m.InAppBrowser.open(I,function Si(I=(0,ue.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}()?"_blank":"_system","location=yes"),y(V)})})}(Kt);return function lp(I,m,y){return qd.apply(this,arguments)}(m,Ce,Pt)})()}_isIframeWebStorageSupported(m,y){throw new Error("Method not implemented.")}_originValidation(m){const y=m._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Og(I){return Lg.apply(this,arguments)}(m)),this.originValidationPromises[y]}attachCallbackListeners(m,y){const{universalLinks:B,handleOpenURL:V,BuildInfo:Z}=Nl(),Ce=setTimeout((0,o.Z)(function*(){yield cp(m),y.onEvent($A())}),500),Je=function(){var Fn=(0,o.Z)(function*(kn){clearTimeout(Ce);const Ji=yield cp(m);let zo=null;Ji&&kn?.url&&(zo=function sc(I,m){var y,B;const V=function Zd(I){const m=Ka(I),y=m.link?decodeURIComponent(m.link):void 0,B=Ka(y).link,V=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return Ka(V).link||V||B||y||I}(m);if(V.includes("/__/auth/callback")){const Z=Ka(V),Ce=Z.firebaseError?function Uw(I){try{return JSON.parse(I)}catch{return null}}(decodeURIComponent(Z.firebaseError)):null,Je=null===(B=null===(y=Ce?.code)||void 0===y?void 0:y.split("auth/"))||void 0===B?void 0:B[1],Kt=Je?es(Je):null;return Kt?{type:I.type,eventId:I.eventId,tenantId:I.tenantId,error:Kt,urlResponse:null,sessionId:null,postBody:null}:{type:I.type,eventId:I.eventId,tenantId:I.tenantId,sessionId:I.sessionId,urlResponse:V,postBody:null}}return null}(Ji,kn.url)),y.onEvent(zo||$A())});return function(Ji){return Fn.apply(this,arguments)}}();typeof B<"u"&&"function"==typeof B.subscribe&&B.subscribe(null,Je);const Kt=V,Pt=`${Z.packageName.toLowerCase()}://`;Nl().handleOpenURL=function(){var Fn=(0,o.Z)(function*(kn){if(kn.toLowerCase().startsWith(Pt)&&Je({url:kn}),"function"==typeof Kt)try{Kt(kn)}catch(Ji){console.error(Ji)}});return function(kn){return Fn.apply(this,arguments)}}()}};function $A(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:es("no-auth-event")}}function Wd(){var I;return(null===(I=self?.location)||void 0===I?void 0:I.protocol)||null}function du(I=(0,ue.z$)()){return!("file:"!==Wd()&&"ionic:"!==Wd()&&"capacitor:"!==Wd()||!I.toLowerCase().match(/iphone|ipad|ipod|android/))}function Oc(){try{const I=self.localStorage,m=ec();if(I)return I.setItem(m,"1"),I.removeItem(m),!function hp(I=(0,ue.z$)()){return function Yd(){return(0,ue.w1)()&&11===document?.documentMode}()||function Xu(I=(0,ue.z$)()){return/Edge\/\d+/.test(I)}(I)}()||(0,ue.hl)()}catch{return jg()&&(0,ue.hl)()}return!1}function jg(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function JA(){return(function Ms(){return"http:"===Wd()||"https:"===Wd()}()||(0,ue.ru)()||du())&&!function hu(){return(0,ue.b$)()||(0,ue.UG)()}()&&Oc()&&!jg()}function XA(){return du()&&typeof document<"u"}function aa(){return(aa=(0,o.Z)(function*(){return!!XA()&&new Promise(I=>{const m=setTimeout(()=>{I(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),I(!0)})})})).apply(this,arguments)}const Za={LOCAL:"local",NONE:"none",SESSION:"session"},Lc=qt,Hw="persistence";function ef(I){return x_.apply(this,arguments)}function x_(){return(x_=(0,o.Z)(function*(I){yield I._initializationPromise;const m=Jd(),y=Wr(Hw,I.config.apiKey,I.name);m&&m.setItem(y,I._getPersistence())})).apply(this,arguments)}function Jd(){var I;try{return(null===(I=function Ul(){return typeof window<"u"?window:null}())||void 0===I?void 0:I.sessionStorage)||null}catch{return null}}const fp=qt;class fu{constructor(){this.browserResolver=Dn(WA),this.cordovaResolver=Dn(dp),this.underlyingResolver=null,this._redirectPersistence=Js,this._completeRedirectFn=Gh,this._overrideRedirectResult=Qr}_initialize(m){var y=this;return(0,o.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,y,B,V){var Z=this;return(0,o.Z)(function*(){return yield Z.selectUnderlyingResolver(),Z.assertedUnderlyingResolver._openPopup(m,y,B,V)})()}_openRedirect(m,y,B,V){var Z=this;return(0,o.Z)(function*(){return yield Z.selectUnderlyingResolver(),Z.assertedUnderlyingResolver._openRedirect(m,y,B,V)})()}_isIframeWebStorageSupported(m,y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,y)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return XA()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return fp(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,o.Z)(function*(){if(m.underlyingResolver)return;const y=yield function $d(){return aa.apply(this,arguments)}();m.underlyingResolver=y?m.cordovaResolver:m.browserResolver})()}}function pp(I){return I.unwrap()}function Xh(I){return Gg(I)}function Gg(I){const{_tokenResponse:m}=I instanceof ue.ZR?I.customData:I;if(!m)return null;if(!(I instanceof ue.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return gn.credentialFromResult(I);const y=m.providerId;if(!y||"password"===y)return null;let B;switch(y){case"google.com":B=Er;break;case"facebook.com":B=Ag;break;case"github.com":B=Ih;break;case"twitter.com":B=Ks;break;default:const{oauthIdToken:V,oauthAccessToken:Z,oauthTokenSecret:Ce,pendingToken:Je,nonce:Kt}=m;return Z||Ce||V||Je?Je?y.startsWith("saml.")?Ml._create(y,Je):ra._fromParams({providerId:y,signInMethod:y,pendingToken:Je,idToken:V,accessToken:Z}):new Wl(y).credential({idToken:V,accessToken:Z,rawNonce:Kt}):null}return I instanceof ue.ZR?B.credentialFromError(I):B.credentialFromResult(I)}function Wa(I,m){return m.catch(y=>{throw y instanceof ue.ZR&&function eA(I,m){var y,B;const V=null===(y=m.customData)||void 0===y?void 0:y._tokenResponse;if("auth/multi-factor-auth-required"===(null===(B=m)||void 0===B?void 0:B.code))m.resolver=new Pc(I,function Tc(I,m){var y;const B=(0,ue.m9)(I),V=m;return qt(m.customData.operationType,B,"argument-error"),qt(null===(y=V.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,B,"argument-error"),_g._fromError(B,V)}(I,m));else if(V){const Z=Gg(m),Ce=m;Z&&(Ce.credential=Z,Ce.tenantId=V.tenantId||void 0,Ce.email=V.email||void 0,Ce.phoneNumber=V.phoneNumber||void 0)}}(I,y),y}).then(y=>{const V=y.user;return{operationType:y.operationType,credential:Xh(y),additionalUserInfo:Qf(y),user:Ya.getOrCreate(V)}})}function gp(I,m){return qg.apply(this,arguments)}function qg(){return(qg=(0,o.Z)(function*(I,m){const y=yield m;return{verificationId:y.verificationId,confirm:B=>Wa(I,y.confirm(B))}})).apply(this,arguments)}class Pc{constructor(m,y){this.resolver=y,this.auth=function zg(I){return I.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return Wa(pp(this.auth),this.resolver.resolveSignIn(m))}}class Ya{constructor(m){this._delegate=m,this.multiFactor=function Oh(I){const m=(0,ue.m9)(I);return Mc.has(m)||Mc.set(m,Ud._fromUser(m)),Mc.get(m)}(m)}static getOrCreate(m){return Ya.USER_MAP.has(m)||Ya.USER_MAP.set(m,new Ya(m)),Ya.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var y=this;return(0,o.Z)(function*(){return Wa(y.auth,co(y._delegate,m))})()}linkWithPhoneNumber(m,y){var B=this;return(0,o.Z)(function*(){return gp(B.auth,function zh(I,m,y){return rs.apply(this,arguments)}(B._delegate,m,y))})()}linkWithPopup(m){var y=this;return(0,o.Z)(function*(){return Wa(y.auth,function hi(I,m,y){return Vn.apply(this,arguments)}(y._delegate,m,fu))})()}linkWithRedirect(m){var y=this;return(0,o.Z)(function*(){return yield ef(pr(y.auth)),function kc(I,m,y){return function Vs(I,m,y){return rc.apply(this,arguments)}(I,m,y)}(y._delegate,m,fu)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var y=this;return(0,o.Z)(function*(){return Wa(y.auth,Rt(y._delegate,m))})()}reauthenticateWithPhoneNumber(m,y){return gp(this.auth,function Gd(I,m,y){return bg.apply(this,arguments)}(this._delegate,m,y))}reauthenticateWithPopup(m){return Wa(this.auth,function Zn(I,m,y){return si.apply(this,arguments)}(this._delegate,m,fu))}reauthenticateWithRedirect(m){var y=this;return(0,o.Z)(function*(){return yield ef(pr(y.auth)),function vv(I,m,y){return function Jf(I,m,y){return ic.apply(this,arguments)}(I,m,y)}(y._delegate,m,fu)})()}sendEmailVerification(m){return function r_(I,m){return kd.apply(this,arguments)}(this._delegate,m)}unlink(m){var y=this;return(0,o.Z)(function*(){return yield function Qu(I,m){return Yl.apply(this,arguments)}(y._delegate,m),y})()}updateEmail(m){return function Mr(I,m){return tu((0,ue.m9)(I),m,null)}(this._delegate,m)}updatePassword(m){return function Hf(I,m){return tu((0,ue.m9)(I),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function $f(I,m){return nc.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function To(I,m){return _l.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,y){return function s_(I,m,y){return Fh.apply(this,arguments)}(this._delegate,m,y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ya.USER_MAP=new WeakMap;const tf=qt;let Mv=(()=>{class I{constructor(y,B){if(this.app=y,B.isInitialized())return this._delegate=B.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:V}=y.options;tf(V,"invalid-api-key",{appName:y.name}),tf(V,"invalid-api-key",{appName:y.name});const Z=typeof window<"u"?fu:void 0;this._delegate=B.initialize({options:{persistence:Kg(V,y.name),popupRedirectResolver:Z}}),this._delegate._updateErrorMap(cl),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ya.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(y){this._delegate.languageCode=y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(y){this._delegate.tenantId=y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(y,B){!function lo(I,m,y){const B=pr(I);qt(B._canInitEmulator,B,"emulator-config-failed"),qt(/^https?:\/\//.test(m),B,"invalid-emulator-scheme");const V=!!y?.disableWarnings,Z=Tl(m),{host:Ce,port:Je}=function bh(I){const m=Tl(I),y=/(\/\/)?([^?#/]+)/.exec(I.substr(m.length));if(!y)return{host:"",port:null};const B=y[2].split("@").pop()||"",V=/^(\[[^\]]+\])(:|$)/.exec(B);if(V){const Z=V[1];return{host:Z,port:Ha(B.substr(Z.length+1))}}{const[Z,Ce]=B.split(":");return{host:Z,port:Ha(Ce)}}}(m);B.config.emulator={url:`${Z}//${Ce}${null===Je?"":`:${Je}`}/`},B.settings.appVerificationDisabledForTesting=!0,B.emulatorConfig=Object.freeze({host:Ce,port:Je,protocol:Z.replace(":",""),options:Object.freeze({disableWarnings:V})}),V||function Yr(){function I(){const m=document.createElement("p"),y=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}(this._delegate,y,B)}applyActionCode(y){return function Ys(I,m){return Hr.apply(this,arguments)}(this._delegate,y)}checkActionCode(y){return Fl(this._delegate,y)}confirmPasswordReset(y,B){return function Bl(I,m,y){return $l.apply(this,arguments)}(this._delegate,y,B)}createUserWithEmailAndPassword(y,B){var V=this;return(0,o.Z)(function*(){return Wa(V._delegate,function pv(I,m,y){return eu.apply(this,arguments)}(V._delegate,y,B))})()}fetchProvidersForEmail(y){return this.fetchSignInMethodsForEmail(y)}fetchSignInMethodsForEmail(y){return function pg(I,m){return Fd.apply(this,arguments)}(this._delegate,y)}isSignInWithEmailLink(y){return function Bh(I,m){return"EMAIL_SIGNIN"===Id.parseLink(m)?.operation}(0,y)}getRedirectResult(){var y=this;return(0,o.Z)(function*(){tf(JA(),y._delegate,"operation-not-supported-in-this-environment");const B=yield function xg(I,m){return $u.apply(this,arguments)}(y._delegate,fu);return B?Wa(y._delegate,Promise.resolve(B)):{credential:null,user:null}})()}addFrameworkForLogging(y){!function C_(I,m){pr(I)._logFramework(m)}(this._delegate,y)}onAuthStateChanged(y,B,V){const{next:Z,error:Ce,complete:Je}=tA(y,B,V);return this._delegate.onAuthStateChanged(Z,Ce,Je)}onIdTokenChanged(y,B,V){const{next:Z,error:Ce,complete:Je}=tA(y,B,V);return this._delegate.onIdTokenChanged(Z,Ce,Je)}sendSignInLinkToEmail(y,B){return function gv(I,m,y){return Bd.apply(this,arguments)}(this._delegate,y,B)}sendPasswordResetEmail(y,B){return function Th(I,m,y){return ml.apply(this,arguments)}(this._delegate,y,B||void 0)}setPersistence(y){var B=this;return(0,o.Z)(function*(){let V;switch(function Au(I,m){Lc(Object.values(Za).includes(m),I,"invalid-persistence-type"),(0,ue.b$)()?Lc(m!==Za.SESSION,I,"unsupported-persistence-type"):(0,ue.UG)()?Lc(m===Za.NONE,I,"unsupported-persistence-type"):jg()?Lc(m===Za.NONE||m===Za.LOCAL&&(0,ue.hl)(),I,"unsupported-persistence-type"):Lc(m===Za.NONE||Oc(),I,"unsupported-persistence-type")}(B._delegate,y),y){case Za.SESSION:V=Js;break;case Za.LOCAL:V=(yield Dn(Bc)._isAvailable())?Bc:Hd;break;case Za.NONE:V=ns;break;default:return Sr("argument-error",{appName:B._delegate.name})}return B._delegate.setPersistence(V)})()}signInAndRetrieveDataWithCredential(y){return this.signInWithCredential(y)}signInAnonymously(){return Wa(this._delegate,function fv(I){return FA.apply(this,arguments)}(this._delegate))}signInWithCredential(y){return Wa(this._delegate,ys(this._delegate,y))}signInWithCustomToken(y){return Wa(this._delegate,function Zs(I,m){return Vu.apply(this,arguments)}(this._delegate,y))}signInWithEmailAndPassword(y,B){return Wa(this._delegate,function Jl(I,m,y){return ys((0,ue.m9)(I),Eh.credential(m,y))}(this._delegate,y,B))}signInWithEmailLink(y,B){return Wa(this._delegate,function fg(I,m,y){return Nf.apply(this,arguments)}(this._delegate,y,B))}signInWithPhoneNumber(y,B){return gp(this._delegate,function Ui(I,m,y){return jh.apply(this,arguments)}(this._delegate,y,B))}signInWithPopup(y){var B=this;return(0,o.Z)(function*(){return tf(JA(),B._delegate,"operation-not-supported-in-this-environment"),Wa(B._delegate,function Ht(I,m,y){return An.apply(this,arguments)}(B._delegate,y,fu))})()}signInWithRedirect(y){var B=this;return(0,o.Z)(function*(){return tf(JA(),B._delegate,"operation-not-supported-in-this-environment"),yield ef(B._delegate),function gr(I,m,y){return function Sa(I,m,y){return jA.apply(this,arguments)}(I,m,y)}(B._delegate,y,fu)})()}updateCurrentUser(y){return this._delegate.updateCurrentUser(y)}verifyPasswordResetCode(y){return function ju(I,m){return kl.apply(this,arguments)}(this._delegate,y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return I.Persistence=Za,I})();function tA(I,m,y){let B=I;"function"!=typeof I&&({next:B,error:m,complete:y}=I);const V=B;return{next:Ce=>V(Ce&&Ya.getOrCreate(Ce)),error:m,complete:y}}function Kg(I,m){const y=function Ap(I,m){const y=Jd();if(!y)return[];const B=Wr(Hw,I,m);switch(y.getItem(B)){case Za.NONE:return[ns];case Za.LOCAL:return[Bc,Js];case Za.SESSION:return[Js];default:return[]}}(I,m);if(typeof self<"u"&&!y.includes(Bc)&&y.push(Bc),typeof window<"u")for(const B of[Hd,Js])y.includes(B)||y.push(B);return y.includes(ns)||y.push(ns),y}class nA{constructor(){this.providerId="phone",this._delegate=new gn(pp(Ge.Z.auth()))}static credential(m,y){return gn.credential(m,y)}verifyPhoneNumber(m,y){return this._delegate.verifyPhoneNumber(m,y)}unwrap(){return this._delegate}}nA.PHONE_SIGN_IN_METHOD=gn.PHONE_SIGN_IN_METHOD,nA.PROVIDER_ID=gn.PROVIDER_ID;const Qw=qt;class Zg{constructor(m,y,B=Ge.Z.app()){var V;Qw(null===(V=B.options)||void 0===V?void 0:V.apiKey,"invalid-api-key",{appName:B.name}),this._delegate=new yl(m,y,B.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function bn(I){I.INTERNAL.registerComponent(new li.wA("auth-compat",m=>{const y=m.getProvider("app-compat").getImmediate(),B=m.getProvider("auth");return new Mv(y,B)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Eh,FacebookAuthProvider:Ag,GithubAuthProvider:Ih,GoogleAuthProvider:Er,OAuthProvider:Wl,SAMLAuthProvider:TA,PhoneAuthProvider:nA,PhoneMultiFactorGenerator:rp,RecaptchaVerifier:Zg,TwitterAuthProvider:Ks,Auth:Mv,AuthCredential:Pu,Error:ue.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),I.registerVersion("@firebase/auth-compat","0.2.24")}(Ge.Z)},4159:function(zn){zn.exports=function(){"use strict";var Ot=function(S,b){return(Ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,E){D.__proto__=E}||function(D,E){for(var P in E)Object.prototype.hasOwnProperty.call(E,P)&&(D[P]=E[P])})(S,b)};function se(S,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function D(){this.constructor=S}Ot(S,b),S.prototype=null===b?Object.create(b):(D.prototype=b.prototype,new D)}var o=function(){return o=Object.assign||function(b){for(var D,E=1,P=arguments.length;E<P;E++)for(var G in D=arguments[E])Object.prototype.hasOwnProperty.call(D,G)&&(b[G]=D[G]);return b},o.apply(this,arguments)};function Ge(S,b,D,E){return new(D||(D=Promise))(function(G,X){function fe(ze){try{Le(E.next(ze))}catch(Xe){X(Xe)}}function Ae(ze){try{Le(E.throw(ze))}catch(Xe){X(Xe)}}function Le(ze){ze.done?G(ze.value):function P(G){return G instanceof D?G:new D(function(X){X(G)})}(ze.value).then(fe,Ae)}Le((E=E.apply(S,b||[])).next())})}function ue(S,b){var E,P,G,X,D={label:0,sent:function(){if(1&G[0])throw G[1];return G[1]},trys:[],ops:[]};return X={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(X[Symbol.iterator]=function(){return this}),X;function fe(Le){return function(ze){return function Ae(Le){if(E)throw new TypeError("Generator is already executing.");for(;D;)try{if(E=1,P&&(G=2&Le[0]?P.return:Le[0]?P.throw||((G=P.return)&&G.call(P),0):P.next)&&!(G=G.call(P,Le[1])).done)return G;switch(P=0,G&&(Le=[2&Le[0],G.value]),Le[0]){case 0:case 1:G=Le;break;case 4:return D.label++,{value:Le[1],done:!1};case 5:D.label++,P=Le[1],Le=[0];continue;case 7:Le=D.ops.pop(),D.trys.pop();continue;default:if(!(G=(G=D.trys).length>0&&G[G.length-1])&&(6===Le[0]||2===Le[0])){D=0;continue}if(3===Le[0]&&(!G||Le[1]>G[0]&&Le[1]<G[3])){D.label=Le[1];break}if(6===Le[0]&&D.label<G[1]){D.label=G[1],G=Le;break}if(G&&D.label<G[2]){D.label=G[2],D.ops.push(Le);break}G[2]&&D.ops.pop(),D.trys.pop();continue}Le=b.call(S,D)}catch(ze){Le=[6,ze],P=0}finally{E=G=0}if(5&Le[0])throw Le[1];return{value:Le[0]?Le[1]:void 0,done:!0}}([Le,ze])}}}function ut(S,b,D){if(D||2===arguments.length)for(var G,E=0,P=b.length;E<P;E++)(G||!(E in b))&&(G||(G=Array.prototype.slice.call(b,0,E)),G[E]=b[E]);return S.concat(G||b)}for(var ht=function(){function S(b,D,E,P){this.left=b,this.top=D,this.width=E,this.height=P}return S.prototype.add=function(b,D,E,P){return new S(this.left+b,this.top+D,this.width+E,this.height+P)},S.fromClientRect=function(b,D){return new S(D.left+b.windowBounds.left,D.top+b.windowBounds.top,D.width,D.height)},S.fromDOMRectList=function(b,D){var E=Array.from(D).find(function(P){return 0!==P.width});return E?new S(E.left+b.windowBounds.left,E.top+b.windowBounds.top,E.width,E.height):S.EMPTY},S.EMPTY=new S(0,0,0,0),S}(),bt=function(S,b){return ht.fromClientRect(S,b.getBoundingClientRect())},vt=function(S){for(var b=[],D=0,E=S.length;D<E;){var P=S.charCodeAt(D++);if(P>=55296&&P<=56319&&D<E){var G=S.charCodeAt(D++);56320==(64512&G)?b.push(((1023&P)<<10)+(1023&G)+65536):(b.push(P),D--)}else b.push(P)}return b},dt=function(){for(var S=[],b=0;b<arguments.length;b++)S[b]=arguments[b];if(String.fromCodePoint)return String.fromCodePoint.apply(String,S);var D=S.length;if(!D)return"";for(var E=[],P=-1,G="";++P<D;){var X=S[P];X<=65535?E.push(X):E.push(55296+((X-=65536)>>10),X%1024+56320),(P+1===D||E.length>16384)&&(G+=String.fromCharCode.apply(String,E),E.length=0)}return G},Te="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ke=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ke=0;Ke<Te.length;Ke++)ke[Te.charCodeAt(Ke)]=Ke;for(var on="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vt=typeof Uint8Array>"u"?[]:new Uint8Array(256),pn=0;pn<on.length;pn++)Vt[on.charCodeAt(pn)]=pn;for(var ji=function(S,b,D){return S.slice?S.slice(b,D):new Uint16Array(Array.prototype.slice.call(S,b,D))},xo=function(){function S(b,D,E,P,G,X){this.initialValue=b,this.errorValue=D,this.highStart=E,this.highValueIndex=P,this.index=G,this.data=X}return S.prototype.get=function(b){var D;if(b>=0){if(b<55296||b>56319&&b<=65535)return this.data[D=((D=this.index[b>>5])<<2)+(31&b)];if(b<=65535)return this.data[D=((D=this.index[2048+(b-55296>>5)])<<2)+(31&b)];if(b<this.highStart)return D=this.index[D=2080+(b>>11)],this.data[D=((D=this.index[D+=b>>5&63])<<2)+(31&b)];if(b<=1114111)return this.data[this.highValueIndex]}return this.errorValue},S}(),ir="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qn=typeof Uint8Array>"u"?[]:new Uint8Array(256),qr=0;qr<ir.length;qr++)Qn[ir.charCodeAt(qr)]=qr;var D,E,P,X,fe,Ss=10,rr=13,Dn=15,dl=17,Vr=18,ao=19,ql=20,yi=21,Jn=22,No=24,Nr=25,Kr=26,ea=27,Li=28,fr=30,zi=32,ts=33,wa=34,ln=35,yn=37,ui=38,di=39,Pi=40,xe=42,Dt=[9001,65288],Yt="\xd7",Gi=(D=function(S){var E,G,X,fe,Ae,b=.75*S.length,D=S.length,P=0;"="===S[S.length-1]&&(b--,"="===S[S.length-2]&&b--);var Le=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(b):new Array(b),ze=Array.isArray(Le)?Le:new Uint8Array(Le);for(E=0;E<D;E+=4)G=Vt[S.charCodeAt(E)],X=Vt[S.charCodeAt(E+1)],fe=Vt[S.charCodeAt(E+2)],Ae=Vt[S.charCodeAt(E+3)],ze[P++]=G<<2|X>>4,ze[P++]=(15&X)<<4|fe>>2,ze[P++]=(3&fe)<<6|63&Ae;return Le}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),E=Array.isArray(D)?function(S){for(var b=S.length,D=[],E=0;E<b;E+=4)D.push(S[E+3]<<24|S[E+2]<<16|S[E+1]<<8|S[E]);return D}(D):new Uint32Array(D),P=Array.isArray(D)?function(S){for(var b=S.length,D=[],E=0;E<b;E+=2)D.push(S[E+1]<<8|S[E]);return D}(D):new Uint16Array(D),X=ji(P,12,E[4]/2),fe=2===E[5]?ji(P,(24+E[4])/2):function(S,b,D){return S.slice?S.slice(b,D):new Uint32Array(Array.prototype.slice.call(S,b,D))}(E,Math.ceil((24+E[4])/4)),new xo(E[0],E[1],E[2],E[3],X,fe)),_r=[fr,36],ai=[1,2,3,5],Zr=[Ss,8],Bi=[ea,Kr],Ua=ai.concat(Zr),Ru=[ui,di,Pi,wa,ln],Uo=[Dn,rr],bA=function(S,b,D,E){var P=E[D];if(Array.isArray(S)?-1!==S.indexOf(P):S===P)for(var G=D;G<=E.length;){if((X=E[++G])===b)return!0;if(X!==Ss)break}if(P===Ss)for(G=D;G>0;){var fe=E[--G];if(Array.isArray(S)?-1!==S.indexOf(fe):S===fe)for(var Ae=D;Ae<=E.length;){var X;if((X=E[++Ae])===b)return!0;if(X!==Ss)break}if(fe!==Ss)break}return!1},wd=function(S,b){for(var D=S;D>=0;){var E=b[D];if(E!==Ss)return E;D--}return 0},vh=function(S,b,D,E,P){if(0===D[E])return Yt;var G=E-1;if(Array.isArray(P)&&!0===P[G])return Yt;var X=G-1,fe=G+1,Ae=b[G],Le=X>=0?b[X]:0,ze=b[fe];if(2===Ae&&3===ze)return Yt;if(-1!==ai.indexOf(Ae))return"!";if(-1!==ai.indexOf(ze)||-1!==Zr.indexOf(ze))return Yt;if(8===wd(G,b))return"\xf7";if(11===Gi.get(S[G])||(Ae===zi||Ae===ts)&&11===Gi.get(S[fe])||7===Ae||7===ze||9===Ae||-1===[Ss,rr,Dn].indexOf(Ae)&&9===ze||-1!==[dl,Vr,ao,No,Li].indexOf(ze)||wd(G,b)===Jn||bA(23,Jn,G,b)||bA([dl,Vr],yi,G,b)||bA(12,12,G,b))return Yt;if(Ae===Ss)return"\xf7";if(23===Ae||23===ze)return Yt;if(16===ze||16===Ae)return"\xf7";if(-1!==[rr,Dn,yi].indexOf(ze)||14===Ae||36===Le&&-1!==Uo.indexOf(Ae)||Ae===Li&&36===ze||ze===ql||-1!==_r.indexOf(ze)&&Ae===Nr||-1!==_r.indexOf(Ae)&&ze===Nr||Ae===ea&&-1!==[yn,zi,ts].indexOf(ze)||-1!==[yn,zi,ts].indexOf(Ae)&&ze===Kr||-1!==_r.indexOf(Ae)&&-1!==Bi.indexOf(ze)||-1!==Bi.indexOf(Ae)&&-1!==_r.indexOf(ze)||-1!==[ea,Kr].indexOf(Ae)&&(ze===Nr||-1!==[Jn,Dn].indexOf(ze)&&b[fe+1]===Nr)||-1!==[Jn,Dn].indexOf(Ae)&&ze===Nr||Ae===Nr&&-1!==[Nr,Li,No].indexOf(ze))return Yt;if(-1!==[Nr,Li,No,dl,Vr].indexOf(ze))for(var Xe=G;Xe>=0;){if((It=b[Xe])===Nr)return Yt;if(-1===[Li,No].indexOf(It))break;Xe--}if(-1!==[ea,Kr].indexOf(ze))for(Xe=-1!==[dl,Vr].indexOf(Ae)?X:G;Xe>=0;){var It;if((It=b[Xe])===Nr)return Yt;if(-1===[Li,No].indexOf(It))break;Xe--}if(ui===Ae&&-1!==[ui,di,wa,ln].indexOf(ze)||-1!==[di,wa].indexOf(Ae)&&-1!==[di,Pi].indexOf(ze)||-1!==[Pi,ln].indexOf(Ae)&&ze===Pi||-1!==Ru.indexOf(Ae)&&-1!==[ql,Kr].indexOf(ze)||-1!==Ru.indexOf(ze)&&Ae===ea||-1!==_r.indexOf(Ae)&&-1!==_r.indexOf(ze)||Ae===No&&-1!==_r.indexOf(ze)||-1!==_r.concat(Nr).indexOf(Ae)&&ze===Jn&&-1===Dt.indexOf(S[fe])||-1!==_r.concat(Nr).indexOf(ze)&&Ae===Vr)return Yt;if(41===Ae&&41===ze){for(var Rn=D[G],cn=1;Rn>0&&41===b[--Rn];)cn++;if(cn%2!=0)return Yt}return Ae===zi&&ze===ts?Yt:"\xf7"},kf=function(S,b){b||(b={lineBreak:"normal",wordBreak:"normal"});var D=function(S,b){void 0===b&&(b="strict");var D=[],E=[],P=[];return S.forEach(function(G,X){var fe=Gi.get(G);if(fe>50?(P.push(!0),fe-=50):P.push(!1),-1!==["normal","auto","loose"].indexOf(b)&&-1!==[8208,8211,12316,12448].indexOf(G))return E.push(X),D.push(16);if(4===fe||11===fe){if(0===X)return E.push(X),D.push(fr);var Ae=D[X-1];return-1===Ua.indexOf(Ae)?(E.push(E[X-1]),D.push(Ae)):(E.push(X),D.push(fr))}return E.push(X),31===fe?D.push("strict"===b?yi:yn):fe===xe||29===fe?D.push(fr):43===fe?D.push(G>=131072&&G<=196605||G>=196608&&G<=262141?yn:fr):void D.push(fe)}),[E,D,P]}(S,b.lineBreak),E=D[0],P=D[1],G=D[2];return("break-all"===b.wordBreak||"break-word"===b.wordBreak)&&(P=P.map(function(fe){return-1!==[Nr,fr,xe].indexOf(fe)?yn:fe})),[E,P,"keep-all"===b.wordBreak?G.map(function(fe,Ae){return fe&&S[Ae]>=19968&&S[Ae]<=40959}):void 0]},cg=function(){function S(b,D,E,P){this.codePoints=b,this.required="!"===D,this.start=E,this.end=P}return S.prototype.slice=function(){return dt.apply(void 0,this.codePoints.slice(this.start,this.end))},S}(),Ts=function(S){return S>=48&&S<=57},ra=function(S){return Ts(S)||S>=65&&S<=70||S>=97&&S<=102},Ca=function(S){return 10===S||9===S||32===S},DA=function(S){return function(S){return function(S){return S>=97&&S<=122}(S)||function(S){return S>=65&&S<=90}(S)}(S)||function(S){return S>=128}(S)||95===S},Av=function(S){return DA(S)||Ts(S)||45===S},Mw=function(S){return S>=0&&S<=8||11===S||S>=14&&S<=31||127===S},_s=function(S,b){return 92===S&&10!==b},fl=function(S,b,D){return 45===S?DA(b)||_s(b,D):!!DA(S)||!(92!==S||!_s(S,b))},$c=function(S,b,D){return 43===S||45===S?!!Ts(b)||46===b&&Ts(D):Ts(46===S?b:S)},Of=function(S){var b=0,D=1;(43===S[b]||45===S[b])&&(45===S[b]&&(D=-1),b++);for(var E=[];Ts(S[b]);)E.push(S[b++]);var P=E.length?parseInt(dt.apply(void 0,E),10):0;46===S[b]&&b++;for(var G=[];Ts(S[b]);)G.push(S[b++]);var X=G.length,fe=X?parseInt(dt.apply(void 0,G),10):0;(69===S[b]||101===S[b])&&b++;var Ae=1;(43===S[b]||45===S[b])&&(45===S[b]&&(Ae=-1),b++);for(var Le=[];Ts(S[b]);)Le.push(S[b++]);var ze=Le.length?parseInt(dt.apply(void 0,Le),10):0;return D*(P+fe*Math.pow(10,-X))*Math.pow(10,Ae*ze)},Id={type:2},Lf={type:3},Eh={type:4},pl={type:13},Hu={type:8},Wl={type:21},Ag={type:9},Er={type:10},Ih={type:11},Pf={type:12},Ml={type:14},Dd={type:23},TA={type:1},Ks={type:25},MA={type:24},BA={type:26},Do={type:27},sa={type:28},fv={type:29},FA={type:31},Qa={type:32},Ho=function(){function S(){this._value=[]}return S.prototype.write=function(b){this._value=this._value.concat(vt(b))},S.prototype.read=function(){for(var b=[],D=this.consumeToken();D!==Qa;)b.push(D),D=this.consumeToken();return b},S.prototype.consumeToken=function(){var b=this.consumeCodePoint();switch(b){case 34:return this.consumeStringToken(34);case 35:var D=this.peekCodePoint(0),E=this.peekCodePoint(1),P=this.peekCodePoint(2);if(Av(D)||_s(E,P)){var G=fl(D,E,P)?2:1;return{type:5,value:this.consumeName(),flags:G}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),pl;break;case 39:return this.consumeStringToken(39);case 40:return Id;case 41:return Lf;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ml;break;case 43:if($c(b,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(b),this.consumeNumericToken();break;case 44:return Eh;case 45:var fe=b,Ae=this.peekCodePoint(0),Le=this.peekCodePoint(1);if($c(fe,Ae,Le))return this.reconsumeCodePoint(b),this.consumeNumericToken();if(fl(fe,Ae,Le))return this.reconsumeCodePoint(b),this.consumeIdentLikeToken();if(45===Ae&&62===Le)return this.consumeCodePoint(),this.consumeCodePoint(),MA;break;case 46:if($c(b,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(b),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var ze=this.consumeCodePoint();if(42===ze&&47===(ze=this.consumeCodePoint()))return this.consumeToken();if(-1===ze)return this.consumeToken()}break;case 58:return BA;case 59:return Do;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),Ks;break;case 64:var Xe=this.peekCodePoint(0),It=this.peekCodePoint(1),Rn=this.peekCodePoint(2);if(fl(Xe,It,Rn))return{type:7,value:this.consumeName()};break;case 91:return sa;case 92:if(_s(b,this.peekCodePoint(0)))return this.reconsumeCodePoint(b),this.consumeIdentLikeToken();break;case 93:return fv;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Hu;break;case 123:return Ih;case 125:return Pf;case 117:case 85:var cn=this.peekCodePoint(0),Cn=this.peekCodePoint(1);return 43===cn&&(ra(Cn)||63===Cn)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(b),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ag;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),Wl;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Er;break;case-1:return Qa}return Ca(b)?(this.consumeWhiteSpace(),FA):Ts(b)?(this.reconsumeCodePoint(b),this.consumeNumericToken()):DA(b)?(this.reconsumeCodePoint(b),this.consumeIdentLikeToken()):{type:6,value:dt(b)}},S.prototype.consumeCodePoint=function(){var b=this._value.shift();return typeof b>"u"?-1:b},S.prototype.reconsumeCodePoint=function(b){this._value.unshift(b)},S.prototype.peekCodePoint=function(b){return b>=this._value.length?-1:this._value[b]},S.prototype.consumeUnicodeRangeToken=function(){for(var b=[],D=this.consumeCodePoint();ra(D)&&b.length<6;)b.push(D),D=this.consumeCodePoint();for(var E=!1;63===D&&b.length<6;)b.push(D),D=this.consumeCodePoint(),E=!0;if(E)return{type:30,start:parseInt(dt.apply(void 0,b.map(function(Ae){return 63===Ae?48:Ae})),16),end:parseInt(dt.apply(void 0,b.map(function(Ae){return 63===Ae?70:Ae})),16)};var X=parseInt(dt.apply(void 0,b),16);if(45===this.peekCodePoint(0)&&ra(this.peekCodePoint(1))){this.consumeCodePoint(),D=this.consumeCodePoint();for(var fe=[];ra(D)&&fe.length<6;)fe.push(D),D=this.consumeCodePoint();return{type:30,start:X,end:parseInt(dt.apply(void 0,fe),16)}}return{type:30,start:X,end:X}},S.prototype.consumeIdentLikeToken=function(){var b=this.consumeName();return"url"===b.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:b}):{type:20,value:b}},S.prototype.consumeUrlToken=function(){var b=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var D=this.peekCodePoint(0);if(39===D||34===D){var E=this.consumeStringToken(this.consumeCodePoint());return 0===E.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:E.value}):(this.consumeBadUrlRemnants(),Dd)}for(;;){var P=this.consumeCodePoint();if(-1===P||41===P)return{type:22,value:dt.apply(void 0,b)};if(Ca(P))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:dt.apply(void 0,b)}):(this.consumeBadUrlRemnants(),Dd);if(34===P||39===P||40===P||Mw(P))return this.consumeBadUrlRemnants(),Dd;if(92===P){if(!_s(P,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),Dd;b.push(this.consumeEscapedCodePoint())}else b.push(P)}},S.prototype.consumeWhiteSpace=function(){for(;Ca(this.peekCodePoint(0));)this.consumeCodePoint()},S.prototype.consumeBadUrlRemnants=function(){for(;;){var b=this.consumeCodePoint();if(41===b||-1===b)return;_s(b,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},S.prototype.consumeStringSlice=function(b){for(var E="";b>0;){var P=Math.min(5e4,b);E+=dt.apply(void 0,this._value.splice(0,P)),b-=P}return this._value.shift(),E},S.prototype.consumeStringToken=function(b){for(var D="",E=0;;){var P=this._value[E];if(-1===P||void 0===P||P===b)return{type:0,value:D+=this.consumeStringSlice(E)};if(10===P)return this._value.splice(0,E),TA;if(92===P){var G=this._value[E+1];-1!==G&&void 0!==G&&(10===G?(D+=this.consumeStringSlice(E),E=-1,this._value.shift()):_s(P,G)&&(D+=this.consumeStringSlice(E),D+=dt(this.consumeEscapedCodePoint()),E=-1))}E++}},S.prototype.consumeNumber=function(){var b=[],D=4,E=this.peekCodePoint(0);for((43===E||45===E)&&b.push(this.consumeCodePoint());Ts(this.peekCodePoint(0));)b.push(this.consumeCodePoint());E=this.peekCodePoint(0);var P=this.peekCodePoint(1);if(46===E&&Ts(P))for(b.push(this.consumeCodePoint(),this.consumeCodePoint()),D=8;Ts(this.peekCodePoint(0));)b.push(this.consumeCodePoint());E=this.peekCodePoint(0),P=this.peekCodePoint(1);var G=this.peekCodePoint(2);if((69===E||101===E)&&((43===P||45===P)&&Ts(G)||Ts(P)))for(b.push(this.consumeCodePoint(),this.consumeCodePoint()),D=8;Ts(this.peekCodePoint(0));)b.push(this.consumeCodePoint());return[Of(b),D]},S.prototype.consumeNumericToken=function(){var b=this.consumeNumber(),D=b[0],E=b[1],P=this.peekCodePoint(0),G=this.peekCodePoint(1),X=this.peekCodePoint(2);return fl(P,G,X)?{type:15,number:D,flags:E,unit:this.consumeName()}:37===P?(this.consumeCodePoint(),{type:16,number:D,flags:E}):{type:17,number:D,flags:E}},S.prototype.consumeEscapedCodePoint=function(){var b=this.consumeCodePoint();if(ra(b)){for(var D=dt(b);ra(this.peekCodePoint(0))&&D.length<6;)D+=dt(this.consumeCodePoint());Ca(this.peekCodePoint(0))&&this.consumeCodePoint();var E=parseInt(D,16);return 0===E||function(S){return S>=55296&&S<=57343}(E)||E>1114111?65533:E}return-1===b?65533:b},S.prototype.consumeName=function(){for(var b="";;){var D=this.consumeCodePoint();if(Av(D))b+=dt(D);else{if(!_s(D,this.peekCodePoint(0)))return this.reconsumeCodePoint(D),b;b+=dt(this.consumeEscapedCodePoint())}}},S}(),Dh=function(){function S(b){this._tokens=b}return S.create=function(b){var D=new Ho;return D.write(b),new S(D.read())},S.parseValue=function(b){return S.create(b).parseComponentValue()},S.parseValues=function(b){return S.create(b).parseComponentValues()},S.prototype.parseComponentValue=function(){for(var b=this.consumeToken();31===b.type;)b=this.consumeToken();if(32===b.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(b);var D=this.consumeComponentValue();do{b=this.consumeToken()}while(31===b.type);if(32===b.type)return D;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},S.prototype.parseComponentValues=function(){for(var b=[];;){var D=this.consumeComponentValue();if(32===D.type)return b;b.push(D),b.push()}},S.prototype.consumeComponentValue=function(){var b=this.consumeToken();switch(b.type){case 11:case 28:case 2:return this.consumeSimpleBlock(b.type);case 19:return this.consumeFunction(b)}return b},S.prototype.consumeSimpleBlock=function(b){for(var D={type:b,values:[]},E=this.consumeToken();;){if(32===E.type||i_(E,b))return D;this.reconsumeToken(E),D.values.push(this.consumeComponentValue()),E=this.consumeToken()}},S.prototype.consumeFunction=function(b){for(var D={name:b.value,values:[],type:18};;){var E=this.consumeToken();if(32===E.type||3===E.type)return D;this.reconsumeToken(E),D.values.push(this.consumeComponentValue())}},S.prototype.consumeToken=function(){var b=this._tokens.shift();return typeof b>"u"?Qa:b},S.prototype.reconsumeToken=function(b){this._tokens.unshift(b)},S}(),Qu=function(S){return 15===S.type},Yl=function(S){return 17===S.type},qi=function(S){return 20===S.type},Td=function(S){return 0===S.type},Jc=function(S,b){return qi(S)&&S.value===b},ci=function(S){return 31!==S.type},Xc=function(S){return 31!==S.type&&4!==S.type},br=function(S){var b=[],D=[];return S.forEach(function(E){if(4===E.type){if(0===D.length)throw new Error("Error parsing function args, zero tokens for arg");return b.push(D),void(D=[])}31!==E.type&&D.push(E)}),D.length&&b.push(D),b},i_=function(S,b){return 11===b&&12===S.type||28===b&&29===S.type||2===b&&3===S.type},Ic=function(S){return 17===S.type||15===S.type},ys=function(S){return 16===S.type||Ic(S)},kA=function(S){return S.length>1?[S[0],S[1]]:[S[0]]},co={type:17,number:0,flags:4},RA={type:16,number:50,flags:4},Rt={type:16,number:100,flags:4},Ni=function(S,b,D){var E=S[0],P=S[1];return[Ur(E,b),Ur(typeof P<"u"?P:E,D)]},Ur=function(S,b){if(16===S.type)return S.number/100*b;if(Qu(S))switch(S.unit){case"rem":case"em":return 16*S.number;default:return S.number}return S.number},Ws_parse=function(S,b){if(15===b.type)switch(b.unit){case"deg":return Math.PI*b.number/180;case"grad":return Math.PI/200*b.number;case"rad":return b.number;case"turn":return 2*Math.PI*b.number}throw new Error("Unsupported angle type")},gl=function(S){return 15===S.type&&("deg"===S.unit||"grad"===S.unit||"rad"===S.unit||"turn"===S.unit)},Th=function(S){switch(S.filter(qi).map(function(D){return D.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[co,co];case"to top":case"bottom":return ml(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[co,Rt];case"to right":case"left":return ml(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Rt,Rt];case"to bottom":case"top":return ml(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Rt,co];case"to left":case"right":return ml(270)}return 0},ml=function(S){return Math.PI*S/180},Bl_parse=function(S,b){if(18===b.type){var D=pv[b.name];if(typeof D>"u")throw new Error('Attempting to parse an unsupported color function "'+b.name+'"');return D(S,b.values)}if(5===b.type){if(3===b.value.length){var E=b.value.substring(0,1),P=b.value.substring(1,2),G=b.value.substring(2,3);return Hr(parseInt(E+E,16),parseInt(P+P,16),parseInt(G+G,16),1)}if(4===b.value.length){E=b.value.substring(0,1),P=b.value.substring(1,2),G=b.value.substring(2,3);var X=b.value.substring(3,4);return Hr(parseInt(E+E,16),parseInt(P+P,16),parseInt(G+G,16),parseInt(X+X,16)/255)}if(6===b.value.length)return E=b.value.substring(0,2),P=b.value.substring(2,4),G=b.value.substring(4,6),Hr(parseInt(E,16),parseInt(P,16),parseInt(G,16),1);if(8===b.value.length)return E=b.value.substring(0,2),P=b.value.substring(2,4),G=b.value.substring(4,6),X=b.value.substring(6,8),Hr(parseInt(E,16),parseInt(P,16),parseInt(G,16),parseInt(X,16)/255)}if(20===b.type){var fe=Jl[b.value.toUpperCase()];if(typeof fe<"u")return fe}return Jl.TRANSPARENT},$l=function(S){return 0==(255&S)},Ys=function(S){var b=255&S,D=255&S>>8,E=255&S>>16,P=255&S>>24;return b<255?"rgba("+P+","+E+","+D+","+b/255+")":"rgb("+P+","+E+","+D+")"},Hr=function(S,b,D,E){return(S<<24|b<<16|D<<8|Math.round(255*E)<<0)>>>0},Fl=function(S,b){if(17===S.type)return S.number;if(16===S.type){var D=3===b?1:255;return 3===b?S.number/100*D:Math.round(S.number/100*D)}return 0},Mh=function(S,b){var D=b.filter(Xc);if(3===D.length){var E=D.map(Fl);return Hr(E[0],E[1],E[2],1)}if(4===D.length){var fe=D.map(Fl);return Hr(fe[0],fe[1],fe[2],fe[3])}return 0};function ju(S,b,D){return D<0&&(D+=1),D>=1&&(D-=1),D<1/6?(b-S)*D*6+S:D<.5?b:D<2/3?6*(b-S)*(2/3-D)+S:S}var kl=function(S,b){var D=b.filter(Xc),E=D[0],P=D[1],G=D[2],X=D[3],fe=(17===E.type?ml(E.number):Ws_parse(S,E))/(2*Math.PI),Ae=ys(P)?P.number/100:0,Le=ys(G)?G.number/100:0,ze=typeof X<"u"&&ys(X)?Ur(X,1):1;if(0===Ae)return Hr(255*Le,255*Le,255*Le,1);var Xe=Le<=.5?Le*(Ae+1):Le+Ae-Le*Ae,It=2*Le-Xe,Rn=ju(It,Xe,fe+1/3),cn=ju(It,Xe,fe),Cn=ju(It,Xe,fe-1/3);return Hr(255*Rn,255*cn,255*Cn,ze)},pv={hsl:kl,hsla:kl,rgb:Mh,rgba:Mh},eu=function(S,b){return Bl_parse(S,Dh.create(b).parseComponentValue())},Jl={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},gv={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(S,b){return b.map(function(D){if(qi(D))switch(D.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Bd={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Bh=function(S,b){var D=Bl_parse(S,b[0]),E=b[1];return E&&ys(E)?{color:D,stop:E}:{color:D,stop:null}},fg=function(S,b){var D=S[0],E=S[S.length-1];null===D.stop&&(D.stop=co),null===E.stop&&(E.stop=Rt);for(var P=[],G=0,X=0;X<S.length;X++){var fe=S[X].stop;if(null!==fe){var Ae=Ur(fe,b);P.push(Ae>G?Ae:G),G=Ae}else P.push(null)}var Le=null;for(X=0;X<P.length;X++){var ze=P[X];if(null===ze)null===Le&&(Le=X);else if(null!==Le){for(var Xe=X-Le,Rn=(ze-P[Le-1])/(Xe+1),cn=1;cn<=Xe;cn++)P[Le+cn-1]=Rn*cn;Le=null}}return S.map(function(Cn,Ki){return{color:Cn.color,stop:Math.max(Math.min(1,P[Ki]/b),0)}})},Uf=function(S,b,D){var E="number"==typeof S?S:function(S,b,D){var E=b/2,P=D/2,G=Ur(S[0],b)-E,X=P-Ur(S[1],D);return(Math.atan2(X,G)+2*Math.PI)%(2*Math.PI)}(S,b,D),P=Math.abs(b*Math.sin(E))+Math.abs(D*Math.cos(E)),G=b/2,X=D/2,fe=P/2,Ae=Math.sin(E-Math.PI/2)*fe,Le=Math.cos(E-Math.PI/2)*fe;return[P,G-Le,G+Le,X-Ae,X+Ae]},Va=function(S,b){return Math.sqrt(S*S+b*b)},pg=function(S,b,D,E,P){return[[0,0],[0,b],[S,0],[S,b]].reduce(function(X,fe){var ze=Va(D-fe[0],E-fe[1]);return(P?ze<X.optimumDistance:ze>X.optimumDistance)?{optimumCorner:fe,optimumDistance:ze}:X},{optimumDistance:P?1/0:-1/0,optimumCorner:null}).optimumCorner},kd=function(S,b){var D=ml(180),E=[];return br(b).forEach(function(P,G){if(0===G){var X=P[0];if(20===X.type&&-1!==["top","left","right","bottom"].indexOf(X.value))return void(D=Th(P));if(gl(X))return void(D=(Ws_parse(S,X)+ml(270))%ml(360))}var fe=Bh(S,P);E.push(fe)}),{angle:D,stops:E,type:1}},Fh="closest-side",gg="farthest-side",$s="closest-corner",To="farthest-corner",Mr="ellipse",tu="contain",zu=function(S,b){var D=0,E=3,P=[],G=[];return br(b).forEach(function(X,fe){var Ae=!0;if(0===fe?Ae=X.reduce(function(ze,Xe){if(qi(Xe))switch(Xe.value){case"center":return G.push(RA),!1;case"top":case"left":return G.push(co),!1;case"right":case"bottom":return G.push(Rt),!1}else if(ys(Xe)||Ic(Xe))return G.push(Xe),!1;return ze},Ae):1===fe&&(Ae=X.reduce(function(ze,Xe){if(qi(Xe))switch(Xe.value){case"circle":return D=0,!1;case Mr:return D=1,!1;case tu:case Fh:return E=0,!1;case gg:return E=1,!1;case $s:return E=2,!1;case"cover":case To:return E=3,!1}else if(Ic(Xe)||ys(Xe))return Array.isArray(E)||(E=[]),E.push(Xe),!1;return ze},Ae)),Ae){var Le=Bh(S,X);P.push(Le)}}),{size:E,shape:D,stops:P,position:G,type:2}},Od_parse=function(S,b){if(22===b.type){var D={url:b.value,type:0};return S.cache.addImage(b.value),D}if(18===b.type){var E=Hs[b.name];if(typeof E>"u")throw new Error('Attempting to parse an unsupported image function "'+b.name+'"');return E(S,b.values)}throw new Error("Unsupported image type "+b.type)};for(var Hs={"linear-gradient":function(S,b){var D=ml(180),E=[];return br(b).forEach(function(P,G){if(0===G){var X=P[0];if(20===X.type&&"to"===X.value)return void(D=Th(P));if(gl(X))return void(D=Ws_parse(S,X))}var fe=Bh(S,P);E.push(fe)}),{angle:D,stops:E,type:1}},"-moz-linear-gradient":kd,"-ms-linear-gradient":kd,"-o-linear-gradient":kd,"-webkit-linear-gradient":kd,"radial-gradient":function(S,b){var D=0,E=3,P=[],G=[];return br(b).forEach(function(X,fe){var Ae=!0;if(0===fe){var Le=!1;Ae=X.reduce(function(Xe,It){if(Le)if(qi(It))switch(It.value){case"center":return G.push(RA),Xe;case"top":case"left":return G.push(co),Xe;case"right":case"bottom":return G.push(Rt),Xe}else(ys(It)||Ic(It))&&G.push(It);else if(qi(It))switch(It.value){case"circle":return D=0,!1;case Mr:return D=1,!1;case"at":return Le=!0,!1;case Fh:return E=0,!1;case"cover":case gg:return E=1,!1;case tu:case $s:return E=2,!1;case To:return E=3,!1}else if(Ic(It)||ys(It))return Array.isArray(E)||(E=[]),E.push(It),!1;return Xe},Ae)}if(Ae){var ze=Bh(S,X);P.push(ze)}}),{size:E,shape:D,stops:P,position:G,type:2}},"-moz-radial-gradient":zu,"-ms-radial-gradient":zu,"-o-radial-gradient":zu,"-webkit-radial-gradient":zu,"-webkit-gradient":function(S,b){var D=ml(180),E=[],P=1;return br(b).forEach(function(Ae,Le){var ze=Ae[0];if(0===Le){if(qi(ze)&&"linear"===ze.value)return void(P=1);if(qi(ze)&&"radial"===ze.value)return void(P=2)}if(18===ze.type)if("from"===ze.name){var Xe=Bl_parse(S,ze.values[0]);E.push({stop:co,color:Xe})}else if("to"===ze.name)Xe=Bl_parse(S,ze.values[0]),E.push({stop:Rt,color:Xe});else if("color-stop"===ze.name){var It=ze.values.filter(Xc);if(2===It.length){Xe=Bl_parse(S,It[1]);var Rn=It[0];Yl(Rn)&&E.push({stop:{type:16,number:100*Rn.number,flags:Rn.flags},color:Xe})}}}),1===P?{angle:(D+ml(180))%ml(360),stops:E,type:P}:{size:3,shape:0,stops:E,position:[],type:P}}},Ld={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(S,b){if(0===b.length)return[];var D=b[0];return 20===D.type&&"none"===D.value?[]:b.filter(function(E){return Xc(E)&&function LA(S){return!(20===S.type&&"none"===S.value||18===S.type&&!Hs[S.name])}(E)}).map(function(E){return Od_parse(S,E)})}},Qf={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(S,b){return b.map(function(D){if(qi(D))switch(D.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},o_={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(S,b){return br(b).map(function(D){return D.filter(ys)}).map(kA)}},Rl={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(S,b){return br(b).map(function(D){return D.filter(qi).map(function(E){return E.value}).join(" ")}).map(Pd)}},Pd=function(S){switch(S){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},nu=(()=>{return(S=nu||(nu={})).AUTO="auto",S.CONTAIN="contain",S.COVER="cover",nu;var S})(),PA={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(S,b){return br(b).map(function(D){return D.filter(Vf)})}},Vf=function(S){return qi(S)||ys(S)},iu=function(S){return{name:"border-"+S+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},a_=iu("top"),kh=iu("right"),Nd=iu("bottom"),_g=iu("left"),Tc=function(S){return{name:"border-radius-"+S,initialValue:"0 0",prefix:!1,type:1,parse:function(b,D){return kA(D.filter(ys))}}},Rh=Tc("top-left"),l_=Tc("top-right"),Xl=Tc("bottom-right"),Ud=Tc("bottom-left"),Mc=function(S){return{name:"border-"+S+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(b,D){switch(D){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Oh=Mc("top"),Gu=Mc("right"),Lh=Mc("bottom"),Ph=Mc("left"),qu=function(S){return{name:"border-"+S+"-width",initialValue:"0",type:0,prefix:!1,parse:function(b,D){return Qu(D)?D.number:0}}},jf=qu("top"),zf=qu("right"),Hd=qu("bottom"),c_=qu("left"),Js={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},yg={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(S,b){return"rtl"===b?1:0}},Gf={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(S,b){return b.filter(qi).reduce(function(D,E){return D|ec(E.value)},0)}},ec=function(S){switch(S){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},u_={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(S,b){switch(b){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Ir={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(S,b){return 20===b.type&&"normal"===b.value?0:17===b.type||15===b.type?b.number:0}},ru=(()=>{return(S=ru||(ru={})).NORMAL="normal",S.STRICT="strict",ru;var S})(),NA={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(S,b){return"strict"===b?ru.STRICT:ru.NORMAL}},Qd={name:"line-height",initialValue:"normal",prefix:!1,type:4},Vd=function(S,b){return qi(S)&&"normal"===S.value?1.2*b:17===S.type?b*S.number:ys(S)?Ur(S,b):b},UA={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(S,b){return 20===b.type&&"none"===b.value?null:Od_parse(S,b)}},Ol={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(S,b){return"inside"===b?0:1}},Ku={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(S,b){switch(b){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Zu=function(S){return{name:"margin-"+S,initialValue:"0",prefix:!1,type:4}},su=Zu("top"),vg=Zu("right"),HA=Zu("bottom"),Nh=Zu("left"),Wu={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(S,b){return b.filter(qi).map(function(D){switch(D.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},Uh={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(S,b){return"break-word"===b?"break-word":"normal"}},Hh=function(S){return{name:"padding-"+S,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},qf=Hh("top"),Bw=Hh("right"),QA=Hh("bottom"),tc=Hh("left"),jd={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(S,b){switch(b){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Qh={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(S,b){switch(b){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},ou={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(S,b){return 1===b.length&&Jc(b[0],"none")?[]:br(b).map(function(D){for(var E={color:Jl.TRANSPARENT,offsetX:co,offsetY:co,blur:co},P=0,G=0;G<D.length;G++){var X=D[G];Ic(X)?(0===P?E.offsetX=X:1===P?E.offsetY=X:E.blur=X,P++):E.color=Bl_parse(S,X)}return E})}},Bc={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(S,b){switch(b){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},wg={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(S,b){if(20===b.type&&"none"===b.value)return null;if(18===b.type){var D=Kf[b.name];if(typeof D>"u")throw new Error('Attempting to parse an unsupported transform function "'+b.name+'"');return D(b.values)}return null}},Kf={matrix:function(S){var b=S.filter(function(D){return 17===D.type}).map(function(D){return D.number});return 6===b.length?b:null},matrix3d:function(S){var b=S.filter(function(Ae){return 17===Ae.type}).map(function(Ae){return Ae.number});return 16===b.length?[b[0],b[1],b[4],b[5],b[12],b[13]]:null}},jr={type:16,number:50,flags:4},mv=[jr,jr],kw={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(S,b){var D=b.filter(ys);return 2!==D.length?mv:[D[0],D[1]]}},Rw={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(S,b){switch(b){case"hidden":return 1;case"collapse":return 2;default:return 0}}},VA=(()=>{return(S=VA||(VA={})).NORMAL="normal",S.BREAK_ALL="break-all",S.KEEP_ALL="keep-all",VA;var S})(),Zf={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(S,b){switch(b){case"break-all":return VA.BREAK_ALL;case"keep-all":return VA.KEEP_ALL;default:return VA.NORMAL}}},Ow={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(S,b){if(20===b.type)return{auto:!0,order:0};if(Yl(b))return{auto:!1,order:b.number};throw new Error("Invalid z-index number parsed")}},_v={name:"time",parse:function(S,b){if(15===b.type)switch(b.unit.toLowerCase()){case"s":return 1e3*b.number;case"ms":return b.number}throw new Error("Unsupported time type")}},zd={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(S,b){return Yl(b)?b.number:1}},Wf={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},d_={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(S,b){return b.filter(qi).map(function(D){switch(D.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(D){return 0!==D})}},Qs={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(S,b){var D=[],E=[];return b.forEach(function(P){switch(P.type){case 20:case 0:D.push(P.value);break;case 17:D.push(P.number.toString());break;case 4:E.push(D.join(" ")),D.length=0}}),D.length&&E.push(D.join(" ")),E.map(function(P){return-1===P.indexOf(" ")?P:"'"+P+"'"})}},Ll={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Yu={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(S,b){return Yl(b)?b.number:qi(b)&&"bold"===b.value?700:400}},Yf={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(S,b){return b.filter(qi).map(function(D){return D.value})}},yv={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(S,b){switch(b){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},Xn=function(S,b){return 0!=(S&b)},yl={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(S,b){if(0===b.length)return[];var D=b[0];return 20===D.type&&"none"===D.value?[]:b}},vn={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(S,b){if(0===b.length)return null;var D=b[0];if(20===D.type&&"none"===D.value)return null;for(var E=[],P=b.filter(ci),G=0;G<P.length;G++){var X=P[G],fe=P[G+1];if(20===X.type){var Ae=fe&&Yl(fe)?fe.number:1;E.push({counter:X.value,increment:Ae})}}return E}},tn={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(S,b){if(0===b.length)return[];for(var D=[],E=b.filter(ci),P=0;P<E.length;P++){var G=E[P],X=E[P+1];if(qi(G)&&"none"!==G.value){var fe=X&&Yl(X)?X.number:0;D.push({counter:G.value,reset:fe})}}return D}},Ui={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(S,b){return b.filter(Qu).map(function(D){return _v.parse(S,D)})}},jh={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(S,b){if(0===b.length)return null;var D=b[0];if(20===D.type&&"none"===D.value)return null;var E=[],P=b.filter(Td);if(P.length%2!=0)return null;for(var G=0;G<P.length;G+=2)E.push({open:P[G].value,close:P[G+1].value});return E}},zh=function(S,b,D){if(!S)return"";var E=S[Math.min(b,S.length-1)];return E?D?E.open:E.close:""},rs={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(S,b){return 1===b.length&&Jc(b[0],"none")?[]:br(b).map(function(D){for(var E={color:255,offsetX:co,offsetY:co,blur:co,spread:co,inset:!1},P=0,G=0;G<D.length;G++){var X=D[G];Jc(X,"inset")?E.inset=!0:Ic(X)?(0===P?E.offsetX=X:1===P?E.offsetY=X:2===P?E.blur=X:E.spread=X,P++):E.color=Bl_parse(S,X)}return E})}},Gd={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(S,b){var E=[];return b.filter(qi).forEach(function(P){switch(P.value){case"stroke":E.push(1);break;case"fill":E.push(0);break;case"markers":E.push(2)}}),[0,1,2].forEach(function(P){-1===E.indexOf(P)&&E.push(P)}),E}},bg={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Pl={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(S,b){return Qu(b)?b.number:0}},xa=function(){function S(b,D){var E,P;this.animationDuration=gn(b,Ui,D.animationDuration),this.backgroundClip=gn(b,gv,D.backgroundClip),this.backgroundColor=gn(b,Bd,D.backgroundColor),this.backgroundImage=gn(b,Ld,D.backgroundImage),this.backgroundOrigin=gn(b,Qf,D.backgroundOrigin),this.backgroundPosition=gn(b,o_,D.backgroundPosition),this.backgroundRepeat=gn(b,Rl,D.backgroundRepeat),this.backgroundSize=gn(b,PA,D.backgroundSize),this.borderTopColor=gn(b,a_,D.borderTopColor),this.borderRightColor=gn(b,kh,D.borderRightColor),this.borderBottomColor=gn(b,Nd,D.borderBottomColor),this.borderLeftColor=gn(b,_g,D.borderLeftColor),this.borderTopLeftRadius=gn(b,Rh,D.borderTopLeftRadius),this.borderTopRightRadius=gn(b,l_,D.borderTopRightRadius),this.borderBottomRightRadius=gn(b,Xl,D.borderBottomRightRadius),this.borderBottomLeftRadius=gn(b,Ud,D.borderBottomLeftRadius),this.borderTopStyle=gn(b,Oh,D.borderTopStyle),this.borderRightStyle=gn(b,Gu,D.borderRightStyle),this.borderBottomStyle=gn(b,Lh,D.borderBottomStyle),this.borderLeftStyle=gn(b,Ph,D.borderLeftStyle),this.borderTopWidth=gn(b,jf,D.borderTopWidth),this.borderRightWidth=gn(b,zf,D.borderRightWidth),this.borderBottomWidth=gn(b,Hd,D.borderBottomWidth),this.borderLeftWidth=gn(b,c_,D.borderLeftWidth),this.boxShadow=gn(b,rs,D.boxShadow),this.color=gn(b,Js,D.color),this.direction=gn(b,yg,D.direction),this.display=gn(b,Gf,D.display),this.float=gn(b,u_,D.cssFloat),this.fontFamily=gn(b,Qs,D.fontFamily),this.fontSize=gn(b,Ll,D.fontSize),this.fontStyle=gn(b,yv,D.fontStyle),this.fontVariant=gn(b,Yf,D.fontVariant),this.fontWeight=gn(b,Yu,D.fontWeight),this.letterSpacing=gn(b,Ir,D.letterSpacing),this.lineBreak=gn(b,NA,D.lineBreak),this.lineHeight=gn(b,Qd,D.lineHeight),this.listStyleImage=gn(b,UA,D.listStyleImage),this.listStylePosition=gn(b,Ol,D.listStylePosition),this.listStyleType=gn(b,Ku,D.listStyleType),this.marginTop=gn(b,su,D.marginTop),this.marginRight=gn(b,vg,D.marginRight),this.marginBottom=gn(b,HA,D.marginBottom),this.marginLeft=gn(b,Nh,D.marginLeft),this.opacity=gn(b,zd,D.opacity);var G=gn(b,Wu,D.overflow);this.overflowX=G[0],this.overflowY=G[G.length>1?1:0],this.overflowWrap=gn(b,Uh,D.overflowWrap),this.paddingTop=gn(b,qf,D.paddingTop),this.paddingRight=gn(b,Bw,D.paddingRight),this.paddingBottom=gn(b,QA,D.paddingBottom),this.paddingLeft=gn(b,tc,D.paddingLeft),this.paintOrder=gn(b,Gd,D.paintOrder),this.position=gn(b,Qh,D.position),this.textAlign=gn(b,jd,D.textAlign),this.textDecorationColor=gn(b,Wf,null!==(E=D.textDecorationColor)&&void 0!==E?E:D.color),this.textDecorationLine=gn(b,d_,null!==(P=D.textDecorationLine)&&void 0!==P?P:D.textDecoration),this.textShadow=gn(b,ou,D.textShadow),this.textTransform=gn(b,Bc,D.textTransform),this.transform=gn(b,wg,D.transform),this.transformOrigin=gn(b,kw,D.transformOrigin),this.visibility=gn(b,Rw,D.visibility),this.webkitTextStrokeColor=gn(b,bg,D.webkitTextStrokeColor),this.webkitTextStrokeWidth=gn(b,Pl,D.webkitTextStrokeWidth),this.wordBreak=gn(b,Zf,D.wordBreak),this.zIndex=gn(b,Ow,D.zIndex)}return S.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},S.prototype.isTransparent=function(){return $l(this.backgroundColor)},S.prototype.isTransformed=function(){return null!==this.transform},S.prototype.isPositioned=function(){return 0!==this.position},S.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},S.prototype.isFloating=function(){return 0!==this.float},S.prototype.isInlineLevel=function(){return Xn(this.display,4)||Xn(this.display,33554432)||Xn(this.display,268435456)||Xn(this.display,536870912)||Xn(this.display,67108864)||Xn(this.display,134217728)},S}(),$f=function S(b,D){this.content=gn(b,yl,D.content),this.quotes=gn(b,jh,D.quotes)},nc=function S(b,D){this.counterIncrement=gn(b,vn,D.counterIncrement),this.counterReset=gn(b,tn,D.counterReset)},gn=function(S,b,D){var E=new Ho,P=null!==D&&typeof D<"u"?D.toString():b.initialValue;E.write(P);var G=new Dh(E.read());switch(b.type){case 2:var X=G.parseComponentValue();return b.parse(S,qi(X)?X.value:b.initialValue);case 0:return b.parse(S,G.parseComponentValue());case 1:return b.parse(S,G.parseComponentValues());case 4:return G.parseComponentValue();case 3:switch(b.format){case"angle":return Ws_parse(S,G.parseComponentValue());case"color":return Bl_parse(S,G.parseComponentValue());case"image":return Od_parse(S,G.parseComponentValue());case"length":var fe=G.parseComponentValue();return Ic(fe)?fe:co;case"length-percentage":var Ae=G.parseComponentValue();return ys(Ae)?Ae:co;case"time":return _v.parse(S,G.parseComponentValue())}}},H=function(S,b){var D=function(S){switch(S.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(S);return 1===D||b===D},j=function S(b,D){this.context=b,this.textNodes=[],this.elements=[],this.flags=0,H(D,3),this.styles=new xa(b,window.getComputedStyle(D,null)),Pg(D)&&(this.styles.animationDuration.some(function(E){return E>0})&&(D.style.animationDuration="0s"),null!==this.styles.transform&&(D.style.transform="none")),this.bounds=bt(this.context,D),H(D,4)&&(this.flags|=16)},ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",je=typeof Uint8Array>"u"?[]:new Uint8Array(256),at=0;at<ge.length;at++)je[ge.charCodeAt(at)]=at;for(var gr=function(S,b,D){return S.slice?S.slice(b,D):new Uint16Array(Array.prototype.slice.call(S,b,D))},vv=function(){function S(b,D,E,P,G,X){this.initialValue=b,this.errorValue=D,this.highStart=E,this.highValueIndex=P,this.index=G,this.data=X}return S.prototype.get=function(b){var D;if(b>=0){if(b<55296||b>56319&&b<=65535)return this.data[D=((D=this.index[b>>5])<<2)+(31&b)];if(b<=65535)return this.data[D=((D=this.index[2048+(b-55296>>5)])<<2)+(31&b)];if(b<this.highStart)return D=this.index[D=2080+(b>>11)],this.data[D=((D=this.index[D+=b>>5&63])<<2)+(31&b)];if(b<=1114111)return this.data[this.highValueIndex]}return this.errorValue},S}(),Jf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ic=typeof Uint8Array>"u"?[]:new Uint8Array(256),kc=0;kc<Jf.length;kc++)ic[Jf.charCodeAt(kc)]=kc;var zA=8,GA=9,Fi=11,qA=12,au=function(){for(var S=[],b=0;b<arguments.length;b++)S[b]=arguments[b];if(String.fromCodePoint)return String.fromCodePoint.apply(String,S);var D=S.length;if(!D)return"";for(var E=[],P=-1,G="";++P<D;){var X=S[P];X<=65535?E.push(X):E.push(55296+((X-=65536)>>10),X%1024+56320),(P+1===D||E.length>16384)&&(G+=String.fromCharCode.apply(String,E),E.length=0)}return G},A_=function(S,b){var D=function(S){var E,G,X,fe,Ae,b=.75*S.length,D=S.length,P=0;"="===S[S.length-1]&&(b--,"="===S[S.length-2]&&b--);var Le=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(b):new Array(b),ze=Array.isArray(Le)?Le:new Uint8Array(Le);for(E=0;E<D;E+=4)G=je[S.charCodeAt(E)],X=je[S.charCodeAt(E+1)],fe=je[S.charCodeAt(E+2)],Ae=je[S.charCodeAt(E+3)],ze[P++]=G<<2|X>>4,ze[P++]=(15&X)<<4|fe>>2,ze[P++]=(3&fe)<<6|63&Ae;return Le}(S),E=Array.isArray(D)?function(S){for(var b=S.length,D=[],E=0;E<b;E+=4)D.push(S[E+3]<<24|S[E+2]<<16|S[E+1]<<8|S[E]);return D}(D):new Uint32Array(D),P=Array.isArray(D)?function(S){for(var b=S.length,D=[],E=0;E<b;E+=2)D.push(S[E+1]<<8|S[E]);return D}(D):new Uint16Array(D),X=gr(P,12,E[4]/2),fe=2===E[5]?gr(P,(24+E[4])/2):function(S,b,D){return S.slice?S.slice(b,D):new Uint32Array(Array.prototype.slice.call(S,b,D))}(E,Math.ceil((24+E[4])/4));return new vv(E[0],E[1],E[2],E[3],X,fe)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),Lw=function(S){return A_.get(S)},Qo=function(S,b,D){var E=D-2,P=b[E],G=b[D-1],X=b[D];if(2===G&&3===X)return"\xd7";if(2===G||3===G||4===G||2===X||3===X||4===X)return"\xf7";if(G===zA&&-1!==[zA,GA,Fi,qA].indexOf(X)||(G===Fi||G===GA)&&(X===GA||10===X)||(G===qA||10===G)&&10===X||13===X||5===X||7===X||1===G)return"\xd7";if(13===G&&14===X){for(;5===P;)P=b[--E];if(14===P)return"\xd7"}if(15===G&&15===X){for(var fe=0;15===P;)fe++,P=b[--E];if(fe%2==0)return"\xd7"}return"\xf7"},Vo=function(S){var b=function(S){for(var b=[],D=0,E=S.length;D<E;){var P=S.charCodeAt(D++);if(P>=55296&&P<=56319&&D<E){var G=S.charCodeAt(D++);56320==(64512&G)?b.push(((1023&P)<<10)+(1023&G)+65536):(b.push(P),D--)}else b.push(P)}return b}(S),D=b.length,E=0,P=0,G=b.map(Lw);return{next:function(){if(E>=D)return{done:!0,value:null};for(var X="\xd7";E<D&&"\xd7"===(X=Qo(0,G,++E)););if("\xd7"!==X||E===D){var fe=au.apply(null,b.slice(P,E));return P=E,{value:fe,done:!1}}return{done:!0,value:null}}}},Sv=function(S){return 0===S[0]&&255===S[1]&&0===S[2]&&255===S[3]},ep=function(S,b,D,E,P){var G="http://www.w3.org/2000/svg",X=document.createElementNS(G,"svg"),fe=document.createElementNS(G,"foreignObject");return X.setAttributeNS(null,"width",S.toString()),X.setAttributeNS(null,"height",b.toString()),fe.setAttributeNS(null,"width","100%"),fe.setAttributeNS(null,"height","100%"),fe.setAttributeNS(null,"x",D.toString()),fe.setAttributeNS(null,"y",E.toString()),fe.setAttributeNS(null,"externalResourcesRequired","true"),X.appendChild(fe),fe.appendChild(P),X},tp=function(S){return new Promise(function(b,D){var E=new Image;E.onload=function(){return b(E)},E.onerror=D,E.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(S))})},As={get SUPPORT_RANGE_BOUNDS(){var S=function(S){if(S.createRange){var D=S.createRange();if(D.getBoundingClientRect){var E=S.createElement("boundtest");E.style.height="123px",E.style.display="block",S.body.appendChild(E),D.selectNode(E);var P=D.getBoundingClientRect(),G=Math.round(P.height);if(S.body.removeChild(E),123===G)return!0}}return!1}(document);return Object.defineProperty(As,"SUPPORT_RANGE_BOUNDS",{value:S}),S},get SUPPORT_WORD_BREAKING(){var S=As.SUPPORT_RANGE_BOUNDS&&function(S){var b=S.createElement("boundtest");b.style.width="50px",b.style.display="block",b.style.fontSize="12px",b.style.letterSpacing="0px",b.style.wordSpacing="0px",S.body.appendChild(b);var D=S.createRange();b.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var E=b.firstChild,P=vt(E.data).map(function(Ae){return dt(Ae)}),G=0,X={},fe=P.every(function(Ae,Le){D.setStart(E,G),D.setEnd(E,G+Ae.length);var ze=D.getBoundingClientRect();G+=Ae.length;var Xe=ze.x>X.x||ze.y>X.y;return X=ze,0===Le||Xe});return S.body.removeChild(b),fe}(document);return Object.defineProperty(As,"SUPPORT_WORD_BREAKING",{value:S}),S},get SUPPORT_SVG_DRAWING(){var S=function(S){var b=new Image,D=S.createElement("canvas"),E=D.getContext("2d");if(!E)return!1;b.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{E.drawImage(b,0,0),D.toDataURL()}catch{return!1}return!0}(document);return Object.defineProperty(As,"SUPPORT_SVG_DRAWING",{value:S}),S},get SUPPORT_FOREIGNOBJECT_DRAWING(){var S="function"==typeof Array.from&&"function"==typeof window.fetch?function(S){var b=S.createElement("canvas"),D=100;b.width=D,b.height=D;var E=b.getContext("2d");if(!E)return Promise.reject(!1);E.fillStyle="rgb(0, 255, 0)",E.fillRect(0,0,D,D);var P=new Image,G=b.toDataURL();P.src=G;var X=ep(D,D,0,0,P);return E.fillStyle="red",E.fillRect(0,0,D,D),tp(X).then(function(fe){E.drawImage(fe,0,0);var Ae=E.getImageData(0,0,D,D).data;E.fillStyle="red",E.fillRect(0,0,D,D);var Le=S.createElement("div");return Le.style.backgroundImage="url("+G+")",Le.style.height=D+"px",Sv(Ae)?tp(ep(D,D,0,0,Le)):Promise.reject(!1)}).then(function(fe){return E.drawImage(fe,0,0),Sv(E.getImageData(0,0,D,D).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(As,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:S}),S},get SUPPORT_CORS_IMAGES(){var S=typeof(new Image).crossOrigin<"u";return Object.defineProperty(As,"SUPPORT_CORS_IMAGES",{value:S}),S},get SUPPORT_RESPONSE_TYPE(){var S="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(As,"SUPPORT_RESPONSE_TYPE",{value:S}),S},get SUPPORT_CORS_XHR(){var S="withCredentials"in new XMLHttpRequest;return Object.defineProperty(As,"SUPPORT_CORS_XHR",{value:S}),S},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var S=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(As,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:S}),S}},ei=function S(b,D){this.text=b,this.bounds=D},Iv=function(S,b){var D=b.ownerDocument;if(D){var E=D.createElement("html2canvaswrapper");E.appendChild(b.cloneNode(!0));var P=b.parentNode;if(P){P.replaceChild(E,b);var G=bt(S,E);return E.firstChild&&P.replaceChild(E.firstChild,E),G}}return ht.EMPTY},lu=function(S,b,D){var E=S.ownerDocument;if(!E)throw new Error("Node has no owner document");var P=E.createRange();return P.setStart(S,b),P.setEnd(S,b+D),P},jo=function(S){if(As.SUPPORT_NATIVE_TEXT_SEGMENTATION){var b=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(b.segment(S)).map(function(D){return D.segment})}return function(S){for(var E,b=Vo(S),D=[];!(E=b.next()).done;)E.value&&D.push(E.value.slice());return D}(S)},Dg=function(S,b){return 0!==b.letterSpacing?jo(S):function(S,b){if(As.SUPPORT_NATIVE_TEXT_SEGMENTATION){var D=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(D.segment(S)).map(function(E){return E.segment})}return Tg(S,b)}(S,b)},Dv=[32,160,4961,65792,65793,4153,4241],Tg=function(S,b){for(var P,D=function(S,b){var D=vt(S),E=kf(D,b),P=E[0],G=E[1],X=E[2],fe=D.length,Ae=0,Le=0;return{next:function(){if(Le>=fe)return{done:!0,value:null};for(var ze=Yt;Le<fe&&(ze=vh(D,G,P,++Le,X))===Yt;);if(ze!==Yt||Le===fe){var Xe=new cg(D,ze,Ae,Le);return Ae=Le,{value:Xe,done:!1}}return{done:!0,value:null}}}}(S,{lineBreak:b.lineBreak,wordBreak:"break-word"===b.overflowWrap?"break-word":b.wordBreak}),E=[],G=function(){if(P.value){var X=P.value.slice(),fe=vt(X),Ae="";fe.forEach(function(Le){-1===Dv.indexOf(Le)?Ae+=dt(Le):(Ae.length&&E.push(Ae),E.push(dt(Le)),Ae="")}),Ae.length&&E.push(Ae)}};!(P=D.next()).done;)G();return E},ZA=function S(b,D,E){this.text=Mg(D.data,E.textTransform),this.textBounds=function(S,b,D,E){var P=Dg(b,D),G=[],X=0;return P.forEach(function(fe){if(D.textDecorationLine.length||fe.trim().length>0)if(As.SUPPORT_RANGE_BOUNDS){var Ae=lu(E,X,fe.length).getClientRects();if(Ae.length>1){var Le=jo(fe),ze=0;Le.forEach(function(It){G.push(new ei(It,ht.fromDOMRectList(S,lu(E,ze+X,It.length).getClientRects()))),ze+=It.length})}else G.push(new ei(fe,ht.fromDOMRectList(S,Ae)))}else{var Xe=E.splitText(fe.length);G.push(new ei(fe,Iv(S,E))),E=Xe}else As.SUPPORT_RANGE_BOUNDS||(E=E.splitText(fe.length));X+=fe.length}),G}(b,this.text,E,D)},Mg=function(S,b){switch(b){case 1:return S.toLowerCase();case 3:return S.replace(np,g_);case 2:return S.toUpperCase();default:return S}},np=/(^|\s|:|-|\(|\))([a-z])/g,g_=function(S,b,D){return S.length>0?b+D.toUpperCase():S},ip=function(S){function b(D,E){var P=S.call(this,D,E)||this;return P.src=E.currentSrc||E.src,P.intrinsicWidth=E.naturalWidth,P.intrinsicHeight=E.naturalHeight,P.context.cache.addImage(P.src),P}return se(b,S),b}(j),WA=function(S){function b(D,E){var P=S.call(this,D,E)||this;return P.canvas=E,P.intrinsicWidth=E.width,P.intrinsicHeight=E.height,P}return se(b,S),b}(j),m_=function(S){function b(D,E){var P=S.call(this,D,E)||this,G=new XMLSerializer,X=bt(D,E);return E.setAttribute("width",X.width+"px"),E.setAttribute("height",X.height+"px"),P.svg="data:image/svg+xml,"+encodeURIComponent(G.serializeToString(E)),P.intrinsicWidth=E.width.baseVal.value,P.intrinsicHeight=E.height.baseVal.value,P.context.cache.addImage(P.svg),P}return se(b,S),b}(j),Zh=function(S){function b(D,E){var P=S.call(this,D,E)||this;return P.value=E.value,P}return se(b,S),b}(j),rp=function(S){function b(D,E){var P=S.call(this,D,E)||this;return P.start=E.start,P.reversed="boolean"==typeof E.reversed&&!0===E.reversed,P}return se(b,S),b}(j),Tv=[{type:15,flags:0,unit:"px",number:3}],__=[{type:16,flags:0,number:50}],Fg="checkbox",kg="radio",y_="password",op=707406591,YA=function(S){function b(D,E){var P=S.call(this,D,E)||this;switch(P.type=E.type.toLowerCase(),P.checked=E.checked,P.value=function(S){var b=S.type===y_?new Array(S.value.length+1).join("\u2022"):S.value;return 0===b.length?S.placeholder||"":b}(E),(P.type===Fg||P.type===kg)&&(P.styles.backgroundColor=3739148031,P.styles.borderTopColor=P.styles.borderRightColor=P.styles.borderBottomColor=P.styles.borderLeftColor=2779096575,P.styles.borderTopWidth=P.styles.borderRightWidth=P.styles.borderBottomWidth=P.styles.borderLeftWidth=1,P.styles.borderTopStyle=P.styles.borderRightStyle=P.styles.borderBottomStyle=P.styles.borderLeftStyle=1,P.styles.backgroundClip=[0],P.styles.backgroundOrigin=[0],P.bounds=function(S){return S.width>S.height?new ht(S.left+(S.width-S.height)/2,S.top,S.height,S.height):S.width<S.height?new ht(S.left,S.top+(S.height-S.width)/2,S.width,S.width):S}(P.bounds)),P.type){case Fg:P.styles.borderTopRightRadius=P.styles.borderTopLeftRadius=P.styles.borderBottomRightRadius=P.styles.borderBottomLeftRadius=Tv;break;case kg:P.styles.borderTopRightRadius=P.styles.borderTopLeftRadius=P.styles.borderBottomRightRadius=P.styles.borderBottomLeftRadius=__}return P}return se(b,S),b}(j),v_=function(S){function b(D,E){var P=S.call(this,D,E)||this,G=E.options[E.selectedIndex||0];return P.value=G&&G.text||"",P}return se(b,S),b}(j),Nl=function(S){function b(D,E){var P=S.call(this,D,E)||this;return P.value=E.value,P}return se(b,S),b}(j),uu=function(S){function b(D,E){var P=S.call(this,D,E)||this;P.src=E.src,P.width=parseInt(E.width,10)||0,P.height=parseInt(E.height,10)||0,P.backgroundColor=P.styles.backgroundColor;try{if(E.contentWindow&&E.contentWindow.document&&E.contentWindow.document.documentElement){P.tree=Lg(D,E.contentWindow.document.documentElement);var G=E.contentWindow.document.documentElement?eu(D,getComputedStyle(E.contentWindow.document.documentElement).backgroundColor):Jl.TRANSPARENT,X=E.contentWindow.document.body?eu(D,getComputedStyle(E.contentWindow.document.body).backgroundColor):Jl.TRANSPARENT;P.backgroundColor=$l(G)?$l(X)?P.styles.backgroundColor:X:G}}catch{}return P}return se(b,S),b}(j),Rg=["OL","UL","MENU"],ap=function(S,b,D,E){for(var P=b.firstChild,G=void 0;P;P=G)if(G=P.nextSibling,qd(P)&&P.data.trim().length>0)D.textNodes.push(new ZA(S,P,D.styles));else if(Rc(P))if(up(P)&&P.assignedNodes)P.assignedNodes().forEach(function(fe){return ap(S,fe,D,E)});else{var X=Og(S,P);X.styles.isVisible()&&(Pw(P,X,E)?X.flags|=4:lp(X.styles)&&(X.flags|=2),-1!==Rg.indexOf(P.tagName)&&(X.flags|=8),D.elements.push(X),P.shadowRoot?ap(S,P.shadowRoot,X,E):!Zd(P)&&!b_(P)&&!Ka(P)&&ap(S,P,X,E))}},Og=function(S,b){return Ug(b)?new ip(S,b):Yh(b)?new WA(S,b):b_(b)?new m_(S,b):Ng(b)?new Zh(S,b):Wh(b)?new rp(S,b):w_(b)?new YA(S,b):Ka(b)?new v_(S,b):Zd(b)?new Nl(S,b):$h(b)?new uu(S,b):new j(S,b)},Lg=function(S,b){var D=Og(S,b);return D.flags|=4,ap(S,b,D,D),D},Pw=function(S,b,D){return b.styles.isPositionedWithZIndex()||b.styles.opacity<1||b.styles.isTransformed()||cp(S)&&D.styles.isTransparent()},lp=function(S){return S.isPositioned()||S.isFloating()},qd=function(S){return S.nodeType===Node.TEXT_NODE},Rc=function(S){return S.nodeType===Node.ELEMENT_NODE},Pg=function(S){return Rc(S)&&typeof S.style<"u"&&!Kd(S)},Kd=function(S){return"object"==typeof S.className},Ng=function(S){return"LI"===S.tagName},Wh=function(S){return"OL"===S.tagName},w_=function(S){return"INPUT"===S.tagName},b_=function(S){return"svg"===S.tagName},cp=function(S){return"BODY"===S.tagName},Yh=function(S){return"CANVAS"===S.tagName},sc=function(S){return"VIDEO"===S.tagName},Ug=function(S){return"IMG"===S.tagName},$h=function(S){return"IFRAME"===S.tagName},Hg=function(S){return"STYLE"===S.tagName},Zd=function(S){return"TEXTAREA"===S.tagName},Ka=function(S){return"SELECT"===S.tagName},up=function(S){return"SLOT"===S.tagName},Ju=function(S){return S.tagName.indexOf("-")>0},dp=function(){function S(){this.counters={}}return S.prototype.getCounterValue=function(b){var D=this.counters[b];return D&&D.length?D[D.length-1]:1},S.prototype.getCounterValues=function(b){return this.counters[b]||[]},S.prototype.pop=function(b){var D=this;b.forEach(function(E){return D.counters[E].pop()})},S.prototype.parse=function(b){var D=this,E=b.counterIncrement,P=b.counterReset,G=!0;null!==E&&E.forEach(function(fe){var Ae=D.counters[fe.counter];Ae&&0!==fe.increment&&(G=!1,Ae.length||Ae.push(1),Ae[Math.max(0,Ae.length-1)]+=fe.increment)});var X=[];return G&&P.forEach(function(fe){var Ae=D.counters[fe.counter];X.push(fe.counter),Ae||(Ae=D.counters[fe.counter]=[]),Ae.push(fe.reset)}),X},S}(),$A={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},C_={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},Qg={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},Vg={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},Jh=function(S,b,D,E,P,G){return S<b||S>D?aa(S,P,G.length>0):E.integers.reduce(function(X,fe,Ae){for(;S>=fe;)S-=fe,X+=E.values[Ae];return X},"")+G},Wd=function(S,b,D,E){var P="";do{D||S--,P=E(S)+P,S/=b}while(S*b>=b);return P},Ms=function(S,b,D,E,P){var G=D-b+1;return(S<0?"-":"")+(Wd(Math.abs(S),G,E,function(X){return dt(Math.floor(X%G)+b)})+P)},du=function(S,b,D){void 0===D&&(D=". ");var E=b.length;return Wd(Math.abs(S),E,!1,function(P){return b[Math.floor(P%E)]})+D},Oc=function(S,b,D,E,P,G){if(S<-9999||S>9999)return aa(S,4,P.length>0);var X=Math.abs(S),fe=P;if(0===X)return b[0]+fe;for(var Ae=0;X>0&&Ae<=4;Ae++){var Le=X%10;0===Le&&Xn(G,1)&&""!==fe?fe=b[Le]+fe:Le>1||1===Le&&0===Ae||1===Le&&1===Ae&&Xn(G,2)||1===Le&&1===Ae&&Xn(G,4)&&S>100||1===Le&&Ae>1&&Xn(G,8)?fe=b[Le]+(Ae>0?D[Ae-1]:"")+fe:1===Le&&Ae>0&&(fe=D[Ae-1]+fe),X=Math.floor(X/10)}return(S<0?E:"")+fe},$d="\ub9c8\uc774\ub108\uc2a4",aa=function(S,b,D){var E=D?". ":"",P=D?"\u3001":"",G=D?", ":"",X=D?" ":"";switch(b){case 0:return"\u2022"+X;case 1:return"\u25e6"+X;case 2:return"\u25fe"+X;case 5:var fe=Ms(S,48,57,!0,E);return fe.length<4?"0"+fe:fe;case 4:return du(S,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",P);case 6:return Jh(S,1,3999,$A,3,E).toLowerCase();case 7:return Jh(S,1,3999,$A,3,E);case 8:return Ms(S,945,969,!1,E);case 9:return Ms(S,97,122,!1,E);case 10:return Ms(S,65,90,!1,E);case 11:return Ms(S,1632,1641,!0,E);case 12:case 49:return Jh(S,1,9999,C_,3,E);case 35:return Jh(S,1,9999,C_,3,E).toLowerCase();case 13:return Ms(S,2534,2543,!0,E);case 14:case 30:return Ms(S,6112,6121,!0,E);case 15:return du(S,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",P);case 16:return du(S,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",P);case 17:case 48:return Oc(S,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8ca0",P,14);case 47:return Oc(S,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8ca0",P,15);case 42:return Oc(S,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8d1f",P,14);case 41:return Oc(S,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8d1f",P,15);case 26:return Oc(S,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",P,0);case 25:return Oc(S,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",P,7);case 31:return Oc(S,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",$d,G,7);case 33:return Oc(S,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",$d,G,0);case 32:return Oc(S,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",$d,G,7);case 18:return Ms(S,2406,2415,!0,E);case 20:return Jh(S,1,19999,Vg,3,E);case 21:return Ms(S,2790,2799,!0,E);case 22:return Ms(S,2662,2671,!0,E);case 22:return Jh(S,1,10999,Qg,3,E);case 23:return du(S,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return du(S,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Ms(S,3302,3311,!0,E);case 28:return du(S,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",P);case 29:return du(S,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",P);case 34:return Ms(S,3792,3801,!0,E);case 37:return Ms(S,6160,6169,!0,E);case 38:return Ms(S,4160,4169,!0,E);case 39:return Ms(S,2918,2927,!0,E);case 40:return Ms(S,1776,1785,!0,E);case 43:return Ms(S,3046,3055,!0,E);case 44:return Ms(S,3174,3183,!0,E);case 45:return Ms(S,3664,3673,!0,E);case 46:return Ms(S,3872,3881,!0,E);default:return Ms(S,48,57,!0,E)}},Ul="data-html2canvas-ignore",Za=function(){function S(b,D,E){if(this.context=b,this.options=E,this.scrolledElements=[],this.referenceElement=D,this.counters=new dp,this.quoteDepth=0,!D.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(D.ownerDocument.documentElement,!1)}return S.prototype.toIFrame=function(b,D){var E=this,P=Hw(b,D);if(!P.contentWindow)return Promise.reject("Unable to find iframe window");var G=b.defaultView.pageXOffset,X=b.defaultView.pageYOffset,fe=P.contentWindow,Ae=fe.document,Le=x_(P).then(function(){return Ge(E,void 0,void 0,function(){var ze,Xe;return ue(this,function(It){switch(It.label){case 0:return this.scrolledElements.forEach(pp),fe&&(fe.scrollTo(D.left,D.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(fe.scrollY!==D.top||fe.scrollX!==D.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(fe.scrollX-D.left,fe.scrollY-D.top,0,0))),ze=this.options.onclone,typeof(Xe=this.clonedReferenceElement)>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:Ae.fonts&&Ae.fonts.ready?[4,Ae.fonts.ready]:[3,2];case 1:It.sent(),It.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,ef(Ae)]:[3,4];case 3:It.sent(),It.label=4;case 4:return"function"==typeof ze?[2,Promise.resolve().then(function(){return ze(Ae,Xe)}).then(function(){return P})]:[2,P]}})})});return Ae.open(),Ae.write(fp(document.doctype)+"<html></html>"),fu(this.referenceElement.ownerDocument,G,X),Ae.replaceChild(Ae.adoptNode(this.documentElement),Ae.documentElement),Ae.close(),Le},S.prototype.createElementClone=function(b){if(H(b,2),Yh(b))return this.createCanvasClone(b);if(sc(b))return this.createVideoClone(b);if(Hg(b))return this.createStyleClone(b);var D=b.cloneNode(!1);return Ug(D)&&(Ug(b)&&b.currentSrc&&b.currentSrc!==b.src&&(D.src=b.currentSrc,D.srcset=""),"lazy"===D.loading&&(D.loading="eager")),Ju(D)?this.createCustomElementClone(D):D},S.prototype.createCustomElementClone=function(b){var D=document.createElement("html2canvascustomelement");return Jd(b.style,D),D},S.prototype.createStyleClone=function(b){try{var D=b.sheet;if(D&&D.cssRules){var E=[].slice.call(D.cssRules,0).reduce(function(G,X){return X&&"string"==typeof X.cssText?G+X.cssText:G},""),P=b.cloneNode(!1);return P.textContent=E,P}}catch(G){if(this.context.logger.error("Unable to access cssRules property",G),"SecurityError"!==G.name)throw G}return b.cloneNode(!1)},S.prototype.createCanvasClone=function(b){var D;if(this.options.inlineImages&&b.ownerDocument){var E=b.ownerDocument.createElement("img");try{return E.src=b.toDataURL(),E}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",b)}}var P=b.cloneNode(!1);try{P.width=b.width,P.height=b.height;var G=b.getContext("2d"),X=P.getContext("2d");if(X)if(!this.options.allowTaint&&G)X.putImageData(G.getImageData(0,0,b.width,b.height),0,0);else{var fe=null!==(D=b.getContext("webgl2"))&&void 0!==D?D:b.getContext("webgl");fe&&!1===fe.getContextAttributes()?.preserveDrawingBuffer&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",b),X.drawImage(b,0,0)}return P}catch{this.context.logger.info("Unable to clone canvas as it is tainted",b)}return P},S.prototype.createVideoClone=function(b){var D=b.ownerDocument.createElement("canvas");D.width=b.offsetWidth,D.height=b.offsetHeight;var E=D.getContext("2d");try{return E&&(E.drawImage(b,0,0,D.width,D.height),this.options.allowTaint||E.getImageData(0,0,D.width,D.height)),D}catch{this.context.logger.info("Unable to clone video as it is tainted",b)}var P=b.ownerDocument.createElement("canvas");return P.width=b.offsetWidth,P.height=b.offsetHeight,P},S.prototype.appendChildNode=function(b,D,E){(!Rc(D)||!function(S){return"SCRIPT"===S.tagName}(D)&&!D.hasAttribute(Ul)&&("function"!=typeof this.options.ignoreElements||!this.options.ignoreElements(D)))&&(!this.options.copyStyles||!Rc(D)||!Hg(D))&&b.appendChild(this.cloneNode(D,E))},S.prototype.cloneChildNodes=function(b,D,E){for(var P=this,G=b.shadowRoot?b.shadowRoot.firstChild:b.firstChild;G;G=G.nextSibling)if(Rc(G)&&up(G)&&"function"==typeof G.assignedNodes){var X=G.assignedNodes();X.length&&X.forEach(function(fe){return P.appendChildNode(D,fe,E)})}else this.appendChildNode(D,G,E)},S.prototype.cloneNode=function(b,D){if(qd(b))return document.createTextNode(b.data);if(!b.ownerDocument)return b.cloneNode(!1);var E=b.ownerDocument.defaultView;if(E&&Rc(b)&&(Pg(b)||Kd(b))){var P=this.createElementClone(b);P.style.transitionProperty="none";var G=E.getComputedStyle(b),X=E.getComputedStyle(b,":before"),fe=E.getComputedStyle(b,":after");this.referenceElement===b&&Pg(P)&&(this.clonedReferenceElement=P),cp(P)&&gp(P);var Ae=this.counters.parse(new nc(this.context,G)),Le=this.resolvePseudoContent(b,P,X,Lc.BEFORE);Ju(b)&&(D=!0),sc(b)||this.cloneChildNodes(b,P,D),Le&&P.insertBefore(Le,P.firstChild);var ze=this.resolvePseudoContent(b,P,fe,Lc.AFTER);return ze&&P.appendChild(ze),this.counters.pop(Ae),(G&&(this.options.copyStyles||Kd(b))&&!$h(b)||D)&&Jd(G,P),(0!==b.scrollTop||0!==b.scrollLeft)&&this.scrolledElements.push([P,b.scrollLeft,b.scrollTop]),(Zd(b)||Ka(b))&&(Zd(P)||Ka(P))&&(P.value=b.value),P}return b.cloneNode(!1)},S.prototype.resolvePseudoContent=function(b,D,E,P){var G=this;if(E){var X=E.content,fe=D.ownerDocument;if(fe&&X&&"none"!==X&&"-moz-alt-content"!==X&&"none"!==E.display){this.counters.parse(new nc(this.context,E));var Ae=new $f(this.context,E),Le=fe.createElement("html2canvaspseudoelement");Jd(E,Le),Ae.content.forEach(function(Xe){if(0===Xe.type)Le.appendChild(fe.createTextNode(Xe.value));else if(22===Xe.type){var It=fe.createElement("img");It.src=Xe.value,It.style.opacity="1",Le.appendChild(It)}else if(18===Xe.type){if("attr"===Xe.name){var Rn=Xe.values.filter(qi);Rn.length&&Le.appendChild(fe.createTextNode(b.getAttribute(Rn[0].value)||""))}else if("counter"===Xe.name){var cn=Xe.values.filter(Xc),Ki=cn[1];if((Cn=cn[0])&&qi(Cn)){var Yn=G.counters.getCounterValue(Cn.value),Gn=Ki&&qi(Ki)?Ku.parse(G.context,Ki.value):3;Le.appendChild(fe.createTextNode(aa(Yn,Gn,!1)))}}else if("counters"===Xe.name){var Cn,Fr=Xe.values.filter(Xc),Xi=Fr[1];if(Ki=Fr[2],(Cn=Fr[0])&&qi(Cn)){var Ai=G.counters.getCounterValues(Cn.value),Tn=Ki&&qi(Ki)?Ku.parse(G.context,Ki.value):3,ur=Xi&&0===Xi.type?Xi.value:"",sr=Ai.map(function(oc){return aa(oc,Tn,!1)}).join(ur);Le.appendChild(fe.createTextNode(sr))}}}else if(20===Xe.type)switch(Xe.value){case"open-quote":Le.appendChild(fe.createTextNode(zh(Ae.quotes,G.quoteDepth++,!0)));break;case"close-quote":Le.appendChild(fe.createTextNode(zh(Ae.quotes,--G.quoteDepth,!1)));break;default:Le.appendChild(fe.createTextNode(Xe.value))}}),Le.className=eA+" "+Gg;var ze=P===Lc.BEFORE?" "+eA:" "+Gg;return Kd(D)?D.className.baseValue+=ze:D.className+=ze,Le}}},S.destroy=function(b){return!!b.parentNode&&(b.parentNode.removeChild(b),!0)},S}(),Lc=(()=>{return(S=Lc||(Lc={}))[S.BEFORE=0]="BEFORE",S[S.AFTER=1]="AFTER",Lc;var S})(),Hw=function(S,b){var D=S.createElement("iframe");return D.className="html2canvas-container",D.style.visibility="hidden",D.style.position="fixed",D.style.left="-10000px",D.style.top="0px",D.style.border="0",D.width=b.width.toString(),D.height=b.height.toString(),D.scrolling="no",D.setAttribute(Ul,"true"),S.body.appendChild(D),D},Au=function(S){return new Promise(function(b){S.complete?b():S.src?(S.onload=b,S.onerror=b):b()})},ef=function(S){return Promise.all([].slice.call(S.images,0).map(Au))},x_=function(S){return new Promise(function(b,D){var E=S.contentWindow;if(!E)return D("No window assigned for iframe");var P=E.document;E.onload=S.onload=function(){E.onload=S.onload=null;var G=setInterval(function(){P.body.childNodes.length>0&&"complete"===P.readyState&&(clearInterval(G),b(S))},50)}})},Ap=["all","d","content"],Jd=function(S,b){for(var D=S.length-1;D>=0;D--){var E=S.item(D);-1===Ap.indexOf(E)&&b.style.setProperty(E,S.getPropertyValue(E))}return b},fp=function(S){var b="";return S&&(b+="<!DOCTYPE ",S.name&&(b+=S.name),S.internalSubset&&(b+=S.internalSubset),S.publicId&&(b+='"'+S.publicId+'"'),S.systemId&&(b+='"'+S.systemId+'"'),b+=">"),b},fu=function(S,b,D){S&&S.defaultView&&(b!==S.defaultView.pageXOffset||D!==S.defaultView.pageYOffset)&&S.defaultView.scrollTo(b,D)},pp=function(S){var b=S[0],E=S[2];b.scrollLeft=S[1],b.scrollTop=E},eA="___html2canvas___pseudoelement_before",Gg="___html2canvas___pseudoelement_after",Wa='{\n    content: "" !important;\n    display: none !important;\n}',gp=function(S){qg(S,"."+eA+":before"+Wa+"\n         ."+Gg+":after"+Wa)},qg=function(S,b){var D=S.ownerDocument;if(D){var E=D.createElement("style");E.textContent=b,S.appendChild(E)}},Pc=function(){function S(){}return S.getOrigin=function(b){var D=S._link;return D?(D.href=b,D.href=D.href,D.protocol+D.hostname+D.port):"about:blank"},S.isSameOrigin=function(b){return S.getOrigin(b)===S._origin},S.setContext=function(b){S._link=b.document.createElement("a"),S._origin=S.getOrigin(b.location.href)},S._origin="about:blank",S}(),Ya=function(){function S(b,D){this.context=b,this._options=D,this._cache={}}return S.prototype.addImage=function(b){var D=Promise.resolve();return this.has(b)||(Zg(b)||Kg(b))&&(this._cache[b]=this.loadImage(b)).catch(function(){}),D},S.prototype.match=function(b){return this._cache[b]},S.prototype.loadImage=function(b){return Ge(this,void 0,void 0,function(){var D,E,P,G,X=this;return ue(this,function(fe){switch(fe.label){case 0:return D=Pc.isSameOrigin(b),E=!nA(b)&&!0===this._options.useCORS&&As.SUPPORT_CORS_IMAGES&&!D,P=!nA(b)&&!D&&!Zg(b)&&"string"==typeof this._options.proxy&&As.SUPPORT_CORS_XHR&&!E,D||!1!==this._options.allowTaint||nA(b)||Zg(b)||P||E?(G=b,P?[4,this.proxy(G)]:[3,2]):[2];case 1:G=fe.sent(),fe.label=2;case 2:return this.context.logger.debug("Added image "+b.substring(0,256)),[4,new Promise(function(Ae,Le){var ze=new Image;ze.onload=function(){return Ae(ze)},ze.onerror=Le,(Qw(G)||E)&&(ze.crossOrigin="anonymous"),ze.src=G,!0===ze.complete&&setTimeout(function(){return Ae(ze)},500),X._options.imageTimeout>0&&setTimeout(function(){return Le("Timed out ("+X._options.imageTimeout+"ms) loading image")},X._options.imageTimeout)})];case 3:return[2,fe.sent()]}})})},S.prototype.has=function(b){return typeof this._cache[b]<"u"},S.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},S.prototype.proxy=function(b){var D=this,E=this._options.proxy;if(!E)throw new Error("No proxy defined");var P=b.substring(0,256);return new Promise(function(G,X){var fe=As.SUPPORT_RESPONSE_TYPE?"blob":"text",Ae=new XMLHttpRequest;Ae.onload=function(){if(200===Ae.status)if("text"===fe)G(Ae.response);else{var Xe=new FileReader;Xe.addEventListener("load",function(){return G(Xe.result)},!1),Xe.addEventListener("error",function(It){return X(It)},!1),Xe.readAsDataURL(Ae.response)}else X("Failed to proxy resource "+P+" with status code "+Ae.status)},Ae.onerror=X;var Le=E.indexOf("?")>-1?"&":"?";if(Ae.open("GET",""+E+Le+"url="+encodeURIComponent(b)+"&responseType="+fe),"text"!==fe&&Ae instanceof XMLHttpRequest&&(Ae.responseType=fe),D._options.imageTimeout){var ze=D._options.imageTimeout;Ae.timeout=ze,Ae.ontimeout=function(){return X("Timed out ("+ze+"ms) proxying "+P)}}Ae.send()})},S}(),tf=/^data:image\/svg\+xml/i,Mv=/^data:image\/.*;base64,/i,tA=/^data:image\/.*/i,Kg=function(S){return As.SUPPORT_SVG_DRAWING||!S_(S)},nA=function(S){return tA.test(S)},Qw=function(S){return Mv.test(S)},Zg=function(S){return"blob"===S.substr(0,4)},S_=function(S){return"svg"===S.substr(-3).toLowerCase()||tf.test(S)},bn=function(){function S(b,D){this.type=0,this.x=b,this.y=D}return S.prototype.add=function(b,D){return new S(this.x+b,this.y+D)},S}(),I=function(S,b,D){return new bn(S.x+(b.x-S.x)*D,S.y+(b.y-S.y)*D)},m=function(){function S(b,D,E,P){this.type=1,this.start=b,this.startControl=D,this.endControl=E,this.end=P}return S.prototype.subdivide=function(b,D){var E=I(this.start,this.startControl,b),P=I(this.startControl,this.endControl,b),G=I(this.endControl,this.end,b),X=I(E,P,b),fe=I(P,G,b),Ae=I(X,fe,b);return D?new S(this.start,E,X,Ae):new S(Ae,fe,G,this.end)},S.prototype.add=function(b,D){return new S(this.start.add(b,D),this.startControl.add(b,D),this.endControl.add(b,D),this.end.add(b,D))},S.prototype.reverse=function(){return new S(this.end,this.endControl,this.startControl,this.start)},S}(),y=function(S){return 1===S.type},B=function S(b){var D=b.styles,E=b.bounds,P=Ni(D.borderTopLeftRadius,E.width,E.height),G=P[0],X=P[1],fe=Ni(D.borderTopRightRadius,E.width,E.height),Ae=fe[0],Le=fe[1],ze=Ni(D.borderBottomRightRadius,E.width,E.height),Xe=ze[0],It=ze[1],Rn=Ni(D.borderBottomLeftRadius,E.width,E.height),cn=Rn[0],Cn=Rn[1],Ki=[];Ki.push((G+Ae)/E.width),Ki.push((cn+Xe)/E.width),Ki.push((X+Cn)/E.height),Ki.push((Le+It)/E.height);var Yn=Math.max.apply(Math,Ki);Yn>1&&(G/=Yn,X/=Yn,Ae/=Yn,Le/=Yn,Xe/=Yn,It/=Yn,cn/=Yn,Cn/=Yn);var Gn=E.width-Ae,Fr=E.height-It,Xi=E.width-Xe,Ai=E.height-Cn,Tn=D.borderTopWidth,ur=D.borderRightWidth,sr=D.borderBottomWidth,Ei=D.borderLeftWidth,Mo=Ur(D.paddingTop,b.bounds.width),oc=Ur(D.paddingRight,b.bounds.width),Nc=Ur(D.paddingBottom,b.bounds.width),ss=Ur(D.paddingLeft,b.bounds.width);this.topLeftBorderDoubleOuterBox=G>0||X>0?Z(E.left+Ei/3,E.top+Tn/3,G-Ei/3,X-Tn/3,V.TOP_LEFT):new bn(E.left+Ei/3,E.top+Tn/3),this.topRightBorderDoubleOuterBox=G>0||X>0?Z(E.left+Gn,E.top+Tn/3,Ae-ur/3,Le-Tn/3,V.TOP_RIGHT):new bn(E.left+E.width-ur/3,E.top+Tn/3),this.bottomRightBorderDoubleOuterBox=Xe>0||It>0?Z(E.left+Xi,E.top+Fr,Xe-ur/3,It-sr/3,V.BOTTOM_RIGHT):new bn(E.left+E.width-ur/3,E.top+E.height-sr/3),this.bottomLeftBorderDoubleOuterBox=cn>0||Cn>0?Z(E.left+Ei/3,E.top+Ai,cn-Ei/3,Cn-sr/3,V.BOTTOM_LEFT):new bn(E.left+Ei/3,E.top+E.height-sr/3),this.topLeftBorderDoubleInnerBox=G>0||X>0?Z(E.left+2*Ei/3,E.top+2*Tn/3,G-2*Ei/3,X-2*Tn/3,V.TOP_LEFT):new bn(E.left+2*Ei/3,E.top+2*Tn/3),this.topRightBorderDoubleInnerBox=G>0||X>0?Z(E.left+Gn,E.top+2*Tn/3,Ae-2*ur/3,Le-2*Tn/3,V.TOP_RIGHT):new bn(E.left+E.width-2*ur/3,E.top+2*Tn/3),this.bottomRightBorderDoubleInnerBox=Xe>0||It>0?Z(E.left+Xi,E.top+Fr,Xe-2*ur/3,It-2*sr/3,V.BOTTOM_RIGHT):new bn(E.left+E.width-2*ur/3,E.top+E.height-2*sr/3),this.bottomLeftBorderDoubleInnerBox=cn>0||Cn>0?Z(E.left+2*Ei/3,E.top+Ai,cn-2*Ei/3,Cn-2*sr/3,V.BOTTOM_LEFT):new bn(E.left+2*Ei/3,E.top+E.height-2*sr/3),this.topLeftBorderStroke=G>0||X>0?Z(E.left+Ei/2,E.top+Tn/2,G-Ei/2,X-Tn/2,V.TOP_LEFT):new bn(E.left+Ei/2,E.top+Tn/2),this.topRightBorderStroke=G>0||X>0?Z(E.left+Gn,E.top+Tn/2,Ae-ur/2,Le-Tn/2,V.TOP_RIGHT):new bn(E.left+E.width-ur/2,E.top+Tn/2),this.bottomRightBorderStroke=Xe>0||It>0?Z(E.left+Xi,E.top+Fr,Xe-ur/2,It-sr/2,V.BOTTOM_RIGHT):new bn(E.left+E.width-ur/2,E.top+E.height-sr/2),this.bottomLeftBorderStroke=cn>0||Cn>0?Z(E.left+Ei/2,E.top+Ai,cn-Ei/2,Cn-sr/2,V.BOTTOM_LEFT):new bn(E.left+Ei/2,E.top+E.height-sr/2),this.topLeftBorderBox=G>0||X>0?Z(E.left,E.top,G,X,V.TOP_LEFT):new bn(E.left,E.top),this.topRightBorderBox=Ae>0||Le>0?Z(E.left+Gn,E.top,Ae,Le,V.TOP_RIGHT):new bn(E.left+E.width,E.top),this.bottomRightBorderBox=Xe>0||It>0?Z(E.left+Xi,E.top+Fr,Xe,It,V.BOTTOM_RIGHT):new bn(E.left+E.width,E.top+E.height),this.bottomLeftBorderBox=cn>0||Cn>0?Z(E.left,E.top+Ai,cn,Cn,V.BOTTOM_LEFT):new bn(E.left,E.top+E.height),this.topLeftPaddingBox=G>0||X>0?Z(E.left+Ei,E.top+Tn,Math.max(0,G-Ei),Math.max(0,X-Tn),V.TOP_LEFT):new bn(E.left+Ei,E.top+Tn),this.topRightPaddingBox=Ae>0||Le>0?Z(E.left+Math.min(Gn,E.width-ur),E.top+Tn,Gn>E.width+ur?0:Math.max(0,Ae-ur),Math.max(0,Le-Tn),V.TOP_RIGHT):new bn(E.left+E.width-ur,E.top+Tn),this.bottomRightPaddingBox=Xe>0||It>0?Z(E.left+Math.min(Xi,E.width-Ei),E.top+Math.min(Fr,E.height-sr),Math.max(0,Xe-ur),Math.max(0,It-sr),V.BOTTOM_RIGHT):new bn(E.left+E.width-ur,E.top+E.height-sr),this.bottomLeftPaddingBox=cn>0||Cn>0?Z(E.left+Ei,E.top+Math.min(Ai,E.height-sr),Math.max(0,cn-Ei),Math.max(0,Cn-sr),V.BOTTOM_LEFT):new bn(E.left+Ei,E.top+E.height-sr),this.topLeftContentBox=G>0||X>0?Z(E.left+Ei+ss,E.top+Tn+Mo,Math.max(0,G-(Ei+ss)),Math.max(0,X-(Tn+Mo)),V.TOP_LEFT):new bn(E.left+Ei+ss,E.top+Tn+Mo),this.topRightContentBox=Ae>0||Le>0?Z(E.left+Math.min(Gn,E.width+Ei+ss),E.top+Tn+Mo,Gn>E.width+Ei+ss?0:Ae-Ei+ss,Le-(Tn+Mo),V.TOP_RIGHT):new bn(E.left+E.width-(ur+oc),E.top+Tn+Mo),this.bottomRightContentBox=Xe>0||It>0?Z(E.left+Math.min(Xi,E.width-(Ei+ss)),E.top+Math.min(Fr,E.height+Tn+Mo),Math.max(0,Xe-(ur+oc)),It-(sr+Nc),V.BOTTOM_RIGHT):new bn(E.left+E.width-(ur+oc),E.top+E.height-(sr+Nc)),this.bottomLeftContentBox=cn>0||Cn>0?Z(E.left+Ei+ss,E.top+Ai,Math.max(0,cn-(Ei+ss)),Cn-(sr+Nc),V.BOTTOM_LEFT):new bn(E.left+Ei+ss,E.top+E.height-(sr+Nc))},V=(()=>{return(S=V||(V={}))[S.TOP_LEFT=0]="TOP_LEFT",S[S.TOP_RIGHT=1]="TOP_RIGHT",S[S.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",S[S.BOTTOM_LEFT=3]="BOTTOM_LEFT",V;var S})(),Z=function(S,b,D,E,P){var G=(Math.sqrt(2)-1)/3*4,X=D*G,fe=E*G,Ae=S+D,Le=b+E;switch(P){case V.TOP_LEFT:return new m(new bn(S,Le),new bn(S,Le-fe),new bn(Ae-X,b),new bn(Ae,b));case V.TOP_RIGHT:return new m(new bn(S,b),new bn(S+X,b),new bn(Ae,Le-fe),new bn(Ae,Le));case V.BOTTOM_RIGHT:return new m(new bn(Ae,b),new bn(Ae,b+fe),new bn(S+X,Le),new bn(S,Le));default:return new m(new bn(Ae,Le),new bn(Ae-X,Le),new bn(S,b+fe),new bn(S,b))}},Ce=function(S){return[S.topLeftBorderBox,S.topRightBorderBox,S.bottomRightBorderBox,S.bottomLeftBorderBox]},Kt=function(S){return[S.topLeftPaddingBox,S.topRightPaddingBox,S.bottomRightPaddingBox,S.bottomLeftPaddingBox]},Pt=function S(b,D,E){this.offsetX=b,this.offsetY=D,this.matrix=E,this.type=0,this.target=6},Fn=function S(b,D){this.path=b,this.target=D,this.type=1},kn=function S(b){this.opacity=b,this.type=2,this.target=6},zo=function(S){return 1===S.type},ed=function(S,b){return S.length===b.length&&S.some(function(D,E){return D===b[E]})},I_=function S(b){this.element=b,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},eh=function(){function S(b,D){if(this.container=b,this.parent=D,this.effects=[],this.curves=new B(this.container),this.container.styles.opacity<1&&this.effects.push(new kn(this.container.styles.opacity)),null!==this.container.styles.transform&&this.effects.push(new Pt(this.container.bounds.left+this.container.styles.transformOrigin[0].number,this.container.bounds.top+this.container.styles.transformOrigin[1].number,this.container.styles.transform)),0!==this.container.styles.overflowX){var X=Ce(this.curves),fe=Kt(this.curves);ed(X,fe)?this.effects.push(new Fn(X,6)):(this.effects.push(new Fn(X,2)),this.effects.push(new Fn(fe,4)))}}return S.prototype.getEffects=function(b){for(var D=-1===[2,3].indexOf(this.container.styles.position),E=this.parent,P=this.effects.slice(0);E;){var G=E.effects.filter(function(Ae){return!zo(Ae)});if(D||0!==E.container.styles.position||!E.parent){if(P.unshift.apply(P,G),D=-1===[2,3].indexOf(E.container.styles.position),0!==E.container.styles.overflowX){var X=Ce(E.curves),fe=Kt(E.curves);ed(X,fe)||P.unshift(new Fn(fe,6))}}else P.unshift.apply(P,G);E=E.parent}return P.filter(function(Ae){return Xn(Ae.target,b)})},S}(),td=function(S,b,D,E){S.container.elements.forEach(function(P){var G=Xn(P.flags,4),X=Xn(P.flags,2),fe=new eh(P,S);Xn(P.styles.display,2048)&&E.push(fe);var Ae=Xn(P.flags,8)?[]:E;if(G||X){var Le=G||P.styles.isPositioned()?D:b,ze=new I_(fe);if(P.styles.isPositioned()||P.styles.opacity<1||P.styles.isTransformed()){var Xe=P.styles.zIndex.order;if(Xe<0){var It=0;Le.negativeZIndex.some(function(cn,Cn){return Xe>cn.element.container.styles.zIndex.order?(It=Cn,!1):It>0}),Le.negativeZIndex.splice(It,0,ze)}else if(Xe>0){var Rn=0;Le.positiveZIndex.some(function(cn,Cn){return Xe>=cn.element.container.styles.zIndex.order?(Rn=Cn+1,!1):Rn>0}),Le.positiveZIndex.splice(Rn,0,ze)}else Le.zeroOrAutoZIndexOrTransformedOrOpacity.push(ze)}else P.styles.isFloating()?Le.nonPositionedFloats.push(ze):Le.nonPositionedInlineLevel.push(ze);td(fe,ze,G?ze:D,Ae)}else P.styles.isInlineLevel()?b.inlineLevel.push(fe):b.nonInlineLevel.push(fe),td(fe,b,D,Ae);Xn(P.flags,8)&&Wg(P,Ae)})},Wg=function(S,b){for(var D=S instanceof rp?S.start:1,E=S instanceof rp&&S.reversed,P=0;P<b.length;P++){var G=b[P];G.container instanceof Zh&&"number"==typeof G.container.value&&0!==G.container.value&&(D=G.container.value),G.listValue=aa(D,G.container.styles.listStyleType,!0),D+=E?-1:1}},nd=function(S,b){switch(b){case 0:return pu(S.topLeftBorderBox,S.topLeftPaddingBox,S.topRightBorderBox,S.topRightPaddingBox);case 1:return pu(S.topRightBorderBox,S.topRightPaddingBox,S.bottomRightBorderBox,S.bottomRightPaddingBox);case 2:return pu(S.bottomRightBorderBox,S.bottomRightPaddingBox,S.bottomLeftBorderBox,S.bottomLeftPaddingBox);default:return pu(S.bottomLeftBorderBox,S.bottomLeftPaddingBox,S.topLeftBorderBox,S.topLeftPaddingBox)}},Yg=function(S,b){var D=[];return y(S)?D.push(S.subdivide(.5,!1)):D.push(S),y(b)?D.push(b.subdivide(.5,!0)):D.push(b),D},pu=function(S,b,D,E){var P=[];return y(S)?P.push(S.subdivide(.5,!1)):P.push(S),y(D)?P.push(D.subdivide(.5,!0)):P.push(D),y(E)?P.push(E.subdivide(.5,!0).reverse()):P.push(E),y(b)?P.push(b.subdivide(.5,!1).reverse()):P.push(b),P},Bv=function(S){var D=S.styles;return S.bounds.add(D.borderLeftWidth,D.borderTopWidth,-(D.borderRightWidth+D.borderLeftWidth),-(D.borderTopWidth+D.borderBottomWidth))},$g=function(S){var b=S.styles,D=S.bounds,E=Ur(b.paddingLeft,D.width),P=Ur(b.paddingRight,D.width),G=Ur(b.paddingTop,D.width),X=Ur(b.paddingBottom,D.width);return D.add(E+b.borderLeftWidth,G+b.borderTopWidth,-(b.borderRightWidth+b.borderLeftWidth+E+P),-(b.borderTopWidth+b.borderBottomWidth+G+X))},D_=function(S,b,D){var E=function(S,b){return 0===S?b.bounds:2===S?$g(b):Bv(b)}(T_(S.styles.backgroundOrigin,b),S),P=function(S,b){return 0===S?b.bounds:2===S?$g(b):Bv(b)}(T_(S.styles.backgroundClip,b),S),G=yM(T_(S.styles.backgroundSize,b),D,E),X=G[0],fe=G[1],Ae=Ni(T_(S.styles.backgroundPosition,b),E.width-X,E.height-fe);return[M_(T_(S.styles.backgroundRepeat,b),Ae,G,E,P),Math.round(E.left+Ae[0]),Math.round(E.top+Ae[1]),X,fe]},iA=function(S){return qi(S)&&S.value===nu.AUTO},nh=function(S){return"number"==typeof S},yM=function(S,b,D){var E=b[0],P=b[1],G=b[2],X=S[0],fe=S[1];if(!X)return[0,0];if(ys(X)&&fe&&ys(fe))return[Ur(X,D.width),Ur(fe,D.height)];var Ae=nh(G);if(qi(X)&&(X.value===nu.CONTAIN||X.value===nu.COVER))return nh(G)?D.width/D.height<G!=(X.value===nu.COVER)?[D.width,D.width/G]:[D.height*G,D.height]:[D.width,D.height];var ze=nh(E),Xe=nh(P),It=ze||Xe;if(iA(X)&&(!fe||iA(fe)))return ze&&Xe?[E,P]:Ae||It?It&&Ae?[ze?E:P*G,Xe?P:E/G]:[ze?E:D.width,Xe?P:D.height]:[D.width,D.height];if(Ae){var Yn=0,Gn=0;return ys(X)?Yn=Ur(X,D.width):ys(fe)&&(Gn=Ur(fe,D.height)),iA(X)?Yn=Gn*G:(!fe||iA(fe))&&(Gn=Yn/G),[Yn,Gn]}var Fr=null,Xi=null;if(ys(X)?Fr=Ur(X,D.width):fe&&ys(fe)&&(Xi=Ur(fe,D.height)),null!==Fr&&(!fe||iA(fe))&&(Xi=ze&&Xe?Fr/E*P:D.height),null!==Xi&&iA(X)&&(Fr=ze&&Xe?Xi/P*E:D.width),null!==Fr&&null!==Xi)return[Fr,Xi];throw new Error("Unable to calculate background-size for element")},T_=function(S,b){var D=S[b];return typeof D>"u"?S[0]:D},M_=function(S,b,D,E,P){var G=b[0],X=b[1],fe=D[0],Ae=D[1];switch(S){case 2:return[new bn(Math.round(E.left),Math.round(E.top+X)),new bn(Math.round(E.left+E.width),Math.round(E.top+X)),new bn(Math.round(E.left+E.width),Math.round(Ae+E.top+X)),new bn(Math.round(E.left),Math.round(Ae+E.top+X))];case 3:return[new bn(Math.round(E.left+G),Math.round(E.top)),new bn(Math.round(E.left+G+fe),Math.round(E.top)),new bn(Math.round(E.left+G+fe),Math.round(E.height+E.top)),new bn(Math.round(E.left+G),Math.round(E.height+E.top))];case 1:return[new bn(Math.round(E.left+G),Math.round(E.top+X)),new bn(Math.round(E.left+G+fe),Math.round(E.top+X)),new bn(Math.round(E.left+G+fe),Math.round(E.top+X+Ae)),new bn(Math.round(E.left+G),Math.round(E.top+X+Ae))];default:return[new bn(Math.round(P.left),Math.round(P.top)),new bn(Math.round(P.left+P.width),Math.round(P.top)),new bn(Math.round(P.left+P.width),Math.round(P.height+P.top)),new bn(Math.round(P.left),Math.round(P.height+P.top))]}},zw="Hidden Text",o1=function(){function S(b){this._data={},this._document=b}return S.prototype.parseMetrics=function(b,D){var E=this._document.createElement("div"),P=this._document.createElement("img"),G=this._document.createElement("span"),X=this._document.body;E.style.visibility="hidden",E.style.fontFamily=b,E.style.fontSize=D,E.style.margin="0",E.style.padding="0",E.style.whiteSpace="nowrap",X.appendChild(E),P.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",P.width=1,P.height=1,P.style.margin="0",P.style.padding="0",P.style.verticalAlign="baseline",G.style.fontFamily=b,G.style.fontSize=D,G.style.margin="0",G.style.padding="0",G.appendChild(this._document.createTextNode(zw)),E.appendChild(G),E.appendChild(P);var fe=P.offsetTop-G.offsetTop+2;E.removeChild(G),E.appendChild(this._document.createTextNode(zw)),E.style.lineHeight="normal",P.style.verticalAlign="super";var Ae=P.offsetTop-E.offsetTop+2;return X.removeChild(E),{baseline:fe,middle:Ae}},S.prototype.getMetrics=function(b,D){var E=b+" "+D;return typeof this._data[E]>"u"&&(this._data[E]=this.parseMetrics(b,D)),this._data[E]},S}(),Gw=function S(b,D){this.context=b,this.options=D},BE=function(S){function b(D,E){var P=S.call(this,D,E)||this;return P._activeEffects=[],P.canvas=E.canvas?E.canvas:document.createElement("canvas"),P.ctx=P.canvas.getContext("2d"),E.canvas||(P.canvas.width=Math.floor(E.width*E.scale),P.canvas.height=Math.floor(E.height*E.scale),P.canvas.style.width=E.width+"px",P.canvas.style.height=E.height+"px"),P.fontMetrics=new o1(document),P.ctx.scale(P.options.scale,P.options.scale),P.ctx.translate(-E.x,-E.y),P.ctx.textBaseline="bottom",P._activeEffects=[],P.context.logger.debug("Canvas renderer initialized ("+E.width+"x"+E.height+") with scale "+E.scale),P}return se(b,S),b.prototype.applyEffects=function(D){for(var E=this;this._activeEffects.length;)this.popEffect();D.forEach(function(P){return E.applyEffect(P)})},b.prototype.applyEffect=function(D){this.ctx.save(),function(S){return 2===S.type}(D)&&(this.ctx.globalAlpha=D.opacity),function(S){return 0===S.type}(D)&&(this.ctx.translate(D.offsetX,D.offsetY),this.ctx.transform(D.matrix[0],D.matrix[1],D.matrix[2],D.matrix[3],D.matrix[4],D.matrix[5]),this.ctx.translate(-D.offsetX,-D.offsetY)),zo(D)&&(this.path(D.path),this.ctx.clip()),this._activeEffects.push(D)},b.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},b.prototype.renderStack=function(D){return Ge(this,void 0,void 0,function(){return ue(this,function(P){switch(P.label){case 0:return D.element.container.styles.isVisible()?[4,this.renderStackContent(D)]:[3,2];case 1:P.sent(),P.label=2;case 2:return[2]}})})},b.prototype.renderNode=function(D){return Ge(this,void 0,void 0,function(){return ue(this,function(E){switch(E.label){case 0:return Xn(D.container.flags,16),D.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(D)]:[3,3];case 1:return E.sent(),[4,this.renderNodeContent(D)];case 2:E.sent(),E.label=3;case 3:return[2]}})})},b.prototype.renderTextWithLetterSpacing=function(D,E,P){var G=this;0===E?this.ctx.fillText(D.text,D.bounds.left,D.bounds.top+P):jo(D.text).reduce(function(fe,Ae){return G.ctx.fillText(Ae,fe,D.bounds.top+P),fe+G.ctx.measureText(Ae).width},D.bounds.left)},b.prototype.createFontStyle=function(D){var E=D.fontVariant.filter(function(X){return"normal"===X||"small-caps"===X}).join(""),P=F_(D.fontFamily).join(", "),G=Qu(D.fontSize)?""+D.fontSize.number+D.fontSize.unit:D.fontSize.number+"px";return[[D.fontStyle,E,D.fontWeight,G,P].join(" "),P,G]},b.prototype.renderTextNode=function(D,E){return Ge(this,void 0,void 0,function(){var P,X,fe,Ae,Le,ze,Xe,It=this;return ue(this,function(Rn){return P=this.createFontStyle(E),X=P[1],fe=P[2],this.ctx.font=P[0],this.ctx.direction=1===E.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",Ae=this.fontMetrics.getMetrics(X,fe),Le=Ae.baseline,ze=Ae.middle,Xe=E.paintOrder,D.textBounds.forEach(function(cn){Xe.forEach(function(Cn){switch(Cn){case 0:It.ctx.fillStyle=Ys(E.color),It.renderTextWithLetterSpacing(cn,E.letterSpacing,Le);var Ki=E.textShadow;Ki.length&&cn.text.trim().length&&(Ki.slice(0).reverse().forEach(function(Yn){It.ctx.shadowColor=Ys(Yn.color),It.ctx.shadowOffsetX=Yn.offsetX.number*It.options.scale,It.ctx.shadowOffsetY=Yn.offsetY.number*It.options.scale,It.ctx.shadowBlur=Yn.blur.number,It.renderTextWithLetterSpacing(cn,E.letterSpacing,Le)}),It.ctx.shadowColor="",It.ctx.shadowOffsetX=0,It.ctx.shadowOffsetY=0,It.ctx.shadowBlur=0),E.textDecorationLine.length&&(It.ctx.fillStyle=Ys(E.textDecorationColor||E.color),E.textDecorationLine.forEach(function(Yn){switch(Yn){case 1:It.ctx.fillRect(cn.bounds.left,Math.round(cn.bounds.top+Le),cn.bounds.width,1);break;case 2:It.ctx.fillRect(cn.bounds.left,Math.round(cn.bounds.top),cn.bounds.width,1);break;case 3:It.ctx.fillRect(cn.bounds.left,Math.ceil(cn.bounds.top+ze),cn.bounds.width,1)}}));break;case 1:E.webkitTextStrokeWidth&&cn.text.trim().length&&(It.ctx.strokeStyle=Ys(E.webkitTextStrokeColor),It.ctx.lineWidth=E.webkitTextStrokeWidth,It.ctx.lineJoin=window.chrome?"miter":"round",It.ctx.strokeText(cn.text,cn.bounds.left,cn.bounds.top+Le)),It.ctx.strokeStyle="",It.ctx.lineWidth=0,It.ctx.lineJoin="miter"}})}),[2]})})},b.prototype.renderReplacedElement=function(D,E,P){if(P&&D.intrinsicWidth>0&&D.intrinsicHeight>0){var G=$g(D),X=Kt(E);this.path(X),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(P,0,0,D.intrinsicWidth,D.intrinsicHeight,G.left,G.top,G.width,G.height),this.ctx.restore()}},b.prototype.renderNodeContent=function(D){return Ge(this,void 0,void 0,function(){var E,P,G,X,fe,ze,Xe,It,cn,Cn,Ki,Yn,Gn,Fr,Xi,Ai;return ue(this,function(Tn){switch(Tn.label){case 0:this.applyEffects(D.getEffects(4)),P=D.curves,G=(E=D.container).styles,X=0,fe=E.textNodes,Tn.label=1;case 1:return X<fe.length?[4,this.renderTextNode(fe[X],G)]:[3,4];case 2:Tn.sent(),Tn.label=3;case 3:return X++,[3,1];case 4:if(!(E instanceof ip))return[3,8];Tn.label=5;case 5:return Tn.trys.push([5,7,,8]),[4,this.context.cache.match(E.src)];case 6:return Gn=Tn.sent(),this.renderReplacedElement(E,P,Gn),[3,8];case 7:return Tn.sent(),this.context.logger.error("Error loading image "+E.src),[3,8];case 8:if(E instanceof WA&&this.renderReplacedElement(E,P,E.canvas),!(E instanceof m_))return[3,12];Tn.label=9;case 9:return Tn.trys.push([9,11,,12]),[4,this.context.cache.match(E.svg)];case 10:return Gn=Tn.sent(),this.renderReplacedElement(E,P,Gn),[3,12];case 11:return Tn.sent(),this.context.logger.error("Error loading svg "+E.svg.substring(0,255)),[3,12];case 12:return E instanceof uu&&E.tree?[4,new b(this.context,{scale:this.options.scale,backgroundColor:E.backgroundColor,x:0,y:0,width:E.width,height:E.height}).render(E.tree)]:[3,14];case 13:ze=Tn.sent(),E.width&&E.height&&this.ctx.drawImage(ze,0,0,E.width,E.height,E.bounds.left,E.bounds.top,E.bounds.width,E.bounds.height),Tn.label=14;case 14:if(E instanceof YA&&(Xe=Math.min(E.bounds.width,E.bounds.height),E.type===Fg?E.checked&&(this.ctx.save(),this.path([new bn(E.bounds.left+.39363*Xe,E.bounds.top+.79*Xe),new bn(E.bounds.left+.16*Xe,E.bounds.top+.5549*Xe),new bn(E.bounds.left+.27347*Xe,E.bounds.top+.44071*Xe),new bn(E.bounds.left+.39694*Xe,E.bounds.top+.5649*Xe),new bn(E.bounds.left+.72983*Xe,E.bounds.top+.23*Xe),new bn(E.bounds.left+.84*Xe,E.bounds.top+.34085*Xe),new bn(E.bounds.left+.39363*Xe,E.bounds.top+.79*Xe)]),this.ctx.fillStyle=Ys(op),this.ctx.fill(),this.ctx.restore()):E.type===kg&&E.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(E.bounds.left+Xe/2,E.bounds.top+Xe/2,Xe/4,0,2*Math.PI,!0),this.ctx.fillStyle=Ys(op),this.ctx.fill(),this.ctx.restore())),qw(E)&&E.value.length){switch(It=this.createFontStyle(G),cn=this.fontMetrics.getMetrics(Xi=It[0],It[1]).baseline,this.ctx.font=Xi,this.ctx.fillStyle=Ys(G.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=B_(E.styles.textAlign),Ai=$g(E),Cn=0,E.styles.textAlign){case 1:Cn+=Ai.width/2;break;case 2:Cn+=Ai.width}Ki=Ai.add(Cn,0,0,-Ai.height/2+1),this.ctx.save(),this.path([new bn(Ai.left,Ai.top),new bn(Ai.left+Ai.width,Ai.top),new bn(Ai.left+Ai.width,Ai.top+Ai.height),new bn(Ai.left,Ai.top+Ai.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ei(E.value,Ki),G.letterSpacing,cn),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Xn(E.styles.display,2048))return[3,20];if(null===E.styles.listStyleImage)return[3,19];if(0!==(Yn=E.styles.listStyleImage).type)return[3,18];Gn=void 0,Fr=Yn.url,Tn.label=15;case 15:return Tn.trys.push([15,17,,18]),[4,this.context.cache.match(Fr)];case 16:return Gn=Tn.sent(),this.ctx.drawImage(Gn,E.bounds.left-(Gn.width+10),E.bounds.top),[3,18];case 17:return Tn.sent(),this.context.logger.error("Error loading list-style-image "+Fr),[3,18];case 18:return[3,20];case 19:D.listValue&&-1!==E.styles.listStyleType&&(Xi=this.createFontStyle(G)[0],this.ctx.font=Xi,this.ctx.fillStyle=Ys(G.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Ai=new ht(E.bounds.left,E.bounds.top+Ur(E.styles.paddingTop,E.bounds.width),E.bounds.width,Vd(G.lineHeight,G.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ei(D.listValue,Ai),G.letterSpacing,Vd(G.lineHeight,G.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Tn.label=20;case 20:return[2]}})})},b.prototype.renderStackContent=function(D){return Ge(this,void 0,void 0,function(){var E,P,G,X,fe,Ae,Le,ze,Xe,It,Rn,cn,Cn,Ki;return ue(this,function(Gn){switch(Gn.label){case 0:return Xn(D.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(D.element)];case 1:Gn.sent(),E=0,P=D.negativeZIndex,Gn.label=2;case 2:return E<P.length?[4,this.renderStack(P[E])]:[3,5];case 3:Gn.sent(),Gn.label=4;case 4:return E++,[3,2];case 5:return[4,this.renderNodeContent(D.element)];case 6:Gn.sent(),G=0,X=D.nonInlineLevel,Gn.label=7;case 7:return G<X.length?[4,this.renderNode(X[G])]:[3,10];case 8:Gn.sent(),Gn.label=9;case 9:return G++,[3,7];case 10:fe=0,Ae=D.nonPositionedFloats,Gn.label=11;case 11:return fe<Ae.length?[4,this.renderStack(Ae[fe])]:[3,14];case 12:Gn.sent(),Gn.label=13;case 13:return fe++,[3,11];case 14:Le=0,ze=D.nonPositionedInlineLevel,Gn.label=15;case 15:return Le<ze.length?[4,this.renderStack(ze[Le])]:[3,18];case 16:Gn.sent(),Gn.label=17;case 17:return Le++,[3,15];case 18:Xe=0,It=D.inlineLevel,Gn.label=19;case 19:return Xe<It.length?[4,this.renderNode(It[Xe])]:[3,22];case 20:Gn.sent(),Gn.label=21;case 21:return Xe++,[3,19];case 22:Rn=0,cn=D.zeroOrAutoZIndexOrTransformedOrOpacity,Gn.label=23;case 23:return Rn<cn.length?[4,this.renderStack(cn[Rn])]:[3,26];case 24:Gn.sent(),Gn.label=25;case 25:return Rn++,[3,23];case 26:Cn=0,Ki=D.positiveZIndex,Gn.label=27;case 27:return Cn<Ki.length?[4,this.renderStack(Ki[Cn])]:[3,30];case 28:Gn.sent(),Gn.label=29;case 29:return Cn++,[3,27];case 30:return[2]}})})},b.prototype.mask=function(D){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(D.slice(0).reverse()),this.ctx.closePath()},b.prototype.path=function(D){this.ctx.beginPath(),this.formatPath(D),this.ctx.closePath()},b.prototype.formatPath=function(D){var E=this;D.forEach(function(P,G){var X=y(P)?P.start:P;0===G?E.ctx.moveTo(X.x,X.y):E.ctx.lineTo(X.x,X.y),y(P)&&E.ctx.bezierCurveTo(P.startControl.x,P.startControl.y,P.endControl.x,P.endControl.y,P.end.x,P.end.y)})},b.prototype.renderRepeat=function(D,E,P,G){this.path(D),this.ctx.fillStyle=E,this.ctx.translate(P,G),this.ctx.fill(),this.ctx.translate(-P,-G)},b.prototype.resizeImage=function(D,E,P){var G;if(D.width===E&&D.height===P)return D;var fe=(null!==(G=this.canvas.ownerDocument)&&void 0!==G?G:document).createElement("canvas");return fe.width=Math.max(1,E),fe.height=Math.max(1,P),fe.getContext("2d").drawImage(D,0,0,D.width,D.height,0,0,E,P),fe},b.prototype.renderBackgroundImage=function(D){return Ge(this,void 0,void 0,function(){var E,P,G,X,fe;return ue(this,function(Le){switch(Le.label){case 0:E=D.styles.backgroundImage.length-1,P=function(ze){var Xe,It,Rn,cn,Cn,Ki,Yn,Gn,Fr,Xi,Ai,Tn,ur,sr,Ei,Mo,oc,Nc,ss,Ea,rA,$a,Ia,yp,Uc,Ja,sA,vp,ih,nf,id;return ue(this,function(wp){switch(wp.label){case 0:if(0!==ze.type)return[3,5];Xe=void 0,It=ze.url,wp.label=1;case 1:return wp.trys.push([1,3,,4]),[4,G.context.cache.match(It)];case 2:return Xe=wp.sent(),[3,4];case 3:return wp.sent(),G.context.logger.error("Error loading background-image "+It),[3,4];case 4:return Xe&&(Rn=D_(D,E,[Xe.width,Xe.height,Xe.width/Xe.height]),Mo=Rn[0],$a=Rn[1],Ia=Rn[2],sr=G.ctx.createPattern(G.resizeImage(Xe,ss=Rn[3],Ea=Rn[4]),"repeat"),G.renderRepeat(Mo,sr,$a,Ia)),[3,6];case 5:!function(S){return 1===S.type}(ze)?function(S){return 2===S.type}(ze)&&(Ei=D_(D,E,[null,null,null]),Mo=Ei[0],oc=Ei[1],Nc=Ei[2],Ea=Ei[4],$a=Ur((rA=0===ze.position.length?[RA]:ze.position)[0],ss=Ei[3]),Ia=Ur(rA[rA.length-1],Ea),yp=function(S,b,D,E,P){var G=0,X=0;switch(S.size){case 0:0===S.shape?G=X=Math.min(Math.abs(b),Math.abs(b-E),Math.abs(D),Math.abs(D-P)):1===S.shape&&(G=Math.min(Math.abs(b),Math.abs(b-E)),X=Math.min(Math.abs(D),Math.abs(D-P)));break;case 2:if(0===S.shape)G=X=Math.min(Va(b,D),Va(b,D-P),Va(b-E,D),Va(b-E,D-P));else if(1===S.shape){var fe=Math.min(Math.abs(D),Math.abs(D-P))/Math.min(Math.abs(b),Math.abs(b-E)),Ae=pg(E,P,b,D,!0);X=fe*(G=Va(Ae[0]-b,(Ae[1]-D)/fe))}break;case 1:0===S.shape?G=X=Math.max(Math.abs(b),Math.abs(b-E),Math.abs(D),Math.abs(D-P)):1===S.shape&&(G=Math.max(Math.abs(b),Math.abs(b-E)),X=Math.max(Math.abs(D),Math.abs(D-P)));break;case 3:if(0===S.shape)G=X=Math.max(Va(b,D),Va(b,D-P),Va(b-E,D),Va(b-E,D-P));else if(1===S.shape){fe=Math.max(Math.abs(D),Math.abs(D-P))/Math.max(Math.abs(b),Math.abs(b-E));var Xe=pg(E,P,b,D,!1);X=fe*(G=Va(Xe[0]-b,(Xe[1]-D)/fe))}}return Array.isArray(S.size)&&(G=Ur(S.size[0],E),X=2===S.size.length?Ur(S.size[1],P):G),[G,X]}(ze,$a,Ia,ss,Ea),Ja=yp[1],(Uc=yp[0])>0&&Ja>0&&(sA=G.ctx.createRadialGradient(oc+$a,Nc+Ia,0,oc+$a,Nc+Ia,Uc),fg(ze.stops,2*Uc).forEach(function(Jg){return sA.addColorStop(Jg.stop,Ys(Jg.color))}),G.path(Mo),G.ctx.fillStyle=sA,Uc!==Ja?(vp=D.bounds.left+.5*D.bounds.width,ih=D.bounds.top+.5*D.bounds.height,id=1/(nf=Ja/Uc),G.ctx.save(),G.ctx.translate(vp,ih),G.ctx.transform(1,0,0,nf,0,0),G.ctx.translate(-vp,-ih),G.ctx.fillRect(oc,id*(Nc-ih)+ih,ss,Ea*id),G.ctx.restore()):G.ctx.fill())):(cn=D_(D,E,[null,null,null]),Mo=cn[0],$a=cn[1],Ia=cn[2],Cn=Uf(ze.angle,ss=cn[3],Ea=cn[4]),Ki=Cn[0],Yn=Cn[1],Gn=Cn[2],Fr=Cn[3],Xi=Cn[4],(Ai=document.createElement("canvas")).width=ss,Ai.height=Ea,Tn=Ai.getContext("2d"),ur=Tn.createLinearGradient(Yn,Fr,Gn,Xi),fg(ze.stops,Ki).forEach(function(Jg){return ur.addColorStop(Jg.stop,Ys(Jg.color))}),Tn.fillStyle=ur,Tn.fillRect(0,0,ss,Ea),ss>0&&Ea>0&&(sr=G.ctx.createPattern(Ai,"repeat"),G.renderRepeat(Mo,sr,$a,Ia))),wp.label=6;case 6:return E--,[2]}})},G=this,X=0,fe=D.styles.backgroundImage.slice(0).reverse(),Le.label=1;case 1:return X<fe.length?[5,P(fe[X])]:[3,4];case 2:Le.sent(),Le.label=3;case 3:return X++,[3,1];case 4:return[2]}})})},b.prototype.renderSolidBorder=function(D,E,P){return Ge(this,void 0,void 0,function(){return ue(this,function(G){return this.path(nd(P,E)),this.ctx.fillStyle=Ys(D),this.ctx.fill(),[2]})})},b.prototype.renderDoubleBorder=function(D,E,P,G){return Ge(this,void 0,void 0,function(){var X,fe;return ue(this,function(Ae){switch(Ae.label){case 0:return E<3?[4,this.renderSolidBorder(D,P,G)]:[3,2];case 1:return Ae.sent(),[2];case 2:return X=function(S,b){switch(b){case 0:return pu(S.topLeftBorderBox,S.topLeftBorderDoubleOuterBox,S.topRightBorderBox,S.topRightBorderDoubleOuterBox);case 1:return pu(S.topRightBorderBox,S.topRightBorderDoubleOuterBox,S.bottomRightBorderBox,S.bottomRightBorderDoubleOuterBox);case 2:return pu(S.bottomRightBorderBox,S.bottomRightBorderDoubleOuterBox,S.bottomLeftBorderBox,S.bottomLeftBorderDoubleOuterBox);default:return pu(S.bottomLeftBorderBox,S.bottomLeftBorderDoubleOuterBox,S.topLeftBorderBox,S.topLeftBorderDoubleOuterBox)}}(G,P),this.path(X),this.ctx.fillStyle=Ys(D),this.ctx.fill(),fe=function(S,b){switch(b){case 0:return pu(S.topLeftBorderDoubleInnerBox,S.topLeftPaddingBox,S.topRightBorderDoubleInnerBox,S.topRightPaddingBox);case 1:return pu(S.topRightBorderDoubleInnerBox,S.topRightPaddingBox,S.bottomRightBorderDoubleInnerBox,S.bottomRightPaddingBox);case 2:return pu(S.bottomRightBorderDoubleInnerBox,S.bottomRightPaddingBox,S.bottomLeftBorderDoubleInnerBox,S.bottomLeftPaddingBox);default:return pu(S.bottomLeftBorderDoubleInnerBox,S.bottomLeftPaddingBox,S.topLeftBorderDoubleInnerBox,S.topLeftPaddingBox)}}(G,P),this.path(fe),this.ctx.fill(),[2]}})})},b.prototype.renderNodeBackgroundAndBorders=function(D){return Ge(this,void 0,void 0,function(){var E,P,G,X,fe,Ae,Le,ze,Xe=this;return ue(this,function(It){switch(It.label){case 0:return this.applyEffects(D.getEffects(2)),P=!$l((E=D.container.styles).backgroundColor)||E.backgroundImage.length,G=[{style:E.borderTopStyle,color:E.borderTopColor,width:E.borderTopWidth},{style:E.borderRightStyle,color:E.borderRightColor,width:E.borderRightWidth},{style:E.borderBottomStyle,color:E.borderBottomColor,width:E.borderBottomWidth},{style:E.borderLeftStyle,color:E.borderLeftColor,width:E.borderLeftWidth}],X=a1(T_(E.backgroundClip,0),D.curves),P||E.boxShadow.length?(this.ctx.save(),this.path(X),this.ctx.clip(),$l(E.backgroundColor)||(this.ctx.fillStyle=Ys(E.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(D.container)]):[3,2];case 1:It.sent(),this.ctx.restore(),E.boxShadow.slice(0).reverse().forEach(function(Rn){Xe.ctx.save();var cn=Ce(D.curves),Cn=Rn.inset?0:1e4,Ki=function(S,b,D,E,P){return S.map(function(G,X){switch(X){case 0:return G.add(b,D);case 1:return G.add(b+E,D);case 2:return G.add(b+E,D+P);case 3:return G.add(b,D+P)}return G})}(cn,(Rn.inset?1:-1)*Rn.spread.number-Cn,(Rn.inset?1:-1)*Rn.spread.number,Rn.spread.number*(Rn.inset?-2:2),Rn.spread.number*(Rn.inset?-2:2));Rn.inset?(Xe.path(cn),Xe.ctx.clip(),Xe.mask(Ki)):(Xe.mask(cn),Xe.ctx.clip(),Xe.path(Ki)),Xe.ctx.shadowOffsetX=Rn.offsetX.number+Cn,Xe.ctx.shadowOffsetY=Rn.offsetY.number,Xe.ctx.shadowColor=Ys(Rn.color),Xe.ctx.shadowBlur=Rn.blur.number,Xe.ctx.fillStyle=Rn.inset?Ys(Rn.color):"rgba(0,0,0,1)",Xe.ctx.fill(),Xe.ctx.restore()}),It.label=2;case 2:fe=0,Ae=0,Le=G,It.label=3;case 3:return Ae<Le.length?0!==(ze=Le[Ae]).style&&!$l(ze.color)&&ze.width>0?2!==ze.style?[3,5]:[4,this.renderDashedDottedBorder(ze.color,ze.width,fe,D.curves,2)]:[3,11]:[3,13];case 4:return It.sent(),[3,11];case 5:return 3!==ze.style?[3,7]:[4,this.renderDashedDottedBorder(ze.color,ze.width,fe,D.curves,3)];case 6:return It.sent(),[3,11];case 7:return 4!==ze.style?[3,9]:[4,this.renderDoubleBorder(ze.color,ze.width,fe,D.curves)];case 8:return It.sent(),[3,11];case 9:return[4,this.renderSolidBorder(ze.color,fe,D.curves)];case 10:It.sent(),It.label=11;case 11:fe++,It.label=12;case 12:return Ae++,[3,3];case 13:return[2]}})})},b.prototype.renderDashedDottedBorder=function(D,E,P,G,X){return Ge(this,void 0,void 0,function(){var fe,Ae,Le,ze,Xe,It,Rn,cn,Cn,Ki,Yn,Gn,Fr,Xi,Ai,Tn;return ue(this,function(ur){return this.ctx.save(),fe=function(S,b){switch(b){case 0:return Yg(S.topLeftBorderStroke,S.topRightBorderStroke);case 1:return Yg(S.topRightBorderStroke,S.bottomRightBorderStroke);case 2:return Yg(S.bottomRightBorderStroke,S.bottomLeftBorderStroke);default:return Yg(S.bottomLeftBorderStroke,S.topLeftBorderStroke)}}(G,P),Ae=nd(G,P),2===X&&(this.path(Ae),this.ctx.clip()),y(Ae[0])?(Le=Ae[0].start.x,ze=Ae[0].start.y):(Le=Ae[0].x,ze=Ae[0].y),y(Ae[1])?(Xe=Ae[1].end.x,It=Ae[1].end.y):(Xe=Ae[1].x,It=Ae[1].y),Rn=0===P||2===P?Math.abs(Le-Xe):Math.abs(ze-It),this.ctx.beginPath(),this.formatPath(3===X?fe:Ae.slice(0,2)),cn=E<3?3*E:2*E,Cn=E<3?2*E:E,3===X&&(cn=E,Cn=E),Ki=!0,Rn<=2*cn?Ki=!1:Rn<=2*cn+Cn?(cn*=Yn=Rn/(2*cn+Cn),Cn*=Yn):(Gn=Math.floor((Rn+Cn)/(cn+Cn)),Fr=(Rn-Gn*cn)/(Gn-1),Cn=(Xi=(Rn-(Gn+1)*cn)/Gn)<=0||Math.abs(Cn-Fr)<Math.abs(Cn-Xi)?Fr:Xi),Ki&&this.ctx.setLineDash(3===X?[0,cn+Cn]:[cn,Cn]),3===X?(this.ctx.lineCap="round",this.ctx.lineWidth=E):this.ctx.lineWidth=2*E+1.1,this.ctx.strokeStyle=Ys(D),this.ctx.stroke(),this.ctx.setLineDash([]),2===X&&(y(Ae[0])&&(Ai=Ae[3],Tn=Ae[0],this.ctx.beginPath(),this.formatPath([new bn(Ai.end.x,Ai.end.y),new bn(Tn.start.x,Tn.start.y)]),this.ctx.stroke()),y(Ae[1])&&(Ai=Ae[1],Tn=Ae[2],this.ctx.beginPath(),this.formatPath([new bn(Ai.end.x,Ai.end.y),new bn(Tn.start.x,Tn.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},b.prototype.render=function(D){return Ge(this,void 0,void 0,function(){var E;return ue(this,function(P){switch(P.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ys(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),E=function(S){var b=new eh(S,null),D=new I_(b),E=[];return td(b,D,D,E),Wg(b.container,E),D}(D),[4,this.renderStack(E)];case 1:return P.sent(),this.applyEffects([]),[2,this.canvas]}})})},b}(Gw),qw=function(S){return S instanceof Nl||S instanceof v_||S instanceof YA&&S.type!==kg&&S.type!==Fg},a1=function(S,b){switch(S){case 0:return Ce(b);case 2:return function(S){return[S.topLeftContentBox,S.topRightContentBox,S.bottomRightContentBox,S.bottomLeftContentBox]}(b);default:return Kt(b)}},B_=function(S){switch(S){case 1:return"center";case 2:return"right";default:return"left"}},FE=["-apple-system","system-ui"],F_=function(S){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?S.filter(function(b){return-1===FE.indexOf(b)}):S},Fv=function(S){function b(D,E){var P=S.call(this,D,E)||this;return P.canvas=E.canvas?E.canvas:document.createElement("canvas"),P.ctx=P.canvas.getContext("2d"),P.options=E,P.canvas.width=Math.floor(E.width*E.scale),P.canvas.height=Math.floor(E.height*E.scale),P.canvas.style.width=E.width+"px",P.canvas.style.height=E.height+"px",P.ctx.scale(P.options.scale,P.options.scale),P.ctx.translate(-E.x,-E.y),P.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+E.width+"x"+E.height+" at "+E.x+","+E.y+") with scale "+E.scale),P}return se(b,S),b.prototype.render=function(D){return Ge(this,void 0,void 0,function(){var E,P;return ue(this,function(G){switch(G.label){case 0:return E=ep(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,D),[4,Kw(E)];case 1:return P=G.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ys(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(P,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},b}(Gw),Kw=function(S){return new Promise(function(b,D){var E=new Image;E.onload=function(){b(E)},E.onerror=D,E.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(S))})},l1=function(){function S(b){var E=b.enabled;this.id=b.id,this.enabled=E,this.start=Date.now()}return S.prototype.debug=function(){for(var b=[],D=0;D<arguments.length;D++)b[D]=arguments[D];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.debug?console.debug.apply(console,ut([this.id,this.getTime()+"ms"],b)):this.info.apply(this,b))},S.prototype.getTime=function(){return Date.now()-this.start},S.prototype.info=function(){for(var b=[],D=0;D<arguments.length;D++)b[D]=arguments[D];this.enabled&&typeof window<"u"&&window.console&&"function"==typeof console.info&&console.info.apply(console,ut([this.id,this.getTime()+"ms"],b))},S.prototype.warn=function(){for(var b=[],D=0;D<arguments.length;D++)b[D]=arguments[D];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.warn?console.warn.apply(console,ut([this.id,this.getTime()+"ms"],b)):this.info.apply(this,b))},S.prototype.error=function(){for(var b=[],D=0;D<arguments.length;D++)b[D]=arguments[D];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.error?console.error.apply(console,ut([this.id,this.getTime()+"ms"],b)):this.info.apply(this,b))},S.instances={},S}(),c1=function(){function S(b,D){var E;this.windowBounds=D,this.instanceName="#"+S.instanceCount++,this.logger=new l1({id:this.instanceName,enabled:b.logging}),this.cache=null!==(E=b.cache)&&void 0!==E?E:new Ya(this,b)}return S.instanceCount=1,S}();typeof window<"u"&&Pc.setContext(window);var kv=function(S,b){return Ge(void 0,void 0,void 0,function(){var D,E,P,G,X,fe,Ae,Le,ze,Xe,It,Rn,cn,Cn,Ki,Yn,Gn,Fr,Xi,Ai,Tn,sr,Ei,Mo,oc,Nc,ss,Ea,rA,$a,Ia,yp,Uc,Ja,sA,vp,ih,nf;return ue(this,function(id){switch(id.label){case 0:if(!S||"object"!=typeof S)return[2,Promise.reject("Invalid element provided as first argument")];if(!(D=S.ownerDocument))throw new Error("Element is not attached to a Document");if(!(E=D.defaultView))throw new Error("Document is not attached to a Window");return P={allowTaint:null!==(sr=b.allowTaint)&&void 0!==sr&&sr,imageTimeout:null!==(Ei=b.imageTimeout)&&void 0!==Ei?Ei:15e3,proxy:b.proxy,useCORS:null!==(Mo=b.useCORS)&&void 0!==Mo&&Mo},G=o({logging:null===(oc=b.logging)||void 0===oc||oc,cache:b.cache},P),X={windowWidth:null!==(Nc=b.windowWidth)&&void 0!==Nc?Nc:E.innerWidth,windowHeight:null!==(ss=b.windowHeight)&&void 0!==ss?ss:E.innerHeight,scrollX:null!==(Ea=b.scrollX)&&void 0!==Ea?Ea:E.pageXOffset,scrollY:null!==(rA=b.scrollY)&&void 0!==rA?rA:E.pageYOffset},fe=new ht(X.scrollX,X.scrollY,X.windowWidth,X.windowHeight),Ae=new c1(G,fe),Le=null!==($a=b.foreignObjectRendering)&&void 0!==$a&&$a,ze={allowTaint:null!==(Ia=b.allowTaint)&&void 0!==Ia&&Ia,onclone:b.onclone,ignoreElements:b.ignoreElements,inlineImages:Le,copyStyles:Le},Ae.logger.debug("Starting document clone with size "+fe.width+"x"+fe.height+" scrolled to "+-fe.left+","+-fe.top),Xe=new Za(Ae,S,ze),(It=Xe.clonedReferenceElement)?[4,Xe.toIFrame(D,fe)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Rn=id.sent(),cn=cp(It)||function(S){return"HTML"===S.tagName}(It)?function(S){var b=S.body,D=S.documentElement;if(!b||!D)throw new Error("Unable to get document size");var E=Math.max(Math.max(b.scrollWidth,D.scrollWidth),Math.max(b.offsetWidth,D.offsetWidth),Math.max(b.clientWidth,D.clientWidth)),P=Math.max(Math.max(b.scrollHeight,D.scrollHeight),Math.max(b.offsetHeight,D.offsetHeight),Math.max(b.clientHeight,D.clientHeight));return new ht(0,0,E,P)}(It.ownerDocument):bt(Ae,It),Cn=cn.width,Ki=cn.height,Yn=cn.left,Gn=cn.top,Fr=Rv(Ae,It,b.backgroundColor),Xi={canvas:b.canvas,backgroundColor:Fr,scale:null!==(Uc=null!==(yp=b.scale)&&void 0!==yp?yp:E.devicePixelRatio)&&void 0!==Uc?Uc:1,x:(null!==(Ja=b.x)&&void 0!==Ja?Ja:0)+Yn,y:(null!==(sA=b.y)&&void 0!==sA?sA:0)+Gn,width:null!==(vp=b.width)&&void 0!==vp?vp:Math.ceil(Cn),height:null!==(ih=b.height)&&void 0!==ih?ih:Math.ceil(Ki)},Le?(Ae.logger.debug("Document cloned, using foreign object rendering"),[4,new Fv(Ae,Xi).render(It)]):[3,3];case 2:return Ai=id.sent(),[3,5];case 3:return Ae.logger.debug("Document cloned, element located at "+Yn+","+Gn+" with size "+Cn+"x"+Ki+" using computed rendering"),Ae.logger.debug("Starting DOM parsing"),Tn=Lg(Ae,It),Fr===Tn.styles.backgroundColor&&(Tn.styles.backgroundColor=Jl.TRANSPARENT),Ae.logger.debug("Starting renderer for element at "+Xi.x+","+Xi.y+" with size "+Xi.width+"x"+Xi.height),[4,new BE(Ae,Xi).render(Tn)];case 4:Ai=id.sent(),id.label=5;case 5:return(!(null!==(nf=b.removeContainer)&&void 0!==nf)||nf)&&(Za.destroy(Rn)||Ae.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),Ae.logger.debug("Finished rendering"),[2,Ai]}})})},Rv=function(S,b,D){var E=b.ownerDocument,P=E.documentElement?eu(S,getComputedStyle(E.documentElement).backgroundColor):Jl.TRANSPARENT,G=E.body?eu(S,getComputedStyle(E.body).backgroundColor):Jl.TRANSPARENT,X="string"==typeof D?eu(S,D):null===D?Jl.TRANSPARENT:4294967295;return b===E.documentElement?$l(P)?$l(G)?X:G:P:X};return function(S,b){return void 0===b&&(b={}),kv(S,b)}}()},9751:(zn,Ot,se)=>{"use strict";se.d(Ot,{y:()=>vt});var o=se(930),Ge=se(727),ue=se(8822),ut=se(9635),ht=se(2416),bt=se(576),Ze=se(2806);let vt=(()=>{class Ke{constructor(Vt){Vt&&(this._subscribe=Vt)}lift(Vt){const pn=new Ke;return pn.source=this,pn.operator=Vt,pn}subscribe(Vt,pn,Pn){const xt=function ke(Ke){return Ke&&Ke instanceof o.Lv||function Te(Ke){return Ke&&(0,bt.m)(Ke.next)&&(0,bt.m)(Ke.error)&&(0,bt.m)(Ke.complete)}(Ke)&&(0,Ge.Nn)(Ke)}(Vt)?Vt:new o.Hp(Vt,pn,Pn);return(0,Ze.x)(()=>{const{operator:Mt,source:yt}=this;xt.add(Mt?Mt.call(xt,yt):yt?this._subscribe(xt):this._trySubscribe(xt))}),xt}_trySubscribe(Vt){try{return this._subscribe(Vt)}catch(pn){Vt.error(pn)}}forEach(Vt,pn){return new(pn=dt(pn))((Pn,xt)=>{let Mt;Mt=this.subscribe(yt=>{try{Vt(yt)}catch(Gt){xt(Gt),Mt?.unsubscribe()}},xt,Pn)})}_subscribe(Vt){var pn;return null===(pn=this.source)||void 0===pn?void 0:pn.subscribe(Vt)}[ue.L](){return this}pipe(...Vt){return(0,ut.U)(Vt)(this)}toPromise(Vt){return new(Vt=dt(Vt))((pn,Pn)=>{let xt;this.subscribe(Mt=>xt=Mt,Mt=>Pn(Mt),()=>pn(xt))})}}return Ke.create=on=>new Ke(on),Ke})();function dt(Ke){var on;return null!==(on=Ke??ht.v.Promise)&&void 0!==on?on:Promise}},7579:(zn,Ot,se)=>{"use strict";se.d(Ot,{x:()=>Ze});var o=se(9751),Ge=se(727);const ut=(0,se(3888).d)(dt=>function(){dt(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ht=se(8737),bt=se(2806);let Ze=(()=>{class dt extends o.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ke){const Ke=new vt(this,this);return Ke.operator=ke,Ke}_throwIfClosed(){if(this.closed)throw new ut}next(ke){(0,bt.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const Ke=this.observers.slice();for(const on of Ke)on.next(ke)}})}error(ke){(0,bt.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ke;const{observers:Ke}=this;for(;Ke.length;)Ke.shift().error(ke)}})}complete(){(0,bt.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ke}=this;for(;ke.length;)ke.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var ke;return(null===(ke=this.observers)||void 0===ke?void 0:ke.length)>0}_trySubscribe(ke){return this._throwIfClosed(),super._trySubscribe(ke)}_subscribe(ke){return this._throwIfClosed(),this._checkFinalizedStatuses(ke),this._innerSubscribe(ke)}_innerSubscribe(ke){const{hasError:Ke,isStopped:on,observers:Vt}=this;return Ke||on?Ge.Lc:(Vt.push(ke),new Ge.w0(()=>(0,ht.P)(Vt,ke)))}_checkFinalizedStatuses(ke){const{hasError:Ke,thrownError:on,isStopped:Vt}=this;Ke?ke.error(on):Vt&&ke.complete()}asObservable(){const ke=new o.y;return ke.source=this,ke}}return dt.create=(Te,ke)=>new vt(Te,ke),dt})();class vt extends Ze{constructor(Te,ke){super(),this.destination=Te,this.source=ke}next(Te){var ke,Ke;null===(Ke=null===(ke=this.destination)||void 0===ke?void 0:ke.next)||void 0===Ke||Ke.call(ke,Te)}error(Te){var ke,Ke;null===(Ke=null===(ke=this.destination)||void 0===ke?void 0:ke.error)||void 0===Ke||Ke.call(ke,Te)}complete(){var Te,ke;null===(ke=null===(Te=this.destination)||void 0===Te?void 0:Te.complete)||void 0===ke||ke.call(Te)}_subscribe(Te){var ke,Ke;return null!==(Ke=null===(ke=this.source)||void 0===ke?void 0:ke.subscribe(Te))&&void 0!==Ke?Ke:Ge.Lc}}},930:(zn,Ot,se)=>{"use strict";se.d(Ot,{Hp:()=>on,Lv:()=>Ke});var o=se(576),Ge=se(727),ue=se(2416),ut=se(7849),ht=se(5032);const bt=dt("C",void 0,void 0);function dt(Mt,yt,Gt){return{kind:Mt,value:yt,error:Gt}}var Te=se(3410),ke=se(2806);class Ke extends Ge.w0{constructor(yt){super(),this.isStopped=!1,yt?(this.destination=yt,(0,Ge.Nn)(yt)&&yt.add(this)):this.destination=xt}static create(yt,Gt,rn){return new on(yt,Gt,rn)}next(yt){this.isStopped?Pn(function vt(Mt){return dt("N",Mt,void 0)}(yt),this):this._next(yt)}error(yt){this.isStopped?Pn(function Ze(Mt){return dt("E",void 0,Mt)}(yt),this):(this.isStopped=!0,this._error(yt))}complete(){this.isStopped?Pn(bt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(yt){this.destination.next(yt)}_error(yt){try{this.destination.error(yt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class on extends Ke{constructor(yt,Gt,rn){let Hn;if(super(),(0,o.m)(yt))Hn=yt;else if(yt){let $t;({next:Hn,error:Gt,complete:rn}=yt),this&&ue.v.useDeprecatedNextContext?($t=Object.create(yt),$t.unsubscribe=()=>this.unsubscribe()):$t=yt,Hn=Hn?.bind($t),Gt=Gt?.bind($t),rn=rn?.bind($t)}this.destination={next:Hn?Vt(Hn):ht.Z,error:Vt(Gt??pn),complete:rn?Vt(rn):ht.Z}}}function Vt(Mt,yt){return(...Gt)=>{try{Mt(...Gt)}catch(rn){ue.v.useDeprecatedSynchronousErrorHandling?(0,ke.O)(rn):(0,ut.h)(rn)}}}function pn(Mt){throw Mt}function Pn(Mt,yt){const{onStoppedNotification:Gt}=ue.v;Gt&&Te.z.setTimeout(()=>Gt(Mt,yt))}const xt={closed:!0,next:ht.Z,error:pn,complete:ht.Z}},727:(zn,Ot,se)=>{"use strict";se.d(Ot,{Lc:()=>bt,w0:()=>ht,Nn:()=>Ze});var o=se(576);const ue=(0,se(3888).d)(dt=>function(ke){dt(this),this.message=ke?`${ke.length} errors occurred during unsubscription:\n${ke.map((Ke,on)=>`${on+1}) ${Ke.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ke});var ut=se(8737);class ht{constructor(Te){this.initialTeardown=Te,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let Te;if(!this.closed){this.closed=!0;const{_parentage:ke}=this;if(ke)if(this._parentage=null,Array.isArray(ke))for(const Vt of ke)Vt.remove(this);else ke.remove(this);const{initialTeardown:Ke}=this;if((0,o.m)(Ke))try{Ke()}catch(Vt){Te=Vt instanceof ue?Vt.errors:[Vt]}const{_teardowns:on}=this;if(on){this._teardowns=null;for(const Vt of on)try{vt(Vt)}catch(pn){Te=Te??[],pn instanceof ue?Te=[...Te,...pn.errors]:Te.push(pn)}}if(Te)throw new ue(Te)}}add(Te){var ke;if(Te&&Te!==this)if(this.closed)vt(Te);else{if(Te instanceof ht){if(Te.closed||Te._hasParent(this))return;Te._addParent(this)}(this._teardowns=null!==(ke=this._teardowns)&&void 0!==ke?ke:[]).push(Te)}}_hasParent(Te){const{_parentage:ke}=this;return ke===Te||Array.isArray(ke)&&ke.includes(Te)}_addParent(Te){const{_parentage:ke}=this;this._parentage=Array.isArray(ke)?(ke.push(Te),ke):ke?[ke,Te]:Te}_removeParent(Te){const{_parentage:ke}=this;ke===Te?this._parentage=null:Array.isArray(ke)&&(0,ut.P)(ke,Te)}remove(Te){const{_teardowns:ke}=this;ke&&(0,ut.P)(ke,Te),Te instanceof ht&&Te._removeParent(this)}}ht.EMPTY=(()=>{const dt=new ht;return dt.closed=!0,dt})();const bt=ht.EMPTY;function Ze(dt){return dt instanceof ht||dt&&"closed"in dt&&(0,o.m)(dt.remove)&&(0,o.m)(dt.add)&&(0,o.m)(dt.unsubscribe)}function vt(dt){(0,o.m)(dt)?dt():dt.unsubscribe()}},2416:(zn,Ot,se)=>{"use strict";se.d(Ot,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(zn,Ot,se)=>{"use strict";se.d(Ot,{E:()=>Ge});const Ge=new(se(9751).y)(ht=>ht.complete())},8996:(zn,Ot,se)=>{"use strict";se.d(Ot,{D:()=>Hn});var o=se(8421),Ge=se(5363),ue=se(9468),bt=se(9751),vt=se(2202),dt=se(576),Te=se(9672);function Ke($t,In){if(!$t)throw new Error("Iterable cannot be null");return new bt.y(an=>{(0,Te.f)(an,In,()=>{const Ct=$t[Symbol.asyncIterator]();(0,Te.f)(an,In,()=>{Ct.next().then(Fe=>{Fe.done?an.complete():an.next(Fe.value)})},0,!0)})})}var on=se(3670),Vt=se(8239),pn=se(1144),Pn=se(6495),xt=se(2206),Mt=se(4532),yt=se(3260);function Hn($t,In){return In?function rn($t,In){if(null!=$t){if((0,on.c)($t))return function ut($t,In){return(0,o.Xf)($t).pipe((0,ue.R)(In),(0,Ge.Q)(In))}($t,In);if((0,pn.z)($t))return function Ze($t,In){return new bt.y(an=>{let Ct=0;return In.schedule(function(){Ct===$t.length?an.complete():(an.next($t[Ct++]),an.closed||this.schedule())})})}($t,In);if((0,Vt.t)($t))return function ht($t,In){return(0,o.Xf)($t).pipe((0,ue.R)(In),(0,Ge.Q)(In))}($t,In);if((0,xt.D)($t))return Ke($t,In);if((0,Pn.T)($t))return function ke($t,In){return new bt.y(an=>{let Ct;return(0,Te.f)(an,In,()=>{Ct=$t[vt.h](),(0,Te.f)(an,In,()=>{let Fe,it;try{({value:Fe,done:it}=Ct.next())}catch(rt){return void an.error(rt)}it?an.complete():an.next(Fe)},0,!0)}),()=>(0,dt.m)(Ct?.return)&&Ct.return()})}($t,In);if((0,yt.L)($t))return function Gt($t,In){return Ke((0,yt.Q)($t),In)}($t,In)}throw(0,Mt.z)($t)}($t,In):(0,o.Xf)($t)}},8421:(zn,Ot,se)=>{"use strict";se.d(Ot,{Xf:()=>on});var o=se(5987),Ge=se(1144),ue=se(8239),ut=se(9751),ht=se(3670),bt=se(2206),Ze=se(4532),vt=se(6495),dt=se(3260),Te=se(576),ke=se(7849),Ke=se(8822);function on(rn){if(rn instanceof ut.y)return rn;if(null!=rn){if((0,ht.c)(rn))return function Vt(rn){return new ut.y(Hn=>{const $t=rn[Ke.L]();if((0,Te.m)($t.subscribe))return $t.subscribe(Hn);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(rn);if((0,Ge.z)(rn))return function pn(rn){return new ut.y(Hn=>{for(let $t=0;$t<rn.length&&!Hn.closed;$t++)Hn.next(rn[$t]);Hn.complete()})}(rn);if((0,ue.t)(rn))return function Pn(rn){return new ut.y(Hn=>{rn.then($t=>{Hn.closed||(Hn.next($t),Hn.complete())},$t=>Hn.error($t)).then(null,ke.h)})}(rn);if((0,bt.D)(rn))return Mt(rn);if((0,vt.T)(rn))return function xt(rn){return new ut.y(Hn=>{for(const $t of rn)if(Hn.next($t),Hn.closed)return;Hn.complete()})}(rn);if((0,dt.L)(rn))return function yt(rn){return Mt((0,dt.Q)(rn))}(rn)}throw(0,Ze.z)(rn)}function Mt(rn){return new ut.y(Hn=>{(function Gt(rn,Hn){var $t,In,an,Ct;return(0,o.mG)(this,void 0,void 0,function*(){try{for($t=(0,o.KL)(rn);!(In=yield $t.next()).done;)if(Hn.next(In.value),Hn.closed)return}catch(Fe){an={error:Fe}}finally{try{In&&!In.done&&(Ct=$t.return)&&(yield Ct.call($t))}finally{if(an)throw an.error}}Hn.complete()})})(rn,Hn).catch($t=>Hn.error($t))})}},6451:(zn,Ot,se)=>{"use strict";se.d(Ot,{T:()=>bt});var o=se(8189),Ge=se(8421),ue=se(515),ut=se(3269),ht=se(8996);function bt(...Ze){const vt=(0,ut.yG)(Ze),dt=(0,ut._6)(Ze,1/0),Te=Ze;return Te.length?1===Te.length?(0,Ge.Xf)(Te[0]):(0,o.J)(dt)((0,ht.D)(Te,vt)):ue.E}},5403:(zn,Ot,se)=>{"use strict";se.d(Ot,{Q:()=>Ge});var o=se(930);class Ge extends o.Lv{constructor(ut,ht,bt,Ze,vt){super(ut),this.onFinalize=vt,this._next=ht?function(dt){try{ht(dt)}catch(Te){ut.error(Te)}}:super._next,this._error=Ze?function(dt){try{Ze(dt)}catch(Te){ut.error(Te)}finally{this.unsubscribe()}}:super._error,this._complete=bt?function(){try{bt()}catch(dt){ut.error(dt)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ut;const{closed:ht}=this;super.unsubscribe(),!ht&&(null===(ut=this.onFinalize)||void 0===ut||ut.call(this))}}},4004:(zn,Ot,se)=>{"use strict";se.d(Ot,{U:()=>ue});var o=se(4482),Ge=se(5403);function ue(ut,ht){return(0,o.e)((bt,Ze)=>{let vt=0;bt.subscribe(new Ge.Q(Ze,dt=>{Ze.next(ut.call(ht,dt,vt++))}))})}},8189:(zn,Ot,se)=>{"use strict";se.d(Ot,{J:()=>ue});var o=se(5577),Ge=se(4671);function ue(ut=1/0){return(0,o.z)(Ge.y,ut)}},5577:(zn,Ot,se)=>{"use strict";se.d(Ot,{z:()=>vt});var o=se(4004),Ge=se(8421),ue=se(4482),ut=se(9672),ht=se(5403),Ze=se(576);function vt(dt,Te,ke=1/0){return(0,Ze.m)(Te)?vt((Ke,on)=>(0,o.U)((Vt,pn)=>Te(Ke,Vt,on,pn))((0,Ge.Xf)(dt(Ke,on))),ke):("number"==typeof Te&&(ke=Te),(0,ue.e)((Ke,on)=>function bt(dt,Te,ke,Ke,on,Vt,pn,Pn){const xt=[];let Mt=0,yt=0,Gt=!1;const rn=()=>{Gt&&!xt.length&&!Mt&&Te.complete()},Hn=In=>Mt<Ke?$t(In):xt.push(In),$t=In=>{Vt&&Te.next(In),Mt++;let an=!1;(0,Ge.Xf)(ke(In,yt++)).subscribe(new ht.Q(Te,Ct=>{on?.(Ct),Vt?Hn(Ct):Te.next(Ct)},()=>{an=!0},void 0,()=>{if(an)try{for(Mt--;xt.length&&Mt<Ke;){const Ct=xt.shift();pn?(0,ut.f)(Te,pn,()=>$t(Ct)):$t(Ct)}rn()}catch(Ct){Te.error(Ct)}}))};return dt.subscribe(new ht.Q(Te,Hn,()=>{Gt=!0,rn()})),()=>{Pn?.()}}(Ke,on,dt,ke)))}},5363:(zn,Ot,se)=>{"use strict";se.d(Ot,{Q:()=>ut});var o=se(9672),Ge=se(4482),ue=se(5403);function ut(ht,bt=0){return(0,Ge.e)((Ze,vt)=>{Ze.subscribe(new ue.Q(vt,dt=>(0,o.f)(vt,ht,()=>vt.next(dt),bt),()=>(0,o.f)(vt,ht,()=>vt.complete(),bt),dt=>(0,o.f)(vt,ht,()=>vt.error(dt),bt)))})}},3099:(zn,Ot,se)=>{"use strict";se.d(Ot,{B:()=>bt});var o=se(8996),Ge=se(5698),ue=se(7579),ut=se(930),ht=se(4482);function bt(vt={}){const{connector:dt=(()=>new ue.x),resetOnError:Te=!0,resetOnComplete:ke=!0,resetOnRefCountZero:Ke=!0}=vt;return on=>{let Vt=null,pn=null,Pn=null,xt=0,Mt=!1,yt=!1;const Gt=()=>{pn?.unsubscribe(),pn=null},rn=()=>{Gt(),Vt=Pn=null,Mt=yt=!1},Hn=()=>{const $t=Vt;rn(),$t?.unsubscribe()};return(0,ht.e)(($t,In)=>{xt++,!yt&&!Mt&&Gt();const an=Pn=Pn??dt();In.add(()=>{xt--,0===xt&&!yt&&!Mt&&(pn=Ze(Hn,Ke))}),an.subscribe(In),Vt||(Vt=new ut.Hp({next:Ct=>an.next(Ct),error:Ct=>{yt=!0,Gt(),pn=Ze(rn,Te,Ct),an.error(Ct)},complete:()=>{Mt=!0,Gt(),pn=Ze(rn,ke),an.complete()}}),(0,o.D)($t).subscribe(Vt))})(on)}}function Ze(vt,dt,...Te){return!0===dt?(vt(),null):!1===dt?null:dt(...Te).pipe((0,Ge.q)(1)).subscribe(()=>vt())}},9468:(zn,Ot,se)=>{"use strict";se.d(Ot,{R:()=>Ge});var o=se(4482);function Ge(ue,ut=0){return(0,o.e)((ht,bt)=>{bt.add(ue.schedule(()=>ht.subscribe(bt),ut))})}},5698:(zn,Ot,se)=>{"use strict";se.d(Ot,{q:()=>ut});var o=se(515),Ge=se(4482),ue=se(5403);function ut(ht){return ht<=0?()=>o.E:(0,Ge.e)((bt,Ze)=>{let vt=0;bt.subscribe(new ue.Q(Ze,dt=>{++vt<=ht&&(Ze.next(dt),ht<=vt&&Ze.complete())}))})}},8505:(zn,Ot,se)=>{"use strict";se.d(Ot,{b:()=>ht});var o=se(576),Ge=se(4482),ue=se(5403),ut=se(4671);function ht(bt,Ze,vt){const dt=(0,o.m)(bt)||Ze||vt?{next:bt,error:Ze,complete:vt}:bt;return dt?(0,Ge.e)((Te,ke)=>{var Ke;null===(Ke=dt.subscribe)||void 0===Ke||Ke.call(dt);let on=!0;Te.subscribe(new ue.Q(ke,Vt=>{var pn;null===(pn=dt.next)||void 0===pn||pn.call(dt,Vt),ke.next(Vt)},()=>{var Vt;on=!1,null===(Vt=dt.complete)||void 0===Vt||Vt.call(dt),ke.complete()},Vt=>{var pn;on=!1,null===(pn=dt.error)||void 0===pn||pn.call(dt,Vt),ke.error(Vt)},()=>{var Vt,pn;on&&(null===(Vt=dt.unsubscribe)||void 0===Vt||Vt.call(dt)),null===(pn=dt.finalize)||void 0===pn||pn.call(dt)}))}):ut.y}},4408:(zn,Ot,se)=>{"use strict";se.d(Ot,{o:()=>ht});var o=se(727);class Ge extends o.w0{constructor(Ze,vt){super()}schedule(Ze,vt=0){return this}}const ue={setInterval(...bt){const{delegate:Ze}=ue;return(Ze?.setInterval||setInterval)(...bt)},clearInterval(bt){const{delegate:Ze}=ue;return(Ze?.clearInterval||clearInterval)(bt)},delegate:void 0};var ut=se(8737);class ht extends Ge{constructor(Ze,vt){super(Ze,vt),this.scheduler=Ze,this.work=vt,this.pending=!1}schedule(Ze,vt=0){if(this.closed)return this;this.state=Ze;const dt=this.id,Te=this.scheduler;return null!=dt&&(this.id=this.recycleAsyncId(Te,dt,vt)),this.pending=!0,this.delay=vt,this.id=this.id||this.requestAsyncId(Te,this.id,vt),this}requestAsyncId(Ze,vt,dt=0){return ue.setInterval(Ze.flush.bind(Ze,this),dt)}recycleAsyncId(Ze,vt,dt=0){if(null!=dt&&this.delay===dt&&!1===this.pending)return vt;ue.clearInterval(vt)}execute(Ze,vt){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const dt=this._execute(Ze,vt);if(dt)return dt;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ze,vt){let Te,dt=!1;try{this.work(Ze)}catch(ke){dt=!0,Te=ke||new Error("Scheduled action threw falsy error")}if(dt)return this.unsubscribe(),Te}unsubscribe(){if(!this.closed){const{id:Ze,scheduler:vt}=this,{actions:dt}=vt;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ut.P)(dt,this),null!=Ze&&(this.id=this.recycleAsyncId(vt,Ze,null)),this.delay=null,super.unsubscribe()}}}},7565:(zn,Ot,se)=>{"use strict";se.d(Ot,{v:()=>ue});var o=se(6063);class Ge{constructor(ht,bt=Ge.now){this.schedulerActionCtor=ht,this.now=bt}schedule(ht,bt=0,Ze){return new this.schedulerActionCtor(this,ht).schedule(Ze,bt)}}Ge.now=o.l.now;class ue extends Ge{constructor(ht,bt=Ge.now){super(ht,bt),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ht){const{actions:bt}=this;if(this._active)return void bt.push(ht);let Ze;this._active=!0;do{if(Ze=ht.execute(ht.state,ht.delay))break}while(ht=bt.shift());if(this._active=!1,Ze){for(;ht=bt.shift();)ht.unsubscribe();throw Ze}}}},4986:(zn,Ot,se)=>{"use strict";se.d(Ot,{P:()=>ut,z:()=>ue});var o=se(4408);const ue=new(se(7565).v)(o.o),ut=ue},6063:(zn,Ot,se)=>{"use strict";se.d(Ot,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},3410:(zn,Ot,se)=>{"use strict";se.d(Ot,{z:()=>o});const o={setTimeout(...Ge){const{delegate:ue}=o;return(ue?.setTimeout||setTimeout)(...Ge)},clearTimeout(Ge){const{delegate:ue}=o;return(ue?.clearTimeout||clearTimeout)(Ge)},delegate:void 0}},2202:(zn,Ot,se)=>{"use strict";se.d(Ot,{h:()=>Ge});const Ge=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(zn,Ot,se)=>{"use strict";se.d(Ot,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(zn,Ot,se)=>{"use strict";se.d(Ot,{_6:()=>bt,jO:()=>ut,yG:()=>ht});var o=se(576),Ge=se(3532);function ue(Ze){return Ze[Ze.length-1]}function ut(Ze){return(0,o.m)(ue(Ze))?Ze.pop():void 0}function ht(Ze){return(0,Ge.K)(ue(Ze))?Ze.pop():void 0}function bt(Ze,vt){return"number"==typeof ue(Ze)?Ze.pop():vt}},8737:(zn,Ot,se)=>{"use strict";function o(Ge,ue){if(Ge){const ut=Ge.indexOf(ue);0<=ut&&Ge.splice(ut,1)}}se.d(Ot,{P:()=>o})},3888:(zn,Ot,se)=>{"use strict";function o(Ge){const ut=Ge(ht=>{Error.call(ht),ht.stack=(new Error).stack});return ut.prototype=Object.create(Error.prototype),ut.prototype.constructor=ut,ut}se.d(Ot,{d:()=>o})},2806:(zn,Ot,se)=>{"use strict";se.d(Ot,{O:()=>ut,x:()=>ue});var o=se(2416);let Ge=null;function ue(ht){if(o.v.useDeprecatedSynchronousErrorHandling){const bt=!Ge;if(bt&&(Ge={errorThrown:!1,error:null}),ht(),bt){const{errorThrown:Ze,error:vt}=Ge;if(Ge=null,Ze)throw vt}}else ht()}function ut(ht){o.v.useDeprecatedSynchronousErrorHandling&&Ge&&(Ge.errorThrown=!0,Ge.error=ht)}},9672:(zn,Ot,se)=>{"use strict";function o(Ge,ue,ut,ht=0,bt=!1){const Ze=ue.schedule(function(){ut(),bt?Ge.add(this.schedule(null,ht)):this.unsubscribe()},ht);if(Ge.add(Ze),!bt)return Ze}se.d(Ot,{f:()=>o})},4671:(zn,Ot,se)=>{"use strict";function o(Ge){return Ge}se.d(Ot,{y:()=>o})},1144:(zn,Ot,se)=>{"use strict";se.d(Ot,{z:()=>o});const o=Ge=>Ge&&"number"==typeof Ge.length&&"function"!=typeof Ge},2206:(zn,Ot,se)=>{"use strict";se.d(Ot,{D:()=>Ge});var o=se(576);function Ge(ue){return Symbol.asyncIterator&&(0,o.m)(ue?.[Symbol.asyncIterator])}},576:(zn,Ot,se)=>{"use strict";function o(Ge){return"function"==typeof Ge}se.d(Ot,{m:()=>o})},3670:(zn,Ot,se)=>{"use strict";se.d(Ot,{c:()=>ue});var o=se(8822),Ge=se(576);function ue(ut){return(0,Ge.m)(ut[o.L])}},6495:(zn,Ot,se)=>{"use strict";se.d(Ot,{T:()=>ue});var o=se(2202),Ge=se(576);function ue(ut){return(0,Ge.m)(ut?.[o.h])}},8239:(zn,Ot,se)=>{"use strict";se.d(Ot,{t:()=>Ge});var o=se(576);function Ge(ue){return(0,o.m)(ue?.then)}},3260:(zn,Ot,se)=>{"use strict";se.d(Ot,{L:()=>ut,Q:()=>ue});var o=se(5987),Ge=se(576);function ue(ht){return(0,o.FC)(this,arguments,function*(){const Ze=ht.getReader();try{for(;;){const{value:vt,done:dt}=yield(0,o.qq)(Ze.read());if(dt)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(vt)}}finally{Ze.releaseLock()}})}function ut(ht){return(0,Ge.m)(ht?.getReader)}},3532:(zn,Ot,se)=>{"use strict";se.d(Ot,{K:()=>Ge});var o=se(576);function Ge(ue){return ue&&(0,o.m)(ue.schedule)}},4482:(zn,Ot,se)=>{"use strict";se.d(Ot,{A:()=>Ge,e:()=>ue});var o=se(576);function Ge(ut){return(0,o.m)(ut?.lift)}function ue(ut){return ht=>{if(Ge(ht))return ht.lift(function(bt){try{return ut(bt,this)}catch(Ze){this.error(Ze)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(zn,Ot,se)=>{"use strict";function o(){}se.d(Ot,{Z:()=>o})},9635:(zn,Ot,se)=>{"use strict";se.d(Ot,{U:()=>ue,z:()=>Ge});var o=se(4671);function Ge(...ut){return ue(ut)}function ue(ut){return 0===ut.length?o.y:1===ut.length?ut[0]:function(bt){return ut.reduce((Ze,vt)=>vt(Ze),bt)}}},7849:(zn,Ot,se)=>{"use strict";se.d(Ot,{h:()=>ue});var o=se(2416),Ge=se(3410);function ue(ut){Ge.z.setTimeout(()=>{const{onUnhandledError:ht}=o.v;if(!ht)throw ut;ht(ut)})}},4532:(zn,Ot,se)=>{"use strict";function o(Ge){return new TypeError(`You provided ${null!==Ge&&"object"==typeof Ge?"an invalid object":`'${Ge}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}se.d(Ot,{z:()=>o})},5987:(zn,Ot,se)=>{"use strict";function vt(Fe,it,rt,Nt){return new(rt||(rt=Promise))(function(Jt,li){function ji(xo){try{ni(Nt.next(xo))}catch(ir){li(ir)}}function xs(xo){try{ni(Nt.throw(xo))}catch(ir){li(ir)}}function ni(xo){xo.done?Jt(xo.value):function Et(Jt){return Jt instanceof rt?Jt:new rt(function(li){li(Jt)})}(xo.value).then(ji,xs)}ni((Nt=Nt.apply(Fe,it||[])).next())})}function xt(Fe){return this instanceof xt?(this.v=Fe,this):new xt(Fe)}function Mt(Fe,it,rt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Et,Nt=rt.apply(Fe,it||[]),Jt=[];return Et={},li("next"),li("throw"),li("return"),Et[Symbol.asyncIterator]=function(){return this},Et;function li(Qn){Nt[Qn]&&(Et[Qn]=function(qr){return new Promise(function(cl,Pa){Jt.push([Qn,qr,cl,Pa])>1||ji(Qn,qr)})})}function ji(Qn,qr){try{!function xs(Qn){Qn.value instanceof xt?Promise.resolve(Qn.value.v).then(ni,xo):ir(Jt[0][2],Qn)}(Nt[Qn](qr))}catch(cl){ir(Jt[0][3],cl)}}function ni(Qn){ji("next",Qn)}function xo(Qn){ji("throw",Qn)}function ir(Qn,qr){Qn(qr),Jt.shift(),Jt.length&&ji(Jt[0][0],Jt[0][1])}}function Gt(Fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var rt,it=Fe[Symbol.asyncIterator];return it?it.call(Fe):(Fe=function Ke(Fe){var it="function"==typeof Symbol&&Symbol.iterator,rt=it&&Fe[it],Nt=0;if(rt)return rt.call(Fe);if(Fe&&"number"==typeof Fe.length)return{next:function(){return Fe&&Nt>=Fe.length&&(Fe=void 0),{value:Fe&&Fe[Nt++],done:!Fe}}};throw new TypeError(it?"Object is not iterable.":"Symbol.iterator is not defined.")}(Fe),rt={},Nt("next"),Nt("throw"),Nt("return"),rt[Symbol.asyncIterator]=function(){return this},rt);function Nt(Jt){rt[Jt]=Fe[Jt]&&function(li){return new Promise(function(ji,xs){!function Et(Jt,li,ji,xs){Promise.resolve(xs).then(function(ni){Jt({value:ni,done:ji})},li)}(ji,xs,(li=Fe[Jt](li)).done,li.value)})}}}se.d(Ot,{FC:()=>Mt,KL:()=>Gt,mG:()=>vt,qq:()=>xt})},4650:(zn,Ot,se)=>{"use strict";se.d(Ot,{$8M:()=>tc,$Z:()=>zE,AFp:()=>hF,ALo:()=>u0,AaK:()=>vt,AsE:()=>z1,BQk:()=>im,CHM:()=>Ur,CRH:()=>eF,CZH:()=>wx,CqO:()=>lb,D6c:()=>GF,DdM:()=>fs,EJc:()=>pF,EiD:()=>nd,EpF:()=>Kv,Ez6:()=>Zc,F$t:()=>D1,F4k:()=>YM,FYo:()=>Mo,FiY:()=>Zn,G48:()=>h5,Gf:()=>JB,GfV:()=>Ea,GkF:()=>uI,Gpc:()=>ke,Gre:()=>cB,Hsn:()=>fI,Ikx:()=>OI,JOm:()=>Vo,JVY:()=>Mv,JZr:()=>Pn,KtG:()=>Md,L6k:()=>tA,LAX:()=>nA,LFG:()=>ln,LSH:()=>Bv,Lbi:()=>Hb,Lck:()=>od,MAs:()=>rb,MMx:()=>Tb,MR2:()=>ME,NdJ:()=>cb,O4$:()=>Hf,OlP:()=>jr,Oqu:()=>j1,P3R:()=>nh,PXZ:()=>Af,Q6J:()=>sb,QGY:()=>dI,QP$:()=>us,QbO:()=>AF,Qsj:()=>oc,R0b:()=>hd,RDi:()=>x_,Rgc:()=>A0,SBq:()=>sr,Sil:()=>gF,Suo:()=>XB,TTD:()=>$c,TgZ:()=>b1,Udp:()=>Ip,VKq:()=>$I,WFA:()=>S1,X6Q:()=>kF,XFs:()=>Dn,Xpm:()=>wd,Xts:()=>jw,Y36:()=>O_,YKP:()=>KI,YNc:()=>KM,Yjl:()=>hl,Yz7:()=>$i,Z0I:()=>Sr,ZZ4:()=>Zb,_Bn:()=>s0,_UZ:()=>ab,_Vd:()=>Ai,_c5:()=>zF,_uU:()=>V1,aQg:()=>Dx,c2e:()=>fF,cJS:()=>ul,cg1:()=>Y1,d8E:()=>W1,dDg:()=>c5,dqk:()=>yi,eBb:()=>Kg,eFA:()=>SF,ekj:()=>N1,eoX:()=>wF,f3M:()=>yn,g9A:()=>v0,h0i:()=>oy,hGG:()=>_u,hij:()=>pb,iGM:()=>$B,ifc:()=>Gi,ip1:()=>_0,jDz:()=>Mb,kEZ:()=>mu,kL8:()=>$1,kYT:()=>CA,kcU:()=>OA,lG2:()=>ta,lcZ:()=>Bb,lqb:()=>P,lri:()=>vF,mCW:()=>y,n5z:()=>Hh,n_E:()=>pm,oAB:()=>wh,oxw:()=>I1,pB0:()=>Qw,q3G:()=>Bs,q4F:()=>rA,qLn:()=>Ja,qOj:()=>VM,qZA:()=>C1,qzn:()=>Ya,rWj:()=>vD,s9C:()=>T1,sBO:()=>xD,sIi:()=>j_,s_b:()=>hx,soG:()=>Vb,tb:()=>Qb,tp0:()=>hi,uIk:()=>zv,uOi:()=>$g,vHH:()=>xt,vpe:()=>lc,wAp:()=>gi,xi3:()=>Am,xp6:()=>OP,ynx:()=>x1,z2F:()=>xx,z3N:()=>Pc,zSh:()=>Rv,zs3:()=>em});var o=se(7579),Ge=se(727),ue=se(9751),ut=se(6451),ht=se(3099);function bt(c){for(let u in c)if(c[u]===bt)return u;throw Error("Could not find renamed property on target object.")}function Ze(c,u){for(const h in u)u.hasOwnProperty(h)&&!c.hasOwnProperty(h)&&(c[h]=u[h])}function vt(c){if("string"==typeof c)return c;if(Array.isArray(c))return"["+c.map(vt).join(", ")+"]";if(null==c)return""+c;if(c.overriddenName)return`${c.overriddenName}`;if(c.name)return`${c.name}`;const u=c.toString();if(null==u)return""+u;const h=u.indexOf("\n");return-1===h?u:u.substring(0,h)}function dt(c,u){return null==c||""===c?null===u?"":u:null==u||""===u?c:c+" "+u}const Te=bt({__forward_ref__:bt});function ke(c){return c.__forward_ref__=ke,c.toString=function(){return vt(this())},c}function Ke(c){return on(c)?c():c}function on(c){return"function"==typeof c&&c.hasOwnProperty(Te)&&c.__forward_ref__===ke}function Vt(c){return c&&!!c.\u0275providers}const Pn="https://g.co/ng/security#xss";class xt extends Error{constructor(u,h){super(function Mt(c,u){return`NG0${Math.abs(c)}${u?": "+u.trim():""}`}(u,h)),this.code=u}}function yt(c){return"string"==typeof c?c:null==c?"":String(c)}function In(c,u){throw new xt(-201,!1)}function ir(c,u){null==c&&function Qn(c,u,h,f){throw new Error(`ASSERTION ERROR: ${c}`+(null==f?"":` [Expected=> ${h} ${f} ${u} <=Actual]`))}(u,c,null,"!=")}function $i(c){return{token:c.token,providedIn:c.providedIn||null,factory:c.factory,value:void 0}}const Zc=$i;function ul(c){return{providers:c.providers||[],imports:c.imports||[]}}function Xo(c){return es(c,qt)||es(c,rr)}function Sr(c){return null!==Xo(c)}function es(c,u){return c.hasOwnProperty(u)?c[u]:null}function Ss(c){return c&&(c.hasOwnProperty(oo)||c.hasOwnProperty(va))?c[oo]:null}const qt=bt({\u0275prov:bt}),oo=bt({\u0275inj:bt}),rr=bt({ngInjectableDef:bt}),va=bt({ngInjectorDef:bt});var Dn=(()=>((Dn=Dn||{})[Dn.Default=0]="Default",Dn[Dn.Host=1]="Host",Dn[Dn.Self=2]="Self",Dn[Dn.SkipSelf=4]="SkipSelf",Dn[Dn.Optional=8]="Optional",Dn))();let Dl;function Vr(c){const u=Dl;return Dl=c,u}function ao(c,u,h){const f=Xo(c);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:h&Dn.Optional?null:void 0!==u?u:void In(vt(c))}const yi=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Nr={},Kr="__NG_DI_FLAG__",ea="ngTempTokenPath",gs=/\n/gm,xc="__source";let zi;function ts(c){const u=zi;return zi=c,u}function wa(c,u=Dn.Default){if(void 0===zi)throw new xt(-203,!1);return null===zi?ao(c,void 0,u):zi.get(c,u&Dn.Optional?null:void 0,u)}function ln(c,u=Dn.Default){return(function dl(){return Dl}()||wa)(Ke(c),u)}function yn(c,u=Dn.Default){return ln(c,ui(u))}function ui(c){return typeof c>"u"||"number"==typeof c?c:0|(c.optional&&8)|(c.host&&1)|(c.self&&2)|(c.skipSelf&&4)}function di(c){const u=[];for(let h=0;h<c.length;h++){const f=Ke(c[h]);if(Array.isArray(f)){if(0===f.length)throw new xt(900,!1);let g,w=Dn.Default;for(let M=0;M<f.length;M++){const O=f[M],N=De(O);"number"==typeof N?-1===N?g=O.token:w|=N:g=O}u.push(ln(g,w))}else u.push(ln(f))}return u}function Pi(c,u){return c[Kr]=u,c.prototype[Kr]=u,c}function De(c){return c[Kr]}function Dt(c){return{toString:c}.toString()}var lt=(()=>((lt=lt||{})[lt.OnPush=0]="OnPush",lt[lt.Default=1]="Default",lt))(),Gi=(()=>{return(c=Gi||(Gi={}))[c.Emulated=0]="Emulated",c[c.None=2]="None",c[c.ShadowDom=3]="ShadowDom",Gi;var c})();const _r={},ai=[],Zr=bt({\u0275cmp:bt}),Bi=bt({\u0275dir:bt}),Ua=bt({\u0275pipe:bt}),Ru=bt({\u0275mod:bt}),Uo=bt({\u0275fac:bt}),Sc=bt({__NG_ELEMENT_ID__:bt});let bA=0;function wd(c){return Dt(()=>{const h=!0===c.standalone,f={},g={type:c.type,providersResolver:null,decls:c.decls,vars:c.vars,factory:null,template:c.template||null,consts:c.consts||null,ngContentSelectors:c.ngContentSelectors,hostBindings:c.hostBindings||null,hostVars:c.hostVars||0,hostAttrs:c.hostAttrs||null,contentQueries:c.contentQueries||null,declaredInputs:f,inputs:null,outputs:null,exportAs:c.exportAs||null,onPush:c.changeDetection===lt.OnPush,directiveDefs:null,pipeDefs:null,standalone:h,dependencies:h&&c.dependencies||null,getStandaloneInjector:null,selectors:c.selectors||ai,viewQuery:c.viewQuery||null,features:c.features||null,data:c.data||{},encapsulation:c.encapsulation||Gi.Emulated,id:"c"+bA++,styles:c.styles||ai,_:null,setInput:null,schemas:c.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},w=c.dependencies,M=c.features;return g.inputs=bd(c.inputs,f),g.outputs=bd(c.outputs),M&&M.forEach(O=>O(g)),g.directiveDefs=w?()=>("function"==typeof w?w():w).map(kf).filter(cg):null,g.pipeDefs=w?()=>("function"==typeof w?w():w).map(Wr).filter(cg):null,g})}function kf(c){return cr(c)||ns(c)}function cg(c){return null!==c}function wh(c){return Dt(()=>({type:c.type,bootstrap:c.bootstrap||ai,declarations:c.declarations||ai,imports:c.imports||ai,exports:c.exports||ai,transitiveCompileScopes:null,schemas:c.schemas||null,id:c.id||null}))}function CA(c,u){return Dt(()=>{const h=na(c,!0);h.declarations=u.declarations||ai,h.imports=u.imports||ai,h.exports=u.exports||ai})}function bd(c,u){if(null==c)return _r;const h={};for(const f in c)if(c.hasOwnProperty(f)){let g=c[f],w=g;Array.isArray(g)&&(w=g[1],g=g[0]),h[g]=f,u&&(u[g]=w)}return h}const ta=wd;function hl(c){return{type:c.type,name:c.name,factory:null,pure:!1!==c.pure,standalone:!0===c.standalone,onDestroy:c.type.prototype.ngOnDestroy||null}}function cr(c){return c[Zr]||null}function ns(c){return c[Bi]||null}function Wr(c){return c[Ua]||null}function us(c){const u=cr(c)||ns(c)||Wr(c);return null!==u&&u.standalone}function na(c,u){const h=c[Ru]||null;if(!h&&!0===u)throw new Error(`Type ${vt(c)} does not have '\u0275mod' property.`);return h}function ia(c){return Array.isArray(c)&&"object"==typeof c[1]}function ba(c){return Array.isArray(c)&&!0===c[1]}function Ch(c){return 0!=(4&c.flags)}function Sd(c){return c.componentOffset>-1}function xh(c){return 1==(1&c.flags)}function ms(c){return null!==c.template}function xA(c){return 0!=(256&c[2])}function _s(c,u){return c.hasOwnProperty(Uo)?c[Uo]:null}class fl{constructor(u,h,f){this.previousValue=u,this.currentValue=h,this.firstChange=f}isFirstChange(){return this.firstChange}}function $c(){return Of}function Of(c){return c.type.prototype.ngOnChanges&&(c.setInput=Lf),Id}function Id(){const c=pl(this),u=c?.current;if(u){const h=c.previous;if(h===_r)c.previous=u;else for(let f in u)h[f]=u[f];c.current=null,this.ngOnChanges(u)}}function Lf(c,u,h,f){const g=this.declaredInputs[h],w=pl(c)||function Hu(c,u){return c[Eh]=u}(c,{previous:_r,current:null}),M=w.current||(w.current={}),O=w.previous,N=O[g];M[g]=new fl(N&&N.currentValue,u,O===_r),c[f]=u}$c.ngInherit=!0;const Eh="__ngSimpleChanges__";function pl(c){return c[Eh]||null}function Ks(c){for(;Array.isArray(c);)c=c[0];return c}function Do(c,u){return Ks(u[c])}function sa(c,u){return Ks(u[c.index])}function FA(c,u){return c.data[u]}function Qa(c,u){return c[u]}function Ho(c,u){const h=u[c];return ia(h)?h:h[0]}function Qu(c){return 64==(64&c[2])}function qi(c,u){return null==u?null:c[u]}function Td(c){c[18]=0}function Jc(c,u){c[5]+=u;let h=c,f=c[3];for(;null!==f&&(1===u&&1===h[5]||-1===u&&0===h[5]);)f[5]+=u,h=f,f=f[3]}const ci={lFrame:r_(null),bindingsEnabled:!0};function kA(){return ci.bindingsEnabled}function Rt(){return ci.lFrame.lView}function Ni(){return ci.lFrame.tView}function Ur(c){return ci.lFrame.contextLView=c,c[8]}function Md(c){return ci.lFrame.contextLView=null,c}function Zs(){let c=Vu();for(;null!==c&&64===c.type;)c=c.parent;return c}function Vu(){return ci.lFrame.currentTNode}function Ws(c,u){const h=ci.lFrame;h.currentTNode=c,h.isParent=u}function gl(){return ci.lFrame.isParent}function Th(){ci.lFrame.isParent=!1}function Hr(){const c=ci.lFrame;let u=c.bindingRootIndex;return-1===u&&(u=c.bindingRootIndex=c.tView.bindingStartIndex),u}function ju(){return ci.lFrame.bindingIndex++}function kl(c){const u=ci.lFrame,h=u.bindingIndex;return u.bindingIndex=u.bindingIndex+c,h}function Jl(c,u){const h=ci.lFrame;h.bindingIndex=h.bindingRootIndex=c,Bd(u)}function Bd(c){ci.lFrame.currentDirectiveIndex=c}function Bh(c){const u=ci.lFrame.currentDirectiveIndex;return-1===u?null:c[u]}function fg(){return ci.lFrame.currentQueryIndex}function Nf(c){ci.lFrame.currentQueryIndex=c}function Uf(c){const u=c[1];return 2===u.type?u.declTNode:1===u.type?c[6]:null}function Va(c,u,h){if(h&Dn.SkipSelf){let g=u,w=c;for(;!(g=g.parent,null!==g||h&Dn.Host||(g=Uf(w),null===g||(w=w[15],10&g.type))););if(null===g)return!1;u=g,c=w}const f=ci.lFrame=Fd();return f.currentTNode=u,f.lView=c,!0}function pg(c){const u=Fd(),h=c[1];ci.lFrame=u,u.currentTNode=h.firstChild,u.lView=c,u.tView=h,u.contextLView=c,u.bindingIndex=h.bindingStartIndex,u.inI18n=!1}function Fd(){const c=ci.lFrame,u=null===c?null:c.child;return null===u?r_(c):u}function r_(c){const u={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:c,child:null,inI18n:!1};return null!==c&&(c.child=u),u}function kd(){const c=ci.lFrame;return ci.lFrame=c.parent,c.currentTNode=null,c.lView=null,c}const s_=kd;function Fh(){const c=kd();c.isParent=!0,c.tView=null,c.selectedIndex=-1,c.contextLView=null,c.elementDepthCount=0,c.currentDirectiveIndex=-1,c.currentNamespace=null,c.bindingRootIndex=-1,c.bindingIndex=-1,c.currentQueryIndex=0}function To(){return ci.lFrame.selectedIndex}function _l(c){ci.lFrame.selectedIndex=c}function Mr(){const c=ci.lFrame;return FA(c.tView,c.selectedIndex)}function Hf(){ci.lFrame.currentNamespace="svg"}function OA(){!function zu(){ci.lFrame.currentNamespace=null}()}function Od(c,u){for(let h=u.directiveStart,f=u.directiveEnd;h<f;h++){const w=c.data[h].type.prototype,{ngAfterContentInit:M,ngAfterContentChecked:O,ngAfterViewInit:N,ngAfterViewChecked:q,ngOnDestroy:ee}=w;M&&(c.contentHooks||(c.contentHooks=[])).push(-h,M),O&&((c.contentHooks||(c.contentHooks=[])).push(h,O),(c.contentCheckHooks||(c.contentCheckHooks=[])).push(h,O)),N&&(c.viewHooks||(c.viewHooks=[])).push(-h,N),q&&((c.viewHooks||(c.viewHooks=[])).push(h,q),(c.viewCheckHooks||(c.viewCheckHooks=[])).push(h,q)),null!=ee&&(c.destroyHooks||(c.destroyHooks=[])).push(h,ee)}}function LA(c,u,h){Qf(c,u,3,h)}function Hs(c,u,h,f){(3&c[2])===h&&Qf(c,u,h,f)}function Ld(c,u){let h=c[2];(3&h)===u&&(h&=2047,h+=1,c[2]=h)}function Qf(c,u,h,f){const w=f??-1,M=u.length-1;let O=0;for(let N=void 0!==f?65535&c[18]:0;N<M;N++)if("number"==typeof u[N+1]){if(O=u[N],null!=f&&O>=f)break}else u[N]<0&&(c[18]+=65536),(O<w||-1==w)&&(o_(c,h,u,N),c[18]=(4294901760&c[18])+N+2),N++}function o_(c,u,h,f){const g=h[f]<0,w=h[f+1],O=c[g?-h[f]:h[f]];if(g){if(c[2]>>11<c[18]>>16&&(3&c[2])===u){c[2]+=2048;try{w.call(O)}finally{}}}else try{w.call(O)}finally{}}class Pd{constructor(u,h,f){this.factory=u,this.resolving=!1,this.canSeeViewProviders=h,this.injectImpl=f}}function Tc(c,u,h){let f=0;for(;f<h.length;){const g=h[f];if("number"==typeof g){if(0!==g)break;f++;const w=h[f++],M=h[f++],O=h[f++];c.setAttribute(u,M,O,w)}else{const w=g,M=h[++f];l_(w)?c.setProperty(u,w,M):c.setAttribute(u,w,M),f++}}return f}function Rh(c){return 3===c||4===c||6===c}function l_(c){return 64===c.charCodeAt(0)}function Xl(c,u){if(null!==u&&0!==u.length)if(null===c||0===c.length)c=u.slice();else{let h=-1;for(let f=0;f<u.length;f++){const g=u[f];"number"==typeof g?h=g:0===h||Ud(c,h,g,null,-1===h||2===h?u[++f]:null)}}return c}function Ud(c,u,h,f,g){let w=0,M=c.length;if(-1===u)M=-1;else for(;w<c.length;){const O=c[w++];if("number"==typeof O){if(O===u){M=-1;break}if(O>u){M=w-1;break}}}for(;w<c.length;){const O=c[w];if("number"==typeof O)break;if(O===h){if(null===f)return void(null!==g&&(c[w+1]=g));if(f===c[w+1])return void(c[w+2]=g)}w++,null!==f&&w++,null!==g&&w++}-1!==M&&(c.splice(M,0,u),w=M+1),c.splice(w++,0,h),null!==f&&c.splice(w++,0,f),null!==g&&c.splice(w++,0,g)}function Mc(c){return-1!==c}function Oh(c){return 32767&c}function Lh(c,u){let h=function Gu(c){return c>>16}(c),f=u;for(;h>0;)f=f[15],h--;return f}let Ph=!0;function qu(c){const u=Ph;return Ph=c,u}let c_=0;const Js={};function Gf(c,u){const h=u_(c,u);if(-1!==h)return h;const f=u[1];f.firstCreatePass&&(c.injectorIndex=u.length,ec(f.data,c),ec(u,null),ec(f.blueprint,null));const g=Ir(c,u),w=c.injectorIndex;if(Mc(g)){const M=Oh(g),O=Lh(g,u),N=O[1].data;for(let q=0;q<8;q++)u[w+q]=O[M+q]|N[M+q]}return u[w+8]=g,w}function ec(c,u){c.push(0,0,0,0,0,0,0,0,u)}function u_(c,u){return-1===c.injectorIndex||c.parent&&c.parent.injectorIndex===c.injectorIndex||null===u[c.injectorIndex+8]?-1:c.injectorIndex}function Ir(c,u){if(c.parent&&-1!==c.parent.injectorIndex)return c.parent.injectorIndex;let h=0,f=null,g=u;for(;null!==g;){if(f=QA(g),null===f)return-1;if(h++,g=g[15],-1!==f.injectorIndex)return f.injectorIndex|h<<16}return-1}function ru(c,u,h){!function yg(c,u,h){let f;"string"==typeof h?f=h.charCodeAt(0)||0:h.hasOwnProperty(Sc)&&(f=h[Sc]),null==f&&(f=h[Sc]=c_++);const g=255&f;u.data[c+(g>>5)]|=1<<g}(c,u,h)}function Qd(c,u,h){if(h&Dn.Optional||void 0!==c)return c;In()}function Vd(c,u,h,f){if(h&Dn.Optional&&void 0===f&&(f=null),0==(h&(Dn.Self|Dn.Host))){const g=c[9],w=Vr(void 0);try{return g?g.get(u,f,h&Dn.Optional):ao(u,f,h&Dn.Optional)}finally{Vr(w)}}return Qd(f,0,h)}function UA(c,u,h,f=Dn.Default,g){if(null!==c){if(1024&u[2]){const M=function Bw(c,u,h,f,g){let w=c,M=u;for(;null!==w&&null!==M&&1024&M[2]&&!(256&M[2]);){const O=Ol(w,M,h,f|Dn.Self,Js);if(O!==Js)return O;let N=w.parent;if(!N){const q=M[21];if(q){const ee=q.get(h,Js,f);if(ee!==Js)return ee}N=QA(M),M=M[15]}w=N}return g}(c,u,h,f,Js);if(M!==Js)return M}const w=Ol(c,u,h,f,Js);if(w!==Js)return w}return Vd(u,h,f,g)}function Ol(c,u,h,f,g){const w=function vg(c){if("string"==typeof c)return c.charCodeAt(0)||0;const u=c.hasOwnProperty(Sc)?c[Sc]:void 0;return"number"==typeof u?u>=0?255&u:Uh:u}(h);if("function"==typeof w){if(!Va(u,c,f))return f&Dn.Host?Qd(g,0,f):Vd(u,h,f,g);try{const M=w(f);if(null!=M||f&Dn.Optional)return M;In()}finally{s_()}}else if("number"==typeof w){let M=null,O=u_(c,u),N=-1,q=f&Dn.Host?u[16][6]:null;for((-1===O||f&Dn.SkipSelf)&&(N=-1===O?Ir(c,u):u[O+8],-1!==N&&Nh(f,!1)?(M=u[1],O=Oh(N),u=Lh(N,u)):O=-1);-1!==O;){const ee=u[1];if(HA(w,O,ee.data)){const me=Ku(O,u,h,M,f,q);if(me!==Js)return me}N=u[O+8],-1!==N&&Nh(f,u[1].data[O+8]===q)&&HA(w,O,u)?(M=ee,O=Oh(N),u=Lh(N,u)):O=-1}}return g}function Ku(c,u,h,f,g,w){const M=u[1],O=M.data[c+8],ee=Zu(O,M,h,null==f?Sd(O)&&Ph:f!=M&&0!=(3&O.type),g&Dn.Host&&w===O);return null!==ee?su(u,M,ee,O):Js}function Zu(c,u,h,f,g){const w=c.providerIndexes,M=u.data,O=1048575&w,N=c.directiveStart,ee=w>>20,Ne=g?O+ee:c.directiveEnd;for(let st=f?O:O+ee;st<Ne;st++){const Ft=M[st];if(st<N&&h===Ft||st>=N&&Ft.type===h)return st}if(g){const st=M[N];if(st&&ms(st)&&st.type===h)return N}return null}function su(c,u,h,f){let g=c[h];const w=u.data;if(function nu(c){return c instanceof Pd}(g)){const M=g;M.resolving&&function rn(c,u){const h=u?`. Dependency path: ${u.join(" > ")} > ${c}`:"";throw new xt(-200,`Circular dependency in DI detected for ${c}${h}`)}(function Gt(c){return"function"==typeof c?c.name||c.toString():"object"==typeof c&&null!=c&&"function"==typeof c.type?c.type.name||c.type.toString():yt(c)}(w[h]));const O=qu(M.canSeeViewProviders);M.resolving=!0;const N=M.injectImpl?Vr(M.injectImpl):null;Va(c,f,Dn.Default);try{g=c[h]=M.factory(void 0,w,c,f),u.firstCreatePass&&h>=f.directiveStart&&function mg(c,u,h){const{ngOnChanges:f,ngOnInit:g,ngDoCheck:w}=u.type.prototype;if(f){const M=Of(u);(h.preOrderHooks||(h.preOrderHooks=[])).push(c,M),(h.preOrderCheckHooks||(h.preOrderCheckHooks=[])).push(c,M)}g&&(h.preOrderHooks||(h.preOrderHooks=[])).push(0-c,g),w&&((h.preOrderHooks||(h.preOrderHooks=[])).push(c,w),(h.preOrderCheckHooks||(h.preOrderCheckHooks=[])).push(c,w))}(h,w[h],u)}finally{null!==N&&Vr(N),qu(O),M.resolving=!1,s_()}}return g}function HA(c,u,h){return!!(h[u+(c>>5)]&1<<c)}function Nh(c,u){return!(c&Dn.Self||c&Dn.Host&&u)}class Wu{constructor(u,h){this._tNode=u,this._lView=h}get(u,h,f){return UA(this._tNode,this._lView,u,ui(f),h)}}function Uh(){return new Wu(Zs(),Rt())}function Hh(c){return Dt(()=>{const u=c.prototype.constructor,h=u[Uo]||qf(u),f=Object.prototype;let g=Object.getPrototypeOf(c.prototype).constructor;for(;g&&g!==f;){const w=g[Uo]||qf(g);if(w&&w!==h)return w;g=Object.getPrototypeOf(g)}return w=>new w})}function qf(c){return on(c)?()=>{const u=qf(Ke(c));return u&&u()}:_s(c)}function QA(c){const u=c[1],h=u.type;return 2===h?u.declTNode:1===h?c[6]:null}function tc(c){return function NA(c,u){if("class"===u)return c.classes;if("style"===u)return c.styles;const h=c.attrs;if(h){const f=h.length;let g=0;for(;g<f;){const w=h[g];if(Rh(w))break;if(0===w)g+=2;else if("number"==typeof w)for(g++;g<f&&"string"==typeof h[g];)g++;else{if(w===u)return h[g+1];g+=2}}}return null}(Zs(),c)}const Qh="__parameters__";function Vh(c,u,h){return Dt(()=>{const f=function wg(c){return function(...h){if(c){const f=c(...h);for(const g in f)this[g]=f[g]}}}(u);function g(...w){if(this instanceof g)return f.apply(this,w),this;const M=new g(...w);return O.annotation=M,O;function O(N,q,ee){const me=N.hasOwnProperty(Qh)?N[Qh]:Object.defineProperty(N,Qh,{value:[]})[Qh];for(;me.length<=ee;)me.push(null);return(me[ee]=me[ee]||[]).push(M),N}}return h&&(g.prototype=Object.create(h.prototype)),g.prototype.ngMetadataName=c,g.annotationCls=g,g})}class jr{constructor(u,h){this._desc=u,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof h?this.__NG_ELEMENT_ID__=h:void 0!==h&&(this.\u0275prov=$i({token:this,providedIn:h.providedIn||"root",factory:h.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Xn(c,u){void 0===u&&(u=c);for(let h=0;h<c.length;h++){let f=c[h];Array.isArray(f)?(u===c&&(u=c.slice(0,h)),Xn(f,u)):u!==c&&u.push(f)}return u}function yl(c,u){c.forEach(h=>Array.isArray(h)?yl(h,u):u(h))}function vn(c,u,h){u>=c.length?c.push(h):c.splice(u,0,h)}function tn(c,u){return u>=c.length-1?c.pop():c.splice(u,1)[0]}function Ui(c,u){const h=[];for(let f=0;f<c;f++)h.push(u);return h}function xa(c,u,h){let f=nc(c,u);return f>=0?c[1|f]=h:(f=~f,function rs(c,u,h,f){let g=c.length;if(g==u)c.push(h,f);else if(1===g)c.push(f,c[0]),c[0]=h;else{for(g--,c.push(c[g-1],c[g]);g>u;)c[g]=c[g-2],g--;c[u]=h,c[u+1]=f}}(c,f,u,h)),f}function $f(c,u){const h=nc(c,u);if(h>=0)return c[1|h]}function nc(c,u){return function Xt(c,u,h){let f=0,g=c.length>>h;for(;g!==f;){const w=f+(g-f>>1),M=c[w<<h];if(u===M)return w<<h;M>u?g=w:f=w+1}return~(g<<h)}(c,u,1)}const Zn=Pi(Vh("Optional"),8),hi=Pi(Vh("SkipSelf"),4);var Vo=(()=>((Vo=Vo||{})[Vo.Important=1]="Important",Vo[Vo.DashCase=2]="DashCase",Vo))();const p_=new Map;let xv=0;const lu="__ngContext__";function jo(c,u){ia(u)?(c[lu]=u[20],function Ev(c){p_.set(c[20],c)}(u)):c[lu]=u}function rp(c,u){return undefined(c,u)}function sp(c){const u=c[3];return ba(u)?u[3]:u}function y_(c){return YA(c[13])}function op(c){return YA(c[4])}function YA(c){for(;null!==c&&!ba(c);)c=c[4];return c}function Nl(c,u,h,f,g){if(null!=f){let w,M=!1;ba(f)?w=f:ia(f)&&(M=!0,f=f[0]);const O=Ks(f);0===c&&null!==h?null==g?Ug(u,h,O):sc(u,h,O,g||null,!0):1===c&&null!==h?sc(u,h,O,g||null,!0):2===c?function Ms(c,u,h){const f=Zd(c,u);f&&function Hg(c,u,h,f){c.removeChild(u,h,f)}(c,f,u,h)}(u,O,M):3===c&&u.destroyNode(O),null!=w&&function hp(c,u,h,f,g){const w=h[7];w!==Ks(h)&&Nl(u,c,f,w,g);for(let O=10;O<h.length;O++){const N=h[O];hu(N[1],N,c,u,f,w)}}(u,c,w,h,g)}}function Og(c,u,h){return c.createElement(u,h)}function Kd(c,u){const h=c[9],f=h.indexOf(u),g=u[3];512&u[2]&&(u[2]&=-513,Jc(g,-1)),h.splice(f,1)}function Ng(c,u){if(c.length<=10)return;const h=10+u,f=c[h];if(f){const g=f[17];null!==g&&g!==c&&Kd(g,f),u>0&&(c[h-1][4]=f[4]);const w=tn(c,10+u);!function Lg(c,u){hu(c,u,u[11],2,null,null),u[0]=null,u[6]=null}(f[1],f);const M=w[19];null!==M&&M.detachView(w[1]),f[3]=null,f[4]=null,f[2]&=-65}return f}function Wh(c,u){if(!(128&u[2])){const h=u[11];h.destroyNode&&hu(c,u,h,3,null,null),function qd(c){let u=c[13];if(!u)return w_(c[1],c);for(;u;){let h=null;if(ia(u))h=u[13];else{const f=u[10];f&&(h=f)}if(!h){for(;u&&!u[4]&&u!==c;)ia(u)&&w_(u[1],u),u=u[3];null===u&&(u=c),ia(u)&&w_(u[1],u),h=u&&u[4]}u=h}}(u)}}function w_(c,u){if(!(128&u[2])){u[2]&=-65,u[2]|=128,function b_(c,u){let h;if(null!=c&&null!=(h=c.destroyHooks))for(let f=0;f<h.length;f+=2){const g=u[h[f]];if(!(g instanceof Pd)){const w=h[f+1];if(Array.isArray(w))for(let M=0;M<w.length;M+=2){const O=g[w[M]],N=w[M+1];try{N.call(O)}finally{}}else try{w.call(g)}finally{}}}}(c,u),function Nw(c,u){const h=c.cleanup,f=u[7];let g=-1;if(null!==h)for(let w=0;w<h.length-1;w+=2)if("string"==typeof h[w]){const M=h[w+3];M>=0?f[g=M]():f[g=-M].unsubscribe(),w+=2}else{const M=f[g=h[w+1]];h[w].call(M)}if(null!==f){for(let w=g+1;w<f.length;w++)(0,f[w])();u[7]=null}}(c,u),1===u[1].type&&u[11].destroy();const h=u[17];if(null!==h&&ba(u[3])){h!==u[3]&&Kd(h,u);const f=u[19];null!==f&&f.detachView(c)}!function tp(c){p_.delete(c[20])}(u)}}function cp(c,u,h){return function Yh(c,u,h){let f=u;for(;null!==f&&40&f.type;)f=(u=f).parent;if(null===f)return h[0];{const{componentOffset:g}=f;if(g>-1){const{encapsulation:w}=c.data[f.directiveStart+g];if(w===Gi.None||w===Gi.Emulated)return null}return sa(f,h)}}(c,u.parent,h)}function sc(c,u,h,f,g){c.insertBefore(u,h,f,g)}function Ug(c,u,h){c.appendChild(u,h)}function $h(c,u,h,f,g){null!==f?sc(c,u,h,f,g):Ug(c,u,h)}function Zd(c,u){return c.parentNode(u)}function up(c,u,h){return dp(c,u,h)}let $d,ef,Jd,dp=function Ju(c,u,h){return 40&c.type?sa(c,h):null};function Qg(c,u,h,f){const g=cp(c,f,u),w=u[11],O=up(f.parent||u[6],f,u);if(null!=g)if(Array.isArray(h))for(let N=0;N<h.length;N++)$h(w,g,h[N],O,!1);else $h(w,g,h,O,!1)}function Vg(c,u){if(null!==u){const h=u.type;if(3&h)return sa(u,c);if(4&h)return Wd(-1,c[u.index]);if(8&h){const f=u.child;if(null!==f)return Vg(c,f);{const g=c[u.index];return ba(g)?Wd(-1,g):Ks(g)}}if(32&h)return rp(u,c)()||Ks(c[u.index]);{const f=Jh(c,u);return null!==f?Array.isArray(f)?f[0]:Vg(sp(c[16]),f):Vg(c,u.next)}}return null}function Jh(c,u){return null!==u?c[16][6].projection[u.projection]:null}function Wd(c,u){const h=10+c+1;if(h<u.length){const f=u[h],g=f[1].firstChild;if(null!==g)return Vg(f,g)}return u[7]}function du(c,u,h,f,g,w,M){for(;null!=h;){const O=f[h.index],N=h.type;if(M&&0===u&&(O&&jo(Ks(O),f),h.flags|=2),32!=(32&h.flags))if(8&N)du(c,u,h.child,f,g,w,!1),Nl(u,c,g,O,w);else if(32&N){const q=rp(h,f);let ee;for(;ee=q();)Nl(u,c,g,ee,w);Nl(u,c,g,O,w)}else 16&N?Xu(c,u,f,h,g,w):Nl(u,c,g,O,w);h=M?h.projectionNext:h.next}}function hu(c,u,h,f,g,w){du(h,f,c.firstChild,u,g,w,!1)}function Xu(c,u,h,f,g,w){const M=h[16],N=M[6].projection[f.projection];if(Array.isArray(N))for(let q=0;q<N.length;q++)Nl(u,c,g,N[q],w);else du(c,u,N,M[3],g,w,!0)}function JA(c,u,h){""===h?c.removeAttribute(u,"class"):c.setAttribute(u,"class",h)}function XA(c,u,h){const{mergedAttrs:f,classes:g,styles:w}=h;null!==f&&Tc(c,u,f),null!==g&&JA(c,u,g),null!==w&&function jg(c,u,h){c.setAttribute(u,"style",h)}(c,u,w)}function Ul(c){return function aa(){if(void 0===$d&&($d=null,yi.trustedTypes))try{$d=yi.trustedTypes.createPolicy("angular",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch{}return $d}()?.createHTML(c)||c}function x_(c){ef=c}function zg(c){return function fp(){if(void 0===Jd&&(Jd=null,yi.trustedTypes))try{Jd=yi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch{}return Jd}()?.createScriptURL(c)||c}class Xh{constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Pn})`}}class eA extends Xh{getTypeName(){return"HTML"}}class Gg extends Xh{getTypeName(){return"Style"}}class Wa extends Xh{getTypeName(){return"Script"}}class gp extends Xh{getTypeName(){return"URL"}}class qg extends Xh{getTypeName(){return"ResourceURL"}}function Pc(c){return c instanceof Xh?c.changingThisBreaksApplicationSecurity:c}function Ya(c,u){const h=function tf(c){return c instanceof Xh&&c.getTypeName()||null}(c);if(null!=h&&h!==u){if("ResourceURL"===h&&"URL"===u)return!0;throw new Error(`Required a safe ${u}, got a ${h} (see ${Pn})`)}return h===u}function Mv(c){return new eA(c)}function tA(c){return new Gg(c)}function Kg(c){return new Wa(c)}function nA(c){return new gp(c)}function Qw(c){return new qg(c)}class S_{constructor(u){this.inertDocumentHelper=u}getInertBodyElement(u){u="<body><remove></remove>"+u;try{const h=(new window.DOMParser).parseFromString(Ul(u),"text/html").body;return null===h?this.inertDocumentHelper.getInertBodyElement(u):(h.removeChild(h.firstChild),h)}catch{return null}}}class bn{constructor(u){if(this.defaultDoc=u,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const h=this.inertDocument.createElement("html");this.inertDocument.appendChild(h);const f=this.inertDocument.createElement("body");h.appendChild(f)}}getInertBodyElement(u){const h=this.inertDocument.createElement("template");if("content"in h)return h.innerHTML=Ul(u),h;const f=this.inertDocument.createElement("body");return f.innerHTML=Ul(u),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(u){const h=u.attributes;for(let g=h.length-1;0<g;g--){const M=h.item(g).name;("xmlns:ns1"===M||0===M.indexOf("ns1:"))&&u.removeAttribute(M)}let f=u.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const m=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function y(c){return(c=String(c)).match(m)?c:"unsafe:"+c}function B(c){const u={};for(const h of c.split(","))u[h]=!0;return u}function V(...c){const u={};for(const h of c)for(const f in h)h.hasOwnProperty(f)&&(u[f]=!0);return u}const Z=B("area,br,col,hr,img,wbr"),Ce=B("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Je=B("rp,rt"),kn=V(Z,V(Ce,B("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),V(Je,B("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),V(Je,Ce)),Ji=B("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ed=V(Ji,B("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),B("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),E_=B("script,style,template");class I_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(u){let h=u.firstChild,f=!0;for(;h;)if(h.nodeType===Node.ELEMENT_NODE?f=this.startElement(h):h.nodeType===Node.TEXT_NODE?this.chars(h.nodeValue):this.sanitizedSomething=!0,f&&h.firstChild)h=h.firstChild;else for(;h;){h.nodeType===Node.ELEMENT_NODE&&this.endElement(h);let g=this.checkClobberedElement(h,h.nextSibling);if(g){h=g;break}h=this.checkClobberedElement(h,h.parentNode)}return this.buf.join("")}startElement(u){const h=u.nodeName.toLowerCase();if(!kn.hasOwnProperty(h))return this.sanitizedSomething=!0,!E_.hasOwnProperty(h);this.buf.push("<"),this.buf.push(h);const f=u.attributes;for(let g=0;g<f.length;g++){const w=f.item(g),M=w.name,O=M.toLowerCase();if(!ed.hasOwnProperty(O)){this.sanitizedSomething=!0;continue}let N=w.value;Ji[O]&&(N=y(N)),this.buf.push(" ",M,'="',Wg(N),'"')}return this.buf.push(">"),!0}endElement(u){const h=u.nodeName.toLowerCase();kn.hasOwnProperty(h)&&!Z.hasOwnProperty(h)&&(this.buf.push("</"),this.buf.push(h),this.buf.push(">"))}chars(u){this.buf.push(Wg(u))}checkClobberedElement(u,h){if(h&&(u.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${u.outerHTML}`);return h}}const eh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,td=/([^\#-~ |!])/g;function Wg(c){return c.replace(/&/g,"&amp;").replace(eh,function(u){return"&#"+(1024*(u.charCodeAt(0)-55296)+(u.charCodeAt(1)-56320)+65536)+";"}).replace(td,function(u){return"&#"+u.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mp;function nd(c,u){let h=null;try{mp=mp||function Zg(c){const u=new bn(c);return function I(){try{return!!(new window.DOMParser).parseFromString(Ul(""),"text/html")}catch{return!1}}()?new S_(u):u}(c);let f=u?String(u):"";h=mp.getInertBodyElement(f);let g=5,w=f;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,f=w,w=h.innerHTML,h=mp.getInertBodyElement(f)}while(f!==w);return Ul((new I_).sanitizeChildren(th(h)||h))}finally{if(h){const f=th(h)||h;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function th(c){return"content"in c&&function Vw(c){return c.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===c.nodeName}(c)?c.content:null}var Bs=(()=>((Bs=Bs||{})[Bs.NONE=0]="NONE",Bs[Bs.HTML=1]="HTML",Bs[Bs.STYLE=2]="STYLE",Bs[Bs.SCRIPT=3]="SCRIPT",Bs[Bs.URL=4]="URL",Bs[Bs.RESOURCE_URL=5]="RESOURCE_URL",Bs))();function Bv(c){const u=M_();return u?u.sanitize(Bs.URL,c)||"":Ya(c,"URL")?Pc(c):y(yt(c))}function $g(c){const u=M_();if(u)return zg(u.sanitize(Bs.RESOURCE_URL,c)||"");if(Ya(c,"ResourceURL"))return zg(Pc(c));throw new xt(904,!1)}function nh(c,u,h){return function iA(c,u){return"src"===u&&("embed"===c||"frame"===c||"iframe"===c||"media"===c||"script"===c)||"href"===u&&("base"===c||"link"===c)?$g:Bv}(u,h)(c)}function M_(){const c=Rt();return c&&c[12]}const jw=new jr("ENVIRONMENT_INITIALIZER"),zw=new jr("INJECTOR",-1),o1=new jr("INJECTOR_DEF_TYPES");class Gw{get(u,h=Nr){if(h===Nr){const f=new Error(`NullInjectorError: No provider for ${vt(u)}!`);throw f.name="NullInjectorError",f}return h}}function ME(c){return{\u0275providers:c}}function BE(...c){return{\u0275providers:qw(0,c),\u0275fromNgModule:!0}}function qw(c,...u){const h=[],f=new Set;let g;return yl(u,w=>{const M=w;B_(M,h,[],f)&&(g||(g=[]),g.push(M))}),void 0!==g&&a1(g,h),h}function a1(c,u){for(let h=0;h<c.length;h++){const{providers:g}=c[h];F_(g,w=>{u.push(w)})}}function B_(c,u,h,f){if(!(c=Ke(c)))return!1;let g=null,w=Ss(c);const M=!w&&cr(c);if(w||M){if(M&&!M.standalone)return!1;g=c}else{const N=c.ngModule;if(w=Ss(N),!w)return!1;g=N}const O=f.has(g);if(M){if(O)return!1;if(f.add(g),M.dependencies){const N="function"==typeof M.dependencies?M.dependencies():M.dependencies;for(const q of N)B_(q,u,h,f)}}else{if(!w)return!1;{if(null!=w.imports&&!O){let q;f.add(g);try{yl(w.imports,ee=>{B_(ee,u,h,f)&&(q||(q=[]),q.push(ee))})}finally{}void 0!==q&&a1(q,u)}if(!O){const q=_s(g)||(()=>new g);u.push({provide:g,useFactory:q,deps:ai},{provide:o1,useValue:g,multi:!0},{provide:jw,useValue:()=>ln(g),multi:!0})}const N=w.providers;null==N||O||F_(N,ee=>{u.push(ee)})}}return g!==c&&void 0!==c.providers}function F_(c,u){for(let h of c)Vt(h)&&(h=h.\u0275providers),Array.isArray(h)?F_(h,u):u(h)}const Fv=bt({provide:String,useValue:bt});function Kw(c){return null!==c&&"object"==typeof c&&Fv in c}function _p(c){return"function"==typeof c}const Rv=new jr("Set Injector scope."),S={},b={};let D;function E(){return void 0===D&&(D=new Gw),D}class P{}class G extends P{constructor(u,h,f,g){super(),this.parent=h,this.source=f,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,cn(u,M=>this.processProvider(M)),this.records.set(zw,ze(void 0,this)),g.has("environment")&&this.records.set(P,ze(void 0,this));const w=this.records.get(Rv);null!=w&&"string"==typeof w.value&&this.scopes.add(w.value),this.injectorDefTypes=new Set(this.get(o1.multi,ai,Dn.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();for(const u of this._onDestroyHooks)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(u){this._onDestroyHooks.push(u)}runInContext(u){this.assertNotDestroyed();const h=ts(this),f=Vr(void 0);try{return u()}finally{ts(h),Vr(f)}}get(u,h=Nr,f=Dn.Default){this.assertNotDestroyed(),f=ui(f);const g=ts(this),w=Vr(void 0);try{if(!(f&Dn.SkipSelf)){let O=this.records.get(u);if(void 0===O){const N=function Rn(c){return"function"==typeof c||"object"==typeof c&&c instanceof jr}(u)&&Xo(u);O=N&&this.injectableDefInScope(N)?ze(X(u),S):null,this.records.set(u,O)}if(null!=O)return this.hydrate(u,O)}return(f&Dn.Self?E():this.parent).get(u,h=f&Dn.Optional&&h===Nr?null:h)}catch(M){if("NullInjectorError"===M.name){if((M[ea]=M[ea]||[]).unshift(vt(u)),g)throw M;return function xe(c,u,h,f){const g=c[ea];throw u[xc]&&g.unshift(u[xc]),c.message=function Ve(c,u,h,f=null){c=c&&"\n"===c.charAt(0)&&"\u0275"==c.charAt(1)?c.slice(2):c;let g=vt(u);if(Array.isArray(u))g=u.map(vt).join(" -> ");else if("object"==typeof u){let w=[];for(let M in u)if(u.hasOwnProperty(M)){let O=u[M];w.push(M+":"+("string"==typeof O?JSON.stringify(O):vt(O)))}g=`{${w.join(", ")}}`}return`${h}${f?"("+f+")":""}[${g}]: ${c.replace(gs,"\n  ")}`}("\n"+c.message,g,h,f),c.ngTokenPath=g,c[ea]=null,c}(M,u,"R3InjectorError",this.source)}throw M}finally{Vr(w),ts(g)}}resolveInjectorInitializers(){const u=ts(this),h=Vr(void 0);try{const f=this.get(jw.multi,ai,Dn.Self);for(const g of f)g()}finally{ts(u),Vr(h)}}toString(){const u=[],h=this.records;for(const f of h.keys())u.push(vt(f));return`R3Injector[${u.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xt(205,!1)}processProvider(u){let h=_p(u=Ke(u))?u:Ke(u&&u.provide);const f=function Ae(c){return Kw(c)?ze(void 0,c.useValue):ze(Le(c),S)}(u);if(_p(u)||!0!==u.multi)this.records.get(h);else{let g=this.records.get(h);g||(g=ze(void 0,S,!0),g.factory=()=>di(g.multi),this.records.set(h,g)),h=u,g.multi.push(u)}this.records.set(h,f)}hydrate(u,h){return h.value===S&&(h.value=b,h.value=h.factory()),"object"==typeof h.value&&h.value&&function It(c){return null!==c&&"object"==typeof c&&"function"==typeof c.ngOnDestroy}(h.value)&&this._ngOnDestroyHooks.add(h.value),h.value}injectableDefInScope(u){if(!u.providedIn)return!1;const h=Ke(u.providedIn);return"string"==typeof h?"any"===h||this.scopes.has(h):this.injectorDefTypes.has(h)}}function X(c){const u=Xo(c),h=null!==u?u.factory:_s(c);if(null!==h)return h;if(c instanceof jr)throw new xt(204,!1);if(c instanceof Function)return function fe(c){const u=c.length;if(u>0)throw Ui(u,"?"),new xt(204,!1);const h=function ku(c){const u=c&&(c[qt]||c[rr]);if(u){const h=function Na(c){if(c.hasOwnProperty("name"))return c.name;const u=(""+c).match(/^function\s*([^\s(]+)/);return null===u?"":u[1]}(c);return console.warn(`DEPRECATED: DI is instantiating a token "${h}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${h}" class.`),u}return null}(c);return null!==h?()=>h.factory(c):()=>new c}(c);throw new xt(204,!1)}function Le(c,u,h){let f;if(_p(c)){const g=Ke(c);return _s(g)||X(g)}if(Kw(c))f=()=>Ke(c.useValue);else if(function c1(c){return!(!c||!c.useFactory)}(c))f=()=>c.useFactory(...di(c.deps||[]));else if(function l1(c){return!(!c||!c.useExisting)}(c))f=()=>ln(Ke(c.useExisting));else{const g=Ke(c&&(c.useClass||c.provide));if(!function Xe(c){return!!c.deps}(c))return _s(g)||X(g);f=()=>new g(...di(c.deps))}return f}function ze(c,u,h=!1){return{factory:c,value:u,multi:h?[]:void 0}}function cn(c,u){for(const h of c)Array.isArray(h)?cn(h,u):h&&Vt(h)?cn(h.\u0275providers,u):u(h)}class Cn{}class Ki{}class Xi{resolveComponentFactory(u){throw function Yn(c){const u=Error(`No component factory found for ${vt(c)}. Did you add it to @NgModule.entryComponents?`);return u.ngComponent=c,u}(u)}}let Ai=(()=>{class c{}return c.NULL=new Xi,c})();function Tn(){return ur(Zs(),Rt())}function ur(c,u){return new sr(sa(c,u))}let sr=(()=>{class c{constructor(h){this.nativeElement=h}}return c.__NG_ELEMENT_ID__=Tn,c})();function Ei(c){return c instanceof sr?c.nativeElement:c}class Mo{}let oc=(()=>{class c{}return c.__NG_ELEMENT_ID__=()=>function Nc(){const c=Rt(),h=Ho(Zs().index,c);return(ia(h)?h:c)[11]}(),c})(),ss=(()=>{class c{}return c.\u0275prov=$i({token:c,providedIn:"root",factory:()=>null}),c})();class Ea{constructor(u){this.full=u,this.major=u.split(".")[0],this.minor=u.split(".")[1],this.patch=u.split(".").slice(2).join(".")}}const rA=new Ea("15.0.2"),$a={};function Uc(c){return c.ngOriginalError}class Ja{constructor(){this._console=console}handleError(u){const h=this._findOriginalError(u);this._console.error("ERROR",u),h&&this._console.error("ORIGINAL ERROR",h)}_findOriginalError(u){let h=u&&Uc(u);for(;h&&Uc(h);)h=Uc(h);return h||null}}function bp(c){return c instanceof Function?c():c}function RE(c,u,h){let f=c.length;for(;;){const g=c.indexOf(u,h);if(-1===g)return g;if(0===g||c.charCodeAt(g-1)<=32){const w=u.length;if(g+w===f||c.charCodeAt(g+w)<=32)return g}h=g+1}}const wM="ng-template";function DP(c,u,h){let f=0;for(;f<c.length;){let g=c[f++];if(h&&"class"===g){if(g=c[f],-1!==RE(g.toLowerCase(),u,0))return!0}else if(1===g){for(;f<c.length&&"string"==typeof(g=c[f++]);)if(g.toLowerCase()===u)return!0;return!1}}return!1}function bM(c){return 4===c.type&&c.value!==wM}function TP(c,u,h){return u===(4!==c.type||h?c.value:wM)}function CM(c,u,h){let f=4;const g=c.attrs||[],w=function FP(c){for(let u=0;u<c.length;u++)if(Rh(c[u]))return u;return c.length}(g);let M=!1;for(let O=0;O<u.length;O++){const N=u[O];if("number"!=typeof N){if(!M)if(4&f){if(f=2|1&f,""!==N&&!TP(c,N,h)||""===N&&1===u.length){if(os(f))return!1;M=!0}}else{const q=8&f?N:u[++O];if(8&f&&null!==c.attrs){if(!DP(c.attrs,q,h)){if(os(f))return!1;M=!0}continue}const me=MP(8&f?"class":N,g,bM(c),h);if(-1===me){if(os(f))return!1;M=!0;continue}if(""!==q){let Ne;Ne=me>w?"":g[me+1].toLowerCase();const st=8&f?Ne:null;if(st&&-1!==RE(st,q,0)||2&f&&q!==Ne){if(os(f))return!1;M=!0}}}}else{if(!M&&!os(f)&&!os(N))return!1;if(M&&os(N))continue;M=!1,f=N|1&f}}return os(f)||M}function os(c){return 0==(1&c)}function MP(c,u,h,f){if(null===u)return-1;let g=0;if(f||!h){let w=!1;for(;g<u.length;){const M=u[g];if(M===c)return g;if(3===M||6===M)w=!0;else{if(1===M||2===M){let O=u[++g];for(;"string"==typeof O;)O=u[++g];continue}if(4===M)break;if(0===M){g+=4;continue}}g+=w?1:2}return-1}return function xM(c,u){let h=c.indexOf(4);if(h>-1)for(h++;h<c.length;){const f=c[h];if("number"==typeof f)return-1;if(f===u)return h;h++}return-1}(u,c)}function Xg(c,u,h=!1){for(let f=0;f<u.length;f++)if(CM(c,u[f],h))return!0;return!1}function KV(c,u){e:for(let h=0;h<u.length;h++){const f=u[h];if(c.length===f.length){for(let g=0;g<c.length;g++)if(c[g]!==f[g])continue e;return!0}}return!1}function kP(c,u){return c?":not("+u.trim()+")":u}function RP(c){let u=c[0],h=1,f=2,g="",w=!1;for(;h<c.length;){let M=c[h];if("string"==typeof M)if(2&f){const O=c[++h];g+="["+M+(O.length>0?'="'+O+'"':"")+"]"}else 8&f?g+="."+M:4&f&&(g+=" "+M);else""!==g&&!os(M)&&(u+=kP(w,g),g=""),f=M,w=w||!os(f);h++}return""!==g&&(u+=kP(w,g)),u}const Ii={};function OP(c){LE(Ni(),Rt(),To()+c,!1)}function LE(c,u,h,f){if(!f)if(3==(3&u[2])){const w=c.preOrderCheckHooks;null!==w&&LA(u,w,h)}else{const w=c.preOrderHooks;null!==w&&Hs(u,w,0,h)}_l(h)}function IM(c,u=null,h=null,f){const g=DM(c,u,h,f);return g.resolveInjectorInitializers(),g}function DM(c,u=null,h=null,f,g=new Set){const w=[h||ai,BE(c)];return f=f||("object"==typeof c?void 0:vt(c)),new G(w,u||E(),f||null,g)}let em=(()=>{class c{static create(h,f){if(Array.isArray(h))return IM({name:""},f,h,"");{const g=h.name??"";return IM({name:g},h.parent,h.providers,g)}}}return c.THROW_IF_NOT_FOUND=Nr,c.NULL=new Gw,c.\u0275prov=$i({token:c,providedIn:"any",factory:()=>ln(zw)}),c.__NG_ELEMENT_ID__=-1,c})();function O_(c,u=Dn.Default){const h=Rt();return null===h?ln(c,u):UA(Zs(),h,Ke(c),u)}function zE(){throw new Error("invalid")}function Pv(c,u){const h=c.contentQueries;if(null!==h)for(let f=0;f<h.length;f+=2){const g=h[f],w=h[f+1];if(-1!==w){const M=c.data[w];Nf(g),M.contentQueries(2,u[w],w)}}}function Nv(c,u,h,f,g,w,M,O,N,q,ee){const me=u.blueprint.slice();return me[0]=g,me[2]=76|f,(null!==ee||c&&1024&c[2])&&(me[2]|=1024),Td(me),me[3]=me[15]=c,me[8]=h,me[10]=M||c&&c[10],me[11]=O||c&&c[11],me[12]=N||c&&c[12]||null,me[9]=q||c&&c[9]||null,me[6]=w,me[20]=function Sv(){return xv++}(),me[21]=ee,me[16]=2==u.type?c[16]:me,me}function Cp(c,u,h,f,g){let w=c.data[u];if(null===w)w=function d1(c,u,h,f,g){const w=Vu(),M=gl(),N=c.data[u]=function r8(c,u,h,f,g,w){return{type:h,index:f,insertBeforeIndex:null,injectorIndex:u?u.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:w,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,M?w:w&&w.parent,h,u,f,g);return null===c.firstChild&&(c.firstChild=N),null!==w&&(M?null==w.child&&null!==N.parent&&(w.child=N):null===w.next&&(w.next=N)),N}(c,u,h,f,g),function pv(){return ci.lFrame.inI18n}()&&(w.flags|=32);else if(64&w.type){w.type=h,w.value=f,w.attrs=g;const M=function Dc(){const c=ci.lFrame,u=c.currentTNode;return c.isParent?u:u.parent}();w.injectorIndex=null===M?-1:M.injectorIndex}return Ws(w,!0),w}function L_(c,u,h,f){if(0===h)return-1;const g=u.length;for(let w=0;w<h;w++)u.push(f),c.blueprint.push(f),c.data.push(null);return g}function P_(c,u,h){pg(u);try{const f=c.viewQuery;null!==f&&f1(1,f,h);const g=c.template;null!==g&&kM(c,u,g,1,h),c.firstCreatePass&&(c.firstCreatePass=!1),c.staticContentQueries&&Pv(c,u),c.staticViewQueries&&f1(2,c.viewQuery,h);const w=c.components;null!==w&&function GE(c,u){for(let h=0;h<u.length;h++)d8(c,u[h])}(u,w)}catch(f){throw c.firstCreatePass&&(c.incompleteFirstPass=!0,c.firstCreatePass=!1),f}finally{u[2]&=-5,Fh()}}function Yw(c,u,h,f){const g=u[2];if(128!=(128&g)){pg(u);try{Td(u),function Mh(c){return ci.lFrame.bindingIndex=c}(c.bindingStartIndex),null!==h&&kM(c,u,h,2,f);const M=3==(3&g);if(M){const q=c.preOrderCheckHooks;null!==q&&LA(u,q,null)}else{const q=c.preOrderHooks;null!==q&&Hs(u,q,0,null),Ld(u,0)}if(function c8(c){for(let u=y_(c);null!==u;u=op(u)){if(!u[2])continue;const h=u[9];for(let f=0;f<h.length;f++){const g=h[f],w=g[3];0==(512&g[2])&&Jc(w,1),g[2]|=512}}}(u),function l8(c){for(let u=y_(c);null!==u;u=op(u))for(let h=10;h<u.length;h++){const f=u[h],g=f[1];Qu(f)&&Yw(g,f,g.template,f[8])}}(u),null!==c.contentQueries&&Pv(c,u),M){const q=c.contentCheckHooks;null!==q&&LA(u,q)}else{const q=c.contentHooks;null!==q&&Hs(u,q,1),Ld(u,1)}!function KP(c,u){const h=c.hostBindingOpCodes;if(null!==h)try{for(let f=0;f<h.length;f++){const g=h[f];if(g<0)_l(~g);else{const w=g,M=h[++f],O=h[++f];Jl(M,w),O(2,u[w])}}}finally{_l(-1)}}(c,u);const O=c.components;null!==O&&function Da(c,u){for(let h=0;h<u.length;h++)u8(c,u[h])}(u,O);const N=c.viewQuery;if(null!==N&&f1(2,N,f),M){const q=c.viewCheckHooks;null!==q&&LA(u,q)}else{const q=c.viewHooks;null!==q&&Hs(u,q,2),Ld(u,2)}!0===c.firstUpdatePass&&(c.firstUpdatePass=!1),u[2]&=-41,512&u[2]&&(u[2]&=-513,Jc(u[3],-1))}finally{Fh()}}}function kM(c,u,h,f,g){const w=To(),M=2&f;try{_l(-1),M&&u.length>22&&LE(c,u,22,!1),h(f,g)}finally{_l(w)}}function qE(c,u,h){if(Ch(u)){const g=u.directiveEnd;for(let w=u.directiveStart;w<g;w++){const M=c.data[w];M.contentQueries&&M.contentQueries(1,h[w],w)}}}function KE(c,u,h){!kA()||(function PM(c,u,h,f){const g=h.directiveStart,w=h.directiveEnd;c.firstCreatePass||Gf(h,u),jo(f,u);const M=h.initialInputs;for(let O=g;O<w;O++){const N=c.data[O],q=ms(N);q&&eN(u,h,N);const ee=su(u,c,O,h);jo(ee,u),null!==M&&tN(0,O-g,ee,N,0,M),q&&(Ho(h.index,u)[8]=ee)}}(c,u,h,sa(h,u)),64==(64&h.flags)&&$E(c,u,h))}function N_(c,u,h=sa){const f=u.localNames;if(null!==f){let g=u.index+1;for(let w=0;w<f.length;w+=2){const M=f[w+1],O=-1===M?h(u,c):c[M];c[g++]=O}}}function RM(c){const u=c.tView;return null===u||u.incompleteFirstPass?c.tView=h1(1,null,c.template,c.decls,c.vars,c.directiveDefs,c.pipeDefs,c.viewQuery,c.schemas,c.consts):u}function h1(c,u,h,f,g,w,M,O,N,q){const ee=22+f,me=ee+g,Ne=function n8(c,u){const h=[];for(let f=0;f<u;f++)h.push(f<c?null:Ii);return h}(ee,me),st="function"==typeof q?q():q;return Ne[1]={type:c,blueprint:Ne,template:h,queries:null,viewQuery:O,declTNode:u,data:Ne.slice().fill(null,ee),bindingStartIndex:ee,expandoStartIndex:me,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof w?w():w,pipeRegistry:"function"==typeof M?M():M,firstChild:null,schemas:N,consts:st,incompleteFirstPass:!1}}function ZP(c,u,h,f){const g=rN(u);null===h?g.push(f):(g.push(h),c.firstCreatePass&&eI(c).push(f,g.length-1))}function WP(c,u,h,f){for(let g in c)if(c.hasOwnProperty(g)){h=null===h?{}:h;const w=c[g];null===f?YP(h,u,g,w):f.hasOwnProperty(g)&&YP(h,u,f[g],w)}return h}function YP(c,u,h,f){c.hasOwnProperty(h)?c[h].push(u,f):c[h]=[u,f]}function gu(c,u,h,f,g,w,M,O){const N=sa(u,h);let ee,q=u.inputs;!O&&null!=q&&(ee=q[f])?(p1(c,h,ee,f,g),Sd(u)&&OM(h,u.index)):3&u.type&&(f=function JP(c){return"class"===c?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c}(f),g=null!=M?M(g,u.value||"",f):g,w.setProperty(N,f,g))}function OM(c,u){const h=Ho(u,c);16&h[2]||(h[2]|=32)}function ZE(c,u,h,f){let g=!1;if(kA()){const w=null===f?null:{"":-1},M=function UM(c,u){const h=c.directiveRegistry;let f=null,g=null;if(h)for(let w=0;w<h.length;w++){const M=h[w];if(Xg(u,M.selectors,!1))if(f||(f=[]),ms(M))if(null!==M.findHostDirectiveDefs){const O=[];g=g||new Map,M.findHostDirectiveDefs(M,O,g),f.unshift(...O,M),JE(c,u,O.length)}else f.unshift(M),JE(c,u,0);else g=g||new Map,M.findHostDirectiveDefs?.(M,f,g),f.push(M)}return null===f?null:[f,g]}(c,h);let O,N;null===M?O=N=null:[O,N]=M,null!==O&&(g=!0,WE(c,u,h,O,w,N)),w&&function XP(c,u,h){if(u){const f=c.localNames=[];for(let g=0;g<u.length;g+=2){const w=h[u[g+1]];if(null==w)throw new xt(-301,!1);f.push(u[g],w)}}}(h,f,w)}return h.mergedAttrs=Xl(h.mergedAttrs,h.attrs),g}function WE(c,u,h,f,g,w){for(let q=0;q<f.length;q++)ru(Gf(h,u),c,f[q].type);!function la(c,u,h){c.flags|=1,c.directiveStart=u,c.directiveEnd=u+h,c.providerIndexes=u}(h,c.data.length,f.length);for(let q=0;q<f.length;q++){const ee=f[q];ee.providersResolver&&ee.providersResolver(ee)}let M=!1,O=!1,N=L_(c,u,f.length,null);for(let q=0;q<f.length;q++){const ee=f[q];h.mergedAttrs=Xl(h.mergedAttrs,ee.hostAttrs),Uv(c,h,u,N,ee),a8(N,ee,g),null!==ee.contentQueries&&(h.flags|=4),(null!==ee.hostBindings||null!==ee.hostAttrs||0!==ee.hostVars)&&(h.flags|=64);const me=ee.type.prototype;!M&&(me.ngOnChanges||me.ngOnInit||me.ngDoCheck)&&((c.preOrderHooks||(c.preOrderHooks=[])).push(h.index),M=!0),!O&&(me.ngOnChanges||me.ngDoCheck)&&((c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(h.index),O=!0),N++}!function $P(c,u,h){const g=u.directiveEnd,w=c.data,M=u.attrs,O=[];let N=null,q=null;for(let ee=u.directiveStart;ee<g;ee++){const me=w[ee],Ne=h?h.get(me):null,Ft=Ne?Ne.outputs:null;N=WP(me.inputs,ee,N,Ne?Ne.inputs:null),q=WP(me.outputs,ee,q,Ft);const sn=null===N||null===M||bM(u)?null:nN(N,ee,M);O.push(sn)}null!==N&&(N.hasOwnProperty("class")&&(u.flags|=8),N.hasOwnProperty("style")&&(u.flags|=16)),u.initialInputs=O,u.inputs=N,u.outputs=q}(c,h,w)}function $E(c,u,h){const f=h.directiveStart,g=h.directiveEnd,w=h.index,M=function gv(){return ci.lFrame.currentDirectiveIndex}();try{_l(w);for(let O=f;O<g;O++){const N=c.data[O],q=u[O];Bd(O),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&NM(N,q)}}finally{_l(-1),Bd(M)}}function NM(c,u){null!==c.hostBindings&&c.hostBindings(1,u)}function JE(c,u,h){u.componentOffset=h,(c.components||(c.components=[])).push(u.index)}function a8(c,u,h){if(h){if(u.exportAs)for(let f=0;f<u.exportAs.length;f++)h[u.exportAs[f]]=c;ms(u)&&(h[""]=c)}}function Uv(c,u,h,f,g){c.data[f]=g;const w=g.factory||(g.factory=_s(g.type)),M=new Pd(w,ms(g),O_);c.blueprint[f]=M,h[f]=M,function YE(c,u,h,f,g){const w=g.hostBindings;if(w){let M=c.hostBindingOpCodes;null===M&&(M=c.hostBindingOpCodes=[]);const O=~u.index;(function LM(c){let u=c.length;for(;u>0;){const h=c[--u];if("number"==typeof h&&h<0)return h}return 0})(M)!=O&&M.push(O),M.push(h,f,w)}}(c,u,f,L_(c,h,g.hostVars,Ii),g)}function eN(c,u,h){const f=sa(u,c),g=RM(h),w=c[10],M=Hv(c,Nv(c,g,null,h.onPush?32:16,f,u,w,w.createRenderer(f,h),null,null,null));c[u.index]=M}function xp(c,u,h,f,g,w){const M=sa(c,u);!function A1(c,u,h,f,g,w,M){if(null==w)c.removeAttribute(u,g,h);else{const O=null==M?yt(w):M(w,f||"",g);c.setAttribute(u,g,O,h)}}(u[11],M,w,c.value,h,f,g)}function tN(c,u,h,f,g,w){const M=w[u];if(null!==M){const O=f.setInput;for(let N=0;N<M.length;){const q=M[N++],ee=M[N++],me=M[N++];null!==O?f.setInput(h,me,q,ee):h[ee]=me}}}function nN(c,u,h){let f=null,g=0;for(;g<h.length;){const w=h[g];if(0!==w)if(5!==w){if("number"==typeof w)break;if(c.hasOwnProperty(w)){null===f&&(f=[]);const M=c[w];for(let O=0;O<M.length;O+=2)if(M[O]===u){f.push(w,M[O+1],h[g+1]);break}}g+=2}else g+=2;else g+=4}return f}function iN(c,u,h,f){return[c,!0,!1,u,null,0,f,h,null,null]}function u8(c,u){const h=Ho(u,c);if(Qu(h)){const f=h[1];48&h[2]?Yw(f,h,f.template,h[8]):h[5]>0&&XE(h)}}function XE(c){for(let f=y_(c);null!==f;f=op(f))for(let g=10;g<f.length;g++){const w=f[g];if(Qu(w))if(512&w[2]){const M=w[1];Yw(M,w,M.template,w[8])}else w[5]>0&&XE(w)}const h=c[1].components;if(null!==h)for(let f=0;f<h.length;f++){const g=Ho(h[f],c);Qu(g)&&g[5]>0&&XE(g)}}function d8(c,u){const h=Ho(u,c),f=h[1];(function h8(c,u){for(let h=u.length;h<c.blueprint.length;h++)u.push(c.blueprint[h])})(f,h),P_(f,h,h[8])}function Hv(c,u){return c[13]?c[14][4]=u:c[13]=u,c[14]=u,u}function $w(c){for(;c;){c[2]|=32;const u=sp(c);if(xA(c)&&!u)return c;c=u}return null}function Jw(c,u,h,f=!0){const g=u[10];g.begin&&g.begin();try{Yw(c,u,c.template,h)}catch(M){throw f&&Qv(u,M),M}finally{g.end&&g.end()}}function f1(c,u,h){Nf(0),u(c,h)}function rN(c){return c[7]||(c[7]=[])}function eI(c){return c.cleanup||(c.cleanup=[])}function sN(c,u,h){return(null===c||ms(c))&&(h=function MA(c){for(;Array.isArray(c);){if("object"==typeof c[1])return c;c=c[0]}return null}(h[u.index])),h[11]}function Qv(c,u){const h=c[9],f=h?h.get(Ja,null):null;f&&f.handleError(u)}function p1(c,u,h,f,g){for(let w=0;w<h.length;){const M=h[w++],O=h[w++],N=u[M],q=c.data[M];null!==q.setInput?q.setInput(N,g,f,O):N[O]=g}}function oA(c,u,h){const f=Do(u,c);!function Rg(c,u,h){c.setValue(u,h)}(c[11],f,h)}function Fs(c,u,h){let f=h?c.styles:null,g=h?c.classes:null,w=0;if(null!==u)for(let M=0;M<u.length;M++){const O=u[M];"number"==typeof O?w=O:1==w?g=dt(g,O):2==w&&(f=dt(f,O+": "+u[++M]+";"))}h?c.styles=f:c.stylesWithoutHost=f,h?c.classes=g:c.classesWithoutHost=g}function g1(c,u,h,f,g=!1){for(;null!==h;){const w=u[h.index];if(null!==w&&f.push(Ks(w)),ba(w))for(let O=10;O<w.length;O++){const N=w[O],q=N[1].firstChild;null!==q&&g1(N[1],N,q,f)}const M=h.type;if(8&M)g1(c,u,h.child,f);else if(32&M){const O=rp(h,u);let N;for(;N=O();)f.push(N)}else if(16&M){const O=Jh(u,h);if(Array.isArray(O))f.push(...O);else{const N=sp(u[16]);g1(N[1],N,O,f,!0)}}h=g?h.projectionNext:h.next}return f}class sf{constructor(u,h){this._lView=u,this._cdRefInjectingView=h,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const u=this._lView,h=u[1];return g1(h,u,h.firstChild,[])}get context(){return this._lView[8]}set context(u){this._lView[8]=u}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const u=this._lView[3];if(ba(u)){const h=u[8],f=h?h.indexOf(this):-1;f>-1&&(Ng(u,f),tn(h,f))}this._attachedToViewContainer=!1}Wh(this._lView[1],this._lView)}onDestroy(u){ZP(this._lView[1],this._lView,null,u)}markForCheck(){$w(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Jw(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function lp(c,u){hu(c,u,u[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(u){if(this._attachedToViewContainer)throw new xt(902,!1);this._appRef=u}}class HM extends sf{constructor(u){super(u),this._view=u}detectChanges(){const u=this._view;Jw(u[1],u,u[8],!1)}checkNoChanges(){}get context(){return null}}class tI extends Ai{constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){const h=cr(u);return new tm(h,this.ngModule)}}function Vv(c){const u=[];for(let h in c)c.hasOwnProperty(h)&&u.push({propName:c[h],templateName:h});return u}class eb{constructor(u,h){this.injector=u,this.parentInjector=h}get(u,h,f){f=ui(f);const g=this.injector.get(u,$a,f);return g!==$a||h===$a?g:this.parentInjector.get(u,h,f)}}class tm extends Ki{constructor(u,h){super(),this.componentDef=u,this.ngModule=h,this.componentType=u.type,this.selector=function OE(c){return c.map(RP).join(",")}(u.selectors),this.ngContentSelectors=u.ngContentSelectors?u.ngContentSelectors:[],this.isBoundToModule=!!h}get inputs(){return Vv(this.componentDef.inputs)}get outputs(){return Vv(this.componentDef.outputs)}create(u,h,f,g){let w=(g=g||this.ngModule)instanceof P?g:g?.injector;w&&null!==this.componentDef.getStandaloneInjector&&(w=this.componentDef.getStandaloneInjector(w)||w);const M=w?new eb(u,w):u,O=M.get(Mo,null);if(null===O)throw new xt(407,!1);const N=M.get(ss,null),q=O.createRenderer(null,this.componentDef),ee=this.componentDef.selectors[0][0]||"div",me=f?function i8(c,u,h){return c.selectRootElement(u,h===Gi.ShadowDom)}(q,f,this.componentDef.encapsulation):Og(q,ee,function oN(c){const u=c.toLowerCase();return"svg"===u?"svg":"math"===u?"math":null}(ee)),Ne=this.componentDef.onPush?288:272,st=h1(0,null,null,1,0,null,null,null,null,null),Ft=Nv(null,st,null,Ne,null,null,O,q,N,M,null);let sn,xn;pg(Ft);try{const Wn=this.componentDef;let fi,Lt=null;Wn.findHostDirectiveDefs?(fi=[],Lt=new Map,Wn.findHostDirectiveDefs(Wn,fi,Lt),fi.push(Wn)):fi=[Wn];const Qi=function tb(c,u){const h=c[1];return c[22]=u,Cp(h,22,2,"#host",null)}(Ft,me),mo=function nI(c,u,h,f,g,w,M,O){const N=g[1];!function lN(c,u,h,f){for(const g of c)u.mergedAttrs=Xl(u.mergedAttrs,g.hostAttrs);null!==u.mergedAttrs&&(Fs(u,u.mergedAttrs,!0),null!==h&&XA(f,h,u))}(f,c,u,M);const q=w.createRenderer(u,h),ee=Nv(g,RM(h),null,h.onPush?32:16,g[c.index],c,w,q,O||null,null,null);return N.firstCreatePass&&JE(N,c,f.length-1),Hv(g,ee),g[c.index]=ee}(Qi,me,Wn,fi,Ft,O,q);xn=FA(st,22),me&&function iI(c,u,h,f){if(f)Tc(c,h,["ng-version",rA.full]);else{const{attrs:g,classes:w}=function SM(c){const u=[],h=[];let f=1,g=2;for(;f<c.length;){let w=c[f];if("string"==typeof w)2===g?""!==w&&u.push(w,c[++f]):8===g&&h.push(w);else{if(!os(g))break;g=w}f++}return{attrs:u,classes:h}}(u.selectors[0]);g&&Tc(c,h,g),w&&w.length>0&&JA(c,h,w.join(" "))}}(q,Wn,me,f),void 0!==h&&function H_(c,u,h){const f=c.projection=[];for(let g=0;g<u.length;g++){const w=h[g];f.push(null!=w?Array.from(w):null)}}(xn,this.ngContentSelectors,h),sn=function QM(c,u,h,f,g,w){const M=Zs(),O=g[1],N=sa(M,g);WE(O,g,M,h,null,f);for(let ee=0;ee<h.length;ee++)jo(su(g,O,M.directiveStart+ee,M),g);$E(O,g,M),N&&jo(N,g);const q=su(g,O,M.directiveStart+M.componentOffset,M);if(c[8]=g[8]=q,null!==w)for(const ee of w)ee(q,u);return qE(O,M,c),q}(mo,Wn,fi,Lt,Ft,[rI]),P_(st,Ft,null)}finally{Fh()}return new U_(this.componentType,sn,ur(xn,Ft),Ft,xn)}}class U_ extends Cn{constructor(u,h,f,g,w){super(),this.location=f,this._rootLView=g,this._tNode=w,this.instance=h,this.hostView=this.changeDetectorRef=new HM(g),this.componentType=u}setInput(u,h){const f=this._tNode.inputs;let g;if(null!==f&&(g=f[u])){const w=this._rootLView;p1(w[1],w,g,u,h),OM(w,this._tNode.index)}}get injector(){return new Wu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}}function rI(){const c=Zs();Od(Rt()[1],c)}function VM(c){let u=function af(c){return Object.getPrototypeOf(c.prototype).constructor}(c.type),h=!0;const f=[c];for(;u;){let g;if(ms(c))g=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new xt(903,!1);g=u.\u0275dir}if(g){if(h){f.push(g);const M=c;M.inputs=Q_(c.inputs),M.declaredInputs=Q_(c.declaredInputs),M.outputs=Q_(c.outputs);const O=g.hostBindings;O&&V_(c,O);const N=g.viewQuery,q=g.contentQueries;if(N&&eo(c,N),q&&sI(c,q),Ze(c.inputs,g.inputs),Ze(c.declaredInputs,g.declaredInputs),Ze(c.outputs,g.outputs),ms(g)&&g.data.animation){const ee=c.data;ee.animation=(ee.animation||[]).concat(g.data.animation)}}const w=g.features;if(w)for(let M=0;M<w.length;M++){const O=w[M];O&&O.ngInherit&&O(c),O===VM&&(h=!1)}}u=Object.getPrototypeOf(u)}!function A8(c){let u=0,h=null;for(let f=c.length-1;f>=0;f--){const g=c[f];g.hostVars=u+=g.hostVars,g.hostAttrs=Xl(g.hostAttrs,h=Xl(h,g.hostAttrs))}}(f)}function Q_(c){return c===_r?{}:c===ai?[]:c}function eo(c,u){const h=c.viewQuery;c.viewQuery=h?(f,g)=>{u(f,g),h(f,g)}:u}function sI(c,u){const h=c.contentQueries;c.contentQueries=h?(f,g,w)=>{u(f,g,w),h(f,g,w)}:u}function V_(c,u){const h=c.hostBindings;c.hostBindings=h?(f,g)=>{u(f,g),h(f,g)}:u}let m1=null;function Qc(){if(!m1){const c=yi.Symbol;if(c&&c.iterator)m1=c.iterator;else{const u=Object.getOwnPropertyNames(Map.prototype);for(let h=0;h<u.length;++h){const f=u[h];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(m1=f)}}}return m1}function j_(c){return!!jv(c)&&(Array.isArray(c)||!(c instanceof Map)&&Qc()in c)}function jv(c){return null!==c&&("function"==typeof c||"object"==typeof c)}function cf(c,u,h){return c[u]=h}function ac(c,u,h){return!Object.is(c[u],h)&&(c[u]=h,!0)}function G_(c,u,h,f){const g=ac(c,u,h);return ac(c,u+1,f)||g}function zv(c,u,h,f){const g=Rt();return ac(g,ju(),u)&&(Ni(),xp(Mr(),g,c,u,h,f)),zv}function rd(c,u,h,f){return ac(c,ju(),h)?u+yt(h)+f:Ii}function Gv(c,u,h,f,g,w){const O=G_(c,function Fl(){return ci.lFrame.bindingIndex}(),h,g);return kl(2),O?u+yt(h)+f+yt(g)+w:Ii}function KM(c,u,h,f,g,w,M,O){const N=Rt(),q=Ni(),ee=c+22,me=q.firstCreatePass?function qM(c,u,h,f,g,w,M,O,N){const q=u.consts,ee=Cp(u,c,4,M||null,qi(q,O));ZE(u,h,ee,qi(q,N)),Od(u,ee);const me=ee.tViews=h1(2,ee,f,g,w,u.directiveRegistry,u.pipeRegistry,null,u.schemas,q);return null!==u.queries&&(u.queries.template(u,ee),me.queries=u.queries.embeddedTView(ee)),ee}(ee,q,N,u,h,f,g,w,M):q.data[ee];Ws(me,!1);const Ne=N[11].createComment("");Qg(q,N,Ne,me),jo(Ne,N),Hv(N,N[ee]=iN(Ne,N,Ne,me)),xh(me)&&KE(q,N,me),null!=M&&N_(N,me,O)}function rb(c){return Qa(function Bl(){return ci.lFrame.contextLView}(),22+c)}function sb(c,u,h){const f=Rt();return ac(f,ju(),u)&&gu(Ni(),Mr(),f,c,u,f[11],h,!1),sb}function ob(c,u,h,f,g){const M=g?"class":"style";p1(c,h,u.inputs[M],M,f)}function b1(c,u,h,f){const g=Rt(),w=Ni(),M=22+c,O=g[11],N=g[M]=Og(O,u,function Rd(){return ci.lFrame.currentNamespace}()),q=w.firstCreatePass?function cI(c,u,h,f,g,w,M){const O=u.consts,q=Cp(u,c,2,g,qi(O,w));return ZE(u,h,q,qi(O,M)),null!==q.attrs&&Fs(q,q.attrs,!1),null!==q.mergedAttrs&&Fs(q,q.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,q),q}(M,w,g,0,u,h,f):w.data[M];return Ws(q,!0),XA(O,N,q),32!=(32&q.flags)&&Qg(w,g,N,q),0===function i_(){return ci.lFrame.elementDepthCount}()&&jo(N,g),function Ic(){ci.lFrame.elementDepthCount++}(),xh(q)&&(KE(w,g,q),qE(w,q,g)),null!==f&&N_(g,q),b1}function C1(){let c=Zs();gl()?Th():(c=c.parent,Ws(c,!1));const u=c;!function ys(){ci.lFrame.elementDepthCount--}();const h=Ni();return h.firstCreatePass&&(Od(h,c),Ch(c)&&h.queries.elementEnd(c)),null!=u.classesWithoutHost&&function a_(c){return 0!=(8&c.flags)}(u)&&ob(h,u,Rt(),u.classesWithoutHost,!0),null!=u.stylesWithoutHost&&function kh(c){return 0!=(16&c.flags)}(u)&&ob(h,u,Rt(),u.stylesWithoutHost,!1),C1}function ab(c,u,h,f){return b1(c,u,h,f),C1(),ab}function x1(c,u,h){const f=Rt(),g=Ni(),w=c+22,M=g.firstCreatePass?function WM(c,u,h,f,g){const w=u.consts,M=qi(w,f),O=Cp(u,c,8,"ng-container",M);return null!==M&&Fs(O,M,!0),ZE(u,h,O,qi(w,g)),null!==u.queries&&u.queries.elementStart(u,O),O}(w,g,f,u,h):g.data[w];Ws(M,!0);const O=f[w]=f[11].createComment("");return Qg(g,f,O,M),jo(O,f),xh(M)&&(KE(g,f,M),qE(g,M,f)),null!=h&&N_(f,M),x1}function im(){let c=Zs();const u=Ni();return gl()?Th():(c=c.parent,Ws(c,!1)),u.firstCreatePass&&(Od(u,c),Ch(c)&&u.queries.elementEnd(c)),im}function uI(c,u,h){return x1(c,u,h),im(),uI}function Kv(){return Rt()}function dI(c){return!!c&&"function"==typeof c.then}function YM(c){return!!c&&"function"==typeof c.subscribe}const lb=YM;function cb(c,u,h,f){const g=Rt(),w=Ni(),M=Zs();return hI(w,g,g[11],M,c,u,f),cb}function S1(c,u){const h=Zs(),f=Rt(),g=Ni();return hI(g,f,sN(Bh(g.data),h,f),h,c,u),S1}function hI(c,u,h,f,g,w,M){const O=xh(f),q=c.firstCreatePass&&eI(c),ee=u[8],me=rN(u);let Ne=!0;if(3&f.type||M){const sn=sa(f,u),xn=M?M(sn):sn,Wn=me.length,fi=M?Qi=>M(Ks(Qi[f.index])):f.index;let Lt=null;if(!M&&O&&(Lt=function $M(c,u,h,f){const g=c.cleanup;if(null!=g)for(let w=0;w<g.length-1;w+=2){const M=g[w];if(M===h&&g[w+1]===f){const O=u[7],N=g[w+2];return O.length>N?O[N]:null}"string"==typeof M&&(w+=2)}return null}(c,u,g,f.index)),null!==Lt)(Lt.__ngLastListenerFn__||Lt).__ngNextListenerFn__=w,Lt.__ngLastListenerFn__=w,Ne=!1;else{w=E1(f,u,ee,w,!1);const Qi=h.listen(xn,g,w);me.push(w,Qi),q&&q.push(g,fi,Wn,Wn+1)}}else w=E1(f,u,ee,w,!1);const st=f.outputs;let Ft;if(Ne&&null!==st&&(Ft=st[g])){const sn=Ft.length;if(sn)for(let xn=0;xn<sn;xn+=2){const mo=u[Ft[xn]][Ft[xn+1]].subscribe(w),fa=me.length;me.push(w,mo),q&&q.push(g,f.index,fa,-(fa+1))}}}function ub(c,u,h,f){try{return!1!==h(f)}catch(g){return Qv(c,g),!1}}function E1(c,u,h,f,g){return function w(M){if(M===Function)return f;$w(c.componentOffset>-1?Ho(c.index,u):u);let N=ub(u,0,f,M),q=w.__ngNextListenerFn__;for(;q;)N=ub(u,0,q,M)&&N,q=q.__ngNextListenerFn__;return g&&!1===N&&(M.preventDefault(),M.returnValue=!1),N}}function I1(c=1){return function gg(c){return(ci.lFrame.contextLView=function $s(c,u){for(;c>0;)u=u[15],c--;return u}(c,ci.lFrame.contextLView))[8]}(c)}function AI(c,u){let h=null;const f=function BP(c){const u=c.attrs;if(null!=u){const h=u.indexOf(5);if(0==(1&h))return u[h+1]}return null}(c);for(let g=0;g<u.length;g++){const w=u[g];if("*"!==w){if(null===f?Xg(c,w,!0):KV(f,w))return g}else h=g}return h}function D1(c){const u=Rt()[16][6];if(!u.projection){const f=u.projection=Ui(c?c.length:1,null),g=f.slice();let w=u.child;for(;null!==w;){const M=c?AI(w,c):0;null!==M&&(g[M]?g[M].projectionNext=w:f[M]=w,g[M]=w),w=w.next}}}function fI(c,u=0,h){const f=Rt(),g=Ni(),w=Cp(g,22+c,16,null,h||null);null===w.projection&&(w.projection=u),Th(),32!=(32&w.flags)&&function Yd(c,u,h){Xu(u[11],0,u,h,cp(c,h,u),up(h.parent||u[6],h,u))}(g,f,w)}function T1(c,u,h){return pI(c,"",u,"",h),T1}function pI(c,u,h,f,g){const w=Rt(),M=rd(w,u,h,f);return M!==Ii&&gu(Ni(),Mr(),w,c,M,w[11],g,!1),pI}function ua(c,u){return c<<17|u<<2}function ho(c){return c>>17&32767}function vI(c){return 2|c}function W_(c){return(131068&c)>>2}function O1(c,u){return-131069&c|u<<2}function wI(c){return 1|c}function CI(c,u,h,f,g){const w=c[h+1],M=null===u;let O=f?ho(w):W_(w),N=!1;for(;0!==O&&(!1===N||M);){const ee=c[O+1];AN(c[O],u)&&(N=!0,c[O+1]=f?wI(ee):vI(ee)),O=f?ho(ee):W_(ee)}N&&(c[h+1]=f?vI(w):wI(w))}function AN(c,u){return null===c||null==u||(Array.isArray(c)?c[1]:c)===u||!(!Array.isArray(c)||"string"!=typeof u)&&nc(c,u)>=0}const qo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function L1(c){return c.substring(qo.key,qo.keyEnd)}function tB(c,u){const h=qo.textEnd;return h===u?-1:(u=qo.keyEnd=function P1(c,u,h){for(;u<h&&c.charCodeAt(u)>32;)u++;return u}(c,qo.key=u,h),Y_(c,u,h))}function Y_(c,u,h){for(;u<h&&c.charCodeAt(u)<=32;)u++;return u}function Ip(c,u,h){return to(c,u,h,!1),Ip}function N1(c,u){return to(c,u,null,!0),N1}function lA(c,u){for(let h=function eB(c){return function EI(c){qo.key=0,qo.keyEnd=0,qo.value=0,qo.valueEnd=0,qo.textEnd=c.length}(c),tB(c,Y_(c,0,qo.textEnd))}(u);h>=0;h=tB(u,h))xa(c,L1(u),!0)}function to(c,u,h,f){const g=Rt(),w=Ni(),M=kl(2);w.firstUpdatePass&&Ab(w,c,M,f),u!==Ii&&ac(g,M,u)&&Yv(w,w.data[To()],g,g[11],c,g[M+1]=function MI(c,u){return null==c||("string"==typeof u?c+=u:"object"==typeof c&&(c=vt(Pc(c)))),c}(u,h),f,M)}function Wv(c,u){return u>=c.expandoStartIndex}function Ab(c,u,h,f){const g=c.data;if(null===g[h+1]){const w=g[To()],M=Wv(c,h);fb(w,f)&&null===u&&!M&&(u=!1),u=function sB(c,u,h,f){const g=Bh(c);let w=f?u.residualClasses:u.residualStyles;if(null===g)0===(f?u.classBindings:u.styleBindings)&&(h=J_(h=$_(null,c,u,h,f),u.attrs,f),w=null);else{const M=u.directiveStylingLast;if(-1===M||c[M]!==g)if(h=$_(g,c,u,h,f),null===w){let N=function II(c,u,h){const f=h?u.classBindings:u.styleBindings;if(0!==W_(f))return c[ho(f)]}(c,u,f);void 0!==N&&Array.isArray(N)&&(N=$_(null,c,u,N[1],f),N=J_(N,u.attrs,f),function oB(c,u,h,f){c[ho(h?u.classBindings:u.styleBindings)]=f}(c,u,f,N))}else w=function aB(c,u,h){let f;const g=u.directiveEnd;for(let w=1+u.directiveStylingLast;w<g;w++)f=J_(f,c[w].hostAttrs,h);return J_(f,u.attrs,h)}(c,u,f)}return void 0!==w&&(f?u.residualClasses=w:u.residualStyles=w),h}(g,w,u,f),function hN(c,u,h,f,g,w){let M=w?u.classBindings:u.styleBindings,O=ho(M),N=W_(M);c[f]=h;let ee,q=!1;if(Array.isArray(h)){const me=h;ee=me[1],(null===ee||nc(me,ee)>0)&&(q=!0)}else ee=h;if(g)if(0!==N){const Ne=ho(c[O+1]);c[f+1]=ua(Ne,O),0!==Ne&&(c[Ne+1]=O1(c[Ne+1],f)),c[O+1]=function yI(c,u){return 131071&c|u<<17}(c[O+1],f)}else c[f+1]=ua(O,0),0!==O&&(c[O+1]=O1(c[O+1],f)),O=f;else c[f+1]=ua(N,0),0===O?O=f:c[N+1]=O1(c[N+1],f),N=f;q&&(c[f+1]=vI(c[f+1])),CI(c,ee,f,!0),CI(c,ee,f,!1),function bI(c,u,h,f,g){const w=g?c.residualClasses:c.residualStyles;null!=w&&"string"==typeof u&&nc(w,u)>=0&&(h[f+1]=wI(h[f+1]))}(u,ee,c,f,w),M=ua(O,N),w?u.classBindings=M:u.styleBindings=M}(g,w,u,h,M,f)}}function $_(c,u,h,f,g){let w=null;const M=h.directiveEnd;let O=h.directiveStylingLast;for(-1===O?O=h.directiveStart:O++;O<M&&(w=u[O],f=J_(f,w.hostAttrs,g),w!==c);)O++;return null!==c&&(h.directiveStylingLast=O),f}function J_(c,u,h){const f=h?1:2;let g=-1;if(null!==u)for(let w=0;w<u.length;w++){const M=u[w];"number"==typeof M?g=M:g===f&&(Array.isArray(c)||(c=void 0===c?[]:["",c]),xa(c,M,!!h||u[++w]))}return void 0===c?null:c}function Yv(c,u,h,f,g,w,M,O){if(!(3&u.type))return;const N=c.data,q=N[O+1],ee=function uN(c){return 1==(1&c)}(q)?TI(N,u,h,g,W_(q),M):void 0;Q1(ee)||(Q1(w)||function R1(c){return 2==(2&c)}(q)&&(w=TI(N,null,h,g,O,M)),function Oc(c,u,h,f,g){if(u)g?c.addClass(h,f):c.removeClass(h,f);else{let w=-1===f.indexOf("-")?void 0:Vo.DashCase;null==g?c.removeStyle(h,f,w):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),w|=Vo.Important),c.setStyle(h,f,g,w))}}(f,M,Do(To(),h),g,w))}function TI(c,u,h,f,g,w){const M=null===u;let O;for(;g>0;){const N=c[g],q=Array.isArray(N),ee=q?N[1]:N,me=null===ee;let Ne=h[g+1];Ne===Ii&&(Ne=me?ai:void 0);let st=me?$f(Ne,f):ee===f?Ne:void 0;if(q&&!Q1(st)&&(st=$f(N,f)),Q1(st)&&(O=st,M))return O;const Ft=c[g+1];g=M?ho(Ft):W_(Ft)}if(null!==u){let N=w?u.residualClasses:u.residualStyles;null!=N&&(O=$f(N,f))}return O}function Q1(c){return void 0!==c}function fb(c,u){return 0!=(c.flags&(u?8:16))}function V1(c,u=""){const h=Rt(),f=Ni(),g=c+22,w=f.firstCreatePass?Cp(f,g,1,u,null):f.data[g],M=h[g]=function uu(c,u){return c.createText(u)}(h[11],u);Qg(f,h,M,w),Ws(w,!1)}function j1(c){return pb("",c,""),j1}function pb(c,u,h){const f=Rt(),g=rd(f,c,u,h);return g!==Ii&&oA(f,To(),g),pb}function z1(c,u,h,f,g){const w=Rt(),M=Gv(w,c,u,h,f,g);return M!==Ii&&oA(w,To(),M),z1}function cB(c,u,h){!function oh(c,u,h,f){const g=Ni(),w=kl(2);g.firstUpdatePass&&Ab(g,null,w,f);const M=Rt();if(h!==Ii&&ac(M,w,h)){const O=g.data[To()];if(fb(O,f)&&!Wv(g,w)){let N=f?O.classesWithoutHost:O.stylesWithoutHost;null!==N&&(h=dt(N,h||"")),ob(g,O,M,h,f)}else!function H1(c,u,h,f,g,w,M,O){g===Ii&&(g=ai);let N=0,q=0,ee=0<g.length?g[0]:null,me=0<w.length?w[0]:null;for(;null!==ee||null!==me;){const Ne=N<g.length?g[N+1]:void 0,st=q<w.length?w[q+1]:void 0;let sn,Ft=null;ee===me?(N+=2,q+=2,Ne!==st&&(Ft=me,sn=st)):null===me||null!==ee&&ee<me?(N+=2,Ft=ee):(q+=2,Ft=me,sn=st),null!==Ft&&Yv(c,u,h,f,Ft,sn,M,O),ee=N<g.length?g[N]:null,me=q<w.length?w[q]:null}}(g,O,M,M[11],M[w+1],M[w+1]=function DI(c,u,h){if(null==h||""===h)return ai;const f=[],g=Pc(h);if(Array.isArray(g))for(let w=0;w<g.length;w++)c(f,g[w],!0);else if("object"==typeof g)for(const w in g)g.hasOwnProperty(w)&&c(f,w,g[w]);else"string"==typeof g&&u(f,g);return f}(c,u,h),f,w)}}(xa,lA,rd(Rt(),c,u,h),!0)}function OI(c,u,h){const f=Rt();return ac(f,ju(),u)&&gu(Ni(),Mr(),f,c,u,f[11],h,!0),OI}function W1(c,u,h){const f=Rt();if(ac(f,ju(),u)){const w=Ni(),M=Mr();gu(w,M,f,c,u,sN(Bh(w.data),M,f),h,!0)}return W1}const ty=void 0;var _B=["en",[["a","p"],["AM","PM"],ty],[["AM","PM"],ty,ty],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ty,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ty,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ty,"{1} 'at' {0}",ty],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mB(c){const h=Math.floor(Math.abs(c)),f=c.toString().replace(/^[^.]*\.?/,"").length;return 1===h&&0===f?1:5}];let sm={};function Y1(c){const u=function J1(c){return c.toLowerCase().replace(/_/g,"-")}(c);let h=vB(u);if(h)return h;const f=u.split("-")[0];if(h=vB(f),h)return h;if("en"===f)return _B;throw new xt(701,!1)}function $1(c){return Y1(c)[gi.PluralCase]}function vB(c){return c in sm||(sm[c]=yi.ng&&yi.ng.common&&yi.ng.common.locales&&yi.ng.common.locales[c]),sm[c]}var gi=(()=>((gi=gi||{})[gi.LocaleId=0]="LocaleId",gi[gi.DayPeriodsFormat=1]="DayPeriodsFormat",gi[gi.DayPeriodsStandalone=2]="DayPeriodsStandalone",gi[gi.DaysFormat=3]="DaysFormat",gi[gi.DaysStandalone=4]="DaysStandalone",gi[gi.MonthsFormat=5]="MonthsFormat",gi[gi.MonthsStandalone=6]="MonthsStandalone",gi[gi.Eras=7]="Eras",gi[gi.FirstDayOfWeek=8]="FirstDayOfWeek",gi[gi.WeekendRange=9]="WeekendRange",gi[gi.DateFormat=10]="DateFormat",gi[gi.TimeFormat=11]="TimeFormat",gi[gi.DateTimeFormat=12]="DateTimeFormat",gi[gi.NumberSymbols=13]="NumberSymbols",gi[gi.NumberFormats=14]="NumberFormats",gi[gi.CurrencyCode=15]="CurrencyCode",gi[gi.CurrencySymbol=16]="CurrencySymbol",gi[gi.CurrencyName=17]="CurrencyName",gi[gi.Currencies=18]="Currencies",gi[gi.Directionality=19]="Directionality",gi[gi.PluralCase=20]="PluralCase",gi[gi.ExtraData=21]="ExtraData",gi))();const om="en-US";let LI=om;function po(c,u,h,f,g){if(c=Ke(c),Array.isArray(c))for(let w=0;w<c.length;w++)po(c[w],u,h,f,g);else{const w=Ni(),M=Rt();let O=_p(c)?c:Ke(c.provide),N=Le(c);const q=Zs(),ee=1048575&q.providerIndexes,me=q.directiveStart,Ne=q.providerIndexes>>20;if(_p(c)||!c.multi){const st=new Pd(N,g,O_),Ft=Db(O,u,g?ee:ee+Ne,me);-1===Ft?(ru(Gf(q,M),w,O),mn(w,c,u.length),u.push(O),q.directiveStart++,q.directiveEnd++,g&&(q.providerIndexes+=1048576),h.push(st),M.push(st)):(h[Ft]=st,M[Ft]=st)}else{const st=Db(O,u,ee+Ne,me),Ft=Db(O,u,ee,ee+Ne),sn=st>=0&&h[st],xn=Ft>=0&&h[Ft];if(g&&!xn||!g&&!sn){ru(Gf(q,M),w,O);const Wn=function UN(c,u,h,f,g){const w=new Pd(c,h,O_);return w.multi=[],w.index=u,w.componentProviders=0,Ib(w,g,f&&!h),w}(g?NN:sy,h.length,g,f,N);!g&&xn&&(h[Ft].providerFactory=Wn),mn(w,c,u.length,0),u.push(O),q.directiveStart++,q.directiveEnd++,g&&(q.providerIndexes+=1048576),h.push(Wn),M.push(Wn)}else mn(w,c,st>-1?st:Ft,Ib(h[g?Ft:st],N,!g&&f));!g&&f&&xn&&h[Ft].componentProviders++}}}function mn(c,u,h,f){const g=_p(u),w=function kv(c){return!!c.useClass}(u);if(g||w){const N=(w?Ke(u.useClass):u).prototype.ngOnDestroy;if(N){const q=c.destroyHooks||(c.destroyHooks=[]);if(!g&&u.multi){const ee=q.indexOf(h);-1===ee?q.push(h,[f,N]):q[ee+1].push(f,N)}else q.push(h,N)}}}function Ib(c,u,h){return h&&c.componentProviders++,c.multi.push(u)-1}function Db(c,u,h,f){for(let g=h;g<f;g++)if(u[g]===c)return g;return-1}function sy(c,u,h,f){return r0(this.multi,[])}function NN(c,u,h,f){const g=this.multi;let w;if(this.providerFactory){const M=this.providerFactory.componentProviders,O=su(h,h[1],this.providerFactory.index,f);w=O.slice(0,M),r0(g,w);for(let N=M;N<O.length;N++)w.push(O[N])}else w=[],r0(g,w);return w}function r0(c,u){for(let h=0;h<c.length;h++)u.push((0,c[h])());return u}function s0(c,u=[]){return h=>{h.providersResolver=(f,g)=>function PN(c,u,h){const f=Ni();if(f.firstCreatePass){const g=ms(c);po(h,f.data,f.blueprint,g,!0),po(u,f.data,f.blueprint,g,!1)}}(f,g?g(c):c,u)}}class oy{}class KI{}function od(c,u){return new ZI(c,u??null)}class ZI extends oy{constructor(u,h){super(),this._parent=h,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tI(this);const f=na(u);this._bootstrapComponents=bp(f.bootstrap),this._r3Injector=DM(u,h,[{provide:oy,useValue:this},{provide:Ai,useValue:this.componentFactoryResolver}],vt(u),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(u)}get injector(){return this._r3Injector}destroy(){const u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(h=>h()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}}class cx extends KI{constructor(u){super(),this.moduleType=u}create(u){return new ZI(this.moduleType,u)}}class dm extends oy{constructor(u,h,f){super(),this.componentFactoryResolver=new tI(this),this.instance=null;const g=new G([...u,{provide:oy,useValue:this},{provide:Ai,useValue:this.componentFactoryResolver}],h||E(),f,new Set(["environment"]));this.injector=g,g.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(u){this.injector.onDestroy(u)}}function Tb(c,u,h=null){return new dm(c,u,h).injector}let gt=(()=>{class c{constructor(h){this._injector=h,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(h){if(!h.standalone)return null;if(!this.cachedInjectors.has(h.id)){const f=qw(0,h.type),g=f.length>0?Tb([f],this._injector,`Standalone[${h.type.name}]`):null;this.cachedInjectors.set(h.id,g)}return this.cachedInjectors.get(h.id)}ngOnDestroy(){try{for(const h of this.cachedInjectors.values())null!==h&&h.destroy()}finally{this.cachedInjectors.clear()}}}return c.\u0275prov=$i({token:c,providedIn:"environment",factory:()=>new c(ln(P))}),c})();function Mb(c){c.getStandaloneInjector=u=>u.get(gt).getOrCreateStandaloneInjector(c)}function fs(c,u,h){const f=Hr()+c,g=Rt();return g[f]===Ii?cf(g,f,h?u.call(h):u()):function z_(c,u){return c[u]}(g,f)}function $I(c,u,h,f){return JI(Rt(),Hr(),c,u,h,f)}function mu(c,u,h,f,g,w){return function zB(c,u,h,f,g,w,M,O){const N=u+h;return function y1(c,u,h,f,g){const w=G_(c,u,h,f);return ac(c,u+2,g)||w}(c,N,g,w,M)?cf(c,N+3,O?f.call(O,g,w,M):f(g,w,M)):uy(c,N+3)}(Rt(),Hr(),c,u,h,f,g,w)}function uy(c,u){const h=c[u];return h===Ii?void 0:h}function JI(c,u,h,f,g,w){const M=u+h;return ac(c,M,g)?cf(c,M+1,w?f.call(w,g):f(g)):uy(c,M+1)}function u0(c,u){const h=Ni();let f;const g=c+22;h.firstCreatePass?(f=function GB(c,u){if(u)for(let h=u.length-1;h>=0;h--){const f=u[h];if(c===f.name)return f}}(u,h.pipeRegistry),h.data[g]=f,f.onDestroy&&(h.destroyHooks||(h.destroyHooks=[])).push(g,f.onDestroy)):f=h.data[g];const w=f.factory||(f.factory=_s(f.type)),M=Vr(O_);try{const O=qu(!1),N=w();return qu(O),function ZM(c,u,h,f){h>=c.data.length&&(c.data[h]=null,c.blueprint[h]=null),u[h]=f}(h,Rt(),g,N),N}finally{Vr(M)}}function Bb(c,u,h){const f=c+22,g=Rt(),w=Qa(g,f);return d0(g,f)?JI(g,Hr(),u,w.transform,h,w):w.transform(h)}function Am(c,u,h,f){const g=c+22,w=Rt(),M=Qa(w,g);return d0(w,g)?function l0(c,u,h,f,g,w,M){const O=u+h;return G_(c,O,g,w)?cf(c,O+2,M?f.call(M,g,w):f(g,w)):uy(c,O+2)}(w,Hr(),u,M.transform,h,f,M):M.transform(h,f)}function d0(c,u){return c[1].data[u].pure}function kb(c){return u=>{setTimeout(c,void 0,u)}}const lc=class h0 extends o.x{constructor(u=!1){super(),this.__isAsync=u}emit(u){super.next(u)}subscribe(u,h,f){let g=u,w=h||(()=>null),M=f;if(u&&"object"==typeof u){const N=u;g=N.next?.bind(N),w=N.error?.bind(N),M=N.complete?.bind(N)}this.__isAsync&&(w=kb(w),g&&(g=kb(g)),M&&(M=kb(M)));const O=super.subscribe({next:g,error:w,complete:M});return u instanceof Ge.w0&&u.add(O),O}};function XI(){return this._results[Qc()]()}class pm{constructor(u=!1){this._emitDistinctChangesOnly=u,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const h=Qc(),f=pm.prototype;f[h]||(f[h]=XI)}get changes(){return this._changes||(this._changes=new lc)}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,h){return this._results.reduce(u,h)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,h){const f=this;f.dirty=!1;const g=Xn(u);(this._changesDetected=!function yv(c,u,h){if(c.length!==u.length)return!1;for(let f=0;f<c.length;f++){let g=c[f],w=u[f];if(h&&(g=h(g),w=h(w)),w!==g)return!1}return!0}(f._results,g,h))&&(f._results=g,f.length=g.length,f.last=g[this.length-1],f.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let A0=(()=>{class c{}return c.__NG_ELEMENT_ID__=Rb,c})();const qB=A0,dx=class extends qB{constructor(u,h,f){super(),this._declarationLView=u,this._declarationTContainer=h,this.elementRef=f}createEmbeddedView(u,h){const f=this._declarationTContainer.tViews,g=Nv(this._declarationLView,f,u,16,null,f.declTNode,null,null,null,null,h||null);g[17]=this._declarationLView[this._declarationTContainer.index];const M=this._declarationLView[19];return null!==M&&(g[19]=M.createEmbeddedView(f)),P_(f,g,u),new sf(g)}};function Rb(){return Ob(Zs(),Rt())}function Ob(c,u){return 4&c.type?new dx(u,c,ur(c,u)):null}let hx=(()=>{class c{}return c.__NG_ELEMENT_ID__=jN,c})();function jN(){return Rs(Zs(),Rt())}const KB=hx,eD=class extends KB{constructor(u,h,f){super(),this._lContainer=u,this._hostTNode=h,this._hostLView=f}get element(){return ur(this._hostTNode,this._hostLView)}get injector(){return new Wu(this._hostTNode,this._hostLView)}get parentInjector(){const u=Ir(this._hostTNode,this._hostLView);if(Mc(u)){const h=Lh(u,this._hostLView),f=Oh(u);return new Wu(h[1].data[f+8],h)}return new Wu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){const h=wl(this._lContainer);return null!==h&&h[u]||null}get length(){return this._lContainer.length-10}createEmbeddedView(u,h,f){let g,w;"number"==typeof f?g=f:null!=f&&(g=f.index,w=f.injector);const M=u.createEmbeddedView(h||{},w);return this.insert(M,g),M}createComponent(u,h,f,g,w){const M=u&&!function Yu(c){return"function"==typeof c}(u);let O;if(M)O=h;else{const me=h||{};O=me.index,f=me.injector,g=me.projectableNodes,w=me.environmentInjector||me.ngModuleRef}const N=M?u:new tm(cr(u)),q=f||this.parentInjector;if(!w&&null==N.ngModule){const Ne=(M?q:this.parentInjector).get(P,null);Ne&&(w=Ne)}const ee=N.create(q,g,void 0,w);return this.insert(ee.hostView,O),ee}insert(u,h){const f=u._lView,g=f[1];if(function Yl(c){return ba(c[3])}(f)){const ee=this.indexOf(u);if(-1!==ee)this.detach(ee);else{const me=f[3],Ne=new eD(me,me[6],me[3]);Ne.detach(Ne.indexOf(u))}}const w=this._adjustIndex(h),M=this._lContainer;!function Rc(c,u,h,f){const g=10+f,w=h.length;f>0&&(h[g-1][4]=u),f<w-10?(u[4]=h[g],vn(h,10+f,u)):(h.push(u),u[4]=null),u[3]=h;const M=u[17];null!==M&&h!==M&&function Pg(c,u){const h=c[9];u[16]!==u[3][3][16]&&(c[2]=!0),null===h?c[9]=[u]:h.push(u)}(M,u);const O=u[19];null!==O&&O.insertView(c),u[2]|=64}(g,f,M,w);const O=Wd(w,M),N=f[11],q=Zd(N,M[7]);return null!==q&&function Pw(c,u,h,f,g,w){f[0]=g,f[6]=u,hu(c,f,h,1,g,w)}(g,M[6],N,f,q,O),u.attachToViewContainerRef(),vn(Ax(M),w,u),u}move(u,h){return this.insert(u,h)}indexOf(u){const h=wl(this._lContainer);return null!==h?h.indexOf(u):-1}remove(u){const h=this._adjustIndex(u,-1),f=Ng(this._lContainer,h);f&&(tn(Ax(this._lContainer),h),Wh(f[1],f))}detach(u){const h=this._adjustIndex(u,-1),f=Ng(this._lContainer,h);return f&&null!=tn(Ax(this._lContainer),h)?new sf(f):null}_adjustIndex(u,h=0){return u??this.length+h}};function wl(c){return c[8]}function Ax(c){return c[8]||(c[8]=[])}function Rs(c,u){let h;const f=u[c.index];if(ba(f))h=f;else{let g;if(8&c.type)g=Ks(f);else{const w=u[11];g=w.createComment("");const M=sa(c,u);sc(w,Zd(w,M),g,function Ka(c,u){return c.nextSibling(u)}(w,M),!1)}u[c.index]=h=iN(f,u,g,c),Hv(u,h)}return new eD(h,c,u)}class tD{constructor(u){this.queryList=u,this.matches=null}clone(){return new tD(this.queryList)}setDirty(){this.queryList.setDirty()}}class hy{constructor(u=[]){this.queries=u}createEmbeddedView(u){const h=u.queries;if(null!==h){const f=null!==u.contentQueries?u.contentQueries[0]:h.length,g=[];for(let w=0;w<f;w++){const M=h.getByIndex(w);g.push(this.queries[M.indexInDeclarationView].clone())}return new hy(g)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let h=0;h<this.queries.length;h++)null!==nD(u,h).matches&&this.queries[h].setDirty()}}class Lb{constructor(u,h,f=null){this.predicate=u,this.flags=h,this.read=f}}class p0{constructor(u=[]){this.queries=u}elementStart(u,h){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(u,h)}elementEnd(u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementEnd(u)}embeddedTView(u){let h=null;for(let f=0;f<this.length;f++){const g=null!==h?h.length:0,w=this.getByIndex(f).embeddedTView(u,g);w&&(w.indexInDeclarationView=f,null!==h?h.push(w):h=[w])}return null!==h?new p0(h):null}template(u,h){for(let f=0;f<this.queries.length;f++)this.queries[f].template(u,h)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}}class fx{constructor(u,h=-1){this.metadata=u,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=h}elementStart(u,h){this.isApplyingToNode(h)&&this.matchTNode(u,h)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,h){this.elementStart(u,h)}embeddedTView(u,h){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,h),new fx(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const h=this._declarationNodeIndex;let f=u.parent;for(;null!==f&&8&f.type&&f.index!==h;)f=f.parent;return h===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(u,h){const f=this.metadata.predicate;if(Array.isArray(f))for(let g=0;g<f.length;g++){const w=f[g];this.matchTNodeWithReadOption(u,h,WB(h,w)),this.matchTNodeWithReadOption(u,h,Zu(h,u,w,!1,!1))}else f===A0?4&h.type&&this.matchTNodeWithReadOption(u,h,-1):this.matchTNodeWithReadOption(u,h,Zu(h,u,f,!1,!1))}matchTNodeWithReadOption(u,h,f){if(null!==f){const g=this.metadata.read;if(null!==g)if(g===sr||g===hx||g===A0&&4&h.type)this.addMatch(h.index,-2);else{const w=Zu(h,u,g,!1,!1);null!==w&&this.addMatch(h.index,w)}else this.addMatch(h.index,f)}}addMatch(u,h){null===this.matches?this.matches=[u,h]:this.matches.push(u,h)}}function WB(c,u){const h=c.localNames;if(null!==h)for(let f=0;f<h.length;f+=2)if(h[f]===u)return h[f+1];return null}function GN(c,u,h,f){return-1===h?function Ql(c,u){return 11&c.type?ur(c,u):4&c.type?Ob(c,u):null}(u,c):-2===h?function qN(c,u,h){return h===sr?ur(u,c):h===A0?Ob(u,c):h===hx?Rs(u,c):void 0}(c,u,f):su(c,c[1],h,u)}function YB(c,u,h,f){const g=u[19].queries[f];if(null===g.matches){const w=c.data,M=h.matches,O=[];for(let N=0;N<M.length;N+=2){const q=M[N];O.push(q<0?null:GN(u,w[q],M[N+1],h.metadata.read))}g.matches=O}return g.matches}function px(c,u,h,f){const g=c.queries.getByIndex(h),w=g.matches;if(null!==w){const M=YB(c,u,g,h);for(let O=0;O<w.length;O+=2){const N=w[O];if(N>0)f.push(M[O/2]);else{const q=w[O+1],ee=u[-N];for(let me=10;me<ee.length;me++){const Ne=ee[me];Ne[17]===Ne[3]&&px(Ne[1],Ne,q,f)}if(null!==ee[9]){const me=ee[9];for(let Ne=0;Ne<me.length;Ne++){const st=me[Ne];px(st[1],st,q,f)}}}}}return f}function $B(c){const u=Rt(),h=Ni(),f=fg();Nf(f+1);const g=nD(h,f);if(c.dirty&&function Dh(c){return 4==(4&c[2])}(u)===(2==(2&g.metadata.flags))){if(null===g.matches)c.reset([]);else{const w=g.crossesNgTemplate?px(h,u,f,[]):YB(h,u,g,f);c.reset(w,Ei),c.notifyOnChanges()}return!0}return!1}function JB(c,u,h){const f=Ni();f.firstCreatePass&&(tF(f,new Lb(c,u,h),-1),2==(2&u)&&(f.staticViewQueries=!0)),Ay(f,Rt(),u)}function XB(c,u,h,f){const g=Ni();if(g.firstCreatePass){const w=Zs();tF(g,new Lb(u,h,f),w.index),function nF(c,u){const h=c.contentQueries||(c.contentQueries=[]);u!==(h.length?h[h.length-1]:-1)&&h.push(c.queries.length-1,u)}(g,c),2==(2&h)&&(g.staticContentQueries=!0)}Ay(g,Rt(),h)}function eF(){return function gm(c,u){return c[19].queries[u].queryList}(Rt(),fg())}function Ay(c,u,h){const f=new pm(4==(4&h));ZP(c,u,f,f.destroy),null===u[19]&&(u[19]=new hy),u[19].queries.push(new tD(f))}function tF(c,u,h){null===c.queries&&(c.queries=new p0),c.queries.track(new fx(u,h))}function nD(c,u){return c.queries.getByIndex(u)}function ud(...c){}const _0=new jr("Application Initializer");let wx=(()=>{class c{constructor(h){this.appInits=h,this.resolve=ud,this.reject=ud,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,g)=>{this.resolve=f,this.reject=g})}runInitializers(){if(this.initialized)return;const h=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const w=this.appInits[g]();if(dI(w))h.push(w);else if(lb(w)){const M=new Promise((O,N)=>{w.subscribe({complete:O,error:N})});h.push(M)}}Promise.all(h).then(()=>{f()}).catch(g=>{this.reject(g)}),0===h.length&&f(),this.initialized=!0}}return c.\u0275fac=function(h){return new(h||c)(ln(_0,8))},c.\u0275prov=$i({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const hF=new jr("AppId",{providedIn:"root",factory:function Zi(){return`${y0()}${y0()}${y0()}`}});function y0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const v0=new jr("Platform Initializer"),Hb=new jr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Qb=new jr("appBootstrapListener"),AF=new jr("AnimationModuleType");let fF=(()=>{class c{log(h){console.log(h)}warn(h){console.warn(h)}}return c.\u0275fac=function(h){return new(h||c)},c.\u0275prov=$i({token:c,factory:c.\u0275fac,providedIn:"platform"}),c})();const Vb=new jr("LocaleId",{providedIn:"root",factory:()=>yn(Vb,Dn.Optional|Dn.SkipSelf)||function s5(){return typeof $localize<"u"&&$localize.locale||om}()}),pF=new jr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class jb{constructor(u,h){this.ngModuleFactory=u,this.componentFactories=h}}let gF=(()=>{class c{compileModuleSync(h){return new cx(h)}compileModuleAsync(h){return Promise.resolve(this.compileModuleSync(h))}compileModuleAndAllComponentsSync(h){const f=this.compileModuleSync(h),w=bp(na(h).declarations).reduce((M,O)=>{const N=cr(O);return N&&M.push(new tm(N)),M},[]);return new jb(f,w)}compileModuleAndAllComponentsAsync(h){return Promise.resolve(this.compileModuleAndAllComponentsSync(h))}clearCache(){}clearCacheFor(h){}getModuleId(h){}}return c.\u0275fac=function(h){return new(h||c)},c.\u0275prov=$i({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const mF=(()=>Promise.resolve(0))();function wy(c){typeof Zone>"u"?mF.then(()=>{c&&c.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",c)}class hd{constructor({enableLongStackTrace:u=!1,shouldCoalesceEventChangeDetection:h=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new lc(!1),this.onMicrotaskEmpty=new lc(!1),this.onStable=new lc(!1),this.onError=new lc(!1),typeof Zone>"u")throw new xt(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),u&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!f&&h,g.shouldCoalesceRunChangeDetection=f,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function _F(){let c=yi.requestAnimationFrame,u=yi.cancelAnimationFrame;if(typeof Zone<"u"&&c&&u){const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h);const f=u[Zone.__symbol__("OriginalDelegate")];f&&(u=f)}return{nativeRequestAnimationFrame:c,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function mD(c){const u=()=>{!function zb(c){c.isCheckStableRunning||-1!==c.lastRequestAnimationFrameId||(c.lastRequestAnimationFrameId=c.nativeRequestAnimationFrame.call(yi,()=>{c.fakeTopEventTask||(c.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{c.lastRequestAnimationFrameId=-1,_D(c),c.isCheckStableRunning=!0,gD(c),c.isCheckStableRunning=!1},void 0,()=>{},()=>{})),c.fakeTopEventTask.invoke()}),_D(c))}(c)};c._inner=c._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(h,f,g,w,M,O)=>{try{return yD(c),h.invokeTask(g,w,M,O)}finally{(c.shouldCoalesceEventChangeDetection&&"eventTask"===w.type||c.shouldCoalesceRunChangeDetection)&&u(),bx(c)}},onInvoke:(h,f,g,w,M,O,N)=>{try{return yD(c),h.invoke(g,w,M,O,N)}finally{c.shouldCoalesceRunChangeDetection&&u(),bx(c)}},onHasTask:(h,f,g,w)=>{h.hasTask(g,w),f===g&&("microTask"==w.change?(c._hasPendingMicrotasks=w.microTask,_D(c),gD(c)):"macroTask"==w.change&&(c.hasPendingMacrotasks=w.macroTask))},onHandleError:(h,f,g,w)=>(h.handleError(g,w),c.runOutsideAngular(()=>c.onError.emit(w)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!hd.isInAngularZone())throw new xt(909,!1)}static assertNotInAngularZone(){if(hd.isInAngularZone())throw new xt(909,!1)}run(u,h,f){return this._inner.run(u,h,f)}runTask(u,h,f,g){const w=this._inner,M=w.scheduleEventTask("NgZoneEvent: "+g,u,l5,ud,ud);try{return w.runTask(M,h,f)}finally{w.cancelTask(M)}}runGuarded(u,h,f){return this._inner.runGuarded(u,h,f)}runOutsideAngular(u){return this._outer.run(u)}}const l5={};function gD(c){if(0==c._nesting&&!c.hasPendingMicrotasks&&!c.isStable)try{c._nesting++,c.onMicrotaskEmpty.emit(null)}finally{if(c._nesting--,!c.hasPendingMicrotasks)try{c.runOutsideAngular(()=>c.onStable.emit(null))}finally{c.isStable=!0}}}function _D(c){c.hasPendingMicrotasks=!!(c._hasPendingMicrotasks||(c.shouldCoalesceEventChangeDetection||c.shouldCoalesceRunChangeDetection)&&-1!==c.lastRequestAnimationFrameId)}function yD(c){c._nesting++,c.isStable&&(c.isStable=!1,c.onUnstable.emit(null))}function bx(c){c._nesting--,gD(c)}class yF{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lc,this.onMicrotaskEmpty=new lc,this.onStable=new lc,this.onError=new lc}run(u,h,f){return u.apply(h,f)}runGuarded(u,h,f){return u.apply(h,f)}runOutsideAngular(u){return u()}runTask(u,h,f,g){return u.apply(h,f)}}const vF=new jr(""),vD=new jr("");let vm,c5=(()=>{class c{constructor(h,f,g){this._ngZone=h,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vm||(function b0(c){vm=c}(g),g.addToWindow(f)),this._watchAngularEvents(),h.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{hd.assertNotInAngularZone(),wy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())wy(()=>{for(;0!==this._callbacks.length;){let h=this._callbacks.pop();clearTimeout(h.timeoutId),h.doneCb(this._didWork)}this._didWork=!1});else{let h=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(h)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(h=>({source:h.source,creationLocation:h.creationLocation,data:h.data})):[]}addCallback(h,f,g){let w=-1;f&&f>0&&(w=setTimeout(()=>{this._callbacks=this._callbacks.filter(M=>M.timeoutId!==w),h(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:h,timeoutId:w,updateCb:g})}whenStable(h,f,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(h,f,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(h){this.registry.registerApplication(h,this)}unregisterApplication(h){this.registry.unregisterApplication(h)}findProviders(h,f,g){return[]}}return c.\u0275fac=function(h){return new(h||c)(ln(hd),ln(wF),ln(vD))},c.\u0275prov=$i({token:c,factory:c.\u0275fac}),c})(),wF=(()=>{class c{constructor(){this._applications=new Map}registerApplication(h,f){this._applications.set(h,f)}unregisterApplication(h){this._applications.delete(h)}unregisterAllApplications(){this._applications.clear()}getTestability(h){return this._applications.get(h)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(h,f=!0){return vm?.findTestabilityInTree(this,h,f)??null}}return c.\u0275fac=function(h){return new(h||c)},c.\u0275prov=$i({token:c,factory:c.\u0275fac,providedIn:"platform"}),c})(),wm=null;const bF=new jr("AllowMultipleToken"),wD=new jr("PlatformDestroyListeners");class Af{constructor(u,h){this.name=u,this.token=h}}function SF(c,u,h=[]){const f=`Platform: ${u}`,g=new jr(f);return(w=[])=>{let M=CD();if(!M||M.injector.get(bF,!1)){const O=[...h,...w,{provide:g,useValue:!0}];c?c(O):function xF(c){if(wm&&!wm.get(bF,!1))throw new xt(400,!1);wm=c;const u=c.get(IF);(function bD(c){const u=c.get(v0,null);u&&u.forEach(h=>h())})(c)}(function EF(c=[],u){return em.create({name:u,providers:[{provide:Rv,useValue:"platform"},{provide:wD,useValue:new Set([()=>wm=null])},...c]})}(O,f))}return function u5(c){const u=CD();if(!u)throw new xt(401,!1);return u}()}}function CD(){return wm?.get(IF)??null}let IF=(()=>{class c{constructor(h){this._injector=h,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(h,f){const g=function TF(c,u){let h;return h="noop"===c?new yF:("zone.js"===c?void 0:c)||new hd(u),h}(f?.ngZone,function DF(c){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!c||!c.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!c||!c.ngZoneRunCoalescing)||!1}}(f)),w=[{provide:hd,useValue:g}];return g.run(()=>{const M=em.create({providers:w,parent:this.injector,name:h.moduleType.name}),O=h.create(M),N=O.injector.get(Ja,null);if(!N)throw new xt(402,!1);return g.runOutsideAngular(()=>{const q=g.onError.subscribe({next:ee=>{N.handleError(ee)}});O.onDestroy(()=>{Sx(this._modules,O),q.unsubscribe()})}),function MF(c,u,h){try{const f=h();return dI(f)?f.catch(g=>{throw u.runOutsideAngular(()=>c.handleError(g)),g}):f}catch(f){throw u.runOutsideAngular(()=>c.handleError(f)),f}}(N,g,()=>{const q=O.injector.get(wx);return q.runInitializers(),q.donePromise.then(()=>(function bB(c){ir(c,"Expected localeId to be defined"),"string"==typeof c&&(LI=c.toLowerCase().replace(/_/g,"-"))}(O.injector.get(Vb,om)||om),this._moduleDoBootstrap(O),O))})})}bootstrapModule(h,f=[]){const g=BF({},f);return function Vc(c,u,h){const f=new cx(h);return Promise.resolve(f)}(0,0,h).then(w=>this.bootstrapModuleFactory(w,g))}_moduleDoBootstrap(h){const f=h.injector.get(xx);if(h._bootstrapComponents.length>0)h._bootstrapComponents.forEach(g=>f.bootstrap(g));else{if(!h.instance.ngDoBootstrap)throw new xt(403,!1);h.instance.ngDoBootstrap(f)}this._modules.push(h)}onDestroy(h){this._destroyListeners.push(h)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xt(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const h=this._injector.get(wD,null);h&&(h.forEach(f=>f()),h.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return c.\u0275fac=function(h){return new(h||c)(ln(em))},c.\u0275prov=$i({token:c,factory:c.\u0275fac,providedIn:"platform"}),c})();function BF(c,u){return Array.isArray(u)?u.reduce(BF,c):{...c,...u}}let xx=(()=>{class c{constructor(h,f,g){this._zone=h,this._injector=f,this._exceptionHandler=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new ue.y(O=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{O.next(this._stable),O.complete()})}),M=new ue.y(O=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{hd.assertNotInAngularZone(),wy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,O.next(!0))})})});const q=this._zone.onUnstable.subscribe(()=>{hd.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{O.next(!1)}))});return()=>{N.unsubscribe(),q.unsubscribe()}});this.isStable=(0,ut.T)(w,M.pipe((0,ht.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(h,f){const g=h instanceof Ki;if(!this._injector.get(wx).done)throw!g&&us(h),new xt(405,false);let M;M=g?h:this._injector.get(Ai).resolveComponentFactory(h),this.componentTypes.push(M.componentType);const O=function CF(c){return c.isBoundToModule}(M)?void 0:this._injector.get(oy),q=M.create(em.NULL,[],f||M.selector,O),ee=q.location.nativeElement,me=q.injector.get(vF,null);return me?.registerApplication(ee),q.onDestroy(()=>{this.detachView(q.hostView),Sx(this.components,q),me?.unregisterApplication(ee)}),this._loadComponent(q),q}tick(){if(this._runningTick)throw new xt(101,!1);try{this._runningTick=!0;for(let h of this._views)h.detectChanges()}catch(h){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(h))}finally{this._runningTick=!1}}attachView(h){const f=h;this._views.push(f),f.attachToAppRef(this)}detachView(h){const f=h;Sx(this._views,f),f.detachFromAppRef()}_loadComponent(h){this.attachView(h.hostView),this.tick(),this.components.push(h),this._injector.get(Qb,[]).concat(this._bootstrapListeners).forEach(g=>g(h))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(h=>h()),this._views.slice().forEach(h=>h.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(h){return this._destroyListeners.push(h),()=>Sx(this._destroyListeners,h)}destroy(){if(this._destroyed)throw new xt(406,!1);const h=this._injector;h.destroy&&!h.destroyed&&h.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return c.\u0275fac=function(h){return new(h||c)(ln(hd),ln(P),ln(Ja))},c.\u0275prov=$i({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();function Sx(c,u){const h=c.indexOf(u);h>-1&&c.splice(h,1)}function kF(){return!1}function h5(){}let xD=(()=>{class c{}return c.__NG_ELEMENT_ID__=bl,c})();function bl(c){return function SD(c,u,h){if(Sd(c)&&!h){const f=Ho(c.index,u);return new sf(f,f)}return 47&c.type?new sf(u[16],u):null}(Zs(),Rt(),16==(16&c))}class UF{constructor(){}supports(u){return j_(u)}create(u){return new m5(u)}}const HF=(c,u)=>u;class m5{constructor(u){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=u||HF}forEachItem(u){let h;for(h=this._itHead;null!==h;h=h._next)u(h)}forEachOperation(u){let h=this._itHead,f=this._removalsHead,g=0,w=null;for(;h||f;){const M=!f||h&&h.currentIndex<Cm(f,g,w)?h:f,O=Cm(M,g,w),N=M.currentIndex;if(M===f)g--,f=f._nextRemoved;else if(h=h._next,null==M.previousIndex)g++;else{w||(w=[]);const q=O-g,ee=N-g;if(q!=ee){for(let Ne=0;Ne<q;Ne++){const st=Ne<w.length?w[Ne]:w[Ne]=0,Ft=st+Ne;ee<=Ft&&Ft<q&&(w[Ne]=st+1)}w[M.previousIndex]=ee-q}}O!==N&&u(M,O,N)}}forEachPreviousItem(u){let h;for(h=this._previousItHead;null!==h;h=h._nextPrevious)u(h)}forEachAddedItem(u){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)u(h)}forEachMovedItem(u){let h;for(h=this._movesHead;null!==h;h=h._nextMoved)u(h)}forEachRemovedItem(u){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)u(h)}forEachIdentityChange(u){let h;for(h=this._identityChangesHead;null!==h;h=h._nextIdentityChange)u(h)}diff(u){if(null==u&&(u=[]),!j_(u))throw new xt(900,!1);return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let g,w,M,h=this._itHead,f=!1;if(Array.isArray(u)){this.length=u.length;for(let O=0;O<this.length;O++)w=u[O],M=this._trackByFn(O,w),null!==h&&Object.is(h.trackById,M)?(f&&(h=this._verifyReinsertion(h,w,M,O)),Object.is(h.item,w)||this._addIdentityChange(h,w)):(h=this._mismatch(h,w,M,O),f=!0),h=h._next}else g=0,function _1(c,u){if(Array.isArray(c))for(let h=0;h<c.length;h++)u(c[h]);else{const h=c[Qc()]();let f;for(;!(f=h.next()).done;)u(f.value)}}(u,O=>{M=this._trackByFn(g,O),null!==h&&Object.is(h.trackById,M)?(f&&(h=this._verifyReinsertion(h,O,M,g)),Object.is(h.item,O)||this._addIdentityChange(h,O)):(h=this._mismatch(h,O,M,g),f=!0),h=h._next,g++}),this.length=g;return this._truncate(h),this.collection=u,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let u;for(u=this._previousItHead=this._itHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._additionsHead;null!==u;u=u._nextAdded)u.previousIndex=u.currentIndex;for(this._additionsHead=this._additionsTail=null,u=this._movesHead;null!==u;u=u._nextMoved)u.previousIndex=u.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(u,h,f,g){let w;return null===u?w=this._itTail:(w=u._prev,this._remove(u)),null!==(u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(u.item,h)||this._addIdentityChange(u,h),this._reinsertAfter(u,w,g)):null!==(u=null===this._linkedRecords?null:this._linkedRecords.get(f,g))?(Object.is(u.item,h)||this._addIdentityChange(u,h),this._moveAfter(u,w,g)):u=this._addAfter(new _5(h,f),w,g),u}_verifyReinsertion(u,h,f,g){let w=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==w?u=this._reinsertAfter(w,u._prev,g):u.currentIndex!=g&&(u.currentIndex=g,this._addToMoves(u,g)),u}_truncate(u){for(;null!==u;){const h=u._next;this._addToRemovals(this._unlink(u)),u=h}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(u,h,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(u);const g=u._prevRemoved,w=u._nextRemoved;return null===g?this._removalsHead=w:g._nextRemoved=w,null===w?this._removalsTail=g:w._prevRemoved=g,this._insertAfter(u,h,f),this._addToMoves(u,f),u}_moveAfter(u,h,f){return this._unlink(u),this._insertAfter(u,h,f),this._addToMoves(u,f),u}_addAfter(u,h,f){return this._insertAfter(u,h,f),this._additionsTail=null===this._additionsTail?this._additionsHead=u:this._additionsTail._nextAdded=u,u}_insertAfter(u,h,f){const g=null===h?this._itHead:h._next;return u._next=g,u._prev=h,null===g?this._itTail=u:g._prev=u,null===h?this._itHead=u:h._next=u,null===this._linkedRecords&&(this._linkedRecords=new x0),this._linkedRecords.put(u),u.currentIndex=f,u}_remove(u){return this._addToRemovals(this._unlink(u))}_unlink(u){null!==this._linkedRecords&&this._linkedRecords.remove(u);const h=u._prev,f=u._next;return null===h?this._itHead=f:h._next=f,null===f?this._itTail=h:f._prev=h,u}_addToMoves(u,h){return u.previousIndex===h||(this._movesTail=null===this._movesTail?this._movesHead=u:this._movesTail._nextMoved=u),u}_addToRemovals(u){return null===this._unlinkedRecords&&(this._unlinkedRecords=new x0),this._unlinkedRecords.put(u),u.currentIndex=null,u._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=u,u._prevRemoved=null):(u._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=u),u}_addIdentityChange(u,h){return u.item=h,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=u:this._identityChangesTail._nextIdentityChange=u,u}}class _5{constructor(u,h){this.item=u,this.trackById=h,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class y5{constructor(){this._head=null,this._tail=null}add(u){null===this._head?(this._head=this._tail=u,u._nextDup=null,u._prevDup=null):(this._tail._nextDup=u,u._prevDup=this._tail,u._nextDup=null,this._tail=u)}get(u,h){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===h||h<=f.currentIndex)&&Object.is(f.trackById,u))return f;return null}remove(u){const h=u._prevDup,f=u._nextDup;return null===h?this._head=f:h._nextDup=f,null===f?this._tail=h:f._prevDup=h,null===this._head}}class x0{constructor(){this.map=new Map}put(u){const h=u.trackById;let f=this.map.get(h);f||(f=new y5,this.map.set(h,f)),f.add(u)}get(u,h){const g=this.map.get(u);return g?g.get(u,h):null}remove(u){const h=u.trackById;return this.map.get(h).remove(u)&&this.map.delete(h),u}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Cm(c,u,h){const f=c.previousIndex;if(null===f)return f;let g=0;return h&&f<h.length&&(g=h[f]),f+u+g}class xm{constructor(){}supports(u){return u instanceof Map||jv(u)}create(){return new QF}}class QF{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(u){let h;for(h=this._mapHead;null!==h;h=h._next)u(h)}forEachPreviousItem(u){let h;for(h=this._previousMapHead;null!==h;h=h._nextPrevious)u(h)}forEachChangedItem(u){let h;for(h=this._changesHead;null!==h;h=h._nextChanged)u(h)}forEachAddedItem(u){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)u(h)}forEachRemovedItem(u){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)u(h)}diff(u){if(u){if(!(u instanceof Map||jv(u)))throw new xt(900,!1)}else u=new Map;return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let h=this._mapHead;if(this._appendAfter=null,this._forEach(u,(f,g)=>{if(h&&h.key===g)this._maybeAddToChanges(h,f),this._appendAfter=h,h=h._next;else{const w=this._getOrCreateRecordForKey(g,f);h=this._insertBeforeOrAppend(h,w)}}),h){h._prev&&(h._prev._next=null),this._removalsHead=h;for(let f=h;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(u,h){if(u){const f=u._prev;return h._next=u,h._prev=f,u._prev=h,f&&(f._next=h),u===this._mapHead&&(this._mapHead=h),this._appendAfter=u,u}return this._appendAfter?(this._appendAfter._next=h,h._prev=this._appendAfter):this._mapHead=h,this._appendAfter=h,null}_getOrCreateRecordForKey(u,h){if(this._records.has(u)){const g=this._records.get(u);this._maybeAddToChanges(g,h);const w=g._prev,M=g._next;return w&&(w._next=M),M&&(M._prev=w),g._next=null,g._prev=null,g}const f=new v5(u);return this._records.set(u,f),f.currentValue=h,this._addToAdditions(f),f}_reset(){if(this.isDirty){let u;for(this._previousMapHead=this._mapHead,u=this._previousMapHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._changesHead;null!==u;u=u._nextChanged)u.previousValue=u.currentValue;for(u=this._additionsHead;null!=u;u=u._nextAdded)u.previousValue=u.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(u,h){Object.is(h,u.currentValue)||(u.previousValue=u.currentValue,u.currentValue=h,this._addToChanges(u))}_addToAdditions(u){null===this._additionsHead?this._additionsHead=this._additionsTail=u:(this._additionsTail._nextAdded=u,this._additionsTail=u)}_addToChanges(u){null===this._changesHead?this._changesHead=this._changesTail=u:(this._changesTail._nextChanged=u,this._changesTail=u)}_forEach(u,h){u instanceof Map?u.forEach(h):Object.keys(u).forEach(f=>h(u[f],f))}}class v5{constructor(u){this.key=u,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function VF(){return new Zb([new UF])}let Zb=(()=>{class c{constructor(h){this.factories=h}static create(h,f){if(null!=f){const g=f.factories.slice();h=h.concat(g)}return new c(h)}static extend(h){return{provide:c,useFactory:f=>c.create(h,f||VF()),deps:[[c,new hi,new Zn]]}}find(h){const f=this.factories.find(g=>g.supports(h));if(null!=f)return f;throw new xt(901,!1)}}return c.\u0275prov=$i({token:c,providedIn:"root",factory:VF}),c})();function jF(){return new Dx([new xm])}let Dx=(()=>{class c{constructor(h){this.factories=h}static create(h,f){if(f){const g=f.factories.slice();h=h.concat(g)}return new c(h)}static extend(h){return{provide:c,useFactory:f=>c.create(h,f||jF()),deps:[[c,new hi,new Zn]]}}find(h){const f=this.factories.find(g=>g.supports(h));if(f)return f;throw new xt(901,!1)}}return c.\u0275prov=$i({token:c,providedIn:"root",factory:jF}),c})();const zF=SF(null,"core",[]);let _u=(()=>{class c{constructor(h){}}return c.\u0275fac=function(h){return new(h||c)(ln(xx))},c.\u0275mod=wh({type:c}),c.\u0275inj=ul({}),c})();function GF(c){return"boolean"==typeof c?c:null!=c&&"false"!==c}},3942:(zn,Ot,se)=>{"use strict";se.d(Ot,{Z:()=>pn});var o=se(2090),Ge=se(4859),ue=se(9681),ut=se(1877);class ht{constructor(xt,Mt){this._delegate=xt,this.firebase=Mt,(0,ue._addComponent)(xt,new Ge.wA("app-compat",()=>this,"PUBLIC")),this.container=xt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xt){this._delegate.automaticDataCollectionEnabled=xt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(xt=>{this._delegate.checkDestroyed(),xt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ue.deleteApp)(this._delegate)))}_getService(xt,Mt=ue._DEFAULT_ENTRY_NAME){var yt;this._delegate.checkDestroyed();const Gt=this._delegate.container.getProvider(xt);return!Gt.isInitialized()&&"EXPLICIT"===(null===(yt=Gt.getComponent())||void 0===yt?void 0:yt.instantiationMode)&&Gt.initialize(),Gt.getImmediate({identifier:Mt})}_removeServiceInstance(xt,Mt=ue._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(xt).clearInstance(Mt)}_addComponent(xt){(0,ue._addComponent)(this._delegate,xt)}_addOrOverwriteComponent(xt){(0,ue._addOrOverwriteComponent)(this._delegate,xt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ze=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Te=function dt(){const Pn=function vt(Pn){const xt={},Mt={__esModule:!0,initializeApp:function rn(an,Ct={}){const Fe=ue.initializeApp(an,Ct);if((0,o.r3)(xt,Fe.name))return xt[Fe.name];const it=new Pn(Fe,Mt);return xt[Fe.name]=it,it},app:Gt,registerVersion:ue.registerVersion,setLogLevel:ue.setLogLevel,onLog:ue.onLog,apps:null,SDK_VERSION:ue.SDK_VERSION,INTERNAL:{registerComponent:function $t(an){const Ct=an.name,Fe=Ct.replace("-compat","");if(ue._registerComponent(an)&&"PUBLIC"===an.type){const it=(rt=Gt())=>{if("function"!=typeof rt[Fe])throw Ze.create("invalid-app-argument",{appName:Ct});return rt[Fe]()};void 0!==an.serviceProps&&(0,o.ZB)(it,an.serviceProps),Mt[Fe]=it,Pn.prototype[Fe]=function(...rt){return this._getService.bind(this,Ct).apply(this,an.multipleInstances?rt:[])}}return"PUBLIC"===an.type?Mt[Fe]:null},removeApp:function yt(an){delete xt[an]},useAsService:function In(an,Ct){return"serverAuth"===Ct?null:Ct},modularAPIs:ue}};function Gt(an){if(!(0,o.r3)(xt,an=an||ue._DEFAULT_ENTRY_NAME))throw Ze.create("no-app",{appName:an});return xt[an]}return Mt.default=Mt,Object.defineProperty(Mt,"apps",{get:function Hn(){return Object.keys(xt).map(an=>xt[an])}}),Gt.App=Pn,Mt}(ht);return Pn.INTERNAL=Object.assign(Object.assign({},Pn.INTERNAL),{createFirebaseNamespace:dt,extendNamespace:function xt(Mt){(0,o.ZB)(Pn,Mt)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),Pn}(),ke=new ut.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){ke.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Pn=self.firebase.SDK_VERSION;Pn&&Pn.indexOf("LITE")>=0&&ke.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const pn=Te;!function Vt(Pn){(0,ue.registerVersion)("@firebase/app-compat","0.1.39",Pn)}()},9681:(zn,Ot,se)=>{"use strict";se.r(Ot),se.d(Ot,{FirebaseError:()=>ut.ZR,SDK_VERSION:()=>ku,_DEFAULT_ENTRY_NAME:()=>ni,_addComponent:()=>qr,_addOrOverwriteComponent:()=>cl,_apps:()=>ir,_clearComponents:()=>ul,_components:()=>Qn,_getProvider:()=>$i,_registerComponent:()=>Pa,_removeServiceInstance:()=>Zc,deleteApp:()=>oo,getApp:()=>Ss,getApps:()=>qt,initializeApp:()=>Na,onLog:()=>Dn,registerVersion:()=>va,setLogLevel:()=>Dl});var o=se(5861),Ge=se(4859),ue=se(1877),ut=se(2090),ht=se(8766);class bt{constructor(Ut){this.container=Ut}getPlatformInfoString(){return this.container.getProviders().map(yn=>{if(function Ze(ln){return"VERSION"===ln.getComponent()?.type}(yn)){const ui=yn.getImmediate();return`${ui.library}/${ui.version}`}return null}).filter(yn=>yn).join(" ")}}const vt="@firebase/app",Te=new ue.Yd("@firebase/app"),ni="[DEFAULT]",xo={[vt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ir=new Map,Qn=new Map;function qr(ln,Ut){try{ln.container.addComponent(Ut)}catch(yn){Te.debug(`Component ${Ut.name} failed to register with FirebaseApp ${ln.name}`,yn)}}function cl(ln,Ut){ln.container.addOrOverwriteComponent(Ut)}function Pa(ln){const Ut=ln.name;if(Qn.has(Ut))return Te.debug(`There were multiple attempts to register component ${Ut}.`),!1;Qn.set(Ut,ln);for(const yn of ir.values())qr(yn,ln);return!0}function $i(ln,Ut){const yn=ln.container.getProvider("heartbeat").getImmediate({optional:!0});return yn&&yn.triggerHeartbeat(),ln.container.getProvider(Ut)}function Zc(ln,Ut,yn=ni){$i(ln,Ut).clearInstance(yn)}function ul(){Qn.clear()}const Sr=new ut.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class es{constructor(Ut,yn,ui){this._isDeleted=!1,this._options=Object.assign({},Ut),this._config=Object.assign({},yn),this._name=yn.name,this._automaticDataCollectionEnabled=yn.automaticDataCollectionEnabled,this._container=ui,this.container.addComponent(new Ge.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ut){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ut}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ut){this._isDeleted=Ut}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}}const ku="9.14.0";function Na(ln,Ut={}){let yn=ln;"object"!=typeof Ut&&(Ut={name:Ut});const ui=Object.assign({name:ni,automaticDataCollectionEnabled:!1},Ut),di=ui.name;if("string"!=typeof di||!di)throw Sr.create("bad-app-name",{appName:String(di)});if(yn||(yn=(0,ut.aH)()),!yn)throw Sr.create("no-options");const Pi=ir.get(di);if(Pi){if((0,ut.vZ)(yn,Pi.options)&&(0,ut.vZ)(ui,Pi.config))return Pi;throw Sr.create("duplicate-app",{appName:di})}const De=new Ge.H0(di);for(const Ve of Qn.values())De.addComponent(Ve);const xe=new es(yn,ui,De);return ir.set(di,xe),xe}function Ss(ln=ni){const Ut=ir.get(ln);if(!Ut&&ln===ni)return Na();if(!Ut)throw Sr.create("no-app",{appName:ln});return Ut}function qt(){return Array.from(ir.values())}function oo(ln){return rr.apply(this,arguments)}function rr(){return(rr=(0,o.Z)(function*(ln){const Ut=ln.name;ir.has(Ut)&&(ir.delete(Ut),yield Promise.all(ln.container.getProviders().map(yn=>yn.delete())),ln.isDeleted=!0)})).apply(this,arguments)}function va(ln,Ut,yn){var ui;let di=null!==(ui=xo[ln])&&void 0!==ui?ui:ln;yn&&(di+=`-${yn}`);const Pi=di.match(/\s|\//),De=Ut.match(/\s|\//);if(Pi||De){const xe=[`Unable to register library "${di}" with version "${Ut}":`];return Pi&&xe.push(`library name "${di}" contains illegal characters (whitespace or "/")`),Pi&&De&&xe.push("and"),De&&xe.push(`version name "${Ut}" contains illegal characters (whitespace or "/")`),void Te.warn(xe.join(" "))}Pa(new Ge.wA(`${di}-version`,()=>({library:di,version:Ut}),"VERSION"))}function Dn(ln,Ut){if(null!==ln&&"function"!=typeof ln)throw Sr.create("invalid-log-argument");(0,ue.Am)(ln,Ut)}function Dl(ln){(0,ue.Ub)(ln)}const ao="firebase-heartbeat-store";let ql=null;function yi(){return ql||(ql=(0,ht.X3)("firebase-heartbeat-database",1,{upgrade:(ln,Ut)=>{0===Ut&&ln.createObjectStore(ao)}}).catch(ln=>{throw Sr.create("idb-open",{originalErrorMessage:ln.message})})),ql}function ii(){return(ii=(0,o.Z)(function*(ln){var Ut;try{return(yield yi()).transaction(ao).objectStore(ao).get(Kr(ln))}catch(yn){if(yn instanceof ut.ZR)Te.warn(yn.message);else{const ui=Sr.create("idb-get",{originalErrorMessage:null===(Ut=yn)||void 0===Ut?void 0:Ut.message});Te.warn(ui.message)}}})).apply(this,arguments)}function No(ln,Ut){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,o.Z)(function*(ln,Ut){var yn;try{const di=(yield yi()).transaction(ao,"readwrite");return yield di.objectStore(ao).put(Ut,Kr(ln)),di.done}catch(ui){if(ui instanceof ut.ZR)Te.warn(ui.message);else{const di=Sr.create("idb-set",{originalErrorMessage:null===(yn=ui)||void 0===yn?void 0:yn.message});Te.warn(di.message)}}})).apply(this,arguments)}function Kr(ln){return`${ln.name}!${ln.options.appId}`}class gs{constructor(Ut){this.container=Ut,this._heartbeatsCache=null;const yn=this.container.getProvider("app").getImmediate();this._storage=new zi(yn),this._heartbeatsCachePromise=this._storage.read().then(ui=>(this._heartbeatsCache=ui,ui))}triggerHeartbeat(){var Ut=this;return(0,o.Z)(function*(){const ui=Ut.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),di=fr();if(null===Ut._heartbeatsCache&&(Ut._heartbeatsCache=yield Ut._heartbeatsCachePromise),Ut._heartbeatsCache.lastSentHeartbeatDate!==di&&!Ut._heartbeatsCache.heartbeats.some(Pi=>Pi.date===di))return Ut._heartbeatsCache.heartbeats.push({date:di,agent:ui}),Ut._heartbeatsCache.heartbeats=Ut._heartbeatsCache.heartbeats.filter(Pi=>{const De=new Date(Pi.date).valueOf();return Date.now()-De<=2592e6}),Ut._storage.overwrite(Ut._heartbeatsCache)})()}getHeartbeatsHeader(){var Ut=this;return(0,o.Z)(function*(){if(null===Ut._heartbeatsCache&&(yield Ut._heartbeatsCachePromise),null===Ut._heartbeatsCache||0===Ut._heartbeatsCache.heartbeats.length)return"";const yn=fr(),{heartbeatsToSend:ui,unsentEntries:di}=function xc(ln,Ut=1024){const yn=[];let ui=ln.slice();for(const di of ln){const Pi=yn.find(De=>De.agent===di.agent);if(Pi){if(Pi.dates.push(di.date),ts(yn)>Ut){Pi.dates.pop();break}}else if(yn.push({agent:di.agent,dates:[di.date]}),ts(yn)>Ut){yn.pop();break}ui=ui.slice(1)}return{heartbeatsToSend:yn,unsentEntries:ui}}(Ut._heartbeatsCache.heartbeats),Pi=(0,ut.L)(JSON.stringify({version:2,heartbeats:ui}));return Ut._heartbeatsCache.lastSentHeartbeatDate=yn,di.length>0?(Ut._heartbeatsCache.heartbeats=di,yield Ut._storage.overwrite(Ut._heartbeatsCache)):(Ut._heartbeatsCache.heartbeats=[],Ut._storage.overwrite(Ut._heartbeatsCache)),Pi})()}}function fr(){return(new Date).toISOString().substring(0,10)}class zi{constructor(Ut){this.app=Ut,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,ut.hl)()&&(0,ut.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ut=this;return(0,o.Z)(function*(){return(yield Ut._canUseIndexedDBPromise)&&(yield function Jn(ln){return ii.apply(this,arguments)}(Ut.app))||{heartbeats:[]}})()}overwrite(Ut){var yn=this;return(0,o.Z)(function*(){var ui;if(yield yn._canUseIndexedDBPromise){const Pi=yield yn.read();return No(yn.app,{lastSentHeartbeatDate:null!==(ui=Ut.lastSentHeartbeatDate)&&void 0!==ui?ui:Pi.lastSentHeartbeatDate,heartbeats:Ut.heartbeats})}})()}add(Ut){var yn=this;return(0,o.Z)(function*(){var ui;if(yield yn._canUseIndexedDBPromise){const Pi=yield yn.read();return No(yn.app,{lastSentHeartbeatDate:null!==(ui=Ut.lastSentHeartbeatDate)&&void 0!==ui?ui:Pi.lastSentHeartbeatDate,heartbeats:[...Pi.heartbeats,...Ut.heartbeats]})}})()}}function ts(ln){return(0,ut.L)(JSON.stringify({version:2,heartbeats:ln})).length}!function wa(ln){Pa(new Ge.wA("platform-logger",Ut=>new bt(Ut),"PRIVATE")),Pa(new Ge.wA("heartbeat",Ut=>new gs(Ut),"PRIVATE")),va(vt,"0.8.4",ln),va(vt,"0.8.4","esm2017"),va("fire-js","")}("")},4859:(zn,Ot,se)=>{"use strict";se.d(Ot,{H0:()=>vt,wA:()=>ue,zt:()=>ht});var o=se(5861),Ge=se(2090);class ue{constructor(Te,ke,Ke){this.name=Te,this.instanceFactory=ke,this.type=Ke,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Te){return this.instantiationMode=Te,this}setMultipleInstances(Te){return this.multipleInstances=Te,this}setServiceProps(Te){return this.serviceProps=Te,this}setInstanceCreatedCallback(Te){return this.onInstanceCreated=Te,this}}const ut="[DEFAULT]";class ht{constructor(Te,ke){this.name=Te,this.container=ke,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Te){const ke=this.normalizeInstanceIdentifier(Te);if(!this.instancesDeferred.has(ke)){const Ke=new Ge.BH;if(this.instancesDeferred.set(ke,Ke),this.isInitialized(ke)||this.shouldAutoInitialize())try{const on=this.getOrInitializeService({instanceIdentifier:ke});on&&Ke.resolve(on)}catch{}}return this.instancesDeferred.get(ke).promise}getImmediate(Te){var ke;const Ke=this.normalizeInstanceIdentifier(Te?.identifier),on=null!==(ke=Te?.optional)&&void 0!==ke&&ke;if(!this.isInitialized(Ke)&&!this.shouldAutoInitialize()){if(on)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ke})}catch(Vt){if(on)return null;throw Vt}}getComponent(){return this.component}setComponent(Te){if(Te.name!==this.name)throw Error(`Mismatching Component ${Te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Te,this.shouldAutoInitialize()){if(function Ze(dt){return"EAGER"===dt.instantiationMode}(Te))try{this.getOrInitializeService({instanceIdentifier:ut})}catch{}for(const[ke,Ke]of this.instancesDeferred.entries()){const on=this.normalizeInstanceIdentifier(ke);try{const Vt=this.getOrInitializeService({instanceIdentifier:on});Ke.resolve(Vt)}catch{}}}}clearInstance(Te=ut){this.instancesDeferred.delete(Te),this.instancesOptions.delete(Te),this.instances.delete(Te)}delete(){var Te=this;return(0,o.Z)(function*(){const ke=Array.from(Te.instances.values());yield Promise.all([...ke.filter(Ke=>"INTERNAL"in Ke).map(Ke=>Ke.INTERNAL.delete()),...ke.filter(Ke=>"_delete"in Ke).map(Ke=>Ke._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Te=ut){return this.instances.has(Te)}getOptions(Te=ut){return this.instancesOptions.get(Te)||{}}initialize(Te={}){const{options:ke={}}=Te,Ke=this.normalizeInstanceIdentifier(Te.instanceIdentifier);if(this.isInitialized(Ke))throw Error(`${this.name}(${Ke}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const on=this.getOrInitializeService({instanceIdentifier:Ke,options:ke});for(const[Vt,pn]of this.instancesDeferred.entries())Ke===this.normalizeInstanceIdentifier(Vt)&&pn.resolve(on);return on}onInit(Te,ke){var Ke;const on=this.normalizeInstanceIdentifier(ke),Vt=null!==(Ke=this.onInitCallbacks.get(on))&&void 0!==Ke?Ke:new Set;Vt.add(Te),this.onInitCallbacks.set(on,Vt);const pn=this.instances.get(on);return pn&&Te(pn,on),()=>{Vt.delete(Te)}}invokeOnInitCallbacks(Te,ke){const Ke=this.onInitCallbacks.get(ke);if(Ke)for(const on of Ke)try{on(Te,ke)}catch{}}getOrInitializeService({instanceIdentifier:Te,options:ke={}}){let Ke=this.instances.get(Te);if(!Ke&&this.component&&(Ke=this.component.instanceFactory(this.container,{instanceIdentifier:(dt=Te,dt===ut?void 0:dt),options:ke}),this.instances.set(Te,Ke),this.instancesOptions.set(Te,ke),this.invokeOnInitCallbacks(Ke,Te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Te,Ke)}catch{}var dt;return Ke||null}normalizeInstanceIdentifier(Te=ut){return this.component?this.component.multipleInstances?Te:ut:Te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class vt{constructor(Te){this.name=Te,this.providers=new Map}addComponent(Te){const ke=this.getProvider(Te.name);if(ke.isComponentSet())throw new Error(`Component ${Te.name} has already been registered with ${this.name}`);ke.setComponent(Te)}addOrOverwriteComponent(Te){this.getProvider(Te.name).isComponentSet()&&this.providers.delete(Te.name),this.addComponent(Te)}getProvider(Te){if(this.providers.has(Te))return this.providers.get(Te);const ke=new ht(Te,this);return this.providers.set(Te,ke),ke}getProviders(){return Array.from(this.providers.values())}}},1877:(zn,Ot,se)=>{"use strict";se.d(Ot,{Am:()=>dt,Ub:()=>vt,Yd:()=>Ze,in:()=>Ge});const o=[];var Ge=(()=>{return(Te=Ge||(Ge={}))[Te.DEBUG=0]="DEBUG",Te[Te.VERBOSE=1]="VERBOSE",Te[Te.INFO=2]="INFO",Te[Te.WARN=3]="WARN",Te[Te.ERROR=4]="ERROR",Te[Te.SILENT=5]="SILENT",Ge;var Te})();const ue={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},ut=Ge.INFO,ht={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},bt=(Te,ke,...Ke)=>{if(ke<Te.logLevel)return;const on=(new Date).toISOString(),Vt=ht[ke];if(!Vt)throw new Error(`Attempted to log a message with an invalid logType (value: ${ke})`);console[Vt](`[${on}]  ${Te.name}:`,...Ke)};class Ze{constructor(ke){this.name=ke,this._logLevel=ut,this._logHandler=bt,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(ke){if(!(ke in Ge))throw new TypeError(`Invalid value "${ke}" assigned to \`logLevel\``);this._logLevel=ke}setLogLevel(ke){this._logLevel="string"==typeof ke?ue[ke]:ke}get logHandler(){return this._logHandler}set logHandler(ke){if("function"!=typeof ke)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ke}get userLogHandler(){return this._userLogHandler}set userLogHandler(ke){this._userLogHandler=ke}debug(...ke){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...ke),this._logHandler(this,Ge.DEBUG,...ke)}log(...ke){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...ke),this._logHandler(this,Ge.VERBOSE,...ke)}info(...ke){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...ke),this._logHandler(this,Ge.INFO,...ke)}warn(...ke){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...ke),this._logHandler(this,Ge.WARN,...ke)}error(...ke){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...ke),this._logHandler(this,Ge.ERROR,...ke)}}function vt(Te){o.forEach(ke=>{ke.setLogLevel(Te)})}function dt(Te,ke){for(const Ke of o){let on=null;ke&&ke.level&&(on=ue[ke.level]),Ke.userLogHandler=null===Te?null:(Vt,pn,...Pn)=>{const xt=Pn.map(Mt=>{if(null==Mt)return null;if("string"==typeof Mt)return Mt;if("number"==typeof Mt||"boolean"==typeof Mt)return Mt.toString();if(Mt instanceof Error)return Mt.message;try{return JSON.stringify(Mt)}catch{return null}}).filter(Mt=>Mt).join(" ");pn>=(on??Vt.logLevel)&&Te({level:Ge[pn].toLowerCase(),message:xt,args:Pn,type:Vt.name})}}}},8766:(zn,Ot,se)=>{"use strict";se.d(Ot,{Lj:()=>rn,X3:()=>Gt});var o=se(5861);let ue,ut;const Ze=new WeakMap,vt=new WeakMap,dt=new WeakMap,Te=new WeakMap,ke=new WeakMap;let Vt={get(Ct,Fe,it){if(Ct instanceof IDBTransaction){if("done"===Fe)return vt.get(Ct);if("objectStoreNames"===Fe)return Ct.objectStoreNames||dt.get(Ct);if("store"===Fe)return it.objectStoreNames[1]?void 0:it.objectStore(it.objectStoreNames[0])}return Mt(Ct[Fe])},set:(Ct,Fe,it)=>(Ct[Fe]=it,!0),has:(Ct,Fe)=>Ct instanceof IDBTransaction&&("done"===Fe||"store"===Fe)||Fe in Ct};function xt(Ct){return"function"==typeof Ct?function Pn(Ct){return Ct!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function bt(){return ut||(ut=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ct)?function(...Fe){return Ct.apply(yt(this),Fe),Mt(Ze.get(this))}:function(...Fe){return Mt(Ct.apply(yt(this),Fe))}:function(Fe,...it){const rt=Ct.call(yt(this),Fe,...it);return dt.set(rt,Fe.sort?Fe.sort():[Fe]),Mt(rt)}}(Ct):(Ct instanceof IDBTransaction&&function on(Ct){if(vt.has(Ct))return;const Fe=new Promise((it,rt)=>{const Nt=()=>{Ct.removeEventListener("complete",Et),Ct.removeEventListener("error",Jt),Ct.removeEventListener("abort",Jt)},Et=()=>{it(),Nt()},Jt=()=>{rt(Ct.error||new DOMException("AbortError","AbortError")),Nt()};Ct.addEventListener("complete",Et),Ct.addEventListener("error",Jt),Ct.addEventListener("abort",Jt)});vt.set(Ct,Fe)}(Ct),((Ct,Fe)=>Fe.some(it=>Ct instanceof it))(Ct,function ht(){return ue||(ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ct,Vt):Ct)}function Mt(Ct){if(Ct instanceof IDBRequest)return function Ke(Ct){const Fe=new Promise((it,rt)=>{const Nt=()=>{Ct.removeEventListener("success",Et),Ct.removeEventListener("error",Jt)},Et=()=>{it(Mt(Ct.result)),Nt()},Jt=()=>{rt(Ct.error),Nt()};Ct.addEventListener("success",Et),Ct.addEventListener("error",Jt)});return Fe.then(it=>{it instanceof IDBCursor&&Ze.set(it,Ct)}).catch(()=>{}),ke.set(Fe,Ct),Fe}(Ct);if(Te.has(Ct))return Te.get(Ct);const Fe=xt(Ct);return Fe!==Ct&&(Te.set(Ct,Fe),ke.set(Fe,Ct)),Fe}const yt=Ct=>ke.get(Ct);function Gt(Ct,Fe,{blocked:it,upgrade:rt,blocking:Nt,terminated:Et}={}){const Jt=indexedDB.open(Ct,Fe),li=Mt(Jt);return rt&&Jt.addEventListener("upgradeneeded",ji=>{rt(Mt(Jt.result),ji.oldVersion,ji.newVersion,Mt(Jt.transaction))}),it&&Jt.addEventListener("blocked",()=>it()),li.then(ji=>{Et&&ji.addEventListener("close",()=>Et()),Nt&&ji.addEventListener("versionchange",()=>Nt())}).catch(()=>{}),li}function rn(Ct,{blocked:Fe}={}){const it=indexedDB.deleteDatabase(Ct);return Fe&&it.addEventListener("blocked",()=>Fe()),Mt(it).then(()=>{})}const Hn=["get","getKey","getAll","getAllKeys","count"],$t=["put","add","delete","clear"],In=new Map;function an(Ct,Fe){if(!(Ct instanceof IDBDatabase)||Fe in Ct||"string"!=typeof Fe)return;if(In.get(Fe))return In.get(Fe);const it=Fe.replace(/FromIndex$/,""),rt=Fe!==it,Nt=$t.includes(it);if(!(it in(rt?IDBIndex:IDBObjectStore).prototype)||!Nt&&!Hn.includes(it))return;const Et=function(){var Jt=(0,o.Z)(function*(li,...ji){const xs=this.transaction(li,Nt?"readwrite":"readonly");let ni=xs.store;return rt&&(ni=ni.index(ji.shift())),(yield Promise.all([ni[it](...ji),Nt&&xs.done]))[0]});return function(ji){return Jt.apply(this,arguments)}}();return In.set(Fe,Et),Et}!function pn(Ct){Vt=Ct(Vt)}(Ct=>({...Ct,get:(Fe,it,rt)=>an(Fe,it)||Ct.get(Fe,it,rt),has:(Fe,it)=>!!an(Fe,it)||Ct.has(Fe,it)}))},5861:(zn,Ot,se)=>{"use strict";function o(ue,ut,ht,bt,Ze,vt,dt){try{var Te=ue[vt](dt),ke=Te.value}catch(Ke){return void ht(Ke)}Te.done?ut(ke):Promise.resolve(ke).then(bt,Ze)}function Ge(ue){return function(){var ut=this,ht=arguments;return new Promise(function(bt,Ze){var vt=ue.apply(ut,ht);function dt(ke){o(vt,bt,Ze,dt,Te,"next",ke)}function Te(ke){o(vt,bt,Ze,dt,Te,"throw",ke)}dt(void 0)})}}se.d(Ot,{Z:()=>Ge})},7986:zn=>{"use strict";zn.exports=JSON.parse('{"version":"1.4.4","develop":false}')}},zn=>{zn(zn.s=5083)}]);